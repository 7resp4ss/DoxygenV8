<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>V8 Project: /mnt/V8SourceCode/src/maglev/maglev-regalloc.cc Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">V8 Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('maglev-regalloc_8cc_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">maglev-regalloc.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="maglev-regalloc_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright 2022 the V8 project authors. All rights reserved.</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// Use of this source code is governed by a BSD-style license that can be</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// found in the LICENSE file.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160; </div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="maglev-regalloc_8h.html">src/maglev/maglev-regalloc.h</a>&quot;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160; </div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;sstream&gt;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;type_traits&gt;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160; </div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="bits_8h.html">src/base/bits.h</a>&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="src_2base_2logging_8h.html">src/base/logging.h</a>&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="machine-type_8h.html">src/codegen/machine-type.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="register_8h.html">src/codegen/register.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="reglist_8h.html">src/codegen/reglist.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="instruction_8h.html">src/compiler/backend/instruction.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="parked-scope_8h.html">src/heap/parked-scope.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="maglev-code-gen-state_8h.html">src/maglev/maglev-code-gen-state.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="maglev-compilation-info_8h.html">src/maglev/maglev-compilation-info.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="maglev-compilation-unit_8h.html">src/maglev/maglev-compilation-unit.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="maglev-graph-labeller_8h.html">src/maglev/maglev-graph-labeller.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="maglev-graph-printer_8h.html">src/maglev/maglev-graph-printer.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="maglev-graph-processor_8h.html">src/maglev/maglev-graph-processor.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="maglev-graph_8h.html">src/maglev/maglev-graph.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="maglev-interpreter-frame-state_8h.html">src/maglev/maglev-interpreter-frame-state.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="maglev-ir-inl_8h.html">src/maglev/maglev-ir-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="maglev-ir_8h.html">src/maglev/maglev-ir.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="maglev-regalloc-data_8h.html">src/maglev/maglev-regalloc-data.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="zone-containers_8h.html">src/zone/zone-containers.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160; </div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#ifdef V8_TARGET_ARCH_ARM</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="register-arm_8h.html">src/codegen/arm/register-arm.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#elif V8_TARGET_ARCH_ARM64</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="register-arm64_8h.html">src/codegen/arm64/register-arm64.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#elif V8_TARGET_ARCH_RISCV64</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="register-riscv_8h.html">src/codegen/riscv/register-riscv.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#elif V8_TARGET_ARCH_X64</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="register-x64_8h.html">src/codegen/x64/register-x64.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#elif V8_TARGET_ARCH_S390X</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="register-s390_8h.html">src/codegen/s390/register-s390.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#error &quot;Maglev does not supported this architecture.&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160; </div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacev8.html">v8</a> {</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">internal</a> {</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160; </div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="keyword">namespace </span>maglev {</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; </div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html">   49</a></span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; </div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#adc4a4e4d34f19a4cb5ebe5a10dfc166d">   51</a></span>&#160;constexpr <a class="code" href="structv8_1_1internal_1_1maglev_1_1RegisterStateFlags.html">RegisterStateFlags</a> <a class="code" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#adc4a4e4d34f19a4cb5ebe5a10dfc166d">initialized_node</a>{<span class="keyword">true</span>, <span class="keyword">false</span>};</div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#a4be9602b1b9cfa13463380f584b81177">   52</a></span>&#160;constexpr <a class="code" href="structv8_1_1internal_1_1maglev_1_1RegisterStateFlags.html">RegisterStateFlags</a> <a class="code" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#a4be9602b1b9cfa13463380f584b81177">initialized_merge</a>{<span class="keyword">true</span>, <span class="keyword">true</span>};</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#aac0154321e91e7a3d0aa93d1fce21a9d">   54</a></span>&#160;<span class="keyword">using</span> <a class="code" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#aac0154321e91e7a3d0aa93d1fce21a9d">BlockReverseIterator</a> = std::vector&lt;BasicBlock&gt;::reverse_iterator;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">// A target is a fallthrough of a control node if its ID is the next ID</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">// after the control node.</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">// TODO(leszeks): Consider using the block iterator instead.</span></div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#a2ad179cd7622d4310864738d221b864f">   60</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#a2ad179cd7622d4310864738d221b864f">IsTargetOfNodeFallthrough</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1ControlNode.html">ControlNode</a>* node, <a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html">BasicBlock</a>* target) {</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <span class="keywordflow">return</span> node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a6f6b3d7f22a0a34aecd6b463a32f4311">id</a>() + 1 == target-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#af7316bf33e97ea4b8126f066cbee173d">first_id</a>();</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;}</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160; </div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#a3de33ad8786d517e279abaefe9866f7b">   64</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ControlNode.html">ControlNode</a>* <a class="code" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#a3de33ad8786d517e279abaefe9866f7b">NearestPostDominatingHole</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1ControlNode.html">ControlNode</a>* node) {</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="comment">// Conditional control nodes don&#39;t cause holes themselves. So, the nearest</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="comment">// post-dominating hole is the conditional control node&#39;s next post-dominating</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="comment">// hole.</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <span class="keywordflow">if</span> (node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a317252af8f98deb2e31a8b5b5aee3c2d">Is</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BranchControlNode.html">BranchControlNode</a>&gt;()) {</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordflow">return</span> node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ControlNode.html#aa94321d01616057a3e546e1b40ecb929">next_post_dominating_hole</a>();</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  }</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="comment">// If the node is a Jump, it may be a hole, but only if it is not a</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="comment">// fallthrough (jump to the immediately next block). Otherwise, it will point</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <span class="comment">// to the nearest post-dominating hole in its own &quot;next&quot; field.</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <span class="keywordflow">if</span> (node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a317252af8f98deb2e31a8b5b5aee3c2d">Is</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1Jump.html">Jump</a>&gt;() || node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a317252af8f98deb2e31a8b5b5aee3c2d">Is</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1CheckpointedJump.html">CheckpointedJump</a>&gt;()) {</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html">BasicBlock</a>* target;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> jmp = node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a6f8a8d39dcebacfd9d44ad02860056bc">TryCast</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1Jump.html">Jump</a>&gt;()) {</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;      target = jmp-&gt;target();</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;      target = node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#ab69dfd83fc1e566e5e431350fb4fe733">Cast</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1CheckpointedJump.html">CheckpointedJump</a>&gt;()-&gt;target();</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    }</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#a2ad179cd7622d4310864738d221b864f">IsTargetOfNodeFallthrough</a>(node, target)) {</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;      <span class="keywordflow">return</span> node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ControlNode.html#aa94321d01616057a3e546e1b40ecb929">next_post_dominating_hole</a>();</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    }</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  }</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="comment">// If the node is a Switch, it can only have a hole if there is no</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="comment">// fallthrough.</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1maglev_1_1Switch.html">Switch</a>* _switch = node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a6f8a8d39dcebacfd9d44ad02860056bc">TryCast</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1Switch.html">Switch</a>&gt;()) {</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keywordflow">if</span> (_switch-&gt;has_fallthrough()) {</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;      <span class="keywordflow">return</span> _switch-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ControlNode.html#aa94321d01616057a3e546e1b40ecb929">next_post_dominating_hole</a>();</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    }</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  }</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="keywordflow">return</span> node;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;}</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160; </div>
<div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#ad31ca762e693af3dab3b0c27b155d675">   98</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ControlNode.html">ControlNode</a>* <a class="code" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#a2a3f6842356c01d8195564f3787e3aac">HighestPostDominatingHole</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1ControlNode.html">ControlNode</a>* first,</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                                       <a class="code" href="classv8_1_1internal_1_1maglev_1_1ControlNode.html">ControlNode</a>* second) {</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="comment">// Either find the merge-point of both branches, or the highest reachable</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <span class="comment">// control-node of the longest branch after the last node of the shortest</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="comment">// branch.</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160; </div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="comment">// As long as there&#39;s no merge-point.</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <span class="keywordflow">while</span> (first != second) {</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="comment">// Walk the highest branch to find where it goes.</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordflow">if</span> (first-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a6f6b3d7f22a0a34aecd6b463a32f4311">id</a>() &gt; second-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a6f6b3d7f22a0a34aecd6b463a32f4311">id</a>()) std::swap(first, second);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="comment">// If the first branch terminates or jumps back, we&#39;ve found highest</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="comment">// reachable control-node of the longest branch (the second control</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="comment">// node).</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordflow">if</span> (first-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a317252af8f98deb2e31a8b5b5aee3c2d">Is</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1TerminalControlNode.html">TerminalControlNode</a>&gt;() || first-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a317252af8f98deb2e31a8b5b5aee3c2d">Is</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1JumpLoop.html">JumpLoop</a>&gt;()) {</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;      <span class="keywordflow">return</span> second;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    }</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160; </div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="comment">// Continue one step along the highest branch. This may cross over the</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="comment">// lowest branch in case it returns or loops. If labelled blocks are</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="comment">// involved such swapping of which branch is the highest branch can</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="comment">// occur multiple times until a return/jumploop/merge is discovered.</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    first = first-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ControlNode.html#aa94321d01616057a3e546e1b40ecb929">next_post_dominating_hole</a>();</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  }</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160; </div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="comment">// Once the branches merged, we&#39;ve found the gap-chain that&#39;s relevant</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="comment">// for the control node.</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <span class="keywordflow">return</span> first;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;}</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160; </div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="keyword">template</span> &lt;<span class="keywordtype">size_t</span> kSize&gt;</div>
<div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#a2a3f6842356c01d8195564f3787e3aac">  129</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ControlNode.html">ControlNode</a>* <a class="code" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#a2a3f6842356c01d8195564f3787e3aac">HighestPostDominatingHole</a>(</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <a class="code" href="classv8_1_1base_1_1SmallVector.html">base::SmallVector&lt;ControlNode*, kSize&gt;</a>&amp; holes) {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <span class="comment">// Sort them from highest to shortest.</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <a class="code" href="namespacev8_1_1base.html#ae8575343c68d7ad91cf7aaf24cd6643f">std::sort</a>(holes.<a class="code" href="classv8_1_1base_1_1SmallVector.html#a2f92240eb4f14cfa46552a2b35cc4e70">begin</a>(), holes.<a class="code" href="classv8_1_1base_1_1SmallVector.html#a61255d85c4f174e5705b3f725214f121">end</a>(),</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            [](<a class="code" href="classv8_1_1internal_1_1maglev_1_1ControlNode.html">ControlNode</a>* first, <a class="code" href="classv8_1_1internal_1_1maglev_1_1ControlNode.html">ControlNode</a>* second) {</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;              return first-&gt;id() &gt; second-&gt;id();</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            });</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#afd957f297df7e9ee36c46185e961485f">DCHECK_GT</a>(holes.<a class="code" href="classv8_1_1base_1_1SmallVector.html#a376b32218e50b6efec68f577c009885d">size</a>(), 1);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="comment">// Find the highest post dominating hole.</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1ControlNode.html">ControlNode</a>* post_dominating_hole = holes.<a class="code" href="classv8_1_1base_1_1SmallVector.html#a8cee685b497ca2194cdccaefbfa2e93f">back</a>();</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  holes.<a class="code" href="classv8_1_1base_1_1SmallVector.html#a27626f981567cf140233e93750cee67f">pop_back</a>();</div>
<div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#a787483497baee9550f605aab8057de2c">  140</a></span>&#160;  <span class="keywordflow">while</span> (holes.<a class="code" href="classv8_1_1base_1_1SmallVector.html#a376b32218e50b6efec68f577c009885d">size</a>() &gt; 0) {</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1ControlNode.html">ControlNode</a>* next_hole = holes.<a class="code" href="classv8_1_1base_1_1SmallVector.html#a8cee685b497ca2194cdccaefbfa2e93f">back</a>();</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    holes.<a class="code" href="classv8_1_1base_1_1SmallVector.html#a27626f981567cf140233e93750cee67f">pop_back</a>();</div>
<div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#a84ab121328495f20bd4c676c06fb5495">  143</a></span>&#160;    post_dominating_hole =</div>
<div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#a0109713338a9e370d1aa577a40a64b55">  144</a></span>&#160;        <a class="code" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#a2a3f6842356c01d8195564f3787e3aac">HighestPostDominatingHole</a>(post_dominating_hole, next_hole);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  }</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="keywordflow">return</span> post_dominating_hole;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;}</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160; </div>
<div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#a1734b81a6e299f173861ed10ff9eef67">  149</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#a1734b81a6e299f173861ed10ff9eef67">IsLiveAtTarget</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* node, <a class="code" href="classv8_1_1internal_1_1maglev_1_1ControlNode.html">ControlNode</a>* source, <a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html">BasicBlock</a>* target) {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(node);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a89614aabc889de73bc6c69836dfcb8d3">has_no_more_uses</a>());</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160; </div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="comment">// If we&#39;re looping, a value can only be live if it was live before the loop.</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="keywordflow">if</span> (target-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a267c7bf68877b593763562958b199b06">control_node</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a6f6b3d7f22a0a34aecd6b463a32f4311">id</a>() &lt;= source-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a6f6b3d7f22a0a34aecd6b463a32f4311">id</a>()) {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="comment">// Gap moves may already be inserted in the target, so skip over those.</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordflow">return</span> node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a6f6b3d7f22a0a34aecd6b463a32f4311">id</a>() &lt; target-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a9dfd78240a027f6b3d1be15a32a15478">FirstNonGapMoveId</a>();</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  }</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160; </div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="comment">// Drop all values on resumable loop headers.</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="keywordflow">if</span> (target-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a701a0b56cb0beded425efcd838d49cc3">is_loop</a>() &amp;&amp; target-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a3eaa2f458b36bb37b803206d11aa6ef0">state</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1MergePointInterpreterFrameState.html#a7b9cd6ec6b852b01add3dd6560738744">is_resumable_loop</a>()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160; </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="comment">// TODO(verwaest): This should be true but isn&#39;t because we don&#39;t yet</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="comment">// eliminate dead code.</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="comment">// DCHECK_GT(node-&gt;next_use, source-&gt;id());</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="comment">// TODO(verwaest): Since we don&#39;t support deopt yet we can only deal with</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="comment">// direct branches. Add support for holes.</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="keywordflow">return</span> node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a31881ef84c306859d771a5c12d67cf6f">live_range</a>().<a class="code" href="structv8_1_1internal_1_1maglev_1_1ValueNode_1_1LiveRange.html#a987af3d68b08acc2997a52b9aaf9f1cd">end</a> &gt;= target-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#af7316bf33e97ea4b8126f066cbee173d">first_id</a>();</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;}</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160; </div>
<div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#aae79f305fa7b396dee1a5968db293af2">  170</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#aae79f305fa7b396dee1a5968db293af2">IsDeadNodeToSkip</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1Node.html">Node</a>* node) {</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="keywordflow">if</span> (!node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a317252af8f98deb2e31a8b5b5aee3c2d">Is</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>&gt;()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#ab69dfd83fc1e566e5e431350fb4fe733">Cast</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>&gt;();</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>-&gt;has_no_more_uses() &amp;&amp;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;         !<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>-&gt;properties().is_required_when_unused();</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;}</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160; </div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160; </div>
<div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ab3a4be23708e5cb031d6dd05867368de">  179</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ab3a4be23708e5cb031d6dd05867368de">StraightForwardRegisterAllocator::ApplyPatches</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html">BasicBlock</a>* block) {</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <span class="comment">// TODO(verwaest): Perhaps don&#39;t actually merge these in but let the code</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="comment">// generator pick up the gap moves from a separate list.</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <span class="keywordtype">size_t</span> diff = <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a7fbb5ce0a68326f9f011be5a1ee49a97">patches_</a>.size();</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <span class="keywordflow">if</span> (diff == 0) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  block-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a664760d52a8f741c778205c63661fcb1">nodes</a>().<a class="code" href="classv8_1_1internal_1_1ZoneVector.html#a409e56e9c9b699c6698c149114ef94eb">resize</a>(block-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a664760d52a8f741c778205c63661fcb1">nodes</a>().<a class="code" href="classv8_1_1internal_1_1ZoneVector.html#a60320a4772cc860e5b2b858c0ce7f8ad">size</a>() + diff);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="keyword">auto</span> patches_it = <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a7fbb5ce0a68326f9f011be5a1ee49a97">patches_</a>.end() - 1;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> node_it = block-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a664760d52a8f741c778205c63661fcb1">nodes</a>().<a class="code" href="classv8_1_1internal_1_1ZoneVector.html#aafcc5efeba17a85b82dc9ad4d2547442">end</a>() - 1 - diff;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;       node_it &gt;= block-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a664760d52a8f741c778205c63661fcb1">nodes</a>().<a class="code" href="classv8_1_1internal_1_1ZoneVector.html#adc2a3ab5562b5a2ca9201af92225ee47">begin</a>(); --node_it) {</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    *(node_it + diff) = *node_it;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keywordflow">for</span> (; patches_it-&gt;diff == (node_it - block-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a664760d52a8f741c778205c63661fcb1">nodes</a>().<a class="code" href="classv8_1_1internal_1_1ZoneVector.html#adc2a3ab5562b5a2ca9201af92225ee47">begin</a>());</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;         --patches_it) {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      --diff;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      *(node_it + diff) = patches_it-&gt;new_node;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#aa583abbe977ca41df2196a083796b84a">if</a> (diff == 0) {</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a7fbb5ce0a68326f9f011be5a1ee49a97">patches_</a>.resize(0);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      }</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    }</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  }</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;}</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160; </div>
<div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a26cd581118765612cdd701cb3af08789">  202</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a26cd581118765612cdd701cb3af08789">StraightForwardRegisterAllocator::StraightForwardRegisterAllocator</a>(</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1MaglevCompilationInfo.html">MaglevCompilationInfo</a>* compilation_info, <a class="code" href="classv8_1_1internal_1_1maglev_1_1Graph.html">Graph</a>* <a class="code" href="flag-definitions_8h.html#a06b2b7e5d08192bb493bba69cb19a7a8">graph</a>,</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <a class="code" href="structv8_1_1internal_1_1maglev_1_1RegallocInfo.html">RegallocInfo</a>* regalloc_info)</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    : compilation_info_(compilation_info),</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      graph_(<a class="code" href="flag-definitions_8h.html#a06b2b7e5d08192bb493bba69cb19a7a8">graph</a>),</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;      patches_(compilation_info_-&gt;zone()),</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;      regalloc_info_(regalloc_info) {</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a5530bb0f32c52bb4eb592d71a77f960b">ComputePostDominatingHoles</a>();</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ac480121182714ec62e9e0219c1fb4aa1">AllocateRegisters</a>();</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  uint32_t tagged_stack_slots = <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ac2b88b62a9fe52e59c0ccc6eb0015eda">tagged_</a>.<a class="code" href="structv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_1_1SpillSlots.html#a232592367d1ac813c5d334bb36a05069">top</a>;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  uint32_t untagged_stack_slots = <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#aa9e586d4d110daacc3300195c05fea21">untagged_</a>.<a class="code" href="structv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_1_1SpillSlots.html#a232592367d1ac813c5d334bb36a05069">top</a>;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ad2c21cc858129e86e2e12a4ff38445ee">graph_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1Graph.html#ad210626def01e6c44938ac3c5c15aae7">is_osr</a>()) {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="comment">// Fix our stack frame to be compatible with the source stack frame of this</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="comment">// OSR transition:</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="comment">// 1) Ensure the section with tagged slots is big enough to receive all</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="comment">//    live OSR-in values.</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> val : <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ad2c21cc858129e86e2e12a4ff38445ee">graph_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1Graph.html#a86a1ceab29366d103da690fb9b8c0b98">osr_values</a>()) {</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      <span class="keywordflow">if</span> (val-&gt;result().operand().IsAllocated() &amp;&amp;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;          val-&gt;stack_slot() &gt;= tagged_stack_slots) {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        tagged_stack_slots = val-&gt;stack_slot() + 1;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      }</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    }</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="comment">// 2) Ensure we never have to shrink stack frames when OSR&#39;ing into Maglev.</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="comment">//    We don&#39;t grow tagged slots or they might end up being uninitialized.</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    uint32_t source_frame_size =</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ad2c21cc858129e86e2e12a4ff38445ee">graph_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1Graph.html#ac80e9f958e81acda9eb5999a3038f35c">min_maglev_stackslots_for_unoptimized_frame_size</a>();</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    uint32_t target_frame_size = tagged_stack_slots + untagged_stack_slots;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keywordflow">if</span> (source_frame_size &gt; target_frame_size) {</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;      untagged_stack_slots += source_frame_size - target_frame_size;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    }</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  }</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="preprocessor">#ifdef V8_TARGET_ARCH_ARM64</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="comment">// Due to alignment constraints, we add one untagged slot if</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <span class="comment">// stack_slots + fixed_slot_count is odd.</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  static_assert(<a class="code" href="classv8_1_1internal_1_1StandardFrameConstants.html#a3bd3575cabe8b50d74dfdd77c278746f">StandardFrameConstants::kFixedSlotCount</a> % 2 == 1);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="keywordflow">if</span> ((tagged_stack_slots + untagged_stack_slots) % 2 == 0) {</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    untagged_stack_slots++;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  }</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_TARGET_ARCH_ARM64</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ad2c21cc858129e86e2e12a4ff38445ee">graph_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1Graph.html#a6e71b23868fd47b93e4257df750d4dc0">set_tagged_stack_slots</a>(tagged_stack_slots);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ad2c21cc858129e86e2e12a4ff38445ee">graph_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1Graph.html#a5578090fbbaaeec20ba07873bc3e7887">set_untagged_stack_slots</a>(untagged_stack_slots);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;}</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160; </div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a7debebfd08736d5fafea33cc32d9dd3b">StraightForwardRegisterAllocator::~StraightForwardRegisterAllocator</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160; </div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment">// Compute, for all forward control nodes (i.e. excluding Return and JumpLoop) a</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">// tree of post-dominating control flow holes.</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment">// Control flow which interrupts linear control flow fallthrough for basic</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment">// blocks is considered to introduce a control flow &quot;hole&quot;.</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment">//                   A──────┐                │</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">//                   │ Jump │                │</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">//                   └──┬───┘                │</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment">//                  {   │  B──────┐          │</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">//     Control flow {   │  │ Jump │          │ Linear control flow</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment">//     hole after A {   │  └─┬────┘          │</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment">//                  {   ▼    ▼ Fallthrough   │</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment">//                     C──────┐              │</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">//                     │Return│              │</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment">//                     └──────┘              ▼</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">// It is interesting, for each such hole, to know what the next hole will be</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment">// that we will unconditionally reach on our way to an exit node. Such</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment">// subsequent holes are in &quot;post-dominators&quot; of the current block.</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment">// As an example, consider the following CFG, with the annotated holes. The</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">// post-dominating hole tree is the transitive closure of the post-dominator</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">// tree, up to nodes which are holes (in this example, A, D, F and H).</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment">//                       CFG               Immediate       Post-dominating</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment">//                                      post-dominators          holes</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment">//                   A──────┐</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment">//                   │ Jump │               A                 A</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment">//                   └──┬───┘               │                 │</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment">//                  {   │  B──────┐         │                 │</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment">//     Control flow {   │  │ Jump │         │   B             │       B</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment">//     hole after A {   │  └─┬────┘         │   │             │       │</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment">//                  {   ▼    ▼              │   │             │       │</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment">//                     C──────┐             │   │             │       │</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment">//                     │Branch│             └►C◄┘             │   C   │</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment">//                     └┬────┬┘               │               │   │   │</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment">//                      ▼    │                │               │   │   │</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="comment">//                   D──────┐│                │               │   │   │</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment">//                   │ Jump ││              D │               │ D │   │</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment">//                   └──┬───┘▼              │ │               │ │ │   │</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment">//                  {   │  E──────┐         │ │               │ │ │   │</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment">//     Control flow {   │  │ Jump │         │ │ E             │ │ │ E │</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment">//     hole after D {   │  └─┬────┘         │ │ │             │ │ │ │ │</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="comment">//                  {   ▼    ▼              │ │ │             │ │ │ │ │</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="comment">//                     F──────┐             │ ▼ │             │ │ ▼ │ │</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="comment">//                     │ Jump │             └►F◄┘             └─┴►F◄┴─┘</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="comment">//                     └─────┬┘               │                   │</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="comment">//                  {        │  G──────┐      │                   │</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment">//     Control flow {        │  │ Jump │      │ G                 │ G</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment">//     hole after F {        │  └─┬────┘      │ │                 │ │</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment">//                  {        ▼    ▼           │ │                 │ │</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="comment">//                          H──────┐          ▼ │                 ▼ │</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment">//                          │Return│          H◄┘                 H◄┘</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment">//                          └──────┘</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment">// Since we only care about forward control, loop jumps are treated the same as</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment">// returns -- they terminate the post-dominating hole chain.</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00306"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a5530bb0f32c52bb4eb592d71a77f960b">  306</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a5530bb0f32c52bb4eb592d71a77f960b">StraightForwardRegisterAllocator::ComputePostDominatingHoles</a>() {</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <span class="comment">// For all blocks, find the list of jumps that jump over code unreachable from</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="comment">// the block. Such a list of jumps terminates in return or jumploop.</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html">BasicBlock</a>* block : <a class="code" href="namespacev8_1_1base.html#a7364bf7dcb822d07f7380aeff8d2a77b">base::Reversed</a>(*<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ad2c21cc858129e86e2e12a4ff38445ee">graph_</a>)) {</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1ControlNode.html">ControlNode</a>* control = block-&gt;control_node();</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> unconditional_control =</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;            control-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a6f8a8d39dcebacfd9d44ad02860056bc">TryCast</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1UnconditionalControlNode.html">UnconditionalControlNode</a>&gt;()) {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      <span class="comment">// If the current control node is a jump, prepend it to the list of jumps</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      <span class="comment">// at the target.</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      control-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ControlNode.html#a94bb73c95ced12ef7a40faacd18e06b9">set_next_post_dominating_hole</a>(<a class="code" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#a3de33ad8786d517e279abaefe9866f7b">NearestPostDominatingHole</a>(</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;          unconditional_control-&gt;target()-&gt;control_node()));</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> branch = control-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a6f8a8d39dcebacfd9d44ad02860056bc">TryCast</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BranchControlNode.html">BranchControlNode</a>&gt;()) {</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      <a class="code" href="classv8_1_1internal_1_1maglev_1_1ControlNode.html">ControlNode</a>* first =</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;          <a class="code" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#a3de33ad8786d517e279abaefe9866f7b">NearestPostDominatingHole</a>(branch-&gt;if_true()-&gt;control_node());</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;      <a class="code" href="classv8_1_1internal_1_1maglev_1_1ControlNode.html">ControlNode</a>* second =</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;          <a class="code" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#a3de33ad8786d517e279abaefe9866f7b">NearestPostDominatingHole</a>(branch-&gt;if_false()-&gt;control_node());</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      control-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ControlNode.html#a94bb73c95ced12ef7a40faacd18e06b9">set_next_post_dominating_hole</a>(</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;          <a class="code" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#a2a3f6842356c01d8195564f3787e3aac">HighestPostDominatingHole</a>(first, second));</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> switch_node = control-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a6f8a8d39dcebacfd9d44ad02860056bc">TryCast</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1Switch.html">Switch</a>&gt;()) {</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      <span class="keywordtype">int</span> num_targets =</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;          switch_node-&gt;size() + (switch_node-&gt;has_fallthrough() ? 1 : 0);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;      <span class="keywordflow">if</span> (num_targets == 1) {</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        <span class="comment">// If we have a single target, the next post dominating hole</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        <span class="comment">// is the same one as the target.</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!switch_node-&gt;has_fallthrough());</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        control-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ControlNode.html#a94bb73c95ced12ef7a40faacd18e06b9">set_next_post_dominating_hole</a>(<a class="code" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#a3de33ad8786d517e279abaefe9866f7b">NearestPostDominatingHole</a>(</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;            switch_node-&gt;targets()[0].block_ptr()-&gt;control_node()));</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      }</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;      <span class="comment">// Calculate the post dominating hole for each target.</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;      <a class="code" href="classv8_1_1base_1_1SmallVector.html">base::SmallVector&lt;ControlNode*, 16&gt;</a> holes(num_targets);</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; switch_node-&gt;size(); <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        holes[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = <a class="code" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#a3de33ad8786d517e279abaefe9866f7b">NearestPostDominatingHole</a>(</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;            switch_node-&gt;targets()[<a class="code" href="namespacev8_1_1internal.html">i</a>].block_ptr()-&gt;control_node());</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      }</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      <span class="keywordflow">if</span> (switch_node-&gt;has_fallthrough()) {</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        holes[switch_node-&gt;size()] = <a class="code" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#a3de33ad8786d517e279abaefe9866f7b">NearestPostDominatingHole</a>(</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;            switch_node-&gt;fallthrough()-&gt;control_node());</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;      }</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      control-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ControlNode.html#a94bb73c95ced12ef7a40faacd18e06b9">set_next_post_dominating_hole</a>(<a class="code" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#a2a3f6842356c01d8195564f3787e3aac">HighestPostDominatingHole</a>(holes));</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    }</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  }</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;}</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160; </div>
<div class="line"><a name="l00350"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a009a68b04f473b088b7797342dbd4fcd">  350</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a009a68b04f473b088b7797342dbd4fcd">StraightForwardRegisterAllocator::PrintLiveRegs</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  <span class="keywordtype">bool</span> first = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  <span class="keyword">auto</span> print = [&amp;](<span class="keyword">auto</span> reg, <a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* node) {</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="keywordflow">if</span> (first) {</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      first = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;os() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    }</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;os() &lt;&lt; reg &lt;&lt; <span class="stringliteral">&quot;=v&quot;</span> &lt;&lt; node-&gt;id();</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  };</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a722303e16e26e329257d54b41b460725">general_registers_</a>.ForEachUsedRegister(print);</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a4996578e4a68d9cbfee6837d3d1154e4">double_registers_</a>.ForEachUsedRegister(print);</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;}</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160; </div>
<div class="line"><a name="l00364"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ac480121182714ec62e9e0219c1fb4aa1">  364</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ac480121182714ec62e9e0219c1fb4aa1">StraightForwardRegisterAllocator::AllocateRegisters</a>() {</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_maglev_regalloc) {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>.reset(</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        <span class="keyword">new</span> <a class="code" href="classv8_1_1internal_1_1maglev_1_1MaglevPrintingVisitor.html">MaglevPrintingVisitor</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae86d029ad577b8c95464c76fe78e5ed4">graph_labeller</a>(), std::cout));</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;PreProcessGraph(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ad2c21cc858129e86e2e12a4ff38445ee">graph_</a>);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  }</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160; </div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; [ref, constant] : <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ad2c21cc858129e86e2e12a4ff38445ee">graph_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1Graph.html#ad8875dd2c00fb526dac40b6c3fdf7dda">constants</a>()) {</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    constant-&gt;SetConstantLocation();</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <a class="code" href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a>(ref);</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  }</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; [<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, constant] : <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ad2c21cc858129e86e2e12a4ff38445ee">graph_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1Graph.html#a4a40616531a7e5891033a28a27be63c0">root</a>()) {</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    constant-&gt;SetConstantLocation();</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <a class="code" href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a>(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>);</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  }</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; [<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, constant] : <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ad2c21cc858129e86e2e12a4ff38445ee">graph_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1Graph.html#a0591eddab70ca9e75cc07c218e93b3d6">smi</a>()) {</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    constant-&gt;SetConstantLocation();</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <a class="code" href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a>(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  }</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; [<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, constant] : <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ad2c21cc858129e86e2e12a4ff38445ee">graph_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1Graph.html#ab6b0ea9e9875e5390265c44878ccaa73">tagged_index</a>()) {</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    constant-&gt;SetConstantLocation();</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <a class="code" href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a>(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  }</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; [<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, constant] : <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ad2c21cc858129e86e2e12a4ff38445ee">graph_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1Graph.html#ad2b1f5e94a5491af908c59cb597041fa">int32</a>()) {</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    constant-&gt;SetConstantLocation();</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <a class="code" href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a>(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  }</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; [<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, constant] : <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ad2c21cc858129e86e2e12a4ff38445ee">graph_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1Graph.html#a95b749cceb78cc2d800cf69e0684f773">uint32</a>()) {</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    constant-&gt;SetConstantLocation();</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <a class="code" href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a>(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  }</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; [<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, constant] : <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ad2c21cc858129e86e2e12a4ff38445ee">graph_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1Graph.html#a4d907bec12d229a961a60e95eaa0e47d">intptr</a>()) {</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    constant-&gt;SetConstantLocation();</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <a class="code" href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a>(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  }</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; [<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, constant] : <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ad2c21cc858129e86e2e12a4ff38445ee">graph_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1Graph.html#a77eea5835507baf4d3b9dc8a8228c50a">float64</a>()) {</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    constant-&gt;SetConstantLocation();</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <a class="code" href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a>(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  }</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; [ref, constant] : <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ad2c21cc858129e86e2e12a4ff38445ee">graph_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1Graph.html#a4444caa9eda4a6543133ab94e594f9e9">trusted_constants</a>()) {</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    constant-&gt;SetConstantLocation();</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <a class="code" href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a>(ref);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  }</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160; </div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a07f80e3d7f35007da11101e93ebda0d5">block_it_</a> = <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ad2c21cc858129e86e2e12a4ff38445ee">graph_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1Graph.html#a9c06794820a4fbbf28e94b9a548a43bd">begin</a>(); <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a07f80e3d7f35007da11101e93ebda0d5">block_it_</a> != <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ad2c21cc858129e86e2e12a4ff38445ee">graph_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1Graph.html#a2d4d29a9d37c9c795a83aa666c491c2e">end</a>(); ++<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a07f80e3d7f35007da11101e93ebda0d5">block_it_</a>) {</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html">BasicBlock</a>* block = *<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a07f80e3d7f35007da11101e93ebda0d5">block_it_</a>;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!block-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a1bebb672a309e2039fdc0b921b4420fc">is_dead</a>());</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a3422ff65e920a4d86a1729a9bda6919a">current_node_</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160; </div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="comment">// Restore mergepoint state.</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="keywordflow">if</span> (block-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a7c760d73c06d49c39fda43889315a239">has_state</a>()) {</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;      <span class="keywordflow">if</span> (block-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a3eaa2f458b36bb37b803206d11aa6ef0">state</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1MergePointInterpreterFrameState.html#a3a5d52ff1bd70507d3e4090d9b85002e">is_exception_handler</a>() ||</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;          block-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a3eaa2f458b36bb37b803206d11aa6ef0">state</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1MergePointInterpreterFrameState.html#af2f83b5f6137fc095d0e00aafb2b3ee8">IsUnreachableByForwardEdge</a>()) {</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        <span class="comment">// Exceptions and loops only reachable from a JumpLoop (i.e., resumable</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        <span class="comment">// loops with no fall-through edge) start with a blank state of register</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        <span class="comment">// values.</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a85e2428a666406afd8a3c6d913021b6d">ClearRegisterValues</a>();</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae14929a40920a1bb43a561d1f7da9ef1">InitializeRegisterValues</a>(block-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a3eaa2f458b36bb37b803206d11aa6ef0">state</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1MergePointInterpreterFrameState.html#a64a49774797bee747f489269b74b7bc1">register_state</a>());</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;      }</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (block-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a647d849058456cbcd5b2a0c4eefe189c">is_edge_split_block</a>()) {</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;      <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae14929a40920a1bb43a561d1f7da9ef1">InitializeRegisterValues</a>(block-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#ae013e99479479fca65c77c5837b56285">edge_split_block_register_state</a>());</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    }</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160; </div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_maglev_regalloc) {</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;      <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;PreProcessBasicBlock(block);</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;      <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;os() &lt;&lt; <span class="stringliteral">&quot;live regs: &quot;</span>;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;      <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a009a68b04f473b088b7797342dbd4fcd">PrintLiveRegs</a>();</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160; </div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;      <a class="code" href="classv8_1_1internal_1_1maglev_1_1ControlNode.html">ControlNode</a>* control = <a class="code" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#a3de33ad8786d517e279abaefe9866f7b">NearestPostDominatingHole</a>(block-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a267c7bf68877b593763562958b199b06">control_node</a>());</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      <span class="keywordflow">if</span> (!control-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a317252af8f98deb2e31a8b5b5aee3c2d">Is</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1JumpLoop.html">JumpLoop</a>&gt;()) {</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;os() &lt;&lt; <span class="stringliteral">&quot;\n[holes:&quot;</span>;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;          <span class="keywordflow">if</span> (control-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a317252af8f98deb2e31a8b5b5aee3c2d">Is</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1JumpLoop.html">JumpLoop</a>&gt;()) {</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;            <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;os() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; control-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a6f6b3d7f22a0a34aecd6b463a32f4311">id</a>() &lt;&lt; <span class="stringliteral">&quot;↰&quot;</span>;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;          } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (control-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a317252af8f98deb2e31a8b5b5aee3c2d">Is</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1UnconditionalControlNode.html">UnconditionalControlNode</a>&gt;()) {</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;            <a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html">BasicBlock</a>* target =</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                control-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#ab69dfd83fc1e566e5e431350fb4fe733">Cast</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1UnconditionalControlNode.html">UnconditionalControlNode</a>&gt;()-&gt;target();</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;            <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;os()</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; control-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a6f6b3d7f22a0a34aecd6b463a32f4311">id</a>() &lt;&lt; <span class="stringliteral">&quot;-&quot;</span> &lt;&lt; target-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#af7316bf33e97ea4b8126f066cbee173d">first_id</a>();</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            control = control-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ControlNode.html#aa94321d01616057a3e546e1b40ecb929">next_post_dominating_hole</a>();</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            <a class="code" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(control);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;          } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (control-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a317252af8f98deb2e31a8b5b5aee3c2d">Is</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1Switch.html">Switch</a>&gt;()) {</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;            <a class="code" href="classv8_1_1internal_1_1maglev_1_1Switch.html">Switch</a>* _switch = control-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#ab69dfd83fc1e566e5e431350fb4fe733">Cast</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1Switch.html">Switch</a>&gt;();</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;            <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!_switch-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1Switch.html#a3fb0c1632c6316750a3e6655a2a1b000">has_fallthrough</a>());</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;            <a class="code" href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a>(_switch-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1Switch.html#ab15312649dbe29ae0105e97e69c5308e">size</a>(), 1);</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;            <a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html">BasicBlock</a>* first_target = _switch-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1Switch.html#af2871ec35776654dd11146e56ba2a3d2">targets</a>()[0].<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlockRef.html#adae1c3617bce3c5cf7663489879819ff">block_ptr</a>();</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;            <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;os()</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; control-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a6f6b3d7f22a0a34aecd6b463a32f4311">id</a>() &lt;&lt; <span class="stringliteral">&quot;-&quot;</span> &lt;&lt; first_target-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#af7316bf33e97ea4b8126f066cbee173d">first_id</a>();</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;            control = control-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ControlNode.html#aa94321d01616057a3e546e1b40ecb929">next_post_dominating_hole</a>();</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;            <a class="code" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(control);</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;          } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (control-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a317252af8f98deb2e31a8b5b5aee3c2d">Is</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1Return.html">Return</a>&gt;()) {</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;            <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;os() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; control-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a6f6b3d7f22a0a34aecd6b463a32f4311">id</a>() &lt;&lt; <span class="stringliteral">&quot;.&quot;</span>;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;          } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (control-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a317252af8f98deb2e31a8b5b5aee3c2d">Is</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1Deopt.html">Deopt</a>&gt;() || control-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a317252af8f98deb2e31a8b5b5aee3c2d">Is</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1Abort.html">Abort</a>&gt;()) {</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;            <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;os() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; control-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a6f6b3d7f22a0a34aecd6b463a32f4311">id</a>() &lt;&lt; <span class="stringliteral">&quot;✖️&quot;</span>;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;          }</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        }</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;os() &lt;&lt; <span class="stringliteral">&quot;]&quot;</span>;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;      }</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;      <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;os() &lt;&lt; std::endl;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    }</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160; </div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="comment">// Activate phis.</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keywordflow">if</span> (block-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a68f63035f27811c2690e323ad13f8c4b">has_phi</a>()) {</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;      <a class="code" href="classv8_1_1base_1_1ThreadedListBase.html">Phi::List</a>&amp; phis = *block-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a4c653b6e3f390cef7b7fa229b4602609">phis</a>();</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;      <span class="comment">// Firstly, make the phi live, and try to assign it to an input</span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;      <span class="comment">// location.</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> phi_it = phis.<a class="code" href="classv8_1_1base_1_1ThreadedListBase.html#ac64e5ee0d3680e57549ceaa4eff5a668">begin</a>(); phi_it != phis.<a class="code" href="classv8_1_1base_1_1ThreadedListBase.html#a4f6949269db815d87d938f8638903816">end</a>();) {</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        <a class="code" href="classv8_1_1internal_1_1maglev_1_1Phi.html">Phi</a>* phi = *phi_it;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        <span class="keywordflow">if</span> (!phi-&gt;has_valid_live_range()) {</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;          <span class="comment">// We might still have left over dead Phis, due to phis being kept</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;          <span class="comment">// alive by deopts that the representation analysis dropped. Clear</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;          <span class="comment">// them out now.</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;          phi_it = phis.<a class="code" href="classv8_1_1base_1_1ThreadedListBase.html#a2eeabdb511e38ed098d237b6fcfce2ca">RemoveAt</a>(phi_it);</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(phi-&gt;has_valid_live_range());</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;          phi-&gt;SetNoSpill();</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;          <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a2d142c2936add8573ad2f994ee53718e">TryAllocateToInput</a>(phi);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;          ++phi_it;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        }</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;      }</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;      <span class="keywordflow">if</span> (block-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#ad9af1a6b53b70ccc8b36a4adabf1c0f7">is_exception_handler_block</a>()) {</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        <span class="comment">// If we are in exception handler block, then we find the ExceptionPhi</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        <span class="comment">// (the first one by default) that is marked with the</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        <span class="comment">// virtual_accumulator and force kReturnRegister0. This corresponds to</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        <span class="comment">// the exception message object.</span></div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1maglev_1_1Phi.html">Phi</a>* phi : phis) {</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(phi-&gt;input_count(), 0);</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(phi-&gt;is_exception_phi());</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;          <span class="keywordflow">if</span> (phi-&gt;owner() == <a class="code" href="classv8_1_1internal_1_1interpreter_1_1Register.html#a081ae5930cebb8e207f2981e2b8e6876">interpreter::Register::virtual_accumulator</a>()) {</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;            <span class="keywordflow">if</span> (!phi-&gt;has_no_more_uses()) {</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;              phi-&gt;result().SetAllocated(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a6a326398de3c6a5072eea22327c7746d">ForceAllocate</a>(<a class="code" href="namespacev8_1_1internal.html#a8654f2409b96eec341287939ca3cfab0">kReturnRegister0</a>, phi));</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;              <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_maglev_regalloc) {</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;Process(phi, <a class="code" href="classv8_1_1internal_1_1maglev_1_1ProcessingState.html">ProcessingState</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a07f80e3d7f35007da11101e93ebda0d5">block_it_</a>));</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;os() &lt;&lt; <span class="stringliteral">&quot;phi (exception message object) &quot;</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                                        &lt;&lt; phi-&gt;result().operand() &lt;&lt; std::endl;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;              }</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;            }</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;          } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (phi-&gt;owner().is_parameter() &amp;&amp;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                     phi-&gt;owner().is_receiver()) {</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;            <span class="comment">// The receiver is a special case for a fairly silly reason:</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;            <span class="comment">// OptimizedJSFrame::Summarize requires the receiver (and the</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;            <span class="comment">// function) to be in a stack slot, since its value must be</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;            <span class="comment">// available even though we&#39;re not deoptimizing (and thus register</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;            <span class="comment">// states are not available).</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;            <span class="comment">// TODO(leszeks):</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;            <span class="comment">// For inlined functions / nested graph generation, this a) doesn&#39;t</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;            <span class="comment">// work (there&#39;s no receiver stack slot); and b) isn&#39;t necessary</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;            <span class="comment">// (Summarize only looks at noninlined functions).</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;            phi-&gt;Spill(<a class="code" href="classv8_1_1internal_1_1compiler_1_1AllocatedOperand.html">compiler::AllocatedOperand</a>(</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                <a class="code" href="classv8_1_1internal_1_1compiler_1_1LocationOperand.html#af9e0a334eaf58a05f9ea5b7139221140aff57c8ccb343b8b46f60e18322227df9">compiler::AllocatedOperand::STACK_SLOT</a>,</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                <a class="code" href="namespacev8_1_1internal.html#abe5419355372f787c28119c509343410a3eee36fbbe00cfed0ef24d756afd1784">MachineRepresentation::kTagged</a>,</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                (<a class="code" href="classv8_1_1internal_1_1StandardFrameConstants.html#a16e313ff143f71038776e2ec33169faf">StandardFrameConstants::kExpressionsOffset</a> -</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                 <a class="code" href="classv8_1_1internal_1_1UnoptimizedFrameConstants.html#afc3edf63903fd9c13335b467c7c1b5a5">UnoptimizedFrameConstants::kRegisterFileFromFp</a>) /</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                        <a class="code" href="namespacev8_1_1internal.html#a72cbfdfeabb9a401f279f7b80bcff67a">kSystemPointerSize</a> +</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                    <a class="code" href="classv8_1_1internal_1_1interpreter_1_1Register.html#a7ca86fc4b69076af2884db4bbd2911f7">interpreter::Register::receiver</a>().<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>()));</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;            phi-&gt;result().SetAllocated(phi-&gt;spill_slot());</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;            <span class="comment">// Break once both accumulator and receiver have been processed.</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;          }</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        }</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;      }</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;      <span class="comment">// Secondly try to assign the phi to a free register.</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1maglev_1_1Phi.html">Phi</a>* phi : phis) {</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(phi-&gt;has_valid_live_range());</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        <span class="keywordflow">if</span> (phi-&gt;result().operand().IsAllocated()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        <span class="keywordflow">if</span> (phi-&gt;use_double_register()) {</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;          <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a4996578e4a68d9cbfee6837d3d1154e4">double_registers_</a>.UnblockedFreeIsEmpty()) {</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;            <a class="code" href="classv8_1_1internal_1_1compiler_1_1AllocatedOperand.html">compiler::AllocatedOperand</a> allocation =</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a4996578e4a68d9cbfee6837d3d1154e4">double_registers_</a>.AllocateRegister(phi, phi-&gt;hint());</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;            phi-&gt;result().SetAllocated(allocation);</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;            <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ad6946dc846bb4c82c24ab786b960b2f6">SetLoopPhiRegisterHint</a>(phi, allocation.<a class="code" href="classv8_1_1internal_1_1compiler_1_1LocationOperand.html#ab1e52ef65a34122d28d5c75d064f82bc">GetDoubleRegister</a>());</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_maglev_regalloc) {</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;              <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;Process(phi, <a class="code" href="classv8_1_1internal_1_1maglev_1_1ProcessingState.html">ProcessingState</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a07f80e3d7f35007da11101e93ebda0d5">block_it_</a>));</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;              <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;os()</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot;phi (new reg) &quot;</span> &lt;&lt; phi-&gt;result().operand() &lt;&lt; std::endl;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;            }</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;          }</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;          <span class="comment">// We&#39;ll use a general purpose register for this Phi.</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;          <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a722303e16e26e329257d54b41b460725">general_registers_</a>.UnblockedFreeIsEmpty()) {</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;            <a class="code" href="classv8_1_1internal_1_1compiler_1_1AllocatedOperand.html">compiler::AllocatedOperand</a> allocation =</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a722303e16e26e329257d54b41b460725">general_registers_</a>.AllocateRegister(phi, phi-&gt;hint());</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;            phi-&gt;result().SetAllocated(allocation);</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;            <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ad6946dc846bb4c82c24ab786b960b2f6">SetLoopPhiRegisterHint</a>(phi, allocation.<a class="code" href="classv8_1_1internal_1_1compiler_1_1LocationOperand.html#a4d0fbceae25211d1d46526546eb53c0b">GetRegister</a>());</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_maglev_regalloc) {</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;              <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;Process(phi, <a class="code" href="classv8_1_1internal_1_1maglev_1_1ProcessingState.html">ProcessingState</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a07f80e3d7f35007da11101e93ebda0d5">block_it_</a>));</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;              <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;os()</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot;phi (new reg) &quot;</span> &lt;&lt; phi-&gt;result().operand() &lt;&lt; std::endl;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;            }</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;          }</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        }</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;      }</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;      <span class="comment">// Finally just use a stack slot.</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1maglev_1_1Phi.html">Phi</a>* phi : phis) {</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(phi-&gt;has_valid_live_range());</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        <span class="keywordflow">if</span> (phi-&gt;result().operand().IsAllocated()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#adc630771cce27ef848f70ba989b5444c">AllocateSpillSlot</a>(phi);</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        <span class="comment">// TODO(verwaest): Will this be used at all?</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        phi-&gt;result().SetAllocated(phi-&gt;spill_slot());</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_maglev_regalloc) {</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;          <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;Process(phi, <a class="code" href="classv8_1_1internal_1_1maglev_1_1ProcessingState.html">ProcessingState</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a07f80e3d7f35007da11101e93ebda0d5">block_it_</a>));</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;          <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;os()</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;              &lt;&lt; <span class="stringliteral">&quot;phi (stack) &quot;</span> &lt;&lt; phi-&gt;result().operand() &lt;&lt; std::endl;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        }</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;      }</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160; </div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_maglev_regalloc) {</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;os() &lt;&lt; <span class="stringliteral">&quot;live regs: &quot;</span>;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;        <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a009a68b04f473b088b7797342dbd4fcd">PrintLiveRegs</a>();</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;os() &lt;&lt; std::endl;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;      }</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;      <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a722303e16e26e329257d54b41b460725">general_registers_</a>.clear_blocked();</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;      <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a4996578e4a68d9cbfee6837d3d1154e4">double_registers_</a>.clear_blocked();</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    }</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(AllUsedRegistersLiveAt(block));</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a4aee117ed0ee67a5a265401a6255caa7">VerifyRegisterState</a>();</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160; </div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae1d3774a50bdff63954b0fbcea9f18b7">node_it_</a> = block-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a664760d52a8f741c778205c63661fcb1">nodes</a>().<a class="code" href="classv8_1_1internal_1_1ZoneVector.html#adc2a3ab5562b5a2ca9201af92225ee47">begin</a>();</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <span class="keywordflow">for</span> (; <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae1d3774a50bdff63954b0fbcea9f18b7">node_it_</a> != block-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a664760d52a8f741c778205c63661fcb1">nodes</a>().<a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>(); ++<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae1d3774a50bdff63954b0fbcea9f18b7">node_it_</a>) {</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;      <a class="code" href="classv8_1_1internal_1_1maglev_1_1Node.html">Node</a>* node = *<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae1d3774a50bdff63954b0fbcea9f18b7">node_it_</a>;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;      <span class="keywordflow">if</span> (node == <span class="keyword">nullptr</span>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160; </div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#aae79f305fa7b396dee1a5968db293af2">IsDeadNodeToSkip</a>(node)) {</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;        <span class="comment">// We remove unused pure nodes.</span></div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_maglev_regalloc) {</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;          <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;os()</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;              &lt;&lt; <span class="stringliteral">&quot;Removing unused node &quot;</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;              &lt;&lt; <a class="code" href="classv8_1_1internal_1_1maglev_1_1PrintNodeLabel.html">PrintNodeLabel</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae86d029ad577b8c95464c76fe78e5ed4">graph_labeller</a>(), node) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        }</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160; </div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        <span class="keywordflow">if</span> (!node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a317252af8f98deb2e31a8b5b5aee3c2d">Is</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1Identity.html">Identity</a>&gt;()) {</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;          <span class="comment">// Updating the uses of the inputs in order to free dead input</span></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;          <span class="comment">// registers. We don&#39;t do this for Identity nodes, because they were</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;          <span class="comment">// skipped during use marking, and their inputs are thus not aware</span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;          <span class="comment">// that they were used by this node.</span></div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#af88af8dd683f7784ae6ace6d6c701d31">properties</a>().<a class="code" href="classv8_1_1internal_1_1maglev_1_1OpProperties.html#affca51dc4cc3741705fb73690d6c37a8">can_deopt</a>());</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;          node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a6d45aa739eea1ae3bc05e319ff9a4c3b">ForAllInputsInRegallocAssignmentOrder</a>(</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;              [&amp;](<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a4bec162c7e5322b28964aa8f660c7d56">NodeBase::InputAllocationPolicy</a>, <a class="code" href="classv8_1_1internal_1_1maglev_1_1Input.html">Input</a>* input) {</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a8aa7826d195c03e8078109238f87306a">UpdateUse</a>(input);</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;              });</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        }</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160; </div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        *<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae1d3774a50bdff63954b0fbcea9f18b7">node_it_</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;      }</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160; </div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;      <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ad0f2acc22289eabf8f64b42fff7b2fdc">AllocateNode</a>(node);</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    }</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a5a568515e703280bf6cd8564e373fc87">AllocateControlNode</a>(block-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a267c7bf68877b593763562958b199b06">control_node</a>(), block);</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ab3a4be23708e5cb031d6dd05867368de">ApplyPatches</a>(block);</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  }</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;}</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160; </div>
<div class="line"><a name="l00625"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a2e15656b2c14a4f37e8bac2957abdd70">  625</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a2e15656b2c14a4f37e8bac2957abdd70">StraightForwardRegisterAllocator::FreeRegistersUsedBy</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* node) {</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  <span class="keywordflow">if</span> (node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#add54512d0c1325dd2b942339241bd639">use_double_register</a>()) {</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a4996578e4a68d9cbfee6837d3d1154e4">double_registers_</a>.FreeRegistersUsedBy(node);</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a722303e16e26e329257d54b41b460725">general_registers_</a>.FreeRegistersUsedBy(node);</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  }</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;}</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160; </div>
<div class="line"><a name="l00633"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a0d32cc7db6fefb0b6e07cd678ac0eb89">  633</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a8aa7826d195c03e8078109238f87306a">StraightForwardRegisterAllocator::UpdateUse</a>(</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* node, <a class="code" href="classv8_1_1internal_1_1maglev_1_1InputLocation.html">InputLocation</a>* input_location) {</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_maglev_regalloc) {</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;os()</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;Using &quot;</span> &lt;&lt; <a class="code" href="classv8_1_1internal_1_1maglev_1_1PrintNodeLabel.html">PrintNodeLabel</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae86d029ad577b8c95464c76fe78e5ed4">graph_labeller</a>(), node) &lt;&lt; <span class="stringliteral">&quot;...\n&quot;</span>;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;  }</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160; </div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a89614aabc889de73bc6c69836dfcb8d3">has_no_more_uses</a>());</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160; </div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  <span class="comment">// Update the next use.</span></div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a70f3aac2b164da176a17a7894cc0866f">advance_next_use</a>(input_location-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1InputLocation.html#abca5361fb46f1d028b15ccb86b861241">next_use_id</a>());</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160; </div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  <span class="keywordflow">if</span> (!node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a89614aabc889de73bc6c69836dfcb8d3">has_no_more_uses</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160; </div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_maglev_regalloc) {</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;os()</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;  freeing &quot;</span> &lt;&lt; <a class="code" href="classv8_1_1internal_1_1maglev_1_1PrintNodeLabel.html">PrintNodeLabel</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae86d029ad577b8c95464c76fe78e5ed4">graph_labeller</a>(), node) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  }</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160; </div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  <span class="comment">// If a value is dead, make sure it&#39;s cleared.</span></div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a2e15656b2c14a4f37e8bac2957abdd70">FreeRegistersUsedBy</a>(node);</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160; </div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  <span class="comment">// If the stack slot is a local slot, free it so it can be reused.</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  <span class="keywordflow">if</span> (node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a7273c54a86a8e0405d878bc798d32603">is_spilled</a>()) {</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <a class="code" href="classv8_1_1internal_1_1compiler_1_1AllocatedOperand.html">compiler::AllocatedOperand</a> slot = node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a51ceb3573f4cc7e64f58a0d652ce11e5">spill_slot</a>();</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <span class="keywordflow">if</span> (slot.<a class="code" href="classv8_1_1internal_1_1compiler_1_1LocationOperand.html#a9acee6bac22dead7ca05c029fbe06c58">index</a>() &gt; 0) {</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;      <a class="code" href="structv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_1_1SpillSlots.html">SpillSlots</a>&amp; slots =</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;          slot.<a class="code" href="classv8_1_1internal_1_1compiler_1_1LocationOperand.html#a598f20b98f0d7647b58bef3b57ec20a9">representation</a>() == <a class="code" href="namespacev8_1_1internal.html#abe5419355372f787c28119c509343410a3eee36fbbe00cfed0ef24d756afd1784">MachineRepresentation::kTagged</a> ? <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ac2b88b62a9fe52e59c0ccc6eb0015eda">tagged_</a></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;                                                                  : <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#aa9e586d4d110daacc3300195c05fea21">untagged_</a>;</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;          slots.<a class="code" href="structv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_1_1SpillSlots.html#aaf24839b47c6f48017b8cfde988b28e4">free_slots</a>.size() &gt; 0,</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;          slots.<a class="code" href="structv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_1_1SpillSlots.html#aaf24839b47c6f48017b8cfde988b28e4">free_slots</a>.back().freed_at_position &lt;= node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a31881ef84c306859d771a5c12d67cf6f">live_range</a>().<a class="code" href="structv8_1_1internal_1_1maglev_1_1ValueNode_1_1LiveRange.html#a987af3d68b08acc2997a52b9aaf9f1cd">end</a>);</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;      <span class="keywordtype">bool</span> double_slot =</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;          <a class="code" href="namespacev8_1_1internal_1_1maglev.html#aad2426e234f3604b6298c3ba8d482056">IsDoubleRepresentation</a>(node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#af88af8dd683f7784ae6ace6d6c701d31">properties</a>().<a class="code" href="classv8_1_1internal_1_1maglev_1_1OpProperties.html#a9f989420e0ea0d6e75a761dc60903761">value_representation</a>());</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;      slots.<a class="code" href="structv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_1_1SpillSlots.html#aaf24839b47c6f48017b8cfde988b28e4">free_slots</a>.emplace_back(slot.<a class="code" href="classv8_1_1internal_1_1compiler_1_1LocationOperand.html#a9acee6bac22dead7ca05c029fbe06c58">index</a>(), node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a31881ef84c306859d771a5c12d67cf6f">live_range</a>().<a class="code" href="structv8_1_1internal_1_1maglev_1_1ValueNode_1_1LiveRange.html#a987af3d68b08acc2997a52b9aaf9f1cd">end</a>,</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                                    double_slot);</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    }</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;  }</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;}</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160; </div>
<div class="line"><a name="l00673"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae7148199ae1399ec2911e513718a3240">  673</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae7148199ae1399ec2911e513718a3240">StraightForwardRegisterAllocator::AllocateEagerDeopt</a>(</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1maglev_1_1EagerDeoptInfo.html">EagerDeoptInfo</a>&amp; deopt_info) {</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1InputLocation.html">InputLocation</a>* input = deopt_info.<a class="code" href="classv8_1_1internal_1_1maglev_1_1DeoptInfo.html#a11e1134a49654ed4b33960d30ebadd5c">input_locations</a>();</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;  deopt_info.<a class="code" href="classv8_1_1internal_1_1maglev_1_1EagerDeoptInfo.html#aff29607a357fb08ba5d5068f2e0b31d0">ForEachInput</a>([&amp;](<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* node) {</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a317252af8f98deb2e31a8b5b5aee3c2d">Is</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1Identity.html">Identity</a>&gt;());</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <span class="comment">// We might have dropped this node without spilling it. Spill it now.</span></div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <span class="keywordflow">if</span> (!node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a2b60029eb983f04e9a00348d55594ea4">has_register</a>() &amp;&amp; !node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a2aa6cddf21fbe3397564ce1f57dfb4be">is_loadable</a>()) {</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;      <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#aa08f61a5daa2f87c952d32f3a333d237">Spill</a>(node);</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    }</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    input-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueLocation.html#a6365544c086f7b8a1247227f3c9f7178">InjectLocation</a>(node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#ac22f1588da47b97d15c6d1ea71a5c5e7">allocation</a>());</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a8aa7826d195c03e8078109238f87306a">UpdateUse</a>(node, input);</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    input++;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  });</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;}</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160; </div>
<div class="line"><a name="l00688"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ad283f09d1986a3b424b09b4f2385905f">  688</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ad283f09d1986a3b424b09b4f2385905f">StraightForwardRegisterAllocator::AllocateLazyDeopt</a>(</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1maglev_1_1LazyDeoptInfo.html">LazyDeoptInfo</a>&amp; deopt_info) {</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1InputLocation.html">InputLocation</a>* input = deopt_info.<a class="code" href="classv8_1_1internal_1_1maglev_1_1DeoptInfo.html#a11e1134a49654ed4b33960d30ebadd5c">input_locations</a>();</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  deopt_info.<a class="code" href="classv8_1_1internal_1_1maglev_1_1LazyDeoptInfo.html#a89bd5a293dffba01f577e3de7d5e9f5d">ForEachInput</a>([&amp;](<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* node) {</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a317252af8f98deb2e31a8b5b5aee3c2d">Is</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1Identity.html">Identity</a>&gt;());</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <span class="comment">// Lazy deopts always need spilling, and should</span></div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <span class="comment">// always be loaded from their loadable slot.</span></div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#aa08f61a5daa2f87c952d32f3a333d237">Spill</a>(node);</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    input-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueLocation.html#a6365544c086f7b8a1247227f3c9f7178">InjectLocation</a>(node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a1f58a55a7c599f16c00d559cfbdc486e">loadable_slot</a>());</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a8aa7826d195c03e8078109238f87306a">UpdateUse</a>(node, input);</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    input++;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  });</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;}</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160; </div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;<span class="preprocessor">#define GET_NODE_RESULT_REGISTER_T(RegisterT, AssignedRegisterT) \</span></div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;<span class="preprocessor">  RegisterT GetNodeResult##RegisterT(Node* node) {               \</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;<span class="preprocessor">    ValueNode* value_node = node-&gt;TryCast&lt;ValueNode&gt;();          \</span></div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;<span class="preprocessor">    if (!value_node) return RegisterT::no_reg();                 \</span></div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;<span class="preprocessor">    if (!value_node-&gt;result().operand().Is##RegisterT()) {       \</span></div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;<span class="preprocessor">      return RegisterT::no_reg();                                \</span></div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;<span class="preprocessor">    }                                                            \</span></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;<span class="preprocessor">    return value_node-&gt;result().AssignedRegisterT();             \</span></div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;<span class="preprocessor">  }</span></div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;GET_NODE_RESULT_REGISTER_T(<a class="code" href="classv8_1_1internal_1_1Register.html">Register</a>, AssignedGeneralRegister)</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;GET_NODE_RESULT_REGISTER_T(<a class="code" href="classv8_1_1internal_1_1DoubleRegister.html">DoubleRegister</a>, AssignedDoubleRegister)</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;<span class="preprocessor">#undef GET_NODE_RESULT_REGISTER_T</span></div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// DEBUG</span></div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160; </div>
<div class="line"><a name="l00719"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ad0f2acc22289eabf8f64b42fff7b2fdc">  719</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ad0f2acc22289eabf8f64b42fff7b2fdc">StraightForwardRegisterAllocator::AllocateNode</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1Node.html">Node</a>* node) {</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;  <span class="comment">// We shouldn&#39;t be visiting any gap moves during allocation, we should only</span></div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  <span class="comment">// have inserted gap moves in past visits.</span></div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a317252af8f98deb2e31a8b5b5aee3c2d">Is</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1GapMove.html">GapMove</a>&gt;());</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a317252af8f98deb2e31a8b5b5aee3c2d">Is</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ConstantGapMove.html">ConstantGapMove</a>&gt;());</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160; </div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a3422ff65e920a4d86a1729a9bda6919a">current_node_</a> = node;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_maglev_regalloc) {</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;os()</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;Allocating &quot;</span> &lt;&lt; <a class="code" href="classv8_1_1internal_1_1maglev_1_1PrintNodeLabel.html">PrintNodeLabel</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae86d029ad577b8c95464c76fe78e5ed4">graph_labeller</a>(), node)</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;        &lt;&lt; <span class="stringliteral">&quot; inputs...\n&quot;</span>;</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;  }</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae8316f4b58666c1f3edae21b6eb2dfce">AssignInputs</a>(node);</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a69b9790efed1973a771224a57d3f1ee2">VerifyInputs</a>(node);</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160; </div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;  <span class="keywordflow">if</span> (node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#af88af8dd683f7784ae6ace6d6c701d31">properties</a>().<a class="code" href="classv8_1_1internal_1_1maglev_1_1OpProperties.html#aa5009397fc12d77ddd74c8a5cab7a52f">is_call</a>()) <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a23b7fc6e6ad48029a3602170c485ea4a">SpillAndClearRegisters</a>();</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160; </div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;  <span class="comment">// Allocate node output.</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  <span class="keywordflow">if</span> (node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a317252af8f98deb2e31a8b5b5aee3c2d">Is</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>&gt;()) {</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_maglev_regalloc) {</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;      <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;os() &lt;&lt; <span class="stringliteral">&quot;Allocating result...\n&quot;</span>;</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    }</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a42c6a4d92907795728a37a3ddd3f6e05">AllocateNodeResult</a>(node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#ab69dfd83fc1e566e5e431350fb4fe733">Cast</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>&gt;());</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;  }</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160; </div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  <span class="comment">// Eager deopts might happen after the node result has been set, so allocate</span></div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;  <span class="comment">// them after result allocation.</span></div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;  <span class="keywordflow">if</span> (node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#af88af8dd683f7784ae6ace6d6c701d31">properties</a>().<a class="code" href="classv8_1_1internal_1_1maglev_1_1OpProperties.html#a6f757478a116a03612eeeed4b7c2e1a0">can_eager_deopt</a>()) {</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_maglev_regalloc) {</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;      <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;os() &lt;&lt; <span class="stringliteral">&quot;Allocating eager deopt inputs...\n&quot;</span>;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    }</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae7148199ae1399ec2911e513718a3240">AllocateEagerDeopt</a>(*node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#ae56d1ecfb6e5d683ba73faff701c2fd7">eager_deopt_info</a>());</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  }</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160; </div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  <span class="comment">// Lazy deopts are semantically after the node, so allocate them last.</span></div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  <span class="keywordflow">if</span> (node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#af88af8dd683f7784ae6ace6d6c701d31">properties</a>().<a class="code" href="classv8_1_1internal_1_1maglev_1_1OpProperties.html#a7e9ef5825d63a72aca3d02eeed5f6cf1">can_lazy_deopt</a>()) {</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_maglev_regalloc) {</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;      <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;os() &lt;&lt; <span class="stringliteral">&quot;Allocating lazy deopt inputs...\n&quot;</span>;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    }</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <span class="comment">// Ensure all values live from a throwing node across its catch block are</span></div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    <span class="comment">// spilled so they can properly be merged after the catch block.</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    <span class="keywordflow">if</span> (node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#af88af8dd683f7784ae6ace6d6c701d31">properties</a>().<a class="code" href="classv8_1_1internal_1_1maglev_1_1OpProperties.html#a3270ce4a31a4047d48055aabc42c831d">can_throw</a>()) {</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;      <a class="code" href="classv8_1_1internal_1_1maglev_1_1ExceptionHandlerInfo.html">ExceptionHandlerInfo</a>* info = node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#af26c7c48f328712f2f41ee97f4d76408">exception_handler_info</a>();</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;      <span class="keywordflow">if</span> (info-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ExceptionHandlerInfo.html#aad84abc64caac7718b252eaeaad2a485">HasExceptionHandler</a>() &amp;&amp; !info-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ExceptionHandlerInfo.html#a779fb1f3a12e4c6d56c8aa7f3196babd">ShouldLazyDeopt</a>() &amp;&amp;</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;          !node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#af88af8dd683f7784ae6ace6d6c701d31">properties</a>().<a class="code" href="classv8_1_1internal_1_1maglev_1_1OpProperties.html#aa5009397fc12d77ddd74c8a5cab7a52f">is_call</a>()) {</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        <a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html">BasicBlock</a>* block = info-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ExceptionHandlerInfo.html#a552cc56bff1d3fa8eb3bf7d944cf0d43">catch_block</a>();</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        <span class="keyword">auto</span> spill = [&amp;](<span class="keyword">auto</span> reg, <a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* node) {</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;          <span class="keywordflow">if</span> (node-&gt;live_range().<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#adf70b2a03faa2931ac4a8e714e11b25e">end</a> &lt; block-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#af7316bf33e97ea4b8126f066cbee173d">first_id</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;          <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#aa08f61a5daa2f87c952d32f3a333d237">Spill</a>(node);</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;        };</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;        <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a722303e16e26e329257d54b41b460725">general_registers_</a>.ForEachUsedRegister(spill);</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;        <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a4996578e4a68d9cbfee6837d3d1154e4">double_registers_</a>.ForEachUsedRegister(spill);</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;      }</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    }</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ad283f09d1986a3b424b09b4f2385905f">AllocateLazyDeopt</a>(*node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#adb7a1f2a1368ff484002a256a3e9cdef">lazy_deopt_info</a>());</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;  }</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160; </div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;  <span class="comment">// Make sure to save snapshot after allocate eager deopt registers.</span></div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;  <span class="keywordflow">if</span> (node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#af88af8dd683f7784ae6ace6d6c701d31">properties</a>().<a class="code" href="classv8_1_1internal_1_1maglev_1_1OpProperties.html#a1d098a250ee68ea845d8fcbcb822827e">needs_register_snapshot</a>()) <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a8d48629f28437ad158e0ed14ac120306">SaveRegisterSnapshot</a>(node);</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160; </div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_maglev_regalloc) {</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;Process(node, <a class="code" href="classv8_1_1internal_1_1maglev_1_1ProcessingState.html">ProcessingState</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a07f80e3d7f35007da11101e93ebda0d5">block_it_</a>));</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;os() &lt;&lt; <span class="stringliteral">&quot;live regs: &quot;</span>;</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a009a68b04f473b088b7797342dbd4fcd">PrintLiveRegs</a>();</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;os() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;  }</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160; </div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  <span class="comment">// Result register should not be in temporaries.</span></div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(GetNodeResultRegister(node) != <a class="code" href="classv8_1_1internal_1_1Register.html#af72f1656ce6c0186ea16328bbc55ae9c">Register::no_reg</a>(),</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;                 !node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a33269e56968f19258aed52631c596d94">general_temporaries</a>().<a class="code" href="classv8_1_1internal_1_1RegListBase.html#a3856ba5b1ccfe7deabfc70a4ce9ed6be">has</a>(GetNodeResultRegister(node)));</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;      GetNodeResultDoubleRegister(node) != <a class="code" href="classv8_1_1internal_1_1RegisterBase.html#a99d34fe5d17363e2c57ab0a3dab22305">DoubleRegister::no_reg</a>(),</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;      !node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a3dff534f77ba8983d7d5ac21a98e39df">double_temporaries</a>().<a class="code" href="classv8_1_1internal_1_1RegListBase.html#a3856ba5b1ccfe7deabfc70a4ce9ed6be">has</a>(GetNodeResultDoubleRegister(node)));</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160; </div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  <span class="comment">// All the temporaries should be free by the end.</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a722303e16e26e329257d54b41b460725">general_registers_</a>.free() | node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a33269e56968f19258aed52631c596d94">general_temporaries</a>(),</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;            <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a722303e16e26e329257d54b41b460725">general_registers_</a>.free());</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a4996578e4a68d9cbfee6837d3d1154e4">double_registers_</a>.free() | node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a3dff534f77ba8983d7d5ac21a98e39df">double_temporaries</a>(),</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;            <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a4996578e4a68d9cbfee6837d3d1154e4">double_registers_</a>.free());</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a722303e16e26e329257d54b41b460725">general_registers_</a>.clear_blocked();</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a4996578e4a68d9cbfee6837d3d1154e4">double_registers_</a>.clear_blocked();</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a4aee117ed0ee67a5a265401a6255caa7">VerifyRegisterState</a>();</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;}</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160; </div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> RegisterT&gt;</div>
<div class="line"><a name="l00804"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a1773c9b0318bfd1c50db7972dce2c793">  804</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a1773c9b0318bfd1c50db7972dce2c793">StraightForwardRegisterAllocator::DropRegisterValueAtEnd</a>(</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    RegisterT reg, <span class="keywordtype">bool</span> force_spill) {</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html">RegisterFrameState&lt;RegisterT&gt;</a>&amp; list = GetRegisterFrameState&lt;RegisterT&gt;();</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;  list.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#a634ce28caf22af716ed96defbac31207">unblock</a>(reg);</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;  <span class="keywordflow">if</span> (!list.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#a28131c9b222f44fa314b904704366272">free</a>().has(reg)) {</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* node = list.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#ab7f6b41488705b1c4b778269cfae801e">GetValue</a>(reg);</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    <span class="comment">// If the register is not live after the current node, just remove its</span></div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    <span class="comment">// value.</span></div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a5d1797b1bd24e0ebddc59297d7ad921f">IsCurrentNodeLastUseOf</a>(node)) {</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;      node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#abe9769819d8c9841e78ae2f5da42eb47">RemoveRegister</a>(reg);</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;      <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a317d5918d7ed071a17f9c6c000693198">DropRegisterValue</a>(list, reg, force_spill);</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    }</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    list.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#a2b7048e34fb9d2c5be5b2aab872274c2">AddToFree</a>(reg);</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;  }</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;}</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160; </div>
<div class="line"><a name="l00821"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a42c6a4d92907795728a37a3ddd3f6e05">  821</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a42c6a4d92907795728a37a3ddd3f6e05">StraightForwardRegisterAllocator::AllocateNodeResult</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* node) {</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a317252af8f98deb2e31a8b5b5aee3c2d">Is</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1Phi.html">Phi</a>&gt;());</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160; </div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;  node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a5cf8e21db0d3bc33ccf4c14784f2d297">SetNoSpill</a>();</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160; </div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  <a class="code" href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html">compiler::UnallocatedOperand</a> operand =</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;      compiler::UnallocatedOperand::cast(node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a0491416c6f0810ff423f59b48913dc41">result</a>().<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueLocation.html#a4c03b6153436bf3a5e7e8a4d7cc0e539">operand</a>());</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160; </div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;  <span class="keywordflow">if</span> (operand.<a class="code" href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#aa44fff5f66ddcbdca75c1e93b8a6f04f">basic_policy</a>() == <a class="code" href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#a07530491d80058dd15f185f1970014c4ad5a33a233cdee4f20b09e85686da2999">compiler::UnallocatedOperand::FIXED_SLOT</a>) {</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a317252af8f98deb2e31a8b5b5aee3c2d">Is</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1InitialValue.html">InitialValue</a>&gt;());</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(!<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ad2c21cc858129e86e2e12a4ff38445ee">graph_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1Graph.html#ad210626def01e6c44938ac3c5c15aae7">is_osr</a>(), operand.<a class="code" href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#acf78d9a9657c45d23a0a5bf3787291c6">fixed_slot_index</a>() &lt; 0);</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <span class="comment">// Set the stack slot to exactly where the value is.</span></div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    <a class="code" href="classv8_1_1internal_1_1compiler_1_1AllocatedOperand.html">compiler::AllocatedOperand</a> location(<a class="code" href="classv8_1_1internal_1_1compiler_1_1LocationOperand.html#af9e0a334eaf58a05f9ea5b7139221140aff57c8ccb343b8b46f60e18322227df9">compiler::AllocatedOperand::STACK_SLOT</a>,</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;                                        node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#adf7b365973e369d5ac1532952776633a">GetMachineRepresentation</a>(),</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;                                        operand.<a class="code" href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#acf78d9a9657c45d23a0a5bf3787291c6">fixed_slot_index</a>());</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a0491416c6f0810ff423f59b48913dc41">result</a>().<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueLocation.html#ac14f2b5879f2fef8c4b920479b114951">SetAllocated</a>(location);</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a82b3110d479e37d3f6e4756dad39c539">Spill</a>(location);</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160; </div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    <span class="keywordtype">int</span> idx = operand.<a class="code" href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#acf78d9a9657c45d23a0a5bf3787291c6">fixed_slot_index</a>();</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    <span class="keywordflow">if</span> (idx &gt; 0) {</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;      <span class="comment">// Reserve this slot by increasing the top and also marking slots below as</span></div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;      <span class="comment">// free. Assumes slots are processed in increasing order.</span></div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a670bd4cb0e3f743602a7b37f06ff4463">is_tagged</a>());</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a1c7c9b7f14b9a33ea69cbe4578016a19">CHECK_GE</a>(idx, <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ac2b88b62a9fe52e59c0ccc6eb0015eda">tagged_</a>.<a class="code" href="structv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_1_1SpillSlots.html#a232592367d1ac813c5d334bb36a05069">top</a>);</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ac2b88b62a9fe52e59c0ccc6eb0015eda">tagged_</a>.<a class="code" href="structv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_1_1SpillSlots.html#a232592367d1ac813c5d334bb36a05069">top</a>; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; idx; ++<a class="code" href="namespacev8_1_1internal.html">i</a>) {</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;        <span class="keywordtype">bool</span> double_slot =</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;            <a class="code" href="namespacev8_1_1internal_1_1maglev.html#aad2426e234f3604b6298c3ba8d482056">IsDoubleRepresentation</a>(node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#af88af8dd683f7784ae6ace6d6c701d31">properties</a>().<a class="code" href="classv8_1_1internal_1_1maglev_1_1OpProperties.html#a9f989420e0ea0d6e75a761dc60903761">value_representation</a>());</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;        <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ac2b88b62a9fe52e59c0ccc6eb0015eda">tagged_</a>.<a class="code" href="structv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_1_1SpillSlots.html#aaf24839b47c6f48017b8cfde988b28e4">free_slots</a>.emplace_back(<a class="code" href="namespacev8_1_1internal.html">i</a>, node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a31881ef84c306859d771a5c12d67cf6f">live_range</a>().<a class="code" href="structv8_1_1internal_1_1maglev_1_1ValueNode_1_1LiveRange.html#affc65f1ee43754757176efe9cc676e74">start</a>,</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;                                        double_slot);</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;      }</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;      <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ac2b88b62a9fe52e59c0ccc6eb0015eda">tagged_</a>.<a class="code" href="structv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_1_1SpillSlots.html#a232592367d1ac813c5d334bb36a05069">top</a> = idx + 1;</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    }</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;  }</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160; </div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;  <span class="keywordflow">switch</span> (operand.<a class="code" href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#acb045c45b975b0e5ce57f068476114d8">extended_policy</a>()) {</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#a7bdb03b8ffc2cd9db894dc3f3ded2030a269dfcae7aa411715a3ec08ba3449e53">compiler::UnallocatedOperand::FIXED_REGISTER</a>: {</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Register.html">Register</a> r = <a class="code" href="classv8_1_1internal_1_1Register.html#a161b31fbba410d1c513ae779df7b9cbb">Register::from_code</a>(operand.<a class="code" href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#acee3820e5d7282c0283e10c3bdcb6ae4">fixed_register_index</a>());</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;      <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a1773c9b0318bfd1c50db7972dce2c793">DropRegisterValueAtEnd</a>(r);</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;      node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a0491416c6f0810ff423f59b48913dc41">result</a>().<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueLocation.html#ac14f2b5879f2fef8c4b920479b114951">SetAllocated</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a6a326398de3c6a5072eea22327c7746d">ForceAllocate</a>(r, node));</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    }</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160; </div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#a7bdb03b8ffc2cd9db894dc3f3ded2030a3de98ae7e8339fded3184b2f53f77fea">compiler::UnallocatedOperand::MUST_HAVE_REGISTER</a>:</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;      node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a0491416c6f0810ff423f59b48913dc41">result</a>().<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueLocation.html#ac14f2b5879f2fef8c4b920479b114951">SetAllocated</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a028fd95207c1ba7d7f4dfb45f0a768a2">AllocateRegisterAtEnd</a>(node));</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160; </div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#a7bdb03b8ffc2cd9db894dc3f3ded2030a788e7e33a485a900cc84a730fed7f611">compiler::UnallocatedOperand::SAME_AS_INPUT</a>: {</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;      <a class="code" href="classv8_1_1internal_1_1maglev_1_1Input.html">Input</a>&amp; input = node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#aaca061a8d317e9eee5380c21fa78fed8">input</a>(operand.<a class="code" href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#a01bd5125d575fd47d8fe8d3e4a84e3fa">input_index</a>());</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;      node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a0491416c6f0810ff423f59b48913dc41">result</a>().<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueLocation.html#ac14f2b5879f2fef8c4b920479b114951">SetAllocated</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a6a326398de3c6a5072eea22327c7746d">ForceAllocate</a>(input, node));</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;      <span class="comment">// Clear any hint that (probably) comes from this constraint.</span></div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;      <span class="keywordflow">if</span> (node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a93908c980619702cafe8e1c32eb4c0d1">has_hint</a>()) input.<a class="code" href="classv8_1_1internal_1_1maglev_1_1Input.html#aedd7c34265adbcc0aa8ad2203696154a">node</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#aab7f7640a3a78358626ccd8e3dbe81a7">ClearHint</a>();</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    }</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160; </div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#a7bdb03b8ffc2cd9db894dc3f3ded2030a4544caa3bb5c78f8d96a2ddc3476c72d">compiler::UnallocatedOperand::FIXED_FP_REGISTER</a>: {</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;      <a class="code" href="classv8_1_1internal_1_1DoubleRegister.html">DoubleRegister</a> r =</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;          <a class="code" href="classv8_1_1internal_1_1RegisterBase.html#a7b1dbf8b42ce2e2f8ac87134064661b0">DoubleRegister::from_code</a>(operand.<a class="code" href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#acee3820e5d7282c0283e10c3bdcb6ae4">fixed_register_index</a>());</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;      <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a1773c9b0318bfd1c50db7972dce2c793">DropRegisterValueAtEnd</a>(r);</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;      node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a0491416c6f0810ff423f59b48913dc41">result</a>().<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueLocation.html#ac14f2b5879f2fef8c4b920479b114951">SetAllocated</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a6a326398de3c6a5072eea22327c7746d">ForceAllocate</a>(r, node));</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    }</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160; </div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#a7bdb03b8ffc2cd9db894dc3f3ded2030a2d184d430b14ea53388609c3e9a17500">compiler::UnallocatedOperand::NONE</a>:</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="namespacev8_1_1internal_1_1maglev.html#a6e60c63e9c4afea01a72683d99a3855e">IsConstantNode</a>(node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#adcac76f5303c38bb79b6c87eb2881a6d">opcode</a>()));</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160; </div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#a7bdb03b8ffc2cd9db894dc3f3ded2030af4cb2924486171f73065ec6e76eb5267">compiler::UnallocatedOperand::MUST_HAVE_SLOT</a>:</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#a7bdb03b8ffc2cd9db894dc3f3ded2030a2dc451434ae3cfd5e08c4a5e629c10c7">compiler::UnallocatedOperand::REGISTER_OR_SLOT</a>:</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#a7bdb03b8ffc2cd9db894dc3f3ded2030a7ea04665a6ce29b237bf41036b421c75">compiler::UnallocatedOperand::REGISTER_OR_SLOT_OR_CONSTANT</a>:</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;  }</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160; </div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;  <span class="comment">// Immediately kill the register use if the node doesn&#39;t have a valid</span></div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;  <span class="comment">// live-range.</span></div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;  <span class="comment">// TODO(verwaest): Remove once we can avoid allocating such registers.</span></div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;  <span class="keywordflow">if</span> (!node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a6946840ea6bd4df708c830aebfb59e34">has_valid_live_range</a>() &amp;&amp;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;      node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a0491416c6f0810ff423f59b48913dc41">result</a>().<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueLocation.html#a4c03b6153436bf3a5e7e8a4d7cc0e539">operand</a>().<a class="code" href="classv8_1_1internal_1_1compiler_1_1InstructionOperand.html#afe477a9f7b0dc095c988b77e62916440">IsAnyRegister</a>()) {</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a2b60029eb983f04e9a00348d55594ea4">has_register</a>());</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a2e15656b2c14a4f37e8bac2957abdd70">FreeRegistersUsedBy</a>(node);</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a2b60029eb983f04e9a00348d55594ea4">has_register</a>());</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a89614aabc889de73bc6c69836dfcb8d3">has_no_more_uses</a>());</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;  }</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;}</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160; </div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> RegisterT&gt;</div>
<div class="line"><a name="l00907"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a317d5918d7ed071a17f9c6c000693198">  907</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a317d5918d7ed071a17f9c6c000693198">StraightForwardRegisterAllocator::DropRegisterValue</a>(</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html">RegisterFrameState&lt;RegisterT&gt;</a>&amp; registers, RegisterT reg, <span class="keywordtype">bool</span> force_spill) {</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;  <span class="comment">// The register should not already be free.</span></div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!registers.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#a28131c9b222f44fa314b904704366272">free</a>().has(reg));</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160; </div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* node = registers.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#ab7f6b41488705b1c4b778269cfae801e">GetValue</a>(reg);</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160; </div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_maglev_regalloc) {</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;os() &lt;&lt; <span class="stringliteral">&quot;  dropping &quot;</span> &lt;&lt; reg &lt;&lt; <span class="stringliteral">&quot; value &quot;</span></div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;                            &lt;&lt; <a class="code" href="classv8_1_1internal_1_1maglev_1_1PrintNodeLabel.html">PrintNodeLabel</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae86d029ad577b8c95464c76fe78e5ed4">graph_labeller</a>(), node) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;  }</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160; </div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#abe5419355372f787c28119c509343410">MachineRepresentation</a> mach_repr = node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#adf7b365973e369d5ac1532952776633a">GetMachineRepresentation</a>();</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160; </div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  <span class="comment">// Remove the register from the node&#39;s list.</span></div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#abe9769819d8c9841e78ae2f5da42eb47">RemoveRegister</a>(reg);</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;  <span class="comment">// Return if the removed value already has another register or is loadable</span></div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;  <span class="comment">// from memory.</span></div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;  <span class="keywordflow">if</span> (node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a2b60029eb983f04e9a00348d55594ea4">has_register</a>() || node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a2aa6cddf21fbe3397564ce1f57dfb4be">is_loadable</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;  <span class="comment">// Try to move the value to another register. Do so without blocking that</span></div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;  <span class="comment">// register, as we may still want to use it elsewhere.</span></div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;  <span class="keywordflow">if</span> (!registers.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#a2c7301e9092234999c57ca7f6ac65ebe">UnblockedFreeIsEmpty</a>() &amp;&amp; !force_spill) {</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    RegisterT target_reg = registers.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#aaa8e87b02cf8c45afb0d853d8c891fe1">unblocked_free</a>().first();</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    RegisterT hint_reg = node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#acb2c39c5d1bedd518407299da5762861">GetRegisterHint</a>&lt;RegisterT&gt;();</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    <span class="keywordflow">if</span> (hint_reg.is_valid() &amp;&amp; registers.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#aaa8e87b02cf8c45afb0d853d8c891fe1">unblocked_free</a>().has(hint_reg)) {</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;      target_reg = hint_reg;</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    }</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    registers.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#a0ace98877e450f5dc94fa4764f184a1e">RemoveFromFree</a>(target_reg);</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    registers.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#adbc04ce3328b7dd66e1a6a1d385fd8bf">SetValueWithoutBlocking</a>(target_reg, node);</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <span class="comment">// Emit a gapmove.</span></div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    <a class="code" href="classv8_1_1internal_1_1compiler_1_1AllocatedOperand.html">compiler::AllocatedOperand</a> source(<a class="code" href="classv8_1_1internal_1_1compiler_1_1LocationOperand.html#af9e0a334eaf58a05f9ea5b7139221140aafe479edbb7a04d078220746abc95b19">compiler::LocationOperand::REGISTER</a>,</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;                                      mach_repr, reg.code());</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    <a class="code" href="classv8_1_1internal_1_1compiler_1_1AllocatedOperand.html">compiler::AllocatedOperand</a> target(<a class="code" href="classv8_1_1internal_1_1compiler_1_1LocationOperand.html#af9e0a334eaf58a05f9ea5b7139221140aafe479edbb7a04d078220746abc95b19">compiler::LocationOperand::REGISTER</a>,</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;                                      mach_repr, target_reg.code());</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ab8742bd5bf8bb7f62e5ad347e6bb6c8c">AddMoveBeforeCurrentNode</a>(node, source, target);</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;  }</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160; </div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;  <span class="comment">// If all else fails, spill the value.</span></div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#aa08f61a5daa2f87c952d32f3a333d237">Spill</a>(node);</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;}</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160; </div>
<div class="line"><a name="l00949"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#aaa2f761b05550b0b74fe7901b74444ee">  949</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a317d5918d7ed071a17f9c6c000693198">StraightForwardRegisterAllocator::DropRegisterValue</a>(<a class="code" href="classv8_1_1internal_1_1Register.html">Register</a> reg) {</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;  DropRegisterValue&lt;Register&gt;(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a722303e16e26e329257d54b41b460725">general_registers_</a>, reg);</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;}</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160; </div>
<div class="line"><a name="l00953"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a408dd4d488aebad7fba9d68bb6eb5fec">  953</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a317d5918d7ed071a17f9c6c000693198">StraightForwardRegisterAllocator::DropRegisterValue</a>(<a class="code" href="classv8_1_1internal_1_1DoubleRegister.html">DoubleRegister</a> reg) {</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;  DropRegisterValue&lt;DoubleRegister&gt;(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a4996578e4a68d9cbfee6837d3d1154e4">double_registers_</a>, reg);</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;}</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160; </div>
<div class="line"><a name="l00957"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#aa0175d8f4977449f26f9fe3cf817a17c">  957</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#aa0175d8f4977449f26f9fe3cf817a17c">StraightForwardRegisterAllocator::InitializeBranchTargetPhis</a>(</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    <span class="keywordtype">int</span> predecessor_id, <a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html">BasicBlock</a>* target) {</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!target-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a647d849058456cbcd5b2a0c4eefe189c">is_edge_split_block</a>());</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160; </div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;  <span class="keywordflow">if</span> (!target-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a68f63035f27811c2690e323ad13f8c4b">has_phi</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160; </div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;  <span class="comment">// Phi moves are emitted by resolving all phi moves as a single parallel move,</span></div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;  <span class="comment">// which means we shouldn&#39;t update register state as we go (as if we were</span></div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;  <span class="comment">// emitting a series of serialised moves) but rather take &#39;old&#39; register</span></div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;  <span class="comment">// state as the phi input.</span></div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;  <a class="code" href="classv8_1_1base_1_1ThreadedListBase.html">Phi::List</a>&amp; phis = *target-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a4c653b6e3f390cef7b7fa229b4602609">phis</a>();</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> phi_it = phis.<a class="code" href="classv8_1_1base_1_1ThreadedListBase.html#ac64e5ee0d3680e57549ceaa4eff5a668">begin</a>(); phi_it != phis.<a class="code" href="classv8_1_1base_1_1ThreadedListBase.html#a4f6949269db815d87d938f8638903816">end</a>();) {</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1Phi.html">Phi</a>* phi = *phi_it;</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    <span class="keywordflow">if</span> (!phi-&gt;has_valid_live_range()) {</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;      <span class="comment">// We might still have left over dead Phis, due to phis being kept</span></div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;      <span class="comment">// alive by deopts that the representation analysis dropped. Clear</span></div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;      <span class="comment">// them out now.</span></div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;      phi_it = phis.<a class="code" href="classv8_1_1base_1_1ThreadedListBase.html#a2eeabdb511e38ed098d237b6fcfce2ca">RemoveAt</a>(phi_it);</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;      <a class="code" href="classv8_1_1internal_1_1maglev_1_1Input.html">Input</a>&amp; input = phi-&gt;input(predecessor_id);</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;      input.<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueLocation.html#a6365544c086f7b8a1247227f3c9f7178">InjectLocation</a>(input.<a class="code" href="classv8_1_1internal_1_1maglev_1_1Input.html#aedd7c34265adbcc0aa8ad2203696154a">node</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#ac22f1588da47b97d15c6d1ea71a5c5e7">allocation</a>());</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;      ++phi_it;</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    }</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;  }</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;}</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160; </div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160; </div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;<span class="keywordtype">bool</span> StraightForwardRegisterAllocator::AllUsedRegistersLiveAt(</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1ConditionalControlNode.html">ConditionalControlNode</a>* control_node, <a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html">BasicBlock</a>* target) {</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;  <span class="keyword">auto</span> ForAllRegisters = [&amp;](<span class="keyword">const</span> <span class="keyword">auto</span>&amp; registers) {</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> reg : registers.used()) {</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#a1734b81a6e299f173861ed10ff9eef67">IsLiveAtTarget</a>(registers.GetValue(reg), control_node, target)) {</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;      }</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    }</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;  };</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;  <span class="keywordflow">return</span> ForAllRegisters(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a722303e16e26e329257d54b41b460725">general_registers_</a>) &amp;&amp;</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;         ForAllRegisters(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a4996578e4a68d9cbfee6837d3d1154e4">double_registers_</a>);</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;}</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160; </div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;<span class="keywordtype">bool</span> StraightForwardRegisterAllocator::AllUsedRegistersLiveAt(</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    BasicBlock* target) {</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  <span class="keyword">auto</span> ForAllRegisters = [&amp;](<span class="keyword">const</span> <span class="keyword">auto</span>&amp; registers) {</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> reg : registers.used()) {</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;      <span class="keywordflow">if</span> (registers.GetValue(reg)-&gt;live_range().end &lt; target-&gt;first_id()) {</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;      }</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    }</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;  };</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;  <span class="keywordflow">return</span> ForAllRegisters(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a722303e16e26e329257d54b41b460725">general_registers_</a>) &amp;&amp;</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;         ForAllRegisters(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a4996578e4a68d9cbfee6837d3d1154e4">double_registers_</a>);</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;}</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160; </div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// DEBUG</span></div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160; </div>
<div class="line"><a name="l01015"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ab15b05347d3161addd984d415a64f379"> 1015</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ab15b05347d3161addd984d415a64f379">StraightForwardRegisterAllocator::InitializeConditionalBranchTarget</a>(</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1ConditionalControlNode.html">ConditionalControlNode</a>* control_node, <a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html">BasicBlock</a>* target) {</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!target-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a68f63035f27811c2690e323ad13f8c4b">has_phi</a>());</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160; </div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;  <span class="keywordflow">if</span> (target-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a7c760d73c06d49c39fda43889315a239">has_state</a>()) {</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    <span class="comment">// Not a fall-through branch, copy the state over.</span></div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a39254d6d56299ed14508926e07d6e92e">InitializeBranchTargetRegisterValues</a>(control_node, target);</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;  }</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;  <span class="keywordflow">if</span> (target-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a647d849058456cbcd5b2a0c4eefe189c">is_edge_split_block</a>()) {</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a570a04818b0b49be804f5d5141b2c0f9">InitializeEmptyBlockRegisterValues</a>(control_node, target);</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;  }</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160; </div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(control_node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a6f6b3d7f22a0a34aecd6b463a32f4311">id</a>() + 1, target-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#af7316bf33e97ea4b8126f066cbee173d">first_id</a>());</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(AllUsedRegistersLiveAt(control_node, target));</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;}</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160; </div>
<div class="line"><a name="l01031"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a5a568515e703280bf6cd8564e373fc87"> 1031</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a5a568515e703280bf6cd8564e373fc87">StraightForwardRegisterAllocator::AllocateControlNode</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1ControlNode.html">ControlNode</a>* node,</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;                                                           <a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html">BasicBlock</a>* block) {</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a3422ff65e920a4d86a1729a9bda6919a">current_node_</a> = node;</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160; </div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;  <span class="comment">// Control nodes can&#39;t lazy deopt at the moment.</span></div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#af88af8dd683f7784ae6ace6d6c701d31">properties</a>().<a class="code" href="classv8_1_1internal_1_1maglev_1_1OpProperties.html#a7e9ef5825d63a72aca3d02eeed5f6cf1">can_lazy_deopt</a>());</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160; </div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;  <span class="keywordflow">if</span> (node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a317252af8f98deb2e31a8b5b5aee3c2d">Is</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1Abort.html">Abort</a>&gt;()) {</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    <span class="comment">// Do nothing.</span></div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a33269e56968f19258aed52631c596d94">general_temporaries</a>().<a class="code" href="classv8_1_1internal_1_1RegListBase.html#a367df28bdf4931ccbde44a11e8d5e731">is_empty</a>());</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a3dff534f77ba8983d7d5ac21a98e39df">double_temporaries</a>().<a class="code" href="classv8_1_1internal_1_1RegListBase.html#a367df28bdf4931ccbde44a11e8d5e731">is_empty</a>());</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#aade88e78e48b2cd67f76f98dc4da2238">num_temporaries_needed</a>&lt;<a class="code" href="classv8_1_1internal_1_1Register.html">Register</a>&gt;(), 0);</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#aade88e78e48b2cd67f76f98dc4da2238">num_temporaries_needed</a>&lt;<a class="code" href="classv8_1_1internal_1_1DoubleRegister.html">DoubleRegister</a>&gt;(), 0);</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#aaa297e0440990a8f7529181b6b3e5467">input_count</a>(), 0);</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    <span class="comment">// Either there are no special properties, or there&#39;s a call but it doesn&#39;t</span></div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    <span class="comment">// matter because we&#39;ll abort anyway.</span></div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;        node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#af88af8dd683f7784ae6ace6d6c701d31">properties</a>() != <a class="code" href="classv8_1_1internal_1_1maglev_1_1OpProperties.html">OpProperties</a>(0),</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;        node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#af88af8dd683f7784ae6ace6d6c701d31">properties</a>() == <a class="code" href="classv8_1_1internal_1_1maglev_1_1OpProperties.html#a815561a6c6452829fadaca4bdb0bf20e">OpProperties::Call</a>() &amp;&amp; node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a317252af8f98deb2e31a8b5b5aee3c2d">Is</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1Abort.html">Abort</a>&gt;());</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160; </div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_maglev_regalloc) {</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;      <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;Process(node, <a class="code" href="classv8_1_1internal_1_1maglev_1_1ProcessingState.html">ProcessingState</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a07f80e3d7f35007da11101e93ebda0d5">block_it_</a>));</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    }</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a317252af8f98deb2e31a8b5b5aee3c2d">Is</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1Deopt.html">Deopt</a>&gt;()) {</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    <span class="comment">// No temporaries.</span></div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a33269e56968f19258aed52631c596d94">general_temporaries</a>().<a class="code" href="classv8_1_1internal_1_1RegListBase.html#a367df28bdf4931ccbde44a11e8d5e731">is_empty</a>());</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a3dff534f77ba8983d7d5ac21a98e39df">double_temporaries</a>().<a class="code" href="classv8_1_1internal_1_1RegListBase.html#a367df28bdf4931ccbde44a11e8d5e731">is_empty</a>());</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#aade88e78e48b2cd67f76f98dc4da2238">num_temporaries_needed</a>&lt;<a class="code" href="classv8_1_1internal_1_1Register.html">Register</a>&gt;(), 0);</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#aade88e78e48b2cd67f76f98dc4da2238">num_temporaries_needed</a>&lt;<a class="code" href="classv8_1_1internal_1_1DoubleRegister.html">DoubleRegister</a>&gt;(), 0);</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#aaa297e0440990a8f7529181b6b3e5467">input_count</a>(), 0);</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#af88af8dd683f7784ae6ace6d6c701d31">properties</a>(), <a class="code" href="classv8_1_1internal_1_1maglev_1_1OpProperties.html#ae320553646fbc605261876ab43718c1f">OpProperties::EagerDeopt</a>());</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160; </div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae7148199ae1399ec2911e513718a3240">AllocateEagerDeopt</a>(*node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#ae56d1ecfb6e5d683ba73faff701c2fd7">eager_deopt_info</a>());</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160; </div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_maglev_regalloc) {</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;      <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;Process(node, <a class="code" href="classv8_1_1internal_1_1maglev_1_1ProcessingState.html">ProcessingState</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a07f80e3d7f35007da11101e93ebda0d5">block_it_</a>));</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    }</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> unconditional = node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a6f8a8d39dcebacfd9d44ad02860056bc">TryCast</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1UnconditionalControlNode.html">UnconditionalControlNode</a>&gt;()) {</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;    <span class="comment">// No temporaries.</span></div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a33269e56968f19258aed52631c596d94">general_temporaries</a>().<a class="code" href="classv8_1_1internal_1_1RegListBase.html#a367df28bdf4931ccbde44a11e8d5e731">is_empty</a>());</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a3dff534f77ba8983d7d5ac21a98e39df">double_temporaries</a>().<a class="code" href="classv8_1_1internal_1_1RegListBase.html#a367df28bdf4931ccbde44a11e8d5e731">is_empty</a>());</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#aade88e78e48b2cd67f76f98dc4da2238">num_temporaries_needed</a>&lt;<a class="code" href="classv8_1_1internal_1_1Register.html">Register</a>&gt;(), 0);</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#aade88e78e48b2cd67f76f98dc4da2238">num_temporaries_needed</a>&lt;<a class="code" href="classv8_1_1internal_1_1DoubleRegister.html">DoubleRegister</a>&gt;(), 0);</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#aaa297e0440990a8f7529181b6b3e5467">input_count</a>(), 0);</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#af88af8dd683f7784ae6ace6d6c701d31">properties</a>().<a class="code" href="classv8_1_1internal_1_1maglev_1_1OpProperties.html#a6f757478a116a03612eeeed4b7c2e1a0">can_eager_deopt</a>());</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#af88af8dd683f7784ae6ace6d6c701d31">properties</a>().<a class="code" href="classv8_1_1internal_1_1maglev_1_1OpProperties.html#a7e9ef5825d63a72aca3d02eeed5f6cf1">can_lazy_deopt</a>());</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#af88af8dd683f7784ae6ace6d6c701d31">properties</a>().<a class="code" href="classv8_1_1internal_1_1maglev_1_1OpProperties.html#a1d098a250ee68ea845d8fcbcb822827e">needs_register_snapshot</a>());</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#af88af8dd683f7784ae6ace6d6c701d31">properties</a>().<a class="code" href="classv8_1_1internal_1_1maglev_1_1OpProperties.html#aa5009397fc12d77ddd74c8a5cab7a52f">is_call</a>());</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160; </div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    <span class="keyword">auto</span> predecessor_id = block-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a26988547df592e248b8fade8a1ad11a6">predecessor_id</a>();</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    <span class="keyword">auto</span> target = unconditional-&gt;target();</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160; </div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#aa0175d8f4977449f26f9fe3cf817a17c">InitializeBranchTargetPhis</a>(predecessor_id, target);</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ad89ef5232f4b2a001df6e204e43d7a20">MergeRegisterValues</a>(unconditional, target, predecessor_id);</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    <span class="keywordflow">if</span> (target-&gt;has_phi()) {</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1maglev_1_1Phi.html">Phi</a>* phi : *target-&gt;phis()) {</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;        <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a8aa7826d195c03e8078109238f87306a">UpdateUse</a>(&amp;phi-&gt;input(predecessor_id));</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;      }</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    }</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160; </div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    <span class="comment">// For JumpLoops, now update the uses of any node used in, but not defined</span></div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    <span class="comment">// in the loop. This makes sure that such nodes&#39; lifetimes are extended to</span></div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    <span class="comment">// the entire body of the loop. This must be after phi initialisation so</span></div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    <span class="comment">// that value dropping in the phi initialisation doesn&#39;t think these</span></div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    <span class="comment">// extended lifetime nodes are dead.</span></div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> jump_loop = node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a6f8a8d39dcebacfd9d44ad02860056bc">TryCast</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1JumpLoop.html">JumpLoop</a>&gt;()) {</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1maglev_1_1Input.html">Input</a>&amp; input : jump_loop-&gt;used_nodes()) {</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;        <span class="keywordflow">if</span> (!input.node()-&gt;has_register() &amp;&amp; !input.node()-&gt;is_loadable()) {</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;          <span class="comment">// If the value isn&#39;t loadable by the end of a loop (this can happen</span></div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;          <span class="comment">// e.g. when a deferred throw doesn&#39;t spill it, and an exception</span></div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;          <span class="comment">// handler drops the value)</span></div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;          <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#aa08f61a5daa2f87c952d32f3a333d237">Spill</a>(input.node());</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;        }</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;        <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a8aa7826d195c03e8078109238f87306a">UpdateUse</a>(&amp;input);</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;      }</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    }</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160; </div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_maglev_regalloc) {</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;      <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;Process(node, <a class="code" href="classv8_1_1internal_1_1maglev_1_1ProcessingState.html">ProcessingState</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a07f80e3d7f35007da11101e93ebda0d5">block_it_</a>));</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    }</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a317252af8f98deb2e31a8b5b5aee3c2d">Is</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ConditionalControlNode.html">ConditionalControlNode</a>&gt;() || node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a317252af8f98deb2e31a8b5b5aee3c2d">Is</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1Return.html">Return</a>&gt;());</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae8316f4b58666c1f3edae21b6eb2dfce">AssignInputs</a>(node);</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a69b9790efed1973a771224a57d3f1ee2">VerifyInputs</a>(node);</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160; </div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#af88af8dd683f7784ae6ace6d6c701d31">properties</a>().<a class="code" href="classv8_1_1internal_1_1maglev_1_1OpProperties.html#a6f757478a116a03612eeeed4b7c2e1a0">can_eager_deopt</a>());</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#af88af8dd683f7784ae6ace6d6c701d31">properties</a>().<a class="code" href="classv8_1_1internal_1_1maglev_1_1OpProperties.html#a7e9ef5825d63a72aca3d02eeed5f6cf1">can_lazy_deopt</a>());</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160; </div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    <span class="keywordflow">if</span> (node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#af88af8dd683f7784ae6ace6d6c701d31">properties</a>().<a class="code" href="classv8_1_1internal_1_1maglev_1_1OpProperties.html#aa5009397fc12d77ddd74c8a5cab7a52f">is_call</a>()) <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a23b7fc6e6ad48029a3602170c485ea4a">SpillAndClearRegisters</a>();</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160; </div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#af88af8dd683f7784ae6ace6d6c701d31">properties</a>().<a class="code" href="classv8_1_1internal_1_1maglev_1_1OpProperties.html#a1d098a250ee68ea845d8fcbcb822827e">needs_register_snapshot</a>());</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160; </div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a722303e16e26e329257d54b41b460725">general_registers_</a>.free() | node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a33269e56968f19258aed52631c596d94">general_temporaries</a>(),</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;              <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a722303e16e26e329257d54b41b460725">general_registers_</a>.free());</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a4996578e4a68d9cbfee6837d3d1154e4">double_registers_</a>.free() | node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a3dff534f77ba8983d7d5ac21a98e39df">double_temporaries</a>(),</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;              <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a4996578e4a68d9cbfee6837d3d1154e4">double_registers_</a>.free());</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160; </div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a722303e16e26e329257d54b41b460725">general_registers_</a>.clear_blocked();</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a4996578e4a68d9cbfee6837d3d1154e4">double_registers_</a>.clear_blocked();</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a4aee117ed0ee67a5a265401a6255caa7">VerifyRegisterState</a>();</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160; </div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_maglev_regalloc) {</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;      <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;Process(node, <a class="code" href="classv8_1_1internal_1_1maglev_1_1ProcessingState.html">ProcessingState</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a07f80e3d7f35007da11101e93ebda0d5">block_it_</a>));</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    }</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160; </div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    <span class="comment">// Finally, initialize the merge states of branch targets, including the</span></div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;    <span class="comment">// fallthrough, with the final state after all allocation</span></div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> conditional = node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a6f8a8d39dcebacfd9d44ad02860056bc">TryCast</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BranchControlNode.html">BranchControlNode</a>&gt;()) {</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;      <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ab15b05347d3161addd984d415a64f379">InitializeConditionalBranchTarget</a>(conditional, conditional-&gt;if_true());</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;      <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ab15b05347d3161addd984d415a64f379">InitializeConditionalBranchTarget</a>(conditional, conditional-&gt;if_false());</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1maglev_1_1Switch.html">Switch</a>* control_node = node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a6f8a8d39dcebacfd9d44ad02860056bc">TryCast</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1Switch.html">Switch</a>&gt;()) {</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;      <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlockRef.html">BasicBlockRef</a>* targets = control_node-&gt;targets();</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; control_node-&gt;size(); <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;        <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ab15b05347d3161addd984d415a64f379">InitializeConditionalBranchTarget</a>(control_node, targets[<a class="code" href="namespacev8_1_1internal.html">i</a>].block_ptr());</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;      }</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;      <span class="keywordflow">if</span> (control_node-&gt;has_fallthrough()) {</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;        <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ab15b05347d3161addd984d415a64f379">InitializeConditionalBranchTarget</a>(control_node,</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;                                          control_node-&gt;fallthrough());</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;      }</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    }</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;  }</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160; </div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a4aee117ed0ee67a5a265401a6255caa7">VerifyRegisterState</a>();</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;}</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160; </div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> RegisterT&gt;</div>
<div class="line"><a name="l01157"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ad6946dc846bb4c82c24ab786b960b2f6"> 1157</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ad6946dc846bb4c82c24ab786b960b2f6">StraightForwardRegisterAllocator::SetLoopPhiRegisterHint</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1Phi.html">Phi</a>* phi,</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;                                                              RegisterT reg) {</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;  <a class="code" href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html">compiler::UnallocatedOperand</a> hint(</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;      std::is_same_v&lt;RegisterT, Register&gt;</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;          ? <a class="code" href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#a7bdb03b8ffc2cd9db894dc3f3ded2030a269dfcae7aa411715a3ec08ba3449e53">compiler::UnallocatedOperand::FIXED_REGISTER</a></div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;          : <a class="code" href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#a7bdb03b8ffc2cd9db894dc3f3ded2030a4544caa3bb5c78f8d96a2ddc3476c72d">compiler::UnallocatedOperand::FIXED_FP_REGISTER</a>,</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;      reg.code(), <a class="code" href="namespacev8_1_1internal_1_1maglev.html#aa43cf0651586da94be8d1801deb0d30f">kNoVreg</a>);</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1maglev_1_1Input.html">Input</a>&amp; input : *phi) {</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    <span class="keywordflow">if</span> (input.node()-&gt;id() &gt; phi-&gt;id()) {</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;      input.node()-&gt;SetHint(hint);</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    }</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;  }</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;}</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160; </div>
<div class="line"><a name="l01171"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a2d142c2936add8573ad2f994ee53718e"> 1171</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a2d142c2936add8573ad2f994ee53718e">StraightForwardRegisterAllocator::TryAllocateToInput</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1Phi.html">Phi</a>* phi) {</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;  <span class="comment">// Try allocate phis to a register used by any of the inputs.</span></div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1maglev_1_1Input.html">Input</a>&amp; input : *phi) {</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;    <span class="keywordflow">if</span> (input.operand().IsRegister()) {</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;      <span class="comment">// We assume Phi nodes only point to tagged values, and so they use a</span></div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;      <span class="comment">// general register.</span></div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Register.html">Register</a> reg = input.AssignedGeneralRegister();</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a722303e16e26e329257d54b41b460725">general_registers_</a>.unblocked_free().has(reg)) {</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;        phi-&gt;result().SetAllocated(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a6a326398de3c6a5072eea22327c7746d">ForceAllocate</a>(reg, phi));</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;        <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ad6946dc846bb4c82c24ab786b960b2f6">SetLoopPhiRegisterHint</a>(phi, reg);</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a722303e16e26e329257d54b41b460725">general_registers_</a>.GetValue(reg), phi);</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_maglev_regalloc) {</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;          <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;Process(phi, <a class="code" href="classv8_1_1internal_1_1maglev_1_1ProcessingState.html">ProcessingState</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a07f80e3d7f35007da11101e93ebda0d5">block_it_</a>));</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;          <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;os()</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;              &lt;&lt; <span class="stringliteral">&quot;phi (reuse) &quot;</span> &lt;&lt; input.operand() &lt;&lt; std::endl;</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;        }</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;      }</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    }</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;  }</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;}</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160; </div>
<div class="line"><a name="l01193"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ab8742bd5bf8bb7f62e5ad347e6bb6c8c"> 1193</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ab8742bd5bf8bb7f62e5ad347e6bb6c8c">StraightForwardRegisterAllocator::AddMoveBeforeCurrentNode</a>(</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* node, <a class="code" href="classv8_1_1internal_1_1compiler_1_1InstructionOperand.html">compiler::InstructionOperand</a> source,</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    <a class="code" href="classv8_1_1internal_1_1compiler_1_1AllocatedOperand.html">compiler::AllocatedOperand</a> target) {</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1Node.html">Node</a>* gap_move;</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;  <span class="keywordflow">if</span> (source.IsConstant()) {</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="namespacev8_1_1internal_1_1maglev.html#a6e60c63e9c4afea01a72683d99a3855e">IsConstantNode</a>(node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#adcac76f5303c38bb79b6c87eb2881a6d">opcode</a>()));</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_maglev_regalloc) {</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;      <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;os()</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;          &lt;&lt; <span class="stringliteral">&quot;  constant gap move: &quot;</span> &lt;&lt; target &lt;&lt; <span class="stringliteral">&quot; ← &quot;</span></div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;          &lt;&lt; <a class="code" href="classv8_1_1internal_1_1maglev_1_1PrintNodeLabel.html">PrintNodeLabel</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae86d029ad577b8c95464c76fe78e5ed4">graph_labeller</a>(), node) &lt;&lt; std::endl;</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    }</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    gap_move =</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;        Node::New&lt;ConstantGapMove&gt;(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a4b887f42994544d0df2da9c591601c9e">compilation_info_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1MaglevCompilationInfo.html#aed2ced4ee8e9f34c922029cb4d9f2b75">zone</a>(), 0, node, target);</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_maglev_regalloc) {</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;      <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;os() &lt;&lt; <span class="stringliteral">&quot;  gap move: &quot;</span> &lt;&lt; target &lt;&lt; <span class="stringliteral">&quot; ← &quot;</span></div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;                              &lt;&lt; <a class="code" href="classv8_1_1internal_1_1maglev_1_1PrintNodeLabel.html">PrintNodeLabel</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae86d029ad577b8c95464c76fe78e5ed4">graph_labeller</a>(), node) &lt;&lt; <span class="stringliteral">&quot;:&quot;</span></div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;                              &lt;&lt; source &lt;&lt; std::endl;</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    }</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    gap_move =</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;        Node::New&lt;GapMove&gt;(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a4b887f42994544d0df2da9c591601c9e">compilation_info_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1MaglevCompilationInfo.html#aed2ced4ee8e9f34c922029cb4d9f2b75">zone</a>(), 0,</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;                           <a class="code" href="classv8_1_1internal_1_1compiler_1_1LocationOperand.html#a14a0a8abb4b6ac796e0fae75948a270e">compiler::AllocatedOperand::cast</a>(source), target);</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;  }</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;  gap_move-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a6a6253c53009ff0266b88103dbddbc8d">InitTemporaries</a>();</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a4b887f42994544d0df2da9c591601c9e">compilation_info_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1MaglevCompilationInfo.html#ad5ab460a0b5300e8fb41bc7505b4e79a">has_graph_labeller</a>()) {</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae86d029ad577b8c95464c76fe78e5ed4">graph_labeller</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1MaglevGraphLabeller.html#a2183047d3dc4dfe23f3ad5f908dae230">RegisterNode</a>(gap_move);</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;  }</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html">BasicBlock</a>* block = *<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a07f80e3d7f35007da11101e93ebda0d5">block_it_</a>;</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae1d3774a50bdff63954b0fbcea9f18b7">node_it_</a> == block-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a664760d52a8f741c778205c63661fcb1">nodes</a>().<a class="code" href="classv8_1_1internal_1_1ZoneVector.html#aafcc5efeba17a85b82dc9ad4d2547442">end</a>()) {</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a3422ff65e920a4d86a1729a9bda6919a">current_node_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a317252af8f98deb2e31a8b5b5aee3c2d">Is</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ControlNode.html">ControlNode</a>&gt;());</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;    <span class="comment">// We&#39;re at the control node, so append instead.</span></div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    block-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a664760d52a8f741c778205c63661fcb1">nodes</a>().<a class="code" href="classv8_1_1internal_1_1ZoneVector.html#af4d3701d605c7c9ed301a2ef3880784f">push_back</a>(gap_move);</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae1d3774a50bdff63954b0fbcea9f18b7">node_it_</a> = block-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a664760d52a8f741c778205c63661fcb1">nodes</a>().<a class="code" href="classv8_1_1internal_1_1ZoneVector.html#aafcc5efeba17a85b82dc9ad4d2547442">end</a>();</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    <span class="comment">// We should not add any gap move before a GetSecondReturnedValue.</span></div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a7fbb5ce0a68326f9f011be5a1ee49a97">patches_</a>.emplace_back(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae1d3774a50bdff63954b0fbcea9f18b7">node_it_</a> - block-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a664760d52a8f741c778205c63661fcb1">nodes</a>().<a class="code" href="classv8_1_1internal_1_1ZoneVector.html#adc2a3ab5562b5a2ca9201af92225ee47">begin</a>(), gap_move);</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;  }</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;}</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160; </div>
<div class="line"><a name="l01232"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#aa08f61a5daa2f87c952d32f3a333d237"> 1232</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#aa08f61a5daa2f87c952d32f3a333d237">StraightForwardRegisterAllocator::Spill</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* node) {</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;  <span class="keywordflow">if</span> (node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a2aa6cddf21fbe3397564ce1f57dfb4be">is_loadable</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#adc630771cce27ef848f70ba989b5444c">AllocateSpillSlot</a>(node);</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_maglev_regalloc) {</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;os()</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;  spill: &quot;</span> &lt;&lt; node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a51ceb3573f4cc7e64f58a0d652ce11e5">spill_slot</a>() &lt;&lt; <span class="stringliteral">&quot; ← &quot;</span></div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;        &lt;&lt; <a class="code" href="classv8_1_1internal_1_1maglev_1_1PrintNodeLabel.html">PrintNodeLabel</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae86d029ad577b8c95464c76fe78e5ed4">graph_labeller</a>(), node) &lt;&lt; std::endl;</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;  }</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;}</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160; </div>
<div class="line"><a name="l01242"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a0fd79a5ffa3efa36c29e06807c002673"> 1242</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a0fd79a5ffa3efa36c29e06807c002673">StraightForwardRegisterAllocator::AssignFixedInput</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1Input.html">Input</a>&amp; input) {</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;  <a class="code" href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html">compiler::UnallocatedOperand</a> operand =</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;      compiler::UnallocatedOperand::cast(input.<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueLocation.html#a4c03b6153436bf3a5e7e8a4d7cc0e539">operand</a>());</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* node = input.<a class="code" href="classv8_1_1internal_1_1maglev_1_1Input.html#aedd7c34265adbcc0aa8ad2203696154a">node</a>();</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;  <a class="code" href="classv8_1_1internal_1_1compiler_1_1InstructionOperand.html">compiler::InstructionOperand</a> location = node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#ac22f1588da47b97d15c6d1ea71a5c5e7">allocation</a>();</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160; </div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;  <span class="keywordflow">switch</span> (operand.<a class="code" href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#acb045c45b975b0e5ce57f068476114d8">extended_policy</a>()) {</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#a7bdb03b8ffc2cd9db894dc3f3ded2030a3de98ae7e8339fded3184b2f53f77fea">compiler::UnallocatedOperand::MUST_HAVE_REGISTER</a>:</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;      <span class="comment">// Allocated in AssignArbitraryRegisterInput.</span></div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_maglev_regalloc) {</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;        <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;os()</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;- &quot;</span> &lt;&lt; <a class="code" href="classv8_1_1internal_1_1maglev_1_1PrintNodeLabel.html">PrintNodeLabel</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae86d029ad577b8c95464c76fe78e5ed4">graph_labeller</a>(), input.<a class="code" href="classv8_1_1internal_1_1maglev_1_1Input.html#aedd7c34265adbcc0aa8ad2203696154a">node</a>())</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; has arbitrary register\n&quot;</span>;</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;      }</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160; </div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#a7bdb03b8ffc2cd9db894dc3f3ded2030a7ea04665a6ce29b237bf41036b421c75">compiler::UnallocatedOperand::REGISTER_OR_SLOT_OR_CONSTANT</a>:</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;      <span class="comment">// Allocated in AssignAnyInput.</span></div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_maglev_regalloc) {</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;        <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;os()</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;- &quot;</span> &lt;&lt; <a class="code" href="classv8_1_1internal_1_1maglev_1_1PrintNodeLabel.html">PrintNodeLabel</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae86d029ad577b8c95464c76fe78e5ed4">graph_labeller</a>(), input.<a class="code" href="classv8_1_1internal_1_1maglev_1_1Input.html#aedd7c34265adbcc0aa8ad2203696154a">node</a>())</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; has arbitrary location\n&quot;</span>;</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;      }</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160; </div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#a7bdb03b8ffc2cd9db894dc3f3ded2030a269dfcae7aa411715a3ec08ba3449e53">compiler::UnallocatedOperand::FIXED_REGISTER</a>: {</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Register.html">Register</a> reg = <a class="code" href="classv8_1_1internal_1_1Register.html#a161b31fbba410d1c513ae779df7b9cbb">Register::from_code</a>(operand.<a class="code" href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#acee3820e5d7282c0283e10c3bdcb6ae4">fixed_register_index</a>());</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;      input.<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueLocation.html#ac14f2b5879f2fef8c4b920479b114951">SetAllocated</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a6a326398de3c6a5072eea22327c7746d">ForceAllocate</a>(reg, node));</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    }</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160; </div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#a7bdb03b8ffc2cd9db894dc3f3ded2030a4544caa3bb5c78f8d96a2ddc3476c72d">compiler::UnallocatedOperand::FIXED_FP_REGISTER</a>: {</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;      <a class="code" href="classv8_1_1internal_1_1DoubleRegister.html">DoubleRegister</a> reg =</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;          <a class="code" href="classv8_1_1internal_1_1RegisterBase.html#a7b1dbf8b42ce2e2f8ac87134064661b0">DoubleRegister::from_code</a>(operand.<a class="code" href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#acee3820e5d7282c0283e10c3bdcb6ae4">fixed_register_index</a>());</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;      input.<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueLocation.html#ac14f2b5879f2fef8c4b920479b114951">SetAllocated</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a6a326398de3c6a5072eea22327c7746d">ForceAllocate</a>(reg, node));</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    }</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160; </div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#a7bdb03b8ffc2cd9db894dc3f3ded2030a2dc451434ae3cfd5e08c4a5e629c10c7">compiler::UnallocatedOperand::REGISTER_OR_SLOT</a>:</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#a7bdb03b8ffc2cd9db894dc3f3ded2030a788e7e33a485a900cc84a730fed7f611">compiler::UnallocatedOperand::SAME_AS_INPUT</a>:</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#a7bdb03b8ffc2cd9db894dc3f3ded2030a2d184d430b14ea53388609c3e9a17500">compiler::UnallocatedOperand::NONE</a>:</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#a7bdb03b8ffc2cd9db894dc3f3ded2030af4cb2924486171f73065ec6e76eb5267">compiler::UnallocatedOperand::MUST_HAVE_SLOT</a>:</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;  }</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_maglev_regalloc) {</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;os()</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;- &quot;</span> &lt;&lt; <a class="code" href="classv8_1_1internal_1_1maglev_1_1PrintNodeLabel.html">PrintNodeLabel</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae86d029ad577b8c95464c76fe78e5ed4">graph_labeller</a>(), input.<a class="code" href="classv8_1_1internal_1_1maglev_1_1Input.html#aedd7c34265adbcc0aa8ad2203696154a">node</a>())</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;        &lt;&lt; <span class="stringliteral">&quot; in forced &quot;</span> &lt;&lt; input.<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueLocation.html#a4c03b6153436bf3a5e7e8a4d7cc0e539">operand</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;  }</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160; </div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;  <a class="code" href="classv8_1_1internal_1_1compiler_1_1AllocatedOperand.html">compiler::AllocatedOperand</a> allocated =</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;      <a class="code" href="classv8_1_1internal_1_1compiler_1_1LocationOperand.html#a14a0a8abb4b6ac796e0fae75948a270e">compiler::AllocatedOperand::cast</a>(input.<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueLocation.html#a4c03b6153436bf3a5e7e8a4d7cc0e539">operand</a>());</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;  <span class="keywordflow">if</span> (location != allocated) {</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ab8742bd5bf8bb7f62e5ad347e6bb6c8c">AddMoveBeforeCurrentNode</a>(node, location, allocated);</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;  }</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a8aa7826d195c03e8078109238f87306a">UpdateUse</a>(&amp;input);</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;  <span class="comment">// Clear any hint that (probably) comes from this fixed use.</span></div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;  input.<a class="code" href="classv8_1_1internal_1_1maglev_1_1Input.html#aedd7c34265adbcc0aa8ad2203696154a">node</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#aab7f7640a3a78358626ccd8e3dbe81a7">ClearHint</a>();</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;}</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160; </div>
<div class="line"><a name="l01302"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a5e86f69a68eae55ed01f1b0bef3b7daa"> 1302</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a5e86f69a68eae55ed01f1b0bef3b7daa">StraightForwardRegisterAllocator::MarkAsClobbered</a>(</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* node, <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1compiler_1_1AllocatedOperand.html">compiler::AllocatedOperand</a>&amp; location) {</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;  <span class="keywordflow">if</span> (node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#add54512d0c1325dd2b942339241bd639">use_double_register</a>()) {</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DoubleRegister.html">DoubleRegister</a> reg = location.<a class="code" href="classv8_1_1internal_1_1compiler_1_1LocationOperand.html#ab1e52ef65a34122d28d5c75d064f82bc">GetDoubleRegister</a>();</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a4996578e4a68d9cbfee6837d3d1154e4">double_registers_</a>.is_blocked(reg));</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a317d5918d7ed071a17f9c6c000693198">DropRegisterValue</a>(reg);</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a4996578e4a68d9cbfee6837d3d1154e4">double_registers_</a>.AddToFree(reg);</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Register.html">Register</a> reg = location.<a class="code" href="classv8_1_1internal_1_1compiler_1_1LocationOperand.html#a4d0fbceae25211d1d46526546eb53c0b">GetRegister</a>();</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a722303e16e26e329257d54b41b460725">general_registers_</a>.is_blocked(reg));</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a317d5918d7ed071a17f9c6c000693198">DropRegisterValue</a>(reg);</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a722303e16e26e329257d54b41b460725">general_registers_</a>.AddToFree(reg);</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;  }</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;}</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160; </div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160; </div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;<span class="keywordtype">bool</span> IsInRegisterLocation(<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* node,</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;                          <a class="code" href="classv8_1_1internal_1_1compiler_1_1InstructionOperand.html">compiler::InstructionOperand</a> location) {</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(location.<a class="code" href="classv8_1_1internal_1_1compiler_1_1InstructionOperand.html#afe477a9f7b0dc095c988b77e62916440">IsAnyRegister</a>());</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;  <a class="code" href="classv8_1_1internal_1_1compiler_1_1AllocatedOperand.html">compiler::AllocatedOperand</a> allocation =</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;      <a class="code" href="classv8_1_1internal_1_1compiler_1_1LocationOperand.html#a14a0a8abb4b6ac796e0fae75948a270e">compiler::AllocatedOperand::cast</a>(location);</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#add54512d0c1325dd2b942339241bd639">use_double_register</a>(), allocation.<a class="code" href="classv8_1_1internal_1_1compiler_1_1InstructionOperand.html#aa426f0ef052e7831f3cbb46c9afc1783">IsDoubleRegister</a>());</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(!node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#add54512d0c1325dd2b942339241bd639">use_double_register</a>(), allocation.<a class="code" href="classv8_1_1internal_1_1compiler_1_1InstructionOperand.html#a84b5c98f26db3443f3287b5cf1f9423f">IsRegister</a>());</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;  <span class="keywordflow">if</span> (node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#add54512d0c1325dd2b942339241bd639">use_double_register</a>()) {</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    <span class="keywordflow">return</span> node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#af49f90fa63b4dcd0e046dc49ef4e329a">is_in_register</a>(allocation.<a class="code" href="classv8_1_1internal_1_1compiler_1_1LocationOperand.html#ab1e52ef65a34122d28d5c75d064f82bc">GetDoubleRegister</a>());</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;    <span class="keywordflow">return</span> node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#af49f90fa63b4dcd0e046dc49ef4e329a">is_in_register</a>(allocation.<a class="code" href="classv8_1_1internal_1_1compiler_1_1LocationOperand.html#a4d0fbceae25211d1d46526546eb53c0b">GetRegister</a>());</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;  }</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;}</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// DEBUG</span></div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160; </div>
<div class="line"><a name="l01335"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#a8721b4c694b26f7bfd4ff17ea89e6bbb"> 1335</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#a8721b4c694b26f7bfd4ff17ea89e6bbb">SameAsInput</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* node, <a class="code" href="classv8_1_1internal_1_1maglev_1_1Input.html">Input</a>&amp; input) {</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;  <span class="keyword">auto</span> operand = compiler::UnallocatedOperand::cast(node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a0491416c6f0810ff423f59b48913dc41">result</a>().<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueLocation.html#a4c03b6153436bf3a5e7e8a4d7cc0e539">operand</a>());</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;  <span class="keywordflow">return</span> operand.HasSameAsInputPolicy() &amp;&amp;</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;         &amp;input == &amp;node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#aaca061a8d317e9eee5380c21fa78fed8">input</a>(operand.input_index());</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;}</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160; </div>
<div class="line"><a name="l01341"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#a2bfdad091cc448769c98862dba853d87"> 1341</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1compiler_1_1InstructionOperand.html">compiler::InstructionOperand</a> <a class="code" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#a2bfdad091cc448769c98862dba853d87">InputHint</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html">NodeBase</a>* node, <a class="code" href="classv8_1_1internal_1_1maglev_1_1Input.html">Input</a>&amp; input) {</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* value_node = node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a6f8a8d39dcebacfd9d44ad02860056bc">TryCast</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>&gt;();</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;  <span class="keywordflow">if</span> (!value_node) <span class="keywordflow">return</span> input.<a class="code" href="classv8_1_1internal_1_1maglev_1_1Input.html#aedd7c34265adbcc0aa8ad2203696154a">node</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#ae989d95ca67fbdafb50003be6d69df7d">hint</a>();</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(value_node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a0491416c6f0810ff423f59b48913dc41">result</a>().<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueLocation.html#a4c03b6153436bf3a5e7e8a4d7cc0e539">operand</a>().IsUnallocated());</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#a8721b4c694b26f7bfd4ff17ea89e6bbb">SameAsInput</a>(value_node, input)) {</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    <span class="keywordflow">return</span> value_node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#ae989d95ca67fbdafb50003be6d69df7d">hint</a>();</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;    <span class="keywordflow">return</span> input.<a class="code" href="classv8_1_1internal_1_1maglev_1_1Input.html#aedd7c34265adbcc0aa8ad2203696154a">node</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#ae989d95ca67fbdafb50003be6d69df7d">hint</a>();</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;  }</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;}</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160; </div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160; </div>
<div class="line"><a name="l01354"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae47f3523278b5fe4f793bb460008b165"> 1354</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae47f3523278b5fe4f793bb460008b165">StraightForwardRegisterAllocator::AssignArbitraryRegisterInput</a>(</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html">NodeBase</a>* result_node, <a class="code" href="classv8_1_1internal_1_1maglev_1_1Input.html">Input</a>&amp; input) {</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;  <span class="comment">// Already assigned in AssignFixedInput</span></div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;  <span class="keywordflow">if</span> (!input.<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueLocation.html#a4c03b6153436bf3a5e7e8a4d7cc0e539">operand</a>().IsUnallocated()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160; </div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;  <a class="code" href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html">compiler::UnallocatedOperand</a> operand =</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;      compiler::UnallocatedOperand::cast(input.<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueLocation.html#a4c03b6153436bf3a5e7e8a4d7cc0e539">operand</a>());</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;  <span class="keywordflow">if</span> (operand.<a class="code" href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#acb045c45b975b0e5ce57f068476114d8">extended_policy</a>() ==</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;      <a class="code" href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#a7bdb03b8ffc2cd9db894dc3f3ded2030a7ea04665a6ce29b237bf41036b421c75">compiler::UnallocatedOperand::REGISTER_OR_SLOT_OR_CONSTANT</a>) {</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    <span class="comment">// Allocated in AssignAnyInput.</span></div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;  }</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160; </div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(operand.<a class="code" href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#acb045c45b975b0e5ce57f068476114d8">extended_policy</a>(),</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;            <a class="code" href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#a7bdb03b8ffc2cd9db894dc3f3ded2030a3de98ae7e8339fded3184b2f53f77fea">compiler::UnallocatedOperand::MUST_HAVE_REGISTER</a>);</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160; </div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* node = input.<a class="code" href="classv8_1_1internal_1_1maglev_1_1Input.html#aedd7c34265adbcc0aa8ad2203696154a">node</a>();</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;  <span class="keywordtype">bool</span> is_clobbered = input.<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueLocation.html#a5a447066f81f4d7ee841f57bab5cb471">Cloberred</a>();</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160; </div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;  <a class="code" href="classv8_1_1internal_1_1compiler_1_1AllocatedOperand.html">compiler::AllocatedOperand</a> location = ([&amp;] {</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    <a class="code" href="classv8_1_1internal_1_1compiler_1_1InstructionOperand.html">compiler::InstructionOperand</a> existing_register_location;</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;    <span class="keyword">auto</span> hint = <a class="code" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#a2bfdad091cc448769c98862dba853d87">InputHint</a>(result_node, input);</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;    <span class="keywordflow">if</span> (is_clobbered) {</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;      <span class="comment">// For clobbered inputs, we want to pick a different register than</span></div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;      <span class="comment">// non-clobbered inputs, so that we don&#39;t clobber those.</span></div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;      existing_register_location =</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;          node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#add54512d0c1325dd2b942339241bd639">use_double_register</a>()</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;              ? <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a4996578e4a68d9cbfee6837d3d1154e4">double_registers_</a>.TryChooseUnblockedInputRegister(node)</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;              : <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a722303e16e26e329257d54b41b460725">general_registers_</a>.TryChooseUnblockedInputRegister(node);</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;      <a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* value_node = result_node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a6f8a8d39dcebacfd9d44ad02860056bc">TryCast</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>&gt;();</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;      <span class="comment">// Only use the hint if it helps with the result&#39;s allocation due to</span></div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;      <span class="comment">// same-as-input policy. Otherwise this doesn&#39;t affect regalloc.</span></div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;      <span class="keyword">auto</span> result_hint = value_node &amp;&amp; <a class="code" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#a8721b4c694b26f7bfd4ff17ea89e6bbb">SameAsInput</a>(value_node, input)</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;                             ? value_node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#ae989d95ca67fbdafb50003be6d69df7d">hint</a>()</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;                             : <a class="code" href="classv8_1_1internal_1_1compiler_1_1InstructionOperand.html">compiler::InstructionOperand</a>();</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;      existing_register_location =</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;          node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#add54512d0c1325dd2b942339241bd639">use_double_register</a>()</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;              ? <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a4996578e4a68d9cbfee6837d3d1154e4">double_registers_</a>.TryChooseInputRegister(node, result_hint)</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;              : <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a722303e16e26e329257d54b41b460725">general_registers_</a>.TryChooseInputRegister(node, result_hint);</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;    }</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160; </div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;    <span class="comment">// Reuse an existing register if possible.</span></div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;    <span class="keywordflow">if</span> (existing_register_location.<a class="code" href="classv8_1_1internal_1_1compiler_1_1InstructionOperand.html#a0db4cad66a5f7c6f1576bcf931b6dc90">IsAnyLocationOperand</a>()) {</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_maglev_regalloc) {</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;        <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;os()</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;- &quot;</span> &lt;&lt; <a class="code" href="classv8_1_1internal_1_1maglev_1_1PrintNodeLabel.html">PrintNodeLabel</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae86d029ad577b8c95464c76fe78e5ed4">graph_labeller</a>(), input.<a class="code" href="classv8_1_1internal_1_1maglev_1_1Input.html#aedd7c34265adbcc0aa8ad2203696154a">node</a>()) &lt;&lt; <span class="stringliteral">&quot; in &quot;</span></div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;            &lt;&lt; (is_clobbered ? <span class="stringliteral">&quot;clobbered &quot;</span> : <span class="stringliteral">&quot;&quot;</span>) &lt;&lt; existing_register_location</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;      }</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1compiler_1_1LocationOperand.html#a14a0a8abb4b6ac796e0fae75948a270e">compiler::AllocatedOperand::cast</a>(existing_register_location);</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;    }</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160; </div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    <span class="comment">// Otherwise, allocate a register for the node and load it in from there.</span></div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;    <a class="code" href="classv8_1_1internal_1_1compiler_1_1InstructionOperand.html">compiler::InstructionOperand</a> existing_location = node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#ac22f1588da47b97d15c6d1ea71a5c5e7">allocation</a>();</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;    <a class="code" href="classv8_1_1internal_1_1compiler_1_1AllocatedOperand.html">compiler::AllocatedOperand</a> allocation = <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a4b0daea33a0df4fb83f33c52bfd89476">AllocateRegister</a>(node, hint);</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(existing_location, allocation);</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ab8742bd5bf8bb7f62e5ad347e6bb6c8c">AddMoveBeforeCurrentNode</a>(node, existing_location, allocation);</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160; </div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_maglev_regalloc) {</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;      <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;os()</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;          &lt;&lt; <span class="stringliteral">&quot;- &quot;</span> &lt;&lt; <a class="code" href="classv8_1_1internal_1_1maglev_1_1PrintNodeLabel.html">PrintNodeLabel</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae86d029ad577b8c95464c76fe78e5ed4">graph_labeller</a>(), input.<a class="code" href="classv8_1_1internal_1_1maglev_1_1Input.html#aedd7c34265adbcc0aa8ad2203696154a">node</a>()) &lt;&lt; <span class="stringliteral">&quot; in &quot;</span></div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;          &lt;&lt; (is_clobbered ? <span class="stringliteral">&quot;clobbered &quot;</span> : <span class="stringliteral">&quot;&quot;</span>) &lt;&lt; allocation &lt;&lt; <span class="stringliteral">&quot; ← &quot;</span></div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;          &lt;&lt; node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#ac22f1588da47b97d15c6d1ea71a5c5e7">allocation</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;    }</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    <span class="keywordflow">return</span> allocation;</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;  })();</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160; </div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;  input.<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueLocation.html#ac14f2b5879f2fef8c4b920479b114951">SetAllocated</a>(location);</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160; </div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a8aa7826d195c03e8078109238f87306a">UpdateUse</a>(&amp;input);</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;  <span class="comment">// Only need to mark the location as clobbered if the node wasn&#39;t already</span></div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;  <span class="comment">// killed by UpdateUse.</span></div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;  <span class="keywordflow">if</span> (is_clobbered &amp;&amp; !node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a89614aabc889de73bc6c69836dfcb8d3">has_no_more_uses</a>()) {</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a5e86f69a68eae55ed01f1b0bef3b7daa">MarkAsClobbered</a>(node, location);</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;  }</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;  <span class="comment">// Clobbered inputs should no longer be in the allocated location, as far as</span></div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;  <span class="comment">// the register allocator is concerned. This will happen either via</span></div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;  <span class="comment">// clobbering, or via this being the last use.</span></div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(is_clobbered, !IsInRegisterLocation(node, location));</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;}</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160; </div>
<div class="line"><a name="l01436"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a2a173f875d2497f51e532b288cab889a"> 1436</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a2a173f875d2497f51e532b288cab889a">StraightForwardRegisterAllocator::AssignAnyInput</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1Input.html">Input</a>&amp; input) {</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;  <span class="comment">// Already assigned in AssignFixedInput or AssignArbitraryRegisterInput.</span></div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;  <span class="keywordflow">if</span> (!input.<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueLocation.html#a4c03b6153436bf3a5e7e8a4d7cc0e539">operand</a>().IsUnallocated()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160; </div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;      compiler::UnallocatedOperand::cast(input.<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueLocation.html#a4c03b6153436bf3a5e7e8a4d7cc0e539">operand</a>()).extended_policy(),</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;      <a class="code" href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#a7bdb03b8ffc2cd9db894dc3f3ded2030a7ea04665a6ce29b237bf41036b421c75">compiler::UnallocatedOperand::REGISTER_OR_SLOT_OR_CONSTANT</a>);</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160; </div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* node = input.<a class="code" href="classv8_1_1internal_1_1maglev_1_1Input.html#aedd7c34265adbcc0aa8ad2203696154a">node</a>();</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;  <a class="code" href="classv8_1_1internal_1_1compiler_1_1InstructionOperand.html">compiler::InstructionOperand</a> location = node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#ac22f1588da47b97d15c6d1ea71a5c5e7">allocation</a>();</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160; </div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;  input.<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueLocation.html#a6365544c086f7b8a1247227f3c9f7178">InjectLocation</a>(location);</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;  <span class="keywordflow">if</span> (location.<a class="code" href="classv8_1_1internal_1_1compiler_1_1InstructionOperand.html#afe477a9f7b0dc095c988b77e62916440">IsAnyRegister</a>()) {</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;    <a class="code" href="classv8_1_1internal_1_1compiler_1_1AllocatedOperand.html">compiler::AllocatedOperand</a> allocation =</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;        <a class="code" href="classv8_1_1internal_1_1compiler_1_1LocationOperand.html#a14a0a8abb4b6ac796e0fae75948a270e">compiler::AllocatedOperand::cast</a>(location);</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;    <span class="keywordflow">if</span> (allocation.<a class="code" href="classv8_1_1internal_1_1compiler_1_1InstructionOperand.html#aa426f0ef052e7831f3cbb46c9afc1783">IsDoubleRegister</a>()) {</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;      <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a4996578e4a68d9cbfee6837d3d1154e4">double_registers_</a>.block(allocation.<a class="code" href="classv8_1_1internal_1_1compiler_1_1LocationOperand.html#ab1e52ef65a34122d28d5c75d064f82bc">GetDoubleRegister</a>());</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;      <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a722303e16e26e329257d54b41b460725">general_registers_</a>.block(allocation.<a class="code" href="classv8_1_1internal_1_1compiler_1_1LocationOperand.html#a4d0fbceae25211d1d46526546eb53c0b">GetRegister</a>());</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;    }</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;  }</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_maglev_regalloc) {</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;os()</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;- &quot;</span> &lt;&lt; <a class="code" href="classv8_1_1internal_1_1maglev_1_1PrintNodeLabel.html">PrintNodeLabel</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae86d029ad577b8c95464c76fe78e5ed4">graph_labeller</a>(), input.<a class="code" href="classv8_1_1internal_1_1maglev_1_1Input.html#aedd7c34265adbcc0aa8ad2203696154a">node</a>())</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;        &lt;&lt; <span class="stringliteral">&quot; in original &quot;</span> &lt;&lt; location &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;  }</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a8aa7826d195c03e8078109238f87306a">UpdateUse</a>(&amp;input);</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;}</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160; </div>
<div class="line"><a name="l01465"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae8316f4b58666c1f3edae21b6eb2dfce"> 1465</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae8316f4b58666c1f3edae21b6eb2dfce">StraightForwardRegisterAllocator::AssignInputs</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html">NodeBase</a>* node) {</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;  <span class="comment">// We allocate arbitrary register inputs after fixed inputs, since the fixed</span></div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;  <span class="comment">// inputs may clobber the arbitrarily chosen ones. Finally we assign the</span></div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;  <span class="comment">// location for the remaining inputs. Since inputs can alias a node, one of</span></div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;  <span class="comment">// the inputs could be assigned a register in AssignArbitraryRegisterInput</span></div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;  <span class="comment">// (and respectivelly its node location), therefore we wait until all</span></div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;  <span class="comment">// registers are allocated before assigning any location for these inputs.</span></div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;  <span class="comment">// TODO(dmercadier): consider using `ForAllInputsInRegallocAssignmentOrder` to</span></div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;  <span class="comment">// iterate the inputs. Since UseMarkingProcessor uses this helper to iterate</span></div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;  <span class="comment">// inputs, and it has to iterate them in the same order as this function,</span></div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;  <span class="comment">// using the iteration helper in both places would be better.</span></div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1maglev_1_1Input.html">Input</a>&amp; input : *node) <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a0fd79a5ffa3efa36c29e06807c002673">AssignFixedInput</a>(input);</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae3e46b8b824cbda6d385e5ab34773413">AssignFixedTemporaries</a>(node);</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1maglev_1_1Input.html">Input</a>&amp; input : *node) <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae47f3523278b5fe4f793bb460008b165">AssignArbitraryRegisterInput</a>(node, input);</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a67e3883db97946b39cd06d9e12a424ee">AssignArbitraryTemporaries</a>(node);</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1maglev_1_1Input.html">Input</a>&amp; input : *node) <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a2a173f875d2497f51e532b288cab889a">AssignAnyInput</a>(input);</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;}</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160; </div>
<div class="line"><a name="l01483"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a69b9790efed1973a771224a57d3f1ee2"> 1483</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a69b9790efed1973a771224a57d3f1ee2">StraightForwardRegisterAllocator::VerifyInputs</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html">NodeBase</a>* node) {</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1maglev_1_1Input.html">Input</a>&amp; input : *node) {</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;    <span class="keywordflow">if</span> (input.operand().IsRegister()) {</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Register.html">Register</a> reg =</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;          <a class="code" href="classv8_1_1internal_1_1compiler_1_1LocationOperand.html#a14a0a8abb4b6ac796e0fae75948a270e">compiler::AllocatedOperand::cast</a>(input.operand()).<a class="code" href="classv8_1_1internal_1_1compiler_1_1LocationOperand.html#a4d0fbceae25211d1d46526546eb53c0b">GetRegister</a>();</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a722303e16e26e329257d54b41b460725">general_registers_</a>.GetValueMaybeFreeButBlocked(reg) != input.node()) {</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(<span class="stringliteral">&quot;Input node n%d is not in expected register %s&quot;</span>,</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;              <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae86d029ad577b8c95464c76fe78e5ed4">graph_labeller</a>()-&gt;<a class="code" href="namespacev8_1_1internal_1_1compiler.html#aa5fc9a1f19d4871c5e3570ae0e5507a6">NodeId</a>(input.node()), RegisterName(reg));</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;      }</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (input.operand().IsDoubleRegister()) {</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;      <a class="code" href="classv8_1_1internal_1_1DoubleRegister.html">DoubleRegister</a> reg =</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;          <a class="code" href="classv8_1_1internal_1_1compiler_1_1LocationOperand.html#a14a0a8abb4b6ac796e0fae75948a270e">compiler::AllocatedOperand::cast</a>(input.operand()).<a class="code" href="classv8_1_1internal_1_1compiler_1_1LocationOperand.html#ab1e52ef65a34122d28d5c75d064f82bc">GetDoubleRegister</a>();</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a4996578e4a68d9cbfee6837d3d1154e4">double_registers_</a>.GetValueMaybeFreeButBlocked(reg) != input.node()) {</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(<span class="stringliteral">&quot;Input node n%d is not in expected register %s&quot;</span>,</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;              <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae86d029ad577b8c95464c76fe78e5ed4">graph_labeller</a>()-&gt;<a class="code" href="namespacev8_1_1internal_1_1compiler.html#aa5fc9a1f19d4871c5e3570ae0e5507a6">NodeId</a>(input.node()), RegisterName(reg));</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;      }</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;      <span class="keywordflow">if</span> (input.operand() != input.node()-&gt;allocation()) {</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;        std::stringstream ss;</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;        ss &lt;&lt; input.operand();</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(<span class="stringliteral">&quot;Input node n%d is not in operand %s&quot;</span>,</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;              <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae86d029ad577b8c95464c76fe78e5ed4">graph_labeller</a>()-&gt;<a class="code" href="namespacev8_1_1internal_1_1compiler.html#aa5fc9a1f19d4871c5e3570ae0e5507a6">NodeId</a>(input.node()), ss.str().c_str());</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;      }</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    }</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;  }</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;}</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160; </div>
<div class="line"><a name="l01512"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a4aee117ed0ee67a5a265401a6255caa7"> 1512</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a4aee117ed0ee67a5a265401a6255caa7">StraightForwardRegisterAllocator::VerifyRegisterState</a>() {</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;  <span class="comment">// We shouldn&#39;t have any blocked registers by now.</span></div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a722303e16e26e329257d54b41b460725">general_registers_</a>.blocked().is_empty());</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a4996578e4a68d9cbfee6837d3d1154e4">double_registers_</a>.blocked().is_empty());</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160; </div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;  <span class="keyword">auto</span> NodeNameForFatal = [&amp;](<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* node) {</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;    std::stringstream ss;</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a3571b7824a381a6bd25a50d4618070c4">has_graph_labeller</a>()) {</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;      ss &lt;&lt; <a class="code" href="classv8_1_1internal_1_1maglev_1_1PrintNodeLabel.html">PrintNodeLabel</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae86d029ad577b8c95464c76fe78e5ed4">graph_labeller</a>(), node);</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;      ss &lt;&lt; <span class="stringliteral">&quot;&lt;&quot;</span> &lt;&lt; node &lt;&lt; <span class="stringliteral">&quot;&gt;&quot;</span>;</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;    }</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;    <span class="keywordflow">return</span> ss.str();</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;  };</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160; </div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1Register.html">Register</a> reg : <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a722303e16e26e329257d54b41b460725">general_registers_</a>.used()) {</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* node = <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a722303e16e26e329257d54b41b460725">general_registers_</a>.GetValue(reg);</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;    <span class="keywordflow">if</span> (!node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#af49f90fa63b4dcd0e046dc49ef4e329a">is_in_register</a>(reg)) {</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(<span class="stringliteral">&quot;Node %s doesn&#39;t think it is in register %s&quot;</span>,</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;            NodeNameForFatal(node).c_str(), RegisterName(reg));</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;    }</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;  }</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1DoubleRegister.html">DoubleRegister</a> reg : <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a4996578e4a68d9cbfee6837d3d1154e4">double_registers_</a>.used()) {</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* node = <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a4996578e4a68d9cbfee6837d3d1154e4">double_registers_</a>.GetValue(reg);</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;    <span class="keywordflow">if</span> (!node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#af49f90fa63b4dcd0e046dc49ef4e329a">is_in_register</a>(reg)) {</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(<span class="stringliteral">&quot;Node %s doesn&#39;t think it is in register %s&quot;</span>,</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;            NodeNameForFatal(node).c_str(), RegisterName(reg));</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;    }</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;  }</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160; </div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;  <span class="keyword">auto</span> ValidateValueNode = [<span class="keyword">this</span>, NodeNameForFatal](<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* node) {</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;    <span class="keywordflow">if</span> (node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#add54512d0c1325dd2b942339241bd639">use_double_register</a>()) {</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1DoubleRegister.html">DoubleRegister</a> reg : node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#aa1e97a4e3c9a6df7e810e92cbc00849f">result_registers</a>&lt;<a class="code" href="classv8_1_1internal_1_1DoubleRegister.html">DoubleRegister</a>&gt;()) {</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a4996578e4a68d9cbfee6837d3d1154e4">double_registers_</a>.unblocked_free().has(reg)) {</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(<span class="stringliteral">&quot;Node %s thinks it&#39;s in register %s but it&#39;s free&quot;</span>,</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;                NodeNameForFatal(node).c_str(), RegisterName(reg));</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a4996578e4a68d9cbfee6837d3d1154e4">double_registers_</a>.GetValue(reg) != node) {</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(<span class="stringliteral">&quot;Node %s thinks it&#39;s in register %s but it contains %s&quot;</span>,</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;                NodeNameForFatal(node).c_str(), RegisterName(reg),</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;                NodeNameForFatal(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a4996578e4a68d9cbfee6837d3d1154e4">double_registers_</a>.GetValue(reg)).c_str());</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;        }</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;      }</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1Register.html">Register</a> reg : node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#aa1e97a4e3c9a6df7e810e92cbc00849f">result_registers</a>&lt;<a class="code" href="classv8_1_1internal_1_1Register.html">Register</a>&gt;()) {</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a722303e16e26e329257d54b41b460725">general_registers_</a>.unblocked_free().has(reg)) {</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(<span class="stringliteral">&quot;Node %s thinks it&#39;s in register %s but it&#39;s free&quot;</span>,</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;                NodeNameForFatal(node).c_str(), RegisterName(reg));</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a722303e16e26e329257d54b41b460725">general_registers_</a>.GetValue(reg) != node) {</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(<span class="stringliteral">&quot;Node %s thinks it&#39;s in register %s but it contains %s&quot;</span>,</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;                NodeNameForFatal(node).c_str(), RegisterName(reg),</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;                NodeNameForFatal(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a722303e16e26e329257d54b41b460725">general_registers_</a>.GetValue(reg)).c_str());</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;        }</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;      }</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;    }</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;  };</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160; </div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html">BasicBlock</a>* block : *<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ad2c21cc858129e86e2e12a4ff38445ee">graph_</a>) {</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;    <span class="keywordflow">if</span> (block-&gt;has_phi()) {</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1maglev_1_1Phi.html">Phi</a>* phi : *block-&gt;phis()) {</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;        ValidateValueNode(phi);</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;      }</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;    }</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1maglev_1_1Node.html">Node</a>* node : block-&gt;nodes()) {</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;      <span class="keywordflow">if</span> (node == <span class="keyword">nullptr</span>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* value_node = node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a6f8a8d39dcebacfd9d44ad02860056bc">TryCast</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>&gt;()) {</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;        <span class="keywordflow">if</span> (node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a317252af8f98deb2e31a8b5b5aee3c2d">Is</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1Identity.html">Identity</a>&gt;()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;        ValidateValueNode(value_node);</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;      }</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;    }</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;  }</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160; </div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;}</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160; </div>
<div class="line"><a name="l01587"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ac2fcb5fdd4372f5ccaa516822fe87058"> 1587</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ac2fcb5fdd4372f5ccaa516822fe87058">StraightForwardRegisterAllocator::SpillRegisters</a>() {</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;  <span class="keyword">auto</span> spill = [&amp;](<span class="keyword">auto</span> reg, <a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* node) { <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#aa08f61a5daa2f87c952d32f3a333d237">Spill</a>(node); };</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a722303e16e26e329257d54b41b460725">general_registers_</a>.ForEachUsedRegister(spill);</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a4996578e4a68d9cbfee6837d3d1154e4">double_registers_</a>.ForEachUsedRegister(spill);</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;}</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160; </div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> RegisterT&gt;</div>
<div class="line"><a name="l01594"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a70c99fc15ef1a6213e2256e284cbdd5b"> 1594</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a23b7fc6e6ad48029a3602170c485ea4a">StraightForwardRegisterAllocator::SpillAndClearRegisters</a>(</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html">RegisterFrameState&lt;RegisterT&gt;</a>&amp; registers) {</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;  <span class="keywordflow">while</span> (registers.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#a4a76fd9a4c89ac750455ab2f13e5e38d">used</a>() != registers.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#a1fc7b0d01b577993fa875683ba48371b">empty</a>()) {</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;    RegisterT reg = registers.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#a4a76fd9a4c89ac750455ab2f13e5e38d">used</a>().first();</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* node = registers.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#ab7f6b41488705b1c4b778269cfae801e">GetValue</a>(reg);</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_maglev_regalloc) {</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;      <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">printing_visitor_</a>-&gt;os() &lt;&lt; <span class="stringliteral">&quot;  clearing registers with &quot;</span></div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;                              &lt;&lt; <a class="code" href="classv8_1_1internal_1_1maglev_1_1PrintNodeLabel.html">PrintNodeLabel</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae86d029ad577b8c95464c76fe78e5ed4">graph_labeller</a>(), node) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;    }</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#aa08f61a5daa2f87c952d32f3a333d237">Spill</a>(node);</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;    registers.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#aeda1f4461c81823377934c71ae77e4cb">FreeRegistersUsedBy</a>(node);</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!registers.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#a4a76fd9a4c89ac750455ab2f13e5e38d">used</a>().has(reg));</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;  }</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;}</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160; </div>
<div class="line"><a name="l01609"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a23b7fc6e6ad48029a3602170c485ea4a"> 1609</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a23b7fc6e6ad48029a3602170c485ea4a">StraightForwardRegisterAllocator::SpillAndClearRegisters</a>() {</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a23b7fc6e6ad48029a3602170c485ea4a">SpillAndClearRegisters</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a722303e16e26e329257d54b41b460725">general_registers_</a>);</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a23b7fc6e6ad48029a3602170c485ea4a">SpillAndClearRegisters</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a4996578e4a68d9cbfee6837d3d1154e4">double_registers_</a>);</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;}</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160; </div>
<div class="line"><a name="l01614"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a8d48629f28437ad158e0ed14ac120306"> 1614</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a8d48629f28437ad158e0ed14ac120306">StraightForwardRegisterAllocator::SaveRegisterSnapshot</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html">NodeBase</a>* node) {</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;  <a class="code" href="structv8_1_1internal_1_1maglev_1_1RegisterSnapshot.html">RegisterSnapshot</a> snapshot;</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a722303e16e26e329257d54b41b460725">general_registers_</a>.ForEachUsedRegister([&amp;](<a class="code" href="classv8_1_1internal_1_1Register.html">Register</a> reg, <a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* node) {</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;    <span class="keywordflow">if</span> (node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#af88af8dd683f7784ae6ace6d6c701d31">properties</a>().<a class="code" href="classv8_1_1internal_1_1maglev_1_1OpProperties.html#a9f989420e0ea0d6e75a761dc60903761">value_representation</a>() ==</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;        <a class="code" href="namespacev8_1_1internal_1_1maglev.html#a3314ac8c3e0bd8b4886122d4288832b9a3eee36fbbe00cfed0ef24d756afd1784">ValueRepresentation::kTagged</a>) {</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;      snapshot.live_tagged_registers.set(reg);</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;    }</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;  });</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;  snapshot.<a class="code" href="structv8_1_1internal_1_1maglev_1_1RegisterSnapshot.html#a61086ceac377aabdb00cbf6725a0c978">live_registers</a> = <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a722303e16e26e329257d54b41b460725">general_registers_</a>.used();</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;  snapshot.<a class="code" href="structv8_1_1internal_1_1maglev_1_1RegisterSnapshot.html#ac7f0b7cf76e07aadb9e9f85263f87b2f">live_double_registers</a> = <a class="code" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a4996578e4a68d9cbfee6837d3d1154e4">double_registers_</a>.used();</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;  <span class="comment">// If a value node, then the result register is removed from the snapshot.</span></div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* value_node = node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a6f8a8d39dcebacfd9d44ad02860056bc">TryCast</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>&gt;()) {</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;    <span class="keywordflow">if</span> (value_node-&gt;use_double_register()) {</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;      snapshot.<a class="code" href="structv8_1_1internal_1_1maglev_1_1RegisterSnapshot.html#ac7f0b7cf76e07aadb9e9f85263f87b2f">live_double_registers</a>.<a class="code" href="classv8_1_1internal_1_1RegListBase.html#a6f885c401ebbf3ab0b356ac8d53c97f9">clear</a>(</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;          <a class="code" href="namespacev8_1_1internal_1_1maglev.html#a4b4b2553fa2780280e3c45557932d346">ToDoubleRegister</a>(value_node-&gt;result()));</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Register.html">Register</a> reg = <a class="code" href="namespacev8_1_1internal_1_1maglev.html#a700520f203ccbba356ef257455abc3e9">ToRegister</a>(value_node-&gt;result());</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;      snapshot.<a class="code" href="structv8_1_1internal_1_1maglev_1_1RegisterSnapshot.html#a61086ceac377aabdb00cbf6725a0c978">live_registers</a>.<a class="code" href="classv8_1_1internal_1_1RegListBase.html#a6f885c401ebbf3ab0b356ac8d53c97f9">clear</a>(reg);</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;      snapshot.<a class="code" href="structv8_1_1internal_1_1maglev_1_1RegisterSnapshot.html#a65cc0f0cb2ed57b67d675df9d810820d">live_tagged_registers</a>.<a class="code" href="classv8_1_1internal_1_1RegListBase.html#a6f885c401ebbf3ab0b356ac8d53c97f9">clear</a>(reg);</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;    }</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;  }</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;  <span class="keywordflow">if</span> (node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#af88af8dd683f7784ae6ace6d6c701d31">properties</a>().<a class="code" href="classv8_1_1internal_1_1maglev_1_1OpProperties.html#a6f757478a116a03612eeeed4b7c2e1a0">can_eager_deopt</a>()) {</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;    <span class="comment">// If we eagerly deopt after a deferred call, the registers saved by the</span></div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;    <span class="comment">// runtime call might not include the inputs into the eager deopt. Here, we</span></div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;    <span class="comment">// make sure that all the eager deopt registers are included in the</span></div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;    <span class="comment">// snapshot.</span></div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1InputLocation.html">InputLocation</a>* input = node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#ae56d1ecfb6e5d683ba73faff701c2fd7">eager_deopt_info</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1DeoptInfo.html#a11e1134a49654ed4b33960d30ebadd5c">input_locations</a>();</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;    node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#ae56d1ecfb6e5d683ba73faff701c2fd7">eager_deopt_info</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1EagerDeoptInfo.html#aff29607a357fb08ba5d5068f2e0b31d0">ForEachInput</a>([&amp;](<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* node) {</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;      <span class="keywordflow">if</span> (input-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueLocation.html#a4d7af54163cc6af2b81a7a448181731a">IsAnyRegister</a>()) {</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;        if (input-&gt;IsDoubleRegister()) {</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;          snapshot.live_double_registers.set(input-&gt;AssignedDoubleRegister());</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;          snapshot.live_registers.set(input-&gt;AssignedGeneralRegister());</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;          if (node-&gt;is_tagged()) {</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;            snapshot.live_tagged_registers.set(</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;                input-&gt;AssignedGeneralRegister());</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;          }</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;        }</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;      }</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;      input++;</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;    });</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;  }</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;  node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#ad4b68577d1afa886c05f8641a6485bf7">set_register_snapshot</a>(snapshot);</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;}</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160; </div>
<div class="line"><a name="l01659"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#adc630771cce27ef848f70ba989b5444c"> 1659</a></span>&#160;<span class="keywordtype">void</span> StraightForwardRegisterAllocator::AllocateSpillSlot(<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* node) {</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a2aa6cddf21fbe3397564ce1f57dfb4be">is_loadable</a>());</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;  uint32_t free_slot;</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;  <span class="keywordtype">bool</span> is_tagged = (node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#af88af8dd683f7784ae6ace6d6c701d31">properties</a>().<a class="code" href="classv8_1_1internal_1_1maglev_1_1OpProperties.html#a9f989420e0ea0d6e75a761dc60903761">value_representation</a>() ==</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;                    ValueRepresentation::kTagged);</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;  uint32_t slot_size = 1;</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;  <span class="keywordtype">bool</span> double_slot =</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1maglev.html#aad2426e234f3604b6298c3ba8d482056">IsDoubleRepresentation</a>(node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#af88af8dd683f7784ae6ace6d6c701d31">properties</a>().<a class="code" href="classv8_1_1internal_1_1maglev_1_1OpProperties.html#a9f989420e0ea0d6e75a761dc60903761">value_representation</a>());</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;  <span class="keywordflow">if</span> constexpr (<a class="code" href="namespacev8_1_1internal.html#ada67458c5a8e8c0ade0017e5d3c56fd3">kDoubleSize</a> != <a class="code" href="namespacev8_1_1internal.html#a72cbfdfeabb9a401f279f7b80bcff67a">kSystemPointerSize</a>) {</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;    <span class="keywordflow">if</span> (double_slot) {</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;      slot_size = <a class="code" href="namespacev8_1_1internal.html#ada67458c5a8e8c0ade0017e5d3c56fd3">kDoubleSize</a> / <a class="code" href="namespacev8_1_1internal.html#a72cbfdfeabb9a401f279f7b80bcff67a">kSystemPointerSize</a>;</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;    }</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;  }</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;  <a class="code" href="structv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_1_1SpillSlots.html">SpillSlots</a>&amp; slots = is_tagged ? tagged_ : untagged_;</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#abe5419355372f787c28119c509343410">MachineRepresentation</a> representation = node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#adf7b365973e369d5ac1532952776633a">GetMachineRepresentation</a>();</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;  <span class="comment">// TODO(victorgomes): We don&#39;t currently reuse double slots on arm.</span></div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.maglev_reuse_stack_slots || slot_size &gt; 1 ||</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;      slots.<a class="code" href="structv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_1_1SpillSlots.html#aaf24839b47c6f48017b8cfde988b28e4">free_slots</a>.empty()) {</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;    free_slot = slots.<a class="code" href="structv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_1_1SpillSlots.html#a232592367d1ac813c5d334bb36a05069">top</a> + slot_size - 1;</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;    slots.<a class="code" href="structv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_1_1SpillSlots.html#a232592367d1ac813c5d334bb36a05069">top</a> += slot_size;</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1maglev.html#a8b29e11822d68e5cf40a05880c74fd26">NodeIdT</a> start = node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a31881ef84c306859d771a5c12d67cf6f">live_range</a>().<a class="code" href="structv8_1_1internal_1_1maglev_1_1ValueNode_1_1LiveRange.html#affc65f1ee43754757176efe9cc676e74">start</a>;</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;    <span class="keyword">auto</span> it =</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;        std::upper_bound(slots.<a class="code" href="structv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_1_1SpillSlots.html#aaf24839b47c6f48017b8cfde988b28e4">free_slots</a>.begin(), slots.<a class="code" href="structv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_1_1SpillSlots.html#aaf24839b47c6f48017b8cfde988b28e4">free_slots</a>.end(),</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;                         start, [](<a class="code" href="namespacev8_1_1internal_1_1maglev.html#a8b29e11822d68e5cf40a05880c74fd26">NodeIdT</a> s, <span class="keyword">const</span> <a class="code" href="structv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_1_1SpillSlotInfo.html">SpillSlotInfo</a>&amp; slot_info) {</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;                           return slot_info.freed_at_position &gt;= s;</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;                         });</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;    <span class="comment">// {it} points to the first invalid slot. Decrement it to get to the last</span></div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;    <span class="comment">// valid slot freed before {start}.</span></div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;    <span class="keywordflow">if</span> (it != slots.<a class="code" href="structv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_1_1SpillSlots.html#aaf24839b47c6f48017b8cfde988b28e4">free_slots</a>.begin()) {</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;      --it;</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;    }</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160; </div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;    <span class="comment">// TODO(olivf): Currently we cannot mix double and normal stack slots since</span></div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;    <span class="comment">// the gap resolver treats them independently and cannot detect cycles via</span></div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;    <span class="comment">// shared slots.</span></div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;    <span class="keywordflow">while</span> (it != slots.<a class="code" href="structv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_1_1SpillSlots.html#aaf24839b47c6f48017b8cfde988b28e4">free_slots</a>.begin()) {</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;      <span class="keywordflow">if</span> (it-&gt;double_slot == double_slot) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;      --it;</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;    }</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160; </div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;    <span class="keywordflow">if</span> (it != slots.<a class="code" href="structv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_1_1SpillSlots.html#aaf24839b47c6f48017b8cfde988b28e4">free_slots</a>.begin()) {</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(double_slot, it-&gt;double_slot);</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a43d2df1fb528ff7bee1e873e377e0323">CHECK_GT</a>(start, it-&gt;freed_at_position);</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;      free_slot = it-&gt;slot_index;</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;      slots.<a class="code" href="structv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_1_1SpillSlots.html#aaf24839b47c6f48017b8cfde988b28e4">free_slots</a>.erase(it);</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;      free_slot = slots.<a class="code" href="structv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_1_1SpillSlots.html#a232592367d1ac813c5d334bb36a05069">top</a>++;</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;    }</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;  }</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;  node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a82b3110d479e37d3f6e4756dad39c539">Spill</a>(<a class="code" href="classv8_1_1internal_1_1compiler_1_1AllocatedOperand.html">compiler::AllocatedOperand</a>(compiler::AllocatedOperand::STACK_SLOT,</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;                                         representation, free_slot));</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;}</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160; </div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> RegisterT&gt;</div>
<div class="line"><a name="l01714"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a1d5b3363511153288ccfc449ce676cd4"> 1714</a></span>&#160;RegisterT StraightForwardRegisterAllocator::PickRegisterToFree(</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;    <a class="code" href="classv8_1_1internal_1_1RegListBase.html">RegListBase&lt;RegisterT&gt;</a> reserved) {</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html">RegisterFrameState&lt;RegisterT&gt;</a>&amp; registers = GetRegisterFrameState&lt;RegisterT&gt;();</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_maglev_regalloc) {</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;    printing_visitor_-&gt;os() &lt;&lt; <span class="stringliteral">&quot;  need to free a register... &quot;</span>;</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;  }</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;  <span class="keywordtype">int</span> furthest_use = 0;</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;  RegisterT best = <a class="code" href="namespacev8_1_1internal.html#a00a63531b1853ad102a9dcd7636d385a">RegisterT::no_reg</a>();</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;  <span class="keywordflow">for</span> (RegisterT reg : (registers.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#a4a76fd9a4c89ac750455ab2f13e5e38d">used</a>() - reserved)) {</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = registers.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#ab7f6b41488705b1c4b778269cfae801e">GetValue</a>(reg);</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160; </div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;    <span class="comment">// The cheapest register to clear is a register containing a value that&#39;s</span></div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;    <span class="comment">// contained in another register as well. Since we found the register while</span></div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;    <span class="comment">// looping over unblocked registers, we can simply use this register.</span></div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>-&gt;num_registers() &gt; 1) {</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;      best = reg;</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;    }</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="flag-definitions_8h.html#a2e89dcc15f540da766f7767b13e377e1">use</a> = <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>-&gt;current_next_use();</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#a2e89dcc15f540da766f7767b13e377e1">use</a> &gt; furthest_use) {</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;      furthest_use = <a class="code" href="flag-definitions_8h.html#a2e89dcc15f540da766f7767b13e377e1">use</a>;</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;      best = reg;</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;    }</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;  }</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_maglev_regalloc) {</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;    printing_visitor_-&gt;os()</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;  chose &quot;</span> &lt;&lt; best &lt;&lt; <span class="stringliteral">&quot; with next use &quot;</span> &lt;&lt; furthest_use &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;  }</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;  <span class="keywordflow">return</span> best;</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;}</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160; </div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> RegisterT&gt;</div>
<div class="line"><a name="l01746"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a3a0ca6b42d73bc71d2414b6afcfb0b72"> 1746</a></span>&#160;RegisterT StraightForwardRegisterAllocator::FreeUnblockedRegister(</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;    <a class="code" href="classv8_1_1internal_1_1RegListBase.html">RegListBase&lt;RegisterT&gt;</a> reserved) {</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html">RegisterFrameState&lt;RegisterT&gt;</a>&amp; registers = GetRegisterFrameState&lt;RegisterT&gt;();</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;  RegisterT best =</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;      PickRegisterToFree&lt;RegisterT&gt;(registers.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#a335550503cc75d07ea7f78666fe64d4e">blocked</a>() | reserved);</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(best.is_valid());</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!registers.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#ad08b1eaf5d5071f6441eedacc810c87f">is_blocked</a>(best));</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;  DropRegisterValue(registers, best);</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;  registers.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#a2b7048e34fb9d2c5be5b2aab872274c2">AddToFree</a>(best);</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;  <span class="keywordflow">return</span> best;</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;}</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160; </div>
<div class="line"><a name="l01758"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a4b0daea33a0df4fb83f33c52bfd89476"> 1758</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1compiler_1_1AllocatedOperand.html">compiler::AllocatedOperand</a> StraightForwardRegisterAllocator::AllocateRegister(</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* node, <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1compiler_1_1InstructionOperand.html">compiler::InstructionOperand</a>&amp; hint) {</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;  <a class="code" href="classv8_1_1internal_1_1compiler_1_1InstructionOperand.html">compiler::InstructionOperand</a> allocation;</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;  <span class="keywordflow">if</span> (node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#add54512d0c1325dd2b942339241bd639">use_double_register</a>()) {</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;    <span class="keywordflow">if</span> (double_registers_.UnblockedFreeIsEmpty()) {</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;      FreeUnblockedRegister&lt;DoubleRegister&gt;();</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;    }</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;    <span class="keywordflow">return</span> double_registers_.AllocateRegister(node, hint);</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;    <span class="keywordflow">if</span> (general_registers_.UnblockedFreeIsEmpty()) {</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;      FreeUnblockedRegister&lt;Register&gt;();</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;    }</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;    <span class="keywordflow">return</span> general_registers_.AllocateRegister(node, hint);</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;  }</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;}</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160; </div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> RegisterT&gt;</div>
<div class="line"><a name="l01776"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#ae90a8369aef39b40004ca0fd912bb9f1"> 1776</a></span>&#160;<span class="keyword">static</span> RegisterT <a class="code" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#ae90a8369aef39b40004ca0fd912bb9f1">GetRegisterHint</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1compiler_1_1InstructionOperand.html">compiler::InstructionOperand</a>&amp; hint) {</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;  <span class="keywordflow">if</span> (hint.IsInvalid()) <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#a00a63531b1853ad102a9dcd7636d385a">RegisterT::no_reg</a>();</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(hint.IsUnallocated());</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;  <span class="keywordflow">return</span> RegisterT::from_code(</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;      compiler::UnallocatedOperand::cast(hint).fixed_register_index());</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;}</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160; </div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160; </div>
<div class="line"><a name="l01785"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a5d1797b1bd24e0ebddc59297d7ad921f"> 1785</a></span>&#160;<span class="keywordtype">bool</span> StraightForwardRegisterAllocator::IsCurrentNodeLastUseOf(<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* node) {</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;  <span class="keywordflow">return</span> node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a31881ef84c306859d771a5c12d67cf6f">live_range</a>().<a class="code" href="structv8_1_1internal_1_1maglev_1_1ValueNode_1_1LiveRange.html#a987af3d68b08acc2997a52b9aaf9f1cd">end</a> == current_node_-&gt;id();</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;}</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160; </div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> RegisterT&gt;</div>
<div class="line"><a name="l01790"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ac150274188b5178e13e0b9b70394445d"> 1790</a></span>&#160;<span class="keywordtype">void</span> StraightForwardRegisterAllocator::EnsureFreeRegisterAtEnd(</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1compiler_1_1InstructionOperand.html">compiler::InstructionOperand</a>&amp; hint) {</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html">RegisterFrameState&lt;RegisterT&gt;</a>&amp; registers = GetRegisterFrameState&lt;RegisterT&gt;();</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;  <span class="comment">// If we still have free registers, pick one of those.</span></div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;  <span class="keywordflow">if</span> (!registers.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#aaa8e87b02cf8c45afb0d853d8c891fe1">unblocked_free</a>().is_empty()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160; </div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;  <span class="comment">// If the current node is a last use of an input, pick a register containing</span></div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;  <span class="comment">// the input. Prefer the hint register if available.</span></div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;  RegisterT hint_reg = GetRegisterHint&lt;RegisterT&gt;(hint);</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;  <span class="keywordflow">if</span> (!registers.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#a28131c9b222f44fa314b904704366272">free</a>().has(hint_reg) &amp;&amp; registers.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#a335550503cc75d07ea7f78666fe64d4e">blocked</a>().has(hint_reg) &amp;&amp;</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;      IsCurrentNodeLastUseOf(registers.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#ab7f6b41488705b1c4b778269cfae801e">GetValue</a>(hint_reg))) {</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;    DropRegisterValueAtEnd(hint_reg);</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;  }</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;  <span class="comment">// Only search in the used-blocked list, since we don&#39;t want to assign the</span></div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;  <span class="comment">// result register to a temporary (free + blocked).</span></div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;  <span class="keywordflow">for</span> (RegisterT reg : (registers.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#a335550503cc75d07ea7f78666fe64d4e">blocked</a>() - registers.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#a28131c9b222f44fa314b904704366272">free</a>())) {</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;    <span class="keywordflow">if</span> (IsCurrentNodeLastUseOf(registers.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#ab7f6b41488705b1c4b778269cfae801e">GetValue</a>(reg))) {</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;      DropRegisterValueAtEnd(reg);</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;    }</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;  }</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160; </div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;  <span class="comment">// Pick any input-blocked register based on regular heuristics.</span></div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;  RegisterT reg = hint.IsInvalid()</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;                      ? PickRegisterToFree&lt;RegisterT&gt;(registers.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#a1fc7b0d01b577993fa875683ba48371b">empty</a>())</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;                      : GetRegisterHint&lt;RegisterT&gt;(hint);</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;  DropRegisterValueAtEnd(reg);</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;}</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160; </div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;<a class="code" href="classv8_1_1internal_1_1compiler_1_1AllocatedOperand.html">compiler::AllocatedOperand</a></div>
<div class="line"><a name="l01821"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a028fd95207c1ba7d7f4dfb45f0a768a2"> 1821</a></span>&#160;StraightForwardRegisterAllocator::AllocateRegisterAtEnd(<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* node) {</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;  <span class="keywordflow">if</span> (node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#add54512d0c1325dd2b942339241bd639">use_double_register</a>()) {</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;    EnsureFreeRegisterAtEnd&lt;DoubleRegister&gt;(node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#ae989d95ca67fbdafb50003be6d69df7d">hint</a>());</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;    <span class="keywordflow">return</span> double_registers_.AllocateRegister(node, node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#ae989d95ca67fbdafb50003be6d69df7d">hint</a>());</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;    EnsureFreeRegisterAtEnd&lt;Register&gt;(node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#ae989d95ca67fbdafb50003be6d69df7d">hint</a>());</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;    <span class="keywordflow">return</span> general_registers_.AllocateRegister(node, node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#ae989d95ca67fbdafb50003be6d69df7d">hint</a>());</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;  }</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;}</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160; </div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> RegisterT&gt;</div>
<div class="line"><a name="l01832"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a6a326398de3c6a5072eea22327c7746d"> 1832</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1compiler_1_1AllocatedOperand.html">compiler::AllocatedOperand</a> StraightForwardRegisterAllocator::ForceAllocate(</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html">RegisterFrameState&lt;RegisterT&gt;</a>&amp; registers, RegisterT reg, <a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* node) {</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!registers.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#ad08b1eaf5d5071f6441eedacc810c87f">is_blocked</a>(reg));</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_maglev_regalloc) {</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;    printing_visitor_-&gt;os()</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;  forcing &quot;</span> &lt;&lt; reg &lt;&lt; <span class="stringliteral">&quot; to &quot;</span></div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;        &lt;&lt; <a class="code" href="classv8_1_1internal_1_1maglev_1_1PrintNodeLabel.html">PrintNodeLabel</a>(graph_labeller(), node) &lt;&lt; <span class="stringliteral">&quot;...\n&quot;</span>;</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;  }</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;  <span class="keywordflow">if</span> (registers.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#a28131c9b222f44fa314b904704366272">free</a>().has(reg)) {</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;    <span class="comment">// If it&#39;s already free, remove it from the free list.</span></div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;    registers.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#a0ace98877e450f5dc94fa4764f184a1e">RemoveFromFree</a>(reg);</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (registers.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#ab7f6b41488705b1c4b778269cfae801e">GetValue</a>(reg) == node) {</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;    registers.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#ac66fafb824ff711376ba3392595e9165">block</a>(reg);</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1compiler_1_1AllocatedOperand.html">compiler::AllocatedOperand</a>(compiler::LocationOperand::REGISTER,</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;                                      node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#adf7b365973e369d5ac1532952776633a">GetMachineRepresentation</a>(),</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;                                      reg.code());</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!registers.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#ad08b1eaf5d5071f6441eedacc810c87f">is_blocked</a>(reg));</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;    DropRegisterValue(registers, reg);</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;  }</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!registers.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#a28131c9b222f44fa314b904704366272">free</a>().has(reg));</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;  registers.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#a634ce28caf22af716ed96defbac31207">unblock</a>(reg);</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;  registers.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#a6253008f59f004107b61e81f683ed778">SetValue</a>(reg, node);</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1compiler_1_1AllocatedOperand.html">compiler::AllocatedOperand</a>(compiler::LocationOperand::REGISTER,</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;                                    node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#adf7b365973e369d5ac1532952776633a">GetMachineRepresentation</a>(),</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;                                    reg.code());</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;}</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160; </div>
<div class="line"><a name="l01860"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a749353f9e95b0c4fd8539a889ac70e91"> 1860</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1compiler_1_1AllocatedOperand.html">compiler::AllocatedOperand</a> StraightForwardRegisterAllocator::ForceAllocate(</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Register.html">Register</a> reg, <a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* node) {</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#add54512d0c1325dd2b942339241bd639">use_double_register</a>());</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;  <span class="keywordflow">return</span> ForceAllocate&lt;Register&gt;(general_registers_, reg, node);</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;}</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160; </div>
<div class="line"><a name="l01866"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#abd8c820b14bb3bc46483559d20244bca"> 1866</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1compiler_1_1AllocatedOperand.html">compiler::AllocatedOperand</a> StraightForwardRegisterAllocator::ForceAllocate(</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DoubleRegister.html">DoubleRegister</a> reg, <a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* node) {</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#add54512d0c1325dd2b942339241bd639">use_double_register</a>());</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;  <span class="keywordflow">return</span> ForceAllocate&lt;DoubleRegister&gt;(double_registers_, reg, node);</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;}</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160; </div>
<div class="line"><a name="l01872"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a833383ffbe410452bdf67df7a6453a1f"> 1872</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1compiler_1_1AllocatedOperand.html">compiler::AllocatedOperand</a> StraightForwardRegisterAllocator::ForceAllocate(</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1maglev_1_1Input.html">Input</a>&amp; input, <a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* node) {</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;  <span class="keywordflow">if</span> (input.<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueLocation.html#a261af9a50d19654e309b723e1d76c0c9">IsDoubleRegister</a>()) {</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DoubleRegister.html">DoubleRegister</a> reg = input.<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueLocation.html#ac8f57a8852876a2adcdc748c417f1798">AssignedDoubleRegister</a>();</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;    DropRegisterValueAtEnd(reg);</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;    <span class="keywordflow">return</span> ForceAllocate(reg, node);</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Register.html">Register</a> reg = input.<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueLocation.html#a143f6c31632b96bbdc32d3cf2c469a12">AssignedGeneralRegister</a>();</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;    DropRegisterValueAtEnd(reg);</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;    <span class="keywordflow">return</span> ForceAllocate(reg, node);</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;  }</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;}</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160; </div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> RegisterT&gt;</div>
<div class="line"><a name="l01887"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#ab4d8a31c490ec7d5be215d5295ddaf3c"> 1887</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1compiler_1_1AllocatedOperand.html">compiler::AllocatedOperand</a> <a class="code" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#ab4d8a31c490ec7d5be215d5295ddaf3c">OperandForNodeRegister</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* node,</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;                                                  RegisterT reg) {</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1compiler_1_1AllocatedOperand.html">compiler::AllocatedOperand</a>(compiler::LocationOperand::REGISTER,</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;                                    node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#adf7b365973e369d5ac1532952776633a">GetMachineRepresentation</a>(),</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;                                    reg.code());</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;}</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160; </div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> RegisterT&gt;</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;<a class="code" href="classv8_1_1internal_1_1compiler_1_1InstructionOperand.html">compiler::InstructionOperand</a></div>
<div class="line"><a name="l01897"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#a787483497baee9550f605aab8057de2c"> 1897</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html">RegisterFrameState&lt;RegisterT&gt;::TryChooseInputRegister</a>(</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* node, <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1compiler_1_1InstructionOperand.html">compiler::InstructionOperand</a>&amp; hint) {</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#a686b85f0295597097fab2f94f044a9b7">RegTList</a> result_registers = node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#aa1e97a4e3c9a6df7e810e92cbc00849f">result_registers</a>&lt;RegisterT&gt;();</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;  <span class="keywordflow">if</span> (result_registers.is_empty()) <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1compiler_1_1InstructionOperand.html">compiler::InstructionOperand</a>();</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160; </div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;  <span class="comment">// Prefer to return an existing blocked register.</span></div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#a686b85f0295597097fab2f94f044a9b7">RegTList</a> blocked_result_registers = result_registers &amp; blocked_;</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;  <span class="keywordflow">if</span> (!blocked_result_registers.is_empty()) {</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;    RegisterT reg = GetRegisterHint&lt;RegisterT&gt;(hint);</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;    <span class="keywordflow">if</span> (!blocked_result_registers.has(reg)) {</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;      reg = blocked_result_registers.first();</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;    }</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#ab4d8a31c490ec7d5be215d5295ddaf3c">OperandForNodeRegister</a>(node, reg);</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;  }</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160; </div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;  RegisterT reg = result_registers.first();</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;  block(reg);</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#ab4d8a31c490ec7d5be215d5295ddaf3c">OperandForNodeRegister</a>(node, reg);</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;}</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160; </div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> RegisterT&gt;</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;<a class="code" href="classv8_1_1internal_1_1compiler_1_1InstructionOperand.html">compiler::InstructionOperand</a></div>
<div class="line"><a name="l01919"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#a84ab121328495f20bd4c676c06fb5495"> 1919</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html">RegisterFrameState&lt;RegisterT&gt;::TryChooseUnblockedInputRegister</a>(</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* node) {</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#a686b85f0295597097fab2f94f044a9b7">RegTList</a> result_excl_blocked = node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#aa1e97a4e3c9a6df7e810e92cbc00849f">result_registers</a>&lt;RegisterT&gt;() - blocked_;</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;  <span class="keywordflow">if</span> (result_excl_blocked.is_empty()) <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1compiler_1_1InstructionOperand.html">compiler::InstructionOperand</a>();</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;  RegisterT reg = result_excl_blocked.first();</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;  block(reg);</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#ab4d8a31c490ec7d5be215d5295ddaf3c">OperandForNodeRegister</a>(node, reg);</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;}</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160; </div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> RegisterT&gt;</div>
<div class="line"><a name="l01929"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#a0109713338a9e370d1aa577a40a64b55"> 1929</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1compiler_1_1AllocatedOperand.html">compiler::AllocatedOperand</a> <a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html">RegisterFrameState&lt;RegisterT&gt;::AllocateRegister</a>(</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* node, <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1compiler_1_1InstructionOperand.html">compiler::InstructionOperand</a>&amp; hint) {</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!unblocked_free().<a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ad67f19534a45514c73aee4542f8270e9">is_empty</a>());</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;  RegisterT reg = GetRegisterHint&lt;RegisterT&gt;(hint);</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;  <span class="keywordflow">if</span> (!unblocked_free().has(reg)) {</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;    reg = unblocked_free().first();</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;  }</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;  RemoveFromFree(reg);</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160; </div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;  <span class="comment">// Allocation succeeded. This might have found an existing allocation.</span></div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;  <span class="comment">// Simply update the state anyway.</span></div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;  SetValue(reg, node);</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#ab4d8a31c490ec7d5be215d5295ddaf3c">OperandForNodeRegister</a>(node, reg);</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;}</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160; </div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> RegisterT&gt;</div>
<div class="line"><a name="l01945"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae3e46b8b824cbda6d385e5ab34773413"> 1945</a></span>&#160;<span class="keywordtype">void</span> StraightForwardRegisterAllocator::AssignFixedTemporaries(</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html">RegisterFrameState&lt;RegisterT&gt;</a>&amp; registers, <a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html">NodeBase</a>* node) {</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;  <a class="code" href="classv8_1_1internal_1_1RegListBase.html">RegListBase&lt;RegisterT&gt;</a> fixed_temporaries = node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a4dad11c21091d313f16ecb6049ec4cfc">temporaries</a>&lt;RegisterT&gt;();</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160; </div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;  <span class="comment">// Make sure that any initially set temporaries are definitely free.</span></div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;  <span class="keywordflow">for</span> (RegisterT reg : fixed_temporaries) {</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!registers.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#ad08b1eaf5d5071f6441eedacc810c87f">is_blocked</a>(reg));</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;    <span class="keywordflow">if</span> (!registers.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#a28131c9b222f44fa314b904704366272">free</a>().has(reg)) {</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;      DropRegisterValue(registers, reg);</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;      registers.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#a2b7048e34fb9d2c5be5b2aab872274c2">AddToFree</a>(reg);</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;    }</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;    registers.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#ac66fafb824ff711376ba3392595e9165">block</a>(reg);</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;  }</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160; </div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_maglev_regalloc &amp;&amp; !fixed_temporaries.<a class="code" href="classv8_1_1internal_1_1RegListBase.html#a367df28bdf4931ccbde44a11e8d5e731">is_empty</a>()) {</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;    <span class="keywordflow">if</span> constexpr (std::is_same_v&lt;RegisterT, Register&gt;) {</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;      printing_visitor_-&gt;os()</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;          &lt;&lt; <span class="stringliteral">&quot;Fixed Temporaries: &quot;</span> &lt;&lt; fixed_temporaries &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;      printing_visitor_-&gt;os()</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;          &lt;&lt; <span class="stringliteral">&quot;Fixed Double Temporaries: &quot;</span> &lt;&lt; fixed_temporaries &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;    }</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;  }</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160; </div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;  <span class="comment">// After allocating the specific/fixed temporary registers, we empty the node</span></div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;  <span class="comment">// set, so that it is used to allocate only the arbitrary/available temporary</span></div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;  <span class="comment">// register that is going to be inserted in the scratch scope.</span></div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;  node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a4dad11c21091d313f16ecb6049ec4cfc">temporaries</a>&lt;RegisterT&gt;() = {};</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;}</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160; </div>
<div class="line"><a name="l01975"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a8b253ba7e4c583704fee0d1d9688231d"> 1975</a></span>&#160;<span class="keywordtype">void</span> StraightForwardRegisterAllocator::AssignFixedTemporaries(<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html">NodeBase</a>* node) {</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;  AssignFixedTemporaries(general_registers_, node);</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;  AssignFixedTemporaries(double_registers_, node);</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;}</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160; </div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> RegisterT&gt;</div>
<div class="line"><a name="l01982"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#a95fc1e7b974fcfb2b070ed3eb305e543"> 1982</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1RegListBase.html">RegListBase&lt;RegisterT&gt;</a> <a class="code" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#a95fc1e7b974fcfb2b070ed3eb305e543">GetReservedRegisters</a>(<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html">NodeBase</a>* node_base) {</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;  <span class="keywordflow">if</span> (!node_base-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a317252af8f98deb2e31a8b5b5aee3c2d">Is</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>&gt;()) <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1RegListBase.html">RegListBase&lt;RegisterT&gt;</a>();</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* node = node_base-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#ab69dfd83fc1e566e5e431350fb4fe733">Cast</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>&gt;();</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;  <a class="code" href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html">compiler::UnallocatedOperand</a> operand =</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;      compiler::UnallocatedOperand::cast(node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a0491416c6f0810ff423f59b48913dc41">result</a>().<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueLocation.html#a4c03b6153436bf3a5e7e8a4d7cc0e539">operand</a>());</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;  <a class="code" href="classv8_1_1internal_1_1RegListBase.html">RegListBase&lt;RegisterT&gt;</a> reserved = {node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#acb2c39c5d1bedd518407299da5762861">GetRegisterHint</a>&lt;RegisterT&gt;()};</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;  <span class="keywordflow">if</span> (operand.basic_policy() == compiler::UnallocatedOperand::FIXED_SLOT) {</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a317252af8f98deb2e31a8b5b5aee3c2d">Is</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1InitialValue.html">InitialValue</a>&gt;());</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;    <span class="keywordflow">return</span> reserved;</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;  }</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;  <span class="keywordflow">if</span> constexpr (std::is_same_v&lt;RegisterT, Register&gt;) {</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;    <span class="keywordflow">if</span> (operand.extended_policy() ==</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;        compiler::UnallocatedOperand::FIXED_REGISTER) {</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;      reserved.<a class="code" href="classv8_1_1internal_1_1RegListBase.html#a1f08fc10b3a7af8861cf2c6db5319ee7">set</a>(Register::from_code(operand.fixed_register_index()));</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;    }</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;    static_assert(std::is_same_v&lt;RegisterT, DoubleRegister&gt;);</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;    <span class="keywordflow">if</span> (operand.extended_policy() ==</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;        compiler::UnallocatedOperand::FIXED_FP_REGISTER) {</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;      reserved.<a class="code" href="classv8_1_1internal_1_1RegListBase.html#a1f08fc10b3a7af8861cf2c6db5319ee7">set</a>(DoubleRegister::from_code(operand.fixed_register_index()));</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;    }</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;  }</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;  <span class="keywordflow">return</span> reserved;</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;}</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160; </div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> RegisterT&gt;</div>
<div class="line"><a name="l02009"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a67e3883db97946b39cd06d9e12a424ee"> 2009</a></span>&#160;<span class="keywordtype">void</span> StraightForwardRegisterAllocator::AssignArbitraryTemporaries(</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html">RegisterFrameState&lt;RegisterT&gt;</a>&amp; registers, <a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html">NodeBase</a>* node) {</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;  <span class="keywordtype">int</span> num_temporaries_needed = node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#aade88e78e48b2cd67f76f98dc4da2238">num_temporaries_needed</a>&lt;RegisterT&gt;();</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;  <span class="keywordflow">if</span> (num_temporaries_needed == 0) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160; </div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#afd957f297df7e9ee36c46185e961485f">DCHECK_GT</a>(num_temporaries_needed, 0);</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;  <a class="code" href="classv8_1_1internal_1_1RegListBase.html">RegListBase&lt;RegisterT&gt;</a> temporaries = node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a4dad11c21091d313f16ecb6049ec4cfc">temporaries</a>&lt;RegisterT&gt;();</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(temporaries.<a class="code" href="classv8_1_1internal_1_1RegListBase.html#a367df28bdf4931ccbde44a11e8d5e731">is_empty</a>());</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;  <span class="keywordtype">int</span> remaining_temporaries_needed = num_temporaries_needed;</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160; </div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;  <span class="comment">// If the node is a ValueNode with a fixed result register, we should not</span></div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;  <span class="comment">// assign a temporary to the result register, nor its hint.</span></div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;  <a class="code" href="classv8_1_1internal_1_1RegListBase.html">RegListBase&lt;RegisterT&gt;</a> reserved = GetReservedRegisters&lt;RegisterT&gt;(node);</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;  <span class="keywordflow">for</span> (RegisterT reg : (registers.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#aaa8e87b02cf8c45afb0d853d8c891fe1">unblocked_free</a>() - reserved)) {</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;    registers.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#ac66fafb824ff711376ba3392595e9165">block</a>(reg);</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!temporaries.<a class="code" href="classv8_1_1internal_1_1RegListBase.html#a3856ba5b1ccfe7deabfc70a4ce9ed6be">has</a>(reg));</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;    temporaries.<a class="code" href="classv8_1_1internal_1_1RegListBase.html#a1f08fc10b3a7af8861cf2c6db5319ee7">set</a>(reg);</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;    <span class="keywordflow">if</span> (--remaining_temporaries_needed == 0) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;  }</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160; </div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;  <span class="comment">// Free extra registers if necessary.</span></div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; remaining_temporaries_needed; ++<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>) {</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>((registers.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#aaa8e87b02cf8c45afb0d853d8c891fe1">unblocked_free</a>() - reserved).is_empty());</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;    RegisterT reg = FreeUnblockedRegister&lt;RegisterT&gt;(reserved);</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;    registers.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#ac66fafb824ff711376ba3392595e9165">block</a>(reg);</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!temporaries.<a class="code" href="classv8_1_1internal_1_1RegListBase.html#a3856ba5b1ccfe7deabfc70a4ce9ed6be">has</a>(reg));</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;    temporaries.<a class="code" href="classv8_1_1internal_1_1RegListBase.html#a1f08fc10b3a7af8861cf2c6db5319ee7">set</a>(reg);</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;  }</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160; </div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a>(temporaries.<a class="code" href="classv8_1_1internal_1_1RegListBase.html#a8a586367d3a47c009d14bd52a47cd45b">Count</a>(), num_temporaries_needed);</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160; </div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;  node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a56d8f4b6e31fcf55d832a16c3fe73955">assign_temporaries</a>(temporaries);</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_maglev_regalloc) {</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;    <span class="keywordflow">if</span> constexpr (std::is_same_v&lt;RegisterT, Register&gt;) {</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;      printing_visitor_-&gt;os() &lt;&lt; <span class="stringliteral">&quot;Temporaries: &quot;</span> &lt;&lt; temporaries &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;      printing_visitor_-&gt;os() &lt;&lt; <span class="stringliteral">&quot;Double Temporaries: &quot;</span> &lt;&lt; temporaries &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;    }</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;  }</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;}</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160; </div>
<div class="line"><a name="l02050"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a3bdb11925801e66911056d28775ed930"> 2050</a></span>&#160;<span class="keywordtype">void</span> StraightForwardRegisterAllocator::AssignArbitraryTemporaries(</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html">NodeBase</a>* node) {</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;  AssignArbitraryTemporaries(general_registers_, node);</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;  AssignArbitraryTemporaries(double_registers_, node);</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;}</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160; </div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> Function&gt;</div>
<div class="line"><a name="l02057"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a3651e065d28fa22ad855f5b7c7eaa5ce"> 2057</a></span>&#160;<span class="keywordtype">void</span> StraightForwardRegisterAllocator::ForEachMergePointRegisterState(</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1MergePointRegisterState.html">MergePointRegisterState</a>&amp; merge_point_state, <a class="code" href="classv8_1_1Function.html">Function</a>&amp;&amp; f) {</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;  merge_point_state.ForEachGeneralRegister(</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;      [&amp;](<a class="code" href="classv8_1_1internal_1_1Register.html">Register</a> reg, <a class="code" href="classv8_1_1base_1_1PointerWithPayload.html">RegisterState</a>&amp; state) {</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;        f(general_registers_, reg, state);</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;      });</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;  merge_point_state.ForEachDoubleRegister(</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;      [&amp;](<a class="code" href="classv8_1_1internal_1_1DoubleRegister.html">DoubleRegister</a> reg, <a class="code" href="classv8_1_1base_1_1PointerWithPayload.html">RegisterState</a>&amp; state) {</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;        f(double_registers_, reg, state);</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;      });</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;}</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160; </div>
<div class="line"><a name="l02069"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a85e2428a666406afd8a3c6d913021b6d"> 2069</a></span>&#160;<span class="keywordtype">void</span> StraightForwardRegisterAllocator::ClearRegisterValues() {</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;  <span class="keyword">auto</span> ClearRegisterState = [&amp;](<span class="keyword">auto</span>&amp; registers) {</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;    <span class="keywordflow">while</span> (!registers.used().is_empty()) {</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;      <span class="keyword">auto</span> reg = registers.used().first();</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;      <a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* node = registers.GetValue(reg);</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;      registers.FreeRegistersUsedBy(node);</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!registers.used().has(reg));</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;    }</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;  };</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160; </div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;  ClearRegisterState(general_registers_);</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;  ClearRegisterState(double_registers_);</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160; </div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;  <span class="comment">// All registers should be free by now.</span></div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(general_registers_.unblocked_free(),</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;            MaglevAssembler::GetAllocatableRegisters());</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(double_registers_.unblocked_free(),</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;            MaglevAssembler::GetAllocatableDoubleRegisters());</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;}</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160; </div>
<div class="line"><a name="l02089"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae14929a40920a1bb43a561d1f7da9ef1"> 2089</a></span>&#160;<span class="keywordtype">void</span> StraightForwardRegisterAllocator::InitializeRegisterValues(</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1MergePointRegisterState.html">MergePointRegisterState</a>&amp; target_state) {</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;  <span class="comment">// First clear the register state.</span></div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;  ClearRegisterValues();</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160; </div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;  <span class="comment">// Then fill it in with target information.</span></div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;  <span class="keyword">auto</span> fill = [&amp;](<span class="keyword">auto</span>&amp; registers, <span class="keyword">auto</span> reg, <a class="code" href="classv8_1_1base_1_1PointerWithPayload.html">RegisterState</a>&amp; state) {</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* node;</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;    <a class="code" href="structv8_1_1internal_1_1maglev_1_1RegisterMerge.html">RegisterMerge</a>* merge;</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1maglev.html#aabd8b744a56d0d325e265221865d5efa">LoadMergeState</a>(state, &amp;node, &amp;merge);</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;    <span class="keywordflow">if</span> (node != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;      registers.RemoveFromFree(reg);</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;      registers.SetValue(reg, node);</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!state.GetPayload().is_merge);</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;    }</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;  };</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;  ForEachMergePointRegisterState(target_state, fill);</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160; </div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;  <span class="comment">// SetValue will have blocked registers, unblock them.</span></div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;  general_registers_.clear_blocked();</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;  double_registers_.clear_blocked();</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;}</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160; </div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160; </div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;<span class="keywordtype">bool</span> StraightForwardRegisterAllocator::IsInRegister(</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1MergePointRegisterState.html">MergePointRegisterState</a>&amp; target_state, <a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* incoming) {</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;  <span class="keywordtype">bool</span> found = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;  <span class="keyword">auto</span> find = [&amp;found, &amp;incoming](<span class="keyword">auto</span> reg, <a class="code" href="classv8_1_1base_1_1PointerWithPayload.html">RegisterState</a>&amp; state) {</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* node;</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;    <a class="code" href="structv8_1_1internal_1_1maglev_1_1RegisterMerge.html">RegisterMerge</a>* merge;</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1maglev.html#aabd8b744a56d0d325e265221865d5efa">LoadMergeState</a>(state, &amp;node, &amp;merge);</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;    <span class="keywordflow">if</span> (node == incoming) found = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;  };</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;  <span class="keywordflow">if</span> (incoming-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#add54512d0c1325dd2b942339241bd639">use_double_register</a>()) {</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;    target_state.ForEachDoubleRegister(find);</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;    target_state.ForEachGeneralRegister(find);</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;  }</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;  <span class="keywordflow">return</span> found;</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;}</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160; </div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;<span class="comment">// Returns true if {first_id} or {last_id} are forward-reachable from {current}.</span></div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;<span class="keywordtype">bool</span> StraightForwardRegisterAllocator::IsForwardReachable(</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;    BasicBlock* start_block, <a class="code" href="namespacev8_1_1internal_1_1maglev.html#a8b29e11822d68e5cf40a05880c74fd26">NodeIdT</a> first_id, <a class="code" href="namespacev8_1_1internal_1_1maglev.html#a8b29e11822d68e5cf40a05880c74fd26">NodeIdT</a> last_id) {</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;  ZoneQueue&lt;BasicBlock*&gt; queue(compilation_info_-&gt;zone());</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;  ZoneSet&lt;BasicBlock*&gt; seen(compilation_info_-&gt;zone());</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;  <span class="keywordflow">while</span> (!queue.empty()) {</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;    BasicBlock* curr = queue.front();</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;    queue.pop();</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160; </div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;    <span class="keywordflow">if</span> (curr-&gt;contains_node_id(first_id) || curr-&gt;contains_node_id(last_id)) {</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;    }</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160; </div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;    <span class="keywordflow">if</span> (curr-&gt;control_node()-&gt;Is&lt;JumpLoop&gt;()) {</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;      <span class="comment">// A JumpLoop will have a backward edge. Since we are only interested in</span></div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;      <span class="comment">// checking forward reachability, we ignore its successors.</span></div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;    }</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160; </div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;    <span class="keywordflow">for</span> (BasicBlock* succ : curr-&gt;successors()) {</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;      <span class="keywordflow">if</span> (seen.insert(succ).second) {</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;        queue.push(succ);</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;      }</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;      <span class="comment">// Since we skipped JumpLoop, only forward edges should remain.</span></div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#afd957f297df7e9ee36c46185e961485f">DCHECK_GT</a>(succ-&gt;first_id(), curr-&gt;first_id());</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;    }</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;  }</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160; </div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;}</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160; </div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">//  DEBUG</span></div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160; </div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;<span class="comment">// If a node needs a register before the first call and after the last call of</span></div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;<span class="comment">// the loop, initialize the merge state with a register for this node to avoid</span></div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;<span class="comment">// an unnecessary spill + reload on every iteration.</span></div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> RegisterT&gt;</div>
<div class="line"><a name="l02169"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a8b10716215fd09beb1a70489cd54899d"> 2169</a></span>&#160;<span class="keywordtype">void</span> StraightForwardRegisterAllocator::HoistLoopReloads(</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html">BasicBlock</a>* target, <a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html">RegisterFrameState&lt;RegisterT&gt;</a>&amp; registers) {</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;  <span class="keyword">auto</span> info = regalloc_info_-&gt;loop_info_.find(target-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a4153bfe2c539d32669b638138826f543">id</a>());</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;  <span class="keywordflow">if</span> (info == regalloc_info_-&gt;loop_info_.end()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* node : info-&gt;second.reload_hints_) {</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(general_registers_.blocked().is_empty());</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;    <span class="keywordflow">if</span> (registers.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#a28131c9b222f44fa314b904704366272">free</a>().is_empty()) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;    <span class="keywordflow">if</span> (node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a2b60029eb983f04e9a00348d55594ea4">has_register</a>()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;    <span class="comment">// The value is in a liveness hole, don&#39;t try to reload it.</span></div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;    <span class="keywordflow">if</span> (!node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a2aa6cddf21fbe3397564ce1f57dfb4be">is_loadable</a>()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;    <span class="keywordflow">if</span> ((node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#add54512d0c1325dd2b942339241bd639">use_double_register</a>() &amp;&amp; std::is_same_v&lt;RegisterT, Register&gt;) ||</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;        (!node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#add54512d0c1325dd2b942339241bd639">use_double_register</a>() &amp;&amp;</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;         std::is_same_v&lt;RegisterT, DoubleRegister&gt;)) {</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;    }</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;    RegisterT target_reg = node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#acb2c39c5d1bedd518407299da5762861">GetRegisterHint</a>&lt;RegisterT&gt;();</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;    <span class="keywordflow">if</span> (!registers.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#a28131c9b222f44fa314b904704366272">free</a>().has(target_reg)) {</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;      target_reg = registers.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#a28131c9b222f44fa314b904704366272">free</a>().first();</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;    }</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;    <a class="code" href="classv8_1_1internal_1_1compiler_1_1AllocatedOperand.html">compiler::AllocatedOperand</a> target_operand(</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;        compiler::LocationOperand::REGISTER, node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#adf7b365973e369d5ac1532952776633a">GetMachineRepresentation</a>(),</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;        target_reg.code());</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;    registers.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#a0ace98877e450f5dc94fa4764f184a1e">RemoveFromFree</a>(target_reg);</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;    registers.<a class="code" href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#adbc04ce3328b7dd66e1a6a1d385fd8bf">SetValueWithoutBlocking</a>(target_reg, node);</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;    AddMoveBeforeCurrentNode(node, node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a1f58a55a7c599f16c00d559cfbdc486e">loadable_slot</a>(), target_operand);</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;  }</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;}</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160; </div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;<span class="comment">// Same as above with spills: if the node does not need a register before the</span></div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;<span class="comment">// first call and after the last call of the loop, keep it spilled in the merge</span></div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;<span class="comment">// state to avoid an unnecessary reload + spill on every iteration.</span></div>
<div class="line"><a name="l02200"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#aecdaeb2507958a95bb0f53879a3b6386"> 2200</a></span>&#160;<span class="keywordtype">void</span> StraightForwardRegisterAllocator::HoistLoopSpills(<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html">BasicBlock</a>* target) {</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;  <span class="keyword">auto</span> info = regalloc_info_-&gt;loop_info_.find(target-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a4153bfe2c539d32669b638138826f543">id</a>());</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;  <span class="keywordflow">if</span> (info == regalloc_info_-&gt;loop_info_.end()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* node : info-&gt;second.spill_hints_) {</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;    <span class="keywordflow">if</span> (!node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a2b60029eb983f04e9a00348d55594ea4">has_register</a>()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;    <span class="comment">// Do not move to a different register, the goal is to keep the value</span></div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;    <span class="comment">// spilled on the back-edge.</span></div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> kForceSpill = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;    <span class="keywordflow">if</span> (node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#add54512d0c1325dd2b942339241bd639">use_double_register</a>()) {</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1DoubleRegister.html">DoubleRegister</a> reg : node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#aa1e97a4e3c9a6df7e810e92cbc00849f">result_registers</a>&lt;<a class="code" href="classv8_1_1internal_1_1DoubleRegister.html">DoubleRegister</a>&gt;()) {</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;        DropRegisterValueAtEnd(reg, kForceSpill);</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;      }</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1Register.html">Register</a> reg : node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#aa1e97a4e3c9a6df7e810e92cbc00849f">result_registers</a>&lt;<a class="code" href="classv8_1_1internal_1_1Register.html">Register</a>&gt;()) {</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;        DropRegisterValueAtEnd(reg, kForceSpill);</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;      }</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;    }</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;  }</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;}</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160; </div>
<div class="line"><a name="l02220"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a39254d6d56299ed14508926e07d6e92e"> 2220</a></span>&#160;<span class="keywordtype">void</span> StraightForwardRegisterAllocator::InitializeBranchTargetRegisterValues(</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1ControlNode.html">ControlNode</a>* source, <a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html">BasicBlock</a>* target) {</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1MergePointRegisterState.html">MergePointRegisterState</a>&amp; target_state = target-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a3eaa2f458b36bb37b803206d11aa6ef0">state</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1MergePointInterpreterFrameState.html#a64a49774797bee747f489269b74b7bc1">register_state</a>();</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!target_state.is_initialized());</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;  <span class="keyword">auto</span> init = [&amp;](<span class="keyword">auto</span>&amp; registers, <span class="keyword">auto</span> reg, <a class="code" href="classv8_1_1base_1_1PointerWithPayload.html">RegisterState</a>&amp; state) {</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* node = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(registers.blocked().is_empty());</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;    <span class="keywordflow">if</span> (!registers.free().has(reg)) {</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;      node = registers.GetValue(reg);</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#a1734b81a6e299f173861ed10ff9eef67">IsLiveAtTarget</a>(node, source, target)) node = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;    }</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;    state = {node, <a class="code" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#adc4a4e4d34f19a4cb5ebe5a10dfc166d">initialized_node</a>};</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;  };</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;  HoistLoopReloads(target, general_registers_);</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;  HoistLoopReloads(target, double_registers_);</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;  HoistLoopSpills(target);</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;  ForEachMergePointRegisterState(target_state, init);</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;}</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160; </div>
<div class="line"><a name="l02239"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a570a04818b0b49be804f5d5141b2c0f9"> 2239</a></span>&#160;<span class="keywordtype">void</span> StraightForwardRegisterAllocator::InitializeEmptyBlockRegisterValues(</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1ControlNode.html">ControlNode</a>* source, <a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html">BasicBlock</a>* target) {</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(target-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a647d849058456cbcd5b2a0c4eefe189c">is_edge_split_block</a>());</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1MergePointRegisterState.html">MergePointRegisterState</a>* register_state =</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;      compilation_info_-&gt;zone()-&gt;New&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1MergePointRegisterState.html">MergePointRegisterState</a>&gt;();</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160; </div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!register_state-&gt;is_initialized());</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;  <span class="keyword">auto</span> init = [&amp;](<span class="keyword">auto</span>&amp; registers, <span class="keyword">auto</span> reg, <a class="code" href="classv8_1_1base_1_1PointerWithPayload.html">RegisterState</a>&amp; state) {</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* node = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(registers.blocked().is_empty());</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;    <span class="keywordflow">if</span> (!registers.free().has(reg)) {</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;      node = registers.GetValue(reg);</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#a1734b81a6e299f173861ed10ff9eef67">IsLiveAtTarget</a>(node, source, target)) node = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;    }</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;    state = {node, <a class="code" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#adc4a4e4d34f19a4cb5ebe5a10dfc166d">initialized_node</a>};</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;  };</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;  ForEachMergePointRegisterState(*register_state, init);</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160; </div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;  target-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#acecee655d60861a3a6fe33b0d8f42740">set_edge_split_block_register_state</a>(register_state);</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;}</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160; </div>
<div class="line"><a name="l02260"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ad89ef5232f4b2a001df6e204e43d7a20"> 2260</a></span>&#160;<span class="keywordtype">void</span> StraightForwardRegisterAllocator::MergeRegisterValues(<a class="code" href="classv8_1_1internal_1_1maglev_1_1ControlNode.html">ControlNode</a>* control,</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;                                                           <a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html">BasicBlock</a>* target,</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;                                                           <span class="keywordtype">int</span> predecessor_id) {</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;  <span class="keywordflow">if</span> (target-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a647d849058456cbcd5b2a0c4eefe189c">is_edge_split_block</a>()) {</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;    <span class="keywordflow">return</span> InitializeEmptyBlockRegisterValues(control, target);</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;  }</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160; </div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;  <a class="code" href="classv8_1_1internal_1_1maglev_1_1MergePointRegisterState.html">MergePointRegisterState</a>&amp; target_state = target-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a3eaa2f458b36bb37b803206d11aa6ef0">state</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1MergePointInterpreterFrameState.html#a64a49774797bee747f489269b74b7bc1">register_state</a>();</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;  <span class="keywordflow">if</span> (!target_state.is_initialized()) {</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;    <span class="comment">// This is the first block we&#39;re merging, initialize the values.</span></div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;    <span class="keywordflow">return</span> InitializeBranchTargetRegisterValues(control, target);</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;  }</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160; </div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_maglev_regalloc) {</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;    printing_visitor_-&gt;os() &lt;&lt; <span class="stringliteral">&quot;Merging registers...\n&quot;</span>;</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;  }</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160; </div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;  <span class="keywordtype">int</span> predecessor_count = target-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a3eaa2f458b36bb37b803206d11aa6ef0">state</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1MergePointInterpreterFrameState.html#adc5ab1d1811dbd1ffe9c163e96125635">predecessor_count</a>();</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;  <span class="keyword">auto</span> merge = [&amp;](<span class="keyword">auto</span>&amp; registers, <span class="keyword">auto</span> reg, <a class="code" href="classv8_1_1base_1_1PointerWithPayload.html">RegisterState</a>&amp; state) {</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* node;</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;    <a class="code" href="structv8_1_1internal_1_1maglev_1_1RegisterMerge.html">RegisterMerge</a>* merge;</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1maglev.html#aabd8b744a56d0d325e265221865d5efa">LoadMergeState</a>(state, &amp;node, &amp;merge);</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160; </div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;    <span class="comment">// This isn&#39;t quite the right machine representation for Int32 nodes, but</span></div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;    <span class="comment">// those are stored in the same registers as Tagged nodes so in this case it</span></div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;    <span class="comment">// doesn&#39;t matter.</span></div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#abe5419355372f787c28119c509343410">MachineRepresentation</a> mach_repr = std::is_same_v&lt;decltype(reg), <a class="code" href="classv8_1_1internal_1_1Register.html">Register</a>&gt;</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;                                          ? MachineRepresentation::kTagged</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;                                          : MachineRepresentation::kFloat64;</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;    <a class="code" href="classv8_1_1internal_1_1compiler_1_1AllocatedOperand.html">compiler::AllocatedOperand</a> register_info = {</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;        compiler::LocationOperand::REGISTER, mach_repr, reg.code()};</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160; </div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;    <a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">ValueNode</a>* incoming = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(registers.blocked().is_empty());</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;    <span class="keywordflow">if</span> (!registers.free().has(reg)) {</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;      incoming = registers.GetValue(reg);</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#a1734b81a6e299f173861ed10ff9eef67">IsLiveAtTarget</a>(incoming, control, target)) {</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_maglev_regalloc) {</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;          printing_visitor_-&gt;os() &lt;&lt; <span class="stringliteral">&quot;  &quot;</span> &lt;&lt; reg &lt;&lt; <span class="stringliteral">&quot; - incoming node &quot;</span></div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;                                  &lt;&lt; <a class="code" href="classv8_1_1internal_1_1maglev_1_1PrintNodeLabel.html">PrintNodeLabel</a>(graph_labeller(), incoming)</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;                                  &lt;&lt; <span class="stringliteral">&quot; dead at target\n&quot;</span>;</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;        }</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;        incoming = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;      }</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;    }</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160; </div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;    <span class="keywordflow">if</span> (incoming == node) {</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;      <span class="comment">// We&#39;re using the same register as the target already has. If registers</span></div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;      <span class="comment">// are merged, add input information.</span></div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_maglev_regalloc) {</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;        <span class="keywordflow">if</span> (node) {</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;          printing_visitor_-&gt;os()</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;              &lt;&lt; <span class="stringliteral">&quot;  &quot;</span> &lt;&lt; reg &lt;&lt; <span class="stringliteral">&quot; - incoming node same as node: &quot;</span></div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;              &lt;&lt; <a class="code" href="classv8_1_1internal_1_1maglev_1_1PrintNodeLabel.html">PrintNodeLabel</a>(graph_labeller(), node) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;        }</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;      }</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;      <span class="keywordflow">if</span> (merge) merge-&gt;<a class="code" href="structv8_1_1internal_1_1maglev_1_1RegisterMerge.html#a090e69a042e8f090b96e3655bbb6c8dd">operand</a>(predecessor_id) = register_info;</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;    }</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160; </div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;    <span class="keywordflow">if</span> (node == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;      <span class="comment">// Don&#39;t load new nodes at loop headers.</span></div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;      <span class="keywordflow">if</span> (control-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a317252af8f98deb2e31a8b5b5aee3c2d">Is</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1JumpLoop.html">JumpLoop</a>&gt;()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a2aa6cddf21fbe3397564ce1f57dfb4be">is_loadable</a>() &amp;&amp; !node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a2b60029eb983f04e9a00348d55594ea4">has_register</a>()) {</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;      <span class="comment">// If we have a node already, but can&#39;t load it here, we must be in a</span></div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;      <span class="comment">// liveness hole for it, so nuke the merge state.</span></div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;      <span class="comment">// This can only happen for conversion nodes, as they can split and take</span></div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;      <span class="comment">// over the liveness of the node they are converting.</span></div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;      <span class="comment">// TODO(v8:7700): Overeager DCHECK.</span></div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;      <span class="comment">// DCHECK(node-&gt;properties().is_conversion());</span></div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_maglev_regalloc) {</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;        printing_visitor_-&gt;os() &lt;&lt; <span class="stringliteral">&quot;  &quot;</span> &lt;&lt; reg &lt;&lt; <span class="stringliteral">&quot; - can&#39;t load &quot;</span></div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;                                &lt;&lt; <a class="code" href="classv8_1_1internal_1_1maglev_1_1PrintNodeLabel.html">PrintNodeLabel</a>(graph_labeller(), node)</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;                                &lt;&lt; <span class="stringliteral">&quot;, dropping the merge\n&quot;</span>;</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;      }</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;      <span class="comment">// We always need to be able to restore values on JumpLoop since the value</span></div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;      <span class="comment">// is definitely live at the loop header.</span></div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!control-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a317252af8f98deb2e31a8b5b5aee3c2d">Is</a>&lt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1JumpLoop.html">JumpLoop</a>&gt;());</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;      state = {<span class="keyword">nullptr</span>, <a class="code" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#adc4a4e4d34f19a4cb5ebe5a10dfc166d">initialized_node</a>};</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;    }</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160; </div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;    <span class="keywordflow">if</span> (merge) {</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;      <span class="comment">// The register is already occupied with a different node. Figure out</span></div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;      <span class="comment">// where that node is allocated on the incoming branch.</span></div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;      merge-&gt;<a class="code" href="structv8_1_1internal_1_1maglev_1_1RegisterMerge.html#a090e69a042e8f090b96e3655bbb6c8dd">operand</a>(predecessor_id) = node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#ac22f1588da47b97d15c6d1ea71a5c5e7">allocation</a>();</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_maglev_regalloc) {</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;        printing_visitor_-&gt;os() &lt;&lt; <span class="stringliteral">&quot;  &quot;</span> &lt;&lt; reg &lt;&lt; <span class="stringliteral">&quot; - merge: loading &quot;</span></div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;                                &lt;&lt; <a class="code" href="classv8_1_1internal_1_1maglev_1_1PrintNodeLabel.html">PrintNodeLabel</a>(graph_labeller(), node)</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;                                &lt;&lt; <span class="stringliteral">&quot; from &quot;</span> &lt;&lt; node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#ac22f1588da47b97d15c6d1ea71a5c5e7">allocation</a>() &lt;&lt; <span class="stringliteral">&quot; \n&quot;</span>;</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;      }</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160; </div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;      <span class="keywordflow">if</span> (incoming != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;        <span class="comment">// If {incoming} isn&#39;t loadable or available in a register, then we are</span></div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;        <span class="comment">// in a liveness hole, and none of its uses should be reachable from</span></div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;        <span class="comment">// {target} (for simplicity/speed, we only check the first and last use</span></div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;        <span class="comment">// though).</span></div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;            !incoming-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a2aa6cddf21fbe3397564ce1f57dfb4be">is_loadable</a>() &amp;&amp; !IsInRegister(target_state, incoming),</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;            !IsForwardReachable(target, incoming-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a4cbcbcee07fe2e0846df5cead82c8767">current_next_use</a>(),</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;                                incoming-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a31881ef84c306859d771a5c12d67cf6f">live_range</a>().<a class="code" href="structv8_1_1internal_1_1maglev_1_1ValueNode_1_1LiveRange.html#a987af3d68b08acc2997a52b9aaf9f1cd">end</a>));</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;      }</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160; </div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;    }</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160; </div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(node == <span class="keyword">nullptr</span>, incoming != <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;    <span class="keywordflow">if</span> (node == <span class="keyword">nullptr</span> &amp;&amp; !incoming-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a2aa6cddf21fbe3397564ce1f57dfb4be">is_loadable</a>()) {</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;      <span class="comment">// If the register is unallocated at the merge point, and the incoming</span></div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;      <span class="comment">// value isn&#39;t spilled, that means we must have seen it already in a</span></div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;      <span class="comment">// different register.</span></div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;      <span class="comment">// This maybe not be true for conversion nodes, as they can split and take</span></div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;      <span class="comment">// over the liveness of the node they are converting.</span></div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;      <span class="comment">// TODO(v8:7700): This DCHECK is overeager, {incoming} can be a Phi node</span></div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;      <span class="comment">// containing conversion nodes.</span></div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;      <span class="comment">// DCHECK_IMPLIES(!IsInRegister(target_state, incoming),</span></div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;      <span class="comment">//                incoming-&gt;properties().is_conversion());</span></div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_maglev_regalloc) {</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;        printing_visitor_-&gt;os()</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;  &quot;</span> &lt;&lt; reg &lt;&lt; <span class="stringliteral">&quot; - can&#39;t load incoming &quot;</span></div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;            &lt;&lt; <a class="code" href="classv8_1_1internal_1_1maglev_1_1PrintNodeLabel.html">PrintNodeLabel</a>(graph_labeller(), incoming) &lt;&lt; <span class="stringliteral">&quot;, bailing out\n&quot;</span>;</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;      }</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;    }</div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160; </div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = <span class="keyword">sizeof</span>(<a class="code" href="structv8_1_1internal_1_1maglev_1_1RegisterMerge.html">RegisterMerge</a>) +</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;                        predecessor_count * <span class="keyword">sizeof</span>(<a class="code" href="classv8_1_1internal_1_1compiler_1_1AllocatedOperand.html">compiler::AllocatedOperand</a>);</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;    <span class="keywordtype">void</span>* buffer = compilation_info_-&gt;zone()-&gt;Allocate&lt;<span class="keywordtype">void</span>*&gt;(<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;    merge = <span class="keyword">new</span> (buffer) <a class="code" href="structv8_1_1internal_1_1maglev_1_1RegisterMerge.html">RegisterMerge</a>();</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;    merge-&gt;<a class="code" href="structv8_1_1internal_1_1maglev_1_1RegisterMerge.html#a86ad110a42113dce516677e0b618fd7d">node</a> = node == <span class="keyword">nullptr</span> ? incoming : node;</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160; </div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;    <span class="comment">// If the register is unallocated at the merge point, allocation so far</span></div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;    <span class="comment">// is the loadable slot for the incoming value. Otherwise all incoming</span></div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;    <span class="comment">// branches agree that the current node is in the register info.</span></div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;    <a class="code" href="classv8_1_1internal_1_1compiler_1_1InstructionOperand.html">compiler::InstructionOperand</a> info_so_far =</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;        node == <span class="keyword">nullptr</span> ? incoming-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a1f58a55a7c599f16c00d559cfbdc486e">loadable_slot</a>() : register_info;</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160; </div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;    <span class="comment">// Initialize the entire array with info_so_far since we don&#39;t know in</span></div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;    <span class="comment">// which order we&#39;ve seen the predecessors so far. Predecessors we</span></div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;    <span class="comment">// haven&#39;t seen yet will simply overwrite their entry later.</span></div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; predecessor_count; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;      merge-&gt;<a class="code" href="structv8_1_1internal_1_1maglev_1_1RegisterMerge.html#a090e69a042e8f090b96e3655bbb6c8dd">operand</a>(<a class="code" href="namespacev8_1_1internal.html">i</a>) = info_so_far;</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;    }</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;    <span class="comment">// If the register is unallocated at the merge point, fill in the</span></div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;    <span class="comment">// incoming value. Otherwise find the merge-point node in the incoming</span></div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;    <span class="comment">// state.</span></div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;    <span class="keywordflow">if</span> (node == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;      merge-&gt;<a class="code" href="structv8_1_1internal_1_1maglev_1_1RegisterMerge.html#a090e69a042e8f090b96e3655bbb6c8dd">operand</a>(predecessor_id) = register_info;</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_maglev_regalloc) {</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;        printing_visitor_-&gt;os() &lt;&lt; <span class="stringliteral">&quot;  &quot;</span> &lt;&lt; reg &lt;&lt; <span class="stringliteral">&quot; - new merge: loading new &quot;</span></div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;                                &lt;&lt; <a class="code" href="classv8_1_1internal_1_1maglev_1_1PrintNodeLabel.html">PrintNodeLabel</a>(graph_labeller(), incoming)</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;                                &lt;&lt; <span class="stringliteral">&quot; from &quot;</span> &lt;&lt; register_info &lt;&lt; <span class="stringliteral">&quot; \n&quot;</span>;</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;      }</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;      merge-&gt;<a class="code" href="structv8_1_1internal_1_1maglev_1_1RegisterMerge.html#a090e69a042e8f090b96e3655bbb6c8dd">operand</a>(predecessor_id) = node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#ac22f1588da47b97d15c6d1ea71a5c5e7">allocation</a>();</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_maglev_regalloc) {</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;        printing_visitor_-&gt;os() &lt;&lt; <span class="stringliteral">&quot;  &quot;</span> &lt;&lt; reg &lt;&lt; <span class="stringliteral">&quot; - new merge: loading &quot;</span></div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;                                &lt;&lt; <a class="code" href="classv8_1_1internal_1_1maglev_1_1PrintNodeLabel.html">PrintNodeLabel</a>(graph_labeller(), node)</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;                                &lt;&lt; <span class="stringliteral">&quot; from &quot;</span> &lt;&lt; node-&gt;<a class="code" href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#ac22f1588da47b97d15c6d1ea71a5c5e7">allocation</a>() &lt;&lt; <span class="stringliteral">&quot; \n&quot;</span>;</div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;      }</div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;    }</div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;    state = {merge, <a class="code" href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#a4be9602b1b9cfa13463380f584b81177">initialized_merge</a>};</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;  };</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;  ForEachMergePointRegisterState(target_state, merge);</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;}</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160; </div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;}  <span class="comment">// namespace maglev</span></div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;}  <span class="comment">// namespace internal</span></div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;}  <span class="comment">// namespace v8</span></div>
<div class="ttc" id="abits_8h_html"><div class="ttname"><a href="bits_8h.html">bits.h</a></div></div>
<div class="ttc" id="aclassv8_1_1Function_html"><div class="ttname"><a href="classv8_1_1Function.html">v8::Function</a></div><div class="ttdoc">A JavaScript function object (ECMA-262, 15.3).</div><div class="ttdef"><b>Definition:</b> <a href="v8-function_8h_source.html#l00027">v8-function.h:27</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1PointerWithPayload_html"><div class="ttname"><a href="classv8_1_1base_1_1PointerWithPayload.html">v8::base::PointerWithPayload</a></div><div class="ttdef"><b>Definition:</b> <a href="pointer-with-payload_8h_source.html#l00040">pointer-with-payload.h:40</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1SmallVector_html"><div class="ttname"><a href="classv8_1_1base_1_1SmallVector.html">v8::base::SmallVector</a></div><div class="ttdef"><b>Definition:</b> <a href="small-vector_8h_source.html#l00022">small-vector.h:22</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1SmallVector_html_a27626f981567cf140233e93750cee67f"><div class="ttname"><a href="classv8_1_1base_1_1SmallVector.html#a27626f981567cf140233e93750cee67f">v8::base::SmallVector::pop_back</a></div><div class="ttdeci">void pop_back(size_t count=1)</div><div class="ttdef"><b>Definition:</b> <a href="small-vector_8h_source.html#l00193">small-vector.h:193</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1SmallVector_html_a2f92240eb4f14cfa46552a2b35cc4e70"><div class="ttname"><a href="classv8_1_1base_1_1SmallVector.html#a2f92240eb4f14cfa46552a2b35cc4e70">v8::base::SmallVector::begin</a></div><div class="ttdeci">T * begin()</div><div class="ttdef"><b>Definition:</b> <a href="small-vector_8h_source.html#l00132">small-vector.h:132</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1SmallVector_html_a376b32218e50b6efec68f577c009885d"><div class="ttname"><a href="classv8_1_1base_1_1SmallVector.html#a376b32218e50b6efec68f577c009885d">v8::base::SmallVector::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdef"><b>Definition:</b> <a href="small-vector_8h_source.html#l00144">small-vector.h:144</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1SmallVector_html_a61255d85c4f174e5705b3f725214f121"><div class="ttname"><a href="classv8_1_1base_1_1SmallVector.html#a61255d85c4f174e5705b3f725214f121">v8::base::SmallVector::end</a></div><div class="ttdeci">T * end()</div><div class="ttdef"><b>Definition:</b> <a href="small-vector_8h_source.html#l00135">small-vector.h:135</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1SmallVector_html_a8cee685b497ca2194cdccaefbfa2e93f"><div class="ttname"><a href="classv8_1_1base_1_1SmallVector.html#a8cee685b497ca2194cdccaefbfa2e93f">v8::base::SmallVector::back</a></div><div class="ttdeci">T &amp; back()</div><div class="ttdef"><b>Definition:</b> <a href="small-vector_8h_source.html#l00157">small-vector.h:157</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1ThreadedListBase_html"><div class="ttname"><a href="classv8_1_1base_1_1ThreadedListBase.html">v8::base::ThreadedListBase</a></div><div class="ttdef"><b>Definition:</b> <a href="threaded-list_8h_source.html#l00035">threaded-list.h:35</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1ThreadedListBase_html_a2eeabdb511e38ed098d237b6fcfce2ca"><div class="ttname"><a href="classv8_1_1base_1_1ThreadedListBase.html#a2eeabdb511e38ed098d237b6fcfce2ca">v8::base::ThreadedListBase::RemoveAt</a></div><div class="ttdeci">Iterator RemoveAt(Iterator it)</div><div class="ttdef"><b>Definition:</b> <a href="threaded-list_8h_source.html#l00293">threaded-list.h:293</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1ThreadedListBase_html_a4f6949269db815d87d938f8638903816"><div class="ttname"><a href="classv8_1_1base_1_1ThreadedListBase.html#a4f6949269db815d87d938f8638903816">v8::base::ThreadedListBase::end</a></div><div class="ttdeci">Iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="threaded-list_8h_source.html#l00258">threaded-list.h:258</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1ThreadedListBase_html_ac64e5ee0d3680e57549ceaa4eff5a668"><div class="ttname"><a href="classv8_1_1base_1_1ThreadedListBase.html#ac64e5ee0d3680e57549ceaa4eff5a668">v8::base::ThreadedListBase::begin</a></div><div class="ttdeci">Iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="threaded-list_8h_source.html#l00257">threaded-list.h:257</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1DoubleRegister_html"><div class="ttname"><a href="classv8_1_1internal_1_1DoubleRegister.html">v8::internal::DoubleRegister</a></div><div class="ttdef"><b>Definition:</b> <a href="register-ppc_8h_source.html#l00234">register-ppc.h:234</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RegListBase_html"><div class="ttname"><a href="classv8_1_1internal_1_1RegListBase.html">v8::internal::RegListBase</a></div><div class="ttdef"><b>Definition:</b> <a href="reglist-base_8h_source.html#l00021">reglist-base.h:21</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RegListBase_html_a1f08fc10b3a7af8861cf2c6db5319ee7"><div class="ttname"><a href="classv8_1_1internal_1_1RegListBase.html#a1f08fc10b3a7af8861cf2c6db5319ee7">v8::internal::RegListBase::set</a></div><div class="ttdeci">constexpr void set(RegisterT reg)</div><div class="ttdef"><b>Definition:</b> <a href="reglist-base_8h_source.html#l00047">reglist-base.h:47</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RegListBase_html_a367df28bdf4931ccbde44a11e8d5e731"><div class="ttname"><a href="classv8_1_1internal_1_1RegListBase.html#a367df28bdf4931ccbde44a11e8d5e731">v8::internal::RegListBase::is_empty</a></div><div class="ttdeci">constexpr bool is_empty() const</div><div class="ttdef"><b>Definition:</b> <a href="reglist-base_8h_source.html#l00064">reglist-base.h:64</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RegListBase_html_a3856ba5b1ccfe7deabfc70a4ce9ed6be"><div class="ttname"><a href="classv8_1_1internal_1_1RegListBase.html#a3856ba5b1ccfe7deabfc70a4ce9ed6be">v8::internal::RegListBase::has</a></div><div class="ttdeci">constexpr bool has(RegisterT reg) const</div><div class="ttdef"><b>Definition:</b> <a href="reglist-base_8h_source.html#l00057">reglist-base.h:57</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RegListBase_html_a6f885c401ebbf3ab0b356ac8d53c97f9"><div class="ttname"><a href="classv8_1_1internal_1_1RegListBase.html#a6f885c401ebbf3ab0b356ac8d53c97f9">v8::internal::RegListBase::clear</a></div><div class="ttdeci">constexpr void clear(RegisterT reg)</div><div class="ttdef"><b>Definition:</b> <a href="reglist-base_8h_source.html#l00052">reglist-base.h:52</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RegListBase_html_a8a586367d3a47c009d14bd52a47cd45b"><div class="ttname"><a href="classv8_1_1internal_1_1RegListBase.html#a8a586367d3a47c009d14bd52a47cd45b">v8::internal::RegListBase::Count</a></div><div class="ttdeci">constexpr unsigned Count() const</div><div class="ttdef"><b>Definition:</b> <a href="reglist-base_8h_source.html#l00066">reglist-base.h:66</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RegisterBase_html_a7b1dbf8b42ce2e2f8ac87134064661b0"><div class="ttname"><a href="classv8_1_1internal_1_1RegisterBase.html#a7b1dbf8b42ce2e2f8ac87134064661b0">v8::internal::RegisterBase&lt; DoubleRegister, kDoubleAfterLast &gt;::from_code</a></div><div class="ttdeci">static constexpr DoubleRegister from_code(int8_t code)</div><div class="ttdef"><b>Definition:</b> <a href="register-base_8h_source.html#l00036">register-base.h:36</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RegisterBase_html_a99d34fe5d17363e2c57ab0a3dab22305"><div class="ttname"><a href="classv8_1_1internal_1_1RegisterBase.html#a99d34fe5d17363e2c57ab0a3dab22305">v8::internal::RegisterBase&lt; DoubleRegister, kDoubleAfterLast &gt;::no_reg</a></div><div class="ttdeci">static constexpr DoubleRegister no_reg()</div><div class="ttdef"><b>Definition:</b> <a href="register-base_8h_source.html#l00034">register-base.h:34</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Register_html"><div class="ttname"><a href="classv8_1_1internal_1_1Register.html">v8::internal::Register</a></div><div class="ttdef"><b>Definition:</b> <a href="register-arm_8h_source.html#l00070">register-arm.h:70</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Register_html_a161b31fbba410d1c513ae779df7b9cbb"><div class="ttname"><a href="classv8_1_1internal_1_1Register.html#a161b31fbba410d1c513ae779df7b9cbb">v8::internal::Register::from_code</a></div><div class="ttdeci">static constexpr Register from_code(int code)</div><div class="ttdef"><b>Definition:</b> <a href="register-arm64_8h_source.html#l00257">register-arm64.h:257</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Register_html_af72f1656ce6c0186ea16328bbc55ae9c"><div class="ttname"><a href="classv8_1_1internal_1_1Register.html#af72f1656ce6c0186ea16328bbc55ae9c">v8::internal::Register::no_reg</a></div><div class="ttdeci">static constexpr Register no_reg()</div><div class="ttdef"><b>Definition:</b> <a href="register-arm64_8h_source.html#l00248">register-arm64.h:248</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StandardFrameConstants_html_a16e313ff143f71038776e2ec33169faf"><div class="ttname"><a href="classv8_1_1internal_1_1StandardFrameConstants.html#a16e313ff143f71038776e2ec33169faf">v8::internal::StandardFrameConstants::kExpressionsOffset</a></div><div class="ttdeci">static constexpr int kExpressionsOffset</div><div class="ttdef"><b>Definition:</b> <a href="frame-constants_8h_source.html#l00121">frame-constants.h:121</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StandardFrameConstants_html_a3bd3575cabe8b50d74dfdd77c278746f"><div class="ttname"><a href="classv8_1_1internal_1_1StandardFrameConstants.html#a3bd3575cabe8b50d74dfdd77c278746f">v8::internal::StandardFrameConstants::kFixedSlotCount</a></div><div class="ttdeci">static constexpr int kFixedSlotCount</div><div class="ttdef"><b>Definition:</b> <a href="frame-constants_8h_source.html#l00117">frame-constants.h:117</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1UnoptimizedFrameConstants_html_afc3edf63903fd9c13335b467c7c1b5a5"><div class="ttname"><a href="classv8_1_1internal_1_1UnoptimizedFrameConstants.html#afc3edf63903fd9c13335b467c7c1b5a5">v8::internal::UnoptimizedFrameConstants::kRegisterFileFromFp</a></div><div class="ttdeci">static constexpr int kRegisterFileFromFp</div><div class="ttdef"><b>Definition:</b> <a href="frame-constants_8h_source.html#l00748">frame-constants.h:748</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ZoneVector_html_a409e56e9c9b699c6698c149114ef94eb"><div class="ttname"><a href="classv8_1_1internal_1_1ZoneVector.html#a409e56e9c9b699c6698c149114ef94eb">v8::internal::ZoneVector::resize</a></div><div class="ttdeci">void resize(size_t new_size)</div><div class="ttdef"><b>Definition:</b> <a href="zone-containers_8h_source.html#l00200">zone-containers.h:200</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ZoneVector_html_a60320a4772cc860e5b2b858c0ce7f8ad"><div class="ttname"><a href="classv8_1_1internal_1_1ZoneVector.html#a60320a4772cc860e5b2b858c0ce7f8ad">v8::internal::ZoneVector::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdef"><b>Definition:</b> <a href="zone-containers_8h_source.html#l00238">zone-containers.h:238</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ZoneVector_html_aafcc5efeba17a85b82dc9ad4d2547442"><div class="ttname"><a href="classv8_1_1internal_1_1ZoneVector.html#aafcc5efeba17a85b82dc9ad4d2547442">v8::internal::ZoneVector::end</a></div><div class="ttdeci">T * end() V8_NOEXCEPT</div><div class="ttdef"><b>Definition:</b> <a href="zone-containers_8h_source.html#l00280">zone-containers.h:280</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ZoneVector_html_adc2a3ab5562b5a2ca9201af92225ee47"><div class="ttname"><a href="classv8_1_1internal_1_1ZoneVector.html#adc2a3ab5562b5a2ca9201af92225ee47">v8::internal::ZoneVector::begin</a></div><div class="ttdeci">T * begin() V8_NOEXCEPT</div><div class="ttdef"><b>Definition:</b> <a href="zone-containers_8h_source.html#l00276">zone-containers.h:276</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ZoneVector_html_af4d3701d605c7c9ed301a2ef3880784f"><div class="ttname"><a href="classv8_1_1internal_1_1ZoneVector.html#af4d3701d605c7c9ed301a2ef3880784f">v8::internal::ZoneVector::push_back</a></div><div class="ttdeci">void push_back(const T &amp;value)</div><div class="ttdef"><b>Definition:</b> <a href="zone-containers_8h_source.html#l00303">zone-containers.h:303</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1AllocatedOperand_html"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1AllocatedOperand.html">v8::internal::compiler::AllocatedOperand</a></div><div class="ttdef"><b>Definition:</b> <a href="instruction_8h_source.html#l00620">instruction.h:620</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1InstructionOperand_html"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1InstructionOperand.html">v8::internal::compiler::InstructionOperand</a></div><div class="ttdef"><b>Definition:</b> <a href="instruction_8h_source.html#l00048">instruction.h:48</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1InstructionOperand_html_a0db4cad66a5f7c6f1576bcf931b6dc90"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1InstructionOperand.html#a0db4cad66a5f7c6f1576bcf931b6dc90">v8::internal::compiler::InstructionOperand::IsAnyLocationOperand</a></div><div class="ttdeci">bool IsAnyLocationOperand() const</div><div class="ttdef"><b>Definition:</b> <a href="instruction_8h_source.html#l00635">instruction.h:635</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1InstructionOperand_html_a84b5c98f26db3443f3287b5cf1f9423f"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1InstructionOperand.html#a84b5c98f26db3443f3287b5cf1f9423f">v8::internal::compiler::InstructionOperand::IsRegister</a></div><div class="ttdeci">bool IsRegister() const</div><div class="ttdef"><b>Definition:</b> <a href="instruction_8h_source.html#l00655">instruction.h:655</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1InstructionOperand_html_aa426f0ef052e7831f3cbb46c9afc1783"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1InstructionOperand.html#aa426f0ef052e7831f3cbb46c9afc1783">v8::internal::compiler::InstructionOperand::IsDoubleRegister</a></div><div class="ttdeci">bool IsDoubleRegister() const</div><div class="ttdef"><b>Definition:</b> <a href="instruction_8h_source.html#l00670">instruction.h:670</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1InstructionOperand_html_afe477a9f7b0dc095c988b77e62916440"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1InstructionOperand.html#afe477a9f7b0dc095c988b77e62916440">v8::internal::compiler::InstructionOperand::IsAnyRegister</a></div><div class="ttdeci">bool IsAnyRegister() const</div><div class="ttdef"><b>Definition:</b> <a href="instruction_8h_source.html#l00649">instruction.h:649</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1LocationOperand_html_a14a0a8abb4b6ac796e0fae75948a270e"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1LocationOperand.html#a14a0a8abb4b6ac796e0fae75948a270e">v8::internal::compiler::LocationOperand::cast</a></div><div class="ttdeci">static LocationOperand * cast(InstructionOperand *op)</div><div class="ttdef"><b>Definition:</b> <a href="instruction_8h_source.html#l00599">instruction.h:599</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1LocationOperand_html_a4d0fbceae25211d1d46526546eb53c0b"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1LocationOperand.html#a4d0fbceae25211d1d46526546eb53c0b">v8::internal::compiler::LocationOperand::GetRegister</a></div><div class="ttdeci">Register GetRegister() const</div><div class="ttdef"><b>Definition:</b> <a href="instruction_8h_source.html#l00523">instruction.h:523</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1LocationOperand_html_a598f20b98f0d7647b58bef3b57ec20a9"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1LocationOperand.html#a598f20b98f0d7647b58bef3b57ec20a9">v8::internal::compiler::LocationOperand::representation</a></div><div class="ttdeci">MachineRepresentation representation() const</div><div class="ttdef"><b>Definition:</b> <a href="instruction_8h_source.html#l00563">instruction.h:563</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1LocationOperand_html_a9acee6bac22dead7ca05c029fbe06c58"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1LocationOperand.html#a9acee6bac22dead7ca05c029fbe06c58">v8::internal::compiler::LocationOperand::index</a></div><div class="ttdeci">int index() const</div><div class="ttdef"><b>Definition:</b> <a href="instruction_8h_source.html#l00513">instruction.h:513</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1LocationOperand_html_ab1e52ef65a34122d28d5c75d064f82bc"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1LocationOperand.html#ab1e52ef65a34122d28d5c75d064f82bc">v8::internal::compiler::LocationOperand::GetDoubleRegister</a></div><div class="ttdeci">DoubleRegister GetDoubleRegister() const</div><div class="ttdef"><b>Definition:</b> <a href="instruction_8h_source.html#l00533">instruction.h:533</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1LocationOperand_html_af9e0a334eaf58a05f9ea5b7139221140aafe479edbb7a04d078220746abc95b19"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1LocationOperand.html#af9e0a334eaf58a05f9ea5b7139221140aafe479edbb7a04d078220746abc95b19">v8::internal::compiler::LocationOperand::REGISTER</a></div><div class="ttdeci">@ REGISTER</div><div class="ttdef"><b>Definition:</b> <a href="instruction_8h_source.html#l00499">instruction.h:499</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1LocationOperand_html_af9e0a334eaf58a05f9ea5b7139221140aff57c8ccb343b8b46f60e18322227df9"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1LocationOperand.html#af9e0a334eaf58a05f9ea5b7139221140aff57c8ccb343b8b46f60e18322227df9">v8::internal::compiler::LocationOperand::STACK_SLOT</a></div><div class="ttdeci">@ STACK_SLOT</div><div class="ttdef"><b>Definition:</b> <a href="instruction_8h_source.html#l00499">instruction.h:499</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1UnallocatedOperand_html"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html">v8::internal::compiler::UnallocatedOperand</a></div><div class="ttdef"><b>Definition:</b> <a href="instruction_8h_source.html#l00188">instruction.h:188</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1UnallocatedOperand_html_a01bd5125d575fd47d8fe8d3e4a84e3fa"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#a01bd5125d575fd47d8fe8d3e4a84e3fa">v8::internal::compiler::UnallocatedOperand::input_index</a></div><div class="ttdeci">int input_index() const</div><div class="ttdef"><b>Definition:</b> <a href="instruction_8h_source.html#l00323">instruction.h:323</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1UnallocatedOperand_html_a07530491d80058dd15f185f1970014c4ad5a33a233cdee4f20b09e85686da2999"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#a07530491d80058dd15f185f1970014c4ad5a33a233cdee4f20b09e85686da2999">v8::internal::compiler::UnallocatedOperand::FIXED_SLOT</a></div><div class="ttdeci">@ FIXED_SLOT</div><div class="ttdef"><b>Definition:</b> <a href="instruction_8h_source.html#l00190">instruction.h:190</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1UnallocatedOperand_html_a7bdb03b8ffc2cd9db894dc3f3ded2030a269dfcae7aa411715a3ec08ba3449e53"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#a7bdb03b8ffc2cd9db894dc3f3ded2030a269dfcae7aa411715a3ec08ba3449e53">v8::internal::compiler::UnallocatedOperand::FIXED_REGISTER</a></div><div class="ttdeci">@ FIXED_REGISTER</div><div class="ttdef"><b>Definition:</b> <a href="instruction_8h_source.html#l00196">instruction.h:196</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1UnallocatedOperand_html_a7bdb03b8ffc2cd9db894dc3f3ded2030a2d184d430b14ea53388609c3e9a17500"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#a7bdb03b8ffc2cd9db894dc3f3ded2030a2d184d430b14ea53388609c3e9a17500">v8::internal::compiler::UnallocatedOperand::NONE</a></div><div class="ttdeci">@ NONE</div><div class="ttdef"><b>Definition:</b> <a href="instruction_8h_source.html#l00193">instruction.h:193</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1UnallocatedOperand_html_a7bdb03b8ffc2cd9db894dc3f3ded2030a2dc451434ae3cfd5e08c4a5e629c10c7"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#a7bdb03b8ffc2cd9db894dc3f3ded2030a2dc451434ae3cfd5e08c4a5e629c10c7">v8::internal::compiler::UnallocatedOperand::REGISTER_OR_SLOT</a></div><div class="ttdeci">@ REGISTER_OR_SLOT</div><div class="ttdef"><b>Definition:</b> <a href="instruction_8h_source.html#l00194">instruction.h:194</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1UnallocatedOperand_html_a7bdb03b8ffc2cd9db894dc3f3ded2030a3de98ae7e8339fded3184b2f53f77fea"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#a7bdb03b8ffc2cd9db894dc3f3ded2030a3de98ae7e8339fded3184b2f53f77fea">v8::internal::compiler::UnallocatedOperand::MUST_HAVE_REGISTER</a></div><div class="ttdeci">@ MUST_HAVE_REGISTER</div><div class="ttdef"><b>Definition:</b> <a href="instruction_8h_source.html#l00198">instruction.h:198</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1UnallocatedOperand_html_a7bdb03b8ffc2cd9db894dc3f3ded2030a4544caa3bb5c78f8d96a2ddc3476c72d"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#a7bdb03b8ffc2cd9db894dc3f3ded2030a4544caa3bb5c78f8d96a2ddc3476c72d">v8::internal::compiler::UnallocatedOperand::FIXED_FP_REGISTER</a></div><div class="ttdeci">@ FIXED_FP_REGISTER</div><div class="ttdef"><b>Definition:</b> <a href="instruction_8h_source.html#l00197">instruction.h:197</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1UnallocatedOperand_html_a7bdb03b8ffc2cd9db894dc3f3ded2030a788e7e33a485a900cc84a730fed7f611"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#a7bdb03b8ffc2cd9db894dc3f3ded2030a788e7e33a485a900cc84a730fed7f611">v8::internal::compiler::UnallocatedOperand::SAME_AS_INPUT</a></div><div class="ttdeci">@ SAME_AS_INPUT</div><div class="ttdef"><b>Definition:</b> <a href="instruction_8h_source.html#l00201">instruction.h:200</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1UnallocatedOperand_html_a7bdb03b8ffc2cd9db894dc3f3ded2030a7ea04665a6ce29b237bf41036b421c75"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#a7bdb03b8ffc2cd9db894dc3f3ded2030a7ea04665a6ce29b237bf41036b421c75">v8::internal::compiler::UnallocatedOperand::REGISTER_OR_SLOT_OR_CONSTANT</a></div><div class="ttdeci">@ REGISTER_OR_SLOT_OR_CONSTANT</div><div class="ttdef"><b>Definition:</b> <a href="instruction_8h_source.html#l00195">instruction.h:195</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1UnallocatedOperand_html_a7bdb03b8ffc2cd9db894dc3f3ded2030af4cb2924486171f73065ec6e76eb5267"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#a7bdb03b8ffc2cd9db894dc3f3ded2030af4cb2924486171f73065ec6e76eb5267">v8::internal::compiler::UnallocatedOperand::MUST_HAVE_SLOT</a></div><div class="ttdeci">@ MUST_HAVE_SLOT</div><div class="ttdef"><b>Definition:</b> <a href="instruction_8h_source.html#l00199">instruction.h:199</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1UnallocatedOperand_html_aa44fff5f66ddcbdca75c1e93b8a6f04f"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#aa44fff5f66ddcbdca75c1e93b8a6f04f">v8::internal::compiler::UnallocatedOperand::basic_policy</a></div><div class="ttdeci">BasicPolicy basic_policy() const</div><div class="ttdef"><b>Definition:</b> <a href="instruction_8h_source.html#l00315">instruction.h:315</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1UnallocatedOperand_html_acb045c45b975b0e5ce57f068476114d8"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#acb045c45b975b0e5ce57f068476114d8">v8::internal::compiler::UnallocatedOperand::extended_policy</a></div><div class="ttdeci">ExtendedPolicy extended_policy() const</div><div class="ttdef"><b>Definition:</b> <a href="instruction_8h_source.html#l00318">instruction.h:318</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1UnallocatedOperand_html_acee3820e5d7282c0283e10c3bdcb6ae4"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#acee3820e5d7282c0283e10c3bdcb6ae4">v8::internal::compiler::UnallocatedOperand::fixed_register_index</a></div><div class="ttdeci">int fixed_register_index() const</div><div class="ttdef"><b>Definition:</b> <a href="instruction_8h_source.html#l00336">instruction.h:336</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1UnallocatedOperand_html_acf78d9a9657c45d23a0a5bf3787291c6"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1UnallocatedOperand.html#acf78d9a9657c45d23a0a5bf3787291c6">v8::internal::compiler::UnallocatedOperand::fixed_slot_index</a></div><div class="ttdeci">int fixed_slot_index() const</div><div class="ttdef"><b>Definition:</b> <a href="instruction_8h_source.html#l00329">instruction.h:329</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1interpreter_1_1Register_html_a081ae5930cebb8e207f2981e2b8e6876"><div class="ttname"><a href="classv8_1_1internal_1_1interpreter_1_1Register.html#a081ae5930cebb8e207f2981e2b8e6876">v8::internal::interpreter::Register::virtual_accumulator</a></div><div class="ttdeci">static constexpr Register virtual_accumulator()</div><div class="ttdef"><b>Definition:</b> <a href="bytecode-register_8h_source.html#l00254">bytecode-register.h:254</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1interpreter_1_1Register_html_a7ca86fc4b69076af2884db4bbd2911f7"><div class="ttname"><a href="classv8_1_1internal_1_1interpreter_1_1Register.html#a7ca86fc4b69076af2884db4bbd2911f7">v8::internal::interpreter::Register::receiver</a></div><div class="ttdeci">static constexpr Register receiver()</div><div class="ttdef"><b>Definition:</b> <a href="bytecode-register_8h_source.html#l00038">bytecode-register.h:38</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1Abort_html"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1Abort.html">v8::internal::maglev::Abort</a></div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l11356">maglev-ir.h:11356</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1BasicBlockRef_html"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1BasicBlockRef.html">v8::internal::maglev::BasicBlockRef</a></div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l01102">maglev-ir.h:1102</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1BasicBlockRef_html_adae1c3617bce3c5cf7663489879819ff"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1BasicBlockRef.html#adae1c3617bce3c5cf7663489879819ff">v8::internal::maglev::BasicBlockRef::block_ptr</a></div><div class="ttdeci">BasicBlock * block_ptr() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l01177">maglev-ir.h:1177</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1BasicBlock_html"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html">v8::internal::maglev::BasicBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="maglev-basic-block_8h_source.html#l00025">maglev-basic-block.h:25</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1BasicBlock_html_a1bebb672a309e2039fdc0b921b4420fc"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a1bebb672a309e2039fdc0b921b4420fc">v8::internal::maglev::BasicBlock::is_dead</a></div><div class="ttdeci">bool is_dead() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-basic-block_8h_source.html#l00144">maglev-basic-block.h:144</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1BasicBlock_html_a267c7bf68877b593763562958b199b06"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a267c7bf68877b593763562958b199b06">v8::internal::maglev::BasicBlock::control_node</a></div><div class="ttdeci">ControlNode * control_node() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-basic-block_8h_source.html#l00066">maglev-basic-block.h:66</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1BasicBlock_html_a26988547df592e248b8fade8a1ad11a6"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a26988547df592e248b8fade8a1ad11a6">v8::internal::maglev::BasicBlock::predecessor_id</a></div><div class="ttdeci">int predecessor_id() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-basic-block_8h_source.html#l00180">maglev-basic-block.h:180</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1BasicBlock_html_a3eaa2f458b36bb37b803206d11aa6ef0"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a3eaa2f458b36bb37b803206d11aa6ef0">v8::internal::maglev::BasicBlock::state</a></div><div class="ttdeci">MergePointInterpreterFrameState * state() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-basic-block_8h_source.html#l00252">maglev-basic-block.h:252</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1BasicBlock_html_a4153bfe2c539d32669b638138826f543"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a4153bfe2c539d32669b638138826f543">v8::internal::maglev::BasicBlock::id</a></div><div class="ttdeci">Id id() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-basic-block_8h_source.html#l00296">maglev-basic-block.h:296</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1BasicBlock_html_a4c653b6e3f390cef7b7fa229b4602609"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a4c653b6e3f390cef7b7fa229b4602609">v8::internal::maglev::BasicBlock::phis</a></div><div class="ttdeci">Phi::List * phis() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-basic-block_8h_source.html#l00148">maglev-basic-block.h:148</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1BasicBlock_html_a647d849058456cbcd5b2a0c4eefe189c"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a647d849058456cbcd5b2a0c4eefe189c">v8::internal::maglev::BasicBlock::is_edge_split_block</a></div><div class="ttdeci">bool is_edge_split_block() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-basic-block_8h_source.html#l00099">maglev-basic-block.h:99</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1BasicBlock_html_a664760d52a8f741c778205c63661fcb1"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a664760d52a8f741c778205c63661fcb1">v8::internal::maglev::BasicBlock::nodes</a></div><div class="ttdeci">ZoneVector&lt; Node * &gt; &amp; nodes()</div><div class="ttdef"><b>Definition:</b> <a href="maglev-basic-block_8h_source.html#l00061">maglev-basic-block.h:61</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1BasicBlock_html_a68f63035f27811c2690e323ad13f8c4b"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a68f63035f27811c2690e323ad13f8c4b">v8::internal::maglev::BasicBlock::has_phi</a></div><div class="ttdeci">bool has_phi() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-basic-block_8h_source.html#l00096">maglev-basic-block.h:96</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1BasicBlock_html_a701a0b56cb0beded425efcd838d49cc3"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a701a0b56cb0beded425efcd838d49cc3">v8::internal::maglev::BasicBlock::is_loop</a></div><div class="ttdeci">bool is_loop() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-basic-block_8h_source.html#l00101">maglev-basic-block.h:101</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1BasicBlock_html_a7c760d73c06d49c39fda43889315a239"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a7c760d73c06d49c39fda43889315a239">v8::internal::maglev::BasicBlock::has_state</a></div><div class="ttdeci">bool has_state() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-basic-block_8h_source.html#l00256">maglev-basic-block.h:256</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1BasicBlock_html_a9dfd78240a027f6b3d1be15a32a15478"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#a9dfd78240a027f6b3d1be15a32a15478">v8::internal::maglev::BasicBlock::FirstNonGapMoveId</a></div><div class="ttdeci">NodeIdT FirstNonGapMoveId() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-basic-block_8h_source.html#l00050">maglev-basic-block.h:50</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1BasicBlock_html_acecee655d60861a3a6fe33b0d8f42740"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#acecee655d60861a3a6fe33b0d8f42740">v8::internal::maglev::BasicBlock::set_edge_split_block_register_state</a></div><div class="ttdeci">void set_edge_split_block_register_state(MergePointRegisterState *register_state)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-basic-block_8h_source.html#l00113">maglev-basic-block.h:113</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1BasicBlock_html_ad9af1a6b53b70ccc8b36a4adabf1c0f7"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#ad9af1a6b53b70ccc8b36a4adabf1c0f7">v8::internal::maglev::BasicBlock::is_exception_handler_block</a></div><div class="ttdeci">bool is_exception_handler_block() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-basic-block_8h_source.html#l00258">maglev-basic-block.h:258</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1BasicBlock_html_ae013e99479479fca65c77c5837b56285"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#ae013e99479479fca65c77c5837b56285">v8::internal::maglev::BasicBlock::edge_split_block_register_state</a></div><div class="ttdeci">MergePointRegisterState &amp; edge_split_block_register_state()</div><div class="ttdef"><b>Definition:</b> <a href="maglev-basic-block_8h_source.html#l00103">maglev-basic-block.h:103</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1BasicBlock_html_af7316bf33e97ea4b8126f066cbee173d"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1BasicBlock.html#af7316bf33e97ea4b8126f066cbee173d">v8::internal::maglev::BasicBlock::first_id</a></div><div class="ttdeci">NodeIdT first_id() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-basic-block_8h_source.html#l00033">maglev-basic-block.h:33</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1BranchControlNode_html"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1BranchControlNode.html">v8::internal::maglev::BranchControlNode</a></div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l11258">maglev-ir.h:11258</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1CheckpointedJump_html"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1CheckpointedJump.html">v8::internal::maglev::CheckpointedJump</a></div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l11318">maglev-ir.h:11318</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1ConditionalControlNode_html"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1ConditionalControlNode.html">v8::internal::maglev::ConditionalControlNode</a></div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l11253">maglev-ir.h:11253</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1ConstantGapMove_html"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1ConstantGapMove.html">v8::internal::maglev::ConstantGapMove</a></div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l09778">maglev-ir.h:9778</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1ControlNode_html"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1ControlNode.html">v8::internal::maglev::ControlNode</a></div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l11193">maglev-ir.h:11193</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1ControlNode_html_a94bb73c95ced12ef7a40faacd18e06b9"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1ControlNode.html#a94bb73c95ced12ef7a40faacd18e06b9">v8::internal::maglev::ControlNode::set_next_post_dominating_hole</a></div><div class="ttdeci">void set_next_post_dominating_hole(ControlNode *node)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l11204">maglev-ir.h:11204</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1ControlNode_html_aa94321d01616057a3e546e1b40ecb929"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1ControlNode.html#aa94321d01616057a3e546e1b40ecb929">v8::internal::maglev::ControlNode::next_post_dominating_hole</a></div><div class="ttdeci">ControlNode * next_post_dominating_hole() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l11201">maglev-ir.h:11201</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1DeoptInfo_html_a11e1134a49654ed4b33960d30ebadd5c"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1DeoptInfo.html#a11e1134a49654ed4b33960d30ebadd5c">v8::internal::maglev::DeoptInfo::input_locations</a></div><div class="ttdeci">InputLocation * input_locations() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l01835">maglev-ir.h:1835</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1Deopt_html"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1Deopt.html">v8::internal::maglev::Deopt</a></div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l11396">maglev-ir.h:11396</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1EagerDeoptInfo_html"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1EagerDeoptInfo.html">v8::internal::maglev::EagerDeoptInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l01867">maglev-ir.h:1867</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1EagerDeoptInfo_html_aff29607a357fb08ba5d5068f2e0b31d0"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1EagerDeoptInfo.html#aff29607a357fb08ba5d5068f2e0b31d0">v8::internal::maglev::EagerDeoptInfo::ForEachInput</a></div><div class="ttdeci">void ForEachInput(Function &amp;&amp;f)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-deopt-frame-visitor_8h_source.html#l00113">maglev-deopt-frame-visitor.h:113</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1ExceptionHandlerInfo_html"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1ExceptionHandlerInfo.html">v8::internal::maglev::ExceptionHandlerInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l01980">maglev-ir.h:1980</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1ExceptionHandlerInfo_html_a552cc56bff1d3fa8eb3bf7d944cf0d43"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1ExceptionHandlerInfo.html#a552cc56bff1d3fa8eb3bf7d944cf0d43">v8::internal::maglev::ExceptionHandlerInfo::catch_block</a></div><div class="ttdeci">BasicBlock * catch_block() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02008">maglev-ir.h:2008</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1ExceptionHandlerInfo_html_a779fb1f3a12e4c6d56c8aa7f3196babd"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1ExceptionHandlerInfo.html#a779fb1f3a12e4c6d56c8aa7f3196babd">v8::internal::maglev::ExceptionHandlerInfo::ShouldLazyDeopt</a></div><div class="ttdeci">bool ShouldLazyDeopt() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02002">maglev-ir.h:2002</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1ExceptionHandlerInfo_html_aad84abc64caac7718b252eaeaad2a485"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1ExceptionHandlerInfo.html#aad84abc64caac7718b252eaeaad2a485">v8::internal::maglev::ExceptionHandlerInfo::HasExceptionHandler</a></div><div class="ttdeci">bool HasExceptionHandler() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02000">maglev-ir.h:2000</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1GapMove_html"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1GapMove.html">v8::internal::maglev::GapMove</a></div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l09758">maglev-ir.h:9758</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1Graph_html"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1Graph.html">v8::internal::maglev::Graph</a></div><div class="ttdef"><b>Definition:</b> <a href="maglev-graph_8h_source.html#l00028">maglev-graph.h:28</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1Graph_html_a0591eddab70ca9e75cc07c218e93b3d6"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1Graph.html#a0591eddab70ca9e75cc07c218e93b3d6">v8::internal::maglev::Graph::smi</a></div><div class="ttdeci">ZoneMap&lt; int, SmiConstant * &gt; &amp; smi()</div><div class="ttdef"><b>Definition:</b> <a href="maglev-graph_8h_source.html#l00128">maglev-graph.h:128</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1Graph_html_a2d4d29a9d37c9c795a83aa666c491c2e"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1Graph.html#a2d4d29a9d37c9c795a83aa666c491c2e">v8::internal::maglev::Graph::end</a></div><div class="ttdeci">BlockConstIterator end() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-graph_8h_source.html#l00066">maglev-graph.h:66</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1Graph_html_a4444caa9eda4a6543133ab94e594f9e9"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1Graph.html#a4444caa9eda4a6543133ab94e594f9e9">v8::internal::maglev::Graph::trusted_constants</a></div><div class="ttdeci">compiler::ZoneRefMap&lt; compiler::HeapObjectRef, TrustedConstant * &gt; &amp; trusted_constants()</div><div class="ttdef"><b>Definition:</b> <a href="maglev-graph_8h_source.html#l00137">maglev-graph.h:137</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1Graph_html_a4a40616531a7e5891033a28a27be63c0"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1Graph.html#a4a40616531a7e5891033a28a27be63c0">v8::internal::maglev::Graph::root</a></div><div class="ttdeci">ZoneMap&lt; RootIndex, RootConstant * &gt; &amp; root()</div><div class="ttdef"><b>Definition:</b> <a href="maglev-graph_8h_source.html#l00127">maglev-graph.h:127</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1Graph_html_a4d907bec12d229a961a60e95eaa0e47d"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1Graph.html#a4d907bec12d229a961a60e95eaa0e47d">v8::internal::maglev::Graph::intptr</a></div><div class="ttdeci">ZoneMap&lt; intptr_t, IntPtrConstant * &gt; &amp; intptr()</div><div class="ttdef"><b>Definition:</b> <a href="maglev-graph_8h_source.html#l00134">maglev-graph.h:134</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1Graph_html_a5578090fbbaaeec20ba07873bc3e7887"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1Graph.html#a5578090fbbaaeec20ba07873bc3e7887">v8::internal::maglev::Graph::set_untagged_stack_slots</a></div><div class="ttdeci">void set_untagged_stack_slots(uint32_t stack_slots)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-graph_8h_source.html#l00096">maglev-graph.h:96</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1Graph_html_a6e71b23868fd47b93e4257df750d4dc0"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1Graph.html#a6e71b23868fd47b93e4257df750d4dc0">v8::internal::maglev::Graph::set_tagged_stack_slots</a></div><div class="ttdeci">void set_tagged_stack_slots(uint32_t stack_slots)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-graph_8h_source.html#l00091">maglev-graph.h:91</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1Graph_html_a77eea5835507baf4d3b9dc8a8228c50a"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1Graph.html#a77eea5835507baf4d3b9dc8a8228c50a">v8::internal::maglev::Graph::float64</a></div><div class="ttdeci">ZoneMap&lt; uint64_t, Float64Constant * &gt; &amp; float64()</div><div class="ttdef"><b>Definition:</b> <a href="maglev-graph_8h_source.html#l00135">maglev-graph.h:135</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1Graph_html_a86a1ceab29366d103da690fb9b8c0b98"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1Graph.html#a86a1ceab29366d103da690fb9b8c0b98">v8::internal::maglev::Graph::osr_values</a></div><div class="ttdeci">ZoneVector&lt; InitialValue * &gt; &amp; osr_values()</div><div class="ttdef"><b>Definition:</b> <a href="maglev-graph_8h_source.html#l00141">maglev-graph.h:141</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1Graph_html_a95b749cceb78cc2d800cf69e0684f773"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1Graph.html#a95b749cceb78cc2d800cf69e0684f773">v8::internal::maglev::Graph::uint32</a></div><div class="ttdeci">ZoneMap&lt; uint32_t, Uint32Constant * &gt; &amp; uint32()</div><div class="ttdef"><b>Definition:</b> <a href="maglev-graph_8h_source.html#l00133">maglev-graph.h:133</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1Graph_html_a9c06794820a4fbbf28e94b9a548a43bd"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1Graph.html#a9c06794820a4fbbf28e94b9a548a43bd">v8::internal::maglev::Graph::begin</a></div><div class="ttdeci">BlockConstIterator begin() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-graph_8h_source.html#l00065">maglev-graph.h:65</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1Graph_html_ab6b0ea9e9875e5390265c44878ccaa73"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1Graph.html#ab6b0ea9e9875e5390265c44878ccaa73">v8::internal::maglev::Graph::tagged_index</a></div><div class="ttdeci">ZoneMap&lt; int, TaggedIndexConstant * &gt; &amp; tagged_index()</div><div class="ttdef"><b>Definition:</b> <a href="maglev-graph_8h_source.html#l00129">maglev-graph.h:129</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1Graph_html_ac80e9f958e81acda9eb5999a3038f35c"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1Graph.html#ac80e9f958e81acda9eb5999a3038f35c">v8::internal::maglev::Graph::min_maglev_stackslots_for_unoptimized_frame_size</a></div><div class="ttdeci">uint32_t min_maglev_stackslots_for_unoptimized_frame_size()</div><div class="ttdef"><b>Definition:</b> <a href="maglev-graph_8h_source.html#l00176">maglev-graph.h:176</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1Graph_html_ad210626def01e6c44938ac3c5c15aae7"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1Graph.html#ad210626def01e6c44938ac3c5c15aae7">v8::internal::maglev::Graph::is_osr</a></div><div class="ttdeci">bool is_osr() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-graph_8h_source.html#l00173">maglev-graph.h:173</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1Graph_html_ad2b1f5e94a5491af908c59cb597041fa"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1Graph.html#ad2b1f5e94a5491af908c59cb597041fa">v8::internal::maglev::Graph::int32</a></div><div class="ttdeci">ZoneMap&lt; int32_t, Int32Constant * &gt; &amp; int32()</div><div class="ttdef"><b>Definition:</b> <a href="maglev-graph_8h_source.html#l00132">maglev-graph.h:132</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1Graph_html_ad8875dd2c00fb526dac40b6c3fdf7dda"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1Graph.html#ad8875dd2c00fb526dac40b6c3fdf7dda">v8::internal::maglev::Graph::constants</a></div><div class="ttdeci">compiler::ZoneRefMap&lt; compiler::HeapObjectRef, Constant * &gt; &amp; constants()</div><div class="ttdef"><b>Definition:</b> <a href="maglev-graph_8h_source.html#l00124">maglev-graph.h:124</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1Identity_html"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1Identity.html">v8::internal::maglev::Identity</a></div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l03056">maglev-ir.h:3056</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1InitialValue_html"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1InitialValue.html">v8::internal::maglev::InitialValue</a></div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l05486">maglev-ir.h:5486</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1InputLocation_html"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1InputLocation.html">v8::internal::maglev::InputLocation</a></div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l01485">maglev-ir.h:1485</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1InputLocation_html_abca5361fb46f1d028b15ccb86b861241"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1InputLocation.html#abca5361fb46f1d028b15ccb86b861241">v8::internal::maglev::InputLocation::next_use_id</a></div><div class="ttdeci">NodeIdT next_use_id() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l01487">maglev-ir.h:1487</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1Input_html"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1Input.html">v8::internal::maglev::Input</a></div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l01495">maglev-ir.h:1495</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1Input_html_aedd7c34265adbcc0aa8ad2203696154a"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1Input.html#aedd7c34265adbcc0aa8ad2203696154a">v8::internal::maglev::Input::node</a></div><div class="ttdeci">ValueNode * node() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l01498">maglev-ir.h:1498</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1JumpLoop_html"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1JumpLoop.html">v8::internal::maglev::JumpLoop</a></div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l11333">maglev-ir.h:11333</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1Jump_html"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1Jump.html">v8::internal::maglev::Jump</a></div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l11305">maglev-ir.h:11305</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1LazyDeoptInfo_html"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1LazyDeoptInfo.html">v8::internal::maglev::LazyDeoptInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l01885">maglev-ir.h:1885</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1LazyDeoptInfo_html_a89bd5a293dffba01f577e3de7d5e9f5d"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1LazyDeoptInfo.html#a89bd5a293dffba01f577e3de7d5e9f5d">v8::internal::maglev::LazyDeoptInfo::ForEachInput</a></div><div class="ttdeci">void ForEachInput(Function &amp;&amp;f)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-deopt-frame-visitor_8h_source.html#l00123">maglev-deopt-frame-visitor.h:123</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1MaglevCompilationInfo_html"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1MaglevCompilationInfo.html">v8::internal::maglev::MaglevCompilationInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="maglev-compilation-info_8h_source.html#l00048">maglev-compilation-info.h:48</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1MaglevCompilationInfo_html_ad5ab460a0b5300e8fb41bc7505b4e79a"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1MaglevCompilationInfo.html#ad5ab460a0b5300e8fb41bc7505b4e79a">v8::internal::maglev::MaglevCompilationInfo::has_graph_labeller</a></div><div class="ttdeci">bool has_graph_labeller() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-compilation-info_8h_source.html#l00086">maglev-compilation-info.h:86</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1MaglevCompilationInfo_html_aed2ced4ee8e9f34c922029cb4d9f2b75"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1MaglevCompilationInfo.html#aed2ced4ee8e9f34c922029cb4d9f2b75">v8::internal::maglev::MaglevCompilationInfo::zone</a></div><div class="ttdeci">Zone * zone()</div><div class="ttdef"><b>Definition:</b> <a href="maglev-compilation-info_8h_source.html#l00068">maglev-compilation-info.h:68</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1MaglevGraphLabeller_html_a2183047d3dc4dfe23f3ad5f908dae230"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1MaglevGraphLabeller.html#a2183047d3dc4dfe23f3ad5f908dae230">v8::internal::maglev::MaglevGraphLabeller::RegisterNode</a></div><div class="ttdeci">void RegisterNode(const NodeBase *node, const MaglevCompilationUnit *unit, BytecodeOffset bytecode_offset, SourcePosition position)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-graph-labeller_8h_source.html#l00029">maglev-graph-labeller.h:29</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1MaglevPrintingVisitor_html"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1MaglevPrintingVisitor.html">v8::internal::maglev::MaglevPrintingVisitor</a></div><div class="ttdef"><b>Definition:</b> <a href="maglev-graph-printer_8h_source.html#l00066">maglev-graph-printer.h:66</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1MergePointInterpreterFrameState_html_a3a5d52ff1bd70507d3e4090d9b85002e"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1MergePointInterpreterFrameState.html#a3a5d52ff1bd70507d3e4090d9b85002e">v8::internal::maglev::MergePointInterpreterFrameState::is_exception_handler</a></div><div class="ttdeci">bool is_exception_handler() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-interpreter-frame-state_8h_source.html#l01039">maglev-interpreter-frame-state.h:1039</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1MergePointInterpreterFrameState_html_a64a49774797bee747f489269b74b7bc1"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1MergePointInterpreterFrameState.html#a64a49774797bee747f489269b74b7bc1">v8::internal::maglev::MergePointInterpreterFrameState::register_state</a></div><div class="ttdeci">MergePointRegisterState &amp; register_state()</div><div class="ttdef"><b>Definition:</b> <a href="maglev-interpreter-frame-state_8h_source.html#l00994">maglev-interpreter-frame-state.h:994</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1MergePointInterpreterFrameState_html_a7b9cd6ec6b852b01add3dd6560738744"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1MergePointInterpreterFrameState.html#a7b9cd6ec6b852b01add3dd6560738744">v8::internal::maglev::MergePointInterpreterFrameState::is_resumable_loop</a></div><div class="ttdeci">bool is_resumable_loop() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-interpreter-frame-state_8h_source.html#l01064">maglev-interpreter-frame-state.h:1064</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1MergePointInterpreterFrameState_html_adc5ab1d1811dbd1ffe9c163e96125635"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1MergePointInterpreterFrameState.html#adc5ab1d1811dbd1ffe9c163e96125635">v8::internal::maglev::MergePointInterpreterFrameState::predecessor_count</a></div><div class="ttdeci">uint32_t predecessor_count() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-interpreter-frame-state_8h_source.html#l00999">maglev-interpreter-frame-state.h:999</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1MergePointInterpreterFrameState_html_af2f83b5f6137fc095d0e00aafb2b3ee8"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1MergePointInterpreterFrameState.html#af2f83b5f6137fc095d0e00aafb2b3ee8">v8::internal::maglev::MergePointInterpreterFrameState::IsUnreachableByForwardEdge</a></div><div class="ttdeci">bool IsUnreachableByForwardEdge() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-interpreter-frame-state_8cc_source.html#l01463">maglev-interpreter-frame-state.cc:1463</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1MergePointRegisterState_html"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1MergePointRegisterState.html">v8::internal::maglev::MergePointRegisterState</a></div><div class="ttdef"><b>Definition:</b> <a href="maglev-interpreter-frame-state_8h_source.html#l00847">maglev-interpreter-frame-state.h:847</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1NodeBase_html"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1NodeBase.html">v8::internal::maglev::NodeBase</a></div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02083">maglev-ir.h:2083</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1NodeBase_html_a317252af8f98deb2e31a8b5b5aee3c2d"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a317252af8f98deb2e31a8b5b5aee3c2d">v8::internal::maglev::NodeBase::Is</a></div><div class="ttdeci">constexpr bool Is() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02552">maglev-ir.h:2552</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1NodeBase_html_a33269e56968f19258aed52631c596d94"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a33269e56968f19258aed52631c596d94">v8::internal::maglev::NodeBase::general_temporaries</a></div><div class="ttdeci">RegList &amp; general_temporaries()</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02222">maglev-ir.h:2222</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1NodeBase_html_a3dff534f77ba8983d7d5ac21a98e39df"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a3dff534f77ba8983d7d5ac21a98e39df">v8::internal::maglev::NodeBase::double_temporaries</a></div><div class="ttdeci">DoubleRegList &amp; double_temporaries()</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02223">maglev-ir.h:2223</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1NodeBase_html_a4bec162c7e5322b28964aa8f660c7d56"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a4bec162c7e5322b28964aa8f660c7d56">v8::internal::maglev::NodeBase::InputAllocationPolicy</a></div><div class="ttdeci">InputAllocationPolicy</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02230">maglev-ir.h:2230</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1NodeBase_html_a4dad11c21091d313f16ecb6049ec4cfc"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a4dad11c21091d313f16ecb6049ec4cfc">v8::internal::maglev::NodeBase::temporaries</a></div><div class="ttdeci">RegListBase&lt; RegisterT &gt; &amp; temporaries()</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02219">maglev-ir.h:2219</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1NodeBase_html_a56d8f4b6e31fcf55d832a16c3fe73955"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a56d8f4b6e31fcf55d832a16c3fe73955">v8::internal::maglev::NodeBase::assign_temporaries</a></div><div class="ttdeci">void assign_temporaries(RegListBase&lt; RegisterT &gt; list)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02226">maglev-ir.h:2226</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1NodeBase_html_a6a6253c53009ff0266b88103dbddbc8d"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a6a6253c53009ff0266b88103dbddbc8d">v8::internal::maglev::NodeBase::InitTemporaries</a></div><div class="ttdeci">void InitTemporaries()</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02331">maglev-ir.h:2331</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1NodeBase_html_a6d45aa739eea1ae3bc05e319ff9a4c3b"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a6d45aa739eea1ae3bc05e319ff9a4c3b">v8::internal::maglev::NodeBase::ForAllInputsInRegallocAssignmentOrder</a></div><div class="ttdeci">void ForAllInputsInRegallocAssignmentOrder(Function &amp;&amp;f)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l11862">maglev-ir.h:11862</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1NodeBase_html_a6f6b3d7f22a0a34aecd6b463a32f4311"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a6f6b3d7f22a0a34aecd6b463a32f4311">v8::internal::maglev::NodeBase::id</a></div><div class="ttdeci">constexpr NodeIdT id() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02199">maglev-ir.h:2199</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1NodeBase_html_a6f8a8d39dcebacfd9d44ad02860056bc"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#a6f8a8d39dcebacfd9d44ad02860056bc">v8::internal::maglev::NodeBase::TryCast</a></div><div class="ttdeci">constexpr T * TryCast()</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02164">maglev-ir.h:2164</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1NodeBase_html_aaa297e0440990a8f7529181b6b3e5467"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#aaa297e0440990a8f7529181b6b3e5467">v8::internal::maglev::NodeBase::input_count</a></div><div class="ttdeci">constexpr int input_count() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02174">maglev-ir.h:2174</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1NodeBase_html_aaca061a8d317e9eee5380c21fa78fed8"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#aaca061a8d317e9eee5380c21fa78fed8">v8::internal::maglev::NodeBase::input</a></div><div class="ttdeci">constexpr Input &amp; input(int index)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02179">maglev-ir.h:2179</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1NodeBase_html_aade88e78e48b2cd67f76f98dc4da2238"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#aade88e78e48b2cd67f76f98dc4da2238">v8::internal::maglev::NodeBase::num_temporaries_needed</a></div><div class="ttdeci">uint8_t num_temporaries_needed() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02210">maglev-ir.h:2210</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1NodeBase_html_ab69dfd83fc1e566e5e431350fb4fe733"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#ab69dfd83fc1e566e5e431350fb4fe733">v8::internal::maglev::NodeBase::Cast</a></div><div class="ttdeci">constexpr T * Cast()</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02154">maglev-ir.h:2154</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1NodeBase_html_ad4b68577d1afa886c05f8641a6485bf7"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#ad4b68577d1afa886c05f8641a6485bf7">v8::internal::maglev::NodeBase::set_register_snapshot</a></div><div class="ttdeci">void set_register_snapshot(RegisterSnapshot snapshot)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02269">maglev-ir.h:2269</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1NodeBase_html_adb7a1f2a1368ff484002a256a3e9cdef"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#adb7a1f2a1368ff484002a256a3e9cdef">v8::internal::maglev::NodeBase::lazy_deopt_info</a></div><div class="ttdeci">LazyDeoptInfo * lazy_deopt_info()</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02253">maglev-ir.h:2253</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1NodeBase_html_adcac76f5303c38bb79b6c87eb2881a6d"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#adcac76f5303c38bb79b6c87eb2881a6d">v8::internal::maglev::NodeBase::opcode</a></div><div class="ttdeci">constexpr Opcode opcode() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02140">maglev-ir.h:2140</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1NodeBase_html_adf70b2a03faa2931ac4a8e714e11b25e"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#adf70b2a03faa2931ac4a8e714e11b25e">v8::internal::maglev::NodeBase::end</a></div><div class="ttdeci">constexpr auto end()</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02194">maglev-ir.h:2194</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1NodeBase_html_ae56d1ecfb6e5d683ba73faff701c2fd7"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#ae56d1ecfb6e5d683ba73faff701c2fd7">v8::internal::maglev::NodeBase::eager_deopt_info</a></div><div class="ttdeci">EagerDeoptInfo * eager_deopt_info()</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02246">maglev-ir.h:2246</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1NodeBase_html_af26c7c48f328712f2f41ee97f4d76408"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#af26c7c48f328712f2f41ee97f4d76408">v8::internal::maglev::NodeBase::exception_handler_info</a></div><div class="ttdeci">ExceptionHandlerInfo * exception_handler_info()</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02264">maglev-ir.h:2264</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1NodeBase_html_af88af8dd683f7784ae6ace6d6c701d31"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1NodeBase.html#af88af8dd683f7784ae6ace6d6c701d31">v8::internal::maglev::NodeBase::properties</a></div><div class="ttdeci">constexpr OpProperties properties() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02141">maglev-ir.h:2141</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1Node_html"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1Node.html">v8::internal::maglev::Node</a></div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02587">maglev-ir.h:2587</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1OpProperties_html"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1OpProperties.html">v8::internal::maglev::OpProperties</a></div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l01207">maglev-ir.h:1207</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1OpProperties_html_a1d098a250ee68ea845d8fcbcb822827e"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1OpProperties.html#a1d098a250ee68ea845d8fcbcb822827e">v8::internal::maglev::OpProperties::needs_register_snapshot</a></div><div class="ttdeci">constexpr bool needs_register_snapshot() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l01256">maglev-ir.h:1256</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1OpProperties_html_a3270ce4a31a4047d48055aabc42c831d"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1OpProperties.html#a3270ce4a31a4047d48055aabc42c831d">v8::internal::maglev::OpProperties::can_throw</a></div><div class="ttdeci">constexpr bool can_throw() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l01230">maglev-ir.h:1230</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1OpProperties_html_a6f757478a116a03612eeeed4b7c2e1a0"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1OpProperties.html#a6f757478a116a03612eeeed4b7c2e1a0">v8::internal::maglev::OpProperties::can_eager_deopt</a></div><div class="ttdeci">constexpr bool can_eager_deopt() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l01215">maglev-ir.h:1215</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1OpProperties_html_a7e9ef5825d63a72aca3d02eeed5f6cf1"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1OpProperties.html#a7e9ef5825d63a72aca3d02eeed5f6cf1">v8::internal::maglev::OpProperties::can_lazy_deopt</a></div><div class="ttdeci">constexpr bool can_lazy_deopt() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l01219">maglev-ir.h:1219</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1OpProperties_html_a815561a6c6452829fadaca4bdb0bf20e"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1OpProperties.html#a815561a6c6452829fadaca4bdb0bf20e">v8::internal::maglev::OpProperties::Call</a></div><div class="ttdeci">static constexpr OpProperties Call()</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l01281">maglev-ir.h:1281</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1OpProperties_html_a9f989420e0ea0d6e75a761dc60903761"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1OpProperties.html#a9f989420e0ea0d6e75a761dc60903761">v8::internal::maglev::OpProperties::value_representation</a></div><div class="ttdeci">constexpr ValueRepresentation value_representation() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l01247">maglev-ir.h:1247</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1OpProperties_html_aa5009397fc12d77ddd74c8a5cab7a52f"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1OpProperties.html#aa5009397fc12d77ddd74c8a5cab7a52f">v8::internal::maglev::OpProperties::is_call</a></div><div class="ttdeci">constexpr bool is_call() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l01209">maglev-ir.h:1209</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1OpProperties_html_ae320553646fbc605261876ab43718c1f"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1OpProperties.html#ae320553646fbc605261876ab43718c1f">v8::internal::maglev::OpProperties::EagerDeopt</a></div><div class="ttdeci">static constexpr OpProperties EagerDeopt()</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l01284">maglev-ir.h:1284</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1OpProperties_html_affca51dc4cc3741705fb73690d6c37a8"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1OpProperties.html#affca51dc4cc3741705fb73690d6c37a8">v8::internal::maglev::OpProperties::can_deopt</a></div><div class="ttdeci">constexpr bool can_deopt() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l01227">maglev-ir.h:1227</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1Phi_html"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1Phi.html">v8::internal::maglev::Phi</a></div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l09840">maglev-ir.h:9840</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1PrintNodeLabel_html"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1PrintNodeLabel.html">v8::internal::maglev::PrintNodeLabel</a></div><div class="ttdef"><b>Definition:</b> <a href="maglev-graph-labeller_8h_source.html#l00122">maglev-graph-labeller.h:122</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1ProcessingState_html"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1ProcessingState.html">v8::internal::maglev::ProcessingState</a></div><div class="ttdef"><b>Definition:</b> <a href="maglev-graph-processor_8h_source.html#l00066">maglev-graph-processor.h:66</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1RegisterFrameState_html"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html">v8::internal::maglev::RegisterFrameState</a></div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8h_source.html#l00057">maglev-regalloc.h:57</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1RegisterFrameState_html_a0ace98877e450f5dc94fa4764f184a1e"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#a0ace98877e450f5dc94fa4764f184a1e">v8::internal::maglev::RegisterFrameState::RemoveFromFree</a></div><div class="ttdeci">void RemoveFromFree(RegisterT reg)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8h_source.html#l00092">maglev-regalloc.h:92</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1RegisterFrameState_html_a1fc7b0d01b577993fa875683ba48371b"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#a1fc7b0d01b577993fa875683ba48371b">v8::internal::maglev::RegisterFrameState::empty</a></div><div class="ttdeci">RegTList empty() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8h_source.html#l00074">maglev-regalloc.h:74</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1RegisterFrameState_html_a28131c9b222f44fa314b904704366272"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#a28131c9b222f44fa314b904704366272">v8::internal::maglev::RegisterFrameState::free</a></div><div class="ttdeci">RegTList free() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8h_source.html#l00075">maglev-regalloc.h:75</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1RegisterFrameState_html_a2b7048e34fb9d2c5be5b2aab872274c2"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#a2b7048e34fb9d2c5be5b2aab872274c2">v8::internal::maglev::RegisterFrameState::AddToFree</a></div><div class="ttdeci">void AddToFree(RegisterT reg)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8h_source.html#l00093">maglev-regalloc.h:93</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1RegisterFrameState_html_a2c7301e9092234999c57ca7f6ac65ebe"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#a2c7301e9092234999c57ca7f6ac65ebe">v8::internal::maglev::RegisterFrameState::UnblockedFreeIsEmpty</a></div><div class="ttdeci">bool UnblockedFreeIsEmpty() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8h_source.html#l00083">maglev-regalloc.h:83</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1RegisterFrameState_html_a335550503cc75d07ea7f78666fe64d4e"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#a335550503cc75d07ea7f78666fe64d4e">v8::internal::maglev::RegisterFrameState::blocked</a></div><div class="ttdeci">RegTList blocked() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8h_source.html#l00134">maglev-regalloc.h:134</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1RegisterFrameState_html_a4a76fd9a4c89ac750455ab2f13e5e38d"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#a4a76fd9a4c89ac750455ab2f13e5e38d">v8::internal::maglev::RegisterFrameState::used</a></div><div class="ttdeci">RegTList used() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8h_source.html#l00077">maglev-regalloc.h:77</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1RegisterFrameState_html_a6253008f59f004107b61e81f683ed778"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#a6253008f59f004107b61e81f683ed778">v8::internal::maglev::RegisterFrameState::SetValue</a></div><div class="ttdeci">void SetValue(RegisterT reg, ValueNode *node)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8h_source.html#l00102">maglev-regalloc.h:102</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1RegisterFrameState_html_a634ce28caf22af716ed96defbac31207"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#a634ce28caf22af716ed96defbac31207">v8::internal::maglev::RegisterFrameState::unblock</a></div><div class="ttdeci">void unblock(RegisterT reg)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8h_source.html#l00136">maglev-regalloc.h:136</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1RegisterFrameState_html_a686b85f0295597097fab2f94f044a9b7"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#a686b85f0295597097fab2f94f044a9b7">v8::internal::maglev::RegisterFrameState::RegTList</a></div><div class="ttdeci">RegListBase&lt; RegisterT &gt; RegTList</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8h_source.html#l00068">maglev-regalloc.h:68</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1RegisterFrameState_html_aaa8e87b02cf8c45afb0d853d8c891fe1"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#aaa8e87b02cf8c45afb0d853d8c891fe1">v8::internal::maglev::RegisterFrameState::unblocked_free</a></div><div class="ttdeci">RegTList unblocked_free() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8h_source.html#l00076">maglev-regalloc.h:76</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1RegisterFrameState_html_ab7f6b41488705b1c4b778269cfae801e"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#ab7f6b41488705b1c4b778269cfae801e">v8::internal::maglev::RegisterFrameState::GetValue</a></div><div class="ttdeci">ValueNode * GetValue(RegisterT reg) const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8h_source.html#l00115">maglev-regalloc.h:115</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1RegisterFrameState_html_ac66fafb824ff711376ba3392595e9165"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#ac66fafb824ff711376ba3392595e9165">v8::internal::maglev::RegisterFrameState::block</a></div><div class="ttdeci">void block(RegisterT reg)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8h_source.html#l00135">maglev-regalloc.h:135</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1RegisterFrameState_html_ad08b1eaf5d5071f6441eedacc810c87f"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#ad08b1eaf5d5071f6441eedacc810c87f">v8::internal::maglev::RegisterFrameState::is_blocked</a></div><div class="ttdeci">bool is_blocked(RegisterT reg)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8h_source.html#l00137">maglev-regalloc.h:137</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1RegisterFrameState_html_adbc04ce3328b7dd66e1a6a1d385fd8bf"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#adbc04ce3328b7dd66e1a6a1d385fd8bf">v8::internal::maglev::RegisterFrameState::SetValueWithoutBlocking</a></div><div class="ttdeci">void SetValueWithoutBlocking(RegisterT reg, ValueNode *node)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8h_source.html#l00109">maglev-regalloc.h:109</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1RegisterFrameState_html_aeda1f4461c81823377934c71ae77e4cb"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1RegisterFrameState.html#aeda1f4461c81823377934c71ae77e4cb">v8::internal::maglev::RegisterFrameState::FreeRegistersUsedBy</a></div><div class="ttdeci">void FreeRegistersUsedBy(ValueNode *node)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8h_source.html#l00096">maglev-regalloc.h:96</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1Return_html"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1Return.html">v8::internal::maglev::Return</a></div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l11378">maglev-ir.h:11378</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_a009a68b04f473b088b7797342dbd4fcd"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a009a68b04f473b088b7797342dbd4fcd">v8::internal::maglev::StraightForwardRegisterAllocator::PrintLiveRegs</a></div><div class="ttdeci">void PrintLiveRegs() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l00350">maglev-regalloc.cc:350</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_a028fd95207c1ba7d7f4dfb45f0a768a2"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a028fd95207c1ba7d7f4dfb45f0a768a2">v8::internal::maglev::StraightForwardRegisterAllocator::AllocateRegisterAtEnd</a></div><div class="ttdeci">compiler::AllocatedOperand AllocateRegisterAtEnd(ValueNode *node)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l01821">maglev-regalloc.cc:1821</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_a07f80e3d7f35007da11101e93ebda0d5"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a07f80e3d7f35007da11101e93ebda0d5">v8::internal::maglev::StraightForwardRegisterAllocator::block_it_</a></div><div class="ttdeci">BlockConstIterator block_it_</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8h_source.html#l00319">maglev-regalloc.h:319</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_a0fd79a5ffa3efa36c29e06807c002673"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a0fd79a5ffa3efa36c29e06807c002673">v8::internal::maglev::StraightForwardRegisterAllocator::AssignFixedInput</a></div><div class="ttdeci">void AssignFixedInput(Input &amp;input)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l01242">maglev-regalloc.cc:1242</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_a1773c9b0318bfd1c50db7972dce2c793"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a1773c9b0318bfd1c50db7972dce2c793">v8::internal::maglev::StraightForwardRegisterAllocator::DropRegisterValueAtEnd</a></div><div class="ttdeci">void DropRegisterValueAtEnd(RegisterT reg, bool force_spill=false)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l00804">maglev-regalloc.cc:804</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_a23b7fc6e6ad48029a3602170c485ea4a"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a23b7fc6e6ad48029a3602170c485ea4a">v8::internal::maglev::StraightForwardRegisterAllocator::SpillAndClearRegisters</a></div><div class="ttdeci">void SpillAndClearRegisters()</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l01609">maglev-regalloc.cc:1609</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_a26cd581118765612cdd701cb3af08789"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a26cd581118765612cdd701cb3af08789">v8::internal::maglev::StraightForwardRegisterAllocator::StraightForwardRegisterAllocator</a></div><div class="ttdeci">StraightForwardRegisterAllocator(MaglevCompilationInfo *compilation_info, Graph *graph, RegallocInfo *regalloc_info)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l00202">maglev-regalloc.cc:202</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_a2a173f875d2497f51e532b288cab889a"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a2a173f875d2497f51e532b288cab889a">v8::internal::maglev::StraightForwardRegisterAllocator::AssignAnyInput</a></div><div class="ttdeci">void AssignAnyInput(Input &amp;input)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l01436">maglev-regalloc.cc:1436</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_a2d142c2936add8573ad2f994ee53718e"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a2d142c2936add8573ad2f994ee53718e">v8::internal::maglev::StraightForwardRegisterAllocator::TryAllocateToInput</a></div><div class="ttdeci">void TryAllocateToInput(Phi *phi)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l01171">maglev-regalloc.cc:1171</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_a2e15656b2c14a4f37e8bac2957abdd70"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a2e15656b2c14a4f37e8bac2957abdd70">v8::internal::maglev::StraightForwardRegisterAllocator::FreeRegistersUsedBy</a></div><div class="ttdeci">void FreeRegistersUsedBy(ValueNode *node)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l00625">maglev-regalloc.cc:625</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_a317d5918d7ed071a17f9c6c000693198"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a317d5918d7ed071a17f9c6c000693198">v8::internal::maglev::StraightForwardRegisterAllocator::DropRegisterValue</a></div><div class="ttdeci">void DropRegisterValue(RegisterFrameState&lt; RegisterT &gt; &amp;registers, RegisterT reg, bool force_spill=false)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l00907">maglev-regalloc.cc:907</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_a3422ff65e920a4d86a1729a9bda6919a"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a3422ff65e920a4d86a1729a9bda6919a">v8::internal::maglev::StraightForwardRegisterAllocator::current_node_</a></div><div class="ttdeci">NodeBase * current_node_</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8h_source.html#l00322">maglev-regalloc.h:322</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_a3571b7824a381a6bd25a50d4618070c4"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a3571b7824a381a6bd25a50d4618070c4">v8::internal::maglev::StraightForwardRegisterAllocator::has_graph_labeller</a></div><div class="ttdeci">bool has_graph_labeller() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8h_source.html#l00304">maglev-regalloc.h:304</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_a39254d6d56299ed14508926e07d6e92e"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a39254d6d56299ed14508926e07d6e92e">v8::internal::maglev::StraightForwardRegisterAllocator::InitializeBranchTargetRegisterValues</a></div><div class="ttdeci">void InitializeBranchTargetRegisterValues(ControlNode *source, BasicBlock *target)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l02220">maglev-regalloc.cc:2220</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_a42c6a4d92907795728a37a3ddd3f6e05"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a42c6a4d92907795728a37a3ddd3f6e05">v8::internal::maglev::StraightForwardRegisterAllocator::AllocateNodeResult</a></div><div class="ttdeci">void AllocateNodeResult(ValueNode *node)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l00821">maglev-regalloc.cc:821</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_a4996578e4a68d9cbfee6837d3d1154e4"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a4996578e4a68d9cbfee6837d3d1154e4">v8::internal::maglev::StraightForwardRegisterAllocator::double_registers_</a></div><div class="ttdeci">RegisterFrameState&lt; DoubleRegister &gt; double_registers_</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8h_source.html#l00162">maglev-regalloc.h:162</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_a4aee117ed0ee67a5a265401a6255caa7"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a4aee117ed0ee67a5a265401a6255caa7">v8::internal::maglev::StraightForwardRegisterAllocator::VerifyRegisterState</a></div><div class="ttdeci">void VerifyRegisterState()</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l01512">maglev-regalloc.cc:1512</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_a4b0daea33a0df4fb83f33c52bfd89476"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a4b0daea33a0df4fb83f33c52bfd89476">v8::internal::maglev::StraightForwardRegisterAllocator::AllocateRegister</a></div><div class="ttdeci">compiler::AllocatedOperand AllocateRegister(ValueNode *node, const compiler::InstructionOperand &amp;hint=compiler::InstructionOperand())</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l01758">maglev-regalloc.cc:1758</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_a4b887f42994544d0df2da9c591601c9e"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a4b887f42994544d0df2da9c591601c9e">v8::internal::maglev::StraightForwardRegisterAllocator::compilation_info_</a></div><div class="ttdeci">MaglevCompilationInfo * compilation_info_</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8h_source.html#l00310">maglev-regalloc.h:310</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_a52450436d4649d30700281d547a8b530"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a52450436d4649d30700281d547a8b530">v8::internal::maglev::StraightForwardRegisterAllocator::printing_visitor_</a></div><div class="ttdeci">std::unique_ptr&lt; MaglevPrintingVisitor &gt; printing_visitor_</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8h_source.html#l00311">maglev-regalloc.h:311</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_a5530bb0f32c52bb4eb592d71a77f960b"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a5530bb0f32c52bb4eb592d71a77f960b">v8::internal::maglev::StraightForwardRegisterAllocator::ComputePostDominatingHoles</a></div><div class="ttdeci">void ComputePostDominatingHoles()</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l00306">maglev-regalloc.cc:306</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_a570a04818b0b49be804f5d5141b2c0f9"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a570a04818b0b49be804f5d5141b2c0f9">v8::internal::maglev::StraightForwardRegisterAllocator::InitializeEmptyBlockRegisterValues</a></div><div class="ttdeci">void InitializeEmptyBlockRegisterValues(ControlNode *source, BasicBlock *target)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l02239">maglev-regalloc.cc:2239</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_a5a568515e703280bf6cd8564e373fc87"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a5a568515e703280bf6cd8564e373fc87">v8::internal::maglev::StraightForwardRegisterAllocator::AllocateControlNode</a></div><div class="ttdeci">void AllocateControlNode(ControlNode *node, BasicBlock *block)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l01031">maglev-regalloc.cc:1031</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_a5d1797b1bd24e0ebddc59297d7ad921f"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a5d1797b1bd24e0ebddc59297d7ad921f">v8::internal::maglev::StraightForwardRegisterAllocator::IsCurrentNodeLastUseOf</a></div><div class="ttdeci">bool IsCurrentNodeLastUseOf(ValueNode *node)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l01785">maglev-regalloc.cc:1785</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_a5e86f69a68eae55ed01f1b0bef3b7daa"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a5e86f69a68eae55ed01f1b0bef3b7daa">v8::internal::maglev::StraightForwardRegisterAllocator::MarkAsClobbered</a></div><div class="ttdeci">void MarkAsClobbered(ValueNode *node, const compiler::AllocatedOperand &amp;location)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l01302">maglev-regalloc.cc:1302</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_a67e3883db97946b39cd06d9e12a424ee"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a67e3883db97946b39cd06d9e12a424ee">v8::internal::maglev::StraightForwardRegisterAllocator::AssignArbitraryTemporaries</a></div><div class="ttdeci">void AssignArbitraryTemporaries(RegisterFrameState&lt; RegisterT &gt; &amp;registers, NodeBase *node)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l02009">maglev-regalloc.cc:2009</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_a69b9790efed1973a771224a57d3f1ee2"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a69b9790efed1973a771224a57d3f1ee2">v8::internal::maglev::StraightForwardRegisterAllocator::VerifyInputs</a></div><div class="ttdeci">void VerifyInputs(NodeBase *node)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l01483">maglev-regalloc.cc:1483</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_a6a326398de3c6a5072eea22327c7746d"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a6a326398de3c6a5072eea22327c7746d">v8::internal::maglev::StraightForwardRegisterAllocator::ForceAllocate</a></div><div class="ttdeci">compiler::AllocatedOperand ForceAllocate(RegisterFrameState&lt; RegisterT &gt; &amp;registers, RegisterT reg, ValueNode *node)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l01832">maglev-regalloc.cc:1832</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_a722303e16e26e329257d54b41b460725"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a722303e16e26e329257d54b41b460725">v8::internal::maglev::StraightForwardRegisterAllocator::general_registers_</a></div><div class="ttdeci">RegisterFrameState&lt; Register &gt; general_registers_</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8h_source.html#l00161">maglev-regalloc.h:161</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_a7debebfd08736d5fafea33cc32d9dd3b"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a7debebfd08736d5fafea33cc32d9dd3b">v8::internal::maglev::StraightForwardRegisterAllocator::~StraightForwardRegisterAllocator</a></div><div class="ttdeci">~StraightForwardRegisterAllocator()</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_a7fbb5ce0a68326f9f011be5a1ee49a97"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a7fbb5ce0a68326f9f011be5a1ee49a97">v8::internal::maglev::StraightForwardRegisterAllocator::patches_</a></div><div class="ttdeci">ZoneVector&lt; BlockPatch &gt; patches_</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8h_source.html#l00317">maglev-regalloc.h:317</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_a85e2428a666406afd8a3c6d913021b6d"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a85e2428a666406afd8a3c6d913021b6d">v8::internal::maglev::StraightForwardRegisterAllocator::ClearRegisterValues</a></div><div class="ttdeci">void ClearRegisterValues()</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l02069">maglev-regalloc.cc:2069</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_a8aa7826d195c03e8078109238f87306a"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a8aa7826d195c03e8078109238f87306a">v8::internal::maglev::StraightForwardRegisterAllocator::UpdateUse</a></div><div class="ttdeci">void UpdateUse(Input *input)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8h_source.html#l00188">maglev-regalloc.h:188</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_a8d48629f28437ad158e0ed14ac120306"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#a8d48629f28437ad158e0ed14ac120306">v8::internal::maglev::StraightForwardRegisterAllocator::SaveRegisterSnapshot</a></div><div class="ttdeci">void SaveRegisterSnapshot(NodeBase *node)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l01614">maglev-regalloc.cc:1614</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_aa0175d8f4977449f26f9fe3cf817a17c"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#aa0175d8f4977449f26f9fe3cf817a17c">v8::internal::maglev::StraightForwardRegisterAllocator::InitializeBranchTargetPhis</a></div><div class="ttdeci">void InitializeBranchTargetPhis(int predecessor_id, BasicBlock *target)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l00957">maglev-regalloc.cc:957</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_aa08f61a5daa2f87c952d32f3a333d237"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#aa08f61a5daa2f87c952d32f3a333d237">v8::internal::maglev::StraightForwardRegisterAllocator::Spill</a></div><div class="ttdeci">void Spill(ValueNode *node)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l01232">maglev-regalloc.cc:1232</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_aa9e586d4d110daacc3300195c05fea21"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#aa9e586d4d110daacc3300195c05fea21">v8::internal::maglev::StraightForwardRegisterAllocator::untagged_</a></div><div class="ttdeci">SpillSlots untagged_</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8h_source.html#l00180">maglev-regalloc.h:180</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_ab15b05347d3161addd984d415a64f379"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ab15b05347d3161addd984d415a64f379">v8::internal::maglev::StraightForwardRegisterAllocator::InitializeConditionalBranchTarget</a></div><div class="ttdeci">void InitializeConditionalBranchTarget(ConditionalControlNode *source, BasicBlock *target)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l01015">maglev-regalloc.cc:1015</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_ab3a4be23708e5cb031d6dd05867368de"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ab3a4be23708e5cb031d6dd05867368de">v8::internal::maglev::StraightForwardRegisterAllocator::ApplyPatches</a></div><div class="ttdeci">void ApplyPatches(BasicBlock *block)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l00179">maglev-regalloc.cc:179</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_ab8742bd5bf8bb7f62e5ad347e6bb6c8c"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ab8742bd5bf8bb7f62e5ad347e6bb6c8c">v8::internal::maglev::StraightForwardRegisterAllocator::AddMoveBeforeCurrentNode</a></div><div class="ttdeci">void AddMoveBeforeCurrentNode(ValueNode *node, compiler::InstructionOperand source, compiler::AllocatedOperand target)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l01193">maglev-regalloc.cc:1193</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_ac2b88b62a9fe52e59c0ccc6eb0015eda"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ac2b88b62a9fe52e59c0ccc6eb0015eda">v8::internal::maglev::StraightForwardRegisterAllocator::tagged_</a></div><div class="ttdeci">SpillSlots tagged_</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8h_source.html#l00181">maglev-regalloc.h:181</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_ac2fcb5fdd4372f5ccaa516822fe87058"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ac2fcb5fdd4372f5ccaa516822fe87058">v8::internal::maglev::StraightForwardRegisterAllocator::SpillRegisters</a></div><div class="ttdeci">void SpillRegisters()</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l01587">maglev-regalloc.cc:1587</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_ac480121182714ec62e9e0219c1fb4aa1"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ac480121182714ec62e9e0219c1fb4aa1">v8::internal::maglev::StraightForwardRegisterAllocator::AllocateRegisters</a></div><div class="ttdeci">void AllocateRegisters()</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l00364">maglev-regalloc.cc:364</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_ad0f2acc22289eabf8f64b42fff7b2fdc"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ad0f2acc22289eabf8f64b42fff7b2fdc">v8::internal::maglev::StraightForwardRegisterAllocator::AllocateNode</a></div><div class="ttdeci">void AllocateNode(Node *node)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l00719">maglev-regalloc.cc:719</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_ad283f09d1986a3b424b09b4f2385905f"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ad283f09d1986a3b424b09b4f2385905f">v8::internal::maglev::StraightForwardRegisterAllocator::AllocateLazyDeopt</a></div><div class="ttdeci">void AllocateLazyDeopt(const LazyDeoptInfo &amp;deopt_info)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l00688">maglev-regalloc.cc:688</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_ad2c21cc858129e86e2e12a4ff38445ee"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ad2c21cc858129e86e2e12a4ff38445ee">v8::internal::maglev::StraightForwardRegisterAllocator::graph_</a></div><div class="ttdeci">Graph * graph_</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8h_source.html#l00312">maglev-regalloc.h:312</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_ad6946dc846bb4c82c24ab786b960b2f6"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ad6946dc846bb4c82c24ab786b960b2f6">v8::internal::maglev::StraightForwardRegisterAllocator::SetLoopPhiRegisterHint</a></div><div class="ttdeci">void SetLoopPhiRegisterHint(Phi *phi, RegisterT reg)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l01157">maglev-regalloc.cc:1157</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_ad89ef5232f4b2a001df6e204e43d7a20"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ad89ef5232f4b2a001df6e204e43d7a20">v8::internal::maglev::StraightForwardRegisterAllocator::MergeRegisterValues</a></div><div class="ttdeci">void MergeRegisterValues(ControlNode *control, BasicBlock *target, int predecessor_id)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l02260">maglev-regalloc.cc:2260</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_adc630771cce27ef848f70ba989b5444c"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#adc630771cce27ef848f70ba989b5444c">v8::internal::maglev::StraightForwardRegisterAllocator::AllocateSpillSlot</a></div><div class="ttdeci">void AllocateSpillSlot(ValueNode *node)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l01659">maglev-regalloc.cc:1659</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_ae14929a40920a1bb43a561d1f7da9ef1"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae14929a40920a1bb43a561d1f7da9ef1">v8::internal::maglev::StraightForwardRegisterAllocator::InitializeRegisterValues</a></div><div class="ttdeci">void InitializeRegisterValues(MergePointRegisterState &amp;target_state)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l02089">maglev-regalloc.cc:2089</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_ae1d3774a50bdff63954b0fbcea9f18b7"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae1d3774a50bdff63954b0fbcea9f18b7">v8::internal::maglev::StraightForwardRegisterAllocator::node_it_</a></div><div class="ttdeci">NodeIterator node_it_</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8h_source.html#l00320">maglev-regalloc.h:320</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_ae3e46b8b824cbda6d385e5ab34773413"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae3e46b8b824cbda6d385e5ab34773413">v8::internal::maglev::StraightForwardRegisterAllocator::AssignFixedTemporaries</a></div><div class="ttdeci">void AssignFixedTemporaries(RegisterFrameState&lt; RegisterT &gt; &amp;registers, NodeBase *node)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l01945">maglev-regalloc.cc:1945</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_ae47f3523278b5fe4f793bb460008b165"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae47f3523278b5fe4f793bb460008b165">v8::internal::maglev::StraightForwardRegisterAllocator::AssignArbitraryRegisterInput</a></div><div class="ttdeci">void AssignArbitraryRegisterInput(NodeBase *result_node, Input &amp;input)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l01354">maglev-regalloc.cc:1354</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_ae7148199ae1399ec2911e513718a3240"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae7148199ae1399ec2911e513718a3240">v8::internal::maglev::StraightForwardRegisterAllocator::AllocateEagerDeopt</a></div><div class="ttdeci">void AllocateEagerDeopt(const EagerDeoptInfo &amp;deopt_info)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l00673">maglev-regalloc.cc:673</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_ae8316f4b58666c1f3edae21b6eb2dfce"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae8316f4b58666c1f3edae21b6eb2dfce">v8::internal::maglev::StraightForwardRegisterAllocator::AssignInputs</a></div><div class="ttdeci">void AssignInputs(NodeBase *node)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l01465">maglev-regalloc.cc:1465</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_html_ae86d029ad577b8c95464c76fe78e5ed4"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator.html#ae86d029ad577b8c95464c76fe78e5ed4">v8::internal::maglev::StraightForwardRegisterAllocator::graph_labeller</a></div><div class="ttdeci">MaglevGraphLabeller * graph_labeller() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8h_source.html#l00306">maglev-regalloc.h:306</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1Switch_html"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1Switch.html">v8::internal::maglev::Switch</a></div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l11414">maglev-ir.h:11414</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1Switch_html_a3fb0c1632c6316750a3e6655a2a1b000"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1Switch.html#a3fb0c1632c6316750a3e6655a2a1b000">v8::internal::maglev::Switch::has_fallthrough</a></div><div class="ttdeci">bool has_fallthrough() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l11441">maglev-ir.h:11441</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1Switch_html_ab15312649dbe29ae0105e97e69c5308e"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1Switch.html#ab15312649dbe29ae0105e97e69c5308e">v8::internal::maglev::Switch::size</a></div><div class="ttdeci">int size() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l11439">maglev-ir.h:11439</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1Switch_html_af2871ec35776654dd11146e56ba2a3d2"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1Switch.html#af2871ec35776654dd11146e56ba2a3d2">v8::internal::maglev::Switch::targets</a></div><div class="ttdeci">BasicBlockRef * targets() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l11438">maglev-ir.h:11438</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1TerminalControlNode_html"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1TerminalControlNode.html">v8::internal::maglev::TerminalControlNode</a></div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l11277">maglev-ir.h:11277</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1UnconditionalControlNode_html"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1UnconditionalControlNode.html">v8::internal::maglev::UnconditionalControlNode</a></div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l11218">maglev-ir.h:11218</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1ValueLocation_html_a143f6c31632b96bbdc32d3cf2c469a12"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1ValueLocation.html#a143f6c31632b96bbdc32d3cf2c469a12">v8::internal::maglev::ValueLocation::AssignedGeneralRegister</a></div><div class="ttdeci">Register AssignedGeneralRegister() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l01464">maglev-ir.h:1464</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1ValueLocation_html_a261af9a50d19654e309b723e1d76c0c9"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1ValueLocation.html#a261af9a50d19654e309b723e1d76c0c9">v8::internal::maglev::ValueLocation::IsDoubleRegister</a></div><div class="ttdeci">bool IsDoubleRegister() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l01476">maglev-ir.h:1476</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1ValueLocation_html_a4c03b6153436bf3a5e7e8a4d7cc0e539"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1ValueLocation.html#a4c03b6153436bf3a5e7e8a4d7cc0e539">v8::internal::maglev::ValueLocation::operand</a></div><div class="ttdeci">const compiler::InstructionOperand &amp; operand() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l01478">maglev-ir.h:1478</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1ValueLocation_html_a4d7af54163cc6af2b81a7a448181731a"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1ValueLocation.html#a4d7af54163cc6af2b81a7a448181731a">v8::internal::maglev::ValueLocation::IsAnyRegister</a></div><div class="ttdeci">bool IsAnyRegister() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l01474">maglev-ir.h:1474</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1ValueLocation_html_a5a447066f81f4d7ee841f57bab5cb471"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1ValueLocation.html#a5a447066f81f4d7ee841f57bab5cb471">v8::internal::maglev::ValueLocation::Cloberred</a></div><div class="ttdeci">bool Cloberred()</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l01453">maglev-ir.h:1453</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1ValueLocation_html_a6365544c086f7b8a1247227f3c9f7178"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1ValueLocation.html#a6365544c086f7b8a1247227f3c9f7178">v8::internal::maglev::ValueLocation::InjectLocation</a></div><div class="ttdeci">void InjectLocation(compiler::InstructionOperand location)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l01448">maglev-ir.h:1448</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1ValueLocation_html_ac14f2b5879f2fef8c4b920479b114951"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1ValueLocation.html#ac14f2b5879f2fef8c4b920479b114951">v8::internal::maglev::ValueLocation::SetAllocated</a></div><div class="ttdeci">void SetAllocated(Args &amp;&amp;... args)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l01442">maglev-ir.h:1442</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1ValueLocation_html_ac8f57a8852876a2adcdc748c417f1798"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1ValueLocation.html#ac8f57a8852876a2adcdc748c417f1798">v8::internal::maglev::ValueLocation::AssignedDoubleRegister</a></div><div class="ttdeci">DoubleRegister AssignedDoubleRegister() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l01469">maglev-ir.h:1469</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1ValueNode_html"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1ValueNode.html">v8::internal::maglev::ValueNode</a></div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02608">maglev-ir.h:2608</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1ValueNode_html_a0491416c6f0810ff423f59b48913dc41"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a0491416c6f0810ff423f59b48913dc41">v8::internal::maglev::ValueNode::result</a></div><div class="ttdeci">ValueLocation &amp; result()</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02616">maglev-ir.h:2616</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1ValueNode_html_a1f58a55a7c599f16c00d559cfbdc486e"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a1f58a55a7c599f16c00d559cfbdc486e">v8::internal::maglev::ValueNode::loadable_slot</a></div><div class="ttdeci">compiler::InstructionOperand loadable_slot() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02696">maglev-ir.h:2696</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1ValueNode_html_a2aa6cddf21fbe3397564ce1f57dfb4be"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a2aa6cddf21fbe3397564ce1f57dfb4be">v8::internal::maglev::ValueNode::is_loadable</a></div><div class="ttdeci">bool is_loadable() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02657">maglev-ir.h:2657</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1ValueNode_html_a2b60029eb983f04e9a00348d55594ea4"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a2b60029eb983f04e9a00348d55594ea4">v8::internal::maglev::ValueNode::has_register</a></div><div class="ttdeci">bool has_register() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02827">maglev-ir.h:2827</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1ValueNode_html_a31881ef84c306859d771a5c12d67cf6f"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a31881ef84c306859d771a5c12d67cf6f">v8::internal::maglev::ValueNode::live_range</a></div><div class="ttdeci">LiveRange live_range() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02719">maglev-ir.h:2719</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1ValueNode_html_a4cbcbcee07fe2e0846df5cead82c8767"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a4cbcbcee07fe2e0846df5cead82c8767">v8::internal::maglev::ValueNode::current_next_use</a></div><div class="ttdeci">NodeIdT current_next_use() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02720">maglev-ir.h:2720</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1ValueNode_html_a51ceb3573f4cc7e64f58a0d652ce11e5"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a51ceb3573f4cc7e64f58a0d652ce11e5">v8::internal::maglev::ValueNode::spill_slot</a></div><div class="ttdeci">compiler::AllocatedOperand spill_slot() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02691">maglev-ir.h:2691</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1ValueNode_html_a5cf8e21db0d3bc33ccf4c14784f2d297"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a5cf8e21db0d3bc33ccf4c14784f2d297">v8::internal::maglev::ValueNode::SetNoSpill</a></div><div class="ttdeci">void SetNoSpill()</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8cc_source.html#l00485">maglev-ir.cc:485</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1ValueNode_html_a670bd4cb0e3f743602a7b37f06ff4463"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a670bd4cb0e3f743602a7b37f06ff4463">v8::internal::maglev::ValueNode::is_tagged</a></div><div class="ttdeci">constexpr bool is_tagged() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02732">maglev-ir.h:2732</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1ValueNode_html_a6946840ea6bd4df708c830aebfb59e34"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a6946840ea6bd4df708c830aebfb59e34">v8::internal::maglev::ValueNode::has_valid_live_range</a></div><div class="ttdeci">bool has_valid_live_range() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02718">maglev-ir.h:2718</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1ValueNode_html_a70f3aac2b164da176a17a7894cc0866f"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a70f3aac2b164da176a17a7894cc0866f">v8::internal::maglev::ValueNode::advance_next_use</a></div><div class="ttdeci">void advance_next_use(NodeIdT use)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02724">maglev-ir.h:2724</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1ValueNode_html_a7273c54a86a8e0405d878bc798d32603"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a7273c54a86a8e0405d878bc798d32603">v8::internal::maglev::ValueNode::is_spilled</a></div><div class="ttdeci">bool is_spilled() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02662">maglev-ir.h:2662</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1ValueNode_html_a82b3110d479e37d3f6e4756dad39c539"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a82b3110d479e37d3f6e4756dad39c539">v8::internal::maglev::ValueNode::Spill</a></div><div class="ttdeci">void Spill(compiler::AllocatedOperand operand)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02677">maglev-ir.h:2677</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1ValueNode_html_a89614aabc889de73bc6c69836dfcb8d3"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a89614aabc889de73bc6c69836dfcb8d3">v8::internal::maglev::ValueNode::has_no_more_uses</a></div><div class="ttdeci">bool has_no_more_uses() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02726">maglev-ir.h:2726</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1ValueNode_html_a93908c980619702cafe8e1c32eb4c0d1"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#a93908c980619702cafe8e1c32eb4c0d1">v8::internal::maglev::ValueNode::has_hint</a></div><div class="ttdeci">bool has_hint()</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02643">maglev-ir.h:2643</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1ValueNode_html_aa1e97a4e3c9a6df7e810e92cbc00849f"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#aa1e97a4e3c9a6df7e810e92cbc00849f">v8::internal::maglev::ValueNode::result_registers</a></div><div class="ttdeci">RegListBase&lt; T &gt; result_registers()</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02843">maglev-ir.h:2843</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1ValueNode_html_aab7f7640a3a78358626ccd8e3dbe81a7"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#aab7f7640a3a78358626ccd8e3dbe81a7">v8::internal::maglev::ValueNode::ClearHint</a></div><div class="ttdeci">void ClearHint()</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02641">maglev-ir.h:2641</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1ValueNode_html_abe9769819d8c9841e78ae2f5da42eb47"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#abe9769819d8c9841e78ae2f5da42eb47">v8::internal::maglev::ValueNode::RemoveRegister</a></div><div class="ttdeci">void RemoveRegister(Register reg)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02809">maglev-ir.h:2809</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1ValueNode_html_ac22f1588da47b97d15c6d1ea71a5c5e7"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#ac22f1588da47b97d15c6d1ea71a5c5e7">v8::internal::maglev::ValueNode::allocation</a></div><div class="ttdeci">compiler::InstructionOperand allocation() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02853">maglev-ir.h:2853</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1ValueNode_html_acb2c39c5d1bedd518407299da5762861"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#acb2c39c5d1bedd518407299da5762861">v8::internal::maglev::ValueNode::GetRegisterHint</a></div><div class="ttdeci">RegisterT GetRegisterHint()</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02646">maglev-ir.h:2646</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1ValueNode_html_add54512d0c1325dd2b942339241bd639"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#add54512d0c1325dd2b942339241bd639">v8::internal::maglev::ValueNode::use_double_register</a></div><div class="ttdeci">constexpr bool use_double_register() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02728">maglev-ir.h:2728</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1ValueNode_html_adf7b365973e369d5ac1532952776633a"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#adf7b365973e369d5ac1532952776633a">v8::internal::maglev::ValueNode::GetMachineRepresentation</a></div><div class="ttdeci">constexpr MachineRepresentation GetMachineRepresentation() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02767">maglev-ir.h:2767</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1ValueNode_html_ae989d95ca67fbdafb50003be6d69df7d"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#ae989d95ca67fbdafb50003be6d69df7d">v8::internal::maglev::ValueNode::hint</a></div><div class="ttdeci">const compiler::InstructionOperand &amp; hint() const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02652">maglev-ir.h:2652</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1maglev_1_1ValueNode_html_af49f90fa63b4dcd0e046dc49ef4e329a"><div class="ttname"><a href="classv8_1_1internal_1_1maglev_1_1ValueNode.html#af49f90fa63b4dcd0e046dc49ef4e329a">v8::internal::maglev::ValueNode::is_in_register</a></div><div class="ttdeci">bool is_in_register(Register reg) const</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02833">maglev-ir.h:2833</a></div></div>
<div class="ttc" id="aflag-definitions_8h_html_a06b2b7e5d08192bb493bba69cb19a7a8"><div class="ttname"><a href="flag-definitions_8h.html#a06b2b7e5d08192bb493bba69cb19a7a8">graph</a></div><div class="ttdeci">refactor address components for immediate indexing make OptimizeMaglevOnNextCall optimize to turbofan instead of maglev filter for tracing turbofan compilation trace turbo cfg graph(for C1 visualizer) to a given file name&quot;)  DEFINE_SLOW_TRACING_BOOL(trace_turbo_trimming</div></div>
<div class="ttc" id="aflag-definitions_8h_html_a2e89dcc15f540da766f7767b13e377e1"><div class="ttname"><a href="flag-definitions_8h.html#a2e89dcc15f540da766f7767b13e377e1">use</a></div><div class="ttdeci">other heap size generate builtins concurrently on separate threads in mksnapshot track concurrent recompilation artificial compilation delay in ms max number of threads that concurrent Turbofan can use(0 for unbounded)&quot;) DEFINE_BOOL( stress_concurrent_inlining</div></div>
<div class="ttc" id="aflag-definitions_8h_html_a3df0b28b666e942ffb9d7d04acdb9715"><div class="ttname"><a href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enables Turboshaft s StaticAssert and CheckTurboshaftTypeOf operations Wasm code into JS functions via the JS to Wasm wrappers are still inlined in TurboFan For controlling whether to at see turbo inline js wasm calls enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information enable Turbolev features that we want to ship in the not too far future trace individual Turboshaft reduction steps trace intermediate Turboshaft reduction steps trace Turboshaft s if else to switch reducer invocation count threshold for early optimization Enables optimizations which favor memory size over execution speed Enables sampling allocation profiler with X as a sample interval min size of a semi the new space consists of two semi spaces max size of the preconfigured old space size(in Mbytes)&quot;)     DEFINE_INT(random_gc_interval</div></div>
<div class="ttc" id="ainstruction_8h_html"><div class="ttname"><a href="instruction_8h.html">instruction.h</a></div></div>
<div class="ttc" id="amachine-type_8h_html"><div class="ttname"><a href="machine-type_8h.html">machine-type.h</a></div></div>
<div class="ttc" id="amaglev-code-gen-state_8h_html"><div class="ttname"><a href="maglev-code-gen-state_8h.html">maglev-code-gen-state.h</a></div></div>
<div class="ttc" id="amaglev-compilation-info_8h_html"><div class="ttname"><a href="maglev-compilation-info_8h.html">maglev-compilation-info.h</a></div></div>
<div class="ttc" id="amaglev-compilation-unit_8h_html"><div class="ttname"><a href="maglev-compilation-unit_8h.html">maglev-compilation-unit.h</a></div></div>
<div class="ttc" id="amaglev-graph-labeller_8h_html"><div class="ttname"><a href="maglev-graph-labeller_8h.html">maglev-graph-labeller.h</a></div></div>
<div class="ttc" id="amaglev-graph-printer_8h_html"><div class="ttname"><a href="maglev-graph-printer_8h.html">maglev-graph-printer.h</a></div></div>
<div class="ttc" id="amaglev-graph-processor_8h_html"><div class="ttname"><a href="maglev-graph-processor_8h.html">maglev-graph-processor.h</a></div></div>
<div class="ttc" id="amaglev-graph_8h_html"><div class="ttname"><a href="maglev-graph_8h.html">maglev-graph.h</a></div></div>
<div class="ttc" id="amaglev-interpreter-frame-state_8h_html"><div class="ttname"><a href="maglev-interpreter-frame-state_8h.html">maglev-interpreter-frame-state.h</a></div></div>
<div class="ttc" id="amaglev-ir-inl_8h_html"><div class="ttname"><a href="maglev-ir-inl_8h.html">maglev-ir-inl.h</a></div></div>
<div class="ttc" id="amaglev-ir_8h_html"><div class="ttname"><a href="maglev-ir_8h.html">maglev-ir.h</a></div></div>
<div class="ttc" id="amaglev-regalloc-data_8h_html"><div class="ttname"><a href="maglev-regalloc-data_8h.html">maglev-regalloc-data.h</a></div></div>
<div class="ttc" id="amaglev-regalloc_8h_html"><div class="ttname"><a href="maglev-regalloc_8h.html">maglev-regalloc.h</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a7364bf7dcb822d07f7380aeff8d2a77b"><div class="ttname"><a href="namespacev8_1_1base.html#a7364bf7dcb822d07f7380aeff8d2a77b">v8::base::Reversed</a></div><div class="ttdeci">auto Reversed(T &amp;t)</div><div class="ttdef"><b>Definition:</b> <a href="iterator_8h_source.html#l00102">iterator.h:102</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_ae8575343c68d7ad91cf7aaf24cd6643f"><div class="ttname"><a href="namespacev8_1_1base.html#ae8575343c68d7ad91cf7aaf24cd6643f">v8::base::sort</a></div><div class="ttdeci">void sort(C &amp;container)</div><div class="ttdef"><b>Definition:</b> <a href="container-utils_8h_source.html#l00111">container-utils.h:111</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_html_ad86b3cf21e19e97ce484f32b894d548c"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">v8::internal::anonymous_namespace{json-stringifier.cc}::i</a></div><div class="ttdeci">size_t i</div><div class="ttdef"><b>Definition:</b> <a href="json-stringifier_8cc_source.html#l00548">json-stringifier.cc:548</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_1_1turboshaft_html_ad67f19534a45514c73aee4542f8270e9"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ad67f19534a45514c73aee4542f8270e9">v8::internal::compiler::turboshaft::is_empty</a></div><div class="ttdeci">bool is_empty(MapMaskAndOr minmax)</div><div class="ttdef"><b>Definition:</b> <a href="late-load-elimination-reducer_8h_source.html#l00158">late-load-elimination-reducer.h:158</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_html_a51dcb90ae077172b12d63271c7e7ba0c"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">v8::internal::compiler::end</a></div><div class="ttdeci">Node::Uses::const_iterator end(const Node::Uses &amp;uses)</div><div class="ttdef"><b>Definition:</b> <a href="node_8h_source.html#l00711">node.h:711</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_html_aa5fc9a1f19d4871c5e3570ae0e5507a6"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler.html#aa5fc9a1f19d4871c5e3570ae0e5507a6">v8::internal::compiler::NodeId</a></div><div class="ttdeci">uint32_t NodeId</div><div class="ttdef"><b>Definition:</b> <a href="graph-reducer_8h_source.html#l00028">graph-reducer.h:28</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03_html_a1734b81a6e299f173861ed10ff9eef67"><div class="ttname"><a href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#a1734b81a6e299f173861ed10ff9eef67">v8::internal::maglev::anonymous_namespace{maglev-regalloc.cc}::IsLiveAtTarget</a></div><div class="ttdeci">bool IsLiveAtTarget(ValueNode *node, ControlNode *source, BasicBlock *target)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l00149">maglev-regalloc.cc:149</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03_html_a2a3f6842356c01d8195564f3787e3aac"><div class="ttname"><a href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#a2a3f6842356c01d8195564f3787e3aac">v8::internal::maglev::anonymous_namespace{maglev-regalloc.cc}::HighestPostDominatingHole</a></div><div class="ttdeci">ControlNode * HighestPostDominatingHole(base::SmallVector&lt; ControlNode *, kSize &gt; &amp;holes)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l00129">maglev-regalloc.cc:129</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03_html_a2ad179cd7622d4310864738d221b864f"><div class="ttname"><a href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#a2ad179cd7622d4310864738d221b864f">v8::internal::maglev::anonymous_namespace{maglev-regalloc.cc}::IsTargetOfNodeFallthrough</a></div><div class="ttdeci">bool IsTargetOfNodeFallthrough(ControlNode *node, BasicBlock *target)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l00060">maglev-regalloc.cc:60</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03_html_a2bfdad091cc448769c98862dba853d87"><div class="ttname"><a href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#a2bfdad091cc448769c98862dba853d87">v8::internal::maglev::anonymous_namespace{maglev-regalloc.cc}::InputHint</a></div><div class="ttdeci">compiler::InstructionOperand InputHint(NodeBase *node, Input &amp;input)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l01341">maglev-regalloc.cc:1341</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03_html_a3de33ad8786d517e279abaefe9866f7b"><div class="ttname"><a href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#a3de33ad8786d517e279abaefe9866f7b">v8::internal::maglev::anonymous_namespace{maglev-regalloc.cc}::NearestPostDominatingHole</a></div><div class="ttdeci">ControlNode * NearestPostDominatingHole(ControlNode *node)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l00064">maglev-regalloc.cc:64</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03_html_a4be9602b1b9cfa13463380f584b81177"><div class="ttname"><a href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#a4be9602b1b9cfa13463380f584b81177">v8::internal::maglev::anonymous_namespace{maglev-regalloc.cc}::initialized_merge</a></div><div class="ttdeci">constexpr RegisterStateFlags initialized_merge</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l00052">maglev-regalloc.cc:52</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03_html_a8721b4c694b26f7bfd4ff17ea89e6bbb"><div class="ttname"><a href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#a8721b4c694b26f7bfd4ff17ea89e6bbb">v8::internal::maglev::anonymous_namespace{maglev-regalloc.cc}::SameAsInput</a></div><div class="ttdeci">bool SameAsInput(ValueNode *node, Input &amp;input)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l01335">maglev-regalloc.cc:1335</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03_html_a95fc1e7b974fcfb2b070ed3eb305e543"><div class="ttname"><a href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#a95fc1e7b974fcfb2b070ed3eb305e543">v8::internal::maglev::anonymous_namespace{maglev-regalloc.cc}::GetReservedRegisters</a></div><div class="ttdeci">RegListBase&lt; RegisterT &gt; GetReservedRegisters(NodeBase *node_base)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l01982">maglev-regalloc.cc:1982</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03_html_aac0154321e91e7a3d0aa93d1fce21a9d"><div class="ttname"><a href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#aac0154321e91e7a3d0aa93d1fce21a9d">v8::internal::maglev::anonymous_namespace{maglev-regalloc.cc}::BlockReverseIterator</a></div><div class="ttdeci">std::vector&lt; BasicBlock &gt;::reverse_iterator BlockReverseIterator</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l00054">maglev-regalloc.cc:54</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03_html_aae79f305fa7b396dee1a5968db293af2"><div class="ttname"><a href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#aae79f305fa7b396dee1a5968db293af2">v8::internal::maglev::anonymous_namespace{maglev-regalloc.cc}::IsDeadNodeToSkip</a></div><div class="ttdeci">bool IsDeadNodeToSkip(Node *node)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l00170">maglev-regalloc.cc:170</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03_html_ab4d8a31c490ec7d5be215d5295ddaf3c"><div class="ttname"><a href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#ab4d8a31c490ec7d5be215d5295ddaf3c">v8::internal::maglev::anonymous_namespace{maglev-regalloc.cc}::OperandForNodeRegister</a></div><div class="ttdeci">compiler::AllocatedOperand OperandForNodeRegister(ValueNode *node, RegisterT reg)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l01887">maglev-regalloc.cc:1887</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03_html_adc4a4e4d34f19a4cb5ebe5a10dfc166d"><div class="ttname"><a href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#adc4a4e4d34f19a4cb5ebe5a10dfc166d">v8::internal::maglev::anonymous_namespace{maglev-regalloc.cc}::initialized_node</a></div><div class="ttdeci">constexpr RegisterStateFlags initialized_node</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l00051">maglev-regalloc.cc:51</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03_html_ae90a8369aef39b40004ca0fd912bb9f1"><div class="ttname"><a href="namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03.html#ae90a8369aef39b40004ca0fd912bb9f1">v8::internal::maglev::anonymous_namespace{maglev-regalloc.cc}::GetRegisterHint</a></div><div class="ttdeci">static RegisterT GetRegisterHint(const compiler::InstructionOperand &amp;hint)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8cc_source.html#l01776">maglev-regalloc.cc:1776</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1maglev_html_a3314ac8c3e0bd8b4886122d4288832b9a3eee36fbbe00cfed0ef24d756afd1784"><div class="ttname"><a href="namespacev8_1_1internal_1_1maglev.html#a3314ac8c3e0bd8b4886122d4288832b9a3eee36fbbe00cfed0ef24d756afd1784">v8::internal::maglev::ValueRepresentation::kTagged</a></div><div class="ttdeci">@ kTagged</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1maglev_html_a4b4b2553fa2780280e3c45557932d346"><div class="ttname"><a href="namespacev8_1_1internal_1_1maglev.html#a4b4b2553fa2780280e3c45557932d346">v8::internal::maglev::ToDoubleRegister</a></div><div class="ttdeci">DoubleRegister ToDoubleRegister(const compiler::InstructionOperand &amp;operand)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-code-gen-state_8h_source.html#l00156">maglev-code-gen-state.h:156</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1maglev_html_a6e60c63e9c4afea01a72683d99a3855e"><div class="ttname"><a href="namespacev8_1_1internal_1_1maglev.html#a6e60c63e9c4afea01a72683d99a3855e">v8::internal::maglev::IsConstantNode</a></div><div class="ttdeci">constexpr bool IsConstantNode(Opcode opcode)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l00510">maglev-ir.h:510</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1maglev_html_a700520f203ccbba356ef257455abc3e9"><div class="ttname"><a href="namespacev8_1_1internal_1_1maglev.html#a700520f203ccbba356ef257455abc3e9">v8::internal::maglev::ToRegister</a></div><div class="ttdeci">Register ToRegister(const compiler::InstructionOperand &amp;operand)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-code-gen-state_8h_source.html#l00152">maglev-code-gen-state.h:152</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1maglev_html_a8b29e11822d68e5cf40a05880c74fd26"><div class="ttname"><a href="namespacev8_1_1internal_1_1maglev.html#a8b29e11822d68e5cf40a05880c74fd26">v8::internal::maglev::NodeIdT</a></div><div class="ttdeci">uint32_t NodeIdT</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l01095">maglev-ir.h:1095</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1maglev_html_aa43cf0651586da94be8d1801deb0d30f"><div class="ttname"><a href="namespacev8_1_1internal_1_1maglev.html#aa43cf0651586da94be8d1801deb0d30f">v8::internal::maglev::kNoVreg</a></div><div class="ttdeci">static constexpr int kNoVreg</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir-inl_8h_source.html#l00042">maglev-ir-inl.h:42</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1maglev_html_aabd8b744a56d0d325e265221865d5efa"><div class="ttname"><a href="namespacev8_1_1internal_1_1maglev.html#aabd8b744a56d0d325e265221865d5efa">v8::internal::maglev::LoadMergeState</a></div><div class="ttdeci">bool LoadMergeState(RegisterState state, RegisterMerge **merge)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc-data_8h_source.html#l00074">maglev-regalloc-data.h:74</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1maglev_html_aad2426e234f3604b6298c3ba8d482056"><div class="ttname"><a href="namespacev8_1_1internal_1_1maglev.html#aad2426e234f3604b6298c3ba8d482056">v8::internal::maglev::IsDoubleRepresentation</a></div><div class="ttdeci">constexpr bool IsDoubleRepresentation(ValueRepresentation repr)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l00619">maglev-ir.h:619</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html"><div class="ttname"><a href="namespacev8_1_1internal.html">v8::internal</a></div><div class="ttdef"><b>Definition:</b> <a href="api-arguments-inl_8h_source.html#l00020">api-arguments-inl.h:20</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a00a63531b1853ad102a9dcd7636d385a"><div class="ttname"><a href="namespacev8_1_1internal.html#a00a63531b1853ad102a9dcd7636d385a">v8::internal::no_reg</a></div><div class="ttdeci">constexpr Register no_reg</div><div class="ttdef"><b>Definition:</b> <a href="register-arm_8h_source.html#l00092">register-arm.h:92</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a0cfab207d565dcf62ebf50f3987e05de"><div class="ttname"><a href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">v8::internal::index</a></div><div class="ttdeci">int index</div><div class="ttdef"><b>Definition:</b> <a href="heap-snapshot-generator_8cc_source.html#l01698">heap-snapshot-generator.cc:1698</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5031451934208565c827c86d9eb86c5a"><div class="ttname"><a href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">v8::internal::internal</a></div><div class="ttdeci">internal</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects-inl_8h_source.html#l00453">wasm-objects-inl.h:453</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a72cbfdfeabb9a401f279f7b80bcff67a"><div class="ttname"><a href="namespacev8_1_1internal.html#a72cbfdfeabb9a401f279f7b80bcff67a">v8::internal::kSystemPointerSize</a></div><div class="ttdeci">constexpr int kSystemPointerSize</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00411">globals.h:411</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a8654f2409b96eec341287939ca3cfab0"><div class="ttname"><a href="namespacev8_1_1internal.html#a8654f2409b96eec341287939ca3cfab0">v8::internal::kReturnRegister0</a></div><div class="ttdeci">constexpr Register kReturnRegister0</div><div class="ttdef"><b>Definition:</b> <a href="register-arm_8h_source.html#l00308">register-arm.h:308</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa583abbe977ca41df2196a083796b84a"><div class="ttname"><a href="namespacev8_1_1internal.html#aa583abbe977ca41df2196a083796b84a">v8::internal::if</a></div><div class="ttdeci">else if(instr-&gt;arch_opcode()==kRiscvCmpZero)</div><div class="ttdef"><b>Definition:</b> <a href="code-generator-riscv_8cc_source.html#l04230">code-generator-riscv.cc:4230</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa6b3743bd5d773c552654f2a6c3efa4a"><div class="ttname"><a href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK</a></div><div class="ttdeci">DCHECK(IsNull(value)||IsNativeContext(value)||value==Smi::uninitialized_deserialization_value())</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa9db791c05a0359859a321dcfec42e37"><div class="ttname"><a href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a></div><div class="ttdeci">V8_EXPORT_PRIVATE FlagValues v8_flags</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_abe5419355372f787c28119c509343410"><div class="ttname"><a href="namespacev8_1_1internal.html#abe5419355372f787c28119c509343410">v8::internal::MachineRepresentation</a></div><div class="ttdeci">MachineRepresentation</div><div class="ttdef"><b>Definition:</b> <a href="machine-type_8h_source.html#l00019">machine-type.h:19</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_abe5419355372f787c28119c509343410a3eee36fbbe00cfed0ef24d756afd1784"><div class="ttname"><a href="namespacev8_1_1internal.html#abe5419355372f787c28119c509343410a3eee36fbbe00cfed0ef24d756afd1784">v8::internal::MachineRepresentation::kTagged</a></div><div class="ttdeci">@ kTagged</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ac1a33b5fd9af1653d346746cdb5c1ac0"><div class="ttname"><a href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">v8::internal::value</a></div><div class="ttdeci">return value</div><div class="ttdef"><b>Definition:</b> <a href="map-inl_8h_source.html#l00912">map-inl.h:912</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_acdec713c25068019f935e35976f5b666"><div class="ttname"><a href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">v8::internal::UNREACHABLE</a></div><div class="ttdeci">UNREACHABLE()</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ada67458c5a8e8c0ade0017e5d3c56fd3"><div class="ttname"><a href="namespacev8_1_1internal.html#ada67458c5a8e8c0ade0017e5d3c56fd3">v8::internal::kDoubleSize</a></div><div class="ttdeci">constexpr int kDoubleSize</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00408">globals.h:408</a></div></div>
<div class="ttc" id="anamespacev8_html"><div class="ttname"><a href="namespacev8.html">v8</a></div><div class="ttdoc">This file provides additional API on top of the default one for making API calls, which come from emb...</div><div class="ttdef"><b>Definition:</b> <a href="api-arguments-inl_8h_source.html#l00019">api-arguments-inl.h:19</a></div></div>
<div class="ttc" id="aparked-scope_8h_html"><div class="ttname"><a href="parked-scope_8h.html">parked-scope.h</a></div></div>
<div class="ttc" id="aregister-arm64_8h_html"><div class="ttname"><a href="register-arm64_8h.html">register-arm64.h</a></div></div>
<div class="ttc" id="aregister-arm_8h_html"><div class="ttname"><a href="register-arm_8h.html">register-arm.h</a></div></div>
<div class="ttc" id="aregister-riscv_8h_html"><div class="ttname"><a href="register-riscv_8h.html">register-riscv.h</a></div></div>
<div class="ttc" id="aregister-s390_8h_html"><div class="ttname"><a href="register-s390_8h.html">register-s390.h</a></div></div>
<div class="ttc" id="aregister-x64_8h_html"><div class="ttname"><a href="register-x64_8h.html">register-x64.h</a></div></div>
<div class="ttc" id="aregister_8h_html"><div class="ttname"><a href="register_8h.html">register.h</a></div></div>
<div class="ttc" id="areglist_8h_html"><div class="ttname"><a href="reglist_8h.html">reglist.h</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html"><div class="ttname"><a href="src_2base_2logging_8h.html">logging.h</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a0d093cb749cfc7ab5993726392df681f"><div class="ttname"><a href="src_2base_2logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a></div><div class="ttdeci">#define FATAL(...)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00047">logging.h:47</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a1c7c9b7f14b9a33ea69cbe4578016a19"><div class="ttname"><a href="src_2base_2logging_8h.html#a1c7c9b7f14b9a33ea69cbe4578016a19">CHECK_GE</a></div><div class="ttdeci">#define CHECK_GE(lhs, rhs)</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a3e1cfef60e774a81f30eaddf26a3a274"><div class="ttname"><a href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a></div><div class="ttdeci">#define CHECK(condition)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00124">logging.h:124</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a43d2df1fb528ff7bee1e873e377e0323"><div class="ttname"><a href="src_2base_2logging_8h.html#a43d2df1fb528ff7bee1e873e377e0323">CHECK_GT</a></div><div class="ttdeci">#define CHECK_GT(lhs, rhs)</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a7b9f9517fedacc2a1a56c2bbb9d03688"><div class="ttname"><a href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a></div><div class="ttdeci">#define DCHECK_NOT_NULL(val)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00491">logging.h:491</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a96a75539aa82216cdde2250a11126ea0"><div class="ttname"><a href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a></div><div class="ttdeci">#define DCHECK_IMPLIES(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00492">logging.h:492</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a986dc8f4ec6dcd0644efe205c13f8eb7"><div class="ttname"><a href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a></div><div class="ttdeci">#define DCHECK_NE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00485">logging.h:485</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_aabec5c3b7a8628298a25f044dcf89c25"><div class="ttname"><a href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a></div><div class="ttdeci">#define DCHECK_GE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00487">logging.h:487</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_aca32614b4d2aea7dd9abdeb222bf02f3"><div class="ttname"><a href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a></div><div class="ttdeci">#define CHECK_EQ(lhs, rhs)</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_ae17f8119c108cf3070bad3449c7e0006"><div class="ttname"><a href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a></div><div class="ttdeci">#define DCHECK(condition)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00481">logging.h:481</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_af9c313d74155f7f201955a939e24c71f"><div class="ttname"><a href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a></div><div class="ttdeci">#define DCHECK_EQ(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00484">logging.h:484</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_afd957f297df7e9ee36c46185e961485f"><div class="ttname"><a href="src_2base_2logging_8h.html#afd957f297df7e9ee36c46185e961485f">DCHECK_GT</a></div><div class="ttdeci">#define DCHECK_GT(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00486">logging.h:486</a></div></div>
<div class="ttc" id="asrc_2base_2macros_8h_html_a280b0798f270f4b3f361c9ab64832956"><div class="ttname"><a href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a></div><div class="ttdeci">#define USE(...)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2macros_8h_source.html#l00293">macros.h:293</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1maglev_1_1RegallocInfo_html"><div class="ttname"><a href="structv8_1_1internal_1_1maglev_1_1RegallocInfo.html">v8::internal::maglev::RegallocInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8h_source.html#l00024">maglev-regalloc.h:24</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1maglev_1_1RegisterMerge_html"><div class="ttname"><a href="structv8_1_1internal_1_1maglev_1_1RegisterMerge.html">v8::internal::maglev::RegisterMerge</a></div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc-data_8h_source.html#l00065">maglev-regalloc-data.h:65</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1maglev_1_1RegisterMerge_html_a090e69a042e8f090b96e3655bbb6c8dd"><div class="ttname"><a href="structv8_1_1internal_1_1maglev_1_1RegisterMerge.html#a090e69a042e8f090b96e3655bbb6c8dd">v8::internal::maglev::RegisterMerge::operand</a></div><div class="ttdeci">compiler::InstructionOperand &amp; operand(size_t i)</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc-data_8h_source.html#l00069">maglev-regalloc-data.h:69</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1maglev_1_1RegisterMerge_html_a86ad110a42113dce516677e0b618fd7d"><div class="ttname"><a href="structv8_1_1internal_1_1maglev_1_1RegisterMerge.html#a86ad110a42113dce516677e0b618fd7d">v8::internal::maglev::RegisterMerge::node</a></div><div class="ttdeci">ValueNode * node</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc-data_8h_source.html#l00071">maglev-regalloc-data.h:71</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1maglev_1_1RegisterSnapshot_html"><div class="ttname"><a href="structv8_1_1internal_1_1maglev_1_1RegisterSnapshot.html">v8::internal::maglev::RegisterSnapshot</a></div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l01861">maglev-ir.h:1861</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1maglev_1_1RegisterSnapshot_html_a61086ceac377aabdb00cbf6725a0c978"><div class="ttname"><a href="structv8_1_1internal_1_1maglev_1_1RegisterSnapshot.html#a61086ceac377aabdb00cbf6725a0c978">v8::internal::maglev::RegisterSnapshot::live_registers</a></div><div class="ttdeci">RegList live_registers</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l01862">maglev-ir.h:1862</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1maglev_1_1RegisterSnapshot_html_a65cc0f0cb2ed57b67d675df9d810820d"><div class="ttname"><a href="structv8_1_1internal_1_1maglev_1_1RegisterSnapshot.html#a65cc0f0cb2ed57b67d675df9d810820d">v8::internal::maglev::RegisterSnapshot::live_tagged_registers</a></div><div class="ttdeci">RegList live_tagged_registers</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l01863">maglev-ir.h:1863</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1maglev_1_1RegisterSnapshot_html_ac7f0b7cf76e07aadb9e9f85263f87b2f"><div class="ttname"><a href="structv8_1_1internal_1_1maglev_1_1RegisterSnapshot.html#ac7f0b7cf76e07aadb9e9f85263f87b2f">v8::internal::maglev::RegisterSnapshot::live_double_registers</a></div><div class="ttdeci">DoubleRegList live_double_registers</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l01864">maglev-ir.h:1864</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1maglev_1_1RegisterStateFlags_html"><div class="ttname"><a href="structv8_1_1internal_1_1maglev_1_1RegisterStateFlags.html">v8::internal::maglev::RegisterStateFlags</a></div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc-data_8h_source.html#l00039">maglev-regalloc-data.h:39</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_1_1SpillSlotInfo_html"><div class="ttname"><a href="structv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_1_1SpillSlotInfo.html">v8::internal::maglev::StraightForwardRegisterAllocator::SpillSlotInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8h_source.html#l00164">maglev-regalloc.h:164</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_1_1SpillSlots_html"><div class="ttname"><a href="structv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_1_1SpillSlots.html">v8::internal::maglev::StraightForwardRegisterAllocator::SpillSlots</a></div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8h_source.html#l00174">maglev-regalloc.h:174</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_1_1SpillSlots_html_a232592367d1ac813c5d334bb36a05069"><div class="ttname"><a href="structv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_1_1SpillSlots.html#a232592367d1ac813c5d334bb36a05069">v8::internal::maglev::StraightForwardRegisterAllocator::SpillSlots::top</a></div><div class="ttdeci">int top</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8h_source.html#l00175">maglev-regalloc.h:175</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_1_1SpillSlots_html_aaf24839b47c6f48017b8cfde988b28e4"><div class="ttname"><a href="structv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_1_1SpillSlots.html#aaf24839b47c6f48017b8cfde988b28e4">v8::internal::maglev::StraightForwardRegisterAllocator::SpillSlots::free_slots</a></div><div class="ttdeci">std::vector&lt; SpillSlotInfo &gt; free_slots</div><div class="ttdef"><b>Definition:</b> <a href="maglev-regalloc_8h_source.html#l00177">maglev-regalloc.h:177</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1maglev_1_1ValueNode_1_1LiveRange_html_a987af3d68b08acc2997a52b9aaf9f1cd"><div class="ttname"><a href="structv8_1_1internal_1_1maglev_1_1ValueNode_1_1LiveRange.html#a987af3d68b08acc2997a52b9aaf9f1cd">v8::internal::maglev::ValueNode::LiveRange::end</a></div><div class="ttdeci">NodeIdT end</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02715">maglev-ir.h:2715</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1maglev_1_1ValueNode_1_1LiveRange_html_affc65f1ee43754757176efe9cc676e74"><div class="ttname"><a href="structv8_1_1internal_1_1maglev_1_1ValueNode_1_1LiveRange.html#affc65f1ee43754757176efe9cc676e74">v8::internal::maglev::ValueNode::LiveRange::start</a></div><div class="ttdeci">NodeIdT start</div><div class="ttdef"><b>Definition:</b> <a href="maglev-ir_8h_source.html#l02714">maglev-ir.h:2714</a></div></div>
<div class="ttc" id="azone-containers_8h_html"><div class="ttname"><a href="zone-containers_8h.html">zone-containers.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_19225156eb7ba052e31d1a736469917a.html">mnt</a></li><li class="navelem"><a class="el" href="dir_3536f6d353061322e9ef91134b76e9ed.html">V8SourceCode</a></li><li class="navelem"><a class="el" href="dir_fbd53c45610d490c9fb8d0716db4e3a3.html">src</a></li><li class="navelem"><a class="el" href="dir_1f9798a3bbecbcaf2dbd2ad1ed3a409c.html">maglev</a></li><li class="navelem"><a class="el" href="maglev-regalloc_8cc.html">maglev-regalloc.cc</a></li>
    <li class="footer">Generated on Thu Jun 12 2025 15:59:28 for V8 Project by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
