<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>V8 Project: v8::internal::WasmJs Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">V8 Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classv8_1_1internal_1_1WasmJs.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="classv8_1_1internal_1_1WasmJs-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">v8::internal::WasmJs Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="wasm-js_8h_source.html">wasm-js.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for v8::internal::WasmJs:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1WasmJs__coll__graph.svg" width="266" height="206"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ad9d30fdd56a8c38868338f9635ca9be9"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="src_2base_2macros_8h.html#ab08e353943a53678ac6baafc678f2d81">V8_EXPORT_PRIVATE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1WasmJs.html#ad9d30fdd56a8c38868338f9635ca9be9">PrepareForSnapshot</a> (<a class="el" href="classv8_1_1internal_1_1Isolate.html">Isolate</a> *isolate)</td></tr>
<tr class="separator:ad9d30fdd56a8c38868338f9635ca9be9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81b37ed8690edccff511f1f75c28d29d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="src_2base_2macros_8h.html#ab08e353943a53678ac6baafc678f2d81">V8_EXPORT_PRIVATE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1WasmJs.html#a81b37ed8690edccff511f1f75c28d29d">Install</a> (<a class="el" href="classv8_1_1internal_1_1Isolate.html">Isolate</a> *isolate)</td></tr>
<tr class="separator:a81b37ed8690edccff511f1f75c28d29d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa134bf6e4548150cc2c12469ecd5bcb0"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="src_2base_2macros_8h.html#ab08e353943a53678ac6baafc678f2d81">V8_EXPORT_PRIVATE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1WasmJs.html#aa134bf6e4548150cc2c12469ecd5bcb0">InstallConditionalFeatures</a> (<a class="el" href="classv8_1_1internal_1_1Isolate.html">Isolate</a> *isolate, <a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1NativeContext.html">NativeContext</a> &gt; context)</td></tr>
<tr class="separator:aa134bf6e4548150cc2c12469ecd5bcb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a2a0940bc2fcba99ed44657a4aa83db24"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="src_2base_2macros_8h.html#ab08e353943a53678ac6baafc678f2d81">V8_EXPORT_PRIVATE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1WasmJs.html#a2a0940bc2fcba99ed44657a4aa83db24">InstallModule</a> (<a class="el" href="classv8_1_1internal_1_1Isolate.html">Isolate</a> *isolate, <a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1JSObject.html">JSObject</a> &gt; webassembly)</td></tr>
<tr class="separator:a2a0940bc2fcba99ed44657a4aa83db24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e5abad388c39e337ce049e8fd94184f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="src_2base_2macros_8h.html#ab08e353943a53678ac6baafc678f2d81">V8_EXPORT_PRIVATE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1WasmJs.html#a9e5abad388c39e337ce049e8fd94184f">InstallMemoryControl</a> (<a class="el" href="classv8_1_1internal_1_1Isolate.html">Isolate</a> *isolate, <a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1NativeContext.html">NativeContext</a> &gt; context, <a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1JSObject.html">JSObject</a> &gt; webassembly)</td></tr>
<tr class="separator:a9e5abad388c39e337ce049e8fd94184f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d48e1db9cb027ddf92cd6dcfb0f7779"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="src_2base_2macros_8h.html#ab08e353943a53678ac6baafc678f2d81">V8_EXPORT_PRIVATE</a> <a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1WasmJs.html#a9d48e1db9cb027ddf92cd6dcfb0f7779">InstallTypeReflection</a> (<a class="el" href="classv8_1_1internal_1_1Isolate.html">Isolate</a> *isolate, <a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1NativeContext.html">NativeContext</a> &gt; context, <a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1JSObject.html">JSObject</a> &gt; webassembly)</td></tr>
<tr class="separator:a9d48e1db9cb027ddf92cd6dcfb0f7779"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7180b759209d4540ac7339cd21e399f9"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="src_2base_2macros_8h.html#ab08e353943a53678ac6baafc678f2d81">V8_EXPORT_PRIVATE</a> <a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1WasmJs.html#a7180b759209d4540ac7339cd21e399f9">InstallJSPromiseIntegration</a> (<a class="el" href="classv8_1_1internal_1_1Isolate.html">Isolate</a> *isolate, <a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1NativeContext.html">NativeContext</a> &gt; context, <a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1JSObject.html">JSObject</a> &gt; webassembly)</td></tr>
<tr class="separator:a7180b759209d4540ac7339cd21e399f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8458346588cd4044c146ac959e35097"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="src_2base_2macros_8h.html#ab08e353943a53678ac6baafc678f2d81">V8_EXPORT_PRIVATE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1WasmJs.html#ad8458346588cd4044c146ac959e35097">InstallResizableBufferIntegration</a> (<a class="el" href="classv8_1_1internal_1_1Isolate.html">Isolate</a> *isolate, <a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1NativeContext.html">NativeContext</a> &gt; context, <a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1JSObject.html">JSObject</a> &gt; webassembly)</td></tr>
<tr class="separator:ad8458346588cd4044c146ac959e35097"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a371852143858f45b5f54e6222f8ae084"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="src_2base_2macros_8h.html#ab08e353943a53678ac6baafc678f2d81">V8_EXPORT_PRIVATE</a> <a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1WasmJs.html#a371852143858f45b5f54e6222f8ae084">InstallCustomDescriptors</a> (<a class="el" href="classv8_1_1internal_1_1Isolate.html">Isolate</a> *isolate, <a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1NativeContext.html">NativeContext</a> &gt; context, <a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1JSObject.html">JSObject</a> &gt; webassembly)</td></tr>
<tr class="separator:a371852143858f45b5f54e6222f8ae084"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="wasm-js_8h_source.html#l00072">72</a> of file <a class="el" href="wasm-js_8h_source.html">wasm-js.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a81b37ed8690edccff511f1f75c28d29d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81b37ed8690edccff511f1f75c28d29d">&#9670;&nbsp;</a></span>Install()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void v8::internal::WasmJs::Install </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1Isolate.html">Isolate</a> *&#160;</td>
          <td class="paramname"><em>isolate</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l03639">3639</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l03639"></a><span class="lineno"> 3639</span>&#160;                                     {</div>
<div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;  DirectHandle&lt;JSGlobalObject&gt; global = isolate-&gt;global_object();</div>
<div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160;  DirectHandle&lt;NativeContext&gt; <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>(global-&gt;native_context(), isolate);</div>
<div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160; </div>
<div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>-&gt;is_wasm_js_installed() != <a class="code" href="classv8_1_1internal_1_1Smi.html#a5386e0cc44bcfd6a13c8481b95f5652f">Smi::zero</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>-&gt;set_is_wasm_js_installed(<a class="code" href="classv8_1_1internal_1_1Smi.html#afe7f07102d90ccce48cbe677c88a0645">Smi::FromInt</a>(1));</div>
<div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160; </div>
<div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160;  <span class="comment">// We always use the WebAssembly object from the native context; as this code</span></div>
<div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;  <span class="comment">// is executed before any user code, this is expected to be the same as the</span></div>
<div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160;  <span class="comment">// global &quot;WebAssembly&quot; property. But even later during execution we always</span></div>
<div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160;  <span class="comment">// want to use this preallocated object instead of whatever user code</span></div>
<div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160;  <span class="comment">// installed as &quot;WebAssembly&quot; property.</span></div>
<div class="line"><a name="l03651"></a><span class="lineno"> 3651</span>&#160;  DirectHandle&lt;JSObject&gt; webassembly(<a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>-&gt;wasm_webassembly_object(),</div>
<div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160;                                     isolate);</div>
<div class="line"><a name="l03653"></a><span class="lineno"> 3653</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.js_source_phase_imports) {</div>
<div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;    <span class="comment">// Reinstall the Module object with the experimental interface.</span></div>
<div class="line"><a name="l03655"></a><span class="lineno"> 3655</span>&#160;    <a class="code" href="classv8_1_1internal_1_1WasmJs.html#a2a0940bc2fcba99ed44657a4aa83db24">InstallModule</a>(isolate, webassembly);</div>
<div class="line"><a name="l03656"></a><span class="lineno"> 3656</span>&#160;  }</div>
<div class="line"><a name="l03657"></a><span class="lineno"> 3657</span>&#160; </div>
<div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160;  <span class="comment">// Expose the API on the global object if not in jitless mode (with more</span></div>
<div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160;  <span class="comment">// subtleties).</span></div>
<div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l03661"></a><span class="lineno"> 3661</span>&#160;  <span class="comment">// Even in interpreter-only mode, wasm currently still creates executable</span></div>
<div class="line"><a name="l03662"></a><span class="lineno"> 3662</span>&#160;  <span class="comment">// memory at runtime. Unexpose wasm until this changes.</span></div>
<div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;  <span class="comment">// The correctness fuzzers are a special case: many of their test cases are</span></div>
<div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160;  <span class="comment">// built by fetching a random property from the the global object, and thus</span></div>
<div class="line"><a name="l03665"></a><span class="lineno"> 3665</span>&#160;  <span class="comment">// the global object layout must not change between configs. That is why we</span></div>
<div class="line"><a name="l03666"></a><span class="lineno"> 3666</span>&#160;  <span class="comment">// continue exposing wasm on correctness fuzzers even in jitless mode.</span></div>
<div class="line"><a name="l03667"></a><span class="lineno"> 3667</span>&#160;  <span class="comment">// TODO(jgruber): Remove this once / if wasm can run without executable</span></div>
<div class="line"><a name="l03668"></a><span class="lineno"> 3668</span>&#160;  <span class="comment">// memory.</span></div>
<div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160;  <span class="keywordtype">bool</span> expose_wasm = !<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.jitless ||</div>
<div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160;                     <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.correctness_fuzzer_suppressions ||</div>
<div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160;                     <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.wasm_jitless;</div>
<div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;  <span class="keywordflow">if</span> (expose_wasm) {</div>
<div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160;    DirectHandle&lt;String&gt; WebAssembly_string = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate, <span class="stringliteral">&quot;WebAssembly&quot;</span>);</div>
<div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160;    <a class="code" href="classv8_1_1internal_1_1JSObject.html#a16c9b19de5218c056da014960fba72ae">JSObject::AddProperty</a>(isolate, global, WebAssembly_string, webassembly,</div>
<div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160;                          <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a7a681885f7c5656b01ef8ba9f9bde868">DONT_ENUM</a>);</div>
<div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160;  }</div>
<div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160; </div>
<div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;  {</div>
<div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160;    <span class="comment">// Reset the JSTag&#39;s canonical_type_index based on this Isolate&#39;s</span></div>
<div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160;    <span class="comment">// type_canonicalizer.</span></div>
<div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160;    DirectHandle&lt;WasmTagObject&gt; js_tag_object(</div>
<div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;        Cast&lt;WasmTagObject&gt;(<a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>-&gt;wasm_js_tag()), isolate);</div>
<div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;    js_tag_object-&gt;set_canonical_type_index(</div>
<div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;        <a class="code" href="namespacev8_1_1internal_1_1wasm.html#abc12fc3b25ebfb54c20b8479642acb94">wasm::GetWasmEngine</a>()</div>
<div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160;            -&gt;type_canonicalizer()</div>
<div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160;            -&gt;AddRecursiveGroup(&amp;<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a8412b6f26abd7ea8cbf5f65b0481eaad">kWasmExceptionTagSignature</a>)</div>
<div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160;            .<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>);</div>
<div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;  }</div>
<div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160; </div>
<div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_test_streaming) {</div>
<div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;    isolate-&gt;set_wasm_streaming_callback(<a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a2736eaaacaa0f666c3ecc732a6f740ea">WasmStreamingCallbackForTesting</a>);</div>
<div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;  }</div>
<div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160; </div>
<div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;  <span class="keywordflow">if</span> (isolate-&gt;wasm_streaming_callback() != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, webassembly, <span class="stringliteral">&quot;compileStreaming&quot;</span>,</div>
<div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;                <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ab23e73fb88240f64540fadc2c56c93a1">WebAssemblyCompileStreaming</a>, 1);</div>
<div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, webassembly, <span class="stringliteral">&quot;instantiateStreaming&quot;</span>,</div>
<div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;                <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ae46de88e70ad47716f44e4bb74c8b44d">WebAssemblyInstantiateStreaming</a>, 1);</div>
<div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160;  }</div>
<div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160; </div>
<div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160;  <span class="comment">// The native_context is not set up completely yet. That&#39;s why we cannot use</span></div>
<div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;  <span class="comment">// {WasmEnabledFeatures::FromIsolate} and have to use</span></div>
<div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;  <span class="comment">// {WasmEnabledFeatures::FromFlags} instead.</span></div>
<div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> enabled_features = <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmEnabledFeatures.html#a85a0cab3c866e2476d9fab9504bf5e0b">wasm::WasmEnabledFeatures::FromFlags</a>();</div>
<div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160; </div>
<div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160;  <span class="keywordflow">if</span> (enabled_features.has_type_reflection()) {</div>
<div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;    <a class="code" href="classv8_1_1internal_1_1WasmJs.html#a9d48e1db9cb027ddf92cd6dcfb0f7779">InstallTypeReflection</a>(isolate, <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>, webassembly);</div>
<div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;  }</div>
<div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160; </div>
<div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;  <span class="keywordflow">if</span> (enabled_features.has_memory_control()) {</div>
<div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;    <a class="code" href="classv8_1_1internal_1_1WasmJs.html#a9e5abad388c39e337ce049e8fd94184f">InstallMemoryControl</a>(isolate, <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>, webassembly);</div>
<div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;  }</div>
<div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160; </div>
<div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160;  <span class="keywordflow">if</span> (enabled_features.has_custom_descriptors()) {</div>
<div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;    <a class="code" href="classv8_1_1internal_1_1WasmJs.html#a371852143858f45b5f54e6222f8ae084">InstallCustomDescriptors</a>(isolate, <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>, webassembly);</div>
<div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;  }</div>
<div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160; </div>
<div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160;  <span class="comment">// Initialize and install JSPI feature.</span></div>
<div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;  <span class="keywordflow">if</span> (enabled_features.has_jspi()) {</div>
<div class="line"><a name="l03720"></a><span class="lineno"> 3720</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>-&gt;is_wasm_jspi_installed() == <a class="code" href="classv8_1_1internal_1_1Smi.html#a5386e0cc44bcfd6a13c8481b95f5652f">Smi::zero</a>());</div>
<div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;    isolate-&gt;WasmInitJSPIFeature();</div>
<div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160;    <a class="code" href="classv8_1_1internal_1_1WasmJs.html#a7180b759209d4540ac7339cd21e399f9">InstallJSPromiseIntegration</a>(isolate, <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>, webassembly);</div>
<div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>-&gt;set_is_wasm_jspi_installed(<a class="code" href="classv8_1_1internal_1_1Smi.html#afe7f07102d90ccce48cbe677c88a0645">Smi::FromInt</a>(1));</div>
<div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.stress_wasm_stack_switching) {</div>
<div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;    <span class="comment">// Set up the JSPI objects necessary for stress-testing stack-switching, but</span></div>
<div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;    <span class="comment">// don&#39;t install WebAssembly.promising and WebAssembly.Suspending.</span></div>
<div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;    isolate-&gt;WasmInitJSPIFeature();</div>
<div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;  }</div>
<div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160; </div>
<div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;  <span class="keywordflow">if</span> (enabled_features.has_rab_integration()) {</div>
<div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;    <a class="code" href="classv8_1_1internal_1_1WasmJs.html#ad8458346588cd4044c146ac959e35097">InstallResizableBufferIntegration</a>(isolate, <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>, webassembly);</div>
<div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;  }</div>
<div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSObject_html_a16c9b19de5218c056da014960fba72ae"><div class="ttname"><a href="classv8_1_1internal_1_1JSObject.html#a16c9b19de5218c056da014960fba72ae">v8::internal::JSObject::AddProperty</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE void AddProperty(Isolate *isolate, DirectHandle&lt; JSObject &gt; object, DirectHandle&lt; Name &gt; name, DirectHandle&lt; Object &gt; value, PropertyAttributes attributes)</div><div class="ttdef"><b>Definition:</b> <a href="js-objects_8cc_source.html#l03634">js-objects.cc:3634</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Smi_html_a5386e0cc44bcfd6a13c8481b95f5652f"><div class="ttname"><a href="classv8_1_1internal_1_1Smi.html#a5386e0cc44bcfd6a13c8481b95f5652f">v8::internal::Smi::zero</a></div><div class="ttdeci">static constexpr Tagged&lt; Smi &gt; zero()</div><div class="ttdef"><b>Definition:</b> <a href="smi_8h_source.html#l00099">smi.h:99</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Smi_html_afe7f07102d90ccce48cbe677c88a0645"><div class="ttname"><a href="classv8_1_1internal_1_1Smi.html#afe7f07102d90ccce48cbe677c88a0645">v8::internal::Smi::FromInt</a></div><div class="ttdeci">static constexpr Tagged&lt; Smi &gt; FromInt(int value)</div><div class="ttdef"><b>Definition:</b> <a href="smi_8h_source.html#l00038">smi.h:38</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmJs_html_a2a0940bc2fcba99ed44657a4aa83db24"><div class="ttname"><a href="classv8_1_1internal_1_1WasmJs.html#a2a0940bc2fcba99ed44657a4aa83db24">v8::internal::WasmJs::InstallModule</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE void InstallModule(Isolate *isolate, DirectHandle&lt; JSObject &gt; webassembly)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l03582">wasm-js.cc:3582</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmJs_html_a371852143858f45b5f54e6222f8ae084"><div class="ttname"><a href="classv8_1_1internal_1_1WasmJs.html#a371852143858f45b5f54e6222f8ae084">v8::internal::WasmJs::InstallCustomDescriptors</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE bool InstallCustomDescriptors(Isolate *isolate, DirectHandle&lt; NativeContext &gt; context, DirectHandle&lt; JSObject &gt; webassembly)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l03800">wasm-js.cc:3800</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmJs_html_a7180b759209d4540ac7339cd21e399f9"><div class="ttname"><a href="classv8_1_1internal_1_1WasmJs.html#a7180b759209d4540ac7339cd21e399f9">v8::internal::WasmJs::InstallJSPromiseIntegration</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE bool InstallJSPromiseIntegration(Isolate *isolate, DirectHandle&lt; NativeContext &gt; context, DirectHandle&lt; JSObject &gt; webassembly)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l03766">wasm-js.cc:3766</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmJs_html_a9d48e1db9cb027ddf92cd6dcfb0f7779"><div class="ttname"><a href="classv8_1_1internal_1_1WasmJs.html#a9d48e1db9cb027ddf92cd6dcfb0f7779">v8::internal::WasmJs::InstallTypeReflection</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE bool InstallTypeReflection(Isolate *isolate, DirectHandle&lt; NativeContext &gt; context, DirectHandle&lt; JSObject &gt; webassembly)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l03847">wasm-js.cc:3847</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmJs_html_a9e5abad388c39e337ce049e8fd94184f"><div class="ttname"><a href="classv8_1_1internal_1_1WasmJs.html#a9e5abad388c39e337ce049e8fd94184f">v8::internal::WasmJs::InstallMemoryControl</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE void InstallMemoryControl(Isolate *isolate, DirectHandle&lt; NativeContext &gt; context, DirectHandle&lt; JSObject &gt; webassembly)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l03821">wasm-js.cc:3821</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmJs_html_ad8458346588cd4044c146ac959e35097"><div class="ttname"><a href="classv8_1_1internal_1_1WasmJs.html#ad8458346588cd4044c146ac959e35097">v8::internal::WasmJs::InstallResizableBufferIntegration</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE void InstallResizableBufferIntegration(Isolate *isolate, DirectHandle&lt; NativeContext &gt; context, DirectHandle&lt; JSObject &gt; webassembly)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l03932">wasm-js.cc:3932</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmEnabledFeatures_html_a85a0cab3c866e2476d9fab9504bf5e0b"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmEnabledFeatures.html#a85a0cab3c866e2476d9fab9504bf5e0b">v8::internal::wasm::WasmEnabledFeatures::FromFlags</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE WasmEnabledFeatures FromFlags()</div><div class="ttdef"><b>Definition:</b> <a href="wasm-features_8cc_source.html#l00017">wasm-features.cc:17</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_a2736eaaacaa0f666c3ecc732a6f740ea"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a2736eaaacaa0f666c3ecc732a6f740ea">v8::anonymous_namespace{wasm-js.cc}::WasmStreamingCallbackForTesting</a></div><div class="ttdeci">void WasmStreamingCallbackForTesting(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00756">wasm-js.cc:756</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_ab23e73fb88240f64540fadc2c56c93a1"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ab23e73fb88240f64540fadc2c56c93a1">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyCompileStreaming</a></div><div class="ttdeci">void WebAssemblyCompileStreaming(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00863">wasm-js.cc:863</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_ae46de88e70ad47716f44e4bb74c8b44d"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ae46de88e70ad47716f44e4bb74c8b44d">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyInstantiateStreaming</a></div><div class="ttdeci">void WebAssemblyInstantiateStreaming(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l01124">wasm-js.cc:1124</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_afbd7b4cf0e6b2f3d52780122edc1d105"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8::anonymous_namespace{wasm-js.cc}::v8_str</a></div><div class="ttdeci">Local&lt; String &gt; v8_str(Isolate *isolate, const char *str)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00177">wasm-js.cc:177</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_html_a740601b207b1b3d64b63a868ea598ba6"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">v8::internal::anonymous_namespace{wasm-js.cc}::InstallFunc</a></div><div class="ttdeci">DirectHandle&lt; JSFunction &gt; InstallFunc(Isolate *isolate, DirectHandle&lt; JSObject &gt; object, const char *str, FunctionCallback func, int length, bool has_prototype=false, PropertyAttributes attributes=NONE, SideEffectType side_effect_type=SideEffectType::kHasSideEffect)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l03313">wasm-js.cc:3313</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_html_a8412b6f26abd7ea8cbf5f65b0481eaad"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a8412b6f26abd7ea8cbf5f65b0481eaad">v8::internal::anonymous_namespace{wasm-js.cc}::kWasmExceptionTagSignature</a></div><div class="ttdeci">constexpr wasm::FunctionSig kWasmExceptionTagSignature</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l03408">wasm-js.cc:3408</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_abc12fc3b25ebfb54c20b8479642acb94"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#abc12fc3b25ebfb54c20b8479642acb94">v8::internal::wasm::GetWasmEngine</a></div><div class="ttdeci">WasmEngine * GetWasmEngine()</div><div class="ttdef"><b>Definition:</b> <a href="wasm-engine_8cc_source.html#l02125">wasm-engine.cc:2125</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a0cfab207d565dcf62ebf50f3987e05de"><div class="ttname"><a href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">v8::internal::index</a></div><div class="ttdeci">int index</div><div class="ttdef"><b>Definition:</b> <a href="heap-snapshot-generator_8cc_source.html#l01698">heap-snapshot-generator.cc:1698</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a352f65439007f2f1b85c997c1ba11436a7a681885f7c5656b01ef8ba9f9bde868"><div class="ttname"><a href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a7a681885f7c5656b01ef8ba9f9bde868">v8::internal::DONT_ENUM</a></div><div class="ttdeci">@ DONT_ENUM</div><div class="ttdef"><b>Definition:</b> <a href="property-details_8h_source.html#l00021">property-details.h:21</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa9db791c05a0359859a321dcfec42e37"><div class="ttname"><a href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a></div><div class="ttdeci">V8_EXPORT_PRIVATE FlagValues v8_flags</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_afe601ad9b4b4c61d8a6a700e7db12c2a"><div class="ttname"><a href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">v8::internal::native_context</a></div><div class="ttdeci">!IsContextMap !IsContextMap native_context</div><div class="ttdef"><b>Definition:</b> <a href="map-inl_8h_source.html#l00896">map-inl.h:896</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a3e1cfef60e774a81f30eaddf26a3a274"><div class="ttname"><a href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a></div><div class="ttdeci">#define CHECK(condition)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00124">logging.h:124</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="src_2base_2logging_8h_source.html#l00124">CHECK</a>, <a class="el" href="property-details_8h_source.html#l00021">v8::internal::DONT_ENUM</a>, <a class="el" href="wasm-engine_8cc_source.html#l02125">v8::internal::wasm::GetWasmEngine()</a>, <a class="el" href="execution_2isolate-inl_8h_source.html#l00211">v8::internal::Isolate::global_object()</a>, <a class="el" href="heap-snapshot-generator_8cc_source.html#l01698">v8::internal::index</a>, <a class="el" href="wasm-js_8cc_source.html#l03313">v8::internal::anonymous_namespace{wasm-js.cc}::InstallFunc()</a>, <a class="el" href="wasm-js_8cc_source.html#l03408">v8::internal::anonymous_namespace{wasm-js.cc}::kWasmExceptionTagSignature</a>, <a class="el" href="map-inl_8h_source.html#l00896">v8::internal::native_context</a>, <a class="el" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a>, <a class="el" href="wasm-js_8cc_source.html#l00177">v8::anonymous_namespace{wasm-js.cc}::v8_str()</a>, <a class="el" href="wasm-js_8cc_source.html#l00756">v8::anonymous_namespace{wasm-js.cc}::WasmStreamingCallbackForTesting()</a>, <a class="el" href="wasm-js_8cc_source.html#l00863">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyCompileStreaming()</a>, <a class="el" href="wasm-js_8cc_source.html#l01124">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyInstantiateStreaming()</a>, and <a class="el" href="assembler-ia32_8h_source.html#l00079">v8::internal::zero</a>.</p>

<p class="reference">Referenced by <a class="el" href="bootstrapper_8cc_source.html#l06520">v8::internal::Genesis::InstallSpecialObjects()</a>.</p>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1WasmJs_a81b37ed8690edccff511f1f75c28d29d_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1WasmJs_a81b37ed8690edccff511f1f75c28d29d_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="aa134bf6e4548150cc2c12469ecd5bcb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa134bf6e4548150cc2c12469ecd5bcb0">&#9670;&nbsp;</a></span>InstallConditionalFeatures()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void v8::internal::WasmJs::InstallConditionalFeatures </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1Isolate.html">Isolate</a> *&#160;</td>
          <td class="paramname"><em>isolate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1NativeContext.html">NativeContext</a> &gt;&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l03736">3736</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;                                                                             {</div>
<div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;  DirectHandle&lt;JSObject&gt; webassembly{context-&gt;wasm_webassembly_object(),</div>
<div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160;                                     isolate};</div>
<div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160;  <span class="keywordflow">if</span> (!webassembly-&gt;map()-&gt;is_extensible()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160;  <span class="keywordflow">if</span> (webassembly-&gt;map()-&gt;is_access_check_needed()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160; </div>
<div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160;  <span class="comment">// If you need to install some optional features, follow the pattern:</span></div>
<div class="line"><a name="l03744"></a><span class="lineno"> 3744</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160;  <span class="comment">// if (isolate-&gt;IsMyWasmFeatureEnabled(context)) {</span></div>
<div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160;  <span class="comment">//   DirectHandle&lt;String&gt; feature = isolate-&gt;factory()-&gt;...;</span></div>
<div class="line"><a name="l03747"></a><span class="lineno"> 3747</span>&#160;  <span class="comment">//   if (!JSObject::HasRealNamedProperty(isolate, webassembly, feature)</span></div>
<div class="line"><a name="l03748"></a><span class="lineno"> 3748</span>&#160;  <span class="comment">//            .FromMaybe(true)) {</span></div>
<div class="line"><a name="l03749"></a><span class="lineno"> 3749</span>&#160;  <span class="comment">//     InstallFeature(isolate, webassembly);</span></div>
<div class="line"><a name="l03750"></a><span class="lineno"> 3750</span>&#160;  <span class="comment">//   }</span></div>
<div class="line"><a name="l03751"></a><span class="lineno"> 3751</span>&#160;  <span class="comment">// }</span></div>
<div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160; </div>
<div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160;  <span class="comment">// Install JSPI-related features.</span></div>
<div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160;  <span class="keywordflow">if</span> (isolate-&gt;IsWasmJSPIRequested(context)) {</div>
<div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;    <span class="keywordflow">if</span> (context-&gt;is_wasm_jspi_installed() == <a class="code" href="classv8_1_1internal_1_1Smi.html#a5386e0cc44bcfd6a13c8481b95f5652f">Smi::zero</a>()) {</div>
<div class="line"><a name="l03756"></a><span class="lineno"> 3756</span>&#160;      isolate-&gt;WasmInitJSPIFeature();</div>
<div class="line"><a name="l03757"></a><span class="lineno"> 3757</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1WasmJs.html#a7180b759209d4540ac7339cd21e399f9">InstallJSPromiseIntegration</a>(isolate, context, webassembly)) {</div>
<div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160;        context-&gt;set_is_wasm_jspi_installed(<a class="code" href="classv8_1_1internal_1_1Smi.html#afe7f07102d90ccce48cbe677c88a0645">Smi::FromInt</a>(1));</div>
<div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160;      }</div>
<div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160;    }</div>
<div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;  }</div>
<div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="isolate_8cc_source.html#l03742">v8::internal::Isolate::IsWasmJSPIRequested()</a>, and <a class="el" href="assembler-ia32_8h_source.html#l00079">v8::internal::zero</a>.</p>

<p class="reference">Referenced by <a class="el" href="api_8cc_source.html#l10790">v8::CALLBACK_SETTER()</a>.</p>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1WasmJs_aa134bf6e4548150cc2c12469ecd5bcb0_cgraph.svg" width="630" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1WasmJs_aa134bf6e4548150cc2c12469ecd5bcb0_icgraph.svg" width="430" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a371852143858f45b5f54e6222f8ae084"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a371852143858f45b5f54e6222f8ae084">&#9670;&nbsp;</a></span>InstallCustomDescriptors()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a> v8::internal::WasmJs::InstallCustomDescriptors </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1Isolate.html">Isolate</a> *&#160;</td>
          <td class="paramname"><em>isolate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1NativeContext.html">NativeContext</a> &gt;&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1JSObject.html">JSObject</a> &gt;&#160;</td>
          <td class="paramname"><em>webassembly</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l03800">3800</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160;                                                                          {</div>
<div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160;  DirectHandle&lt;String&gt; descriptor_options_string =</div>
<div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate, <span class="stringliteral">&quot;DescriptorOptions&quot;</span>);</div>
<div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1JSObject.html#ad849a19f28b2c66491314930e1ba3f31">JSObject::HasRealNamedProperty</a>(isolate, webassembly,</div>
<div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;                                     descriptor_options_string)</div>
<div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;          .FromMaybe(<span class="keyword">true</span>)) {</div>
<div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03809"></a><span class="lineno"> 3809</span>&#160;  }</div>
<div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160;  DirectHandle&lt;JSFunction&gt; descriptor_options_constructor =</div>
<div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#aba01530f130336b4b5dfcef830115757">InstallConstructorFunc</a>(isolate, webassembly, <span class="stringliteral">&quot;DescriptorOptions&quot;</span>,</div>
<div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;                             <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a22e798f57b4d736ad3f5c535c380864d">WebAssemblyDescriptorOptionsImpl</a>);</div>
<div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;  context-&gt;set_wasm_descriptor_options_constructor(</div>
<div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160;      *descriptor_options_constructor);</div>
<div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#abfcc6ebe00bd232418d95a28859011bc">SetupConstructor</a>(</div>
<div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;      isolate, descriptor_options_constructor, WASM_DESCRIPTOR_OPTIONS_TYPE,</div>
<div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;      WasmDescriptorOptions::kHeaderSize, <span class="stringliteral">&quot;WebAssembly.DescriptorOptions&quot;</span>);</div>
<div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSObject_html_ad849a19f28b2c66491314930e1ba3f31"><div class="ttname"><a href="classv8_1_1internal_1_1JSObject.html#ad849a19f28b2c66491314930e1ba3f31">v8::internal::JSObject::HasRealNamedProperty</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT Maybe&lt; bool &gt; HasRealNamedProperty(Isolate *isolate, DirectHandle&lt; JSObject &gt; object, DirectHandle&lt; Name &gt; name)</div><div class="ttdef"><b>Definition:</b> <a href="js-objects_8cc_source.html#l05647">js-objects.cc:5647</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_a22e798f57b4d736ad3f5c535c380864d"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a22e798f57b4d736ad3f5c535c380864d">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyDescriptorOptionsImpl</a></div><div class="ttdeci">void WebAssemblyDescriptorOptionsImpl(const FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l02461">wasm-js.cc:2461</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_html_aba01530f130336b4b5dfcef830115757"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#aba01530f130336b4b5dfcef830115757">v8::internal::anonymous_namespace{wasm-js.cc}::InstallConstructorFunc</a></div><div class="ttdeci">DirectHandle&lt; JSFunction &gt; InstallConstructorFunc(Isolate *isolate, DirectHandle&lt; JSObject &gt; object, const char *str, FunctionCallback func)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l03323">wasm-js.cc:3323</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_html_abfcc6ebe00bd232418d95a28859011bc"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#abfcc6ebe00bd232418d95a28859011bc">v8::internal::anonymous_namespace{wasm-js.cc}::SetupConstructor</a></div><div class="ttdeci">DirectHandle&lt; JSObject &gt; SetupConstructor(Isolate *isolate, DirectHandle&lt; JSFunction &gt; constructor, InstanceType instance_type, int instance_size, const char *name=nullptr, int in_object_properties=0)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l03381">wasm-js.cc:3381</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-js_8cc_source.html#l03323">v8::internal::anonymous_namespace{wasm-js.cc}::InstallConstructorFunc()</a>, <a class="el" href="wasm-js_8cc_source.html#l03381">v8::internal::anonymous_namespace{wasm-js.cc}::SetupConstructor()</a>, <a class="el" href="wasm-js_8cc_source.html#l00177">v8::anonymous_namespace{wasm-js.cc}::v8_str()</a>, and <a class="el" href="wasm-js_8cc_source.html#l02461">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyDescriptorOptionsImpl()</a>.</p>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1WasmJs_a371852143858f45b5f54e6222f8ae084_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a7180b759209d4540ac7339cd21e399f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7180b759209d4540ac7339cd21e399f9">&#9670;&nbsp;</a></span>InstallJSPromiseIntegration()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a> v8::internal::WasmJs::InstallJSPromiseIntegration </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1Isolate.html">Isolate</a> *&#160;</td>
          <td class="paramname"><em>isolate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1NativeContext.html">NativeContext</a> &gt;&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1JSObject.html">JSObject</a> &gt;&#160;</td>
          <td class="paramname"><em>webassembly</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l03766">3766</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;                                                                             {</div>
<div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;  DirectHandle&lt;String&gt; suspender_string = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate, <span class="stringliteral">&quot;Suspender&quot;</span>);</div>
<div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1JSObject.html#ad849a19f28b2c66491314930e1ba3f31">JSObject::HasRealNamedProperty</a>(isolate, webassembly, suspender_string)</div>
<div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;          .FromMaybe(<span class="keyword">true</span>)) {</div>
<div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;  }</div>
<div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;  DirectHandle&lt;String&gt; suspending_string = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate, <span class="stringliteral">&quot;Suspending&quot;</span>);</div>
<div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1JSObject.html#ad849a19f28b2c66491314930e1ba3f31">JSObject::HasRealNamedProperty</a>(isolate, webassembly, suspending_string)</div>
<div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160;          .FromMaybe(<span class="keyword">true</span>)) {</div>
<div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;  }</div>
<div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160;  DirectHandle&lt;String&gt; promising_string = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate, <span class="stringliteral">&quot;promising&quot;</span>);</div>
<div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1JSObject.html#ad849a19f28b2c66491314930e1ba3f31">JSObject::HasRealNamedProperty</a>(isolate, webassembly, promising_string)</div>
<div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160;          .FromMaybe(<span class="keyword">true</span>)) {</div>
<div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160;  }</div>
<div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160;  DirectHandle&lt;String&gt; suspend_error_string = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate, <span class="stringliteral">&quot;SuspendError&quot;</span>);</div>
<div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1JSObject.html#ad849a19f28b2c66491314930e1ba3f31">JSObject::HasRealNamedProperty</a>(isolate, webassembly, suspend_error_string)</div>
<div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160;          .FromMaybe(<span class="keyword">true</span>)) {</div>
<div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;  }</div>
<div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160;  DirectHandle&lt;JSFunction&gt; suspending_constructor = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#aba01530f130336b4b5dfcef830115757">InstallConstructorFunc</a>(</div>
<div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;      isolate, webassembly, <span class="stringliteral">&quot;Suspending&quot;</span>, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ab0c0a787d5c8f47ec9cd549345c95fad">WebAssemblySuspendingImpl</a>);</div>
<div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160;  context-&gt;set_wasm_suspending_constructor(*suspending_constructor);</div>
<div class="line"><a name="l03792"></a><span class="lineno"> 3792</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#abfcc6ebe00bd232418d95a28859011bc">SetupConstructor</a>(isolate, suspending_constructor, WASM_SUSPENDING_OBJECT_TYPE,</div>
<div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160;                   WasmSuspendingObject::kHeaderSize, <span class="stringliteral">&quot;WebAssembly.Suspending&quot;</span>);</div>
<div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, webassembly, <span class="stringliteral">&quot;promising&quot;</span>, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#af2970aa8c31b970d7b3a7c100d439cf6">WebAssemblyPromising</a>, 1);</div>
<div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#ad6a87719e955c3d58bf7c12a1d33a76f">InstallError</a>(isolate, webassembly, isolate-&gt;factory()-&gt;SuspendError_string(),</div>
<div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160;               Context::WASM_SUSPEND_ERROR_FUNCTION_INDEX);</div>
<div class="line"><a name="l03797"></a><span class="lineno"> 3797</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03798"></a><span class="lineno"> 3798</span>&#160;}</div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_ab0c0a787d5c8f47ec9cd549345c95fad"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ab0c0a787d5c8f47ec9cd549345c95fad">v8::anonymous_namespace{wasm-js.cc}::WebAssemblySuspendingImpl</a></div><div class="ttdeci">void WebAssemblySuspendingImpl(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l02431">wasm-js.cc:2431</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_af2970aa8c31b970d7b3a7c100d439cf6"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#af2970aa8c31b970d7b3a7c100d439cf6">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyPromising</a></div><div class="ttdeci">void WebAssemblyPromising(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l02401">wasm-js.cc:2401</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ad6a87719e955c3d58bf7c12a1d33a76f"><div class="ttname"><a href="namespacev8_1_1internal.html#ad6a87719e955c3d58bf7c12a1d33a76f">v8::internal::InstallError</a></div><div class="ttdeci">void InstallError(Isolate *isolate, DirectHandle&lt; JSObject &gt; global, DirectHandle&lt; String &gt; name, int context_index, Builtin error_constructor, int error_function_length)</div><div class="ttdef"><b>Definition:</b> <a href="bootstrapper_8cc_source.html#l01524">bootstrapper.cc:1524</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="execution_2isolate_8h_source.html#l01553">v8::internal::Isolate::factory()</a>, <a class="el" href="wasm-js_8cc_source.html#l03323">v8::internal::anonymous_namespace{wasm-js.cc}::InstallConstructorFunc()</a>, <a class="el" href="bootstrapper_8cc_source.html#l01524">v8::internal::InstallError()</a>, <a class="el" href="wasm-js_8cc_source.html#l03313">v8::internal::anonymous_namespace{wasm-js.cc}::InstallFunc()</a>, <a class="el" href="wasm-js_8cc_source.html#l03381">v8::internal::anonymous_namespace{wasm-js.cc}::SetupConstructor()</a>, <a class="el" href="wasm-js_8cc_source.html#l00177">v8::anonymous_namespace{wasm-js.cc}::v8_str()</a>, <a class="el" href="wasm-js_8cc_source.html#l02401">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyPromising()</a>, and <a class="el" href="wasm-js_8cc_source.html#l02431">v8::anonymous_namespace{wasm-js.cc}::WebAssemblySuspendingImpl()</a>.</p>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1WasmJs_a7180b759209d4540ac7339cd21e399f9_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a9e5abad388c39e337ce049e8fd94184f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e5abad388c39e337ce049e8fd94184f">&#9670;&nbsp;</a></span>InstallMemoryControl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void v8::internal::WasmJs::InstallMemoryControl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1Isolate.html">Isolate</a> *&#160;</td>
          <td class="paramname"><em>isolate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1NativeContext.html">NativeContext</a> &gt;&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1JSObject.html">JSObject</a> &gt;&#160;</td>
          <td class="paramname"><em>webassembly</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l03821">3821</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;                                                                      {</div>
<div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;  <span class="comment">// Extensibility of the `WebAssembly` object should already have been checked</span></div>
<div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;  <span class="comment">// by the caller.</span></div>
<div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(webassembly-&gt;map()-&gt;is_extensible());</div>
<div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160; </div>
<div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;  DirectHandle&lt;JSFunction&gt; descriptor_constructor =</div>
<div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#aba01530f130336b4b5dfcef830115757">InstallConstructorFunc</a>(isolate, webassembly, <span class="stringliteral">&quot;MemoryMapDescriptor&quot;</span>,</div>
<div class="line"><a name="l03830"></a><span class="lineno"> 3830</span>&#160;                             wasm::WebAssemblyMemoryMapDescriptor);</div>
<div class="line"><a name="l03831"></a><span class="lineno"> 3831</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#abfcc6ebe00bd232418d95a28859011bc">SetupConstructor</a>(</div>
<div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160;      isolate, descriptor_constructor, WASM_MEMORY_MAP_DESCRIPTOR_TYPE,</div>
<div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160;      WasmMemoryMapDescriptor::kHeaderSize, <span class="stringliteral">&quot;WebAssembly.MemoryMapDescriptor&quot;</span>);</div>
<div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;  context-&gt;set_wasm_memory_map_descriptor_constructor(*descriptor_constructor);</div>
<div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160; </div>
<div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160;  DirectHandle&lt;JSObject&gt; descriptor_proto = <a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(</div>
<div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;      Cast&lt;JSObject&gt;(descriptor_constructor-&gt;instance_prototype()), isolate);</div>
<div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160; </div>
<div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, descriptor_proto, <span class="stringliteral">&quot;map&quot;</span>,</div>
<div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;              wasm::WebAssemblyMemoryMapDescriptorMap, 2);</div>
<div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, descriptor_proto, <span class="stringliteral">&quot;unmap&quot;</span>,</div>
<div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160;              wasm::WebAssemblyMemoryMapDescriptorUnmap, 0);</div>
<div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160;}</div>
<div class="ttc" id="anamespacev8_1_1internal_html_a73502f55102d18cb764881bc29f35c05"><div class="ttname"><a href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">v8::internal::direct_handle</a></div><div class="ttdeci">DirectHandle&lt; T &gt; direct_handle(Tagged&lt; T &gt; object, Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="handles-inl_8h_source.html#l00143">handles-inl.h:143</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa6b3743bd5d773c552654f2a6c3efa4a"><div class="ttname"><a href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK</a></div><div class="ttdeci">DCHECK(IsNull(value)||IsNativeContext(value)||value==Smi::uninitialized_deserialization_value())</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="src_2base_2logging_8h_source.html#l00481">DCHECK</a>, <a class="el" href="handles-inl_8h_source.html#l00143">v8::internal::direct_handle()</a>, <a class="el" href="wasm-js_8cc_source.html#l03323">v8::internal::anonymous_namespace{wasm-js.cc}::InstallConstructorFunc()</a>, <a class="el" href="wasm-js_8cc_source.html#l03313">v8::internal::anonymous_namespace{wasm-js.cc}::InstallFunc()</a>, and <a class="el" href="wasm-js_8cc_source.html#l03381">v8::internal::anonymous_namespace{wasm-js.cc}::SetupConstructor()</a>.</p>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1WasmJs_a9e5abad388c39e337ce049e8fd94184f_cgraph.svg" width="100%" height="589"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a2a0940bc2fcba99ed44657a4aa83db24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a0940bc2fcba99ed44657a4aa83db24">&#9670;&nbsp;</a></span>InstallModule()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void v8::internal::WasmJs::InstallModule </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1Isolate.html">Isolate</a> *&#160;</td>
          <td class="paramname"><em>isolate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1JSObject.html">JSObject</a> &gt;&#160;</td>
          <td class="paramname"><em>webassembly</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l03582">3582</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;                                                               {</div>
<div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160;  DirectHandle&lt;JSGlobalObject&gt; global = isolate-&gt;global_object();</div>
<div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160;  DirectHandle&lt;NativeContext&gt; <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>(global-&gt;native_context(), isolate);</div>
<div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160; </div>
<div class="line"><a name="l03587"></a><span class="lineno"> 3587</span>&#160;  DirectHandle&lt;JSFunction&gt; module_constructor;</div>
<div class="line"><a name="l03588"></a><span class="lineno"> 3588</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.js_source_phase_imports) {</div>
<div class="line"><a name="l03589"></a><span class="lineno"> 3589</span>&#160;    DirectHandle&lt;FunctionTemplateInfo&gt;</div>
<div class="line"><a name="l03590"></a><span class="lineno"> 3590</span>&#160;        intrinsic_abstract_module_source_interface_template =</div>
<div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160;            <a class="code" href="namespacev8.html#a1777425fadf90d9a148319f962ca4173">NewFunctionTemplate</a>(isolate, <span class="keyword">nullptr</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l03592"></a><span class="lineno"> 3592</span>&#160;    DirectHandle&lt;JSObject&gt; abstract_module_source_prototype =</div>
<div class="line"><a name="l03593"></a><span class="lineno"> 3593</span>&#160;        DirectHandle&lt;JSObject&gt;(</div>
<div class="line"><a name="l03594"></a><span class="lineno"> 3594</span>&#160;            <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>-&gt;abstract_module_source_prototype(), isolate);</div>
<div class="line"><a name="l03595"></a><span class="lineno"> 3595</span>&#160;    <a class="code" href="classv8_1_1internal_1_1ApiNatives.html#a7c55523551d1be370dabea8224091aa8">ApiNatives::AddDataProperty</a>(</div>
<div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;        isolate, intrinsic_abstract_module_source_interface_template,</div>
<div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160;        isolate-&gt;factory()-&gt;prototype_string(),</div>
<div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;        abstract_module_source_prototype, <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370">NONE</a>);</div>
<div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160; </div>
<div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160;    <span class="comment">// Check that this is a reinstallation of the Module object.</span></div>
<div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160;    DirectHandle&lt;String&gt; <a class="code" href="namespacev8_1_1internal.html#a611f0528d5415d4591ad6e8fe9513ac4">name</a> = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate, <span class="stringliteral">&quot;Module&quot;</span>);</div>
<div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(</div>
<div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;        <a class="code" href="classv8_1_1internal_1_1JSObject.html#ad849a19f28b2c66491314930e1ba3f31">JSObject::HasRealNamedProperty</a>(isolate, webassembly, <a class="code" href="namespacev8_1_1internal.html#a611f0528d5415d4591ad6e8fe9513ac4">name</a>).ToChecked());</div>
<div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160;    <span class="comment">// Reinstall the Module object with AbstractModuleSource as prototype.</span></div>
<div class="line"><a name="l03605"></a><span class="lineno"> 3605</span>&#160;    module_constructor =</div>
<div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160;        <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a3003282aca3921966ea5b8a3efb77de7">CreateFunc</a>(isolate, <a class="code" href="namespacev8_1_1internal.html#a611f0528d5415d4591ad6e8fe9513ac4">name</a>, wasm::WebAssemblyModule, <span class="keyword">true</span>,</div>
<div class="line"><a name="l03607"></a><span class="lineno"> 3607</span>&#160;                   <a class="code" href="namespacev8.html#a29711319c2b9fc7716d65faee2f7b9cba5168ab38be99edd5ce1e4cb991b21f51">SideEffectType::kHasNoSideEffect</a>,</div>
<div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160;                   intrinsic_abstract_module_source_interface_template);</div>
<div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160;    <span class="comment">// WebAssembly.Module is a subclass of %AbstractModuleSource%, hence</span></div>
<div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160;    <span class="comment">// Object.GetPrototypeOf(WebAssembly.Module) === %AbstractModuleSource%.</span></div>
<div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160;    <a class="code" href="classv8_1_1internal_1_1JSObject.html#a55e777b15aaf23f685bfcc39ffc5c7e2">JSObject::ForceSetPrototype</a>(</div>
<div class="line"><a name="l03612"></a><span class="lineno"> 3612</span>&#160;        isolate, module_constructor,</div>
<div class="line"><a name="l03613"></a><span class="lineno"> 3613</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(<a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>-&gt;abstract_module_source_function(),</div>
<div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;                      isolate));</div>
<div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;    module_constructor-&gt;shared()-&gt;set_length(1);</div>
<div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160;    <a class="code" href="classv8_1_1internal_1_1JSObject.html#a7828b3b6e753173996c1b22ee1987615">JSObject::SetOwnPropertyIgnoreAttributes</a>(webassembly, <a class="code" href="namespacev8_1_1internal.html#a611f0528d5415d4591ad6e8fe9513ac4">name</a>,</div>
<div class="line"><a name="l03617"></a><span class="lineno"> 3617</span>&#160;                                             module_constructor, <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a7a681885f7c5656b01ef8ba9f9bde868">DONT_ENUM</a>)</div>
<div class="line"><a name="l03618"></a><span class="lineno"> 3618</span>&#160;        .Assert();</div>
<div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160;    module_constructor = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#aba01530f130336b4b5dfcef830115757">InstallConstructorFunc</a>(isolate, webassembly, <span class="stringliteral">&quot;Module&quot;</span>,</div>
<div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;                                                wasm::WebAssemblyModule);</div>
<div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160;  }</div>
<div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#abfcc6ebe00bd232418d95a28859011bc">SetupConstructor</a>(isolate, module_constructor, WASM_MODULE_OBJECT_TYPE,</div>
<div class="line"><a name="l03624"></a><span class="lineno"> 3624</span>&#160;                   WasmModuleObject::kHeaderSize, <span class="stringliteral">&quot;WebAssembly.Module&quot;</span>);</div>
<div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>-&gt;set_wasm_module_constructor(*module_constructor);</div>
<div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160; </div>
<div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, module_constructor, <span class="stringliteral">&quot;imports&quot;</span>,</div>
<div class="line"><a name="l03628"></a><span class="lineno"> 3628</span>&#160;              wasm::WebAssemblyModuleImports, 1, <span class="keyword">false</span>, <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370">NONE</a>,</div>
<div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160;              <a class="code" href="namespacev8.html#a29711319c2b9fc7716d65faee2f7b9cba5168ab38be99edd5ce1e4cb991b21f51">SideEffectType::kHasNoSideEffect</a>);</div>
<div class="line"><a name="l03630"></a><span class="lineno"> 3630</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, module_constructor, <span class="stringliteral">&quot;exports&quot;</span>,</div>
<div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;              wasm::WebAssemblyModuleExports, 1, <span class="keyword">false</span>, <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370">NONE</a>,</div>
<div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;              <a class="code" href="namespacev8.html#a29711319c2b9fc7716d65faee2f7b9cba5168ab38be99edd5ce1e4cb991b21f51">SideEffectType::kHasNoSideEffect</a>);</div>
<div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, module_constructor, <span class="stringliteral">&quot;customSections&quot;</span>,</div>
<div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;              wasm::WebAssemblyModuleCustomSections, 2, <span class="keyword">false</span>, <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370">NONE</a>,</div>
<div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160;              <a class="code" href="namespacev8.html#a29711319c2b9fc7716d65faee2f7b9cba5168ab38be99edd5ce1e4cb991b21f51">SideEffectType::kHasNoSideEffect</a>);</div>
<div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1ApiNatives_html_a7c55523551d1be370dabea8224091aa8"><div class="ttname"><a href="classv8_1_1internal_1_1ApiNatives.html#a7c55523551d1be370dabea8224091aa8">v8::internal::ApiNatives::AddDataProperty</a></div><div class="ttdeci">static void AddDataProperty(Isolate *isolate, DirectHandle&lt; TemplateInfoWithProperties &gt; info, DirectHandle&lt; Name &gt; name, DirectHandle&lt; Object &gt; value, PropertyAttributes attributes)</div><div class="ttdef"><b>Definition:</b> <a href="api-natives_8cc_source.html#l00542">api-natives.cc:542</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSObject_html_a55e777b15aaf23f685bfcc39ffc5c7e2"><div class="ttname"><a href="classv8_1_1internal_1_1JSObject.html#a55e777b15aaf23f685bfcc39ffc5c7e2">v8::internal::JSObject::ForceSetPrototype</a></div><div class="ttdeci">static void ForceSetPrototype(Isolate *isolate, DirectHandle&lt; JSObject &gt; object, DirectHandle&lt; JSPrototype &gt; proto)</div><div class="ttdef"><b>Definition:</b> <a href="js-objects_8cc_source.html#l03483">js-objects.cc:3483</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSObject_html_a7828b3b6e753173996c1b22ee1987615"><div class="ttname"><a href="classv8_1_1internal_1_1JSObject.html#a7828b3b6e753173996c1b22ee1987615">v8::internal::JSObject::SetOwnPropertyIgnoreAttributes</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeDirectHandle&lt; Object &gt; V8_EXPORT_PRIVATE SetOwnPropertyIgnoreAttributes(DirectHandle&lt; JSObject &gt; object, DirectHandle&lt; Name &gt; name, DirectHandle&lt; Object &gt; value, PropertyAttributes attributes)</div><div class="ttdef"><b>Definition:</b> <a href="js-objects_8cc_source.html#l03815">js-objects.cc:3815</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_html_a3003282aca3921966ea5b8a3efb77de7"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a3003282aca3921966ea5b8a3efb77de7">v8::internal::anonymous_namespace{wasm-js.cc}::CreateFunc</a></div><div class="ttdeci">DirectHandle&lt; JSFunction &gt; CreateFunc(Isolate *isolate, DirectHandle&lt; String &gt; name, FunctionCallback func, bool has_prototype, SideEffectType side_effect_type=SideEffectType::kHasSideEffect, DirectHandle&lt; FunctionTemplateInfo &gt; parent={})</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l03280">wasm-js.cc:3280</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370"><div class="ttname"><a href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370">v8::internal::NONE</a></div><div class="ttdeci">@ NONE</div><div class="ttdef"><b>Definition:</b> <a href="property-details_8h_source.html#l00019">property-details.h:19</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a611f0528d5415d4591ad6e8fe9513ac4"><div class="ttname"><a href="namespacev8_1_1internal.html#a611f0528d5415d4591ad6e8fe9513ac4">v8::internal::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="heap-snapshot-generator_8cc_source.html#l01699">heap-snapshot-generator.cc:1699</a></div></div>
<div class="ttc" id="anamespacev8_html_a1777425fadf90d9a148319f962ca4173"><div class="ttname"><a href="namespacev8.html#a1777425fadf90d9a148319f962ca4173">v8::NewFunctionTemplate</a></div><div class="ttdeci">static i::DirectHandle&lt; i::FunctionTemplateInfo &gt; NewFunctionTemplate(i::Isolate *i_isolate, FunctionCallback func, bool has_prototype, SideEffectType side_effect_type=SideEffectType::kHasSideEffect)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l03258">wasm-js.cc:3258</a></div></div>
<div class="ttc" id="anamespacev8_html_a29711319c2b9fc7716d65faee2f7b9cba5168ab38be99edd5ce1e4cb991b21f51"><div class="ttname"><a href="namespacev8.html#a29711319c2b9fc7716d65faee2f7b9cba5168ab38be99edd5ce1e4cb991b21f51">v8::SideEffectType::kHasNoSideEffect</a></div><div class="ttdeci">@ kHasNoSideEffect</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="src_2base_2logging_8h_source.html#l00124">CHECK</a>, <a class="el" href="wasm-js_8cc_source.html#l03280">v8::internal::anonymous_namespace{wasm-js.cc}::CreateFunc()</a>, <a class="el" href="handles-inl_8h_source.html#l00143">v8::internal::direct_handle()</a>, <a class="el" href="property-details_8h_source.html#l00021">v8::internal::DONT_ENUM</a>, <a class="el" href="execution_2isolate_8h_source.html#l01553">v8::internal::Isolate::factory()</a>, <a class="el" href="execution_2isolate-inl_8h_source.html#l00211">v8::internal::Isolate::global_object()</a>, <a class="el" href="wasm-js_8cc_source.html#l03323">v8::internal::anonymous_namespace{wasm-js.cc}::InstallConstructorFunc()</a>, <a class="el" href="wasm-js_8cc_source.html#l03313">v8::internal::anonymous_namespace{wasm-js.cc}::InstallFunc()</a>, <a class="el" href="namespacev8.html#a29711319c2b9fc7716d65faee2f7b9cba5168ab38be99edd5ce1e4cb991b21f51">v8::kHasNoSideEffect</a>, <a class="el" href="flag-definitions_8h_source.html#l02171">name</a>, <a class="el" href="map-inl_8h_source.html#l00896">v8::internal::native_context</a>, <a class="el" href="wasm-js_8cc_source.html#l03258">v8::NewFunctionTemplate()</a>, <a class="el" href="property-details_8h_source.html#l00019">v8::internal::NONE</a>, <a class="el" href="wasm-js_8cc_source.html#l03381">v8::internal::anonymous_namespace{wasm-js.cc}::SetupConstructor()</a>, <a class="el" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a>, and <a class="el" href="wasm-js_8cc_source.html#l00177">v8::anonymous_namespace{wasm-js.cc}::v8_str()</a>.</p>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1WasmJs_a2a0940bc2fcba99ed44657a4aa83db24_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ad8458346588cd4044c146ac959e35097"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8458346588cd4044c146ac959e35097">&#9670;&nbsp;</a></span>InstallResizableBufferIntegration()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void v8::internal::WasmJs::InstallResizableBufferIntegration </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1Isolate.html">Isolate</a> *&#160;</td>
          <td class="paramname"><em>isolate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1NativeContext.html">NativeContext</a> &gt;&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1JSObject.html">JSObject</a> &gt;&#160;</td>
          <td class="paramname"><em>webassembly</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l03932">3932</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l03934"></a><span class="lineno"> 3934</span>&#160;                                        {</div>
<div class="line"><a name="l03935"></a><span class="lineno"> 3935</span>&#160;  <span class="comment">// Extensibility of the `WebAssembly` object should already have been checked</span></div>
<div class="line"><a name="l03936"></a><span class="lineno"> 3936</span>&#160;  <span class="comment">// by the caller.</span></div>
<div class="line"><a name="l03937"></a><span class="lineno"> 3937</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(webassembly-&gt;map()-&gt;is_extensible());</div>
<div class="line"><a name="l03938"></a><span class="lineno"> 3938</span>&#160; </div>
<div class="line"><a name="l03939"></a><span class="lineno"> 3939</span>&#160;  DirectHandle&lt;JSObject&gt; memory_proto = <a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(</div>
<div class="line"><a name="l03940"></a><span class="lineno"> 3940</span>&#160;      Cast&lt;JSObject&gt;(context-&gt;wasm_memory_constructor()-&gt;instance_prototype()),</div>
<div class="line"><a name="l03941"></a><span class="lineno"> 3941</span>&#160;      isolate);</div>
<div class="line"><a name="l03942"></a><span class="lineno"> 3942</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, memory_proto, <span class="stringliteral">&quot;toFixedLengthBuffer&quot;</span>,</div>
<div class="line"><a name="l03943"></a><span class="lineno"> 3943</span>&#160;              wasm::WebAssemblyMemoryToFixedLengthBuffer, 0);</div>
<div class="line"><a name="l03944"></a><span class="lineno"> 3944</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, memory_proto, <span class="stringliteral">&quot;toResizableBuffer&quot;</span>,</div>
<div class="line"><a name="l03945"></a><span class="lineno"> 3945</span>&#160;              wasm::WebAssemblyMemoryToResizableBuffer, 0);</div>
<div class="line"><a name="l03946"></a><span class="lineno"> 3946</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="src_2base_2logging_8h_source.html#l00481">DCHECK</a>, <a class="el" href="handles-inl_8h_source.html#l00143">v8::internal::direct_handle()</a>, and <a class="el" href="wasm-js_8cc_source.html#l03313">v8::internal::anonymous_namespace{wasm-js.cc}::InstallFunc()</a>.</p>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1WasmJs_ad8458346588cd4044c146ac959e35097_cgraph.svg" width="100%" height="400"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a9d48e1db9cb027ddf92cd6dcfb0f7779"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d48e1db9cb027ddf92cd6dcfb0f7779">&#9670;&nbsp;</a></span>InstallTypeReflection()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a> v8::internal::WasmJs::InstallTypeReflection </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1Isolate.html">Isolate</a> *&#160;</td>
          <td class="paramname"><em>isolate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1NativeContext.html">NativeContext</a> &gt;&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1JSObject.html">JSObject</a> &gt;&#160;</td>
          <td class="paramname"><em>webassembly</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l03847">3847</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;                                                                       {</div>
<div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160;  <span class="comment">// Extensibility of the `WebAssembly` object should already have been checked</span></div>
<div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;  <span class="comment">// by the caller.</span></div>
<div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(webassembly-&gt;map()-&gt;is_extensible());</div>
<div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160; </div>
<div class="line"><a name="l03854"></a><span class="lineno"> 3854</span>&#160;  <span class="comment">// First check if any of the type reflection fields already exist. If so, bail</span></div>
<div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160;  <span class="comment">// out and don&#39;t install any new fields.</span></div>
<div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1JSObject.html#ad849a19f28b2c66491314930e1ba3f31">JSObject::HasRealNamedProperty</a>(isolate, webassembly,</div>
<div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;                                     isolate-&gt;factory()-&gt;Function_string())</div>
<div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160;          .FromMaybe(<span class="keyword">true</span>)) {</div>
<div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;  }</div>
<div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160; </div>
<div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;  <span class="keyword">auto</span> GetProto = [isolate](Tagged&lt;JSFunction&gt; constructor) {</div>
<div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>(Cast&lt;JSObject&gt;(constructor-&gt;instance_prototype()), isolate);</div>
<div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160;  };</div>
<div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;  DirectHandle&lt;JSObject&gt; table_proto =</div>
<div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;      GetProto(context-&gt;wasm_table_constructor());</div>
<div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;  DirectHandle&lt;JSObject&gt; global_proto =</div>
<div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160;      GetProto(context-&gt;wasm_global_constructor());</div>
<div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;  DirectHandle&lt;JSObject&gt; memory_proto =</div>
<div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;      GetProto(context-&gt;wasm_memory_constructor());</div>
<div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;  DirectHandle&lt;JSObject&gt; tag_proto = GetProto(context-&gt;wasm_tag_constructor());</div>
<div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160; </div>
<div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160;  DirectHandle&lt;String&gt; type_string = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate, <span class="stringliteral">&quot;type&quot;</span>);</div>
<div class="line"><a name="l03874"></a><span class="lineno"> 3874</span>&#160;  <span class="keyword">auto</span> CheckProto = [isolate, type_string](DirectHandle&lt;JSObject&gt; proto) {</div>
<div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1JSObject.html#ad849a19f28b2c66491314930e1ba3f31">JSObject::HasRealNamedProperty</a>(isolate, proto, type_string)</div>
<div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160;            .FromMaybe(<span class="keyword">true</span>)) {</div>
<div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03878"></a><span class="lineno"> 3878</span>&#160;    }</div>
<div class="line"><a name="l03879"></a><span class="lineno"> 3879</span>&#160;    <span class="comment">// Also check extensibility, otherwise adding properties will fail.</span></div>
<div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160;    <span class="keywordflow">if</span> (!proto-&gt;map()-&gt;is_extensible()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;  };</div>
<div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;  <span class="keywordflow">if</span> (!CheckProto(table_proto)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160;  <span class="keywordflow">if</span> (!CheckProto(global_proto)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160;  <span class="keywordflow">if</span> (!CheckProto(memory_proto)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;  <span class="keywordflow">if</span> (!CheckProto(tag_proto)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160; </div>
<div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160;  <span class="comment">// Checks are done, start installing the new fields.</span></div>
<div class="line"><a name="l03889"></a><span class="lineno"> 3889</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, table_proto, type_string, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#acaccef9db6ddc927c8e58fb29de30502">WebAssemblyTableType</a>, 0, <span class="keyword">false</span>,</div>
<div class="line"><a name="l03890"></a><span class="lineno"> 3890</span>&#160;              <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370">NONE</a>, <a class="code" href="namespacev8.html#a29711319c2b9fc7716d65faee2f7b9cba5168ab38be99edd5ce1e4cb991b21f51">SideEffectType::kHasNoSideEffect</a>);</div>
<div class="line"><a name="l03891"></a><span class="lineno"> 3891</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, memory_proto, type_string, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a4efe057cb210e2909aa30b47767a7c01">WebAssemblyMemoryType</a>, 0,</div>
<div class="line"><a name="l03892"></a><span class="lineno"> 3892</span>&#160;              <span class="keyword">false</span>, <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370">NONE</a>, <a class="code" href="namespacev8.html#a29711319c2b9fc7716d65faee2f7b9cba5168ab38be99edd5ce1e4cb991b21f51">SideEffectType::kHasNoSideEffect</a>);</div>
<div class="line"><a name="l03893"></a><span class="lineno"> 3893</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, global_proto, type_string, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#aecd2a67ed5f761d905eed967a5a4e9e4">WebAssemblyGlobalType</a>, 0,</div>
<div class="line"><a name="l03894"></a><span class="lineno"> 3894</span>&#160;              <span class="keyword">false</span>, <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370">NONE</a>, <a class="code" href="namespacev8.html#a29711319c2b9fc7716d65faee2f7b9cba5168ab38be99edd5ce1e4cb991b21f51">SideEffectType::kHasNoSideEffect</a>);</div>
<div class="line"><a name="l03895"></a><span class="lineno"> 3895</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, tag_proto, type_string, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a4205bbb2cdbecd8548f0062a0158fd6a">WebAssemblyTagType</a>, 0, <span class="keyword">false</span>,</div>
<div class="line"><a name="l03896"></a><span class="lineno"> 3896</span>&#160;              <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370">NONE</a>, <a class="code" href="namespacev8.html#a29711319c2b9fc7716d65faee2f7b9cba5168ab38be99edd5ce1e4cb991b21f51">SideEffectType::kHasNoSideEffect</a>);</div>
<div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160; </div>
<div class="line"><a name="l03898"></a><span class="lineno"> 3898</span>&#160;  <span class="comment">// Create the Function object.</span></div>
<div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160;  DirectHandle&lt;JSFunction&gt; function_constructor = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#aba01530f130336b4b5dfcef830115757">InstallConstructorFunc</a>(</div>
<div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;      isolate, webassembly, <span class="stringliteral">&quot;Function&quot;</span>, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ac70d98b3dfb9bcdb067ff8a7a713926e">WebAssemblyFunction</a>);</div>
<div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#acfc430f21a2bff2a0e65815f9db46b1f">SetDummyInstanceTemplate</a>(isolate, function_constructor);</div>
<div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160;  <a class="code" href="classv8_1_1internal_1_1JSFunction.html#a1f8a7738f818c0ba05ba4c86bee0a3b6">JSFunction::EnsureHasInitialMap</a>(isolate, function_constructor);</div>
<div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160;  DirectHandle&lt;JSObject&gt; function_proto(</div>
<div class="line"><a name="l03904"></a><span class="lineno"> 3904</span>&#160;      Cast&lt;JSObject&gt;(function_constructor-&gt;instance_prototype()), isolate);</div>
<div class="line"><a name="l03905"></a><span class="lineno"> 3905</span>&#160;  DirectHandle&lt;Map&gt; <a class="code" href="namespacev8_1_1internal_1_1libvtune.html#a0fcf6e701e6a3e10310c2126f52732e9">function_map</a> =</div>
<div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Map.html#a31f4e88f932422b60a98260488dba52a">Map::Copy</a>(isolate, isolate-&gt;sloppy_function_without_prototype_map(),</div>
<div class="line"><a name="l03907"></a><span class="lineno"> 3907</span>&#160;                <span class="stringliteral">&quot;WebAssembly.Function&quot;</span>);</div>
<div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code" href="classv8_1_1internal_1_1JSObject.html#a793b022df61dd2831e6049bac4a28c1f">JSObject::SetPrototype</a>(</div>
<div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160;            isolate, function_proto,</div>
<div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160;            <a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(context-&gt;function_function()-&gt;prototype(), isolate),</div>
<div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160;            <span class="keyword">false</span>, <a class="code" href="namespacev8_1_1internal.html#adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee">kDontThrow</a>)</div>
<div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160;            .FromJust());</div>
<div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160;  <a class="code" href="classv8_1_1internal_1_1JSFunction.html#ac45d8dddfbc31b38a1f9cb60b8b6ff40">JSFunction::SetInitialMap</a>(isolate, function_constructor, <a class="code" href="namespacev8_1_1internal_1_1libvtune.html#a0fcf6e701e6a3e10310c2126f52732e9">function_map</a>,</div>
<div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160;                            function_proto);</div>
<div class="line"><a name="l03915"></a><span class="lineno"> 3915</span>&#160; </div>
<div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160;  constexpr <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436">PropertyAttributes</a> ro_attributes =</div>
<div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160;      <span class="keyword">static_cast&lt;</span><a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436">PropertyAttributes</a><span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a7a681885f7c5656b01ef8ba9f9bde868">DONT_ENUM</a> | <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436ad8ce154ac002d77d3cca81d16765a76f">READ_ONLY</a>);</div>
<div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;  <a class="code" href="classv8_1_1internal_1_1JSObject.html#a16c9b19de5218c056da014960fba72ae">JSObject::AddProperty</a>(isolate, function_proto,</div>
<div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160;                        isolate-&gt;factory()-&gt;to_string_tag_symbol(),</div>
<div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160;                        <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate, <span class="stringliteral">&quot;WebAssembly.Function&quot;</span>), ro_attributes);</div>
<div class="line"><a name="l03921"></a><span class="lineno"> 3921</span>&#160; </div>
<div class="line"><a name="l03922"></a><span class="lineno"> 3922</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, function_proto, type_string, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a82b07981395ae632c3887915a53d27a2">WebAssemblyFunctionType</a>, 0);</div>
<div class="line"><a name="l03923"></a><span class="lineno"> 3923</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a0d9ddccbc8883ed03a104e38cb679871">SimpleInstallFunction</a>(isolate, function_proto, <span class="stringliteral">&quot;bind&quot;</span>,</div>
<div class="line"><a name="l03924"></a><span class="lineno"> 3924</span>&#160;                        Builtin::kWebAssemblyFunctionPrototypeBind, 1,</div>
<div class="line"><a name="l03925"></a><span class="lineno"> 3925</span>&#160;                        <a class="code" href="namespacev8_1_1internal.html#a894f7eed49bf3b73ca39321905ff6e38">kDontAdapt</a>);</div>
<div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160;  <span class="comment">// Make all exported functions an instance of {WebAssembly.Function}.</span></div>
<div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;  context-&gt;set_wasm_exported_function_map(*<a class="code" href="namespacev8_1_1internal_1_1libvtune.html#a0fcf6e701e6a3e10310c2126f52732e9">function_map</a>);</div>
<div class="line"><a name="l03928"></a><span class="lineno"> 3928</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03929"></a><span class="lineno"> 3929</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSFunction_html_a1f8a7738f818c0ba05ba4c86bee0a3b6"><div class="ttname"><a href="classv8_1_1internal_1_1JSFunction.html#a1f8a7738f818c0ba05ba4c86bee0a3b6">v8::internal::JSFunction::EnsureHasInitialMap</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE void EnsureHasInitialMap(Isolate *isolate, DirectHandle&lt; JSFunction &gt; function)</div><div class="ttdef"><b>Definition:</b> <a href="js-function_8cc_source.html#l00931">js-function.cc:931</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSFunction_html_ac45d8dddfbc31b38a1f9cb60b8b6ff40"><div class="ttname"><a href="classv8_1_1internal_1_1JSFunction.html#ac45d8dddfbc31b38a1f9cb60b8b6ff40">v8::internal::JSFunction::SetInitialMap</a></div><div class="ttdeci">static void SetInitialMap(Isolate *isolate, DirectHandle&lt; JSFunction &gt; function, DirectHandle&lt; Map &gt; map, DirectHandle&lt; JSPrototype &gt; prototype)</div><div class="ttdef"><b>Definition:</b> <a href="js-function_8cc_source.html#l00906">js-function.cc:906</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSObject_html_a793b022df61dd2831e6049bac4a28c1f"><div class="ttname"><a href="classv8_1_1internal_1_1JSObject.html#a793b022df61dd2831e6049bac4a28c1f">v8::internal::JSObject::SetPrototype</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT Maybe&lt; bool &gt; SetPrototype(Isolate *isolate, DirectHandle&lt; JSObject &gt; object, DirectHandle&lt; Object &gt; value, bool from_javascript, ShouldThrow should_throw)</div><div class="ttdef"><b>Definition:</b> <a href="js-objects_8cc_source.html#l05255">js-objects.cc:5255</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Map_html_a31f4e88f932422b60a98260488dba52a"><div class="ttname"><a href="classv8_1_1internal_1_1Map.html#a31f4e88f932422b60a98260488dba52a">v8::internal::Map::Copy</a></div><div class="ttdeci">static Handle&lt; Map &gt; Copy(Isolate *isolate, DirectHandle&lt; Map &gt; map, const char *reason, TransitionKindFlag kind=SPECIAL_TRANSITION)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cc_source.html#l01822">map.cc:1822</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_a4205bbb2cdbecd8548f0062a0158fd6a"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a4205bbb2cdbecd8548f0062a0158fd6a">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyTagType</a></div><div class="ttdeci">void WebAssemblyTagType(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l02943">wasm-js.cc:2943</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_a4efe057cb210e2909aa30b47767a7c01"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a4efe057cb210e2909aa30b47767a7c01">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyMemoryType</a></div><div class="ttdeci">void WebAssemblyMemoryType(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l02921">wasm-js.cc:2921</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_a82b07981395ae632c3887915a53d27a2"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a82b07981395ae632c3887915a53d27a2">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyFunctionType</a></div><div class="ttdeci">void WebAssemblyFunctionType(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l02493">wasm-js.cc:2493</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_ac70d98b3dfb9bcdb067ff8a7a713926e"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ac70d98b3dfb9bcdb067ff8a7a713926e">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyFunction</a></div><div class="ttdeci">void WebAssemblyFunction(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l02288">wasm-js.cc:2288</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_acaccef9db6ddc927c8e58fb29de30502"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#acaccef9db6ddc927c8e58fb29de30502">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyTableType</a></div><div class="ttdeci">void WebAssemblyTableType(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l02740">wasm-js.cc:2740</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_aecd2a67ed5f761d905eed967a5a4e9e4"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#aecd2a67ed5f761d905eed967a5a4e9e4">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyGlobalType</a></div><div class="ttdeci">void WebAssemblyGlobalType(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l03229">wasm-js.cc:3229</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_html_acfc430f21a2bff2a0e65815f9db46b1f"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#acfc430f21a2bff2a0e65815f9db46b1f">v8::internal::anonymous_namespace{wasm-js.cc}::SetDummyInstanceTemplate</a></div><div class="ttdeci">void SetDummyInstanceTemplate(Isolate *isolate, DirectHandle&lt; JSFunction &gt; fun)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l03373">wasm-js.cc:3373</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1libvtune_html_a0fcf6e701e6a3e10310c2126f52732e9"><div class="ttname"><a href="namespacev8_1_1internal_1_1libvtune.html#a0fcf6e701e6a3e10310c2126f52732e9">v8::internal::libvtune::function_map</a></div><div class="ttdeci">const auto &amp; function_map</div><div class="ttdef"><b>Definition:</b> <a href="vtunedomain-support-extension_8cc_source.html#l00021">vtunedomain-support-extension.cc:21</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a0d9ddccbc8883ed03a104e38cb679871"><div class="ttname"><a href="namespacev8_1_1internal.html#a0d9ddccbc8883ed03a104e38cb679871">v8::internal::SimpleInstallFunction</a></div><div class="ttdeci">Handle&lt; JSFunction &gt; SimpleInstallFunction(Isolate *isolate, DirectHandle&lt; JSObject &gt; base, const char *name, Builtin call, int len, AdaptArguments adapt, PropertyAttributes attrs)</div><div class="ttdef"><b>Definition:</b> <a href="bootstrapper_8cc_source.html#l00994">bootstrapper.cc:994</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a352f65439007f2f1b85c997c1ba11436"><div class="ttname"><a href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436">v8::internal::PropertyAttributes</a></div><div class="ttdeci">PropertyAttributes</div><div class="ttdef"><b>Definition:</b> <a href="property-details_8h_source.html#l00018">property-details.h:18</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a352f65439007f2f1b85c997c1ba11436ad8ce154ac002d77d3cca81d16765a76f"><div class="ttname"><a href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436ad8ce154ac002d77d3cca81d16765a76f">v8::internal::READ_ONLY</a></div><div class="ttdeci">@ READ_ONLY</div><div class="ttdef"><b>Definition:</b> <a href="property-details_8h_source.html#l00020">property-details.h:20</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a894f7eed49bf3b73ca39321905ff6e38"><div class="ttname"><a href="namespacev8_1_1internal.html#a894f7eed49bf3b73ca39321905ff6e38">v8::internal::kDontAdapt</a></div><div class="ttdeci">constexpr AdaptArguments kDontAdapt</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l02794">globals.h:2794</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a8c89f00da07e125218128b9fbf0a321c"><div class="ttname"><a href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">v8::internal::handle</a></div><div class="ttdeci">IndirectHandle&lt; T &gt; handle(Tagged&lt; T &gt; object, Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="handles-inl_8h_source.html#l00072">handles-inl.h:72</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee"><div class="ttname"><a href="namespacev8_1_1internal.html#adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee">v8::internal::kDontThrow</a></div><div class="ttdeci">@ kDontThrow</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l01734">globals.h:1734</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="src_2base_2logging_8h_source.html#l00124">CHECK</a>, <a class="el" href="div-helpers_8cc_source.html#l00014">v8::bigint::anonymous_namespace{div-helpers.cc}::Copy()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00481">DCHECK</a>, <a class="el" href="handles-inl_8h_source.html#l00143">v8::internal::direct_handle()</a>, <a class="el" href="property-details_8h_source.html#l00021">v8::internal::DONT_ENUM</a>, <a class="el" href="execution_2isolate_8h_source.html#l01553">v8::internal::Isolate::factory()</a>, <a class="el" href="vtunedomain-support-extension_8cc_source.html#l00021">v8::internal::libvtune::function_map</a>, <a class="el" href="handles-inl_8h_source.html#l00072">v8::internal::handle()</a>, <a class="el" href="wasm-js_8cc_source.html#l03323">v8::internal::anonymous_namespace{wasm-js.cc}::InstallConstructorFunc()</a>, <a class="el" href="wasm-js_8cc_source.html#l03313">v8::internal::anonymous_namespace{wasm-js.cc}::InstallFunc()</a>, <a class="el" href="common_2globals_8h_source.html#l02794">v8::internal::kDontAdapt</a>, <a class="el" href="common_2globals_8h_source.html#l01734">v8::internal::kDontThrow</a>, <a class="el" href="namespacev8.html#a29711319c2b9fc7716d65faee2f7b9cba5168ab38be99edd5ce1e4cb991b21f51">v8::kHasNoSideEffect</a>, <a class="el" href="property-details_8h_source.html#l00019">v8::internal::NONE</a>, <a class="el" href="property-details_8h_source.html#l00020">v8::internal::READ_ONLY</a>, <a class="el" href="wasm-js_8cc_source.html#l03373">v8::internal::anonymous_namespace{wasm-js.cc}::SetDummyInstanceTemplate()</a>, <a class="el" href="bootstrapper_8cc_source.html#l00994">v8::internal::SimpleInstallFunction()</a>, <a class="el" href="wasm-js_8cc_source.html#l00177">v8::anonymous_namespace{wasm-js.cc}::v8_str()</a>, <a class="el" href="wasm-js_8cc_source.html#l02288">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyFunction()</a>, <a class="el" href="wasm-js_8cc_source.html#l02493">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyFunctionType()</a>, <a class="el" href="wasm-js_8cc_source.html#l03229">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyGlobalType()</a>, <a class="el" href="wasm-js_8cc_source.html#l02921">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyMemoryType()</a>, <a class="el" href="wasm-js_8cc_source.html#l02740">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyTableType()</a>, and <a class="el" href="wasm-js_8cc_source.html#l02943">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyTagType()</a>.</p>
<div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1WasmJs_a9d48e1db9cb027ddf92cd6dcfb0f7779_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ad9d30fdd56a8c38868338f9635ca9be9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9d30fdd56a8c38868338f9635ca9be9">&#9670;&nbsp;</a></span>PrepareForSnapshot()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void v8::internal::WasmJs::PrepareForSnapshot </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1Isolate.html">Isolate</a> *&#160;</td>
          <td class="paramname"><em>isolate</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l03413">3413</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;                                                {</div>
<div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;  DirectHandle&lt;JSGlobalObject&gt; global = isolate-&gt;global_object();</div>
<div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;  DirectHandle&lt;NativeContext&gt; <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>(global-&gt;native_context(), isolate);</div>
<div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160; </div>
<div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(IsUndefined(</div>
<div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>-&gt;GetNoCell(Context::WASM_WEBASSEMBLY_OBJECT_INDEX),</div>
<div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;      isolate));</div>
<div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(IsUndefined(</div>
<div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>-&gt;GetNoCell(Context::WASM_MODULE_CONSTRUCTOR_INDEX),</div>
<div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;      isolate));</div>
<div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160; </div>
<div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;  Factory* <span class="keyword">const</span> f = isolate-&gt;factory();</div>
<div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;  <span class="keyword">static</span> constexpr <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436">PropertyAttributes</a> ro_attributes =</div>
<div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;      <span class="keyword">static_cast&lt;</span><a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436">PropertyAttributes</a><span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a7a681885f7c5656b01ef8ba9f9bde868">DONT_ENUM</a> | <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436ad8ce154ac002d77d3cca81d16765a76f">READ_ONLY</a>);</div>
<div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160; </div>
<div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;  <span class="comment">// Create the WebAssembly object.</span></div>
<div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;  DirectHandle&lt;JSObject&gt; webassembly;</div>
<div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;  {</div>
<div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;    DirectHandle&lt;String&gt; WebAssembly_string = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate, <span class="stringliteral">&quot;WebAssembly&quot;</span>);</div>
<div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;    <span class="comment">// Not supposed to be called, hence using the kIllegal builtin as code.</span></div>
<div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;    DirectHandle&lt;SharedFunctionInfo&gt; sfi = f-&gt;NewSharedFunctionInfoForBuiltin(</div>
<div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;        WebAssembly_string, Builtin::kIllegal, 0, <a class="code" href="namespacev8_1_1internal.html#a894f7eed49bf3b73ca39321905ff6e38">kDontAdapt</a>);</div>
<div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;    sfi-&gt;set_language_mode(<a class="code" href="namespacev8_1_1internal.html#aff2483f817f329c2b4c7c1d7149f858ba35215d4c3b69349b967c421fd68b0b36">LanguageMode::kStrict</a>);</div>
<div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160; </div>
<div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;    DirectHandle&lt;JSFunction&gt; ctor =</div>
<div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;        Factory::JSFunctionBuilder{isolate, sfi, <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>}.Build();</div>
<div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;    <a class="code" href="classv8_1_1internal_1_1JSFunction.html#a1c279ee3a4c277def6afe88af24389b8">JSFunction::SetPrototype</a>(isolate, ctor,</div>
<div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;                             isolate-&gt;initial_object_prototype());</div>
<div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;    webassembly = f-&gt;NewJSObject(ctor, <a class="code" href="namespacev8_1_1internal.html#a604d5beeb6fc8639670f737ed201e20aa0aa38c28f349d65a6819e03844b73dff">AllocationType::kOld</a>);</div>
<div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>-&gt;set_wasm_webassembly_object(*webassembly);</div>
<div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160; </div>
<div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;    <a class="code" href="classv8_1_1internal_1_1JSObject.html#a16c9b19de5218c056da014960fba72ae">JSObject::AddProperty</a>(isolate, webassembly, f-&gt;to_string_tag_symbol(),</div>
<div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;                          WebAssembly_string, ro_attributes);</div>
<div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, webassembly, <span class="stringliteral">&quot;compile&quot;</span>, wasm::WebAssemblyCompile, 1);</div>
<div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, webassembly, <span class="stringliteral">&quot;validate&quot;</span>, wasm::WebAssemblyValidate, 1);</div>
<div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, webassembly, <span class="stringliteral">&quot;instantiate&quot;</span>,</div>
<div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;                wasm::WebAssemblyInstantiate, 1);</div>
<div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;  }</div>
<div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160; </div>
<div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;  <span class="comment">// Create the Module object.</span></div>
<div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;  <a class="code" href="classv8_1_1internal_1_1WasmJs.html#a2a0940bc2fcba99ed44657a4aa83db24">InstallModule</a>(isolate, webassembly);</div>
<div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160; </div>
<div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;  <span class="comment">// Create the Instance object.</span></div>
<div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;  {</div>
<div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;    DirectHandle&lt;JSFunction&gt; instance_constructor = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#aba01530f130336b4b5dfcef830115757">InstallConstructorFunc</a>(</div>
<div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;        isolate, webassembly, <span class="stringliteral">&quot;Instance&quot;</span>, wasm::WebAssemblyInstance);</div>
<div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;    DirectHandle&lt;JSObject&gt; instance_proto = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#abfcc6ebe00bd232418d95a28859011bc">SetupConstructor</a>(</div>
<div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;        isolate, instance_constructor, WASM_INSTANCE_OBJECT_TYPE,</div>
<div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;        WasmInstanceObject::kHeaderSize, <span class="stringliteral">&quot;WebAssembly.Instance&quot;</span>);</div>
<div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>-&gt;set_wasm_instance_constructor(*instance_constructor);</div>
<div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#ad04016809f9a3de12934636e7f335ccd">InstallGetter</a>(isolate, instance_proto, <span class="stringliteral">&quot;exports&quot;</span>,</div>
<div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;                  wasm::WebAssemblyInstanceGetExports);</div>
<div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;  }</div>
<div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160; </div>
<div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;  <span class="comment">// Create the Table object.</span></div>
<div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;  {</div>
<div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;    DirectHandle&lt;JSFunction&gt; table_constructor = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#aba01530f130336b4b5dfcef830115757">InstallConstructorFunc</a>(</div>
<div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;        isolate, webassembly, <span class="stringliteral">&quot;Table&quot;</span>, wasm::WebAssemblyTable);</div>
<div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;    DirectHandle&lt;JSObject&gt; table_proto =</div>
<div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;        <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#abfcc6ebe00bd232418d95a28859011bc">SetupConstructor</a>(isolate, table_constructor, WASM_TABLE_OBJECT_TYPE,</div>
<div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;                         WasmTableObject::kHeaderSize, <span class="stringliteral">&quot;WebAssembly.Table&quot;</span>);</div>
<div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>-&gt;set_wasm_table_constructor(*table_constructor);</div>
<div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#ad04016809f9a3de12934636e7f335ccd">InstallGetter</a>(isolate, table_proto, <span class="stringliteral">&quot;length&quot;</span>,</div>
<div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;                  wasm::WebAssemblyTableGetLength);</div>
<div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, table_proto, <span class="stringliteral">&quot;grow&quot;</span>, wasm::WebAssemblyTableGrow, 1);</div>
<div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, table_proto, <span class="stringliteral">&quot;set&quot;</span>, wasm::WebAssemblyTableSet, 1);</div>
<div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, table_proto, <span class="stringliteral">&quot;get&quot;</span>, wasm::WebAssemblyTableGet, 1,</div>
<div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;                <span class="keyword">false</span>, <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370">NONE</a>, <a class="code" href="namespacev8.html#a29711319c2b9fc7716d65faee2f7b9cba5168ab38be99edd5ce1e4cb991b21f51">SideEffectType::kHasNoSideEffect</a>);</div>
<div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;  }</div>
<div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160; </div>
<div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;  <span class="comment">// Create the Memory object.</span></div>
<div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;  {</div>
<div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;    DirectHandle&lt;JSFunction&gt; memory_constructor = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#aba01530f130336b4b5dfcef830115757">InstallConstructorFunc</a>(</div>
<div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;        isolate, webassembly, <span class="stringliteral">&quot;Memory&quot;</span>, wasm::WebAssemblyMemory);</div>
<div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;    DirectHandle&lt;JSObject&gt; memory_proto =</div>
<div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;        <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#abfcc6ebe00bd232418d95a28859011bc">SetupConstructor</a>(isolate, memory_constructor, WASM_MEMORY_OBJECT_TYPE,</div>
<div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;                         WasmMemoryObject::kHeaderSize, <span class="stringliteral">&quot;WebAssembly.Memory&quot;</span>);</div>
<div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>-&gt;set_wasm_memory_constructor(*memory_constructor);</div>
<div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, memory_proto, <span class="stringliteral">&quot;grow&quot;</span>, wasm::WebAssemblyMemoryGrow, 1);</div>
<div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#ad04016809f9a3de12934636e7f335ccd">InstallGetter</a>(isolate, memory_proto, <span class="stringliteral">&quot;buffer&quot;</span>,</div>
<div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;                  wasm::WebAssemblyMemoryGetBuffer);</div>
<div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;  }</div>
<div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160; </div>
<div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;  <span class="comment">// Create the Global object.</span></div>
<div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;  {</div>
<div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;    DirectHandle&lt;JSFunction&gt; global_constructor = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#aba01530f130336b4b5dfcef830115757">InstallConstructorFunc</a>(</div>
<div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;        isolate, webassembly, <span class="stringliteral">&quot;Global&quot;</span>, wasm::WebAssemblyGlobal);</div>
<div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;    DirectHandle&lt;JSObject&gt; global_proto =</div>
<div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;        <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#abfcc6ebe00bd232418d95a28859011bc">SetupConstructor</a>(isolate, global_constructor, WASM_GLOBAL_OBJECT_TYPE,</div>
<div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;                         WasmGlobalObject::kHeaderSize, <span class="stringliteral">&quot;WebAssembly.Global&quot;</span>);</div>
<div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>-&gt;set_wasm_global_constructor(*global_constructor);</div>
<div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, global_proto, <span class="stringliteral">&quot;valueOf&quot;</span>,</div>
<div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;                wasm::WebAssemblyGlobalValueOf, 0, <span class="keyword">false</span>, <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370">NONE</a>,</div>
<div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;                <a class="code" href="namespacev8.html#a29711319c2b9fc7716d65faee2f7b9cba5168ab38be99edd5ce1e4cb991b21f51">SideEffectType::kHasNoSideEffect</a>);</div>
<div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a6cbbe7d60ce5aa0c6ce129e691faece7">InstallGetterSetter</a>(isolate, global_proto, <span class="stringliteral">&quot;value&quot;</span>,</div>
<div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;                        wasm::WebAssemblyGlobalGetValue,</div>
<div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;                        wasm::WebAssemblyGlobalSetValue);</div>
<div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;  }</div>
<div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160; </div>
<div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;  <span class="comment">// Create the Exception object.</span></div>
<div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;  {</div>
<div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;    DirectHandle&lt;JSFunction&gt; tag_constructor = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#aba01530f130336b4b5dfcef830115757">InstallConstructorFunc</a>(</div>
<div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;        isolate, webassembly, <span class="stringliteral">&quot;Tag&quot;</span>, wasm::WebAssemblyTag);</div>
<div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#abfcc6ebe00bd232418d95a28859011bc">SetupConstructor</a>(isolate, tag_constructor, WASM_TAG_OBJECT_TYPE,</div>
<div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;                     WasmTagObject::kHeaderSize, <span class="stringliteral">&quot;WebAssembly.Tag&quot;</span>);</div>
<div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>-&gt;set_wasm_tag_constructor(*tag_constructor);</div>
<div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;    <span class="keyword">auto</span> js_tag = <a class="code" href="classv8_1_1internal_1_1WasmExceptionTag.html#a16f4ecfd034d8f83eb0b57c2dfeb7e86">WasmExceptionTag::New</a>(isolate, 0);</div>
<div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;    <span class="comment">// Note the canonical_type_index is reset in WasmJs::Install s.t.</span></div>
<div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;    <span class="comment">// type_canonicalizer bookkeeping remains valid.</span></div>
<div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;    <span class="keyword">static</span> constexpr wasm::CanonicalTypeIndex kInitialCanonicalTypeIndex{0};</div>
<div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;    DirectHandle&lt;JSObject&gt; js_tag_object = <a class="code" href="classv8_1_1internal_1_1WasmTagObject.html#a80e21a9531997c9d7c95d9bd95d86cd4">WasmTagObject::New</a>(</div>
<div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;        isolate, &amp;<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a8412b6f26abd7ea8cbf5f65b0481eaad">kWasmExceptionTagSignature</a>, kInitialCanonicalTypeIndex,</div>
<div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;        js_tag, DirectHandle&lt;WasmTrustedInstanceData&gt;());</div>
<div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>-&gt;set_wasm_js_tag(*js_tag_object);</div>
<div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;    <a class="code" href="classv8_1_1internal_1_1JSObject.html#a16c9b19de5218c056da014960fba72ae">JSObject::AddProperty</a>(isolate, webassembly, <span class="stringliteral">&quot;JSTag&quot;</span>, js_tag_object,</div>
<div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;                          ro_attributes);</div>
<div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;  }</div>
<div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160; </div>
<div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;  <span class="comment">// Set up the runtime exception constructor.</span></div>
<div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;  {</div>
<div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;    DirectHandle&lt;JSFunction&gt; exception_constructor = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#aba01530f130336b4b5dfcef830115757">InstallConstructorFunc</a>(</div>
<div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;        isolate, webassembly, <span class="stringliteral">&quot;Exception&quot;</span>, wasm::WebAssemblyException);</div>
<div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#acfc430f21a2bff2a0e65815f9db46b1f">SetDummyInstanceTemplate</a>(isolate, exception_constructor);</div>
<div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;    DirectHandle&lt;JSObject&gt; exception_proto = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#abfcc6ebe00bd232418d95a28859011bc">SetupConstructor</a>(</div>
<div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;        isolate, exception_constructor, WASM_EXCEPTION_PACKAGE_TYPE,</div>
<div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;        <a class="code" href="classv8_1_1internal_1_1WasmExceptionPackage.html#a56dbc595afcc4c0a3be9b234c881eb53">WasmExceptionPackage::kSize</a>, <span class="stringliteral">&quot;WebAssembly.Exception&quot;</span>,</div>
<div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;        <a class="code" href="classv8_1_1internal_1_1WasmExceptionPackage.html#a7a460589a60bdb8f714ae48c9ea6868ca63a83fe6a986b4960024d0b857f377aa">WasmExceptionPackage::kInObjectFieldCount</a>);</div>
<div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, exception_proto, <span class="stringliteral">&quot;getArg&quot;</span>,</div>
<div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;                wasm::WebAssemblyExceptionGetArg, 2);</div>
<div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, exception_proto, <span class="stringliteral">&quot;is&quot;</span>, wasm::WebAssemblyExceptionIs,</div>
<div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160;                1);</div>
<div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>-&gt;set_wasm_exception_constructor(*exception_constructor);</div>
<div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160; </div>
<div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;    DirectHandle&lt;Map&gt; <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a4547ea68c972ac14663623ed7adab8d8">initial_map</a>(exception_constructor-&gt;initial_map(),</div>
<div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;                                  isolate);</div>
<div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Map.html#a191ce82487f39a16749e1d5f195ce8b9">Map::EnsureDescriptorSlack</a>(isolate, <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a4547ea68c972ac14663623ed7adab8d8">initial_map</a>, 2);</div>
<div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;    {</div>
<div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;      Descriptor d = <a class="code" href="classv8_1_1internal_1_1Descriptor.html#a2782160995ef5a9c515d8cee9a6b2d85">Descriptor::DataField</a>(</div>
<div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;          isolate, f-&gt;wasm_exception_tag_symbol(),</div>
<div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160;          <a class="code" href="classv8_1_1internal_1_1WasmExceptionPackage.html#a7a460589a60bdb8f714ae48c9ea6868caed5075d6670bcb3fbea0070f8a69fb27">WasmExceptionPackage::kTagIndex</a>, <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a7a681885f7c5656b01ef8ba9f9bde868">DONT_ENUM</a>, <a class="code" href="classv8_1_1internal_1_1Representation.html#af5ac13ce30d154a376b85764d1ad2760">Representation::Tagged</a>());</div>
<div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a4547ea68c972ac14663623ed7adab8d8">initial_map</a>-&gt;AppendDescriptor(isolate, &amp;d);</div>
<div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;    }</div>
<div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;    {</div>
<div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;      Descriptor d =</div>
<div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;          <a class="code" href="classv8_1_1internal_1_1Descriptor.html#a2782160995ef5a9c515d8cee9a6b2d85">Descriptor::DataField</a>(isolate, f-&gt;wasm_exception_values_symbol(),</div>
<div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;                                <a class="code" href="classv8_1_1internal_1_1WasmExceptionPackage.html#a7a460589a60bdb8f714ae48c9ea6868cadfaf00fe3bca39744c0eaf6637917b71">WasmExceptionPackage::kValuesIndex</a>, <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a7a681885f7c5656b01ef8ba9f9bde868">DONT_ENUM</a>,</div>
<div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;                                <a class="code" href="classv8_1_1internal_1_1Representation.html#af5ac13ce30d154a376b85764d1ad2760">Representation::Tagged</a>());</div>
<div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a4547ea68c972ac14663623ed7adab8d8">initial_map</a>-&gt;AppendDescriptor(isolate, &amp;d);</div>
<div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;    }</div>
<div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;  }</div>
<div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160; </div>
<div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160;  <span class="comment">// By default, make all exported functions an instance of {Function}.</span></div>
<div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;  {</div>
<div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;    DirectHandle&lt;Map&gt; <a class="code" href="namespacev8_1_1internal_1_1libvtune.html#a0fcf6e701e6a3e10310c2126f52732e9">function_map</a> =</div>
<div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;        isolate-&gt;sloppy_function_without_prototype_map();</div>
<div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>-&gt;set_wasm_exported_function_map(*<a class="code" href="namespacev8_1_1internal_1_1libvtune.html#a0fcf6e701e6a3e10310c2126f52732e9">function_map</a>);</div>
<div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;  }</div>
<div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160; </div>
<div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;  <span class="comment">// Setup errors.</span></div>
<div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;  {</div>
<div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#ad6a87719e955c3d58bf7c12a1d33a76f">InstallError</a>(isolate, webassembly, f-&gt;CompileError_string(),</div>
<div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;                 Context::WASM_COMPILE_ERROR_FUNCTION_INDEX);</div>
<div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#ad6a87719e955c3d58bf7c12a1d33a76f">InstallError</a>(isolate, webassembly, f-&gt;LinkError_string(),</div>
<div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160;                 Context::WASM_LINK_ERROR_FUNCTION_INDEX);</div>
<div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#ad6a87719e955c3d58bf7c12a1d33a76f">InstallError</a>(isolate, webassembly, f-&gt;RuntimeError_string(),</div>
<div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;                 Context::WASM_RUNTIME_ERROR_FUNCTION_INDEX);</div>
<div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160;  }</div>
<div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1Descriptor_html_a2782160995ef5a9c515d8cee9a6b2d85"><div class="ttname"><a href="classv8_1_1internal_1_1Descriptor.html#a2782160995ef5a9c515d8cee9a6b2d85">v8::internal::Descriptor::DataField</a></div><div class="ttdeci">static Descriptor DataField(Isolate *isolate, DirectHandle&lt; Name &gt; key, int field_index, PropertyAttributes attributes, Representation representation)</div><div class="ttdef"><b>Definition:</b> <a href="property_8cc_source.html#l00081">property.cc:81</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSFunction_html_a1c279ee3a4c277def6afe88af24389b8"><div class="ttname"><a href="classv8_1_1internal_1_1JSFunction.html#a1c279ee3a4c277def6afe88af24389b8">v8::internal::JSFunction::SetPrototype</a></div><div class="ttdeci">static void SetPrototype(Isolate *isolate, DirectHandle&lt; JSFunction &gt; function, DirectHandle&lt; Object &gt; value)</div><div class="ttdef"><b>Definition:</b> <a href="js-function_8cc_source.html#l00859">js-function.cc:859</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Map_html_a191ce82487f39a16749e1d5f195ce8b9"><div class="ttname"><a href="classv8_1_1internal_1_1Map.html#a191ce82487f39a16749e1d5f195ce8b9">v8::internal::Map::EnsureDescriptorSlack</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE void EnsureDescriptorSlack(Isolate *isolate, DirectHandle&lt; Map &gt; map, int slack)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cc_source.html#l00861">map.cc:861</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Representation_html_af5ac13ce30d154a376b85764d1ad2760"><div class="ttname"><a href="classv8_1_1internal_1_1Representation.html#af5ac13ce30d154a376b85764d1ad2760">v8::internal::Representation::Tagged</a></div><div class="ttdeci">static constexpr Representation Tagged()</div><div class="ttdef"><b>Definition:</b> <a href="property-details_8h_source.html#l00113">property-details.h:113</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmExceptionPackage_html_a56dbc595afcc4c0a3be9b234c881eb53"><div class="ttname"><a href="classv8_1_1internal_1_1WasmExceptionPackage.html#a56dbc595afcc4c0a3be9b234c881eb53">v8::internal::WasmExceptionPackage::kSize</a></div><div class="ttdeci">static constexpr int kSize</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8h_source.html#l00969">wasm-objects.h:969</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmExceptionPackage_html_a7a460589a60bdb8f714ae48c9ea6868ca63a83fe6a986b4960024d0b857f377aa"><div class="ttname"><a href="classv8_1_1internal_1_1WasmExceptionPackage.html#a7a460589a60bdb8f714ae48c9ea6868ca63a83fe6a986b4960024d0b857f377aa">v8::internal::WasmExceptionPackage::kInObjectFieldCount</a></div><div class="ttdeci">@ kInObjectFieldCount</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8h_source.html#l00968">wasm-objects.h:968</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmExceptionPackage_html_a7a460589a60bdb8f714ae48c9ea6868cadfaf00fe3bca39744c0eaf6637917b71"><div class="ttname"><a href="classv8_1_1internal_1_1WasmExceptionPackage.html#a7a460589a60bdb8f714ae48c9ea6868cadfaf00fe3bca39744c0eaf6637917b71">v8::internal::WasmExceptionPackage::kValuesIndex</a></div><div class="ttdeci">@ kValuesIndex</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8h_source.html#l00968">wasm-objects.h:968</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmExceptionPackage_html_a7a460589a60bdb8f714ae48c9ea6868caed5075d6670bcb3fbea0070f8a69fb27"><div class="ttname"><a href="classv8_1_1internal_1_1WasmExceptionPackage.html#a7a460589a60bdb8f714ae48c9ea6868caed5075d6670bcb3fbea0070f8a69fb27">v8::internal::WasmExceptionPackage::kTagIndex</a></div><div class="ttdeci">@ kTagIndex</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8h_source.html#l00968">wasm-objects.h:968</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmExceptionTag_html_a16f4ecfd034d8f83eb0b57c2dfeb7e86"><div class="ttname"><a href="classv8_1_1internal_1_1WasmExceptionTag.html#a16f4ecfd034d8f83eb0b57c2dfeb7e86">v8::internal::WasmExceptionTag::New</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE DirectHandle&lt; WasmExceptionTag &gt; New(Isolate *isolate, int index)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l03305">wasm-objects.cc:3305</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTagObject_html_a80e21a9531997c9d7c95d9bd95d86cd4"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTagObject.html#a80e21a9531997c9d7c95d9bd95d86cd4">v8::internal::WasmTagObject::New</a></div><div class="ttdeci">static DirectHandle&lt; WasmTagObject &gt; New(Isolate *isolate, const wasm::FunctionSig *sig, wasm::CanonicalTypeIndex type_index, DirectHandle&lt; HeapObject &gt; tag, DirectHandle&lt; WasmTrustedInstanceData &gt; instance)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l02367">wasm-objects.cc:2367</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_html_a6cbbe7d60ce5aa0c6ce129e691faece7"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a6cbbe7d60ce5aa0c6ce129e691faece7">v8::internal::anonymous_namespace{wasm-js.cc}::InstallGetterSetter</a></div><div class="ttdeci">void InstallGetterSetter(Isolate *isolate, DirectHandle&lt; JSObject &gt; object, const char *str, FunctionCallback getter, FunctionCallback setter)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l03353">wasm-js.cc:3353</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_html_ad04016809f9a3de12934636e7f335ccd"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#ad04016809f9a3de12934636e7f335ccd">v8::internal::anonymous_namespace{wasm-js.cc}::InstallGetter</a></div><div class="ttdeci">void InstallGetter(Isolate *isolate, DirectHandle&lt; JSObject &gt; object, const char *str, FunctionCallback func)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l03336">wasm-js.cc:3336</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_html_a4547ea68c972ac14663623ed7adab8d8"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler.html#a4547ea68c972ac14663623ed7adab8d8">v8::internal::compiler::initial_map</a></div><div class="ttdeci">true initial_map</div><div class="ttdef"><b>Definition:</b> <a href="heap-refs_8cc_source.html#l02435">heap-refs.cc:2435</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a604d5beeb6fc8639670f737ed201e20aa0aa38c28f349d65a6819e03844b73dff"><div class="ttname"><a href="namespacev8_1_1internal.html#a604d5beeb6fc8639670f737ed201e20aa0aa38c28f349d65a6819e03844b73dff">v8::internal::AllocationType::kOld</a></div><div class="ttdeci">@ kOld</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aff2483f817f329c2b4c7c1d7149f858ba35215d4c3b69349b967c421fd68b0b36"><div class="ttname"><a href="namespacev8_1_1internal.html#aff2483f817f329c2b4c7c1d7149f858ba35215d4c3b69349b967c421fd68b0b36">v8::internal::LanguageMode::kStrict</a></div><div class="ttdeci">@ kStrict</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="src_2base_2logging_8h_source.html#l00124">CHECK</a>, <a class="el" href="property-details_8h_source.html#l00021">v8::internal::DONT_ENUM</a>, <a class="el" href="execution_2isolate_8h_source.html#l01553">v8::internal::Isolate::factory()</a>, <a class="el" href="vtunedomain-support-extension_8cc_source.html#l00021">v8::internal::libvtune::function_map</a>, <a class="el" href="execution_2isolate-inl_8h_source.html#l00211">v8::internal::Isolate::global_object()</a>, <a class="el" href="heap-refs_8cc_source.html#l02435">v8::internal::compiler::initial_map</a>, <a class="el" href="wasm-js_8cc_source.html#l03323">v8::internal::anonymous_namespace{wasm-js.cc}::InstallConstructorFunc()</a>, <a class="el" href="bootstrapper_8cc_source.html#l01524">v8::internal::InstallError()</a>, <a class="el" href="wasm-js_8cc_source.html#l03313">v8::internal::anonymous_namespace{wasm-js.cc}::InstallFunc()</a>, <a class="el" href="wasm-js_8cc_source.html#l03336">v8::internal::anonymous_namespace{wasm-js.cc}::InstallGetter()</a>, <a class="el" href="wasm-js_8cc_source.html#l03353">v8::internal::anonymous_namespace{wasm-js.cc}::InstallGetterSetter()</a>, <a class="el" href="common_2globals_8h_source.html#l02794">v8::internal::kDontAdapt</a>, <a class="el" href="namespacev8.html#a29711319c2b9fc7716d65faee2f7b9cba5168ab38be99edd5ce1e4cb991b21f51">v8::kHasNoSideEffect</a>, <a class="el" href="wasm-js_8cc_source.html#l03408">v8::internal::anonymous_namespace{wasm-js.cc}::kWasmExceptionTagSignature</a>, <a class="el" href="map-inl_8h_source.html#l00896">v8::internal::native_context</a>, <a class="el" href="intl-objects_8cc_source.html#l00205">v8::internal::anonymous_namespace{intl-objects.cc}::New()</a>, <a class="el" href="factory_8cc_source.html#l03018">v8::internal::Factory::NewJSObject()</a>, <a class="el" href="factory_8cc_source.html#l03943">v8::internal::Factory::NewSharedFunctionInfoForBuiltin()</a>, <a class="el" href="property-details_8h_source.html#l00019">v8::internal::NONE</a>, <a class="el" href="property-details_8h_source.html#l00020">v8::internal::READ_ONLY</a>, <a class="el" href="wasm-js_8cc_source.html#l03373">v8::internal::anonymous_namespace{wasm-js.cc}::SetDummyInstanceTemplate()</a>, <a class="el" href="wasm-js_8cc_source.html#l03381">v8::internal::anonymous_namespace{wasm-js.cc}::SetupConstructor()</a>, <a class="el" href="namespacev8_1_1internal.html#a4382c244e839ce16a4beafabd1c6bd1d">v8::internal::Tagged()</a>, and <a class="el" href="wasm-js_8cc_source.html#l00177">v8::anonymous_namespace{wasm-js.cc}::v8_str()</a>.</p>

<p class="reference">Referenced by <a class="el" href="bootstrapper_8cc_source.html#l06928">v8::internal::Genesis::Genesis()</a>.</p>
<div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1WasmJs_ad9d30fdd56a8c38868338f9635ca9be9_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1WasmJs_ad9d30fdd56a8c38868338f9635ca9be9_icgraph.svg" width="375" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/mnt/V8SourceCode/src/wasm/<a class="el" href="wasm-js_8h_source.html">wasm-js.h</a></li>
<li>/mnt/V8SourceCode/src/wasm/<a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacev8.html">v8</a></li><li class="navelem"><a class="el" href="namespacev8_1_1internal.html">internal</a></li><li class="navelem"><a class="el" href="classv8_1_1internal_1_1WasmJs.html">WasmJs</a></li>
    <li class="footer">Generated on Thu Jun 12 2025 16:06:18 for V8 Project by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
