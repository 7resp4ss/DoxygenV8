<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>V8 Project: v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">V8 Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl__coll__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_1_1PublishState.html">PublishState</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a4ed36715f9c0623f94e39fdb85d1b8dc"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a4ed36715f9c0623f94e39fdb85d1b8dc">CancellationPolicy</a> { <a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a4ed36715f9c0623f94e39fdb85d1b8dca4b9ffae1a69c29d758cabd6015d65c21">kCancelUnconditionally</a>
, <a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a4ed36715f9c0623f94e39fdb85d1b8dca56d6183964d232e8e20d243ae101bae3">kCancelInitialCompilation</a>
 }</td></tr>
<tr class="separator:a4ed36715f9c0623f94e39fdb85d1b8dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4ec958a8992fd6f73195af7749c695ea"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a4ec958a8992fd6f73195af7749c695ea">CompilationStateImpl</a> (const std::shared_ptr&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html">NativeModule</a> &gt; &amp;native_module, std::shared_ptr&lt; <a class="el" href="classv8_1_1internal_1_1Counters.html">Counters</a> &gt; async_counters, <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmDetectedFeatures.html">WasmDetectedFeatures</a> <a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a46f742b041803cde875c307e3021be18">detected_features</a>)</td></tr>
<tr class="separator:a4ec958a8992fd6f73195af7749c695ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab766f332e04fe1ee004315c298624fb7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab766f332e04fe1ee004315c298624fb7">~CompilationStateImpl</a> ()</td></tr>
<tr class="separator:ab766f332e04fe1ee004315c298624fb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a027613078d5bd38a4971700e68b6a20d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a027613078d5bd38a4971700e68b6a20d">InitCompileJob</a> ()</td></tr>
<tr class="separator:a027613078d5bd38a4971700e68b6a20d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ab550a27ff66014d823f06de54082e8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a8ab550a27ff66014d823f06de54082e8">CancelCompilation</a> (<a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a4ed36715f9c0623f94e39fdb85d1b8dc">CancellationPolicy</a>)</td></tr>
<tr class="separator:a8ab550a27ff66014d823f06de54082e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e8ed1af01ad199828413d1c9f4bacbb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a6e8ed1af01ad199828413d1c9f4bacbb">cancelled</a> () const</td></tr>
<tr class="separator:a6e8ed1af01ad199828413d1c9f4bacbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85ad2d14130ce9699d36bd8d9fe02333"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a85ad2d14130ce9699d36bd8d9fe02333">ApplyCompilationHintToInitialProgress</a> (const <a class="el" href="structv8_1_1internal_1_1wasm_1_1WasmCompilationHint.html">WasmCompilationHint</a> &amp;hint, <a class="el" href="namespacev8_1_1internal.html#a4725962ca3c127eb5871cb47293aee95">size_t</a> hint_idx)</td></tr>
<tr class="separator:a85ad2d14130ce9699d36bd8d9fe02333"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabe8418b13e7c57d1415541cb0574eb6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#aabe8418b13e7c57d1415541cb0574eb6">ApplyPgoInfoToInitialProgress</a> (<a class="el" href="classv8_1_1internal_1_1wasm_1_1ProfileInformation.html">ProfileInformation</a> *pgo_info)</td></tr>
<tr class="separator:aabe8418b13e7c57d1415541cb0574eb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec07f03c5728ff18989f7f7714b30ea7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#aec07f03c5728ff18989f7f7714b30ea7">ApplyPgoInfoLate</a> (<a class="el" href="classv8_1_1internal_1_1wasm_1_1ProfileInformation.html">ProfileInformation</a> *pgo_info)</td></tr>
<tr class="separator:aec07f03c5728ff18989f7f7714b30ea7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06926c1b78473627fab3d1409a0916c6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a06926c1b78473627fab3d1409a0916c6">InitializeCompilationProgress</a> (<a class="el" href="classv8_1_1internal_1_1wasm_1_1ProfileInformation.html">ProfileInformation</a> *pgo_info)</td></tr>
<tr class="separator:a06926c1b78473627fab3d1409a0916c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcd9da62d1edbb0e854d525370766659"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#afcd9da62d1edbb0e854d525370766659">InitializeCompilationProgressAfterDeserialization</a> (<a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; const <a class="el" href="classint.html">int</a> &gt; lazy_functions, <a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; const <a class="el" href="classint.html">int</a> &gt; eager_functions)</td></tr>
<tr class="separator:afcd9da62d1edbb0e854d525370766659"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac57fa6c76918532a01b6d1028b948fb1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ac57fa6c76918532a01b6d1028b948fb1">InitializeCompilationUnits</a> (std::unique_ptr&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitBuilder.html">CompilationUnitBuilder</a> &gt; builder)</td></tr>
<tr class="separator:ac57fa6c76918532a01b6d1028b948fb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0af1dcf85378fb072a892b87ed4ac15"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab0af1dcf85378fb072a892b87ed4ac15">InitializeCompilationUnitForSingleFunction</a> (<a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitBuilder.html">CompilationUnitBuilder</a> *builder, <a class="el" href="classint.html">int</a> func_index)</td></tr>
<tr class="separator:ab0af1dcf85378fb072a892b87ed4ac15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae69af533e833f888b6c141e97058a96d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ae69af533e833f888b6c141e97058a96d">AddCallback</a> (std::unique_ptr&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1CompilationEventCallback.html">CompilationEventCallback</a> &gt; callback)</td></tr>
<tr class="separator:ae69af533e833f888b6c141e97058a96d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af474d59648037e58456a4564d5345fe5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#af474d59648037e58456a4564d5345fe5">CommitCompilationUnits</a> (<a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCompilationUnit.html">WasmCompilationUnit</a> &gt; baseline_units, <a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCompilationUnit.html">WasmCompilationUnit</a> &gt; top_tier_units)</td></tr>
<tr class="separator:af474d59648037e58456a4564d5345fe5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c78c0ef4fe93265afd37c1c6efe5792"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a5c78c0ef4fe93265afd37c1c6efe5792">CommitTopTierCompilationUnit</a> (<a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCompilationUnit.html">WasmCompilationUnit</a>)</td></tr>
<tr class="separator:a5c78c0ef4fe93265afd37c1c6efe5792"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50f1bd3b41156eaf80d7e833a95f5bce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a50f1bd3b41156eaf80d7e833a95f5bce">AddTopTierPriorityCompilationUnit</a> (<a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCompilationUnit.html">WasmCompilationUnit</a>, <a class="el" href="namespacev8_1_1internal.html#a4725962ca3c127eb5871cb47293aee95">size_t</a>)</td></tr>
<tr class="separator:a50f1bd3b41156eaf80d7e833a95f5bce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bd4a3ad05fde241ad2e33e12ca1275d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitQueues_1_1Queue.html">CompilationUnitQueues::Queue</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a7bd4a3ad05fde241ad2e33e12ca1275d">GetQueueForCompileTask</a> (<a class="el" href="classint.html">int</a> task_id)</td></tr>
<tr class="separator:a7bd4a3ad05fde241ad2e33e12ca1275d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4691d2bab412c73443a96c25fa8bc94b"><td class="memItemLeft" align="right" valign="top">std::optional&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCompilationUnit.html">WasmCompilationUnit</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a4691d2bab412c73443a96c25fa8bc94b">GetNextCompilationUnit</a> (<a class="el" href="structv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitQueues_1_1Queue.html">CompilationUnitQueues::Queue</a> *, <a class="el" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03.html#aef575f4d4842a6dcdb81b8c172df9eb5">CompilationTier</a> <a class="el" href="flag-definitions_8h.html#a878783ad616ead06040f7d4b080f6a02">tier</a>)</td></tr>
<tr class="separator:a4691d2bab412c73443a96c25fa8bc94b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a03590d60fc6923649c15307fc00dfd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a0a03590d60fc6923649c15307fc00dfd">OnFinishedUnits</a> (<a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a> * &gt;)</td></tr>
<tr class="separator:a0a03590d60fc6923649c15307fc00dfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf989d360ca6f9f18f40ba6ed28c76b0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#adf989d360ca6f9f18f40ba6ed28c76b0">OnCompilationStopped</a> (<a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmDetectedFeatures.html">WasmDetectedFeatures</a> detected)</td></tr>
<tr class="separator:adf989d360ca6f9f18f40ba6ed28c76b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31071aac7bfc7dfb7923f3376d78376b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a31071aac7bfc7dfb7923f3376d78376b">SchedulePublishCompilationResults</a> (std::vector&lt; <a class="el" href="structv8_1_1internal_1_1wasm_1_1UnpublishedWasmCode.html">UnpublishedWasmCode</a> &gt; unpublished_code, <a class="el" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03.html#aef575f4d4842a6dcdb81b8c172df9eb5">CompilationTier</a> <a class="el" href="flag-definitions_8h.html#a878783ad616ead06040f7d4b080f6a02">tier</a>)</td></tr>
<tr class="separator:a31071aac7bfc7dfb7923f3376d78376b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46f742b041803cde875c307e3021be18"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmDetectedFeatures.html">WasmDetectedFeatures</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a46f742b041803cde875c307e3021be18">detected_features</a> () const</td></tr>
<tr class="separator:a46f742b041803cde875c307e3021be18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae307e43873e6a925477fefac9dcef545"><td class="memItemLeft" align="right" valign="top"><a class="el" href="v8config_8h.html#a63258e4bf5dc9fb8c78f881c8405d83b">V8_WARN_UNUSED_RESULT</a> <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmDetectedFeatures.html">WasmDetectedFeatures</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ae307e43873e6a925477fefac9dcef545">UpdateDetectedFeatures</a> (<a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmDetectedFeatures.html">WasmDetectedFeatures</a>)</td></tr>
<tr class="separator:ae307e43873e6a925477fefac9dcef545"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbf680841025a81ae543c133173e87a2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal.html#a4725962ca3c127eb5871cb47293aee95">size_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#acbf680841025a81ae543c133173e87a2">NumOutstandingCompilations</a> (<a class="el" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03.html#aef575f4d4842a6dcdb81b8c172df9eb5">CompilationTier</a> <a class="el" href="flag-definitions_8h.html#a878783ad616ead06040f7d4b080f6a02">tier</a>) const</td></tr>
<tr class="separator:acbf680841025a81ae543c133173e87a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28b47f0cb3321f0107f1a57b0b7edf0d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a28b47f0cb3321f0107f1a57b0b7edf0d">SetError</a> ()</td></tr>
<tr class="separator:a28b47f0cb3321f0107f1a57b0b7edf0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf65fb2f96cb75ae477b7b62b8aecb90"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#aaf65fb2f96cb75ae477b7b62b8aecb90">WaitForCompilationEvent</a> (<a class="el" href="namespacev8_1_1internal_1_1wasm.html#a020d8fcab0133f11030d7b8ef6259e29">CompilationEvent</a> event)</td></tr>
<tr class="separator:aaf65fb2f96cb75ae477b7b62b8aecb90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2321adabbd69bbd58643f3fcd00177bd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a2321adabbd69bbd58643f3fcd00177bd">TierUpAllFunctions</a> ()</td></tr>
<tr class="separator:a2321adabbd69bbd58643f3fcd00177bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d6c6ba4a5b1ef655d9a77edb45d44a3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a4d6c6ba4a5b1ef655d9a77edb45d44a3">AllowAnotherTopTierJob</a> (uint32_t func_index)</td></tr>
<tr class="separator:a4d6c6ba4a5b1ef655d9a77edb45d44a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa518d97e029098e65c98341c966ded5a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#aa518d97e029098e65c98341c966ded5a">AllowAnotherTopTierJobForAllFunctions</a> ()</td></tr>
<tr class="separator:aa518d97e029098e65c98341c966ded5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c6110baae5557a7b1bea2a035bf4cf2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a8c6110baae5557a7b1bea2a035bf4cf2">failed</a> () const</td></tr>
<tr class="separator:a8c6110baae5557a7b1bea2a035bf4cf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4471b1fe3aff990009d8c703160a9940"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a4471b1fe3aff990009d8c703160a9940">baseline_compilation_finished</a> () const</td></tr>
<tr class="separator:a4471b1fe3aff990009d8c703160a9940"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb68dfdbcf7afb114fbfe377cb9d16d7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1Counters.html">Counters</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#aeb68dfdbcf7afb114fbfe377cb9d16d7">counters</a> () const</td></tr>
<tr class="separator:aeb68dfdbcf7afb114fbfe377cb9d16d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68db7bbe283a6280631da539f03ff3be"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a68db7bbe283a6280631da539f03ff3be">SetWireBytesStorage</a> (std::shared_ptr&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1WireBytesStorage.html">WireBytesStorage</a> &gt; wire_bytes_storage)</td></tr>
<tr class="separator:a68db7bbe283a6280631da539f03ff3be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a928d8dccea38ced17d01c739eadd64e7"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1WireBytesStorage.html">WireBytesStorage</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a928d8dccea38ced17d01c739eadd64e7">GetWireBytesStorage</a> () const</td></tr>
<tr class="separator:a928d8dccea38ced17d01c739eadd64e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5691daef0ad1f616287b1bf605e6ed19"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a5691daef0ad1f616287b1bf605e6ed19">set_compilation_id</a> (<a class="el" href="classint.html">int</a> compilation_id)</td></tr>
<tr class="separator:a5691daef0ad1f616287b1bf605e6ed19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ad6d8bbbac037e5f81f23aebaaf884b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal.html#a4725962ca3c127eb5871cb47293aee95">size_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a7ad6d8bbbac037e5f81f23aebaaf884b">EstimateCurrentMemoryConsumption</a> () const</td></tr>
<tr class="separator:a7ad6d8bbbac037e5f81f23aebaaf884b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c5396b3ed7bfce2157b37923b77ffee"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a2c5396b3ed7bfce2157b37923b77ffee">TriggerCachingAfterTimeout</a> ()</td></tr>
<tr class="separator:a2c5396b3ed7bfce2157b37923b77ffee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc9ff843b7f51b2e035c286168390f2e"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#afc9ff843b7f51b2e035c286168390f2e">PublishCode</a> (<a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; <a class="el" href="structv8_1_1internal_1_1wasm_1_1UnpublishedWasmCode.html">UnpublishedWasmCode</a> &gt; codes)</td></tr>
<tr class="separator:afc9ff843b7f51b2e035c286168390f2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a2cd4c74b5bc3faf8968fd7603eff52e7"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a2cd4c74b5bc3faf8968fd7603eff52e7">RequiredBaselineTierField</a> = <a class="el" href="namespacev8_1_1base.html#a577e2fdb1738e8cb6ccc0bc7a8eeee57">base::BitField8</a>&lt; <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9">ExecutionTier</a>, 0, 2 &gt;</td></tr>
<tr class="separator:a2cd4c74b5bc3faf8968fd7603eff52e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dcfbabd7b07ae422d2f21abb40b548e"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a9dcfbabd7b07ae422d2f21abb40b548e">RequiredTopTierField</a> = <a class="el" href="namespacev8_1_1base.html#a577e2fdb1738e8cb6ccc0bc7a8eeee57">base::BitField8</a>&lt; <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9">ExecutionTier</a>, 2, 2 &gt;</td></tr>
<tr class="separator:a9dcfbabd7b07ae422d2f21abb40b548e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6829cec0a2c47895e3395b37985d7958"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a6829cec0a2c47895e3395b37985d7958">ReachedTierField</a> = <a class="el" href="namespacev8_1_1base.html#a577e2fdb1738e8cb6ccc0bc7a8eeee57">base::BitField8</a>&lt; <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9">ExecutionTier</a>, 4, 2 &gt;</td></tr>
<tr class="separator:a6829cec0a2c47895e3395b37985d7958"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a875b97140d7a45a4148a0fb1a248e42b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a875b97140d7a45a4148a0fb1a248e42b">TriggerOutstandingCallbacks</a> ()</td></tr>
<tr class="separator:a875b97140d7a45a4148a0fb1a248e42b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c6ad44bd5a7aaefd4190c42ff0f3ea0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a9c6ad44bd5a7aaefd4190c42ff0f3ea0">TriggerCallbacks</a> (<a class="el" href="classv8_1_1base_1_1EnumSet.html">base::EnumSet</a>&lt; <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a020d8fcab0133f11030d7b8ef6259e29">CompilationEvent</a> &gt;)</td></tr>
<tr class="separator:a9c6ad44bd5a7aaefd4190c42ff0f3ea0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a811a5626f8ecd18c98ed09241c442de5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a811a5626f8ecd18c98ed09241c442de5">PublishCompilationResults</a> (std::vector&lt; <a class="el" href="structv8_1_1internal_1_1wasm_1_1UnpublishedWasmCode.html">UnpublishedWasmCode</a> &gt; unpublished_code)</td></tr>
<tr class="separator:a811a5626f8ecd18c98ed09241c442de5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ab7f1169e5324c750facf09b9f5fbad94"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html">NativeModule</a> *const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab7f1169e5324c750facf09b9f5fbad94">native_module_</a></td></tr>
<tr class="separator:ab7f1169e5324c750facf09b9f5fbad94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01d1dc67992204402a64b064c6aece4d"><td class="memItemLeft" align="right" valign="top">std::weak_ptr&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html">NativeModule</a> &gt; const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a01d1dc67992204402a64b064c6aece4d">native_module_weak_</a></td></tr>
<tr class="separator:a01d1dc67992204402a64b064c6aece4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0de5a795e5ca3ea15b6dc64672f9fdb"><td class="memItemLeft" align="right" valign="top">const std::shared_ptr&lt; <a class="el" href="classv8_1_1internal_1_1Counters.html">Counters</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ad0de5a795e5ca3ea15b6dc64672f9fdb">async_counters_</a></td></tr>
<tr class="separator:ad0de5a795e5ca3ea15b6dc64672f9fdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c2df4934d4b851409d16a00d569d33e"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; <a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a1c2df4934d4b851409d16a00d569d33e">compile_failed_</a> {<a class="el" href="flag-definitions_8h.html#a3a9beadc89284d3f78a7d4945b1b4d8c">false</a>}</td></tr>
<tr class="separator:a1c2df4934d4b851409d16a00d569d33e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7c4f6efcf3aafb8f51b8a77da48410b"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; <a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ac7c4f6efcf3aafb8f51b8a77da48410b">compile_cancelled_</a> {<a class="el" href="flag-definitions_8h.html#a3a9beadc89284d3f78a7d4945b1b4d8c">false</a>}</td></tr>
<tr class="separator:ac7c4f6efcf3aafb8f51b8a77da48410b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab616d619108985decfe0d7f7ce17fcc6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitQueues.html">CompilationUnitQueues</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab616d619108985decfe0d7f7ce17fcc6">compilation_unit_queues_</a></td></tr>
<tr class="separator:ab616d619108985decfe0d7f7ce17fcc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b824ee2bd19df1806a89e4d74a697da"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1base_1_1Mutex.html">base::Mutex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a9b824ee2bd19df1806a89e4d74a697da">mutex_</a></td></tr>
<tr class="separator:a9b824ee2bd19df1806a89e4d74a697da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40e79d0e08ce2b9ec620f2492d883b2e"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classv8_1_1JobHandle.html">JobHandle</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a40e79d0e08ce2b9ec620f2492d883b2e">baseline_compile_job_</a></td></tr>
<tr class="separator:a40e79d0e08ce2b9ec620f2492d883b2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7167a723ca63724303768ed3d1b0736d"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classv8_1_1JobHandle.html">JobHandle</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a7167a723ca63724303768ed3d1b0736d">top_tier_compile_job_</a></td></tr>
<tr class="separator:a7167a723ca63724303768ed3d1b0736d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abba3d6e3f1705511c75747b22d3f05ec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classint.html">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#abba3d6e3f1705511c75747b22d3f05ec">compilation_id_</a> = <a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a32bf0a519ec58a3c7c7444eeef340e5a">kInvalidCompilationID</a></td></tr>
<tr class="separator:abba3d6e3f1705511c75747b22d3f05ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a3e39ad3a707e8d6dfc2feab40f034a"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmDetectedFeatures.html">WasmDetectedFeatures</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a9a3e39ad3a707e8d6dfc2feab40f034a">detected_features_</a></td></tr>
<tr class="separator:a9a3e39ad3a707e8d6dfc2feab40f034a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88bbd14f5345baf9dea935d9f1b6de94"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1WireBytesStorage.html">WireBytesStorage</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a88bbd14f5345baf9dea935d9f1b6de94">wire_bytes_storage_</a></td></tr>
<tr class="separator:a88bbd14f5345baf9dea935d9f1b6de94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a765312328515d177ce5825f083c9b759"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1base_1_1Mutex.html">base::Mutex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a765312328515d177ce5825f083c9b759">callbacks_mutex_</a></td></tr>
<tr class="separator:a765312328515d177ce5825f083c9b759"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ca161fb12e541db32b60d80eb4b1e90"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::unique_ptr&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1CompilationEventCallback.html">CompilationEventCallback</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a3ca161fb12e541db32b60d80eb4b1e90">callbacks_</a></td></tr>
<tr class="separator:a3ca161fb12e541db32b60d80eb4b1e90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada63ef52e4d0b472d4194a3a6aec02e7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1base_1_1EnumSet.html">base::EnumSet</a>&lt; <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a020d8fcab0133f11030d7b8ef6259e29">CompilationEvent</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ada63ef52e4d0b472d4194a3a6aec02e7">finished_events_</a></td></tr>
<tr class="separator:ada63ef52e4d0b472d4194a3a6aec02e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8961a8c084b70ecbdb9dfe082929b2bb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classint.html">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a8961a8c084b70ecbdb9dfe082929b2bb">outstanding_baseline_units_</a> = 0</td></tr>
<tr class="separator:a8961a8c084b70ecbdb9dfe082929b2bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f9620bca55b357d90dba566d87043b1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal.html#a4725962ca3c127eb5871cb47293aee95">size_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a0f9620bca55b357d90dba566d87043b1">bytes_since_last_chunk_</a> = 0</td></tr>
<tr class="separator:a0f9620bca55b357d90dba566d87043b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ff6ff765770fe090dc00572f0e64272"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1base_1_1OwnedVector.html">base::OwnedVector</a>&lt; uint8_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a0ff6ff765770fe090dc00572f0e64272">compilation_progress_</a></td></tr>
<tr class="separator:a0ff6ff765770fe090dc00572f0e64272"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d575e5064d78171ea8245113351208a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1base_1_1TimeTicks.html">base::TimeTicks</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a9d575e5064d78171ea8245113351208a">last_top_tier_compilation_timestamp_</a></td></tr>
<tr class="separator:a9d575e5064d78171ea8245113351208a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a022eb4137f9bae86d68fe9792fda8042"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_1_1PublishState.html">PublishState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a022eb4137f9bae86d68fe9792fda8042">publish_state_</a> [CompilationTier::kNumTiers]</td></tr>
<tr class="separator:a022eb4137f9bae86d68fe9792fda8042"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a32bf0a519ec58a3c7c7444eeef340e5a"><td class="memItemLeft" align="right" valign="top">static constexpr <a class="el" href="classint.html">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a32bf0a519ec58a3c7c7444eeef340e5a">kInvalidCompilationID</a> = -1</td></tr>
<tr class="separator:a32bf0a519ec58a3c7c7444eeef340e5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l00568">568</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a6829cec0a2c47895e3395b37985d7958"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6829cec0a2c47895e3395b37985d7958">&#9670;&nbsp;</a></span>ReachedTierField</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using v8::internal::wasm::anonymous_namespace{module-compiler.cc}::<a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a6829cec0a2c47895e3395b37985d7958">CompilationStateImpl::ReachedTierField</a> =  <a class="el" href="namespacev8_1_1base.html#a577e2fdb1738e8cb6ccc0bc7a8eeee57">base::BitField8</a>&lt;<a class="el" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9">ExecutionTier</a>, 4, 2&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l00831">831</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>

</div>
</div>
<a id="a2cd4c74b5bc3faf8968fd7603eff52e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cd4c74b5bc3faf8968fd7603eff52e7">&#9670;&nbsp;</a></span>RequiredBaselineTierField</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using v8::internal::wasm::anonymous_namespace{module-compiler.cc}::<a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a2cd4c74b5bc3faf8968fd7603eff52e7">CompilationStateImpl::RequiredBaselineTierField</a> =  <a class="el" href="namespacev8_1_1base.html#a577e2fdb1738e8cb6ccc0bc7a8eeee57">base::BitField8</a>&lt;<a class="el" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9">ExecutionTier</a>, 0, 2&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l00829">829</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>

</div>
</div>
<a id="a9dcfbabd7b07ae422d2f21abb40b548e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9dcfbabd7b07ae422d2f21abb40b548e">&#9670;&nbsp;</a></span>RequiredTopTierField</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using v8::internal::wasm::anonymous_namespace{module-compiler.cc}::<a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a9dcfbabd7b07ae422d2f21abb40b548e">CompilationStateImpl::RequiredTopTierField</a> =  <a class="el" href="namespacev8_1_1base.html#a577e2fdb1738e8cb6ccc0bc7a8eeee57">base::BitField8</a>&lt;<a class="el" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9">ExecutionTier</a>, 2, 2&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l00830">830</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a4ed36715f9c0623f94e39fdb85d1b8dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ed36715f9c0623f94e39fdb85d1b8dc">&#9670;&nbsp;</a></span>CancellationPolicy</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum v8::internal::wasm::anonymous_namespace{module-compiler.cc}::<a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a4ed36715f9c0623f94e39fdb85d1b8dc">CompilationStateImpl::CancellationPolicy</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a4ed36715f9c0623f94e39fdb85d1b8dca4b9ffae1a69c29d758cabd6015d65c21"></a>kCancelUnconditionally&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a4ed36715f9c0623f94e39fdb85d1b8dca56d6183964d232e8e20d243ae101bae3"></a>kCancelInitialCompilation&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l00589">589</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;{ <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a4ed36715f9c0623f94e39fdb85d1b8dca4b9ffae1a69c29d758cabd6015d65c21">kCancelUnconditionally</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a4ed36715f9c0623f94e39fdb85d1b8dca56d6183964d232e8e20d243ae101bae3">kCancelInitialCompilation</a> };</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_html_a4ed36715f9c0623f94e39fdb85d1b8dca4b9ffae1a69c29d758cabd6015d65c21"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a4ed36715f9c0623f94e39fdb85d1b8dca4b9ffae1a69c29d758cabd6015d65c21">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::kCancelUnconditionally</a></div><div class="ttdeci">@ kCancelUnconditionally</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l00589">module-compiler.cc:589</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_html_a4ed36715f9c0623f94e39fdb85d1b8dca56d6183964d232e8e20d243ae101bae3"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a4ed36715f9c0623f94e39fdb85d1b8dca56d6183964d232e8e20d243ae101bae3">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::kCancelInitialCompilation</a></div><div class="ttdeci">@ kCancelInitialCompilation</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l00589">module-compiler.cc:589</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a4ec958a8992fd6f73195af7749c695ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ec958a8992fd6f73195af7749c695ea">&#9670;&nbsp;</a></span>CompilationStateImpl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">v8::internal::wasm::CompilationStateImpl::CompilationStateImpl </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html">NativeModule</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>native_module</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classv8_1_1internal_1_1Counters.html">Counters</a> &gt;&#160;</td>
          <td class="paramname"><em>async_counters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmDetectedFeatures.html">WasmDetectedFeatures</a>&#160;</td>
          <td class="paramname"><em>detected_features</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l03564">3564</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;    : <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab7f1169e5324c750facf09b9f5fbad94">native_module_</a>(native_module.get()),</div>
<div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a01d1dc67992204402a64b064c6aece4d">native_module_weak_</a>(std::move(native_module)),</div>
<div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ad0de5a795e5ca3ea15b6dc64672f9fdb">async_counters_</a>(std::move(async_counters)),</div>
<div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab616d619108985decfe0d7f7ce17fcc6">compilation_unit_queues_</a>(native_module-&gt;num_imported_functions(),</div>
<div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;                               native_module-&gt;num_declared_functions()),</div>
<div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a9a3e39ad3a707e8d6dfc2feab40f034a">detected_features_</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a46f742b041803cde875c307e3021be18">detected_features</a>) {}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_html_a01d1dc67992204402a64b064c6aece4d"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a01d1dc67992204402a64b064c6aece4d">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::native_module_weak_</a></div><div class="ttdeci">std::weak_ptr&lt; NativeModule &gt; const native_module_weak_</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l00743">module-compiler.cc:743</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_html_a46f742b041803cde875c307e3021be18"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a46f742b041803cde875c307e3021be18">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::detected_features</a></div><div class="ttdeci">WasmDetectedFeatures detected_features() const</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l00649">module-compiler.cc:649</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_html_a9a3e39ad3a707e8d6dfc2feab40f034a"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a9a3e39ad3a707e8d6dfc2feab40f034a">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::detected_features_</a></div><div class="ttdeci">std::atomic&lt; WasmDetectedFeatures &gt; detected_features_</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l00771">module-compiler.cc:771</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_html_ab616d619108985decfe0d7f7ce17fcc6"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab616d619108985decfe0d7f7ce17fcc6">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::compilation_unit_queues_</a></div><div class="ttdeci">CompilationUnitQueues compilation_unit_queues_</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l00754">module-compiler.cc:754</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_html_ab7f1169e5324c750facf09b9f5fbad94"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab7f1169e5324c750facf09b9f5fbad94">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::native_module_</a></div><div class="ttdeci">NativeModule *const native_module_</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l00742">module-compiler.cc:742</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_html_ad0de5a795e5ca3ea15b6dc64672f9fdb"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ad0de5a795e5ca3ea15b6dc64672f9fdb">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::async_counters_</a></div><div class="ttdeci">const std::shared_ptr&lt; Counters &gt; async_counters_</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l00744">module-compiler.cc:744</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab766f332e04fe1ee004315c298624fb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab766f332e04fe1ee004315c298624fb7">&#9670;&nbsp;</a></span>~CompilationStateImpl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::~CompilationStateImpl </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l00573">573</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;                          {</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a40e79d0e08ce2b9ec620f2492d883b2e">baseline_compile_job_</a>-&gt;IsValid()) {</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a40e79d0e08ce2b9ec620f2492d883b2e">baseline_compile_job_</a>-&gt;CancelAndDetach();</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    }</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a7167a723ca63724303768ed3d1b0736d">top_tier_compile_job_</a>-&gt;IsValid()) {</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a7167a723ca63724303768ed3d1b0736d">top_tier_compile_job_</a>-&gt;CancelAndDetach();</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    }</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  }</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_html_a40e79d0e08ce2b9ec620f2492d883b2e"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a40e79d0e08ce2b9ec620f2492d883b2e">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::baseline_compile_job_</a></div><div class="ttdeci">std::unique_ptr&lt; JobHandle &gt; baseline_compile_job_</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l00762">module-compiler.cc:762</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_html_a7167a723ca63724303768ed3d1b0736d"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a7167a723ca63724303768ed3d1b0736d">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::top_tier_compile_job_</a></div><div class="ttdeci">std::unique_ptr&lt; JobHandle &gt; top_tier_compile_job_</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l00763">module-compiler.cc:763</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l00889">v8::internal::wasm::CompilationState::~CompilationState()</a>.</p>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab766f332e04fe1ee004315c298624fb7_icgraph.svg" width="398" height="96"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ae69af533e833f888b6c141e97058a96d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae69af533e833f888b6c141e97058a96d">&#9670;&nbsp;</a></span>AddCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::CompilationStateImpl::AddCallback </td>
          <td>(</td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1CompilationEventCallback.html">CompilationEventCallback</a> &gt;&#160;</td>
          <td class="paramname"><em>callback</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l03937">3937</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l03938"></a><span class="lineno"> 3938</span>&#160;                                                      {</div>
<div class="line"><a name="l03939"></a><span class="lineno"> 3939</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> callbacks_guard(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a765312328515d177ce5825f083c9b759">callbacks_mutex_</a>);</div>
<div class="line"><a name="l03940"></a><span class="lineno"> 3940</span>&#160;  <span class="comment">// Immediately trigger events that already happened.</span></div>
<div class="line"><a name="l03941"></a><span class="lineno"> 3941</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> event : {<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a020d8fcab0133f11030d7b8ef6259e29a41b18f40e8022b599bc6360f216daba4">CompilationEvent::kFinishedBaselineCompilation</a>,</div>
<div class="line"><a name="l03942"></a><span class="lineno"> 3942</span>&#160;                     <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a020d8fcab0133f11030d7b8ef6259e29af90d51f0b738cedabb652e72ffd7b8ed">CompilationEvent::kFailedCompilation</a>}) {</div>
<div class="line"><a name="l03943"></a><span class="lineno"> 3943</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ada63ef52e4d0b472d4194a3a6aec02e7">finished_events_</a>.<a class="code" href="classv8_1_1base_1_1EnumSet.html#ae4b456a7bb23f2a76c4526748fcc911a">contains</a>(event)) {</div>
<div class="line"><a name="l03944"></a><span class="lineno"> 3944</span>&#160;      callback-&gt;call(event);</div>
<div class="line"><a name="l03945"></a><span class="lineno"> 3945</span>&#160;    }</div>
<div class="line"><a name="l03946"></a><span class="lineno"> 3946</span>&#160;  }</div>
<div class="line"><a name="l03947"></a><span class="lineno"> 3947</span>&#160;  constexpr base::EnumSet&lt;CompilationEvent&gt; kFinalEvents{</div>
<div class="line"><a name="l03948"></a><span class="lineno"> 3948</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a020d8fcab0133f11030d7b8ef6259e29af90d51f0b738cedabb652e72ffd7b8ed">CompilationEvent::kFailedCompilation</a>};</div>
<div class="line"><a name="l03949"></a><span class="lineno"> 3949</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ada63ef52e4d0b472d4194a3a6aec02e7">finished_events_</a>.<a class="code" href="classv8_1_1base_1_1EnumSet.html#acdcea1dcfc64156b624c2f674654fc93">contains_any</a>(kFinalEvents)) {</div>
<div class="line"><a name="l03950"></a><span class="lineno"> 3950</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a3ca161fb12e541db32b60d80eb4b1e90">callbacks_</a>.emplace_back(std::move(callback));</div>
<div class="line"><a name="l03951"></a><span class="lineno"> 3951</span>&#160;  }</div>
<div class="line"><a name="l03952"></a><span class="lineno"> 3952</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1base_1_1EnumSet_html_acdcea1dcfc64156b624c2f674654fc93"><div class="ttname"><a href="classv8_1_1base_1_1EnumSet.html#acdcea1dcfc64156b624c2f674654fc93">v8::base::EnumSet::contains_any</a></div><div class="ttdeci">constexpr bool contains_any(EnumSet set) const</div><div class="ttdef"><b>Definition:</b> <a href="enum-set_8h_source.html#l00041">enum-set.h:41</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1EnumSet_html_ae4b456a7bb23f2a76c4526748fcc911a"><div class="ttname"><a href="classv8_1_1base_1_1EnumSet.html#ae4b456a7bb23f2a76c4526748fcc911a">v8::base::EnumSet::contains</a></div><div class="ttdeci">constexpr bool contains(E element) const</div><div class="ttdef"><b>Definition:</b> <a href="enum-set_8h_source.html#l00035">enum-set.h:35</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_html_a3ca161fb12e541db32b60d80eb4b1e90"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a3ca161fb12e541db32b60d80eb4b1e90">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::callbacks_</a></div><div class="ttdeci">std::vector&lt; std::unique_ptr&lt; CompilationEventCallback &gt; &gt; callbacks_</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l00793">module-compiler.cc:793</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_html_a765312328515d177ce5825f083c9b759"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a765312328515d177ce5825f083c9b759">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::callbacks_mutex_</a></div><div class="ttdeci">base::Mutex callbacks_mutex_</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l00787">module-compiler.cc:787</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_html_ada63ef52e4d0b472d4194a3a6aec02e7"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ada63ef52e4d0b472d4194a3a6aec02e7">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::finished_events_</a></div><div class="ttdeci">base::EnumSet&lt; CompilationEvent &gt; finished_events_</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l00796">module-compiler.cc:796</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a40b71b3558e4b5297d51003612578a81"><div class="ttname"><a href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">v8::base::MutexGuard</a></div><div class="ttdeci">LockGuard&lt; Mutex &gt; MutexGuard</div><div class="ttdef"><b>Definition:</b> <a href="mutex_8h_source.html#l00219">mutex.h:219</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a020d8fcab0133f11030d7b8ef6259e29a41b18f40e8022b599bc6360f216daba4"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a020d8fcab0133f11030d7b8ef6259e29a41b18f40e8022b599bc6360f216daba4">v8::internal::wasm::CompilationEvent::kFinishedBaselineCompilation</a></div><div class="ttdeci">@ kFinishedBaselineCompilation</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a020d8fcab0133f11030d7b8ef6259e29af90d51f0b738cedabb652e72ffd7b8ed"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a020d8fcab0133f11030d7b8ef6259e29af90d51f0b738cedabb652e72ffd7b8ed">v8::internal::wasm::CompilationEvent::kFailedCompilation</a></div><div class="ttdeci">@ kFailedCompilation</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="module-compiler_8cc_source.html#l00793">callbacks_</a>, <a class="el" href="module-compiler_8cc_source.html#l00787">callbacks_mutex_</a>, <a class="el" href="enum-set_8h_source.html#l00035">v8::base::EnumSet&lt; E, T &gt;::contains()</a>, <a class="el" href="enum-set_8h_source.html#l00041">v8::base::EnumSet&lt; E, T &gt;::contains_any()</a>, <a class="el" href="module-compiler_8cc_source.html#l00796">finished_events_</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a020d8fcab0133f11030d7b8ef6259e29af90d51f0b738cedabb652e72ffd7b8ed">v8::internal::wasm::kFailedCompilation</a>, and <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a020d8fcab0133f11030d7b8ef6259e29a41b18f40e8022b599bc6360f216daba4">v8::internal::wasm::kFinishedBaselineCompilation</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l00914">v8::internal::wasm::CompilationState::AddCallback()</a>.</p>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ae69af533e833f888b6c141e97058a96d_cgraph.svg" width="632" height="118"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ae69af533e833f888b6c141e97058a96d_icgraph.svg" width="398" height="96"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a50f1bd3b41156eaf80d7e833a95f5bce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50f1bd3b41156eaf80d7e833a95f5bce">&#9670;&nbsp;</a></span>AddTopTierPriorityCompilationUnit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::CompilationStateImpl::AddTopTierPriorityCompilationUnit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCompilationUnit.html">WasmCompilationUnit</a>&#160;</td>
          <td class="paramname"><em>unit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacev8_1_1internal.html#a4725962ca3c127eb5871cb47293aee95">size_t</a>&#160;</td>
          <td class="paramname"><em>priority</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l03977">3977</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l03978"></a><span class="lineno"> 3978</span>&#160;                                               {</div>
<div class="line"><a name="l03979"></a><span class="lineno"> 3979</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab616d619108985decfe0d7f7ce17fcc6">compilation_unit_queues_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitQueues.html#a91aaa8c461c03f44c2d900f81526d1d4">AddTopTierPriorityUnit</a>(unit, priority);</div>
<div class="line"><a name="l03980"></a><span class="lineno"> 3980</span>&#160;  <span class="comment">// We should not have a {CodeSpaceWriteScope} open at this point, as</span></div>
<div class="line"><a name="l03981"></a><span class="lineno"> 3981</span>&#160;  <span class="comment">// {NotifyConcurrencyIncrease} can spawn new threads which could inherit PKU</span></div>
<div class="line"><a name="l03982"></a><span class="lineno"> 3982</span>&#160;  <span class="comment">// permissions (which would be a security issue).</span></div>
<div class="line"><a name="l03983"></a><span class="lineno"> 3983</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a7167a723ca63724303768ed3d1b0736d">top_tier_compile_job_</a>-&gt;NotifyConcurrencyIncrease();</div>
<div class="line"><a name="l03984"></a><span class="lineno"> 3984</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitQueues_html_a91aaa8c461c03f44c2d900f81526d1d4"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitQueues.html#a91aaa8c461c03f44c2d900f81526d1d4">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationUnitQueues::AddTopTierPriorityUnit</a></div><div class="ttdeci">void AddTopTierPriorityUnit(WasmCompilationUnit unit, size_t priority)</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l00234">module-compiler.cc:234</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="module-compiler_8cc_source.html#l00234">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationUnitQueues::AddTopTierPriorityUnit()</a>, <a class="el" href="module-compiler_8cc_source.html#l00754">compilation_unit_queues_</a>, and <a class="el" href="module-compiler_8cc_source.html#l00763">top_tier_compile_job_</a>.</p>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a50f1bd3b41156eaf80d7e833a95f5bce_cgraph.svg" width="502" height="96"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a4d6c6ba4a5b1ef655d9a77edb45d44a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d6c6ba4a5b1ef655d9a77edb45d44a3">&#9670;&nbsp;</a></span>AllowAnotherTopTierJob()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::AllowAnotherTopTierJob </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>func_index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l00666">666</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                                                   {</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab616d619108985decfe0d7f7ce17fcc6">compilation_unit_queues_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitQueues.html#ac5cf3ece9a08ba65c92468996df796f6">AllowAnotherTopTierJob</a>(func_index);</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <span class="comment">// Reset the stored priority; otherwise triggers might be ignored if the</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <span class="comment">// priority is not bumped to the next power of two.</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    TypeFeedbackStorage* feedback = &amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab7f1169e5324c750facf09b9f5fbad94">native_module_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a04f2f50aa9d1cbc1dc28e60dbe687f74">module</a>()-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#aceb39daaf893b7024baceccf7571a97d">type_feedback</a>;</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> mutex_guard(&amp;feedback-&gt;mutex);</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    feedback-&gt;feedback_for_function[func_index].tierup_priority = 0;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  }</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a04f2f50aa9d1cbc1dc28e60dbe687f74"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a04f2f50aa9d1cbc1dc28e60dbe687f74">v8::internal::wasm::NativeModule::module</a></div><div class="ttdeci">const WasmModule * module() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00766">wasm-code-manager.h:766</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitQueues_html_ac5cf3ece9a08ba65c92468996df796f6"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitQueues.html#ac5cf3ece9a08ba65c92468996df796f6">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationUnitQueues::AllowAnotherTopTierJob</a></div><div class="ttdeci">void AllowAnotherTopTierJob(uint32_t func_index)</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l00270">module-compiler.cc:270</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_aceb39daaf893b7024baceccf7571a97d"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#aceb39daaf893b7024baceccf7571a97d">v8::internal::wasm::WasmModule::type_feedback</a></div><div class="ttdeci">TypeFeedbackStorage type_feedback</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00732">wasm-module.h:732</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-module_8h_source.html#l00627">v8::internal::wasm::TypeFeedbackStorage::feedback_for_function</a>, and <a class="el" href="wasm-module_8h_source.html#l00642">v8::internal::wasm::TypeFeedbackStorage::mutex</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l00923">v8::internal::wasm::CompilationState::AllowAnotherTopTierJob()</a>.</p>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a4d6c6ba4a5b1ef655d9a77edb45d44a3_icgraph.svg" width="423" height="96"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="aa518d97e029098e65c98341c966ded5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa518d97e029098e65c98341c966ded5a">&#9670;&nbsp;</a></span>AllowAnotherTopTierJobForAllFunctions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::AllowAnotherTopTierJobForAllFunctions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l00675">675</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                                               {</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal.html#a09dbf9baefb793fd78912d6ef89f9dde">WasmModule</a>* module = <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab7f1169e5324c750facf09b9f5fbad94">native_module_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a04f2f50aa9d1cbc1dc28e60dbe687f74">module</a>();</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    uint32_t fn_start = module-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a81b4b2b056e744758f875acafe4c909a">num_imported_functions</a>;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    uint32_t fn_end = fn_start + module-&gt;num_declared_functions;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> mutex_guard(&amp;module-&gt;type_feedback.mutex);</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    std::unordered_map&lt;uint32_t, FunctionTypeFeedback&gt;&amp; feedback_map =</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        module-&gt;type_feedback.feedback_for_function;</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    <span class="keywordflow">for</span> (uint32_t <a class="code" href="namespacev8_1_1internal.html">i</a> = fn_start; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; fn_end; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab616d619108985decfe0d7f7ce17fcc6">compilation_unit_queues_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitQueues.html#ac5cf3ece9a08ba65c92468996df796f6">AllowAnotherTopTierJob</a>(<a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;      <span class="comment">// Reset the stored priority; otherwise triggers might be ignored if the</span></div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;      <span class="comment">// priority is not bumped to the next power of two.</span></div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> it = feedback_map.find(<a class="code" href="namespacev8_1_1internal.html">i</a>); it != feedback_map.end()) {</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        it-&gt;second.tierup_priority = 0;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;      }</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    }</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  }</div>
<div class="ttc" id="anamespacev8_1_1internal_html"><div class="ttname"><a href="namespacev8_1_1internal.html">v8::internal</a></div><div class="ttdef"><b>Definition:</b> <a href="api-arguments-inl_8h_source.html#l00020">api-arguments-inl.h:20</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a09dbf9baefb793fd78912d6ef89f9dde"><div class="ttname"><a href="namespacev8_1_1internal.html#a09dbf9baefb793fd78912d6ef89f9dde">v8::internal::WasmModule</a></div><div class="ttdeci">wasm::WasmModule WasmModule</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l00110">wasm-objects.cc:110</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_a81b4b2b056e744758f875acafe4c909a"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a81b4b2b056e744758f875acafe4c909a">v8::internal::wasm::WasmModule::num_imported_functions</a></div><div class="ttdeci">uint32_t num_imported_functions</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00681">wasm-module.h:681</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-module_8h_source.html#l00627">v8::internal::wasm::TypeFeedbackStorage::feedback_for_function</a>, <a class="el" href="wasm-module_8h_source.html#l00642">v8::internal::wasm::TypeFeedbackStorage::mutex</a>, <a class="el" href="wasm-module_8h_source.html#l00684">v8::internal::wasm::WasmModule::num_declared_functions</a>, <a class="el" href="wasm-module_8h_source.html#l00681">v8::internal::wasm::WasmModule::num_imported_functions</a>, and <a class="el" href="wasm-module_8h_source.html#l00732">v8::internal::wasm::WasmModule::type_feedback</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l00927">v8::internal::wasm::CompilationState::AllowAnotherTopTierJobForAllFunctions()</a>.</p>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_aa518d97e029098e65c98341c966ded5a_icgraph.svg" width="555" height="96"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a85ad2d14130ce9699d36bd8d9fe02333"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85ad2d14130ce9699d36bd8d9fe02333">&#9670;&nbsp;</a></span>ApplyCompilationHintToInitialProgress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::CompilationStateImpl::ApplyCompilationHintToInitialProgress </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structv8_1_1internal_1_1wasm_1_1WasmCompilationHint.html">WasmCompilationHint</a> &amp;&#160;</td>
          <td class="paramname"><em>hint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacev8_1_1internal.html#a4725962ca3c127eb5871cb47293aee95">size_t</a>&#160;</td>
          <td class="paramname"><em>hint_idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l03613">3613</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;                                                      {</div>
<div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;  <span class="comment">// Get old information.</span></div>
<div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160;  uint8_t&amp; progress = <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a0ff6ff765770fe090dc00572f0e64272">compilation_progress_</a>[hint_idx];</div>
<div class="line"><a name="l03617"></a><span class="lineno"> 3617</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9">ExecutionTier</a> old_baseline_tier = <a class="code" href="classv8_1_1base_1_1BitField.html#a554df4b9ae5f0dc36b4d092bfc2e004b">RequiredBaselineTierField::decode</a>(progress);</div>
<div class="line"><a name="l03618"></a><span class="lineno"> 3618</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9">ExecutionTier</a> old_top_tier = <a class="code" href="classv8_1_1base_1_1BitField.html#a554df4b9ae5f0dc36b4d092bfc2e004b">RequiredTopTierField::decode</a>(progress);</div>
<div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160; </div>
<div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160;  <span class="comment">// Compute new information.</span></div>
<div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9">ExecutionTier</a> new_baseline_tier =</div>
<div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03.html#a7b7f5d73feefbda427f05e9297ca8699">ApplyHintToExecutionTier</a>(hint.baseline_tier, old_baseline_tier);</div>
<div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9">ExecutionTier</a> new_top_tier =</div>
<div class="line"><a name="l03624"></a><span class="lineno"> 3624</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03.html#a7b7f5d73feefbda427f05e9297ca8699">ApplyHintToExecutionTier</a>(hint.top_tier, old_top_tier);</div>
<div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;  <span class="keywordflow">switch</span> (hint.strategy) {</div>
<div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ad2b94e9a247149c2f2a19be54a08f7e1a6867faeaa475fda467e48267db2bb8a8">WasmCompilationHintStrategy::kDefault</a>:</div>
<div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160;      <span class="comment">// Be careful not to switch from lazy to non-lazy.</span></div>
<div class="line"><a name="l03628"></a><span class="lineno"> 3628</span>&#160;      <span class="keywordflow">if</span> (old_baseline_tier == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13">ExecutionTier::kNone</a>) {</div>
<div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160;        new_baseline_tier = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13">ExecutionTier::kNone</a>;</div>
<div class="line"><a name="l03630"></a><span class="lineno"> 3630</span>&#160;      }</div>
<div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;      <span class="keywordflow">if</span> (old_top_tier == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13">ExecutionTier::kNone</a>) {</div>
<div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;        new_top_tier = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13">ExecutionTier::kNone</a>;</div>
<div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;      }</div>
<div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ad2b94e9a247149c2f2a19be54a08f7e1ae3c54a7917f0c719b11db86b1dd59b0f">WasmCompilationHintStrategy::kLazy</a>:</div>
<div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;      new_baseline_tier = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13">ExecutionTier::kNone</a>;</div>
<div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;      new_top_tier = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13">ExecutionTier::kNone</a>;</div>
<div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03639"></a><span class="lineno"> 3639</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ad2b94e9a247149c2f2a19be54a08f7e1a1f85c8fbccc9bb4fcda482bf840bc3e2">WasmCompilationHintStrategy::kEager</a>:</div>
<div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;      <span class="comment">// Nothing to do, use the encoded (new) tiers.</span></div>
<div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ad2b94e9a247149c2f2a19be54a08f7e1a1fede85ba930eef5832cf35bc93cb2cb">WasmCompilationHintStrategy::kLazyBaselineEagerTopTier</a>:</div>
<div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;      new_baseline_tier = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13">ExecutionTier::kNone</a>;</div>
<div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160;  }</div>
<div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160; </div>
<div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;  <span class="keywordflow">if</span> (new_top_tier == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a3a4891ee13d971db79eeae3a6d61d151">ExecutionTier::kLiftoff</a> &amp;&amp;</div>
<div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160;      new_baseline_tier == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31">ExecutionTier::kTurbofan</a>) {</div>
<div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160;    <span class="comment">// The top tier shouldn&#39;t be lower than the baseline tier (or it should be</span></div>
<div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160;    <span class="comment">// ::None).</span></div>
<div class="line"><a name="l03651"></a><span class="lineno"> 3651</span>&#160;    new_top_tier = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31">ExecutionTier::kTurbofan</a>;</div>
<div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160;  }</div>
<div class="line"><a name="l03653"></a><span class="lineno"> 3653</span>&#160; </div>
<div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;  progress = <a class="code" href="classv8_1_1base_1_1BitField.html#aa8d61fe165b5c0b2c869be69be02b7af">RequiredBaselineTierField::update</a>(progress, new_baseline_tier);</div>
<div class="line"><a name="l03655"></a><span class="lineno"> 3655</span>&#160;  progress = <a class="code" href="classv8_1_1base_1_1BitField.html#aa8d61fe165b5c0b2c869be69be02b7af">RequiredTopTierField::update</a>(progress, new_top_tier);</div>
<div class="line"><a name="l03656"></a><span class="lineno"> 3656</span>&#160; </div>
<div class="line"><a name="l03657"></a><span class="lineno"> 3657</span>&#160;  <span class="comment">// Update counter for outstanding baseline units.</span></div>
<div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a8961a8c084b70ecbdb9dfe082929b2bb">outstanding_baseline_units_</a> += (new_baseline_tier != <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13">ExecutionTier::kNone</a>) -</div>
<div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160;                                 (old_baseline_tier != <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13">ExecutionTier::kNone</a>);</div>
<div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1base_1_1BitField_html_a554df4b9ae5f0dc36b4d092bfc2e004b"><div class="ttname"><a href="classv8_1_1base_1_1BitField.html#a554df4b9ae5f0dc36b4d092bfc2e004b">v8::base::BitField::decode</a></div><div class="ttdeci">static constexpr T decode(U value)</div><div class="ttdef"><b>Definition:</b> <a href="bit-field_8h_source.html#l00066">bit-field.h:66</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1BitField_html_aa8d61fe165b5c0b2c869be69be02b7af"><div class="ttname"><a href="classv8_1_1base_1_1BitField.html#aa8d61fe165b5c0b2c869be69be02b7af">v8::base::BitField::update</a></div><div class="ttdeci">static constexpr U update(U previous, T value)</div><div class="ttdef"><b>Definition:</b> <a href="bit-field_8h_source.html#l00061">bit-field.h:61</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_html_a0ff6ff765770fe090dc00572f0e64272"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a0ff6ff765770fe090dc00572f0e64272">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::compilation_progress_</a></div><div class="ttdeci">base::OwnedVector&lt; uint8_t &gt; compilation_progress_</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l00809">module-compiler.cc:809</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_html_a8961a8c084b70ecbdb9dfe082929b2bb"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a8961a8c084b70ecbdb9dfe082929b2bb">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::outstanding_baseline_units_</a></div><div class="ttdeci">int outstanding_baseline_units_</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l00798">module-compiler.cc:798</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_html_a7b7f5d73feefbda427f05e9297ca8699"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03.html#a7b7f5d73feefbda427f05e9297ca8699">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::ApplyHintToExecutionTier</a></div><div class="ttdeci">ExecutionTier ApplyHintToExecutionTier(WasmCompilationHintTier hint, ExecutionTier default_tier)</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l00981">module-compiler.cc:981</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a74094ea879a0bfb89fbc40b97dd862b9"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9">v8::internal::wasm::ExecutionTier</a></div><div class="ttdeci">ExecutionTier</div><div class="ttdef"><b>Definition:</b> <a href="wasm-tier_8h_source.html#l00019">wasm-tier.h:19</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13">v8::internal::wasm::ExecutionTier::kNone</a></div><div class="ttdeci">@ kNone</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a74094ea879a0bfb89fbc40b97dd862b9a3a4891ee13d971db79eeae3a6d61d151"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a3a4891ee13d971db79eeae3a6d61d151">v8::internal::wasm::ExecutionTier::kLiftoff</a></div><div class="ttdeci">@ kLiftoff</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31">v8::internal::wasm::ExecutionTier::kTurbofan</a></div><div class="ttdeci">@ kTurbofan</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ad2b94e9a247149c2f2a19be54a08f7e1a1f85c8fbccc9bb4fcda482bf840bc3e2"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ad2b94e9a247149c2f2a19be54a08f7e1a1f85c8fbccc9bb4fcda482bf840bc3e2">v8::internal::wasm::WasmCompilationHintStrategy::kEager</a></div><div class="ttdeci">@ kEager</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ad2b94e9a247149c2f2a19be54a08f7e1a1fede85ba930eef5832cf35bc93cb2cb"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ad2b94e9a247149c2f2a19be54a08f7e1a1fede85ba930eef5832cf35bc93cb2cb">v8::internal::wasm::WasmCompilationHintStrategy::kLazyBaselineEagerTopTier</a></div><div class="ttdeci">@ kLazyBaselineEagerTopTier</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ad2b94e9a247149c2f2a19be54a08f7e1a6867faeaa475fda467e48267db2bb8a8"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ad2b94e9a247149c2f2a19be54a08f7e1a6867faeaa475fda467e48267db2bb8a8">v8::internal::wasm::WasmCompilationHintStrategy::kDefault</a></div><div class="ttdeci">@ kDefault</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ad2b94e9a247149c2f2a19be54a08f7e1ae3c54a7917f0c719b11db86b1dd59b0f"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ad2b94e9a247149c2f2a19be54a08f7e1ae3c54a7917f0c719b11db86b1dd59b0f">v8::internal::wasm::WasmCompilationHintStrategy::kLazy</a></div><div class="ttdeci">@ kLazy</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="module-compiler_8cc_source.html#l00981">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::ApplyHintToExecutionTier()</a>, <a class="el" href="wasm-module_8h_source.html#l00291">v8::internal::wasm::WasmCompilationHint::baseline_tier</a>, <a class="el" href="module-compiler_8cc_source.html#l00809">compilation_progress_</a>, <a class="el" href="bit-field_8h_source.html#l00066">v8::base::BitField&lt; T, shift, size, U &gt;::decode()</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#ad2b94e9a247149c2f2a19be54a08f7e1a6867faeaa475fda467e48267db2bb8a8">v8::internal::wasm::kDefault</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#ad2b94e9a247149c2f2a19be54a08f7e1a1f85c8fbccc9bb4fcda482bf840bc3e2">v8::internal::wasm::kEager</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#ad2b94e9a247149c2f2a19be54a08f7e1ae3c54a7917f0c719b11db86b1dd59b0f">v8::internal::wasm::kLazy</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#ad2b94e9a247149c2f2a19be54a08f7e1a1fede85ba930eef5832cf35bc93cb2cb">v8::internal::wasm::kLazyBaselineEagerTopTier</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a3a4891ee13d971db79eeae3a6d61d151">v8::internal::wasm::kLiftoff</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13">v8::internal::wasm::kNone</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31">v8::internal::wasm::kTurbofan</a>, <a class="el" href="module-compiler_8cc_source.html#l00798">outstanding_baseline_units_</a>, <a class="el" href="wasm-module_8h_source.html#l00290">v8::internal::wasm::WasmCompilationHint::strategy</a>, <a class="el" href="wasm-module_8h_source.html#l00292">v8::internal::wasm::WasmCompilationHint::top_tier</a>, and <a class="el" href="bit-field_8h_source.html#l00061">v8::base::BitField&lt; T, shift, size, U &gt;::update()</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l03757">InitializeCompilationProgress()</a>.</p>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a85ad2d14130ce9699d36bd8d9fe02333_cgraph.svg" width="100%" height="459"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a85ad2d14130ce9699d36bd8d9fe02333_icgraph.svg" width="100%" height="488"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="aec07f03c5728ff18989f7f7714b30ea7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec07f03c5728ff18989f7f7714b30ea7">&#9670;&nbsp;</a></span>ApplyPgoInfoLate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::CompilationStateImpl::ApplyPgoInfoLate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1wasm_1_1ProfileInformation.html">ProfileInformation</a> *&#160;</td>
          <td class="paramname"><em>pgo_info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l03702">3702</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;                                                                        {</div>
<div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;  <a class="code" href="trace-event-no-perfetto_8h.html#a3feabb76c0ac2918798bc11ab55c6a79">TRACE_EVENT0</a>(<span class="stringliteral">&quot;v8.wasm&quot;</span>, <span class="stringliteral">&quot;wasm.ApplyPgoInfo&quot;</span>);</div>
<div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal.html#a09dbf9baefb793fd78912d6ef89f9dde">WasmModule</a>* module = <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab7f1169e5324c750facf09b9f5fbad94">native_module_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a04f2f50aa9d1cbc1dc28e60dbe687f74">module</a>();</div>
<div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;  CompilationUnitBuilder builder{<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab7f1169e5324c750facf09b9f5fbad94">native_module_</a>};</div>
<div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160; </div>
<div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> guard(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a765312328515d177ce5825f083c9b759">callbacks_mutex_</a>);</div>
<div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;  <span class="comment">// Functions that were executed in the profiling run are eagerly compiled to</span></div>
<div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;  <span class="comment">// Liftoff (in the background).</span></div>
<div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> func_index : pgo_info-&gt;executed_functions()) {</div>
<div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;    uint8_t&amp; progress =</div>
<div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a0ff6ff765770fe090dc00572f0e64272">compilation_progress_</a>[<a class="code" href="namespacev8_1_1internal_1_1wasm.html#abd9cf6cdda997dfabf862a6048202195">declared_function_index</a>(module, func_index)];</div>
<div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9">ExecutionTier</a> old_baseline_tier =</div>
<div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160;        <a class="code" href="classv8_1_1base_1_1BitField.html#a554df4b9ae5f0dc36b4d092bfc2e004b">RequiredBaselineTierField::decode</a>(progress);</div>
<div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;    <span class="comment">// If the function is already marked for eager compilation, we are good.</span></div>
<div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;    <span class="keywordflow">if</span> (old_baseline_tier != <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13">ExecutionTier::kNone</a>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160; </div>
<div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160;    <span class="comment">// If we already compiled Liftoff or TurboFan code, we are also good.</span></div>
<div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9">ExecutionTier</a> reached_tier = <a class="code" href="classv8_1_1base_1_1BitField.html#a554df4b9ae5f0dc36b4d092bfc2e004b">ReachedTierField::decode</a>(progress);</div>
<div class="line"><a name="l03720"></a><span class="lineno"> 3720</span>&#160;    <span class="keywordflow">if</span> (reached_tier &gt;= <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a3a4891ee13d971db79eeae3a6d61d151">ExecutionTier::kLiftoff</a>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160; </div>
<div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160;    <span class="comment">// Set the baseline tier to Liftoff and schedule a compilation unit.</span></div>
<div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;    progress =</div>
<div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;        <a class="code" href="classv8_1_1base_1_1BitField.html#aa8d61fe165b5c0b2c869be69be02b7af">RequiredBaselineTierField::update</a>(progress, <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a3a4891ee13d971db79eeae3a6d61d151">ExecutionTier::kLiftoff</a>);</div>
<div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;    <span class="comment">// Add this as a &quot;top tier unit&quot; since it does not contribute to initial</span></div>
<div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;    <span class="comment">// compilation (&quot;baseline finished&quot; might already be triggered).</span></div>
<div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;    <span class="comment">// TODO(clemensb): Rename &quot;baseline finished&quot; to &quot;initial compile finished&quot;.</span></div>
<div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;    <span class="comment">// TODO(clemensb): Avoid scheduling both a Liftoff and a TurboFan unit, or</span></div>
<div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;    <span class="comment">// prioritize Liftoff when executing the units.</span></div>
<div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;    builder.AddTopTierUnit(func_index, <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a3a4891ee13d971db79eeae3a6d61d151">ExecutionTier::kLiftoff</a>);</div>
<div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;  }</div>
<div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160; </div>
<div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160;  <span class="comment">// Functions that were tiered up during PGO generation are eagerly compiled to</span></div>
<div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;  <span class="comment">// TurboFan in the background.</span></div>
<div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> func_index : pgo_info-&gt;tiered_up_functions()) {</div>
<div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160;    uint8_t&amp; progress =</div>
<div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a0ff6ff765770fe090dc00572f0e64272">compilation_progress_</a>[<a class="code" href="namespacev8_1_1internal_1_1wasm.html#abd9cf6cdda997dfabf862a6048202195">declared_function_index</a>(module, func_index)];</div>
<div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9">ExecutionTier</a> old_baseline_tier =</div>
<div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160;        <a class="code" href="classv8_1_1base_1_1BitField.html#a554df4b9ae5f0dc36b4d092bfc2e004b">RequiredBaselineTierField::decode</a>(progress);</div>
<div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9">ExecutionTier</a> old_top_tier = <a class="code" href="classv8_1_1base_1_1BitField.html#a554df4b9ae5f0dc36b4d092bfc2e004b">RequiredTopTierField::decode</a>(progress);</div>
<div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160;    <span class="comment">// If the function is already marked for eager or background compilation to</span></div>
<div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160;    <span class="comment">// TurboFan, we are good.</span></div>
<div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160;    <span class="keywordflow">if</span> (old_baseline_tier == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31">ExecutionTier::kTurbofan</a>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03744"></a><span class="lineno"> 3744</span>&#160;    <span class="keywordflow">if</span> (old_top_tier == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31">ExecutionTier::kTurbofan</a>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160; </div>
<div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160;    <span class="comment">// If we already compiled TurboFan code, we are also good.</span></div>
<div class="line"><a name="l03747"></a><span class="lineno"> 3747</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9">ExecutionTier</a> reached_tier = <a class="code" href="classv8_1_1base_1_1BitField.html#a554df4b9ae5f0dc36b4d092bfc2e004b">ReachedTierField::decode</a>(progress);</div>
<div class="line"><a name="l03748"></a><span class="lineno"> 3748</span>&#160;    <span class="keywordflow">if</span> (reached_tier == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31">ExecutionTier::kTurbofan</a>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03749"></a><span class="lineno"> 3749</span>&#160; </div>
<div class="line"><a name="l03750"></a><span class="lineno"> 3750</span>&#160;    <span class="comment">// Set top tier to TurboFan and schedule a compilation unit.</span></div>
<div class="line"><a name="l03751"></a><span class="lineno"> 3751</span>&#160;    progress = <a class="code" href="classv8_1_1base_1_1BitField.html#aa8d61fe165b5c0b2c869be69be02b7af">RequiredTopTierField::update</a>(progress, <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31">ExecutionTier::kTurbofan</a>);</div>
<div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160;    builder.AddTopTierUnit(func_index, <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31">ExecutionTier::kTurbofan</a>);</div>
<div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160;  }</div>
<div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160;  builder.Commit();</div>
<div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;}</div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_abd9cf6cdda997dfabf862a6048202195"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#abd9cf6cdda997dfabf862a6048202195">v8::internal::wasm::declared_function_index</a></div><div class="ttdeci">int declared_function_index(const WasmModule *module, int func_index)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l01076">wasm-module.h:1076</a></div></div>
<div class="ttc" id="atrace-event-no-perfetto_8h_html_a3feabb76c0ac2918798bc11ab55c6a79"><div class="ttname"><a href="trace-event-no-perfetto_8h.html#a3feabb76c0ac2918798bc11ab55c6a79">TRACE_EVENT0</a></div><div class="ttdeci">#define TRACE_EVENT0(category_group, name)</div><div class="ttdef"><b>Definition:</b> <a href="trace-event-no-perfetto_8h_source.html#l00032">trace-event-no-perfetto.h:32</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="module-compiler_8cc_source.html#l00787">callbacks_mutex_</a>, <a class="el" href="module-compiler_8cc_source.html#l00809">compilation_progress_</a>, <a class="el" href="wasm-module_8h_source.html#l01076">v8::internal::wasm::declared_function_index()</a>, <a class="el" href="bit-field_8h_source.html#l00066">v8::base::BitField&lt; T, shift, size, U &gt;::decode()</a>, <a class="el" href="pgo_8h_source.html#l00031">v8::internal::wasm::ProfileInformation::executed_functions()</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a3a4891ee13d971db79eeae3a6d61d151">v8::internal::wasm::kLiftoff</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13">v8::internal::wasm::kNone</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31">v8::internal::wasm::kTurbofan</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00766">v8::internal::wasm::NativeModule::module()</a>, <a class="el" href="module-compiler_8cc_source.html#l00742">native_module_</a>, <a class="el" href="pgo_8h_source.html#l00034">v8::internal::wasm::ProfileInformation::tiered_up_functions()</a>, <a class="el" href="trace-event-no-perfetto_8h_source.html#l00032">TRACE_EVENT0</a>, and <a class="el" href="bit-field_8h_source.html#l00061">v8::base::BitField&lt; T, shift, size, U &gt;::update()</a>.</p>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_aec07f03c5728ff18989f7f7714b30ea7_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="aabe8418b13e7c57d1415541cb0574eb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabe8418b13e7c57d1415541cb0574eb6">&#9670;&nbsp;</a></span>ApplyPgoInfoToInitialProgress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::CompilationStateImpl::ApplyPgoInfoToInitialProgress </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1wasm_1_1ProfileInformation.html">ProfileInformation</a> *&#160;</td>
          <td class="paramname"><em>pgo_info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l03662">3662</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;                                  {</div>
<div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160;  <span class="comment">// Functions that were executed in the profiling run are eagerly compiled to</span></div>
<div class="line"><a name="l03665"></a><span class="lineno"> 3665</span>&#160;  <span class="comment">// Liftoff.</span></div>
<div class="line"><a name="l03666"></a><span class="lineno"> 3666</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal.html#a09dbf9baefb793fd78912d6ef89f9dde">WasmModule</a>* module = <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab7f1169e5324c750facf09b9f5fbad94">native_module_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a04f2f50aa9d1cbc1dc28e60dbe687f74">module</a>();</div>
<div class="line"><a name="l03667"></a><span class="lineno"> 3667</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> func_index : pgo_info-&gt;executed_functions()) {</div>
<div class="line"><a name="l03668"></a><span class="lineno"> 3668</span>&#160;    uint8_t&amp; progress =</div>
<div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a0ff6ff765770fe090dc00572f0e64272">compilation_progress_</a>[<a class="code" href="namespacev8_1_1internal_1_1wasm.html#abd9cf6cdda997dfabf862a6048202195">declared_function_index</a>(module, func_index)];</div>
<div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9">ExecutionTier</a> old_baseline_tier =</div>
<div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160;        <a class="code" href="classv8_1_1base_1_1BitField.html#a554df4b9ae5f0dc36b4d092bfc2e004b">RequiredBaselineTierField::decode</a>(progress);</div>
<div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;    <span class="comment">// If the function is already marked for eager compilation, we are good.</span></div>
<div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160;    <span class="keywordflow">if</span> (old_baseline_tier != <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13">ExecutionTier::kNone</a>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160; </div>
<div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160;    <span class="comment">// Set the baseline tier to Liftoff, so we eagerly compile to Liftoff.</span></div>
<div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160;    <span class="comment">// TODO(13288): Compile Liftoff code in the background, if lazy compilation</span></div>
<div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160;    <span class="comment">// is enabled.</span></div>
<div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;    progress =</div>
<div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160;        <a class="code" href="classv8_1_1base_1_1BitField.html#aa8d61fe165b5c0b2c869be69be02b7af">RequiredBaselineTierField::update</a>(progress, <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a3a4891ee13d971db79eeae3a6d61d151">ExecutionTier::kLiftoff</a>);</div>
<div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160;    ++<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a8961a8c084b70ecbdb9dfe082929b2bb">outstanding_baseline_units_</a>;</div>
<div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160;  }</div>
<div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160; </div>
<div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;  <span class="comment">// Functions that were tiered up during PGO generation are eagerly compiled to</span></div>
<div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;  <span class="comment">// TurboFan (in the background, not blocking instantiation).</span></div>
<div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> func_index : pgo_info-&gt;tiered_up_functions()) {</div>
<div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160;    uint8_t&amp; progress =</div>
<div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a0ff6ff765770fe090dc00572f0e64272">compilation_progress_</a>[<a class="code" href="namespacev8_1_1internal_1_1wasm.html#abd9cf6cdda997dfabf862a6048202195">declared_function_index</a>(module, func_index)];</div>
<div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9">ExecutionTier</a> old_baseline_tier =</div>
<div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;        <a class="code" href="classv8_1_1base_1_1BitField.html#a554df4b9ae5f0dc36b4d092bfc2e004b">RequiredBaselineTierField::decode</a>(progress);</div>
<div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9">ExecutionTier</a> old_top_tier = <a class="code" href="classv8_1_1base_1_1BitField.html#a554df4b9ae5f0dc36b4d092bfc2e004b">RequiredTopTierField::decode</a>(progress);</div>
<div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;    <span class="comment">// If the function is already marked for eager or background compilation to</span></div>
<div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;    <span class="comment">// TurboFan, we are good.</span></div>
<div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160;    <span class="keywordflow">if</span> (old_baseline_tier == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31">ExecutionTier::kTurbofan</a>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;    <span class="keywordflow">if</span> (old_top_tier == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31">ExecutionTier::kTurbofan</a>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160; </div>
<div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;    <span class="comment">// Set top tier to TurboFan, so we eagerly trigger compilation in the</span></div>
<div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;    <span class="comment">// background.</span></div>
<div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;    progress = <a class="code" href="classv8_1_1base_1_1BitField.html#aa8d61fe165b5c0b2c869be69be02b7af">RequiredTopTierField::update</a>(progress, <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31">ExecutionTier::kTurbofan</a>);</div>
<div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160;  }</div>
<div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="module-compiler_8cc_source.html#l00809">compilation_progress_</a>, <a class="el" href="wasm-module_8h_source.html#l01076">v8::internal::wasm::declared_function_index()</a>, <a class="el" href="bit-field_8h_source.html#l00066">v8::base::BitField&lt; T, shift, size, U &gt;::decode()</a>, <a class="el" href="pgo_8h_source.html#l00031">v8::internal::wasm::ProfileInformation::executed_functions()</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a3a4891ee13d971db79eeae3a6d61d151">v8::internal::wasm::kLiftoff</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13">v8::internal::wasm::kNone</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31">v8::internal::wasm::kTurbofan</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00766">v8::internal::wasm::NativeModule::module()</a>, <a class="el" href="module-compiler_8cc_source.html#l00742">native_module_</a>, <a class="el" href="module-compiler_8cc_source.html#l00798">outstanding_baseline_units_</a>, <a class="el" href="pgo_8h_source.html#l00034">v8::internal::wasm::ProfileInformation::tiered_up_functions()</a>, and <a class="el" href="bit-field_8h_source.html#l00061">v8::base::BitField&lt; T, shift, size, U &gt;::update()</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l03757">InitializeCompilationProgress()</a>.</p>
<div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_aabe8418b13e7c57d1415541cb0574eb6_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_aabe8418b13e7c57d1415541cb0574eb6_icgraph.svg" width="100%" height="488"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a4471b1fe3aff990009d8c703160a9940"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4471b1fe3aff990009d8c703160a9940">&#9670;&nbsp;</a></span>baseline_compilation_finished()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a> v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::baseline_compilation_finished </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l00696">696</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;                                             {</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> guard(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a765312328515d177ce5825f083c9b759">callbacks_mutex_</a>);</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a8961a8c084b70ecbdb9dfe082929b2bb">outstanding_baseline_units_</a> == 0;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l00940">v8::internal::wasm::CompilationState::baseline_compilation_finished()</a>.</p>
<div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a4471b1fe3aff990009d8c703160a9940_icgraph.svg" width="447" height="96"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a8ab550a27ff66014d823f06de54082e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ab550a27ff66014d823f06de54082e8">&#9670;&nbsp;</a></span>CancelCompilation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::CompilationStateImpl::CancelCompilation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a4ed36715f9c0623f94e39fdb85d1b8dc">CompilationStateImpl::CancellationPolicy</a>&#160;</td>
          <td class="paramname"><em>cancellation_policy</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l03590">3590</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160;                                                                {</div>
<div class="line"><a name="l03592"></a><span class="lineno"> 3592</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> callbacks_guard(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a765312328515d177ce5825f083c9b759">callbacks_mutex_</a>);</div>
<div class="line"><a name="l03593"></a><span class="lineno"> 3593</span>&#160; </div>
<div class="line"><a name="l03594"></a><span class="lineno"> 3594</span>&#160;  <span class="keywordflow">if</span> (cancellation_policy == <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a4ed36715f9c0623f94e39fdb85d1b8dca56d6183964d232e8e20d243ae101bae3">kCancelInitialCompilation</a> &amp;&amp;</div>
<div class="line"><a name="l03595"></a><span class="lineno"> 3595</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ada63ef52e4d0b472d4194a3a6aec02e7">finished_events_</a>.<a class="code" href="classv8_1_1base_1_1EnumSet.html#ae4b456a7bb23f2a76c4526748fcc911a">contains</a>(</div>
<div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;          <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a020d8fcab0133f11030d7b8ef6259e29a41b18f40e8022b599bc6360f216daba4">CompilationEvent::kFinishedBaselineCompilation</a>)) {</div>
<div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160;    <span class="comment">// Initial compilation already finished; cannot be cancelled.</span></div>
<div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160;  }</div>
<div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160; </div>
<div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160;  <span class="comment">// std::memory_order_relaxed is sufficient because no other state is</span></div>
<div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160;  <span class="comment">// synchronized with |compile_cancelled_|.</span></div>
<div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ac7c4f6efcf3aafb8f51b8a77da48410b">compile_cancelled_</a>.store(<span class="keyword">true</span>, std::memory_order_relaxed);</div>
<div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160; </div>
<div class="line"><a name="l03605"></a><span class="lineno"> 3605</span>&#160;  <span class="comment">// No more callbacks after abort.</span></div>
<div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a3ca161fb12e541db32b60d80eb4b1e90">callbacks_</a>.clear();</div>
<div class="line"><a name="l03607"></a><span class="lineno"> 3607</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_html_ac7c4f6efcf3aafb8f51b8a77da48410b"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ac7c4f6efcf3aafb8f51b8a77da48410b">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::compile_cancelled_</a></div><div class="ttdeci">std::atomic&lt; bool &gt; compile_cancelled_</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l00752">module-compiler.cc:752</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="module-compiler_8cc_source.html#l00793">callbacks_</a>, <a class="el" href="module-compiler_8cc_source.html#l00787">callbacks_mutex_</a>, <a class="el" href="module-compiler_8cc_source.html#l00752">compile_cancelled_</a>, <a class="el" href="enum-set_8h_source.html#l00035">v8::base::EnumSet&lt; E, T &gt;::contains()</a>, <a class="el" href="module-compiler_8cc_source.html#l00796">finished_events_</a>, <a class="el" href="module-compiler_8cc_source.html#l00589">kCancelInitialCompilation</a>, and <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a020d8fcab0133f11030d7b8ef6259e29a41b18f40e8022b599bc6360f216daba4">v8::internal::wasm::kFinishedBaselineCompilation</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l00893">v8::internal::wasm::CompilationState::CancelCompilation()</a>, <a class="el" href="module-compiler_8cc_source.html#l00897">v8::internal::wasm::CompilationState::CancelInitialCompilation()</a>, and <a class="el" href="module-compiler_8cc_source.html#l02672">v8::internal::wasm::AsyncCompileJob::~AsyncCompileJob()</a>.</p>
<div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a8ab550a27ff66014d823f06de54082e8_cgraph.svg" width="632" height="96"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a8ab550a27ff66014d823f06de54082e8_icgraph.svg" width="430" height="227"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a6e8ed1af01ad199828413d1c9f4bacbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e8ed1af01ad199828413d1c9f4bacbb">&#9670;&nbsp;</a></span>cancelled()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a> v8::internal::wasm::CompilationStateImpl::cancelled </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l03609">3609</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160;                                           {</div>
<div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ac7c4f6efcf3aafb8f51b8a77da48410b">compile_cancelled_</a>.load(std::memory_order_relaxed);</div>
<div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="module-compiler_8cc_source.html#l00752">compile_cancelled_</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l00879">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::BackgroundCompileScope::cancelled()</a>.</p>
<div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a6e8ed1af01ad199828413d1c9f4bacbb_icgraph.svg" width="100%" height="483"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="af474d59648037e58456a4564d5345fe5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af474d59648037e58456a4564d5345fe5">&#9670;&nbsp;</a></span>CommitCompilationUnits()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::CompilationStateImpl::CommitCompilationUnits </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCompilationUnit.html">WasmCompilationUnit</a> &gt;&#160;</td>
          <td class="paramname"><em>baseline_units</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCompilationUnit.html">WasmCompilationUnit</a> &gt;&#160;</td>
          <td class="paramname"><em>top_tier_units</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l03954">3954</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l03956"></a><span class="lineno"> 3956</span>&#160;                                                    {</div>
<div class="line"><a name="l03957"></a><span class="lineno"> 3957</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> guard{&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a9b824ee2bd19df1806a89e4d74a697da">mutex_</a>};</div>
<div class="line"><a name="l03958"></a><span class="lineno"> 3958</span>&#160;  <span class="keywordflow">if</span> (!baseline_units.empty() || !top_tier_units.empty()) {</div>
<div class="line"><a name="l03959"></a><span class="lineno"> 3959</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab616d619108985decfe0d7f7ce17fcc6">compilation_unit_queues_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitQueues.html#a31357ad240d5b25fb61558f17ae39c94">AddUnits</a>(baseline_units, top_tier_units,</div>
<div class="line"><a name="l03960"></a><span class="lineno"> 3960</span>&#160;                                      <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab7f1169e5324c750facf09b9f5fbad94">native_module_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a04f2f50aa9d1cbc1dc28e60dbe687f74">module</a>());</div>
<div class="line"><a name="l03961"></a><span class="lineno"> 3961</span>&#160;  }</div>
<div class="line"><a name="l03962"></a><span class="lineno"> 3962</span>&#160;  <span class="keywordflow">if</span> (!baseline_units.empty()) {</div>
<div class="line"><a name="l03963"></a><span class="lineno"> 3963</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a40e79d0e08ce2b9ec620f2492d883b2e">baseline_compile_job_</a>-&gt;IsValid());</div>
<div class="line"><a name="l03964"></a><span class="lineno"> 3964</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a40e79d0e08ce2b9ec620f2492d883b2e">baseline_compile_job_</a>-&gt;NotifyConcurrencyIncrease();</div>
<div class="line"><a name="l03965"></a><span class="lineno"> 3965</span>&#160;  }</div>
<div class="line"><a name="l03966"></a><span class="lineno"> 3966</span>&#160;  <span class="keywordflow">if</span> (!top_tier_units.empty()) {</div>
<div class="line"><a name="l03967"></a><span class="lineno"> 3967</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a7167a723ca63724303768ed3d1b0736d">top_tier_compile_job_</a>-&gt;IsValid());</div>
<div class="line"><a name="l03968"></a><span class="lineno"> 3968</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a7167a723ca63724303768ed3d1b0736d">top_tier_compile_job_</a>-&gt;NotifyConcurrencyIncrease();</div>
<div class="line"><a name="l03969"></a><span class="lineno"> 3969</span>&#160;  }</div>
<div class="line"><a name="l03970"></a><span class="lineno"> 3970</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_html_a9b824ee2bd19df1806a89e4d74a697da"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a9b824ee2bd19df1806a89e4d74a697da">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::mutex_</a></div><div class="ttdeci">base::Mutex mutex_</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l00758">module-compiler.cc:758</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitQueues_html_a31357ad240d5b25fb61558f17ae39c94"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitQueues.html#a31357ad240d5b25fb61558f17ae39c94">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationUnitQueues::AddUnits</a></div><div class="ttdeci">void AddUnits(base::Vector&lt; WasmCompilationUnit &gt; baseline_units, base::Vector&lt; WasmCompilationUnit &gt; top_tier_units, const WasmModule *module)</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l00191">module-compiler.cc:191</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa6b3743bd5d773c552654f2a6c3efa4a"><div class="ttname"><a href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK</a></div><div class="ttdeci">DCHECK(IsNull(value)||IsNativeContext(value)||value==Smi::uninitialized_deserialization_value())</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="module-compiler_8cc_source.html#l00191">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationUnitQueues::AddUnits()</a>, <a class="el" href="module-compiler_8cc_source.html#l00762">baseline_compile_job_</a>, <a class="el" href="module-compiler_8cc_source.html#l00754">compilation_unit_queues_</a>, <a class="el" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK()</a>, <a class="el" href="vector_8h_source.html#l00073">v8::base::Vector&lt; T &gt;::empty()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00766">v8::internal::wasm::NativeModule::module()</a>, <a class="el" href="module-compiler_8cc_source.html#l00758">mutex_</a>, <a class="el" href="module-compiler_8cc_source.html#l00742">native_module_</a>, and <a class="el" href="module-compiler_8cc_source.html#l00763">top_tier_compile_job_</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l03972">CommitTopTierCompilationUnit()</a>.</p>
<div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_af474d59648037e58456a4564d5345fe5_cgraph.svg" width="666" height="250"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_af474d59648037e58456a4564d5345fe5_icgraph.svg" width="488" height="96"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a5c78c0ef4fe93265afd37c1c6efe5792"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c78c0ef4fe93265afd37c1c6efe5792">&#9670;&nbsp;</a></span>CommitTopTierCompilationUnit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::CompilationStateImpl::CommitTopTierCompilationUnit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCompilationUnit.html">WasmCompilationUnit</a>&#160;</td>
          <td class="paramname"><em>unit</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l03972">3972</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l03973"></a><span class="lineno"> 3973</span>&#160;                              {</div>
<div class="line"><a name="l03974"></a><span class="lineno"> 3974</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#af474d59648037e58456a4564d5345fe5">CommitCompilationUnits</a>({}, {&amp;unit, 1});</div>
<div class="line"><a name="l03975"></a><span class="lineno"> 3975</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_html_af474d59648037e58456a4564d5345fe5"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#af474d59648037e58456a4564d5345fe5">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::CommitCompilationUnits</a></div><div class="ttdeci">void CommitCompilationUnits(base::Vector&lt; WasmCompilationUnit &gt; baseline_units, base::Vector&lt; WasmCompilationUnit &gt; top_tier_units)</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l03954">module-compiler.cc:3954</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="module-compiler_8cc_source.html#l03954">CommitCompilationUnits()</a>.</p>
<div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a5c78c0ef4fe93265afd37c1c6efe5792_cgraph.svg" width="100%" height="487"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="aeb68dfdbcf7afb114fbfe377cb9d16d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb68dfdbcf7afb114fbfe377cb9d16d7">&#9670;&nbsp;</a></span>counters()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1Counters.html">Counters</a>* v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::counters </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l00701">701</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ad0de5a795e5ca3ea15b6dc64672f9fdb">async_counters_</a>.get(); }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l03869">InitializeCompilationProgressAfterDeserialization()</a>.</p>
<div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_aeb68dfdbcf7afb114fbfe377cb9d16d7_icgraph.svg" width="100%" height="383"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a46f742b041803cde875c307e3021be18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46f742b041803cde875c307e3021be18">&#9670;&nbsp;</a></span>detected_features()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmDetectedFeatures.html">WasmDetectedFeatures</a> v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::detected_features </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l00649">649</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;                                                 {</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a9a3e39ad3a707e8d6dfc2feab40f034a">detected_features_</a>.load(std::memory_order_relaxed);</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l00967">v8::internal::wasm::CompilationState::detected_features()</a>, and <a class="el" href="module-compiler_8cc_source.html#l04229">OnCompilationStopped()</a>.</p>
<div id="dynsection-20" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a46f742b041803cde875c307e3021be18_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a7ad6d8bbbac037e5f81f23aebaaf884b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ad6d8bbbac037e5f81f23aebaaf884b">&#9670;&nbsp;</a></span>EstimateCurrentMemoryConsumption()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal.html#a4725962ca3c127eb5871cb47293aee95">size_t</a> v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::EstimateCurrentMemoryConsumption </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l00846">846</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;                                                                    {</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;  <a class="code" href="std-object-sizes_8h.html#a56caa02a4280c4f0c82adab429400770">UPDATE_WHEN_CLASS_CHANGES</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a4ec958a8992fd6f73195af7749c695ea">CompilationStateImpl</a>, 456);</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <span class="keyword">sizeof</span>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a4ec958a8992fd6f73195af7749c695ea">CompilationStateImpl</a>);</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160; </div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;  {</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> guard{&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a9b824ee2bd19df1806a89e4d74a697da">mutex_</a>};</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> += <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab616d619108985decfe0d7f7ce17fcc6">compilation_unit_queues_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitQueues.html#a5b2dc02f4ff6da74814b0b2def2df264">EstimateCurrentMemoryConsumption</a>();</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;  }</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160; </div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;  <span class="comment">// To read the size of {callbacks_} and {compilation_progress_}, we&#39;d</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;  <span class="comment">// need to acquire the {callbacks_mutex_}, which can cause deadlocks</span></div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;  <span class="comment">// when that mutex is already held elsewhere and another thread calls</span></div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;  <span class="comment">// into this function. So we rely on heuristics and informed guesses</span></div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;  <span class="comment">// instead: {compilation_progress_} contains an entry for every declared</span></div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;  <span class="comment">// function in the module...</span></div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;  <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> += <span class="keyword">sizeof</span>(uint8_t) * <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab7f1169e5324c750facf09b9f5fbad94">native_module_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a04f2f50aa9d1cbc1dc28e60dbe687f74">module</a>()-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a5a60fa14372f7bc06d7d6f51d23b0bee">num_declared_functions</a>;</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;  <span class="comment">// ...and there are typically no more than a handful of {callbacks_}.</span></div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;  constexpr <span class="keywordtype">size_t</span> kAssumedNumberOfCallbacks = 4;</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;  constexpr <span class="keywordtype">size_t</span> size_of_vector =</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;      kAssumedNumberOfCallbacks *</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;      <span class="keyword">sizeof</span>(std::unique_ptr&lt;CompilationEventCallback&gt;);</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;  <span class="comment">// Concrete subclasses of CompilationEventCallback will be bigger, but we</span></div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;  <span class="comment">// can&#39;t know that here.</span></div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;  constexpr <span class="keywordtype">size_t</span> size_of_payload =</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;      kAssumedNumberOfCallbacks * <span class="keyword">sizeof</span>(CompilationEventCallback);</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;  <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> += size_of_vector + size_of_payload;</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160; </div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_wasm_offheap_memory) {</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;CompilationStateImpl: %zu\n&quot;</span>, <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>);</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  }</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_html_a4ec958a8992fd6f73195af7749c695ea"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a4ec958a8992fd6f73195af7749c695ea">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::CompilationStateImpl</a></div><div class="ttdeci">CompilationStateImpl(const std::shared_ptr&lt; NativeModule &gt; &amp;native_module, std::shared_ptr&lt; Counters &gt; async_counters, WasmDetectedFeatures detected_features)</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l03564">module-compiler.cc:3564</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitQueues_html_a5b2dc02f4ff6da74814b0b2def2df264"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitQueues.html#a5b2dc02f4ff6da74814b0b2def2df264">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationUnitQueues::EstimateCurrentMemoryConsumption</a></div><div class="ttdeci">size_t EstimateCurrentMemoryConsumption() const</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l00530">module-compiler.cc:530</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_1_1internal_html_a9840f2bf0b4780133662292486d0bc01"><div class="ttname"><a href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">v8::base::internal::result</a></div><div class="ttdeci">V result</div><div class="ttdef"><b>Definition:</b> <a href="clamped__math__impl_8h_source.html#l00082">clamped_math_impl.h:82</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a3430752cde9f29d73e97ceed1bce0856"><div class="ttname"><a href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">v8::internal::PrintF</a></div><div class="ttdeci">void PrintF(const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="utils_2utils_8cc_source.html#l00039">utils.cc:39</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa9db791c05a0359859a321dcfec42e37"><div class="ttname"><a href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a></div><div class="ttdeci">V8_EXPORT_PRIVATE FlagValues v8_flags</div></div>
<div class="ttc" id="astd-object-sizes_8h_html_a56caa02a4280c4f0c82adab429400770"><div class="ttname"><a href="std-object-sizes_8h.html#a56caa02a4280c4f0c82adab429400770">UPDATE_WHEN_CLASS_CHANGES</a></div><div class="ttdeci">#define UPDATE_WHEN_CLASS_CHANGES(classname, size)</div><div class="ttdef"><b>Definition:</b> <a href="std-object-sizes_8h_source.html#l00079">std-object-sizes.h:79</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_a5a60fa14372f7bc06d7d6f51d23b0bee"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a5a60fa14372f7bc06d7d6f51d23b0bee">v8::internal::wasm::WasmModule::num_declared_functions</a></div><div class="ttdeci">uint32_t num_declared_functions</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00684">wasm-module.h:684</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="utils_2utils_8cc_source.html#l00039">v8::internal::PrintF()</a>, <a class="el" href="clamped__math__impl_8h_source.html#l00082">v8::base::internal::result</a>, <a class="el" href="std-object-sizes_8h_source.html#l00079">UPDATE_WHEN_CLASS_CHANGES</a>, and <a class="el" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l00948">v8::internal::wasm::CompilationState::EstimateCurrentMemoryConsumption()</a>.</p>
<div id="dynsection-21" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-21-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-21-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-21-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a7ad6d8bbbac037e5f81f23aebaaf884b_cgraph.svg" width="478" height="96"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-22" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-22-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-22-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-22-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a7ad6d8bbbac037e5f81f23aebaaf884b_icgraph.svg" width="603" height="96"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a8c6110baae5557a7b1bea2a035bf4cf2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c6110baae5557a7b1bea2a035bf4cf2">&#9670;&nbsp;</a></span>failed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a> v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::failed </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l00692">692</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;                      {</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a1c2df4934d4b851409d16a00d569d33e">compile_failed_</a>.load(std::memory_order_relaxed);</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;  }</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_html_a1c2df4934d4b851409d16a00d569d33e"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a1c2df4934d4b851409d16a00d569d33e">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::compile_failed_</a></div><div class="ttdeci">std::atomic&lt; bool &gt; compile_failed_</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l00748">module-compiler.cc:748</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l00938">v8::internal::wasm::CompilationState::failed()</a>, and <a class="el" href="module-compiler_8cc_source.html#l03757">InitializeCompilationProgress()</a>.</p>
<div id="dynsection-23" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-23-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-23-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-23-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a8c6110baae5557a7b1bea2a035bf4cf2_icgraph.svg" width="100%" height="580"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a4691d2bab412c73443a96c25fa8bc94b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4691d2bab412c73443a96c25fa8bc94b">&#9670;&nbsp;</a></span>GetNextCompilationUnit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCompilationUnit.html">WasmCompilationUnit</a> &gt; v8::internal::wasm::CompilationStateImpl::GetNextCompilationUnit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitQueues_1_1Queue.html">CompilationUnitQueues::Queue</a> *&#160;</td>
          <td class="paramname"><em>queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03.html#aef575f4d4842a6dcdb81b8c172df9eb5">CompilationTier</a>&#160;</td>
          <td class="paramname"><em>tier</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l03991">3991</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l03992"></a><span class="lineno"> 3992</span>&#160;                                                             {</div>
<div class="line"><a name="l03993"></a><span class="lineno"> 3993</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab616d619108985decfe0d7f7ce17fcc6">compilation_unit_queues_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitQueues.html#a3e5e5349a621aac9f3111fe61b580c43">GetNextUnit</a>(queue, <a class="code" href="flag-definitions_8h.html#a878783ad616ead06040f7d4b080f6a02">tier</a>);</div>
<div class="line"><a name="l03994"></a><span class="lineno"> 3994</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitQueues_html_a3e5e5349a621aac9f3111fe61b580c43"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitQueues.html#a3e5e5349a621aac9f3111fe61b580c43">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationUnitQueues::GetNextUnit</a></div><div class="ttdeci">std::optional&lt; WasmCompilationUnit &gt; GetNextUnit(Queue *queue, CompilationTier tier)</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l00179">module-compiler.cc:179</a></div></div>
<div class="ttc" id="aflag-definitions_8h_html_a878783ad616ead06040f7d4b080f6a02"><div class="ttname"><a href="flag-definitions_8h.html#a878783ad616ead06040f7d4b080f6a02">tier</a></div><div class="ttdeci">=any, 0==ignition/interpreter, 1==sparkplug/baseline, &quot; &quot;2==maglev, 3==turbofan&quot;) DEFINE_MAYBE_BOOL(efficiency_mode, &quot;Forces efficiency mode on or off, disregarding any dynamic &quot; &quot;signals. Efficiency mode is optimized for situations with &quot; &quot;no latency requirements and uses fewer threads.&quot;) DEFINE_MAYBE_BOOL( battery_saver_mode, &quot;Forces battery saver mode on or off, disregarding any dynamic signals. &quot; &quot;Battery saver tries to conserve overall cpu cycles spent.&quot;) DEFINE_MAYBE_BOOL( memory_saver_mode, &quot;Forces memory saver mode on or off, disregarding any dynamic signals. &quot; &quot;Memory saver tries to keep memory footprint low at the expense of extra &quot; &quot;cpu cycles.&quot;) DEFINE_BOOL(efficiency_mode_for_tiering_heuristics, true, &quot;Use efficiency mode in tiering heuristics.&quot;) DEFINE_BOOL(efficiency_mode_disable_turbofan, false, &quot;Defer tier-up to turbofan while in efficiency mode.&quot;) DEFINE_INT(efficiency_mode_delay_turbofan, 15000, &quot;Delay tier-up to turbofan to a certain invocation count while in &quot; &quot;efficiency mode.&quot;) DEFINE_STRING( wasm_trace_native, nullptr, &quot;Select which native code sequence to use for wasm trace instruction:&quot; &quot;default or cpuid&quot;) #define V8_JITLESS_BOOL DEFINE_BOOL(jitless, V8_LITE_MODE_BOOL, &quot;Disable runtime allocation of executable memory.&quot;) DEFINE_BOOL( disable_optimizing_compilers, false, &quot;Disable all optimizing compilers while leaving baseline compilers enabled&quot;) DEFINE_BOOL(memory_protection_keys, true, &quot;protect code memory with PKU if available&quot;) DEFINE_BOOL(force_memory_protection_keys, false, &quot;fail if memory protection key support is not available&quot;) DEFINE_BOOL(assert_types, false, &quot;generate runtime type assertions to test the typer&quot;) DEFINE_EXPERIMENTAL_FEATURE( turboshaft_assert_types, &quot;generate runtime type assertions to test the turboshaft type system&quot;) DEFINE_BOOL(verify_simplified_lowering, false, &quot;verify graph generated by simplified lowering&quot;) #define V8_ALLOCATION_SITE_TRACKING_BOOL DEFINE_BOOL_READONLY(allocation_site_tracking, V8_ALLOCATION_SITE_TRACKING_BOOL, &quot;Enable allocation site tracking&quot;) DEFINE_NEG_NEG_IMPLICATION(allocation_site_tracking, allocation_site_pretenuring) DEFINE_BOOL(allocation_site_pretenuring, true, &quot;pretenure with allocation sites&quot;) DEFINE_INT(page_promotion_threshold, 70, &quot;min percentage of live bytes on a page to enable fast evacuation &quot; &quot;in full GCs&quot;) DEFINE_INT(minor_ms_page_promotion_threshold, 50, &quot;min percentage of live bytes on a page to enable fast evacuation &quot; &quot;in MinorMS&quot;) DEFINE_INT(minor_ms_page_promotion_max_lab_threshold, 30, &quot;max percentage of labs out of a page to still be considered for &quot; &quot;page promotion&quot;) DEFINE_UINT(minor_ms_max_page_age, 4, &quot;max age for a page after which it is force promoted to old space&quot;) DEFINE_BOOL(trace_pretenuring, false, &quot;trace pretenuring decisions of HAllocate instructions&quot;) DEFINE_BOOL(trace_pretenuring_statistics, false, &quot;trace allocation site pretenuring statistics&quot;) DEFINE_BOOL(trace_block_coverage, false, &quot;trace collected block coverage information&quot;) DEFINE_BOOL(trace_protector_invalidation, false, &quot;trace protector cell invalidations&quot;) DEFINE_BOOL(decommit_pooled_pages, true, &quot;decommit, rather than discard pooled pages&quot;) DEFINE_BOOL( zero_unused_memory, true, &quot;Zero unused memory(except for memory which was discarded) on memory &quot; &quot;reducing GCs.&quot;) DEFINE_BOOL_READONLY(minor_ms_shortcut_strings, false, &quot;short cut strings during marking&quot;) DEFINE_EXPERIMENTAL_FEATURE(feedback_normalization, &quot;feed back normalization to constructors&quot;) DEFINE_BOOL_READONLY(internalize_on_the_fly, true, &quot;internalize string keys for generic keyed ICs on the fly&quot;) DEFINE_INT(invocation_count_for_feedback_allocation, 8, &quot;invocation count required for allocating feedback vectors&quot;) DEFINE_INT(invocation_count_for_maglev, 400, &quot;invocation count required for optimizing with Maglev&quot;) DEFINE_INT(invocation_count_for_maglev_osr, 100, &quot;invocation count required for maglev OSR&quot;) DEFINE_BOOL(osr_from_maglev, false, &quot;whether we try to OSR to Turbofan from OSR 'd Maglev&quot;) DEFINE_FLOAT( osr_from_maglev_interrupt_scale_factor, 0.8, &quot;Scale interrupt budget reduction for OSR from Maglev vs. OSR to Maglev&quot;) DEFINE_BOOL(always_osr_from_maglev, false, &quot;whether we try to OSR to Turbofan from any Maglev&quot;) DEFINE_INT(invocation_count_for_turbofan, 3000, &quot;invocation count required for optimizing with TurboFan&quot;) DEFINE_INT(osr_to_tierup, 1, &quot;number to decrease the invocation budget by when we follow OSR&quot;) DEFINE_INT(minimum_invocations_after_ic_update, 500, &quot;How long to minimally wait after IC update before tier up&quot;) DEFINE_INT(minimum_invocations_before_optimization, 2, &quot;Minimum number of invocations we need before non-OSR optimization&quot;) DEFINE_BOOL(jit_fuzzing, false, &quot;Set JIT tiering thresholds suitable for JIT fuzzing&quot;) DEFINE_BOOL(use_std_math_pow, true, &quot;use std::pow instead of our custom implementation&quot;) DEFINE_BOOL(ignition_elide_noneffectful_bytecodes, true, &quot;elide bytecodes which won 't have any external effect&quot;) DEFINE_BOOL(ignition_filter_expression_positions, true, &quot;filter expression positions before the bytecode pipeline&quot;) DEFINE_BOOL(ignition_share_named_property_feedback, true, &quot;share feedback slots when loading the same named property from &quot; &quot;the same object&quot;) DEFINE_BOOL(ignition_elide_redundant_tdz_checks, true, &quot;elide TDZ checks dominated by other TDZ checks&quot;) DEFINE_BOOL(print_bytecode, false, &quot;print bytecode generated by ignition interpreter&quot;) DEFINE_BOOL(enable_lazy_source_positions, V8_LAZY_SOURCE_POSITIONS_BOOL, &quot;skip generating source positions during initial compile but &quot; &quot;regenerate when actually required&quot;) DEFINE_BOOL(stress_lazy_source_positions, false, &quot;collect lazy source positions immediately after lazy compile&quot;) DEFINE_STRING(print_bytecode_filter, &quot; *&quot;, &quot;filter for selecting which functions to print bytecode&quot;) DEFINE_BOOL(trace_ignition_codegen, false, &quot;trace the codegen of ignition interpreter bytecode handlers&quot;) DEFINE_STRING( trace_ignition_dispatches_output_file, nullptr, &quot;write the bytecode handler dispatch table to the specified file(d8 only) &quot; &quot;(requires building with v8_enable_ignition_dispatch_counting)&quot;) DEFINE_BOOL(trace_track_allocation_sites, false, &quot;trace the tracking of allocation sites&quot;) #define FLAG DEFINE_BOOL(sparkplug, ENABLE_SPARKPLUG_BY_DEFAULT, &quot;enable Sparkplug baseline compiler&quot;) DEFINE_BOOL_READONLY(concurrent_sparkplug, false, &quot;compile Sparkplug code in a background thread&quot;) DEFINE_BOOL(sparkplug_needs_short_builtins, false, &quot;only enable Sparkplug baseline compiler when &quot; &quot;--short-builtin-calls are also enabled&quot;) DEFINE_INT(baseline_batch_compilation_threshold, 4 * KB, &quot;the estimated instruction size of a batch to trigger compilation&quot;) DEFINE_BOOL(trace_baseline_batch_compilation, false, &quot;trace baseline batch compilation&quot;) #define FLAG DEFINE_BOOL_READONLY(always_use_string_forwarding_table, false, &quot;use string forwarding table instead of thin strings for &quot; &quot;all strings(experimental)&quot;) DEFINE_BOOL(transition_strings_during_gc_with_stack, false, &quot;Transition strings during a full GC with stack&quot;) DEFINE_SIZE_T(initial_shared_heap_size, 0, &quot;initial size of the shared heap(in Mbytes) tier</div><div class="ttdef"><b>Definition:</b> <a href="flag-definitions_8h_source.html#l00792">flag-definitions.h:1174</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="module-compiler_8cc_source.html#l00754">compilation_unit_queues_</a>, and <a class="el" href="module-compiler_8cc_source.html#l00179">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationUnitQueues::GetNextUnit()</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l02043">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::ExecuteCompilationUnits()</a>.</p>
<div id="dynsection-24" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-24-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-24-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-24-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a4691d2bab412c73443a96c25fa8bc94b_cgraph.svg" width="438" height="96"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-25" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-25-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-25-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-25-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a4691d2bab412c73443a96c25fa8bc94b_icgraph.svg" width="100%" height="444"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a7bd4a3ad05fde241ad2e33e12ca1275d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bd4a3ad05fde241ad2e33e12ca1275d">&#9670;&nbsp;</a></span>GetQueueForCompileTask()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitQueues_1_1Queue.html">CompilationUnitQueues::Queue</a> * v8::internal::wasm::CompilationStateImpl::GetQueueForCompileTask </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>task_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l03986">3986</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l03987"></a><span class="lineno"> 3987</span>&#160;                 {</div>
<div class="line"><a name="l03988"></a><span class="lineno"> 3988</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab616d619108985decfe0d7f7ce17fcc6">compilation_unit_queues_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitQueues.html#aef9c5e4fddae1550ab5ca318583d4c6d">GetQueueForTask</a>(task_id);</div>
<div class="line"><a name="l03989"></a><span class="lineno"> 3989</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitQueues_html_aef9c5e4fddae1550ab5ca318583d4c6d"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitQueues.html#aef9c5e4fddae1550ab5ca318583d4c6d">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationUnitQueues::GetQueueForTask</a></div><div class="ttdeci">Queue * GetQueueForTask(int task_id)</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l00140">module-compiler.cc:140</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="module-compiler_8cc_source.html#l00754">compilation_unit_queues_</a>, and <a class="el" href="module-compiler_8cc_source.html#l00140">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationUnitQueues::GetQueueForTask()</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l02043">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::ExecuteCompilationUnits()</a>.</p>
<div id="dynsection-26" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-26-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-26-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-26-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a7bd4a3ad05fde241ad2e33e12ca1275d_cgraph.svg" width="446" height="96"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-27" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-27-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-27-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-27-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a7bd4a3ad05fde241ad2e33e12ca1275d_icgraph.svg" width="100%" height="444"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a928d8dccea38ced17d01c739eadd64e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a928d8dccea38ced17d01c739eadd64e7">&#9670;&nbsp;</a></span>GetWireBytesStorage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="classv8_1_1internal_1_1wasm_1_1WireBytesStorage.html">WireBytesStorage</a>&gt; v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::GetWireBytesStorage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l00709">709</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;                                                              {</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> guard(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a9b824ee2bd19df1806a89e4d74a697da">mutex_</a>);</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a88bbd14f5345baf9dea935d9f1b6de94">wire_bytes_storage_</a>);</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a88bbd14f5345baf9dea935d9f1b6de94">wire_bytes_storage_</a>;</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;  }</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_html_a88bbd14f5345baf9dea935d9f1b6de94"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a88bbd14f5345baf9dea935d9f1b6de94">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::wire_bytes_storage_</a></div><div class="ttdeci">std::shared_ptr&lt; WireBytesStorage &gt; wire_bytes_storage_</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l00779">module-compiler.cc:779</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a7b9f9517fedacc2a1a56c2bbb9d03688"><div class="ttname"><a href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a></div><div class="ttdeci">#define DCHECK_NOT_NULL(val)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00491">logging.h:491</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="src_2base_2logging_8h_source.html#l00491">DCHECK_NOT_NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l02043">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::ExecuteCompilationUnits()</a>, and <a class="el" href="module-compiler_8cc_source.html#l00909">v8::internal::wasm::CompilationState::GetWireBytesStorage()</a>.</p>
<div id="dynsection-28" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-28-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-28-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-28-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a928d8dccea38ced17d01c739eadd64e7_icgraph.svg" width="100%" height="460"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a027613078d5bd38a4971700e68b6a20d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a027613078d5bd38a4971700e68b6a20d">&#9670;&nbsp;</a></span>InitCompileJob()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::CompilationStateImpl::InitCompileJob </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l03575">3575</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;                                          {</div>
<div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a2209830df6b59d1ec1fdf66b9352924f">DCHECK_NULL</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a40e79d0e08ce2b9ec620f2492d883b2e">baseline_compile_job_</a>);</div>
<div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a2209830df6b59d1ec1fdf66b9352924f">DCHECK_NULL</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a7167a723ca63724303768ed3d1b0736d">top_tier_compile_job_</a>);</div>
<div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;  <span class="comment">// Create the job, but don&#39;t spawn workers yet. This will happen on</span></div>
<div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160;  <span class="comment">// {NotifyConcurrencyIncrease}.</span></div>
<div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a40e79d0e08ce2b9ec620f2492d883b2e">baseline_compile_job_</a> = <a class="code" href="classv8_1_1internal_1_1V8.html#a5eb1d47c492fa1e85e7d7c31dd5cf2bb">V8::GetCurrentPlatform</a>()-&gt;<a class="code" href="classv8_1_1Platform.html#a5a62780772e38f1f00317fce609ec0d4">CreateJob</a>(</div>
<div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160;      <a class="code" href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051a602dfdb2b16ea7a1f4392dc3d5761f7d">TaskPriority::kUserVisible</a>,</div>
<div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160;      std::make_unique&lt;BackgroundCompileJob&gt;(</div>
<div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;          <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a01d1dc67992204402a64b064c6aece4d">native_module_weak_</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ad0de5a795e5ca3ea15b6dc64672f9fdb">async_counters_</a>, <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03.html#aef575f4d4842a6dcdb81b8c172df9eb5a2a11c6a5dff5cdb0647ee1f3988baf5f">CompilationTier::kBaseline</a>));</div>
<div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a7167a723ca63724303768ed3d1b0736d">top_tier_compile_job_</a> = <a class="code" href="classv8_1_1internal_1_1V8.html#a5eb1d47c492fa1e85e7d7c31dd5cf2bb">V8::GetCurrentPlatform</a>()-&gt;<a class="code" href="classv8_1_1Platform.html#a5a62780772e38f1f00317fce609ec0d4">CreateJob</a>(</div>
<div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160;      <a class="code" href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051a602dfdb2b16ea7a1f4392dc3d5761f7d">TaskPriority::kUserVisible</a>,</div>
<div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160;      std::make_unique&lt;BackgroundCompileJob&gt;(</div>
<div class="line"><a name="l03587"></a><span class="lineno"> 3587</span>&#160;          <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a01d1dc67992204402a64b064c6aece4d">native_module_weak_</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ad0de5a795e5ca3ea15b6dc64672f9fdb">async_counters_</a>, <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03.html#aef575f4d4842a6dcdb81b8c172df9eb5a7d4e18577ff3900f63c397998a03e7cf">CompilationTier::kTopTier</a>));</div>
<div class="line"><a name="l03588"></a><span class="lineno"> 3588</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1Platform_html_a5a62780772e38f1f00317fce609ec0d4"><div class="ttname"><a href="classv8_1_1Platform.html#a5a62780772e38f1f00317fce609ec0d4">v8::Platform::CreateJob</a></div><div class="ttdeci">std::unique_ptr&lt; JobHandle &gt; CreateJob(TaskPriority priority, std::unique_ptr&lt; JobTask &gt; job_task, const SourceLocation &amp;location=SourceLocation::Current())</div><div class="ttdoc">Creates and returns a JobHandle associated with a Job.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l01310">v8-platform.h:1310</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1V8_html_a5eb1d47c492fa1e85e7d7c31dd5cf2bb"><div class="ttname"><a href="classv8_1_1internal_1_1V8.html#a5eb1d47c492fa1e85e7d7c31dd5cf2bb">v8::internal::V8::GetCurrentPlatform</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE v8::Platform * GetCurrentPlatform()</div><div class="ttdef"><b>Definition:</b> <a href="v8_8cc_source.html#l00282">v8.cc:282</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_html_aef575f4d4842a6dcdb81b8c172df9eb5a2a11c6a5dff5cdb0647ee1f3988baf5f"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03.html#aef575f4d4842a6dcdb81b8c172df9eb5a2a11c6a5dff5cdb0647ee1f3988baf5f">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::kBaseline</a></div><div class="ttdeci">@ kBaseline</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l00103">module-compiler.cc:103</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_html_aef575f4d4842a6dcdb81b8c172df9eb5a7d4e18577ff3900f63c397998a03e7cf"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03.html#aef575f4d4842a6dcdb81b8c172df9eb5a7d4e18577ff3900f63c397998a03e7cf">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::kTopTier</a></div><div class="ttdeci">@ kTopTier</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l00103">module-compiler.cc:103</a></div></div>
<div class="ttc" id="anamespacev8_html_a680c1a715d1d5df94b21e8b1ee1bf051a602dfdb2b16ea7a1f4392dc3d5761f7d"><div class="ttname"><a href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051a602dfdb2b16ea7a1f4392dc3d5761f7d">v8::TaskPriority::kUserVisible</a></div><div class="ttdeci">@ kUserVisible</div><div class="ttdoc">User visible tasks are long running background tasks that will improve performance and memory usage o...</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a2209830df6b59d1ec1fdf66b9352924f"><div class="ttname"><a href="src_2base_2logging_8h.html#a2209830df6b59d1ec1fdf66b9352924f">DCHECK_NULL</a></div><div class="ttdeci">#define DCHECK_NULL(val)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00490">logging.h:490</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="module-compiler_8cc_source.html#l00744">async_counters_</a>, <a class="el" href="module-compiler_8cc_source.html#l00762">baseline_compile_job_</a>, <a class="el" href="v8-platform_8h_source.html#l01310">v8::Platform::CreateJob()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00490">DCHECK_NULL</a>, <a class="el" href="v8_8cc_source.html#l00282">v8::internal::V8::GetCurrentPlatform()</a>, <a class="el" href="module-compiler_8cc_source.html#l00103">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::kBaseline</a>, <a class="el" href="module-compiler_8cc_source.html#l00103">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::kTopTier</a>, <a class="el" href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051a602dfdb2b16ea7a1f4392dc3d5761f7d">v8::kUserVisible</a>, <a class="el" href="module-compiler_8cc_source.html#l00743">native_module_weak_</a>, and <a class="el" href="module-compiler_8cc_source.html#l00763">top_tier_compile_job_</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l00891">v8::internal::wasm::CompilationState::InitCompileJob()</a>.</p>
<div id="dynsection-29" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-29-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-29-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-29-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a027613078d5bd38a4971700e68b6a20d_cgraph.svg" width="100%" height="413"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-30" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-30-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-30-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-30-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a027613078d5bd38a4971700e68b6a20d_icgraph.svg" width="398" height="96"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a06926c1b78473627fab3d1409a0916c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06926c1b78473627fab3d1409a0916c6">&#9670;&nbsp;</a></span>InitializeCompilationProgress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::CompilationStateImpl::InitializeCompilationProgress </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1wasm_1_1ProfileInformation.html">ProfileInformation</a> *&#160;</td>
          <td class="paramname"><em>pgo_info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l03757">3757</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160;                                  {</div>
<div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a8c6110baae5557a7b1bea2a035bf4cf2">failed</a>());</div>
<div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160; </div>
<div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> guard(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a765312328515d177ce5825f083c9b759">callbacks_mutex_</a>);</div>
<div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160; </div>
<div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_jitless) {</div>
<div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160;    <span class="keyword">auto</span>* module = <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab7f1169e5324c750facf09b9f5fbad94">native_module_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a04f2f50aa9d1cbc1dc28e60dbe687f74">module</a>();</div>
<div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160; </div>
<div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a8961a8c084b70ecbdb9dfe082929b2bb">outstanding_baseline_units_</a>);</div>
<div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160; </div>
<div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;    <span class="comment">// Compute the default compilation progress for all functions, and set it.</span></div>
<div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;    <span class="keyword">const</span> ExecutionTierPair default_tiers = <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03.html#a389db69d367e7efac0db6727f46fc3f0">GetDefaultTiersPerModule</a>(</div>
<div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab7f1169e5324c750facf09b9f5fbad94">native_module_</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab7f1169e5324c750facf09b9f5fbad94">native_module_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a95dc87711f2fbd647080305bf39e447f">IsInDebugState</a>(), <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03.html#a5c84f9651f5d91a9ec588b0be2866b40">IsLazyModule</a>(module));</div>
<div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;    <span class="keyword">const</span> uint8_t default_progress =</div>
<div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160;        <a class="code" href="classv8_1_1base_1_1BitField.html#a70718344d8a4df6c20b3cf9c9b14d0d4">RequiredBaselineTierField::encode</a>(default_tiers.baseline_tier) |</div>
<div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;        <a class="code" href="classv8_1_1base_1_1BitField.html#a70718344d8a4df6c20b3cf9c9b14d0d4">RequiredTopTierField::encode</a>(default_tiers.top_tier) |</div>
<div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;        <a class="code" href="classv8_1_1base_1_1BitField.html#a70718344d8a4df6c20b3cf9c9b14d0d4">ReachedTierField::encode</a>(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13">ExecutionTier::kNone</a>);</div>
<div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a2209830df6b59d1ec1fdf66b9352924f">DCHECK_NULL</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a0ff6ff765770fe090dc00572f0e64272">compilation_progress_</a>);</div>
<div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a0ff6ff765770fe090dc00572f0e64272">compilation_progress_</a> = <a class="code" href="classv8_1_1base_1_1OwnedVector.html#a2661cfcee856d5f551befac70c31a730">base::OwnedVector&lt;uint8_t&gt;::New</a>(</div>
<div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160;        module-&gt;num_declared_functions, default_progress);</div>
<div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;    <span class="keywordflow">if</span> (default_tiers.baseline_tier != <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13">ExecutionTier::kNone</a>) {</div>
<div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a8961a8c084b70ecbdb9dfe082929b2bb">outstanding_baseline_units_</a> += module-&gt;num_declared_functions;</div>
<div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;    }</div>
<div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160; </div>
<div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;    <span class="comment">// Apply compilation hints, if enabled.</span></div>
<div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab7f1169e5324c750facf09b9f5fbad94">native_module_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ac8900d676fd063b88a6876f464dd8a07">enabled_features</a>().has_compilation_hints()) {</div>
<div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160;      <span class="keywordtype">size_t</span> num_hints = std::min(module-&gt;compilation_hints.size(),</div>
<div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160;                                  <span class="keywordtype">size_t</span>{module-&gt;num_declared_functions});</div>
<div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> hint_idx = 0; hint_idx &lt; num_hints; ++hint_idx) {</div>
<div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; hint = module-&gt;compilation_hints[hint_idx];</div>
<div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a85ad2d14130ce9699d36bd8d9fe02333">ApplyCompilationHintToInitialProgress</a>(hint, hint_idx);</div>
<div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160;      }</div>
<div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;    }</div>
<div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160; </div>
<div class="line"><a name="l03792"></a><span class="lineno"> 3792</span>&#160;    <span class="comment">// Transform --wasm-eager-tier-up-function, if given, into a fake</span></div>
<div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160;    <span class="comment">// compilation hint.</span></div>
<div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a>(</div>
<div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160;            <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_eager_tier_up_function &gt;= 0 &amp;&amp;</div>
<div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160;            <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_eager_tier_up_function) &gt;=</div>
<div class="line"><a name="l03797"></a><span class="lineno"> 3797</span>&#160;                module-&gt;num_imported_functions &amp;&amp;</div>
<div class="line"><a name="l03798"></a><span class="lineno"> 3798</span>&#160;            <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_eager_tier_up_function) &lt;</div>
<div class="line"><a name="l03799"></a><span class="lineno"> 3799</span>&#160;                module-&gt;functions.size())) {</div>
<div class="line"><a name="l03800"></a><span class="lineno"> 3800</span>&#160;      uint32_t func_idx =</div>
<div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_eager_tier_up_function - module-&gt;num_imported_functions;</div>
<div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160;      WasmCompilationHint hint{<a class="code" href="namespacev8_1_1internal_1_1wasm.html#ad2b94e9a247149c2f2a19be54a08f7e1a1f85c8fbccc9bb4fcda482bf840bc3e2">WasmCompilationHintStrategy::kEager</a>,</div>
<div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160;                               <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a014ea81f0b1504833e290d4a98601282a51014a338329cb5629fd324cf7493bbc">WasmCompilationHintTier::kOptimized</a>,</div>
<div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160;                               <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a014ea81f0b1504833e290d4a98601282a51014a338329cb5629fd324cf7493bbc">WasmCompilationHintTier::kOptimized</a>};</div>
<div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a85ad2d14130ce9699d36bd8d9fe02333">ApplyCompilationHintToInitialProgress</a>(hint, func_idx);</div>
<div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;    }</div>
<div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;  }</div>
<div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160; </div>
<div class="line"><a name="l03809"></a><span class="lineno"> 3809</span>&#160;  <span class="comment">// Apply PGO information, if available.</span></div>
<div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160;  <span class="keywordflow">if</span> (pgo_info) <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#aabe8418b13e7c57d1415541cb0574eb6">ApplyPgoInfoToInitialProgress</a>(pgo_info);</div>
<div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160; </div>
<div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;  <span class="comment">// Trigger callbacks if module needs no baseline or top tier compilation. This</span></div>
<div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;  <span class="comment">// can be the case for an empty or fully lazy module.</span></div>
<div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a875b97140d7a45a4148a0fb1a248e42b">TriggerOutstandingCallbacks</a>();</div>
<div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1base_1_1BitField_html_a70718344d8a4df6c20b3cf9c9b14d0d4"><div class="ttname"><a href="classv8_1_1base_1_1BitField.html#a70718344d8a4df6c20b3cf9c9b14d0d4">v8::base::BitField::encode</a></div><div class="ttdeci">static constexpr U encode(T value)</div><div class="ttdef"><b>Definition:</b> <a href="bit-field_8h_source.html#l00055">bit-field.h:55</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OwnedVector_html_a2661cfcee856d5f551befac70c31a730"><div class="ttname"><a href="classv8_1_1base_1_1OwnedVector.html#a2661cfcee856d5f551befac70c31a730">v8::base::OwnedVector::New</a></div><div class="ttdeci">static OwnedVector&lt; T &gt; New(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="vector_8h_source.html#l00277">vector.h:277</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a95dc87711f2fbd647080305bf39e447f"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a95dc87711f2fbd647080305bf39e447f">v8::internal::wasm::NativeModule::IsInDebugState</a></div><div class="ttdeci">DebugState IsInDebugState() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00848">wasm-code-manager.h:848</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_ac8900d676fd063b88a6876f464dd8a07"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ac8900d676fd063b88a6876f464dd8a07">v8::internal::wasm::NativeModule::enabled_features</a></div><div class="ttdeci">WasmEnabledFeatures enabled_features() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00828">wasm-code-manager.h:828</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_html_a85ad2d14130ce9699d36bd8d9fe02333"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a85ad2d14130ce9699d36bd8d9fe02333">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::ApplyCompilationHintToInitialProgress</a></div><div class="ttdeci">void ApplyCompilationHintToInitialProgress(const WasmCompilationHint &amp;hint, size_t hint_idx)</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l03613">module-compiler.cc:3613</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_html_a875b97140d7a45a4148a0fb1a248e42b"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a875b97140d7a45a4148a0fb1a248e42b">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::TriggerOutstandingCallbacks</a></div><div class="ttdeci">void TriggerOutstandingCallbacks()</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l04117">module-compiler.cc:4117</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_html_a8c6110baae5557a7b1bea2a035bf4cf2"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a8c6110baae5557a7b1bea2a035bf4cf2">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::failed</a></div><div class="ttdeci">bool failed() const</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l00692">module-compiler.cc:692</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_html_aabe8418b13e7c57d1415541cb0574eb6"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#aabe8418b13e7c57d1415541cb0574eb6">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::ApplyPgoInfoToInitialProgress</a></div><div class="ttdeci">void ApplyPgoInfoToInitialProgress(ProfileInformation *pgo_info)</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l03662">module-compiler.cc:3662</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_html_a389db69d367e7efac0db6727f46fc3f0"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03.html#a389db69d367e7efac0db6727f46fc3f0">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::GetDefaultTiersPerModule</a></div><div class="ttdeci">ExecutionTierPair GetDefaultTiersPerModule(NativeModule *native_module, DebugState is_in_debug_state, bool lazy_module)</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l01036">module-compiler.cc:1036</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_html_a5c84f9651f5d91a9ec588b0be2866b40"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03.html#a5c84f9651f5d91a9ec588b0be2866b40">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::IsLazyModule</a></div><div class="ttdeci">bool IsLazyModule(const WasmModule *module)</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l01157">module-compiler.cc:1157</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a014ea81f0b1504833e290d4a98601282a51014a338329cb5629fd324cf7493bbc"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a014ea81f0b1504833e290d4a98601282a51014a338329cb5629fd324cf7493bbc">v8::internal::wasm::WasmCompilationHintTier::kOptimized</a></div><div class="ttdeci">@ kOptimized</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_af9c313d74155f7f201955a939e24c71f"><div class="ttname"><a href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a></div><div class="ttdeci">#define DCHECK_EQ(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00484">logging.h:484</a></div></div>
<div class="ttc" id="av8config_8h_html_a67bd29db07c711b0fb11ff1c324ebb60"><div class="ttname"><a href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a></div><div class="ttdeci">#define V8_UNLIKELY(condition)</div><div class="ttdef"><b>Definition:</b> <a href="v8config_8h_source.html#l00660">v8config.h:660</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="module-compiler_8cc_source.html#l03613">ApplyCompilationHintToInitialProgress()</a>, <a class="el" href="module-compiler_8cc_source.html#l03662">ApplyPgoInfoToInitialProgress()</a>, <a class="el" href="module-compiler_8cc_source.html#l01028">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::ExecutionTierPair::baseline_tier</a>, <a class="el" href="module-compiler_8cc_source.html#l00787">callbacks_mutex_</a>, <a class="el" href="module-compiler_8cc_source.html#l00809">compilation_progress_</a>, <a class="el" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00484">DCHECK_EQ</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00490">DCHECK_NULL</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00828">v8::internal::wasm::NativeModule::enabled_features()</a>, <a class="el" href="bit-field_8h_source.html#l00055">v8::base::BitField&lt; T, shift, size, U &gt;::encode()</a>, <a class="el" href="module-compiler_8cc_source.html#l00692">failed()</a>, <a class="el" href="module-compiler_8cc_source.html#l01036">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::GetDefaultTiersPerModule()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00848">v8::internal::wasm::NativeModule::IsInDebugState()</a>, <a class="el" href="module-compiler_8cc_source.html#l01157">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::IsLazyModule()</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#ad2b94e9a247149c2f2a19be54a08f7e1a1f85c8fbccc9bb4fcda482bf840bc3e2">v8::internal::wasm::kEager</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13">v8::internal::wasm::kNone</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a014ea81f0b1504833e290d4a98601282a51014a338329cb5629fd324cf7493bbc">v8::internal::wasm::kOptimized</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00766">v8::internal::wasm::NativeModule::module()</a>, <a class="el" href="module-compiler_8cc_source.html#l00742">native_module_</a>, <a class="el" href="vector_8h_source.html#l00277">v8::base::OwnedVector&lt; T &gt;::New()</a>, <a class="el" href="module-compiler_8cc_source.html#l00798">outstanding_baseline_units_</a>, <a class="el" href="module-compiler_8cc_source.html#l01029">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::ExecutionTierPair::top_tier</a>, <a class="el" href="module-compiler_8cc_source.html#l04117">TriggerOutstandingCallbacks()</a>, <a class="el" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a>, and <a class="el" href="v8config_8h_source.html#l00660">V8_UNLIKELY</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l02159">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::InitializeCompilation()</a>, and <a class="el" href="module-compiler_8cc_source.html#l01723">v8::internal::wasm::InitializeCompilationForTesting()</a>.</p>
<div id="dynsection-31" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-31-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-31-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-31-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a06926c1b78473627fab3d1409a0916c6_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-32" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-32-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-32-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-32-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a06926c1b78473627fab3d1409a0916c6_icgraph.svg" width="100%" height="488"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="afcd9da62d1edbb0e854d525370766659"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcd9da62d1edbb0e854d525370766659">&#9670;&nbsp;</a></span>InitializeCompilationProgressAfterDeserialization()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::CompilationStateImpl::InitializeCompilationProgressAfterDeserialization </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; const <a class="el" href="classint.html">int</a> &gt;&#160;</td>
          <td class="paramname"><em>lazy_functions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; const <a class="el" href="classint.html">int</a> &gt;&#160;</td>
          <td class="paramname"><em>eager_functions</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l03869">3869</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;                                           {</div>
<div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160;  <a class="code" href="trace-event-no-perfetto_8h.html#a58927f99d797f77024561f336303380c">TRACE_EVENT2</a>(<span class="stringliteral">&quot;v8.wasm&quot;</span>, <span class="stringliteral">&quot;wasm.CompilationAfterDeserialization&quot;</span>,</div>
<div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160;               <span class="stringliteral">&quot;num_lazy_functions&quot;</span>, lazy_functions.size(),</div>
<div class="line"><a name="l03874"></a><span class="lineno"> 3874</span>&#160;               <span class="stringliteral">&quot;num_eager_functions&quot;</span>, eager_functions.size());</div>
<div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160;  std::optional&lt;TimedHistogramScope&gt; lazy_compile_time_scope;</div>
<div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1base_1_1TimeTicks.html#acdd9f8482c321164c58f46bc65372c9b">base::TimeTicks::IsHighResolution</a>()) {</div>
<div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160;    lazy_compile_time_scope.emplace(</div>
<div class="line"><a name="l03878"></a><span class="lineno"> 3878</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#aeb68dfdbcf7afb114fbfe377cb9d16d7">counters</a>()-&gt;wasm_compile_after_deserialize());</div>
<div class="line"><a name="l03879"></a><span class="lineno"> 3879</span>&#160;  }</div>
<div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160; </div>
<div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160;  <span class="keyword">auto</span>* module = <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab7f1169e5324c750facf09b9f5fbad94">native_module_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a04f2f50aa9d1cbc1dc28e60dbe687f74">module</a>();</div>
<div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;  {</div>
<div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> guard(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a765312328515d177ce5825f083c9b759">callbacks_mutex_</a>);</div>
<div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a2209830df6b59d1ec1fdf66b9352924f">DCHECK_NULL</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a0ff6ff765770fe090dc00572f0e64272">compilation_progress_</a>);</div>
<div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160; </div>
<div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;    <span class="comment">// Initialize the compilation progress as if everything was</span></div>
<div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160;    <span class="comment">// TurboFan-compiled.</span></div>
<div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160;    constexpr uint8_t kProgressAfterTurbofanDeserialization =</div>
<div class="line"><a name="l03889"></a><span class="lineno"> 3889</span>&#160;        <a class="code" href="classv8_1_1base_1_1BitField.html#a70718344d8a4df6c20b3cf9c9b14d0d4">RequiredBaselineTierField::encode</a>(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a3a4891ee13d971db79eeae3a6d61d151">ExecutionTier::kLiftoff</a>) |</div>
<div class="line"><a name="l03890"></a><span class="lineno"> 3890</span>&#160;        <a class="code" href="classv8_1_1base_1_1BitField.html#a70718344d8a4df6c20b3cf9c9b14d0d4">RequiredTopTierField::encode</a>(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31">ExecutionTier::kTurbofan</a>) |</div>
<div class="line"><a name="l03891"></a><span class="lineno"> 3891</span>&#160;        <a class="code" href="classv8_1_1base_1_1BitField.html#a70718344d8a4df6c20b3cf9c9b14d0d4">ReachedTierField::encode</a>(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31">ExecutionTier::kTurbofan</a>);</div>
<div class="line"><a name="l03892"></a><span class="lineno"> 3892</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a0ff6ff765770fe090dc00572f0e64272">compilation_progress_</a> = <a class="code" href="classv8_1_1base_1_1OwnedVector.html#a2661cfcee856d5f551befac70c31a730">base::OwnedVector&lt;uint8_t&gt;::New</a>(</div>
<div class="line"><a name="l03893"></a><span class="lineno"> 3893</span>&#160;        module-&gt;num_declared_functions, kProgressAfterTurbofanDeserialization);</div>
<div class="line"><a name="l03894"></a><span class="lineno"> 3894</span>&#160; </div>
<div class="line"><a name="l03895"></a><span class="lineno"> 3895</span>&#160;    <span class="comment">// Update compilation state for lazy functions.</span></div>
<div class="line"><a name="l03896"></a><span class="lineno"> 3896</span>&#160;    constexpr uint8_t kProgressForLazyFunctions =</div>
<div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160;        <a class="code" href="classv8_1_1base_1_1BitField.html#a70718344d8a4df6c20b3cf9c9b14d0d4">RequiredBaselineTierField::encode</a>(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13">ExecutionTier::kNone</a>) |</div>
<div class="line"><a name="l03898"></a><span class="lineno"> 3898</span>&#160;        <a class="code" href="classv8_1_1base_1_1BitField.html#a70718344d8a4df6c20b3cf9c9b14d0d4">RequiredTopTierField::encode</a>(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13">ExecutionTier::kNone</a>) |</div>
<div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160;        <a class="code" href="classv8_1_1base_1_1BitField.html#a70718344d8a4df6c20b3cf9c9b14d0d4">ReachedTierField::encode</a>(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13">ExecutionTier::kNone</a>);</div>
<div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> func_index : lazy_functions) {</div>
<div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a0ff6ff765770fe090dc00572f0e64272">compilation_progress_</a>[<a class="code" href="namespacev8_1_1internal_1_1wasm.html#abd9cf6cdda997dfabf862a6048202195">declared_function_index</a>(module, func_index)] =</div>
<div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160;          kProgressForLazyFunctions;</div>
<div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160;    }</div>
<div class="line"><a name="l03904"></a><span class="lineno"> 3904</span>&#160; </div>
<div class="line"><a name="l03905"></a><span class="lineno"> 3905</span>&#160;    <span class="comment">// Update compilation state for eagerly compiled functions.</span></div>
<div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160;    constexpr <span class="keywordtype">bool</span> kNotLazy = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03907"></a><span class="lineno"> 3907</span>&#160;    ExecutionTierPair default_tiers = <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03.html#a389db69d367e7efac0db6727f46fc3f0">GetDefaultTiersPerModule</a>(</div>
<div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab7f1169e5324c750facf09b9f5fbad94">native_module_</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab7f1169e5324c750facf09b9f5fbad94">native_module_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a95dc87711f2fbd647080305bf39e447f">IsInDebugState</a>(), kNotLazy);</div>
<div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160;    uint8_t progress_for_eager_functions =</div>
<div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160;        <a class="code" href="classv8_1_1base_1_1BitField.html#a70718344d8a4df6c20b3cf9c9b14d0d4">RequiredBaselineTierField::encode</a>(default_tiers.baseline_tier) |</div>
<div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160;        <a class="code" href="classv8_1_1base_1_1BitField.html#a70718344d8a4df6c20b3cf9c9b14d0d4">RequiredTopTierField::encode</a>(default_tiers.top_tier) |</div>
<div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160;        <a class="code" href="classv8_1_1base_1_1BitField.html#a70718344d8a4df6c20b3cf9c9b14d0d4">ReachedTierField::encode</a>(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13">ExecutionTier::kNone</a>);</div>
<div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> func_index : eager_functions) {</div>
<div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160;      <span class="comment">// Check that {func_index} is not contained in {lazy_functions}.</span></div>
<div class="line"><a name="l03915"></a><span class="lineno"> 3915</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(</div>
<div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160;          <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a0ff6ff765770fe090dc00572f0e64272">compilation_progress_</a>[<a class="code" href="namespacev8_1_1internal_1_1wasm.html#abd9cf6cdda997dfabf862a6048202195">declared_function_index</a>(module, func_index)],</div>
<div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160;          kProgressAfterTurbofanDeserialization);</div>
<div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a0ff6ff765770fe090dc00572f0e64272">compilation_progress_</a>[<a class="code" href="namespacev8_1_1internal_1_1wasm.html#abd9cf6cdda997dfabf862a6048202195">declared_function_index</a>(module, func_index)] =</div>
<div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160;          progress_for_eager_functions;</div>
<div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160;    }</div>
<div class="line"><a name="l03921"></a><span class="lineno"> 3921</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13">ExecutionTier::kNone</a>, default_tiers.baseline_tier);</div>
<div class="line"><a name="l03922"></a><span class="lineno"> 3922</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a8961a8c084b70ecbdb9dfe082929b2bb">outstanding_baseline_units_</a> += eager_functions.size();</div>
<div class="line"><a name="l03923"></a><span class="lineno"> 3923</span>&#160; </div>
<div class="line"><a name="l03924"></a><span class="lineno"> 3924</span>&#160;    <span class="comment">// Baseline compilation is done if we do not have any Liftoff functions to</span></div>
<div class="line"><a name="l03925"></a><span class="lineno"> 3925</span>&#160;    <span class="comment">// compile.</span></div>
<div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160;    <span class="keywordflow">if</span> (eager_functions.empty() || <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_lazy_compilation) {</div>
<div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ada63ef52e4d0b472d4194a3a6aec02e7">finished_events_</a>.<a class="code" href="classv8_1_1base_1_1EnumSet.html#a284a9564cbcce06b154271c335244102">Add</a>(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a020d8fcab0133f11030d7b8ef6259e29a41b18f40e8022b599bc6360f216daba4">CompilationEvent::kFinishedBaselineCompilation</a>);</div>
<div class="line"><a name="l03928"></a><span class="lineno"> 3928</span>&#160;    }</div>
<div class="line"><a name="l03929"></a><span class="lineno"> 3929</span>&#160;  }</div>
<div class="line"><a name="l03930"></a><span class="lineno"> 3930</span>&#160;  <span class="keyword">auto</span> builder = std::make_unique&lt;CompilationUnitBuilder&gt;(<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab7f1169e5324c750facf09b9f5fbad94">native_module_</a>);</div>
<div class="line"><a name="l03931"></a><span class="lineno"> 3931</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ac57fa6c76918532a01b6d1028b948fb1">InitializeCompilationUnits</a>(std::move(builder));</div>
<div class="line"><a name="l03932"></a><span class="lineno"> 3932</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_lazy_compilation) {</div>
<div class="line"><a name="l03933"></a><span class="lineno"> 3933</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#aaf65fb2f96cb75ae477b7b62b8aecb90">WaitForCompilationEvent</a>(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a020d8fcab0133f11030d7b8ef6259e29a41b18f40e8022b599bc6360f216daba4">CompilationEvent::kFinishedBaselineCompilation</a>);</div>
<div class="line"><a name="l03934"></a><span class="lineno"> 3934</span>&#160;  }</div>
<div class="line"><a name="l03935"></a><span class="lineno"> 3935</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1base_1_1EnumSet_html_a284a9564cbcce06b154271c335244102"><div class="ttname"><a href="classv8_1_1base_1_1EnumSet.html#a284a9564cbcce06b154271c335244102">v8::base::EnumSet::Add</a></div><div class="ttdeci">constexpr void Add(E element)</div><div class="ttdef"><b>Definition:</b> <a href="enum-set_8h_source.html#l00050">enum-set.h:50</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1TimeTicks_html_acdd9f8482c321164c58f46bc65372c9b"><div class="ttname"><a href="classv8_1_1base_1_1TimeTicks.html#acdd9f8482c321164c58f46bc65372c9b">v8::base::TimeTicks::IsHighResolution</a></div><div class="ttdeci">static bool IsHighResolution()</div><div class="ttdef"><b>Definition:</b> <a href="time_8cc_source.html#l00763">time.cc:763</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_html_aaf65fb2f96cb75ae477b7b62b8aecb90"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#aaf65fb2f96cb75ae477b7b62b8aecb90">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::WaitForCompilationEvent</a></div><div class="ttdeci">void WaitForCompilationEvent(CompilationEvent event)</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l04337">module-compiler.cc:4337</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_html_ac57fa6c76918532a01b6d1028b948fb1"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ac57fa6c76918532a01b6d1028b948fb1">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::InitializeCompilationUnits</a></div><div class="ttdeci">void InitializeCompilationUnits(std::unique_ptr&lt; CompilationUnitBuilder &gt; builder)</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l03852">module-compiler.cc:3852</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_html_aeb68dfdbcf7afb114fbfe377cb9d16d7"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#aeb68dfdbcf7afb114fbfe377cb9d16d7">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::counters</a></div><div class="ttdeci">Counters * counters() const</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l00701">module-compiler.cc:701</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a986dc8f4ec6dcd0644efe205c13f8eb7"><div class="ttname"><a href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a></div><div class="ttdeci">#define DCHECK_NE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00485">logging.h:485</a></div></div>
<div class="ttc" id="atrace-event-no-perfetto_8h_html_a58927f99d797f77024561f336303380c"><div class="ttname"><a href="trace-event-no-perfetto_8h.html#a58927f99d797f77024561f336303380c">TRACE_EVENT2</a></div><div class="ttdeci">#define TRACE_EVENT2(category_group, name, arg1_name, arg1_val, arg2_name, arg2_val)</div><div class="ttdef"><b>Definition:</b> <a href="trace-event-no-perfetto_8h_source.html#l00043">trace-event-no-perfetto.h:43</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="enum-set_8h_source.html#l00050">v8::base::EnumSet&lt; E, T &gt;::Add()</a>, <a class="el" href="module-compiler_8cc_source.html#l01028">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::ExecutionTierPair::baseline_tier</a>, <a class="el" href="module-compiler_8cc_source.html#l00787">callbacks_mutex_</a>, <a class="el" href="module-compiler_8cc_source.html#l00809">compilation_progress_</a>, <a class="el" href="module-compiler_8cc_source.html#l00701">counters()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00484">DCHECK_EQ</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00485">DCHECK_NE</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00490">DCHECK_NULL</a>, <a class="el" href="wasm-module_8h_source.html#l01076">v8::internal::wasm::declared_function_index()</a>, <a class="el" href="bit-field_8h_source.html#l00055">v8::base::BitField&lt; T, shift, size, U &gt;::encode()</a>, <a class="el" href="module-compiler_8cc_source.html#l00796">finished_events_</a>, <a class="el" href="module-compiler_8cc_source.html#l01036">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::GetDefaultTiersPerModule()</a>, <a class="el" href="module-compiler_8cc_source.html#l03852">InitializeCompilationUnits()</a>, <a class="el" href="time_8cc_source.html#l00763">v8::base::TimeTicks::IsHighResolution()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00848">v8::internal::wasm::NativeModule::IsInDebugState()</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a020d8fcab0133f11030d7b8ef6259e29a41b18f40e8022b599bc6360f216daba4">v8::internal::wasm::kFinishedBaselineCompilation</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a3a4891ee13d971db79eeae3a6d61d151">v8::internal::wasm::kLiftoff</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13">v8::internal::wasm::kNone</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31">v8::internal::wasm::kTurbofan</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00766">v8::internal::wasm::NativeModule::module()</a>, <a class="el" href="module-compiler_8cc_source.html#l00742">native_module_</a>, <a class="el" href="vector_8h_source.html#l00277">v8::base::OwnedVector&lt; T &gt;::New()</a>, <a class="el" href="module-compiler_8cc_source.html#l00798">outstanding_baseline_units_</a>, <a class="el" href="vector_8h_source.html#l00070">v8::base::Vector&lt; T &gt;::size()</a>, <a class="el" href="module-compiler_8cc_source.html#l01029">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::ExecutionTierPair::top_tier</a>, <a class="el" href="trace-event-no-perfetto_8h_source.html#l00043">TRACE_EVENT2</a>, <a class="el" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a>, and <a class="el" href="module-compiler_8cc_source.html#l04337">WaitForCompilationEvent()</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l00931">v8::internal::wasm::CompilationState::InitializeAfterDeserialization()</a>.</p>
<div id="dynsection-33" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-33-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-33-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-33-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_afcd9da62d1edbb0e854d525370766659_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-34" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-34-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-34-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-34-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_afcd9da62d1edbb0e854d525370766659_icgraph.svg" width="487" height="111"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ab0af1dcf85378fb072a892b87ed4ac15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0af1dcf85378fb072a892b87ed4ac15">&#9670;&nbsp;</a></span>InitializeCompilationUnitForSingleFunction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::CompilationStateImpl::InitializeCompilationUnitForSingleFunction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitBuilder.html">CompilationUnitBuilder</a> *&#160;</td>
          <td class="paramname"><em>builder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>func_index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l03817">3817</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;                                                         {</div>
<div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_jitless) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03820"></a><span class="lineno"> 3820</span>&#160; </div>
<div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160;  <span class="comment">// Only during streaming compilation, we reach here without holding</span></div>
<div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;  <span class="comment">// `callbacks_mutex_`.</span></div>
<div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;  <span class="comment">// This avoids the observed overhead of taking the lock once per function.</span></div>
<div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;  <span class="comment">// This is correct (data-race free), because the only mutation of</span></div>
<div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;  <span class="comment">// `compilation_progress_` before reading it here without holding the lock is</span></div>
<div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;  <span class="comment">// when initializing the compilation during parsing of the code section</span></div>
<div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;  <span class="comment">// header (see `InitializeCompilationProgress` and</span></div>
<div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;  <span class="comment">// `AsyncStreamingProcessor::ProcessCodeSectionHeader`), which must happen</span></div>
<div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160;  <span class="comment">// before processing functions.</span></div>
<div class="line"><a name="l03830"></a><span class="lineno"> 3830</span>&#160;  <span class="comment">// Also, this read here happens exactly once per function, only for the</span></div>
<div class="line"><a name="l03831"></a><span class="lineno"> 3831</span>&#160;  <span class="comment">// initial compilation, and all accesses to `compilation_progress_` thereafter</span></div>
<div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160;  <span class="comment">// are synchronized via `callbacks_mutex_`.</span></div>
<div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160;  uint8_t function_progress = <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a0ff6ff765770fe090dc00572f0e64272">compilation_progress_</a>[<a class="code" href="namespacev8_1_1internal_1_1wasm.html#abd9cf6cdda997dfabf862a6048202195">declared_function_index</a>(</div>
<div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab7f1169e5324c750facf09b9f5fbad94">native_module_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a04f2f50aa9d1cbc1dc28e60dbe687f74">module</a>(), function_index)];</div>
<div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9">ExecutionTier</a> required_baseline_tier =</div>
<div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160;      <a class="code" href="classv8_1_1base_1_1BitField.html#a554df4b9ae5f0dc36b4d092bfc2e004b">CompilationStateImpl::RequiredBaselineTierField::decode</a>(</div>
<div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;          function_progress);</div>
<div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9">ExecutionTier</a> required_top_tier =</div>
<div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;      <a class="code" href="classv8_1_1base_1_1BitField.html#a554df4b9ae5f0dc36b4d092bfc2e004b">CompilationStateImpl::RequiredTopTierField::decode</a>(function_progress);</div>
<div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9">ExecutionTier</a> reached_tier =</div>
<div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160;      <a class="code" href="classv8_1_1base_1_1BitField.html#a554df4b9ae5f0dc36b4d092bfc2e004b">CompilationStateImpl::ReachedTierField::decode</a>(function_progress);</div>
<div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160; </div>
<div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160;  <span class="keywordflow">if</span> (reached_tier &lt; required_baseline_tier) {</div>
<div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;    builder-&gt;AddBaselineUnit(function_index, required_baseline_tier);</div>
<div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;  }</div>
<div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;  <span class="keywordflow">if</span> (reached_tier &lt; required_top_tier &amp;&amp;</div>
<div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;      required_baseline_tier != required_top_tier) {</div>
<div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;    builder-&gt;AddTopTierUnit(function_index, required_top_tier);</div>
<div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;  }</div>
<div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="module-compiler_8cc_source.html#l01101">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationUnitBuilder::AddBaselineUnit()</a>, <a class="el" href="module-compiler_8cc_source.html#l01105">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationUnitBuilder::AddTopTierUnit()</a>, <a class="el" href="module-compiler_8cc_source.html#l00809">compilation_progress_</a>, <a class="el" href="wasm-module_8h_source.html#l01076">v8::internal::wasm::declared_function_index()</a>, <a class="el" href="bit-field_8h_source.html#l00066">v8::base::BitField&lt; T, shift, size, U &gt;::decode()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00766">v8::internal::wasm::NativeModule::module()</a>, <a class="el" href="module-compiler_8cc_source.html#l00742">native_module_</a>, and <a class="el" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l03852">InitializeCompilationUnits()</a>.</p>
<div id="dynsection-35" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-35-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-35-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-35-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab0af1dcf85378fb072a892b87ed4ac15_cgraph.svg" width="500" height="403"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-36" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-36-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-36-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-36-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab0af1dcf85378fb072a892b87ed4ac15_icgraph.svg" width="100%" height="383"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ac57fa6c76918532a01b6d1028b948fb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac57fa6c76918532a01b6d1028b948fb1">&#9670;&nbsp;</a></span>InitializeCompilationUnits()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::CompilationStateImpl::InitializeCompilationUnits </td>
          <td>(</td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitBuilder.html">CompilationUnitBuilder</a> &gt;&#160;</td>
          <td class="paramname"><em>builder</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l03852">3852</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160;                                                   {</div>
<div class="line"><a name="l03854"></a><span class="lineno"> 3854</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_jitless) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160; </div>
<div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160;  {</div>
<div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> guard(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a765312328515d177ce5825f083c9b759">callbacks_mutex_</a>);</div>
<div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160;    <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal.html#a09dbf9baefb793fd78912d6ef89f9dde">WasmModule</a>* module = <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab7f1169e5324c750facf09b9f5fbad94">native_module_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a04f2f50aa9d1cbc1dc28e60dbe687f74">module</a>();</div>
<div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(module-&gt;num_declared_functions, <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a0ff6ff765770fe090dc00572f0e64272">compilation_progress_</a>.<a class="code" href="classv8_1_1base_1_1OwnedVector.html#a26c158458db822b4e91ca63ec1026131">size</a>());</div>
<div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;    <span class="keywordtype">int</span> start = module-&gt;num_imported_functions;</div>
<div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a> = start + module-&gt;num_declared_functions;</div>
<div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> func_index = start; func_index &lt; <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>; ++func_index) {</div>
<div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab0af1dcf85378fb072a892b87ed4ac15">InitializeCompilationUnitForSingleFunction</a>(builder.get(), func_index);</div>
<div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160;    }</div>
<div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;  }</div>
<div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;  builder-&gt;Commit();</div>
<div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1base_1_1OwnedVector_html_a26c158458db822b4e91ca63ec1026131"><div class="ttname"><a href="classv8_1_1base_1_1OwnedVector.html#a26c158458db822b4e91ca63ec1026131">v8::base::OwnedVector::size</a></div><div class="ttdeci">constexpr size_t size() const</div><div class="ttdef"><b>Definition:</b> <a href="vector_8h_source.html#l00236">vector.h:236</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_html_ab0af1dcf85378fb072a892b87ed4ac15"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab0af1dcf85378fb072a892b87ed4ac15">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::InitializeCompilationUnitForSingleFunction</a></div><div class="ttdeci">void InitializeCompilationUnitForSingleFunction(CompilationUnitBuilder *builder, int func_index)</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l03817">module-compiler.cc:3817</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_html_a51dcb90ae077172b12d63271c7e7ba0c"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">v8::internal::compiler::end</a></div><div class="ttdeci">Node::Uses::const_iterator end(const Node::Uses &amp;uses)</div><div class="ttdef"><b>Definition:</b> <a href="node_8h_source.html#l00711">node.h:711</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="module-compiler_8cc_source.html#l00787">callbacks_mutex_</a>, <a class="el" href="module-compiler_8cc_source.html#l00809">compilation_progress_</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00484">DCHECK_EQ</a>, <a class="el" href="node_8h_source.html#l00711">v8::internal::compiler::end()</a>, <a class="el" href="module-compiler_8cc_source.html#l03817">InitializeCompilationUnitForSingleFunction()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00766">v8::internal::wasm::NativeModule::module()</a>, <a class="el" href="module-compiler_8cc_source.html#l00742">native_module_</a>, <a class="el" href="wasm-module_8h_source.html#l00684">v8::internal::wasm::WasmModule::num_declared_functions</a>, <a class="el" href="wasm-module_8h_source.html#l00681">v8::internal::wasm::WasmModule::num_imported_functions</a>, <a class="el" href="vector_8h_source.html#l00236">v8::base::OwnedVector&lt; T &gt;::size()</a>, and <a class="el" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l03869">InitializeCompilationProgressAfterDeserialization()</a>.</p>
<div id="dynsection-37" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-37-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-37-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-37-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ac57fa6c76918532a01b6d1028b948fb1_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-38" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-38-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-38-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-38-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ac57fa6c76918532a01b6d1028b948fb1_icgraph.svg" width="100%" height="383"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="acbf680841025a81ae543c133173e87a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbf680841025a81ae543c133173e87a2">&#9670;&nbsp;</a></span>NumOutstandingCompilations()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal.html#a4725962ca3c127eb5871cb47293aee95">size_t</a> v8::internal::wasm::CompilationStateImpl::NumOutstandingCompilations </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03.html#aef575f4d4842a6dcdb81b8c172df9eb5">CompilationTier</a>&#160;</td>
          <td class="paramname"><em>tier</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l04321">4321</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l04322"></a><span class="lineno"> 4322</span>&#160;                                {</div>
<div class="line"><a name="l04323"></a><span class="lineno"> 4323</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab616d619108985decfe0d7f7ce17fcc6">compilation_unit_queues_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitQueues.html#acd58ed5c7aa92fd01ef858dd4a885a68">GetSizeForTier</a>(<a class="code" href="flag-definitions_8h.html#a878783ad616ead06040f7d4b080f6a02">tier</a>);</div>
<div class="line"><a name="l04324"></a><span class="lineno"> 4324</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitQueues_html_acd58ed5c7aa92fd01ef858dd4a885a68"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitQueues.html#acd58ed5c7aa92fd01ef858dd4a885a68">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationUnitQueues::GetSizeForTier</a></div><div class="ttdeci">size_t GetSizeForTier(CompilationTier tier) const</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l00265">module-compiler.cc:265</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l02359">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::BackgroundCompileJob::GetMaxConcurrency()</a>.</p>
<div id="dynsection-39" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-39-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-39-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-39-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_acbf680841025a81ae543c133173e87a2_icgraph.svg" width="474" height="96"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="adf989d360ca6f9f18f40ba6ed28c76b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf989d360ca6f9f18f40ba6ed28c76b0">&#9670;&nbsp;</a></span>OnCompilationStopped()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::CompilationStateImpl::OnCompilationStopped </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmDetectedFeatures.html">WasmDetectedFeatures</a>&#160;</td>
          <td class="paramname"><em>detected</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l04229">4229</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l04230"></a><span class="lineno"> 4230</span>&#160;                                            {</div>
<div class="line"><a name="l04231"></a><span class="lineno"> 4231</span>&#160;  WasmDetectedFeatures new_detected_features =</div>
<div class="line"><a name="l04232"></a><span class="lineno"> 4232</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ae307e43873e6a925477fefac9dcef545">UpdateDetectedFeatures</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a46f742b041803cde875c307e3021be18">detected_features</a>);</div>
<div class="line"><a name="l04233"></a><span class="lineno"> 4233</span>&#160;  <span class="keywordflow">if</span> (new_detected_features.empty()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04234"></a><span class="lineno"> 4234</span>&#160; </div>
<div class="line"><a name="l04235"></a><span class="lineno"> 4235</span>&#160;  <span class="comment">// New detected features can only happen during eager compilation or if lazy</span></div>
<div class="line"><a name="l04236"></a><span class="lineno"> 4236</span>&#160;  <span class="comment">// validation is enabled.</span></div>
<div class="line"><a name="l04237"></a><span class="lineno"> 4237</span>&#160;  <span class="comment">// The exceptions are currently stringref and imported strings, which are only</span></div>
<div class="line"><a name="l04238"></a><span class="lineno"> 4238</span>&#160;  <span class="comment">// detected on top-tier compilation.</span></div>
<div class="line"><a name="l04239"></a><span class="lineno"> 4239</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_lazy_compilation || <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_lazy_validation ||</div>
<div class="line"><a name="l04240"></a><span class="lineno"> 4240</span>&#160;         (new_detected_features -</div>
<div class="line"><a name="l04241"></a><span class="lineno"> 4241</span>&#160;          WasmDetectedFeatures{{WasmDetectedFeature::stringref,</div>
<div class="line"><a name="l04242"></a><span class="lineno"> 4242</span>&#160;                                WasmDetectedFeature::imported_strings_utf8,</div>
<div class="line"><a name="l04243"></a><span class="lineno"> 4243</span>&#160;                                WasmDetectedFeature::imported_strings}})</div>
<div class="line"><a name="l04244"></a><span class="lineno"> 4244</span>&#160;             .empty());</div>
<div class="line"><a name="l04245"></a><span class="lineno"> 4245</span>&#160;  <span class="comment">// TODO(clemensb): Fix reporting of late detected features (relevant for lazy</span></div>
<div class="line"><a name="l04246"></a><span class="lineno"> 4246</span>&#160;  <span class="comment">// validation and for stringref).</span></div>
<div class="line"><a name="l04247"></a><span class="lineno"> 4247</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_html_ae307e43873e6a925477fefac9dcef545"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ae307e43873e6a925477fefac9dcef545">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::UpdateDetectedFeatures</a></div><div class="ttdeci">V8_WARN_UNUSED_RESULT WasmDetectedFeatures UpdateDetectedFeatures(WasmDetectedFeatures)</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l04249">module-compiler.cc:4249</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK()</a>, <a class="el" href="module-compiler_8cc_source.html#l00649">detected_features()</a>, <a class="el" href="enum-set_8h_source.html#l00034">v8::base::EnumSet&lt; E, T &gt;::empty()</a>, <a class="el" href="module-compiler_8cc_source.html#l04249">UpdateDetectedFeatures()</a>, and <a class="el" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l02043">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::ExecuteCompilationUnits()</a>.</p>
<div id="dynsection-40" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-40-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-40-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-40-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_adf989d360ca6f9f18f40ba6ed28c76b0_cgraph.svg" width="439" height="323"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-41" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-41-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-41-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-41-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_adf989d360ca6f9f18f40ba6ed28c76b0_icgraph.svg" width="100%" height="444"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a0a03590d60fc6923649c15307fc00dfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a03590d60fc6923649c15307fc00dfd">&#9670;&nbsp;</a></span>OnFinishedUnits()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::CompilationStateImpl::OnFinishedUnits </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a> * &gt;&#160;</td>
          <td class="paramname"><em>code_vector</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l03996">3996</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l03997"></a><span class="lineno"> 3997</span>&#160;                                       {</div>
<div class="line"><a name="l03998"></a><span class="lineno"> 3998</span>&#160;  <a class="code" href="trace-event-no-perfetto_8h.html#ac437f27e15925a9bd53c69692a6c85fe">TRACE_EVENT1</a>(<a class="code" href="trace-event-no-perfetto_8h.html#a97689377430b094caec680dd7dd230fe">TRACE_DISABLED_BY_DEFAULT</a>(<span class="stringliteral">&quot;v8.wasm.detailed&quot;</span>),</div>
<div class="line"><a name="l03999"></a><span class="lineno"> 3999</span>&#160;               <span class="stringliteral">&quot;wasm.OnFinishedUnits&quot;</span>, <span class="stringliteral">&quot;units&quot;</span>, code_vector.size());</div>
<div class="line"><a name="l04000"></a><span class="lineno"> 4000</span>&#160; </div>
<div class="line"><a name="l04001"></a><span class="lineno"> 4001</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> guard(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a765312328515d177ce5825f083c9b759">callbacks_mutex_</a>);</div>
<div class="line"><a name="l04002"></a><span class="lineno"> 4002</span>&#160; </div>
<div class="line"><a name="l04003"></a><span class="lineno"> 4003</span>&#160;  <span class="comment">// Assume an order of execution tiers that represents the quality of their</span></div>
<div class="line"><a name="l04004"></a><span class="lineno"> 4004</span>&#160;  <span class="comment">// generated code.</span></div>
<div class="line"><a name="l04005"></a><span class="lineno"> 4005</span>&#160;  static_assert(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13">ExecutionTier::kNone</a> &lt; <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a3a4891ee13d971db79eeae3a6d61d151">ExecutionTier::kLiftoff</a> &amp;&amp;</div>
<div class="line"><a name="l04006"></a><span class="lineno"> 4006</span>&#160;                    <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a3a4891ee13d971db79eeae3a6d61d151">ExecutionTier::kLiftoff</a> &lt; <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31">ExecutionTier::kTurbofan</a>,</div>
<div class="line"><a name="l04007"></a><span class="lineno"> 4007</span>&#160;                <span class="stringliteral">&quot;Assume an order on execution tiers&quot;</span>);</div>
<div class="line"><a name="l04008"></a><span class="lineno"> 4008</span>&#160; </div>
<div class="line"><a name="l04009"></a><span class="lineno"> 4009</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_jitless) {</div>
<div class="line"><a name="l04010"></a><span class="lineno"> 4010</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a0ff6ff765770fe090dc00572f0e64272">compilation_progress_</a>.<a class="code" href="classv8_1_1base_1_1OwnedVector.html#a26c158458db822b4e91ca63ec1026131">size</a>(),</div>
<div class="line"><a name="l04011"></a><span class="lineno"> 4011</span>&#160;              <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab7f1169e5324c750facf09b9f5fbad94">native_module_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a04f2f50aa9d1cbc1dc28e60dbe687f74">module</a>()-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a5a60fa14372f7bc06d7d6f51d23b0bee">num_declared_functions</a>);</div>
<div class="line"><a name="l04012"></a><span class="lineno"> 4012</span>&#160;  }</div>
<div class="line"><a name="l04013"></a><span class="lineno"> 4013</span>&#160; </div>
<div class="line"><a name="l04014"></a><span class="lineno"> 4014</span>&#160;  <span class="keywordtype">bool</span> has_top_tier_code = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04015"></a><span class="lineno"> 4015</span>&#160; </div>
<div class="line"><a name="l04016"></a><span class="lineno"> 4016</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; code_vector.size(); <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l04017"></a><span class="lineno"> 4017</span>&#160;    WasmCode* <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> = code_vector[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>];</div>
<div class="line"><a name="l04018"></a><span class="lineno"> 4018</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>);</div>
<div class="line"><a name="l04019"></a><span class="lineno"> 4019</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a>(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;index(), <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab7f1169e5324c750facf09b9f5fbad94">native_module_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a4210dcf60ee0c22b95de93af93f17f86">num_functions</a>());</div>
<div class="line"><a name="l04020"></a><span class="lineno"> 4020</span>&#160; </div>
<div class="line"><a name="l04021"></a><span class="lineno"> 4021</span>&#160;    has_top_tier_code |= <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;tier() == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31">ExecutionTier::kTurbofan</a>;</div>
<div class="line"><a name="l04022"></a><span class="lineno"> 4022</span>&#160; </div>
<div class="line"><a name="l04023"></a><span class="lineno"> 4023</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;index() &lt;</div>
<div class="line"><a name="l04024"></a><span class="lineno"> 4024</span>&#160;        <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab7f1169e5324c750facf09b9f5fbad94">native_module_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#af886dc3d493824b7a1ae1e1f5ae02e42">num_imported_functions</a>())) {</div>
<div class="line"><a name="l04025"></a><span class="lineno"> 4025</span>&#160;      <span class="comment">// Import wrapper.</span></div>
<div class="line"><a name="l04026"></a><span class="lineno"> 4026</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;tier(), <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31">ExecutionTier::kTurbofan</a>);</div>
<div class="line"><a name="l04027"></a><span class="lineno"> 4027</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a8961a8c084b70ecbdb9dfe082929b2bb">outstanding_baseline_units_</a>--;</div>
<div class="line"><a name="l04028"></a><span class="lineno"> 4028</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04029"></a><span class="lineno"> 4029</span>&#160;      <span class="comment">// Function.</span></div>
<div class="line"><a name="l04030"></a><span class="lineno"> 4030</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;tier(), <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13">ExecutionTier::kNone</a>);</div>
<div class="line"><a name="l04031"></a><span class="lineno"> 4031</span>&#160; </div>
<div class="line"><a name="l04032"></a><span class="lineno"> 4032</span>&#160;      <span class="comment">// Read function&#39;s compilation progress.</span></div>
<div class="line"><a name="l04033"></a><span class="lineno"> 4033</span>&#160;      <span class="comment">// This view on the compilation progress may differ from the actually</span></div>
<div class="line"><a name="l04034"></a><span class="lineno"> 4034</span>&#160;      <span class="comment">// compiled code. Any lazily compiled function does not contribute to the</span></div>
<div class="line"><a name="l04035"></a><span class="lineno"> 4035</span>&#160;      <span class="comment">// compilation progress but may publish code to the code manager.</span></div>
<div class="line"><a name="l04036"></a><span class="lineno"> 4036</span>&#160;      uint8_t&amp; function_progress =</div>
<div class="line"><a name="l04037"></a><span class="lineno"> 4037</span>&#160;          <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a0ff6ff765770fe090dc00572f0e64272">compilation_progress_</a>[<a class="code" href="namespacev8_1_1internal_1_1wasm.html#abd9cf6cdda997dfabf862a6048202195">declared_function_index</a>(</div>
<div class="line"><a name="l04038"></a><span class="lineno"> 4038</span>&#160;              <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab7f1169e5324c750facf09b9f5fbad94">native_module_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a04f2f50aa9d1cbc1dc28e60dbe687f74">module</a>(), <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;index())];</div>
<div class="line"><a name="l04039"></a><span class="lineno"> 4039</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9">ExecutionTier</a> required_baseline_tier =</div>
<div class="line"><a name="l04040"></a><span class="lineno"> 4040</span>&#160;          <a class="code" href="classv8_1_1base_1_1BitField.html#a554df4b9ae5f0dc36b4d092bfc2e004b">RequiredBaselineTierField::decode</a>(function_progress);</div>
<div class="line"><a name="l04041"></a><span class="lineno"> 4041</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9">ExecutionTier</a> reached_tier = <a class="code" href="classv8_1_1base_1_1BitField.html#a554df4b9ae5f0dc36b4d092bfc2e004b">ReachedTierField::decode</a>(function_progress);</div>
<div class="line"><a name="l04042"></a><span class="lineno"> 4042</span>&#160; </div>
<div class="line"><a name="l04043"></a><span class="lineno"> 4043</span>&#160;      <span class="comment">// Check whether required baseline or top tier are reached.</span></div>
<div class="line"><a name="l04044"></a><span class="lineno"> 4044</span>&#160;      <span class="keywordflow">if</span> (reached_tier &lt; required_baseline_tier &amp;&amp;</div>
<div class="line"><a name="l04045"></a><span class="lineno"> 4045</span>&#160;          required_baseline_tier &lt;= code-&gt;<a class="code" href="flag-definitions_8h.html#a878783ad616ead06040f7d4b080f6a02">tier</a>()) {</div>
<div class="line"><a name="l04046"></a><span class="lineno"> 4046</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#afd957f297df7e9ee36c46185e961485f">DCHECK_GT</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a8961a8c084b70ecbdb9dfe082929b2bb">outstanding_baseline_units_</a>, 0);</div>
<div class="line"><a name="l04047"></a><span class="lineno"> 4047</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a8961a8c084b70ecbdb9dfe082929b2bb">outstanding_baseline_units_</a>--;</div>
<div class="line"><a name="l04048"></a><span class="lineno"> 4048</span>&#160;      }</div>
<div class="line"><a name="l04049"></a><span class="lineno"> 4049</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;tier() == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31">ExecutionTier::kTurbofan</a>) {</div>
<div class="line"><a name="l04050"></a><span class="lineno"> 4050</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a0f9620bca55b357d90dba566d87043b1">bytes_since_last_chunk_</a> += <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;instructions().size();</div>
<div class="line"><a name="l04051"></a><span class="lineno"> 4051</span>&#160;      }</div>
<div class="line"><a name="l04052"></a><span class="lineno"> 4052</span>&#160; </div>
<div class="line"><a name="l04053"></a><span class="lineno"> 4053</span>&#160;      <span class="comment">// Update function&#39;s compilation progress.</span></div>
<div class="line"><a name="l04054"></a><span class="lineno"> 4054</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;tier() &gt; reached_tier) {</div>
<div class="line"><a name="l04055"></a><span class="lineno"> 4055</span>&#160;        function_progress =</div>
<div class="line"><a name="l04056"></a><span class="lineno"> 4056</span>&#160;            <a class="code" href="classv8_1_1base_1_1BitField.html#aa8d61fe165b5c0b2c869be69be02b7af">ReachedTierField::update</a>(function_progress, <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;tier());</div>
<div class="line"><a name="l04057"></a><span class="lineno"> 4057</span>&#160;      }</div>
<div class="line"><a name="l04058"></a><span class="lineno"> 4058</span>&#160;      <span class="comment">// Allow another top tier compilation if deopts are enabled and the</span></div>
<div class="line"><a name="l04059"></a><span class="lineno"> 4059</span>&#160;      <span class="comment">// currently installed code object is a liftoff object.</span></div>
<div class="line"><a name="l04060"></a><span class="lineno"> 4060</span>&#160;      <span class="comment">// Ideally, this would be done only if the code-&gt;tier() ==</span></div>
<div class="line"><a name="l04061"></a><span class="lineno"> 4061</span>&#160;      <span class="comment">// ExecutionTier::Liftoff as the code object for which we run this</span></div>
<div class="line"><a name="l04062"></a><span class="lineno"> 4062</span>&#160;      <span class="comment">// function should be the same as the one installed on the native_module.</span></div>
<div class="line"><a name="l04063"></a><span class="lineno"> 4063</span>&#160;      <span class="comment">// This is unfortunately not the case as installing a code object on the</span></div>
<div class="line"><a name="l04064"></a><span class="lineno"> 4064</span>&#160;      <span class="comment">// native module and updating the compilation_progress_ and the</span></div>
<div class="line"><a name="l04065"></a><span class="lineno"> 4065</span>&#160;      <span class="comment">// CompilationUnitQueues::top_tier_compiled_ are not synchronized.</span></div>
<div class="line"><a name="l04066"></a><span class="lineno"> 4066</span>&#160;      <span class="comment">// Note: GetCode() acquires the NativeModule::allocation_mutex_, so this</span></div>
<div class="line"><a name="l04067"></a><span class="lineno"> 4067</span>&#160;      <span class="comment">// could cause deadlocks if any other place acquires</span></div>
<div class="line"><a name="l04068"></a><span class="lineno"> 4068</span>&#160;      <span class="comment">// NativeModule::allocation_mutex_ first and then</span></div>
<div class="line"><a name="l04069"></a><span class="lineno"> 4069</span>&#160;      <span class="comment">// CompilationStateImpl::callbacks_mutex_!</span></div>
<div class="line"><a name="l04070"></a><span class="lineno"> 4070</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">bool</span> is_liftoff = <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;tier() == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a3a4891ee13d971db79eeae3a6d61d151">ExecutionTier::kLiftoff</a>;</div>
<div class="line"><a name="l04071"></a><span class="lineno"> 4071</span>&#160;      <span class="keyword">auto</span> published_code_is_liftoff = [<span class="keyword">this</span>](<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>) {</div>
<div class="line"><a name="l04072"></a><span class="lineno"> 4072</span>&#160;        WasmCode* <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab7f1169e5324c750facf09b9f5fbad94">native_module_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a37a8384fb8317a24c3d58cf66ff64123">GetCode</a>(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>);</div>
<div class="line"><a name="l04073"></a><span class="lineno"> 4073</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> == <span class="keyword">nullptr</span>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04074"></a><span class="lineno"> 4074</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;is_liftoff();</div>
<div class="line"><a name="l04075"></a><span class="lineno"> 4075</span>&#160;      };</div>
<div class="line"><a name="l04076"></a><span class="lineno"> 4076</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_deopt &amp;&amp;</div>
<div class="line"><a name="l04077"></a><span class="lineno"> 4077</span>&#160;          (is_liftoff || published_code_is_liftoff(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;index()))) {</div>
<div class="line"><a name="l04078"></a><span class="lineno"> 4078</span>&#160;        <span class="comment">// Setting the reached tier below the baseline tier would create an</span></div>
<div class="line"><a name="l04079"></a><span class="lineno"> 4079</span>&#160;        <span class="comment">// inconsistent state and has actually led to crashes before (see</span></div>
<div class="line"><a name="l04080"></a><span class="lineno"> 4080</span>&#160;        <span class="comment">// https://crbug.com/379086474).</span></div>
<div class="line"><a name="l04081"></a><span class="lineno"> 4081</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(required_baseline_tier, <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a3a4891ee13d971db79eeae3a6d61d151">ExecutionTier::kLiftoff</a>);</div>
<div class="line"><a name="l04082"></a><span class="lineno"> 4082</span>&#160;        function_progress = <a class="code" href="classv8_1_1base_1_1BitField.html#aa8d61fe165b5c0b2c869be69be02b7af">ReachedTierField::update</a>(function_progress,</div>
<div class="line"><a name="l04083"></a><span class="lineno"> 4083</span>&#160;                                                     <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a3a4891ee13d971db79eeae3a6d61d151">ExecutionTier::kLiftoff</a>);</div>
<div class="line"><a name="l04084"></a><span class="lineno"> 4084</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab616d619108985decfe0d7f7ce17fcc6">compilation_unit_queues_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitQueues.html#ac5cf3ece9a08ba65c92468996df796f6">AllowAnotherTopTierJob</a>(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;index());</div>
<div class="line"><a name="l04085"></a><span class="lineno"> 4085</span>&#160;      }</div>
<div class="line"><a name="l04086"></a><span class="lineno"> 4086</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(0, <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a8961a8c084b70ecbdb9dfe082929b2bb">outstanding_baseline_units_</a>);</div>
<div class="line"><a name="l04087"></a><span class="lineno"> 4087</span>&#160;    }</div>
<div class="line"><a name="l04088"></a><span class="lineno"> 4088</span>&#160;  }</div>
<div class="line"><a name="l04089"></a><span class="lineno"> 4089</span>&#160; </div>
<div class="line"><a name="l04090"></a><span class="lineno"> 4090</span>&#160;  <span class="comment">// Update the {last_top_tier_compilation_timestamp_} if it is set (i.e. a</span></div>
<div class="line"><a name="l04091"></a><span class="lineno"> 4091</span>&#160;  <span class="comment">// delayed task has already been spawned).</span></div>
<div class="line"><a name="l04092"></a><span class="lineno"> 4092</span>&#160;  <span class="keywordflow">if</span> (has_top_tier_code &amp;&amp; !<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a9d575e5064d78171ea8245113351208a">last_top_tier_compilation_timestamp_</a>.<a class="code" href="classv8_1_1base_1_1time__internal_1_1TimeBase.html#acf50e8599f7e76ab3cc07a32f8df30a9">IsNull</a>()) {</div>
<div class="line"><a name="l04093"></a><span class="lineno"> 4093</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a9d575e5064d78171ea8245113351208a">last_top_tier_compilation_timestamp_</a> = <a class="code" href="classv8_1_1base_1_1TimeTicks.html#ab0886bf0e84f1e1fcdc101021c2c0775">base::TimeTicks::Now</a>();</div>
<div class="line"><a name="l04094"></a><span class="lineno"> 4094</span>&#160;  }</div>
<div class="line"><a name="l04095"></a><span class="lineno"> 4095</span>&#160; </div>
<div class="line"><a name="l04096"></a><span class="lineno"> 4096</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a875b97140d7a45a4148a0fb1a248e42b">TriggerOutstandingCallbacks</a>();</div>
<div class="line"><a name="l04097"></a><span class="lineno"> 4097</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1base_1_1TimeTicks_html_ab0886bf0e84f1e1fcdc101021c2c0775"><div class="ttname"><a href="classv8_1_1base_1_1TimeTicks.html#ab0886bf0e84f1e1fcdc101021c2c0775">v8::base::TimeTicks::Now</a></div><div class="ttdeci">static TimeTicks Now()</div><div class="ttdef"><b>Definition:</b> <a href="time_8cc_source.html#l00736">time.cc:736</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1time__internal_1_1TimeBase_html_acf50e8599f7e76ab3cc07a32f8df30a9"><div class="ttname"><a href="classv8_1_1base_1_1time__internal_1_1TimeBase.html#acf50e8599f7e76ab3cc07a32f8df30a9">v8::base::time_internal::TimeBase::IsNull</a></div><div class="ttdeci">constexpr bool IsNull() const</div><div class="ttdef"><b>Definition:</b> <a href="time_8h_source.html#l00250">time.h:250</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a37a8384fb8317a24c3d58cf66ff64123"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a37a8384fb8317a24c3d58cf66ff64123">v8::internal::wasm::NativeModule::GetCode</a></div><div class="ttdeci">WasmCode * GetCode(uint32_t index) const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01691">wasm-code-manager.cc:1691</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a4210dcf60ee0c22b95de93af93f17f86"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a4210dcf60ee0c22b95de93af93f17f86">v8::internal::wasm::NativeModule::num_functions</a></div><div class="ttdeci">uint32_t num_functions() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00752">wasm-code-manager.h:752</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_af886dc3d493824b7a1ae1e1f5ae02e42"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#af886dc3d493824b7a1ae1e1f5ae02e42">v8::internal::wasm::NativeModule::num_imported_functions</a></div><div class="ttdeci">uint32_t num_imported_functions() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00755">wasm-code-manager.h:755</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_html_a0f9620bca55b357d90dba566d87043b1"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a0f9620bca55b357d90dba566d87043b1">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::bytes_since_last_chunk_</a></div><div class="ttdeci">size_t bytes_since_last_chunk_</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l00802">module-compiler.cc:802</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_html_a9d575e5064d78171ea8245113351208a"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a9d575e5064d78171ea8245113351208a">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::last_top_tier_compilation_timestamp_</a></div><div class="ttdeci">base::TimeTicks last_top_tier_compilation_timestamp_</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l00815">module-compiler.cc:815</a></div></div>
<div class="ttc" id="aflag-definitions_8h_html_ae0e79c88adf5166f9befeb542c2acd8f"><div class="ttname"><a href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a></div><div class="ttdeci">force emit tier up logic from all non turbofan code</div><div class="ttdef"><b>Definition:</b> <a href="flag-definitions_8h_source.html#l00546">flag-definitions.h:546</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_html_ad86b3cf21e19e97ce484f32b894d548c"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">v8::internal::anonymous_namespace{json-stringifier.cc}::i</a></div><div class="ttdeci">size_t i</div><div class="ttdef"><b>Definition:</b> <a href="json-stringifier_8cc_source.html#l00548">json-stringifier.cc:548</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a0cfab207d565dcf62ebf50f3987e05de"><div class="ttname"><a href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">v8::internal::index</a></div><div class="ttdeci">int index</div><div class="ttdef"><b>Definition:</b> <a href="heap-snapshot-generator_8cc_source.html#l01698">heap-snapshot-generator.cc:1698</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a16b382527f19b805fc8f856668f2270b"><div class="ttname"><a href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a></div><div class="ttdeci">#define DCHECK_LE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00489">logging.h:489</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_af1a711c8d5520dff78858ddefd2ad668"><div class="ttname"><a href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a></div><div class="ttdeci">#define DCHECK_LT(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00488">logging.h:488</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_afd957f297df7e9ee36c46185e961485f"><div class="ttname"><a href="src_2base_2logging_8h.html#afd957f297df7e9ee36c46185e961485f">DCHECK_GT</a></div><div class="ttdeci">#define DCHECK_GT(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00486">logging.h:486</a></div></div>
<div class="ttc" id="atrace-event-no-perfetto_8h_html_a97689377430b094caec680dd7dd230fe"><div class="ttname"><a href="trace-event-no-perfetto_8h.html#a97689377430b094caec680dd7dd230fe">TRACE_DISABLED_BY_DEFAULT</a></div><div class="ttdeci">#define TRACE_DISABLED_BY_DEFAULT(name)</div><div class="ttdef"><b>Definition:</b> <a href="trace-event-no-perfetto_8h_source.html#l00025">trace-event-no-perfetto.h:25</a></div></div>
<div class="ttc" id="atrace-event-no-perfetto_8h_html_ac437f27e15925a9bd53c69692a6c85fe"><div class="ttname"><a href="trace-event-no-perfetto_8h.html#ac437f27e15925a9bd53c69692a6c85fe">TRACE_EVENT1</a></div><div class="ttdeci">#define TRACE_EVENT1(category_group, name, arg1_name, arg1_val)</div><div class="ttdef"><b>Definition:</b> <a href="trace-event-no-perfetto_8h_source.html#l00037">trace-event-no-perfetto.h:37</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="module-compiler_8cc_source.html#l00270">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationUnitQueues::AllowAnotherTopTierJob()</a>, <a class="el" href="module-compiler_8cc_source.html#l00802">bytes_since_last_chunk_</a>, <a class="el" href="module-compiler_8cc_source.html#l00787">callbacks_mutex_</a>, <a class="el" href="flag-definitions_8h_source.html#l00546">code</a>, <a class="el" href="module-compiler_8cc_source.html#l00809">compilation_progress_</a>, <a class="el" href="module-compiler_8cc_source.html#l00754">compilation_unit_queues_</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00484">DCHECK_EQ</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00486">DCHECK_GT</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00489">DCHECK_LE</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00488">DCHECK_LT</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00485">DCHECK_NE</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00491">DCHECK_NOT_NULL</a>, <a class="el" href="wasm-module_8h_source.html#l01076">v8::internal::wasm::declared_function_index()</a>, <a class="el" href="bit-field_8h_source.html#l00066">v8::base::BitField&lt; T, shift, size, U &gt;::decode()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01691">v8::internal::wasm::NativeModule::GetCode()</a>, <a class="el" href="json-stringifier_8cc_source.html#l00548">v8::internal::anonymous_namespace{json-stringifier.cc}::i</a>, <a class="el" href="heap-snapshot-generator_8cc_source.html#l01698">v8::internal::index</a>, <a class="el" href="time_8h_source.html#l00250">v8::base::time_internal::TimeBase&lt; TimeClass &gt;::IsNull()</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a3a4891ee13d971db79eeae3a6d61d151">v8::internal::wasm::kLiftoff</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13">v8::internal::wasm::kNone</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31">v8::internal::wasm::kTurbofan</a>, <a class="el" href="module-compiler_8cc_source.html#l00815">last_top_tier_compilation_timestamp_</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00766">v8::internal::wasm::NativeModule::module()</a>, <a class="el" href="module-compiler_8cc_source.html#l00742">native_module_</a>, <a class="el" href="time_8cc_source.html#l00736">v8::base::TimeTicks::Now()</a>, <a class="el" href="wasm-module_8h_source.html#l00684">v8::internal::wasm::WasmModule::num_declared_functions</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00752">v8::internal::wasm::NativeModule::num_functions()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00755">v8::internal::wasm::NativeModule::num_imported_functions()</a>, <a class="el" href="module-compiler_8cc_source.html#l00798">outstanding_baseline_units_</a>, <a class="el" href="vector_8h_source.html#l00070">v8::base::Vector&lt; T &gt;::size()</a>, <a class="el" href="vector_8h_source.html#l00236">v8::base::OwnedVector&lt; T &gt;::size()</a>, <a class="el" href="trace-event-no-perfetto_8h_source.html#l00025">TRACE_DISABLED_BY_DEFAULT</a>, <a class="el" href="trace-event-no-perfetto_8h_source.html#l00037">TRACE_EVENT1</a>, <a class="el" href="module-compiler_8cc_source.html#l04117">TriggerOutstandingCallbacks()</a>, <a class="el" href="bit-field_8h_source.html#l00061">v8::base::BitField&lt; T, shift, size, U &gt;::update()</a>, and <a class="el" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a>.</p>
<div id="dynsection-42" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-42-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-42-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-42-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a0a03590d60fc6923649c15307fc00dfd_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="afc9ff843b7f51b2e035c286168390f2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc9ff843b7f51b2e035c286168390f2e">&#9670;&nbsp;</a></span>PublishCode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a> * &gt; v8::internal::wasm::CompilationStateImpl::PublishCode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; <a class="el" href="structv8_1_1internal_1_1wasm_1_1UnpublishedWasmCode.html">UnpublishedWasmCode</a> &gt;&#160;</td>
          <td class="paramname"><em>codes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l04276">4276</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l04277"></a><span class="lineno"> 4277</span>&#160;                                          {</div>
<div class="line"><a name="l04278"></a><span class="lineno"> 4278</span>&#160;  WasmCodeRefScope code_ref_scope;</div>
<div class="line"><a name="l04279"></a><span class="lineno"> 4279</span>&#160;  std::vector&lt;WasmCode*&gt; published_code =</div>
<div class="line"><a name="l04280"></a><span class="lineno"> 4280</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab7f1169e5324c750facf09b9f5fbad94">native_module_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a91db58c0a3ed6efdba8d82e23a659fa7">PublishCode</a>(std::move(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>));</div>
<div class="line"><a name="l04281"></a><span class="lineno"> 4281</span>&#160;  <span class="comment">// Defer logging code in case wire bytes were not fully received yet.</span></div>
<div class="line"><a name="l04282"></a><span class="lineno"> 4282</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab7f1169e5324c750facf09b9f5fbad94">native_module_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a7394f35597a2e806ed37a5131279919d">log_code</a>() &amp;&amp; <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab7f1169e5324c750facf09b9f5fbad94">native_module_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a53bed2d056d03e227cb3fd50df82a114">HasWireBytes</a>()) {</div>
<div class="line"><a name="l04283"></a><span class="lineno"> 4283</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1wasm.html#abc12fc3b25ebfb54c20b8479642acb94">GetWasmEngine</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#a2b1c94eee0072e6f73f9262078571a4f">LogCode</a>(<a class="code" href="namespacev8_1_1base.html#a5bfc65f27076e49eb7752a4fb4d45acb">base::VectorOf</a>(published_code));</div>
<div class="line"><a name="l04284"></a><span class="lineno"> 4284</span>&#160;  }</div>
<div class="line"><a name="l04285"></a><span class="lineno"> 4285</span>&#160; </div>
<div class="line"><a name="l04286"></a><span class="lineno"> 4286</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a0a03590d60fc6923649c15307fc00dfd">OnFinishedUnits</a>(<a class="code" href="namespacev8_1_1base.html#a5bfc65f27076e49eb7752a4fb4d45acb">base::VectorOf</a>(published_code));</div>
<div class="line"><a name="l04287"></a><span class="lineno"> 4287</span>&#160;  <span class="keywordflow">return</span> published_code;</div>
<div class="line"><a name="l04288"></a><span class="lineno"> 4288</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a53bed2d056d03e227cb3fd50df82a114"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a53bed2d056d03e227cb3fd50df82a114">v8::internal::wasm::NativeModule::HasWireBytes</a></div><div class="ttdeci">bool HasWireBytes() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00816">wasm-code-manager.h:816</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a7394f35597a2e806ed37a5131279919d"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a7394f35597a2e806ed37a5131279919d">v8::internal::wasm::NativeModule::log_code</a></div><div class="ttdeci">bool log_code() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00897">wasm-code-manager.h:897</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a91db58c0a3ed6efdba8d82e23a659fa7"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a91db58c0a3ed6efdba8d82e23a659fa7">v8::internal::wasm::NativeModule::PublishCode</a></div><div class="ttdeci">WasmCode * PublishCode(UnpublishedWasmCode)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01428">wasm-code-manager.cc:1428</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmEngine_html_a2b1c94eee0072e6f73f9262078571a4f"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#a2b1c94eee0072e6f73f9262078571a4f">v8::internal::wasm::WasmEngine::LogCode</a></div><div class="ttdeci">void LogCode(base::Vector&lt; WasmCode * &gt;)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-engine_8cc_source.html#l01367">wasm-engine.cc:1367</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_html_a0a03590d60fc6923649c15307fc00dfd"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a0a03590d60fc6923649c15307fc00dfd">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::OnFinishedUnits</a></div><div class="ttdeci">void OnFinishedUnits(base::Vector&lt; WasmCode * &gt;)</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l03996">module-compiler.cc:3996</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a5bfc65f27076e49eb7752a4fb4d45acb"><div class="ttname"><a href="namespacev8_1_1base.html#a5bfc65f27076e49eb7752a4fb4d45acb">v8::base::VectorOf</a></div><div class="ttdeci">constexpr Vector&lt; T &gt; VectorOf(T *start, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="vector_8h_source.html#l00359">vector.h:359</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_abc12fc3b25ebfb54c20b8479642acb94"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#abc12fc3b25ebfb54c20b8479642acb94">v8::internal::wasm::GetWasmEngine</a></div><div class="ttdeci">WasmEngine * GetWasmEngine()</div><div class="ttdef"><b>Definition:</b> <a href="wasm-engine_8cc_source.html#l02125">wasm-engine.cc:2125</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="flag-definitions_8h_source.html#l00546">code</a>, <a class="el" href="wasm-engine_8cc_source.html#l02125">v8::internal::wasm::GetWasmEngine()</a>, <a class="el" href="wasm-engine_8cc_source.html#l01367">v8::internal::wasm::WasmEngine::LogCode()</a>, and <a class="el" href="vector_8h_source.html#l00359">v8::base::VectorOf()</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l00952">v8::internal::wasm::CompilationState::PublishCode()</a>.</p>
<div id="dynsection-43" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-43-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-43-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-43-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_afc9ff843b7f51b2e035c286168390f2e_cgraph.svg" width="660" height="322"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-44" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-44-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-44-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-44-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_afc9ff843b7f51b2e035c286168390f2e_icgraph.svg" width="398" height="96"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a811a5626f8ecd18c98ed09241c442de5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a811a5626f8ecd18c98ed09241c442de5">&#9670;&nbsp;</a></span>PublishCompilationResults()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::CompilationStateImpl::PublishCompilationResults </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structv8_1_1internal_1_1wasm_1_1UnpublishedWasmCode.html">UnpublishedWasmCode</a> &gt;&#160;</td>
          <td class="paramname"><em>unpublished_code</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l04261">4261</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l04262"></a><span class="lineno"> 4262</span>&#160;                                                     {</div>
<div class="line"><a name="l04263"></a><span class="lineno"> 4263</span>&#160;  <span class="keywordflow">if</span> (unpublished_code.empty()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04264"></a><span class="lineno"> 4264</span>&#160; </div>
<div class="line"><a name="l04265"></a><span class="lineno"> 4265</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l04266"></a><span class="lineno"> 4266</span>&#160;  <span class="comment">// We don&#39;t compile import wrappers eagerly.</span></div>
<div class="line"><a name="l04267"></a><span class="lineno"> 4267</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; [<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>, assumptions] : unpublished_code) {</div>
<div class="line"><a name="l04268"></a><span class="lineno"> 4268</span>&#160;    <span class="keywordtype">int</span> func_index = <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;index();</div>
<div class="line"><a name="l04269"></a><span class="lineno"> 4269</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab7f1169e5324c750facf09b9f5fbad94">native_module_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#af886dc3d493824b7a1ae1e1f5ae02e42">num_imported_functions</a>(), func_index);</div>
<div class="line"><a name="l04270"></a><span class="lineno"> 4270</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a>(func_index, <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab7f1169e5324c750facf09b9f5fbad94">native_module_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a4210dcf60ee0c22b95de93af93f17f86">num_functions</a>());</div>
<div class="line"><a name="l04271"></a><span class="lineno"> 4271</span>&#160;  }</div>
<div class="line"><a name="l04272"></a><span class="lineno"> 4272</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04273"></a><span class="lineno"> 4273</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#afc9ff843b7f51b2e035c286168390f2e">PublishCode</a>(<a class="code" href="namespacev8_1_1base.html#a5bfc65f27076e49eb7752a4fb4d45acb">base::VectorOf</a>(unpublished_code));</div>
<div class="line"><a name="l04274"></a><span class="lineno"> 4274</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_html_afc9ff843b7f51b2e035c286168390f2e"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#afc9ff843b7f51b2e035c286168390f2e">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::PublishCode</a></div><div class="ttdeci">std::vector&lt; WasmCode * &gt; PublishCode(base::Vector&lt; UnpublishedWasmCode &gt; codes)</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l04276">module-compiler.cc:4276</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="flag-definitions_8h_source.html#l00546">code</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00489">DCHECK_LE</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00488">DCHECK_LT</a>, and <a class="el" href="vector_8h_source.html#l00359">v8::base::VectorOf()</a>.</p>
<div id="dynsection-45" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-45-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-45-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-45-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a811a5626f8ecd18c98ed09241c442de5_cgraph.svg" width="500" height="96"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a31071aac7bfc7dfb7923f3376d78376b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31071aac7bfc7dfb7923f3376d78376b">&#9670;&nbsp;</a></span>SchedulePublishCompilationResults()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::CompilationStateImpl::SchedulePublishCompilationResults </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structv8_1_1internal_1_1wasm_1_1UnpublishedWasmCode.html">UnpublishedWasmCode</a> &gt;&#160;</td>
          <td class="paramname"><em>unpublished_code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03.html#aef575f4d4842a6dcdb81b8c172df9eb5">CompilationTier</a>&#160;</td>
          <td class="paramname"><em>tier</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l04290">4290</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l04291"></a><span class="lineno"> 4291</span>&#160;                                                                           {</div>
<div class="line"><a name="l04292"></a><span class="lineno"> 4292</span>&#160;  PublishState&amp; state = <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a022eb4137f9bae86d68fe9792fda8042">publish_state_</a>[<a class="code" href="flag-definitions_8h.html#a878783ad616ead06040f7d4b080f6a02">tier</a>];</div>
<div class="line"><a name="l04293"></a><span class="lineno"> 4293</span>&#160;  {</div>
<div class="line"><a name="l04294"></a><span class="lineno"> 4294</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> guard(&amp;state.mutex_);</div>
<div class="line"><a name="l04295"></a><span class="lineno"> 4295</span>&#160;    <span class="keywordflow">if</span> (state.publisher_running_) {</div>
<div class="line"><a name="l04296"></a><span class="lineno"> 4296</span>&#160;      <span class="comment">// Add new code to the queue and return.</span></div>
<div class="line"><a name="l04297"></a><span class="lineno"> 4297</span>&#160;      state.publish_queue_.reserve(state.publish_queue_.size() +</div>
<div class="line"><a name="l04298"></a><span class="lineno"> 4298</span>&#160;                                   unpublished_code.size());</div>
<div class="line"><a name="l04299"></a><span class="lineno"> 4299</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; c : unpublished_code) {</div>
<div class="line"><a name="l04300"></a><span class="lineno"> 4300</span>&#160;        state.publish_queue_.emplace_back(std::move(c));</div>
<div class="line"><a name="l04301"></a><span class="lineno"> 4301</span>&#160;      }</div>
<div class="line"><a name="l04302"></a><span class="lineno"> 4302</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04303"></a><span class="lineno"> 4303</span>&#160;    }</div>
<div class="line"><a name="l04304"></a><span class="lineno"> 4304</span>&#160;    state.publisher_running_ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04305"></a><span class="lineno"> 4305</span>&#160;  }</div>
<div class="line"><a name="l04306"></a><span class="lineno"> 4306</span>&#160;  <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line"><a name="l04307"></a><span class="lineno"> 4307</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a811a5626f8ecd18c98ed09241c442de5">PublishCompilationResults</a>(std::move(unpublished_code));</div>
<div class="line"><a name="l04308"></a><span class="lineno"> 4308</span>&#160;    unpublished_code.clear();</div>
<div class="line"><a name="l04309"></a><span class="lineno"> 4309</span>&#160; </div>
<div class="line"><a name="l04310"></a><span class="lineno"> 4310</span>&#160;    <span class="comment">// Keep publishing new code that came in.</span></div>
<div class="line"><a name="l04311"></a><span class="lineno"> 4311</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> guard(&amp;state.mutex_);</div>
<div class="line"><a name="l04312"></a><span class="lineno"> 4312</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(state.publisher_running_);</div>
<div class="line"><a name="l04313"></a><span class="lineno"> 4313</span>&#160;    <span class="keywordflow">if</span> (state.publish_queue_.empty()) {</div>
<div class="line"><a name="l04314"></a><span class="lineno"> 4314</span>&#160;      state.publisher_running_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04315"></a><span class="lineno"> 4315</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04316"></a><span class="lineno"> 4316</span>&#160;    }</div>
<div class="line"><a name="l04317"></a><span class="lineno"> 4317</span>&#160;    unpublished_code.swap(state.publish_queue_);</div>
<div class="line"><a name="l04318"></a><span class="lineno"> 4318</span>&#160;  }</div>
<div class="line"><a name="l04319"></a><span class="lineno"> 4319</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_html_a022eb4137f9bae86d68fe9792fda8042"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a022eb4137f9bae86d68fe9792fda8042">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::publish_state_</a></div><div class="ttdeci">PublishState publish_state_[CompilationTier::kNumTiers]</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l00826">module-compiler.cc:826</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_html_a811a5626f8ecd18c98ed09241c442de5"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a811a5626f8ecd18c98ed09241c442de5">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::PublishCompilationResults</a></div><div class="ttdeci">void PublishCompilationResults(std::vector&lt; UnpublishedWasmCode &gt; unpublished_code)</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l04261">module-compiler.cc:4261</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK()</a>, <a class="el" href="module-compiler_8cc_source.html#l00822">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::PublishState::mutex_</a>, <a class="el" href="module-compiler_8cc_source.html#l00823">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::PublishState::publish_queue_</a>, and <a class="el" href="module-compiler_8cc_source.html#l00824">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::PublishState::publisher_running_</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l02043">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::ExecuteCompilationUnits()</a>.</p>
<div id="dynsection-46" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-46-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-46-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-46-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a31071aac7bfc7dfb7923f3376d78376b_cgraph.svg" width="480" height="96"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-47" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-47-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-47-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-47-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a31071aac7bfc7dfb7923f3376d78376b_icgraph.svg" width="100%" height="444"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a5691daef0ad1f616287b1bf605e6ed19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5691daef0ad1f616287b1bf605e6ed19">&#9670;&nbsp;</a></span>set_compilation_id()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::set_compilation_id </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>compilation_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l00715">715</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;                                              {</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#abba3d6e3f1705511c75747b22d3f05ec">compilation_id_</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a32bf0a519ec58a3c7c7444eeef340e5a">kInvalidCompilationID</a>);</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#abba3d6e3f1705511c75747b22d3f05ec">compilation_id_</a> = compilation_id;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  }</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_html_a32bf0a519ec58a3c7c7444eeef340e5a"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a32bf0a519ec58a3c7c7444eeef340e5a">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::kInvalidCompilationID</a></div><div class="ttdeci">static constexpr int kInvalidCompilationID</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l00766">module-compiler.cc:766</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_html_abba3d6e3f1705511c75747b22d3f05ec"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#abba3d6e3f1705511c75747b22d3f05ec">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::compilation_id_</a></div><div class="ttdeci">int compilation_id_</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l00767">module-compiler.cc:767</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="src_2base_2logging_8h_source.html#l00484">DCHECK_EQ</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l00944">v8::internal::wasm::CompilationState::set_compilation_id()</a>.</p>
<div id="dynsection-48" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-48-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-48-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-48-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a5691daef0ad1f616287b1bf605e6ed19_icgraph.svg" width="398" height="96"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a28b47f0cb3321f0107f1a57b0b7edf0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28b47f0cb3321f0107f1a57b0b7edf0d">&#9670;&nbsp;</a></span>SetError()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::CompilationStateImpl::SetError </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l04326">4326</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l04326"></a><span class="lineno"> 4326</span>&#160;                                    {</div>
<div class="line"><a name="l04327"></a><span class="lineno"> 4327</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ac7c4f6efcf3aafb8f51b8a77da48410b">compile_cancelled_</a>.store(<span class="keyword">true</span>, std::memory_order_relaxed);</div>
<div class="line"><a name="l04328"></a><span class="lineno"> 4328</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a1c2df4934d4b851409d16a00d569d33e">compile_failed_</a>.exchange(<span class="keyword">true</span>, std::memory_order_relaxed)) {</div>
<div class="line"><a name="l04329"></a><span class="lineno"> 4329</span>&#160;    <span class="keywordflow">return</span>;  <span class="comment">// Already failed before.</span></div>
<div class="line"><a name="l04330"></a><span class="lineno"> 4330</span>&#160;  }</div>
<div class="line"><a name="l04331"></a><span class="lineno"> 4331</span>&#160; </div>
<div class="line"><a name="l04332"></a><span class="lineno"> 4332</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> callbacks_guard(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a765312328515d177ce5825f083c9b759">callbacks_mutex_</a>);</div>
<div class="line"><a name="l04333"></a><span class="lineno"> 4333</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a875b97140d7a45a4148a0fb1a248e42b">TriggerOutstandingCallbacks</a>();</div>
<div class="line"><a name="l04334"></a><span class="lineno"> 4334</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a3ca161fb12e541db32b60d80eb4b1e90">callbacks_</a>.clear();</div>
<div class="line"><a name="l04335"></a><span class="lineno"> 4335</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l02043">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::ExecuteCompilationUnits()</a>, and <a class="el" href="module-compiler_8cc_source.html#l00902">v8::internal::wasm::CompilationState::SetError()</a>.</p>
<div id="dynsection-49" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-49-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-49-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-49-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a28b47f0cb3321f0107f1a57b0b7edf0d_icgraph.svg" width="100%" height="460"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a68db7bbe283a6280631da539f03ff3be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68db7bbe283a6280631da539f03ff3be">&#9670;&nbsp;</a></span>SetWireBytesStorage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::SetWireBytesStorage </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1WireBytesStorage.html">WireBytesStorage</a> &gt;&#160;</td>
          <td class="paramname"><em>wire_bytes_storage</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l00703">703</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;                                                          {</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> guard(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a9b824ee2bd19df1806a89e4d74a697da">mutex_</a>);</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a88bbd14f5345baf9dea935d9f1b6de94">wire_bytes_storage_</a> = std::move(wire_bytes_storage);</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l00904">v8::internal::wasm::CompilationState::SetWireBytesStorage()</a>.</p>
<div id="dynsection-50" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-50-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-50-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-50-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a68db7bbe283a6280631da539f03ff3be_icgraph.svg" width="407" height="96"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a2321adabbd69bbd58643f3fcd00177bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2321adabbd69bbd58643f3fcd00177bd">&#9670;&nbsp;</a></span>TierUpAllFunctions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::CompilationStateImpl::TierUpAllFunctions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l04355">4355</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l04355"></a><span class="lineno"> 4355</span>&#160;                                              {</div>
<div class="line"><a name="l04356"></a><span class="lineno"> 4356</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal.html#a09dbf9baefb793fd78912d6ef89f9dde">WasmModule</a>* module = <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab7f1169e5324c750facf09b9f5fbad94">native_module_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a04f2f50aa9d1cbc1dc28e60dbe687f74">module</a>();</div>
<div class="line"><a name="l04357"></a><span class="lineno"> 4357</span>&#160;  uint32_t num_wasm_functions = module-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a5a60fa14372f7bc06d7d6f51d23b0bee">num_declared_functions</a>;</div>
<div class="line"><a name="l04358"></a><span class="lineno"> 4358</span>&#160;  WasmCodeRefScope code_ref_scope;</div>
<div class="line"><a name="l04359"></a><span class="lineno"> 4359</span>&#160;  CompilationUnitBuilder builder(<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab7f1169e5324c750facf09b9f5fbad94">native_module_</a>);</div>
<div class="line"><a name="l04360"></a><span class="lineno"> 4360</span>&#160;  <span class="keywordflow">for</span> (uint32_t <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; num_wasm_functions; ++<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>) {</div>
<div class="line"><a name="l04361"></a><span class="lineno"> 4361</span>&#160;    <span class="keywordtype">int</span> func_index = module-&gt;num_imported_functions + <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>;</div>
<div class="line"><a name="l04362"></a><span class="lineno"> 4362</span>&#160;    WasmCode* <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab7f1169e5324c750facf09b9f5fbad94">native_module_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a37a8384fb8317a24c3d58cf66ff64123">GetCode</a>(func_index);</div>
<div class="line"><a name="l04363"></a><span class="lineno"> 4363</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> || !<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;is_turbofan()) {</div>
<div class="line"><a name="l04364"></a><span class="lineno"> 4364</span>&#160;      builder.AddTopTierUnit(func_index, <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31">ExecutionTier::kTurbofan</a>);</div>
<div class="line"><a name="l04365"></a><span class="lineno"> 4365</span>&#160;    }</div>
<div class="line"><a name="l04366"></a><span class="lineno"> 4366</span>&#160;  }</div>
<div class="line"><a name="l04367"></a><span class="lineno"> 4367</span>&#160;  builder.Commit();</div>
<div class="line"><a name="l04368"></a><span class="lineno"> 4368</span>&#160; </div>
<div class="line"><a name="l04369"></a><span class="lineno"> 4369</span>&#160;  <span class="comment">// Join the compilation, until no compilation units are left anymore.</span></div>
<div class="line"><a name="l04370"></a><span class="lineno"> 4370</span>&#160;  <span class="keyword">class </span>DummyDelegate final : <span class="keyword">public</span> <a class="code" href="namespacecppgc.html#a74aa606ef974ec10b401c6538a239245">JobDelegate</a> {</div>
<div class="line"><a name="l04371"></a><span class="lineno"> 4371</span>&#160;    <span class="keywordtype">bool</span> ShouldYield()<span class="keyword"> override </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a name="l04372"></a><span class="lineno"> 4372</span>&#160;    <span class="keywordtype">bool</span> IsJoiningThread()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <span class="keyword">true</span>; }</div>
<div class="line"><a name="l04373"></a><span class="lineno"> 4373</span>&#160;    <span class="keywordtype">void</span> NotifyConcurrencyIncrease()<span class="keyword"> override </span>{ <a class="code" href="namespacev8_1_1internal.html#a538499d2a66bf6e9d3182a57104edec9">UNIMPLEMENTED</a>(); }</div>
<div class="line"><a name="l04374"></a><span class="lineno"> 4374</span>&#160;    uint8_t GetTaskId()<span class="keyword"> override </span>{ <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03.html#a015ad5b29d5923038933294c57cca557">kMainTaskId</a>; }</div>
<div class="line"><a name="l04375"></a><span class="lineno"> 4375</span>&#160;  };</div>
<div class="line"><a name="l04376"></a><span class="lineno"> 4376</span>&#160; </div>
<div class="line"><a name="l04377"></a><span class="lineno"> 4377</span>&#160;  DummyDelegate delegate;</div>
<div class="line"><a name="l04378"></a><span class="lineno"> 4378</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03.html#a168d82deb0d259820bfa9d1edff28451">ExecuteCompilationUnits</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a01d1dc67992204402a64b064c6aece4d">native_module_weak_</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ad0de5a795e5ca3ea15b6dc64672f9fdb">async_counters_</a>.get(), &amp;delegate,</div>
<div class="line"><a name="l04379"></a><span class="lineno"> 4379</span>&#160;                          <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03.html#aef575f4d4842a6dcdb81b8c172df9eb5a7d4e18577ff3900f63c397998a03e7cf">CompilationTier::kTopTier</a>);</div>
<div class="line"><a name="l04380"></a><span class="lineno"> 4380</span>&#160; </div>
<div class="line"><a name="l04381"></a><span class="lineno"> 4381</span>&#160;  <span class="comment">// We cannot wait for other compilation threads to finish, so we explicitly</span></div>
<div class="line"><a name="l04382"></a><span class="lineno"> 4382</span>&#160;  <span class="comment">// compile all functions which are not yet available as TurboFan code.</span></div>
<div class="line"><a name="l04383"></a><span class="lineno"> 4383</span>&#160;  <span class="keywordflow">for</span> (uint32_t <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; num_wasm_functions; ++<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>) {</div>
<div class="line"><a name="l04384"></a><span class="lineno"> 4384</span>&#160;    uint32_t func_index = module-&gt;num_imported_functions + <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>;</div>
<div class="line"><a name="l04385"></a><span class="lineno"> 4385</span>&#160;    WasmCode* <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab7f1169e5324c750facf09b9f5fbad94">native_module_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a37a8384fb8317a24c3d58cf66ff64123">GetCode</a>(func_index);</div>
<div class="line"><a name="l04386"></a><span class="lineno"> 4386</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> || !<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;is_turbofan()) {</div>
<div class="line"><a name="l04387"></a><span class="lineno"> 4387</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1wasm.html#abc12fc3b25ebfb54c20b8479642acb94">wasm::GetWasmEngine</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#a91a8d27da954c0e30d403ffa8fcb7bf5">CompileFunction</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ad0de5a795e5ca3ea15b6dc64672f9fdb">async_counters_</a>.get(),</div>
<div class="line"><a name="l04388"></a><span class="lineno"> 4388</span>&#160;                                             <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ab7f1169e5324c750facf09b9f5fbad94">native_module_</a>, func_index,</div>
<div class="line"><a name="l04389"></a><span class="lineno"> 4389</span>&#160;                                             <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31">wasm::ExecutionTier::kTurbofan</a>);</div>
<div class="line"><a name="l04390"></a><span class="lineno"> 4390</span>&#160;    }</div>
<div class="line"><a name="l04391"></a><span class="lineno"> 4391</span>&#160;  }</div>
<div class="line"><a name="l04392"></a><span class="lineno"> 4392</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmEngine_html_a91a8d27da954c0e30d403ffa8fcb7bf5"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#a91a8d27da954c0e30d403ffa8fcb7bf5">v8::internal::wasm::WasmEngine::CompileFunction</a></div><div class="ttdeci">void CompileFunction(Counters *counters, NativeModule *native_module, uint32_t function_index, ExecutionTier tier)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-engine_8cc_source.html#l00871">wasm-engine.cc:871</a></div></div>
<div class="ttc" id="anamespacecppgc_html_a74aa606ef974ec10b401c6538a239245"><div class="ttname"><a href="namespacecppgc.html#a74aa606ef974ec10b401c6538a239245">cppgc::JobDelegate</a></div><div class="ttdeci">v8::JobDelegate JobDelegate</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2platform_8h_source.html#l00020">platform.h:20</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_html_a015ad5b29d5923038933294c57cca557"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03.html#a015ad5b29d5923038933294c57cca557">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::kMainTaskId</a></div><div class="ttdeci">constexpr uint8_t kMainTaskId</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l02040">module-compiler.cc:2040</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_html_a168d82deb0d259820bfa9d1edff28451"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03.html#a168d82deb0d259820bfa9d1edff28451">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::ExecuteCompilationUnits</a></div><div class="ttdeci">CompilationExecutionResult ExecuteCompilationUnits(std::weak_ptr&lt; NativeModule &gt; native_module, Counters *counters, JobDelegate *delegate, CompilationTier tier)</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l02043">module-compiler.cc:2043</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a538499d2a66bf6e9d3182a57104edec9"><div class="ttname"><a href="namespacev8_1_1internal.html#a538499d2a66bf6e9d3182a57104edec9">v8::internal::UNIMPLEMENTED</a></div><div class="ttdeci">UNIMPLEMENTED()</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="module-compiler_8cc_source.html#l01105">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationUnitBuilder::AddTopTierUnit()</a>, <a class="el" href="flag-definitions_8h_source.html#l00546">code</a>, <a class="el" href="module-compiler_8cc_source.html#l01109">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationUnitBuilder::Commit()</a>, <a class="el" href="wasm-engine_8cc_source.html#l00871">v8::internal::wasm::WasmEngine::CompileFunction()</a>, <a class="el" href="module-compiler_8cc_source.html#l02043">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::ExecuteCompilationUnits()</a>, <a class="el" href="wasm-engine_8cc_source.html#l02125">v8::internal::wasm::GetWasmEngine()</a>, <a class="el" href="json-stringifier_8cc_source.html#l00548">v8::internal::anonymous_namespace{json-stringifier.cc}::i</a>, <a class="el" href="module-compiler_8cc_source.html#l02040">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::kMainTaskId</a>, <a class="el" href="module-compiler_8cc_source.html#l00103">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::kTopTier</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31">v8::internal::wasm::kTurbofan</a>, <a class="el" href="wasm-module_8h_source.html#l00684">v8::internal::wasm::WasmModule::num_declared_functions</a>, <a class="el" href="wasm-module_8h_source.html#l00681">v8::internal::wasm::WasmModule::num_imported_functions</a>, and <a class="el" href="namespacev8_1_1internal.html#a538499d2a66bf6e9d3182a57104edec9">v8::internal::UNIMPLEMENTED()</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l00919">v8::internal::wasm::CompilationState::TierUpAllFunctions()</a>.</p>
<div id="dynsection-51" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-51-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-51-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-51-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a2321adabbd69bbd58643f3fcd00177bd_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-52" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-52-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-52-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-52-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a2321adabbd69bbd58643f3fcd00177bd_icgraph.svg" width="398" height="96"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a2c5396b3ed7bfce2157b37923b77ffee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c5396b3ed7bfce2157b37923b77ffee">&#9670;&nbsp;</a></span>TriggerCachingAfterTimeout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::CompilationStateImpl::TriggerCachingAfterTimeout </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l04197">4197</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l04197"></a><span class="lineno"> 4197</span>&#160;                                                      {</div>
<div class="line"><a name="l04198"></a><span class="lineno"> 4198</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> guard{&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a765312328515d177ce5825f083c9b759">callbacks_mutex_</a>};</div>
<div class="line"><a name="l04199"></a><span class="lineno"> 4199</span>&#160; </div>
<div class="line"><a name="l04200"></a><span class="lineno"> 4200</span>&#160;  <span class="comment">// It can happen that we reached the hard threshold while waiting for the</span></div>
<div class="line"><a name="l04201"></a><span class="lineno"> 4201</span>&#160;  <span class="comment">// timeout to expire. In that case, {bytes_since_last_chunk_} might be zero</span></div>
<div class="line"><a name="l04202"></a><span class="lineno"> 4202</span>&#160;  <span class="comment">// and there is nothing new to cache.</span></div>
<div class="line"><a name="l04203"></a><span class="lineno"> 4203</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a0f9620bca55b357d90dba566d87043b1">bytes_since_last_chunk_</a> == 0) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04204"></a><span class="lineno"> 4204</span>&#160; </div>
<div class="line"><a name="l04205"></a><span class="lineno"> 4205</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a9d575e5064d78171ea8245113351208a">last_top_tier_compilation_timestamp_</a>.<a class="code" href="classv8_1_1base_1_1time__internal_1_1TimeBase.html#acf50e8599f7e76ab3cc07a32f8df30a9">IsNull</a>());</div>
<div class="line"><a name="l04206"></a><span class="lineno"> 4206</span>&#160;  base::TimeTicks caching_time =</div>
<div class="line"><a name="l04207"></a><span class="lineno"> 4207</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a9d575e5064d78171ea8245113351208a">last_top_tier_compilation_timestamp_</a> +</div>
<div class="line"><a name="l04208"></a><span class="lineno"> 4208</span>&#160;      <a class="code" href="classv8_1_1base_1_1TimeDelta.html#aedb23f3b7d15531e09b71883aaa96b6d">base::TimeDelta::FromMilliseconds</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_caching_timeout_ms);</div>
<div class="line"><a name="l04209"></a><span class="lineno"> 4209</span>&#160;  base::TimeDelta time_until_caching = caching_time - <a class="code" href="classv8_1_1base_1_1TimeTicks.html#ab0886bf0e84f1e1fcdc101021c2c0775">base::TimeTicks::Now</a>();</div>
<div class="line"><a name="l04210"></a><span class="lineno"> 4210</span>&#160;  <span class="comment">// If we are still half a millisecond or more away from the timeout,</span></div>
<div class="line"><a name="l04211"></a><span class="lineno"> 4211</span>&#160;  <span class="comment">// reschedule the task. Otherwise, call the caching callback.</span></div>
<div class="line"><a name="l04212"></a><span class="lineno"> 4212</span>&#160;  <span class="keywordflow">if</span> (time_until_caching &gt;= <a class="code" href="classv8_1_1base_1_1TimeDelta.html#a1df269c42efa26b4b6defb9d83f850da">base::TimeDelta::FromMicroseconds</a>(500)) {</div>
<div class="line"><a name="l04213"></a><span class="lineno"> 4213</span>&#160;    <span class="keywordtype">int</span> ms_remaining =</div>
<div class="line"><a name="l04214"></a><span class="lineno"> 4214</span>&#160;        <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(time_until_caching.InMillisecondsRoundedUp());</div>
<div class="line"><a name="l04215"></a><span class="lineno"> 4215</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(1, ms_remaining);</div>
<div class="line"><a name="l04216"></a><span class="lineno"> 4216</span>&#160;    <a class="code" href="classv8_1_1internal_1_1V8.html#a5eb1d47c492fa1e85e7d7c31dd5cf2bb">V8::GetCurrentPlatform</a>()-&gt;<a class="code" href="classv8_1_1Platform.html#a2049d7024e1e9613360968867f0f70bd">PostDelayedTaskOnWorkerThread</a>(</div>
<div class="line"><a name="l04217"></a><span class="lineno"> 4217</span>&#160;        <a class="code" href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051a602dfdb2b16ea7a1f4392dc3d5761f7d">TaskPriority::kUserVisible</a>,</div>
<div class="line"><a name="l04218"></a><span class="lineno"> 4218</span>&#160;        std::make_unique&lt;TriggerCodeCachingAfterTimeoutTask&gt;(</div>
<div class="line"><a name="l04219"></a><span class="lineno"> 4219</span>&#160;            <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a01d1dc67992204402a64b064c6aece4d">native_module_weak_</a>),</div>
<div class="line"><a name="l04220"></a><span class="lineno"> 4220</span>&#160;        ms_remaining);</div>
<div class="line"><a name="l04221"></a><span class="lineno"> 4221</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04222"></a><span class="lineno"> 4222</span>&#160;  }</div>
<div class="line"><a name="l04223"></a><span class="lineno"> 4223</span>&#160; </div>
<div class="line"><a name="l04224"></a><span class="lineno"> 4224</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a9c6ad44bd5a7aaefd4190c42ff0f3ea0">TriggerCallbacks</a>({<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a020d8fcab0133f11030d7b8ef6259e29a9ac6b83a7cebbcdae83cb92173c10599">CompilationEvent::kFinishedCompilationChunk</a>});</div>
<div class="line"><a name="l04225"></a><span class="lineno"> 4225</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a9d575e5064d78171ea8245113351208a">last_top_tier_compilation_timestamp_</a> = {};</div>
<div class="line"><a name="l04226"></a><span class="lineno"> 4226</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a0f9620bca55b357d90dba566d87043b1">bytes_since_last_chunk_</a> = 0;</div>
<div class="line"><a name="l04227"></a><span class="lineno"> 4227</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1Platform_html_a2049d7024e1e9613360968867f0f70bd"><div class="ttname"><a href="classv8_1_1Platform.html#a2049d7024e1e9613360968867f0f70bd">v8::Platform::PostDelayedTaskOnWorkerThread</a></div><div class="ttdeci">void PostDelayedTaskOnWorkerThread(TaskPriority priority, std::unique_ptr&lt; Task &gt; task, double delay_in_seconds, const SourceLocation &amp;location=SourceLocation::Current())</div><div class="ttdoc">Schedules a task to be invoked on a worker thread after |delay_in_seconds| expires.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l01229">v8-platform.h:1229</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1TimeDelta_html_a1df269c42efa26b4b6defb9d83f850da"><div class="ttname"><a href="classv8_1_1base_1_1TimeDelta.html#a1df269c42efa26b4b6defb9d83f850da">v8::base::TimeDelta::FromMicroseconds</a></div><div class="ttdeci">static constexpr TimeDelta FromMicroseconds(int64_t microseconds)</div><div class="ttdef"><b>Definition:</b> <a href="time_8h_source.html#l00090">time.h:90</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1TimeDelta_html_aedb23f3b7d15531e09b71883aaa96b6d"><div class="ttname"><a href="classv8_1_1base_1_1TimeDelta.html#aedb23f3b7d15531e09b71883aaa96b6d">v8::base::TimeDelta::FromMilliseconds</a></div><div class="ttdeci">static constexpr TimeDelta FromMilliseconds(int64_t milliseconds)</div><div class="ttdef"><b>Definition:</b> <a href="time_8h_source.html#l00087">time.h:87</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_html_a9c6ad44bd5a7aaefd4190c42ff0f3ea0"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a9c6ad44bd5a7aaefd4190c42ff0f3ea0">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::TriggerCallbacks</a></div><div class="ttdeci">void TriggerCallbacks(base::EnumSet&lt; CompilationEvent &gt;)</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l04164">module-compiler.cc:4164</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a020d8fcab0133f11030d7b8ef6259e29a9ac6b83a7cebbcdae83cb92173c10599"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a020d8fcab0133f11030d7b8ef6259e29a9ac6b83a7cebbcdae83cb92173c10599">v8::internal::wasm::CompilationEvent::kFinishedCompilationChunk</a></div><div class="ttdeci">@ kFinishedCompilationChunk</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="module-compiler_8cc_source.html#l00802">bytes_since_last_chunk_</a>, <a class="el" href="module-compiler_8cc_source.html#l00787">callbacks_mutex_</a>, <a class="el" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00489">DCHECK_LE</a>, <a class="el" href="time_8h_source.html#l00090">v8::base::TimeDelta::FromMicroseconds()</a>, <a class="el" href="time_8h_source.html#l00087">v8::base::TimeDelta::FromMilliseconds()</a>, <a class="el" href="v8_8cc_source.html#l00282">v8::internal::V8::GetCurrentPlatform()</a>, <a class="el" href="time_8cc_source.html#l00242">v8::base::TimeDelta::InMillisecondsRoundedUp()</a>, <a class="el" href="time_8h_source.html#l00250">v8::base::time_internal::TimeBase&lt; TimeClass &gt;::IsNull()</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a020d8fcab0133f11030d7b8ef6259e29a9ac6b83a7cebbcdae83cb92173c10599">v8::internal::wasm::kFinishedCompilationChunk</a>, <a class="el" href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051a602dfdb2b16ea7a1f4392dc3d5761f7d">v8::kUserVisible</a>, <a class="el" href="module-compiler_8cc_source.html#l00815">last_top_tier_compilation_timestamp_</a>, <a class="el" href="module-compiler_8cc_source.html#l00743">native_module_weak_</a>, <a class="el" href="time_8cc_source.html#l00736">v8::base::TimeTicks::Now()</a>, <a class="el" href="v8-platform_8h_source.html#l01229">v8::Platform::PostDelayedTaskOnWorkerThread()</a>, <a class="el" href="module-compiler_8cc_source.html#l04164">TriggerCallbacks()</a>, and <a class="el" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l04106">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::TriggerCodeCachingAfterTimeoutTask::Run()</a>.</p>
<div id="dynsection-53" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-53-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-53-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-53-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a2c5396b3ed7bfce2157b37923b77ffee_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-54" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-54-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-54-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-54-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a2c5396b3ed7bfce2157b37923b77ffee_icgraph.svg" width="514" height="96"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a9c6ad44bd5a7aaefd4190c42ff0f3ea0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c6ad44bd5a7aaefd4190c42ff0f3ea0">&#9670;&nbsp;</a></span>TriggerCallbacks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::CompilationStateImpl::TriggerCallbacks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1base_1_1EnumSet.html">base::EnumSet</a>&lt; <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a020d8fcab0133f11030d7b8ef6259e29">CompilationEvent</a> &gt;&#160;</td>
          <td class="paramname"><em>events</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l04164">4164</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l04165"></a><span class="lineno"> 4165</span>&#160;                                          {</div>
<div class="line"><a name="l04166"></a><span class="lineno"> 4166</span>&#160;  <span class="keywordflow">if</span> (events.empty()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04167"></a><span class="lineno"> 4167</span>&#160; </div>
<div class="line"><a name="l04168"></a><span class="lineno"> 4168</span>&#160;  <span class="comment">// Don&#39;t trigger past events again.</span></div>
<div class="line"><a name="l04169"></a><span class="lineno"> 4169</span>&#160;  events -= <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ada63ef52e4d0b472d4194a3a6aec02e7">finished_events_</a>;</div>
<div class="line"><a name="l04170"></a><span class="lineno"> 4170</span>&#160;  <span class="comment">// There can be multiple compilation chunks, thus do not store this.</span></div>
<div class="line"><a name="l04171"></a><span class="lineno"> 4171</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ada63ef52e4d0b472d4194a3a6aec02e7">finished_events_</a> |= events - <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a020d8fcab0133f11030d7b8ef6259e29a9ac6b83a7cebbcdae83cb92173c10599">CompilationEvent::kFinishedCompilationChunk</a>;</div>
<div class="line"><a name="l04172"></a><span class="lineno"> 4172</span>&#160; </div>
<div class="line"><a name="l04173"></a><span class="lineno"> 4173</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> event :</div>
<div class="line"><a name="l04174"></a><span class="lineno"> 4174</span>&#160;       {std::make_pair(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a020d8fcab0133f11030d7b8ef6259e29af90d51f0b738cedabb652e72ffd7b8ed">CompilationEvent::kFailedCompilation</a>,</div>
<div class="line"><a name="l04175"></a><span class="lineno"> 4175</span>&#160;                       <span class="stringliteral">&quot;wasm.CompilationFailed&quot;</span>),</div>
<div class="line"><a name="l04176"></a><span class="lineno"> 4176</span>&#160;        std::make_pair(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a020d8fcab0133f11030d7b8ef6259e29a41b18f40e8022b599bc6360f216daba4">CompilationEvent::kFinishedBaselineCompilation</a>,</div>
<div class="line"><a name="l04177"></a><span class="lineno"> 4177</span>&#160;                       <span class="stringliteral">&quot;wasm.BaselineFinished&quot;</span>),</div>
<div class="line"><a name="l04178"></a><span class="lineno"> 4178</span>&#160;        std::make_pair(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a020d8fcab0133f11030d7b8ef6259e29a9ac6b83a7cebbcdae83cb92173c10599">CompilationEvent::kFinishedCompilationChunk</a>,</div>
<div class="line"><a name="l04179"></a><span class="lineno"> 4179</span>&#160;                       <span class="stringliteral">&quot;wasm.CompilationChunkFinished&quot;</span>)}) {</div>
<div class="line"><a name="l04180"></a><span class="lineno"> 4180</span>&#160;    <span class="keywordflow">if</span> (!events.contains(event.first)) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04181"></a><span class="lineno"> 4181</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#abba3d6e3f1705511c75747b22d3f05ec">compilation_id_</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a32bf0a519ec58a3c7c7444eeef340e5a">kInvalidCompilationID</a>);</div>
<div class="line"><a name="l04182"></a><span class="lineno"> 4182</span>&#160;    <a class="code" href="trace-event-no-perfetto_8h.html#ac437f27e15925a9bd53c69692a6c85fe">TRACE_EVENT1</a>(<span class="stringliteral">&quot;v8.wasm&quot;</span>, event.second, <span class="stringliteral">&quot;id&quot;</span>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#abba3d6e3f1705511c75747b22d3f05ec">compilation_id_</a>);</div>
<div class="line"><a name="l04183"></a><span class="lineno"> 4183</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; callback : <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a3ca161fb12e541db32b60d80eb4b1e90">callbacks_</a>) {</div>
<div class="line"><a name="l04184"></a><span class="lineno"> 4184</span>&#160;      callback-&gt;call(event.first);</div>
<div class="line"><a name="l04185"></a><span class="lineno"> 4185</span>&#160;    }</div>
<div class="line"><a name="l04186"></a><span class="lineno"> 4186</span>&#160;  }</div>
<div class="line"><a name="l04187"></a><span class="lineno"> 4187</span>&#160; </div>
<div class="line"><a name="l04188"></a><span class="lineno"> 4188</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a8961a8c084b70ecbdb9dfe082929b2bb">outstanding_baseline_units_</a> == 0) {</div>
<div class="line"><a name="l04189"></a><span class="lineno"> 4189</span>&#160;    <span class="keyword">auto</span> new_end = std::remove_if(</div>
<div class="line"><a name="l04190"></a><span class="lineno"> 4190</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a3ca161fb12e541db32b60d80eb4b1e90">callbacks_</a>.begin(), <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a3ca161fb12e541db32b60d80eb4b1e90">callbacks_</a>.end(), [](<span class="keyword">const</span> <span class="keyword">auto</span>&amp; callback) {</div>
<div class="line"><a name="l04191"></a><span class="lineno"> 4191</span>&#160;          return callback-&gt;release_after_final_event();</div>
<div class="line"><a name="l04192"></a><span class="lineno"> 4192</span>&#160;        });</div>
<div class="line"><a name="l04193"></a><span class="lineno"> 4193</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a3ca161fb12e541db32b60d80eb4b1e90">callbacks_</a>.erase(new_end, <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a3ca161fb12e541db32b60d80eb4b1e90">callbacks_</a>.end());</div>
<div class="line"><a name="l04194"></a><span class="lineno"> 4194</span>&#160;  }</div>
<div class="line"><a name="l04195"></a><span class="lineno"> 4195</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="module-compiler_8cc_source.html#l00793">callbacks_</a>, <a class="el" href="module-compiler_8cc_source.html#l00767">compilation_id_</a>, <a class="el" href="enum-set_8h_source.html#l00035">v8::base::EnumSet&lt; E, T &gt;::contains()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00485">DCHECK_NE</a>, <a class="el" href="enum-set_8h_source.html#l00034">v8::base::EnumSet&lt; E, T &gt;::empty()</a>, <a class="el" href="module-compiler_8cc_source.html#l00796">finished_events_</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a020d8fcab0133f11030d7b8ef6259e29af90d51f0b738cedabb652e72ffd7b8ed">v8::internal::wasm::kFailedCompilation</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a020d8fcab0133f11030d7b8ef6259e29a41b18f40e8022b599bc6360f216daba4">v8::internal::wasm::kFinishedBaselineCompilation</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a020d8fcab0133f11030d7b8ef6259e29a9ac6b83a7cebbcdae83cb92173c10599">v8::internal::wasm::kFinishedCompilationChunk</a>, <a class="el" href="module-compiler_8cc_source.html#l00766">kInvalidCompilationID</a>, <a class="el" href="module-compiler_8cc_source.html#l00798">outstanding_baseline_units_</a>, and <a class="el" href="trace-event-no-perfetto_8h_source.html#l00037">TRACE_EVENT1</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l04197">TriggerCachingAfterTimeout()</a>, and <a class="el" href="module-compiler_8cc_source.html#l04117">TriggerOutstandingCallbacks()</a>.</p>
<div id="dynsection-55" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-55-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-55-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-55-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a9c6ad44bd5a7aaefd4190c42ff0f3ea0_cgraph.svg" width="632" height="118"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-56" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-56-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-56-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-56-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a9c6ad44bd5a7aaefd4190c42ff0f3ea0_icgraph.svg" width="100%" height="536"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a875b97140d7a45a4148a0fb1a248e42b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a875b97140d7a45a4148a0fb1a248e42b">&#9670;&nbsp;</a></span>TriggerOutstandingCallbacks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::CompilationStateImpl::TriggerOutstandingCallbacks </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l04117">4117</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l04117"></a><span class="lineno"> 4117</span>&#160;                                                       {</div>
<div class="line"><a name="l04118"></a><span class="lineno"> 4118</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a765312328515d177ce5825f083c9b759">callbacks_mutex_</a>.<a class="code" href="classv8_1_1base_1_1Mutex.html#a281097589e7088f5af211349cac0ef9d">AssertHeld</a>();</div>
<div class="line"><a name="l04119"></a><span class="lineno"> 4119</span>&#160; </div>
<div class="line"><a name="l04120"></a><span class="lineno"> 4120</span>&#160;  base::EnumSet&lt;CompilationEvent&gt; triggered_events;</div>
<div class="line"><a name="l04121"></a><span class="lineno"> 4121</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a8961a8c084b70ecbdb9dfe082929b2bb">outstanding_baseline_units_</a> == 0) {</div>
<div class="line"><a name="l04122"></a><span class="lineno"> 4122</span>&#160;    triggered_events.Add(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a020d8fcab0133f11030d7b8ef6259e29a41b18f40e8022b599bc6360f216daba4">CompilationEvent::kFinishedBaselineCompilation</a>);</div>
<div class="line"><a name="l04123"></a><span class="lineno"> 4123</span>&#160;  }</div>
<div class="line"><a name="l04124"></a><span class="lineno"> 4124</span>&#160; </div>
<div class="line"><a name="l04125"></a><span class="lineno"> 4125</span>&#160;  <span class="comment">// For dynamic tiering, trigger &quot;compilation chunk finished&quot; after a new chunk</span></div>
<div class="line"><a name="l04126"></a><span class="lineno"> 4126</span>&#160;  <span class="comment">// of size {v8_flags.wasm_caching_threshold}.</span></div>
<div class="line"><a name="l04127"></a><span class="lineno"> 4127</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_dynamic_tiering &amp;&amp;</div>
<div class="line"><a name="l04128"></a><span class="lineno"> 4128</span>&#160;      <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_caching_threshold) &lt;=</div>
<div class="line"><a name="l04129"></a><span class="lineno"> 4129</span>&#160;          <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a0f9620bca55b357d90dba566d87043b1">bytes_since_last_chunk_</a>) {</div>
<div class="line"><a name="l04130"></a><span class="lineno"> 4130</span>&#160;    <span class="comment">// Trigger caching immediately if</span></div>
<div class="line"><a name="l04131"></a><span class="lineno"> 4131</span>&#160;    <span class="comment">// - there is no timeout,</span></div>
<div class="line"><a name="l04132"></a><span class="lineno"> 4132</span>&#160;    <span class="comment">// - the hard threshold was reached, or</span></div>
<div class="line"><a name="l04133"></a><span class="lineno"> 4133</span>&#160;    <span class="comment">// - we are running single-threaded.</span></div>
<div class="line"><a name="l04134"></a><span class="lineno"> 4134</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.single_threaded || <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_caching_timeout_ms &lt;= 0 ||</div>
<div class="line"><a name="l04135"></a><span class="lineno"> 4135</span>&#160;        <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_caching_hard_threshold) &lt;=</div>
<div class="line"><a name="l04136"></a><span class="lineno"> 4136</span>&#160;            <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a0f9620bca55b357d90dba566d87043b1">bytes_since_last_chunk_</a>) {</div>
<div class="line"><a name="l04137"></a><span class="lineno"> 4137</span>&#160;      triggered_events.Add(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a020d8fcab0133f11030d7b8ef6259e29a9ac6b83a7cebbcdae83cb92173c10599">CompilationEvent::kFinishedCompilationChunk</a>);</div>
<div class="line"><a name="l04138"></a><span class="lineno"> 4138</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a0f9620bca55b357d90dba566d87043b1">bytes_since_last_chunk_</a> = 0;</div>
<div class="line"><a name="l04139"></a><span class="lineno"> 4139</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a9d575e5064d78171ea8245113351208a">last_top_tier_compilation_timestamp_</a>.<a class="code" href="classv8_1_1base_1_1time__internal_1_1TimeBase.html#acf50e8599f7e76ab3cc07a32f8df30a9">IsNull</a>()) {</div>
<div class="line"><a name="l04140"></a><span class="lineno"> 4140</span>&#160;      <span class="comment">// Trigger a task after the given timeout; that task will only trigger</span></div>
<div class="line"><a name="l04141"></a><span class="lineno"> 4141</span>&#160;      <span class="comment">// caching if no new code was added until then. Otherwise, it will</span></div>
<div class="line"><a name="l04142"></a><span class="lineno"> 4142</span>&#160;      <span class="comment">// re-schedule itself.</span></div>
<div class="line"><a name="l04143"></a><span class="lineno"> 4143</span>&#160;      <a class="code" href="classv8_1_1internal_1_1V8.html#a5eb1d47c492fa1e85e7d7c31dd5cf2bb">V8::GetCurrentPlatform</a>()-&gt;<a class="code" href="classv8_1_1Platform.html#a2049d7024e1e9613360968867f0f70bd">PostDelayedTaskOnWorkerThread</a>(</div>
<div class="line"><a name="l04144"></a><span class="lineno"> 4144</span>&#160;          <a class="code" href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051a602dfdb2b16ea7a1f4392dc3d5761f7d">TaskPriority::kUserVisible</a>,</div>
<div class="line"><a name="l04145"></a><span class="lineno"> 4145</span>&#160;          std::make_unique&lt;TriggerCodeCachingAfterTimeoutTask&gt;(</div>
<div class="line"><a name="l04146"></a><span class="lineno"> 4146</span>&#160;              <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a01d1dc67992204402a64b064c6aece4d">native_module_weak_</a>),</div>
<div class="line"><a name="l04147"></a><span class="lineno"> 4147</span>&#160;          1e-3 * <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_caching_timeout_ms);</div>
<div class="line"><a name="l04148"></a><span class="lineno"> 4148</span>&#160; </div>
<div class="line"><a name="l04149"></a><span class="lineno"> 4149</span>&#160;      <span class="comment">// Set the timestamp (will be updated by {OnFinishedUnits} if more</span></div>
<div class="line"><a name="l04150"></a><span class="lineno"> 4150</span>&#160;      <span class="comment">// top-tier compilation finished before the delayed task is being run).</span></div>
<div class="line"><a name="l04151"></a><span class="lineno"> 4151</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a9d575e5064d78171ea8245113351208a">last_top_tier_compilation_timestamp_</a> = <a class="code" href="classv8_1_1base_1_1TimeTicks.html#ab0886bf0e84f1e1fcdc101021c2c0775">base::TimeTicks::Now</a>();</div>
<div class="line"><a name="l04152"></a><span class="lineno"> 4152</span>&#160;    }</div>
<div class="line"><a name="l04153"></a><span class="lineno"> 4153</span>&#160;  }</div>
<div class="line"><a name="l04154"></a><span class="lineno"> 4154</span>&#160; </div>
<div class="line"><a name="l04155"></a><span class="lineno"> 4155</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a1c2df4934d4b851409d16a00d569d33e">compile_failed_</a>.load(std::memory_order_relaxed)) {</div>
<div class="line"><a name="l04156"></a><span class="lineno"> 4156</span>&#160;    <span class="comment">// *Only* trigger the &quot;failed&quot; event.</span></div>
<div class="line"><a name="l04157"></a><span class="lineno"> 4157</span>&#160;    triggered_events =</div>
<div class="line"><a name="l04158"></a><span class="lineno"> 4158</span>&#160;        base::EnumSet&lt;CompilationEvent&gt;({<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a020d8fcab0133f11030d7b8ef6259e29af90d51f0b738cedabb652e72ffd7b8ed">CompilationEvent::kFailedCompilation</a>});</div>
<div class="line"><a name="l04159"></a><span class="lineno"> 4159</span>&#160;  }</div>
<div class="line"><a name="l04160"></a><span class="lineno"> 4160</span>&#160; </div>
<div class="line"><a name="l04161"></a><span class="lineno"> 4161</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a9c6ad44bd5a7aaefd4190c42ff0f3ea0">TriggerCallbacks</a>(triggered_events);</div>
<div class="line"><a name="l04162"></a><span class="lineno"> 4162</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1base_1_1Mutex_html_a281097589e7088f5af211349cac0ef9d"><div class="ttname"><a href="classv8_1_1base_1_1Mutex.html#a281097589e7088f5af211349cac0ef9d">v8::base::Mutex::AssertHeld</a></div><div class="ttdeci">void AssertHeld() const</div><div class="ttdef"><b>Definition:</b> <a href="mutex_8h_source.html#l00058">mutex.h:58</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="enum-set_8h_source.html#l00050">v8::base::EnumSet&lt; E, T &gt;::Add()</a>, <a class="el" href="mutex_8h_source.html#l00058">v8::base::Mutex::AssertHeld()</a>, <a class="el" href="module-compiler_8cc_source.html#l00802">bytes_since_last_chunk_</a>, <a class="el" href="module-compiler_8cc_source.html#l00787">callbacks_mutex_</a>, <a class="el" href="module-compiler_8cc_source.html#l00748">compile_failed_</a>, <a class="el" href="v8_8cc_source.html#l00282">v8::internal::V8::GetCurrentPlatform()</a>, <a class="el" href="time_8h_source.html#l00250">v8::base::time_internal::TimeBase&lt; TimeClass &gt;::IsNull()</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a020d8fcab0133f11030d7b8ef6259e29af90d51f0b738cedabb652e72ffd7b8ed">v8::internal::wasm::kFailedCompilation</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a020d8fcab0133f11030d7b8ef6259e29a41b18f40e8022b599bc6360f216daba4">v8::internal::wasm::kFinishedBaselineCompilation</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a020d8fcab0133f11030d7b8ef6259e29a9ac6b83a7cebbcdae83cb92173c10599">v8::internal::wasm::kFinishedCompilationChunk</a>, <a class="el" href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051a602dfdb2b16ea7a1f4392dc3d5761f7d">v8::kUserVisible</a>, <a class="el" href="module-compiler_8cc_source.html#l00815">last_top_tier_compilation_timestamp_</a>, <a class="el" href="module-compiler_8cc_source.html#l00743">native_module_weak_</a>, <a class="el" href="time_8cc_source.html#l00736">v8::base::TimeTicks::Now()</a>, <a class="el" href="module-compiler_8cc_source.html#l00798">outstanding_baseline_units_</a>, <a class="el" href="v8-platform_8h_source.html#l01229">v8::Platform::PostDelayedTaskOnWorkerThread()</a>, <a class="el" href="module-compiler_8cc_source.html#l04164">TriggerCallbacks()</a>, and <a class="el" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l03757">InitializeCompilationProgress()</a>, and <a class="el" href="module-compiler_8cc_source.html#l03996">OnFinishedUnits()</a>.</p>
<div id="dynsection-57" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-57-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-57-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-57-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a875b97140d7a45a4148a0fb1a248e42b_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-58" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-58-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-58-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-58-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a875b97140d7a45a4148a0fb1a248e42b_icgraph.svg" width="100%" height="548"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ae307e43873e6a925477fefac9dcef545"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae307e43873e6a925477fefac9dcef545">&#9670;&nbsp;</a></span>UpdateDetectedFeatures()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmDetectedFeatures.html">WasmDetectedFeatures</a> v8::internal::wasm::CompilationStateImpl::UpdateDetectedFeatures </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmDetectedFeatures.html">WasmDetectedFeatures</a>&#160;</td>
          <td class="paramname"><em>detected_features</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l04249">4249</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l04250"></a><span class="lineno"> 4250</span>&#160;                                            {</div>
<div class="line"><a name="l04251"></a><span class="lineno"> 4251</span>&#160;  WasmDetectedFeatures old_features =</div>
<div class="line"><a name="l04252"></a><span class="lineno"> 4252</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a9a3e39ad3a707e8d6dfc2feab40f034a">detected_features_</a>.load(std::memory_order_relaxed);</div>
<div class="line"><a name="l04253"></a><span class="lineno"> 4253</span>&#160;  <span class="keywordflow">while</span> (!<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a9a3e39ad3a707e8d6dfc2feab40f034a">detected_features_</a>.compare_exchange_weak(</div>
<div class="line"><a name="l04254"></a><span class="lineno"> 4254</span>&#160;      old_features, old_features | <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a46f742b041803cde875c307e3021be18">detected_features</a>,</div>
<div class="line"><a name="l04255"></a><span class="lineno"> 4255</span>&#160;      std::memory_order_relaxed)) {</div>
<div class="line"><a name="l04256"></a><span class="lineno"> 4256</span>&#160;    <span class="comment">// Retry with updated {old_features}.</span></div>
<div class="line"><a name="l04257"></a><span class="lineno"> 4257</span>&#160;  }</div>
<div class="line"><a name="l04258"></a><span class="lineno"> 4258</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a46f742b041803cde875c307e3021be18">detected_features</a> - old_features;</div>
<div class="line"><a name="l04259"></a><span class="lineno"> 4259</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l04229">OnCompilationStopped()</a>, and <a class="el" href="module-compiler_8cc_source.html#l00971">v8::internal::wasm::CompilationState::UpdateDetectedFeatures()</a>.</p>
<div id="dynsection-59" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-59-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-59-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-59-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ae307e43873e6a925477fefac9dcef545_icgraph.svg" width="100%" height="572"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="aaf65fb2f96cb75ae477b7b62b8aecb90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf65fb2f96cb75ae477b7b62b8aecb90">&#9670;&nbsp;</a></span>WaitForCompilationEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::CompilationStateImpl::WaitForCompilationEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#a020d8fcab0133f11030d7b8ef6259e29">CompilationEvent</a>&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l04337">4337</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l04338"></a><span class="lineno"> 4338</span>&#160;                                   {</div>
<div class="line"><a name="l04339"></a><span class="lineno"> 4339</span>&#160;  <span class="keywordflow">switch</span> (expect_event) {</div>
<div class="line"><a name="l04340"></a><span class="lineno"> 4340</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a020d8fcab0133f11030d7b8ef6259e29a41b18f40e8022b599bc6360f216daba4">CompilationEvent::kFinishedBaselineCompilation</a>:</div>
<div class="line"><a name="l04341"></a><span class="lineno"> 4341</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a40e79d0e08ce2b9ec620f2492d883b2e">baseline_compile_job_</a>-&gt;IsValid()) <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a40e79d0e08ce2b9ec620f2492d883b2e">baseline_compile_job_</a>-&gt;Join();</div>
<div class="line"><a name="l04342"></a><span class="lineno"> 4342</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04343"></a><span class="lineno"> 4343</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l04344"></a><span class="lineno"> 4344</span>&#160;      <span class="comment">// Waiting on other CompilationEvent doesn&#39;t make sense.</span></div>
<div class="line"><a name="l04345"></a><span class="lineno"> 4345</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a name="l04346"></a><span class="lineno"> 4346</span>&#160;  }</div>
<div class="line"><a name="l04347"></a><span class="lineno"> 4347</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l04348"></a><span class="lineno"> 4348</span>&#160;  base::EnumSet&lt;CompilationEvent&gt; events{expect_event,</div>
<div class="line"><a name="l04349"></a><span class="lineno"> 4349</span>&#160;                                         <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a020d8fcab0133f11030d7b8ef6259e29af90d51f0b738cedabb652e72ffd7b8ed">CompilationEvent::kFailedCompilation</a>};</div>
<div class="line"><a name="l04350"></a><span class="lineno"> 4350</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> guard(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a765312328515d177ce5825f083c9b759">callbacks_mutex_</a>);</div>
<div class="line"><a name="l04351"></a><span class="lineno"> 4351</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#ada63ef52e4d0b472d4194a3a6aec02e7">finished_events_</a>.<a class="code" href="classv8_1_1base_1_1EnumSet.html#acdcea1dcfc64156b624c2f674654fc93">contains_any</a>(events));</div>
<div class="line"><a name="l04352"></a><span class="lineno"> 4352</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04353"></a><span class="lineno"> 4353</span>&#160;}</div>
<div class="ttc" id="anamespacev8_1_1internal_html_acdec713c25068019f935e35976f5b666"><div class="ttname"><a href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">v8::internal::UNREACHABLE</a></div><div class="ttdeci">UNREACHABLE()</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK()</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a020d8fcab0133f11030d7b8ef6259e29af90d51f0b738cedabb652e72ffd7b8ed">v8::internal::wasm::kFailedCompilation</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a020d8fcab0133f11030d7b8ef6259e29a41b18f40e8022b599bc6360f216daba4">v8::internal::wasm::kFinishedBaselineCompilation</a>, and <a class="el" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">v8::internal::UNREACHABLE()</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l03869">InitializeCompilationProgressAfterDeserialization()</a>.</p>
<div id="dynsection-60" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-60-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-60-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-60-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_aaf65fb2f96cb75ae477b7b62b8aecb90_cgraph.svg" width="456" height="96"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-61" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-61-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-61-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-61-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_aaf65fb2f96cb75ae477b7b62b8aecb90_icgraph.svg" width="100%" height="383"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ad0de5a795e5ca3ea15b6dc64672f9fdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0de5a795e5ca3ea15b6dc64672f9fdb">&#9670;&nbsp;</a></span>async_counters_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::shared_ptr&lt;<a class="el" href="classv8_1_1internal_1_1Counters.html">Counters</a>&gt; v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::async_counters_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l00744">744</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l03575">InitCompileJob()</a>.</p>

</div>
</div>
<a id="a40e79d0e08ce2b9ec620f2492d883b2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40e79d0e08ce2b9ec620f2492d883b2e">&#9670;&nbsp;</a></span>baseline_compile_job_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="classv8_1_1JobHandle.html">JobHandle</a>&gt; v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::baseline_compile_job_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l00762">762</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l03954">CommitCompilationUnits()</a>, and <a class="el" href="module-compiler_8cc_source.html#l03575">InitCompileJob()</a>.</p>

</div>
</div>
<a id="a0f9620bca55b357d90dba566d87043b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f9620bca55b357d90dba566d87043b1">&#9670;&nbsp;</a></span>bytes_since_last_chunk_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal.html#a4725962ca3c127eb5871cb47293aee95">size_t</a> v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::bytes_since_last_chunk_ = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l00802">802</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l03996">OnFinishedUnits()</a>, <a class="el" href="module-compiler_8cc_source.html#l04197">TriggerCachingAfterTimeout()</a>, and <a class="el" href="module-compiler_8cc_source.html#l04117">TriggerOutstandingCallbacks()</a>.</p>

</div>
</div>
<a id="a3ca161fb12e541db32b60d80eb4b1e90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ca161fb12e541db32b60d80eb4b1e90">&#9670;&nbsp;</a></span>callbacks_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::unique_ptr&lt;<a class="el" href="classv8_1_1internal_1_1wasm_1_1CompilationEventCallback.html">CompilationEventCallback</a>&gt; &gt; v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::callbacks_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l00793">793</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l03937">AddCallback()</a>, <a class="el" href="module-compiler_8cc_source.html#l03590">CancelCompilation()</a>, and <a class="el" href="module-compiler_8cc_source.html#l04164">TriggerCallbacks()</a>.</p>

</div>
</div>
<a id="a765312328515d177ce5825f083c9b759"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a765312328515d177ce5825f083c9b759">&#9670;&nbsp;</a></span>callbacks_mutex_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1base_1_1Mutex.html">base::Mutex</a> v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::callbacks_mutex_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l00787">787</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l03937">AddCallback()</a>, <a class="el" href="module-compiler_8cc_source.html#l03702">ApplyPgoInfoLate()</a>, <a class="el" href="module-compiler_8cc_source.html#l03590">CancelCompilation()</a>, <a class="el" href="module-compiler_8cc_source.html#l03757">InitializeCompilationProgress()</a>, <a class="el" href="module-compiler_8cc_source.html#l03869">InitializeCompilationProgressAfterDeserialization()</a>, <a class="el" href="module-compiler_8cc_source.html#l03852">InitializeCompilationUnits()</a>, <a class="el" href="module-compiler_8cc_source.html#l03996">OnFinishedUnits()</a>, <a class="el" href="module-compiler_8cc_source.html#l04197">TriggerCachingAfterTimeout()</a>, and <a class="el" href="module-compiler_8cc_source.html#l04117">TriggerOutstandingCallbacks()</a>.</p>

</div>
</div>
<a id="abba3d6e3f1705511c75747b22d3f05ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abba3d6e3f1705511c75747b22d3f05ec">&#9670;&nbsp;</a></span>compilation_id_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classint.html">int</a> v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::compilation_id_ = <a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html#a32bf0a519ec58a3c7c7444eeef340e5a">kInvalidCompilationID</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l00767">767</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l04164">TriggerCallbacks()</a>.</p>

</div>
</div>
<a id="a0ff6ff765770fe090dc00572f0e64272"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ff6ff765770fe090dc00572f0e64272">&#9670;&nbsp;</a></span>compilation_progress_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1base_1_1OwnedVector.html">base::OwnedVector</a>&lt;uint8_t&gt; v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::compilation_progress_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l00809">809</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l03613">ApplyCompilationHintToInitialProgress()</a>, <a class="el" href="module-compiler_8cc_source.html#l03702">ApplyPgoInfoLate()</a>, <a class="el" href="module-compiler_8cc_source.html#l03662">ApplyPgoInfoToInitialProgress()</a>, <a class="el" href="module-compiler_8cc_source.html#l03757">InitializeCompilationProgress()</a>, <a class="el" href="module-compiler_8cc_source.html#l03869">InitializeCompilationProgressAfterDeserialization()</a>, <a class="el" href="module-compiler_8cc_source.html#l03817">InitializeCompilationUnitForSingleFunction()</a>, <a class="el" href="module-compiler_8cc_source.html#l03852">InitializeCompilationUnits()</a>, and <a class="el" href="module-compiler_8cc_source.html#l03996">OnFinishedUnits()</a>.</p>

</div>
</div>
<a id="ab616d619108985decfe0d7f7ce17fcc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab616d619108985decfe0d7f7ce17fcc6">&#9670;&nbsp;</a></span>compilation_unit_queues_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitQueues.html">CompilationUnitQueues</a> v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::compilation_unit_queues_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l00754">754</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l03977">AddTopTierPriorityCompilationUnit()</a>, <a class="el" href="module-compiler_8cc_source.html#l03954">CommitCompilationUnits()</a>, <a class="el" href="module-compiler_8cc_source.html#l03991">GetNextCompilationUnit()</a>, <a class="el" href="module-compiler_8cc_source.html#l03986">GetQueueForCompileTask()</a>, and <a class="el" href="module-compiler_8cc_source.html#l03996">OnFinishedUnits()</a>.</p>

</div>
</div>
<a id="ac7c4f6efcf3aafb8f51b8a77da48410b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7c4f6efcf3aafb8f51b8a77da48410b">&#9670;&nbsp;</a></span>compile_cancelled_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;<a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a>&gt; v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::compile_cancelled_ {<a class="el" href="flag-definitions_8h.html#a3a9beadc89284d3f78a7d4945b1b4d8c">false</a>}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l00752">752</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l03590">CancelCompilation()</a>, and <a class="el" href="module-compiler_8cc_source.html#l03609">cancelled()</a>.</p>

</div>
</div>
<a id="a1c2df4934d4b851409d16a00d569d33e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c2df4934d4b851409d16a00d569d33e">&#9670;&nbsp;</a></span>compile_failed_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;<a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a>&gt; v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::compile_failed_ {<a class="el" href="flag-definitions_8h.html#a3a9beadc89284d3f78a7d4945b1b4d8c">false</a>}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l00748">748</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l04117">TriggerOutstandingCallbacks()</a>.</p>

</div>
</div>
<a id="a9a3e39ad3a707e8d6dfc2feab40f034a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a3e39ad3a707e8d6dfc2feab40f034a">&#9670;&nbsp;</a></span>detected_features_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;<a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmDetectedFeatures.html">WasmDetectedFeatures</a>&gt; v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::detected_features_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l00771">771</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>

</div>
</div>
<a id="ada63ef52e4d0b472d4194a3a6aec02e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada63ef52e4d0b472d4194a3a6aec02e7">&#9670;&nbsp;</a></span>finished_events_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1base_1_1EnumSet.html">base::EnumSet</a>&lt;<a class="el" href="namespacev8_1_1internal_1_1wasm.html#a020d8fcab0133f11030d7b8ef6259e29">CompilationEvent</a>&gt; v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::finished_events_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l00796">796</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l03937">AddCallback()</a>, <a class="el" href="module-compiler_8cc_source.html#l03590">CancelCompilation()</a>, <a class="el" href="module-compiler_8cc_source.html#l03869">InitializeCompilationProgressAfterDeserialization()</a>, and <a class="el" href="module-compiler_8cc_source.html#l04164">TriggerCallbacks()</a>.</p>

</div>
</div>
<a id="a32bf0a519ec58a3c7c7444eeef340e5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32bf0a519ec58a3c7c7444eeef340e5a">&#9670;&nbsp;</a></span>kInvalidCompilationID</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr <a class="el" href="classint.html">int</a> v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::kInvalidCompilationID = -1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l00766">766</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l04164">TriggerCallbacks()</a>.</p>

</div>
</div>
<a id="a9d575e5064d78171ea8245113351208a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d575e5064d78171ea8245113351208a">&#9670;&nbsp;</a></span>last_top_tier_compilation_timestamp_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1base_1_1TimeTicks.html">base::TimeTicks</a> v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::last_top_tier_compilation_timestamp_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l00815">815</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l03996">OnFinishedUnits()</a>, <a class="el" href="module-compiler_8cc_source.html#l04197">TriggerCachingAfterTimeout()</a>, and <a class="el" href="module-compiler_8cc_source.html#l04117">TriggerOutstandingCallbacks()</a>.</p>

</div>
</div>
<a id="a9b824ee2bd19df1806a89e4d74a697da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b824ee2bd19df1806a89e4d74a697da">&#9670;&nbsp;</a></span>mutex_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1base_1_1Mutex.html">base::Mutex</a> v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::mutex_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l00758">758</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l03954">CommitCompilationUnits()</a>.</p>

</div>
</div>
<a id="ab7f1169e5324c750facf09b9f5fbad94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7f1169e5324c750facf09b9f5fbad94">&#9670;&nbsp;</a></span>native_module_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html">NativeModule</a>* const v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::native_module_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l00742">742</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l03702">ApplyPgoInfoLate()</a>, <a class="el" href="module-compiler_8cc_source.html#l03662">ApplyPgoInfoToInitialProgress()</a>, <a class="el" href="module-compiler_8cc_source.html#l03954">CommitCompilationUnits()</a>, <a class="el" href="module-compiler_8cc_source.html#l03757">InitializeCompilationProgress()</a>, <a class="el" href="module-compiler_8cc_source.html#l03869">InitializeCompilationProgressAfterDeserialization()</a>, <a class="el" href="module-compiler_8cc_source.html#l03817">InitializeCompilationUnitForSingleFunction()</a>, <a class="el" href="module-compiler_8cc_source.html#l03852">InitializeCompilationUnits()</a>, and <a class="el" href="module-compiler_8cc_source.html#l03996">OnFinishedUnits()</a>.</p>

</div>
</div>
<a id="a01d1dc67992204402a64b064c6aece4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01d1dc67992204402a64b064c6aece4d">&#9670;&nbsp;</a></span>native_module_weak_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::weak_ptr&lt;<a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html">NativeModule</a>&gt; const v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::native_module_weak_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l00743">743</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l03575">InitCompileJob()</a>, <a class="el" href="module-compiler_8cc_source.html#l04197">TriggerCachingAfterTimeout()</a>, and <a class="el" href="module-compiler_8cc_source.html#l04117">TriggerOutstandingCallbacks()</a>.</p>

</div>
</div>
<a id="a8961a8c084b70ecbdb9dfe082929b2bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8961a8c084b70ecbdb9dfe082929b2bb">&#9670;&nbsp;</a></span>outstanding_baseline_units_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classint.html">int</a> v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::outstanding_baseline_units_ = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l00798">798</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l03613">ApplyCompilationHintToInitialProgress()</a>, <a class="el" href="module-compiler_8cc_source.html#l03662">ApplyPgoInfoToInitialProgress()</a>, <a class="el" href="module-compiler_8cc_source.html#l03757">InitializeCompilationProgress()</a>, <a class="el" href="module-compiler_8cc_source.html#l03869">InitializeCompilationProgressAfterDeserialization()</a>, <a class="el" href="module-compiler_8cc_source.html#l03996">OnFinishedUnits()</a>, <a class="el" href="module-compiler_8cc_source.html#l04164">TriggerCallbacks()</a>, and <a class="el" href="module-compiler_8cc_source.html#l04117">TriggerOutstandingCallbacks()</a>.</p>

</div>
</div>
<a id="a022eb4137f9bae86d68fe9792fda8042"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a022eb4137f9bae86d68fe9792fda8042">&#9670;&nbsp;</a></span>publish_state_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_1_1PublishState.html">PublishState</a> v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::publish_state_[CompilationTier::kNumTiers]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l00826">826</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>

</div>
</div>
<a id="a7167a723ca63724303768ed3d1b0736d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7167a723ca63724303768ed3d1b0736d">&#9670;&nbsp;</a></span>top_tier_compile_job_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="classv8_1_1JobHandle.html">JobHandle</a>&gt; v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::top_tier_compile_job_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l00763">763</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l03977">AddTopTierPriorityCompilationUnit()</a>, <a class="el" href="module-compiler_8cc_source.html#l03954">CommitCompilationUnits()</a>, and <a class="el" href="module-compiler_8cc_source.html#l03575">InitCompileJob()</a>.</p>

</div>
</div>
<a id="a88bbd14f5345baf9dea935d9f1b6de94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88bbd14f5345baf9dea935d9f1b6de94">&#9670;&nbsp;</a></span>wire_bytes_storage_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="classv8_1_1internal_1_1wasm_1_1WireBytesStorage.html">WireBytesStorage</a>&gt; v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::wire_bytes_storage_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-compiler_8cc_source.html#l00779">779</a> of file <a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/mnt/V8SourceCode/src/wasm/<a class="el" href="module-compiler_8cc_source.html">module-compiler.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacev8.html">v8</a></li><li class="navelem"><a class="el" href="namespacev8_1_1internal.html">internal</a></li><li class="navelem"><a class="el" href="namespacev8_1_1internal_1_1wasm.html">wasm</a></li><li class="navelem"><a class="el" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03.html">anonymous_namespace{module-compiler.cc}</a></li><li class="navelem"><a class="el" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl.html">CompilationStateImpl</a></li>
    <li class="footer">Generated on Thu Jun 12 2025 16:15:35 for V8 Project by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
