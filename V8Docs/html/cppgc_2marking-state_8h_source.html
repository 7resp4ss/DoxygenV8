<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>V8 Project: marking-state.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">V8 Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('cppgc_2marking-state_8h_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">cppgc/marking-state.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="cppgc_2marking-state_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright 2020 the V8 project authors. All rights reserved.</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// Use of this source code is governed by a BSD-style license that can be</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// found in the LICENSE file.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160; </div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#ifndef V8_HEAP_CPPGC_MARKING_STATE_H_</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#define V8_HEAP_CPPGC_MARKING_STATE_H_</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160; </div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160; </div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="trace-trait_8h.html">include/cppgc/trace-trait.h</a>&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="include_2cppgc_2visitor_8h.html">include/cppgc/visitor.h</a>&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="src_2base_2logging_8h.html">src/base/logging.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="src_2base_2macros_8h.html">src/base/macros.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="cached-unordered-map_8h.html">src/heap/base/cached-unordered-map.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="stack_8h.html">src/heap/base/stack.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="compaction-worklists_8h.html">src/heap/cppgc/compaction-worklists.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="heap_2cppgc_2globals_8h.html">src/heap/cppgc/globals.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="heap-object-header_8h.html">src/heap/cppgc/heap-object-header.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="heap-page_8h.html">src/heap/cppgc/heap-page.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="src_2heap_2cppgc_2liveness-broker_8h.html">src/heap/cppgc/liveness-broker.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="marking-worklists_8h.html">src/heap/cppgc/marking-worklists.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160; </div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacecppgc.html">cppgc</a> {</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">internal</a> {</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160; </div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">// C++ marking implementation.</span></div>
<div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1MarkingStateBase.html">   27</a></span>&#160;<span class="keyword">class </span><a class="code" href="classcppgc_1_1internal_1_1MarkingStateBase.html">MarkingStateBase</a> {</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;  <span class="keyword">inline</span> <a class="code" href="classcppgc_1_1internal_1_1MarkingStateBase.html#af1cb8520e1742fc54a8ed7f7f1af351f">MarkingStateBase</a>(<a class="code" href="classcppgc_1_1internal_1_1HeapBase.html">HeapBase</a>&amp;, <a class="code" href="classcppgc_1_1internal_1_1MarkingWorklists.html">MarkingWorklists</a>&amp;);</div>
<div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1MarkingStateBase.html#a7c0eb785a472e8fed41fae068d7142fe">   30</a></span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classcppgc_1_1internal_1_1MarkingStateBase.html#a7c0eb785a472e8fed41fae068d7142fe">~MarkingStateBase</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160; </div>
<div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1MarkingStateBase.html#a14d035ff1ce92df34ea54a3869a4cb92">   32</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1MarkingStateBase.html#a14d035ff1ce92df34ea54a3869a4cb92">MarkingStateBase</a>(<span class="keyword">const</span> <a class="code" href="classcppgc_1_1internal_1_1MarkingStateBase.html">MarkingStateBase</a>&amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1MarkingStateBase.html#adc3b079b0b2b770674aaa8248a3b684a">   33</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1MarkingStateBase.html">MarkingStateBase</a>&amp; <a class="code" href="classcppgc_1_1internal_1_1MarkingStateBase.html#adc3b079b0b2b770674aaa8248a3b684a">operator=</a>(<span class="keyword">const</span> <a class="code" href="classcppgc_1_1internal_1_1MarkingStateBase.html">MarkingStateBase</a>&amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160; </div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1MarkingStateBase.html#a4185db3c0e19342f224986cec423ae27">MarkAndPush</a>(<span class="keyword">const</span> <span class="keywordtype">void</span>*, <a class="code" href="structcppgc_1_1TraceDescriptor.html">TraceDescriptor</a>);</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1MarkingStateBase.html#a4185db3c0e19342f224986cec423ae27">MarkAndPush</a>(<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html">HeapObjectHeader</a>&amp;);</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1MarkingStateBase.html#a45d1744a1cbf4e156e2455a1a28f598b">PushMarked</a>(<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html">HeapObjectHeader</a>&amp;, <a class="code" href="structcppgc_1_1TraceDescriptor.html">TraceDescriptor</a> desc);</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; </div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <a class="code" href="src_2base_2macros_8h.html#ab08e353943a53678ac6baafc678f2d81">V8_EXPORT_PRIVATE</a> <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1MarkingStateBase.html#a0dc980dd1bacd48bb06498e19b878db8">Publish</a>();</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160; </div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1MarkingStateBase.html#ae91cd2bc750da509ac6bb41fa02e6a79">   42</a></span>&#160;  MarkingWorklists::MarkingWorklist::Local&amp; <a class="code" href="classcppgc_1_1internal_1_1MarkingStateBase.html#ae91cd2bc750da509ac6bb41fa02e6a79">marking_worklist</a>() {</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classcppgc_1_1internal_1_1MarkingStateBase.html#a327f81f59ab51961a806382fd875207b">marking_worklist_</a>;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  }</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1MarkingWorklists.html#a305b41e2d498b370d2d25364a1fac999">MarkingWorklists::NotFullyConstructedWorklist</a>&amp;</div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1MarkingStateBase.html#aa9c151656cb8d785d70be895cd16169e">   46</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1MarkingStateBase.html#aa9c151656cb8d785d70be895cd16169e">not_fully_constructed_worklist</a>() {</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classcppgc_1_1internal_1_1MarkingStateBase.html#aaf72adb08f6a2d9db1a3faac37b4148b">not_fully_constructed_worklist_</a>;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  }</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; <span class="keyword">protected</span>:</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1MarkingStateBase.html#a4185db3c0e19342f224986cec423ae27">MarkAndPush</a>(<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html">HeapObjectHeader</a>&amp;, <a class="code" href="structcppgc_1_1TraceDescriptor.html">TraceDescriptor</a>);</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160; </div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classcppgc_1_1internal_1_1MarkingStateBase.html#ae114d778059fcb83b707939745c0e02e">MarkNoPush</a>(<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html">HeapObjectHeader</a>&amp;);</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1MarkingStateBase.html#ab4f274754e249dcb91ff5e9c9d3cd2c4">   55</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1HeapBase.html">HeapBase</a>&amp; <a class="code" href="classcppgc_1_1internal_1_1MarkingStateBase.html#ab4f274754e249dcb91ff5e9c9d3cd2c4">heap_</a>;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; </div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1MarkingStateBase.html#a327f81f59ab51961a806382fd875207b">   57</a></span>&#160;  MarkingWorklists::MarkingWorklist::Local <a class="code" href="classcppgc_1_1internal_1_1MarkingStateBase.html#a327f81f59ab51961a806382fd875207b">marking_worklist_</a>;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1MarkingWorklists.html#a305b41e2d498b370d2d25364a1fac999">MarkingWorklists::NotFullyConstructedWorklist</a>&amp;</div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1MarkingStateBase.html#aaf72adb08f6a2d9db1a3faac37b4148b">   59</a></span>&#160;      <a class="code" href="classcppgc_1_1internal_1_1MarkingStateBase.html#aaf72adb08f6a2d9db1a3faac37b4148b">not_fully_constructed_worklist_</a>;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;};</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160; </div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1MarkingStateBase.html#af1cb8520e1742fc54a8ed7f7f1af351f">   62</a></span>&#160;<a class="code" href="classcppgc_1_1internal_1_1MarkingStateBase.html#af1cb8520e1742fc54a8ed7f7f1af351f">MarkingStateBase::MarkingStateBase</a>(<a class="code" href="classcppgc_1_1internal_1_1HeapBase.html">HeapBase</a>&amp; <a class="code" href="namespaceheap.html">heap</a>,</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                                   <a class="code" href="classcppgc_1_1internal_1_1MarkingWorklists.html">MarkingWorklists</a>&amp; marking_worklists)</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    : heap_(<a class="code" href="namespaceheap.html">heap</a>),</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;      marking_worklist_(*marking_worklists.marking_worklist()),</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;      not_fully_constructed_worklist_(</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;          *marking_worklists.not_fully_constructed_worklist()) {}</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160; </div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1MarkingStateBase.html#a4185db3c0e19342f224986cec423ae27">   69</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1MarkingStateBase.html#a4185db3c0e19342f224986cec423ae27">MarkingStateBase::MarkAndPush</a>(<span class="keyword">const</span> <span class="keywordtype">void</span>* <span class="keywordtype">object</span>, <a class="code" href="structcppgc_1_1TraceDescriptor.html">TraceDescriptor</a> desc) {</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(<span class="keywordtype">object</span>);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1MarkingStateBase.html#a4185db3c0e19342f224986cec423ae27">MarkAndPush</a>(</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;      <a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a04b955c04b80d2a431dc2b96e4a85028">HeapObjectHeader::FromObject</a>(<span class="keyword">const_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(desc.<a class="code" href="structcppgc_1_1TraceDescriptor.html#a0de2d2b4cf5fe1ec48fc9d6f2e20f2f9">base_object_payload</a>)),</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;      desc);</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;}</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160; </div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1MarkingStateBase.html#a9aeb5e6720fa90a0c403c7a6e6e52535">   76</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1MarkingStateBase.html#a4185db3c0e19342f224986cec423ae27">MarkingStateBase::MarkAndPush</a>(<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html">HeapObjectHeader</a>&amp; header,</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                                   <a class="code" href="structcppgc_1_1TraceDescriptor.html">TraceDescriptor</a> desc) {</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(desc.<a class="code" href="structcppgc_1_1TraceDescriptor.html#ac642e0bc9d47a37c7a23ad095333d7cb">callback</a>);</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160; </div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="keywordflow">if</span> (header.<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a4964e49fd7dadd02205bcb66039f3c28">IsInConstruction</a>&lt;<a class="code" href="namespacecppgc_1_1internal.html#ac0b40b7e4ac65024fbfcf57d01fa808ea726d9cf5163c50b3cf8e05800e3cef71">AccessMode::kAtomic</a>&gt;()) {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1MarkingStateBase.html#aaf72adb08f6a2d9db1a3faac37b4148b">not_fully_constructed_worklist_</a>.Push&lt;<a class="code" href="namespacecppgc_1_1internal.html#ac0b40b7e4ac65024fbfcf57d01fa808ea726d9cf5163c50b3cf8e05800e3cef71">AccessMode::kAtomic</a>&gt;(&amp;header);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classcppgc_1_1internal_1_1MarkingStateBase.html#ae114d778059fcb83b707939745c0e02e">MarkNoPush</a>(header)) {</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1MarkingStateBase.html#a45d1744a1cbf4e156e2455a1a28f598b">PushMarked</a>(header, desc);</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  }</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;}</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1MarkingStateBase.html#ae114d778059fcb83b707939745c0e02e">   87</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classcppgc_1_1internal_1_1MarkingStateBase.html#ae114d778059fcb83b707939745c0e02e">MarkingStateBase::MarkNoPush</a>(<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html">HeapObjectHeader</a>&amp; header) {</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="comment">// A GC should only mark the objects that belong in its heap.</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(&amp;<a class="code" href="classcppgc_1_1internal_1_1MarkingStateBase.html#ab4f274754e249dcb91ff5e9c9d3cd2c4">heap_</a>, &amp;<a class="code" href="classcppgc_1_1internal_1_1BasePage.html#aad13cafeed6c2ea494b7423b9c527b7a">BasePage::FromPayload</a>(&amp;header)-&gt;<a class="code" href="flag-definitions_8h.html#a761e4e5929b1553283fd6a532822bb17">heap</a>());</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="comment">// Never mark free space objects. This would e.g. hint to marking a promptly</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="comment">// freed backing store.</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!header.<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html#ac1ca63d90cf4d83f013faae430d6617b">IsFree</a>&lt;<a class="code" href="namespacecppgc_1_1internal.html#ac0b40b7e4ac65024fbfcf57d01fa808ea726d9cf5163c50b3cf8e05800e3cef71">AccessMode::kAtomic</a>&gt;());</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <span class="keywordflow">return</span> header.<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a79d0b3366f5a6d465309c4301d61f31e">TryMarkAtomic</a>();</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;}</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160; </div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1MarkingStateBase.html#a878a4f20066b29c1448119a5f796717a">   96</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1MarkingStateBase.html#a4185db3c0e19342f224986cec423ae27">MarkingStateBase::MarkAndPush</a>(<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html">HeapObjectHeader</a>&amp; header) {</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1MarkingStateBase.html#a4185db3c0e19342f224986cec423ae27">MarkAndPush</a>(</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;      header,</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;      {header.<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a2f5a585893bb8836a77a5fdbf344a24a">ObjectStart</a>(),</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;       <a class="code" href="classcppgc_1_1internal_1_1GlobalGCInfoTable.html#a51ab53b3ff91cd29a2206e41a8ad7b67">GlobalGCInfoTable::GCInfoFromIndex</a>(header.<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a7390352abcea20d83a29d566d3968a9c">GetGCInfoIndex</a>()).<a class="code" href="structcppgc_1_1internal_1_1GCInfo.html#a38d648a24eb18de96f6f9b9b9bda4f09">trace</a>});</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;}</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1MarkingStateBase.html#a45d1744a1cbf4e156e2455a1a28f598b">  103</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1MarkingStateBase.html#a45d1744a1cbf4e156e2455a1a28f598b">MarkingStateBase::PushMarked</a>(<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html">HeapObjectHeader</a>&amp; header,</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                                  <a class="code" href="structcppgc_1_1TraceDescriptor.html">TraceDescriptor</a> desc) {</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(header.<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a328d2dfc7af3a7a8bd7f7618a3a41699">IsMarked</a>&lt;<a class="code" href="namespacecppgc_1_1internal.html#ac0b40b7e4ac65024fbfcf57d01fa808ea726d9cf5163c50b3cf8e05800e3cef71">AccessMode::kAtomic</a>&gt;());</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!header.<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a4964e49fd7dadd02205bcb66039f3c28">IsInConstruction</a>&lt;<a class="code" href="namespacecppgc_1_1internal.html#ac0b40b7e4ac65024fbfcf57d01fa808ea726d9cf5163c50b3cf8e05800e3cef71">AccessMode::kAtomic</a>&gt;());</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(desc.<a class="code" href="structcppgc_1_1TraceDescriptor.html#ac642e0bc9d47a37c7a23ad095333d7cb">callback</a>);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1MarkingStateBase.html#a327f81f59ab51961a806382fd875207b">marking_worklist_</a>.Push(desc);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;}</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1BasicMarkingState.html">  112</a></span>&#160;<span class="keyword">class </span><a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html">BasicMarkingState</a> : <span class="keyword">public</span> <a class="code" href="classcppgc_1_1internal_1_1MarkingStateBase.html">MarkingStateBase</a> {</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a0830cd4cb3869fa644ffbdf94cad27ff">BasicMarkingState</a>(<a class="code" href="classcppgc_1_1internal_1_1HeapBase.html">HeapBase</a>&amp; <a class="code" href="namespaceheap.html">heap</a>, <a class="code" href="classcppgc_1_1internal_1_1MarkingWorklists.html">MarkingWorklists</a>&amp;, <a class="code" href="classcppgc_1_1internal_1_1CompactionWorklists.html">CompactionWorklists</a>*);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a6a93e2c0d0591a9fdd82826794924ee4">~BasicMarkingState</a>() <span class="keyword">override</span>;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160; </div>
<div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1BasicMarkingState.html#ad3c6f2ecb14f9e9cffb235cefd4bc6e8">  117</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#ad3c6f2ecb14f9e9cffb235cefd4bc6e8">BasicMarkingState</a>(<span class="keyword">const</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html">BasicMarkingState</a>&amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a4c99b8a606468a7f3dba67209c63100c">  118</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html">BasicMarkingState</a>&amp; <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a4c99b8a606468a7f3dba67209c63100c">operator=</a>(<span class="keyword">const</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html">BasicMarkingState</a>&amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160; </div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a33b4db5f322ca17fa64b5df8a8bb9ff5">RegisterWeakReferenceIfNeeded</a>(<span class="keyword">const</span> <span class="keywordtype">void</span>*, <a class="code" href="structcppgc_1_1TraceDescriptor.html">TraceDescriptor</a>,</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                                            <a class="code" href="namespacecppgc.html#a4b906afac52d1ad451065c31124ec72a">WeakCallback</a>, <span class="keyword">const</span> <span class="keywordtype">void</span>*);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#aaec2c73a124ac932363ecb4154291e0d">RegisterWeakContainerCallback</a>(<a class="code" href="namespacecppgc.html#a4b906afac52d1ad451065c31124ec72a">WeakCallback</a>, <span class="keyword">const</span> <span class="keywordtype">void</span>*);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a0f6b94cf553d9f2886395c8023aa9eba">RegisterWeakCustomCallback</a>(<a class="code" href="namespacecppgc.html#a4b906afac52d1ad451065c31124ec72a">WeakCallback</a>, <span class="keyword">const</span> <span class="keywordtype">void</span>*);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160; </div>
<div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a88ec3dbcc6b68457d4e707ba01b3512e">  125</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a88ec3dbcc6b68457d4e707ba01b3512e">RegisterMovableReference</a>(<span class="keyword">const</span> <span class="keywordtype">void</span>** slot) {</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="v8config_8h.html#a4f489f1b838163ab33f251c9e470d938">V8_LIKELY</a>(!<a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a9fcd517d3dd5812b30318550e1ae6166">movable_slots_worklist_</a>)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="preprocessor">#if defined(CPPGC_CAGED_HEAP)</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a>(!CagedHeapBase::IsWithinCage(slot))) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="preprocessor">#else   </span><span class="comment">// !defined(CPPGC_CAGED_HEAP)</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a>(<a class="code" href="classheap_1_1base_1_1Stack.html#a1c159fcdb1e6ded61dac677a24d50360">heap::base::Stack::IsOnStack</a>(slot))) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// !defined(CPPGC_CAGED_HEAP)</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160; </div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a9fcd517d3dd5812b30318550e1ae6166">movable_slots_worklist_</a>-&gt;Push(slot);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  }</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160; </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="comment">// Weak containers are special in that they may require re-tracing if</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="comment">// reachable through stack, even if the container was already traced before.</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="comment">// ProcessWeakContainer records which weak containers were already marked so</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <span class="comment">// that conservative stack scanning knows to retrace them.</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#ac741d976d8fcacc510113103357e9077">ProcessWeakContainer</a>(<span class="keyword">const</span> <span class="keywordtype">void</span>*, <a class="code" href="structcppgc_1_1TraceDescriptor.html">TraceDescriptor</a>, <a class="code" href="namespacecppgc.html#a4b906afac52d1ad451065c31124ec72a">WeakCallback</a>,</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                                   <span class="keyword">const</span> <span class="keywordtype">void</span>*);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#ab360b0c8c3a549f62d7dd612efa022ab">ProcessEphemeron</a>(<span class="keyword">const</span> <span class="keywordtype">void</span>*, <span class="keyword">const</span> <span class="keywordtype">void</span>*, <a class="code" href="structcppgc_1_1TraceDescriptor.html">TraceDescriptor</a>,</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                               <a class="code" href="classcppgc_1_1Visitor.html">Visitor</a>&amp;);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160; </div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#af0087296a505ce9cd0f0a1871735e2a5">AccountMarkedBytes</a>(<span class="keyword">const</span> <a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html">HeapObjectHeader</a>&amp;);</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#af0087296a505ce9cd0f0a1871735e2a5">AccountMarkedBytes</a>(<a class="code" href="classcppgc_1_1internal_1_1BasePage.html">BasePage</a>*, <span class="keywordtype">size_t</span>);</div>
<div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a33f1d2c6d8847884eac96eb913da9a99">  148</a></span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a33f1d2c6d8847884eac96eb913da9a99">marked_bytes</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a5e4cce35b958d86f9c3ae70289c5da2c">marked_bytes_</a>; }</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <span class="comment">// Returns marked_bytes() and resets the counter internally, basically</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="comment">// consuming the value of the marked bytes.</span></div>
<div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1BasicMarkingState.html#aadc15e182c2605b8c2661826b002a1ed">  151</a></span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#aadc15e182c2605b8c2661826b002a1ed">RecentlyMarkedBytes</a>() {</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a5e4cce35b958d86f9c3ae70289c5da2c">marked_bytes_</a> - std::exchange(<a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#abe428c3553810e7b2ca5bf092b3ccdb6">last_marked_bytes_</a>, <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a5e4cce35b958d86f9c3ae70289c5da2c">marked_bytes_</a>);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  }</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <a class="code" href="src_2base_2macros_8h.html#ab08e353943a53678ac6baafc678f2d81">V8_EXPORT_PRIVATE</a> <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a295ec4304e4c8065b4e530d6133a0e1e">Publish</a>() <span class="keyword">override</span>;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160; </div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  MarkingWorklists::PreviouslyNotFullyConstructedWorklist::Local&amp;</div>
<div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1BasicMarkingState.html#aac7d7944698a840fe08af5df4805d259">  158</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#aac7d7944698a840fe08af5df4805d259">previously_not_fully_constructed_worklist</a>() {</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#aab79aec3fbda650371feeedd964e71aa">previously_not_fully_constructed_worklist_</a>;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  }</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  MarkingWorklists::WeakCallbackWorklist::Local&amp;</div>
<div class="line"><a name="l00162"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1BasicMarkingState.html#af094e4c7dedf3e28c0a101bbe4dc7f48">  162</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#af094e4c7dedf3e28c0a101bbe4dc7f48">weak_container_callback_worklist</a>() {</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#ae3955e7623ab9fa2843e89efac262b00">weak_container_callback_worklist_</a>;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  }</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  MarkingWorklists::WeakCallbackWorklist::Local&amp;</div>
<div class="line"><a name="l00166"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1BasicMarkingState.html#adffe612a550f8b37846fa2867a7a9d8f">  166</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#adffe612a550f8b37846fa2867a7a9d8f">parallel_weak_callback_worklist</a>() {</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#af01ee7e623282cd6fc684092ab5ca27f">parallel_weak_callback_worklist_</a>;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  }</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  MarkingWorklists::WeakCustomCallbackWorklist::Local&amp;</div>
<div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a83ffc8319e988ea927ec533b2efb8226">  170</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a83ffc8319e988ea927ec533b2efb8226">weak_custom_callback_worklist</a>() {</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#ace509e038005bf56b799c486667f03d2">weak_custom_callback_worklist_</a>;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  }</div>
<div class="line"><a name="l00173"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a04a21fb664fd2b30ae70a0c6447365e4">  173</a></span>&#160;  MarkingWorklists::WriteBarrierWorklist::Local&amp; <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a04a21fb664fd2b30ae70a0c6447365e4">write_barrier_worklist</a>() {</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#aa5aeb3d659e049d4c00f5a41101682fb">write_barrier_worklist_</a>;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  }</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  MarkingWorklists::ConcurrentMarkingBailoutWorklist::Local&amp;</div>
<div class="line"><a name="l00177"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1BasicMarkingState.html#aff56008478c53d8ef52d4b23edb17fbd">  177</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#aff56008478c53d8ef52d4b23edb17fbd">concurrent_marking_bailout_worklist</a>() {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#ae375e71c6efbb3708fe2dd25384cfbcd">concurrent_marking_bailout_worklist_</a>;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  }</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  MarkingWorklists::EphemeronPairsWorklist::Local&amp;</div>
<div class="line"><a name="l00181"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a5a4da8effccaf636a5ff734d9fa454ec">  181</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a5a4da8effccaf636a5ff734d9fa454ec">discovered_ephemeron_pairs_worklist</a>() {</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a1ff6c55668f08a969b09d1c40c7c1d28">discovered_ephemeron_pairs_worklist_</a>;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  }</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  MarkingWorklists::EphemeronPairsWorklist::Local&amp;</div>
<div class="line"><a name="l00185"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a03800fd2812c339eb433711b87266103">  185</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a03800fd2812c339eb433711b87266103">ephemeron_pairs_for_processing_worklist</a>() {</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#acd300ada9c3d550baeb649be4555fca7">ephemeron_pairs_for_processing_worklist_</a>;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  }</div>
<div class="line"><a name="l00188"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1BasicMarkingState.html#aaf6aa78a3ea7e608f4d683db3dfd8311">  188</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1MarkingWorklists.html#aa0277b03ffd7713321099c84d953f538">MarkingWorklists::WeakContainersWorklist</a>&amp; <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#aaf6aa78a3ea7e608f4d683db3dfd8311">weak_containers_worklist</a>() {</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#aac63bd0e02e89783b528129fb3499c03">weak_containers_worklist_</a>;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  }</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160; </div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  CompactionWorklists::MovableReferencesWorklist::Local*</div>
<div class="line"><a name="l00193"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a8873a98df1a56889c695e2756fb3ed9c">  193</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a8873a98df1a56889c695e2756fb3ed9c">movable_slots_worklist</a>() {</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a9fcd517d3dd5812b30318550e1ae6166">movable_slots_worklist_</a>.get();</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  }</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160; </div>
<div class="line"><a name="l00197"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a0623a5a0cbc0c18fb1f70dcec719044b">  197</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a0623a5a0cbc0c18fb1f70dcec719044b">DidDiscoverNewEphemeronPairs</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#ad5b8428a377b4f5f9d66672f6c43e9ed">discovered_new_ephemeron_pairs_</a>;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160; </div>
<div class="line"><a name="l00201"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a92dbbea59bb10462f388276fbd9b758a">  201</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a92dbbea59bb10462f388276fbd9b758a">ResetDidDiscoverNewEphemeronPairs</a>() {</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#ad5b8428a377b4f5f9d66672f6c43e9ed">discovered_new_ephemeron_pairs_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  }</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160; </div>
<div class="line"><a name="l00205"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a4bdaa06cfc58c8b271c2e0003bccb0ee">  205</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a4bdaa06cfc58c8b271c2e0003bccb0ee">set_in_atomic_pause</a>() { <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a2950deeaf05c23ccc3f5cf4438316730">in_atomic_pause_</a> = <span class="keyword">true</span>; }</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160; </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160; <span class="keyword">protected</span>:</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#ac84539d3434dc265110bd5ff951837b7">RegisterWeakContainer</a>(<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html">HeapObjectHeader</a>&amp;);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160; </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  MarkingWorklists::PreviouslyNotFullyConstructedWorklist::Local</div>
<div class="line"><a name="l00211"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1BasicMarkingState.html#aab79aec3fbda650371feeedd964e71aa">  211</a></span>&#160;      <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#aab79aec3fbda650371feeedd964e71aa">previously_not_fully_constructed_worklist_</a>;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  MarkingWorklists::WeakCallbackWorklist::Local</div>
<div class="line"><a name="l00213"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1BasicMarkingState.html#ae3955e7623ab9fa2843e89efac262b00">  213</a></span>&#160;      <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#ae3955e7623ab9fa2843e89efac262b00">weak_container_callback_worklist_</a>;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  MarkingWorklists::WeakCallbackWorklist::Local</div>
<div class="line"><a name="l00215"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1BasicMarkingState.html#af01ee7e623282cd6fc684092ab5ca27f">  215</a></span>&#160;      <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#af01ee7e623282cd6fc684092ab5ca27f">parallel_weak_callback_worklist_</a>;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  MarkingWorklists::WeakCustomCallbackWorklist::Local</div>
<div class="line"><a name="l00217"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1BasicMarkingState.html#ace509e038005bf56b799c486667f03d2">  217</a></span>&#160;      <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#ace509e038005bf56b799c486667f03d2">weak_custom_callback_worklist_</a>;</div>
<div class="line"><a name="l00218"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1BasicMarkingState.html#aa5aeb3d659e049d4c00f5a41101682fb">  218</a></span>&#160;  MarkingWorklists::WriteBarrierWorklist::Local <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#aa5aeb3d659e049d4c00f5a41101682fb">write_barrier_worklist_</a>;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  MarkingWorklists::ConcurrentMarkingBailoutWorklist::Local</div>
<div class="line"><a name="l00220"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1BasicMarkingState.html#ae375e71c6efbb3708fe2dd25384cfbcd">  220</a></span>&#160;      <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#ae375e71c6efbb3708fe2dd25384cfbcd">concurrent_marking_bailout_worklist_</a>;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  MarkingWorklists::EphemeronPairsWorklist::Local</div>
<div class="line"><a name="l00222"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a1ff6c55668f08a969b09d1c40c7c1d28">  222</a></span>&#160;      <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a1ff6c55668f08a969b09d1c40c7c1d28">discovered_ephemeron_pairs_worklist_</a>;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  MarkingWorklists::EphemeronPairsWorklist::Local</div>
<div class="line"><a name="l00224"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1BasicMarkingState.html#acd300ada9c3d550baeb649be4555fca7">  224</a></span>&#160;      <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#acd300ada9c3d550baeb649be4555fca7">ephemeron_pairs_for_processing_worklist_</a>;</div>
<div class="line"><a name="l00225"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1BasicMarkingState.html#aac63bd0e02e89783b528129fb3499c03">  225</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1MarkingWorklists.html#aa0277b03ffd7713321099c84d953f538">MarkingWorklists::WeakContainersWorklist</a>&amp; <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#aac63bd0e02e89783b528129fb3499c03">weak_containers_worklist_</a>;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <span class="comment">// Existence of the worklist (|movable_slot_worklist_| != nullptr) denotes</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <span class="comment">// that compaction is currently enabled and slots must be recorded.</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  std::unique_ptr&lt;CompactionWorklists::MovableReferencesWorklist::Local&gt;</div>
<div class="line"><a name="l00229"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a9fcd517d3dd5812b30318550e1ae6166">  229</a></span>&#160;      <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a9fcd517d3dd5812b30318550e1ae6166">movable_slots_worklist_</a>;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a5e4cce35b958d86f9c3ae70289c5da2c">  231</a></span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a5e4cce35b958d86f9c3ae70289c5da2c">marked_bytes_</a> = 0;</div>
<div class="line"><a name="l00232"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1BasicMarkingState.html#abe428c3553810e7b2ca5bf092b3ccdb6">  232</a></span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#abe428c3553810e7b2ca5bf092b3ccdb6">last_marked_bytes_</a> = 0;</div>
<div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1BasicMarkingState.html#acfed15676ae37dfe9285705ed97663c7">  233</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#acfed15676ae37dfe9285705ed97663c7">in_ephemeron_processing_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00234"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1BasicMarkingState.html#ad5b8428a377b4f5f9d66672f6c43e9ed">  234</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#ad5b8428a377b4f5f9d66672f6c43e9ed">discovered_new_ephemeron_pairs_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00235"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a2950deeaf05c23ccc3f5cf4438316730">  235</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a2950deeaf05c23ccc3f5cf4438316730">in_atomic_pause_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <a class="code" href="classheap_1_1base_1_1CachedUnorderedMap.html">heap::base::CachedUnorderedMap&lt;BasePage*, int64_t, v8::base::hash&lt;BasePage*&gt;</a>&gt;</div>
<div class="line"><a name="l00237"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a326d2f437a8fb0983473a656b0485ed2">  237</a></span>&#160;      <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a326d2f437a8fb0983473a656b0485ed2">marked_bytes_map_</a>;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;};</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a33b4db5f322ca17fa64b5df8a8bb9ff5">  240</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a33b4db5f322ca17fa64b5df8a8bb9ff5">BasicMarkingState::RegisterWeakReferenceIfNeeded</a>(</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">void</span>* <span class="keywordtype">object</span>, <a class="code" href="structcppgc_1_1TraceDescriptor.html">TraceDescriptor</a> desc, <a class="code" href="namespacecppgc.html#a4b906afac52d1ad451065c31124ec72a">WeakCallback</a> weak_callback,</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">void</span>* parameter) {</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <span class="comment">// Filter out already marked values. The write barrier for WeakMember</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="comment">// ensures that any newly set value after this point is kept alive and does</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <span class="comment">// not require the callback.</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <span class="keyword">const</span> <a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html">HeapObjectHeader</a>&amp; header =</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      <a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a04b955c04b80d2a431dc2b96e4a85028">HeapObjectHeader::FromObject</a>(desc.<a class="code" href="structcppgc_1_1TraceDescriptor.html#a0de2d2b4cf5fe1ec48fc9d6f2e20f2f9">base_object_payload</a>);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <span class="keywordflow">if</span> (!header.<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a4964e49fd7dadd02205bcb66039f3c28">IsInConstruction</a>&lt;<a class="code" href="namespacecppgc_1_1internal.html#ac0b40b7e4ac65024fbfcf57d01fa808ea726d9cf5163c50b3cf8e05800e3cef71">AccessMode::kAtomic</a>&gt;() &amp;&amp;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;      header.<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a328d2dfc7af3a7a8bd7f7618a3a41699">IsMarked</a>&lt;<a class="code" href="namespacecppgc_1_1internal.html#ac0b40b7e4ac65024fbfcf57d01fa808ea726d9cf5163c50b3cf8e05800e3cef71">AccessMode::kAtomic</a>&gt;())</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#af01ee7e623282cd6fc684092ab5ca27f">parallel_weak_callback_worklist_</a>.Push({weak_callback, parameter});</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;}</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160; </div>
<div class="line"><a name="l00254"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1BasicMarkingState.html#aaec2c73a124ac932363ecb4154291e0d">  254</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#aaec2c73a124ac932363ecb4154291e0d">BasicMarkingState::RegisterWeakContainerCallback</a>(<a class="code" href="namespacecppgc.html#a4b906afac52d1ad451065c31124ec72a">WeakCallback</a> <a class="code" href="js-call-reducer_8cc.html#ad83e8682ed733ee0cf359fa4f48441b0">callback</a>,</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                                                      <span class="keyword">const</span> <span class="keywordtype">void</span>* <span class="keywordtype">object</span>) {</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(<a class="code" href="js-call-reducer_8cc.html#ad83e8682ed733ee0cf359fa4f48441b0">callback</a>);</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#ae3955e7623ab9fa2843e89efac262b00">weak_container_callback_worklist_</a>.Push({<a class="code" href="js-call-reducer_8cc.html#ad83e8682ed733ee0cf359fa4f48441b0">callback</a>, <span class="keywordtype">object</span>});</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;}</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160; </div>
<div class="line"><a name="l00260"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a0f6b94cf553d9f2886395c8023aa9eba">  260</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a0f6b94cf553d9f2886395c8023aa9eba">BasicMarkingState::RegisterWeakCustomCallback</a>(<a class="code" href="namespacecppgc.html#a4b906afac52d1ad451065c31124ec72a">WeakCallback</a> <a class="code" href="js-call-reducer_8cc.html#ad83e8682ed733ee0cf359fa4f48441b0">callback</a>,</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                                                   <span class="keyword">const</span> <span class="keywordtype">void</span>* <span class="keywordtype">object</span>) {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(<a class="code" href="js-call-reducer_8cc.html#ad83e8682ed733ee0cf359fa4f48441b0">callback</a>);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#ace509e038005bf56b799c486667f03d2">weak_custom_callback_worklist_</a>.Push({<a class="code" href="js-call-reducer_8cc.html#ad83e8682ed733ee0cf359fa4f48441b0">callback</a>, <span class="keywordtype">object</span>});</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;}</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160; </div>
<div class="line"><a name="l00266"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1BasicMarkingState.html#ac84539d3434dc265110bd5ff951837b7">  266</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#ac84539d3434dc265110bd5ff951837b7">BasicMarkingState::RegisterWeakContainer</a>(<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html">HeapObjectHeader</a>&amp; header) {</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#aac63bd0e02e89783b528129fb3499c03">weak_containers_worklist_</a>.Push&lt;<a class="code" href="namespacecppgc_1_1internal.html#ac0b40b7e4ac65024fbfcf57d01fa808ea726d9cf5163c50b3cf8e05800e3cef71">AccessMode::kAtomic</a>&gt;(&amp;header);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;}</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160; </div>
<div class="line"><a name="l00270"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1BasicMarkingState.html#ac741d976d8fcacc510113103357e9077">  270</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#ac741d976d8fcacc510113103357e9077">BasicMarkingState::ProcessWeakContainer</a>(<span class="keyword">const</span> <span class="keywordtype">void</span>* <span class="keywordtype">object</span>,</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                                             <a class="code" href="structcppgc_1_1TraceDescriptor.html">TraceDescriptor</a> desc,</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                                             <a class="code" href="namespacecppgc.html#a4b906afac52d1ad451065c31124ec72a">WeakCallback</a> <a class="code" href="js-call-reducer_8cc.html#ad83e8682ed733ee0cf359fa4f48441b0">callback</a>,</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                                             <span class="keyword">const</span> <span class="keywordtype">void</span>* <a class="code" href="builtins_8cc.html#ad2a98ce8e8b889a9843d6839653a11a1">data</a>) {</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(<span class="keywordtype">object</span>);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160; </div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html">HeapObjectHeader</a>&amp; header =</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      <a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a04b955c04b80d2a431dc2b96e4a85028">HeapObjectHeader::FromObject</a>(<span class="keyword">const_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(<span class="keywordtype">object</span>));</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160; </div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <span class="keywordflow">if</span> (header.<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a4964e49fd7dadd02205bcb66039f3c28">IsInConstruction</a>&lt;<a class="code" href="namespacecppgc_1_1internal.html#ac0b40b7e4ac65024fbfcf57d01fa808ea726d9cf5163c50b3cf8e05800e3cef71">AccessMode::kAtomic</a>&gt;()) {</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1MarkingStateBase.html#aaf72adb08f6a2d9db1a3faac37b4148b">not_fully_constructed_worklist_</a>.Push&lt;<a class="code" href="namespacecppgc_1_1internal.html#ac0b40b7e4ac65024fbfcf57d01fa808ea726d9cf5163c50b3cf8e05800e3cef71">AccessMode::kAtomic</a>&gt;(&amp;header);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  }</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160; </div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#ac84539d3434dc265110bd5ff951837b7">RegisterWeakContainer</a>(header);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160; </div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <span class="comment">// Only mark the container initially. Its buckets will be processed after</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <span class="comment">// marking.</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classcppgc_1_1internal_1_1MarkingStateBase.html#ae114d778059fcb83b707939745c0e02e">MarkNoPush</a>(header)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160; </div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <span class="comment">// Register final weak processing of the backing store.</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#aaec2c73a124ac932363ecb4154291e0d">RegisterWeakContainerCallback</a>(<a class="code" href="js-call-reducer_8cc.html#ad83e8682ed733ee0cf359fa4f48441b0">callback</a>, <a class="code" href="builtins_8cc.html#ad2a98ce8e8b889a9843d6839653a11a1">data</a>);</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160; </div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <span class="comment">// Weak containers might not require tracing. In such cases the callback in</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="comment">// the TraceDescriptor will be nullptr. For ephemerons the callback will be</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <span class="comment">// non-nullptr so that the container is traced and the ephemeron pairs are</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <span class="comment">// processed.</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <span class="keywordflow">if</span> (desc.<a class="code" href="structcppgc_1_1TraceDescriptor.html#ac642e0bc9d47a37c7a23ad095333d7cb">callback</a>) {</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1MarkingStateBase.html#a45d1744a1cbf4e156e2455a1a28f598b">PushMarked</a>(header, desc);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="comment">// For weak containers, there&#39;s no trace callback and no processing loop to</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="comment">// update the marked bytes, hence inline that here.</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#af0087296a505ce9cd0f0a1871735e2a5">AccountMarkedBytes</a>(header);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  }</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;}</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160; </div>
<div class="line"><a name="l00306"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1BasicMarkingState.html#ab360b0c8c3a549f62d7dd612efa022ab">  306</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#ab360b0c8c3a549f62d7dd612efa022ab">BasicMarkingState::ProcessEphemeron</a>(<span class="keyword">const</span> <span class="keywordtype">void</span>* <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>, <span class="keyword">const</span> <span class="keywordtype">void</span>* <a class="code" href="value-mirror_8cc.html#a1ca88ee8dc0e8e51d60cf01ab8e8702a">value</a>,</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                                         <a class="code" href="structcppgc_1_1TraceDescriptor.html">TraceDescriptor</a> value_desc,</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                                         <a class="code" href="classcppgc_1_1Visitor.html">Visitor</a>&amp; visitor) {</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="comment">// ProcessEphemeron is not expected to find new ephemerons recursively, which</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="comment">// would break the main marking loop.</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!<a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#acfed15676ae37dfe9285705ed97663c7">in_ephemeron_processing_</a>);</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#acfed15676ae37dfe9285705ed97663c7">in_ephemeron_processing_</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  <span class="comment">// Keys are considered live even in incremental/concurrent marking settings</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <span class="comment">// because the write barrier for WeakMember ensures that any newly set value</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  <span class="comment">// after this point is kept alive and does not require the callback.</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> key_in_construction =</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      <a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a04b955c04b80d2a431dc2b96e4a85028">HeapObjectHeader::FromObject</a>(<a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>).<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a4964e49fd7dadd02205bcb66039f3c28">IsInConstruction</a>&lt;<a class="code" href="namespacecppgc_1_1internal.html#ac0b40b7e4ac65024fbfcf57d01fa808ea726d9cf5163c50b3cf8e05800e3cef71">AccessMode::kAtomic</a>&gt;();</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> key_considered_as_live =</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;      key_in_construction</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;          ? <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a2950deeaf05c23ccc3f5cf4438316730">in_atomic_pause_</a></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;          : <a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a04b955c04b80d2a431dc2b96e4a85028">HeapObjectHeader::FromObject</a>(<a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>).<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a328d2dfc7af3a7a8bd7f7618a3a41699">IsMarked</a>&lt;<a class="code" href="namespacecppgc_1_1internal.html#ac0b40b7e4ac65024fbfcf57d01fa808ea726d9cf5163c50b3cf8e05800e3cef71">AccessMode::kAtomic</a>&gt;();</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      key_in_construction &amp;&amp; <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a2950deeaf05c23ccc3f5cf4438316730">in_atomic_pause_</a>,</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      <a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a04b955c04b80d2a431dc2b96e4a85028">HeapObjectHeader::FromObject</a>(<a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>).IsMarked&lt;AccessMode::kAtomic&gt;());</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  <span class="keywordflow">if</span> (key_considered_as_live) {</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="keywordflow">if</span> (value_desc.<a class="code" href="structcppgc_1_1TraceDescriptor.html#a0de2d2b4cf5fe1ec48fc9d6f2e20f2f9">base_object_payload</a>) {</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;      <a class="code" href="classcppgc_1_1internal_1_1MarkingStateBase.html#a4185db3c0e19342f224986cec423ae27">MarkAndPush</a>(value_desc.<a class="code" href="structcppgc_1_1TraceDescriptor.html#a0de2d2b4cf5fe1ec48fc9d6f2e20f2f9">base_object_payload</a>, value_desc);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;      <span class="comment">// If value_desc.base_object_payload is nullptr, the value is not GCed and</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      <span class="comment">// should be immediately traced.</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;      value_desc.<a class="code" href="structcppgc_1_1TraceDescriptor.html#ac642e0bc9d47a37c7a23ad095333d7cb">callback</a>(&amp;visitor, <a class="code" href="value-mirror_8cc.html#a1ca88ee8dc0e8e51d60cf01ab8e8702a">value</a>);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    }</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a1ff6c55668f08a969b09d1c40c7c1d28">discovered_ephemeron_pairs_worklist_</a>.Push({<a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>, <a class="code" href="value-mirror_8cc.html#a1ca88ee8dc0e8e51d60cf01ab8e8702a">value</a>, value_desc});</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#ad5b8428a377b4f5f9d66672f6c43e9ed">discovered_new_ephemeron_pairs_</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  }</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#acfed15676ae37dfe9285705ed97663c7">in_ephemeron_processing_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;}</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160; </div>
<div class="line"><a name="l00340"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1BasicMarkingState.html#af0087296a505ce9cd0f0a1871735e2a5">  340</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#af0087296a505ce9cd0f0a1871735e2a5">BasicMarkingState::AccountMarkedBytes</a>(<span class="keyword">const</span> <a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html">HeapObjectHeader</a>&amp; header) {</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a33f1d2c6d8847884eac96eb913da9a99">marked_bytes</a> =</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      header.<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html#acb8d93ca4a7c69792f6c369622745255">IsLargeObject</a>&lt;<a class="code" href="namespacecppgc_1_1internal.html#ac0b40b7e4ac65024fbfcf57d01fa808ea726d9cf5163c50b3cf8e05800e3cef71">AccessMode::kAtomic</a>&gt;()</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;          ? <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="classcppgc_1_1internal_1_1LargePage.html">LargePage</a>*<span class="keyword">&gt;</span>(<a class="code" href="classcppgc_1_1internal_1_1BasePage.html#aad13cafeed6c2ea494b7423b9c527b7a">BasePage::FromPayload</a>(&amp;header))</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                -&gt;PayloadSize()</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;          : header.<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a38bd7c0ef4a16d993c2c95be6843415b">AllocatedSize</a>&lt;<a class="code" href="namespacecppgc_1_1internal.html#ac0b40b7e4ac65024fbfcf57d01fa808ea726d9cf5163c50b3cf8e05800e3cef71">AccessMode::kAtomic</a>&gt;();</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <span class="keyword">auto</span>* base_page =</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      <a class="code" href="classcppgc_1_1internal_1_1BasePage.html#aad13cafeed6c2ea494b7423b9c527b7a">BasePage::FromPayload</a>(&amp;<span class="keyword">const_cast&lt;</span><a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html">HeapObjectHeader</a>&amp;<span class="keyword">&gt;</span>(header));</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#af0087296a505ce9cd0f0a1871735e2a5">AccountMarkedBytes</a>(base_page, <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a33f1d2c6d8847884eac96eb913da9a99">marked_bytes</a>);</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;}</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160; </div>
<div class="line"><a name="l00351"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1BasicMarkingState.html#aa6c89aecf73fd992fcaae8e95be72b22">  351</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#af0087296a505ce9cd0f0a1871735e2a5">BasicMarkingState::AccountMarkedBytes</a>(<a class="code" href="classcppgc_1_1internal_1_1BasePage.html">BasePage</a>* base_page,</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                                           <span class="keywordtype">size_t</span> marked_bytes) {</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a5e4cce35b958d86f9c3ae70289c5da2c">marked_bytes_</a> += <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a33f1d2c6d8847884eac96eb913da9a99">marked_bytes</a>;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a326d2f437a8fb0983473a656b0485ed2">marked_bytes_map_</a>[base_page] += <span class="keyword">static_cast&lt;</span>int64_t<span class="keyword">&gt;</span>(<a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a33f1d2c6d8847884eac96eb913da9a99">marked_bytes</a>);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;}</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160; </div>
<div class="line"><a name="l00357"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1MutatorMarkingState.html">  357</a></span>&#160;<span class="keyword">class </span><a class="code" href="classcppgc_1_1internal_1_1MutatorMarkingState.html">MutatorMarkingState</a> final : <span class="keyword">public</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html">BasicMarkingState</a> {</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00359"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1MutatorMarkingState.html#a5c9a47eb30c15d1139665d5d2d9d50ba">  359</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1MutatorMarkingState.html#a5c9a47eb30c15d1139665d5d2d9d50ba">MutatorMarkingState</a>(<a class="code" href="classcppgc_1_1internal_1_1HeapBase.html">HeapBase</a>&amp; <a class="code" href="namespaceheap.html">heap</a>, <a class="code" href="classcppgc_1_1internal_1_1MarkingWorklists.html">MarkingWorklists</a>&amp; marking_worklists,</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                      <a class="code" href="classcppgc_1_1internal_1_1CompactionWorklists.html">CompactionWorklists</a>* compaction_worklists)</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;      : <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html">BasicMarkingState</a>(<a class="code" href="namespaceheap.html">heap</a>, marking_worklists, compaction_worklists),</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        retrace_marked_objects_worklist_(</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;            *marking_worklists.<a class="code" href="classcppgc_1_1internal_1_1MutatorMarkingState.html#a34831f2f1b7f108c73f5b994440cfdeb">retrace_marked_objects_worklist</a>()) {}</div>
<div class="line"><a name="l00364"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1MutatorMarkingState.html#a96618d94e36042d47a149e5fea8d2d19">  364</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1MutatorMarkingState.html#a96618d94e36042d47a149e5fea8d2d19">~MutatorMarkingState</a>() <span class="keyword">override</span> = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160; </div>
<div class="line"><a name="l00366"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1MutatorMarkingState.html#a95a872ea126234926678720420a1f1c2">  366</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classcppgc_1_1internal_1_1MutatorMarkingState.html#a95a872ea126234926678720420a1f1c2">MarkNoPush</a>(<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html">HeapObjectHeader</a>&amp; header) {</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="keywordflow">return</span> MutatorMarkingState::BasicMarkingState::MarkNoPush(header);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  }</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160; </div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1MutatorMarkingState.html#a5f1477371dd8290109a072d8eb434929">ReTraceMarkedWeakContainer</a>(<a class="code" href="classcppgc_1_1Visitor.html">cppgc::Visitor</a>&amp;, <a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html">HeapObjectHeader</a>&amp;);</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160; </div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1MutatorMarkingState.html#a02826267c51898f878add55c724c4129">DynamicallyMarkAddress</a>(<a class="code" href="namespacecppgc_1_1internal.html#a253e063701bfc4119e9fca7fe9800c32">ConstAddress</a>);</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160; </div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  <span class="comment">// Moves objects in not_fully_constructed_worklist_ to</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  <span class="comment">// previously_not_full_constructed_worklists_.</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1MutatorMarkingState.html#ac6928e01ffcf3f6c6a5a3496b3ee60e4">FlushNotFullyConstructedObjects</a>();</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160; </div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <span class="comment">// Moves ephemeron pairs in discovered_ephemeron_pairs_worklist_ to</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  <span class="comment">// ephemeron_pairs_for_processing_worklist_.</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1MutatorMarkingState.html#ae8748ae095b8989acaa51c1a387f0929">FlushDiscoveredEphemeronPairs</a>();</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160; </div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1MutatorMarkingState.html#a05597f4416b3e4466b4ba3dbb1b1cf65">InvokeWeakRootsCallbackIfNeeded</a>(<span class="keyword">const</span> <span class="keywordtype">void</span>*, <a class="code" href="structcppgc_1_1TraceDescriptor.html">TraceDescriptor</a>,</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                                              <a class="code" href="namespacecppgc.html#a4b906afac52d1ad451065c31124ec72a">WeakCallback</a>, <span class="keyword">const</span> <span class="keywordtype">void</span>*);</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160; </div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classcppgc_1_1internal_1_1MutatorMarkingState.html#a3adfd521090141a8f8747103591137d9">IsMarkedWeakContainer</a>(<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html">HeapObjectHeader</a>&amp;);</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160; </div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  MarkingWorklists::RetraceMarkedObjectsWorklist::Local&amp;</div>
<div class="line"><a name="l00388"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1MutatorMarkingState.html#a34831f2f1b7f108c73f5b994440cfdeb">  388</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1MutatorMarkingState.html#a34831f2f1b7f108c73f5b994440cfdeb">retrace_marked_objects_worklist</a>() {</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="keywordflow">return</span> retrace_marked_objects_worklist_;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  }</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160; </div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  <a class="code" href="src_2base_2macros_8h.html#ab08e353943a53678ac6baafc678f2d81">V8_EXPORT_PRIVATE</a> <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1MutatorMarkingState.html#a763d7e5ff6b50a8adb2f56cd148ba6f9">Publish</a>() <span class="keyword">override</span>;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160; </div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  <span class="comment">// Weak containers are strongly retraced during conservative stack scanning.</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  <span class="comment">// Stack scanning happens once per GC at the start of the atomic pause.</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  <span class="comment">// Because the visitor is not retained between GCs, there is no need to clear</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="comment">// the set at the end of GC.</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <span class="keyword">class </span>RecentlyRetracedWeakContainers {</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="keyword">static</span> constexpr <span class="keywordtype">size_t</span> kMaxCacheSize = 8;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160; </div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;   <span class="keyword">public</span>:</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="keyword">inline</span> <span class="keywordtype">bool</span> Contains(<span class="keyword">const</span> <a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html">HeapObjectHeader</a>*) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="keyword">inline</span> <span class="keywordtype">void</span> Insert(<span class="keyword">const</span> <a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html">HeapObjectHeader</a>*);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160; </div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;   <span class="keyword">private</span>:</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    std::vector&lt;const HeapObjectHeader*&gt; recently_retraced_cache_;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="keywordtype">size_t</span> last_used_index_ = -1;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  } recently_retraced_weak_containers_;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160; </div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  MarkingWorklists::RetraceMarkedObjectsWorklist::Local</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;      retrace_marked_objects_worklist_;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;};</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160; </div>
<div class="line"><a name="l00415"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1MutatorMarkingState.html#a5f1477371dd8290109a072d8eb434929">  415</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1MutatorMarkingState.html#a5f1477371dd8290109a072d8eb434929">MutatorMarkingState::ReTraceMarkedWeakContainer</a>(<a class="code" href="classcppgc_1_1Visitor.html">cppgc::Visitor</a>&amp; visitor,</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                                                     <a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html">HeapObjectHeader</a>&amp; header) {</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#aac63bd0e02e89783b528129fb3499c03">weak_containers_worklist_</a>.Contains&lt;<a class="code" href="namespacecppgc_1_1internal.html#ac0b40b7e4ac65024fbfcf57d01fa808ea726d9cf5163c50b3cf8e05800e3cef71">AccessMode::kAtomic</a>&gt;(&amp;header));</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  recently_retraced_weak_containers_.Insert(&amp;header);</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1MutatorMarkingState.html#a34831f2f1b7f108c73f5b994440cfdeb">retrace_marked_objects_worklist</a>().Push(&amp;header);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;}</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160; </div>
<div class="line"><a name="l00422"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1MutatorMarkingState.html#a02826267c51898f878add55c724c4129">  422</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1MutatorMarkingState.html#a02826267c51898f878add55c724c4129">MutatorMarkingState::DynamicallyMarkAddress</a>(<a class="code" href="namespacecppgc_1_1internal.html#a253e063701bfc4119e9fca7fe9800c32">ConstAddress</a> address) {</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html">HeapObjectHeader</a>&amp; header =</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;      <a class="code" href="classcppgc_1_1internal_1_1BasePage.html#aad13cafeed6c2ea494b7423b9c527b7a">BasePage::FromPayload</a>(address)-&gt;<a class="code" href="classcppgc_1_1internal_1_1BasePage.html#a3e4e942b9d1f96f27df335a9daaacf09">ObjectHeaderFromInnerAddress</a>(</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;          <span class="keyword">const_cast&lt;</span><a class="code" href="namespacecppgc_1_1internal.html#a5229c26742f473fcdcc68b715482635b">Address</a><span class="keyword">&gt;</span>(address));</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!header.<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a4964e49fd7dadd02205bcb66039f3c28">IsInConstruction</a>());</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classcppgc_1_1internal_1_1MutatorMarkingState.html#a95a872ea126234926678720420a1f1c2">MarkNoPush</a>(header)) {</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1MarkingStateBase.html#a327f81f59ab51961a806382fd875207b">marking_worklist_</a>.Push(</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        {<span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(header.<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a2f5a585893bb8836a77a5fdbf344a24a">ObjectStart</a>()),</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;         <a class="code" href="classcppgc_1_1internal_1_1GlobalGCInfoTable.html#a51ab53b3ff91cd29a2206e41a8ad7b67">GlobalGCInfoTable::GCInfoFromIndex</a>(header.<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a7390352abcea20d83a29d566d3968a9c">GetGCInfoIndex</a>()).<a class="code" href="structcppgc_1_1internal_1_1GCInfo.html#a38d648a24eb18de96f6f9b9b9bda4f09">trace</a>});</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  }</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;}</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160; </div>
<div class="line"><a name="l00434"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1MutatorMarkingState.html#a05597f4416b3e4466b4ba3dbb1b1cf65">  434</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1MutatorMarkingState.html#a05597f4416b3e4466b4ba3dbb1b1cf65">MutatorMarkingState::InvokeWeakRootsCallbackIfNeeded</a>(</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">void</span>* <span class="keywordtype">object</span>, <a class="code" href="structcppgc_1_1TraceDescriptor.html">TraceDescriptor</a> desc, <a class="code" href="namespacecppgc.html#a4b906afac52d1ad451065c31124ec72a">WeakCallback</a> weak_callback,</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">void</span>* parameter) {</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  <span class="comment">// Since weak roots are only traced at the end of marking, we can execute</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  <span class="comment">// the callback instead of registering it.</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  <span class="keyword">const</span> <a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html">HeapObjectHeader</a>&amp; header =</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;      <a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a04b955c04b80d2a431dc2b96e4a85028">HeapObjectHeader::FromObject</a>(desc.<a class="code" href="structcppgc_1_1TraceDescriptor.html#a0de2d2b4cf5fe1ec48fc9d6f2e20f2f9">base_object_payload</a>);</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(header.<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a4964e49fd7dadd02205bcb66039f3c28">IsInConstruction</a>(),</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                 header.<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a328d2dfc7af3a7a8bd7f7618a3a41699">IsMarked</a>&lt;<a class="code" href="namespacecppgc_1_1internal.html#ac0b40b7e4ac65024fbfcf57d01fa808ea726d9cf5163c50b3cf8e05800e3cef71">AccessMode::kAtomic</a>&gt;());</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// DEBUG</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  weak_callback(<a class="code" href="classcppgc_1_1internal_1_1LivenessBrokerFactory.html#a164a90df7b416df21633caa893572791">LivenessBrokerFactory::Create</a>(), parameter);</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;}</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160; </div>
<div class="line"><a name="l00448"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1MutatorMarkingState.html#a3adfd521090141a8f8747103591137d9">  448</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classcppgc_1_1internal_1_1MutatorMarkingState.html#a3adfd521090141a8f8747103591137d9">MutatorMarkingState::IsMarkedWeakContainer</a>(<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html">HeapObjectHeader</a>&amp; header) {</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a> =</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;      <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#aac63bd0e02e89783b528129fb3499c03">weak_containers_worklist_</a>.Contains&lt;<a class="code" href="namespacecppgc_1_1internal.html#ac0b40b7e4ac65024fbfcf57d01fa808ea726d9cf5163c50b3cf8e05800e3cef71">AccessMode::kAtomic</a>&gt;(&amp;header) &amp;&amp;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;      !recently_retraced_weak_containers_.Contains(&amp;header);</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(<a class="code" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>, header.<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a328d2dfc7af3a7a8bd7f7618a3a41699">IsMarked</a>&lt;<a class="code" href="namespacecppgc_1_1internal.html#ac0b40b7e4ac65024fbfcf57d01fa808ea726d9cf5163c50b3cf8e05800e3cef71">AccessMode::kAtomic</a>&gt;());</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(<a class="code" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>, !header.<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a4964e49fd7dadd02205bcb66039f3c28">IsInConstruction</a>());</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;}</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160; </div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="keywordtype">bool</span> MutatorMarkingState::RecentlyRetracedWeakContainers::Contains(</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="keyword">const</span> <a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html">HeapObjectHeader</a>* header)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  <span class="keywordflow">return</span> std::find(recently_retraced_cache_.begin(),</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                   recently_retraced_cache_.end(),</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                   header) != recently_retraced_cache_.<a class="code" href="classv8_1_1internal_1_1ZoneVector.html#aafcc5efeba17a85b82dc9ad4d2547442">end</a>();</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;}</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160; </div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="keywordtype">void</span> MutatorMarkingState::RecentlyRetracedWeakContainers::Insert(</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <span class="keyword">const</span> HeapObjectHeader* header) {</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  last_used_index_ = (last_used_index_ + 1) % kMaxCacheSize;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <span class="keywordflow">if</span> (recently_retraced_cache_.size() &lt;= last_used_index_)</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    recently_retraced_cache_.push_back(header);</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    recently_retraced_cache_[last_used_index_] = header;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;}</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160; </div>
<div class="line"><a name="l00473"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1ConcurrentMarkingState.html">  473</a></span>&#160;<span class="keyword">class </span><a class="code" href="classcppgc_1_1internal_1_1ConcurrentMarkingState.html">ConcurrentMarkingState</a> final : <span class="keyword">public</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html">BasicMarkingState</a> {</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00475"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1ConcurrentMarkingState.html#a99985f7dce54dcfd6bade52e6dd7d0d4">  475</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1ConcurrentMarkingState.html#a99985f7dce54dcfd6bade52e6dd7d0d4">ConcurrentMarkingState</a>(<a class="code" href="classcppgc_1_1internal_1_1HeapBase.html">HeapBase</a>&amp; <a class="code" href="namespaceheap.html">heap</a>, <a class="code" href="classcppgc_1_1internal_1_1MarkingWorklists.html">MarkingWorklists</a>&amp; marking_worklists,</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                         <a class="code" href="classcppgc_1_1internal_1_1CompactionWorklists.html">CompactionWorklists</a>* compaction_worklists)</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;      : <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html">BasicMarkingState</a>(<a class="code" href="namespaceheap.html">heap</a>, marking_worklists, compaction_worklists) {}</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160; </div>
<div class="line"><a name="l00479"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1ConcurrentMarkingState.html#a5fce50632832d03c1dcbb111f0303d65">  479</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1ConcurrentMarkingState.html#a5fce50632832d03c1dcbb111f0303d65">~ConcurrentMarkingState</a>() <span class="keyword">override</span> = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160; </div>
<div class="line"><a name="l00481"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1ConcurrentMarkingState.html#a7601286d8718bc76bda51c7844a48c79">  481</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1ConcurrentMarkingState.html#a7601286d8718bc76bda51c7844a48c79">AccountDeferredMarkedBytes</a>(<a class="code" href="classcppgc_1_1internal_1_1BasePage.html">BasePage</a>* base_page,</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                                         <span class="keywordtype">size_t</span> deferred_bytes) {</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="comment">// AccountDeferredMarkedBytes is called from Trace methods, which are always</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="comment">// called after AccountMarkedBytes, so there should be no underflow here.</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(deferred_bytes, <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a5e4cce35b958d86f9c3ae70289c5da2c">marked_bytes_</a>);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a5e4cce35b958d86f9c3ae70289c5da2c">marked_bytes_</a> -= deferred_bytes;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1BasicMarkingState.html#a326d2f437a8fb0983473a656b0485ed2">marked_bytes_map_</a>[base_page] -= <span class="keyword">static_cast&lt;</span>int64_t<span class="keyword">&gt;</span>(deferred_bytes);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  }</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;};</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160; </div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="keyword">template</span> &lt;<span class="keywordtype">size_t</span> kDeadlineCheckInterval, <span class="keyword">typename</span> Predicate,</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;          <span class="keyword">typename</span> CreateStatsScopeCallback, <span class="keyword">typename</span> WorklistLocal,</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;          <span class="keyword">typename</span> ProcessWorklistItemCallback&gt;</div>
<div class="line"><a name="l00494"></a><span class="lineno"><a class="line" href="namespacecppgc_1_1internal.html#a5cc75824c84036134ec64ff2754dbad0">  494</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacecppgc_1_1internal.html#a5cc75824c84036134ec64ff2754dbad0">DrainWorklistWithPredicate</a>(</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    Predicate ShouldYield, CreateStatsScopeCallback CreateStatsScope,</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    WorklistLocal&amp; worklist_local,</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    ProcessWorklistItemCallback ProcessWorklistItem) {</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <span class="keywordflow">if</span> (worklist_local.IsLocalAndGlobalEmpty()) {</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  }</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  <span class="keywordflow">if</span> (ShouldYield()) {</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  }</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> stats_scope = CreateStatsScope();</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  <span class="keywordtype">size_t</span> processed_callback_count = kDeadlineCheckInterval;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  <span class="keyword">typename</span> WorklistLocal::ItemType item;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  <span class="keywordflow">while</span> (worklist_local.Pop(&amp;item)) {</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    ProcessWorklistItem(item);</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a>(--processed_callback_count == 0)) {</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;      <span class="keywordflow">if</span> (ShouldYield()) {</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;      }</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;      processed_callback_count = kDeadlineCheckInterval;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    }</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  }</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;}</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160; </div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<span class="keyword">template</span> &lt;AccessMode mode&gt;</div>
<div class="line"><a name="l00520"></a><span class="lineno"><a class="line" href="namespacecppgc_1_1internal.html#a12a25251147db068a96f3550e5b4ccbf">  520</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacecppgc_1_1internal.html#a12a25251147db068a96f3550e5b4ccbf">DynamicallyTraceMarkedObject</a>(<a class="code" href="classcppgc_1_1Visitor.html">Visitor</a>&amp; visitor,</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                                  <span class="keyword">const</span> <a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html">HeapObjectHeader</a>&amp; header) {</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!header.<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a4964e49fd7dadd02205bcb66039f3c28">IsInConstruction</a>&lt;<a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a>&gt;());</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(header.<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a328d2dfc7af3a7a8bd7f7618a3a41699">IsMarked</a>&lt;<a class="code" href="namespacecppgc_1_1internal.html#ac0b40b7e4ac65024fbfcf57d01fa808ea726d9cf5163c50b3cf8e05800e3cef71">AccessMode::kAtomic</a>&gt;());</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  header.<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a1e6d8a878729f18fa1bb5210af9edf65">TraceImpl</a>&lt;<a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a>&gt;(&amp;visitor);</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;}</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160; </div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;}  <span class="comment">// namespace internal</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;}  <span class="comment">// namespace cppgc</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160; </div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_HEAP_CPPGC_MARKING_STATE_H_</span></div>
<div class="ttc" id="abuiltins_8cc_html_ad2a98ce8e8b889a9843d6839653a11a1"><div class="ttname"><a href="builtins_8cc.html#ad2a98ce8e8b889a9843d6839653a11a1">data</a></div><div class="ttdeci">union v8::internal::@350::BuiltinMetadata::KindSpecificData data</div></div>
<div class="ttc" id="acached-unordered-map_8h_html"><div class="ttname"><a href="cached-unordered-map_8h.html">cached-unordered-map.h</a></div></div>
<div class="ttc" id="aclasscppgc_1_1Visitor_html"><div class="ttname"><a href="classcppgc_1_1Visitor.html">cppgc::Visitor</a></div><div class="ttdef"><b>Definition:</b> include/cppgc/visitor.h:75</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasePage_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasePage.html">cppgc::internal::BasePage</a></div><div class="ttdef"><b>Definition:</b> heap-page.h:30</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasePage_html_a3e4e942b9d1f96f27df335a9daaacf09"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasePage.html#a3e4e942b9d1f96f27df335a9daaacf09">cppgc::internal::BasePage::ObjectHeaderFromInnerAddress</a></div><div class="ttdeci">HeapObjectHeader &amp; ObjectHeaderFromInnerAddress(void *address) const</div><div class="ttdef"><b>Definition:</b> heap-page.h:339</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasePage_html_aad13cafeed6c2ea494b7423b9c527b7a"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasePage.html#aad13cafeed6c2ea494b7423b9c527b7a">cppgc::internal::BasePage::FromPayload</a></div><div class="ttdeci">static BasePage * FromPayload(void *)</div><div class="ttdef"><b>Definition:</b> heap-page.h:314</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicMarkingState_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicMarkingState.html">cppgc::internal::BasicMarkingState</a></div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:112</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicMarkingState_html_a03800fd2812c339eb433711b87266103"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicMarkingState.html#a03800fd2812c339eb433711b87266103">cppgc::internal::BasicMarkingState::ephemeron_pairs_for_processing_worklist</a></div><div class="ttdeci">MarkingWorklists::EphemeronPairsWorklist::Local &amp; ephemeron_pairs_for_processing_worklist()</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:185</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicMarkingState_html_a04a21fb664fd2b30ae70a0c6447365e4"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicMarkingState.html#a04a21fb664fd2b30ae70a0c6447365e4">cppgc::internal::BasicMarkingState::write_barrier_worklist</a></div><div class="ttdeci">MarkingWorklists::WriteBarrierWorklist::Local &amp; write_barrier_worklist()</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:173</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicMarkingState_html_a0623a5a0cbc0c18fb1f70dcec719044b"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicMarkingState.html#a0623a5a0cbc0c18fb1f70dcec719044b">cppgc::internal::BasicMarkingState::DidDiscoverNewEphemeronPairs</a></div><div class="ttdeci">bool DidDiscoverNewEphemeronPairs() const</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:197</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicMarkingState_html_a0830cd4cb3869fa644ffbdf94cad27ff"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicMarkingState.html#a0830cd4cb3869fa644ffbdf94cad27ff">cppgc::internal::BasicMarkingState::BasicMarkingState</a></div><div class="ttdeci">BasicMarkingState(HeapBase &amp;heap, MarkingWorklists &amp;, CompactionWorklists *)</div><div class="ttdef"><b>Definition:</b> marking-state.cc:17</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicMarkingState_html_a0f6b94cf553d9f2886395c8023aa9eba"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicMarkingState.html#a0f6b94cf553d9f2886395c8023aa9eba">cppgc::internal::BasicMarkingState::RegisterWeakCustomCallback</a></div><div class="ttdeci">void RegisterWeakCustomCallback(WeakCallback, const void *)</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:260</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicMarkingState_html_a1ff6c55668f08a969b09d1c40c7c1d28"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicMarkingState.html#a1ff6c55668f08a969b09d1c40c7c1d28">cppgc::internal::BasicMarkingState::discovered_ephemeron_pairs_worklist_</a></div><div class="ttdeci">MarkingWorklists::EphemeronPairsWorklist::Local discovered_ephemeron_pairs_worklist_</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:222</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicMarkingState_html_a2950deeaf05c23ccc3f5cf4438316730"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicMarkingState.html#a2950deeaf05c23ccc3f5cf4438316730">cppgc::internal::BasicMarkingState::in_atomic_pause_</a></div><div class="ttdeci">bool in_atomic_pause_</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:235</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicMarkingState_html_a295ec4304e4c8065b4e530d6133a0e1e"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicMarkingState.html#a295ec4304e4c8065b4e530d6133a0e1e">cppgc::internal::BasicMarkingState::Publish</a></div><div class="ttdeci">V8_EXPORT_PRIVATE void Publish() override</div><div class="ttdef"><b>Definition:</b> marking-state.cc:48</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicMarkingState_html_a326d2f437a8fb0983473a656b0485ed2"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicMarkingState.html#a326d2f437a8fb0983473a656b0485ed2">cppgc::internal::BasicMarkingState::marked_bytes_map_</a></div><div class="ttdeci">heap::base::CachedUnorderedMap&lt; BasePage *, int64_t, v8::base::hash&lt; BasePage * &gt; &gt; marked_bytes_map_</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:237</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicMarkingState_html_a33b4db5f322ca17fa64b5df8a8bb9ff5"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicMarkingState.html#a33b4db5f322ca17fa64b5df8a8bb9ff5">cppgc::internal::BasicMarkingState::RegisterWeakReferenceIfNeeded</a></div><div class="ttdeci">void RegisterWeakReferenceIfNeeded(const void *, TraceDescriptor, WeakCallback, const void *)</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:240</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicMarkingState_html_a33f1d2c6d8847884eac96eb913da9a99"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicMarkingState.html#a33f1d2c6d8847884eac96eb913da9a99">cppgc::internal::BasicMarkingState::marked_bytes</a></div><div class="ttdeci">size_t marked_bytes() const</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:148</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicMarkingState_html_a4bdaa06cfc58c8b271c2e0003bccb0ee"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicMarkingState.html#a4bdaa06cfc58c8b271c2e0003bccb0ee">cppgc::internal::BasicMarkingState::set_in_atomic_pause</a></div><div class="ttdeci">void set_in_atomic_pause()</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:205</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicMarkingState_html_a4c99b8a606468a7f3dba67209c63100c"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicMarkingState.html#a4c99b8a606468a7f3dba67209c63100c">cppgc::internal::BasicMarkingState::operator=</a></div><div class="ttdeci">BasicMarkingState &amp; operator=(const BasicMarkingState &amp;)=delete</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicMarkingState_html_a5a4da8effccaf636a5ff734d9fa454ec"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicMarkingState.html#a5a4da8effccaf636a5ff734d9fa454ec">cppgc::internal::BasicMarkingState::discovered_ephemeron_pairs_worklist</a></div><div class="ttdeci">MarkingWorklists::EphemeronPairsWorklist::Local &amp; discovered_ephemeron_pairs_worklist()</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:181</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicMarkingState_html_a5e4cce35b958d86f9c3ae70289c5da2c"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicMarkingState.html#a5e4cce35b958d86f9c3ae70289c5da2c">cppgc::internal::BasicMarkingState::marked_bytes_</a></div><div class="ttdeci">size_t marked_bytes_</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:231</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicMarkingState_html_a6a93e2c0d0591a9fdd82826794924ee4"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicMarkingState.html#a6a93e2c0d0591a9fdd82826794924ee4">cppgc::internal::BasicMarkingState::~BasicMarkingState</a></div><div class="ttdeci">~BasicMarkingState() override</div><div class="ttdef"><b>Definition:</b> marking-state.cc:44</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicMarkingState_html_a83ffc8319e988ea927ec533b2efb8226"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicMarkingState.html#a83ffc8319e988ea927ec533b2efb8226">cppgc::internal::BasicMarkingState::weak_custom_callback_worklist</a></div><div class="ttdeci">MarkingWorklists::WeakCustomCallbackWorklist::Local &amp; weak_custom_callback_worklist()</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:170</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicMarkingState_html_a8873a98df1a56889c695e2756fb3ed9c"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicMarkingState.html#a8873a98df1a56889c695e2756fb3ed9c">cppgc::internal::BasicMarkingState::movable_slots_worklist</a></div><div class="ttdeci">CompactionWorklists::MovableReferencesWorklist::Local * movable_slots_worklist()</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:193</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicMarkingState_html_a88ec3dbcc6b68457d4e707ba01b3512e"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicMarkingState.html#a88ec3dbcc6b68457d4e707ba01b3512e">cppgc::internal::BasicMarkingState::RegisterMovableReference</a></div><div class="ttdeci">void RegisterMovableReference(const void **slot)</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:125</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicMarkingState_html_a92dbbea59bb10462f388276fbd9b758a"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicMarkingState.html#a92dbbea59bb10462f388276fbd9b758a">cppgc::internal::BasicMarkingState::ResetDidDiscoverNewEphemeronPairs</a></div><div class="ttdeci">void ResetDidDiscoverNewEphemeronPairs()</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:201</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicMarkingState_html_a9fcd517d3dd5812b30318550e1ae6166"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicMarkingState.html#a9fcd517d3dd5812b30318550e1ae6166">cppgc::internal::BasicMarkingState::movable_slots_worklist_</a></div><div class="ttdeci">std::unique_ptr&lt; CompactionWorklists::MovableReferencesWorklist::Local &gt; movable_slots_worklist_</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:229</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicMarkingState_html_aa5aeb3d659e049d4c00f5a41101682fb"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicMarkingState.html#aa5aeb3d659e049d4c00f5a41101682fb">cppgc::internal::BasicMarkingState::write_barrier_worklist_</a></div><div class="ttdeci">MarkingWorklists::WriteBarrierWorklist::Local write_barrier_worklist_</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:218</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicMarkingState_html_aab79aec3fbda650371feeedd964e71aa"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicMarkingState.html#aab79aec3fbda650371feeedd964e71aa">cppgc::internal::BasicMarkingState::previously_not_fully_constructed_worklist_</a></div><div class="ttdeci">MarkingWorklists::PreviouslyNotFullyConstructedWorklist::Local previously_not_fully_constructed_worklist_</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:211</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicMarkingState_html_aac63bd0e02e89783b528129fb3499c03"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicMarkingState.html#aac63bd0e02e89783b528129fb3499c03">cppgc::internal::BasicMarkingState::weak_containers_worklist_</a></div><div class="ttdeci">MarkingWorklists::WeakContainersWorklist &amp; weak_containers_worklist_</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:225</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicMarkingState_html_aac7d7944698a840fe08af5df4805d259"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicMarkingState.html#aac7d7944698a840fe08af5df4805d259">cppgc::internal::BasicMarkingState::previously_not_fully_constructed_worklist</a></div><div class="ttdeci">MarkingWorklists::PreviouslyNotFullyConstructedWorklist::Local &amp; previously_not_fully_constructed_worklist()</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:158</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicMarkingState_html_aadc15e182c2605b8c2661826b002a1ed"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicMarkingState.html#aadc15e182c2605b8c2661826b002a1ed">cppgc::internal::BasicMarkingState::RecentlyMarkedBytes</a></div><div class="ttdeci">size_t RecentlyMarkedBytes()</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:151</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicMarkingState_html_aaec2c73a124ac932363ecb4154291e0d"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicMarkingState.html#aaec2c73a124ac932363ecb4154291e0d">cppgc::internal::BasicMarkingState::RegisterWeakContainerCallback</a></div><div class="ttdeci">void RegisterWeakContainerCallback(WeakCallback, const void *)</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:254</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicMarkingState_html_aaf6aa78a3ea7e608f4d683db3dfd8311"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicMarkingState.html#aaf6aa78a3ea7e608f4d683db3dfd8311">cppgc::internal::BasicMarkingState::weak_containers_worklist</a></div><div class="ttdeci">MarkingWorklists::WeakContainersWorklist &amp; weak_containers_worklist()</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:188</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicMarkingState_html_ab360b0c8c3a549f62d7dd612efa022ab"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicMarkingState.html#ab360b0c8c3a549f62d7dd612efa022ab">cppgc::internal::BasicMarkingState::ProcessEphemeron</a></div><div class="ttdeci">void ProcessEphemeron(const void *, const void *, TraceDescriptor, Visitor &amp;)</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:306</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicMarkingState_html_abe428c3553810e7b2ca5bf092b3ccdb6"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicMarkingState.html#abe428c3553810e7b2ca5bf092b3ccdb6">cppgc::internal::BasicMarkingState::last_marked_bytes_</a></div><div class="ttdeci">size_t last_marked_bytes_</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:232</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicMarkingState_html_ac741d976d8fcacc510113103357e9077"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicMarkingState.html#ac741d976d8fcacc510113103357e9077">cppgc::internal::BasicMarkingState::ProcessWeakContainer</a></div><div class="ttdeci">void ProcessWeakContainer(const void *, TraceDescriptor, WeakCallback, const void *)</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:270</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicMarkingState_html_ac84539d3434dc265110bd5ff951837b7"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicMarkingState.html#ac84539d3434dc265110bd5ff951837b7">cppgc::internal::BasicMarkingState::RegisterWeakContainer</a></div><div class="ttdeci">void RegisterWeakContainer(HeapObjectHeader &amp;)</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:266</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicMarkingState_html_acd300ada9c3d550baeb649be4555fca7"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicMarkingState.html#acd300ada9c3d550baeb649be4555fca7">cppgc::internal::BasicMarkingState::ephemeron_pairs_for_processing_worklist_</a></div><div class="ttdeci">MarkingWorklists::EphemeronPairsWorklist::Local ephemeron_pairs_for_processing_worklist_</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:224</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicMarkingState_html_ace509e038005bf56b799c486667f03d2"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicMarkingState.html#ace509e038005bf56b799c486667f03d2">cppgc::internal::BasicMarkingState::weak_custom_callback_worklist_</a></div><div class="ttdeci">MarkingWorklists::WeakCustomCallbackWorklist::Local weak_custom_callback_worklist_</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:217</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicMarkingState_html_acfed15676ae37dfe9285705ed97663c7"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicMarkingState.html#acfed15676ae37dfe9285705ed97663c7">cppgc::internal::BasicMarkingState::in_ephemeron_processing_</a></div><div class="ttdeci">bool in_ephemeron_processing_</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:233</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicMarkingState_html_ad3c6f2ecb14f9e9cffb235cefd4bc6e8"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicMarkingState.html#ad3c6f2ecb14f9e9cffb235cefd4bc6e8">cppgc::internal::BasicMarkingState::BasicMarkingState</a></div><div class="ttdeci">BasicMarkingState(const BasicMarkingState &amp;)=delete</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicMarkingState_html_ad5b8428a377b4f5f9d66672f6c43e9ed"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicMarkingState.html#ad5b8428a377b4f5f9d66672f6c43e9ed">cppgc::internal::BasicMarkingState::discovered_new_ephemeron_pairs_</a></div><div class="ttdeci">bool discovered_new_ephemeron_pairs_</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:234</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicMarkingState_html_adffe612a550f8b37846fa2867a7a9d8f"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicMarkingState.html#adffe612a550f8b37846fa2867a7a9d8f">cppgc::internal::BasicMarkingState::parallel_weak_callback_worklist</a></div><div class="ttdeci">MarkingWorklists::WeakCallbackWorklist::Local &amp; parallel_weak_callback_worklist()</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:166</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicMarkingState_html_ae375e71c6efbb3708fe2dd25384cfbcd"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicMarkingState.html#ae375e71c6efbb3708fe2dd25384cfbcd">cppgc::internal::BasicMarkingState::concurrent_marking_bailout_worklist_</a></div><div class="ttdeci">MarkingWorklists::ConcurrentMarkingBailoutWorklist::Local concurrent_marking_bailout_worklist_</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:220</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicMarkingState_html_ae3955e7623ab9fa2843e89efac262b00"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicMarkingState.html#ae3955e7623ab9fa2843e89efac262b00">cppgc::internal::BasicMarkingState::weak_container_callback_worklist_</a></div><div class="ttdeci">MarkingWorklists::WeakCallbackWorklist::Local weak_container_callback_worklist_</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:213</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicMarkingState_html_af0087296a505ce9cd0f0a1871735e2a5"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicMarkingState.html#af0087296a505ce9cd0f0a1871735e2a5">cppgc::internal::BasicMarkingState::AccountMarkedBytes</a></div><div class="ttdeci">void AccountMarkedBytes(const HeapObjectHeader &amp;)</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:340</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicMarkingState_html_af01ee7e623282cd6fc684092ab5ca27f"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicMarkingState.html#af01ee7e623282cd6fc684092ab5ca27f">cppgc::internal::BasicMarkingState::parallel_weak_callback_worklist_</a></div><div class="ttdeci">MarkingWorklists::WeakCallbackWorklist::Local parallel_weak_callback_worklist_</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:215</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicMarkingState_html_af094e4c7dedf3e28c0a101bbe4dc7f48"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicMarkingState.html#af094e4c7dedf3e28c0a101bbe4dc7f48">cppgc::internal::BasicMarkingState::weak_container_callback_worklist</a></div><div class="ttdeci">MarkingWorklists::WeakCallbackWorklist::Local &amp; weak_container_callback_worklist()</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:162</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicMarkingState_html_aff56008478c53d8ef52d4b23edb17fbd"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicMarkingState.html#aff56008478c53d8ef52d4b23edb17fbd">cppgc::internal::BasicMarkingState::concurrent_marking_bailout_worklist</a></div><div class="ttdeci">MarkingWorklists::ConcurrentMarkingBailoutWorklist::Local &amp; concurrent_marking_bailout_worklist()</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:177</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1CompactionWorklists_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1CompactionWorklists.html">cppgc::internal::CompactionWorklists</a></div><div class="ttdef"><b>Definition:</b> compaction-worklists.h:15</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1ConcurrentMarkingState_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1ConcurrentMarkingState.html">cppgc::internal::ConcurrentMarkingState</a></div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:473</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1ConcurrentMarkingState_html_a5fce50632832d03c1dcbb111f0303d65"><div class="ttname"><a href="classcppgc_1_1internal_1_1ConcurrentMarkingState.html#a5fce50632832d03c1dcbb111f0303d65">cppgc::internal::ConcurrentMarkingState::~ConcurrentMarkingState</a></div><div class="ttdeci">~ConcurrentMarkingState() override=default</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1ConcurrentMarkingState_html_a7601286d8718bc76bda51c7844a48c79"><div class="ttname"><a href="classcppgc_1_1internal_1_1ConcurrentMarkingState.html#a7601286d8718bc76bda51c7844a48c79">cppgc::internal::ConcurrentMarkingState::AccountDeferredMarkedBytes</a></div><div class="ttdeci">void AccountDeferredMarkedBytes(BasePage *base_page, size_t deferred_bytes)</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:481</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1ConcurrentMarkingState_html_a99985f7dce54dcfd6bade52e6dd7d0d4"><div class="ttname"><a href="classcppgc_1_1internal_1_1ConcurrentMarkingState.html#a99985f7dce54dcfd6bade52e6dd7d0d4">cppgc::internal::ConcurrentMarkingState::ConcurrentMarkingState</a></div><div class="ttdeci">ConcurrentMarkingState(HeapBase &amp;heap, MarkingWorklists &amp;marking_worklists, CompactionWorklists *compaction_worklists)</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:475</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1GlobalGCInfoTable_html_a51ab53b3ff91cd29a2206e41a8ad7b67"><div class="ttname"><a href="classcppgc_1_1internal_1_1GlobalGCInfoTable.html#a51ab53b3ff91cd29a2206e41a8ad7b67">cppgc::internal::GlobalGCInfoTable::GCInfoFromIndex</a></div><div class="ttdeci">static const GCInfo &amp; GCInfoFromIndex(GCInfoIndex index)</div><div class="ttdef"><b>Definition:</b> gc-info-table.h:115</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapBase_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapBase.html">cppgc::internal::HeapBase</a></div><div class="ttdef"><b>Definition:</b> heap-base.h:82</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapObjectHeader_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapObjectHeader.html">cppgc::internal::HeapObjectHeader</a></div><div class="ttdef"><b>Definition:</b> heap-object-header.h:58</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapObjectHeader_html_a04b955c04b80d2a431dc2b96e4a85028"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a04b955c04b80d2a431dc2b96e4a85028">cppgc::internal::HeapObjectHeader::FromObject</a></div><div class="ttdeci">static HeapObjectHeader &amp; FromObject(void *address)</div><div class="ttdef"><b>Definition:</b> heap-object-header.h:174</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapObjectHeader_html_a1e6d8a878729f18fa1bb5210af9edf65"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a1e6d8a878729f18fa1bb5210af9edf65">cppgc::internal::HeapObjectHeader::TraceImpl</a></div><div class="ttdeci">void TraceImpl(Visitor *) const</div><div class="ttdef"><b>Definition:</b> heap-object-header.h:343</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapObjectHeader_html_a2f5a585893bb8836a77a5fdbf344a24a"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a2f5a585893bb8836a77a5fdbf344a24a">cppgc::internal::HeapObjectHeader::ObjectStart</a></div><div class="ttdeci">Address ObjectStart() const</div><div class="ttdef"><b>Definition:</b> heap-object-header.h:208</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapObjectHeader_html_a328d2dfc7af3a7a8bd7f7618a3a41699"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a328d2dfc7af3a7a8bd7f7618a3a41699">cppgc::internal::HeapObjectHeader::IsMarked</a></div><div class="ttdeci">bool IsMarked() const</div><div class="ttdef"><b>Definition:</b> heap-object-header.h:270</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapObjectHeader_html_a38bd7c0ef4a16d993c2c95be6843415b"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a38bd7c0ef4a16d993c2c95be6843415b">cppgc::internal::HeapObjectHeader::AllocatedSize</a></div><div class="ttdeci">size_t AllocatedSize() const</div><div class="ttdef"><b>Definition:</b> heap-object-header.h:228</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapObjectHeader_html_a4964e49fd7dadd02205bcb66039f3c28"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a4964e49fd7dadd02205bcb66039f3c28">cppgc::internal::HeapObjectHeader::IsInConstruction</a></div><div class="ttdeci">bool IsInConstruction() const</div><div class="ttdef"><b>Definition:</b> heap-object-header.h:263</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapObjectHeader_html_a7390352abcea20d83a29d566d3968a9c"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a7390352abcea20d83a29d566d3968a9c">cppgc::internal::HeapObjectHeader::GetGCInfoIndex</a></div><div class="ttdeci">GCInfoIndex GetGCInfoIndex() const</div><div class="ttdef"><b>Definition:</b> heap-object-header.h:221</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapObjectHeader_html_a79d0b3366f5a6d465309c4301d61f31e"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a79d0b3366f5a6d465309c4301d61f31e">cppgc::internal::HeapObjectHeader::TryMarkAtomic</a></div><div class="ttdeci">bool TryMarkAtomic()</div><div class="ttdef"><b>Definition:</b> heap-object-header.h:283</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapObjectHeader_html_ac1ca63d90cf4d83f013faae430d6617b"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapObjectHeader.html#ac1ca63d90cf4d83f013faae430d6617b">cppgc::internal::HeapObjectHeader::IsFree</a></div><div class="ttdeci">bool IsFree() const</div><div class="ttdef"><b>Definition:</b> heap-object-header.h:305</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapObjectHeader_html_acb8d93ca4a7c69792f6c369622745255"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapObjectHeader.html#acb8d93ca4a7c69792f6c369622745255">cppgc::internal::HeapObjectHeader::IsLargeObject</a></div><div class="ttdeci">bool IsLargeObject() const</div><div class="ttdef"><b>Definition:</b> heap-object-header.h:258</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1LargePage_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1LargePage.html">cppgc::internal::LargePage</a></div><div class="ttdef"><b>Definition:</b> heap-page.h:256</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1LivenessBrokerFactory_html_a164a90df7b416df21633caa893572791"><div class="ttname"><a href="classcppgc_1_1internal_1_1LivenessBrokerFactory.html#a164a90df7b416df21633caa893572791">cppgc::internal::LivenessBrokerFactory::Create</a></div><div class="ttdeci">static LivenessBroker Create()</div><div class="ttdef"><b>Definition:</b> liveness-broker.cc:18</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1MarkingStateBase_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1MarkingStateBase.html">cppgc::internal::MarkingStateBase</a></div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:27</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1MarkingStateBase_html_a0dc980dd1bacd48bb06498e19b878db8"><div class="ttname"><a href="classcppgc_1_1internal_1_1MarkingStateBase.html#a0dc980dd1bacd48bb06498e19b878db8">cppgc::internal::MarkingStateBase::Publish</a></div><div class="ttdeci">virtual V8_EXPORT_PRIVATE void Publish()</div><div class="ttdef"><b>Definition:</b> marking-state.cc:15</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1MarkingStateBase_html_a14d035ff1ce92df34ea54a3869a4cb92"><div class="ttname"><a href="classcppgc_1_1internal_1_1MarkingStateBase.html#a14d035ff1ce92df34ea54a3869a4cb92">cppgc::internal::MarkingStateBase::MarkingStateBase</a></div><div class="ttdeci">MarkingStateBase(const MarkingStateBase &amp;)=delete</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1MarkingStateBase_html_a327f81f59ab51961a806382fd875207b"><div class="ttname"><a href="classcppgc_1_1internal_1_1MarkingStateBase.html#a327f81f59ab51961a806382fd875207b">cppgc::internal::MarkingStateBase::marking_worklist_</a></div><div class="ttdeci">MarkingWorklists::MarkingWorklist::Local marking_worklist_</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:57</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1MarkingStateBase_html_a4185db3c0e19342f224986cec423ae27"><div class="ttname"><a href="classcppgc_1_1internal_1_1MarkingStateBase.html#a4185db3c0e19342f224986cec423ae27">cppgc::internal::MarkingStateBase::MarkAndPush</a></div><div class="ttdeci">void MarkAndPush(const void *, TraceDescriptor)</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:69</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1MarkingStateBase_html_a45d1744a1cbf4e156e2455a1a28f598b"><div class="ttname"><a href="classcppgc_1_1internal_1_1MarkingStateBase.html#a45d1744a1cbf4e156e2455a1a28f598b">cppgc::internal::MarkingStateBase::PushMarked</a></div><div class="ttdeci">void PushMarked(HeapObjectHeader &amp;, TraceDescriptor desc)</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:103</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1MarkingStateBase_html_a7c0eb785a472e8fed41fae068d7142fe"><div class="ttname"><a href="classcppgc_1_1internal_1_1MarkingStateBase.html#a7c0eb785a472e8fed41fae068d7142fe">cppgc::internal::MarkingStateBase::~MarkingStateBase</a></div><div class="ttdeci">virtual ~MarkingStateBase()=default</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1MarkingStateBase_html_aa9c151656cb8d785d70be895cd16169e"><div class="ttname"><a href="classcppgc_1_1internal_1_1MarkingStateBase.html#aa9c151656cb8d785d70be895cd16169e">cppgc::internal::MarkingStateBase::not_fully_constructed_worklist</a></div><div class="ttdeci">MarkingWorklists::NotFullyConstructedWorklist &amp; not_fully_constructed_worklist()</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:46</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1MarkingStateBase_html_aaf72adb08f6a2d9db1a3faac37b4148b"><div class="ttname"><a href="classcppgc_1_1internal_1_1MarkingStateBase.html#aaf72adb08f6a2d9db1a3faac37b4148b">cppgc::internal::MarkingStateBase::not_fully_constructed_worklist_</a></div><div class="ttdeci">MarkingWorklists::NotFullyConstructedWorklist &amp; not_fully_constructed_worklist_</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:59</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1MarkingStateBase_html_ab4f274754e249dcb91ff5e9c9d3cd2c4"><div class="ttname"><a href="classcppgc_1_1internal_1_1MarkingStateBase.html#ab4f274754e249dcb91ff5e9c9d3cd2c4">cppgc::internal::MarkingStateBase::heap_</a></div><div class="ttdeci">HeapBase &amp; heap_</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:55</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1MarkingStateBase_html_adc3b079b0b2b770674aaa8248a3b684a"><div class="ttname"><a href="classcppgc_1_1internal_1_1MarkingStateBase.html#adc3b079b0b2b770674aaa8248a3b684a">cppgc::internal::MarkingStateBase::operator=</a></div><div class="ttdeci">MarkingStateBase &amp; operator=(const MarkingStateBase &amp;)=delete</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1MarkingStateBase_html_ae114d778059fcb83b707939745c0e02e"><div class="ttname"><a href="classcppgc_1_1internal_1_1MarkingStateBase.html#ae114d778059fcb83b707939745c0e02e">cppgc::internal::MarkingStateBase::MarkNoPush</a></div><div class="ttdeci">bool MarkNoPush(HeapObjectHeader &amp;)</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:87</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1MarkingStateBase_html_ae91cd2bc750da509ac6bb41fa02e6a79"><div class="ttname"><a href="classcppgc_1_1internal_1_1MarkingStateBase.html#ae91cd2bc750da509ac6bb41fa02e6a79">cppgc::internal::MarkingStateBase::marking_worklist</a></div><div class="ttdeci">MarkingWorklists::MarkingWorklist::Local &amp; marking_worklist()</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:42</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1MarkingStateBase_html_af1cb8520e1742fc54a8ed7f7f1af351f"><div class="ttname"><a href="classcppgc_1_1internal_1_1MarkingStateBase.html#af1cb8520e1742fc54a8ed7f7f1af351f">cppgc::internal::MarkingStateBase::MarkingStateBase</a></div><div class="ttdeci">MarkingStateBase(HeapBase &amp;, MarkingWorklists &amp;)</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:62</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1MarkingWorklists_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1MarkingWorklists.html">cppgc::internal::MarkingWorklists</a></div><div class="ttdef"><b>Definition:</b> marking-worklists.h:18</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1MarkingWorklists_html_a305b41e2d498b370d2d25364a1fac999"><div class="ttname"><a href="classcppgc_1_1internal_1_1MarkingWorklists.html#a305b41e2d498b370d2d25364a1fac999">cppgc::internal::MarkingWorklists::NotFullyConstructedWorklist</a></div><div class="ttdeci">ExternalMarkingWorklist NotFullyConstructedWorklist</div><div class="ttdef"><b>Definition:</b> marking-worklists.h:74</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1MarkingWorklists_html_aa0277b03ffd7713321099c84d953f538"><div class="ttname"><a href="classcppgc_1_1internal_1_1MarkingWorklists.html#aa0277b03ffd7713321099c84d953f538">cppgc::internal::MarkingWorklists::WeakContainersWorklist</a></div><div class="ttdeci">ExternalMarkingWorklist WeakContainersWorklist</div><div class="ttdef"><b>Definition:</b> marking-worklists.h:88</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1MutatorMarkingState_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1MutatorMarkingState.html">cppgc::internal::MutatorMarkingState</a></div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:357</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1MutatorMarkingState_html_a02826267c51898f878add55c724c4129"><div class="ttname"><a href="classcppgc_1_1internal_1_1MutatorMarkingState.html#a02826267c51898f878add55c724c4129">cppgc::internal::MutatorMarkingState::DynamicallyMarkAddress</a></div><div class="ttdeci">void DynamicallyMarkAddress(ConstAddress)</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:422</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1MutatorMarkingState_html_a05597f4416b3e4466b4ba3dbb1b1cf65"><div class="ttname"><a href="classcppgc_1_1internal_1_1MutatorMarkingState.html#a05597f4416b3e4466b4ba3dbb1b1cf65">cppgc::internal::MutatorMarkingState::InvokeWeakRootsCallbackIfNeeded</a></div><div class="ttdeci">void InvokeWeakRootsCallbackIfNeeded(const void *, TraceDescriptor, WeakCallback, const void *)</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:434</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1MutatorMarkingState_html_a34831f2f1b7f108c73f5b994440cfdeb"><div class="ttname"><a href="classcppgc_1_1internal_1_1MutatorMarkingState.html#a34831f2f1b7f108c73f5b994440cfdeb">cppgc::internal::MutatorMarkingState::retrace_marked_objects_worklist</a></div><div class="ttdeci">MarkingWorklists::RetraceMarkedObjectsWorklist::Local &amp; retrace_marked_objects_worklist()</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:388</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1MutatorMarkingState_html_a3adfd521090141a8f8747103591137d9"><div class="ttname"><a href="classcppgc_1_1internal_1_1MutatorMarkingState.html#a3adfd521090141a8f8747103591137d9">cppgc::internal::MutatorMarkingState::IsMarkedWeakContainer</a></div><div class="ttdeci">bool IsMarkedWeakContainer(HeapObjectHeader &amp;)</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:448</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1MutatorMarkingState_html_a5c9a47eb30c15d1139665d5d2d9d50ba"><div class="ttname"><a href="classcppgc_1_1internal_1_1MutatorMarkingState.html#a5c9a47eb30c15d1139665d5d2d9d50ba">cppgc::internal::MutatorMarkingState::MutatorMarkingState</a></div><div class="ttdeci">MutatorMarkingState(HeapBase &amp;heap, MarkingWorklists &amp;marking_worklists, CompactionWorklists *compaction_worklists)</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:359</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1MutatorMarkingState_html_a5f1477371dd8290109a072d8eb434929"><div class="ttname"><a href="classcppgc_1_1internal_1_1MutatorMarkingState.html#a5f1477371dd8290109a072d8eb434929">cppgc::internal::MutatorMarkingState::ReTraceMarkedWeakContainer</a></div><div class="ttdeci">void ReTraceMarkedWeakContainer(cppgc::Visitor &amp;, HeapObjectHeader &amp;)</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:415</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1MutatorMarkingState_html_a763d7e5ff6b50a8adb2f56cd148ba6f9"><div class="ttname"><a href="classcppgc_1_1internal_1_1MutatorMarkingState.html#a763d7e5ff6b50a8adb2f56cd148ba6f9">cppgc::internal::MutatorMarkingState::Publish</a></div><div class="ttdeci">V8_EXPORT_PRIVATE void Publish() override</div><div class="ttdef"><b>Definition:</b> marking-state.cc:84</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1MutatorMarkingState_html_a95a872ea126234926678720420a1f1c2"><div class="ttname"><a href="classcppgc_1_1internal_1_1MutatorMarkingState.html#a95a872ea126234926678720420a1f1c2">cppgc::internal::MutatorMarkingState::MarkNoPush</a></div><div class="ttdeci">bool MarkNoPush(HeapObjectHeader &amp;header)</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:366</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1MutatorMarkingState_html_a96618d94e36042d47a149e5fea8d2d19"><div class="ttname"><a href="classcppgc_1_1internal_1_1MutatorMarkingState.html#a96618d94e36042d47a149e5fea8d2d19">cppgc::internal::MutatorMarkingState::~MutatorMarkingState</a></div><div class="ttdeci">~MutatorMarkingState() override=default</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1MutatorMarkingState_html_ac6928e01ffcf3f6c6a5a3496b3ee60e4"><div class="ttname"><a href="classcppgc_1_1internal_1_1MutatorMarkingState.html#ac6928e01ffcf3f6c6a5a3496b3ee60e4">cppgc::internal::MutatorMarkingState::FlushNotFullyConstructedObjects</a></div><div class="ttdeci">void FlushNotFullyConstructedObjects()</div><div class="ttdef"><b>Definition:</b> marking-state.cc:65</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1MutatorMarkingState_html_ae8748ae095b8989acaa51c1a387f0929"><div class="ttname"><a href="classcppgc_1_1internal_1_1MutatorMarkingState.html#ae8748ae095b8989acaa51c1a387f0929">cppgc::internal::MutatorMarkingState::FlushDiscoveredEphemeronPairs</a></div><div class="ttdeci">void FlushDiscoveredEphemeronPairs()</div><div class="ttdef"><b>Definition:</b> marking-state.cc:74</div></div>
<div class="ttc" id="aclassheap_1_1base_1_1CachedUnorderedMap_html"><div class="ttname"><a href="classheap_1_1base_1_1CachedUnorderedMap.html">heap::base::CachedUnorderedMap</a></div><div class="ttdef"><b>Definition:</b> cached-unordered-map.h:17</div></div>
<div class="ttc" id="aclassheap_1_1base_1_1Stack_html_a1c159fcdb1e6ded61dac677a24d50360"><div class="ttname"><a href="classheap_1_1base_1_1Stack.html#a1c159fcdb1e6ded61dac677a24d50360">heap::base::Stack::IsOnStack</a></div><div class="ttdeci">static bool IsOnStack(const void *slot)</div><div class="ttdef"><b>Definition:</b> stack.cc:24</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ZoneVector_html_aafcc5efeba17a85b82dc9ad4d2547442"><div class="ttname"><a href="classv8_1_1internal_1_1ZoneVector.html#aafcc5efeba17a85b82dc9ad4d2547442">v8::internal::ZoneVector::end</a></div><div class="ttdeci">T * end() V8_NOEXCEPT</div><div class="ttdef"><b>Definition:</b> zone-containers.h:280</div></div>
<div class="ttc" id="acompaction-worklists_8h_html"><div class="ttname"><a href="compaction-worklists_8h.html">compaction-worklists.h</a></div></div>
<div class="ttc" id="aflag-definitions_8h_html_a761e4e5929b1553283fd6a532822bb17"><div class="ttname"><a href="flag-definitions_8h.html#a761e4e5929b1553283fd6a532822bb17">heap</a></div><div class="ttdeci">other heap size max size of the shared heap(in Mbytes)</div></div>
<div class="ttc" id="aflag-definitions_8h_html_adaf90f045d5cd2710edd625b8685472a"><div class="ttname"><a href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enables Turboshaft s StaticAssert and CheckTurboshaftTypeOf operations Wasm code into JS functions via the JS to Wasm wrappers are still inlined in TurboFan For controlling whether to at see turbo inline js wasm calls enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information enable Turbolev features that we want to ship in the not too far future trace individual Turboshaft reduction steps trace intermediate Turboshaft reduction steps trace Turboshaft s if else to switch reducer invocation count threshold for early optimization Enables optimizations which favor memory size over execution speed Enables sampling allocation profiler with X as a sample interval min size of a semi the new space consists of two semi spaces max size of the preconfigured old space Collect garbage after Collect garbage after keeps maps alive for&lt; n &gt; old space garbage collections print one detailed trace line in allocation gc speed threshold for starting incremental marking via a task in percent of available threshold for starting incremental marking immediately in percent of available Use a single schedule for determining a marking schedule between JS and C objects schedules the minor GC task with kUserVisible priority max worker number of concurrent for NumberOfWorkerThreads start background threads that allocate memory concurrent_array_buffer_sweeping use parallel threads to clear weak refs in the atomic pause trace progress of the incremental marking trace object counts and memory usage report a tick only when allocated zone memory changes by this amount TracingFlags::gc_stats TracingFlags::gc_stats track native contexts that are expected to be garbage collected verify heap pointers before and after GC memory reducer runs GC with ReduceMemoryFootprint flag Maximum number of memory reducer GCs scheduled Old gen GC speed is computed directly from gc tracer counters Perform compaction on full GCs based on V8 s default heuristics Perform compaction on every full GC Perform code space compaction when finalizing a full GC with stack Stress GC compaction to flush out bugs with moving objects flush of baseline code when it has not been executed recently Use time base code flushing instead of age Use a progress bar to scan large objects in increments when incremental marking is active force incremental marking for small heaps and run it more often Release pooled large pages after X seconds prints number of allocations and enables analysis mode for gc fuzz e g stress stress scavenge force scavenge at random points between and reclaim otherwise unreachable unmodified wrapper objects when possible discard the memory pool before invoking the GC on memory pressure or last resort GCs Delay before memory reducer start virtual randomize memory reservations by ignoring any hints passed when allocating pages use incremental marking for CppHeap cppheap_concurrent_marking c value for membalancer A special constant to balance between memory and space tradeoff The smaller the more memory it uses enable use of SSE4 instructions if available enable use of SAHF instruction if enable use of AVX VNNI instructions if available enable use of POPCNT instruction if available force all emitted branches to be in long mode(MIPS/PPC only)&quot;) DEFINE_BOOL(partial_constant_pool</div></div>
<div class="ttc" id="aheap-object-header_8h_html"><div class="ttname"><a href="heap-object-header_8h.html">heap-object-header.h</a></div></div>
<div class="ttc" id="aheap-page_8h_html"><div class="ttname"><a href="heap-page_8h.html">heap-page.h</a></div></div>
<div class="ttc" id="aheap_2cppgc_2globals_8h_html"><div class="ttname"><a href="heap_2cppgc_2globals_8h.html">globals.h</a></div></div>
<div class="ttc" id="ainclude_2cppgc_2visitor_8h_html"><div class="ttname"><a href="include_2cppgc_2visitor_8h.html">visitor.h</a></div></div>
<div class="ttc" id="ajs-call-reducer_8cc_html_ad83e8682ed733ee0cf359fa4f48441b0"><div class="ttname"><a href="js-call-reducer_8cc.html#ad83e8682ed733ee0cf359fa4f48441b0">callback</a></div><div class="ttdeci">TNode&lt; Object &gt; callback</div><div class="ttdef"><b>Definition:</b> js-call-reducer.cc:1593</div></div>
<div class="ttc" id="ajump-threading_8cc_html_a41f8c58d2c01bf65b8ee199c3f87fc80"><div class="ttname"><a href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a></div><div class="ttdeci">ZoneVector&lt; RpoNumber &gt; &amp; result</div><div class="ttdef"><b>Definition:</b> jump-threading.cc:21</div></div>
<div class="ttc" id="amarking-worklists_8h_html"><div class="ttname"><a href="marking-worklists_8h.html">marking-worklists.h</a></div></div>
<div class="ttc" id="anamespacecppgc_1_1internal_html_a12a25251147db068a96f3550e5b4ccbf"><div class="ttname"><a href="namespacecppgc_1_1internal.html#a12a25251147db068a96f3550e5b4ccbf">cppgc::internal::DynamicallyTraceMarkedObject</a></div><div class="ttdeci">void DynamicallyTraceMarkedObject(Visitor &amp;visitor, const HeapObjectHeader &amp;header)</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:520</div></div>
<div class="ttc" id="anamespacecppgc_1_1internal_html_a253e063701bfc4119e9fca7fe9800c32"><div class="ttname"><a href="namespacecppgc_1_1internal.html#a253e063701bfc4119e9fca7fe9800c32">cppgc::internal::ConstAddress</a></div><div class="ttdeci">const uint8_t * ConstAddress</div><div class="ttdef"><b>Definition:</b> heap/cppgc/globals.h:18</div></div>
<div class="ttc" id="anamespacecppgc_1_1internal_html_a5229c26742f473fcdcc68b715482635b"><div class="ttname"><a href="namespacecppgc_1_1internal.html#a5229c26742f473fcdcc68b715482635b">cppgc::internal::Address</a></div><div class="ttdeci">uint8_t * Address</div><div class="ttdef"><b>Definition:</b> heap/cppgc/globals.h:17</div></div>
<div class="ttc" id="anamespacecppgc_1_1internal_html_a5cc75824c84036134ec64ff2754dbad0"><div class="ttname"><a href="namespacecppgc_1_1internal.html#a5cc75824c84036134ec64ff2754dbad0">cppgc::internal::DrainWorklistWithPredicate</a></div><div class="ttdeci">bool DrainWorklistWithPredicate(Predicate ShouldYield, CreateStatsScopeCallback CreateStatsScope, WorklistLocal &amp;worklist_local, ProcessWorklistItemCallback ProcessWorklistItem)</div><div class="ttdef"><b>Definition:</b> cppgc/marking-state.h:494</div></div>
<div class="ttc" id="anamespacecppgc_1_1internal_html_ac0b40b7e4ac65024fbfcf57d01fa808ea726d9cf5163c50b3cf8e05800e3cef71"><div class="ttname"><a href="namespacecppgc_1_1internal.html#ac0b40b7e4ac65024fbfcf57d01fa808ea726d9cf5163c50b3cf8e05800e3cef71">cppgc::internal::AccessMode::kAtomic</a></div><div class="ttdeci">@ kAtomic</div></div>
<div class="ttc" id="anamespacecppgc_html"><div class="ttname"><a href="namespacecppgc.html">cppgc</a></div><div class="ttdef"><b>Definition:</b> heap/cppgc/allocation.cc:18</div></div>
<div class="ttc" id="anamespacecppgc_html_a4b906afac52d1ad451065c31124ec72a"><div class="ttname"><a href="namespacecppgc.html#a4b906afac52d1ad451065c31124ec72a">cppgc::WeakCallback</a></div><div class="ttdeci">void(*)(const LivenessBroker &amp;, const void *) WeakCallback</div><div class="ttdef"><b>Definition:</b> include/cppgc/visitor.h:37</div></div>
<div class="ttc" id="anamespaceheap_html"><div class="ttname"><a href="namespaceheap.html">heap</a></div><div class="ttdef"><b>Definition:</b> src/base/platform/platform.h:72</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5031451934208565c827c86d9eb86c5a"><div class="ttname"><a href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">v8::internal::internal</a></div><div class="ttdeci">internal</div><div class="ttdef"><b>Definition:</b> wasm-objects-inl.h:453</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a67a51b6314a9bc8a8c44c5fe14149e6c"><div class="ttname"><a href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">v8::internal::key</a></div><div class="ttdeci">int32_t key</div><div class="ttdef"><b>Definition:</b> external-reference.cc:1399</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html"><div class="ttname"><a href="src_2base_2logging_8h.html">logging.h</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a16b382527f19b805fc8f856668f2270b"><div class="ttname"><a href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a></div><div class="ttdeci">#define DCHECK_LE(v1, v2)</div><div class="ttdef"><b>Definition:</b> src/base/logging.h:489</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a7b9f9517fedacc2a1a56c2bbb9d03688"><div class="ttname"><a href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a></div><div class="ttdeci">#define DCHECK_NOT_NULL(val)</div><div class="ttdef"><b>Definition:</b> src/base/logging.h:491</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a96a75539aa82216cdde2250a11126ea0"><div class="ttname"><a href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a></div><div class="ttdeci">#define DCHECK_IMPLIES(v1, v2)</div><div class="ttdef"><b>Definition:</b> src/base/logging.h:492</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_ae17f8119c108cf3070bad3449c7e0006"><div class="ttname"><a href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a></div><div class="ttdeci">#define DCHECK(condition)</div><div class="ttdef"><b>Definition:</b> src/base/logging.h:481</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_af9c313d74155f7f201955a939e24c71f"><div class="ttname"><a href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a></div><div class="ttdeci">#define DCHECK_EQ(v1, v2)</div><div class="ttdef"><b>Definition:</b> src/base/logging.h:484</div></div>
<div class="ttc" id="asrc_2base_2macros_8h_html"><div class="ttname"><a href="src_2base_2macros_8h.html">macros.h</a></div></div>
<div class="ttc" id="asrc_2base_2macros_8h_html_ab08e353943a53678ac6baafc678f2d81"><div class="ttname"><a href="src_2base_2macros_8h.html#ab08e353943a53678ac6baafc678f2d81">V8_EXPORT_PRIVATE</a></div><div class="ttdeci">#define V8_EXPORT_PRIVATE</div><div class="ttdef"><b>Definition:</b> src/base/macros.h:460</div></div>
<div class="ttc" id="asrc_2heap_2cppgc_2liveness-broker_8h_html"><div class="ttname"><a href="src_2heap_2cppgc_2liveness-broker_8h.html">liveness-broker.h</a></div></div>
<div class="ttc" id="astack_8h_html"><div class="ttname"><a href="stack_8h.html">stack.h</a></div></div>
<div class="ttc" id="astructcppgc_1_1TraceDescriptor_html"><div class="ttname"><a href="structcppgc_1_1TraceDescriptor.html">cppgc::TraceDescriptor</a></div><div class="ttdef"><b>Definition:</b> trace-trait.h:43</div></div>
<div class="ttc" id="astructcppgc_1_1TraceDescriptor_html_a0de2d2b4cf5fe1ec48fc9d6f2e20f2f9"><div class="ttname"><a href="structcppgc_1_1TraceDescriptor.html#a0de2d2b4cf5fe1ec48fc9d6f2e20f2f9">cppgc::TraceDescriptor::base_object_payload</a></div><div class="ttdeci">const void * base_object_payload</div><div class="ttdef"><b>Definition:</b> trace-trait.h:48</div></div>
<div class="ttc" id="astructcppgc_1_1TraceDescriptor_html_ac642e0bc9d47a37c7a23ad095333d7cb"><div class="ttname"><a href="structcppgc_1_1TraceDescriptor.html#ac642e0bc9d47a37c7a23ad095333d7cb">cppgc::TraceDescriptor::callback</a></div><div class="ttdeci">TraceCallback callback</div><div class="ttdef"><b>Definition:</b> trace-trait.h:52</div></div>
<div class="ttc" id="astructcppgc_1_1internal_1_1GCInfo_html_a38d648a24eb18de96f6f9b9b9bda4f09"><div class="ttname"><a href="structcppgc_1_1internal_1_1GCInfo.html#a38d648a24eb18de96f6f9b9b9bda4f09">cppgc::internal::GCInfo::trace</a></div><div class="ttdeci">TraceCallback trace</div><div class="ttdef"><b>Definition:</b> gc-info-table.h:30</div></div>
<div class="ttc" id="atrace-trait_8h_html"><div class="ttname"><a href="trace-trait_8h.html">trace-trait.h</a></div></div>
<div class="ttc" id="av8config_8h_html_a4f489f1b838163ab33f251c9e470d938"><div class="ttname"><a href="v8config_8h.html#a4f489f1b838163ab33f251c9e470d938">V8_LIKELY</a></div><div class="ttdeci">#define V8_LIKELY(condition)</div><div class="ttdef"><b>Definition:</b> v8config.h:661</div></div>
<div class="ttc" id="av8config_8h_html_a67bd29db07c711b0fb11ff1c324ebb60"><div class="ttname"><a href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a></div><div class="ttdeci">#define V8_UNLIKELY(condition)</div><div class="ttdef"><b>Definition:</b> v8config.h:660</div></div>
<div class="ttc" id="avalue-mirror_8cc_html_a1ca88ee8dc0e8e51d60cf01ab8e8702a"><div class="ttname"><a href="value-mirror_8cc.html#a1ca88ee8dc0e8e51d60cf01ab8e8702a">value</a></div><div class="ttdeci">std::unique_ptr&lt; ValueMirror &gt; value</div><div class="ttdef"><b>Definition:</b> value-mirror.cc:996</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_8af83c0dc83a45a35ca6968cdc29a7af.html">tmp</a></li><li class="navelem"><a class="el" href="dir_71ee8ddd0c9f64e069464bdef6fc22a8.html">V8SourceCode</a></li><li class="navelem"><a class="el" href="dir_b2ef5f18f12fc37f860c5e42891bbe61.html">src</a></li><li class="navelem"><a class="el" href="dir_cd3306282e969ebe7a163f902da18804.html">heap</a></li><li class="navelem"><a class="el" href="dir_0f9b094941f07be1e44fc273fe615b2f.html">cppgc</a></li><li class="navelem"><a class="el" href="cppgc_2marking-state_8h.html">marking-state.h</a></li>
    <li class="footer">Generated on Thu Jun 12 2025 09:41:28 for V8 Project by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
