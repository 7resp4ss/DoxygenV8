<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>V8 Project: /mnt/V8SourceCode/src/heap/read-only-promotion.cc Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">V8 Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('read-only-promotion_8cc_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">read-only-promotion.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="read-only-promotion_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright 2023 the V8 project authors. All rights reserved.</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// Use of this source code is governed by a BSD-style license that can be</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// found in the LICENSE file.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160; </div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="read-only-promotion_8h.html">src/heap/read-only-promotion.h</a>&quot;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160; </div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;unordered_set&gt;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160; </div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="external-reference-encoder_8h.html">src/codegen/external-reference-encoder.h</a>&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="assert-scope_8h.html">src/common/assert-scope.h</a>&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="execution_2isolate_8h.html">src/execution/isolate.h</a>&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="heap-layout-inl_8h.html">src/heap/heap-layout-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="src_2heap_2heap_8h.html">src/heap/heap.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="read-only-spaces_8h.html">src/heap/read-only-spaces.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="visit-object_8h.html">src/heap/visit-object.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="heap-object-inl_8h.html">src/objects/heap-object-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="objects-inl_8h.html">src/objects/objects-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="external-pointer-table_8h.html">src/sandbox/external-pointer-table.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ostreams_8h.html">src/utils/ostreams.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160; </div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacev8.html">v8</a> {</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">internal</a> {</div>
<div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html">   23</a></span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160; </div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">// Convenience aliases:</span></div>
<div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a119eb1ab3d934b33de6314ac113d52c0">   26</a></span>&#160;<span class="keyword">using</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a119eb1ab3d934b33de6314ac113d52c0">HeapObjectSet</a> = std::unordered_set&lt;Tagged&lt;HeapObject&gt;, <a class="code" href="structv8_1_1internal_1_1Object_1_1Hasher.html">Object::Hasher</a>,</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;                                         <a class="code" href="structv8_1_1internal_1_1Object_1_1KeyEqualSafe.html">Object::KeyEqualSafe</a>&gt;;</div>
<div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a824c4cab632e1345be4d7ee08a713631">   28</a></span>&#160;<span class="keyword">using</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a824c4cab632e1345be4d7ee08a713631">HeapObjectMap</a> = std::unordered_map&lt;Tagged&lt;HeapObject&gt;, <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a>,</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;                                         <a class="code" href="structv8_1_1internal_1_1Object_1_1Hasher.html">Object::Hasher</a>, <a class="code" href="structv8_1_1internal_1_1Object_1_1KeyEqualSafe.html">Object::KeyEqualSafe</a>&gt;;</div>
<div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a6cde169476b540c1f6b9a7f42ac2d45b">   30</a></span>&#160;<span class="keyword">using</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a6cde169476b540c1f6b9a7f42ac2d45b">HeapObjectList</a> = std::vector&lt;Tagged&lt;HeapObject&gt;&gt;;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160; </div>
<div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a996ff47de27ce5f127bdcc0bff48b7f9">   32</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#aec172a30be109da7bcec909f32f43e8b">Contains</a>(<span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a119eb1ab3d934b33de6314ac113d52c0">HeapObjectSet</a>&amp; s, <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> o) {</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;  <span class="keywordflow">return</span> s.count(o) != 0;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;}</div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#aec172a30be109da7bcec909f32f43e8b">   35</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#aec172a30be109da7bcec909f32f43e8b">Contains</a>(<span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a824c4cab632e1345be4d7ee08a713631">HeapObjectMap</a>&amp; s, <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> o) {</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <span class="keywordflow">return</span> s.count(o) != 0;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;}</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160; </div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#ac1c0ed9c741596636880209a697d99de">   39</a></span>&#160;<span class="keyword">enum class</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#ac1c0ed9c741596636880209a697d99de">PromoRecommendation</a> {</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <span class="comment">// Do not promote this object.</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#ac1c0ed9c741596636880209a697d99dea8f2fd79d5722327d476c8bb783ea2477">kReject</a>,</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  <span class="comment">// Do promote this object.</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#ac1c0ed9c741596636880209a697d99dea172d0995d97941b27a0f7012ff47e71e">kPromote</a>,</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <span class="comment">// Promote if it&#39;s referenced by an object that must be promoted, otherwise</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <span class="comment">// do not promote.</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  <span class="comment">// This is a rare case when by looking at an object itself it&#39;s not clear</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  <span class="comment">// whether it should be promoted or not. The decision can be made later</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <span class="comment">// only taking into account where it&#39;s used.</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <span class="comment">// One of such examples is ArrayList which shouldn&#39;t be promoted unless</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <span class="comment">// it&#39;s a value of TemplateInfoWithProperties::property_list or</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <span class="comment">// TemplateInfoWithProperties::property_accessors of a template that</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <span class="comment">// should be promoted to RO space.</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#ac1c0ed9c741596636880209a697d99dea0b85d65fecf60dd008a8e04e5568eb3b">kMatchHost</a>,</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;};</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="keyword">using</span> <span class="keyword">enum</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#ac1c0ed9c741596636880209a697d99de">PromoRecommendation</a>;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html">   58</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html">Committee</a> final {</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#aa32841f43f243063d741da808d05efaa">   60</a></span>&#160;  <span class="keyword">static</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a6cde169476b540c1f6b9a7f42ac2d45b">HeapObjectList</a> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#aa32841f43f243063d741da808d05efaa">DeterminePromotees</a>(</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a>&amp; <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>,</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;      <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1SafepointScope.html">SafepointScope</a>&amp; safepoint_scope) {</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html">Committee</a>(isolate).<a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#aa32841f43f243063d741da808d05efaa">DeterminePromotees</a>(safepoint_scope);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  }</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160; </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#a9a1df1eb918fbb764fa24921d9ff9b64">   67</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#a9a1df1eb918fbb764fa24921d9ff9b64">Committee</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate)</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;      : isolate_(isolate), ref_encoder_(isolate) {}</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#a51906ef66c0b8d8f251feafc4574496e">   70</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1ExternalReferenceEncoder.html">ExternalReferenceEncoder</a>&amp; <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#a51906ef66c0b8d8f251feafc4574496e">ref_encoder</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ref_encoder_; }</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#adc69b291a1aa12b87b25c65e6e10564f">   72</a></span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a6cde169476b540c1f6b9a7f42ac2d45b">HeapObjectList</a> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#adc69b291a1aa12b87b25c65e6e10564f">DeterminePromotees</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1SafepointScope.html">SafepointScope</a>&amp; safepoint_scope) {</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(promo_accepted_.empty());</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(promo_rejected_.empty());</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160; </div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="comment">// List of promotees as discovered in insertion order. Using the</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="comment">// `HeapObjectIterator` will visit pages in insertion order from a GC</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="comment">// perspective which is deterministic independent of the absolute pages</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="comment">// provided by the OS allocators in case of 32-bit builds (that don&#39;t use</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="comment">// cages).</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="comment">// We keep a separate HeapObjectList as there&#39;s no standard-equivalent for a</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="comment">// hash set that can maintain insertion order.</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a6cde169476b540c1f6b9a7f42ac2d45b">HeapObjectList</a> promo_accepted_list;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="comment">// We assume that a full and precise GC has reclaimed all dead objects</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="comment">// and therefore that no filtering of unreachable objects is required here.</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <a class="code" href="classv8_1_1internal_1_1HeapObjectIterator.html">HeapObjectIterator</a> it(isolate_-&gt;heap(), safepoint_scope);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> o = it.<a class="code" href="classv8_1_1internal_1_1HeapObjectIterator.html#aaf2e81d1a684f0f26633befe41d911cc">Next</a>(); !o.<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html#a0930e2a8cbe8abbc5cdd476902fe6c88">is_null</a>(); o = it.<a class="code" href="classv8_1_1internal_1_1HeapObjectIterator.html#aaf2e81d1a684f0f26633befe41d911cc">Next</a>()) {</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!<a class="code" href="classv8_1_1internal_1_1HeapLayout.html#a91ac1680dc7f626bd8675e14ac660240">HeapLayout::InReadOnlySpace</a>(o));</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;      <span class="comment">// Note that cycles prevent us from promoting/rejecting each subgraph as</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      <span class="comment">// we visit it, since locally we cannot determine whether the deferred</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;      <span class="comment">// decision on the &#39;cycle object&#39; will be &#39;promote&#39; or &#39;reject&#39;. This</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;      <span class="comment">// could be solved if necessary (with more complex code), but for now</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;      <span class="comment">// there are no performance issues.</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a119eb1ab3d934b33de6314ac113d52c0">HeapObjectSet</a> accepted_subgraph;  <span class="comment">// Either all are accepted or none.</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a6cde169476b540c1f6b9a7f42ac2d45b">HeapObjectList</a> accepted_subgraph_list;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a119eb1ab3d934b33de6314ac113d52c0">HeapObjectSet</a> visited;            <span class="comment">// Cycle detection.</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;      <span class="keywordflow">if</span> (!EvaluateSubgraph(std::nullopt, o, &amp;accepted_subgraph, &amp;visited,</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                            &amp;accepted_subgraph_list)) {</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;      }</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;      <span class="keywordflow">if</span> (accepted_subgraph.empty()) {</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;      }</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160; </div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_read_only_promotion)) {</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        LogAcceptedPromotionSet(accepted_subgraph);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;      }</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;      promo_accepted_.insert(accepted_subgraph.begin(),</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                             accepted_subgraph.end());</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;      promo_accepted_list.insert(promo_accepted_list.end(),</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                                 accepted_subgraph_list.begin(),</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                                 accepted_subgraph_list.end());</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    }</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_read_only_promotion)) {</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> o : promo_deferred_) {</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        LogRejectedPromotionForNoMatchingHost(o);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;      }</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    }</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160; </div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="comment">// Remove duplicates from the promo_accepted_list. Note we have to jump</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="comment">// through these hoops in order to preserve deterministic ordering</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="comment">// (otherwise simply using the promo_accepted_ set would be sufficient).</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a119eb1ab3d934b33de6314ac113d52c0">HeapObjectSet</a> seen_promotees;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a6cde169476b540c1f6b9a7f42ac2d45b">HeapObjectList</a> promotees;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    promotees.reserve(promo_accepted_list.size());</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> o : promo_accepted_list) {</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#aec172a30be109da7bcec909f32f43e8b">Contains</a>(seen_promotees, o)) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;      seen_promotees.insert(o);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      promotees.push_back(o);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    }</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(promotees.size(), promo_accepted_.size());</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160; </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordflow">return</span> promotees;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  }</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <span class="comment">// Returns `false` if the subgraph rooted at `o` is rejected.</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="comment">// Returns `true` if it is accepted, or if we&#39;ve reached a cycle and `o`</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="comment">// will be processed further up the callchain.</span></div>
<div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#af27971327607324e1384b18dc31b934c">  142</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#af27971327607324e1384b18dc31b934c">EvaluateSubgraph</a>(std::optional&lt;<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a>&gt; maybe_host,</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                        <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> o, <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a119eb1ab3d934b33de6314ac113d52c0">HeapObjectSet</a>* accepted_subgraph,</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                        <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a119eb1ab3d934b33de6314ac113d52c0">HeapObjectSet</a>* visited, <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a6cde169476b540c1f6b9a7f42ac2d45b">HeapObjectList</a>* promotees) {</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1HeapLayout.html#a91ac1680dc7f626bd8675e14ac660240">HeapLayout::InReadOnlySpace</a>(o)) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#aec172a30be109da7bcec909f32f43e8b">Contains</a>(promo_rejected_, o)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#aec172a30be109da7bcec909f32f43e8b">Contains</a>(promo_accepted_, o)) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#aec172a30be109da7bcec909f32f43e8b">Contains</a>(*visited, o)) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    visited-&gt;insert(o);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#ac1c0ed9c741596636880209a697d99de">PromoRecommendation</a> recommendation =</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        GetPromoRecommendation(<span class="keyword">this</span>, isolate_, o);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordflow">switch</span> (recommendation) {</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#ac1c0ed9c741596636880209a697d99dea172d0995d97941b27a0f7012ff47e71e">kPromote</a>:</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#ac1c0ed9c741596636880209a697d99dea8f2fd79d5722327d476c8bb783ea2477">kReject</a>: {</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; [it, inserted] = promo_rejected_.insert(o);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_read_only_promotion) &amp;&amp; inserted) {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;          LogRejectedPromotionForFailedPredicate(o);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        }</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      }</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#ac1c0ed9c741596636880209a697d99dea0b85d65fecf60dd008a8e04e5568eb3b">kMatchHost</a>:</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <span class="keywordflow">if</span> (!maybe_host.has_value()) {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;          <span class="comment">// We&#39;ve met this object during regular heap iteration and don&#39;t know</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;          <span class="comment">// yet how it&#39;s used. Postpone the decision for later.</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#aec172a30be109da7bcec909f32f43e8b">Contains</a>(promo_deferred_, o));</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;          promo_deferred_.insert(o);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;          visited-&gt;erase(o);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        }</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <span class="comment">// This object is referenced by another promotion candidate, so</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <span class="comment">// let this one be promoted too.</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        promo_deferred_.erase(o);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    }</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="comment">// Recurse into outgoing pointers.</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor.html">CandidateVisitor</a> v(<span class="keyword">this</span>, accepted_subgraph, visited, promotees, maybe_host);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a5f672157ae21ec21c6452b35f5eb884c">VisitObject</a>(isolate_, o, &amp;v);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keywordflow">if</span> (!v.<a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor.html#aa098ab53a5ea87017149642af30cb585">all_slots_are_promo_candidates</a>()) {</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; [it, inserted] = promo_rejected_.insert(o);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_read_only_promotion) &amp;&amp; inserted) {</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        LogRejectedPromotionForInvalidSubgraph(o,</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                                               v.<a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor.html#ab1537ff2d088a14b39b44759b62de64a">first_rejected_slot_offset</a>());</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      }</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;TemplateInfo&gt;</a> info; TryCast&lt;TemplateInfo&gt;(o, &amp;info)) {</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#a7b0fb5d6be902959a80a9a33cc4e73fe">CHECK_WITH_MSG</a>(!info-&gt;should_promote_to_read_only(),</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                       <span class="stringliteral">&quot;v8::Template was asked to be promoted to &quot;</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                       <span class="stringliteral">&quot;read only space but it wasn&#39;t possible. &quot;</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                       <span class="stringliteral">&quot;Use --trace-read-only-promotion for debugging.&quot;</span>);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      }</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    }</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160; </div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    accepted_subgraph-&gt;insert(o);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    promotees-&gt;push_back(o);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160; </div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="comment">// Some sanity checks for general-purpose objects (they should be included</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="comment">// only as a part of expected hosts).</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(IsArrayList(o),</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                   maybe_host.has_value() &amp;&amp;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                       IsTemplateInfoWithProperties(maybe_host.value()));</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  }</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160; </div>
<div class="line"><a name="l00205"></a><span class="lineno"><a class="line" href="read-only-promotion_8cc.html#afa6852c766df35906b6be5541d8b24b7">  205</a></span>&#160;<span class="preprocessor">#define PROMO_CANDIDATE_TYPE_LIST(V) \</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="preprocessor">  V(AccessCheckInfo)                 \</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="preprocessor">  V(AccessorInfo)                    \</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="preprocessor">  V(ArrayList)                       \</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="preprocessor">  V(Code)                            \</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="preprocessor">  V(CodeWrapper)                     \</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="preprocessor">  V(JSExternalObject)                \</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="preprocessor">  V(ObjectTemplateInfo)              \</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="preprocessor">  V(FunctionTemplateInfo)            \</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="preprocessor">  V(FunctionTemplateRareData)        \</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="preprocessor">  V(InterceptorInfo)                 \</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="preprocessor">  V(ScopeInfo)                       \</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="preprocessor">  V(SharedFunctionInfo)              \</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="preprocessor">  V(Symbol)</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <span class="comment">// TODO(jgruber): Don&#39;t forget to extend ReadOnlyPromotionImpl::Verify when</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <span class="comment">// adding new object types here.</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160; </div>
<div class="line"><a name="l00222"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#a8d63624aa83676dc85094343266bfd5a">  222</a></span>&#160;  <span class="keyword">static</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#ac1c0ed9c741596636880209a697d99de">PromoRecommendation</a> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#a8d63624aa83676dc85094343266bfd5a">GetPromoRecommendation</a>(<a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html">Committee</a>* committee,</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                                                    <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                                                    <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> o) {</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fe">InstanceType</a> itype = o-&gt;map(isolate)-&gt;instance_type();</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="preprocessor">#define V(TYPE)                                                             \</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="preprocessor">  if (InstanceTypeChecker::Is##TYPE(itype)) {                               \</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="preprocessor">    return GetPromoRecommendation##TYPE(committee, isolate, Cast&lt;TYPE&gt;(o)); \</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="preprocessor">    </span><span class="comment">/* NOLINTNEXTLINE(readability/braces) */</span><span class="preprocessor">                                \</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="preprocessor">  } else</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <a class="code" href="read-only-promotion_8cc.html#afa6852c766df35906b6be5541d8b24b7">PROMO_CANDIDATE_TYPE_LIST</a>(<a class="code" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V.html">V</a>)</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="comment">/* if { ... } else */</span> {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#ac1c0ed9c741596636880209a697d99dea8f2fd79d5722327d476c8bb783ea2477">kReject</a>;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    }</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="preprocessor">#undef V</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  }</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="preprocessor">#undef PROMO_CANDIDATE_TYPE_LIST</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno"><a class="line" href="read-only-promotion_8cc.html#a3eabb841457006c31ef744cf27c3d288">  240</a></span>&#160;<span class="preprocessor">#define DEF_PROMO_CANDIDATE(Type)                               \</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="preprocessor">  static PromoRecommendation GetPromoRecommendation##Type(      \</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="preprocessor">      Committee* committee, Isolate* isolate, Tagged&lt;Type&gt; o) { \</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="preprocessor">    return kPromote;                                            \</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="preprocessor">  }</span></div>
<div class="line"><a name="l00245"></a><span class="lineno"><a class="line" href="read-only-promotion_8cc.html#aceba6c54f262745230e629f76dbb3cff">  245</a></span>&#160;<span class="preprocessor">#define DEF_MATCH_HOST_CANDIDATE(Type)                          \</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="preprocessor">  static PromoRecommendation GetPromoRecommendation##Type(      \</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="preprocessor">      Committee* committee, Isolate* isolate, Tagged&lt;Type&gt; o) { \</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="preprocessor">    return kMatchHost;                                          \</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="preprocessor">  }</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160; </div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <a class="code" href="read-only-promotion_8cc.html#a3eabb841457006c31ef744cf27c3d288">DEF_PROMO_CANDIDATE</a>(<a class="code" href="namespacev8_1_1internal.html#a5ef2db9cf5da555b67b6ca254db79213">AccessCheckInfo</a>)</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <a class="code" href="read-only-promotion_8cc.html#a3eabb841457006c31ef744cf27c3d288">DEF_PROMO_CANDIDATE</a>(AccessorInfo)</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <a class="code" href="read-only-promotion_8cc.html#aceba6c54f262745230e629f76dbb3cff">DEF_MATCH_HOST_CANDIDATE</a>(ArrayList)</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <span class="comment">// Promote v8::External only if it&#39;s used by a v8::Template that was</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="comment">// explicitly requested to be promoted to RO space.</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <a class="code" href="read-only-promotion_8cc.html#aceba6c54f262745230e629f76dbb3cff">DEF_MATCH_HOST_CANDIDATE</a>(JSExternalObject)</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160; </div>
<div class="line"><a name="l00258"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#ad98218504a6e4077314e610c9b0da7c3">  258</a></span>&#160;  static <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#ac1c0ed9c741596636880209a697d99de">PromoRecommendation</a> GetPromoRecommendationFunctionTemplateInfo(</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;      <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html">Committee</a>* committee, <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged</a>&lt;<a class="code" href="classv8_1_1internal_1_1FunctionTemplateInfo.html">FunctionTemplateInfo</a>&gt; o) {</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="comment">// This flag is set by the embedder explicitly by calling</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="comment">// v8::FunctionTemplate::SealAndPrepareForPromotionToReadOnly(..).</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="keywordflow">return</span> o-&gt;should_promote_to_read_only() ? <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#ac1c0ed9c741596636880209a697d99dea172d0995d97941b27a0f7012ff47e71e">kPromote</a> : <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#ac1c0ed9c741596636880209a697d99dea8f2fd79d5722327d476c8bb783ea2477">kReject</a>;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  }</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <a class="code" href="read-only-promotion_8cc.html#a3eabb841457006c31ef744cf27c3d288">DEF_PROMO_CANDIDATE</a>(<a class="code" href="classv8_1_1internal_1_1FunctionTemplateRareData.html">FunctionTemplateRareData</a>)</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160; </div>
<div class="line"><a name="l00266"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#a0310e9a7f0dbbcb2e387ab55c24a4f10">  266</a></span>&#160;  static <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#ac1c0ed9c741596636880209a697d99de">PromoRecommendation</a> GetPromoRecommendationCode(<a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html">Committee</a>* committee,</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                                                        <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                                                        <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged</a>&lt;<a class="code" href="classv8_1_1internal_1_1Code.html">Code</a>&gt; o) {</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1Builtins.html#ac24aadac6cd8b8ff875cf8bb9f0a476b">Builtins::kCodeObjectsAreInROSpace</a> &amp;&amp; o-&gt;is_builtin() ? <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#ac1c0ed9c741596636880209a697d99dea172d0995d97941b27a0f7012ff47e71e">kPromote</a></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                                                                 : <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#ac1c0ed9c741596636880209a697d99dea8f2fd79d5722327d476c8bb783ea2477">kReject</a>;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  }</div>
<div class="line"><a name="l00272"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#ad6b074d1888324d83b93934e30ad046d">  272</a></span>&#160;  <span class="keyword">static</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#ac1c0ed9c741596636880209a697d99de">PromoRecommendation</a> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#ad6b074d1888324d83b93934e30ad046d">GetPromoRecommendationCodeWrapper</a>(</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html">Committee</a>* committee, <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;CodeWrapper&gt;</a> o) {</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keywordflow">return</span> GetPromoRecommendationCode(committee, isolate, o-&gt;code(isolate));</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  }</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <a class="code" href="read-only-promotion_8cc.html#a3eabb841457006c31ef744cf27c3d288">DEF_PROMO_CANDIDATE</a>(<a class="code" href="classv8_1_1internal_1_1InterceptorInfo.html">InterceptorInfo</a>)</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160; </div>
<div class="line"><a name="l00278"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#a3d3601084c36d41ebad1f6f8efc05623">  278</a></span>&#160;  static <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#ac1c0ed9c741596636880209a697d99de">PromoRecommendation</a> GetPromoRecommendationObjectTemplateInfo(</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html">Committee</a>* committee, <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged</a>&lt;<a class="code" href="classv8_1_1internal_1_1ObjectTemplateInfo.html">ObjectTemplateInfo</a>&gt; o) {</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="comment">// This flag is set by the embedder explicitly by calling</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="comment">// v8::ObjectTemplate::SealAndPrepareForPromotionToReadOnly(..).</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordflow">return</span> o-&gt;should_promote_to_read_only() ? <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#ac1c0ed9c741596636880209a697d99dea172d0995d97941b27a0f7012ff47e71e">kPromote</a> : <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#ac1c0ed9c741596636880209a697d99dea8f2fd79d5722327d476c8bb783ea2477">kReject</a>;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  }</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160; </div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <a class="code" href="read-only-promotion_8cc.html#a3eabb841457006c31ef744cf27c3d288">DEF_PROMO_CANDIDATE</a>(<a class="code" href="classv8_1_1internal_1_1ScopeInfo.html">ScopeInfo</a>)</div>
<div class="line"><a name="l00286"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#aba525a30b8044c81ec4d971ba1a75820">  286</a></span>&#160;  static <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#ac1c0ed9c741596636880209a697d99de">PromoRecommendation</a> GetPromoRecommendationSharedFunctionInfo(</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html">Committee</a>* committee, <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged</a>&lt;<a class="code" href="classv8_1_1internal_1_1SharedFunctionInfo.html">SharedFunctionInfo</a>&gt; o) {</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="comment">// Only internal SFIs are guaranteed to remain immutable.</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="keywordflow">if</span> (o-&gt;has_script(<a class="code" href="namespacev8.html#aee4e677b8d8a86416617b3330778b98a">kAcquireLoad</a>)) <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#ac1c0ed9c741596636880209a697d99dea8f2fd79d5722327d476c8bb783ea2477">kReject</a>;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="comment">// kIllegal is used for js_global_object_function, which is created during</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="comment">// bootstrapping but never rooted. We currently assumed that all objects in</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="comment">// the snapshot are live. But RO space is 1) not GC&#39;d and 2) serialized</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="comment">// verbatim, preserving dead objects. As a workaround, exclude this builtin</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="comment">// id from RO allocation.</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="comment">// TODO(jgruber): A better solution. Remove the liveness assumption (see</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="comment">// test-heap-profiler.cc)? Overwrite dead RO objects with fillers</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="comment">// pre-serialization? Implement a RO GC pass pre-serialization?</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keywordflow">if</span> (o-&gt;HasBuiltinId() &amp;&amp; o-&gt;builtin_id() != Builtin::kIllegal) {</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#ac1c0ed9c741596636880209a697d99dea172d0995d97941b27a0f7012ff47e71e">kPromote</a>;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    }</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="comment">// Api functions are good candidates for promotion.</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordflow">if</span> (o-&gt;IsApiFunction()) <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#ac1c0ed9c741596636880209a697d99dea172d0995d97941b27a0f7012ff47e71e">kPromote</a>;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#ac1c0ed9c741596636880209a697d99dea8f2fd79d5722327d476c8bb783ea2477">kReject</a>;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  }</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <a class="code" href="read-only-promotion_8cc.html#a3eabb841457006c31ef744cf27c3d288">DEF_PROMO_CANDIDATE</a>(<a class="code" href="classv8_1_1internal_1_1Symbol.html">Symbol</a>)</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160; </div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="preprocessor">#undef DEF_PROMO_CANDIDATE</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160; </div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="comment">// Recurses into all tagged slots of an object and tracks whether predicates</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="comment">// failed on any part of the subgraph.</span></div>
<div class="line"><a name="l00311"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor.html">  311</a></span>&#160;  <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor.html">CandidateVisitor</a> : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1ObjectVisitor.html">ObjectVisitor</a> {</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;   <span class="keyword">public</span>:</div>
<div class="line"><a name="l00313"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor.html#a97fe1e2f985fed4f6096b54ad677bf6e">  313</a></span>&#160;    <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor.html#a97fe1e2f985fed4f6096b54ad677bf6e">CandidateVisitor</a>(<a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html">Committee</a>* committee, <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a119eb1ab3d934b33de6314ac113d52c0">HeapObjectSet</a>* accepted_subgraph,</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                     <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a119eb1ab3d934b33de6314ac113d52c0">HeapObjectSet</a>* visited, <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a6cde169476b540c1f6b9a7f42ac2d45b">HeapObjectList</a>* promotees,</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                     std::optional&lt;<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a>&gt; maybe_host)</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        : committee_(committee),</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;          accepted_subgraph_(accepted_subgraph),</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;          visited_(visited),</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;          promotees_(promotees),</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;          maybe_host_(maybe_host) {}</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160; </div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="comment">// Promotion decisions for some objects might depend on the properties</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="comment">// of the &quot;outer&quot; object.</span></div>
<div class="line"><a name="l00324"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor.html#a2b9a8db68d641601bc5eb7ffbc42b219">  324</a></span>&#160;    std::optional&lt;Tagged&lt;HeapObject&gt;&gt; <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor.html#a2b9a8db68d641601bc5eb7ffbc42b219">maybe_host</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> maybe_host_; }</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160; </div>
<div class="line"><a name="l00326"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor.html#ab1537ff2d088a14b39b44759b62de64a">  326</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor.html#ab1537ff2d088a14b39b44759b62de64a">first_rejected_slot_offset</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;      <span class="keywordflow">return</span> first_rejected_slot_offset_;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    }</div>
<div class="line"><a name="l00329"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor.html#aa098ab53a5ea87017149642af30cb585">  329</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor.html#aa098ab53a5ea87017149642af30cb585">all_slots_are_promo_candidates</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      <span class="keywordflow">return</span> first_rejected_slot_offset_ == -1;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    }</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160; </div>
<div class="line"><a name="l00333"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor.html#a87c5109d679b30bbf2ecfbdd7cd59d1d">  333</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor.html#a87c5109d679b30bbf2ecfbdd7cd59d1d">VisitPointers</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> host, <a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">MaybeObjectSlot</a> start,</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                       <a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">MaybeObjectSlot</a> <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>) <span class="keyword">final</span> {</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;      <span class="keywordflow">if</span> (!all_slots_are_promo_candidates()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">MaybeObjectSlot</a> slot = start; slot &lt; <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>; slot++) {</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;MaybeObject&gt;</a> maybe_object = slot.load(committee_-&gt;isolate_);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> heap_object;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        <span class="keywordflow">if</span> (!maybe_object.<a class="code" href="classv8_1_1internal_1_1TaggedImpl.html#a941f4af4ddba9f09e9ff1ca6e4382c36">GetHeapObject</a>(&amp;heap_object)) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        <span class="keywordflow">if</span> (!committee_-&gt;EvaluateSubgraph({host}, heap_object,</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                                          accepted_subgraph_, visited_,</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                                          promotees_)) {</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;          first_rejected_slot_offset_ =</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;              <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(slot.address() - host.address());</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a>(first_rejected_slot_offset_, 0);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        }</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      }</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    }</div>
<div class="line"><a name="l00350"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor.html#abc2996a567170228c4a97146e066522b">  350</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor.html#abc2996a567170228c4a97146e066522b">VisitPointers</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> host, <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">ObjectSlot</a> start,</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                       <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">ObjectSlot</a> <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>) <span class="keyword">final</span> {</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      VisitPointers(host, <a class="code" href="namespacev8_1_1internal.html#a5c81bf980e0cdd16e6f80a806701fd76">MaybeObjectSlot</a>(start), <a class="code" href="namespacev8_1_1internal.html#a5c81bf980e0cdd16e6f80a806701fd76">MaybeObjectSlot</a>(<a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>));</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    }</div>
<div class="line"><a name="l00354"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor.html#a3290d106a5654978e0a98fa38b98a8b9">  354</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor.html#a3290d106a5654978e0a98fa38b98a8b9">VisitInstructionStreamPointer</a>(<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Code&gt;</a> host,</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                                       <a class="code" href="classv8_1_1internal_1_1OffHeapFullObjectSlot.html">InstructionStreamSlot</a> slot) <span class="keyword">final</span> {</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(host-&gt;is_builtin());</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    }</div>
<div class="line"><a name="l00358"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor.html#a1245c2c809a7cb24361e785d1ba3d696">  358</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor.html#a1245c2c809a7cb24361e785d1ba3d696">VisitMapPointer</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> host) <span class="keyword">final</span> {</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      <a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">MaybeObjectSlot</a> slot = host-&gt;RawMaybeWeakField(<a class="code" href="classv8_1_1internal_1_1HeapObject.html#a6250a2489c3d60667b5b3153dff0fed3">HeapObject::kMapOffset</a>);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      VisitPointers(host, slot, slot + 1);</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    }</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160; </div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;   <span class="keyword">private</span>:</div>
<div class="line"><a name="l00364"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor.html#a04703184c3ba5da7b6be4b438c919d61">  364</a></span>&#160;    <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html">Committee</a>* <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor.html#a04703184c3ba5da7b6be4b438c919d61">committee_</a>;</div>
<div class="line"><a name="l00365"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor.html#a8a61097de76890bd2f1f62f27ecc1094">  365</a></span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a119eb1ab3d934b33de6314ac113d52c0">HeapObjectSet</a>* <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor.html#a8a61097de76890bd2f1f62f27ecc1094">accepted_subgraph_</a>;</div>
<div class="line"><a name="l00366"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor.html#a0130d5439cbd1b460f2fc8b86b209894">  366</a></span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a119eb1ab3d934b33de6314ac113d52c0">HeapObjectSet</a>* <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor.html#a0130d5439cbd1b460f2fc8b86b209894">visited_</a>;</div>
<div class="line"><a name="l00367"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor.html#a6886b3717a0d648a1844afc13e96fa18">  367</a></span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a6cde169476b540c1f6b9a7f42ac2d45b">HeapObjectList</a>* <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor.html#a6886b3717a0d648a1844afc13e96fa18">promotees_</a>;</div>
<div class="line"><a name="l00368"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor.html#ab46a1f593aec7df2fbee280aaa4dc2d0">  368</a></span>&#160;    std::optional&lt;Tagged&lt;HeapObject&gt;&gt; <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor.html#ab46a1f593aec7df2fbee280aaa4dc2d0">maybe_host_</a>;</div>
<div class="line"><a name="l00369"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor.html#a4c6993226a53ec17729af17d76ce993a">  369</a></span>&#160;    <span class="keywordtype">int</span> first_rejected_slot_offset_ = -1;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  };</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160; </div>
<div class="line"><a name="l00372"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#a971742832c31701b00abe52be93af817">  372</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#a971742832c31701b00abe52be93af817">LogAcceptedPromotionSet</a>(<span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a119eb1ab3d934b33de6314ac113d52c0">HeapObjectSet</a>&amp; os) {</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;ro-promotion: accepted set {&quot;</span>;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> o : os) {</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;      std::cout &lt;&lt; reinterpret_cast&lt;void*&gt;(o.ptr()) &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    }</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;}\n&quot;</span>;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  }</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160; </div>
<div class="line"><a name="l00380"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#a8a3b070e638b280c3c29d2ef39be1f43">  380</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#a8a3b070e638b280c3c29d2ef39be1f43">LogRejectedPromotionForFailedPredicate</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> o) {</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;ro-promotion: rejected due to failed predicate &quot;</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;              &lt;&lt; <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(o.<a class="code" href="classv8_1_1internal_1_1TaggedImpl.html#a4dba1b2eafcf7a414910966f950540c9">ptr</a>()) &lt;&lt; <span class="stringliteral">&quot; (&quot;</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;              &lt;&lt; o-&gt;map()-&gt;instance_type() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;              &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  }</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160; </div>
<div class="line"><a name="l00387"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#abc38aa07d69ac81534e76abfdc01e6b4">  387</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#abc38aa07d69ac81534e76abfdc01e6b4">LogRejectedPromotionForNoMatchingHost</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> o) {</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;ro-promotion: rejected because it wasn&#39;t included into any &quot;</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                 <span class="stringliteral">&quot;accepted set &quot;</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;              &lt;&lt; <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(o.<a class="code" href="classv8_1_1internal_1_1TaggedImpl.html#a4dba1b2eafcf7a414910966f950540c9">ptr</a>()) &lt;&lt; <span class="stringliteral">&quot; (&quot;</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;              &lt;&lt; o-&gt;map()-&gt;instance_type() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;              &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  }</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160; </div>
<div class="line"><a name="l00395"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#a52acfe2fc5f27d3af438a820eb6cddcf">  395</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#a52acfe2fc5f27d3af438a820eb6cddcf">LogRejectedPromotionForInvalidSubgraph</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> o,</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                                              <span class="keywordtype">int</span> first_rejected_slot_offset) {</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;ro-promotion: rejected due to rejected subgraph &quot;</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;              &lt;&lt; <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(o.<a class="code" href="classv8_1_1internal_1_1TaggedImpl.html#a4dba1b2eafcf7a414910966f950540c9">ptr</a>()) &lt;&lt; <span class="stringliteral">&quot; (&quot;</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;              &lt;&lt; o-&gt;map()-&gt;instance_type() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;              &lt;&lt; <span class="stringliteral">&quot; at slot offset &quot;</span> &lt;&lt; first_rejected_slot_offset &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160; </div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">MaybeObjectSlot</a> slot = o-&gt;RawMaybeWeakField(first_rejected_slot_offset);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;MaybeObject&gt;</a> maybe_object = slot.<a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html#a7a1eca96493700aaebcdaaf293bfe3d1">load</a>(isolate_);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> heap_object;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="keywordflow">if</span> (maybe_object.<a class="code" href="classv8_1_1internal_1_1TaggedImpl.html#a941f4af4ddba9f09e9ff1ca6e4382c36">GetHeapObject</a>(&amp;heap_object)) {</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      std::cout &lt;&lt; reinterpret_cast&lt;void*&gt;(heap_object.<a class="code" href="classv8_1_1internal_1_1TaggedImpl.html#a4dba1b2eafcf7a414910966f950540c9">ptr</a>()) &lt;&lt; <span class="stringliteral">&quot; (&quot;</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                &lt;&lt; heap_object-&gt;map()-&gt;instance_type() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;      std::cout &lt;&lt; <span class="stringliteral">&quot;&lt;cleared weak object&gt;\n&quot;</span>;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    }</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  }</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160; </div>
<div class="line"><a name="l00414"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#a3e41f732d38d7a7a50b2b7120c1c61d6">  414</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#a3e41f732d38d7a7a50b2b7120c1c61d6">isolate_</a>;</div>
<div class="line"><a name="l00415"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#a91202374fb90fc6707c45a97dfcab0fe">  415</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1ExternalReferenceEncoder.html">ExternalReferenceEncoder</a> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#a91202374fb90fc6707c45a97dfcab0fe">ref_encoder_</a>;</div>
<div class="line"><a name="l00416"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#a356b34a5616619a4b910e0a7ae13d381">  416</a></span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a119eb1ab3d934b33de6314ac113d52c0">HeapObjectSet</a> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#a356b34a5616619a4b910e0a7ae13d381">promo_accepted_</a>;</div>
<div class="line"><a name="l00417"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#a8759b35a0ab8e996139159bffefb3c35">  417</a></span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a119eb1ab3d934b33de6314ac113d52c0">HeapObjectSet</a> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#a8759b35a0ab8e996139159bffefb3c35">promo_rejected_</a>;</div>
<div class="line"><a name="l00418"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#acc3204677d838e78d66f62179d53ea6d">  418</a></span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a119eb1ab3d934b33de6314ac113d52c0">HeapObjectSet</a> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#acc3204677d838e78d66f62179d53ea6d">promo_deferred_</a>;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;};</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160; </div>
<div class="line"><a name="l00421"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl.html">  421</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl.html">ReadOnlyPromotionImpl</a> final : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1AllStatic.html">AllStatic</a> {</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00423"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl.html#ae55ff52427eee7e42c93a9be7d9216e4">  423</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl.html#ae55ff52427eee7e42c93a9be7d9216e4">CopyToReadOnlyHeap</a>(</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <span class="keyword">const</span> std::vector&lt;<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a>&gt;&amp; promotees,</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a824c4cab632e1345be4d7ee08a713631">HeapObjectMap</a>* moves) {</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <a class="code" href="classv8_1_1internal_1_1ReadOnlySpace.html">ReadOnlySpace</a>* rospace = isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">heap</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a482b0e611163752646a324e7932c3845">read_only_space</a>();</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> src : promotees) {</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = src-&gt;Size(isolate);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> dst =</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;          rospace-&gt;<a class="code" href="classv8_1_1internal_1_1ReadOnlySpace.html#a81068f54d403e4cc864ce1747e7d4e4c">AllocateRaw</a>(<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, <a class="code" href="namespacev8_1_1internal.html#ab6431cd9205265cf49909abcac939803a89dfe630590dbfe7004e6de0fabec67b">kTaggedAligned</a>).<a class="code" href="classv8_1_1internal_1_1AllocationResult.html#a8aabea3aeff2b4f270f17fa45723c3f2">ToObjectChecked</a>();</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Heap.html#ac3641a0b7518d1536161ebcb69bc4be9">Heap::CopyBlock</a>(dst.<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html#a07c12d3bf0972861e1c5aefabd00971f">address</a>(), src.address(), <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;      moves-&gt;emplace(src, dst);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160; </div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_read_only_promotion_verbose)) {</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        LogPromotedObject(src, dst);</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;      }</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    }</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  }</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160; </div>
<div class="line"><a name="l00440"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl.html#aca2d07ebd5c1beb9473bf03fea1d44c6">  440</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl.html#aca2d07ebd5c1beb9473bf03fea1d44c6">UpdatePointers</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                             <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1SafepointScope.html">SafepointScope</a>&amp; safepoint_scope,</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                             <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a824c4cab632e1345be4d7ee08a713631">HeapObjectMap</a>&amp; moves) {</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Heap.html">Heap</a>* <a class="code" href="namespaceheap.html">heap</a> = isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">heap</a>();</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="preprocessor">#ifdef V8_COMPRESS_POINTERS</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    ExternalPointerTable::UnsealReadOnlySegmentScope unseal_scope(</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        &amp;isolate-&gt;external_pointer_table());</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_COMPRESS_POINTERS</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html">UpdatePointersVisitor</a> v(isolate, &amp;moves);</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160; </div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="comment">// Iterate all roots.</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <a class="code" href="classv8_1_1internal_1_1EmbedderStackStateScope.html">EmbedderStackStateScope</a> stack_scope(</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">heap</a>(), <a class="code" href="namespacev8_1_1internal.html#aaf09a39558f639935e293adba6962fc7ad15860417dc4fe071de45246b23edaaa">EmbedderStackStateOrigin::kExplicitInvocation</a>,</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        StackState::kNoHeapPointers);</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <a class="code" href="namespaceheap.html">heap</a>-&gt;IterateRoots(&amp;v, <a class="code" href="classv8_1_1base_1_1EnumSet.html">base::EnumSet&lt;SkipRoot&gt;</a>{});</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160; </div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="comment">// Iterate all objects on the mutable heap.</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="comment">// We assume that a full and precise GC has reclaimed all dead objects</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="comment">// and therefore that no filtering of unreachable objects is required here.</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <a class="code" href="classv8_1_1internal_1_1HeapObjectIterator.html">HeapObjectIterator</a> it(<a class="code" href="namespaceheap.html">heap</a>, safepoint_scope);</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> o = it.<a class="code" href="classv8_1_1internal_1_1HeapObjectIterator.html#aaf2e81d1a684f0f26633befe41d911cc">Next</a>(); !o.<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html#a0930e2a8cbe8abbc5cdd476902fe6c88">is_null</a>(); o = it.<a class="code" href="classv8_1_1internal_1_1HeapObjectIterator.html#aaf2e81d1a684f0f26633befe41d911cc">Next</a>()) {</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a5f672157ae21ec21c6452b35f5eb884c">VisitObject</a>(isolate, o, &amp;v);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    }</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160; </div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <span class="comment">// Iterate all objects we just copied into RO space.</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> [src, dst] : moves) {</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a5f672157ae21ec21c6452b35f5eb884c">VisitObject</a>(isolate, dst, &amp;v);</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    }</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160; </div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="preprocessor">#ifdef V8_ENABLE_LEAPTIERING</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="comment">// Iterate all entries in the JSDispatchTable as they could contain</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="comment">// pointers to promoted Code objects.</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    JSDispatchTable* <span class="keyword">const</span> jdt = <a class="code" href="classv8_1_1internal_1_1IsolateGroup.html#a3ca6c5d3f2b884f5866595543d2e0fd7">IsolateGroup::current</a>()-&gt;js_dispatch_table();</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    jdt-&gt;IterateActiveEntriesIn(<a class="code" href="namespaceheap.html">heap</a>-&gt;js_dispatch_table_space(),</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                                [&amp;](<a class="code" href="classv8_1_1base_1_1StrongAlias.html">JSDispatchHandle</a> <a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>) {</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                                  Tagged&lt;Code&gt; old_code = jdt-&gt;GetCode(handle);</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                                  auto it = moves.find(old_code);</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                                  if (it == moves.end()) return;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                                  Tagged&lt;HeapObject&gt; new_code = it-&gt;second;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                                  CHECK(IsCode(new_code));</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                                  <span class="comment">// TODO(saelo): is it worth logging something</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;                                  <span class="comment">// in this case?</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                                  jdt-&gt;SetCodeNoWriteBarrier(</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                                      handle, Cast&lt;Code&gt;(new_code));</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                                });</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_LEAPTIERING</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  }</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160; </div>
<div class="line"><a name="l00488"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl.html#a5a81a4fd05f9b5a2652523db6fe946bc">  488</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl.html#a5a81a4fd05f9b5a2652523db6fe946bc">DeleteDeadObjects</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                                <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1SafepointScope.html">SafepointScope</a>&amp; safepoint_scope,</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                                <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a824c4cab632e1345be4d7ee08a713631">HeapObjectMap</a>&amp; moves) {</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="comment">// After moving a source object to a new destination, overwrite the source</span></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="comment">// memory with a filler. This is needed for moved objects that are verified</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="comment">// by the heap verifier to have a 1-1 relation with some other object (e.g.</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="comment">// objects related to trusted space). The verifier won&#39;t compute liveness</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="comment">// and instead just iterates linearly over pages. Without this change the</span></div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="comment">// verifier would fail on this now-dead object.</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> [src, dst] : moves) {</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!<a class="code" href="classv8_1_1internal_1_1HeapLayout.html#a91ac1680dc7f626bd8675e14ac660240">HeapLayout::InReadOnlySpace</a>(src));</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;      isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">heap</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a4e77c4c4c45f64cd073d9e29b9d7fb91">CreateFillerObjectAt</a>(src.address(), src-&gt;Size(isolate));</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    }</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  }</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160; </div>
<div class="line"><a name="l00503"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl.html#ac2569df3e492346c652057f63054e06d">  503</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl.html#ac2569df3e492346c652057f63054e06d">Verify</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1SafepointScope.html">SafepointScope</a>&amp; safepoint_scope) {</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <span class="comment">// Verify that certain objects were promoted as expected.</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <span class="comment">// Known objects.</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Heap.html">Heap</a>* <a class="code" href="namespaceheap.html">heap</a> = isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">heap</a>();</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code" href="classv8_1_1internal_1_1HeapLayout.html#a91ac1680dc7f626bd8675e14ac660240">HeapLayout::InReadOnlySpace</a>(</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        <a class="code" href="namespaceheap.html">heap</a>-&gt;promise_all_resolve_element_closure_shared_fun()));</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code" href="classv8_1_1internal_1_1HeapLayout.html#a91ac1680dc7f626bd8675e14ac660240">HeapLayout::InReadOnlySpace</a>(<a class="code" href="namespaceheap.html">heap</a>-&gt;error_stack_getter_fun_template()));</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code" href="classv8_1_1internal_1_1HeapLayout.html#a91ac1680dc7f626bd8675e14ac660240">HeapLayout::InReadOnlySpace</a>(<a class="code" href="namespaceheap.html">heap</a>-&gt;error_stack_setter_fun_template()));</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160; </div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <span class="comment">// TODO(jgruber): Extend here with more objects as they are added to</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="comment">// the promotion algorithm.</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160; </div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="comment">// Builtin Code objects.</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1Builtins.html#ac24aadac6cd8b8ff875cf8bb9f0a476b">Builtins::kCodeObjectsAreInROSpace</a>) {</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Builtins.html">Builtins</a>* builtins = isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a6cb0edf57f829ea37a9a48a3e6bc007d">builtins</a>();</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; <a class="code" href="classv8_1_1internal_1_1Builtins.html#a382fb596cae93ead73c99dc709ba63e0">Builtins::kBuiltinCount</a>; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code" href="classv8_1_1internal_1_1HeapLayout.html#a91ac1680dc7f626bd8675e14ac660240">HeapLayout::InReadOnlySpace</a>(</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;            builtins-&gt;<a class="code" href="classv8_1_1internal_1_1Builtins.html#a2260f6f209a0b9af26f64d5cf774018b">code</a>(<span class="keyword">static_cast&lt;</span><a class="code" href="namespacev8_1_1internal.html#acc2e164143496f18b5ec68f8ab70af52">Builtin</a><span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal.html">i</a>))));</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;      }</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    }</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// DEBUG</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  }</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160; </div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00529"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html">  529</a></span>&#160;  <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html">UpdatePointersVisitor</a> final : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1ObjectVisitor.html">ObjectVisitor</a>, <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1RootVisitor.html">RootVisitor</a> {</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;   <span class="keyword">public</span>:</div>
<div class="line"><a name="l00531"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#a8633eba18824de8a251d2b967625db36">  531</a></span>&#160;    <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#a8633eba18824de8a251d2b967625db36">UpdatePointersVisitor</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a824c4cab632e1345be4d7ee08a713631">HeapObjectMap</a>* moves)</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        : isolate_(isolate), moves_(moves) {</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="preprocessor">#ifdef V8_ENABLE_SANDBOX</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> [_src, dst] : *moves_) {</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        promoted_objects_.emplace(dst);</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        <span class="keywordflow">if</span> (IsCode(dst)) {</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;          PromoteCodePointerEntryFor(Cast&lt;Code&gt;(dst));</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        }</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;      }</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_SANDBOX</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    }</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160; </div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="comment">// The RootVisitor interface.</span></div>
<div class="line"><a name="l00544"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#afcfd36f5c41afafcad1f9188ad2e3eed">  544</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#afcfd36f5c41afafcad1f9188ad2e3eed">VisitRootPointers</a>(<a class="code" href="namespacev8_1_1internal.html#ae1439207c9f98c41dbdea3eca3572d54">Root</a> root, <span class="keyword">const</span> <span class="keywordtype">char</span>* description,</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                           <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">FullObjectSlot</a> start, <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">FullObjectSlot</a> <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>) <span class="keyword">final</span> {</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">FullObjectSlot</a> slot = start; slot &lt; <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>; slot++) {</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        ProcessSlot(root, slot);</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;      }</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    }</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160; </div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <span class="comment">// The ObjectVisitor interface.</span></div>
<div class="line"><a name="l00552"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#a357453f572be27872dc23978a13bc242">  552</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#a357453f572be27872dc23978a13bc242">VisitPointers</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> host, <a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">MaybeObjectSlot</a> start,</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                       <a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">MaybeObjectSlot</a> <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>) <span class="keyword">final</span> {</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">MaybeObjectSlot</a> slot = start; slot &lt; <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>; slot++) {</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        ProcessSlot(host, slot);</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;      }</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    }</div>
<div class="line"><a name="l00558"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#a6f5ecd51c95f320a59814284a97d4b76">  558</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#a6f5ecd51c95f320a59814284a97d4b76">VisitPointers</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> host, <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">ObjectSlot</a> start,</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                       <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">ObjectSlot</a> <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>) <span class="keyword">final</span> {</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      VisitPointers(host, <a class="code" href="namespacev8_1_1internal.html#a5c81bf980e0cdd16e6f80a806701fd76">MaybeObjectSlot</a>(start), <a class="code" href="namespacev8_1_1internal.html#a5c81bf980e0cdd16e6f80a806701fd76">MaybeObjectSlot</a>(<a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>));</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    }</div>
<div class="line"><a name="l00562"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#a1f41e85ac195d49f1563815e6b8ac216">  562</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#a1f41e85ac195d49f1563815e6b8ac216">VisitInstructionStreamPointer</a>(<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Code&gt;</a> host,</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                                       <a class="code" href="classv8_1_1internal_1_1OffHeapFullObjectSlot.html">InstructionStreamSlot</a> slot) <span class="keyword">final</span> {</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;      <span class="comment">// InstructionStream objects never move to RO space.</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    }</div>
<div class="line"><a name="l00566"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#a9f8d7799c65f2fc87af1a9371a7a0d8d">  566</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#a9f8d7799c65f2fc87af1a9371a7a0d8d">VisitMapPointer</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> host) <span class="keyword">final</span> {</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;      ProcessSlot(host, host-&gt;RawMaybeWeakField(<a class="code" href="classv8_1_1internal_1_1HeapObject.html#a6250a2489c3d60667b5b3153dff0fed3">HeapObject::kMapOffset</a>));</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    }</div>
<div class="line"><a name="l00569"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#a408337b1ad01c6e953963a001476b5d3">  569</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#a408337b1ad01c6e953963a001476b5d3">VisitExternalPointer</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> host,</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                              <a class="code" href="classv8_1_1internal_1_1ExternalPointerSlot.html">ExternalPointerSlot</a> slot) <span class="keyword">final</span> {</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="preprocessor">#ifdef V8_ENABLE_SANDBOX</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;      <span class="keywordflow">if</span> (promoted_objects_.find(host) == promoted_objects_.end()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160; </div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;      <span class="comment">// If we reach here, `host` is a moved object with external pointer slots</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;      <span class="comment">// located in RO space. To preserve the 1:1 relation between slots and</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;      <span class="comment">// table entries, allocate a new entry (in</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;      <span class="comment">// read_only_external_pointer_space) now.</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;      RecordProcessedSlotIfDebug(slot.address());</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;      <a class="code" href="classuintptr__t.html">Address</a> slot_value = slot.load(isolate_);</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(slot.ExactTagIsKnown());</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;      slot.init(isolate_, host, slot_value, slot.exact_tag());</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160; </div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_read_only_promotion_verbose)) {</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        LogUpdatedExternalPointerTableEntry(host, slot, slot_value);</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;      }</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_SANDBOX</span></div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    }</div>
<div class="line"><a name="l00588"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#af4635fcfcb2efc3aa434f79cda1080c6">  588</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#af4635fcfcb2efc3aa434f79cda1080c6">VisitIndirectPointer</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> host, <a class="code" href="classv8_1_1internal_1_1IndirectPointerSlot.html">IndirectPointerSlot</a> slot,</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                              <a class="code" href="namespacev8_1_1internal.html#a3d154fed8222e22068b915454f5db983">IndirectPointerMode</a> <a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a>) <span class="keyword">final</span> {</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;<span class="preprocessor">#ifdef V8_ENABLE_SANDBOX</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;      <span class="keywordflow">if</span> (slot.tag() == kCodeIndirectPointerTag) {</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        VisitCodePointer(host, slot);</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;      }</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_SANDBOX</span></div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    }</div>
<div class="line"><a name="l00596"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#a0e3d4afdeba58dc52da82ab5bf22353f">  596</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#a0e3d4afdeba58dc52da82ab5bf22353f">VisitTrustedPointerTableEntry</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> host,</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                                       <a class="code" href="classv8_1_1internal_1_1IndirectPointerSlot.html">IndirectPointerSlot</a> slot) <span class="keyword">final</span> {</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;<span class="preprocessor">#ifdef V8_ENABLE_SANDBOX</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;      <span class="keywordflow">if</span> (slot.tag() == kCodeIndirectPointerTag) {</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        VisitCodePointer(host, slot);</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      }</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_SANDBOX</span></div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    }</div>
<div class="line"><a name="l00604"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#a931f7e9540fd356b578439be2d39e8ee">  604</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#a931f7e9540fd356b578439be2d39e8ee">VisitRootPointers</a>(<a class="code" href="namespacev8_1_1internal.html#ae1439207c9f98c41dbdea3eca3572d54">Root</a> root, <span class="keyword">const</span> <span class="keywordtype">char</span>* description,</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                           <a class="code" href="classv8_1_1internal_1_1OffHeapFullObjectSlot.html">OffHeapObjectSlot</a> start,</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                           <a class="code" href="classv8_1_1internal_1_1OffHeapFullObjectSlot.html">OffHeapObjectSlot</a> <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;      <span class="comment">// We shouldn&#39;t have moved any string table contents or SharedStructType</span></div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;      <span class="comment">// registry contents (which is what OffHeapObjectSlot currently refers</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;      <span class="comment">// to).</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1OffHeapFullObjectSlot.html">OffHeapObjectSlot</a> slot = start; slot &lt; <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>; slot++) {</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        <a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> o = slot.load(isolate_);</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#a0786c89c1004cb964dc034b138b263fd">IsHeapObject</a>(o)) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#aec172a30be109da7bcec909f32f43e8b">Contains</a>(*moves_, Cast&lt;HeapObject&gt;(o)));</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;      }</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    }</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160; </div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;   <span class="keyword">private</span>:</div>
<div class="line"><a name="l00618"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#a6600101feb90063cf4b4b625dc2252f5">  618</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#a6600101feb90063cf4b4b625dc2252f5">ProcessSlot</a>(<a class="code" href="namespacev8_1_1internal.html#ae1439207c9f98c41dbdea3eca3572d54">Root</a> root, <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">FullObjectSlot</a> slot) {</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> old_slot_value_obj = slot.<a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html#a4e88c8ba68e8440c83abd6077dad7c0a">load</a>(isolate_);</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;<span class="preprocessor">#ifdef V8_ENABLE_DIRECT_HANDLE</span></div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;      <span class="keywordflow">if</span> (old_slot_value_obj.<a class="code" href="classv8_1_1internal_1_1TaggedImpl.html#a4dba1b2eafcf7a414910966f950540c9">ptr</a>() == <a class="code" href="namespacev8_1_1internal.html#a175c065c1245d42fdbd4a853993be670">kTaggedNullAddress</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#a0786c89c1004cb964dc034b138b263fd">IsHeapObject</a>(old_slot_value_obj)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> old_slot_value = Cast&lt;HeapObject&gt;(old_slot_value_obj);</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;      <span class="keyword">auto</span> it = moves_-&gt;find(old_slot_value);</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;      <span class="keywordflow">if</span> (it == moves_-&gt;end()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> new_slot_value = it-&gt;second;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;      slot.<a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html#a8536dba7ebccdf4f0e1ccfcee33abedd">store</a>(new_slot_value);</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_read_only_promotion_verbose)) {</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        LogUpdatedPointer(root, slot, old_slot_value, new_slot_value);</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;      }</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    }</div>
<div class="line"><a name="l00633"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#adf11d4f77bca809af509f31324124404">  633</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#adf11d4f77bca809af509f31324124404">ProcessSlot</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> host, <a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">MaybeObjectSlot</a> slot) {</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> old_slot_value;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;      <span class="keywordflow">if</span> (!slot.<a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html#a7a1eca96493700aaebcdaaf293bfe3d1">load</a>(isolate_).GetHeapObject(&amp;old_slot_value)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;      <span class="keyword">auto</span> it = moves_-&gt;find(old_slot_value);</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;      <span class="keywordflow">if</span> (it == moves_-&gt;end()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> new_slot_value = it-&gt;second;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;      slot.<a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html#ab6f8319af72d18669c0e0c533924f052">store</a>(new_slot_value);</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_read_only_promotion_verbose)) {</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        LogUpdatedPointer(host, slot, old_slot_value, new_slot_value);</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;      }</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    }</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160; </div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;<span class="preprocessor">#ifdef V8_ENABLE_SANDBOX</span></div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="keywordtype">void</span> VisitCodePointer(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> host, <a class="code" href="classv8_1_1internal_1_1IndirectPointerSlot.html">IndirectPointerSlot</a> slot) {</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(kCodeIndirectPointerTag, slot.<a class="code" href="classv8_1_1internal_1_1IndirectPointerSlot.html#aa131486c497fbee9185738050a6bfda1">tag</a>());</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a54c20f5dfc8e7939a3b11dbe2584a1b9">IndirectPointerHandle</a> old_handle = slot.<a class="code" href="classv8_1_1internal_1_1IndirectPointerSlot.html#a93c5b66f3ea58e6333365b4085d5fcf1">Relaxed_LoadHandle</a>();</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;      <span class="keyword">auto</span> it = code_pointer_moves_.find(old_handle);</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;      <span class="keywordflow">if</span> (it == code_pointer_moves_.end()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160; </div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;      <span class="comment">// If we reach here, `host` is a moved object with a code pointer slot</span></div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;      <span class="comment">// located in RO space. To preserve the 1:1 relation between slots and</span></div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;      <span class="comment">// table entries, we need to use the relocated code pointer table entry.</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;      RecordProcessedSlotIfDebug(slot.<a class="code" href="classv8_1_1internal_1_1SlotBase.html#a761a11659b4338ee734b79e7c6886911">address</a>());</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a54c20f5dfc8e7939a3b11dbe2584a1b9">IndirectPointerHandle</a> new_handle = it-&gt;second;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;      slot.<a class="code" href="classv8_1_1internal_1_1IndirectPointerSlot.html#a9d63625c9a011b1e0b1611bcca752885">Relaxed_StoreHandle</a>(new_handle);</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160; </div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_read_only_promotion_verbose)) {</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        LogUpdatedCodePointerTableEntry(host, slot, old_handle, new_handle);</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;      }</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    }</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160; </div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <span class="keywordtype">void</span> PromoteCodePointerEntryFor(<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Code&gt;</a> <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>) {</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;      <span class="comment">// If we reach here, `code` is a moved Code object located in RO space.</span></div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code" href="classv8_1_1internal_1_1HeapLayout.html#a91ac1680dc7f626bd8675e14ac660240">HeapLayout::InReadOnlySpace</a>(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>));</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160; </div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;      <a class="code" href="classv8_1_1internal_1_1IndirectPointerSlot.html">IndirectPointerSlot</a> slot = <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;RawIndirectPointerField(</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;          Code::kSelfIndirectPointerOffset, kCodeIndirectPointerTag);</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a4d03c33de6286b42a8983faca58fa54b">CodeEntrypointTag</a> entrypoint_tag = <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;entrypoint_tag();</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160; </div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a54c20f5dfc8e7939a3b11dbe2584a1b9">IndirectPointerHandle</a> old_handle = slot.<a class="code" href="classv8_1_1internal_1_1IndirectPointerSlot.html#a93c5b66f3ea58e6333365b4085d5fcf1">Relaxed_LoadHandle</a>();</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;      CodePointerTable* cpt = <a class="code" href="classv8_1_1internal_1_1IsolateGroup.html#a3ca6c5d3f2b884f5866595543d2e0fd7">IsolateGroup::current</a>()-&gt;code_pointer_table();</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160; </div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;      <span class="comment">// To preserve the 1:1 relation between slots and code table entries,</span></div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;      <span class="comment">// allocate a new entry (in the code_pointer_space of the RO heap) now.</span></div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;      <span class="comment">// The slot will be updated later, when the Code object is visited.</span></div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;      CodePointerTable::Space* <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a> =</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;          <a class="code" href="classv8_1_1internal_1_1IsolateForSandbox.html">IsolateForSandbox</a>(isolate_).GetCodePointerTableSpaceFor(</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;              slot.<a class="code" href="classv8_1_1internal_1_1SlotBase.html#a761a11659b4338ee734b79e7c6886911">address</a>());</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a54c20f5dfc8e7939a3b11dbe2584a1b9">IndirectPointerHandle</a> new_handle = cpt-&gt;AllocateAndInitializeEntry(</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;          <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>, <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>.address(), cpt-&gt;GetEntrypoint(old_handle, entrypoint_tag),</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;          entrypoint_tag);</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160; </div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;      code_pointer_moves_.emplace(old_handle, new_handle);</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160; </div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_read_only_promotion_verbose)) {</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        LogPromotedCodePointerTableEntry(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>, old_handle, new_handle);</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;      }</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    }</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_SANDBOX</span></div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160; </div>
<div class="line"><a name="l00693"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#a5c22ac4bb8fe2409490ba7991c319462">  693</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#a5c22ac4bb8fe2409490ba7991c319462">LogUpdatedPointer</a>(<a class="code" href="namespacev8_1_1internal.html#ae1439207c9f98c41dbdea3eca3572d54">Root</a> root, <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">FullObjectSlot</a> slot,</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;                           <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> old_slot_value,</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;                           <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> new_slot_value) {</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;      std::cout &lt;&lt; <span class="stringliteral">&quot;ro-promotion: updated pointer {root &quot;</span></div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;                &lt;&lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(root) &lt;&lt; <span class="stringliteral">&quot; slot &quot;</span></div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;                &lt;&lt; <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(slot.<a class="code" href="classv8_1_1internal_1_1SlotBase.html#a761a11659b4338ee734b79e7c6886911">address</a>()) &lt;&lt; <span class="stringliteral">&quot; from &quot;</span></div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;                &lt;&lt; <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(old_slot_value.<a class="code" href="classv8_1_1internal_1_1TaggedImpl.html#a4dba1b2eafcf7a414910966f950540c9">ptr</a>()) &lt;&lt; <span class="stringliteral">&quot; to &quot;</span></div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;                &lt;&lt; <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(new_slot_value.<a class="code" href="classv8_1_1internal_1_1TaggedImpl.html#a4dba1b2eafcf7a414910966f950540c9">ptr</a>()) &lt;&lt; <span class="stringliteral">&quot;}\n&quot;</span>;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    }</div>
<div class="line"><a name="l00702"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#afce0d3cf828ca8ead15812ab27fbcfaf">  702</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#afce0d3cf828ca8ead15812ab27fbcfaf">LogUpdatedPointer</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> host, <a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">MaybeObjectSlot</a> slot,</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;                           <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> old_slot_value,</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;                           <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> new_slot_value) {</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;      std::cout &lt;&lt; <span class="stringliteral">&quot;ro-promotion: updated pointer {host &quot;</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;                &lt;&lt; <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(host.<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html#a07c12d3bf0972861e1c5aefabd00971f">address</a>()) &lt;&lt; <span class="stringliteral">&quot; slot &quot;</span></div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;                &lt;&lt; <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(slot.<a class="code" href="classv8_1_1internal_1_1SlotBase.html#a761a11659b4338ee734b79e7c6886911">address</a>()) &lt;&lt; <span class="stringliteral">&quot; from &quot;</span></div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;                &lt;&lt; <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(old_slot_value.<a class="code" href="classv8_1_1internal_1_1TaggedImpl.html#a4dba1b2eafcf7a414910966f950540c9">ptr</a>()) &lt;&lt; <span class="stringliteral">&quot; to &quot;</span></div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;                &lt;&lt; <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(new_slot_value.<a class="code" href="classv8_1_1internal_1_1TaggedImpl.html#a4dba1b2eafcf7a414910966f950540c9">ptr</a>()) &lt;&lt; <span class="stringliteral">&quot;}\n&quot;</span>;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    }</div>
<div class="line"><a name="l00711"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#ab5ced60585c842b87622bfd7970a5e97">  711</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#ab5ced60585c842b87622bfd7970a5e97">LogUpdatedExternalPointerTableEntry</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> host,</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;                                             <a class="code" href="classv8_1_1internal_1_1ExternalPointerSlot.html">ExternalPointerSlot</a> slot,</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                                             <a class="code" href="classuintptr__t.html">Address</a> slot_value) {</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;      std::cout &lt;&lt; <span class="stringliteral">&quot;ro-promotion: updated external pointer slot {host &quot;</span></div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;                &lt;&lt; <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(host.<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html#a07c12d3bf0972861e1c5aefabd00971f">address</a>()) &lt;&lt; <span class="stringliteral">&quot; slot &quot;</span></div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;                &lt;&lt; <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(slot.<a class="code" href="classv8_1_1internal_1_1SlotBase.html#a761a11659b4338ee734b79e7c6886911">address</a>()) &lt;&lt; <span class="stringliteral">&quot; slot_value &quot;</span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;                &lt;&lt; <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(slot_value) &lt;&lt; <span class="stringliteral">&quot;}\n&quot;</span>;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    }</div>
<div class="line"><a name="l00719"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#a7215c609d1f221fbe5b49a65c06b80c1">  719</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#a7215c609d1f221fbe5b49a65c06b80c1">LogUpdatedCodePointerTableEntry</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> host,</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;                                         <a class="code" href="classv8_1_1internal_1_1IndirectPointerSlot.html">IndirectPointerSlot</a> slot,</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;                                         <a class="code" href="namespacev8_1_1internal.html#a54c20f5dfc8e7939a3b11dbe2584a1b9">IndirectPointerHandle</a> old_handle,</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;                                         <a class="code" href="namespacev8_1_1internal.html#a54c20f5dfc8e7939a3b11dbe2584a1b9">IndirectPointerHandle</a> new_handle) {</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;      std::cout &lt;&lt; <span class="stringliteral">&quot;ro-promotion: updated code pointer table entry {host &quot;</span></div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                &lt;&lt; <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(host.<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html#a07c12d3bf0972861e1c5aefabd00971f">address</a>()) &lt;&lt; <span class="stringliteral">&quot; slot &quot;</span></div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;                &lt;&lt; <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(slot.<a class="code" href="classv8_1_1internal_1_1SlotBase.html#a761a11659b4338ee734b79e7c6886911">address</a>()) &lt;&lt; <span class="stringliteral">&quot; from &quot;</span></div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;                &lt;&lt; <a class="code" href="structv8_1_1internal_1_1AsHex.html">AsHex</a>(old_handle, 8, <span class="keyword">true</span>) &lt;&lt; <span class="stringliteral">&quot; to &quot;</span></div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;                &lt;&lt; <a class="code" href="structv8_1_1internal_1_1AsHex.html">AsHex</a>(new_handle, 8, <span class="keyword">true</span>) &lt;&lt; <span class="stringliteral">&quot;}\n&quot;</span>;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    }</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160; </div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <span class="keywordtype">void</span> RecordProcessedSlotIfDebug(<a class="code" href="classuintptr__t.html">Address</a> slot_address) {</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;      <span class="comment">// If this fails, we&#39;re visiting some object multiple times by accident.</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(processed_slots_.count(slot_address), 0);</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;      processed_slots_.insert(slot_address);</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    }</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    std::unordered_set&lt;Address&gt; processed_slots_;  <span class="comment">// To avoid dupe processing.</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00738"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#a3e95109383faf6322f611e64c454b07f">  738</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#a3e95109383faf6322f611e64c454b07f">RecordProcessedSlotIfDebug</a>(<a class="code" href="classuintptr__t.html">Address</a> slot_address)<span class="keyword"> const </span>{}</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// DEBUG</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160; </div>
<div class="line"><a name="l00741"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#afc9ff4aef427e460a3b2f3c445bc44c1">  741</a></span>&#160;    <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#afc9ff4aef427e460a3b2f3c445bc44c1">isolate_</a>;</div>
<div class="line"><a name="l00742"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#a2d888fa59a208e1a62719e8e890add16">  742</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a824c4cab632e1345be4d7ee08a713631">HeapObjectMap</a>* <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#a2d888fa59a208e1a62719e8e890add16">moves_</a>;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160; </div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;<span class="preprocessor">#ifdef V8_ENABLE_SANDBOX</span></div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a119eb1ab3d934b33de6314ac113d52c0">HeapObjectSet</a> promoted_objects_;</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160; </div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    <span class="comment">// When an object owning an pointer table entry is relocated to the RO</span></div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <span class="comment">// space, it cannot just update the entry to point to its new location</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="comment">// (see b/330450848). A new pointer table entry must be allocated for the</span></div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="comment">// relocated object, in a RO segment of the table.</span></div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160; </div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <span class="keyword">using</span> IndirectPointerHandleMap =</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        std::unordered_map&lt;IndirectPointerHandle, IndirectPointerHandle&gt;;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    IndirectPointerHandleMap code_pointer_moves_;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_SANDBOX</span></div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  };</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160; </div>
<div class="line"><a name="l00758"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl.html#a7b666e505cb3286ee15f2d0995e24af3">  758</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl.html#a7b666e505cb3286ee15f2d0995e24af3">LogPromotedObject</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> src,</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;                                <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> dst) {</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;ro-promotion: promoted object {from &quot;</span></div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;              &lt;&lt; <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(src.<a class="code" href="classv8_1_1internal_1_1TaggedImpl.html#a4dba1b2eafcf7a414910966f950540c9">ptr</a>()) &lt;&lt; <span class="stringliteral">&quot; to &quot;</span></div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;              &lt;&lt; <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(dst.<a class="code" href="classv8_1_1internal_1_1TaggedImpl.html#a4dba1b2eafcf7a414910966f950540c9">ptr</a>()) &lt;&lt; <span class="stringliteral">&quot;}\n&quot;</span>;</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  }</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160; </div>
<div class="line"><a name="l00765"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl.html#adca875e5477cc3768fcd5fa88198a4b7">  765</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl.html#adca875e5477cc3768fcd5fa88198a4b7">LogPromotedCodePointerTableEntry</a>(</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Code&gt;</a> <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>, <a class="code" href="namespacev8_1_1internal.html#a54c20f5dfc8e7939a3b11dbe2584a1b9">IndirectPointerHandle</a> old_handle,</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a54c20f5dfc8e7939a3b11dbe2584a1b9">IndirectPointerHandle</a> new_handle) {</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;ro-promotion: promoted code pointer table entry {code &quot;</span></div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;              &lt;&lt; <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>.ptr()) &lt;&lt; <span class="stringliteral">&quot; slot &quot;</span></div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;              &lt;&lt; <a class="code" href="structv8_1_1internal_1_1AsHex.html">AsHex</a>(old_handle, 8, <span class="keyword">true</span>) &lt;&lt; <span class="stringliteral">&quot; to &quot;</span></div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;              &lt;&lt; <a class="code" href="structv8_1_1internal_1_1AsHex.html">AsHex</a>(new_handle, 8, <span class="keyword">true</span>) &lt;&lt; <span class="stringliteral">&quot;}\n&quot;</span>;</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;  }</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;};</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160; </div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160; </div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l00778"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1ReadOnlyPromotion.html#a2f805092c91a128f3d09f6ad8a6a2a4e">  778</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1ReadOnlyPromotion.html#a2f805092c91a128f3d09f6ad8a6a2a4e">ReadOnlyPromotion::Promote</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;                                <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1SafepointScope.html">SafepointScope</a>&amp; safepoint_scope,</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;                                <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a>&amp; <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>) {</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;  <span class="comment">// Visit the mutable heap and determine the set of objects that can be</span></div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;  <span class="comment">// promoted to RO space.</span></div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;  std::vector&lt;Tagged&lt;HeapObject&gt;&gt; promotees =</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;      Committee::DeterminePromotees(isolate, <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>, safepoint_scope);</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;  <span class="comment">// Physically copy promotee objects to RO space and track all object moves.</span></div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a824c4cab632e1345be4d7ee08a713631">HeapObjectMap</a> moves;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  ReadOnlyPromotionImpl::CopyToReadOnlyHeap(isolate, promotees, &amp;moves);</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;  <span class="comment">// Update all references to moved objects to point at their new location in</span></div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;  <span class="comment">// RO space.</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;  ReadOnlyPromotionImpl::UpdatePointers(isolate, safepoint_scope, moves);</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;  ReadOnlyPromotionImpl::DeleteDeadObjects(isolate, safepoint_scope, moves);</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;  ReadOnlyPromotionImpl::Verify(isolate, safepoint_scope);</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;}</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160; </div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;}  <span class="comment">// namespace internal</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;}  <span class="comment">// namespace v8</span></div>
<div class="ttc" id="aassert-scope_8h_html"><div class="ttname"><a href="assert-scope_8h.html">assert-scope.h</a></div></div>
<div class="ttc" id="aclassuintptr__t_html"><div class="ttname"><a href="classuintptr__t.html">uintptr_t</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1EnumSet_html"><div class="ttname"><a href="classv8_1_1base_1_1EnumSet.html">v8::base::EnumSet</a></div><div class="ttdef"><b>Definition:</b> <a href="enum-set_8h_source.html#l00020">enum-set.h:20</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1StrongAlias_html"><div class="ttname"><a href="classv8_1_1base_1_1StrongAlias.html">v8::base::StrongAlias</a></div><div class="ttdef"><b>Definition:</b> <a href="strong-alias_8h_source.html#l00074">strong-alias.h:74</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1AllStatic_html"><div class="ttname"><a href="classv8_1_1internal_1_1AllStatic.html">v8::internal::AllStatic</a></div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00365">globals.h:365</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1AllocationResult_html_a8aabea3aeff2b4f270f17fa45723c3f2"><div class="ttname"><a href="classv8_1_1internal_1_1AllocationResult.html#a8aabea3aeff2b4f270f17fa45723c3f2">v8::internal::AllocationResult::ToObjectChecked</a></div><div class="ttdeci">Tagged&lt; HeapObject &gt; ToObjectChecked() const</div><div class="ttdef"><b>Definition:</b> <a href="allocation-result_8h_source.html#l00047">allocation-result.h:47</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Builtins_html"><div class="ttname"><a href="classv8_1_1internal_1_1Builtins.html">v8::internal::Builtins</a></div><div class="ttdef"><b>Definition:</b> <a href="builtins_8h_source.html#l00092">builtins.h:92</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Builtins_html_a2260f6f209a0b9af26f64d5cf774018b"><div class="ttname"><a href="classv8_1_1internal_1_1Builtins.html#a2260f6f209a0b9af26f64d5cf774018b">v8::internal::Builtins::code</a></div><div class="ttdeci">V8_EXPORT_PRIVATE Tagged&lt; Code &gt; code(Builtin builtin)</div><div class="ttdef"><b>Definition:</b> <a href="builtins_8cc_source.html#l00149">builtins.cc:149</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Builtins_html_a382fb596cae93ead73c99dc709ba63e0"><div class="ttname"><a href="classv8_1_1internal_1_1Builtins.html#a382fb596cae93ead73c99dc709ba63e0">v8::internal::Builtins::kBuiltinCount</a></div><div class="ttdeci">static constexpr int kBuiltinCount</div><div class="ttdef"><b>Definition:</b> <a href="builtins_8h_source.html#l00112">builtins.h:112</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Builtins_html_ac24aadac6cd8b8ff875cf8bb9f0a476b"><div class="ttname"><a href="classv8_1_1internal_1_1Builtins.html#ac24aadac6cd8b8ff875cf8bb9f0a476b">v8::internal::Builtins::kCodeObjectsAreInROSpace</a></div><div class="ttdeci">static constexpr bool kCodeObjectsAreInROSpace</div><div class="ttdef"><b>Definition:</b> <a href="builtins_8h_source.html#l00105">builtins.h:105</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Code_html"><div class="ttname"><a href="classv8_1_1internal_1_1Code.html">v8::internal::Code</a></div><div class="ttdef"><b>Definition:</b> <a href="code_8h_source.html#l00063">code.h:63</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EmbedderStackStateScope_html"><div class="ttname"><a href="classv8_1_1internal_1_1EmbedderStackStateScope.html">v8::internal::EmbedderStackStateScope</a></div><div class="ttdef"><b>Definition:</b> <a href="src_2heap_2heap_8h_source.html#l02764">heap.h:2764</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ExternalPointerSlot_html"><div class="ttname"><a href="classv8_1_1internal_1_1ExternalPointerSlot.html">v8::internal::ExternalPointerSlot</a></div><div class="ttdef"><b>Definition:</b> <a href="slots_8h_source.html#l00319">slots.h:321</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ExternalReferenceEncoder_html"><div class="ttname"><a href="classv8_1_1internal_1_1ExternalReferenceEncoder.html">v8::internal::ExternalReferenceEncoder</a></div><div class="ttdef"><b>Definition:</b> <a href="external-reference-encoder_8h_source.html#l00019">external-reference-encoder.h:19</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FullMaybeObjectSlot_html"><div class="ttname"><a href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">v8::internal::FullMaybeObjectSlot</a></div><div class="ttdef"><b>Definition:</b> <a href="slots_8h_source.html#l00152">slots.h:153</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FullMaybeObjectSlot_html_a7a1eca96493700aaebcdaaf293bfe3d1"><div class="ttname"><a href="classv8_1_1internal_1_1FullMaybeObjectSlot.html#a7a1eca96493700aaebcdaaf293bfe3d1">v8::internal::FullMaybeObjectSlot::load</a></div><div class="ttdeci">Tagged&lt; MaybeObject &gt; load() const</div><div class="ttdef"><b>Definition:</b> <a href="slots-inl_8h_source.html#l00130">slots-inl.h:130</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FullMaybeObjectSlot_html_ab6f8319af72d18669c0e0c533924f052"><div class="ttname"><a href="classv8_1_1internal_1_1FullMaybeObjectSlot.html#ab6f8319af72d18669c0e0c533924f052">v8::internal::FullMaybeObjectSlot::store</a></div><div class="ttdeci">void store(Tagged&lt; MaybeObject &gt; value) const</div><div class="ttdef"><b>Definition:</b> <a href="slots-inl_8h_source.html#l00137">slots-inl.h:137</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FullObjectSlot_html"><div class="ttname"><a href="classv8_1_1internal_1_1FullObjectSlot.html">v8::internal::FullObjectSlot</a></div><div class="ttdef"><b>Definition:</b> <a href="slots_8h_source.html#l00098">slots.h:98</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FullObjectSlot_html_a4e88c8ba68e8440c83abd6077dad7c0a"><div class="ttname"><a href="classv8_1_1internal_1_1FullObjectSlot.html#a4e88c8ba68e8440c83abd6077dad7c0a">v8::internal::FullObjectSlot::load</a></div><div class="ttdeci">Tagged&lt; Object &gt; load() const</div><div class="ttdef"><b>Definition:</b> <a href="slots-inl_8h_source.html#l00048">slots-inl.h:48</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FullObjectSlot_html_a8536dba7ebccdf4f0e1ccfcee33abedd"><div class="ttname"><a href="classv8_1_1internal_1_1FullObjectSlot.html#a8536dba7ebccdf4f0e1ccfcee33abedd">v8::internal::FullObjectSlot::store</a></div><div class="ttdeci">void store(Tagged&lt; Object &gt; value) const</div><div class="ttdef"><b>Definition:</b> <a href="slots-inl_8h_source.html#l00054">slots-inl.h:54</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FunctionTemplateInfo_html"><div class="ttname"><a href="classv8_1_1internal_1_1FunctionTemplateInfo.html">v8::internal::FunctionTemplateInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="templates_8h_source.html#l00117">templates.h:119</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FunctionTemplateRareData_html"><div class="ttname"><a href="classv8_1_1internal_1_1FunctionTemplateRareData.html">v8::internal::FunctionTemplateRareData</a></div><div class="ttdef"><b>Definition:</b> <a href="templates_8h_source.html#l00105">templates.h:107</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HeapLayout_html_a91ac1680dc7f626bd8675e14ac660240"><div class="ttname"><a href="classv8_1_1internal_1_1HeapLayout.html#a91ac1680dc7f626bd8675e14ac660240">v8::internal::HeapLayout::InReadOnlySpace</a></div><div class="ttdeci">static bool InReadOnlySpace(Tagged&lt; HeapObject &gt; object)</div><div class="ttdef"><b>Definition:</b> <a href="heap-layout-inl_8h_source.html#l00020">heap-layout-inl.h:20</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HeapObjectIterator_html"><div class="ttname"><a href="classv8_1_1internal_1_1HeapObjectIterator.html">v8::internal::HeapObjectIterator</a></div><div class="ttdef"><b>Definition:</b> <a href="src_2heap_2heap_8h_source.html#l02687">heap.h:2687</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HeapObjectIterator_html_aaf2e81d1a684f0f26633befe41d911cc"><div class="ttname"><a href="classv8_1_1internal_1_1HeapObjectIterator.html#aaf2e81d1a684f0f26633befe41d911cc">v8::internal::HeapObjectIterator::Next</a></div><div class="ttdeci">Tagged&lt; HeapObject &gt; Next()</div><div class="ttdef"><b>Definition:</b> <a href="heap_8cc_source.html#l06857">heap.cc:6857</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HeapObject_html_a6250a2489c3d60667b5b3153dff0fed3"><div class="ttname"><a href="classv8_1_1internal_1_1HeapObject.html#a6250a2489c3d60667b5b3153dff0fed3">v8::internal::HeapObject::kMapOffset</a></div><div class="ttdeci">static constexpr int kMapOffset</div><div class="ttdef"><b>Definition:</b> <a href="heap-object_8h_source.html#l00498">heap-object.h:498</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html">v8::internal::Heap</a></div><div class="ttdef"><b>Definition:</b> <a href="src_2heap_2heap_8h_source.html#l00212">heap.h:212</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_a482b0e611163752646a324e7932c3845"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#a482b0e611163752646a324e7932c3845">v8::internal::Heap::read_only_space</a></div><div class="ttdeci">ReadOnlySpace * read_only_space() const</div><div class="ttdef"><b>Definition:</b> <a href="src_2heap_2heap_8h_source.html#l00781">heap.h:781</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_a4e77c4c4c45f64cd073d9e29b9d7fb91"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#a4e77c4c4c45f64cd073d9e29b9d7fb91">v8::internal::Heap::CreateFillerObjectAt</a></div><div class="ttdeci">V8_EXPORT_PRIVATE void CreateFillerObjectAt(Address addr, int size, ClearFreedMemoryMode clear_memory_mode=ClearFreedMemoryMode::kDontClearFreedMemory)</div><div class="ttdef"><b>Definition:</b> <a href="heap_8cc_source.html#l03348">heap.cc:3348</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_ac3641a0b7518d1536161ebcb69bc4be9"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#ac3641a0b7518d1536161ebcb69bc4be9">v8::internal::Heap::CopyBlock</a></div><div class="ttdeci">static void CopyBlock(Address dst, Address src, int byte_size)</div><div class="ttdef"><b>Definition:</b> <a href="heap-inl_8h_source.html#l00292">heap-inl.h:292</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1IndirectPointerSlot_html"><div class="ttname"><a href="classv8_1_1internal_1_1IndirectPointerSlot.html">v8::internal::IndirectPointerSlot</a></div><div class="ttdef"><b>Definition:</b> <a href="slots_8h_source.html#l00478">slots.h:480</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1IndirectPointerSlot_html_a93c5b66f3ea58e6333365b4085d5fcf1"><div class="ttname"><a href="classv8_1_1internal_1_1IndirectPointerSlot.html#a93c5b66f3ea58e6333365b4085d5fcf1">v8::internal::IndirectPointerSlot::Relaxed_LoadHandle</a></div><div class="ttdeci">IndirectPointerHandle Relaxed_LoadHandle() const</div><div class="ttdef"><b>Definition:</b> <a href="slots-inl_8h_source.html#l00409">slots-inl.h:409</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1IndirectPointerSlot_html_a9d63625c9a011b1e0b1611bcca752885"><div class="ttname"><a href="classv8_1_1internal_1_1IndirectPointerSlot.html#a9d63625c9a011b1e0b1611bcca752885">v8::internal::IndirectPointerSlot::Relaxed_StoreHandle</a></div><div class="ttdeci">void Relaxed_StoreHandle(IndirectPointerHandle handle) const</div><div class="ttdef"><b>Definition:</b> <a href="slots-inl_8h_source.html#l00417">slots-inl.h:417</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1IndirectPointerSlot_html_aa131486c497fbee9185738050a6bfda1"><div class="ttname"><a href="classv8_1_1internal_1_1IndirectPointerSlot.html#aa131486c497fbee9185738050a6bfda1">v8::internal::IndirectPointerSlot::tag</a></div><div class="ttdeci">IndirectPointerTag tag() const</div><div class="ttdef"><b>Definition:</b> <a href="slots_8h_source.html#l00527">slots.h:527</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1InterceptorInfo_html"><div class="ttname"><a href="classv8_1_1internal_1_1InterceptorInfo.html">v8::internal::InterceptorInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="api-callbacks_8h_source.html#l00114">api-callbacks.h:115</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1IsolateForSandbox_html"><div class="ttname"><a href="classv8_1_1internal_1_1IsolateForSandbox.html">v8::internal::IsolateForSandbox</a></div><div class="ttdef"><b>Definition:</b> <a href="sandbox_2isolate_8h_source.html#l00059">isolate.h:59</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1IsolateGroup_html_a3ca6c5d3f2b884f5866595543d2e0fd7"><div class="ttname"><a href="classv8_1_1internal_1_1IsolateGroup.html#a3ca6c5d3f2b884f5866595543d2e0fd7">v8::internal::IsolateGroup::current</a></div><div class="ttdeci">static IsolateGroup * current()</div><div class="ttdef"><b>Definition:</b> <a href="isolate-group_8h_source.html#l00181">isolate-group.h:181</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html">v8::internal::Isolate</a></div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l00595">isolate.h:595</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a6cb0edf57f829ea37a9a48a3e6bc007d"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a6cb0edf57f829ea37a9a48a3e6bc007d">v8::internal::Isolate::builtins</a></div><div class="ttdeci">Builtins * builtins()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l01458">isolate.h:1458</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_ac74a11613906581a9989b1cb7f7b3275"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">v8::internal::Isolate::heap</a></div><div class="ttdeci">Heap * heap()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l01214">isolate.h:1214</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ObjectTemplateInfo_html"><div class="ttname"><a href="classv8_1_1internal_1_1ObjectTemplateInfo.html">v8::internal::ObjectTemplateInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="templates_8h_source.html#l00309">templates.h:311</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ObjectVisitor_html"><div class="ttname"><a href="classv8_1_1internal_1_1ObjectVisitor.html">v8::internal::ObjectVisitor</a></div><div class="ttdef"><b>Definition:</b> <a href="visitors_8h_source.html#l00130">visitors.h:130</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1OffHeapFullObjectSlot_html"><div class="ttname"><a href="classv8_1_1internal_1_1OffHeapFullObjectSlot.html">v8::internal::OffHeapFullObjectSlot</a></div><div class="ttdef"><b>Definition:</b> <a href="slots_8h_source.html#l00302">slots.h:302</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PerThreadAssertScopeEmpty_html"><div class="ttname"><a href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">v8::internal::PerThreadAssertScopeEmpty&lt; kAllow, kTypes... &gt;</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ReadOnlyPromotion_html_a2f805092c91a128f3d09f6ad8a6a2a4e"><div class="ttname"><a href="classv8_1_1internal_1_1ReadOnlyPromotion.html#a2f805092c91a128f3d09f6ad8a6a2a4e">v8::internal::ReadOnlyPromotion::Promote</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE void Promote(Isolate *isolate, const SafepointScope &amp;safepoint_scope, const DisallowGarbageCollection &amp;no_gc)</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00778">read-only-promotion.cc:778</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ReadOnlySpace_html"><div class="ttname"><a href="classv8_1_1internal_1_1ReadOnlySpace.html">v8::internal::ReadOnlySpace</a></div><div class="ttdef"><b>Definition:</b> <a href="read-only-spaces_8h_source.html#l00148">read-only-spaces.h:148</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ReadOnlySpace_html_a81068f54d403e4cc864ce1747e7d4e4c"><div class="ttname"><a href="classv8_1_1internal_1_1ReadOnlySpace.html#a81068f54d403e4cc864ce1747e7d4e4c">v8::internal::ReadOnlySpace::AllocateRaw</a></div><div class="ttdeci">V8_EXPORT_PRIVATE AllocationResult AllocateRaw(int size_in_bytes, AllocationAlignment alignment)</div><div class="ttdef"><b>Definition:</b> <a href="read-only-spaces_8cc_source.html#l00460">read-only-spaces.cc:460</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RootVisitor_html"><div class="ttname"><a href="classv8_1_1internal_1_1RootVisitor.html">v8::internal::RootVisitor</a></div><div class="ttdef"><b>Definition:</b> <a href="visitors_8h_source.html#l00065">visitors.h:65</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SafepointScope_html"><div class="ttname"><a href="classv8_1_1internal_1_1SafepointScope.html">v8::internal::SafepointScope</a></div><div class="ttdef"><b>Definition:</b> <a href="safepoint_8h_source.html#l00243">safepoint.h:243</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ScopeInfo_html"><div class="ttname"><a href="classv8_1_1internal_1_1ScopeInfo.html">v8::internal::ScopeInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="scope-info_8h_source.html#l00050">scope-info.h:50</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SharedFunctionInfo_html"><div class="ttname"><a href="classv8_1_1internal_1_1SharedFunctionInfo.html">v8::internal::SharedFunctionInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="shared-function-info_8h_source.html#l00197">shared-function-info.h:198</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SlotBase_html_a761a11659b4338ee734b79e7c6886911"><div class="ttname"><a href="classv8_1_1internal_1_1SlotBase.html#a761a11659b4338ee734b79e7c6886911">v8::internal::SlotBase::address</a></div><div class="ttdeci">Address address() const</div><div class="ttdef"><b>Definition:</b> <a href="slots_8h_source.html#l00078">slots.h:78</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Symbol_html"><div class="ttname"><a href="classv8_1_1internal_1_1Symbol.html">v8::internal::Symbol</a></div><div class="ttdef"><b>Definition:</b> <a href="name_8h_source.html#l00248">name.h:248</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1TaggedImpl_html_a4dba1b2eafcf7a414910966f950540c9"><div class="ttname"><a href="classv8_1_1internal_1_1TaggedImpl.html#a4dba1b2eafcf7a414910966f950540c9">v8::internal::TaggedImpl::ptr</a></div><div class="ttdeci">constexpr StorageType ptr() const</div><div class="ttdef"><b>Definition:</b> <a href="tagged-impl_8h_source.html#l00110">tagged-impl.h:110</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1TaggedImpl_html_a941f4af4ddba9f09e9ff1ca6e4382c36"><div class="ttname"><a href="classv8_1_1internal_1_1TaggedImpl.html#a941f4af4ddba9f09e9ff1ca6e4382c36">v8::internal::TaggedImpl::GetHeapObject</a></div><div class="ttdeci">bool GetHeapObject(Tagged&lt; HeapObject &gt; *result) const</div><div class="ttdef"><b>Definition:</b> <a href="tagged-impl-inl_8h_source.html#l00048">tagged-impl-inl.h:48</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Tagged_3_01HeapObject_01_4_html"><div class="ttname"><a href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">v8::internal::Tagged&lt; HeapObject &gt;</a></div><div class="ttdef"><b>Definition:</b> <a href="tagged_8h_source.html#l00470">tagged.h:470</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Tagged_3_01HeapObject_01_4_html_a07c12d3bf0972861e1c5aefabd00971f"><div class="ttname"><a href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html#a07c12d3bf0972861e1c5aefabd00971f">v8::internal::Tagged&lt; HeapObject &gt;::address</a></div><div class="ttdeci">Address address() const</div><div class="ttdef"><b>Definition:</b> <a href="tagged_8h_source.html#l00525">tagged.h:525</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Tagged_3_01HeapObject_01_4_html_a0930e2a8cbe8abbc5cdd476902fe6c88"><div class="ttname"><a href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html#a0930e2a8cbe8abbc5cdd476902fe6c88">v8::internal::Tagged&lt; HeapObject &gt;::is_null</a></div><div class="ttdeci">constexpr bool is_null() const</div><div class="ttdef"><b>Definition:</b> <a href="tagged_8h_source.html#l00502">tagged.h:502</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Tagged_3_01Object_01_4_html"><div class="ttname"><a href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">v8::internal::Tagged&lt; Object &gt;</a></div><div class="ttdef"><b>Definition:</b> <a href="tagged_8h_source.html#l00387">tagged.h:387</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Tagged_html"><div class="ttname"><a href="classv8_1_1internal_1_1Tagged.html">v8::internal::Tagged</a></div><div class="ttdef"><b>Definition:</b> <a href="tagged_8h_source.html#l00707">tagged.h:707</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor_html"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor.html">v8::internal::anonymous_namespace{read-only-promotion.cc}::Committee::CandidateVisitor</a></div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00311">read-only-promotion.cc:311</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor_html_a0130d5439cbd1b460f2fc8b86b209894"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor.html#a0130d5439cbd1b460f2fc8b86b209894">v8::internal::anonymous_namespace{read-only-promotion.cc}::Committee::CandidateVisitor::visited_</a></div><div class="ttdeci">HeapObjectSet *const visited_</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00366">read-only-promotion.cc:366</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor_html_a04703184c3ba5da7b6be4b438c919d61"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor.html#a04703184c3ba5da7b6be4b438c919d61">v8::internal::anonymous_namespace{read-only-promotion.cc}::Committee::CandidateVisitor::committee_</a></div><div class="ttdeci">Committee *const committee_</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00364">read-only-promotion.cc:364</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor_html_a1245c2c809a7cb24361e785d1ba3d696"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor.html#a1245c2c809a7cb24361e785d1ba3d696">v8::internal::anonymous_namespace{read-only-promotion.cc}::Committee::CandidateVisitor::VisitMapPointer</a></div><div class="ttdeci">void VisitMapPointer(Tagged&lt; HeapObject &gt; host) final</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00358">read-only-promotion.cc:358</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor_html_a2b9a8db68d641601bc5eb7ffbc42b219"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor.html#a2b9a8db68d641601bc5eb7ffbc42b219">v8::internal::anonymous_namespace{read-only-promotion.cc}::Committee::CandidateVisitor::maybe_host</a></div><div class="ttdeci">std::optional&lt; Tagged&lt; HeapObject &gt; &gt; maybe_host() const</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00324">read-only-promotion.cc:324</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor_html_a3290d106a5654978e0a98fa38b98a8b9"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor.html#a3290d106a5654978e0a98fa38b98a8b9">v8::internal::anonymous_namespace{read-only-promotion.cc}::Committee::CandidateVisitor::VisitInstructionStreamPointer</a></div><div class="ttdeci">void VisitInstructionStreamPointer(Tagged&lt; Code &gt; host, InstructionStreamSlot slot) final</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00354">read-only-promotion.cc:354</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor_html_a6886b3717a0d648a1844afc13e96fa18"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor.html#a6886b3717a0d648a1844afc13e96fa18">v8::internal::anonymous_namespace{read-only-promotion.cc}::Committee::CandidateVisitor::promotees_</a></div><div class="ttdeci">HeapObjectList *const promotees_</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00367">read-only-promotion.cc:367</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor_html_a87c5109d679b30bbf2ecfbdd7cd59d1d"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor.html#a87c5109d679b30bbf2ecfbdd7cd59d1d">v8::internal::anonymous_namespace{read-only-promotion.cc}::Committee::CandidateVisitor::VisitPointers</a></div><div class="ttdeci">void VisitPointers(Tagged&lt; HeapObject &gt; host, MaybeObjectSlot start, MaybeObjectSlot end) final</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00333">read-only-promotion.cc:333</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor_html_a8a61097de76890bd2f1f62f27ecc1094"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor.html#a8a61097de76890bd2f1f62f27ecc1094">v8::internal::anonymous_namespace{read-only-promotion.cc}::Committee::CandidateVisitor::accepted_subgraph_</a></div><div class="ttdeci">HeapObjectSet *const accepted_subgraph_</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00365">read-only-promotion.cc:365</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor_html_a97fe1e2f985fed4f6096b54ad677bf6e"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor.html#a97fe1e2f985fed4f6096b54ad677bf6e">v8::internal::anonymous_namespace{read-only-promotion.cc}::Committee::CandidateVisitor::CandidateVisitor</a></div><div class="ttdeci">CandidateVisitor(Committee *committee, HeapObjectSet *accepted_subgraph, HeapObjectSet *visited, HeapObjectList *promotees, std::optional&lt; Tagged&lt; HeapObject &gt;&gt; maybe_host)</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00313">read-only-promotion.cc:313</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor_html_aa098ab53a5ea87017149642af30cb585"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor.html#aa098ab53a5ea87017149642af30cb585">v8::internal::anonymous_namespace{read-only-promotion.cc}::Committee::CandidateVisitor::all_slots_are_promo_candidates</a></div><div class="ttdeci">bool all_slots_are_promo_candidates() const</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00329">read-only-promotion.cc:329</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor_html_ab1537ff2d088a14b39b44759b62de64a"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor.html#ab1537ff2d088a14b39b44759b62de64a">v8::internal::anonymous_namespace{read-only-promotion.cc}::Committee::CandidateVisitor::first_rejected_slot_offset</a></div><div class="ttdeci">int first_rejected_slot_offset() const</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00326">read-only-promotion.cc:326</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor_html_ab46a1f593aec7df2fbee280aaa4dc2d0"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor.html#ab46a1f593aec7df2fbee280aaa4dc2d0">v8::internal::anonymous_namespace{read-only-promotion.cc}::Committee::CandidateVisitor::maybe_host_</a></div><div class="ttdeci">std::optional&lt; Tagged&lt; HeapObject &gt; &gt; maybe_host_</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00368">read-only-promotion.cc:368</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor_html_abc2996a567170228c4a97146e066522b"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_1_1CandidateVisitor.html#abc2996a567170228c4a97146e066522b">v8::internal::anonymous_namespace{read-only-promotion.cc}::Committee::CandidateVisitor::VisitPointers</a></div><div class="ttdeci">void VisitPointers(Tagged&lt; HeapObject &gt; host, ObjectSlot start, ObjectSlot end) final</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00350">read-only-promotion.cc:350</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_html"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html">v8::internal::anonymous_namespace{read-only-promotion.cc}::Committee</a></div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00058">read-only-promotion.cc:58</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_html_a356b34a5616619a4b910e0a7ae13d381"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#a356b34a5616619a4b910e0a7ae13d381">v8::internal::anonymous_namespace{read-only-promotion.cc}::Committee::promo_accepted_</a></div><div class="ttdeci">HeapObjectSet promo_accepted_</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00416">read-only-promotion.cc:416</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_html_a3e41f732d38d7a7a50b2b7120c1c61d6"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#a3e41f732d38d7a7a50b2b7120c1c61d6">v8::internal::anonymous_namespace{read-only-promotion.cc}::Committee::isolate_</a></div><div class="ttdeci">Isolate *const isolate_</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00414">read-only-promotion.cc:414</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_html_a51906ef66c0b8d8f251feafc4574496e"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#a51906ef66c0b8d8f251feafc4574496e">v8::internal::anonymous_namespace{read-only-promotion.cc}::Committee::ref_encoder</a></div><div class="ttdeci">const ExternalReferenceEncoder &amp; ref_encoder() const</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00070">read-only-promotion.cc:70</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_html_a52acfe2fc5f27d3af438a820eb6cddcf"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#a52acfe2fc5f27d3af438a820eb6cddcf">v8::internal::anonymous_namespace{read-only-promotion.cc}::Committee::LogRejectedPromotionForInvalidSubgraph</a></div><div class="ttdeci">void LogRejectedPromotionForInvalidSubgraph(Tagged&lt; HeapObject &gt; o, int first_rejected_slot_offset)</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00395">read-only-promotion.cc:395</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_html_a8759b35a0ab8e996139159bffefb3c35"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#a8759b35a0ab8e996139159bffefb3c35">v8::internal::anonymous_namespace{read-only-promotion.cc}::Committee::promo_rejected_</a></div><div class="ttdeci">HeapObjectSet promo_rejected_</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00417">read-only-promotion.cc:417</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_html_a8a3b070e638b280c3c29d2ef39be1f43"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#a8a3b070e638b280c3c29d2ef39be1f43">v8::internal::anonymous_namespace{read-only-promotion.cc}::Committee::LogRejectedPromotionForFailedPredicate</a></div><div class="ttdeci">static void LogRejectedPromotionForFailedPredicate(Tagged&lt; HeapObject &gt; o)</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00380">read-only-promotion.cc:380</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_html_a8d63624aa83676dc85094343266bfd5a"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#a8d63624aa83676dc85094343266bfd5a">v8::internal::anonymous_namespace{read-only-promotion.cc}::Committee::GetPromoRecommendation</a></div><div class="ttdeci">static PromoRecommendation GetPromoRecommendation(Committee *committee, Isolate *isolate, Tagged&lt; HeapObject &gt; o)</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00222">read-only-promotion.cc:222</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_html_a91202374fb90fc6707c45a97dfcab0fe"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#a91202374fb90fc6707c45a97dfcab0fe">v8::internal::anonymous_namespace{read-only-promotion.cc}::Committee::ref_encoder_</a></div><div class="ttdeci">ExternalReferenceEncoder ref_encoder_</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00415">read-only-promotion.cc:415</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_html_a971742832c31701b00abe52be93af817"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#a971742832c31701b00abe52be93af817">v8::internal::anonymous_namespace{read-only-promotion.cc}::Committee::LogAcceptedPromotionSet</a></div><div class="ttdeci">static void LogAcceptedPromotionSet(const HeapObjectSet &amp;os)</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00372">read-only-promotion.cc:372</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_html_a9a1df1eb918fbb764fa24921d9ff9b64"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#a9a1df1eb918fbb764fa24921d9ff9b64">v8::internal::anonymous_namespace{read-only-promotion.cc}::Committee::Committee</a></div><div class="ttdeci">Committee(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00067">read-only-promotion.cc:67</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_html_aa32841f43f243063d741da808d05efaa"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#aa32841f43f243063d741da808d05efaa">v8::internal::anonymous_namespace{read-only-promotion.cc}::Committee::DeterminePromotees</a></div><div class="ttdeci">static HeapObjectList DeterminePromotees(Isolate *isolate, const DisallowGarbageCollection &amp;no_gc, const SafepointScope &amp;safepoint_scope)</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00060">read-only-promotion.cc:60</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_html_abc38aa07d69ac81534e76abfdc01e6b4"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#abc38aa07d69ac81534e76abfdc01e6b4">v8::internal::anonymous_namespace{read-only-promotion.cc}::Committee::LogRejectedPromotionForNoMatchingHost</a></div><div class="ttdeci">void LogRejectedPromotionForNoMatchingHost(Tagged&lt; HeapObject &gt; o)</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00387">read-only-promotion.cc:387</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_html_acc3204677d838e78d66f62179d53ea6d"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#acc3204677d838e78d66f62179d53ea6d">v8::internal::anonymous_namespace{read-only-promotion.cc}::Committee::promo_deferred_</a></div><div class="ttdeci">HeapObjectSet promo_deferred_</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00418">read-only-promotion.cc:418</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_html_ad6b074d1888324d83b93934e30ad046d"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#ad6b074d1888324d83b93934e30ad046d">v8::internal::anonymous_namespace{read-only-promotion.cc}::Committee::GetPromoRecommendationCodeWrapper</a></div><div class="ttdeci">static PromoRecommendation GetPromoRecommendationCodeWrapper(Committee *committee, Isolate *isolate, Tagged&lt; CodeWrapper &gt; o)</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00272">read-only-promotion.cc:272</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_html_adc69b291a1aa12b87b25c65e6e10564f"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#adc69b291a1aa12b87b25c65e6e10564f">v8::internal::anonymous_namespace{read-only-promotion.cc}::Committee::DeterminePromotees</a></div><div class="ttdeci">HeapObjectList DeterminePromotees(const SafepointScope &amp;safepoint_scope)</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00072">read-only-promotion.cc:72</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee_html_af27971327607324e1384b18dc31b934c"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1Committee.html#af27971327607324e1384b18dc31b934c">v8::internal::anonymous_namespace{read-only-promotion.cc}::Committee::EvaluateSubgraph</a></div><div class="ttdeci">bool EvaluateSubgraph(std::optional&lt; Tagged&lt; HeapObject &gt;&gt; maybe_host, Tagged&lt; HeapObject &gt; o, HeapObjectSet *accepted_subgraph, HeapObjectSet *visited, HeapObjectList *promotees)</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00142">read-only-promotion.cc:142</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor_html"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html">v8::internal::anonymous_namespace{read-only-promotion.cc}::ReadOnlyPromotionImpl::UpdatePointersVisitor</a></div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00529">read-only-promotion.cc:529</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor_html_a0e3d4afdeba58dc52da82ab5bf22353f"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#a0e3d4afdeba58dc52da82ab5bf22353f">v8::internal::anonymous_namespace{read-only-promotion.cc}::ReadOnlyPromotionImpl::UpdatePointersVisitor::VisitTrustedPointerTableEntry</a></div><div class="ttdeci">void VisitTrustedPointerTableEntry(Tagged&lt; HeapObject &gt; host, IndirectPointerSlot slot) final</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00596">read-only-promotion.cc:596</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor_html_a1f41e85ac195d49f1563815e6b8ac216"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#a1f41e85ac195d49f1563815e6b8ac216">v8::internal::anonymous_namespace{read-only-promotion.cc}::ReadOnlyPromotionImpl::UpdatePointersVisitor::VisitInstructionStreamPointer</a></div><div class="ttdeci">void VisitInstructionStreamPointer(Tagged&lt; Code &gt; host, InstructionStreamSlot slot) final</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00562">read-only-promotion.cc:562</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor_html_a2d888fa59a208e1a62719e8e890add16"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#a2d888fa59a208e1a62719e8e890add16">v8::internal::anonymous_namespace{read-only-promotion.cc}::ReadOnlyPromotionImpl::UpdatePointersVisitor::moves_</a></div><div class="ttdeci">const HeapObjectMap * moves_</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00742">read-only-promotion.cc:742</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor_html_a357453f572be27872dc23978a13bc242"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#a357453f572be27872dc23978a13bc242">v8::internal::anonymous_namespace{read-only-promotion.cc}::ReadOnlyPromotionImpl::UpdatePointersVisitor::VisitPointers</a></div><div class="ttdeci">void VisitPointers(Tagged&lt; HeapObject &gt; host, MaybeObjectSlot start, MaybeObjectSlot end) final</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00552">read-only-promotion.cc:552</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor_html_a3e95109383faf6322f611e64c454b07f"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#a3e95109383faf6322f611e64c454b07f">v8::internal::anonymous_namespace{read-only-promotion.cc}::ReadOnlyPromotionImpl::UpdatePointersVisitor::RecordProcessedSlotIfDebug</a></div><div class="ttdeci">void RecordProcessedSlotIfDebug(Address slot_address) const</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00738">read-only-promotion.cc:738</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor_html_a408337b1ad01c6e953963a001476b5d3"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#a408337b1ad01c6e953963a001476b5d3">v8::internal::anonymous_namespace{read-only-promotion.cc}::ReadOnlyPromotionImpl::UpdatePointersVisitor::VisitExternalPointer</a></div><div class="ttdeci">void VisitExternalPointer(Tagged&lt; HeapObject &gt; host, ExternalPointerSlot slot) final</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00569">read-only-promotion.cc:569</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor_html_a5c22ac4bb8fe2409490ba7991c319462"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#a5c22ac4bb8fe2409490ba7991c319462">v8::internal::anonymous_namespace{read-only-promotion.cc}::ReadOnlyPromotionImpl::UpdatePointersVisitor::LogUpdatedPointer</a></div><div class="ttdeci">void LogUpdatedPointer(Root root, FullObjectSlot slot, Tagged&lt; HeapObject &gt; old_slot_value, Tagged&lt; HeapObject &gt; new_slot_value)</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00693">read-only-promotion.cc:693</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor_html_a6600101feb90063cf4b4b625dc2252f5"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#a6600101feb90063cf4b4b625dc2252f5">v8::internal::anonymous_namespace{read-only-promotion.cc}::ReadOnlyPromotionImpl::UpdatePointersVisitor::ProcessSlot</a></div><div class="ttdeci">void ProcessSlot(Root root, FullObjectSlot slot)</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00618">read-only-promotion.cc:618</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor_html_a6f5ecd51c95f320a59814284a97d4b76"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#a6f5ecd51c95f320a59814284a97d4b76">v8::internal::anonymous_namespace{read-only-promotion.cc}::ReadOnlyPromotionImpl::UpdatePointersVisitor::VisitPointers</a></div><div class="ttdeci">void VisitPointers(Tagged&lt; HeapObject &gt; host, ObjectSlot start, ObjectSlot end) final</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00558">read-only-promotion.cc:558</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor_html_a7215c609d1f221fbe5b49a65c06b80c1"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#a7215c609d1f221fbe5b49a65c06b80c1">v8::internal::anonymous_namespace{read-only-promotion.cc}::ReadOnlyPromotionImpl::UpdatePointersVisitor::LogUpdatedCodePointerTableEntry</a></div><div class="ttdeci">void LogUpdatedCodePointerTableEntry(Tagged&lt; HeapObject &gt; host, IndirectPointerSlot slot, IndirectPointerHandle old_handle, IndirectPointerHandle new_handle)</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00719">read-only-promotion.cc:719</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor_html_a8633eba18824de8a251d2b967625db36"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#a8633eba18824de8a251d2b967625db36">v8::internal::anonymous_namespace{read-only-promotion.cc}::ReadOnlyPromotionImpl::UpdatePointersVisitor::UpdatePointersVisitor</a></div><div class="ttdeci">UpdatePointersVisitor(Isolate *isolate, const HeapObjectMap *moves)</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00531">read-only-promotion.cc:531</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor_html_a931f7e9540fd356b578439be2d39e8ee"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#a931f7e9540fd356b578439be2d39e8ee">v8::internal::anonymous_namespace{read-only-promotion.cc}::ReadOnlyPromotionImpl::UpdatePointersVisitor::VisitRootPointers</a></div><div class="ttdeci">void VisitRootPointers(Root root, const char *description, OffHeapObjectSlot start, OffHeapObjectSlot end) override</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00604">read-only-promotion.cc:604</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor_html_a9f8d7799c65f2fc87af1a9371a7a0d8d"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#a9f8d7799c65f2fc87af1a9371a7a0d8d">v8::internal::anonymous_namespace{read-only-promotion.cc}::ReadOnlyPromotionImpl::UpdatePointersVisitor::VisitMapPointer</a></div><div class="ttdeci">void VisitMapPointer(Tagged&lt; HeapObject &gt; host) final</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00566">read-only-promotion.cc:566</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor_html_ab5ced60585c842b87622bfd7970a5e97"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#ab5ced60585c842b87622bfd7970a5e97">v8::internal::anonymous_namespace{read-only-promotion.cc}::ReadOnlyPromotionImpl::UpdatePointersVisitor::LogUpdatedExternalPointerTableEntry</a></div><div class="ttdeci">void LogUpdatedExternalPointerTableEntry(Tagged&lt; HeapObject &gt; host, ExternalPointerSlot slot, Address slot_value)</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00711">read-only-promotion.cc:711</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor_html_adf11d4f77bca809af509f31324124404"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#adf11d4f77bca809af509f31324124404">v8::internal::anonymous_namespace{read-only-promotion.cc}::ReadOnlyPromotionImpl::UpdatePointersVisitor::ProcessSlot</a></div><div class="ttdeci">void ProcessSlot(Tagged&lt; HeapObject &gt; host, MaybeObjectSlot slot)</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00633">read-only-promotion.cc:633</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor_html_af4635fcfcb2efc3aa434f79cda1080c6"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#af4635fcfcb2efc3aa434f79cda1080c6">v8::internal::anonymous_namespace{read-only-promotion.cc}::ReadOnlyPromotionImpl::UpdatePointersVisitor::VisitIndirectPointer</a></div><div class="ttdeci">void VisitIndirectPointer(Tagged&lt; HeapObject &gt; host, IndirectPointerSlot slot, IndirectPointerMode mode) final</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00588">read-only-promotion.cc:588</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor_html_afc9ff4aef427e460a3b2f3c445bc44c1"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#afc9ff4aef427e460a3b2f3c445bc44c1">v8::internal::anonymous_namespace{read-only-promotion.cc}::ReadOnlyPromotionImpl::UpdatePointersVisitor::isolate_</a></div><div class="ttdeci">Isolate *const isolate_</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00741">read-only-promotion.cc:741</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor_html_afce0d3cf828ca8ead15812ab27fbcfaf"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#afce0d3cf828ca8ead15812ab27fbcfaf">v8::internal::anonymous_namespace{read-only-promotion.cc}::ReadOnlyPromotionImpl::UpdatePointersVisitor::LogUpdatedPointer</a></div><div class="ttdeci">void LogUpdatedPointer(Tagged&lt; HeapObject &gt; host, MaybeObjectSlot slot, Tagged&lt; HeapObject &gt; old_slot_value, Tagged&lt; HeapObject &gt; new_slot_value)</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00702">read-only-promotion.cc:702</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor_html_afcfd36f5c41afafcad1f9188ad2e3eed"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_1_1UpdatePointersVisitor.html#afcfd36f5c41afafcad1f9188ad2e3eed">v8::internal::anonymous_namespace{read-only-promotion.cc}::ReadOnlyPromotionImpl::UpdatePointersVisitor::VisitRootPointers</a></div><div class="ttdeci">void VisitRootPointers(Root root, const char *description, FullObjectSlot start, FullObjectSlot end) final</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00544">read-only-promotion.cc:544</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_html"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl.html">v8::internal::anonymous_namespace{read-only-promotion.cc}::ReadOnlyPromotionImpl</a></div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00421">read-only-promotion.cc:421</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_html_a5a81a4fd05f9b5a2652523db6fe946bc"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl.html#a5a81a4fd05f9b5a2652523db6fe946bc">v8::internal::anonymous_namespace{read-only-promotion.cc}::ReadOnlyPromotionImpl::DeleteDeadObjects</a></div><div class="ttdeci">static void DeleteDeadObjects(Isolate *isolate, const SafepointScope &amp;safepoint_scope, const HeapObjectMap &amp;moves)</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00488">read-only-promotion.cc:488</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_html_a7b666e505cb3286ee15f2d0995e24af3"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl.html#a7b666e505cb3286ee15f2d0995e24af3">v8::internal::anonymous_namespace{read-only-promotion.cc}::ReadOnlyPromotionImpl::LogPromotedObject</a></div><div class="ttdeci">static void LogPromotedObject(Tagged&lt; HeapObject &gt; src, Tagged&lt; HeapObject &gt; dst)</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00758">read-only-promotion.cc:758</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_html_ac2569df3e492346c652057f63054e06d"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl.html#ac2569df3e492346c652057f63054e06d">v8::internal::anonymous_namespace{read-only-promotion.cc}::ReadOnlyPromotionImpl::Verify</a></div><div class="ttdeci">static void Verify(Isolate *isolate, const SafepointScope &amp;safepoint_scope)</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00503">read-only-promotion.cc:503</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_html_aca2d07ebd5c1beb9473bf03fea1d44c6"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl.html#aca2d07ebd5c1beb9473bf03fea1d44c6">v8::internal::anonymous_namespace{read-only-promotion.cc}::ReadOnlyPromotionImpl::UpdatePointers</a></div><div class="ttdeci">static void UpdatePointers(Isolate *isolate, const SafepointScope &amp;safepoint_scope, const HeapObjectMap &amp;moves)</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00440">read-only-promotion.cc:440</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_html_adca875e5477cc3768fcd5fa88198a4b7"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl.html#adca875e5477cc3768fcd5fa88198a4b7">v8::internal::anonymous_namespace{read-only-promotion.cc}::ReadOnlyPromotionImpl::LogPromotedCodePointerTableEntry</a></div><div class="ttdeci">static void LogPromotedCodePointerTableEntry(Tagged&lt; Code &gt; code, IndirectPointerHandle old_handle, IndirectPointerHandle new_handle)</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00765">read-only-promotion.cc:765</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl_html_ae55ff52427eee7e42c93a9be7d9216e4"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_1_1ReadOnlyPromotionImpl.html#ae55ff52427eee7e42c93a9be7d9216e4">v8::internal::anonymous_namespace{read-only-promotion.cc}::ReadOnlyPromotionImpl::CopyToReadOnlyHeap</a></div><div class="ttdeci">static void CopyToReadOnlyHeap(Isolate *isolate, const std::vector&lt; Tagged&lt; HeapObject &gt;&gt; &amp;promotees, HeapObjectMap *moves)</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00423">read-only-promotion.cc:423</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1V_html"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V.html">v8::internal::compiler::turboshaft::V</a></div><div class="ttdef"><b>Definition:</b> <a href="index_8h_source.html#l00613">index.h:613</a></div></div>
<div class="ttc" id="aexecution_2isolate_8h_html"><div class="ttname"><a href="execution_2isolate_8h.html">isolate.h</a></div></div>
<div class="ttc" id="aexternal-pointer-table_8h_html"><div class="ttname"><a href="external-pointer-table_8h.html">external-pointer-table.h</a></div></div>
<div class="ttc" id="aexternal-reference-encoder_8h_html"><div class="ttname"><a href="external-reference-encoder_8h.html">external-reference-encoder.h</a></div></div>
<div class="ttc" id="aflag-definitions_8h_html_a087fd0337c14e102a4a2abccd41a39ad"><div class="ttname"><a href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enables Turboshaft s StaticAssert and CheckTurboshaftTypeOf operations Wasm code into JS functions via the JS to Wasm wrappers are still inlined in TurboFan For controlling whether to at see turbo inline js wasm calls enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information enable Turbolev features that we want to ship in the not too far future trace individual Turboshaft reduction steps trace intermediate Turboshaft reduction steps trace Turboshaft s if else to switch reducer invocation count threshold for early optimization Enables optimizations which favor memory size over execution speed Enables sampling allocation profiler with X as a sample interval min size of a semi the new space consists of two semi spaces max size of the preconfigured old space Collect garbage after Collect garbage after keeps maps alive for&lt; n &gt; old space garbage collections print one detailed trace line in allocation gc speed threshold for starting incremental marking via a task in percent of available space</div><div class="ttdef"><b>Definition:</b> <a href="flag-definitions_8h_source.html#l02215">flag-definitions.h:2213</a></div></div>
<div class="ttc" id="aflag-definitions_8h_html_a3df0b28b666e942ffb9d7d04acdb9715"><div class="ttname"><a href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enables Turboshaft s StaticAssert and CheckTurboshaftTypeOf operations Wasm code into JS functions via the JS to Wasm wrappers are still inlined in TurboFan For controlling whether to at see turbo inline js wasm calls enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information enable Turbolev features that we want to ship in the not too far future trace individual Turboshaft reduction steps trace intermediate Turboshaft reduction steps trace Turboshaft s if else to switch reducer invocation count threshold for early optimization Enables optimizations which favor memory size over execution speed Enables sampling allocation profiler with X as a sample interval min size of a semi the new space consists of two semi spaces max size of the preconfigured old space size(in Mbytes)&quot;)     DEFINE_INT(random_gc_interval</div></div>
<div class="ttc" id="aflag-definitions_8h_html_adaf90f045d5cd2710edd625b8685472a"><div class="ttname"><a href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enables Turboshaft s StaticAssert and CheckTurboshaftTypeOf operations Wasm code into JS functions via the JS to Wasm wrappers are still inlined in TurboFan For controlling whether to at see turbo inline js wasm calls enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information enable Turbolev features that we want to ship in the not too far future trace individual Turboshaft reduction steps trace intermediate Turboshaft reduction steps trace Turboshaft s if else to switch reducer invocation count threshold for early optimization Enables optimizations which favor memory size over execution speed Enables sampling allocation profiler with X as a sample interval min size of a semi the new space consists of two semi spaces max size of the preconfigured old space Collect garbage after Collect garbage after keeps maps alive for&lt; n &gt; old space garbage collections print one detailed trace line in allocation gc speed threshold for starting incremental marking via a task in percent of available threshold for starting incremental marking immediately in percent of available Use a single schedule for determining a marking schedule between JS and C objects schedules the minor GC task with kUserVisible priority max worker number of concurrent for NumberOfWorkerThreads start background threads that allocate memory concurrent_array_buffer_sweeping use parallel threads to clear weak refs in the atomic pause trace progress of the incremental marking trace object counts and memory usage report a tick only when allocated zone memory changes by this amount TracingFlags::gc_stats TracingFlags::gc_stats track native contexts that are expected to be garbage collected verify heap pointers before and after GC memory reducer runs GC with ReduceMemoryFootprint flag Maximum number of memory reducer GCs scheduled Old gen GC speed is computed directly from gc tracer counters Perform compaction on full GCs based on V8 s default heuristics Perform compaction on every full GC Perform code space compaction when finalizing a full GC with stack Stress GC compaction to flush out bugs with moving objects flush of baseline code when it has not been executed recently Use time base code flushing instead of age Use a progress bar to scan large objects in increments when incremental marking is active force incremental marking for small heaps and run it more often Release pooled large pages after X seconds prints number of allocations and enables analysis mode for gc fuzz e g stress stress scavenge force scavenge at random points between and reclaim otherwise unreachable unmodified wrapper objects when possible discard the memory pool before invoking the GC on memory pressure or last resort GCs Delay before memory reducer start virtual randomize memory reservations by ignoring any hints passed when allocating pages use incremental marking for CppHeap cppheap_concurrent_marking c value for membalancer A special constant to balance between memory and space tradeoff The smaller the more memory it uses enable use of SSE4 instructions if available enable use of SAHF instruction if enable use of AVX VNNI instructions if available enable use of POPCNT instruction if available force all emitted branches to be in long mode(MIPS/PPC only)&quot;) DEFINE_BOOL(partial_constant_pool</div></div>
<div class="ttc" id="aflag-definitions_8h_html_ae0e79c88adf5166f9befeb542c2acd8f"><div class="ttname"><a href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a></div><div class="ttdeci">force emit tier up logic from all non turbofan code</div><div class="ttdef"><b>Definition:</b> <a href="flag-definitions_8h_source.html#l00546">flag-definitions.h:546</a></div></div>
<div class="ttc" id="aheap-layout-inl_8h_html"><div class="ttname"><a href="heap-layout-inl_8h.html">heap-layout-inl.h</a></div></div>
<div class="ttc" id="aheap-object-inl_8h_html"><div class="ttname"><a href="heap-object-inl_8h.html">heap-object-inl.h</a></div></div>
<div class="ttc" id="anamespaceheap_html"><div class="ttname"><a href="namespaceheap.html">heap</a></div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2platform_2platform_8h_source.html#l00072">platform.h:72</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_html_a63d8eefb47468aa3f816fbe26a59466a"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">v8::internal::anonymous_namespace{json-stringifier.cc}::no_gc</a></div><div class="ttdeci">size_t const DisallowGarbageCollection &amp; no_gc</div><div class="ttdef"><b>Definition:</b> <a href="json-stringifier_8cc_source.html#l00544">json-stringifier.cc:544</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_html_a119eb1ab3d934b33de6314ac113d52c0"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a119eb1ab3d934b33de6314ac113d52c0">v8::internal::anonymous_namespace{read-only-promotion.cc}::HeapObjectSet</a></div><div class="ttdeci">std::unordered_set&lt; Tagged&lt; HeapObject &gt;, Object::Hasher, Object::KeyEqualSafe &gt; HeapObjectSet</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00026">read-only-promotion.cc:27</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_html_a6cde169476b540c1f6b9a7f42ac2d45b"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a6cde169476b540c1f6b9a7f42ac2d45b">v8::internal::anonymous_namespace{read-only-promotion.cc}::HeapObjectList</a></div><div class="ttdeci">std::vector&lt; Tagged&lt; HeapObject &gt; &gt; HeapObjectList</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00030">read-only-promotion.cc:30</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_html_a824c4cab632e1345be4d7ee08a713631"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a824c4cab632e1345be4d7ee08a713631">v8::internal::anonymous_namespace{read-only-promotion.cc}::HeapObjectMap</a></div><div class="ttdeci">std::unordered_map&lt; Tagged&lt; HeapObject &gt;, Tagged&lt; HeapObject &gt;, Object::Hasher, Object::KeyEqualSafe &gt; HeapObjectMap</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00028">read-only-promotion.cc:29</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_html_ac1c0ed9c741596636880209a697d99de"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#ac1c0ed9c741596636880209a697d99de">v8::internal::anonymous_namespace{read-only-promotion.cc}::PromoRecommendation</a></div><div class="ttdeci">PromoRecommendation</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00039">read-only-promotion.cc:39</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_html_ac1c0ed9c741596636880209a697d99dea0b85d65fecf60dd008a8e04e5568eb3b"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#ac1c0ed9c741596636880209a697d99dea0b85d65fecf60dd008a8e04e5568eb3b">v8::internal::anonymous_namespace{read-only-promotion.cc}::PromoRecommendation::kMatchHost</a></div><div class="ttdeci">@ kMatchHost</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_html_ac1c0ed9c741596636880209a697d99dea172d0995d97941b27a0f7012ff47e71e"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#ac1c0ed9c741596636880209a697d99dea172d0995d97941b27a0f7012ff47e71e">v8::internal::anonymous_namespace{read-only-promotion.cc}::PromoRecommendation::kPromote</a></div><div class="ttdeci">@ kPromote</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_html_ac1c0ed9c741596636880209a697d99dea8f2fd79d5722327d476c8bb783ea2477"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#ac1c0ed9c741596636880209a697d99dea8f2fd79d5722327d476c8bb783ea2477">v8::internal::anonymous_namespace{read-only-promotion.cc}::PromoRecommendation::kReject</a></div><div class="ttdeci">@ kReject</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_html_aec172a30be109da7bcec909f32f43e8b"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#aec172a30be109da7bcec909f32f43e8b">v8::internal::anonymous_namespace{read-only-promotion.cc}::Contains</a></div><div class="ttdeci">bool Contains(const HeapObjectMap &amp;s, Tagged&lt; HeapObject &gt; o)</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00035">read-only-promotion.cc:35</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_html_a51dcb90ae077172b12d63271c7e7ba0c"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">v8::internal::compiler::end</a></div><div class="ttdeci">Node::Uses::const_iterator end(const Node::Uses &amp;uses)</div><div class="ttdef"><b>Definition:</b> <a href="node_8h_source.html#l00711">node.h:711</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html"><div class="ttname"><a href="namespacev8_1_1internal.html">v8::internal</a></div><div class="ttdef"><b>Definition:</b> <a href="api-arguments-inl_8h_source.html#l00020">api-arguments-inl.h:20</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a0786c89c1004cb964dc034b138b263fd"><div class="ttname"><a href="namespacev8_1_1internal.html#a0786c89c1004cb964dc034b138b263fd">v8::internal::IsHeapObject</a></div><div class="ttdeci">constexpr bool IsHeapObject(TaggedImpl&lt; kRefType, StorageType &gt; obj)</div><div class="ttdef"><b>Definition:</b> <a href="objects_8h_source.html#l00670">objects.h:670</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a175c065c1245d42fdbd4a853993be670"><div class="ttname"><a href="namespacev8_1_1internal.html#a175c065c1245d42fdbd4a853993be670">v8::internal::kTaggedNullAddress</a></div><div class="ttdeci">constexpr Address kTaggedNullAddress</div><div class="ttdef"><b>Definition:</b> <a href="handles_8h_source.html#l00053">handles.h:53</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a3d154fed8222e22068b915454f5db983"><div class="ttname"><a href="namespacev8_1_1internal.html#a3d154fed8222e22068b915454f5db983">v8::internal::IndirectPointerMode</a></div><div class="ttdeci">IndirectPointerMode</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00802">globals.h:802</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a4d03c33de6286b42a8983faca58fa54b"><div class="ttname"><a href="namespacev8_1_1internal.html#a4d03c33de6286b42a8983faca58fa54b">v8::internal::CodeEntrypointTag</a></div><div class="ttdeci">CodeEntrypointTag</div><div class="ttdef"><b>Definition:</b> <a href="code-entrypoint-tag_8h_source.html#l00036">code-entrypoint-tag.h:36</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5031451934208565c827c86d9eb86c5a"><div class="ttname"><a href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">v8::internal::internal</a></div><div class="ttdeci">internal</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects-inl_8h_source.html#l00453">wasm-objects-inl.h:453</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a54c20f5dfc8e7939a3b11dbe2584a1b9"><div class="ttname"><a href="namespacev8_1_1internal.html#a54c20f5dfc8e7939a3b11dbe2584a1b9">v8::internal::IndirectPointerHandle</a></div><div class="ttdeci">uint32_t IndirectPointerHandle</div><div class="ttdef"><b>Definition:</b> <a href="v8-internal_8h_source.html#l00735">v8-internal.h:735</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5c81bf980e0cdd16e6f80a806701fd76"><div class="ttname"><a href="namespacev8_1_1internal.html#a5c81bf980e0cdd16e6f80a806701fd76">v8::internal::MaybeObjectSlot</a></div><div class="ttdeci">SlotTraits::TMaybeObjectSlot MaybeObjectSlot</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l01242">globals.h:1242</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5ef2db9cf5da555b67b6ca254db79213"><div class="ttname"><a href="namespacev8_1_1internal.html#a5ef2db9cf5da555b67b6ca254db79213">v8::internal::AccessCheckInfo</a></div><div class="ttdeci">UnionOf&lt; Undefined, FunctionTemplateInfo &gt; UnionOf&lt; Undefined, InterceptorInfo &gt; UnionOf&lt; Undefined, ObjectTemplateInfo &gt; AccessCheckInfo</div><div class="ttdef"><b>Definition:</b> <a href="templates-inl_8h_source.html#l00172">templates-inl.h:172</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5f672157ae21ec21c6452b35f5eb884c"><div class="ttname"><a href="namespacev8_1_1internal.html#a5f672157ae21ec21c6452b35f5eb884c">v8::internal::VisitObject</a></div><div class="ttdeci">void VisitObject(Isolate *isolate, Tagged&lt; HeapObject &gt; object, ObjectVisitor *visitor)</div><div class="ttdef"><b>Definition:</b> <a href="visit-object_8cc_source.html#l00132">visit-object.cc:132</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a8c89f00da07e125218128b9fbf0a321c"><div class="ttname"><a href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">v8::internal::handle</a></div><div class="ttdeci">IndirectHandle&lt; T &gt; handle(Tagged&lt; T &gt; object, Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="handles-inl_8h_source.html#l00072">handles-inl.h:72</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a9312a9fc987dba9376a530956f94e8fe"><div class="ttname"><a href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fe">v8::internal::InstanceType</a></div><div class="ttdeci">InstanceType</div><div class="ttdef"><b>Definition:</b> <a href="instance-type_8h_source.html#l00116">instance-type.h:116</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa6b3743bd5d773c552654f2a6c3efa4a"><div class="ttname"><a href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK</a></div><div class="ttdeci">DCHECK(IsNull(value)||IsNativeContext(value)||value==Smi::uninitialized_deserialization_value())</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa9db791c05a0359859a321dcfec42e37"><div class="ttname"><a href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a></div><div class="ttdeci">V8_EXPORT_PRIVATE FlagValues v8_flags</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aaf09a39558f639935e293adba6962fc7ad15860417dc4fe071de45246b23edaaa"><div class="ttname"><a href="namespacev8_1_1internal.html#aaf09a39558f639935e293adba6962fc7ad15860417dc4fe071de45246b23edaaa">v8::internal::EmbedderStackStateOrigin::kExplicitInvocation</a></div><div class="ttdeci">@ kExplicitInvocation</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ab6431cd9205265cf49909abcac939803a89dfe630590dbfe7004e6de0fabec67b"><div class="ttname"><a href="namespacev8_1_1internal.html#ab6431cd9205265cf49909abcac939803a89dfe630590dbfe7004e6de0fabec67b">v8::internal::kTaggedAligned</a></div><div class="ttdeci">@ kTaggedAligned</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l01566">globals.h:1566</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_acc2e164143496f18b5ec68f8ab70af52"><div class="ttname"><a href="namespacev8_1_1internal.html#acc2e164143496f18b5ec68f8ab70af52">v8::internal::Builtin</a></div><div class="ttdeci">Builtin</div><div class="ttdef"><b>Definition:</b> <a href="builtins_8h_source.html#l00050">builtins.h:50</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_acdec713c25068019f935e35976f5b666"><div class="ttname"><a href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">v8::internal::UNREACHABLE</a></div><div class="ttdeci">UNREACHABLE()</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ae1439207c9f98c41dbdea3eca3572d54"><div class="ttname"><a href="namespacev8_1_1internal.html#ae1439207c9f98c41dbdea3eca3572d54">v8::internal::Root</a></div><div class="ttdeci">Root</div><div class="ttdef"><b>Definition:</b> <a href="visitors_8h_source.html#l00056">visitors.h:56</a></div></div>
<div class="ttc" id="anamespacev8_html"><div class="ttname"><a href="namespacev8.html">v8</a></div><div class="ttdoc">This file provides additional API on top of the default one for making API calls, which come from emb...</div><div class="ttdef"><b>Definition:</b> <a href="api-arguments-inl_8h_source.html#l00019">api-arguments-inl.h:19</a></div></div>
<div class="ttc" id="anamespacev8_html_aee4e677b8d8a86416617b3330778b98a"><div class="ttname"><a href="namespacev8.html#aee4e677b8d8a86416617b3330778b98a">v8::kAcquireLoad</a></div><div class="ttdeci">static constexpr AcquireLoadTag kAcquireLoad</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l02942">globals.h:2942</a></div></div>
<div class="ttc" id="aobjects-inl_8h_html"><div class="ttname"><a href="objects-inl_8h.html">objects-inl.h</a></div></div>
<div class="ttc" id="aostreams_8h_html"><div class="ttname"><a href="ostreams_8h.html">ostreams.h</a></div></div>
<div class="ttc" id="aread-only-promotion_8cc_html_a3eabb841457006c31ef744cf27c3d288"><div class="ttname"><a href="read-only-promotion_8cc.html#a3eabb841457006c31ef744cf27c3d288">DEF_PROMO_CANDIDATE</a></div><div class="ttdeci">#define DEF_PROMO_CANDIDATE(Type)</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00240">read-only-promotion.cc:240</a></div></div>
<div class="ttc" id="aread-only-promotion_8cc_html_aceba6c54f262745230e629f76dbb3cff"><div class="ttname"><a href="read-only-promotion_8cc.html#aceba6c54f262745230e629f76dbb3cff">DEF_MATCH_HOST_CANDIDATE</a></div><div class="ttdeci">#define DEF_MATCH_HOST_CANDIDATE(Type)</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00245">read-only-promotion.cc:245</a></div></div>
<div class="ttc" id="aread-only-promotion_8cc_html_afa6852c766df35906b6be5541d8b24b7"><div class="ttname"><a href="read-only-promotion_8cc.html#afa6852c766df35906b6be5541d8b24b7">PROMO_CANDIDATE_TYPE_LIST</a></div><div class="ttdeci">#define PROMO_CANDIDATE_TYPE_LIST(V)</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00205">read-only-promotion.cc:205</a></div></div>
<div class="ttc" id="aread-only-promotion_8h_html"><div class="ttname"><a href="read-only-promotion_8h.html">read-only-promotion.h</a></div></div>
<div class="ttc" id="aread-only-spaces_8h_html"><div class="ttname"><a href="read-only-spaces_8h.html">read-only-spaces.h</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a3e1cfef60e774a81f30eaddf26a3a274"><div class="ttname"><a href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a></div><div class="ttdeci">#define CHECK(condition)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00124">logging.h:124</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a7b0fb5d6be902959a80a9a33cc4e73fe"><div class="ttname"><a href="src_2base_2logging_8h.html#a7b0fb5d6be902959a80a9a33cc4e73fe">CHECK_WITH_MSG</a></div><div class="ttdeci">#define CHECK_WITH_MSG(condition, message)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00118">logging.h:118</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a96a75539aa82216cdde2250a11126ea0"><div class="ttname"><a href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a></div><div class="ttdeci">#define DCHECK_IMPLIES(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00492">logging.h:492</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_aabec5c3b7a8628298a25f044dcf89c25"><div class="ttname"><a href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a></div><div class="ttdeci">#define DCHECK_GE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00487">logging.h:487</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_aca32614b4d2aea7dd9abdeb222bf02f3"><div class="ttname"><a href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a></div><div class="ttdeci">#define CHECK_EQ(lhs, rhs)</div></div>
<div class="ttc" id="asrc_2heap_2heap_8h_html"><div class="ttname"><a href="src_2heap_2heap_8h.html">heap.h</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1AsHex_html"><div class="ttname"><a href="structv8_1_1internal_1_1AsHex.html">v8::internal::AsHex</a></div><div class="ttdef"><b>Definition:</b> <a href="ostreams_8h_source.html#l00135">ostreams.h:135</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1Object_1_1Hasher_html"><div class="ttname"><a href="structv8_1_1internal_1_1Object_1_1Hasher.html">v8::internal::Object::Hasher</a></div><div class="ttdef"><b>Definition:</b> <a href="objects_8h_source.html#l00508">objects.h:508</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1Object_1_1KeyEqualSafe_html"><div class="ttname"><a href="structv8_1_1internal_1_1Object_1_1KeyEqualSafe.html">v8::internal::Object::KeyEqualSafe</a></div><div class="ttdef"><b>Definition:</b> <a href="objects_8h_source.html#l00517">objects.h:517</a></div></div>
<div class="ttc" id="av8config_8h_html_a67bd29db07c711b0fb11ff1c324ebb60"><div class="ttname"><a href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a></div><div class="ttdeci">#define V8_UNLIKELY(condition)</div><div class="ttdef"><b>Definition:</b> <a href="v8config_8h_source.html#l00660">v8config.h:660</a></div></div>
<div class="ttc" id="avisit-object_8h_html"><div class="ttname"><a href="visit-object_8h.html">visit-object.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_19225156eb7ba052e31d1a736469917a.html">mnt</a></li><li class="navelem"><a class="el" href="dir_3536f6d353061322e9ef91134b76e9ed.html">V8SourceCode</a></li><li class="navelem"><a class="el" href="dir_fbd53c45610d490c9fb8d0716db4e3a3.html">src</a></li><li class="navelem"><a class="el" href="dir_a974448b91dd98c933fb07a236a86d25.html">heap</a></li><li class="navelem"><a class="el" href="read-only-promotion_8cc.html">read-only-promotion.cc</a></li>
    <li class="footer">Generated on Thu Jun 12 2025 15:57:06 for V8 Project by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
