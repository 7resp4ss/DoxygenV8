<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>V8 Project: v8::internal::BackgroundMergeTask Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">V8 Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classv8_1_1internal_1_1BackgroundMergeTask.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classv8_1_1internal_1_1BackgroundMergeTask-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">v8::internal::BackgroundMergeTask Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="background-merge-task_8h_source.html">background-merge-task.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for v8::internal::BackgroundMergeTask:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1BackgroundMergeTask__coll__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structv8_1_1internal_1_1BackgroundMergeTask_1_1NewCompiledDataForCachedSfi.html">NewCompiledDataForCachedSfi</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6b88ef3c910b53cd92b89024261f5cc5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1BackgroundMergeTask.html#a6b88ef3c910b53cd92b89024261f5cc5">SetUpOnMainThread</a> (<a class="el" href="classv8_1_1internal_1_1Isolate.html">Isolate</a> *isolate, <a class="el" href="classv8_1_1internal_1_1Handle.html">Handle</a>&lt; <a class="el" href="classv8_1_1internal_1_1String.html">String</a> &gt; source_text, const <a class="el" href="structv8_1_1internal_1_1ScriptDetails.html">ScriptDetails</a> &amp;script_details, <a class="el" href="namespacev8_1_1internal.html#aff2483f817f329c2b4c7c1d7149f858b">LanguageMode</a> language_mode)</td></tr>
<tr class="separator:a6b88ef3c910b53cd92b89024261f5cc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbeae63566a66dbf4fc5de7db358672f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1BackgroundMergeTask.html#afbeae63566a66dbf4fc5de7db358672f">SetUpOnMainThread</a> (<a class="el" href="classv8_1_1internal_1_1Isolate.html">Isolate</a> *isolate, <a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1Script.html">Script</a> &gt; cached_script)</td></tr>
<tr class="separator:afbeae63566a66dbf4fc5de7db358672f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab13e1b4c2e84695c91b9db4470db5462"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1BackgroundMergeTask.html#ab13e1b4c2e84695c91b9db4470db5462">BeginMergeInBackground</a> (<a class="el" href="classv8_1_1internal_1_1LocalIsolate.html">LocalIsolate</a> *isolate, <a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1Script.html">Script</a> &gt; new_script)</td></tr>
<tr class="separator:ab13e1b4c2e84695c91b9db4470db5462"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca186bd1c822719856e195526777e135"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1Handle.html">Handle</a>&lt; <a class="el" href="classv8_1_1internal_1_1SharedFunctionInfo.html">SharedFunctionInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1BackgroundMergeTask.html#aca186bd1c822719856e195526777e135">CompleteMergeInForeground</a> (<a class="el" href="classv8_1_1internal_1_1Isolate.html">Isolate</a> *isolate, <a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1Script.html">Script</a> &gt; new_script)</td></tr>
<tr class="separator:aca186bd1c822719856e195526777e135"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a670e7cc2e17016cdbb6eb5ff1ee1e394"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1BackgroundMergeTask.html#a670e7cc2e17016cdbb6eb5ff1ee1e394">HasPendingBackgroundWork</a> () const</td></tr>
<tr class="separator:a670e7cc2e17016cdbb6eb5ff1ee1e394"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4e69cd6462e526b1b19466775b607ef"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1BackgroundMergeTask.html#aa4e69cd6462e526b1b19466775b607ef">HasPendingForegroundWork</a> () const</td></tr>
<tr class="separator:aa4e69cd6462e526b1b19466775b607ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a4fea602daa4c9857ad1244a4b9620711"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1BackgroundMergeTask.html#a4fea602daa4c9857ad1244a4b9620711">ForceGCDuringNextMergeForTesting</a> ()</td></tr>
<tr class="separator:a4fea602daa4c9857ad1244a4b9620711"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a8839b7bca923cfb6972793ec0bed53cf"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1BackgroundMergeTask.html#a8839b7bca923cfb6972793ec0bed53cf">State</a> { <a class="el" href="classv8_1_1internal_1_1BackgroundMergeTask.html#a8839b7bca923cfb6972793ec0bed53cfab5c7a60a8e4a4ec23aea720fddb1bfbc">kNotStarted</a>
, <a class="el" href="classv8_1_1internal_1_1BackgroundMergeTask.html#a8839b7bca923cfb6972793ec0bed53cfaf497a4932cebafb458cbb2ed58249ce7">kPendingBackgroundWork</a>
, <a class="el" href="classv8_1_1internal_1_1BackgroundMergeTask.html#a8839b7bca923cfb6972793ec0bed53cfa44d57f829d205dac2e6797bd36a26d73">kPendingForegroundWork</a>
, <a class="el" href="classv8_1_1internal_1_1BackgroundMergeTask.html#a8839b7bca923cfb6972793ec0bed53cfaf9d7da601560fc8efe051d68c8c2dc02">kDone</a>
 }</td></tr>
<tr class="separator:a8839b7bca923cfb6972793ec0bed53cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:aa01e4a610202830e4279e25b77631be1"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classv8_1_1internal_1_1PersistentHandles.html">PersistentHandles</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1BackgroundMergeTask.html#aa01e4a610202830e4279e25b77631be1">persistent_handles_</a></td></tr>
<tr class="separator:aa01e4a610202830e4279e25b77631be1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8aeafe9825cc157e71af48e8ea220815"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1Script.html">Script</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1BackgroundMergeTask.html#a8aeafe9825cc157e71af48e8ea220815">cached_script_</a></td></tr>
<tr class="separator:a8aeafe9825cc157e71af48e8ea220815"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affc59020805271ed436f713e496a8c3c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1SharedFunctionInfo.html">SharedFunctionInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1BackgroundMergeTask.html#affc59020805271ed436f713e496a8c3c">toplevel_sfi_from_cached_script_</a></td></tr>
<tr class="separator:affc59020805271ed436f713e496a8c3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff00c03c1f06e8483b90566359fa94a3"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classv8_1_1internal_1_1Handle.html">Handle</a>&lt; <a class="el" href="classv8_1_1internal_1_1SharedFunctionInfo.html">SharedFunctionInfo</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1BackgroundMergeTask.html#aff00c03c1f06e8483b90566359fa94a3">used_new_sfis_</a></td></tr>
<tr class="separator:aff00c03c1f06e8483b90566359fa94a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52f3ca844e3b0321d5b69bc50f7518b5"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structv8_1_1internal_1_1BackgroundMergeTask_1_1NewCompiledDataForCachedSfi.html">NewCompiledDataForCachedSfi</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1BackgroundMergeTask.html#a52f3ca844e3b0321d5b69bc50f7518b5">new_compiled_data_for_cached_sfis_</a></td></tr>
<tr class="separator:a52f3ca844e3b0321d5b69bc50f7518b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62baa55e26e15f357d2b0efb6d586510"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1BackgroundMergeTask.html#a8839b7bca923cfb6972793ec0bed53cf">State</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1BackgroundMergeTask.html#a62baa55e26e15f357d2b0efb6d586510">state_</a> = <a class="el" href="classv8_1_1internal_1_1BackgroundMergeTask.html#a8839b7bca923cfb6972793ec0bed53cfab5c7a60a8e4a4ec23aea720fddb1bfbc">kNotStarted</a></td></tr>
<tr class="separator:a62baa55e26e15f357d2b0efb6d586510"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="background-merge-task_8h_source.html#l00026">26</a> of file <a class="el" href="background-merge-task_8h_source.html">background-merge-task.h</a>.</p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a8839b7bca923cfb6972793ec0bed53cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8839b7bca923cfb6972793ec0bed53cf">&#9670;&nbsp;</a></span>State</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classv8_1_1internal_1_1BackgroundMergeTask.html#a8839b7bca923cfb6972793ec0bed53cf">v8::internal::BackgroundMergeTask::State</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a8839b7bca923cfb6972793ec0bed53cfab5c7a60a8e4a4ec23aea720fddb1bfbc"></a>kNotStarted&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8839b7bca923cfb6972793ec0bed53cfaf497a4932cebafb458cbb2ed58249ce7"></a>kPendingBackgroundWork&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8839b7bca923cfb6972793ec0bed53cfa44d57f829d205dac2e6797bd36a26d73"></a>kPendingForegroundWork&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8839b7bca923cfb6972793ec0bed53cfaf9d7da601560fc8efe051d68c8c2dc02"></a>kDone&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="background-merge-task_8h_source.html#l00092">92</a> of file <a class="el" href="background-merge-task_8h_source.html">background-merge-task.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;             {</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <a class="code" href="classv8_1_1internal_1_1BackgroundMergeTask.html#a8839b7bca923cfb6972793ec0bed53cfab5c7a60a8e4a4ec23aea720fddb1bfbc">kNotStarted</a>,</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <a class="code" href="classv8_1_1internal_1_1BackgroundMergeTask.html#a8839b7bca923cfb6972793ec0bed53cfaf497a4932cebafb458cbb2ed58249ce7">kPendingBackgroundWork</a>,</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <a class="code" href="classv8_1_1internal_1_1BackgroundMergeTask.html#a8839b7bca923cfb6972793ec0bed53cfa44d57f829d205dac2e6797bd36a26d73">kPendingForegroundWork</a>,</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <a class="code" href="classv8_1_1internal_1_1BackgroundMergeTask.html#a8839b7bca923cfb6972793ec0bed53cfaf9d7da601560fc8efe051d68c8c2dc02">kDone</a>,</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  };</div>
<div class="ttc" id="aclassv8_1_1internal_1_1BackgroundMergeTask_html_a8839b7bca923cfb6972793ec0bed53cfa44d57f829d205dac2e6797bd36a26d73"><div class="ttname"><a href="classv8_1_1internal_1_1BackgroundMergeTask.html#a8839b7bca923cfb6972793ec0bed53cfa44d57f829d205dac2e6797bd36a26d73">v8::internal::BackgroundMergeTask::kPendingForegroundWork</a></div><div class="ttdeci">@ kPendingForegroundWork</div><div class="ttdef"><b>Definition:</b> <a href="background-merge-task_8h_source.html#l00095">background-merge-task.h:95</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1BackgroundMergeTask_html_a8839b7bca923cfb6972793ec0bed53cfab5c7a60a8e4a4ec23aea720fddb1bfbc"><div class="ttname"><a href="classv8_1_1internal_1_1BackgroundMergeTask.html#a8839b7bca923cfb6972793ec0bed53cfab5c7a60a8e4a4ec23aea720fddb1bfbc">v8::internal::BackgroundMergeTask::kNotStarted</a></div><div class="ttdeci">@ kNotStarted</div><div class="ttdef"><b>Definition:</b> <a href="background-merge-task_8h_source.html#l00093">background-merge-task.h:93</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1BackgroundMergeTask_html_a8839b7bca923cfb6972793ec0bed53cfaf497a4932cebafb458cbb2ed58249ce7"><div class="ttname"><a href="classv8_1_1internal_1_1BackgroundMergeTask.html#a8839b7bca923cfb6972793ec0bed53cfaf497a4932cebafb458cbb2ed58249ce7">v8::internal::BackgroundMergeTask::kPendingBackgroundWork</a></div><div class="ttdeci">@ kPendingBackgroundWork</div><div class="ttdef"><b>Definition:</b> <a href="background-merge-task_8h_source.html#l00094">background-merge-task.h:94</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1BackgroundMergeTask_html_a8839b7bca923cfb6972793ec0bed53cfaf9d7da601560fc8efe051d68c8c2dc02"><div class="ttname"><a href="classv8_1_1internal_1_1BackgroundMergeTask.html#a8839b7bca923cfb6972793ec0bed53cfaf9d7da601560fc8efe051d68c8c2dc02">v8::internal::BackgroundMergeTask::kDone</a></div><div class="ttdeci">@ kDone</div><div class="ttdef"><b>Definition:</b> <a href="background-merge-task_8h_source.html#l00096">background-merge-task.h:96</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ab13e1b4c2e84695c91b9db4470db5462"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab13e1b4c2e84695c91b9db4470db5462">&#9670;&nbsp;</a></span>BeginMergeInBackground()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::internal::BackgroundMergeTask::BeginMergeInBackground </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1LocalIsolate.html">LocalIsolate</a> *&#160;</td>
          <td class="paramname"><em>isolate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1Script.html">Script</a> &gt;&#160;</td>
          <td class="paramname"><em>new_script</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compiler_8cc_source.html#l02410">2410</a> of file <a class="el" href="compiler_8cc_source.html">compiler.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;                                                            {</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="classv8_1_1internal_1_1BackgroundMergeTask.html#a62baa55e26e15f357d2b0efb6d586510">state_</a>, <a class="code" href="classv8_1_1internal_1_1BackgroundMergeTask.html#a8839b7bca923cfb6972793ec0bed53cfaf497a4932cebafb458cbb2ed58249ce7">kPendingBackgroundWork</a>);</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160; </div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;  LocalHeap* local_heap = isolate-&gt;heap();</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;  local_heap-&gt;AttachPersistentHandles(std::move(<a class="code" href="classv8_1_1internal_1_1BackgroundMergeTask.html#aa01e4a610202830e4279e25b77631be1">persistent_handles_</a>));</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;  LocalHandleScope handle_scope(local_heap);</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;  DirectHandle&lt;Script&gt; old_script = <a class="code" href="classv8_1_1internal_1_1BackgroundMergeTask.html#a8aeafe9825cc157e71af48e8ea220815">cached_script_</a>.ToHandleChecked();</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;  ConstantPoolPointerForwarder forwarder(isolate, local_heap, old_script);</div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160; </div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;  {</div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#af2248a427f8ff8f81e68a2a87758e145">DisallowGarbageCollection</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>;</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;    Tagged&lt;MaybeObject&gt; maybe_old_toplevel_sfi =</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;        old_script-&gt;infos()-&gt;get(<a class="code" href="namespacev8_1_1internal.html#a97b8bea75019a4d1149cce1313576f6f">kFunctionLiteralIdTopLevel</a>);</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;    <span class="keywordflow">if</span> (maybe_old_toplevel_sfi.IsWeak()) {</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;      Tagged&lt;SharedFunctionInfo&gt; old_toplevel_sfi = Cast&lt;SharedFunctionInfo&gt;(</div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;          maybe_old_toplevel_sfi.GetHeapObjectAssumeWeak());</div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;      <a class="code" href="classv8_1_1internal_1_1BackgroundMergeTask.html#affc59020805271ed436f713e496a8c3c">toplevel_sfi_from_cached_script_</a> =</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;          local_heap-&gt;NewPersistentHandle(old_toplevel_sfi);</div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;    }</div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;  }</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160; </div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;  <span class="comment">// Iterate the SFI lists on both Scripts to set up the forwarding table and</span></div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;  <span class="comment">// follow-up worklists for the main thread.</span></div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(old_script-&gt;infos()-&gt;length(), new_script-&gt;infos()-&gt;length());</div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; old_script-&gt;infos()-&gt;<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>(); ++<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>) {</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#af2248a427f8ff8f81e68a2a87758e145">DisallowGarbageCollection</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>;</div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;    Tagged&lt;MaybeObject&gt; maybe_new_sfi = new_script-&gt;infos()-&gt;get(<a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;    Tagged&lt;MaybeObject&gt; maybe_old_info = old_script-&gt;infos()-&gt;get(<a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;    <span class="comment">// We might have scope infos in the table if it&#39;s deserialized from a code</span></div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;    <span class="comment">// cache.</span></div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;    <span class="keywordflow">if</span> (maybe_new_sfi.IsWeak() &amp;&amp;</div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;        Is&lt;SharedFunctionInfo&gt;(maybe_new_sfi.GetHeapObjectAssumeWeak())) {</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;      Tagged&lt;SharedFunctionInfo&gt; new_sfi =</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;          Cast&lt;SharedFunctionInfo&gt;(maybe_new_sfi.GetHeapObjectAssumeWeak());</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;      <span class="keywordflow">if</span> (maybe_old_info.IsWeak()) {</div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;        forwarder.set_has_shared_function_info_to_forward();</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;        <span class="comment">// The old script and the new script both have SharedFunctionInfos for</span></div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;        <span class="comment">// this function literal.</span></div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;        Tagged&lt;SharedFunctionInfo&gt; old_sfi =</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;            Cast&lt;SharedFunctionInfo&gt;(maybe_old_info.GetHeapObjectAssumeWeak());</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;        <span class="comment">// Make sure to allocate a persistent handle to the old sfi whether or</span></div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;        <span class="comment">// not it or the new sfi have bytecode -- this is necessary to keep the</span></div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;        <span class="comment">// old sfi reference in the old script list alive, so that pointers to</span></div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;        <span class="comment">// the new sfi are redirected to the old sfi.</span></div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;        Handle&lt;SharedFunctionInfo&gt; old_sfi_handle =</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;            local_heap-&gt;NewPersistentHandle(old_sfi);</div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;        <span class="keywordflow">if</span> (old_sfi-&gt;HasBytecodeArray()) {</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;          <span class="comment">// Reset the old SFI&#39;s bytecode age so that it won&#39;t likely get</span></div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;          <span class="comment">// flushed right away. This operation might be racing against</span></div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;          <span class="comment">// concurrent modification by another thread, but such a race is not</span></div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;          <span class="comment">// catastrophic.</span></div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;          old_sfi-&gt;set_age(0);</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (new_sfi-&gt;HasBytecodeArray()) {</div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;          <span class="comment">// Also push the old_sfi to make sure it stays alive / isn&#39;t replaced.</span></div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;          <a class="code" href="classv8_1_1internal_1_1BackgroundMergeTask.html#a52f3ca844e3b0321d5b69bc50f7518b5">new_compiled_data_for_cached_sfis_</a>.push_back(</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;              {old_sfi_handle, local_heap-&gt;NewPersistentHandle(new_sfi)});</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;          Tagged&lt;ScopeInfo&gt; info = old_sfi-&gt;scope_info();</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;          <span class="keywordflow">if</span> (!info-&gt;IsEmpty()) {</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;            new_sfi-&gt;SetScopeInfo(info);</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;          } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (old_sfi-&gt;HasOuterScopeInfo()) {</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;            new_sfi-&gt;scope_info()-&gt;set_outer_scope_info(</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;                old_sfi-&gt;GetOuterScopeInfo());</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;          }</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;          forwarder.AddBytecodeArray(new_sfi-&gt;GetBytecodeArray(isolate));</div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;        }</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;        <span class="comment">// The old script didn&#39;t have a SharedFunctionInfo for this function</span></div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;        <span class="comment">// literal, so it can use the new SharedFunctionInfo.</span></div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;        new_sfi-&gt;set_script(*old_script, <a class="code" href="namespacev8.html#a13596ed4ca024abd4790ec46b62c2097">kReleaseStore</a>);</div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;        <a class="code" href="classv8_1_1internal_1_1BackgroundMergeTask.html#aff00c03c1f06e8483b90566359fa94a3">used_new_sfis_</a>.push_back(local_heap-&gt;NewPersistentHandle(new_sfi));</div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;        <span class="keywordflow">if</span> (new_sfi-&gt;HasBytecodeArray()) {</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;          forwarder.AddBytecodeArray(new_sfi-&gt;GetBytecodeArray(isolate));</div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;        }</div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;      }</div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;    }</div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160; </div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;    <span class="keywordflow">if</span> (maybe_old_info.IsWeak()) {</div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;      forwarder.RecordScopeInfos(maybe_old_info);</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;      <span class="comment">// If the old script has a SFI, point to it from the new script to</span></div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;      <span class="comment">// indicate we&#39;ve already seen it and we&#39;ll reuse it if necessary (if</span></div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;      <span class="comment">// newly compiled bytecode points to it).</span></div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;      new_script-&gt;infos()-&gt;set(<a class="code" href="namespacev8_1_1internal.html">i</a>, maybe_old_info);</div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;    }</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;  }</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160; </div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;  <span class="comment">// Since we are walking the script infos weak list both when figuring out</span></div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;  <span class="comment">// which SFIs to merge above, and actually merging them below, make sure that</span></div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;  <span class="comment">// a GC here which clears any dead weak refs or flushes any bytecode doesn&#39;t</span></div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;  <span class="comment">// break anything.</span></div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a>(<a class="code" href="namespacev8_1_1internal.html#a0a6548eb8e49b47c065f0573eebaff55">force_gc_during_next_merge_for_testing_</a>)) {</div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;    <span class="comment">// This GC is only synchronous on the main thread at the moment.</span></div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(isolate-&gt;is_main_thread());</div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;    local_heap-&gt;AsHeap()-&gt;CollectAllAvailableGarbage(</div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#a0a2f2571e39a2684be87407899aba748a786985f8ee655e351ca0c798f8e40916">GarbageCollectionReason::kTesting</a>);</div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;  }</div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160; </div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;  <span class="keywordflow">if</span> (forwarder.HasAnythingToForward()) {</div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;    <span class="keywordflow">for</span> (DirectHandle&lt;SharedFunctionInfo&gt; new_sfi : <a class="code" href="classv8_1_1internal_1_1BackgroundMergeTask.html#aff00c03c1f06e8483b90566359fa94a3">used_new_sfis_</a>) {</div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;      forwarder.UpdateScopeInfo(*new_sfi);</div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;    }</div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; new_compiled_data : <a class="code" href="classv8_1_1internal_1_1BackgroundMergeTask.html#a52f3ca844e3b0321d5b69bc50f7518b5">new_compiled_data_for_cached_sfis_</a>) {</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;      <span class="comment">// It&#39;s possible that new_compiled_data.cached_sfi had</span></div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;      <span class="comment">// scope_info()-&gt;IsEmpty() while an inner function has scope info if the</span></div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;      <span class="comment">// cached_sfi was recreated when an outer function was recompiled. If so,</span></div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;      <span class="comment">// new_compiled_data.new_sfi does not have a reused scope info yet, and</span></div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;      <span class="comment">// we&#39;ll have found it when we visited the inner function. Try to pick it</span></div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;      <span class="comment">// up here.</span></div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;      forwarder.InstallOwnScopeInfo(*new_compiled_data.new_sfi);</div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;    }</div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;    forwarder.IterateAndForwardPointers();</div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;  }</div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;  <a class="code" href="classv8_1_1internal_1_1BackgroundMergeTask.html#aa01e4a610202830e4279e25b77631be1">persistent_handles_</a> = local_heap-&gt;DetachPersistentHandles();</div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;  <a class="code" href="classv8_1_1internal_1_1BackgroundMergeTask.html#a62baa55e26e15f357d2b0efb6d586510">state_</a> = <a class="code" href="classv8_1_1internal_1_1BackgroundMergeTask.html#a8839b7bca923cfb6972793ec0bed53cfa44d57f829d205dac2e6797bd36a26d73">kPendingForegroundWork</a>;</div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1BackgroundMergeTask_html_a52f3ca844e3b0321d5b69bc50f7518b5"><div class="ttname"><a href="classv8_1_1internal_1_1BackgroundMergeTask.html#a52f3ca844e3b0321d5b69bc50f7518b5">v8::internal::BackgroundMergeTask::new_compiled_data_for_cached_sfis_</a></div><div class="ttdeci">std::vector&lt; NewCompiledDataForCachedSfi &gt; new_compiled_data_for_cached_sfis_</div><div class="ttdef"><b>Definition:</b> <a href="background-merge-task_8h_source.html#l00090">background-merge-task.h:90</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1BackgroundMergeTask_html_a62baa55e26e15f357d2b0efb6d586510"><div class="ttname"><a href="classv8_1_1internal_1_1BackgroundMergeTask.html#a62baa55e26e15f357d2b0efb6d586510">v8::internal::BackgroundMergeTask::state_</a></div><div class="ttdeci">State state_</div><div class="ttdef"><b>Definition:</b> <a href="background-merge-task_8h_source.html#l00098">background-merge-task.h:98</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1BackgroundMergeTask_html_a8aeafe9825cc157e71af48e8ea220815"><div class="ttname"><a href="classv8_1_1internal_1_1BackgroundMergeTask.html#a8aeafe9825cc157e71af48e8ea220815">v8::internal::BackgroundMergeTask::cached_script_</a></div><div class="ttdeci">MaybeHandle&lt; Script &gt; cached_script_</div><div class="ttdef"><b>Definition:</b> <a href="background-merge-task_8h_source.html#l00066">background-merge-task.h:66</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1BackgroundMergeTask_html_aa01e4a610202830e4279e25b77631be1"><div class="ttname"><a href="classv8_1_1internal_1_1BackgroundMergeTask.html#aa01e4a610202830e4279e25b77631be1">v8::internal::BackgroundMergeTask::persistent_handles_</a></div><div class="ttdeci">std::unique_ptr&lt; PersistentHandles &gt; persistent_handles_</div><div class="ttdef"><b>Definition:</b> <a href="background-merge-task_8h_source.html#l00062">background-merge-task.h:62</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1BackgroundMergeTask_html_aff00c03c1f06e8483b90566359fa94a3"><div class="ttname"><a href="classv8_1_1internal_1_1BackgroundMergeTask.html#aff00c03c1f06e8483b90566359fa94a3">v8::internal::BackgroundMergeTask::used_new_sfis_</a></div><div class="ttdeci">std::vector&lt; Handle&lt; SharedFunctionInfo &gt; &gt; used_new_sfis_</div><div class="ttdef"><b>Definition:</b> <a href="background-merge-task_8h_source.html#l00079">background-merge-task.h:79</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1BackgroundMergeTask_html_affc59020805271ed436f713e496a8c3c"><div class="ttname"><a href="classv8_1_1internal_1_1BackgroundMergeTask.html#affc59020805271ed436f713e496a8c3c">v8::internal::BackgroundMergeTask::toplevel_sfi_from_cached_script_</a></div><div class="ttdeci">MaybeHandle&lt; SharedFunctionInfo &gt; toplevel_sfi_from_cached_script_</div><div class="ttdef"><b>Definition:</b> <a href="background-merge-task_8h_source.html#l00072">background-merge-task.h:72</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_html_a63d8eefb47468aa3f816fbe26a59466a"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">v8::internal::anonymous_namespace{json-stringifier.cc}::no_gc</a></div><div class="ttdeci">size_t const DisallowGarbageCollection &amp; no_gc</div><div class="ttdef"><b>Definition:</b> <a href="json-stringifier_8cc_source.html#l00544">json-stringifier.cc:544</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_html_ad86b3cf21e19e97ce484f32b894d548c"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">v8::internal::anonymous_namespace{json-stringifier.cc}::i</a></div><div class="ttdeci">size_t i</div><div class="ttdef"><b>Definition:</b> <a href="json-stringifier_8cc_source.html#l00548">json-stringifier.cc:548</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html"><div class="ttname"><a href="namespacev8_1_1internal.html">v8::internal</a></div><div class="ttdef"><b>Definition:</b> <a href="api-arguments-inl_8h_source.html#l00020">api-arguments-inl.h:20</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a0a2f2571e39a2684be87407899aba748a786985f8ee655e351ca0c798f8e40916"><div class="ttname"><a href="namespacev8_1_1internal.html#a0a2f2571e39a2684be87407899aba748a786985f8ee655e351ca0c798f8e40916">v8::internal::GarbageCollectionReason::kTesting</a></div><div class="ttdeci">@ kTesting</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a0a6548eb8e49b47c065f0573eebaff55"><div class="ttname"><a href="namespacev8_1_1internal.html#a0a6548eb8e49b47c065f0573eebaff55">v8::internal::force_gc_during_next_merge_for_testing_</a></div><div class="ttdeci">static bool force_gc_during_next_merge_for_testing_</div><div class="ttdef"><b>Definition:</b> <a href="compiler_8cc_source.html#l02404">compiler.cc:2404</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a97b8bea75019a4d1149cce1313576f6f"><div class="ttname"><a href="namespacev8_1_1internal.html#a97b8bea75019a4d1149cce1313576f6f">v8::internal::kFunctionLiteralIdTopLevel</a></div><div class="ttdeci">constexpr int kFunctionLiteralIdTopLevel</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l02785">globals.h:2785</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa6b3743bd5d773c552654f2a6c3efa4a"><div class="ttname"><a href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK</a></div><div class="ttdeci">DCHECK(IsNull(value)||IsNativeContext(value)||value==Smi::uninitialized_deserialization_value())</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_af2248a427f8ff8f81e68a2a87758e145"><div class="ttname"><a href="namespacev8_1_1internal.html#af2248a427f8ff8f81e68a2a87758e145">v8::internal::DisallowGarbageCollection</a></div><div class="ttdeci">PerThreadAssertScopeDebugOnly&lt; false, SAFEPOINTS_ASSERT, HEAP_ALLOCATION_ASSERT &gt; DisallowGarbageCollection</div><div class="ttdef"><b>Definition:</b> <a href="assert-scope_8h_source.html#l00239">assert-scope.h:241</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_afa9ea55d792121fba92b4cfc8ef8c9d7"><div class="ttname"><a href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">v8::internal::length</a></div><div class="ttdeci">size_t length</div><div class="ttdef"><b>Definition:</b> <a href="external-reference_8cc_source.html#l01508">external-reference.cc:1508</a></div></div>
<div class="ttc" id="anamespacev8_html_a13596ed4ca024abd4790ec46b62c2097"><div class="ttname"><a href="namespacev8.html#a13596ed4ca024abd4790ec46b62c2097">v8::kReleaseStore</a></div><div class="ttdeci">static constexpr ReleaseStoreTag kReleaseStore</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l02944">globals.h:2944</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_aca32614b4d2aea7dd9abdeb222bf02f3"><div class="ttname"><a href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a></div><div class="ttdeci">#define CHECK_EQ(lhs, rhs)</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_af9c313d74155f7f201955a939e24c71f"><div class="ttname"><a href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a></div><div class="ttdeci">#define DCHECK_EQ(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00484">logging.h:484</a></div></div>
<div class="ttc" id="av8config_8h_html_a67bd29db07c711b0fb11ff1c324ebb60"><div class="ttname"><a href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a></div><div class="ttdeci">#define V8_UNLIKELY(condition)</div><div class="ttdef"><b>Definition:</b> <a href="v8config_8h_source.html#l00660">v8config.h:660</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="compiler_8cc_source.html#l02086">v8::internal::ConstantPoolPointerForwarder::AddBytecodeArray()</a>, <a class="el" href="local-heap_8h_source.html#l00123">v8::internal::LocalHeap::AsHeap()</a>, <a class="el" href="local-heap_8cc_source.html#l00183">v8::internal::LocalHeap::AttachPersistentHandles()</a>, <a class="el" href="background-merge-task_8h_source.html#l00066">cached_script_</a>, <a class="el" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>, <a class="el" href="heap_8cc_source.html#l01351">v8::internal::Heap::CollectAllAvailableGarbage()</a>, <a class="el" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00484">DCHECK_EQ</a>, <a class="el" href="local-heap_8cc_source.html#l00190">v8::internal::LocalHeap::DetachPersistentHandles()</a>, <a class="el" href="compiler_8cc_source.html#l02404">v8::internal::force_gc_during_next_merge_for_testing_</a>, <a class="el" href="tagged-impl-inl_8h_source.html#l00189">v8::internal::TaggedImpl&lt; kRefType, StorageType &gt;::GetHeapObjectAssumeWeak()</a>, <a class="el" href="compiler_8cc_source.html#l02149">v8::internal::ConstantPoolPointerForwarder::HasAnythingToForward()</a>, <a class="el" href="local-isolate_8h_source.html#l00060">v8::internal::LocalIsolate::heap()</a>, <a class="el" href="json-stringifier_8cc_source.html#l00548">v8::internal::anonymous_namespace{json-stringifier.cc}::i</a>, <a class="el" href="compiler_8cc_source.html#l02160">v8::internal::ConstantPoolPointerForwarder::InstallOwnScopeInfo()</a>, <a class="el" href="local-isolate_8h_source.html#l00058">v8::internal::LocalIsolate::is_main_thread()</a>, <a class="el" href="tagged-impl_8h_source.html#l00149">v8::internal::TaggedImpl&lt; kRefType, StorageType &gt;::IsWeak()</a>, <a class="el" href="compiler_8cc_source.html#l02136">v8::internal::ConstantPoolPointerForwarder::IterateAndForwardPointers()</a>, <a class="el" href="common_2globals_8h_source.html#l02785">v8::internal::kFunctionLiteralIdTopLevel</a>, <a class="el" href="background-merge-task_8h_source.html#l00094">kPendingBackgroundWork</a>, <a class="el" href="background-merge-task_8h_source.html#l00095">kPendingForegroundWork</a>, <a class="el" href="common_2globals_8h_source.html#l02944">v8::kReleaseStore</a>, <a class="el" href="namespacev8_1_1internal.html#a0a2f2571e39a2684be87407899aba748a786985f8ee655e351ca0c798f8e40916">v8::internal::kTesting</a>, <a class="el" href="external-reference_8cc_source.html#l01508">v8::internal::length</a>, <a class="el" href="background-merge-task_8h_source.html#l00090">new_compiled_data_for_cached_sfis_</a>, <a class="el" href="local-heap_8h_source.html#l00073">v8::internal::LocalHeap::NewPersistentHandle()</a>, <a class="el" href="json-stringifier_8cc_source.html#l00544">v8::internal::anonymous_namespace{json-stringifier.cc}::no_gc</a>, <a class="el" href="background-merge-task_8h_source.html#l00062">persistent_handles_</a>, <a class="el" href="compiler_8cc_source.html#l02091">v8::internal::ConstantPoolPointerForwarder::RecordScopeInfos()</a>, <a class="el" href="compiler_8cc_source.html#l02145">v8::internal::ConstantPoolPointerForwarder::set_has_shared_function_info_to_forward()</a>, <a class="el" href="background-merge-task_8h_source.html#l00098">state_</a>, <a class="el" href="background-merge-task_8h_source.html#l00072">toplevel_sfi_from_cached_script_</a>, <a class="el" href="compiler_8cc_source.html#l02173">v8::internal::ConstantPoolPointerForwarder::UpdateScopeInfo()</a>, <a class="el" href="background-merge-task_8h_source.html#l00079">used_new_sfis_</a>, and <a class="el" href="v8config_8h_source.html#l00660">V8_UNLIKELY</a>.</p>

<p class="reference">Referenced by <a class="el" href="code-serializer_8cc_source.html#l00481">v8::internal::CodeSerializer::Deserialize()</a>, <a class="el" href="compiler_8cc_source.html#l02620">v8::internal::BackgroundCompileTask::FinalizeScript()</a>, and <a class="el" href="compiler_8cc_source.html#l02791">v8::internal::BackgroundDeserializeTask::MergeWithExistingScript()</a>.</p>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1BackgroundMergeTask_ab13e1b4c2e84695c91b9db4470db5462_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1BackgroundMergeTask_ab13e1b4c2e84695c91b9db4470db5462_icgraph.svg" width="100%" height="580"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="aca186bd1c822719856e195526777e135"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca186bd1c822719856e195526777e135">&#9670;&nbsp;</a></span>CompleteMergeInForeground()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1Handle.html">Handle</a>&lt; <a class="el" href="classv8_1_1internal_1_1SharedFunctionInfo.html">SharedFunctionInfo</a> &gt; v8::internal::BackgroundMergeTask::CompleteMergeInForeground </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1Isolate.html">Isolate</a> *&#160;</td>
          <td class="paramname"><em>isolate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1Script.html">Script</a> &gt;&#160;</td>
          <td class="paramname"><em>new_script</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compiler_8cc_source.html#l02526">2526</a> of file <a class="el" href="compiler_8cc_source.html">compiler.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;                                                       {</div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="classv8_1_1internal_1_1BackgroundMergeTask.html#a62baa55e26e15f357d2b0efb6d586510">state_</a>, <a class="code" href="classv8_1_1internal_1_1BackgroundMergeTask.html#a8839b7bca923cfb6972793ec0bed53cfa44d57f829d205dac2e6797bd36a26d73">kPendingForegroundWork</a>);</div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160; </div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;  HandleScope handle_scope(isolate);</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;  DirectHandle&lt;Script&gt; old_script = <a class="code" href="classv8_1_1internal_1_1BackgroundMergeTask.html#a8aeafe9825cc157e71af48e8ea220815">cached_script_</a>.ToHandleChecked();</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;  ConstantPoolPointerForwarder forwarder(</div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;      isolate, isolate-&gt;main_thread_local_heap(), old_script);</div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160; </div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; new_compiled_data : <a class="code" href="classv8_1_1internal_1_1BackgroundMergeTask.html#a52f3ca844e3b0321d5b69bc50f7518b5">new_compiled_data_for_cached_sfis_</a>) {</div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;    Tagged&lt;SharedFunctionInfo&gt; sfi = *new_compiled_data.cached_sfi;</div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;    <span class="keywordflow">if</span> (!sfi-&gt;is_compiled() &amp;&amp; new_compiled_data.new_sfi-&gt;is_compiled()) {</div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;      <span class="comment">// Updating existing DebugInfos is not supported, but we don&#39;t expect</span></div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;      <span class="comment">// uncompiled SharedFunctionInfos to contain DebugInfos.</span></div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!new_compiled_data.cached_sfi-&gt;HasDebugInfo(isolate));</div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;      <span class="comment">// The goal here is to copy every field except script from</span></div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;      <span class="comment">// new_sfi to cached_sfi. The safest way to do so (including a DCHECK that</span></div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;      <span class="comment">// no fields were skipped) is to first copy the script from</span></div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;      <span class="comment">// cached_sfi to new_sfi, and then copy every field using CopyFrom.</span></div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;      new_compiled_data.new_sfi-&gt;set_script(sfi-&gt;script(<a class="code" href="namespacev8.html#aee4e677b8d8a86416617b3330778b98a">kAcquireLoad</a>),</div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;                                            <a class="code" href="namespacev8.html#a13596ed4ca024abd4790ec46b62c2097">kReleaseStore</a>);</div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;      sfi-&gt;CopyFrom(*new_compiled_data.new_sfi, isolate);</div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;    }</div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;  }</div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160; </div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; old_script-&gt;infos()-&gt;<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>(); ++<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>) {</div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;    Tagged&lt;MaybeObject&gt; maybe_old_info = old_script-&gt;infos()-&gt;get(<a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;    Tagged&lt;MaybeObject&gt; maybe_new_info = new_script-&gt;infos()-&gt;get(<a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;    <span class="keywordflow">if</span> (maybe_new_info == maybe_old_info) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#af2248a427f8ff8f81e68a2a87758e145">DisallowGarbageCollection</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>;</div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;    <span class="keywordflow">if</span> (maybe_old_info.IsWeak()) {</div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;      <span class="comment">// The old script&#39;s SFI didn&#39;t exist during the background work, but does</span></div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;      <span class="comment">// now. This means a re-merge is necessary. Potential references to the</span></div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;      <span class="comment">// new script&#39;s SFI need to be updated to point to the cached script&#39;s SFI</span></div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;      <span class="comment">// instead. The cached script&#39;s SFI&#39;s outer scope infos need to be used by</span></div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;      <span class="comment">// the new script&#39;s outer SFIs.</span></div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;      <span class="keywordflow">if</span> (Is&lt;SharedFunctionInfo&gt;(maybe_old_info.GetHeapObjectAssumeWeak())) {</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;        forwarder.set_has_shared_function_info_to_forward();</div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;      }</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;      forwarder.RecordScopeInfos(maybe_old_info);</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;      old_script-&gt;infos()-&gt;set(<a class="code" href="namespacev8_1_1internal.html">i</a>, maybe_new_info);</div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;    }</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;  }</div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160; </div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;  <span class="comment">// Most of the time, the background merge was sufficient. However, if there</span></div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;  <span class="comment">// are any new pointers that need forwarding, a new traversal of the constant</span></div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;  <span class="comment">// pools is required.</span></div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;  <span class="keywordflow">if</span> (forwarder.HasAnythingToForward()) {</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;    <span class="keywordflow">for</span> (DirectHandle&lt;SharedFunctionInfo&gt; new_sfi : <a class="code" href="classv8_1_1internal_1_1BackgroundMergeTask.html#aff00c03c1f06e8483b90566359fa94a3">used_new_sfis_</a>) {</div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;      forwarder.UpdateScopeInfo(*new_sfi);</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;      <span class="keywordflow">if</span> (new_sfi-&gt;HasBytecodeArray(isolate)) {</div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;        forwarder.AddBytecodeArray(new_sfi-&gt;GetBytecodeArray(isolate));</div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;      }</div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;    }</div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; new_compiled_data : <a class="code" href="classv8_1_1internal_1_1BackgroundMergeTask.html#a52f3ca844e3b0321d5b69bc50f7518b5">new_compiled_data_for_cached_sfis_</a>) {</div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;      <span class="comment">// It&#39;s possible that cached_sfi wasn&#39;t compiled, but an inner function</span></div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;      <span class="comment">// existed that didn&#39;t exist when be background merged. In that case, pick</span></div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;      <span class="comment">// up the relevant scope infos.</span></div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;      Tagged&lt;SharedFunctionInfo&gt; sfi = *new_compiled_data.cached_sfi;</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;      forwarder.InstallOwnScopeInfo(sfi);</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;      <span class="keywordflow">if</span> (new_compiled_data.cached_sfi-&gt;HasBytecodeArray(isolate)) {</div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;        forwarder.AddBytecodeArray(</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;            new_compiled_data.cached_sfi-&gt;GetBytecodeArray(isolate));</div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;      }</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;    }</div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;    forwarder.IterateAndForwardPointers();</div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;  }</div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160; </div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;  Tagged&lt;MaybeObject&gt; maybe_toplevel_sfi =</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;      old_script-&gt;infos()-&gt;get(<a class="code" href="namespacev8_1_1internal.html#a97b8bea75019a4d1149cce1313576f6f">kFunctionLiteralIdTopLevel</a>);</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(maybe_toplevel_sfi.IsWeak());</div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;  Handle&lt;SharedFunctionInfo&gt; <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>(</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;      Cast&lt;SharedFunctionInfo&gt;(maybe_toplevel_sfi.GetHeapObjectAssumeWeak()),</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;      isolate);</div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160; </div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;  <a class="code" href="classv8_1_1internal_1_1BackgroundMergeTask.html#a62baa55e26e15f357d2b0efb6d586510">state_</a> = <a class="code" href="classv8_1_1internal_1_1BackgroundMergeTask.html#a8839b7bca923cfb6972793ec0bed53cfaf9d7da601560fc8efe051d68c8c2dc02">kDone</a>;</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160; </div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;  <span class="keywordflow">if</span> (isolate-&gt;NeedsSourcePositions()) {</div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Script.html#a494a1f7114748b7d012849dd59069123">Script::InitLineEnds</a>(isolate, new_script);</div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;    <a class="code" href="classv8_1_1internal_1_1SharedFunctionInfo.html#a3be913553e4b94b747bd0f898a7b02af">SharedFunctionInfo::EnsureSourcePositionsAvailable</a>(isolate, <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>);</div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;  }</div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160; </div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02compiler_8cc_03.html#ae35744f0d19de3c916c147713226d5d1">VerifyCodeMerge</a>(isolate, old_script);</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.verify_code_merge) {</div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02compiler_8cc_03.html#ae35744f0d19de3c916c147713226d5d1">VerifyCodeMerge</a>(isolate, old_script);</div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;  }</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160; </div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;  <span class="keywordflow">return</span> handle_scope.CloseAndEscape(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>);</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1Script_html_a494a1f7114748b7d012849dd59069123"><div class="ttname"><a href="classv8_1_1internal_1_1Script.html#a494a1f7114748b7d012849dd59069123">v8::internal::Script::InitLineEnds</a></div><div class="ttdeci">static void InitLineEnds(Isolate *isolate, DirectHandle&lt; Script &gt; script)</div><div class="ttdef"><b>Definition:</b> <a href="script-inl_8h_source.html#l00199">script-inl.h:199</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SharedFunctionInfo_html_a3be913553e4b94b747bd0f898a7b02af"><div class="ttname"><a href="classv8_1_1internal_1_1SharedFunctionInfo.html#a3be913553e4b94b747bd0f898a7b02af">v8::internal::SharedFunctionInfo::EnsureSourcePositionsAvailable</a></div><div class="ttdeci">static void EnsureSourcePositionsAvailable(Isolate *isolate, DirectHandle&lt; SharedFunctionInfo &gt; shared_info)</div><div class="ttdef"><b>Definition:</b> <a href="shared-function-info_8cc_source.html#l00833">shared-function-info.cc:833</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_1_1internal_html_a9840f2bf0b4780133662292486d0bc01"><div class="ttname"><a href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">v8::base::internal::result</a></div><div class="ttdeci">V result</div><div class="ttdef"><b>Definition:</b> <a href="clamped__math__impl_8h_source.html#l00082">clamped_math_impl.h:82</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02compiler_8cc_03_html_ae35744f0d19de3c916c147713226d5d1"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02compiler_8cc_03.html#ae35744f0d19de3c916c147713226d5d1">v8::internal::anonymous_namespace{compiler.cc}::VerifyCodeMerge</a></div><div class="ttdeci">void VerifyCodeMerge(Isolate *isolate, DirectHandle&lt; Script &gt; script)</div><div class="ttdef"><b>Definition:</b> <a href="compiler_8cc_source.html#l02325">compiler.cc:2325</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a8c89f00da07e125218128b9fbf0a321c"><div class="ttname"><a href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">v8::internal::handle</a></div><div class="ttdeci">IndirectHandle&lt; T &gt; handle(Tagged&lt; T &gt; object, Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="handles-inl_8h_source.html#l00072">handles-inl.h:72</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa9db791c05a0359859a321dcfec42e37"><div class="ttname"><a href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a></div><div class="ttdeci">V8_EXPORT_PRIVATE FlagValues v8_flags</div></div>
<div class="ttc" id="anamespacev8_html_aee4e677b8d8a86416617b3330778b98a"><div class="ttname"><a href="namespacev8.html#aee4e677b8d8a86416617b3330778b98a">v8::kAcquireLoad</a></div><div class="ttdeci">static constexpr AcquireLoadTag kAcquireLoad</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l02942">globals.h:2942</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a3e1cfef60e774a81f30eaddf26a3a274"><div class="ttname"><a href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a></div><div class="ttdeci">#define CHECK(condition)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00124">logging.h:124</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="compiler_8cc_source.html#l02086">v8::internal::ConstantPoolPointerForwarder::AddBytecodeArray()</a>, <a class="el" href="background-merge-task_8h_source.html#l00066">cached_script_</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00124">CHECK</a>, <a class="el" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00484">DCHECK_EQ</a>, <a class="el" href="shared-function-info_8cc_source.html#l00833">v8::internal::SharedFunctionInfo::EnsureSourcePositionsAvailable()</a>, <a class="el" href="tagged-impl-inl_8h_source.html#l00189">v8::internal::TaggedImpl&lt; kRefType, StorageType &gt;::GetHeapObjectAssumeWeak()</a>, <a class="el" href="handles-inl_8h_source.html#l00072">v8::internal::handle()</a>, <a class="el" href="compiler_8cc_source.html#l02149">v8::internal::ConstantPoolPointerForwarder::HasAnythingToForward()</a>, <a class="el" href="json-stringifier_8cc_source.html#l00548">v8::internal::anonymous_namespace{json-stringifier.cc}::i</a>, <a class="el" href="script-inl_8h_source.html#l00199">v8::internal::Script::InitLineEnds()</a>, <a class="el" href="compiler_8cc_source.html#l02160">v8::internal::ConstantPoolPointerForwarder::InstallOwnScopeInfo()</a>, <a class="el" href="tagged-impl_8h_source.html#l00149">v8::internal::TaggedImpl&lt; kRefType, StorageType &gt;::IsWeak()</a>, <a class="el" href="compiler_8cc_source.html#l02136">v8::internal::ConstantPoolPointerForwarder::IterateAndForwardPointers()</a>, <a class="el" href="common_2globals_8h_source.html#l02942">v8::kAcquireLoad</a>, <a class="el" href="background-merge-task_8h_source.html#l00096">kDone</a>, <a class="el" href="common_2globals_8h_source.html#l02785">v8::internal::kFunctionLiteralIdTopLevel</a>, <a class="el" href="background-merge-task_8h_source.html#l00095">kPendingForegroundWork</a>, <a class="el" href="common_2globals_8h_source.html#l02944">v8::kReleaseStore</a>, <a class="el" href="external-reference_8cc_source.html#l01508">v8::internal::length</a>, <a class="el" href="isolate_8cc_source.html#l07604">v8::internal::Isolate::main_thread_local_heap()</a>, <a class="el" href="isolate_8cc_source.html#l06248">v8::internal::Isolate::NeedsSourcePositions()</a>, <a class="el" href="background-merge-task_8h_source.html#l00090">new_compiled_data_for_cached_sfis_</a>, <a class="el" href="json-stringifier_8cc_source.html#l00544">v8::internal::anonymous_namespace{json-stringifier.cc}::no_gc</a>, <a class="el" href="compiler_8cc_source.html#l02091">v8::internal::ConstantPoolPointerForwarder::RecordScopeInfos()</a>, <a class="el" href="clamped__math__impl_8h_source.html#l00082">v8::base::internal::result</a>, <a class="el" href="compiler_8cc_source.html#l02145">v8::internal::ConstantPoolPointerForwarder::set_has_shared_function_info_to_forward()</a>, <a class="el" href="background-merge-task_8h_source.html#l00098">state_</a>, <a class="el" href="compiler_8cc_source.html#l02173">v8::internal::ConstantPoolPointerForwarder::UpdateScopeInfo()</a>, <a class="el" href="background-merge-task_8h_source.html#l00079">used_new_sfis_</a>, <a class="el" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a>, and <a class="el" href="compiler_8cc_source.html#l02325">v8::internal::anonymous_namespace{compiler.cc}::VerifyCodeMerge()</a>.</p>

<p class="reference">Referenced by <a class="el" href="code-serializer_8cc_source.html#l00481">v8::internal::CodeSerializer::Deserialize()</a>, <a class="el" href="compiler_8cc_source.html#l02620">v8::internal::BackgroundCompileTask::FinalizeScript()</a>, and <a class="el" href="code-serializer_8cc_source.html#l00610">v8::internal::CodeSerializer::FinishOffThreadDeserialize()</a>.</p>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1BackgroundMergeTask_aca186bd1c822719856e195526777e135_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1BackgroundMergeTask_aca186bd1c822719856e195526777e135_icgraph.svg" width="100%" height="580"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a4fea602daa4c9857ad1244a4b9620711"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fea602daa4c9857ad1244a4b9620711">&#9670;&nbsp;</a></span>ForceGCDuringNextMergeForTesting()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void v8::internal::BackgroundMergeTask::ForceGCDuringNextMergeForTesting </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compiler_8cc_source.html#l02406">2406</a> of file <a class="el" href="compiler_8cc_source.html">compiler.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;                                                           {</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a0a6548eb8e49b47c065f0573eebaff55">force_gc_during_next_merge_for_testing_</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="compiler_8cc_source.html#l02404">v8::internal::force_gc_during_next_merge_for_testing_</a>.</p>

</div>
</div>
<a id="a670e7cc2e17016cdbb6eb5ff1ee1e394"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a670e7cc2e17016cdbb6eb5ff1ee1e394">&#9670;&nbsp;</a></span>HasPendingBackgroundWork()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a> v8::internal::BackgroundMergeTask::HasPendingBackgroundWork </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="background-merge-task_8h_source.html#l00052">52</a> of file <a class="el" href="background-merge-task_8h_source.html">background-merge-task.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                                        {</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1BackgroundMergeTask.html#a62baa55e26e15f357d2b0efb6d586510">state_</a> == <a class="code" href="classv8_1_1internal_1_1BackgroundMergeTask.html#a8839b7bca923cfb6972793ec0bed53cfaf497a4932cebafb458cbb2ed58249ce7">kPendingBackgroundWork</a>;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="code-serializer_8cc_source.html#l00481">v8::internal::CodeSerializer::Deserialize()</a>, <a class="el" href="compiler_8cc_source.html#l02620">v8::internal::BackgroundCompileTask::FinalizeScript()</a>, and <a class="el" href="compiler_8cc_source.html#l02785">v8::internal::BackgroundDeserializeTask::ShouldMergeWithExistingScript()</a>.</p>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1BackgroundMergeTask_a670e7cc2e17016cdbb6eb5ff1ee1e394_icgraph.svg" width="100%" height="580"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="aa4e69cd6462e526b1b19466775b607ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4e69cd6462e526b1b19466775b607ef">&#9670;&nbsp;</a></span>HasPendingForegroundWork()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a> v8::internal::BackgroundMergeTask::HasPendingForegroundWork </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="background-merge-task_8h_source.html#l00055">55</a> of file <a class="el" href="background-merge-task_8h_source.html">background-merge-task.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                                        {</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1BackgroundMergeTask.html#a62baa55e26e15f357d2b0efb6d586510">state_</a> == <a class="code" href="classv8_1_1internal_1_1BackgroundMergeTask.html#a8839b7bca923cfb6972793ec0bed53cfa44d57f829d205dac2e6797bd36a26d73">kPendingForegroundWork</a>;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="code-serializer_8cc_source.html#l00481">v8::internal::CodeSerializer::Deserialize()</a>, <a class="el" href="compiler_8cc_source.html#l02620">v8::internal::BackgroundCompileTask::FinalizeScript()</a>, and <a class="el" href="code-serializer_8cc_source.html#l00610">v8::internal::CodeSerializer::FinishOffThreadDeserialize()</a>.</p>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1BackgroundMergeTask_aa4e69cd6462e526b1b19466775b607ef_icgraph.svg" width="100%" height="580"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="afbeae63566a66dbf4fc5de7db358672f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbeae63566a66dbf4fc5de7db358672f">&#9670;&nbsp;</a></span>SetUpOnMainThread() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::internal::BackgroundMergeTask::SetUpOnMainThread </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1Isolate.html">Isolate</a> *&#160;</td>
          <td class="paramname"><em>isolate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1Script.html">Script</a> &gt;&#160;</td>
          <td class="paramname"><em>cached_script</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compiler_8cc_source.html#l02388">2388</a> of file <a class="el" href="compiler_8cc_source.html">compiler.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;                                                          {</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;  <span class="comment">// Any data sent to the background thread will need to be a persistent handle.</span></div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02compiler_8cc_03.html#ae35744f0d19de3c916c147713226d5d1">VerifyCodeMerge</a>(isolate, cached_script);</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.verify_code_merge) {</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02compiler_8cc_03.html#ae35744f0d19de3c916c147713226d5d1">VerifyCodeMerge</a>(isolate, cached_script);</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;  }</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160; </div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;  <a class="code" href="classv8_1_1internal_1_1BackgroundMergeTask.html#aa01e4a610202830e4279e25b77631be1">persistent_handles_</a> = std::make_unique&lt;PersistentHandles&gt;(isolate);</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;  <a class="code" href="classv8_1_1internal_1_1BackgroundMergeTask.html#a62baa55e26e15f357d2b0efb6d586510">state_</a> = <a class="code" href="classv8_1_1internal_1_1BackgroundMergeTask.html#a8839b7bca923cfb6972793ec0bed53cfaf497a4932cebafb458cbb2ed58249ce7">kPendingBackgroundWork</a>;</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;  <a class="code" href="classv8_1_1internal_1_1BackgroundMergeTask.html#a8aeafe9825cc157e71af48e8ea220815">cached_script_</a> = <a class="code" href="classv8_1_1internal_1_1BackgroundMergeTask.html#aa01e4a610202830e4279e25b77631be1">persistent_handles_</a>-&gt;NewHandle(*cached_script);</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="background-merge-task_8h_source.html#l00066">cached_script_</a>, <a class="el" href="background-merge-task_8h_source.html#l00094">kPendingBackgroundWork</a>, <a class="el" href="background-merge-task_8h_source.html#l00062">persistent_handles_</a>, <a class="el" href="background-merge-task_8h_source.html#l00098">state_</a>, <a class="el" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a>, and <a class="el" href="compiler_8cc_source.html#l02325">v8::internal::anonymous_namespace{compiler.cc}::VerifyCodeMerge()</a>.</p>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1BackgroundMergeTask_afbeae63566a66dbf4fc5de7db358672f_cgraph.svg" width="100%" height="454"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a6b88ef3c910b53cd92b89024261f5cc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b88ef3c910b53cd92b89024261f5cc5">&#9670;&nbsp;</a></span>SetUpOnMainThread() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::internal::BackgroundMergeTask::SetUpOnMainThread </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1Isolate.html">Isolate</a> *&#160;</td>
          <td class="paramname"><em>isolate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1Handle.html">Handle</a>&lt; <a class="el" href="classv8_1_1internal_1_1String.html">String</a> &gt;&#160;</td>
          <td class="paramname"><em>source_text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structv8_1_1internal_1_1ScriptDetails.html">ScriptDetails</a> &amp;&#160;</td>
          <td class="paramname"><em>script_details</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacev8_1_1internal.html#aff2483f817f329c2b4c7c1d7149f858b">LanguageMode</a>&#160;</td>
          <td class="paramname"><em>language_mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compiler_8cc_source.html#l02293">2293</a> of file <a class="el" href="compiler_8cc_source.html">compiler.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;                                                                        {</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="classv8_1_1internal_1_1BackgroundMergeTask.html#a62baa55e26e15f357d2b0efb6d586510">state_</a>, <a class="code" href="classv8_1_1internal_1_1BackgroundMergeTask.html#a8839b7bca923cfb6972793ec0bed53cfab5c7a60a8e4a4ec23aea720fddb1bfbc">kNotStarted</a>);</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160; </div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;  HandleScope handle_scope(isolate);</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160; </div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;  <a class="code" href="classv8_1_1internal_1_1CompilationCacheScript.html#afb66a3800587976c8c511ed957d40c43">CompilationCacheScript::LookupResult</a> lookup_result =</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;      isolate-&gt;compilation_cache()-&gt;LookupScript(source_text, script_details,</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;                                                 language_mode);</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;  DirectHandle&lt;Script&gt; <a class="code" href="namespacev8_1_1internal.html#afb7e5cd394b9632dddc2e7807b11b2ab">script</a>;</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;  <span class="keywordflow">if</span> (!lookup_result.script().ToHandle(&amp;<a class="code" href="namespacev8_1_1internal.html#afb7e5cd394b9632dddc2e7807b11b2ab">script</a>)) {</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;    <a class="code" href="classv8_1_1internal_1_1BackgroundMergeTask.html#a62baa55e26e15f357d2b0efb6d586510">state_</a> = <a class="code" href="classv8_1_1internal_1_1BackgroundMergeTask.html#a8839b7bca923cfb6972793ec0bed53cfaf9d7da601560fc8efe051d68c8c2dc02">kDone</a>;</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;  }</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160; </div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;  <span class="keywordflow">if</span> (lookup_result.is_compiled_scope().is_compiled()) {</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;    <span class="comment">// There already exists a compiled top-level SFI, so the main thread will</span></div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;    <span class="comment">// discard the background serialization results and use the top-level SFI</span></div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;    <span class="comment">// from the cache, assuming the top-level SFI is still compiled by then.</span></div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;    <span class="comment">// Thus, there is no need to keep the Script pointer for background merging.</span></div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;    <span class="comment">// Do nothing in this case.</span></div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;    <a class="code" href="classv8_1_1internal_1_1BackgroundMergeTask.html#a62baa55e26e15f357d2b0efb6d586510">state_</a> = <a class="code" href="classv8_1_1internal_1_1BackgroundMergeTask.html#a8839b7bca923cfb6972793ec0bed53cfaf9d7da601560fc8efe051d68c8c2dc02">kDone</a>;</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(lookup_result.toplevel_sfi().is_null());</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;    <span class="comment">// A background merge is required.</span></div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;    <a class="code" href="classv8_1_1internal_1_1BackgroundMergeTask.html#a6b88ef3c910b53cd92b89024261f5cc5">SetUpOnMainThread</a>(isolate, <a class="code" href="namespacev8_1_1internal.html#afb7e5cd394b9632dddc2e7807b11b2ab">script</a>);</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;  }</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1BackgroundMergeTask_html_a6b88ef3c910b53cd92b89024261f5cc5"><div class="ttname"><a href="classv8_1_1internal_1_1BackgroundMergeTask.html#a6b88ef3c910b53cd92b89024261f5cc5">v8::internal::BackgroundMergeTask::SetUpOnMainThread</a></div><div class="ttdeci">void SetUpOnMainThread(Isolate *isolate, Handle&lt; String &gt; source_text, const ScriptDetails &amp;script_details, LanguageMode language_mode)</div><div class="ttdef"><b>Definition:</b> <a href="compiler_8cc_source.html#l02293">compiler.cc:2293</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CompilationCacheScript_html_afb66a3800587976c8c511ed957d40c43"><div class="ttname"><a href="classv8_1_1internal_1_1CompilationCacheScript.html#afb66a3800587976c8c511ed957d40c43">v8::internal::CompilationCacheScript::LookupResult</a></div><div class="ttdeci">CompilationCacheScriptLookupResult LookupResult</div><div class="ttdef"><b>Definition:</b> <a href="compilation-cache_8h_source.html#l00054">compilation-cache.h:54</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_afb7e5cd394b9632dddc2e7807b11b2ab"><div class="ttname"><a href="namespacev8_1_1internal.html#afb7e5cd394b9632dddc2e7807b11b2ab">v8::internal::script</a></div><div class="ttdeci">kInterpreterTrampolineOffset script</div><div class="ttdef"><b>Definition:</b> <a href="shared-function-info-inl_8h_source.html#l00117">shared-function-info-inl.h:117</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="execution_2isolate_8h_source.html#l01206">v8::internal::Isolate::compilation_cache()</a>, <a class="el" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00484">DCHECK_EQ</a>, <a class="el" href="shared-function-info_8h_source.html#l00889">v8::internal::IsCompiledScope::is_compiled()</a>, <a class="el" href="compilation-cache-table_8h_source.html#l00096">v8::internal::CompilationCacheScriptLookupResult::is_compiled_scope()</a>, <a class="el" href="background-merge-task_8h_source.html#l00096">kDone</a>, <a class="el" href="background-merge-task_8h_source.html#l00093">kNotStarted</a>, <a class="el" href="compilation-cache_8cc_source.html#l00241">v8::internal::CompilationCache::LookupScript()</a>, <a class="el" href="compilation-cache-table_8h_source.html#l00094">v8::internal::CompilationCacheScriptLookupResult::script()</a>, <a class="el" href="shared-function-info-inl_8h_source.html#l00117">v8::internal::script</a>, <a class="el" href="background-merge-task_8h_source.html#l00098">state_</a>, and <a class="el" href="compilation-cache-table_8h_source.html#l00095">v8::internal::CompilationCacheScriptLookupResult::toplevel_sfi()</a>.</p>

<p class="reference">Referenced by <a class="el" href="code-serializer_8cc_source.html#l00481">v8::internal::CodeSerializer::Deserialize()</a>, <a class="el" href="compiler_8cc_source.html#l02620">v8::internal::BackgroundCompileTask::FinalizeScript()</a>, and <a class="el" href="compiler_8cc_source.html#l02776">v8::internal::BackgroundDeserializeTask::SourceTextAvailable()</a>.</p>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1BackgroundMergeTask_a6b88ef3c910b53cd92b89024261f5cc5_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1BackgroundMergeTask_a6b88ef3c910b53cd92b89024261f5cc5_icgraph.svg" width="100%" height="580"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a8aeafe9825cc157e71af48e8ea220815"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8aeafe9825cc157e71af48e8ea220815">&#9670;&nbsp;</a></span>cached_script_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle</a>&lt;<a class="el" href="classv8_1_1internal_1_1Script.html">Script</a>&gt; v8::internal::BackgroundMergeTask::cached_script_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="background-merge-task_8h_source.html#l00066">66</a> of file <a class="el" href="background-merge-task_8h_source.html">background-merge-task.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="compiler_8cc_source.html#l02410">BeginMergeInBackground()</a>, <a class="el" href="compiler_8cc_source.html#l02526">CompleteMergeInForeground()</a>, and <a class="el" href="compiler_8cc_source.html#l02388">SetUpOnMainThread()</a>.</p>

</div>
</div>
<a id="a52f3ca844e3b0321d5b69bc50f7518b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52f3ca844e3b0321d5b69bc50f7518b5">&#9670;&nbsp;</a></span>new_compiled_data_for_cached_sfis_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structv8_1_1internal_1_1BackgroundMergeTask_1_1NewCompiledDataForCachedSfi.html">NewCompiledDataForCachedSfi</a>&gt; v8::internal::BackgroundMergeTask::new_compiled_data_for_cached_sfis_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="background-merge-task_8h_source.html#l00090">90</a> of file <a class="el" href="background-merge-task_8h_source.html">background-merge-task.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="compiler_8cc_source.html#l02410">BeginMergeInBackground()</a>, and <a class="el" href="compiler_8cc_source.html#l02526">CompleteMergeInForeground()</a>.</p>

</div>
</div>
<a id="aa01e4a610202830e4279e25b77631be1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa01e4a610202830e4279e25b77631be1">&#9670;&nbsp;</a></span>persistent_handles_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="classv8_1_1internal_1_1PersistentHandles.html">PersistentHandles</a>&gt; v8::internal::BackgroundMergeTask::persistent_handles_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="background-merge-task_8h_source.html#l00062">62</a> of file <a class="el" href="background-merge-task_8h_source.html">background-merge-task.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="compiler_8cc_source.html#l02410">BeginMergeInBackground()</a>, and <a class="el" href="compiler_8cc_source.html#l02388">SetUpOnMainThread()</a>.</p>

</div>
</div>
<a id="a62baa55e26e15f357d2b0efb6d586510"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62baa55e26e15f357d2b0efb6d586510">&#9670;&nbsp;</a></span>state_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1BackgroundMergeTask.html#a8839b7bca923cfb6972793ec0bed53cf">State</a> v8::internal::BackgroundMergeTask::state_ = <a class="el" href="classv8_1_1internal_1_1BackgroundMergeTask.html#a8839b7bca923cfb6972793ec0bed53cfab5c7a60a8e4a4ec23aea720fddb1bfbc">kNotStarted</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="background-merge-task_8h_source.html#l00098">98</a> of file <a class="el" href="background-merge-task_8h_source.html">background-merge-task.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="compiler_8cc_source.html#l02410">BeginMergeInBackground()</a>, <a class="el" href="compiler_8cc_source.html#l02526">CompleteMergeInForeground()</a>, and <a class="el" href="compiler_8cc_source.html#l02293">SetUpOnMainThread()</a>.</p>

</div>
</div>
<a id="affc59020805271ed436f713e496a8c3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affc59020805271ed436f713e496a8c3c">&#9670;&nbsp;</a></span>toplevel_sfi_from_cached_script_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle</a>&lt;<a class="el" href="classv8_1_1internal_1_1SharedFunctionInfo.html">SharedFunctionInfo</a>&gt; v8::internal::BackgroundMergeTask::toplevel_sfi_from_cached_script_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="background-merge-task_8h_source.html#l00072">72</a> of file <a class="el" href="background-merge-task_8h_source.html">background-merge-task.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="compiler_8cc_source.html#l02410">BeginMergeInBackground()</a>.</p>

</div>
</div>
<a id="aff00c03c1f06e8483b90566359fa94a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff00c03c1f06e8483b90566359fa94a3">&#9670;&nbsp;</a></span>used_new_sfis_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classv8_1_1internal_1_1Handle.html">Handle</a>&lt;<a class="el" href="classv8_1_1internal_1_1SharedFunctionInfo.html">SharedFunctionInfo</a>&gt; &gt; v8::internal::BackgroundMergeTask::used_new_sfis_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="background-merge-task_8h_source.html#l00079">79</a> of file <a class="el" href="background-merge-task_8h_source.html">background-merge-task.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="compiler_8cc_source.html#l02410">BeginMergeInBackground()</a>, and <a class="el" href="compiler_8cc_source.html#l02526">CompleteMergeInForeground()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/mnt/V8SourceCode/src/codegen/<a class="el" href="background-merge-task_8h_source.html">background-merge-task.h</a></li>
<li>/mnt/V8SourceCode/src/codegen/<a class="el" href="compiler_8cc_source.html">compiler.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacev8.html">v8</a></li><li class="navelem"><a class="el" href="namespacev8_1_1internal.html">internal</a></li><li class="navelem"><a class="el" href="classv8_1_1internal_1_1BackgroundMergeTask.html">BackgroundMergeTask</a></li>
    <li class="footer">Generated on Thu Jun 12 2025 16:03:27 for V8 Project by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
