<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>V8 Project: /mnt/V8SourceCode/src/execution/arm/simulator-arm.cc Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">V8 Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('simulator-arm_8cc_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">simulator-arm.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="simulator-arm_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright 2012 the V8 project authors. All rights reserved.</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// Use of this source code is governed by a BSD-style license that can be</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// found in the LICENSE file.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160; </div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="simulator-arm_8h.html">src/execution/arm/simulator-arm.h</a>&quot;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160; </div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="src_2base_2logging_8h.html">src/base/logging.h</a>&quot;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160; </div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#if defined(USE_SIMULATOR)</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160; </div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;stdarg.h&gt;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160; </div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &lt;cmath&gt;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160; </div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="bits_8h.html">src/base/bits.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="lazy-instance_8h.html">src/base/lazy-instance.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="base_2memory_8h.html">src/base/memory.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="overflowing-math_8h.html">src/base/overflowing-math.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="base_2platform_2memory_8h.html">src/base/platform/memory.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="src_2base_2platform_2platform_8h.html">src/base/platform/platform.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="vector_8h.html">src/base/vector.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="constants-arm_8h.html">src/codegen/arm/constants-arm.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="assembler-inl_8h.html">src/codegen/assembler-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="macro-assembler_8h.html">src/codegen/macro-assembler.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="disasm_8h.html">src/diagnostics/disasm.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="stack_8h.html">src/heap/base/stack.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="combined-heap_8h.html">src/heap/combined-heap.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="heap-inl_8h.html">src/heap/heap-inl.h</a>&quot;</span>  <span class="comment">// For CodeSpaceMemoryModificationScope.</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="objects-inl_8h.html">src/objects/objects-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="runtime-utils_8h.html">src/runtime/runtime-utils.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ostreams_8h.html">src/utils/ostreams.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="utils_2utils_8h.html">src/utils/utils.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160; </div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">// Only build the simulator if not compiling for real ARM hardware.</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacev8.html">v8</a> {</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">internal</a> {</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160; </div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<a class="code" href="namespacev8_1_1internal.html#a3151f00b878812b835d68f0790b97214">DEFINE_LAZY_LEAKY_OBJECT_GETTER</a>(Simulator::GlobalMonitor,</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;                                <a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#a2b5e79bd829824237e784a6cde29309e">Simulator::GlobalMonitor::Get</a>)</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160; </div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">// This macro provides a platform independent use of sscanf. The reason for</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">// SScanF not being implemented in a platform independent way through</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">// ::v8::internal::OS in the same way as SNPrintF is that the</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">// Windows C Run-Time Library does not provide vsscanf.</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#define SScanF sscanf</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">// The ArmDebugger class is used by the simulator while debugging simulated ARM</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">// code.</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="keyword">class </span>ArmDebugger {</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <span class="keyword">explicit</span> ArmDebugger(Simulator* sim) : sim_(sim) {}</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <span class="keywordtype">void</span> Debug();</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <span class="keywordtype">bool</span> ExecDebugCommand(ArrayUniquePtr&lt;char&gt; line_ptr);</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal.html#a3324b07f01a8527a75c5c72a4c09d9d9">Instr</a> kBreakpointInstr =</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;      (<a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21ac28488f3a9f86da469ea820d35227d99">al</a> | (7 * <a class="code" href="namespacev8_1_1internal.html#a220ba0e6828fb1f3d46f278875db930f">B25</a>) | (1 * <a class="code" href="namespacev8_1_1internal.html#a6f1943474fd06f891126f85d85b2e2b0">B24</a>) | <a class="code" href="namespacev8_1_1internal.html#a619f42313106d5a8553ce2109e24195c">kBreakpoint</a>);</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal.html#a3324b07f01a8527a75c5c72a4c09d9d9">Instr</a> kNopInstr = (<a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21ac28488f3a9f86da469ea820d35227d99">al</a> | (13 * <a class="code" href="namespacev8_1_1internal.html#a18270aa4c822aca963092da30cfcf4ef">B21</a>));</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; </div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  Simulator* sim_;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> GetRegisterValue(<span class="keywordtype">int</span> regnum);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <span class="keywordtype">double</span> GetRegisterPairDoubleValue(<span class="keywordtype">int</span> regnum);</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="keywordtype">double</span> GetVFPDoubleRegisterValue(<span class="keywordtype">int</span> regnum);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02register-allocator-verifier_8cc_03.html#a470b0a9ff70a894c6311bbf22504d530">GetValue</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* desc, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a>* <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="keywordtype">bool</span> GetVFPSingleValue(<span class="keyword">const</span> <span class="keywordtype">char</span>* desc, <span class="keywordtype">float</span>* <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <span class="keywordtype">bool</span> GetVFPDoubleValue(<span class="keyword">const</span> <span class="keywordtype">char</span>* desc, <span class="keywordtype">double</span>* <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="comment">// Set or delete breakpoint (there can be only one).</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <span class="keywordtype">bool</span> SetBreakpoint(Instruction* breakpc);</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="keywordtype">void</span> DeleteBreakpoint();</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160; </div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <span class="comment">// Undo and redo the breakpoint. This is needed to bracket disassembly and</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <span class="comment">// execution to skip past the breakpoint when run from the debugger.</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="keywordtype">void</span> UndoBreakpoint();</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="keywordtype">void</span> RedoBreakpoint();</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;};</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160; </div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="keywordtype">void</span> Simulator::DebugAtNextPC() {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;Starting debugger on the next instruction:\n&quot;</span>);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  set_pc(get_pc() + <a class="code" href="namespacev8_1_1internal.html#ac915558733f2fceaec1860dd81c6df7f">kInstrSize</a>);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  ArmDebugger(<span class="keyword">this</span>).Debug();</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;}</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="keywordtype">void</span> Simulator::AdvancedSIMDElementOrStructureLoadStoreWriteback(<span class="keywordtype">int</span> Rn, <span class="keywordtype">int</span> Rm,</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                                                                 <span class="keywordtype">int</span> ebytes) {</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="keywordflow">if</span> (Rm != 15) {</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordflow">if</span> (Rm == 13) {</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;      set_register(Rn, get_register(Rn) + ebytes);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;      set_register(Rn, get_register(Rn) + get_register(Rm));</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    }</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  }</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;}</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160; </div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> ArmDebugger::GetRegisterValue(<span class="keywordtype">int</span> regnum) {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="keywordflow">if</span> (regnum == <a class="code" href="namespacev8_1_1internal.html#a21d9d665673086d49996ef54ee5281f2">kPCRegister</a>) {</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordflow">return</span> sim_-&gt;get_pc();</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordflow">return</span> sim_-&gt;get_register(regnum);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  }</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;}</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="keywordtype">double</span> ArmDebugger::GetRegisterPairDoubleValue(<span class="keywordtype">int</span> regnum) {</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <span class="keywordflow">return</span> sim_-&gt;get_double_from_register_pair(regnum);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;}</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="keywordtype">double</span> ArmDebugger::GetVFPDoubleRegisterValue(<span class="keywordtype">int</span> regnum) {</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="keywordflow">return</span> sim_-&gt;get_double_from_d_register(regnum).get_scalar();</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;}</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160; </div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02register-allocator-verifier_8cc_03.html#a470b0a9ff70a894c6311bbf22504d530">ArmDebugger::GetValue</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* desc, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a>* <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>) {</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="keywordtype">int</span> regnum = <a class="code" href="classv8_1_1internal_1_1Registers.html#a9ab2c08aab5fe40cef118472413648c8">Registers::Number</a>(desc);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="keywordflow">if</span> (regnum != <a class="code" href="namespacev8_1_1internal.html#a895a9227812e9460e493ff1932f8acc4">kNoRegister</a>) {</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    *<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = GetRegisterValue(regnum);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  }</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="keywordflow">if</span> (strncmp(desc, <span class="stringliteral">&quot;0x&quot;</span>, 2) == 0)</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keywordflow">return</span> SScanF(desc + 2, <span class="stringliteral">&quot;%x&quot;</span>, <span class="keyword">reinterpret_cast&lt;</span>uint32_t*<span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) == 1;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="keywordflow">return</span> SScanF(desc, <span class="stringliteral">&quot;%u&quot;</span>, <span class="keyword">reinterpret_cast&lt;</span>uint32_t*<span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) == 1;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;}</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160; </div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="keywordtype">bool</span> ArmDebugger::GetVFPSingleValue(<span class="keyword">const</span> <span class="keywordtype">char</span>* desc, <span class="keywordtype">float</span>* <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>) {</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <span class="keywordtype">bool</span> is_double;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="keywordtype">int</span> regnum = <a class="code" href="classv8_1_1internal_1_1VFPRegisters.html#ae0468859bf8d053c051b624527c11a6f">VFPRegisters::Number</a>(desc, &amp;is_double);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="keywordflow">if</span> (regnum != <a class="code" href="namespacev8_1_1internal.html#a895a9227812e9460e493ff1932f8acc4">kNoRegister</a> &amp;&amp; !is_double) {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    *<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = sim_-&gt;get_float_from_s_register(regnum).get_scalar();</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  }</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;}</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160; </div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="keywordtype">bool</span> ArmDebugger::GetVFPDoubleValue(<span class="keyword">const</span> <span class="keywordtype">char</span>* desc, <span class="keywordtype">double</span>* <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>) {</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="keywordtype">bool</span> is_double;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="keywordtype">int</span> regnum = <a class="code" href="classv8_1_1internal_1_1VFPRegisters.html#ae0468859bf8d053c051b624527c11a6f">VFPRegisters::Number</a>(desc, &amp;is_double);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="keywordflow">if</span> (regnum != <a class="code" href="namespacev8_1_1internal.html#a895a9227812e9460e493ff1932f8acc4">kNoRegister</a> &amp;&amp; is_double) {</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    *<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = sim_-&gt;get_double_from_d_register(regnum).get_scalar();</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  }</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;}</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="keywordtype">bool</span> ArmDebugger::SetBreakpoint(Instruction* breakpc) {</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <span class="comment">// Check if a breakpoint can be set. If not return without any side-effects.</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="keywordflow">if</span> (sim_-&gt;break_pc_ != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  }</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160; </div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="comment">// Set the breakpoint.</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  sim_-&gt;break_pc_ = breakpc;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  sim_-&gt;break_instr_ = breakpc-&gt;InstructionBits();</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="comment">// Not setting the breakpoint instruction in the code itself. It will be set</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="comment">// when the debugger shell continues.</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;}</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160; </div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">// This function is dangerous, but it&#39;s only available in non-production</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">// (simulator) builds.</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="keywordtype">void</span> SetInstructionBitsInCodeSpace(Instruction* instr, <a class="code" href="namespacev8_1_1internal.html#a3324b07f01a8527a75c5c72a4c09d9d9">Instr</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>,</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                                   Heap* <a class="code" href="namespaceheap.html">heap</a>) {</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  CodePageMemoryModificationScopeForDebugging scope(</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;      <a class="code" href="classv8_1_1internal_1_1MemoryChunkMetadata.html#a93f0ee88ee72fd6e1231443f73b6f9d3">MemoryChunkMetadata::FromAddress</a>(<span class="keyword">reinterpret_cast&lt;</span><a class="code" href="namespacev8_1_1internal.html#ab4955debfb9384e59e3d4e9fcab5b0a0">Address</a><span class="keyword">&gt;</span>(instr)));</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  instr-&gt;SetInstructionBits(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;}</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="keywordtype">void</span> ArmDebugger::DeleteBreakpoint() {</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  UndoBreakpoint();</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  sim_-&gt;break_pc_ = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  sim_-&gt;break_instr_ = 0;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;}</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160; </div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="keywordtype">void</span> ArmDebugger::UndoBreakpoint() {</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <span class="keywordflow">if</span> (sim_-&gt;break_pc_ != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    SetInstructionBitsInCodeSpace(sim_-&gt;break_pc_, sim_-&gt;break_instr_,</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                                  sim_-&gt;isolate_-&gt;heap());</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  }</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;}</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160; </div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="keywordtype">void</span> ArmDebugger::RedoBreakpoint() {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <span class="keywordflow">if</span> (sim_-&gt;break_pc_ != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    SetInstructionBitsInCodeSpace(sim_-&gt;break_pc_, kBreakpointInstr,</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                                  sim_-&gt;isolate_-&gt;heap());</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  }</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;}</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160; </div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="keywordtype">void</span> ArmDebugger::Debug() {</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.correctness_fuzzer_suppressions) {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;Debugger disabled for differential fuzzing.\n&quot;</span>);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  }</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  intptr_t last_pc = -1;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <span class="keywordtype">bool</span> done = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160; </div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <span class="comment">// Unset breakpoint while running in the debugger shell, making it invisible</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <span class="comment">// to all commands.</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  UndoBreakpoint();</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160; </div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <span class="keywordflow">while</span> (!done &amp;&amp; !sim_-&gt;has_bad_pc()) {</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keywordflow">if</span> (last_pc != sim_-&gt;get_pc()) {</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      <a class="code" href="classdisasm_1_1NameConverter.html">disasm::NameConverter</a> converter;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      <a class="code" href="classdisasm_1_1Disassembler.html">disasm::Disassembler</a> dasm(converter);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;      <span class="comment">// use a reasonably large buffer</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      <a class="code" href="classv8_1_1base_1_1EmbeddedVector.html">v8::base::EmbeddedVector&lt;char, 256&gt;</a> buffer;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;      dasm.InstructionDecode(buffer,</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                             <span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(sim_-&gt;get_pc()));</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;  0x%08x  %s\n&quot;</span>, sim_-&gt;get_pc(), buffer.<a class="code" href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">begin</a>());</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;      last_pc = sim_-&gt;get_pc();</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    }</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    ArrayUniquePtr&lt;char&gt; line(<a class="code" href="namespacev8_1_1internal.html#a3483f39c23e0616216bebaf3f205b6ad">ReadLine</a>(<span class="stringliteral">&quot;sim&gt; &quot;</span>));</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160; </div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    done = ExecDebugCommand(std::move(line));</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  }</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160; </div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <span class="comment">// Reinstall breakpoint to stop execution and enter the debugger shell when</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="comment">// hit.</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  RedoBreakpoint();</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;}</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160; </div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="keywordtype">bool</span> ArmDebugger::ExecDebugCommand(ArrayUniquePtr&lt;char&gt; line_ptr) {</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="preprocessor">#define COMMAND_SIZE 63</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="preprocessor">#define ARG_SIZE 255</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160; </div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="preprocessor">#define STR(a) #a</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="preprocessor">#define XSTR(a) STR(a)</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160; </div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="keywordtype">char</span> cmd[COMMAND_SIZE + 1];</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="keywordtype">char</span> arg1[ARG_SIZE + 1];</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <span class="keywordtype">char</span> arg2[ARG_SIZE + 1];</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <span class="keywordtype">char</span>* argv[3] = {cmd, arg1, arg2};</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160; </div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="comment">// make sure to have a proper terminating character if reaching the limit</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  cmd[COMMAND_SIZE] = 0;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  arg1[ARG_SIZE] = 0;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  arg2[ARG_SIZE] = 0;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160; </div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  <span class="keywordflow">if</span> (line_ptr == <span class="keyword">nullptr</span>) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160; </div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <span class="comment">// Repeat last command by default.</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span>* line = line_ptr.get();</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span>* last_input = sim_-&gt;last_debugger_input();</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="keywordflow">if</span> (strcmp(line, <span class="stringliteral">&quot;\n&quot;</span>) == 0 &amp;&amp; (last_input != <span class="keyword">nullptr</span>)) {</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    line_ptr.reset();</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    line = last_input;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="comment">// Update the latest command ran</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    sim_-&gt;set_last_debugger_input(std::move(line_ptr));</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  }</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160; </div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <span class="comment">// Use sscanf to parse the individual parts of the command line. At the</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="comment">// moment no command expects more than two parameters.</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <span class="keywordtype">int</span> argc = SScanF(line,</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                      <span class="stringliteral">&quot;%&quot;</span> <a class="code" href="intl-objects_8cc.html#a03943706e48069237cd57f2d35ca987e">XSTR</a>(COMMAND_SIZE) <span class="stringliteral">&quot;s &quot;</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                      <span class="stringliteral">&quot;%&quot;</span> <a class="code" href="intl-objects_8cc.html#a03943706e48069237cd57f2d35ca987e">XSTR</a>(ARG_SIZE) <span class="stringliteral">&quot;s &quot;</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                      <span class="stringliteral">&quot;%&quot;</span> <a class="code" href="intl-objects_8cc.html#a03943706e48069237cd57f2d35ca987e">XSTR</a>(ARG_SIZE) <span class="stringliteral">&quot;s&quot;</span>,</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                      cmd, arg1, arg2);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <span class="keywordflow">if</span> ((strcmp(cmd, <span class="stringliteral">&quot;si&quot;</span>) == 0) || (strcmp(cmd, <span class="stringliteral">&quot;stepi&quot;</span>) == 0)) {</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    sim_-&gt;InstructionDecode(<span class="keyword">reinterpret_cast&lt;</span>Instruction*<span class="keyword">&gt;</span>(sim_-&gt;get_pc()));</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((strcmp(cmd, <span class="stringliteral">&quot;c&quot;</span>) == 0) || (strcmp(cmd, <span class="stringliteral">&quot;cont&quot;</span>) == 0)) {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="comment">// Execute the one instruction we broke at with breakpoints disabled.</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    sim_-&gt;InstructionDecode(<span class="keyword">reinterpret_cast&lt;</span>Instruction*<span class="keyword">&gt;</span>(sim_-&gt;get_pc()));</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="comment">// Leave the debugger shell.</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((strcmp(cmd, <span class="stringliteral">&quot;p&quot;</span>) == 0) || (strcmp(cmd, <span class="stringliteral">&quot;print&quot;</span>) == 0)) {</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordflow">if</span> (argc == 2 || (argc == 3 &amp;&amp; strcmp(arg2, <span class="stringliteral">&quot;fp&quot;</span>) == 0)) {</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      <span class="keywordtype">float</span> svalue;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      <span class="keywordtype">double</span> dvalue;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;      <span class="keywordflow">if</span> (strcmp(arg1, <span class="stringliteral">&quot;all&quot;</span>) == 0) {</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; <a class="code" href="namespacev8_1_1internal.html#afaac3cc4a40f6f5494b861f6313bf922">kNumRegisters</a>; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = GetRegisterValue(<a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;%3s: 0x%08x %10d&quot;</span>, RegisterName(<a class="code" href="classv8_1_1internal_1_1Register.html#a161b31fbba410d1c513ae779df7b9cbb">Register::from_code</a>(<a class="code" href="namespacev8_1_1internal.html">i</a>)),</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                 <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;          <span class="keywordflow">if</span> ((argc == 3 &amp;&amp; strcmp(arg2, <span class="stringliteral">&quot;fp&quot;</span>) == 0) &amp;&amp; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; 8 &amp;&amp; (<a class="code" href="namespacev8_1_1internal.html">i</a> % 2) == 0) {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            dvalue = GetRegisterPairDoubleValue(<a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot; (%f)\n&quot;</span>, dvalue);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;          }</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        }</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; <a class="code" href="classv8_1_1internal_1_1DwVfpRegister.html#a556dc5d663693055cf3e97c854340e73">DwVfpRegister::SupportedRegisterCount</a>(); <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;          dvalue = GetVFPDoubleRegisterValue(<a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;          uint64_t as_words = base::bit_cast&lt;uint64_t&gt;(dvalue);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;%3s: %f 0x%08x %08x\n&quot;</span>, <a class="code" href="classv8_1_1internal_1_1VFPRegisters.html#af126a5fda9266f16b81d32710f650de0">VFPRegisters::Name</a>(<a class="code" href="namespacev8_1_1internal.html">i</a>, <span class="keyword">true</span>), dvalue,</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                 <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(as_words &gt;&gt; 32),</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                 <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(as_words &amp; 0xFFFFFFFF));</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        }</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02register-allocator-verifier_8cc_03.html#a470b0a9ff70a894c6311bbf22504d530">GetValue</a>(arg1, &amp;<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;%s: 0x%08x %d \n&quot;</span>, arg1, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (GetVFPSingleValue(arg1, &amp;svalue)) {</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;          uint32_t as_word = base::bit_cast&lt;uint32_t&gt;(svalue);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;%s: %f 0x%08x\n&quot;</span>, arg1, svalue, as_word);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (GetVFPDoubleValue(arg1, &amp;dvalue)) {</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;          uint64_t as_words = base::bit_cast&lt;uint64_t&gt;(dvalue);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;%s: %f 0x%08x %08x\n&quot;</span>, arg1, dvalue,</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                 <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(as_words &gt;&gt; 32),</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                 <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(as_words &amp; 0xFFFFFFFF));</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;%s unrecognized\n&quot;</span>, arg1);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        }</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      }</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;print &lt;register&gt;\n&quot;</span>);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    }</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((strcmp(cmd, <span class="stringliteral">&quot;po&quot;</span>) == 0) || (strcmp(cmd, <span class="stringliteral">&quot;printobject&quot;</span>) == 0)) {</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordflow">if</span> (argc == 2) {</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;      <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;      StdoutStream os;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02register-allocator-verifier_8cc_03.html#a470b0a9ff70a894c6311bbf22504d530">GetValue</a>(arg1, &amp;<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#a5297fd2c72981b2220e6b9a831570fb3">Tagged&lt;Object&gt;</a> obj(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        os &lt;&lt; arg1 &lt;&lt; <span class="stringliteral">&quot;: \n&quot;</span>;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#a6b717bb53640adb6d9de62f718e70b3a">Print</a>(obj, os);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        os &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        os &lt;&lt; Brief(obj) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        os &lt;&lt; arg1 &lt;&lt; <span class="stringliteral">&quot; unrecognized\n&quot;</span>;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      }</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;printobject &lt;value&gt;\n&quot;</span>);</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    }</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(cmd, <span class="stringliteral">&quot;stack&quot;</span>) == 0 || strcmp(cmd, <span class="stringliteral">&quot;mem&quot;</span>) == 0 ||</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;             strcmp(cmd, <span class="stringliteral">&quot;dump&quot;</span>) == 0) {</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a>* cur = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a>* <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="keywordtype">int</span> next_arg = 1;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160; </div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordflow">if</span> (strcmp(cmd, <span class="stringliteral">&quot;stack&quot;</span>) == 0) {</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      cur = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a>*<span class="keyword">&gt;</span>(sim_-&gt;get_register(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#acb72381f9ca78a1b2f55c6946e319a0f">Simulator::sp</a>));</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    } <span class="keywordflow">else</span> {  <span class="comment">// &quot;mem&quot;</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;      <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02register-allocator-verifier_8cc_03.html#a470b0a9ff70a894c6311bbf22504d530">GetValue</a>(arg1, &amp;<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;%s unrecognized\n&quot;</span>, arg1);</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      }</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      cur = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a>*<span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      next_arg++;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    }</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160; </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> words;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keywordflow">if</span> (argc == next_arg) {</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      words = 10;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02register-allocator-verifier_8cc_03.html#a470b0a9ff70a894c6311bbf22504d530">GetValue</a>(argv[next_arg], &amp;words)) {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        words = 10;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;      }</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    }</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a> = cur + words;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160; </div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keywordtype">bool</span> skip_obj_print = (strcmp(cmd, <span class="stringliteral">&quot;dump&quot;</span>) == 0);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="keywordflow">while</span> (cur &lt; <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>) {</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;  0x%08&quot;</span> <a class="code" href="src_2base_2macros_8h.html#adafd98459092322383b0f5ebcc7c342f">V8PRIxPTR</a> <span class="stringliteral">&quot;:  0x%08x %10d&quot;</span>,</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;             <span class="keyword">reinterpret_cast&lt;</span>intptr_t<span class="keyword">&gt;</span>(cur), *cur, *cur);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a5297fd2c72981b2220e6b9a831570fb3">Tagged&lt;Object&gt;</a> obj(*cur);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      Heap* current_heap = sim_-&gt;isolate_-&gt;heap();</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;      <span class="keywordflow">if</span> (!skip_obj_print) {</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#ac299e59759eecb4621f6bad64d5db952">IsSmi</a>(obj) ||</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;            <a class="code" href="namespacev8_1_1internal.html#af4dac4fd89643ceaa9c7fe78bd0d0850">IsValidHeapObject</a>(current_heap, Cast&lt;HeapObject&gt;(obj))) {</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot; (&quot;</span>);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#ac299e59759eecb4621f6bad64d5db952">IsSmi</a>(obj)) {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;            <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;smi %d&quot;</span>, <a class="code" href="classv8_1_1internal_1_1Smi.html#a2e32de9e93a2cdfae189371f22782dad">Smi::ToInt</a>(obj));</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;            <a class="code" href="namespacev8_1_1internal.html#a8899d90340d811cd369173aac228774e">ShortPrint</a>(obj);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;          }</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;)&quot;</span>);</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        }</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;      }</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;      cur++;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    }</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(cmd, <span class="stringliteral">&quot;disasm&quot;</span>) == 0 || strcmp(cmd, <span class="stringliteral">&quot;di&quot;</span>) == 0) {</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <a class="code" href="classdisasm_1_1NameConverter.html">disasm::NameConverter</a> converter;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <a class="code" href="classdisasm_1_1Disassembler.html">disasm::Disassembler</a> dasm(converter);</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="comment">// use a reasonably large buffer</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <a class="code" href="classv8_1_1base_1_1EmbeddedVector.html">v8::base::EmbeddedVector&lt;char, 256&gt;</a> buffer;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160; </div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    uint8_t* prev = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    uint8_t* cur = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    uint8_t* <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160; </div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="keywordflow">if</span> (argc == 1) {</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;      cur = <span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(sim_-&gt;get_pc());</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a> = cur + (10 * <a class="code" href="namespacev8_1_1internal.html#ac915558733f2fceaec1860dd81c6df7f">kInstrSize</a>);</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (argc == 2) {</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      <span class="keywordtype">int</span> regnum = <a class="code" href="classv8_1_1internal_1_1Registers.html#a9ab2c08aab5fe40cef118472413648c8">Registers::Number</a>(arg1);</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;      <span class="keywordflow">if</span> (regnum != <a class="code" href="namespacev8_1_1internal.html#a895a9227812e9460e493ff1932f8acc4">kNoRegister</a> || strncmp(arg1, <span class="stringliteral">&quot;0x&quot;</span>, 2) == 0) {</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        <span class="comment">// The argument is an address or a register name.</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02register-allocator-verifier_8cc_03.html#a470b0a9ff70a894c6311bbf22504d530">GetValue</a>(arg1, &amp;<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;          cur = <span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;          <span class="comment">// Disassemble 10 instructions at &lt;arg1&gt;.</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;          <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a> = cur + (10 * <a class="code" href="namespacev8_1_1internal.html#ac915558733f2fceaec1860dd81c6df7f">kInstrSize</a>);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        }</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        <span class="comment">// The argument is the number of instructions.</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02register-allocator-verifier_8cc_03.html#a470b0a9ff70a894c6311bbf22504d530">GetValue</a>(arg1, &amp;<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;          cur = <span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(sim_-&gt;get_pc());</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;          <span class="comment">// Disassemble &lt;arg1&gt; instructions.</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;          <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a> = cur + (<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> * <a class="code" href="namespacev8_1_1internal.html#ac915558733f2fceaec1860dd81c6df7f">kInstrSize</a>);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        }</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      }</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;      <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> value1;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;      <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> value2;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02register-allocator-verifier_8cc_03.html#a470b0a9ff70a894c6311bbf22504d530">GetValue</a>(arg1, &amp;value1) &amp;&amp; <a class="code" href="namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02register-allocator-verifier_8cc_03.html#a470b0a9ff70a894c6311bbf22504d530">GetValue</a>(arg2, &amp;value2)) {</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        cur = <span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(value1);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a> = cur + (value2 * <a class="code" href="namespacev8_1_1internal.html#ac915558733f2fceaec1860dd81c6df7f">kInstrSize</a>);</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;      }</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    }</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160; </div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="keywordflow">while</span> (cur &lt; <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>) {</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;      prev = cur;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;      cur += dasm.InstructionDecode(buffer, cur);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;  0x%08&quot;</span> <a class="code" href="src_2base_2macros_8h.html#adafd98459092322383b0f5ebcc7c342f">V8PRIxPTR</a> <span class="stringliteral">&quot;  %s\n&quot;</span>, <span class="keyword">reinterpret_cast&lt;</span>intptr_t<span class="keyword">&gt;</span>(prev),</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;             buffer.<a class="code" href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">begin</a>());</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    }</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(cmd, <span class="stringliteral">&quot;gdb&quot;</span>) == 0) {</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;relinquishing control to gdb\n&quot;</span>);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <a class="code" href="classv8_1_1base_1_1OS.html#affd1b5cd2e2a82058f49432ffc5236e6">v8::base::OS::DebugBreak</a>();</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;regaining control from gdb\n&quot;</span>);</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(cmd, <span class="stringliteral">&quot;break&quot;</span>) == 0) {</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="keywordflow">if</span> (argc == 2) {</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;      <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02register-allocator-verifier_8cc_03.html#a470b0a9ff70a894c6311bbf22504d530">GetValue</a>(arg1, &amp;<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        <span class="keywordflow">if</span> (!SetBreakpoint(<span class="keyword">reinterpret_cast&lt;</span>Instruction*<span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>))) {</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;setting breakpoint failed\n&quot;</span>);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        }</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;%s unrecognized\n&quot;</span>, arg1);</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;      }</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;break &lt;address&gt;\n&quot;</span>);</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    }</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(cmd, <span class="stringliteral">&quot;backtrace&quot;</span>) == 0 || strcmp(cmd, <span class="stringliteral">&quot;bt&quot;</span>) == 0) {</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> pc = sim_-&gt;get_pc();</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> lr = sim_-&gt;get_register(Simulator::lr);</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#acb72381f9ca78a1b2f55c6946e319a0f">sp</a> = sim_-&gt;get_register(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#acb72381f9ca78a1b2f55c6946e319a0f">Simulator::sp</a>);</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> fp = sim_-&gt;get_register(Simulator::fp);</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160; </div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;#%d: 0x%08x (sp=0x%08x, fp=0x%08x)\n&quot;</span>, <a class="code" href="namespacev8_1_1internal.html">i</a>, pc, <a class="code" href="namespacev8_1_1internal_1_1wasm.html#acb72381f9ca78a1b2f55c6946e319a0f">sp</a>, fp);</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;      pc = lr;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1wasm.html#acb72381f9ca78a1b2f55c6946e319a0f">sp</a> = fp;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;      <span class="keywordflow">if</span> (pc == Simulator::end_sim_pc) {</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;      }</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;      lr = *(<span class="keyword">reinterpret_cast&lt;</span><a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a>*<span class="keyword">&gt;</span>(fp) + 1);</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;      fp = *<span class="keyword">reinterpret_cast&lt;</span><a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a>*<span class="keyword">&gt;</span>(fp);</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;      <a class="code" href="namespacev8_1_1internal.html">i</a>++;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html">i</a> &gt; 100) {</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;Too many frames\n&quot;</span>);</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      }</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    }</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(cmd, <span class="stringliteral">&quot;del&quot;</span>) == 0) {</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    DeleteBreakpoint();</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(cmd, <span class="stringliteral">&quot;flags&quot;</span>) == 0) {</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;N flag: %d; &quot;</span>, sim_-&gt;n_flag_);</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;Z flag: %d; &quot;</span>, sim_-&gt;z_flag_);</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;C flag: %d; &quot;</span>, sim_-&gt;c_flag_);</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;V flag: %d\n&quot;</span>, sim_-&gt;v_flag_);</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;INVALID OP flag: %d; &quot;</span>, sim_-&gt;inv_op_vfp_flag_);</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;DIV BY ZERO flag: %d; &quot;</span>, sim_-&gt;div_zero_vfp_flag_);</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;OVERFLOW flag: %d; &quot;</span>, sim_-&gt;overflow_vfp_flag_);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;UNDERFLOW flag: %d; &quot;</span>, sim_-&gt;underflow_vfp_flag_);</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;INEXACT flag: %d;\n&quot;</span>, sim_-&gt;inexact_vfp_flag_);</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(cmd, <span class="stringliteral">&quot;stop&quot;</span>) == 0) {</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    intptr_t stop_pc = sim_-&gt;get_pc() - <a class="code" href="namespacev8_1_1internal.html#ac915558733f2fceaec1860dd81c6df7f">kInstrSize</a>;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    Instruction* stop_instr = <span class="keyword">reinterpret_cast&lt;</span>Instruction*<span class="keyword">&gt;</span>(stop_pc);</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="keywordflow">if</span> ((argc == 2) &amp;&amp; (strcmp(arg1, <span class="stringliteral">&quot;unstop&quot;</span>) == 0)) {</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;      <span class="comment">// Remove the current stop.</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;      <span class="keywordflow">if</span> (stop_instr-&gt;IsStop()) {</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        SetInstructionBitsInCodeSpace(stop_instr, kNopInstr,</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                                      sim_-&gt;isolate_-&gt;heap());</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;Not at debugger stop.\n&quot;</span>);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;      }</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (argc == 3) {</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;      <span class="comment">// Print information about all/the specified breakpoint(s).</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;      <span class="keywordflow">if</span> (strcmp(arg1, <span class="stringliteral">&quot;info&quot;</span>) == 0) {</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        <span class="keywordflow">if</span> (strcmp(arg2, <span class="stringliteral">&quot;all&quot;</span>) == 0) {</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;Stop information:\n&quot;</span>);</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;          <span class="keywordflow">for</span> (uint32_t <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; sim_-&gt;kNumOfWatchedStops; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;            sim_-&gt;PrintStopInfo(<a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;          }</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02register-allocator-verifier_8cc_03.html#a470b0a9ff70a894c6311bbf22504d530">GetValue</a>(arg2, &amp;<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;          sim_-&gt;PrintStopInfo(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;Unrecognized argument.\n&quot;</span>);</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        }</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(arg1, <span class="stringliteral">&quot;enable&quot;</span>) == 0) {</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        <span class="comment">// Enable all/the specified breakpoint(s).</span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        <span class="keywordflow">if</span> (strcmp(arg2, <span class="stringliteral">&quot;all&quot;</span>) == 0) {</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;          <span class="keywordflow">for</span> (uint32_t <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; sim_-&gt;kNumOfWatchedStops; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;            sim_-&gt;EnableStop(<a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;          }</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02register-allocator-verifier_8cc_03.html#a470b0a9ff70a894c6311bbf22504d530">GetValue</a>(arg2, &amp;<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;          sim_-&gt;EnableStop(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;Unrecognized argument.\n&quot;</span>);</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        }</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(arg1, <span class="stringliteral">&quot;disable&quot;</span>) == 0) {</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <span class="comment">// Disable all/the specified breakpoint(s).</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        <span class="keywordflow">if</span> (strcmp(arg2, <span class="stringliteral">&quot;all&quot;</span>) == 0) {</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;          <span class="keywordflow">for</span> (uint32_t <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; sim_-&gt;kNumOfWatchedStops; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;            sim_-&gt;DisableStop(<a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;          }</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02register-allocator-verifier_8cc_03.html#a470b0a9ff70a894c6311bbf22504d530">GetValue</a>(arg2, &amp;<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;          sim_-&gt;DisableStop(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;Unrecognized argument.\n&quot;</span>);</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        }</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;      }</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;Wrong usage. Use help command for more information.\n&quot;</span>);</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    }</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((strcmp(cmd, <span class="stringliteral">&quot;t&quot;</span>) == 0) || strcmp(cmd, <span class="stringliteral">&quot;trace&quot;</span>) == 0) {</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    sim_-&gt;ToggleInstructionTracing();</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;Trace of executed instructions is %s\n&quot;</span>,</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;           sim_-&gt;InstructionTracingEnabled() ? <span class="stringliteral">&quot;on&quot;</span> : <span class="stringliteral">&quot;off&quot;</span>);</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((strcmp(cmd, <span class="stringliteral">&quot;h&quot;</span>) == 0) || (strcmp(cmd, <span class="stringliteral">&quot;help&quot;</span>) == 0)) {</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;cont\n&quot;</span>);</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;  continue execution (alias &#39;c&#39;)\n&quot;</span>);</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;stepi\n&quot;</span>);</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;  step one instruction (alias &#39;si&#39;)\n&quot;</span>);</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;print &lt;register&gt;\n&quot;</span>);</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;  print register content (alias &#39;p&#39;)\n&quot;</span>);</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;  use register name &#39;all&#39; to print all registers\n&quot;</span>);</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;  add argument &#39;fp&#39; to print register pair double values\n&quot;</span>);</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;printobject &lt;register&gt;\n&quot;</span>);</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;  print an object from a register (alias &#39;po&#39;)\n&quot;</span>);</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;flags\n&quot;</span>);</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;  print flags\n&quot;</span>);</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;stack [&lt;words&gt;]\n&quot;</span>);</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;  dump stack content, default dump 10 words)\n&quot;</span>);</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;mem &lt;address&gt; [&lt;words&gt;]\n&quot;</span>);</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;  dump memory content, default dump 10 words)\n&quot;</span>);</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;dump [&lt;words&gt;]\n&quot;</span>);</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        <span class="stringliteral">&quot;  dump memory content without pretty printing JS objects, default &quot;</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        <span class="stringliteral">&quot;dump 10 words)\n&quot;</span>);</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;disasm [&lt;instructions&gt;]\n&quot;</span>);</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;disasm [&lt;address/register&gt;]\n&quot;</span>);</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;disasm [[&lt;address/register&gt;] &lt;instructions&gt;]\n&quot;</span>);</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;  disassemble code, default is 10 instructions\n&quot;</span>);</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;  from pc (alias &#39;di&#39;)\n&quot;</span>);</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;gdb\n&quot;</span>);</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;  enter gdb\n&quot;</span>);</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;break &lt;address&gt;\n&quot;</span>);</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;  set a break point on the address\n&quot;</span>);</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;backtrace / bt\n&quot;</span>);</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;  Walk the frame pointers, dumping the pc/sp/fp for each frame.\n&quot;</span>);</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;del\n&quot;</span>);</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;  delete the breakpoint\n&quot;</span>);</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;trace (alias &#39;t&#39;)\n&quot;</span>);</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;  toogle the tracing of all executed statements\n&quot;</span>);</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;stop feature:\n&quot;</span>);</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;  Description:\n&quot;</span>);</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;    Stops are debug instructions inserted by\n&quot;</span>);</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;    the Assembler::stop() function.\n&quot;</span>);</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;    When hitting a stop, the Simulator will\n&quot;</span>);</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;    stop and give control to the ArmDebugger.\n&quot;</span>);</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;    The first %d stop codes are watched:\n&quot;</span>,</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;           Simulator::kNumOfWatchedStops);</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;    - They can be enabled / disabled: the Simulator\n&quot;</span>);</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;      will / won&#39;t stop when hitting them.\n&quot;</span>);</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;    - The Simulator keeps track of how many times they \n&quot;</span>);</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;      are met. (See the info command.) Going over a\n&quot;</span>);</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;      disabled stop still increases its counter. \n&quot;</span>);</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;  Commands:\n&quot;</span>);</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;    stop info all/&lt;code&gt; : print infos about number &lt;code&gt;\n&quot;</span>);</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;      or all stop(s).\n&quot;</span>);</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;    stop enable/disable all/&lt;code&gt; : enables / disables\n&quot;</span>);</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;      all or number &lt;code&gt; stop(s)\n&quot;</span>);</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;    stop unstop\n&quot;</span>);</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;      ignore the stop instruction at the current location\n&quot;</span>);</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;      from now on\n&quot;</span>);</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;Unknown command: %s\n&quot;</span>, cmd);</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  }</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160; </div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;<span class="preprocessor">#undef COMMAND_SIZE</span></div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;<span class="preprocessor">#undef ARG_SIZE</span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160; </div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;<span class="preprocessor">#undef STR</span></div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;<span class="preprocessor">#undef XSTR</span></div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;}</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160; </div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;<span class="keywordtype">bool</span> Simulator::InstructionTracingEnabled() { <span class="keywordflow">return</span> instruction_tracing_; }</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160; </div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;<span class="keywordtype">void</span> Simulator::ToggleInstructionTracing() {</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;  instruction_tracing_ = !instruction_tracing_;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;}</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160; </div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;<span class="keywordtype">bool</span> Simulator::ICacheMatch(<span class="keywordtype">void</span>* <a class="code" href="base_2ieee754_8cc.html#a7cf126dbeb6f30c606e3b42fea65cfef">one</a>, <span class="keywordtype">void</span>* two) {</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<span class="keyword">reinterpret_cast&lt;</span>intptr_t<span class="keyword">&gt;</span>(<a class="code" href="base_2ieee754_8cc.html#a7cf126dbeb6f30c606e3b42fea65cfef">one</a>) &amp; CachePage::kPageMask, 0);</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<span class="keyword">reinterpret_cast&lt;</span>intptr_t<span class="keyword">&gt;</span>(two) &amp; CachePage::kPageMask, 0);</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="base_2ieee754_8cc.html#a7cf126dbeb6f30c606e3b42fea65cfef">one</a> == two;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;}</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160; </div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;<span class="keyword">static</span> uint32_t ICacheHash(<span class="keywordtype">void</span>* <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>) {</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(<span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classuintptr__t.html">uintptr_t</a><span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>)) &gt;&gt; 2;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;}</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160; </div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> AllOnOnePage(<a class="code" href="classuintptr__t.html">uintptr_t</a> start, <span class="keywordtype">int</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  intptr_t start_page = (start &amp; ~CachePage::kPageMask);</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  intptr_t end_page = ((start + <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) &amp; ~CachePage::kPageMask);</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  <span class="keywordflow">return</span> start_page == end_page;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;}</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160; </div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;<span class="keywordtype">void</span> Simulator::SetRedirectInstruction(Instruction* instruction) {</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  instruction-&gt;SetInstructionBits(<a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21ac28488f3a9f86da469ea820d35227d99">al</a> | (0xF * <a class="code" href="namespacev8_1_1internal.html#a6f1943474fd06f891126f85d85b2e2b0">B24</a>) | <a class="code" href="namespacev8_1_1internal.html#a789d452d0e3d1bf6fa338365e7fdc7f2">kCallRtRedirected</a>);</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;}</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160; </div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;<span class="keywordtype">void</span> Simulator::FlushICache(<a class="code" href="namespacev8_1_1base.html#a6ada2fbffcae912c593c8c996d0617ff">base::CustomMatcherHashMap</a>* i_cache,</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;                            <span class="keywordtype">void</span>* start_addr, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  intptr_t start = <span class="keyword">reinterpret_cast&lt;</span>intptr_t<span class="keyword">&gt;</span>(start_addr);</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  <span class="keywordtype">int</span> intra_line = (start &amp; CachePage::kLineMask);</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  start -= intra_line;</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> += intra_line;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = ((<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> - 1) | CachePage::kLineMask) + 1;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  <span class="keywordtype">int</span> offset = (start &amp; CachePage::kPageMask);</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  <span class="keywordflow">while</span> (!AllOnOnePage(start, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> - 1)) {</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <span class="keywordtype">int</span> bytes_to_flush = <a class="code" href="namespacecppgc_1_1internal.html#a31164e981f2a7080855c4ba02f1a910b">CachePage::kPageSize</a> - offset;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    FlushOnePage(i_cache, start, bytes_to_flush);</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    start += bytes_to_flush;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> -= bytes_to_flush;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, start &amp; CachePage::kPageMask);</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    offset = 0;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  }</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> != 0) {</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    FlushOnePage(i_cache, start, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  }</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;}</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160; </div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;CachePage* Simulator::GetCachePage(<a class="code" href="namespacev8_1_1base.html#a6ada2fbffcae912c593c8c996d0617ff">base::CustomMatcherHashMap</a>* i_cache,</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                                   <span class="keywordtype">void</span>* page) {</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  base::HashMap::Entry* entry = i_cache-&gt;LookupOrInsert(page, ICacheHash(page));</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  <span class="keywordflow">if</span> (entry-&gt;value == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    CachePage* new_page = <span class="keyword">new</span> CachePage();</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    entry-&gt;value = new_page;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  }</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span>CachePage*<span class="keyword">&gt;</span>(entry-&gt;value);</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;}</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160; </div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;<span class="comment">// Flush from start up to and not including start + size.</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;<span class="keywordtype">void</span> Simulator::FlushOnePage(<a class="code" href="namespacev8_1_1base.html#a6ada2fbffcae912c593c8c996d0617ff">base::CustomMatcherHashMap</a>* i_cache,</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;                             intptr_t start, <span class="keywordtype">int</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, <a class="code" href="namespacecppgc_1_1internal.html#a31164e981f2a7080855c4ba02f1a910b">CachePage::kPageSize</a>);</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(AllOnOnePage(start, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> - 1));</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(start &amp; CachePage::kLineMask, 0);</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> &amp; CachePage::kLineMask, 0);</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  <span class="keywordtype">void</span>* page = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(start &amp; (~CachePage::kPageMask));</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;  <span class="keywordtype">int</span> offset = (start &amp; CachePage::kPageMask);</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  CachePage* cache_page = GetCachePage(i_cache, page);</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  <span class="keywordtype">char</span>* valid_bytemap = cache_page-&gt;ValidityByte(offset);</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  memset(valid_bytemap, CachePage::LINE_INVALID, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> &gt;&gt; CachePage::kLineShift);</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;}</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160; </div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;<span class="keywordtype">void</span> Simulator::CheckICache(<a class="code" href="namespacev8_1_1base.html#a6ada2fbffcae912c593c8c996d0617ff">base::CustomMatcherHashMap</a>* i_cache,</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;                            Instruction* instr) {</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;  intptr_t address = <span class="keyword">reinterpret_cast&lt;</span>intptr_t<span class="keyword">&gt;</span>(instr);</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  <span class="keywordtype">void</span>* page = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(address &amp; (~CachePage::kPageMask));</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  <span class="keywordtype">void</span>* line = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(address &amp; (~CachePage::kLineMask));</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  <span class="keywordtype">int</span> offset = (address &amp; CachePage::kPageMask);</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  CachePage* cache_page = GetCachePage(i_cache, page);</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;  <span class="keywordtype">char</span>* cache_valid_byte = cache_page-&gt;ValidityByte(offset);</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;  <span class="keywordtype">bool</span> cache_hit = (*cache_valid_byte == CachePage::LINE_VALID);</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  <span class="keywordtype">char</span>* cached_line = cache_page-&gt;CachedData(offset &amp; ~CachePage::kLineMask);</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;  <span class="keywordflow">if</span> (cache_hit) {</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <span class="comment">// Check that the data in memory matches the contents of the I-cache.</span></div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(0, memcmp(<span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(instr),</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                       cache_page-&gt;CachedData(offset), <a class="code" href="namespacev8_1_1internal.html#ac915558733f2fceaec1860dd81c6df7f">kInstrSize</a>));</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <span class="comment">// Cache miss.  Load memory into the cache.</span></div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    memcpy(cached_line, line, CachePage::kLineLength);</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    *cache_valid_byte = CachePage::LINE_VALID;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  }</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;}</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160; </div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;Simulator::Simulator(Isolate* isolate) : isolate_(isolate) {</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  <span class="comment">// Set up simulator support first. Some of this information is needed to</span></div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  <span class="comment">// setup the architecture state.</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  stack_ = <span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1base.html#ae4fff10e3ebd41a16b51534d4e07db1f">base::Malloc</a>(kAllocatedStackSize));</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;  pc_modified_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  icount_ = 0;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;  break_pc_ = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  break_instr_ = 0;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160; </div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  <span class="comment">// Set up architecture state.</span></div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;  <span class="comment">// All registers are initialized to zero to start with.</span></div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; num_registers; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    registers_[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = 0;</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  }</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  n_flag_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;  z_flag_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  c_flag_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  v_flag_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160; </div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  <span class="comment">// Initializing VFP registers.</span></div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;  <span class="comment">// All registers are initialized to zero to start with</span></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;  <span class="comment">// even though s_registers_ &amp; d_registers_ share the same</span></div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;  <span class="comment">// physical registers in the target.</span></div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; num_d_registers * 2; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    vfp_registers_[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = 0;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  }</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  n_flag_FPSCR_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  z_flag_FPSCR_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  c_flag_FPSCR_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;  v_flag_FPSCR_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;  FPSCR_rounding_mode_ = <a class="code" href="namespacev8_1_1internal.html#ac346df9da20a421df9ec2aa8819aca04">RN</a>;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  FPSCR_default_NaN_mode_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160; </div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  inv_op_vfp_flag_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  div_zero_vfp_flag_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  overflow_vfp_flag_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;  underflow_vfp_flag_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;  inexact_vfp_flag_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160; </div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;  <span class="comment">// The sp is initialized to point to the bottom (high address) of the</span></div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;  <span class="comment">// usable stack area.</span></div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;  registers_[<a class="code" href="namespacev8_1_1internal_1_1wasm.html#acb72381f9ca78a1b2f55c6946e319a0f">sp</a>] = StackBase();</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;  <span class="comment">// The lr and pc are initialized to a known bad value that will cause an</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;  <span class="comment">// access violation if the simulator ever tries to execute it.</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;  registers_[pc] = bad_lr;</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;  registers_[lr] = bad_lr;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160; </div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  last_debugger_input_ = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160; </div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;  global_monitor_ = <a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#a2b5e79bd829824237e784a6cde29309e">GlobalMonitor::Get</a>();</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  global_monitor_-&gt;PrependProcessor(&amp;global_monitor_processor_);</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160; </div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;  <span class="comment">// Enabling deadlock detection while simulating is too slow.</span></div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  SetMutexDeadlockDetectionMode(absl::OnDeadlockCycle::kIgnore);</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;}</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160; </div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;Simulator::~Simulator() {</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  global_monitor_-&gt;RemoveProcessor(&amp;global_monitor_processor_);</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;  <a class="code" href="namespacev8_1_1base.html#af0b04fe9288a783d9de7a19dcfc55fa3">base::Free</a>(stack_);</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;}</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160; </div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;<span class="comment">// Get the active Simulator for the current thread.</span></div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;Simulator* Simulator::current(Isolate* isolate) {</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Isolate_1_1PerIsolateThreadData.html">v8::internal::Isolate::PerIsolateThreadData</a>* isolate_data =</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;      isolate-&gt;FindOrAllocatePerThreadDataForThisThread();</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(isolate_data);</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160; </div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  Simulator* sim = isolate_data-&gt;simulator();</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;  <span class="keywordflow">if</span> (sim == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    <span class="comment">// TODO(146): delete the simulator object when a thread/isolate goes away.</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    sim = <span class="keyword">new</span> Simulator(isolate);</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    isolate_data-&gt;set_simulator(sim);</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;  }</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  <span class="keywordflow">return</span> sim;</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;}</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160; </div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;<span class="comment">// Sets the register in the architecture state. It will also deal with updating</span></div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;<span class="comment">// Simulator internal state for special registers such as PC.</span></div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;<span class="keywordtype">void</span> Simulator::set_register(<span class="keywordtype">int</span> reg, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>) {</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>((reg &gt;= 0) &amp;&amp; (reg &lt; num_registers));</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;  <span class="keywordflow">if</span> (reg == pc) {</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    pc_modified_ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;  }</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;  registers_[reg] = <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;}</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160; </div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;<span class="comment">// Get the register from the architecture state. This function does handle</span></div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;<span class="comment">// the special case of accessing the PC register.</span></div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> Simulator::get_register(<span class="keywordtype">int</span> reg)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>((reg &gt;= 0) &amp;&amp; (reg &lt; num_registers));</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;  <span class="comment">// Stupid code added to avoid bug in GCC.</span></div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;  <span class="comment">// See: http://gcc.gnu.org/bugzilla/show_bug.cgi?id=43949</span></div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;  <span class="keywordflow">if</span> (reg &gt;= num_registers) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;  <span class="comment">// End stupid code.</span></div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;  <span class="keywordflow">return</span> registers_[reg] + ((reg == pc) ? <a class="code" href="namespacev8_1_1internal.html#a0b4ebb2293f69adc6d2f493fb2bcb8cb">Instruction::kPcLoadDelta</a> : 0);</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;}</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160; </div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;<span class="keywordtype">double</span> Simulator::get_double_from_register_pair(<span class="keywordtype">int</span> reg) {</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>((reg &gt;= 0) &amp;&amp; (reg &lt; num_registers) &amp;&amp; ((reg % 2) == 0));</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160; </div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;  <span class="keywordtype">double</span> dm_val = 0.0;</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;  <span class="comment">// Read the bits from the unsigned integer register_[] array</span></div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;  <span class="comment">// into the double precision floating point value and return it.</span></div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  <span class="keywordtype">char</span> buffer[2 * <span class="keyword">sizeof</span>(vfp_registers_[0])];</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;  memcpy(buffer, &amp;registers_[reg], 2 * <span class="keyword">sizeof</span>(registers_[0]));</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;  memcpy(&amp;dm_val, buffer, 2 * <span class="keyword">sizeof</span>(registers_[0]));</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;  <span class="keywordflow">return</span> (dm_val);</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;}</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160; </div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;<span class="keywordtype">void</span> Simulator::set_register_pair_from_double(<span class="keywordtype">int</span> reg, <span class="keywordtype">double</span>* <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>) {</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>((reg &gt;= 0) &amp;&amp; (reg &lt; num_registers) &amp;&amp; ((reg % 2) == 0));</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  memcpy(registers_ + reg, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, <span class="keyword">sizeof</span>(*<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>));</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;}</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160; </div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;<span class="keywordtype">void</span> Simulator::set_dw_register(<span class="keywordtype">int</span> dreg, <span class="keyword">const</span> <span class="keywordtype">int</span>* dbl) {</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>((dreg &gt;= 0) &amp;&amp; (dreg &lt; num_d_registers));</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;  registers_[dreg] = dbl[0];</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;  registers_[dreg + 1] = dbl[1];</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;}</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160; </div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;<span class="keywordtype">void</span> Simulator::get_d_register(<span class="keywordtype">int</span> dreg, uint64_t* <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>) {</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>((dreg &gt;= 0) &amp;&amp; (dreg &lt; DwVfpRegister::SupportedRegisterCount()));</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;  memcpy(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, vfp_registers_ + dreg * 2, <span class="keyword">sizeof</span>(*<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>));</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;}</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160; </div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;<span class="keywordtype">void</span> Simulator::set_d_register(<span class="keywordtype">int</span> dreg, <span class="keyword">const</span> uint64_t* <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>) {</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>((dreg &gt;= 0) &amp;&amp; (dreg &lt; DwVfpRegister::SupportedRegisterCount()));</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;  memcpy(vfp_registers_ + dreg * 2, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, <span class="keyword">sizeof</span>(*<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>));</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;}</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160; </div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;<span class="keywordtype">void</span> Simulator::get_d_register(<span class="keywordtype">int</span> dreg, uint32_t* <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>) {</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>((dreg &gt;= 0) &amp;&amp; (dreg &lt; DwVfpRegister::SupportedRegisterCount()));</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  memcpy(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, vfp_registers_ + dreg * 2, <span class="keyword">sizeof</span>(*<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>) * 2);</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;}</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160; </div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;<span class="keywordtype">void</span> Simulator::set_d_register(<span class="keywordtype">int</span> dreg, <span class="keyword">const</span> uint32_t* <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>) {</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>((dreg &gt;= 0) &amp;&amp; (dreg &lt; DwVfpRegister::SupportedRegisterCount()));</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;  memcpy(vfp_registers_ + dreg * 2, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, <span class="keyword">sizeof</span>(*<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>) * 2);</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;}</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160; </div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keywordtype">int</span> SIZE&gt;</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;<span class="keywordtype">void</span> Simulator::get_neon_register(<span class="keywordtype">int</span> reg, <a class="code" href="classT.html">T</a> (&amp;<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)[<a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a> / <span class="keyword">sizeof</span>(<a class="code" href="classT.html">T</a>)]) {</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a> == <a class="code" href="namespacev8_1_1internal.html#a1ac5aaec8d986abe45d958e665beb21a">kSimd128Size</a> || <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a> == <a class="code" href="namespacev8_1_1internal.html#ada67458c5a8e8c0ade0017e5d3c56fd3">kDoubleSize</a>);</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(0, reg);</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#afd957f297df7e9ee36c46185e961485f">DCHECK_GT</a>(<a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a> == <a class="code" href="namespacev8_1_1internal.html#a1ac5aaec8d986abe45d958e665beb21a">kSimd128Size</a> ? num_q_registers : num_d_registers, reg);</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;  memcpy(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, vfp_registers_ + reg * (<a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a> / 4), <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a>);</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;}</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160; </div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keywordtype">int</span> SIZE&gt;</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;<span class="keywordtype">void</span> Simulator::set_neon_register(<span class="keywordtype">int</span> reg, <span class="keyword">const</span> <a class="code" href="classT.html">T</a> (&amp;<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)[<a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a> / <span class="keyword">sizeof</span>(<a class="code" href="classT.html">T</a>)]) {</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a> == <a class="code" href="namespacev8_1_1internal.html#a1ac5aaec8d986abe45d958e665beb21a">kSimd128Size</a> || <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a> == <a class="code" href="namespacev8_1_1internal.html#ada67458c5a8e8c0ade0017e5d3c56fd3">kDoubleSize</a>);</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(0, reg);</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#afd957f297df7e9ee36c46185e961485f">DCHECK_GT</a>(<a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a> == <a class="code" href="namespacev8_1_1internal.html#a1ac5aaec8d986abe45d958e665beb21a">kSimd128Size</a> ? num_q_registers : num_d_registers, reg);</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  memcpy(vfp_registers_ + reg * (<a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a> / 4), <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a>);</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;}</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160; </div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;<span class="comment">// Raw access to the PC register.</span></div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;<span class="keywordtype">void</span> Simulator::set_pc(<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>) {</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;  pc_modified_ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;  registers_[pc] = <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>;</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;}</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160; </div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;<span class="keywordtype">bool</span> Simulator::has_bad_pc()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;  <span class="keywordflow">return</span> ((registers_[pc] == bad_lr) || (registers_[pc] == end_sim_pc));</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;}</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160; </div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;<span class="comment">// Raw access to the PC register without the special adjustment when reading.</span></div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> Simulator::get_pc()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> registers_[pc]; }</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160; </div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;<span class="comment">// Getting from and setting into VFP registers.</span></div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;<span class="keywordtype">void</span> Simulator::set_s_register(<span class="keywordtype">int</span> sreg, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>) {</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>((sreg &gt;= 0) &amp;&amp; (sreg &lt; num_s_registers));</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;  vfp_registers_[sreg] = <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>;</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;}</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160; </div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Simulator::get_s_register(<span class="keywordtype">int</span> sreg)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>((sreg &gt;= 0) &amp;&amp; (sreg &lt; num_s_registers));</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;  <span class="keywordflow">return</span> vfp_registers_[sreg];</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;}</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160; </div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> InputType, <span class="keywordtype">int</span> register_size&gt;</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;<span class="keywordtype">void</span> Simulator::SetVFPRegister(<span class="keywordtype">int</span> reg_index, <span class="keyword">const</span> InputType&amp; <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>) {</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;  <span class="keywordtype">unsigned</span> bytes = register_size * <span class="keyword">sizeof</span>(vfp_registers_[0]);</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<span class="keyword">sizeof</span>(InputType), bytes);</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a>(reg_index, 0);</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  <span class="keywordflow">if</span> (register_size == 1) <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(reg_index &lt; num_s_registers);</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;  <span class="keywordflow">if</span> (register_size == 2)</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(reg_index &lt; DwVfpRegister::SupportedRegisterCount());</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160; </div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;  memcpy(&amp;vfp_registers_[reg_index * register_size], &amp;<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, bytes);</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;}</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160; </div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> ReturnType, <span class="keywordtype">int</span> register_size&gt;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;ReturnType Simulator::GetFromVFPRegister(<span class="keywordtype">int</span> reg_index) {</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;  <span class="keywordtype">unsigned</span> bytes = register_size * <span class="keyword">sizeof</span>(vfp_registers_[0]);</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<span class="keyword">sizeof</span>(ReturnType), bytes);</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a>(reg_index, 0);</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;  <span class="keywordflow">if</span> (register_size == 1) <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(reg_index &lt; num_s_registers);</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;  <span class="keywordflow">if</span> (register_size == 2)</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(reg_index &lt; DwVfpRegister::SupportedRegisterCount());</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160; </div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;  ReturnType <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>;</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;  memcpy(&amp;<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, &amp;vfp_registers_[register_size * reg_index], bytes);</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>;</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;}</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160; </div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;<span class="keywordtype">void</span> Simulator::SetSpecialRegister(<a class="code" href="namespacev8_1_1internal.html#a4c76e57483d6c39606703f6d6dde2855">SRegisterFieldMask</a> reg_and_mask,</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;                                   uint32_t <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>) {</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;  <span class="comment">// Only CPSR_f is implemented. Of that, only N, Z, C and V are implemented.</span></div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;  <span class="keywordflow">if</span> ((reg_and_mask == <a class="code" href="namespacev8_1_1internal.html#ab68e81a2cff308812425be4140a86478">CPSR_f</a>) &amp;&amp; ((<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> &amp; ~<a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a9e44b6ecb793a2111361fdc222293eaa">kSpecialCondition</a>) == 0)) {</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    n_flag_ = ((<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> &amp; (1 &lt;&lt; 31)) != 0);</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    z_flag_ = ((<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> &amp; (1 &lt;&lt; 30)) != 0);</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    c_flag_ = ((<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> &amp; (1 &lt;&lt; 29)) != 0);</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    v_flag_ = ((<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> &amp; (1 &lt;&lt; 28)) != 0);</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;  }</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;}</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160; </div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;uint32_t Simulator::GetFromSpecialRegister(<a class="code" href="namespacev8_1_1internal.html#a9f51c4d0eb075544675ae07126f64d21">SRegister</a> reg) {</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;  uint32_t <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = 0;</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;  <span class="comment">// Only CPSR_f is implemented.</span></div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;  <span class="keywordflow">if</span> (reg == <a class="code" href="namespacev8_1_1internal.html#ae4faefd6752e5371d1d82848c8034485">CPSR</a>) {</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    <span class="keywordflow">if</span> (n_flag_) <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> |= (1 &lt;&lt; 31);</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    <span class="keywordflow">if</span> (z_flag_) <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> |= (1 &lt;&lt; 30);</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    <span class="keywordflow">if</span> (c_flag_) <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> |= (1 &lt;&lt; 29);</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    <span class="keywordflow">if</span> (v_flag_) <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> |= (1 &lt;&lt; 28);</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;  }</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;}</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160; </div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;<span class="comment">// Runtime FP routines take:</span></div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;<span class="comment">// - two double arguments</span></div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;<span class="comment">// - one double argument and zero or one integer arguments.</span></div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;<span class="comment">// All are consructed here from r0-r3 or d0, d1 and r0.</span></div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;<span class="keywordtype">void</span> Simulator::GetFpArgs(<span class="keywordtype">double</span>* x, <span class="keywordtype">double</span>* <a class="code" href="namespacev8_1_1base_1_1internal.html#aba8167f197e892214b9dc1aba34983de">y</a>, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a>* z) {</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;  <span class="keywordflow">if</span> (use_eabi_hardfloat()) {</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    *x = get_double_from_d_register(0).get_scalar();</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    *<a class="code" href="namespacev8_1_1base_1_1internal.html#aba8167f197e892214b9dc1aba34983de">y</a> = get_double_from_d_register(1).get_scalar();</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    *z = get_register(0);</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    <span class="comment">// Registers 0 and 1 -&gt; x.</span></div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    *x = get_double_from_register_pair(0);</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    <span class="comment">// Register 2 and 3 -&gt; y.</span></div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    *<a class="code" href="namespacev8_1_1base_1_1internal.html#aba8167f197e892214b9dc1aba34983de">y</a> = get_double_from_register_pair(2);</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    <span class="comment">// Register 2 -&gt; z</span></div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    *z = get_register(2);</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;  }</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;}</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160; </div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;<span class="comment">// The return value is either in r0/r1 or d0.</span></div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;<span class="keywordtype">void</span> Simulator::SetFpResult(<span class="keyword">const</span> <span class="keywordtype">double</span>&amp; <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>) {</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;  <span class="keywordflow">if</span> (use_eabi_hardfloat()) {</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    <span class="keywordtype">char</span> buffer[2 * <span class="keyword">sizeof</span>(vfp_registers_[0])];</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    memcpy(buffer, &amp;<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>, <span class="keyword">sizeof</span>(buffer));</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    <span class="comment">// Copy result to d0.</span></div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    memcpy(vfp_registers_, buffer, <span class="keyword">sizeof</span>(buffer));</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    <span class="keywordtype">char</span> buffer[2 * <span class="keyword">sizeof</span>(registers_[0])];</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    memcpy(buffer, &amp;<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>, <span class="keyword">sizeof</span>(buffer));</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    <span class="comment">// Copy result to r0 and r1.</span></div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    memcpy(registers_, buffer, <span class="keyword">sizeof</span>(buffer));</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;  }</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;}</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160; </div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;<span class="keywordtype">void</span> Simulator::TrashCallerSaveRegisters() {</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;  <span class="comment">// Return registers.</span></div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;  registers_[0] = 0x50BAD4U;</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;  registers_[1] = 0x50BAD4U;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;  <span class="comment">// Caller-saved registers.</span></div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;  registers_[2] = 0x50BAD4U;</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;  registers_[3] = 0x50BAD4U;</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;  registers_[12] = 0x50BAD4U;</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;  <span class="comment">// This value is a NaN in both 32-bit and 64-bit FP.</span></div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> uint64_t v = 0x7ff000007f801000UL;</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;  <span class="comment">// d0 - d7 are caller-saved.</span></div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; 8; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    set_d_register(<a class="code" href="namespacev8_1_1internal.html">i</a>, &amp;v);</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;  }</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;  <span class="keywordflow">if</span> (DoubleRegister::SupportedRegisterCount() &gt; 16) {</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    <span class="comment">// d16 - d31 (if supported) are caller-saved.</span></div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 16; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; 32; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;      set_d_register(<a class="code" href="namespacev8_1_1internal.html">i</a>, &amp;v);</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    }</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;  }</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;}</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160; </div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;<span class="keywordtype">int</span> Simulator::ReadW(<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> addr) {</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;  <span class="comment">// All supported ARM targets allow unaligned accesses, so we don&#39;t need to</span></div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;  <span class="comment">// check the alignment here.</span></div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;  GlobalMonitor::SimulatorMutex lock_guard(global_monitor_);</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;  local_monitor_.NotifyLoad(addr);</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;  <span class="keywordflow">return</span> base::ReadUnalignedValue&lt;intptr_t&gt;(addr);</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;}</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160; </div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;<span class="keywordtype">int</span> Simulator::ReadExW(<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> addr) {</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;  GlobalMonitor::SimulatorMutex lock_guard(global_monitor_);</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;  local_monitor_.NotifyLoadExcl(addr, <a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#a4848dd2d851e70463d6aa0f136a19218">TransactionSize::Word</a>);</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;  global_monitor_-&gt;NotifyLoadExcl_Locked(addr, &amp;global_monitor_processor_);</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;  <span class="keywordflow">return</span> base::ReadUnalignedValue&lt;intptr_t&gt;(addr);</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;}</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160; </div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;<span class="keywordtype">void</span> Simulator::WriteW(<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> addr, <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>) {</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;  <span class="comment">// All supported ARM targets allow unaligned accesses, so we don&#39;t need to</span></div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;  <span class="comment">// check the alignment here.</span></div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;  GlobalMonitor::SimulatorMutex lock_guard(global_monitor_);</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;  local_monitor_.NotifyStore(addr);</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;  global_monitor_-&gt;NotifyStore_Locked(addr, &amp;global_monitor_processor_);</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;  base::WriteUnalignedValue&lt;intptr_t&gt;(addr, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;}</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160; </div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;<span class="keywordtype">int</span> Simulator::WriteExW(<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> addr, <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>) {</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;  GlobalMonitor::SimulatorMutex lock_guard(global_monitor_);</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;  <span class="keywordflow">if</span> (local_monitor_.NotifyStoreExcl(addr, <a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#a4848dd2d851e70463d6aa0f136a19218">TransactionSize::Word</a>) &amp;&amp;</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;      global_monitor_-&gt;NotifyStoreExcl_Locked(addr,</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;                                              &amp;global_monitor_processor_)) {</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    base::WriteUnalignedValue&lt;intptr_t&gt;(addr, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;  }</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;}</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160; </div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;<a class="code" href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">uint16_t</a> Simulator::ReadHU(<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> addr) {</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;  <span class="comment">// All supported ARM targets allow unaligned accesses, so we don&#39;t need to</span></div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;  <span class="comment">// check the alignment here.</span></div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;  GlobalMonitor::SimulatorMutex lock_guard(global_monitor_);</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;  local_monitor_.NotifyLoad(addr);</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;  <span class="keywordflow">return</span> base::ReadUnalignedValue&lt;uint16_t&gt;(addr);</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;}</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160; </div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;<a class="code" href="namespaceunibrow.html#a511cc0636aed6a00d37d3e7cc0ec4e7c">int16_t</a> Simulator::ReadH(<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> addr) {</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;  <span class="comment">// All supported ARM targets allow unaligned accesses, so we don&#39;t need to</span></div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;  <span class="comment">// check the alignment here.</span></div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;  GlobalMonitor::SimulatorMutex lock_guard(global_monitor_);</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;  local_monitor_.NotifyLoad(addr);</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;  <span class="keywordflow">return</span> base::ReadUnalignedValue&lt;int16_t&gt;(addr);</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;}</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160; </div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;<a class="code" href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">uint16_t</a> Simulator::ReadExHU(<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> addr) {</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;  GlobalMonitor::SimulatorMutex lock_guard(global_monitor_);</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;  local_monitor_.NotifyLoadExcl(addr, TransactionSize::HalfWord);</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;  global_monitor_-&gt;NotifyLoadExcl_Locked(addr, &amp;global_monitor_processor_);</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;  <span class="keywordflow">return</span> base::ReadUnalignedValue&lt;uint16_t&gt;(addr);</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;}</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160; </div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;<span class="keywordtype">void</span> Simulator::WriteH(<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> addr, <a class="code" href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">uint16_t</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>) {</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;  <span class="comment">// All supported ARM targets allow unaligned accesses, so we don&#39;t need to</span></div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;  <span class="comment">// check the alignment here.</span></div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;  GlobalMonitor::SimulatorMutex lock_guard(global_monitor_);</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;  local_monitor_.NotifyStore(addr);</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;  global_monitor_-&gt;NotifyStore_Locked(addr, &amp;global_monitor_processor_);</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;  <a class="code" href="namespacev8_1_1base.html#ab6a16e677d6f7a037918c8e80a2756e3">base::WriteUnalignedValue</a>(addr, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;}</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160; </div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;<span class="keywordtype">void</span> Simulator::WriteH(<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> addr, <a class="code" href="namespaceunibrow.html#a511cc0636aed6a00d37d3e7cc0ec4e7c">int16_t</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>) {</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;  <span class="comment">// All supported ARM targets allow unaligned accesses, so we don&#39;t need to</span></div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;  <span class="comment">// check the alignment here.</span></div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;  GlobalMonitor::SimulatorMutex lock_guard(global_monitor_);</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;  local_monitor_.NotifyStore(addr);</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;  global_monitor_-&gt;NotifyStore_Locked(addr, &amp;global_monitor_processor_);</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;  <a class="code" href="namespacev8_1_1base.html#ab6a16e677d6f7a037918c8e80a2756e3">base::WriteUnalignedValue</a>(addr, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;}</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160; </div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;<span class="keywordtype">int</span> Simulator::WriteExH(<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> addr, <a class="code" href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">uint16_t</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>) {</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;  GlobalMonitor::SimulatorMutex lock_guard(global_monitor_);</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;  <span class="keywordflow">if</span> (local_monitor_.NotifyStoreExcl(addr, TransactionSize::HalfWord) &amp;&amp;</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;      global_monitor_-&gt;NotifyStoreExcl_Locked(addr,</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;                                              &amp;global_monitor_processor_)) {</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;    <a class="code" href="namespacev8_1_1base.html#ab6a16e677d6f7a037918c8e80a2756e3">base::WriteUnalignedValue</a>(addr, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;  }</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;}</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160; </div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;uint8_t Simulator::ReadBU(<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> addr) {</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;  GlobalMonitor::SimulatorMutex lock_guard(global_monitor_);</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;  local_monitor_.NotifyLoad(addr);</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;  <span class="keywordflow">return</span> base::ReadUnalignedValue&lt;uint8_t&gt;(addr);</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;}</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160; </div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;int8_t Simulator::ReadB(<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> addr) {</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;  GlobalMonitor::SimulatorMutex lock_guard(global_monitor_);</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;  local_monitor_.NotifyLoad(addr);</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;  <span class="keywordflow">return</span> base::ReadUnalignedValue&lt;int8_t&gt;(addr);</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;}</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160; </div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;uint8_t Simulator::ReadExBU(<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> addr) {</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;  GlobalMonitor::SimulatorMutex lock_guard(global_monitor_);</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;  local_monitor_.NotifyLoadExcl(addr, TransactionSize::Byte);</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;  global_monitor_-&gt;NotifyLoadExcl_Locked(addr, &amp;global_monitor_processor_);</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;  <span class="keywordflow">return</span> base::ReadUnalignedValue&lt;uint8_t&gt;(addr);</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;}</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160; </div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;<span class="keywordtype">void</span> Simulator::WriteB(<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> addr, uint8_t <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>) {</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;  GlobalMonitor::SimulatorMutex lock_guard(global_monitor_);</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;  local_monitor_.NotifyStore(addr);</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;  global_monitor_-&gt;NotifyStore_Locked(addr, &amp;global_monitor_processor_);</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;  <a class="code" href="namespacev8_1_1base.html#ab6a16e677d6f7a037918c8e80a2756e3">base::WriteUnalignedValue</a>(addr, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;}</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160; </div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;<span class="keywordtype">void</span> Simulator::WriteB(<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> addr, int8_t <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>) {</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;  GlobalMonitor::SimulatorMutex lock_guard(global_monitor_);</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;  local_monitor_.NotifyStore(addr);</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;  global_monitor_-&gt;NotifyStore_Locked(addr, &amp;global_monitor_processor_);</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;  <a class="code" href="namespacev8_1_1base.html#ab6a16e677d6f7a037918c8e80a2756e3">base::WriteUnalignedValue</a>(addr, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;}</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160; </div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;<span class="keywordtype">int</span> Simulator::WriteExB(<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> addr, uint8_t <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>) {</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;  GlobalMonitor::SimulatorMutex lock_guard(global_monitor_);</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;  <span class="keywordflow">if</span> (local_monitor_.NotifyStoreExcl(addr, TransactionSize::Byte) &amp;&amp;</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;      global_monitor_-&gt;NotifyStoreExcl_Locked(addr,</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;                                              &amp;global_monitor_processor_)) {</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    <a class="code" href="namespacev8_1_1base.html#ab6a16e677d6f7a037918c8e80a2756e3">base::WriteUnalignedValue</a>(addr, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;  }</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;}</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160; </div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a>* Simulator::ReadDW(<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> addr) {</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;  <span class="comment">// All supported ARM targets allow unaligned accesses, so we don&#39;t need to</span></div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;  <span class="comment">// check the alignment here.</span></div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;  GlobalMonitor::SimulatorMutex lock_guard(global_monitor_);</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;  local_monitor_.NotifyLoad(addr);</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a>*<span class="keyword">&gt;</span>(addr);</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;}</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160; </div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a>* Simulator::ReadExDW(<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> addr) {</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;  GlobalMonitor::SimulatorMutex lock_guard(global_monitor_);</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;  local_monitor_.NotifyLoadExcl(addr, TransactionSize::DoubleWord);</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;  global_monitor_-&gt;NotifyLoadExcl_Locked(addr, &amp;global_monitor_processor_);</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a>*<span class="keyword">&gt;</span>(addr);</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;}</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160; </div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;<span class="keywordtype">void</span> Simulator::WriteDW(<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> addr, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> value1, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> value2) {</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;  <span class="comment">// All supported ARM targets allow unaligned accesses, so we don&#39;t need to</span></div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;  <span class="comment">// check the alignment here.</span></div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;  GlobalMonitor::SimulatorMutex lock_guard(global_monitor_);</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;  local_monitor_.NotifyStore(addr);</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;  global_monitor_-&gt;NotifyStore_Locked(addr, &amp;global_monitor_processor_);</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;  <a class="code" href="namespacev8_1_1base.html#ab6a16e677d6f7a037918c8e80a2756e3">base::WriteUnalignedValue</a>(addr, value1);</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;  <a class="code" href="namespacev8_1_1base.html#ab6a16e677d6f7a037918c8e80a2756e3">base::WriteUnalignedValue</a>(addr + <span class="keyword">sizeof</span>(value1), value2);</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;}</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160; </div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;<span class="keywordtype">int</span> Simulator::WriteExDW(<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> addr, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> value1, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> value2) {</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;  GlobalMonitor::SimulatorMutex lock_guard(global_monitor_);</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;  <span class="keywordflow">if</span> (local_monitor_.NotifyStoreExcl(addr, TransactionSize::DoubleWord) &amp;&amp;</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;      global_monitor_-&gt;NotifyStoreExcl_Locked(addr,</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;                                              &amp;global_monitor_processor_)) {</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    <a class="code" href="namespacev8_1_1base.html#ab6a16e677d6f7a037918c8e80a2756e3">base::WriteUnalignedValue</a>(addr, value1);</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    <a class="code" href="namespacev8_1_1base.html#ab6a16e677d6f7a037918c8e80a2756e3">base::WriteUnalignedValue</a>(addr + <span class="keyword">sizeof</span>(value1), value2);</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;  }</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;}</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160; </div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;<span class="comment">// Returns the limit of the stack area to enable checking for stack overflows.</span></div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;<a class="code" href="classuintptr__t.html">uintptr_t</a> Simulator::StackLimit(<a class="code" href="classuintptr__t.html">uintptr_t</a> c_limit)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;  <span class="comment">// The simulator uses a separate JS stack. If we have exhausted the C stack,</span></div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;  <span class="comment">// we also drop down the JS limit to reflect the exhaustion on the JS stack.</span></div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#a8002b4a0fe4f465e8a6261cff4e9b66d">base::Stack::GetCurrentStackPosition</a>() &lt; c_limit) {</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classuintptr__t.html">uintptr_t</a><span class="keyword">&gt;</span>(get_sp());</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;  }</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160; </div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;  <span class="comment">// Otherwise the limit is the JS stack. Leave a safety margin to prevent</span></div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;  <span class="comment">// overrunning the stack when pushing values.</span></div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classuintptr__t.html">uintptr_t</a><span class="keyword">&gt;</span>(stack_) + kAdditionalStackMargin;</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;}</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160; </div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;<a class="code" href="classuintptr__t.html">uintptr_t</a> Simulator::StackBase()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classuintptr__t.html">uintptr_t</a><span class="keyword">&gt;</span>(stack_) + kUsableStackSize;</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;}</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160; </div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;base::Vector&lt;uint8_t&gt; Simulator::GetCentralStackView()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;  <span class="comment">// We do not add an additional safety margin as above in</span></div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;  <span class="comment">// Simulator::StackLimit, as this is currently only used in wasm::StackMemory,</span></div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;  <span class="comment">// which adds its own margin.</span></div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base.html#a5bfc65f27076e49eb7752a4fb4d45acb">base::VectorOf</a>(stack_, kUsableStackSize);</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;}</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160; </div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;<span class="keywordtype">void</span> Simulator::IterateRegistersAndStack(::<a class="code" href="classheap_1_1base_1_1StackVisitor.html">heap::base::StackVisitor</a>* visitor) {</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; num_registers; ++<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>) {</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    visitor-&gt;<a class="code" href="classheap_1_1base_1_1StackVisitor.html#a148852d2b6085bd01a8a384941341119">VisitPointer</a>(<span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(get_register(<a class="code" href="namespacev8_1_1internal.html">i</a>)));</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;  }</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160; </div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keywordtype">void</span>* <span class="keyword">const</span>* current =</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;           <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">void</span>* const*<span class="keyword">&gt;</span>(get_sp());</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;       current &lt; reinterpret_cast&lt;const void* const*&gt;(StackBase()); ++current) {</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">void</span>* address = *current;</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    <span class="keywordflow">if</span> (address == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    }</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    visitor-&gt;<a class="code" href="classheap_1_1base_1_1StackVisitor.html#a148852d2b6085bd01a8a384941341119">VisitPointer</a>(address);</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;  }</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;}</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160; </div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;<span class="comment">// Unsupported instructions use Format to print an error and stop execution.</span></div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;<span class="keywordtype">void</span> Simulator::Format(Instruction* instr, <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespacev8_1_1base.html#a1164c4a4843f31b51527e1661ff36565">format</a>) {</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;Simulator found unsupported instruction:\n 0x%08&quot;</span> <a class="code" href="src_2base_2macros_8h.html#adafd98459092322383b0f5ebcc7c342f">V8PRIxPTR</a> <span class="stringliteral">&quot;: %s\n&quot;</span>,</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;         <span class="keyword">reinterpret_cast&lt;</span>intptr_t<span class="keyword">&gt;</span>(instr), <a class="code" href="namespacev8_1_1base.html#a1164c4a4843f31b51527e1661ff36565">format</a>);</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;}</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160; </div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;<span class="comment">// Checks if the current instruction should be executed based on its</span></div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;<span class="comment">// condition bits.</span></div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;<span class="keywordtype">bool</span> Simulator::ConditionallyExecute(Instruction* instr) {</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;  <span class="keywordflow">switch</span> (instr-&gt;ConditionField()) {</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21aef89ff7bd9abfd0deb210fbcadd24123">eq</a>:</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;      <span class="keywordflow">return</span> z_flag_;</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a8a814088d15799a0fa2bac29d01a1ea7">ne</a>:</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;      <span class="keywordflow">return</span> !z_flag_;</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a943ef56601cf77621c78e618318f254b">cs</a>:</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;      <span class="keywordflow">return</span> c_flag_;</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a5f686fa958f21956d0c68aabd13dc9df">cc</a>:</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;      <span class="keywordflow">return</span> !c_flag_;</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21ab98311bd5d26f656d79f7bc7f50d16b3">mi</a>:</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;      <span class="keywordflow">return</span> n_flag_;</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a27057cf7ee0cc1df80d9be4e148a9633">pl</a>:</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;      <span class="keywordflow">return</span> !n_flag_;</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21ad039143c13b22cefede508a8fbb52d04">vs</a>:</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;      <span class="keywordflow">return</span> v_flag_;</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21aa65649c45ab8dd61c6c0ecb29a0b5702">vc</a>:</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;      <span class="keywordflow">return</span> !v_flag_;</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a26bb1f65f8c22d598ef4f4d65aeac9f6">hi</a>:</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;      <span class="keywordflow">return</span> c_flag_ &amp;&amp; !z_flag_;</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a0d6e32abfda8a0e47a567344d5ceb07b">ls</a>:</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;      <span class="keywordflow">return</span> !c_flag_ || z_flag_;</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21aa5296c25e35b433aabbd501b5e1af877">ge</a>:</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;      <span class="keywordflow">return</span> n_flag_ == v_flag_;</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a529d6a26a3d0432bbed6a445c8ad28ba">lt</a>:</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;      <span class="keywordflow">return</span> n_flag_ != v_flag_;</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21affbfee1764a5cebe43e31ae7af635ddf">gt</a>:</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;      <span class="keywordflow">return</span> !z_flag_ &amp;&amp; (n_flag_ == v_flag_);</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a99a496d56c70992995dc7ad3ee059112">le</a>:</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;      <span class="keywordflow">return</span> z_flag_ || (n_flag_ != v_flag_);</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21ac28488f3a9f86da469ea820d35227d99">al</a>:</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;  }</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;}</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160; </div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;<span class="comment">// Calculate and set the Negative and Zero flags.</span></div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;<span class="keywordtype">void</span> Simulator::SetNZFlags(<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> val) {</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;  n_flag_ = (val &lt; 0);</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;  z_flag_ = (val == 0);</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;}</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160; </div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;<span class="comment">// Set the Carry flag.</span></div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;<span class="keywordtype">void</span> Simulator::SetCFlag(<span class="keywordtype">bool</span> val) { c_flag_ = val; }</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160; </div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;<span class="comment">// Set the oVerflow flag.</span></div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;<span class="keywordtype">void</span> Simulator::SetVFlag(<span class="keywordtype">bool</span> val) { v_flag_ = val; }</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160; </div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;<span class="comment">// Calculate C flag value for additions.</span></div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;<span class="keywordtype">bool</span> Simulator::CarryFrom(<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> left, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> right, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21ae695019b1d6a3dc7d791935ee35f2b0e">carry</a>) {</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;  uint32_t uleft = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(left);</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;  uint32_t uright = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(right);</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;  uint32_t urest = 0xFFFFFFFFU - uleft;</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160; </div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;  <span class="keywordflow">return</span> (uright &gt; urest) ||</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;         (<a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21ae695019b1d6a3dc7d791935ee35f2b0e">carry</a> &amp;&amp; (((uright + 1) &gt; urest) || (uright &gt; (urest - 1))));</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;}</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160; </div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;<span class="comment">// Calculate C flag value for subtractions.</span></div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;<span class="keywordtype">bool</span> Simulator::BorrowFrom(<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> left, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> right, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21ae695019b1d6a3dc7d791935ee35f2b0e">carry</a>) {</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;  uint32_t uleft = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(left);</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;  uint32_t uright = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(right);</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160; </div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;  <span class="keywordflow">return</span> (uright &gt; uleft) ||</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;         (!<a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21ae695019b1d6a3dc7d791935ee35f2b0e">carry</a> &amp;&amp; (((uright + 1) &gt; uleft) || (uright &gt; (uleft - 1))));</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;}</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160; </div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;<span class="comment">// Calculate V flag value for additions and subtractions.</span></div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;<span class="keywordtype">bool</span> Simulator::OverflowFrom(<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> alu_out, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> left, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> right,</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;                             <span class="keywordtype">bool</span> addition) {</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a382cfc7833f9a238ab5ffcfea5060ddd">overflow</a>;</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;  <span class="keywordflow">if</span> (addition) {</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    <span class="comment">// operands have the same sign</span></div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a382cfc7833f9a238ab5ffcfea5060ddd">overflow</a> = ((left &gt;= 0 &amp;&amp; right &gt;= 0) || (left &lt; 0 &amp;&amp; right &lt; 0))</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;               <span class="comment">// and operands and result have different sign</span></div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;               &amp;&amp; ((left &lt; 0 &amp;&amp; alu_out &gt;= 0) || (left &gt;= 0 &amp;&amp; alu_out &lt; 0));</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    <span class="comment">// operands have different signs</span></div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a382cfc7833f9a238ab5ffcfea5060ddd">overflow</a> = ((left &lt; 0 &amp;&amp; right &gt;= 0) || (left &gt;= 0 &amp;&amp; right &lt; 0))</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;               <span class="comment">// and first operand and result have different signs</span></div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;               &amp;&amp; ((left &lt; 0 &amp;&amp; alu_out &gt;= 0) || (left &gt;= 0 &amp;&amp; alu_out &lt; 0));</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;  }</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a382cfc7833f9a238ab5ffcfea5060ddd">overflow</a>;</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;}</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160; </div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;<span class="comment">// Support for VFP comparisons.</span></div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;<span class="keywordtype">void</span> Simulator::Compute_FPSCR_Flags(<span class="keywordtype">float</span> val1, <span class="keywordtype">float</span> val2) {</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;  <span class="keywordflow">if</span> (std::isnan(val1) || std::isnan(val2)) {</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;    n_flag_FPSCR_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    z_flag_FPSCR_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;    c_flag_FPSCR_ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    v_flag_FPSCR_ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    <span class="comment">// All non-NaN cases.</span></div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (val1 == val2) {</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    n_flag_FPSCR_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    z_flag_FPSCR_ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    c_flag_FPSCR_ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    v_flag_FPSCR_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (val1 &lt; val2) {</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    n_flag_FPSCR_ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    z_flag_FPSCR_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;    c_flag_FPSCR_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    v_flag_FPSCR_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    <span class="comment">// Case when (val1 &gt; val2).</span></div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    n_flag_FPSCR_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    z_flag_FPSCR_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    c_flag_FPSCR_ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    v_flag_FPSCR_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;  }</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;}</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160; </div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;<span class="keywordtype">void</span> Simulator::Compute_FPSCR_Flags(<span class="keywordtype">double</span> val1, <span class="keywordtype">double</span> val2) {</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;  <span class="keywordflow">if</span> (std::isnan(val1) || std::isnan(val2)) {</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;    n_flag_FPSCR_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;    z_flag_FPSCR_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;    c_flag_FPSCR_ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    v_flag_FPSCR_ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    <span class="comment">// All non-NaN cases.</span></div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (val1 == val2) {</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    n_flag_FPSCR_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    z_flag_FPSCR_ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    c_flag_FPSCR_ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    v_flag_FPSCR_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (val1 &lt; val2) {</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    n_flag_FPSCR_ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;    z_flag_FPSCR_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    c_flag_FPSCR_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    v_flag_FPSCR_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;    <span class="comment">// Case when (val1 &gt; val2).</span></div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;    n_flag_FPSCR_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;    z_flag_FPSCR_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;    c_flag_FPSCR_ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;    v_flag_FPSCR_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;  }</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;}</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160; </div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;<span class="keywordtype">void</span> Simulator::Copy_FPSCR_to_APSR() {</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;  n_flag_ = n_flag_FPSCR_;</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;  z_flag_ = z_flag_FPSCR_;</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;  c_flag_ = c_flag_FPSCR_;</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;  v_flag_ = v_flag_FPSCR_;</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;}</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160; </div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;<span class="comment">// Addressing Mode 1 - Data-processing operands:</span></div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;<span class="comment">// Get the value based on the shifter_operand with register.</span></div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> Simulator::GetShiftRm(Instruction* instr, <span class="keywordtype">bool</span>* carry_out) {</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#ab9619619f112074d2080d2fd1427bc84">ShiftOp</a> shift = instr-&gt;ShiftField();</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;  <span class="keywordtype">int</span> shift_amount = instr-&gt;ShiftAmountValue();</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;  <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = get_register(instr-&gt;RmValue());</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;  <span class="keywordflow">if</span> (instr-&gt;Bit(4) == 0) {</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    <span class="comment">// by immediate</span></div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;    <span class="keywordflow">if</span> ((shift == <a class="code" href="namespacev8_1_1internal.html#abd00a82b2bd1eea2fd2cb6c5c86fee20">ROR</a>) &amp;&amp; (shift_amount == 0)) {</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (((shift == <a class="code" href="namespacev8_1_1internal.html#a3bf382edcd7bb1087a5b70868e574d33">LSR</a>) || (shift == <a class="code" href="namespacev8_1_1internal.html#a482a900cf1d6664c29baf67386f30c38">ASR</a>)) &amp;&amp; (shift_amount == 0)) {</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;      shift_amount = 32;</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    }</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;    <span class="keywordflow">switch</span> (shift) {</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a482a900cf1d6664c29baf67386f30c38">ASR</a>: {</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;        <span class="keywordflow">if</span> (shift_amount == 0) {</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> &lt; 0) {</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;            <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = 0xFFFFFFFF;</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;            *carry_out = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;            <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = 0;</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;            *carry_out = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;          }</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;          <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> &gt;&gt;= (shift_amount - 1);</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;          *carry_out = (<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> &amp; 1) == 1;</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;          <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> &gt;&gt;= 1;</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;        }</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;      }</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160; </div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a4ccd07be6b8a2102dd3b1481df78691d">LSL</a>: {</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;        <span class="keywordflow">if</span> (shift_amount == 0) {</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;          *carry_out = c_flag_;</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;          <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>) &lt;&lt; (shift_amount - 1);</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;          *carry_out = (<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> &lt; 0);</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;          <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>) &lt;&lt; 1;</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;        }</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;      }</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160; </div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a3bf382edcd7bb1087a5b70868e574d33">LSR</a>: {</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;        <span class="keywordflow">if</span> (shift_amount == 0) {</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;          <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = 0;</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;          *carry_out = c_flag_;</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;          uint32_t uresult = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>);</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;          uresult &gt;&gt;= (shift_amount - 1);</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;          *carry_out = (uresult &amp; 1) == 1;</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;          uresult &gt;&gt;= 1;</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;          <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <span class="keyword">static_cast&lt;</span><a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a><span class="keyword">&gt;</span>(uresult);</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;        }</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;      }</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160; </div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#abd00a82b2bd1eea2fd2cb6c5c86fee20">ROR</a>: {</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;        <span class="keywordflow">if</span> (shift_amount == 0) {</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;          *carry_out = c_flag_;</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;          <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <a class="code" href="namespacev8_1_1base_1_1bits.html#a7d1c342908f433bf53e621256452ecdf">base::bits::RotateRight32</a>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>, shift_amount);</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;          *carry_out = (<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>) &gt;&gt; 31) != 0;</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;        }</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;      }</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160; </div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;      <span class="keywordflow">default</span>: {</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;      }</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    }</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;    <span class="comment">// by register</span></div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;    <span class="keywordtype">int</span> rs = instr-&gt;RsValue();</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    shift_amount = get_register(rs) &amp; 0xFF;</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;    <span class="keywordflow">switch</span> (shift) {</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a482a900cf1d6664c29baf67386f30c38">ASR</a>: {</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;        <span class="keywordflow">if</span> (shift_amount == 0) {</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;          *carry_out = c_flag_;</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (shift_amount &lt; 32) {</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;          <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> &gt;&gt;= (shift_amount - 1);</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;          *carry_out = (<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> &amp; 1) == 1;</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;          <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> &gt;&gt;= 1;</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a>(shift_amount, 32);</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> &lt; 0) {</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;            *carry_out = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;            <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = 0xFFFFFFFF;</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;            *carry_out = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;            <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = 0;</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;          }</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;        }</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;      }</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160; </div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a4ccd07be6b8a2102dd3b1481df78691d">LSL</a>: {</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;        <span class="keywordflow">if</span> (shift_amount == 0) {</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;          *carry_out = c_flag_;</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (shift_amount &lt; 32) {</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;          <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>) &lt;&lt; (shift_amount - 1);</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;          *carry_out = (<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> &lt; 0);</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;          <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>) &lt;&lt; 1;</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (shift_amount == 32) {</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;          *carry_out = (<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> &amp; 1) == 1;</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;          <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = 0;</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#afd957f297df7e9ee36c46185e961485f">DCHECK_GT</a>(shift_amount, 32);</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;          *carry_out = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;          <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = 0;</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;        }</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;      }</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160; </div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a3bf382edcd7bb1087a5b70868e574d33">LSR</a>: {</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;        <span class="keywordflow">if</span> (shift_amount == 0) {</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;          *carry_out = c_flag_;</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (shift_amount &lt; 32) {</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;          uint32_t uresult = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>);</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;          uresult &gt;&gt;= (shift_amount - 1);</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;          *carry_out = (uresult &amp; 1) == 1;</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;          uresult &gt;&gt;= 1;</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;          <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <span class="keyword">static_cast&lt;</span><a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a><span class="keyword">&gt;</span>(uresult);</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (shift_amount == 32) {</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;          *carry_out = (<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> &lt; 0);</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;          <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = 0;</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;          *carry_out = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;          <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = 0;</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;        }</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;      }</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160; </div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#abd00a82b2bd1eea2fd2cb6c5c86fee20">ROR</a>: {</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;        <span class="keywordflow">if</span> (shift_amount == 0) {</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;          *carry_out = c_flag_;</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;          <span class="comment">// Avoid undefined behavior. Rotating by multiples of 32 is no-op.</span></div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;          <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <a class="code" href="namespacev8_1_1base_1_1bits.html#a7d1c342908f433bf53e621256452ecdf">base::bits::RotateRight32</a>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>, shift_amount &amp; 31);</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;          *carry_out = (<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>) &gt;&gt; 31) != 0;</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;        }</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;      }</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160; </div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;      <span class="keywordflow">default</span>: {</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;      }</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;    }</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;  }</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;}</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160; </div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;<span class="comment">// Addressing Mode 1 - Data-processing operands:</span></div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;<span class="comment">// Get the value based on the shifter_operand with immediate.</span></div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> Simulator::GetImm(Instruction* instr, <span class="keywordtype">bool</span>* carry_out) {</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;  <span class="keywordtype">int</span> rotate = instr-&gt;RotateValue() * 2;</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;  <span class="keywordtype">int</span> immed8 = instr-&gt;Immed8Value();</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;  <span class="keywordtype">int</span> imm = <a class="code" href="namespacev8_1_1base_1_1bits.html#a7d1c342908f433bf53e621256452ecdf">base::bits::RotateRight32</a>(immed8, rotate);</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;  *carry_out = (rotate == 0) ? c_flag_ : (imm &lt; 0);</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;  <span class="keywordflow">return</span> imm;</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;}</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160; </div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> count_bits(<span class="keywordtype">int</span> bit_vector) {</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;  <span class="keywordtype">int</span> count = 0;</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;  <span class="keywordflow">while</span> (bit_vector != 0) {</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;    <span class="keywordflow">if</span> ((bit_vector &amp; 1) != 0) {</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;      count++;</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;    }</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;    bit_vector &gt;&gt;= 1;</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;  }</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;  <span class="keywordflow">return</span> count;</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;}</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160; </div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> Simulator::ProcessPU(Instruction* instr, <span class="keywordtype">int</span> num_regs, <span class="keywordtype">int</span> reg_size,</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;                             intptr_t* start_address, intptr_t* end_address) {</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;  <span class="keywordtype">int</span> rn = instr-&gt;RnValue();</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;  <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> rn_val = get_register(rn);</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;  <span class="keywordflow">switch</span> (instr-&gt;PUField()) {</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a84522852454ffb8c61432c630b924324">da_x</a>: {</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;    }</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a11888bd362dc923f33f456ad1bb613be">ia_x</a>: {</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;      *start_address = rn_val;</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;      *end_address = rn_val + (num_regs * reg_size) - reg_size;</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;      rn_val = rn_val + (num_regs * reg_size);</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;    }</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a299077ba9d3c66b2a985c37cee391e56">db_x</a>: {</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;      *start_address = rn_val - (num_regs * reg_size);</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;      *end_address = rn_val - reg_size;</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;      rn_val = *start_address;</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;    }</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#af0dab10b381e1e2174327481108e625c">ib_x</a>: {</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;      *start_address = rn_val + reg_size;</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;      *end_address = rn_val + (num_regs * reg_size);</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;      rn_val = *end_address;</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;    }</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;    <span class="keywordflow">default</span>: {</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;    }</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;  }</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;  <span class="keywordflow">return</span> rn_val;</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;}</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160; </div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;<span class="comment">// Addressing Mode 4 - Load and Store Multiple</span></div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;<span class="keywordtype">void</span> Simulator::HandleRList(Instruction* instr, <span class="keywordtype">bool</span> load) {</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;  <span class="keywordtype">int</span> rlist = instr-&gt;RlistValue();</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;  <span class="keywordtype">int</span> num_regs = count_bits(rlist);</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160; </div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;  intptr_t start_address = 0;</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;  intptr_t end_address = 0;</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;  <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> rn_val =</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;      ProcessPU(instr, num_regs, <a class="code" href="namespacev8_1_1internal.html#a4116fc694fcca568217428b5b5b7c86e">kPointerSize</a>, &amp;start_address, &amp;end_address);</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160; </div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;  intptr_t* address = <span class="keyword">reinterpret_cast&lt;</span>intptr_t*<span class="keyword">&gt;</span>(start_address);</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;  <span class="comment">// Catch null pointers a little earlier.</span></div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(start_address &gt; 8191 || start_address &lt; 0);</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;  <span class="keywordtype">int</span> reg = 0;</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;  <span class="keywordflow">while</span> (rlist != 0) {</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;    <span class="keywordflow">if</span> ((rlist &amp; 1) != 0) {</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;      <span class="keywordflow">if</span> (load) {</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;        set_register(reg, *address);</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;        *address = get_register(reg);</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;      }</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;      address += 1;</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;    }</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;    reg++;</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;    rlist &gt;&gt;= 1;</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;  }</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(end_address == ((intptr_t)address) - 4);</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;  <span class="keywordflow">if</span> (instr-&gt;HasW()) {</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;    set_register(instr-&gt;RnValue(), rn_val);</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;  }</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;}</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160; </div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;<span class="comment">// Addressing Mode 6 - Load and Store Multiple Coprocessor registers.</span></div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;<span class="keywordtype">void</span> Simulator::HandleVList(Instruction* instr) {</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#afaba3ab6789d8667b2e54b8a3a01011f">VFPRegPrecision</a> precision =</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;      (instr-&gt;SzValue() == 0) ? <a class="code" href="namespacev8_1_1internal.html#ae14e6362993db69563ab083b46626ba6">kSinglePrecision</a> : <a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>;</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;  <span class="keywordtype">int</span> operand_size = (precision == <a class="code" href="namespacev8_1_1internal.html#ae14e6362993db69563ab083b46626ba6">kSinglePrecision</a>) ? 4 : 8;</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160; </div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;  <span class="keywordtype">bool</span> load = (instr-&gt;VLValue() == 0x1);</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160; </div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;  <span class="keywordtype">int</span> vd;</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;  <span class="keywordtype">int</span> num_regs;</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;  vd = instr-&gt;VFPDRegValue(precision);</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;  <span class="keywordflow">if</span> (precision == <a class="code" href="namespacev8_1_1internal.html#ae14e6362993db69563ab083b46626ba6">kSinglePrecision</a>) {</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;    num_regs = instr-&gt;Immed8Value();</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;    num_regs = instr-&gt;Immed8Value() / 2;</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;  }</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160; </div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;  intptr_t start_address = 0;</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;  intptr_t end_address = 0;</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;  <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> rn_val =</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;      ProcessPU(instr, num_regs, operand_size, &amp;start_address, &amp;end_address);</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160; </div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;  intptr_t* address = <span class="keyword">reinterpret_cast&lt;</span>intptr_t*<span class="keyword">&gt;</span>(start_address);</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> reg = vd; reg &lt; vd + num_regs; reg++) {</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;    <span class="keywordflow">if</span> (precision == <a class="code" href="namespacev8_1_1internal.html#ae14e6362993db69563ab083b46626ba6">kSinglePrecision</a>) {</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;      <span class="keywordflow">if</span> (load) {</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;        set_s_register_from_sinteger(reg,</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;                                     ReadW(<span class="keyword">reinterpret_cast&lt;</span><a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a><span class="keyword">&gt;</span>(address)));</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;        WriteW(<span class="keyword">reinterpret_cast&lt;</span><a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a><span class="keyword">&gt;</span>(address),</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;               get_sinteger_from_s_register(reg));</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;      }</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;      address += 1;</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;      <span class="keywordflow">if</span> (load) {</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;        <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> data[] = {ReadW(<span class="keyword">reinterpret_cast&lt;</span><a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a><span class="keyword">&gt;</span>(address)),</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;                          ReadW(<span class="keyword">reinterpret_cast&lt;</span><a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a><span class="keyword">&gt;</span>(address + 1))};</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;        set_d_register(reg, <span class="keyword">reinterpret_cast&lt;</span>uint32_t*<span class="keyword">&gt;</span>(data));</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;        uint32_t data[2];</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;        get_d_register(reg, data);</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;        WriteW(<span class="keyword">reinterpret_cast&lt;</span><a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a><span class="keyword">&gt;</span>(address), data[0]);</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;        WriteW(<span class="keyword">reinterpret_cast&lt;</span><a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a><span class="keyword">&gt;</span>(address + 1), data[1]);</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;      }</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;      address += 2;</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;    }</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;  }</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<span class="keyword">reinterpret_cast&lt;</span>intptr_t<span class="keyword">&gt;</span>(address) - operand_size == end_address);</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;  <span class="keywordflow">if</span> (instr-&gt;HasW()) {</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;    set_register(instr-&gt;RnValue(), rn_val);</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;  }</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;}</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160; </div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;<span class="comment">// Calls into the V8 runtime are based on this very simple interface.</span></div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;<span class="comment">// Note: To be able to return two values from some calls the code in runtime.cc</span></div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;<span class="comment">// uses the ObjectPair which is essentially two 32-bit values stuffed into a</span></div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;<span class="comment">// 64-bit value. With the code below we assume that all runtime calls return</span></div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;<span class="comment">// 64 bits of result. If they don&#39;t, the r1 result register contains a bogus</span></div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;<span class="comment">// value, which is fine because it is caller-saved.</span></div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;<span class="keyword">using</span> SimulatorRuntimeCall = int64_t (*)(</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;    <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg0, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg1, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg2, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg3, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg4,</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;    <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg5, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg6, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg7, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg8, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg9,</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;    <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg10, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg11, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg12, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg13, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg14,</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;    <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg15, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg16, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg17, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg18, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg19);</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160; </div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;<span class="comment">// These prototypes handle the four types of FP calls.</span></div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;<span class="keyword">using</span> SimulatorRuntimeCompareCall = int64_t (*)(<span class="keywordtype">double</span> darg0, <span class="keywordtype">double</span> darg1);</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;<span class="keyword">using</span> SimulatorRuntimeFPFPCall = double (*)(<span class="keywordtype">double</span> darg0, <span class="keywordtype">double</span> darg1);</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;<span class="keyword">using</span> SimulatorRuntimeFPCall = double (*)(<span class="keywordtype">double</span> darg0);</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;<span class="keyword">using</span> SimulatorRuntimeFPIntCall = double (*)(<span class="keywordtype">double</span> darg0, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg0);</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;<span class="keyword">using</span> SimulatorRuntimeIntFPCall = <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> (*)(<span class="keywordtype">double</span> darg0);</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;<span class="comment">// Define four args for future flexibility; at the time of this writing only</span></div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;<span class="comment">// one is ever used.</span></div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;<span class="keyword">using</span> SimulatorRuntimeFPTaggedCall = double (*)(<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg0, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg1,</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;                                                <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg2, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg3);</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160; </div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;<span class="comment">// This signature supports direct call in to API function native callback</span></div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;<span class="comment">// (refer to InvocationCallback in v8.h).</span></div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;<span class="keyword">using</span> SimulatorRuntimeDirectApiCall = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> (*)(<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg0);</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160; </div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;<span class="comment">// This signature supports direct call to accessor getter callback.</span></div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;<span class="keyword">using</span> SimulatorRuntimeDirectGetterCall = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> (*)(<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg0, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg1);</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160; </div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;<span class="comment">// Separate for fine-grained UBSan blocklisting. Casting any given C++</span></div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;<span class="comment">// function to {SimulatorRuntimeCall} is undefined behavior; but since</span></div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;<span class="comment">// the target function can indeed be any function that&#39;s exposed via</span></div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;<span class="comment">// the &quot;fast C call&quot; mechanism, we can&#39;t reconstruct its signature here.</span></div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;int64_t UnsafeGenericFunctionCall(intptr_t <span class="keyword">function</span>, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg0, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg1,</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;                                  <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg2, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg3, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg4,</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;                                  <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg5, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg6, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg7,</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;                                  <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg8, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg9, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg10,</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;                                  <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg11, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg12, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg13,</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;                                  <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg14, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg15, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg16,</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;                                  <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg17, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg18, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg19) {</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;  SimulatorRuntimeCall target =</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span>SimulatorRuntimeCall<span class="keyword">&gt;</span>(<span class="keyword">function</span>);</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;  <span class="keywordflow">return</span> target(arg0, arg1, arg2, arg3, arg4, arg5, arg6, arg7, arg8, arg9,</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;                arg10, arg11, arg12, arg13, arg14, arg15, arg16, arg17, arg18,</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;                arg19);</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;}</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160; </div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;<span class="comment">// Software interrupt instructions are used by the simulator to call into the</span></div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;<span class="comment">// C-based V8 runtime.</span></div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;<span class="keywordtype">void</span> Simulator::SoftwareInterrupt(Instruction* instr) {</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;  <span class="keywordtype">int</span> svc = instr-&gt;SvcValue();</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;  <span class="keywordflow">switch</span> (svc) {</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a789d452d0e3d1bf6fa338365e7fdc7f2">kCallRtRedirected</a>: {</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;      <span class="comment">// Check if stack is aligned. Error if not aligned is reported below to</span></div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;      <span class="comment">// include information on the function called.</span></div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;      <span class="keywordtype">bool</span> stack_aligned =</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;          (get_register(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#acb72381f9ca78a1b2f55c6946e319a0f">sp</a>) &amp; (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.sim_stack_alignment - 1)) == 0;</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;      Redirection* redirection = Redirection::FromInstruction(instr);</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;      <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg0 = get_register(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a5e6d54ab8913c91a8b9c7cb23d23b241">r0</a>);</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;      <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg1 = get_register(r1);</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;      <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg2 = get_register(r2);</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;      <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg3 = get_register(r3);</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;      <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a>* stack_pointer = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a>*<span class="keyword">&gt;</span>(get_register(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#acb72381f9ca78a1b2f55c6946e319a0f">sp</a>));</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;      <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg4 = stack_pointer[0];</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;      <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg5 = stack_pointer[1];</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;      <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg6 = stack_pointer[2];</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;      <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg7 = stack_pointer[3];</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;      <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg8 = stack_pointer[4];</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;      <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg9 = stack_pointer[5];</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;      <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg10 = stack_pointer[6];</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;      <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg11 = stack_pointer[7];</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;      <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg12 = stack_pointer[8];</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;      <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg13 = stack_pointer[9];</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;      <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg14 = stack_pointer[10];</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;      <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg15 = stack_pointer[11];</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;      <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg16 = stack_pointer[12];</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;      <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg17 = stack_pointer[13];</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;      <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg18 = stack_pointer[14];</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;      <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> arg19 = stack_pointer[15];</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;      static_assert(<a class="code" href="namespacev8_1_1internal.html#a7dbb75f29f0db9e81bd5cbe7316b1604">kMaxCParameters</a> == 20);</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160; </div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;      <span class="keywordtype">bool</span> fp_call =</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;          (redirection-&gt;type() == ExternalReference::BUILTIN_FP_FP_CALL) ||</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;          (redirection-&gt;type() == ExternalReference::BUILTIN_COMPARE_CALL) ||</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;          (redirection-&gt;type() == ExternalReference::BUILTIN_FP_CALL) ||</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;          (redirection-&gt;type() == ExternalReference::BUILTIN_FP_INT_CALL) ||</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;          (redirection-&gt;type() == ExternalReference::BUILTIN_INT_FP_CALL);</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;      <span class="comment">// This is dodgy but it works because the C entry stubs are never moved.</span></div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;      <span class="comment">// See comment in codegen-arm.cc and bug 1242173.</span></div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;      <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> saved_lr = get_register(lr);</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;      intptr_t external =</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;          <span class="keyword">reinterpret_cast&lt;</span>intptr_t<span class="keyword">&gt;</span>(redirection-&gt;external_function());</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;      <span class="keywordflow">if</span> (fp_call) {</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;        <span class="keywordtype">double</span> dval0, dval1;  <span class="comment">// one or two double parameters</span></div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;        <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> ival;         <span class="comment">// zero or one integer parameters</span></div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;        int64_t iresult = 0;  <span class="comment">// integer return value</span></div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;        <span class="keywordtype">double</span> dresult = 0;   <span class="comment">// double return value</span></div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;        GetFpArgs(&amp;dval0, &amp;dval1, &amp;ival);</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;        <span class="keywordflow">if</span> (InstructionTracingEnabled() || !stack_aligned) {</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;          SimulatorRuntimeCall generic_target =</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;              <span class="keyword">reinterpret_cast&lt;</span>SimulatorRuntimeCall<span class="keyword">&gt;</span>(external);</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;          <span class="keywordflow">switch</span> (redirection-&gt;type()) {</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;            <span class="keywordflow">case</span> ExternalReference::BUILTIN_FP_FP_CALL:</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;            <span class="keywordflow">case</span> ExternalReference::BUILTIN_COMPARE_CALL:</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;              <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;Call to host function at %p with args %f, %f&quot;</span>,</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;                     <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(<a class="code" href="common_2globals_8h.html#aa5186b9fd6612bf591ba59464649200b">FUNCTION_ADDR</a>(generic_target)),</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;                     dval0, dval1);</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;            <span class="keywordflow">case</span> ExternalReference::BUILTIN_FP_CALL:</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;              <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;Call to host function at %p with arg %f&quot;</span>,</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;                     <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(<a class="code" href="common_2globals_8h.html#aa5186b9fd6612bf591ba59464649200b">FUNCTION_ADDR</a>(generic_target)),</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;                     dval0);</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;            <span class="keywordflow">case</span> ExternalReference::BUILTIN_FP_INT_CALL:</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;              <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;Call to host function at %p with args %f, %d&quot;</span>,</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;                     <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(<a class="code" href="common_2globals_8h.html#aa5186b9fd6612bf591ba59464649200b">FUNCTION_ADDR</a>(generic_target)),</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;                     dval0, ival);</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;            <span class="keywordflow">case</span> ExternalReference::BUILTIN_INT_FP_CALL:</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;              <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;Call to host function at %p with args %f&quot;</span>,</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;                     <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(<a class="code" href="common_2globals_8h.html#aa5186b9fd6612bf591ba59464649200b">FUNCTION_ADDR</a>(generic_target)),</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;                     dval0);</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;              <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;          }</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;          <span class="keywordflow">if</span> (!stack_aligned) {</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;            <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot; with unaligned stack %08x\n&quot;</span>, get_register(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#acb72381f9ca78a1b2f55c6946e319a0f">sp</a>));</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;          }</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;        }</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(stack_aligned);</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;        <span class="keywordflow">switch</span> (redirection-&gt;type()) {</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;          <span class="keywordflow">case</span> ExternalReference::BUILTIN_COMPARE_CALL: {</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;            SimulatorRuntimeCompareCall target =</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;                <span class="keyword">reinterpret_cast&lt;</span>SimulatorRuntimeCompareCall<span class="keyword">&gt;</span>(external);</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;            iresult = target(dval0, dval1);</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;            TrashCallerSaveRegisters();</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;            set_register(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a5e6d54ab8913c91a8b9c7cb23d23b241">r0</a>, <span class="keyword">static_cast&lt;</span><a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a><span class="keyword">&gt;</span>(iresult));</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;            set_register(r1, <span class="keyword">static_cast&lt;</span><a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a><span class="keyword">&gt;</span>(iresult &gt;&gt; 32));</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;          }</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;          <span class="keywordflow">case</span> ExternalReference::BUILTIN_FP_FP_CALL: {</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;            SimulatorRuntimeFPFPCall target =</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;                <span class="keyword">reinterpret_cast&lt;</span>SimulatorRuntimeFPFPCall<span class="keyword">&gt;</span>(external);</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;            dresult = target(dval0, dval1);</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;            TrashCallerSaveRegisters();</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;            SetFpResult(dresult);</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;          }</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;          <span class="keywordflow">case</span> ExternalReference::BUILTIN_FP_CALL: {</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;            SimulatorRuntimeFPCall target =</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;                <span class="keyword">reinterpret_cast&lt;</span>SimulatorRuntimeFPCall<span class="keyword">&gt;</span>(external);</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;            dresult = target(dval0);</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;            TrashCallerSaveRegisters();</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;            SetFpResult(dresult);</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;          }</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;          <span class="keywordflow">case</span> ExternalReference::BUILTIN_FP_INT_CALL: {</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;            SimulatorRuntimeFPIntCall target =</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;                <span class="keyword">reinterpret_cast&lt;</span>SimulatorRuntimeFPIntCall<span class="keyword">&gt;</span>(external);</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;            dresult = target(dval0, ival);</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;            TrashCallerSaveRegisters();</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;            SetFpResult(dresult);</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;          }</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;          <span class="keywordflow">case</span> ExternalReference::BUILTIN_INT_FP_CALL: {</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;            SimulatorRuntimeIntFPCall target =</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;                <span class="keyword">reinterpret_cast&lt;</span>SimulatorRuntimeIntFPCall<span class="keyword">&gt;</span>(external);</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;            iresult = target(dval0);</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;            TrashCallerSaveRegisters();</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;            set_register(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a5e6d54ab8913c91a8b9c7cb23d23b241">r0</a>, <span class="keyword">static_cast&lt;</span><a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a><span class="keyword">&gt;</span>(iresult));</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;          }</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;          <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;            <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;        }</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;        <span class="keywordflow">if</span> (InstructionTracingEnabled()) {</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;          <span class="keywordflow">switch</span> (redirection-&gt;type()) {</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;            <span class="keywordflow">case</span> ExternalReference::BUILTIN_COMPARE_CALL:</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;            <span class="keywordflow">case</span> ExternalReference::BUILTIN_INT_FP_CALL:</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;              <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;Returned %08x\n&quot;</span>, <span class="keyword">static_cast&lt;</span><a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a><span class="keyword">&gt;</span>(iresult));</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;            <span class="keywordflow">case</span> ExternalReference::BUILTIN_FP_FP_CALL:</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;            <span class="keywordflow">case</span> ExternalReference::BUILTIN_FP_CALL:</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;            <span class="keywordflow">case</span> ExternalReference::BUILTIN_FP_INT_CALL:</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;              <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;Returned %f\n&quot;</span>, dresult);</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;              <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;          }</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;        }</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (redirection-&gt;type() ==</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;                 ExternalReference::BUILTIN_FP_POINTER_CALL) {</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;        <span class="keywordflow">if</span> (InstructionTracingEnabled() || !stack_aligned) {</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;Call to host function at %p args %08x&quot;</span>,</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;                 <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(external), arg0);</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;          <span class="keywordflow">if</span> (!stack_aligned) {</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;            <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot; with unaligned stack %08x\n&quot;</span>, get_register(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#acb72381f9ca78a1b2f55c6946e319a0f">sp</a>));</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;          }</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;        }</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(stack_aligned);</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;        SimulatorRuntimeFPTaggedCall target =</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;            <span class="keyword">reinterpret_cast&lt;</span>SimulatorRuntimeFPTaggedCall<span class="keyword">&gt;</span>(external);</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;        <span class="keywordtype">double</span> dresult = target(arg0, arg1, arg2, arg3);</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;        TrashCallerSaveRegisters();</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;        SetFpResult(dresult);</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;        <span class="keywordflow">if</span> (InstructionTracingEnabled()) {</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;Returned %f\n&quot;</span>, dresult);</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;        }</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (redirection-&gt;type() == ExternalReference::DIRECT_API_CALL) {</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;        <span class="comment">// void f(v8::FunctionCallbackInfo&amp;)</span></div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;        <span class="keywordflow">if</span> (InstructionTracingEnabled() || !stack_aligned) {</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;Call to host function at %p args %08x&quot;</span>,</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;                 <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(external), arg0);</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;          <span class="keywordflow">if</span> (!stack_aligned) {</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;            <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot; with unaligned stack %08x\n&quot;</span>, get_register(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#acb72381f9ca78a1b2f55c6946e319a0f">sp</a>));</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;          }</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;        }</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(stack_aligned);</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;        SimulatorRuntimeDirectApiCall target =</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;            <span class="keyword">reinterpret_cast&lt;</span>SimulatorRuntimeDirectApiCall<span class="keyword">&gt;</span>(external);</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;        target(arg0);</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;        TrashCallerSaveRegisters();</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (redirection-&gt;type() == ExternalReference::DIRECT_GETTER_CALL) {</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;        <span class="comment">// void f(v8::Local&lt;String&gt; property, v8::PropertyCallbackInfo&amp; info)</span></div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;        <span class="keywordflow">if</span> (InstructionTracingEnabled() || !stack_aligned) {</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;Call to host function at %p args %08x %08x&quot;</span>,</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;                 <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(external), arg0, arg1);</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;          <span class="keywordflow">if</span> (!stack_aligned) {</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;            <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot; with unaligned stack %08x\n&quot;</span>, get_register(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#acb72381f9ca78a1b2f55c6946e319a0f">sp</a>));</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;          }</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;        }</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(stack_aligned);</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;        SimulatorRuntimeDirectGetterCall target =</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;            <span class="keyword">reinterpret_cast&lt;</span>SimulatorRuntimeDirectGetterCall<span class="keyword">&gt;</span>(external);</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;        target(arg0, arg1);</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;        TrashCallerSaveRegisters();</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;        <span class="comment">// builtin call.</span></div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;        <span class="comment">// FAST_C_CALL is temporarily handled here as well, because we lack</span></div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;        <span class="comment">// proper support for direct C calls with FP params in the simulator.</span></div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;        <span class="comment">// The generic BUILTIN_CALL path assumes all parameters are passed in</span></div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;        <span class="comment">// the GP registers, thus supporting calling the slow callback without</span></div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;        <span class="comment">// crashing. The reason for that is that in the mjsunit tests we check</span></div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;        <span class="comment">// the `fast_c_api.supports_fp_params` (which is false on non-simulator</span></div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;        <span class="comment">// builds for arm/arm64), thus we expect that the slow path will be</span></div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;        <span class="comment">// called. And since the slow path passes the arguments as a `const</span></div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;        <span class="comment">// FunctionCallbackInfo&lt;Value&gt;&amp;` (which is a GP argument), the call is</span></div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;        <span class="comment">// made correctly.</span></div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(redirection-&gt;type() == ExternalReference::BUILTIN_CALL ||</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;               redirection-&gt;type() == ExternalReference::BUILTIN_CALL_PAIR ||</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;               redirection-&gt;type() == ExternalReference::FAST_C_CALL);</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;        <span class="keywordflow">if</span> (InstructionTracingEnabled() || !stack_aligned) {</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;              <span class="stringliteral">&quot;Call to host function at %p &quot;</span></div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;              <span class="stringliteral">&quot;args %08x, %08x, %08x, %08x, %08x, %08x, %08x, %08x, %08x, &quot;</span></div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;              <span class="stringliteral">&quot;%08x, %08x, %08x, %08x, %08x, %08x, %08x, %08x, %08x, %08x, &quot;</span></div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;              <span class="stringliteral">&quot;%08x&quot;</span>,</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;              <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(external), arg0, arg1, arg2, arg3, arg4,</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;              arg5, arg6, arg7, arg8, arg9, arg10, arg11, arg12, arg13, arg14,</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;              arg15, arg16, arg17, arg18, arg19);</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;          <span class="keywordflow">if</span> (!stack_aligned) {</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;            <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot; with unaligned stack %08x\n&quot;</span>, get_register(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#acb72381f9ca78a1b2f55c6946e319a0f">sp</a>));</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;          }</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;        }</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(stack_aligned);</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;        int64_t <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = UnsafeGenericFunctionCall(</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;            external, arg0, arg1, arg2, arg3, arg4, arg5, arg6, arg7, arg8,</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;            arg9, arg10, arg11, arg12, arg13, arg14, arg15, arg16, arg17, arg18,</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;            arg19);</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;        TrashCallerSaveRegisters();</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;        <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> lo_res = <span class="keyword">static_cast&lt;</span><a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a><span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>);</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;        <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> hi_res = <span class="keyword">static_cast&lt;</span><a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a><span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> &gt;&gt; 32);</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;        <span class="keywordflow">if</span> (InstructionTracingEnabled()) {</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;Returned %08x\n&quot;</span>, lo_res);</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;        }</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;        set_register(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a5e6d54ab8913c91a8b9c7cb23d23b241">r0</a>, lo_res);</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;        set_register(r1, hi_res);</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;      }</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;      set_register(lr, saved_lr);</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;      set_pc(get_register(lr));</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;    }</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a619f42313106d5a8553ce2109e24195c">kBreakpoint</a>:</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;      ArmDebugger(<span class="keyword">this</span>).Debug();</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;    <span class="comment">// stop uses all codes greater than 1 &lt;&lt; 23.</span></div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;      <span class="keywordflow">if</span> (svc &gt;= (1 &lt;&lt; 23)) {</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;        uint32_t <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> = svc &amp; <a class="code" href="namespacev8_1_1internal.html#af7cc8d14710a0726228ca971d2cc21dd">kStopCodeMask</a>;</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;        <span class="keywordflow">if</span> (isWatchedStop(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>)) {</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;          IncreaseStopCounter(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>);</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;        }</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;        <span class="comment">// Stop if it is enabled, otherwise go on jumping over the stop</span></div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;        <span class="comment">// and the message address.</span></div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;        <span class="keywordflow">if</span> (isEnabledStop(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>)) {</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> != <a class="code" href="namespacev8_1_1internal.html#a38f28050fc11e6d66cbe32c2471a9bb2">kMaxStopCode</a>) {</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;            <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;Simulator hit stop %u. &quot;</span>, <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>);</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;            <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;Simulator hit stop. &quot;</span>);</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;          }</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;          DebugAtNextPC();</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;        }</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;        <span class="comment">// This is not a valid svc code.</span></div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;      }</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;  }</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;}</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160; </div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;<span class="keywordtype">float</span> Simulator::canonicalizeNaN(<span class="keywordtype">float</span> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>) {</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;  <span class="comment">// Default NaN value, see &quot;NaN handling&quot; in &quot;IEEE 754 standard implementation</span></div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;  <span class="comment">// choices&quot; of the ARM Reference Manual.</span></div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;  constexpr uint32_t kDefaultNaN = 0x7FC00000u;</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;  <span class="keywordflow">if</span> (FPSCR_default_NaN_mode_ &amp;&amp; std::isnan(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = base::bit_cast&lt;float&gt;(kDefaultNaN);</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;  }</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>;</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;}</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160; </div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;<a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ad5febe2686d18137d814eb2eac567073">Float32</a> Simulator::canonicalizeNaN(<a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ad5febe2686d18137d814eb2eac567073">Float32</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>) {</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;  <span class="comment">// Default NaN value, see &quot;NaN handling&quot; in &quot;IEEE 754 standard implementation</span></div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;  <span class="comment">// choices&quot; of the ARM Reference Manual.</span></div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;  constexpr <a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ad5febe2686d18137d814eb2eac567073">Float32</a> kDefaultNaN = Float32::FromBits(0x7FC00000u);</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;  <span class="keywordflow">return</span> FPSCR_default_NaN_mode_ &amp;&amp; <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>.is_nan() ? kDefaultNaN : <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>;</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;}</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160; </div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;<span class="keywordtype">double</span> Simulator::canonicalizeNaN(<span class="keywordtype">double</span> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>) {</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;  <span class="comment">// Default NaN value, see &quot;NaN handling&quot; in &quot;IEEE 754 standard implementation</span></div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;  <span class="comment">// choices&quot; of the ARM Reference Manual.</span></div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;  constexpr uint64_t kDefaultNaN = uint64_t{0x7FF8000000000000};</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;  <span class="keywordflow">if</span> (FPSCR_default_NaN_mode_ &amp;&amp; std::isnan(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = base::bit_cast&lt;double&gt;(kDefaultNaN);</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;  }</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>;</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;}</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160; </div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;<a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#a208899e03c80ce1b3a5e7cd180efe5da">Float64</a> Simulator::canonicalizeNaN(<a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#a208899e03c80ce1b3a5e7cd180efe5da">Float64</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>) {</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;  <span class="comment">// Default NaN value, see &quot;NaN handling&quot; in &quot;IEEE 754 standard implementation</span></div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;  <span class="comment">// choices&quot; of the ARM Reference Manual.</span></div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;  constexpr <a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#a208899e03c80ce1b3a5e7cd180efe5da">Float64</a> kDefaultNaN =</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;      Float64::FromBits(uint64_t{0x7FF8000000000000});</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;  <span class="keywordflow">return</span> FPSCR_default_NaN_mode_ &amp;&amp; <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>.is_nan() ? kDefaultNaN : <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>;</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;}</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160; </div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;<span class="comment">// Stop helper functions.</span></div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;<span class="keywordtype">bool</span> Simulator::isWatchedStop(uint32_t <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>) {</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>, <a class="code" href="namespacev8_1_1internal.html#a38f28050fc11e6d66cbe32c2471a9bb2">kMaxStopCode</a>);</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> &lt; kNumOfWatchedStops;</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;}</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160; </div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;<span class="keywordtype">bool</span> Simulator::isEnabledStop(uint32_t <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>) {</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>, <a class="code" href="namespacev8_1_1internal.html#a38f28050fc11e6d66cbe32c2471a9bb2">kMaxStopCode</a>);</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;  <span class="comment">// Unwatched stops are always enabled.</span></div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;  <span class="keywordflow">return</span> !isWatchedStop(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>) ||</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;         !(watched_stops_[<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>].count &amp; kStopDisabledBit);</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;}</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160; </div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;<span class="keywordtype">void</span> Simulator::EnableStop(uint32_t <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>) {</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(isWatchedStop(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>));</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;  <span class="keywordflow">if</span> (!isEnabledStop(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>)) {</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;    watched_stops_[<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>].count &amp;= ~kStopDisabledBit;</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;  }</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;}</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160; </div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;<span class="keywordtype">void</span> Simulator::DisableStop(uint32_t <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>) {</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(isWatchedStop(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>));</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;  <span class="keywordflow">if</span> (isEnabledStop(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>)) {</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;    watched_stops_[<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>].count |= kStopDisabledBit;</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;  }</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;}</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160; </div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;<span class="keywordtype">void</span> Simulator::IncreaseStopCounter(uint32_t <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>) {</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>, <a class="code" href="namespacev8_1_1internal.html#a38f28050fc11e6d66cbe32c2471a9bb2">kMaxStopCode</a>);</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(isWatchedStop(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>));</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;  <span class="keywordflow">if</span> ((watched_stops_[<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>].count &amp; ~(1 &lt;&lt; 31)) == 0x7FFFFFFF) {</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;        <span class="stringliteral">&quot;Stop counter for code %i has overflowed.\n&quot;</span></div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;        <span class="stringliteral">&quot;Enabling this code and reseting the counter to 0.\n&quot;</span>,</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;        <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>);</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;    watched_stops_[<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>].count = 0;</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;    EnableStop(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>);</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;    watched_stops_[<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>].count++;</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;  }</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;}</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160; </div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;<span class="comment">// Print a stop status.</span></div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;<span class="keywordtype">void</span> Simulator::PrintStopInfo(uint32_t <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>) {</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>, <a class="code" href="namespacev8_1_1internal.html#a38f28050fc11e6d66cbe32c2471a9bb2">kMaxStopCode</a>);</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;  <span class="keywordflow">if</span> (!isWatchedStop(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>)) {</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;Stop not watched.&quot;</span>);</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>* state = isEnabledStop(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>) ? <span class="stringliteral">&quot;Enabled&quot;</span> : <span class="stringliteral">&quot;Disabled&quot;</span>;</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;    <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> count = watched_stops_[<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>].count &amp; ~kStopDisabledBit;</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;    <span class="comment">// Don&#39;t print the state of unused breakpoints.</span></div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;    <span class="keywordflow">if</span> (count != 0) {</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;      <span class="keywordflow">if</span> (watched_stops_[<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>].desc) {</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;stop %i - 0x%x: \t%s, \tcounter = %i, \t%s\n&quot;</span>, <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>, <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>,</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;               state, count, watched_stops_[<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>].desc);</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;stop %i - 0x%x: \t%s, \tcounter = %i\n&quot;</span>, <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>, <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>, state,</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;               count);</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;      }</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;    }</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;  }</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;}</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160; </div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;<span class="comment">// Handle execution based on instruction types.</span></div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160; </div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;<span class="comment">// Instruction types 0 and 1 are both rolled into one function because they</span></div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;<span class="comment">// only differ in the handling of the shifter_operand.</span></div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;<span class="keywordtype">void</span> Simulator::DecodeType01(Instruction* instr) {</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = instr-&gt;TypeValue();</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> == 0) &amp;&amp; instr-&gt;IsSpecialType0()) {</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;    <span class="comment">// multiply instruction or extra loads and stores</span></div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;    <span class="keywordflow">if</span> (instr-&gt;Bits(7, 4) == 9) {</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;      <span class="keywordflow">if</span> (instr-&gt;Bit(24) == 0) {</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;        <span class="comment">// Raw field decoding here. Multiply instructions have their Rd in</span></div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;        <span class="comment">// funny places.</span></div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;        <span class="keywordtype">int</span> rn = instr-&gt;RnValue();</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;        <span class="keywordtype">int</span> rm = instr-&gt;RmValue();</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;        <span class="keywordtype">int</span> rs = instr-&gt;RsValue();</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;        <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> rs_val = get_register(rs);</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;        <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> rm_val = get_register(rm);</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;        <span class="keywordflow">if</span> (instr-&gt;Bit(23) == 0) {</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;          <span class="keywordflow">if</span> (instr-&gt;Bit(21) == 0) {</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;            <span class="comment">// The MUL instruction description (A 4.1.33) refers to Rd as being</span></div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;            <span class="comment">// the destination for the operation, but it confusingly uses the</span></div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;            <span class="comment">// Rn field to encode it.</span></div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;            <span class="comment">// Format(instr, &quot;mul&#39;cond&#39;s &#39;rn, &#39;rm, &#39;rs&quot;);</span></div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;            <span class="keywordtype">int</span> rd = rn;  <span class="comment">// Remap the rn field to the Rd register.</span></div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;            <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> alu_out = <a class="code" href="namespacev8_1_1base.html#a1e1586adb8557f6ed739eb471ed9152e">base::MulWithWraparound</a>(rm_val, rs_val);</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;            set_register(rd, alu_out);</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;            <span class="keywordflow">if</span> (instr-&gt;HasS()) {</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;              SetNZFlags(alu_out);</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;            }</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;            <span class="keywordtype">int</span> rd = instr-&gt;RdValue();</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;            <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> acc_value = get_register(rd);</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;            <span class="keywordflow">if</span> (instr-&gt;Bit(22) == 0) {</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;              <span class="comment">// The MLA instruction description (A 4.1.28) refers to the order</span></div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;              <span class="comment">// of registers as &quot;Rd, Rm, Rs, Rn&quot;. But confusingly it uses the</span></div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;              <span class="comment">// Rn field to encode the Rd register and the Rd field to encode</span></div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;              <span class="comment">// the Rn register.</span></div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;              <span class="comment">// Format(instr, &quot;mla&#39;cond&#39;s &#39;rn, &#39;rm, &#39;rs, &#39;rd&quot;);</span></div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;              <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> mul_out = <a class="code" href="namespacev8_1_1base.html#a1e1586adb8557f6ed739eb471ed9152e">base::MulWithWraparound</a>(rm_val, rs_val);</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;              <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = base::AddWithWraparound(acc_value, mul_out);</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;              set_register(rn, <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>);</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;              <span class="comment">// Format(instr, &quot;mls&#39;cond&#39;s &#39;rn, &#39;rm, &#39;rs, &#39;rd&quot;);</span></div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;              <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> mul_out = <a class="code" href="namespacev8_1_1base.html#a1e1586adb8557f6ed739eb471ed9152e">base::MulWithWraparound</a>(rm_val, rs_val);</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;              <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = base::SubWithWraparound(acc_value, mul_out);</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;              set_register(rn, <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>);</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;            }</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;          }</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;          <span class="comment">// The signed/long multiply instructions use the terms RdHi and RdLo</span></div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;          <span class="comment">// when referring to the target registers. They are mapped to the Rn</span></div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;          <span class="comment">// and Rd fields as follows:</span></div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;          <span class="comment">// RdLo == Rd</span></div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;          <span class="comment">// RdHi == Rn (This is confusingly stored in variable rd here</span></div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;          <span class="comment">//             because the mul instruction from above uses the</span></div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;          <span class="comment">//             Rn field to encode the Rd register. Good luck figuring</span></div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;          <span class="comment">//             this out without reading the ARM instruction manual</span></div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;          <span class="comment">//             at a very detailed level.)</span></div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;          <span class="comment">// Format(instr, &quot;&#39;um&#39;al&#39;cond&#39;s &#39;rd, &#39;rn, &#39;rs, &#39;rm&quot;);</span></div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;          <span class="keywordtype">int</span> rd_hi = rn;  <span class="comment">// Remap the rn field to the RdHi register.</span></div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;          <span class="keywordtype">int</span> rd_lo = instr-&gt;RdValue();</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;          <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> hi_res = 0;</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;          <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> lo_res = 0;</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;          <span class="keywordflow">if</span> (instr-&gt;Bit(22) == 1) {</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;            int64_t left_op = <span class="keyword">static_cast&lt;</span><a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a><span class="keyword">&gt;</span>(rm_val);</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;            int64_t right_op = <span class="keyword">static_cast&lt;</span><a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a><span class="keyword">&gt;</span>(rs_val);</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;            uint64_t <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = left_op * right_op;</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;            hi_res = <span class="keyword">static_cast&lt;</span><a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a><span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> &gt;&gt; 32);</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;            lo_res = <span class="keyword">static_cast&lt;</span><a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a><span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> &amp; 0xFFFFFFFF);</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;            <span class="comment">// unsigned multiply</span></div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;            uint64_t left_op = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(rm_val);</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;            uint64_t right_op = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(rs_val);</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;            uint64_t <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = left_op * right_op;</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;            hi_res = <span class="keyword">static_cast&lt;</span><a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a><span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> &gt;&gt; 32);</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;            lo_res = <span class="keyword">static_cast&lt;</span><a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a><span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> &amp; 0xFFFFFFFF);</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;          }</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;          set_register(rd_lo, lo_res);</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;          set_register(rd_hi, hi_res);</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;          <span class="keywordflow">if</span> (instr-&gt;HasS()) {</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;            <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;          }</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;        }</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;        <span class="keywordflow">if</span> (instr-&gt;Bits(24, 23) == 3) {</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;          <span class="keywordflow">if</span> (instr-&gt;Bit(20) == 1) {</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;            <span class="comment">// ldrex</span></div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;            <span class="keywordtype">int</span> rt = instr-&gt;RtValue();</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;            <span class="keywordtype">int</span> rn = instr-&gt;RnValue();</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;            <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> addr = get_register(rn);</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;            <span class="keywordflow">switch</span> (instr-&gt;Bits(22, 21)) {</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;              <span class="keywordflow">case</span> 0: {</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;                <span class="comment">// Format(instr, &quot;ldrex&#39;cond &#39;rt, [&#39;rn]&quot;);</span></div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;                <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = ReadExW(addr);</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;                set_register(rt, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;              }</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;              <span class="keywordflow">case</span> 1: {</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;                <span class="comment">// Format(instr, &quot;ldrexd&#39;cond &#39;rt, [&#39;rn]&quot;);</span></div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;                <span class="keywordtype">int</span>* rn_data = ReadExDW(addr);</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;                set_dw_register(rt, rn_data);</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;              }</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;              <span class="keywordflow">case</span> 2: {</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;                <span class="comment">// Format(instr, &quot;ldrexb&#39;cond &#39;rt, [&#39;rn]&quot;);</span></div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;                uint8_t <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = ReadExBU(addr);</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;                set_register(rt, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;              }</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;              <span class="keywordflow">case</span> 3: {</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;                <span class="comment">// Format(instr, &quot;ldrexh&#39;cond &#39;rt, [&#39;rn]&quot;);</span></div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;                <a class="code" href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">uint16_t</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = ReadExHU(addr);</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;                set_register(rt, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;              }</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;              <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;                <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;            }</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;            <span class="comment">// The instruction is documented as strex rd, rt, [rn], but the</span></div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;            <span class="comment">// &quot;rt&quot; register is using the rm bits.</span></div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;            <span class="keywordtype">int</span> rd = instr-&gt;RdValue();</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;            <span class="keywordtype">int</span> rt = instr-&gt;RmValue();</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;            <span class="keywordtype">int</span> rn = instr-&gt;RnValue();</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;            <a class="code" href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(rd, rn);</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;            <a class="code" href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(rd, rt);</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;            <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> addr = get_register(rn);</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;            <span class="keywordflow">switch</span> (instr-&gt;Bits(22, 21)) {</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;              <span class="keywordflow">case</span> 0: {</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;                <span class="comment">// Format(instr, &quot;strex&#39;cond &#39;rd, &#39;rm, [&#39;rn]&quot;);</span></div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;                <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = get_register(rt);</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;                <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#af04f4104c077ccbaef7596e23816a254">status</a> = WriteExW(addr, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;                set_register(rd, <a class="code" href="namespacev8_1_1internal.html#af04f4104c077ccbaef7596e23816a254">status</a>);</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;              }</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;              <span class="keywordflow">case</span> 1: {</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;                <span class="comment">// Format(instr, &quot;strexd&#39;cond &#39;rd, &#39;rm, [&#39;rn]&quot;);</span></div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;                <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(rt % 2, 0);</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;                <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> value1 = get_register(rt);</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;                <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> value2 = get_register(rt + 1);</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;                <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#af04f4104c077ccbaef7596e23816a254">status</a> = WriteExDW(addr, value1, value2);</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;                set_register(rd, <a class="code" href="namespacev8_1_1internal.html#af04f4104c077ccbaef7596e23816a254">status</a>);</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;              }</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;              <span class="keywordflow">case</span> 2: {</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;                <span class="comment">// Format(instr, &quot;strexb&#39;cond &#39;rd, &#39;rm, [&#39;rn]&quot;);</span></div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;                uint8_t <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = get_register(rt);</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;                <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#af04f4104c077ccbaef7596e23816a254">status</a> = WriteExB(addr, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;                set_register(rd, <a class="code" href="namespacev8_1_1internal.html#af04f4104c077ccbaef7596e23816a254">status</a>);</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;              }</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;              <span class="keywordflow">case</span> 3: {</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;                <span class="comment">// Format(instr, &quot;strexh&#39;cond &#39;rd, &#39;rm, [&#39;rn]&quot;);</span></div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;                <a class="code" href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">uint16_t</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = get_register(rt);</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;                <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#af04f4104c077ccbaef7596e23816a254">status</a> = WriteExH(addr, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;                set_register(rd, <a class="code" href="namespacev8_1_1internal.html#af04f4104c077ccbaef7596e23816a254">status</a>);</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;              }</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;              <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;                <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;            }</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;          }</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();  <span class="comment">// Not used by V8.</span></div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;        }</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;      }</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;      <span class="comment">// extra load/store instructions</span></div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;      <span class="keywordtype">int</span> rd = instr-&gt;RdValue();</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;      <span class="keywordtype">int</span> rn = instr-&gt;RnValue();</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;      <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> rn_val = get_register(rn);</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;      <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> addr = 0;</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;      <span class="keywordflow">if</span> (instr-&gt;Bit(22) == 0) {</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;        <span class="keywordtype">int</span> rm = instr-&gt;RmValue();</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;        <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> rm_val = get_register(rm);</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;        <span class="keywordflow">switch</span> (instr-&gt;PUField()) {</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a84522852454ffb8c61432c630b924324">da_x</a>: {</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;            <span class="comment">// Format(instr, &quot;&#39;memop&#39;cond&#39;sign&#39;h &#39;rd, [&#39;rn], -&#39;rm&quot;);</span></div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;            <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!instr-&gt;HasW());</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;            addr = rn_val;</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;            rn_val = base::SubWithWraparound(rn_val, rm_val);</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;            set_register(rn, rn_val);</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;          }</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a11888bd362dc923f33f456ad1bb613be">ia_x</a>: {</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;            <span class="comment">// Format(instr, &quot;&#39;memop&#39;cond&#39;sign&#39;h &#39;rd, [&#39;rn], +&#39;rm&quot;);</span></div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;            <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!instr-&gt;HasW());</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;            addr = rn_val;</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;            rn_val = base::AddWithWraparound(rn_val, rm_val);</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;            set_register(rn, rn_val);</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;          }</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a299077ba9d3c66b2a985c37cee391e56">db_x</a>: {</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;            <span class="comment">// Format(instr, &quot;&#39;memop&#39;cond&#39;sign&#39;h &#39;rd, [&#39;rn, -&#39;rm]&#39;w&quot;);</span></div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;            rn_val = base::SubWithWraparound(rn_val, rm_val);</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;            addr = rn_val;</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;            <span class="keywordflow">if</span> (instr-&gt;HasW()) {</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;              set_register(rn, rn_val);</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;            }</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;          }</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#af0dab10b381e1e2174327481108e625c">ib_x</a>: {</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;            <span class="comment">// Format(instr, &quot;&#39;memop&#39;cond&#39;sign&#39;h &#39;rd, [&#39;rn, +&#39;rm]&#39;w&quot;);</span></div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;            rn_val = base::AddWithWraparound(rn_val, rm_val);</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;            addr = rn_val;</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;            <span class="keywordflow">if</span> (instr-&gt;HasW()) {</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;              set_register(rn, rn_val);</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;            }</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;          }</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;          <span class="keywordflow">default</span>: {</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;            <span class="comment">// The PU field is a 2-bit field.</span></div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;            <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;          }</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;        }</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;        <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> imm_val = (instr-&gt;ImmedHValue() &lt;&lt; 4) | instr-&gt;ImmedLValue();</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;        <span class="keywordflow">switch</span> (instr-&gt;PUField()) {</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a84522852454ffb8c61432c630b924324">da_x</a>: {</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;            <span class="comment">// Format(instr, &quot;&#39;memop&#39;cond&#39;sign&#39;h &#39;rd, [&#39;rn], #-&#39;off8&quot;);</span></div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;            <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!instr-&gt;HasW());</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;            addr = rn_val;</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;            rn_val = base::SubWithWraparound(rn_val, imm_val);</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;            set_register(rn, rn_val);</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;          }</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a11888bd362dc923f33f456ad1bb613be">ia_x</a>: {</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;            <span class="comment">// Format(instr, &quot;&#39;memop&#39;cond&#39;sign&#39;h &#39;rd, [&#39;rn], #+&#39;off8&quot;);</span></div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;            <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!instr-&gt;HasW());</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;            addr = rn_val;</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;            rn_val = base::AddWithWraparound(rn_val, imm_val);</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;            set_register(rn, rn_val);</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;          }</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a299077ba9d3c66b2a985c37cee391e56">db_x</a>: {</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;            <span class="comment">// Format(instr, &quot;&#39;memop&#39;cond&#39;sign&#39;h &#39;rd, [&#39;rn, #-&#39;off8]&#39;w&quot;);</span></div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;            rn_val = base::SubWithWraparound(rn_val, imm_val);</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;            addr = rn_val;</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;            <span class="keywordflow">if</span> (instr-&gt;HasW()) {</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;              set_register(rn, rn_val);</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;            }</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;          }</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#af0dab10b381e1e2174327481108e625c">ib_x</a>: {</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;            <span class="comment">// Format(instr, &quot;&#39;memop&#39;cond&#39;sign&#39;h &#39;rd, [&#39;rn, #+&#39;off8]&#39;w&quot;);</span></div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;            rn_val = base::AddWithWraparound(rn_val, imm_val);</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;            addr = rn_val;</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;            <span class="keywordflow">if</span> (instr-&gt;HasW()) {</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;              set_register(rn, rn_val);</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;            }</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;          }</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;          <span class="keywordflow">default</span>: {</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;            <span class="comment">// The PU field is a 2-bit field.</span></div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;            <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;          }</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;        }</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;      }</div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;      <span class="keywordflow">if</span> (((instr-&gt;Bits(7, 4) &amp; 0xD) == 0xD) &amp;&amp; (instr-&gt;Bit(20) == 0)) {</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(rd % 2, 0);</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;        <span class="keywordflow">if</span> (instr-&gt;HasH()) {</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;          <span class="comment">// The strd instruction.</span></div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;          <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> value1 = get_register(rd);</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;          <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> value2 = get_register(rd + 1);</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;          WriteDW(addr, value1, value2);</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;          <span class="comment">// The ldrd instruction.</span></div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;          <span class="keywordtype">int</span>* rn_data = ReadDW(addr);</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;          set_dw_register(rd, rn_data);</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;        }</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (instr-&gt;HasH()) {</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;        <span class="keywordflow">if</span> (instr-&gt;HasSign()) {</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;          <span class="keywordflow">if</span> (instr-&gt;HasL()) {</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;            <a class="code" href="namespaceunibrow.html#a511cc0636aed6a00d37d3e7cc0ec4e7c">int16_t</a> val = ReadH(addr);</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;            set_register(rd, val);</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;            <a class="code" href="namespaceunibrow.html#a511cc0636aed6a00d37d3e7cc0ec4e7c">int16_t</a> val = get_register(rd);</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;            WriteH(addr, val);</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;          }</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;          <span class="keywordflow">if</span> (instr-&gt;HasL()) {</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;            <a class="code" href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">uint16_t</a> val = ReadHU(addr);</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;            set_register(rd, val);</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;            <a class="code" href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">uint16_t</a> val = get_register(rd);</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;            WriteH(addr, val);</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;          }</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;        }</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;        <span class="comment">// signed byte loads</span></div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(instr-&gt;HasSign());</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(instr-&gt;HasL());</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;        int8_t val = ReadB(addr);</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;        set_register(rd, val);</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;      }</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;    }</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> == 0) &amp;&amp; instr-&gt;IsMiscType0()) {</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;    <span class="keywordflow">if</span> ((instr-&gt;Bits(27, 23) == 2) &amp;&amp; (instr-&gt;Bits(21, 20) == 2) &amp;&amp;</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;        (instr-&gt;Bits(15, 4) == 0xF00)) {</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;      <span class="comment">// MSR</span></div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;      <span class="keywordtype">int</span> rm = instr-&gt;RmValue();</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(pc, rm);  <span class="comment">// UNPREDICTABLE</span></div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a4c76e57483d6c39606703f6d6dde2855">SRegisterFieldMask</a> sreg_and_mask =</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;          instr-&gt;BitField(22, 22) | instr-&gt;BitField(19, 16);</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;      SetSpecialRegister(sreg_and_mask, get_register(rm));</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((instr-&gt;Bits(27, 23) == 2) &amp;&amp; (instr-&gt;Bits(21, 20) == 0) &amp;&amp;</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;               (instr-&gt;Bits(11, 0) == 0)) {</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;      <span class="comment">// MRS</span></div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;      <span class="keywordtype">int</span> rd = instr-&gt;RdValue();</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(pc, rd);  <span class="comment">// UNPREDICTABLE</span></div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a9f51c4d0eb075544675ae07126f64d21">SRegister</a> sreg = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacev8_1_1internal.html#a9f51c4d0eb075544675ae07126f64d21">SRegister</a><span class="keyword">&gt;</span>(instr-&gt;BitField(22, 22));</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;      set_register(rd, GetFromSpecialRegister(sreg));</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (instr-&gt;Bits(22, 21) == 1) {</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;      <span class="keywordtype">int</span> rm = instr-&gt;RmValue();</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;      <span class="keywordflow">switch</span> (instr-&gt;BitField(7, 4)) {</div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#adf37e425e8cd61ae876401cb02e35217">BX</a>:</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;          set_pc(get_register(rm));</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#aa1c02fb24613b6a85bf4765d5b85ceef">BLX</a>: {</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;          uint32_t old_pc = get_pc();</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;          set_pc(get_register(rm));</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;          set_register(lr, old_pc + <a class="code" href="namespacev8_1_1internal.html#ac915558733f2fceaec1860dd81c6df7f">kInstrSize</a>);</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;        }</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a5c0638f3b3fdf18fbc60bccb48ed4f07">BKPT</a>:</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;Simulator hit BKPT. &quot;</span>);</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;          DebugAtNextPC();</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;      }</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (instr-&gt;Bits(22, 21) == 3) {</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;      <span class="keywordtype">int</span> rm = instr-&gt;RmValue();</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;      <span class="keywordtype">int</span> rd = instr-&gt;RdValue();</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;      <span class="keywordflow">switch</span> (instr-&gt;BitField(7, 4)) {</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a06c0f145c4353404a07cd9a6678e1e78">CLZ</a>: {</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;          uint32_t bits = get_register(rm);</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;          <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1base.html#a8bf7cd00d7b4f4dcbdf94d920cc6575b">leading_zeros</a> = 0;</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;          <span class="keywordflow">if</span> (bits == 0) {</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;            <a class="code" href="namespacev8_1_1base.html#a8bf7cd00d7b4f4dcbdf94d920cc6575b">leading_zeros</a> = 32;</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;            <span class="keywordflow">while</span> ((bits &amp; 0x80000000u) == 0) {</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;              bits &lt;&lt;= 1;</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;              <a class="code" href="namespacev8_1_1base.html#a8bf7cd00d7b4f4dcbdf94d920cc6575b">leading_zeros</a>++;</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;            }</div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;          }</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;          set_register(rd, <a class="code" href="namespacev8_1_1base.html#a8bf7cd00d7b4f4dcbdf94d920cc6575b">leading_zeros</a>);</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;        }</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;      }</div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;%08x\n&quot;</span>, instr-&gt;InstructionBits());</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;    }</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> == 1) &amp;&amp; instr-&gt;IsNopLikeType1()) {</div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;    <span class="keywordflow">if</span> (instr-&gt;BitField(7, 0) == 0) {</div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;      <span class="comment">// NOP.</span></div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (instr-&gt;BitField(7, 0) == 20) {</div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;      <span class="comment">// CSDB.</span></div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;%08x\n&quot;</span>, instr-&gt;InstructionBits());</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;    }</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;    <span class="keywordtype">int</span> rd = instr-&gt;RdValue();</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;    <span class="keywordtype">int</span> rn = instr-&gt;RnValue();</div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;    <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> rn_val = get_register(rn);</div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;    <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> shifter_operand = 0;</div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;    <span class="keywordtype">bool</span> shifter_carry_out = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> == 0) {</div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;      shifter_operand = GetShiftRm(instr, &amp;shifter_carry_out);</div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(instr-&gt;TypeValue(), 1);</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;      shifter_operand = GetImm(instr, &amp;shifter_carry_out);</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;    }</div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;    <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> alu_out;</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160; </div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;    <span class="keywordflow">switch</span> (instr-&gt;OpcodeField()) {</div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a13b463e72e857176eb2bb2c05a20a6e7">AND</a>: {</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;        <span class="comment">// Format(instr, &quot;and&#39;cond&#39;s &#39;rd, &#39;rn, &#39;shift_rm&quot;);</span></div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;        <span class="comment">// Format(instr, &quot;and&#39;cond&#39;s &#39;rd, &#39;rn, &#39;imm&quot;);</span></div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;        alu_out = rn_val &amp; shifter_operand;</div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;        set_register(rd, alu_out);</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;        <span class="keywordflow">if</span> (instr-&gt;HasS()) {</div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;          SetNZFlags(alu_out);</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;          SetCFlag(shifter_carry_out);</div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;        }</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;      }</div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160; </div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#ad2f7c070bd7891bb4de30985b7ddc790">EOR</a>: {</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;        <span class="comment">// Format(instr, &quot;eor&#39;cond&#39;s &#39;rd, &#39;rn, &#39;shift_rm&quot;);</span></div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;        <span class="comment">// Format(instr, &quot;eor&#39;cond&#39;s &#39;rd, &#39;rn, &#39;imm&quot;);</span></div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;        alu_out = rn_val ^ shifter_operand;</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;        set_register(rd, alu_out);</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;        <span class="keywordflow">if</span> (instr-&gt;HasS()) {</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;          SetNZFlags(alu_out);</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;          SetCFlag(shifter_carry_out);</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;        }</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;      }</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160; </div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#ab091f89ccb97c1b9bbe0f5ba2d02b856">SUB</a>: {</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;        <span class="comment">// Format(instr, &quot;sub&#39;cond&#39;s &#39;rd, &#39;rn, &#39;shift_rm&quot;);</span></div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;        <span class="comment">// Format(instr, &quot;sub&#39;cond&#39;s &#39;rd, &#39;rn, &#39;imm&quot;);</span></div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;        alu_out = base::SubWithWraparound(rn_val, shifter_operand);</div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;        set_register(rd, alu_out);</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;        <span class="keywordflow">if</span> (instr-&gt;HasS()) {</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;          SetNZFlags(alu_out);</div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;          SetCFlag(!BorrowFrom(rn_val, shifter_operand));</div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;          SetVFlag(OverflowFrom(alu_out, rn_val, shifter_operand, <span class="keyword">false</span>));</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;        }</div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;      }</div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160; </div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#adb57ffb4347fa5107e9da4a9b2ed6fc0">RSB</a>: {</div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;        <span class="comment">// Format(instr, &quot;rsb&#39;cond&#39;s &#39;rd, &#39;rn, &#39;shift_rm&quot;);</span></div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;        <span class="comment">// Format(instr, &quot;rsb&#39;cond&#39;s &#39;rd, &#39;rn, &#39;imm&quot;);</span></div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;        alu_out = base::SubWithWraparound(shifter_operand, rn_val);</div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;        set_register(rd, alu_out);</div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;        <span class="keywordflow">if</span> (instr-&gt;HasS()) {</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;          SetNZFlags(alu_out);</div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;          SetCFlag(!BorrowFrom(shifter_operand, rn_val));</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;          SetVFlag(OverflowFrom(alu_out, shifter_operand, rn_val, <span class="keyword">false</span>));</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;        }</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;      }</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160; </div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a056376090775a616a6899356bb607e8c">ADD</a>: {</div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;        <span class="comment">// Format(instr, &quot;add&#39;cond&#39;s &#39;rd, &#39;rn, &#39;shift_rm&quot;);</span></div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;        <span class="comment">// Format(instr, &quot;add&#39;cond&#39;s &#39;rd, &#39;rn, &#39;imm&quot;);</span></div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;        alu_out = base::AddWithWraparound(rn_val, shifter_operand);</div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;        set_register(rd, alu_out);</div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;        <span class="keywordflow">if</span> (instr-&gt;HasS()) {</div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;          SetNZFlags(alu_out);</div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;          SetCFlag(CarryFrom(rn_val, shifter_operand));</div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;          SetVFlag(OverflowFrom(alu_out, rn_val, shifter_operand, <span class="keyword">true</span>));</div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;        }</div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;      }</div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160; </div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#acc6b3f72193644afebe2feedf6bff8e7">ADC</a>: {</div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;        <span class="comment">// Format(instr, &quot;adc&#39;cond&#39;s &#39;rd, &#39;rn, &#39;shift_rm&quot;);</span></div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;        <span class="comment">// Format(instr, &quot;adc&#39;cond&#39;s &#39;rd, &#39;rn, &#39;imm&quot;);</span></div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;        alu_out = base::AddWithWraparound(</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;            base::AddWithWraparound(rn_val, shifter_operand), GetCarry());</div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;        set_register(rd, alu_out);</div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;        <span class="keywordflow">if</span> (instr-&gt;HasS()) {</div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;          SetNZFlags(alu_out);</div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;          SetCFlag(CarryFrom(rn_val, shifter_operand, GetCarry()));</div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;          SetVFlag(OverflowFrom(alu_out, rn_val, shifter_operand, <span class="keyword">true</span>));</div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;        }</div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;      }</div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160; </div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a78d12ce59fd0fda921537bf154ec1853">SBC</a>: {</div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;        <span class="comment">//        Format(instr, &quot;sbc&#39;cond&#39;s &#39;rd, &#39;rn, &#39;shift_rm&quot;);</span></div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;        <span class="comment">//        Format(instr, &quot;sbc&#39;cond&#39;s &#39;rd, &#39;rn, &#39;imm&quot;);</span></div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;        alu_out = base::SubWithWraparound(</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;            base::SubWithWraparound(rn_val, shifter_operand),</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;            (GetCarry() ? 0 : 1));</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;        set_register(rd, alu_out);</div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;        <span class="keywordflow">if</span> (instr-&gt;HasS()) {</div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;          SetNZFlags(alu_out);</div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;          SetCFlag(!BorrowFrom(rn_val, shifter_operand, GetCarry()));</div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;          SetVFlag(OverflowFrom(alu_out, rn_val, shifter_operand, <span class="keyword">false</span>));</div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;        }</div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;      }</div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160; </div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a3412aa21685f28d565faccc09204f685">RSC</a>: {</div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;        Format(instr, <span class="stringliteral">&quot;rsc&#39;cond&#39;s &#39;rd, &#39;rn, &#39;shift_rm&quot;</span>);</div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;        Format(instr, <span class="stringliteral">&quot;rsc&#39;cond&#39;s &#39;rd, &#39;rn, &#39;imm&quot;</span>);</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;      }</div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160; </div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#ac4de6d8713a07a082956ad23444a816b">TST</a>: {</div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;        <span class="keywordflow">if</span> (instr-&gt;HasS()) {</div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;          <span class="comment">// Format(instr, &quot;tst&#39;cond &#39;rn, &#39;shift_rm&quot;);</span></div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;          <span class="comment">// Format(instr, &quot;tst&#39;cond &#39;rn, &#39;imm&quot;);</span></div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;          alu_out = rn_val &amp; shifter_operand;</div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;          SetNZFlags(alu_out);</div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;          SetCFlag(shifter_carry_out);</div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;          <span class="comment">// Format(instr, &quot;movw&#39;cond &#39;rd, &#39;imm&quot;).</span></div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;          alu_out = instr-&gt;ImmedMovwMovtValue();</div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;          set_register(rd, alu_out);</div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;        }</div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;      }</div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160; </div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#aa11b2cfc8931283453c2cbee8d10321f">TEQ</a>: {</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;        <span class="keywordflow">if</span> (instr-&gt;HasS()) {</div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;          <span class="comment">// Format(instr, &quot;teq&#39;cond &#39;rn, &#39;shift_rm&quot;);</span></div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;          <span class="comment">// Format(instr, &quot;teq&#39;cond &#39;rn, &#39;imm&quot;);</span></div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;          alu_out = rn_val ^ shifter_operand;</div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;          SetNZFlags(alu_out);</div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;          SetCFlag(shifter_carry_out);</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;          <span class="comment">// Other instructions matching this pattern are handled in the</span></div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;          <span class="comment">// miscellaneous instructions part above.</span></div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;        }</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;      }</div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160; </div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#ad5c931e96109b82c1ef881e7e77da05c">CMP</a>: {</div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;        <span class="keywordflow">if</span> (instr-&gt;HasS()) {</div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;          <span class="comment">// Format(instr, &quot;cmp&#39;cond &#39;rn, &#39;shift_rm&quot;);</span></div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;          <span class="comment">// Format(instr, &quot;cmp&#39;cond &#39;rn, &#39;imm&quot;);</span></div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;          alu_out = base::SubWithWraparound(rn_val, shifter_operand);</div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;          SetNZFlags(alu_out);</div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;          SetCFlag(!BorrowFrom(rn_val, shifter_operand));</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;          SetVFlag(OverflowFrom(alu_out, rn_val, shifter_operand, <span class="keyword">false</span>));</div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;          <span class="comment">// Format(instr, &quot;movt&#39;cond &#39;rd, &#39;imm&quot;).</span></div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;          alu_out =</div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;              (get_register(rd) &amp; 0xFFFF) | (instr-&gt;ImmedMovwMovtValue() &lt;&lt; 16);</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;          set_register(rd, alu_out);</div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;        }</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;      }</div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160; </div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#ab4719e2c0399e0b32cae7b6ffa30e1c1">CMN</a>: {</div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;        <span class="keywordflow">if</span> (instr-&gt;HasS()) {</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;          <span class="comment">// Format(instr, &quot;cmn&#39;cond &#39;rn, &#39;shift_rm&quot;);</span></div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;          <span class="comment">// Format(instr, &quot;cmn&#39;cond &#39;rn, &#39;imm&quot;);</span></div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;          alu_out = base::AddWithWraparound(rn_val, shifter_operand);</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;          SetNZFlags(alu_out);</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;          SetCFlag(CarryFrom(rn_val, shifter_operand));</div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;          SetVFlag(OverflowFrom(alu_out, rn_val, shifter_operand, <span class="keyword">true</span>));</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;          <span class="comment">// Other instructions matching this pattern are handled in the</span></div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;          <span class="comment">// miscellaneous instructions part above.</span></div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;        }</div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;      }</div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160; </div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a098dabefa775906100fc0134fddaa949">ORR</a>: {</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;        <span class="comment">// Format(instr, &quot;orr&#39;cond&#39;s &#39;rd, &#39;rn, &#39;shift_rm&quot;);</span></div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;        <span class="comment">// Format(instr, &quot;orr&#39;cond&#39;s &#39;rd, &#39;rn, &#39;imm&quot;);</span></div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;        alu_out = rn_val | shifter_operand;</div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;        set_register(rd, alu_out);</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;        <span class="keywordflow">if</span> (instr-&gt;HasS()) {</div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;          SetNZFlags(alu_out);</div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;          SetCFlag(shifter_carry_out);</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;        }</div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;      }</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160; </div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a378e0205efb845f60f652f19d5e7ff76">MOV</a>: {</div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;        <span class="comment">// Format(instr, &quot;mov&#39;cond&#39;s &#39;rd, &#39;shift_rm&quot;);</span></div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;        <span class="comment">// Format(instr, &quot;mov&#39;cond&#39;s &#39;rd, &#39;imm&quot;);</span></div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;        alu_out = shifter_operand;</div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;        set_register(rd, alu_out);</div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;        <span class="keywordflow">if</span> (instr-&gt;HasS()) {</div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;          SetNZFlags(alu_out);</div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;          SetCFlag(shifter_carry_out);</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;        }</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;      }</div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160; </div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a1adcfb4a26d4a210bcf9495b6e37fe63">BIC</a>: {</div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;        <span class="comment">// Format(instr, &quot;bic&#39;cond&#39;s &#39;rd, &#39;rn, &#39;shift_rm&quot;);</span></div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;        <span class="comment">// Format(instr, &quot;bic&#39;cond&#39;s &#39;rd, &#39;rn, &#39;imm&quot;);</span></div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;        alu_out = rn_val &amp; ~shifter_operand;</div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;        set_register(rd, alu_out);</div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;        <span class="keywordflow">if</span> (instr-&gt;HasS()) {</div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;          SetNZFlags(alu_out);</div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;          SetCFlag(shifter_carry_out);</div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;        }</div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;      }</div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160; </div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a886de80f96659a62e753bdd21fdb6493">MVN</a>: {</div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;        <span class="comment">// Format(instr, &quot;mvn&#39;cond&#39;s &#39;rd, &#39;shift_rm&quot;);</span></div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;        <span class="comment">// Format(instr, &quot;mvn&#39;cond&#39;s &#39;rd, &#39;imm&quot;);</span></div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;        alu_out = ~shifter_operand;</div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;        set_register(rd, alu_out);</div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;        <span class="keywordflow">if</span> (instr-&gt;HasS()) {</div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;          SetNZFlags(alu_out);</div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;          SetCFlag(shifter_carry_out);</div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;        }</div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;      }</div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160; </div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;      <span class="keywordflow">default</span>: {</div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;      }</div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;    }</div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;  }</div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;}</div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160; </div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;<span class="keywordtype">void</span> Simulator::DecodeType2(Instruction* instr) {</div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;  <span class="keywordtype">int</span> rd = instr-&gt;RdValue();</div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;  <span class="keywordtype">int</span> rn = instr-&gt;RnValue();</div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;  <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> rn_val = get_register(rn);</div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;  <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> im_val = instr-&gt;Offset12Value();</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;  <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> addr = 0;</div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;  <span class="keywordflow">switch</span> (instr-&gt;PUField()) {</div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a84522852454ffb8c61432c630b924324">da_x</a>: {</div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;      <span class="comment">// Format(instr, &quot;&#39;memop&#39;cond&#39;b &#39;rd, [&#39;rn], #-&#39;off12&quot;);</span></div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!instr-&gt;HasW());</div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;      addr = rn_val;</div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;      rn_val -= im_val;</div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;      set_register(rn, rn_val);</div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;    }</div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a11888bd362dc923f33f456ad1bb613be">ia_x</a>: {</div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;      <span class="comment">// Format(instr, &quot;&#39;memop&#39;cond&#39;b &#39;rd, [&#39;rn], #+&#39;off12&quot;);</span></div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!instr-&gt;HasW());</div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;      addr = rn_val;</div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;      rn_val += im_val;</div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;      set_register(rn, rn_val);</div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;    }</div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a299077ba9d3c66b2a985c37cee391e56">db_x</a>: {</div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;      <span class="comment">// Format(instr, &quot;&#39;memop&#39;cond&#39;b &#39;rd, [&#39;rn, #-&#39;off12]&#39;w&quot;);</span></div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;      rn_val -= im_val;</div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;      addr = rn_val;</div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;      <span class="keywordflow">if</span> (instr-&gt;HasW()) {</div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;        set_register(rn, rn_val);</div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;      }</div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;    }</div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#af0dab10b381e1e2174327481108e625c">ib_x</a>: {</div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;      <span class="comment">// Format(instr, &quot;&#39;memop&#39;cond&#39;b &#39;rd, [&#39;rn, #+&#39;off12]&#39;w&quot;);</span></div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;      rn_val += im_val;</div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;      addr = rn_val;</div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;      <span class="keywordflow">if</span> (instr-&gt;HasW()) {</div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;        set_register(rn, rn_val);</div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;      }</div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;    }</div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;    <span class="keywordflow">default</span>: {</div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;    }</div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;  }</div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;  <span class="keywordflow">if</span> (instr-&gt;HasB()) {</div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;    <span class="keywordflow">if</span> (instr-&gt;HasL()) {</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;      uint8_t val = ReadBU(addr);</div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;      set_register(rd, val);</div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;      uint8_t val = get_register(rd);</div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;      WriteB(addr, val);</div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;    }</div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;    <span class="keywordflow">if</span> (instr-&gt;HasL()) {</div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;      set_register(rd, ReadW(addr));</div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;      WriteW(addr, get_register(rd));</div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;    }</div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;  }</div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;}</div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160; </div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;<span class="keywordtype">void</span> Simulator::DecodeType3(Instruction* instr) {</div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;  <span class="keywordtype">int</span> rd = instr-&gt;RdValue();</div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;  <span class="keywordtype">int</span> rn = instr-&gt;RnValue();</div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;  <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> rn_val = get_register(rn);</div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;  <span class="keywordtype">bool</span> shifter_carry_out = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;  <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> shifter_operand = GetShiftRm(instr, &amp;shifter_carry_out);</div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;  <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> addr = 0;</div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;  <span class="keywordflow">switch</span> (instr-&gt;PUField()) {</div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a84522852454ffb8c61432c630b924324">da_x</a>: {</div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!instr-&gt;HasW());</div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;      Format(instr, <span class="stringliteral">&quot;&#39;memop&#39;cond&#39;b &#39;rd, [&#39;rn], -&#39;shift_rm&quot;</span>);</div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;    }</div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a11888bd362dc923f33f456ad1bb613be">ia_x</a>: {</div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;      <span class="keywordflow">if</span> (instr-&gt;Bit(4) == 0) {</div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;        <span class="comment">// Memop.</span></div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;        <span class="keywordflow">if</span> (instr-&gt;Bit(5) == 0) {</div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;          <span class="keywordflow">switch</span> (instr-&gt;Bits(22, 21)) {</div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;            <span class="keywordflow">case</span> 0:</div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;              <span class="keywordflow">if</span> (instr-&gt;Bit(20) == 0) {</div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;                <span class="keywordflow">if</span> (instr-&gt;Bit(6) == 0) {</div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;                  <span class="comment">// Pkhbt.</span></div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;                  uint32_t rn_val = get_register(rn);</div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;                  uint32_t rm_val = get_register(instr-&gt;RmValue());</div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;                  <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> shift = instr-&gt;Bits(11, 7);</div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;                  rm_val &lt;&lt;= shift;</div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;                  set_register(rd, (rn_val &amp; 0xFFFF) | (rm_val &amp; 0xFFFF0000U));</div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;                  <span class="comment">// Pkhtb.</span></div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;                  uint32_t rn_val = get_register(rn);</div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;                  <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> rm_val = get_register(instr-&gt;RmValue());</div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;                  <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> shift = instr-&gt;Bits(11, 7);</div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;                  <span class="keywordflow">if</span> (shift == 0) {</div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;                    shift = 32;</div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;                  }</div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;                  rm_val &gt;&gt;= shift;</div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;                  set_register(rd, (rn_val &amp; 0xFFFF0000U) | (rm_val &amp; 0xFFFF));</div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;                }</div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;              } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;                <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;              }</div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;            <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;              <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;            <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;              <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;            <span class="keywordflow">case</span> 3: {</div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;              <span class="comment">// Usat.</span></div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;              <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> sat_pos = instr-&gt;Bits(20, 16);</div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;              <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> sat_val = (1 &lt;&lt; sat_pos) - 1;</div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;              <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> shift = instr-&gt;Bits(11, 7);</div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;              <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> shift_type = instr-&gt;Bit(6);</div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;              <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> rm_val = get_register(instr-&gt;RmValue());</div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;              <span class="keywordflow">if</span> (shift_type == 0) {  <span class="comment">// LSL</span></div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;                rm_val &lt;&lt;= shift;</div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;              } <span class="keywordflow">else</span> {  <span class="comment">// ASR</span></div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;                rm_val &gt;&gt;= shift;</div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;              }</div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;              <span class="comment">// If saturation occurs, the Q flag should be set in the CPSR.</span></div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;              <span class="comment">// There is no Q flag yet, and no instruction (MRS) to read the</span></div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;              <span class="comment">// CPSR directly.</span></div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;              <span class="keywordflow">if</span> (rm_val &gt; sat_val) {</div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;                rm_val = sat_val;</div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;              } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rm_val &lt; 0) {</div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;                rm_val = 0;</div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;              }</div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;              set_register(rd, rm_val);</div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;            }</div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;          }</div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;          <span class="keywordflow">switch</span> (instr-&gt;Bits(22, 21)) {</div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;            <span class="keywordflow">case</span> 0:</div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;              <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;            <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;              <span class="keywordflow">if</span> (instr-&gt;Bits(9, 6) == 1) {</div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;                <span class="keywordflow">if</span> (instr-&gt;Bit(20) == 0) {</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;                  <span class="keywordflow">if</span> (instr-&gt;Bits(19, 16) == 0xF) {</div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;                    <span class="comment">// Sxtb.</span></div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;                    <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> rm_val = get_register(instr-&gt;RmValue());</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;                    <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> rotate = instr-&gt;Bits(11, 10);</div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;                    <span class="keywordflow">switch</span> (rotate) {</div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;                      <span class="keywordflow">case</span> 0:</div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;                      <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;                        rm_val = (rm_val &gt;&gt; 8) | (rm_val &lt;&lt; 24);</div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;                      <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;                        rm_val = (rm_val &gt;&gt; 16) | (rm_val &lt;&lt; 16);</div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;                      <span class="keywordflow">case</span> 3:</div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;                        rm_val = (rm_val &gt;&gt; 24) | (rm_val &lt;&lt; 8);</div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;                    }</div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;                    set_register(rd, <span class="keyword">static_cast&lt;</span>int8_t<span class="keyword">&gt;</span>(rm_val));</div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;                  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;                    <span class="comment">// Sxtab.</span></div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;                    <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> rn_val = get_register(rn);</div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;                    <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> rm_val = get_register(instr-&gt;RmValue());</div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;                    <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> rotate = instr-&gt;Bits(11, 10);</div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;                    <span class="keywordflow">switch</span> (rotate) {</div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;                      <span class="keywordflow">case</span> 0:</div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;                      <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;                        rm_val = (rm_val &gt;&gt; 8) | (rm_val &lt;&lt; 24);</div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;                      <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;                        rm_val = (rm_val &gt;&gt; 16) | (rm_val &lt;&lt; 16);</div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;                      <span class="keywordflow">case</span> 3:</div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;                        rm_val = (rm_val &gt;&gt; 24) | (rm_val &lt;&lt; 8);</div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;                    }</div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;                    set_register(rd, rn_val + <span class="keyword">static_cast&lt;</span>int8_t<span class="keyword">&gt;</span>(rm_val));</div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;                  }</div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;                  <span class="keywordflow">if</span> (instr-&gt;Bits(19, 16) == 0xF) {</div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;                    <span class="comment">// Sxth.</span></div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;                    <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> rm_val = get_register(instr-&gt;RmValue());</div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;                    <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> rotate = instr-&gt;Bits(11, 10);</div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;                    <span class="keywordflow">switch</span> (rotate) {</div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;                      <span class="keywordflow">case</span> 0:</div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;                      <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;                        rm_val = (rm_val &gt;&gt; 8) | (rm_val &lt;&lt; 24);</div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;                      <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;                        rm_val = (rm_val &gt;&gt; 16) | (rm_val &lt;&lt; 16);</div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;                      <span class="keywordflow">case</span> 3:</div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;                        rm_val = (rm_val &gt;&gt; 24) | (rm_val &lt;&lt; 8);</div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;                    }</div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;                    set_register(rd, <span class="keyword">static_cast&lt;</span><a class="code" href="namespaceunibrow.html#a511cc0636aed6a00d37d3e7cc0ec4e7c">int16_t</a><span class="keyword">&gt;</span>(rm_val));</div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;                  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;                    <span class="comment">// Sxtah.</span></div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;                    <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> rn_val = get_register(rn);</div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;                    <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> rm_val = get_register(instr-&gt;RmValue());</div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;                    <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> rotate = instr-&gt;Bits(11, 10);</div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;                    <span class="keywordflow">switch</span> (rotate) {</div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;                      <span class="keywordflow">case</span> 0:</div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;                      <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;                        rm_val = (rm_val &gt;&gt; 8) | (rm_val &lt;&lt; 24);</div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;                      <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;                        rm_val = (rm_val &gt;&gt; 16) | (rm_val &lt;&lt; 16);</div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;                      <span class="keywordflow">case</span> 3:</div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;                        rm_val = (rm_val &gt;&gt; 24) | (rm_val &lt;&lt; 8);</div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;                    }</div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;                    set_register(rd, rn_val + <span class="keyword">static_cast&lt;</span><a class="code" href="namespaceunibrow.html#a511cc0636aed6a00d37d3e7cc0ec4e7c">int16_t</a><span class="keyword">&gt;</span>(rm_val));</div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;                  }</div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;                }</div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;              } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (instr-&gt;Bits(27, 16) == 0x6BF &amp;&amp;</div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;                         instr-&gt;Bits(11, 4) == 0xF3) {</div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;                <span class="comment">// Rev.</span></div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;                uint32_t rm_val = get_register(instr-&gt;RmValue());</div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;                set_register(rd, <a class="code" href="namespacev8_1_1internal.html#af53a839b8395922f49d2ec23783cca6f">ByteReverse</a>(rm_val));</div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;              } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;                <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;              }</div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;            <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;              <span class="keywordflow">if</span> ((instr-&gt;Bit(20) == 0) &amp;&amp; (instr-&gt;Bits(9, 6) == 1)) {</div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;                <span class="keywordflow">if</span> (instr-&gt;Bits(19, 16) == 0xF) {</div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;                  <span class="comment">// Uxtb16.</span></div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;                  uint32_t rm_val = get_register(instr-&gt;RmValue());</div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;                  <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> rotate = instr-&gt;Bits(11, 10);</div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;                  <span class="keywordflow">switch</span> (rotate) {</div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;                    <span class="keywordflow">case</span> 0:</div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;                      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;                    <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;                      rm_val = (rm_val &gt;&gt; 8) | (rm_val &lt;&lt; 24);</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;                      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;                    <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;                      rm_val = (rm_val &gt;&gt; 16) | (rm_val &lt;&lt; 16);</div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;                      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;                    <span class="keywordflow">case</span> 3:</div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;                      rm_val = (rm_val &gt;&gt; 24) | (rm_val &lt;&lt; 8);</div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;                      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;                  }</div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;                  set_register(rd, (rm_val &amp; 0xFF) | (rm_val &amp; 0xFF0000));</div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;                  <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;                }</div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;              } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;                <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;              }</div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;            <span class="keywordflow">case</span> 3:</div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;              <span class="keywordflow">if</span> ((instr-&gt;Bits(9, 6) == 1)) {</div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;                <span class="keywordflow">if</span> (instr-&gt;Bit(20) == 0) {</div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;                  <span class="keywordflow">if</span> (instr-&gt;Bits(19, 16) == 0xF) {</div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;                    <span class="comment">// Uxtb.</span></div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;                    uint32_t rm_val = get_register(instr-&gt;RmValue());</div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;                    <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> rotate = instr-&gt;Bits(11, 10);</div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;                    <span class="keywordflow">switch</span> (rotate) {</div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;                      <span class="keywordflow">case</span> 0:</div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;                      <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;                        rm_val = (rm_val &gt;&gt; 8) | (rm_val &lt;&lt; 24);</div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;                      <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;                        rm_val = (rm_val &gt;&gt; 16) | (rm_val &lt;&lt; 16);</div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;                      <span class="keywordflow">case</span> 3:</div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;                        rm_val = (rm_val &gt;&gt; 24) | (rm_val &lt;&lt; 8);</div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;                    }</div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;                    set_register(rd, (rm_val &amp; 0xFF));</div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;                  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;                    <span class="comment">// Uxtab.</span></div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;                    uint32_t rn_val = get_register(rn);</div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;                    uint32_t rm_val = get_register(instr-&gt;RmValue());</div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;                    <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> rotate = instr-&gt;Bits(11, 10);</div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;                    <span class="keywordflow">switch</span> (rotate) {</div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;                      <span class="keywordflow">case</span> 0:</div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;                      <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;                        rm_val = (rm_val &gt;&gt; 8) | (rm_val &lt;&lt; 24);</div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;                      <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;                        rm_val = (rm_val &gt;&gt; 16) | (rm_val &lt;&lt; 16);</div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;                      <span class="keywordflow">case</span> 3:</div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;                        rm_val = (rm_val &gt;&gt; 24) | (rm_val &lt;&lt; 8);</div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;                    }</div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;                    set_register(rd, rn_val + (rm_val &amp; 0xFF));</div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;                  }</div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;                  <span class="keywordflow">if</span> (instr-&gt;Bits(19, 16) == 0xF) {</div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;                    <span class="comment">// Uxth.</span></div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;                    uint32_t rm_val = get_register(instr-&gt;RmValue());</div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;                    <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> rotate = instr-&gt;Bits(11, 10);</div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;                    <span class="keywordflow">switch</span> (rotate) {</div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;                      <span class="keywordflow">case</span> 0:</div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;                      <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;                        rm_val = (rm_val &gt;&gt; 8) | (rm_val &lt;&lt; 24);</div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;                      <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;                        rm_val = (rm_val &gt;&gt; 16) | (rm_val &lt;&lt; 16);</div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;                      <span class="keywordflow">case</span> 3:</div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;                        rm_val = (rm_val &gt;&gt; 24) | (rm_val &lt;&lt; 8);</div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;                    }</div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;                    set_register(rd, (rm_val &amp; 0xFFFF));</div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;                  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;                    <span class="comment">// Uxtah.</span></div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;                    uint32_t rn_val = get_register(rn);</div>
<div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;                    uint32_t rm_val = get_register(instr-&gt;RmValue());</div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;                    <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> rotate = instr-&gt;Bits(11, 10);</div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;                    <span class="keywordflow">switch</span> (rotate) {</div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;                      <span class="keywordflow">case</span> 0:</div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;                      <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;                        rm_val = (rm_val &gt;&gt; 8) | (rm_val &lt;&lt; 24);</div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;                      <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;                        rm_val = (rm_val &gt;&gt; 16) | (rm_val &lt;&lt; 16);</div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;                      <span class="keywordflow">case</span> 3:</div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;                        rm_val = (rm_val &gt;&gt; 24) | (rm_val &lt;&lt; 8);</div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;                    }</div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;                    set_register(rd, rn_val + (rm_val &amp; 0xFFFF));</div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;                  }</div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;                }</div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;              } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;                <span class="comment">// PU == 0b01, BW == 0b11, Bits(9, 6) != 0b0001</span></div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;                <span class="keywordflow">if</span> ((instr-&gt;Bits(20, 16) == 0x1F) &amp;&amp;</div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;                    (instr-&gt;Bits(11, 4) == 0xF3)) {</div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;                  <span class="comment">// Rbit.</span></div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;                  uint32_t rm_val = get_register(instr-&gt;RmValue());</div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;                  set_register(rd, <a class="code" href="namespacev8_1_1base_1_1bits.html#a9cf9c8a44800a7ab69e241ab591b7d6e">base::bits::ReverseBits</a>(rm_val));</div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;                  <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;                }</div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;              }</div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;          }</div>
<div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;        }</div>
<div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;      }</div>
<div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;    }</div>
<div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a299077ba9d3c66b2a985c37cee391e56">db_x</a>: {</div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;      <span class="keywordflow">if</span> (instr-&gt;Bits(22, 20) == 0x5) {</div>
<div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;        <span class="keywordflow">if</span> (instr-&gt;Bits(7, 4) == 0x1) {</div>
<div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;          <span class="keywordtype">int</span> rm = instr-&gt;RmValue();</div>
<div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;          <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> rm_val = get_register(rm);</div>
<div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;          <span class="keywordtype">int</span> rs = instr-&gt;RsValue();</div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;          <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> rs_val = get_register(rs);</div>
<div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;          <span class="keywordflow">if</span> (instr-&gt;Bits(15, 12) == 0xF) {</div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;            <span class="comment">// SMMUL (in V8 notation matching ARM ISA format)</span></div>
<div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;            <span class="comment">// Format(instr, &quot;smmul&#39;cond &#39;rn, &#39;rm, &#39;rs&quot;);</span></div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;            rn_val = <a class="code" href="namespacev8_1_1base_1_1bits.html#a1f24f8ac062fd06579c9345473fde42f">base::bits::SignedMulHigh32</a>(rm_val, rs_val);</div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;            <span class="comment">// SMMLA (in V8 notation matching ARM ISA format)</span></div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;            <span class="comment">// Format(instr, &quot;smmla&#39;cond &#39;rn, &#39;rm, &#39;rs, &#39;rd&quot;);</span></div>
<div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;            <span class="keywordtype">int</span> rd = instr-&gt;RdValue();</div>
<div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;            <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> rd_val = get_register(rd);</div>
<div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;            rn_val = <a class="code" href="namespacev8_1_1base_1_1bits.html#a0626b7258838f50279e2c940b94f1c05">base::bits::SignedMulHighAndAdd32</a>(rm_val, rs_val, rd_val);</div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;          }</div>
<div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;          set_register(rn, rn_val);</div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;        }</div>
<div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;      }</div>
<div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;      <span class="keywordflow">if</span> (instr-&gt;Bits(5, 4) == 0x1) {</div>
<div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;        <span class="keywordflow">if</span> ((instr-&gt;Bit(22) == 0x0) &amp;&amp; (instr-&gt;Bit(20) == 0x1)) {</div>
<div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;          <span class="comment">// (s/u)div (in V8 notation matching ARM ISA format) rn = rm/rs</span></div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;          <span class="comment">// Format(instr, &quot;&#39;(s/u)div&#39;cond&#39;b &#39;rn, &#39;rm, &#39;rs);</span></div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;          <span class="keywordtype">int</span> rm = instr-&gt;RmValue();</div>
<div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;          <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> rm_val = get_register(rm);</div>
<div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;          <span class="keywordtype">int</span> rs = instr-&gt;RsValue();</div>
<div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;          <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> rs_val = get_register(rs);</div>
<div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;          <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> ret_val = 0;</div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;          <span class="comment">// udiv</span></div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;          <span class="keywordflow">if</span> (instr-&gt;Bit(21) == 0x1) {</div>
<div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;            ret_val = base::bit_cast&lt;int32_t&gt;(</div>
<div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;                <a class="code" href="namespacev8_1_1base_1_1bits.html#a6507500423e22c4954efce915db4cfd7">base::bits::UnsignedDiv32</a>(base::bit_cast&lt;uint32_t&gt;(rm_val),</div>
<div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;                                          base::bit_cast&lt;uint32_t&gt;(rs_val)));</div>
<div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;            ret_val = <a class="code" href="namespacev8_1_1base_1_1bits.html#a2b8d08a386ae9d2707f52e9f5669255c">base::bits::SignedDiv32</a>(rm_val, rs_val);</div>
<div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;          }</div>
<div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;          set_register(rn, ret_val);</div>
<div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;        }</div>
<div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;      }</div>
<div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;      <span class="comment">// Format(instr, &quot;&#39;memop&#39;cond&#39;b &#39;rd, [&#39;rn, -&#39;shift_rm]&#39;w&quot;);</span></div>
<div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;      addr = rn_val - shifter_operand;</div>
<div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;      <span class="keywordflow">if</span> (instr-&gt;HasW()) {</div>
<div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;        set_register(rn, addr);</div>
<div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;      }</div>
<div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;    }</div>
<div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#af0dab10b381e1e2174327481108e625c">ib_x</a>: {</div>
<div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;      <span class="keywordflow">if</span> (instr-&gt;HasW() &amp;&amp; (instr-&gt;Bits(6, 4) == 0x5)) {</div>
<div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;        uint32_t widthminus1 = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(instr-&gt;Bits(20, 16));</div>
<div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;        uint32_t lsbit = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(instr-&gt;Bits(11, 7));</div>
<div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;        uint32_t msbit = widthminus1 + lsbit;</div>
<div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;        <span class="keywordflow">if</span> (msbit &lt;= 31) {</div>
<div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;          <span class="keywordflow">if</span> (instr-&gt;Bit(22)) {</div>
<div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;            <span class="comment">// ubfx - unsigned bitfield extract.</span></div>
<div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;            uint32_t rm_val =</div>
<div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;                <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(get_register(instr-&gt;RmValue()));</div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;            uint32_t extr_val = rm_val &lt;&lt; (31 - msbit);</div>
<div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;            extr_val = extr_val &gt;&gt; (31 - widthminus1);</div>
<div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;            set_register(instr-&gt;RdValue(), extr_val);</div>
<div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;            <span class="comment">// sbfx - signed bitfield extract.</span></div>
<div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;            <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> rm_val = get_register(instr-&gt;RmValue());</div>
<div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;            <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> extr_val = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(rm_val) &lt;&lt; (31 - msbit);</div>
<div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;            extr_val = extr_val &gt;&gt; (31 - widthminus1);</div>
<div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;            set_register(instr-&gt;RdValue(), extr_val);</div>
<div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;          }</div>
<div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;        }</div>
<div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!instr-&gt;HasW() &amp;&amp; (instr-&gt;Bits(6, 4) == 0x1)) {</div>
<div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;        uint32_t lsbit = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(instr-&gt;Bits(11, 7));</div>
<div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;        uint32_t msbit = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(instr-&gt;Bits(20, 16));</div>
<div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;        <span class="keywordflow">if</span> (msbit &gt;= lsbit) {</div>
<div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;          <span class="comment">// bfc or bfi - bitfield clear/insert.</span></div>
<div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;          uint32_t rd_val =</div>
<div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;              <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(get_register(instr-&gt;RdValue()));</div>
<div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;          uint32_t bitcount = msbit - lsbit + 1;</div>
<div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;          uint32_t mask = 0xFFFFFFFFu &gt;&gt; (32 - bitcount);</div>
<div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;          rd_val &amp;= ~(mask &lt;&lt; lsbit);</div>
<div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;          <span class="keywordflow">if</span> (instr-&gt;RmValue() != 15) {</div>
<div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;            <span class="comment">// bfi - bitfield insert.</span></div>
<div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;            uint32_t rm_val =</div>
<div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;                <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(get_register(instr-&gt;RmValue()));</div>
<div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;            rm_val &amp;= mask;</div>
<div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;            rd_val |= rm_val &lt;&lt; lsbit;</div>
<div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;          }</div>
<div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;          set_register(instr-&gt;RdValue(), rd_val);</div>
<div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;        }</div>
<div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;        <span class="comment">// Format(instr, &quot;&#39;memop&#39;cond&#39;b &#39;rd, [&#39;rn, +&#39;shift_rm]&#39;w&quot;);</span></div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;        addr = base::AddWithWraparound(rn_val, shifter_operand);</div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;        <span class="keywordflow">if</span> (instr-&gt;HasW()) {</div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;          set_register(rn, addr);</div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;        }</div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;      }</div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;    }</div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;    <span class="keywordflow">default</span>: {</div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;    }</div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;  }</div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;  <span class="keywordflow">if</span> (instr-&gt;HasB()) {</div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;    <span class="keywordflow">if</span> (instr-&gt;HasL()) {</div>
<div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;      uint8_t <span class="keywordtype">byte</span> = ReadB(addr);</div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;      set_register(rd, <span class="keywordtype">byte</span>);</div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;      uint8_t <span class="keywordtype">byte</span> = get_register(rd);</div>
<div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;      WriteB(addr, <span class="keywordtype">byte</span>);</div>
<div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;    }</div>
<div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;    <span class="keywordflow">if</span> (instr-&gt;HasL()) {</div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;      set_register(rd, ReadW(addr));</div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;      WriteW(addr, get_register(rd));</div>
<div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;    }</div>
<div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;  }</div>
<div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;}</div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160; </div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;<span class="keywordtype">void</span> Simulator::DecodeType4(Instruction* instr) {</div>
<div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(instr-&gt;Bit(22), 0);  <span class="comment">// only allowed to be set in privileged mode</span></div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;  <span class="keywordflow">if</span> (instr-&gt;HasL()) {</div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;    <span class="comment">// Format(instr, &quot;ldm&#39;cond&#39;pu &#39;rn&#39;w, &#39;rlist&quot;);</span></div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;    HandleRList(instr, <span class="keyword">true</span>);</div>
<div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;    <span class="comment">// Format(instr, &quot;stm&#39;cond&#39;pu &#39;rn&#39;w, &#39;rlist&quot;);</span></div>
<div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;    HandleRList(instr, <span class="keyword">false</span>);</div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;  }</div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;}</div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160; </div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;<span class="keywordtype">void</span> Simulator::DecodeType5(Instruction* instr) {</div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;  <span class="comment">// Format(instr, &quot;b&#39;l&#39;cond &#39;target&quot;);</span></div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;  <span class="keywordtype">int</span> off =</div>
<div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;      <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(instr-&gt;SImmed24Value()) &lt;&lt; 2);</div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;  intptr_t pc_address = get_pc();</div>
<div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;  <span class="keywordflow">if</span> (instr-&gt;HasLink()) {</div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;    set_register(lr, pc_address + <a class="code" href="namespacev8_1_1internal.html#ac915558733f2fceaec1860dd81c6df7f">kInstrSize</a>);</div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;  }</div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;  <span class="keywordtype">int</span> pc_reg = get_register(pc);</div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;  set_pc(pc_reg + off);</div>
<div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;}</div>
<div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160; </div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;<span class="keywordtype">void</span> Simulator::DecodeType6(Instruction* instr) {</div>
<div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;  DecodeType6CoprocessorIns(instr);</div>
<div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;}</div>
<div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160; </div>
<div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;<span class="keywordtype">void</span> Simulator::DecodeType7(Instruction* instr) {</div>
<div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;  <span class="keywordflow">if</span> (instr-&gt;Bit(24) == 1) {</div>
<div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;    SoftwareInterrupt(instr);</div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;    <span class="keywordflow">switch</span> (instr-&gt;CoprocessorValue()) {</div>
<div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;      <span class="keywordflow">case</span> 10:  <span class="comment">// Fall through.</span></div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;      <span class="keywordflow">case</span> 11:</div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;        DecodeTypeVFP(instr);</div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;      <span class="keywordflow">case</span> 15:</div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;        DecodeTypeCP15(instr);</div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;    }</div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;  }</div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;}</div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160; </div>
<div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;<span class="comment">// void Simulator::DecodeTypeVFP(Instruction* instr)</span></div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;<span class="comment">// The Following ARMv7 VFPv instructions are currently supported.</span></div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;<span class="comment">// vmov :Sn = Rt</span></div>
<div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;<span class="comment">// vmov :Rt = Sn</span></div>
<div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;<span class="comment">// vcvt: Dd = Sm</span></div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;<span class="comment">// vcvt: Sd = Dm</span></div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;<span class="comment">// vcvt.f64.s32 Dd, Dd, #&lt;fbits&gt;</span></div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;<span class="comment">// Dd = vabs(Dm)</span></div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;<span class="comment">// Sd = vabs(Sm)</span></div>
<div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;<span class="comment">// Dd = vneg(Dm)</span></div>
<div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;<span class="comment">// Sd = vneg(Sm)</span></div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;<span class="comment">// Dd = vadd(Dn, Dm)</span></div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;<span class="comment">// Sd = vadd(Sn, Sm)</span></div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;<span class="comment">// Dd = vsub(Dn, Dm)</span></div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;<span class="comment">// Sd = vsub(Sn, Sm)</span></div>
<div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;<span class="comment">// Dd = vmul(Dn, Dm)</span></div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;<span class="comment">// Sd = vmul(Sn, Sm)</span></div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;<span class="comment">// Dd = vdiv(Dn, Dm)</span></div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;<span class="comment">// Sd = vdiv(Sn, Sm)</span></div>
<div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;<span class="comment">// vcmp(Dd, Dm)</span></div>
<div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;<span class="comment">// vcmp(Sd, Sm)</span></div>
<div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;<span class="comment">// Dd = vsqrt(Dm)</span></div>
<div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;<span class="comment">// Sd = vsqrt(Sm)</span></div>
<div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;<span class="comment">// vmrs</span></div>
<div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;<span class="comment">// vdup.size Qd, Rt.</span></div>
<div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;<span class="keywordtype">void</span> Simulator::DecodeTypeVFP(Instruction* instr) {</div>
<div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>((instr-&gt;TypeValue() == 7) &amp;&amp; (instr-&gt;Bit(24) == 0x0));</div>
<div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(instr-&gt;Bits(11, 9), 0x5);</div>
<div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;  <span class="comment">// Obtain single precision register codes.</span></div>
<div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;  <span class="keywordtype">int</span> m = instr-&gt;VFPMRegValue(<a class="code" href="namespacev8_1_1internal.html#ae14e6362993db69563ab083b46626ba6">kSinglePrecision</a>);</div>
<div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;  <span class="keywordtype">int</span> d = instr-&gt;VFPDRegValue(<a class="code" href="namespacev8_1_1internal.html#ae14e6362993db69563ab083b46626ba6">kSinglePrecision</a>);</div>
<div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;  <span class="keywordtype">int</span> n = instr-&gt;VFPNRegValue(<a class="code" href="namespacev8_1_1internal.html#ae14e6362993db69563ab083b46626ba6">kSinglePrecision</a>);</div>
<div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;  <span class="comment">// Obtain double precision register codes.</span></div>
<div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;  <span class="keywordtype">int</span> vm = instr-&gt;VFPMRegValue(<a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;  <span class="keywordtype">int</span> vd = instr-&gt;VFPDRegValue(<a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;  <span class="keywordtype">int</span> vn = instr-&gt;VFPNRegValue(<a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160; </div>
<div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;  <span class="keywordflow">if</span> (instr-&gt;Bit(4) == 0) {</div>
<div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;    <span class="keywordflow">if</span> (instr-&gt;Opc1Value() == 0x7) {</div>
<div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;      <span class="comment">// Other data processing instructions</span></div>
<div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;      <span class="keywordflow">if</span> ((instr-&gt;Opc2Value() == 0x0) &amp;&amp; (instr-&gt;Opc3Value() == 0x1)) {</div>
<div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;        <span class="comment">// vmov register to register.</span></div>
<div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;        <span class="keywordflow">if</span> (instr-&gt;SzValue() == 0x1) {</div>
<div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;          uint32_t data[2];</div>
<div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;          get_d_register(vm, data);</div>
<div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;          set_d_register(vd, data);</div>
<div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;          set_s_register(d, get_s_register(m));</div>
<div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;        }</div>
<div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((instr-&gt;Opc2Value() == 0x0) &amp;&amp; (instr-&gt;Opc3Value() == 0x3)) {</div>
<div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;        <span class="comment">// vabs</span></div>
<div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;        <span class="keywordflow">if</span> (instr-&gt;SzValue() == 0x1) {</div>
<div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;          <a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#a208899e03c80ce1b3a5e7cd180efe5da">Float64</a> dm = get_double_from_d_register(vm);</div>
<div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;          constexpr uint64_t kSignBit64 = uint64_t{1} &lt;&lt; 63;</div>
<div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;          <a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#a208899e03c80ce1b3a5e7cd180efe5da">Float64</a> dd = Float64::FromBits(dm.get_bits() &amp; ~kSignBit64);</div>
<div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;          dd = canonicalizeNaN(dd);</div>
<div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;          set_d_register_from_double(vd, dd);</div>
<div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;          <a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ad5febe2686d18137d814eb2eac567073">Float32</a> sm = get_float_from_s_register(m);</div>
<div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;          constexpr uint32_t kSignBit32 = uint32_t{1} &lt;&lt; 31;</div>
<div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;          <a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ad5febe2686d18137d814eb2eac567073">Float32</a> sd = Float32::FromBits(sm.get_bits() &amp; ~kSignBit32);</div>
<div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;          sd = canonicalizeNaN(sd);</div>
<div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;          set_s_register_from_float(d, sd);</div>
<div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;        }</div>
<div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((instr-&gt;Opc2Value() == 0x1) &amp;&amp; (instr-&gt;Opc3Value() == 0x1)) {</div>
<div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;        <span class="comment">// vneg</span></div>
<div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;        <span class="keywordflow">if</span> (instr-&gt;SzValue() == 0x1) {</div>
<div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;          <a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#a208899e03c80ce1b3a5e7cd180efe5da">Float64</a> dm = get_double_from_d_register(vm);</div>
<div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;          constexpr uint64_t kSignBit64 = uint64_t{1} &lt;&lt; 63;</div>
<div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;          <a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#a208899e03c80ce1b3a5e7cd180efe5da">Float64</a> dd = Float64::FromBits(dm.get_bits() ^ kSignBit64);</div>
<div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;          dd = canonicalizeNaN(dd);</div>
<div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;          set_d_register_from_double(vd, dd);</div>
<div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;          <a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ad5febe2686d18137d814eb2eac567073">Float32</a> sm = get_float_from_s_register(m);</div>
<div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;          constexpr uint32_t kSignBit32 = uint32_t{1} &lt;&lt; 31;</div>
<div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;          <a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ad5febe2686d18137d814eb2eac567073">Float32</a> sd = Float32::FromBits(sm.get_bits() ^ kSignBit32);</div>
<div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;          sd = canonicalizeNaN(sd);</div>
<div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;          set_s_register_from_float(d, sd);</div>
<div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;        }</div>
<div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((instr-&gt;Opc2Value() == 0x7) &amp;&amp; (instr-&gt;Opc3Value() == 0x3)) {</div>
<div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;        DecodeVCVTBetweenDoubleAndSingle(instr);</div>
<div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((instr-&gt;Opc2Value() == 0x8) &amp;&amp; (instr-&gt;Opc3Value() &amp; 0x1)) {</div>
<div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;        DecodeVCVTBetweenFloatingPointAndInteger(instr);</div>
<div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((instr-&gt;Opc2Value() == 0xA) &amp;&amp; (instr-&gt;Opc3Value() == 0x3) &amp;&amp;</div>
<div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;                 (instr-&gt;Bit(8) == 1)) {</div>
<div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;        <span class="comment">// vcvt.f64.s32 Dd, Dd, #&lt;fbits&gt;</span></div>
<div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;        <span class="keywordtype">int</span> fraction_bits = 32 - ((instr-&gt;Bits(3, 0) &lt;&lt; 1) | instr-&gt;Bit(5));</div>
<div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;        <span class="keywordtype">int</span> fixed_value = get_sinteger_from_s_register(vd * 2);</div>
<div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;        <span class="keywordtype">double</span> divide = 1 &lt;&lt; fraction_bits;</div>
<div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;        set_d_register_from_double(vd, fixed_value / divide);</div>
<div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (((instr-&gt;Opc2Value() &gt;&gt; 1) == 0x6) &amp;&amp;</div>
<div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;                 (instr-&gt;Opc3Value() &amp; 0x1)) {</div>
<div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;        DecodeVCVTBetweenFloatingPointAndInteger(instr);</div>
<div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (((instr-&gt;Opc2Value() == 0x4) || (instr-&gt;Opc2Value() == 0x5)) &amp;&amp;</div>
<div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;                 (instr-&gt;Opc3Value() &amp; 0x1)) {</div>
<div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;        DecodeVCMP(instr);</div>
<div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (((instr-&gt;Opc2Value() == 0x1)) &amp;&amp; (instr-&gt;Opc3Value() == 0x3)) {</div>
<div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;        <span class="comment">// vsqrt</span></div>
<div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;        <span class="keywordflow">if</span> (instr-&gt;SzValue() == 0x1) {</div>
<div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;          <span class="keywordtype">double</span> dm_value = get_double_from_d_register(vm).get_scalar();</div>
<div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;          <span class="keywordtype">double</span> dd_value = std::sqrt(dm_value);</div>
<div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;          dd_value = canonicalizeNaN(dd_value);</div>
<div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;          set_d_register_from_double(vd, dd_value);</div>
<div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;          <span class="keywordtype">float</span> sm_value = get_float_from_s_register(m).get_scalar();</div>
<div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;          <span class="keywordtype">float</span> sd_value = std::sqrt(sm_value);</div>
<div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;          sd_value = canonicalizeNaN(sd_value);</div>
<div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;          set_s_register_from_float(d, sd_value);</div>
<div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;        }</div>
<div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (instr-&gt;Opc3Value() == 0x0) {</div>
<div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;        <span class="comment">// vmov immediate.</span></div>
<div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;        <span class="keywordflow">if</span> (instr-&gt;SzValue() == 0x1) {</div>
<div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;          set_d_register_from_double(vd, instr-&gt;DoubleImmedVmov());</div>
<div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;          <span class="comment">// Cast double to float.</span></div>
<div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;          <span class="keywordtype">float</span> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = instr-&gt;DoubleImmedVmov().get_scalar();</div>
<div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;          set_s_register_from_float(d, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;        }</div>
<div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (((instr-&gt;Opc2Value() == 0x6)) &amp;&amp; (instr-&gt;Opc3Value() == 0x3)) {</div>
<div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;        <span class="comment">// vrintz - truncate</span></div>
<div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;        <span class="keywordflow">if</span> (instr-&gt;SzValue() == 0x1) {</div>
<div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;          <span class="keywordtype">double</span> dm_value = get_double_from_d_register(vm).get_scalar();</div>
<div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;          <span class="keywordtype">double</span> dd_value = trunc(dm_value);</div>
<div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;          dd_value = canonicalizeNaN(dd_value);</div>
<div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;          set_d_register_from_double(vd, dd_value);</div>
<div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;          <span class="keywordtype">float</span> sm_value = get_float_from_s_register(m).get_scalar();</div>
<div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;          <span class="keywordtype">float</span> sd_value = truncf(sm_value);</div>
<div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;          sd_value = canonicalizeNaN(sd_value);</div>
<div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;          set_s_register_from_float(d, sd_value);</div>
<div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;        }</div>
<div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();  <span class="comment">// Not used by V8.</span></div>
<div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;      }</div>
<div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (instr-&gt;Opc1Value() == 0x3) {</div>
<div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;      <span class="keywordflow">if</span> (instr-&gt;Opc3Value() &amp; 0x1) {</div>
<div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;        <span class="comment">// vsub</span></div>
<div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;        <span class="keywordflow">if</span> (instr-&gt;SzValue() == 0x1) {</div>
<div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;          <span class="keywordtype">double</span> dn_value = get_double_from_d_register(vn).get_scalar();</div>
<div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;          <span class="keywordtype">double</span> dm_value = get_double_from_d_register(vm).get_scalar();</div>
<div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;          <span class="keywordtype">double</span> dd_value = dn_value - dm_value;</div>
<div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;          dd_value = canonicalizeNaN(dd_value);</div>
<div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;          set_d_register_from_double(vd, dd_value);</div>
<div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;          <span class="keywordtype">float</span> sn_value = get_float_from_s_register(n).get_scalar();</div>
<div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;          <span class="keywordtype">float</span> sm_value = get_float_from_s_register(m).get_scalar();</div>
<div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;          <span class="keywordtype">float</span> sd_value = sn_value - sm_value;</div>
<div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;          sd_value = canonicalizeNaN(sd_value);</div>
<div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;          set_s_register_from_float(d, sd_value);</div>
<div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;        }</div>
<div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;        <span class="comment">// vadd</span></div>
<div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;        <span class="keywordflow">if</span> (instr-&gt;SzValue() == 0x1) {</div>
<div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;          <span class="keywordtype">double</span> dn_value = get_double_from_d_register(vn).get_scalar();</div>
<div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;          <span class="keywordtype">double</span> dm_value = get_double_from_d_register(vm).get_scalar();</div>
<div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;          <span class="keywordtype">double</span> dd_value = dn_value + dm_value;</div>
<div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;          dd_value = canonicalizeNaN(dd_value);</div>
<div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;          set_d_register_from_double(vd, dd_value);</div>
<div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;          <span class="keywordtype">float</span> sn_value = get_float_from_s_register(n).get_scalar();</div>
<div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;          <span class="keywordtype">float</span> sm_value = get_float_from_s_register(m).get_scalar();</div>
<div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;          <span class="keywordtype">float</span> sd_value = sn_value + sm_value;</div>
<div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;          sd_value = canonicalizeNaN(sd_value);</div>
<div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;          set_s_register_from_float(d, sd_value);</div>
<div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;        }</div>
<div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;      }</div>
<div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((instr-&gt;Opc1Value() == 0x2) &amp;&amp; !(instr-&gt;Opc3Value() &amp; 0x1)) {</div>
<div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;      <span class="comment">// vmul</span></div>
<div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;      <span class="keywordflow">if</span> (instr-&gt;SzValue() == 0x1) {</div>
<div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;        <span class="keywordtype">double</span> dn_value = get_double_from_d_register(vn).get_scalar();</div>
<div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;        <span class="keywordtype">double</span> dm_value = get_double_from_d_register(vm).get_scalar();</div>
<div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;        <span class="keywordtype">double</span> dd_value = dn_value * dm_value;</div>
<div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;        dd_value = canonicalizeNaN(dd_value);</div>
<div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;        set_d_register_from_double(vd, dd_value);</div>
<div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;        <span class="keywordtype">float</span> sn_value = get_float_from_s_register(n).get_scalar();</div>
<div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;        <span class="keywordtype">float</span> sm_value = get_float_from_s_register(m).get_scalar();</div>
<div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;        <span class="keywordtype">float</span> sd_value = sn_value * sm_value;</div>
<div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;        sd_value = canonicalizeNaN(sd_value);</div>
<div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;        set_s_register_from_float(d, sd_value);</div>
<div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;      }</div>
<div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((instr-&gt;Opc1Value() == 0x0)) {</div>
<div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;      <span class="comment">// vmla, vmls</span></div>
<div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">bool</span> is_vmls = (instr-&gt;Opc3Value() &amp; 0x1);</div>
<div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;      <span class="keywordflow">if</span> (instr-&gt;SzValue() == 0x1) {</div>
<div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">double</span> dd_val = get_double_from_d_register(vd).get_scalar();</div>
<div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">double</span> dn_val = get_double_from_d_register(vn).get_scalar();</div>
<div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">double</span> dm_val = get_double_from_d_register(vm).get_scalar();</div>
<div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160; </div>
<div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;        <span class="comment">// Note: we do the mul and add/sub in separate steps to avoid getting a</span></div>
<div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;        <span class="comment">// result with too high precision.</span></div>
<div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">double</span> res = dn_val * dm_val;</div>
<div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;        set_d_register_from_double(vd, res);</div>
<div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;        <span class="keywordflow">if</span> (is_vmls) {</div>
<div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;          set_d_register_from_double(vd, canonicalizeNaN(dd_val - res));</div>
<div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;          set_d_register_from_double(vd, canonicalizeNaN(dd_val + res));</div>
<div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;        }</div>
<div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> sd_val = get_float_from_s_register(d).get_scalar();</div>
<div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> sn_val = get_float_from_s_register(n).get_scalar();</div>
<div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> sm_val = get_float_from_s_register(m).get_scalar();</div>
<div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160; </div>
<div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;        <span class="comment">// Note: we do the mul and add/sub in separate steps to avoid getting a</span></div>
<div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;        <span class="comment">// result with too high precision.</span></div>
<div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> res = sn_val * sm_val;</div>
<div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;        set_s_register_from_float(d, res);</div>
<div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;        <span class="keywordflow">if</span> (is_vmls) {</div>
<div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;          set_s_register_from_float(d, canonicalizeNaN(sd_val - res));</div>
<div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;          set_s_register_from_float(d, canonicalizeNaN(sd_val + res));</div>
<div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;        }</div>
<div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;      }</div>
<div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((instr-&gt;Opc1Value() == 0x4) &amp;&amp; !(instr-&gt;Opc3Value() &amp; 0x1)) {</div>
<div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;      <span class="comment">// vdiv</span></div>
<div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;      <span class="keywordflow">if</span> (instr-&gt;SzValue() == 0x1) {</div>
<div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;        <span class="keywordtype">double</span> dn_value = get_double_from_d_register(vn).get_scalar();</div>
<div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;        <span class="keywordtype">double</span> dm_value = get_double_from_d_register(vm).get_scalar();</div>
<div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;        <span class="keywordtype">double</span> dd_value = <a class="code" href="namespacev8_1_1base.html#ad5a29771622da6f7889b7c4b08e6bc20">base::Divide</a>(dn_value, dm_value);</div>
<div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;        div_zero_vfp_flag_ = (dm_value == 0);</div>
<div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;        dd_value = canonicalizeNaN(dd_value);</div>
<div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;        set_d_register_from_double(vd, dd_value);</div>
<div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;        <span class="keywordtype">float</span> sn_value = get_float_from_s_register(n).get_scalar();</div>
<div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;        <span class="keywordtype">float</span> sm_value = get_float_from_s_register(m).get_scalar();</div>
<div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;        <span class="keywordtype">float</span> sd_value = <a class="code" href="namespacev8_1_1base.html#ad5a29771622da6f7889b7c4b08e6bc20">base::Divide</a>(sn_value, sm_value);</div>
<div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;        div_zero_vfp_flag_ = (sm_value == 0);</div>
<div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;        sd_value = canonicalizeNaN(sd_value);</div>
<div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;        set_s_register_from_float(d, sd_value);</div>
<div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;      }</div>
<div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();  <span class="comment">// Not used by V8.</span></div>
<div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;    }</div>
<div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;    <span class="keywordflow">if</span> ((instr-&gt;VCValue() == 0x0) &amp;&amp; (instr-&gt;VAValue() == 0x0)) {</div>
<div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;      DecodeVMOVBetweenCoreAndSinglePrecisionRegisters(instr);</div>
<div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((instr-&gt;VLValue() == 0x0) &amp;&amp; (instr-&gt;VCValue() == 0x1)) {</div>
<div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;      <span class="keywordflow">if</span> (instr-&gt;Bit(23) == 0) {</div>
<div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;        <span class="comment">// vmov (ARM core register to scalar)</span></div>
<div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;        <span class="keywordtype">int</span> vd = instr-&gt;VFPNRegValue(<a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;        <span class="keywordtype">int</span> rt = instr-&gt;RtValue();</div>
<div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;        <span class="keywordtype">int</span> opc1_opc2 = (instr-&gt;Bits(22, 21) &lt;&lt; 2) | instr-&gt;Bits(6, 5);</div>
<div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;        <span class="keywordflow">if</span> ((opc1_opc2 &amp; 0xB) == 0) {</div>
<div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;          <span class="comment">// NeonS32/NeonU32</span></div>
<div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;          uint32_t data[2];</div>
<div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;          get_d_register(vd, data);</div>
<div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;          data[instr-&gt;Bit(21)] = get_register(rt);</div>
<div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;          set_d_register(vd, data);</div>
<div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;          uint64_t data;</div>
<div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;          get_d_register(vd, &amp;data);</div>
<div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;          uint64_t rt_value = get_register(rt);</div>
<div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;          <span class="keywordflow">if</span> ((opc1_opc2 &amp; 0x8) != 0) {</div>
<div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;            <span class="comment">// NeonS8 / NeonU8</span></div>
<div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = opc1_opc2 &amp; 0x7;</div>
<div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;            <span class="keywordtype">int</span> shift = <a class="code" href="namespacev8_1_1internal.html">i</a> * <a class="code" href="namespacev8_1_1internal.html#a1f752d6859d2360901fc2a58c9548fd8">kBitsPerByte</a>;</div>
<div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;            <span class="keyword">const</span> uint64_t mask = 0xFF;</div>
<div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;            data &amp;= ~(mask &lt;&lt; shift);</div>
<div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;            data |= (rt_value &amp; mask) &lt;&lt; shift;</div>
<div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;            set_d_register(vd, &amp;data);</div>
<div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;          } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((opc1_opc2 &amp; 0x1) != 0) {</div>
<div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;            <span class="comment">// NeonS16 / NeonU16</span></div>
<div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = (opc1_opc2 &gt;&gt; 1) &amp; 0x3;</div>
<div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;            <span class="keywordtype">int</span> shift = <a class="code" href="namespacev8_1_1internal.html">i</a> * <a class="code" href="namespacev8_1_1internal.html#a1f752d6859d2360901fc2a58c9548fd8">kBitsPerByte</a> * <a class="code" href="namespacev8_1_1internal.html#ae5fc7dfc0625c0d2a6bca971abf68365">kShortSize</a>;</div>
<div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;            <span class="keyword">const</span> uint64_t mask = 0xFFFF;</div>
<div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;            data &amp;= ~(mask &lt;&lt; shift);</div>
<div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;            data |= (rt_value &amp; mask) &lt;&lt; shift;</div>
<div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;            set_d_register(vd, &amp;data);</div>
<div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;            <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();  <span class="comment">// Not used by V8.</span></div>
<div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;          }</div>
<div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;        }</div>
<div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;        <span class="comment">// vdup.size Qd, Rt.</span></div>
<div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = <a class="code" href="namespacev8_1_1internal.html#a24d1ad25be234608cba2d2dc3d35c3c1">Neon32</a>;</div>
<div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;        <span class="keywordflow">if</span> (instr-&gt;Bit(5) != 0)</div>
<div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;          <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = <a class="code" href="namespacev8_1_1internal.html#a6dc2d01b77f88ddef53fca519cfb7a04">Neon16</a>;</div>
<div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (instr-&gt;Bit(22) != 0)</div>
<div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;          <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = <a class="code" href="namespacev8_1_1internal.html#a32abac64e4721dac677f04db429e5050">Neon8</a>;</div>
<div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;        <span class="keywordtype">int</span> vd = instr-&gt;VFPNRegValue(<a class="code" href="namespacev8_1_1internal.html#ae73733e872be93099e05fcbd9e064c7d">kSimd128Precision</a>);</div>
<div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;        <span class="keywordtype">int</span> rt = instr-&gt;RtValue();</div>
<div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;        uint32_t rt_value = get_register(rt);</div>
<div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;        uint32_t q_data[4];</div>
<div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a32abac64e4721dac677f04db429e5050">Neon8</a>: {</div>
<div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;            rt_value &amp;= 0xFF;</div>
<div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;            uint8_t* dst = <span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(q_data);</div>
<div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; 16; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;              dst[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = rt_value;</div>
<div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;            }</div>
<div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;          }</div>
<div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6dc2d01b77f88ddef53fca519cfb7a04">Neon16</a>: {</div>
<div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;            <span class="comment">// Perform pairwise op.</span></div>
<div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;            rt_value &amp;= 0xFFFFu;</div>
<div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;            uint32_t rt_rt = (rt_value &lt;&lt; 16) | (rt_value &amp; 0xFFFFu);</div>
<div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; 4; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;              q_data[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = rt_rt;</div>
<div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;            }</div>
<div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;          }</div>
<div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a24d1ad25be234608cba2d2dc3d35c3c1">Neon32</a>: {</div>
<div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; 4; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;              q_data[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = rt_value;</div>
<div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;            }</div>
<div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;          }</div>
<div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;          <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;            <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;        }</div>
<div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;        set_neon_register(vd, q_data);</div>
<div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;      }</div>
<div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((instr-&gt;VLValue() == 0x1) &amp;&amp; (instr-&gt;VCValue() == 0x1)) {</div>
<div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;      <span class="comment">// vmov (scalar to ARM core register)</span></div>
<div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;      <span class="keywordtype">int</span> vn = instr-&gt;VFPNRegValue(<a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;      <span class="keywordtype">int</span> rt = instr-&gt;RtValue();</div>
<div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;      <span class="keywordtype">int</span> opc1_opc2 = (instr-&gt;Bits(22, 21) &lt;&lt; 2) | instr-&gt;Bits(6, 5);</div>
<div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;      uint64_t data;</div>
<div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;      get_d_register(vn, &amp;data);</div>
<div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;      <span class="keywordflow">if</span> ((opc1_opc2 &amp; 0xB) == 0) {</div>
<div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;        <span class="comment">// NeonS32 / NeonU32</span></div>
<div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, instr-&gt;Bit(23));</div>
<div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;        <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> int_data[2];</div>
<div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;        memcpy(int_data, &amp;data, <span class="keyword">sizeof</span>(int_data));</div>
<div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;        set_register(rt, int_data[instr-&gt;Bit(21)]);</div>
<div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;        uint64_t data;</div>
<div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;        get_d_register(vn, &amp;data);</div>
<div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;        <span class="keywordtype">bool</span> u = instr-&gt;Bit(23) != 0;</div>
<div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;        <span class="keywordflow">if</span> ((opc1_opc2 &amp; 0x8) != 0) {</div>
<div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;          <span class="comment">// NeonS8 / NeonU8</span></div>
<div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;          <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = opc1_opc2 &amp; 0x7;</div>
<div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;          <span class="keywordtype">int</span> shift = <a class="code" href="namespacev8_1_1internal.html">i</a> * <a class="code" href="namespacev8_1_1internal.html#a1f752d6859d2360901fc2a58c9548fd8">kBitsPerByte</a>;</div>
<div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;          uint32_t scalar = (data &gt;&gt; shift) &amp; 0xFFu;</div>
<div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;          <span class="keywordflow">if</span> (!u &amp;&amp; (scalar &amp; 0x80) != 0) scalar |= 0xFFFFFF00;</div>
<div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;          set_register(rt, scalar);</div>
<div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((opc1_opc2 &amp; 0x1) != 0) {</div>
<div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;          <span class="comment">// NeonS16 / NeonU16</span></div>
<div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;          <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = (opc1_opc2 &gt;&gt; 1) &amp; 0x3;</div>
<div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;          <span class="keywordtype">int</span> shift = <a class="code" href="namespacev8_1_1internal.html">i</a> * <a class="code" href="namespacev8_1_1internal.html#a1f752d6859d2360901fc2a58c9548fd8">kBitsPerByte</a> * <a class="code" href="namespacev8_1_1internal.html#ae5fc7dfc0625c0d2a6bca971abf68365">kShortSize</a>;</div>
<div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;          uint32_t scalar = (data &gt;&gt; shift) &amp; 0xFFFFu;</div>
<div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;          <span class="keywordflow">if</span> (!u &amp;&amp; (scalar &amp; 0x8000) != 0) scalar |= 0xFFFF0000;</div>
<div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;          set_register(rt, scalar);</div>
<div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();  <span class="comment">// Not used by V8.</span></div>
<div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;        }</div>
<div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;      }</div>
<div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((instr-&gt;VLValue() == 0x1) &amp;&amp; (instr-&gt;VCValue() == 0x0) &amp;&amp;</div>
<div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;               (instr-&gt;VAValue() == 0x7) &amp;&amp; (instr-&gt;Bits(19, 16) == 0x1)) {</div>
<div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;      <span class="comment">// vmrs</span></div>
<div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;      uint32_t rt = instr-&gt;RtValue();</div>
<div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;      <span class="keywordflow">if</span> (rt == 0xF) {</div>
<div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;        Copy_FPSCR_to_APSR();</div>
<div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160;        <span class="comment">// Emulate FPSCR from the Simulator flags.</span></div>
<div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;        uint32_t fpscr = (n_flag_FPSCR_ &lt;&lt; 31) | (z_flag_FPSCR_ &lt;&lt; 30) |</div>
<div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;                         (c_flag_FPSCR_ &lt;&lt; 29) | (v_flag_FPSCR_ &lt;&lt; 28) |</div>
<div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;                         (FPSCR_default_NaN_mode_ &lt;&lt; 25) |</div>
<div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;                         (inexact_vfp_flag_ &lt;&lt; 4) | (underflow_vfp_flag_ &lt;&lt; 3) |</div>
<div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;                         (overflow_vfp_flag_ &lt;&lt; 2) | (div_zero_vfp_flag_ &lt;&lt; 1) |</div>
<div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;                         (inv_op_vfp_flag_ &lt;&lt; 0) | (FPSCR_rounding_mode_);</div>
<div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;        set_register(rt, fpscr);</div>
<div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;      }</div>
<div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((instr-&gt;VLValue() == 0x0) &amp;&amp; (instr-&gt;VCValue() == 0x0) &amp;&amp;</div>
<div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;               (instr-&gt;VAValue() == 0x7) &amp;&amp; (instr-&gt;Bits(19, 16) == 0x1)) {</div>
<div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;      <span class="comment">// vmsr</span></div>
<div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;      uint32_t rt = instr-&gt;RtValue();</div>
<div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;      <span class="keywordflow">if</span> (rt == pc) {</div>
<div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;        uint32_t rt_value = get_register(rt);</div>
<div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;        n_flag_FPSCR_ = (rt_value &gt;&gt; 31) &amp; 1;</div>
<div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;        z_flag_FPSCR_ = (rt_value &gt;&gt; 30) &amp; 1;</div>
<div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;        c_flag_FPSCR_ = (rt_value &gt;&gt; 29) &amp; 1;</div>
<div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160;        v_flag_FPSCR_ = (rt_value &gt;&gt; 28) &amp; 1;</div>
<div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160;        FPSCR_default_NaN_mode_ = (rt_value &gt;&gt; 25) &amp; 1;</div>
<div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;        inexact_vfp_flag_ = (rt_value &gt;&gt; 4) &amp; 1;</div>
<div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;        underflow_vfp_flag_ = (rt_value &gt;&gt; 3) &amp; 1;</div>
<div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;        overflow_vfp_flag_ = (rt_value &gt;&gt; 2) &amp; 1;</div>
<div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;        div_zero_vfp_flag_ = (rt_value &gt;&gt; 1) &amp; 1;</div>
<div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;        inv_op_vfp_flag_ = (rt_value &gt;&gt; 0) &amp; 1;</div>
<div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;        FPSCR_rounding_mode_ =</div>
<div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;            <span class="keyword">static_cast&lt;</span><a class="code" href="namespacev8_1_1internal.html#a7c6a628936bd7a17e8ec424da0a09d70">VFPRoundingMode</a><span class="keyword">&gt;</span>((rt_value)&amp;<a class="code" href="namespacev8_1_1internal.html#ad7078f6744a97644b10ee2e277323a75">kVFPRoundingModeMask</a>);</div>
<div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;      }</div>
<div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();  <span class="comment">// Not used by V8.</span></div>
<div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;    }</div>
<div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160;  }</div>
<div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;}</div>
<div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160; </div>
<div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160;<span class="keywordtype">void</span> Simulator::DecodeTypeCP15(Instruction* instr) {</div>
<div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>((instr-&gt;TypeValue() == 7) &amp;&amp; (instr-&gt;Bit(24) == 0x0));</div>
<div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(instr-&gt;CoprocessorValue(), 15);</div>
<div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160; </div>
<div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;  <span class="keywordflow">if</span> (instr-&gt;Bit(4) == 1) {</div>
<div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160;    <span class="comment">// mcr</span></div>
<div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160;    <span class="keywordtype">int</span> crn = instr-&gt;Bits(19, 16);</div>
<div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160;    <span class="keywordtype">int</span> crm = instr-&gt;Bits(3, 0);</div>
<div class="line"><a name="l03587"></a><span class="lineno"> 3587</span>&#160;    <span class="keywordtype">int</span> opc1 = instr-&gt;Bits(23, 21);</div>
<div class="line"><a name="l03588"></a><span class="lineno"> 3588</span>&#160;    <span class="keywordtype">int</span> opc2 = instr-&gt;Bits(7, 5);</div>
<div class="line"><a name="l03589"></a><span class="lineno"> 3589</span>&#160;    <span class="keywordflow">if</span> ((opc1 == 0) &amp;&amp; (crn == 7)) {</div>
<div class="line"><a name="l03590"></a><span class="lineno"> 3590</span>&#160;      <span class="comment">// ARMv6 memory barrier operations.</span></div>
<div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160;      <span class="comment">// Details available in ARM DDI 0406C.b, B3-1750.</span></div>
<div class="line"><a name="l03592"></a><span class="lineno"> 3592</span>&#160;      <span class="keywordflow">if</span> (((crm == 10) &amp;&amp; (opc2 == 5)) ||  <span class="comment">// CP15DMB</span></div>
<div class="line"><a name="l03593"></a><span class="lineno"> 3593</span>&#160;          ((crm == 10) &amp;&amp; (opc2 == 4)) ||  <span class="comment">// CP15DSB</span></div>
<div class="line"><a name="l03594"></a><span class="lineno"> 3594</span>&#160;          ((crm == 5) &amp;&amp; (opc2 == 4))) {   <span class="comment">// CP15ISB</span></div>
<div class="line"><a name="l03595"></a><span class="lineno"> 3595</span>&#160;        <span class="comment">// These are ignored by the simulator for now.</span></div>
<div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;      }</div>
<div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160;    }</div>
<div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160;  }</div>
<div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;}</div>
<div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160; </div>
<div class="line"><a name="l03605"></a><span class="lineno"> 3605</span>&#160;<span class="keywordtype">void</span> Simulator::DecodeVMOVBetweenCoreAndSinglePrecisionRegisters(</div>
<div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160;    Instruction* instr) {</div>
<div class="line"><a name="l03607"></a><span class="lineno"> 3607</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>((instr-&gt;Bit(4) == 1) &amp;&amp; (instr-&gt;VCValue() == 0x0) &amp;&amp;</div>
<div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160;         (instr-&gt;VAValue() == 0x0));</div>
<div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160; </div>
<div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160;  <span class="keywordtype">int</span> t = instr-&gt;RtValue();</div>
<div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160;  <span class="keywordtype">int</span> n = instr-&gt;VFPNRegValue(<a class="code" href="namespacev8_1_1internal.html#ae14e6362993db69563ab083b46626ba6">kSinglePrecision</a>);</div>
<div class="line"><a name="l03612"></a><span class="lineno"> 3612</span>&#160;  <span class="keywordtype">bool</span> to_arm_register = (instr-&gt;VLValue() == 0x1);</div>
<div class="line"><a name="l03613"></a><span class="lineno"> 3613</span>&#160; </div>
<div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;  <span class="keywordflow">if</span> (to_arm_register) {</div>
<div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;    <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> int_value = get_sinteger_from_s_register(n);</div>
<div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160;    set_register(t, int_value);</div>
<div class="line"><a name="l03617"></a><span class="lineno"> 3617</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03618"></a><span class="lineno"> 3618</span>&#160;    <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> rs_val = get_register(t);</div>
<div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160;    set_s_register_from_sinteger(n, rs_val);</div>
<div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160;  }</div>
<div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;}</div>
<div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160; </div>
<div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160;<span class="keywordtype">void</span> Simulator::DecodeVCMP(Instruction* instr) {</div>
<div class="line"><a name="l03624"></a><span class="lineno"> 3624</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>((instr-&gt;Bit(4) == 0) &amp;&amp; (instr-&gt;Opc1Value() == 0x7));</div>
<div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(((instr-&gt;Opc2Value() == 0x4) || (instr-&gt;Opc2Value() == 0x5)) &amp;&amp;</div>
<div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160;         (instr-&gt;Opc3Value() &amp; 0x1));</div>
<div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160;  <span class="comment">// Comparison.</span></div>
<div class="line"><a name="l03628"></a><span class="lineno"> 3628</span>&#160; </div>
<div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#afaba3ab6789d8667b2e54b8a3a01011f">VFPRegPrecision</a> precision = <a class="code" href="namespacev8_1_1internal.html#ae14e6362993db69563ab083b46626ba6">kSinglePrecision</a>;</div>
<div class="line"><a name="l03630"></a><span class="lineno"> 3630</span>&#160;  <span class="keywordflow">if</span> (instr-&gt;SzValue() == 0x1) {</div>
<div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;    precision = <a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>;</div>
<div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;  }</div>
<div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160; </div>
<div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;  <span class="keywordtype">int</span> d = instr-&gt;VFPDRegValue(precision);</div>
<div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160;  <span class="keywordtype">int</span> m = 0;</div>
<div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;  <span class="keywordflow">if</span> (instr-&gt;Opc2Value() == 0x4) {</div>
<div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;    m = instr-&gt;VFPMRegValue(precision);</div>
<div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160;  }</div>
<div class="line"><a name="l03639"></a><span class="lineno"> 3639</span>&#160; </div>
<div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;  <span class="keywordflow">if</span> (precision == <a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>) {</div>
<div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160;    <span class="keywordtype">double</span> dd_value = get_double_from_d_register(d).get_scalar();</div>
<div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160;    <span class="keywordtype">double</span> dm_value = 0.0;</div>
<div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;    <span class="keywordflow">if</span> (instr-&gt;Opc2Value() == 0x4) {</div>
<div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160;      dm_value = get_double_from_d_register(m).get_scalar();</div>
<div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160;    }</div>
<div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160; </div>
<div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;    <span class="comment">// Raise exceptions for quiet NaNs if necessary.</span></div>
<div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160;    <span class="keywordflow">if</span> (instr-&gt;Bit(7) == 1) {</div>
<div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160;      <span class="keywordflow">if</span> (std::isnan(dd_value)) {</div>
<div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160;        inv_op_vfp_flag_ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03651"></a><span class="lineno"> 3651</span>&#160;      }</div>
<div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160;    }</div>
<div class="line"><a name="l03653"></a><span class="lineno"> 3653</span>&#160; </div>
<div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;    Compute_FPSCR_Flags(dd_value, dm_value);</div>
<div class="line"><a name="l03655"></a><span class="lineno"> 3655</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03656"></a><span class="lineno"> 3656</span>&#160;    <span class="keywordtype">float</span> sd_value = get_float_from_s_register(d).get_scalar();</div>
<div class="line"><a name="l03657"></a><span class="lineno"> 3657</span>&#160;    <span class="keywordtype">float</span> sm_value = 0.0;</div>
<div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160;    <span class="keywordflow">if</span> (instr-&gt;Opc2Value() == 0x4) {</div>
<div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160;      sm_value = get_float_from_s_register(m).get_scalar();</div>
<div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160;    }</div>
<div class="line"><a name="l03661"></a><span class="lineno"> 3661</span>&#160; </div>
<div class="line"><a name="l03662"></a><span class="lineno"> 3662</span>&#160;    <span class="comment">// Raise exceptions for quiet NaNs if necessary.</span></div>
<div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;    <span class="keywordflow">if</span> (instr-&gt;Bit(7) == 1) {</div>
<div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160;      <span class="keywordflow">if</span> (std::isnan(sd_value)) {</div>
<div class="line"><a name="l03665"></a><span class="lineno"> 3665</span>&#160;        inv_op_vfp_flag_ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03666"></a><span class="lineno"> 3666</span>&#160;      }</div>
<div class="line"><a name="l03667"></a><span class="lineno"> 3667</span>&#160;    }</div>
<div class="line"><a name="l03668"></a><span class="lineno"> 3668</span>&#160; </div>
<div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160;    Compute_FPSCR_Flags(sd_value, sm_value);</div>
<div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160;  }</div>
<div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160;}</div>
<div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160; </div>
<div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160;<span class="keywordtype">void</span> Simulator::DecodeVCVTBetweenDoubleAndSingle(Instruction* instr) {</div>
<div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>((instr-&gt;Bit(4) == 0) &amp;&amp; (instr-&gt;Opc1Value() == 0x7));</div>
<div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>((instr-&gt;Opc2Value() == 0x7) &amp;&amp; (instr-&gt;Opc3Value() == 0x3));</div>
<div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160; </div>
<div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#afaba3ab6789d8667b2e54b8a3a01011f">VFPRegPrecision</a> dst_precision = <a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>;</div>
<div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#afaba3ab6789d8667b2e54b8a3a01011f">VFPRegPrecision</a> src_precision = <a class="code" href="namespacev8_1_1internal.html#ae14e6362993db69563ab083b46626ba6">kSinglePrecision</a>;</div>
<div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160;  <span class="keywordflow">if</span> (instr-&gt;SzValue() == 1) {</div>
<div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160;    dst_precision = <a class="code" href="namespacev8_1_1internal.html#ae14e6362993db69563ab083b46626ba6">kSinglePrecision</a>;</div>
<div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160;    src_precision = <a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>;</div>
<div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;  }</div>
<div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160; </div>
<div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;  <span class="keywordtype">int</span> dst = instr-&gt;VFPDRegValue(dst_precision);</div>
<div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160;  <span class="keywordtype">int</span> src = instr-&gt;VFPMRegValue(src_precision);</div>
<div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160; </div>
<div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160;  <span class="keywordflow">if</span> (dst_precision == <a class="code" href="namespacev8_1_1internal.html#ae14e6362993db69563ab083b46626ba6">kSinglePrecision</a>) {</div>
<div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;    <span class="keywordtype">double</span> val = get_double_from_d_register(src).get_scalar();</div>
<div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;    set_s_register_from_float(dst, <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(val));</div>
<div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;    <span class="keywordtype">float</span> val = get_float_from_s_register(src).get_scalar();</div>
<div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;    set_d_register_from_double(dst, <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(val));</div>
<div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160;  }</div>
<div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;}</div>
<div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160; </div>
<div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;<span class="keywordtype">bool</span> get_inv_op_vfp_flag(<a class="code" href="namespacev8_1_1internal.html#a7c6a628936bd7a17e8ec424da0a09d70">VFPRoundingMode</a> <a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a>, <span class="keywordtype">double</span> val, <span class="keywordtype">bool</span> unsigned_) {</div>
<div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>((<a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a> == <a class="code" href="namespacev8_1_1internal.html#ac346df9da20a421df9ec2aa8819aca04">RN</a>) || (<a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a> == <a class="code" href="namespacev8_1_1internal.html#a6a931940c24668beb79973ad102f3cb5">RM</a>) || (<a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a> == <a class="code" href="namespacev8_1_1internal.html#a94883fb9ed21fecd7d7b8d49b6c89abc">RZ</a>));</div>
<div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;  <span class="keywordtype">double</span> max_uint = <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(0xFFFFFFFFu);</div>
<div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160;  <span class="keywordtype">double</span> max_int = <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal.html#ad03e50e4d15ee0da6a722254f350e7eb">kMaxInt</a>);</div>
<div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160;  <span class="keywordtype">double</span> min_int = <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal.html#a0142fe827e126a048f164f6405947e72">kMinInt</a>);</div>
<div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160; </div>
<div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;  <span class="comment">// Check for NaN.</span></div>
<div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;  <span class="keywordflow">if</span> (val != val) {</div>
<div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;  }</div>
<div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160; </div>
<div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;  <span class="comment">// Check for overflow. This code works because 32bit integers can be</span></div>
<div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;  <span class="comment">// exactly represented by ieee-754 64bit floating-point values.</span></div>
<div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a>) {</div>
<div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#ac346df9da20a421df9ec2aa8819aca04">RN</a>:</div>
<div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;      <span class="keywordflow">return</span> unsigned_ ? (val &gt;= (max_uint + 0.5)) || (val &lt; -0.5)</div>
<div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;                       : (val &gt;= (max_int + 0.5)) || (val &lt; (min_int - 0.5));</div>
<div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160; </div>
<div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6a931940c24668beb79973ad102f3cb5">RM</a>:</div>
<div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;      <span class="keywordflow">return</span> unsigned_ ? (val &gt;= (max_uint + 1.0)) || (val &lt; 0)</div>
<div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;                       : (val &gt;= (max_int + 1.0)) || (val &lt; min_int);</div>
<div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160; </div>
<div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a94883fb9ed21fecd7d7b8d49b6c89abc">RZ</a>:</div>
<div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;      <span class="keywordflow">return</span> unsigned_ ? (val &gt;= (max_uint + 1.0)) || (val &lt;= -1)</div>
<div class="line"><a name="l03720"></a><span class="lineno"> 3720</span>&#160;                       : (val &gt;= (max_int + 1.0)) || (val &lt;= (min_int - 1.0));</div>
<div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;  }</div>
<div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;}</div>
<div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160; </div>
<div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;<span class="comment">// We call this function only if we had a vfp invalid exception.</span></div>
<div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;<span class="comment">// It returns the correct saturated value.</span></div>
<div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;<span class="keywordtype">int</span> VFPConversionSaturate(<span class="keywordtype">double</span> val, <span class="keywordtype">bool</span> unsigned_res) {</div>
<div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;  <span class="keywordflow">if</span> (val != val) {</div>
<div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;    <span class="keywordflow">if</span> (unsigned_res) {</div>
<div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160;      <span class="keywordflow">return</span> (val &lt; 0) ? 0 : 0xFFFFFFFFu;</div>
<div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;      <span class="keywordflow">return</span> (val &lt; 0) ? <a class="code" href="namespacev8_1_1internal.html#a0142fe827e126a048f164f6405947e72">kMinInt</a> : <a class="code" href="namespacev8_1_1internal.html#ad03e50e4d15ee0da6a722254f350e7eb">kMaxInt</a>;</div>
<div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160;    }</div>
<div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;  }</div>
<div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;}</div>
<div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160; </div>
<div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160;<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> Simulator::ConvertDoubleToInt(<span class="keywordtype">double</span> val, <span class="keywordtype">bool</span> unsigned_integer,</div>
<div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160;                                      <a class="code" href="namespacev8_1_1internal.html#a7c6a628936bd7a17e8ec424da0a09d70">VFPRoundingMode</a> <a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a>) {</div>
<div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160;  <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160;  <span class="keywordflow">if</span> (unsigned_integer) {</div>
<div class="line"><a name="l03744"></a><span class="lineno"> 3744</span>&#160;    <span class="comment">// The FastD2UI helper does not have the rounding behavior we want here</span></div>
<div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160;    <span class="comment">// (it doesn&#39;t guarantee any particular rounding, and it doesn&#39;t check</span></div>
<div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160;    <span class="comment">// for or handle overflow), so do the conversion by hand.</span></div>
<div class="line"><a name="l03747"></a><span class="lineno"> 3747</span>&#160;    <span class="keyword">using</span> limits = std::numeric_limits&lt;uint32_t&gt;;</div>
<div class="line"><a name="l03748"></a><span class="lineno"> 3748</span>&#160;    <span class="keywordflow">if</span> (val &gt; limits::max()) {</div>
<div class="line"><a name="l03749"></a><span class="lineno"> 3749</span>&#160;      <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = limits::max();</div>
<div class="line"><a name="l03750"></a><span class="lineno"> 3750</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!(val &gt;= 0)) {  <span class="comment">// Negation to catch NaNs.</span></div>
<div class="line"><a name="l03751"></a><span class="lineno"> 3751</span>&#160;      <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = 0;</div>
<div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160;      <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(val);</div>
<div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160;    }</div>
<div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03756"></a><span class="lineno"> 3756</span>&#160;    <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <a class="code" href="namespacev8_1_1internal.html#ae74c1cbae19c6aa1de418121c926847e">FastD2IChecked</a>(val);</div>
<div class="line"><a name="l03757"></a><span class="lineno"> 3757</span>&#160;  }</div>
<div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160; </div>
<div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160;  inv_op_vfp_flag_ = get_inv_op_vfp_flag(<a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a>, val, unsigned_integer);</div>
<div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160; </div>
<div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;  <span class="keywordtype">double</span> abs_diff = unsigned_integer</div>
<div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160;                        ? std::fabs(val - <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>))</div>
<div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160;                        : std::fabs(val - <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>);</div>
<div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160; </div>
<div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160;  inexact_vfp_flag_ = (abs_diff != 0);</div>
<div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160; </div>
<div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;  <span class="keywordflow">if</span> (inv_op_vfp_flag_) {</div>
<div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;    <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = VFPConversionSaturate(val, unsigned_integer);</div>
<div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a>) {</div>
<div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#ac346df9da20a421df9ec2aa8819aca04">RN</a>: {</div>
<div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160;        <span class="keywordtype">int</span> val_sign = (val &gt; 0) ? 1 : -1;</div>
<div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;        <span class="keywordflow">if</span> (abs_diff &gt; 0.5) {</div>
<div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;          <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> += val_sign;</div>
<div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (abs_diff == 0.5) {</div>
<div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160;          <span class="comment">// Round to even if exactly halfway.</span></div>
<div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160;          <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = ((<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> % 2) == 0)</div>
<div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;                       ? <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a></div>
<div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160;                       : base::AddWithWraparound(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>, val_sign);</div>
<div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;        }</div>
<div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;      }</div>
<div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160; </div>
<div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6a931940c24668beb79973ad102f3cb5">RM</a>:</div>
<div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160;        <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> &gt; val ? <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> - 1 : <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160; </div>
<div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a94883fb9ed21fecd7d7b8d49b6c89abc">RZ</a>:</div>
<div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160;        <span class="comment">// Nothing to do.</span></div>
<div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160; </div>
<div class="line"><a name="l03792"></a><span class="lineno"> 3792</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160;    }</div>
<div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160;  }</div>
<div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l03797"></a><span class="lineno"> 3797</span>&#160;}</div>
<div class="line"><a name="l03798"></a><span class="lineno"> 3798</span>&#160; </div>
<div class="line"><a name="l03799"></a><span class="lineno"> 3799</span>&#160;<span class="keywordtype">void</span> Simulator::DecodeVCVTBetweenFloatingPointAndInteger(Instruction* instr) {</div>
<div class="line"><a name="l03800"></a><span class="lineno"> 3800</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>((instr-&gt;Bit(4) == 0) &amp;&amp; (instr-&gt;Opc1Value() == 0x7) &amp;&amp;</div>
<div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160;         (instr-&gt;Bits(27, 23) == 0x1D));</div>
<div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(((instr-&gt;Opc2Value() == 0x8) &amp;&amp; (instr-&gt;Opc3Value() &amp; 0x1)) ||</div>
<div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160;         (((instr-&gt;Opc2Value() &gt;&gt; 1) == 0x6) &amp;&amp; (instr-&gt;Opc3Value() &amp; 0x1)));</div>
<div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160; </div>
<div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;  <span class="comment">// Conversion between floating-point and integer.</span></div>
<div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;  <span class="keywordtype">bool</span> to_integer = (instr-&gt;Bit(18) == 1);</div>
<div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160; </div>
<div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#afaba3ab6789d8667b2e54b8a3a01011f">VFPRegPrecision</a> src_precision =</div>
<div class="line"><a name="l03809"></a><span class="lineno"> 3809</span>&#160;      (instr-&gt;SzValue() == 1) ? <a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a> : <a class="code" href="namespacev8_1_1internal.html#ae14e6362993db69563ab083b46626ba6">kSinglePrecision</a>;</div>
<div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160; </div>
<div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;  <span class="keywordflow">if</span> (to_integer) {</div>
<div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;    <span class="comment">// We are playing with code close to the C++ standard&#39;s limits below,</span></div>
<div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;    <span class="comment">// hence the very simple code and heavy checks.</span></div>
<div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;    <span class="comment">// Note:</span></div>
<div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;    <span class="comment">// C++ defines default type casting from floating point to integer as</span></div>
<div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;    <span class="comment">// (close to) rounding toward zero (&quot;fractional part discarded&quot;).</span></div>
<div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160; </div>
<div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160;    <span class="keywordtype">int</span> dst = instr-&gt;VFPDRegValue(<a class="code" href="namespacev8_1_1internal.html#ae14e6362993db69563ab083b46626ba6">kSinglePrecision</a>);</div>
<div class="line"><a name="l03820"></a><span class="lineno"> 3820</span>&#160;    <span class="keywordtype">int</span> src = instr-&gt;VFPMRegValue(src_precision);</div>
<div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160; </div>
<div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;    <span class="comment">// Bit 7 in vcvt instructions indicates if we should use the FPSCR rounding</span></div>
<div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;    <span class="comment">// mode or the default Round to Zero mode.</span></div>
<div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a7c6a628936bd7a17e8ec424da0a09d70">VFPRoundingMode</a> <a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a> = (instr-&gt;Bit(7) != 1) ? FPSCR_rounding_mode_ : <a class="code" href="namespacev8_1_1internal.html#a94883fb9ed21fecd7d7b8d49b6c89abc">RZ</a>;</div>
<div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>((<a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a> == <a class="code" href="namespacev8_1_1internal.html#a6a931940c24668beb79973ad102f3cb5">RM</a>) || (<a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a> == <a class="code" href="namespacev8_1_1internal.html#a94883fb9ed21fecd7d7b8d49b6c89abc">RZ</a>) || (<a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a> == <a class="code" href="namespacev8_1_1internal.html#ac346df9da20a421df9ec2aa8819aca04">RN</a>));</div>
<div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160; </div>
<div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;    <span class="keywordtype">bool</span> unsigned_integer = (instr-&gt;Bit(16) == 0);</div>
<div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;    <span class="keywordtype">bool</span> double_precision = (src_precision == <a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160; </div>
<div class="line"><a name="l03830"></a><span class="lineno"> 3830</span>&#160;    <span class="keywordtype">double</span> val = double_precision ? get_double_from_d_register(src).get_scalar()</div>
<div class="line"><a name="l03831"></a><span class="lineno"> 3831</span>&#160;                                  : get_float_from_s_register(src).get_scalar();</div>
<div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160; </div>
<div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160;    <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> temp = ConvertDoubleToInt(val, unsigned_integer, <a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a>);</div>
<div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160; </div>
<div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160;    <span class="comment">// Update the destination register.</span></div>
<div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160;    set_s_register_from_sinteger(dst, temp);</div>
<div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160; </div>
<div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;    <span class="keywordtype">bool</span> unsigned_integer = (instr-&gt;Bit(7) == 0);</div>
<div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160; </div>
<div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160;    <span class="keywordtype">int</span> dst = instr-&gt;VFPDRegValue(src_precision);</div>
<div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160;    <span class="keywordtype">int</span> src = instr-&gt;VFPMRegValue(<a class="code" href="namespacev8_1_1internal.html#ae14e6362993db69563ab083b46626ba6">kSinglePrecision</a>);</div>
<div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160; </div>
<div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;    <span class="keywordtype">int</span> val = get_sinteger_from_s_register(src);</div>
<div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160; </div>
<div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;    <span class="keywordflow">if</span> (src_precision == <a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>) {</div>
<div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;      <span class="keywordflow">if</span> (unsigned_integer) {</div>
<div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;        set_d_register_from_double(</div>
<div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;            dst, <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(val)));</div>
<div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;        set_d_register_from_double(dst, <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(val));</div>
<div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160;      }</div>
<div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03854"></a><span class="lineno"> 3854</span>&#160;      <span class="keywordflow">if</span> (unsigned_integer) {</div>
<div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160;        set_s_register_from_float(</div>
<div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160;            dst, <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(val)));</div>
<div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160;        set_s_register_from_float(dst, <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(val));</div>
<div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160;      }</div>
<div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;    }</div>
<div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160;  }</div>
<div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;}</div>
<div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160; </div>
<div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160;<span class="comment">// void Simulator::DecodeType6CoprocessorIns(Instruction* instr)</span></div>
<div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;<span class="comment">// Decode Type 6 coprocessor instructions.</span></div>
<div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;<span class="comment">// Dm = vmov(Rt, Rt2)</span></div>
<div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;<span class="comment">// &lt;Rt, Rt2&gt; = vmov(Dm)</span></div>
<div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160;<span class="comment">// Ddst = MEM(Rbase + 4*offset).</span></div>
<div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;<span class="comment">// MEM(Rbase + 4*offset) = Dsrc.</span></div>
<div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;<span class="keywordtype">void</span> Simulator::DecodeType6CoprocessorIns(Instruction* instr) {</div>
<div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(instr-&gt;TypeValue(), 6);</div>
<div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160; </div>
<div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160;  <span class="keywordflow">if</span> (instr-&gt;CoprocessorValue() == 0xA) {</div>
<div class="line"><a name="l03874"></a><span class="lineno"> 3874</span>&#160;    <span class="keywordflow">switch</span> (instr-&gt;OpcodeValue()) {</div>
<div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160;      <span class="keywordflow">case</span> 0x8:</div>
<div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160;      <span class="keywordflow">case</span> 0xA:</div>
<div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160;      <span class="keywordflow">case</span> 0xC:</div>
<div class="line"><a name="l03878"></a><span class="lineno"> 3878</span>&#160;      <span class="keywordflow">case</span> 0xE: {  <span class="comment">// Load and store single precision float to memory.</span></div>
<div class="line"><a name="l03879"></a><span class="lineno"> 3879</span>&#160;        <span class="keywordtype">int</span> rn = instr-&gt;RnValue();</div>
<div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160;        <span class="keywordtype">int</span> vd = instr-&gt;VFPDRegValue(<a class="code" href="namespacev8_1_1internal.html#ae14e6362993db69563ab083b46626ba6">kSinglePrecision</a>);</div>
<div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160;        <span class="keywordtype">int</span> offset = instr-&gt;Immed8Value();</div>
<div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;        <span class="keywordflow">if</span> (!instr-&gt;HasU()) {</div>
<div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;          offset = -offset;</div>
<div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160;        }</div>
<div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160; </div>
<div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;        <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> address = get_register(rn) + 4 * offset;</div>
<div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160;        <span class="comment">// Load and store address for singles must be at least four-byte</span></div>
<div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160;        <span class="comment">// aligned.</span></div>
<div class="line"><a name="l03889"></a><span class="lineno"> 3889</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(address % 4, 0);</div>
<div class="line"><a name="l03890"></a><span class="lineno"> 3890</span>&#160;        <span class="keywordflow">if</span> (instr-&gt;HasL()) {</div>
<div class="line"><a name="l03891"></a><span class="lineno"> 3891</span>&#160;          <span class="comment">// Load single from memory: vldr.</span></div>
<div class="line"><a name="l03892"></a><span class="lineno"> 3892</span>&#160;          set_s_register_from_sinteger(vd, ReadW(address));</div>
<div class="line"><a name="l03893"></a><span class="lineno"> 3893</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03894"></a><span class="lineno"> 3894</span>&#160;          <span class="comment">// Store single to memory: vstr.</span></div>
<div class="line"><a name="l03895"></a><span class="lineno"> 3895</span>&#160;          WriteW(address, get_sinteger_from_s_register(vd));</div>
<div class="line"><a name="l03896"></a><span class="lineno"> 3896</span>&#160;        }</div>
<div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03898"></a><span class="lineno"> 3898</span>&#160;      }</div>
<div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160;      <span class="keywordflow">case</span> 0x4:</div>
<div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;      <span class="keywordflow">case</span> 0x5:</div>
<div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160;      <span class="keywordflow">case</span> 0x6:</div>
<div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160;      <span class="keywordflow">case</span> 0x7:</div>
<div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160;      <span class="keywordflow">case</span> 0x9:</div>
<div class="line"><a name="l03904"></a><span class="lineno"> 3904</span>&#160;      <span class="keywordflow">case</span> 0xB:</div>
<div class="line"><a name="l03905"></a><span class="lineno"> 3905</span>&#160;        <span class="comment">// Load/store multiple single from memory: vldm/vstm.</span></div>
<div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160;        HandleVList(instr);</div>
<div class="line"><a name="l03907"></a><span class="lineno"> 3907</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();  <span class="comment">// Not used by V8.</span></div>
<div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160;    }</div>
<div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (instr-&gt;CoprocessorValue() == 0xB) {</div>
<div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160;    <span class="keywordflow">switch</span> (instr-&gt;OpcodeValue()) {</div>
<div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160;      <span class="keywordflow">case</span> 0x2:</div>
<div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160;        <span class="comment">// Load and store double to two GP registers</span></div>
<div class="line"><a name="l03915"></a><span class="lineno"> 3915</span>&#160;        <span class="keywordflow">if</span> (instr-&gt;Bits(7, 6) != 0 || instr-&gt;Bit(4) != 1) {</div>
<div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();  <span class="comment">// Not used by V8.</span></div>
<div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;          <span class="keywordtype">int</span> rt = instr-&gt;RtValue();</div>
<div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160;          <span class="keywordtype">int</span> rn = instr-&gt;RnValue();</div>
<div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160;          <span class="keywordtype">int</span> vm = instr-&gt;VFPMRegValue(<a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l03921"></a><span class="lineno"> 3921</span>&#160;          <span class="keywordflow">if</span> (instr-&gt;HasL()) {</div>
<div class="line"><a name="l03922"></a><span class="lineno"> 3922</span>&#160;            uint32_t data[2];</div>
<div class="line"><a name="l03923"></a><span class="lineno"> 3923</span>&#160;            get_d_register(vm, data);</div>
<div class="line"><a name="l03924"></a><span class="lineno"> 3924</span>&#160;            set_register(rt, data[0]);</div>
<div class="line"><a name="l03925"></a><span class="lineno"> 3925</span>&#160;            set_register(rn, data[1]);</div>
<div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;            <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> data[] = {get_register(rt), get_register(rn)};</div>
<div class="line"><a name="l03928"></a><span class="lineno"> 3928</span>&#160;            set_d_register(vm, <span class="keyword">reinterpret_cast&lt;</span>uint32_t*<span class="keyword">&gt;</span>(data));</div>
<div class="line"><a name="l03929"></a><span class="lineno"> 3929</span>&#160;          }</div>
<div class="line"><a name="l03930"></a><span class="lineno"> 3930</span>&#160;        }</div>
<div class="line"><a name="l03931"></a><span class="lineno"> 3931</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03932"></a><span class="lineno"> 3932</span>&#160;      <span class="keywordflow">case</span> 0x8:</div>
<div class="line"><a name="l03933"></a><span class="lineno"> 3933</span>&#160;      <span class="keywordflow">case</span> 0xA:</div>
<div class="line"><a name="l03934"></a><span class="lineno"> 3934</span>&#160;      <span class="keywordflow">case</span> 0xC:</div>
<div class="line"><a name="l03935"></a><span class="lineno"> 3935</span>&#160;      <span class="keywordflow">case</span> 0xE: {  <span class="comment">// Load and store double to memory.</span></div>
<div class="line"><a name="l03936"></a><span class="lineno"> 3936</span>&#160;        <span class="keywordtype">int</span> rn = instr-&gt;RnValue();</div>
<div class="line"><a name="l03937"></a><span class="lineno"> 3937</span>&#160;        <span class="keywordtype">int</span> vd = instr-&gt;VFPDRegValue(<a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l03938"></a><span class="lineno"> 3938</span>&#160;        <span class="keywordtype">int</span> offset = instr-&gt;Immed8Value();</div>
<div class="line"><a name="l03939"></a><span class="lineno"> 3939</span>&#160;        <span class="keywordflow">if</span> (!instr-&gt;HasU()) {</div>
<div class="line"><a name="l03940"></a><span class="lineno"> 3940</span>&#160;          offset = -offset;</div>
<div class="line"><a name="l03941"></a><span class="lineno"> 3941</span>&#160;        }</div>
<div class="line"><a name="l03942"></a><span class="lineno"> 3942</span>&#160;        <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> address = get_register(rn) + 4 * offset;</div>
<div class="line"><a name="l03943"></a><span class="lineno"> 3943</span>&#160;        <span class="comment">// Load and store address for doubles must be at least four-byte</span></div>
<div class="line"><a name="l03944"></a><span class="lineno"> 3944</span>&#160;        <span class="comment">// aligned.</span></div>
<div class="line"><a name="l03945"></a><span class="lineno"> 3945</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(address % 4, 0);</div>
<div class="line"><a name="l03946"></a><span class="lineno"> 3946</span>&#160;        <span class="keywordflow">if</span> (instr-&gt;HasL()) {</div>
<div class="line"><a name="l03947"></a><span class="lineno"> 3947</span>&#160;          <span class="comment">// Load double from memory: vldr.</span></div>
<div class="line"><a name="l03948"></a><span class="lineno"> 3948</span>&#160;          <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> data[] = {ReadW(address), ReadW(address + 4)};</div>
<div class="line"><a name="l03949"></a><span class="lineno"> 3949</span>&#160;          set_d_register(vd, <span class="keyword">reinterpret_cast&lt;</span>uint32_t*<span class="keyword">&gt;</span>(data));</div>
<div class="line"><a name="l03950"></a><span class="lineno"> 3950</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03951"></a><span class="lineno"> 3951</span>&#160;          <span class="comment">// Store double to memory: vstr.</span></div>
<div class="line"><a name="l03952"></a><span class="lineno"> 3952</span>&#160;          uint32_t data[2];</div>
<div class="line"><a name="l03953"></a><span class="lineno"> 3953</span>&#160;          get_d_register(vd, data);</div>
<div class="line"><a name="l03954"></a><span class="lineno"> 3954</span>&#160;          WriteW(address, data[0]);</div>
<div class="line"><a name="l03955"></a><span class="lineno"> 3955</span>&#160;          WriteW(address + 4, data[1]);</div>
<div class="line"><a name="l03956"></a><span class="lineno"> 3956</span>&#160;        }</div>
<div class="line"><a name="l03957"></a><span class="lineno"> 3957</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03958"></a><span class="lineno"> 3958</span>&#160;      }</div>
<div class="line"><a name="l03959"></a><span class="lineno"> 3959</span>&#160;      <span class="keywordflow">case</span> 0x4:</div>
<div class="line"><a name="l03960"></a><span class="lineno"> 3960</span>&#160;      <span class="keywordflow">case</span> 0x5:</div>
<div class="line"><a name="l03961"></a><span class="lineno"> 3961</span>&#160;      <span class="keywordflow">case</span> 0x6:</div>
<div class="line"><a name="l03962"></a><span class="lineno"> 3962</span>&#160;      <span class="keywordflow">case</span> 0x7:</div>
<div class="line"><a name="l03963"></a><span class="lineno"> 3963</span>&#160;      <span class="keywordflow">case</span> 0x9:</div>
<div class="line"><a name="l03964"></a><span class="lineno"> 3964</span>&#160;      <span class="keywordflow">case</span> 0xB:</div>
<div class="line"><a name="l03965"></a><span class="lineno"> 3965</span>&#160;        <span class="comment">// Load/store multiple double from memory: vldm/vstm.</span></div>
<div class="line"><a name="l03966"></a><span class="lineno"> 3966</span>&#160;        HandleVList(instr);</div>
<div class="line"><a name="l03967"></a><span class="lineno"> 3967</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03968"></a><span class="lineno"> 3968</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03969"></a><span class="lineno"> 3969</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();  <span class="comment">// Not used by V8.</span></div>
<div class="line"><a name="l03970"></a><span class="lineno"> 3970</span>&#160;    }</div>
<div class="line"><a name="l03971"></a><span class="lineno"> 3971</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03972"></a><span class="lineno"> 3972</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();  <span class="comment">// Not used by V8.</span></div>
<div class="line"><a name="l03973"></a><span class="lineno"> 3973</span>&#160;  }</div>
<div class="line"><a name="l03974"></a><span class="lineno"> 3974</span>&#160;}</div>
<div class="line"><a name="l03975"></a><span class="lineno"> 3975</span>&#160; </div>
<div class="line"><a name="l03976"></a><span class="lineno"> 3976</span>&#160;<span class="comment">// Helper functions for implementing NEON ops. Unop applies a unary op to each</span></div>
<div class="line"><a name="l03977"></a><span class="lineno"> 3977</span>&#160;<span class="comment">// lane. Binop applies a binary operation to matching input lanes.</span></div>
<div class="line"><a name="l03978"></a><span class="lineno"> 3978</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keywordtype">int</span> SIZE = kSimd128Size&gt;</div>
<div class="line"><a name="l03979"></a><span class="lineno"> 3979</span>&#160;<span class="keywordtype">void</span> Unop(Simulator* simulator, <span class="keywordtype">int</span> Vd, <span class="keywordtype">int</span> Vm, std::function&lt;<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>(<a class="code" href="classT.html">T</a>)&gt; unop) {</div>
<div class="line"><a name="l03980"></a><span class="lineno"> 3980</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kLanes = <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a> / <span class="keyword">sizeof</span>(<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>);</div>
<div class="line"><a name="l03981"></a><span class="lineno"> 3981</span>&#160;  <a class="code" href="classT.html">T</a> src[kLanes];</div>
<div class="line"><a name="l03982"></a><span class="lineno"> 3982</span>&#160;  simulator-&gt;get_neon_register&lt;<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>, <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a>&gt;(Vm, src);</div>
<div class="line"><a name="l03983"></a><span class="lineno"> 3983</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; kLanes; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l03984"></a><span class="lineno"> 3984</span>&#160;    src[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = unop(src[<a class="code" href="namespacev8_1_1internal.html">i</a>]);</div>
<div class="line"><a name="l03985"></a><span class="lineno"> 3985</span>&#160;  }</div>
<div class="line"><a name="l03986"></a><span class="lineno"> 3986</span>&#160;  simulator-&gt;set_neon_register&lt;<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>, <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a>&gt;(Vd, src);</div>
<div class="line"><a name="l03987"></a><span class="lineno"> 3987</span>&#160;}</div>
<div class="line"><a name="l03988"></a><span class="lineno"> 3988</span>&#160; </div>
<div class="line"><a name="l03989"></a><span class="lineno"> 3989</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keywordtype">int</span> SIZE = kSimd128Size&gt;</div>
<div class="line"><a name="l03990"></a><span class="lineno"> 3990</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1liftoff.html#a4fd3bfb27ef3617bfd107cfce21b277e">Binop</a>(Simulator* simulator, <span class="keywordtype">int</span> Vd, <span class="keywordtype">int</span> Vm, <span class="keywordtype">int</span> Vn,</div>
<div class="line"><a name="l03991"></a><span class="lineno"> 3991</span>&#160;           std::function&lt;<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>(<a class="code" href="classT.html">T</a>, <a class="code" href="classT.html">T</a>)&gt; binop) {</div>
<div class="line"><a name="l03992"></a><span class="lineno"> 3992</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kLanes = <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a> / <span class="keyword">sizeof</span>(<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>);</div>
<div class="line"><a name="l03993"></a><span class="lineno"> 3993</span>&#160;  <a class="code" href="classT.html">T</a> src1[kLanes], src2[kLanes];</div>
<div class="line"><a name="l03994"></a><span class="lineno"> 3994</span>&#160;  simulator-&gt;get_neon_register&lt;<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>, <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a>&gt;(Vn, src1);</div>
<div class="line"><a name="l03995"></a><span class="lineno"> 3995</span>&#160;  simulator-&gt;get_neon_register&lt;<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>, <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a>&gt;(Vm, src2);</div>
<div class="line"><a name="l03996"></a><span class="lineno"> 3996</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; kLanes; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l03997"></a><span class="lineno"> 3997</span>&#160;    src1[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = binop(src1[<a class="code" href="namespacev8_1_1internal.html">i</a>], src2[<a class="code" href="namespacev8_1_1internal.html">i</a>]);</div>
<div class="line"><a name="l03998"></a><span class="lineno"> 3998</span>&#160;  }</div>
<div class="line"><a name="l03999"></a><span class="lineno"> 3999</span>&#160;  simulator-&gt;set_neon_register&lt;<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>, <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a>&gt;(Vd, src1);</div>
<div class="line"><a name="l04000"></a><span class="lineno"> 4000</span>&#160;}</div>
<div class="line"><a name="l04001"></a><span class="lineno"> 4001</span>&#160; </div>
<div class="line"><a name="l04002"></a><span class="lineno"> 4002</span>&#160;<span class="comment">// Templated operations for NEON instructions.</span></div>
<div class="line"><a name="l04003"></a><span class="lineno"> 4003</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> U&gt;</div>
<div class="line"><a name="l04004"></a><span class="lineno"> 4004</span>&#160;<a class="code" href="namespacev8_1_1base_1_1internal.html#a709d6f30f1192434c1eb74d0f8a3bc3a">U</a> Widen(<a class="code" href="classT.html">T</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>) {</div>
<div class="line"><a name="l04005"></a><span class="lineno"> 4005</span>&#160;  static_assert(<span class="keyword">sizeof</span>(int64_t) &gt; <span class="keyword">sizeof</span>(<a class="code" href="classT.html">T</a>), <span class="stringliteral">&quot;T must be int32_t or smaller&quot;</span>);</div>
<div class="line"><a name="l04006"></a><span class="lineno"> 4006</span>&#160;  static_assert(<span class="keyword">sizeof</span>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a709d6f30f1192434c1eb74d0f8a3bc3a">U</a>) &gt; <span class="keyword">sizeof</span>(<a class="code" href="classT.html">T</a>), <span class="stringliteral">&quot;T must smaller than U&quot;</span>);</div>
<div class="line"><a name="l04007"></a><span class="lineno"> 4007</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="namespacev8_1_1base_1_1internal.html#a709d6f30f1192434c1eb74d0f8a3bc3a">U</a><span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l04008"></a><span class="lineno"> 4008</span>&#160;}</div>
<div class="line"><a name="l04009"></a><span class="lineno"> 4009</span>&#160; </div>
<div class="line"><a name="l04010"></a><span class="lineno"> 4010</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> U&gt;</div>
<div class="line"><a name="l04011"></a><span class="lineno"> 4011</span>&#160;<span class="keywordtype">void</span> Widen(Simulator* simulator, <span class="keywordtype">int</span> Vd, <span class="keywordtype">int</span> Vm) {</div>
<div class="line"><a name="l04012"></a><span class="lineno"> 4012</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kLanes = 8 / <span class="keyword">sizeof</span>(<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>);</div>
<div class="line"><a name="l04013"></a><span class="lineno"> 4013</span>&#160;  <a class="code" href="classT.html">T</a> src[kLanes];</div>
<div class="line"><a name="l04014"></a><span class="lineno"> 4014</span>&#160;  <a class="code" href="namespacev8_1_1base_1_1internal.html#a709d6f30f1192434c1eb74d0f8a3bc3a">U</a> dst[kLanes];</div>
<div class="line"><a name="l04015"></a><span class="lineno"> 4015</span>&#160;  simulator-&gt;get_neon_register&lt;<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>, <a class="code" href="namespacev8_1_1internal.html#ada67458c5a8e8c0ade0017e5d3c56fd3">kDoubleSize</a>&gt;(Vm, src);</div>
<div class="line"><a name="l04016"></a><span class="lineno"> 4016</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; kLanes; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l04017"></a><span class="lineno"> 4017</span>&#160;    dst[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = Widen&lt;T, U&gt;(src[<a class="code" href="namespacev8_1_1internal.html">i</a>]);</div>
<div class="line"><a name="l04018"></a><span class="lineno"> 4018</span>&#160;  }</div>
<div class="line"><a name="l04019"></a><span class="lineno"> 4019</span>&#160;  simulator-&gt;set_neon_register(Vd, dst);</div>
<div class="line"><a name="l04020"></a><span class="lineno"> 4020</span>&#160;}</div>
<div class="line"><a name="l04021"></a><span class="lineno"> 4021</span>&#160; </div>
<div class="line"><a name="l04022"></a><span class="lineno"> 4022</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keywordtype">int</span> SIZE&gt;</div>
<div class="line"><a name="l04023"></a><span class="lineno"> 4023</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1internal.html#a4cf86377610a7a844281b43c30e7d8b6">Abs</a>(Simulator* simulator, <span class="keywordtype">int</span> Vd, <span class="keywordtype">int</span> Vm) {</div>
<div class="line"><a name="l04024"></a><span class="lineno"> 4024</span>&#160;  Unop&lt;T&gt;(simulator, Vd, Vm, [](<a class="code" href="classT.html">T</a> x) { <span class="keywordflow">return</span> std::abs(x); });</div>
<div class="line"><a name="l04025"></a><span class="lineno"> 4025</span>&#160;}</div>
<div class="line"><a name="l04026"></a><span class="lineno"> 4026</span>&#160; </div>
<div class="line"><a name="l04027"></a><span class="lineno"> 4027</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keywordtype">int</span> SIZE&gt;</div>
<div class="line"><a name="l04028"></a><span class="lineno"> 4028</span>&#160;<span class="keywordtype">void</span> Neg(Simulator* simulator, <span class="keywordtype">int</span> Vd, <span class="keywordtype">int</span> Vm) {</div>
<div class="line"><a name="l04029"></a><span class="lineno"> 4029</span>&#160;  Unop&lt;T&gt;(simulator, Vd, Vm, [](<a class="code" href="classT.html">T</a> x) {</div>
<div class="line"><a name="l04030"></a><span class="lineno"> 4030</span>&#160;    <span class="comment">// The respective minimum (negative) value maps to itself.</span></div>
<div class="line"><a name="l04031"></a><span class="lineno"> 4031</span>&#160;    <span class="keywordflow">return</span> x == std::numeric_limits&lt;T&gt;::min() ? x : -x;</div>
<div class="line"><a name="l04032"></a><span class="lineno"> 4032</span>&#160;  });</div>
<div class="line"><a name="l04033"></a><span class="lineno"> 4033</span>&#160;}</div>
<div class="line"><a name="l04034"></a><span class="lineno"> 4034</span>&#160; </div>
<div class="line"><a name="l04035"></a><span class="lineno"> 4035</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> U&gt;</div>
<div class="line"><a name="l04036"></a><span class="lineno"> 4036</span>&#160;<span class="keywordtype">void</span> SaturatingNarrow(Simulator* simulator, <span class="keywordtype">int</span> Vd, <span class="keywordtype">int</span> Vm) {</div>
<div class="line"><a name="l04037"></a><span class="lineno"> 4037</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kLanes = 16 / <span class="keyword">sizeof</span>(<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>);</div>
<div class="line"><a name="l04038"></a><span class="lineno"> 4038</span>&#160;  <a class="code" href="classT.html">T</a> src[kLanes];</div>
<div class="line"><a name="l04039"></a><span class="lineno"> 4039</span>&#160;  <a class="code" href="namespacev8_1_1base_1_1internal.html#a709d6f30f1192434c1eb74d0f8a3bc3a">U</a> dst[kLanes];</div>
<div class="line"><a name="l04040"></a><span class="lineno"> 4040</span>&#160;  simulator-&gt;get_neon_register(Vm, src);</div>
<div class="line"><a name="l04041"></a><span class="lineno"> 4041</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; kLanes; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l04042"></a><span class="lineno"> 4042</span>&#160;    dst[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = base::saturated_cast&lt;U&gt;(src[<a class="code" href="namespacev8_1_1internal.html">i</a>]);</div>
<div class="line"><a name="l04043"></a><span class="lineno"> 4043</span>&#160;  }</div>
<div class="line"><a name="l04044"></a><span class="lineno"> 4044</span>&#160;  simulator-&gt;set_neon_register&lt;<a class="code" href="namespacev8_1_1base_1_1internal.html#a709d6f30f1192434c1eb74d0f8a3bc3a">U</a>, <a class="code" href="namespacev8_1_1internal.html#ada67458c5a8e8c0ade0017e5d3c56fd3">kDoubleSize</a>&gt;(Vd, dst);</div>
<div class="line"><a name="l04045"></a><span class="lineno"> 4045</span>&#160;}</div>
<div class="line"><a name="l04046"></a><span class="lineno"> 4046</span>&#160; </div>
<div class="line"><a name="l04047"></a><span class="lineno"> 4047</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l04048"></a><span class="lineno"> 4048</span>&#160;<span class="keywordtype">void</span> AddSat(Simulator* simulator, <span class="keywordtype">int</span> Vd, <span class="keywordtype">int</span> Vm, <span class="keywordtype">int</span> Vn) {</div>
<div class="line"><a name="l04049"></a><span class="lineno"> 4049</span>&#160;  Binop&lt;T&gt;(simulator, Vd, Vm, Vn, SaturateAdd&lt;T&gt;);</div>
<div class="line"><a name="l04050"></a><span class="lineno"> 4050</span>&#160;}</div>
<div class="line"><a name="l04051"></a><span class="lineno"> 4051</span>&#160; </div>
<div class="line"><a name="l04052"></a><span class="lineno"> 4052</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l04053"></a><span class="lineno"> 4053</span>&#160;<span class="keywordtype">void</span> SubSat(Simulator* simulator, <span class="keywordtype">int</span> Vd, <span class="keywordtype">int</span> Vm, <span class="keywordtype">int</span> Vn) {</div>
<div class="line"><a name="l04054"></a><span class="lineno"> 4054</span>&#160;  Binop&lt;T&gt;(simulator, Vd, Vm, Vn, SaturateSub&lt;T&gt;);</div>
<div class="line"><a name="l04055"></a><span class="lineno"> 4055</span>&#160;}</div>
<div class="line"><a name="l04056"></a><span class="lineno"> 4056</span>&#160; </div>
<div class="line"><a name="l04057"></a><span class="lineno"> 4057</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keywordtype">int</span> SIZE&gt;</div>
<div class="line"><a name="l04058"></a><span class="lineno"> 4058</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#a150110459e689e5960c8c286ed74195e">Zip</a>(Simulator* simulator, <span class="keywordtype">int</span> Vd, <span class="keywordtype">int</span> Vm) {</div>
<div class="line"><a name="l04059"></a><span class="lineno"> 4059</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kElems = <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a> / <span class="keyword">sizeof</span>(<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>);</div>
<div class="line"><a name="l04060"></a><span class="lineno"> 4060</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kPairs = kElems / 2;</div>
<div class="line"><a name="l04061"></a><span class="lineno"> 4061</span>&#160;  <a class="code" href="classT.html">T</a> src1[kElems], src2[kElems], dst1[kElems], dst2[kElems];</div>
<div class="line"><a name="l04062"></a><span class="lineno"> 4062</span>&#160;  simulator-&gt;get_neon_register&lt;<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>, <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a>&gt;(Vd, src1);</div>
<div class="line"><a name="l04063"></a><span class="lineno"> 4063</span>&#160;  simulator-&gt;get_neon_register&lt;<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>, <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a>&gt;(Vm, src2);</div>
<div class="line"><a name="l04064"></a><span class="lineno"> 4064</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; kPairs; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l04065"></a><span class="lineno"> 4065</span>&#160;    dst1[<a class="code" href="namespacev8_1_1internal.html">i</a> * 2] = src1[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>];</div>
<div class="line"><a name="l04066"></a><span class="lineno"> 4066</span>&#160;    dst1[<a class="code" href="namespacev8_1_1internal.html">i</a> * 2 + 1] = src2[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>];</div>
<div class="line"><a name="l04067"></a><span class="lineno"> 4067</span>&#160;    dst2[<a class="code" href="namespacev8_1_1internal.html">i</a> * 2] = src1[<a class="code" href="namespacev8_1_1internal.html">i</a> + kPairs];</div>
<div class="line"><a name="l04068"></a><span class="lineno"> 4068</span>&#160;    dst2[<a class="code" href="namespacev8_1_1internal.html">i</a> * 2 + 1] = src2[<a class="code" href="namespacev8_1_1internal.html">i</a> + kPairs];</div>
<div class="line"><a name="l04069"></a><span class="lineno"> 4069</span>&#160;  }</div>
<div class="line"><a name="l04070"></a><span class="lineno"> 4070</span>&#160;  simulator-&gt;set_neon_register&lt;<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>, <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a>&gt;(Vd, dst1);</div>
<div class="line"><a name="l04071"></a><span class="lineno"> 4071</span>&#160;  simulator-&gt;set_neon_register&lt;<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>, <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a>&gt;(Vm, dst2);</div>
<div class="line"><a name="l04072"></a><span class="lineno"> 4072</span>&#160;}</div>
<div class="line"><a name="l04073"></a><span class="lineno"> 4073</span>&#160; </div>
<div class="line"><a name="l04074"></a><span class="lineno"> 4074</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keywordtype">int</span> SIZE&gt;</div>
<div class="line"><a name="l04075"></a><span class="lineno"> 4075</span>&#160;<span class="keywordtype">void</span> Unzip(Simulator* simulator, <span class="keywordtype">int</span> Vd, <span class="keywordtype">int</span> Vm) {</div>
<div class="line"><a name="l04076"></a><span class="lineno"> 4076</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kElems = <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a> / <span class="keyword">sizeof</span>(<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>);</div>
<div class="line"><a name="l04077"></a><span class="lineno"> 4077</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kPairs = kElems / 2;</div>
<div class="line"><a name="l04078"></a><span class="lineno"> 4078</span>&#160;  <a class="code" href="classT.html">T</a> src1[kElems], src2[kElems], dst1[kElems], dst2[kElems];</div>
<div class="line"><a name="l04079"></a><span class="lineno"> 4079</span>&#160;  simulator-&gt;get_neon_register&lt;<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>, <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a>&gt;(Vd, src1);</div>
<div class="line"><a name="l04080"></a><span class="lineno"> 4080</span>&#160;  simulator-&gt;get_neon_register&lt;<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>, <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a>&gt;(Vm, src2);</div>
<div class="line"><a name="l04081"></a><span class="lineno"> 4081</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; kPairs; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l04082"></a><span class="lineno"> 4082</span>&#160;    dst1[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = src1[<a class="code" href="namespacev8_1_1internal.html">i</a> * 2];</div>
<div class="line"><a name="l04083"></a><span class="lineno"> 4083</span>&#160;    dst1[<a class="code" href="namespacev8_1_1internal.html">i</a> + kPairs] = src2[<a class="code" href="namespacev8_1_1internal.html">i</a> * 2];</div>
<div class="line"><a name="l04084"></a><span class="lineno"> 4084</span>&#160;    dst2[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = src1[<a class="code" href="namespacev8_1_1internal.html">i</a> * 2 + 1];</div>
<div class="line"><a name="l04085"></a><span class="lineno"> 4085</span>&#160;    dst2[<a class="code" href="namespacev8_1_1internal.html">i</a> + kPairs] = src2[<a class="code" href="namespacev8_1_1internal.html">i</a> * 2 + 1];</div>
<div class="line"><a name="l04086"></a><span class="lineno"> 4086</span>&#160;  }</div>
<div class="line"><a name="l04087"></a><span class="lineno"> 4087</span>&#160;  simulator-&gt;set_neon_register&lt;<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>, <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a>&gt;(Vd, dst1);</div>
<div class="line"><a name="l04088"></a><span class="lineno"> 4088</span>&#160;  simulator-&gt;set_neon_register&lt;<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>, <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a>&gt;(Vm, dst2);</div>
<div class="line"><a name="l04089"></a><span class="lineno"> 4089</span>&#160;}</div>
<div class="line"><a name="l04090"></a><span class="lineno"> 4090</span>&#160; </div>
<div class="line"><a name="l04091"></a><span class="lineno"> 4091</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keywordtype">int</span> SIZE&gt;</div>
<div class="line"><a name="l04092"></a><span class="lineno"> 4092</span>&#160;<span class="keywordtype">void</span> Transpose(Simulator* simulator, <span class="keywordtype">int</span> Vd, <span class="keywordtype">int</span> Vm) {</div>
<div class="line"><a name="l04093"></a><span class="lineno"> 4093</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kElems = <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a> / <span class="keyword">sizeof</span>(<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>);</div>
<div class="line"><a name="l04094"></a><span class="lineno"> 4094</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kPairs = kElems / 2;</div>
<div class="line"><a name="l04095"></a><span class="lineno"> 4095</span>&#160;  <a class="code" href="classT.html">T</a> src1[kElems], src2[kElems];</div>
<div class="line"><a name="l04096"></a><span class="lineno"> 4096</span>&#160;  simulator-&gt;get_neon_register&lt;<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>, <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a>&gt;(Vd, src1);</div>
<div class="line"><a name="l04097"></a><span class="lineno"> 4097</span>&#160;  simulator-&gt;get_neon_register&lt;<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>, <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a>&gt;(Vm, src2);</div>
<div class="line"><a name="l04098"></a><span class="lineno"> 4098</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; kPairs; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l04099"></a><span class="lineno"> 4099</span>&#160;    std::swap(src1[2 * <a class="code" href="namespacev8_1_1internal.html">i</a> + 1], src2[2 * <a class="code" href="namespacev8_1_1internal.html">i</a>]);</div>
<div class="line"><a name="l04100"></a><span class="lineno"> 4100</span>&#160;  }</div>
<div class="line"><a name="l04101"></a><span class="lineno"> 4101</span>&#160;  simulator-&gt;set_neon_register&lt;<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>, <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a>&gt;(Vd, src1);</div>
<div class="line"><a name="l04102"></a><span class="lineno"> 4102</span>&#160;  simulator-&gt;set_neon_register&lt;<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>, <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a>&gt;(Vm, src2);</div>
<div class="line"><a name="l04103"></a><span class="lineno"> 4103</span>&#160;}</div>
<div class="line"><a name="l04104"></a><span class="lineno"> 4104</span>&#160; </div>
<div class="line"><a name="l04105"></a><span class="lineno"> 4105</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keywordtype">int</span> SIZE&gt;</div>
<div class="line"><a name="l04106"></a><span class="lineno"> 4106</span>&#160;<span class="keywordtype">void</span> Test(Simulator* simulator, <span class="keywordtype">int</span> Vd, <span class="keywordtype">int</span> Vm, <span class="keywordtype">int</span> Vn) {</div>
<div class="line"><a name="l04107"></a><span class="lineno"> 4107</span>&#160;  <span class="keyword">auto</span> test = [](<a class="code" href="classT.html">T</a> x, <a class="code" href="classT.html">T</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#aba8167f197e892214b9dc1aba34983de">y</a>) { <span class="keywordflow">return</span> (x &amp; <a class="code" href="namespacev8_1_1base_1_1internal.html#aba8167f197e892214b9dc1aba34983de">y</a>) ? -1 : 0; };</div>
<div class="line"><a name="l04108"></a><span class="lineno"> 4108</span>&#160;  Binop&lt;T&gt;(simulator, Vd, Vm, Vn, test);</div>
<div class="line"><a name="l04109"></a><span class="lineno"> 4109</span>&#160;}</div>
<div class="line"><a name="l04110"></a><span class="lineno"> 4110</span>&#160; </div>
<div class="line"><a name="l04111"></a><span class="lineno"> 4111</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keywordtype">int</span> SIZE&gt;</div>
<div class="line"><a name="l04112"></a><span class="lineno"> 4112</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(Simulator* simulator, <span class="keywordtype">int</span> Vd, <span class="keywordtype">int</span> Vm, <span class="keywordtype">int</span> Vn) {</div>
<div class="line"><a name="l04113"></a><span class="lineno"> 4113</span>&#160;  Binop&lt;T&gt;(simulator, Vd, Vm, Vn, std::plus&lt;T&gt;());</div>
<div class="line"><a name="l04114"></a><span class="lineno"> 4114</span>&#160;}</div>
<div class="line"><a name="l04115"></a><span class="lineno"> 4115</span>&#160; </div>
<div class="line"><a name="l04116"></a><span class="lineno"> 4116</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keywordtype">int</span> SIZE&gt;</div>
<div class="line"><a name="l04117"></a><span class="lineno"> 4117</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1liftoff.html#af235e0902cf4fbd4131a93f64a84552d">Sub</a>(Simulator* simulator, <span class="keywordtype">int</span> Vd, <span class="keywordtype">int</span> Vm, <span class="keywordtype">int</span> Vn) {</div>
<div class="line"><a name="l04118"></a><span class="lineno"> 4118</span>&#160;  Binop&lt;T&gt;(simulator, Vd, Vm, Vn, std::minus&lt;T&gt;());</div>
<div class="line"><a name="l04119"></a><span class="lineno"> 4119</span>&#160;}</div>
<div class="line"><a name="l04120"></a><span class="lineno"> 4120</span>&#160; </div>
<div class="line"><a name="l04121"></a><span class="lineno"> 4121</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l04122"></a><span class="lineno"> 4122</span>&#160;uint32_t Multiply(uint32_t a, uint32_t b) { <span class="keywordflow">return</span> a * b; }</div>
<div class="line"><a name="l04123"></a><span class="lineno"> 4123</span>&#160;uint8_t Multiply(uint8_t a, uint8_t b) { <span class="keywordflow">return</span> a * b; }</div>
<div class="line"><a name="l04124"></a><span class="lineno"> 4124</span>&#160;<span class="comment">// 16-bit integers are special due to C++&#39;s implicit conversion rules.</span></div>
<div class="line"><a name="l04125"></a><span class="lineno"> 4125</span>&#160;<span class="comment">// See https://bugs.llvm.org/show_bug.cgi?id=25580.</span></div>
<div class="line"><a name="l04126"></a><span class="lineno"> 4126</span>&#160;<a class="code" href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">uint16_t</a> Multiply(<a class="code" href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">uint16_t</a> a, <a class="code" href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">uint16_t</a> b) {</div>
<div class="line"><a name="l04127"></a><span class="lineno"> 4127</span>&#160;  uint32_t <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(a) * <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(b);</div>
<div class="line"><a name="l04128"></a><span class="lineno"> 4128</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">uint16_t</a><span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>);</div>
<div class="line"><a name="l04129"></a><span class="lineno"> 4129</span>&#160;}</div>
<div class="line"><a name="l04130"></a><span class="lineno"> 4130</span>&#160; </div>
<div class="line"><a name="l04131"></a><span class="lineno"> 4131</span>&#160;<span class="keywordtype">void</span> VmovImmediate(Simulator* simulator, Instruction* instr) {</div>
<div class="line"><a name="l04132"></a><span class="lineno"> 4132</span>&#160;  uint8_t cmode = instr-&gt;Bits(11, 8);</div>
<div class="line"><a name="l04133"></a><span class="lineno"> 4133</span>&#160;  <span class="keywordtype">int</span> vd = instr-&gt;VFPDRegValue(<a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l04134"></a><span class="lineno"> 4134</span>&#160;  <span class="keywordtype">int</span> q = instr-&gt;Bit(6);</div>
<div class="line"><a name="l04135"></a><span class="lineno"> 4135</span>&#160;  <span class="keywordtype">int</span> regs = q ? 2 : 1;</div>
<div class="line"><a name="l04136"></a><span class="lineno"> 4136</span>&#160;  uint8_t imm = instr-&gt;Bit(24) &lt;&lt; 7;  <span class="comment">// i</span></div>
<div class="line"><a name="l04137"></a><span class="lineno"> 4137</span>&#160;  imm |= instr-&gt;Bits(18, 16) &lt;&lt; 4;    <span class="comment">// imm3</span></div>
<div class="line"><a name="l04138"></a><span class="lineno"> 4138</span>&#160;  imm |= instr-&gt;Bits(3, 0);           <span class="comment">// imm4</span></div>
<div class="line"><a name="l04139"></a><span class="lineno"> 4139</span>&#160;  <span class="keywordflow">switch</span> (cmode) {</div>
<div class="line"><a name="l04140"></a><span class="lineno"> 4140</span>&#160;    <span class="keywordflow">case</span> 0: {</div>
<div class="line"><a name="l04141"></a><span class="lineno"> 4141</span>&#160;      <span class="comment">// Set the LSB of each 64-bit halves.</span></div>
<div class="line"><a name="l04142"></a><span class="lineno"> 4142</span>&#160;      uint64_t imm64 = imm;</div>
<div class="line"><a name="l04143"></a><span class="lineno"> 4143</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = 0; r &lt; regs; r++) {</div>
<div class="line"><a name="l04144"></a><span class="lineno"> 4144</span>&#160;        simulator-&gt;set_d_register(vd + r, &amp;imm64);</div>
<div class="line"><a name="l04145"></a><span class="lineno"> 4145</span>&#160;      }</div>
<div class="line"><a name="l04146"></a><span class="lineno"> 4146</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04147"></a><span class="lineno"> 4147</span>&#160;    }</div>
<div class="line"><a name="l04148"></a><span class="lineno"> 4148</span>&#160;    <span class="keywordflow">case</span> 0xe: {</div>
<div class="line"><a name="l04149"></a><span class="lineno"> 4149</span>&#160;      uint8_t imms[<a class="code" href="namespacev8_1_1internal.html#a1ac5aaec8d986abe45d958e665beb21a">kSimd128Size</a>];</div>
<div class="line"><a name="l04150"></a><span class="lineno"> 4150</span>&#160;      <span class="comment">// Set all bytes of register.</span></div>
<div class="line"><a name="l04151"></a><span class="lineno"> 4151</span>&#160;      std::fill_n(imms, <a class="code" href="namespacev8_1_1internal.html#a1ac5aaec8d986abe45d958e665beb21a">kSimd128Size</a>, imm);</div>
<div class="line"><a name="l04152"></a><span class="lineno"> 4152</span>&#160;      uint64_t imm64;</div>
<div class="line"><a name="l04153"></a><span class="lineno"> 4153</span>&#160;      memcpy(&amp;imm64, imms, 8);</div>
<div class="line"><a name="l04154"></a><span class="lineno"> 4154</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = 0; r &lt; regs; r++) {</div>
<div class="line"><a name="l04155"></a><span class="lineno"> 4155</span>&#160;        simulator-&gt;set_d_register(vd + r, &amp;imm64);</div>
<div class="line"><a name="l04156"></a><span class="lineno"> 4156</span>&#160;      }</div>
<div class="line"><a name="l04157"></a><span class="lineno"> 4157</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04158"></a><span class="lineno"> 4158</span>&#160;    }</div>
<div class="line"><a name="l04159"></a><span class="lineno"> 4159</span>&#160;    <span class="keywordflow">default</span>: {</div>
<div class="line"><a name="l04160"></a><span class="lineno"> 4160</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l04161"></a><span class="lineno"> 4161</span>&#160;    }</div>
<div class="line"><a name="l04162"></a><span class="lineno"> 4162</span>&#160;  }</div>
<div class="line"><a name="l04163"></a><span class="lineno"> 4163</span>&#160;}</div>
<div class="line"><a name="l04164"></a><span class="lineno"> 4164</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l04165"></a><span class="lineno"> 4165</span>&#160; </div>
<div class="line"><a name="l04166"></a><span class="lineno"> 4166</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keywordtype">int</span> SIZE&gt;</div>
<div class="line"><a name="l04167"></a><span class="lineno"> 4167</span>&#160;<span class="keywordtype">void</span> Mul(Simulator* simulator, <span class="keywordtype">int</span> Vd, <span class="keywordtype">int</span> Vm, <span class="keywordtype">int</span> Vn) {</div>
<div class="line"><a name="l04168"></a><span class="lineno"> 4168</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kElems = <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a> / <span class="keyword">sizeof</span>(<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>);</div>
<div class="line"><a name="l04169"></a><span class="lineno"> 4169</span>&#160;  <a class="code" href="classT.html">T</a> src1[kElems], src2[kElems];</div>
<div class="line"><a name="l04170"></a><span class="lineno"> 4170</span>&#160;  simulator-&gt;get_neon_register&lt;<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>, <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a>&gt;(Vn, src1);</div>
<div class="line"><a name="l04171"></a><span class="lineno"> 4171</span>&#160;  simulator-&gt;get_neon_register&lt;<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>, <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a>&gt;(Vm, src2);</div>
<div class="line"><a name="l04172"></a><span class="lineno"> 4172</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; kElems; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l04173"></a><span class="lineno"> 4173</span>&#160;    src1[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = Multiply(src1[<a class="code" href="namespacev8_1_1internal.html">i</a>], src2[<a class="code" href="namespacev8_1_1internal.html">i</a>]);</div>
<div class="line"><a name="l04174"></a><span class="lineno"> 4174</span>&#160;  }</div>
<div class="line"><a name="l04175"></a><span class="lineno"> 4175</span>&#160;  simulator-&gt;set_neon_register&lt;<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>, <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a>&gt;(Vd, src1);</div>
<div class="line"><a name="l04176"></a><span class="lineno"> 4176</span>&#160;}</div>
<div class="line"><a name="l04177"></a><span class="lineno"> 4177</span>&#160; </div>
<div class="line"><a name="l04178"></a><span class="lineno"> 4178</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keywordtype">int</span> SIZE&gt;</div>
<div class="line"><a name="l04179"></a><span class="lineno"> 4179</span>&#160;<span class="keywordtype">void</span> ShiftLeft(Simulator* simulator, <span class="keywordtype">int</span> Vd, <span class="keywordtype">int</span> Vm, <span class="keywordtype">int</span> shift) {</div>
<div class="line"><a name="l04180"></a><span class="lineno"> 4180</span>&#160;  Unop&lt;T&gt;(simulator, Vd, Vm, [shift](<a class="code" href="classT.html">T</a> x) { <span class="keywordflow">return</span> x &lt;&lt; shift; });</div>
<div class="line"><a name="l04181"></a><span class="lineno"> 4181</span>&#160;}</div>
<div class="line"><a name="l04182"></a><span class="lineno"> 4182</span>&#160; </div>
<div class="line"><a name="l04183"></a><span class="lineno"> 4183</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keywordtype">int</span> SIZE&gt;</div>
<div class="line"><a name="l04184"></a><span class="lineno"> 4184</span>&#160;<span class="keywordtype">void</span> LogicalShiftRight(Simulator* simulator, <span class="keywordtype">int</span> Vd, <span class="keywordtype">int</span> Vm, <span class="keywordtype">int</span> shift) {</div>
<div class="line"><a name="l04185"></a><span class="lineno"> 4185</span>&#160;  Unop&lt;T, SIZE&gt;(simulator, Vd, Vm, [shift](<a class="code" href="classT.html">T</a> x) { <span class="keywordflow">return</span> x &gt;&gt; shift; });</div>
<div class="line"><a name="l04186"></a><span class="lineno"> 4186</span>&#160;}</div>
<div class="line"><a name="l04187"></a><span class="lineno"> 4187</span>&#160; </div>
<div class="line"><a name="l04188"></a><span class="lineno"> 4188</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keywordtype">int</span> SIZE&gt;</div>
<div class="line"><a name="l04189"></a><span class="lineno"> 4189</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1internal.html#a9860d42ff487a051d945dbc5961a7c35">ArithmeticShiftRight</a>(Simulator* simulator, <span class="keywordtype">int</span> Vd, <span class="keywordtype">int</span> Vm, <span class="keywordtype">int</span> shift) {</div>
<div class="line"><a name="l04190"></a><span class="lineno"> 4190</span>&#160;  <span class="keyword">auto</span> shift_fn =</div>
<div class="line"><a name="l04191"></a><span class="lineno"> 4191</span>&#160;      std::bind(ArithmeticShiftRight&lt;T&gt;, std::placeholders::_1, shift);</div>
<div class="line"><a name="l04192"></a><span class="lineno"> 4192</span>&#160;  Unop&lt;T, SIZE&gt;(simulator, Vd, Vm, shift_fn);</div>
<div class="line"><a name="l04193"></a><span class="lineno"> 4193</span>&#160;}</div>
<div class="line"><a name="l04194"></a><span class="lineno"> 4194</span>&#160; </div>
<div class="line"><a name="l04195"></a><span class="lineno"> 4195</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keywordtype">int</span> SIZE&gt;</div>
<div class="line"><a name="l04196"></a><span class="lineno"> 4196</span>&#160;<span class="keywordtype">void</span> ShiftRight(Simulator* simulator, <span class="keywordtype">int</span> Vd, <span class="keywordtype">int</span> Vm, <span class="keywordtype">int</span> shift,</div>
<div class="line"><a name="l04197"></a><span class="lineno"> 4197</span>&#160;                <span class="keywordtype">bool</span> is_unsigned) {</div>
<div class="line"><a name="l04198"></a><span class="lineno"> 4198</span>&#160;  <span class="keywordflow">if</span> (is_unsigned) {</div>
<div class="line"><a name="l04199"></a><span class="lineno"> 4199</span>&#160;    <span class="keyword">using</span> unsigned_T = std::make_unsigned_t&lt;T&gt;;</div>
<div class="line"><a name="l04200"></a><span class="lineno"> 4200</span>&#160;    LogicalShiftRight&lt;unsigned_T, SIZE&gt;(simulator, Vd, Vm, shift);</div>
<div class="line"><a name="l04201"></a><span class="lineno"> 4201</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04202"></a><span class="lineno"> 4202</span>&#160;    ArithmeticShiftRight&lt;T, SIZE&gt;(simulator, Vd, Vm, shift);</div>
<div class="line"><a name="l04203"></a><span class="lineno"> 4203</span>&#160;  }</div>
<div class="line"><a name="l04204"></a><span class="lineno"> 4204</span>&#160;}</div>
<div class="line"><a name="l04205"></a><span class="lineno"> 4205</span>&#160; </div>
<div class="line"><a name="l04206"></a><span class="lineno"> 4206</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keywordtype">int</span> SIZE&gt;</div>
<div class="line"><a name="l04207"></a><span class="lineno"> 4207</span>&#160;<span class="keywordtype">void</span> ShiftRightAccumulate(Simulator* simulator, <span class="keywordtype">int</span> Vd, <span class="keywordtype">int</span> Vm, <span class="keywordtype">int</span> shift) {</div>
<div class="line"><a name="l04208"></a><span class="lineno"> 4208</span>&#160;  Binop&lt;T, SIZE&gt;(simulator, Vd, Vm, Vd,</div>
<div class="line"><a name="l04209"></a><span class="lineno"> 4209</span>&#160;                 [shift](<a class="code" href="classT.html">T</a> a, <a class="code" href="classT.html">T</a> x) { <span class="keywordflow">return</span> a + (x &gt;&gt; shift); });</div>
<div class="line"><a name="l04210"></a><span class="lineno"> 4210</span>&#160;}</div>
<div class="line"><a name="l04211"></a><span class="lineno"> 4211</span>&#160; </div>
<div class="line"><a name="l04212"></a><span class="lineno"> 4212</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keywordtype">int</span> SIZE&gt;</div>
<div class="line"><a name="l04213"></a><span class="lineno"> 4213</span>&#160;<span class="keywordtype">void</span> ArithmeticShiftRightAccumulate(Simulator* simulator, <span class="keywordtype">int</span> Vd, <span class="keywordtype">int</span> Vm,</div>
<div class="line"><a name="l04214"></a><span class="lineno"> 4214</span>&#160;                                    <span class="keywordtype">int</span> shift) {</div>
<div class="line"><a name="l04215"></a><span class="lineno"> 4215</span>&#160;  Binop&lt;T, SIZE&gt;(simulator, Vd, Vm, Vd, [shift](<a class="code" href="classT.html">T</a> a, <a class="code" href="classT.html">T</a> x) {</div>
<div class="line"><a name="l04216"></a><span class="lineno"> 4216</span>&#160;    <a class="code" href="classT.html">T</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = ArithmeticShiftRight&lt;T&gt;(x, shift);</div>
<div class="line"><a name="l04217"></a><span class="lineno"> 4217</span>&#160;    <span class="keywordflow">return</span> a + <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l04218"></a><span class="lineno"> 4218</span>&#160;  });</div>
<div class="line"><a name="l04219"></a><span class="lineno"> 4219</span>&#160;}</div>
<div class="line"><a name="l04220"></a><span class="lineno"> 4220</span>&#160; </div>
<div class="line"><a name="l04221"></a><span class="lineno"> 4221</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keywordtype">int</span> SIZE&gt;</div>
<div class="line"><a name="l04222"></a><span class="lineno"> 4222</span>&#160;<span class="keywordtype">void</span> ShiftLeftAndInsert(Simulator* simulator, <span class="keywordtype">int</span> Vd, <span class="keywordtype">int</span> Vm, <span class="keywordtype">int</span> shift) {</div>
<div class="line"><a name="l04223"></a><span class="lineno"> 4223</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kElems = <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a> / <span class="keyword">sizeof</span>(<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>);</div>
<div class="line"><a name="l04224"></a><span class="lineno"> 4224</span>&#160;  <a class="code" href="classT.html">T</a> src[kElems];</div>
<div class="line"><a name="l04225"></a><span class="lineno"> 4225</span>&#160;  <a class="code" href="classT.html">T</a> dst[kElems];</div>
<div class="line"><a name="l04226"></a><span class="lineno"> 4226</span>&#160;  simulator-&gt;get_neon_register&lt;<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>, <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a>&gt;(Vm, src);</div>
<div class="line"><a name="l04227"></a><span class="lineno"> 4227</span>&#160;  simulator-&gt;get_neon_register&lt;<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>, <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a>&gt;(Vd, dst);</div>
<div class="line"><a name="l04228"></a><span class="lineno"> 4228</span>&#160;  uint64_t mask = (1llu &lt;&lt; shift) - 1llu;</div>
<div class="line"><a name="l04229"></a><span class="lineno"> 4229</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; kElems; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l04230"></a><span class="lineno"> 4230</span>&#160;    dst[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = (src[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] &lt;&lt; shift) | (dst[<a class="code" href="namespacev8_1_1internal.html">i</a>] &amp; mask);</div>
<div class="line"><a name="l04231"></a><span class="lineno"> 4231</span>&#160;  }</div>
<div class="line"><a name="l04232"></a><span class="lineno"> 4232</span>&#160;  simulator-&gt;set_neon_register&lt;<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>, <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a>&gt;(Vd, dst);</div>
<div class="line"><a name="l04233"></a><span class="lineno"> 4233</span>&#160;}</div>
<div class="line"><a name="l04234"></a><span class="lineno"> 4234</span>&#160; </div>
<div class="line"><a name="l04235"></a><span class="lineno"> 4235</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keywordtype">int</span> SIZE&gt;</div>
<div class="line"><a name="l04236"></a><span class="lineno"> 4236</span>&#160;<span class="keywordtype">void</span> ShiftRightAndInsert(Simulator* simulator, <span class="keywordtype">int</span> Vd, <span class="keywordtype">int</span> Vm, <span class="keywordtype">int</span> shift) {</div>
<div class="line"><a name="l04237"></a><span class="lineno"> 4237</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kElems = <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a> / <span class="keyword">sizeof</span>(<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>);</div>
<div class="line"><a name="l04238"></a><span class="lineno"> 4238</span>&#160;  <a class="code" href="classT.html">T</a> src[kElems];</div>
<div class="line"><a name="l04239"></a><span class="lineno"> 4239</span>&#160;  <a class="code" href="classT.html">T</a> dst[kElems];</div>
<div class="line"><a name="l04240"></a><span class="lineno"> 4240</span>&#160;  simulator-&gt;get_neon_register&lt;<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>, <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a>&gt;(Vm, src);</div>
<div class="line"><a name="l04241"></a><span class="lineno"> 4241</span>&#160;  simulator-&gt;get_neon_register&lt;<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>, <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a>&gt;(Vd, dst);</div>
<div class="line"><a name="l04242"></a><span class="lineno"> 4242</span>&#160;  uint64_t mask = ~((1llu &lt;&lt; (<a class="code" href="namespacev8_1_1internal.html#a1f752d6859d2360901fc2a58c9548fd8">kBitsPerByte</a> * <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a> - shift)) - 1llu);</div>
<div class="line"><a name="l04243"></a><span class="lineno"> 4243</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; kElems; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l04244"></a><span class="lineno"> 4244</span>&#160;    dst[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = (src[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] &gt;&gt; shift) | (dst[<a class="code" href="namespacev8_1_1internal.html">i</a>] &amp; mask);</div>
<div class="line"><a name="l04245"></a><span class="lineno"> 4245</span>&#160;  }</div>
<div class="line"><a name="l04246"></a><span class="lineno"> 4246</span>&#160;  simulator-&gt;set_neon_register&lt;<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>, <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a>&gt;(Vd, dst);</div>
<div class="line"><a name="l04247"></a><span class="lineno"> 4247</span>&#160;}</div>
<div class="line"><a name="l04248"></a><span class="lineno"> 4248</span>&#160; </div>
<div class="line"><a name="l04249"></a><span class="lineno"> 4249</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> S_T, <span class="keywordtype">int</span> SIZE&gt;</div>
<div class="line"><a name="l04250"></a><span class="lineno"> 4250</span>&#160;<span class="keywordtype">void</span> ShiftByRegister(Simulator* simulator, <span class="keywordtype">int</span> Vd, <span class="keywordtype">int</span> Vm, <span class="keywordtype">int</span> Vn) {</div>
<div class="line"><a name="l04251"></a><span class="lineno"> 4251</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kElems = <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a> / <span class="keyword">sizeof</span>(<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>);</div>
<div class="line"><a name="l04252"></a><span class="lineno"> 4252</span>&#160;  <a class="code" href="classT.html">T</a> src[kElems];</div>
<div class="line"><a name="l04253"></a><span class="lineno"> 4253</span>&#160;  S_T shift[kElems];</div>
<div class="line"><a name="l04254"></a><span class="lineno"> 4254</span>&#160;  simulator-&gt;get_neon_register&lt;<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>, <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a>&gt;(Vm, src);</div>
<div class="line"><a name="l04255"></a><span class="lineno"> 4255</span>&#160;  simulator-&gt;get_neon_register&lt;S_T, <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a>&gt;(Vn, shift);</div>
<div class="line"><a name="l04256"></a><span class="lineno"> 4256</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; kElems; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l04257"></a><span class="lineno"> 4257</span>&#160;    <span class="comment">// Take lowest 8 bits of shift value (see F6.1.217 of ARM Architecture</span></div>
<div class="line"><a name="l04258"></a><span class="lineno"> 4258</span>&#160;    <span class="comment">// Reference Manual ARMv8), as signed 8-bit value.</span></div>
<div class="line"><a name="l04259"></a><span class="lineno"> 4259</span>&#160;    int8_t shift_value = <span class="keyword">static_cast&lt;</span>int8_t<span class="keyword">&gt;</span>(shift[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>]);</div>
<div class="line"><a name="l04260"></a><span class="lineno"> 4260</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<span class="keyword">sizeof</span>(<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>) * 8);</div>
<div class="line"><a name="l04261"></a><span class="lineno"> 4261</span>&#160;    <span class="comment">// When shift value is greater/equal than size, we end up relying on</span></div>
<div class="line"><a name="l04262"></a><span class="lineno"> 4262</span>&#160;    <span class="comment">// undefined behavior, handle that and emulate what the hardware does.</span></div>
<div class="line"><a name="l04263"></a><span class="lineno"> 4263</span>&#160;    <span class="keywordflow">if</span> ((shift_value) &gt;= 0) {</div>
<div class="line"><a name="l04264"></a><span class="lineno"> 4264</span>&#160;      <span class="comment">// If the shift value is greater/equal than size, zero out the result.</span></div>
<div class="line"><a name="l04265"></a><span class="lineno"> 4265</span>&#160;      <span class="keywordflow">if</span> (shift_value &gt;= <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l04266"></a><span class="lineno"> 4266</span>&#160;        src[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = 0;</div>
<div class="line"><a name="l04267"></a><span class="lineno"> 4267</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04268"></a><span class="lineno"> 4268</span>&#160;        <span class="keyword">using</span> unsignedT = std::make_unsigned_t&lt;T&gt;;</div>
<div class="line"><a name="l04269"></a><span class="lineno"> 4269</span>&#160;        src[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = <span class="keyword">static_cast&lt;</span>unsignedT<span class="keyword">&gt;</span>(src[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>]) &lt;&lt; shift_value;</div>
<div class="line"><a name="l04270"></a><span class="lineno"> 4270</span>&#160;      }</div>
<div class="line"><a name="l04271"></a><span class="lineno"> 4271</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04272"></a><span class="lineno"> 4272</span>&#160;      <span class="comment">// If the shift value is greater/equal than size, always end up with -1.</span></div>
<div class="line"><a name="l04273"></a><span class="lineno"> 4273</span>&#160;      <span class="keywordflow">if</span> (-shift_value &gt;= <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l04274"></a><span class="lineno"> 4274</span>&#160;        src[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = -1;</div>
<div class="line"><a name="l04275"></a><span class="lineno"> 4275</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04276"></a><span class="lineno"> 4276</span>&#160;        src[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = <a class="code" href="namespacev8_1_1internal.html#a9860d42ff487a051d945dbc5961a7c35">ArithmeticShiftRight</a>(src[<a class="code" href="namespacev8_1_1internal.html">i</a>], -shift_value);</div>
<div class="line"><a name="l04277"></a><span class="lineno"> 4277</span>&#160;      }</div>
<div class="line"><a name="l04278"></a><span class="lineno"> 4278</span>&#160;    }</div>
<div class="line"><a name="l04279"></a><span class="lineno"> 4279</span>&#160;  }</div>
<div class="line"><a name="l04280"></a><span class="lineno"> 4280</span>&#160;  simulator-&gt;set_neon_register&lt;<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>, <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a>&gt;(Vd, src);</div>
<div class="line"><a name="l04281"></a><span class="lineno"> 4281</span>&#160;}</div>
<div class="line"><a name="l04282"></a><span class="lineno"> 4282</span>&#160; </div>
<div class="line"><a name="l04283"></a><span class="lineno"> 4283</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keywordtype">int</span> SIZE&gt;</div>
<div class="line"><a name="l04284"></a><span class="lineno"> 4284</span>&#160;<span class="keywordtype">void</span> CompareEqual(Simulator* simulator, <span class="keywordtype">int</span> Vd, <span class="keywordtype">int</span> Vm, <span class="keywordtype">int</span> Vn) {</div>
<div class="line"><a name="l04285"></a><span class="lineno"> 4285</span>&#160;  Binop&lt;T&gt;(simulator, Vd, Vm, Vn, [](<a class="code" href="classT.html">T</a> x, <a class="code" href="classT.html">T</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#aba8167f197e892214b9dc1aba34983de">y</a>) { <span class="keywordflow">return</span> x == <a class="code" href="namespacev8_1_1base_1_1internal.html#aba8167f197e892214b9dc1aba34983de">y</a> ? -1 : 0; });</div>
<div class="line"><a name="l04286"></a><span class="lineno"> 4286</span>&#160;}</div>
<div class="line"><a name="l04287"></a><span class="lineno"> 4287</span>&#160; </div>
<div class="line"><a name="l04288"></a><span class="lineno"> 4288</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keywordtype">int</span> SIZE&gt;</div>
<div class="line"><a name="l04289"></a><span class="lineno"> 4289</span>&#160;<span class="keywordtype">void</span> CompareGreater(Simulator* simulator, <span class="keywordtype">int</span> Vd, <span class="keywordtype">int</span> Vm, <span class="keywordtype">int</span> Vn, <span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21aa5296c25e35b433aabbd501b5e1af877">ge</a>) {</div>
<div class="line"><a name="l04290"></a><span class="lineno"> 4290</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21aa5296c25e35b433aabbd501b5e1af877">ge</a>) {</div>
<div class="line"><a name="l04291"></a><span class="lineno"> 4291</span>&#160;    Binop&lt;T&gt;(simulator, Vd, Vm, Vn, [](<a class="code" href="classT.html">T</a> x, <a class="code" href="classT.html">T</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#aba8167f197e892214b9dc1aba34983de">y</a>) { <span class="keywordflow">return</span> x &gt;= <a class="code" href="namespacev8_1_1base_1_1internal.html#aba8167f197e892214b9dc1aba34983de">y</a> ? -1 : 0; });</div>
<div class="line"><a name="l04292"></a><span class="lineno"> 4292</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04293"></a><span class="lineno"> 4293</span>&#160;    Binop&lt;T&gt;(simulator, Vd, Vm, Vn, [](<a class="code" href="classT.html">T</a> x, <a class="code" href="classT.html">T</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#aba8167f197e892214b9dc1aba34983de">y</a>) { <span class="keywordflow">return</span> x &gt; <a class="code" href="namespacev8_1_1base_1_1internal.html#aba8167f197e892214b9dc1aba34983de">y</a> ? -1 : 0; });</div>
<div class="line"><a name="l04294"></a><span class="lineno"> 4294</span>&#160;  }</div>
<div class="line"><a name="l04295"></a><span class="lineno"> 4295</span>&#160;}</div>
<div class="line"><a name="l04296"></a><span class="lineno"> 4296</span>&#160; </div>
<div class="line"><a name="l04297"></a><span class="lineno"> 4297</span>&#160;<span class="keywordtype">float</span> MinMax(<span class="keywordtype">float</span> a, <span class="keywordtype">float</span> b, <span class="keywordtype">bool</span> is_min) {</div>
<div class="line"><a name="l04298"></a><span class="lineno"> 4298</span>&#160;  <span class="keywordflow">return</span> is_min ? <a class="code" href="namespacev8_1_1internal.html#af3062426b30700f6e44db327c36fe083">JSMin</a>(a, b) : <a class="code" href="namespacev8_1_1internal.html#a39a0bce6d02fc48e14a0c5c01c6fee3b">JSMax</a>(a, b);</div>
<div class="line"><a name="l04299"></a><span class="lineno"> 4299</span>&#160;}</div>
<div class="line"><a name="l04300"></a><span class="lineno"> 4300</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l04301"></a><span class="lineno"> 4301</span>&#160;<a class="code" href="classT.html">T</a> MinMax(<a class="code" href="classT.html">T</a> a, <a class="code" href="classT.html">T</a> b, <span class="keywordtype">bool</span> is_min) {</div>
<div class="line"><a name="l04302"></a><span class="lineno"> 4302</span>&#160;  <span class="keywordflow">return</span> is_min ? std::min(a, b) : std::max(a, b);</div>
<div class="line"><a name="l04303"></a><span class="lineno"> 4303</span>&#160;}</div>
<div class="line"><a name="l04304"></a><span class="lineno"> 4304</span>&#160; </div>
<div class="line"><a name="l04305"></a><span class="lineno"> 4305</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keywordtype">int</span> SIZE&gt;</div>
<div class="line"><a name="l04306"></a><span class="lineno"> 4306</span>&#160;<span class="keywordtype">void</span> MinMax(Simulator* simulator, <span class="keywordtype">int</span> Vd, <span class="keywordtype">int</span> Vm, <span class="keywordtype">int</span> Vn, <span class="keywordtype">bool</span> min) {</div>
<div class="line"><a name="l04307"></a><span class="lineno"> 4307</span>&#160;  <span class="keywordflow">if</span> (min) {</div>
<div class="line"><a name="l04308"></a><span class="lineno"> 4308</span>&#160;    Binop&lt;T&gt;(simulator, Vd, Vm, Vn,</div>
<div class="line"><a name="l04309"></a><span class="lineno"> 4309</span>&#160;             [](<span class="keyword">auto</span> x, <span class="keyword">auto</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#aba8167f197e892214b9dc1aba34983de">y</a>) { <span class="keywordflow">return</span> std::min&lt;T&gt;(x, <a class="code" href="namespacev8_1_1base_1_1internal.html#aba8167f197e892214b9dc1aba34983de">y</a>); });</div>
<div class="line"><a name="l04310"></a><span class="lineno"> 4310</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04311"></a><span class="lineno"> 4311</span>&#160;    Binop&lt;T&gt;(simulator, Vd, Vm, Vn,</div>
<div class="line"><a name="l04312"></a><span class="lineno"> 4312</span>&#160;             [](<span class="keyword">auto</span> x, <span class="keyword">auto</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#aba8167f197e892214b9dc1aba34983de">y</a>) { <span class="keywordflow">return</span> std::max&lt;T&gt;(x, <a class="code" href="namespacev8_1_1base_1_1internal.html#aba8167f197e892214b9dc1aba34983de">y</a>); });</div>
<div class="line"><a name="l04313"></a><span class="lineno"> 4313</span>&#160;  }</div>
<div class="line"><a name="l04314"></a><span class="lineno"> 4314</span>&#160;}</div>
<div class="line"><a name="l04315"></a><span class="lineno"> 4315</span>&#160; </div>
<div class="line"><a name="l04316"></a><span class="lineno"> 4316</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l04317"></a><span class="lineno"> 4317</span>&#160;<span class="keywordtype">void</span> PairwiseMinMax(Simulator* simulator, <span class="keywordtype">int</span> Vd, <span class="keywordtype">int</span> Vm, <span class="keywordtype">int</span> Vn, <span class="keywordtype">bool</span> min) {</div>
<div class="line"><a name="l04318"></a><span class="lineno"> 4318</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kElems = <a class="code" href="namespacev8_1_1internal.html#ada67458c5a8e8c0ade0017e5d3c56fd3">kDoubleSize</a> / <span class="keyword">sizeof</span>(<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>);</div>
<div class="line"><a name="l04319"></a><span class="lineno"> 4319</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kPairs = kElems / 2;</div>
<div class="line"><a name="l04320"></a><span class="lineno"> 4320</span>&#160;  <a class="code" href="classT.html">T</a> dst[kElems], src1[kElems], src2[kElems];</div>
<div class="line"><a name="l04321"></a><span class="lineno"> 4321</span>&#160;  simulator-&gt;get_neon_register&lt;<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>, <a class="code" href="namespacev8_1_1internal.html#ada67458c5a8e8c0ade0017e5d3c56fd3">kDoubleSize</a>&gt;(Vn, src1);</div>
<div class="line"><a name="l04322"></a><span class="lineno"> 4322</span>&#160;  simulator-&gt;get_neon_register&lt;<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>, <a class="code" href="namespacev8_1_1internal.html#ada67458c5a8e8c0ade0017e5d3c56fd3">kDoubleSize</a>&gt;(Vm, src2);</div>
<div class="line"><a name="l04323"></a><span class="lineno"> 4323</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; kPairs; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l04324"></a><span class="lineno"> 4324</span>&#160;    dst[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = MinMax(src1[<a class="code" href="namespacev8_1_1internal.html">i</a> * 2], src1[<a class="code" href="namespacev8_1_1internal.html">i</a> * 2 + 1], min);</div>
<div class="line"><a name="l04325"></a><span class="lineno"> 4325</span>&#160;    dst[<a class="code" href="namespacev8_1_1internal.html">i</a> + kPairs] = MinMax(src2[<a class="code" href="namespacev8_1_1internal.html">i</a> * 2], src2[<a class="code" href="namespacev8_1_1internal.html">i</a> * 2 + 1], min);</div>
<div class="line"><a name="l04326"></a><span class="lineno"> 4326</span>&#160;  }</div>
<div class="line"><a name="l04327"></a><span class="lineno"> 4327</span>&#160;  simulator-&gt;set_neon_register&lt;<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>, <a class="code" href="namespacev8_1_1internal.html#ada67458c5a8e8c0ade0017e5d3c56fd3">kDoubleSize</a>&gt;(Vd, dst);</div>
<div class="line"><a name="l04328"></a><span class="lineno"> 4328</span>&#160;}</div>
<div class="line"><a name="l04329"></a><span class="lineno"> 4329</span>&#160; </div>
<div class="line"><a name="l04330"></a><span class="lineno"> 4330</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l04331"></a><span class="lineno"> 4331</span>&#160;<span class="keywordtype">void</span> PairwiseAdd(Simulator* simulator, <span class="keywordtype">int</span> Vd, <span class="keywordtype">int</span> Vm, <span class="keywordtype">int</span> Vn) {</div>
<div class="line"><a name="l04332"></a><span class="lineno"> 4332</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kElems = <a class="code" href="namespacev8_1_1internal.html#ada67458c5a8e8c0ade0017e5d3c56fd3">kDoubleSize</a> / <span class="keyword">sizeof</span>(<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>);</div>
<div class="line"><a name="l04333"></a><span class="lineno"> 4333</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kPairs = kElems / 2;</div>
<div class="line"><a name="l04334"></a><span class="lineno"> 4334</span>&#160;  <a class="code" href="classT.html">T</a> dst[kElems], src1[kElems], src2[kElems];</div>
<div class="line"><a name="l04335"></a><span class="lineno"> 4335</span>&#160;  simulator-&gt;get_neon_register&lt;<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>, <a class="code" href="namespacev8_1_1internal.html#ada67458c5a8e8c0ade0017e5d3c56fd3">kDoubleSize</a>&gt;(Vn, src1);</div>
<div class="line"><a name="l04336"></a><span class="lineno"> 4336</span>&#160;  simulator-&gt;get_neon_register&lt;<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>, <a class="code" href="namespacev8_1_1internal.html#ada67458c5a8e8c0ade0017e5d3c56fd3">kDoubleSize</a>&gt;(Vm, src2);</div>
<div class="line"><a name="l04337"></a><span class="lineno"> 4337</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; kPairs; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l04338"></a><span class="lineno"> 4338</span>&#160;    dst[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = src1[<a class="code" href="namespacev8_1_1internal.html">i</a> * 2] + src1[<a class="code" href="namespacev8_1_1internal.html">i</a> * 2 + 1];</div>
<div class="line"><a name="l04339"></a><span class="lineno"> 4339</span>&#160;    dst[<a class="code" href="namespacev8_1_1internal.html">i</a> + kPairs] = src2[<a class="code" href="namespacev8_1_1internal.html">i</a> * 2] + src2[<a class="code" href="namespacev8_1_1internal.html">i</a> * 2 + 1];</div>
<div class="line"><a name="l04340"></a><span class="lineno"> 4340</span>&#160;  }</div>
<div class="line"><a name="l04341"></a><span class="lineno"> 4341</span>&#160;  simulator-&gt;set_neon_register&lt;<a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>, <a class="code" href="namespacev8_1_1internal.html#ada67458c5a8e8c0ade0017e5d3c56fd3">kDoubleSize</a>&gt;(Vd, dst);</div>
<div class="line"><a name="l04342"></a><span class="lineno"> 4342</span>&#160;}</div>
<div class="line"><a name="l04343"></a><span class="lineno"> 4343</span>&#160; </div>
<div class="line"><a name="l04344"></a><span class="lineno"> 4344</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> NarrowType, <span class="keyword">typename</span> W<span class="keywordtype">id</span>eType, <span class="keywordtype">int</span> SIZE = kSimd128Size&gt;</div>
<div class="line"><a name="l04345"></a><span class="lineno"> 4345</span>&#160;<span class="keywordtype">void</span> PairwiseAddLong(Simulator* simulator, <span class="keywordtype">int</span> Vd, <span class="keywordtype">int</span> Vm) {</div>
<div class="line"><a name="l04346"></a><span class="lineno"> 4346</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<span class="keyword">sizeof</span>(WideType), 2 * <span class="keyword">sizeof</span>(NarrowType));</div>
<div class="line"><a name="l04347"></a><span class="lineno"> 4347</span>&#160;  <span class="keyword">static</span> constexpr <span class="keywordtype">int</span> kSElems = <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a> / <span class="keyword">sizeof</span>(NarrowType);</div>
<div class="line"><a name="l04348"></a><span class="lineno"> 4348</span>&#160;  <span class="keyword">static</span> constexpr <span class="keywordtype">int</span> kTElems = <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a> / <span class="keyword">sizeof</span>(WideType);</div>
<div class="line"><a name="l04349"></a><span class="lineno"> 4349</span>&#160;  NarrowType src[kSElems];</div>
<div class="line"><a name="l04350"></a><span class="lineno"> 4350</span>&#160;  WideType dst[kTElems];</div>
<div class="line"><a name="l04351"></a><span class="lineno"> 4351</span>&#160;  simulator-&gt;get_neon_register&lt;NarrowType, <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a>&gt;(Vm, src);</div>
<div class="line"><a name="l04352"></a><span class="lineno"> 4352</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; kTElems; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l04353"></a><span class="lineno"> 4353</span>&#160;    dst[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = WideType{src[<a class="code" href="namespacev8_1_1internal.html">i</a> * 2]} + WideType{src[<a class="code" href="namespacev8_1_1internal.html">i</a> * 2 + 1]};</div>
<div class="line"><a name="l04354"></a><span class="lineno"> 4354</span>&#160;  }</div>
<div class="line"><a name="l04355"></a><span class="lineno"> 4355</span>&#160;  simulator-&gt;set_neon_register&lt;WideType, <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a>&gt;(Vd, dst);</div>
<div class="line"><a name="l04356"></a><span class="lineno"> 4356</span>&#160;}</div>
<div class="line"><a name="l04357"></a><span class="lineno"> 4357</span>&#160; </div>
<div class="line"><a name="l04358"></a><span class="lineno"> 4358</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> NarrowType, <span class="keyword">typename</span> W<span class="keywordtype">id</span>eType, <span class="keywordtype">int</span> SIZE = kSimd128Size&gt;</div>
<div class="line"><a name="l04359"></a><span class="lineno"> 4359</span>&#160;<span class="keywordtype">void</span> PairwiseAddAccumulateLong(Simulator* simulator, <span class="keywordtype">int</span> Vd, <span class="keywordtype">int</span> Vm) {</div>
<div class="line"><a name="l04360"></a><span class="lineno"> 4360</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<span class="keyword">sizeof</span>(WideType), 2 * <span class="keyword">sizeof</span>(NarrowType));</div>
<div class="line"><a name="l04361"></a><span class="lineno"> 4361</span>&#160;  <span class="keyword">static</span> constexpr <span class="keywordtype">int</span> kSElems = <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a> / <span class="keyword">sizeof</span>(NarrowType);</div>
<div class="line"><a name="l04362"></a><span class="lineno"> 4362</span>&#160;  <span class="keyword">static</span> constexpr <span class="keywordtype">int</span> kTElems = <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a> / <span class="keyword">sizeof</span>(WideType);</div>
<div class="line"><a name="l04363"></a><span class="lineno"> 4363</span>&#160;  NarrowType src[kSElems];</div>
<div class="line"><a name="l04364"></a><span class="lineno"> 4364</span>&#160;  WideType dst[kTElems];</div>
<div class="line"><a name="l04365"></a><span class="lineno"> 4365</span>&#160;  simulator-&gt;get_neon_register&lt;NarrowType, <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a>&gt;(Vm, src);</div>
<div class="line"><a name="l04366"></a><span class="lineno"> 4366</span>&#160;  simulator-&gt;get_neon_register&lt;WideType, <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a>&gt;(Vd, dst);</div>
<div class="line"><a name="l04367"></a><span class="lineno"> 4367</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; kTElems; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l04368"></a><span class="lineno"> 4368</span>&#160;    dst[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] += WideType{src[<a class="code" href="namespacev8_1_1internal.html">i</a> * 2]} + WideType{src[<a class="code" href="namespacev8_1_1internal.html">i</a> * 2 + 1]};</div>
<div class="line"><a name="l04369"></a><span class="lineno"> 4369</span>&#160;  }</div>
<div class="line"><a name="l04370"></a><span class="lineno"> 4370</span>&#160;  simulator-&gt;set_neon_register&lt;WideType, <a class="code" href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a>&gt;(Vd, dst);</div>
<div class="line"><a name="l04371"></a><span class="lineno"> 4371</span>&#160;}</div>
<div class="line"><a name="l04372"></a><span class="lineno"> 4372</span>&#160; </div>
<div class="line"><a name="l04373"></a><span class="lineno"> 4373</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> NarrowType, <span class="keyword">typename</span> W<span class="keywordtype">id</span>eType&gt;</div>
<div class="line"><a name="l04374"></a><span class="lineno"> 4374</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1internal.html#a139b5b1c24d4735cf7a90c53d34671ee">MultiplyLong</a>(Simulator* simulator, <span class="keywordtype">int</span> Vd, <span class="keywordtype">int</span> Vn, <span class="keywordtype">int</span> Vm) {</div>
<div class="line"><a name="l04375"></a><span class="lineno"> 4375</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<span class="keyword">sizeof</span>(WideType), 2 * <span class="keyword">sizeof</span>(NarrowType));</div>
<div class="line"><a name="l04376"></a><span class="lineno"> 4376</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kElems = <a class="code" href="namespacev8_1_1internal.html#a1ac5aaec8d986abe45d958e665beb21a">kSimd128Size</a> / <span class="keyword">sizeof</span>(WideType);</div>
<div class="line"><a name="l04377"></a><span class="lineno"> 4377</span>&#160;  NarrowType src1[kElems], src2[kElems];</div>
<div class="line"><a name="l04378"></a><span class="lineno"> 4378</span>&#160;  WideType dst[kElems];</div>
<div class="line"><a name="l04379"></a><span class="lineno"> 4379</span>&#160; </div>
<div class="line"><a name="l04380"></a><span class="lineno"> 4380</span>&#160;  <span class="comment">// Get the entire d reg, then memcpy it to an array so we can address the</span></div>
<div class="line"><a name="l04381"></a><span class="lineno"> 4381</span>&#160;  <span class="comment">// underlying datatype easily.</span></div>
<div class="line"><a name="l04382"></a><span class="lineno"> 4382</span>&#160;  uint64_t tmp;</div>
<div class="line"><a name="l04383"></a><span class="lineno"> 4383</span>&#160;  simulator-&gt;get_d_register(Vn, &amp;tmp);</div>
<div class="line"><a name="l04384"></a><span class="lineno"> 4384</span>&#160;  memcpy(src1, &amp;tmp, <span class="keyword">sizeof</span>(tmp));</div>
<div class="line"><a name="l04385"></a><span class="lineno"> 4385</span>&#160;  simulator-&gt;get_d_register(Vm, &amp;tmp);</div>
<div class="line"><a name="l04386"></a><span class="lineno"> 4386</span>&#160;  memcpy(src2, &amp;tmp, <span class="keyword">sizeof</span>(tmp));</div>
<div class="line"><a name="l04387"></a><span class="lineno"> 4387</span>&#160; </div>
<div class="line"><a name="l04388"></a><span class="lineno"> 4388</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; kElems; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l04389"></a><span class="lineno"> 4389</span>&#160;    dst[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = WideType{src1[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>]} * WideType{src2[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>]};</div>
<div class="line"><a name="l04390"></a><span class="lineno"> 4390</span>&#160;  }</div>
<div class="line"><a name="l04391"></a><span class="lineno"> 4391</span>&#160; </div>
<div class="line"><a name="l04392"></a><span class="lineno"> 4392</span>&#160;  simulator-&gt;set_neon_register&lt;WideType&gt;(Vd, dst);</div>
<div class="line"><a name="l04393"></a><span class="lineno"> 4393</span>&#160;}</div>
<div class="line"><a name="l04394"></a><span class="lineno"> 4394</span>&#160; </div>
<div class="line"><a name="l04395"></a><span class="lineno"> 4395</span>&#160;<span class="keywordtype">void</span> Simulator::DecodeUnconditional(Instruction* instr) {</div>
<div class="line"><a name="l04396"></a><span class="lineno"> 4396</span>&#160;  <span class="comment">// This follows the decoding in F4.1.18 Unconditional instructions.</span></div>
<div class="line"><a name="l04397"></a><span class="lineno"> 4397</span>&#160;  <span class="keywordtype">int</span> op0 = instr-&gt;Bits(26, 25);</div>
<div class="line"><a name="l04398"></a><span class="lineno"> 4398</span>&#160;  <span class="keywordtype">int</span> op1 = instr-&gt;Bit(20);</div>
<div class="line"><a name="l04399"></a><span class="lineno"> 4399</span>&#160; </div>
<div class="line"><a name="l04400"></a><span class="lineno"> 4400</span>&#160;  <span class="comment">// Four classes of decoding:</span></div>
<div class="line"><a name="l04401"></a><span class="lineno"> 4401</span>&#160;  <span class="comment">// - Miscellaneous (omitted, no instructions used in V8).</span></div>
<div class="line"><a name="l04402"></a><span class="lineno"> 4402</span>&#160;  <span class="comment">// - Advanced SIMD data-processing.</span></div>
<div class="line"><a name="l04403"></a><span class="lineno"> 4403</span>&#160;  <span class="comment">// - Memory hints and barriers.</span></div>
<div class="line"><a name="l04404"></a><span class="lineno"> 4404</span>&#160;  <span class="comment">// - Advanced SIMD element or structure load/store.</span></div>
<div class="line"><a name="l04405"></a><span class="lineno"> 4405</span>&#160;  <span class="keywordflow">if</span> (op0 == 0b01) {</div>
<div class="line"><a name="l04406"></a><span class="lineno"> 4406</span>&#160;    DecodeAdvancedSIMDDataProcessing(instr);</div>
<div class="line"><a name="l04407"></a><span class="lineno"> 4407</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((op0 &amp; 0b10) == 0b10 &amp;&amp; op1) {</div>
<div class="line"><a name="l04408"></a><span class="lineno"> 4408</span>&#160;    DecodeMemoryHintsAndBarriers(instr);</div>
<div class="line"><a name="l04409"></a><span class="lineno"> 4409</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (op0 == 0b10 &amp;&amp; !op1) {</div>
<div class="line"><a name="l04410"></a><span class="lineno"> 4410</span>&#160;    DecodeAdvancedSIMDElementOrStructureLoadStore(instr);</div>
<div class="line"><a name="l04411"></a><span class="lineno"> 4411</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04412"></a><span class="lineno"> 4412</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l04413"></a><span class="lineno"> 4413</span>&#160;  }</div>
<div class="line"><a name="l04414"></a><span class="lineno"> 4414</span>&#160;}</div>
<div class="line"><a name="l04415"></a><span class="lineno"> 4415</span>&#160; </div>
<div class="line"><a name="l04416"></a><span class="lineno"> 4416</span>&#160;<span class="keywordtype">void</span> Simulator::DecodeAdvancedSIMDTwoOrThreeRegisters(Instruction* instr) {</div>
<div class="line"><a name="l04417"></a><span class="lineno"> 4417</span>&#160;  <span class="comment">// Advanced SIMD two registers, or three registers of different lengths.</span></div>
<div class="line"><a name="l04418"></a><span class="lineno"> 4418</span>&#160;  <span class="keywordtype">int</span> op0 = instr-&gt;Bit(24);</div>
<div class="line"><a name="l04419"></a><span class="lineno"> 4419</span>&#160;  <span class="keywordtype">int</span> op1 = instr-&gt;Bits(21, 20);</div>
<div class="line"><a name="l04420"></a><span class="lineno"> 4420</span>&#160;  <span class="keywordtype">int</span> op2 = instr-&gt;Bits(11, 10);</div>
<div class="line"><a name="l04421"></a><span class="lineno"> 4421</span>&#160;  <span class="keywordtype">int</span> op3 = instr-&gt;Bit(6);</div>
<div class="line"><a name="l04422"></a><span class="lineno"> 4422</span>&#160;  <span class="keywordflow">if</span> (!op0 &amp;&amp; op1 == 0b11) {</div>
<div class="line"><a name="l04423"></a><span class="lineno"> 4423</span>&#160;    <span class="comment">// vext.8 Qd, Qm, Qn, imm4</span></div>
<div class="line"><a name="l04424"></a><span class="lineno"> 4424</span>&#160;    <span class="keywordtype">int</span> imm4 = instr-&gt;Bits(11, 8);</div>
<div class="line"><a name="l04425"></a><span class="lineno"> 4425</span>&#160;    <span class="keywordtype">int</span> Vd = instr-&gt;VFPDRegValue(<a class="code" href="namespacev8_1_1internal.html#ae73733e872be93099e05fcbd9e064c7d">kSimd128Precision</a>);</div>
<div class="line"><a name="l04426"></a><span class="lineno"> 4426</span>&#160;    <span class="keywordtype">int</span> Vm = instr-&gt;VFPMRegValue(<a class="code" href="namespacev8_1_1internal.html#ae73733e872be93099e05fcbd9e064c7d">kSimd128Precision</a>);</div>
<div class="line"><a name="l04427"></a><span class="lineno"> 4427</span>&#160;    <span class="keywordtype">int</span> Vn = instr-&gt;VFPNRegValue(<a class="code" href="namespacev8_1_1internal.html#ae73733e872be93099e05fcbd9e064c7d">kSimd128Precision</a>);</div>
<div class="line"><a name="l04428"></a><span class="lineno"> 4428</span>&#160;    uint8_t src1[16], src2[16], dst[16];</div>
<div class="line"><a name="l04429"></a><span class="lineno"> 4429</span>&#160;    get_neon_register(Vn, src1);</div>
<div class="line"><a name="l04430"></a><span class="lineno"> 4430</span>&#160;    get_neon_register(Vm, src2);</div>
<div class="line"><a name="l04431"></a><span class="lineno"> 4431</span>&#160;    <span class="keywordtype">int</span> boundary = <a class="code" href="namespacev8_1_1internal.html#a1ac5aaec8d986abe45d958e665beb21a">kSimd128Size</a> - imm4;</div>
<div class="line"><a name="l04432"></a><span class="lineno"> 4432</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0;</div>
<div class="line"><a name="l04433"></a><span class="lineno"> 4433</span>&#160;    <span class="keywordflow">for</span> (; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; boundary; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l04434"></a><span class="lineno"> 4434</span>&#160;      dst[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = src1[<a class="code" href="namespacev8_1_1internal.html">i</a> + imm4];</div>
<div class="line"><a name="l04435"></a><span class="lineno"> 4435</span>&#160;    }</div>
<div class="line"><a name="l04436"></a><span class="lineno"> 4436</span>&#160;    <span class="keywordflow">for</span> (; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; 16; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l04437"></a><span class="lineno"> 4437</span>&#160;      dst[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = src2[<a class="code" href="namespacev8_1_1internal.html">i</a> - boundary];</div>
<div class="line"><a name="l04438"></a><span class="lineno"> 4438</span>&#160;    }</div>
<div class="line"><a name="l04439"></a><span class="lineno"> 4439</span>&#160;    set_neon_register(Vd, dst);</div>
<div class="line"><a name="l04440"></a><span class="lineno"> 4440</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (op0 &amp;&amp; op1 == 0b11 &amp;&amp; ((op2 &gt;&gt; 1) == 0)) {</div>
<div class="line"><a name="l04441"></a><span class="lineno"> 4441</span>&#160;    <span class="comment">// Advanced SIMD two registers misc</span></div>
<div class="line"><a name="l04442"></a><span class="lineno"> 4442</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = instr-&gt;Bits(19, 18);</div>
<div class="line"><a name="l04443"></a><span class="lineno"> 4443</span>&#160;    <span class="keywordtype">int</span> opc1 = instr-&gt;Bits(17, 16);</div>
<div class="line"><a name="l04444"></a><span class="lineno"> 4444</span>&#160;    <span class="keywordtype">int</span> opc2 = instr-&gt;Bits(10, 7);</div>
<div class="line"><a name="l04445"></a><span class="lineno"> 4445</span>&#160;    <span class="keywordtype">int</span> q = instr-&gt;Bit(6);</div>
<div class="line"><a name="l04446"></a><span class="lineno"> 4446</span>&#160; </div>
<div class="line"><a name="l04447"></a><span class="lineno"> 4447</span>&#160;    <span class="keywordflow">if</span> (opc1 == 0 &amp;&amp; (opc2 &gt;&gt; 2) == 0) {</div>
<div class="line"><a name="l04448"></a><span class="lineno"> 4448</span>&#160;      <span class="comment">// vrev&lt;op&gt;.size Qd, Qm</span></div>
<div class="line"><a name="l04449"></a><span class="lineno"> 4449</span>&#160;      <span class="keywordtype">int</span> Vd = instr-&gt;VFPDRegValue(<a class="code" href="namespacev8_1_1internal.html#ae73733e872be93099e05fcbd9e064c7d">kSimd128Precision</a>);</div>
<div class="line"><a name="l04450"></a><span class="lineno"> 4450</span>&#160;      <span class="keywordtype">int</span> Vm = instr-&gt;VFPMRegValue(<a class="code" href="namespacev8_1_1internal.html#ae73733e872be93099e05fcbd9e064c7d">kSimd128Precision</a>);</div>
<div class="line"><a name="l04451"></a><span class="lineno"> 4451</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a><span class="keyword">&gt;</span>(instr-&gt;Bits(19, 18));</div>
<div class="line"><a name="l04452"></a><span class="lineno"> 4452</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a> op =</div>
<div class="line"><a name="l04453"></a><span class="lineno"> 4453</span>&#160;          <span class="keyword">static_cast&lt;</span><a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a><span class="keyword">&gt;</span>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal.html#a452c02ca200687366d0f0772dc51dc2c">Neon64</a>) - instr-&gt;Bits(8, 7));</div>
<div class="line"><a name="l04454"></a><span class="lineno"> 4454</span>&#160;      <span class="keywordflow">switch</span> (op) {</div>
<div class="line"><a name="l04455"></a><span class="lineno"> 4455</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6dc2d01b77f88ddef53fca519cfb7a04">Neon16</a>: {</div>
<div class="line"><a name="l04456"></a><span class="lineno"> 4456</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="namespacev8_1_1internal.html#a32abac64e4721dac677f04db429e5050">Neon8</a>, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l04457"></a><span class="lineno"> 4457</span>&#160;          uint8_t src[16];</div>
<div class="line"><a name="l04458"></a><span class="lineno"> 4458</span>&#160;          get_neon_register(Vm, src);</div>
<div class="line"><a name="l04459"></a><span class="lineno"> 4459</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; 16; <a class="code" href="namespacev8_1_1internal.html">i</a> += 2) {</div>
<div class="line"><a name="l04460"></a><span class="lineno"> 4460</span>&#160;            std::swap(src[<a class="code" href="namespacev8_1_1internal.html">i</a>], src[<a class="code" href="namespacev8_1_1internal.html">i</a> + 1]);</div>
<div class="line"><a name="l04461"></a><span class="lineno"> 4461</span>&#160;          }</div>
<div class="line"><a name="l04462"></a><span class="lineno"> 4462</span>&#160;          set_neon_register(Vd, src);</div>
<div class="line"><a name="l04463"></a><span class="lineno"> 4463</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04464"></a><span class="lineno"> 4464</span>&#160;        }</div>
<div class="line"><a name="l04465"></a><span class="lineno"> 4465</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a24d1ad25be234608cba2d2dc3d35c3c1">Neon32</a>: {</div>
<div class="line"><a name="l04466"></a><span class="lineno"> 4466</span>&#160;          <span class="keywordflow">switch</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l04467"></a><span class="lineno"> 4467</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6dc2d01b77f88ddef53fca519cfb7a04">Neon16</a>: {</div>
<div class="line"><a name="l04468"></a><span class="lineno"> 4468</span>&#160;              <a class="code" href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">uint16_t</a> src[8];</div>
<div class="line"><a name="l04469"></a><span class="lineno"> 4469</span>&#160;              get_neon_register(Vm, src);</div>
<div class="line"><a name="l04470"></a><span class="lineno"> 4470</span>&#160;              <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; 8; <a class="code" href="namespacev8_1_1internal.html">i</a> += 2) {</div>
<div class="line"><a name="l04471"></a><span class="lineno"> 4471</span>&#160;                std::swap(src[<a class="code" href="namespacev8_1_1internal.html">i</a>], src[<a class="code" href="namespacev8_1_1internal.html">i</a> + 1]);</div>
<div class="line"><a name="l04472"></a><span class="lineno"> 4472</span>&#160;              }</div>
<div class="line"><a name="l04473"></a><span class="lineno"> 4473</span>&#160;              set_neon_register(Vd, src);</div>
<div class="line"><a name="l04474"></a><span class="lineno"> 4474</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04475"></a><span class="lineno"> 4475</span>&#160;            }</div>
<div class="line"><a name="l04476"></a><span class="lineno"> 4476</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a32abac64e4721dac677f04db429e5050">Neon8</a>: {</div>
<div class="line"><a name="l04477"></a><span class="lineno"> 4477</span>&#160;              uint8_t src[16];</div>
<div class="line"><a name="l04478"></a><span class="lineno"> 4478</span>&#160;              get_neon_register(Vm, src);</div>
<div class="line"><a name="l04479"></a><span class="lineno"> 4479</span>&#160;              <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; 4; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l04480"></a><span class="lineno"> 4480</span>&#160;                std::swap(src[<a class="code" href="namespacev8_1_1internal.html">i</a> * 4], src[<a class="code" href="namespacev8_1_1internal.html">i</a> * 4 + 3]);</div>
<div class="line"><a name="l04481"></a><span class="lineno"> 4481</span>&#160;                std::swap(src[<a class="code" href="namespacev8_1_1internal.html">i</a> * 4 + 1], src[<a class="code" href="namespacev8_1_1internal.html">i</a> * 4 + 2]);</div>
<div class="line"><a name="l04482"></a><span class="lineno"> 4482</span>&#160;              }</div>
<div class="line"><a name="l04483"></a><span class="lineno"> 4483</span>&#160;              set_neon_register(Vd, src);</div>
<div class="line"><a name="l04484"></a><span class="lineno"> 4484</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04485"></a><span class="lineno"> 4485</span>&#160;            }</div>
<div class="line"><a name="l04486"></a><span class="lineno"> 4486</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l04487"></a><span class="lineno"> 4487</span>&#160;              <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l04488"></a><span class="lineno"> 4488</span>&#160;          }</div>
<div class="line"><a name="l04489"></a><span class="lineno"> 4489</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04490"></a><span class="lineno"> 4490</span>&#160;        }</div>
<div class="line"><a name="l04491"></a><span class="lineno"> 4491</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a452c02ca200687366d0f0772dc51dc2c">Neon64</a>: {</div>
<div class="line"><a name="l04492"></a><span class="lineno"> 4492</span>&#160;          <span class="keywordflow">switch</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l04493"></a><span class="lineno"> 4493</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a24d1ad25be234608cba2d2dc3d35c3c1">Neon32</a>: {</div>
<div class="line"><a name="l04494"></a><span class="lineno"> 4494</span>&#160;              uint32_t src[4];</div>
<div class="line"><a name="l04495"></a><span class="lineno"> 4495</span>&#160;              get_neon_register(Vm, src);</div>
<div class="line"><a name="l04496"></a><span class="lineno"> 4496</span>&#160;              std::swap(src[0], src[1]);</div>
<div class="line"><a name="l04497"></a><span class="lineno"> 4497</span>&#160;              std::swap(src[2], src[3]);</div>
<div class="line"><a name="l04498"></a><span class="lineno"> 4498</span>&#160;              set_neon_register(Vd, src);</div>
<div class="line"><a name="l04499"></a><span class="lineno"> 4499</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04500"></a><span class="lineno"> 4500</span>&#160;            }</div>
<div class="line"><a name="l04501"></a><span class="lineno"> 4501</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6dc2d01b77f88ddef53fca519cfb7a04">Neon16</a>: {</div>
<div class="line"><a name="l04502"></a><span class="lineno"> 4502</span>&#160;              <a class="code" href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">uint16_t</a> src[8];</div>
<div class="line"><a name="l04503"></a><span class="lineno"> 4503</span>&#160;              get_neon_register(Vm, src);</div>
<div class="line"><a name="l04504"></a><span class="lineno"> 4504</span>&#160;              <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; 2; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l04505"></a><span class="lineno"> 4505</span>&#160;                std::swap(src[<a class="code" href="namespacev8_1_1internal.html">i</a> * 4], src[<a class="code" href="namespacev8_1_1internal.html">i</a> * 4 + 3]);</div>
<div class="line"><a name="l04506"></a><span class="lineno"> 4506</span>&#160;                std::swap(src[<a class="code" href="namespacev8_1_1internal.html">i</a> * 4 + 1], src[<a class="code" href="namespacev8_1_1internal.html">i</a> * 4 + 2]);</div>
<div class="line"><a name="l04507"></a><span class="lineno"> 4507</span>&#160;              }</div>
<div class="line"><a name="l04508"></a><span class="lineno"> 4508</span>&#160;              set_neon_register(Vd, src);</div>
<div class="line"><a name="l04509"></a><span class="lineno"> 4509</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04510"></a><span class="lineno"> 4510</span>&#160;            }</div>
<div class="line"><a name="l04511"></a><span class="lineno"> 4511</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a32abac64e4721dac677f04db429e5050">Neon8</a>: {</div>
<div class="line"><a name="l04512"></a><span class="lineno"> 4512</span>&#160;              uint8_t src[16];</div>
<div class="line"><a name="l04513"></a><span class="lineno"> 4513</span>&#160;              get_neon_register(Vm, src);</div>
<div class="line"><a name="l04514"></a><span class="lineno"> 4514</span>&#160;              <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; 4; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l04515"></a><span class="lineno"> 4515</span>&#160;                std::swap(src[<a class="code" href="namespacev8_1_1internal.html">i</a>], src[7 - <a class="code" href="namespacev8_1_1internal.html">i</a>]);</div>
<div class="line"><a name="l04516"></a><span class="lineno"> 4516</span>&#160;                std::swap(src[<a class="code" href="namespacev8_1_1internal.html">i</a> + 8], src[15 - <a class="code" href="namespacev8_1_1internal.html">i</a>]);</div>
<div class="line"><a name="l04517"></a><span class="lineno"> 4517</span>&#160;              }</div>
<div class="line"><a name="l04518"></a><span class="lineno"> 4518</span>&#160;              set_neon_register(Vd, src);</div>
<div class="line"><a name="l04519"></a><span class="lineno"> 4519</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04520"></a><span class="lineno"> 4520</span>&#160;            }</div>
<div class="line"><a name="l04521"></a><span class="lineno"> 4521</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l04522"></a><span class="lineno"> 4522</span>&#160;              <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l04523"></a><span class="lineno"> 4523</span>&#160;          }</div>
<div class="line"><a name="l04524"></a><span class="lineno"> 4524</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04525"></a><span class="lineno"> 4525</span>&#160;        }</div>
<div class="line"><a name="l04526"></a><span class="lineno"> 4526</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l04527"></a><span class="lineno"> 4527</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l04528"></a><span class="lineno"> 4528</span>&#160;      }</div>
<div class="line"><a name="l04529"></a><span class="lineno"> 4529</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (opc1 == 0 &amp;&amp; (opc2 == 0b0100 || opc2 == 0b0101)) {</div>
<div class="line"><a name="l04530"></a><span class="lineno"> 4530</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(1, instr-&gt;Bit(6));  <span class="comment">// Only support Q regs.</span></div>
<div class="line"><a name="l04531"></a><span class="lineno"> 4531</span>&#160;      <span class="keywordtype">int</span> Vd = instr-&gt;VFPDRegValue(<a class="code" href="namespacev8_1_1internal.html#ae73733e872be93099e05fcbd9e064c7d">kSimd128Precision</a>);</div>
<div class="line"><a name="l04532"></a><span class="lineno"> 4532</span>&#160;      <span class="keywordtype">int</span> Vm = instr-&gt;VFPMRegValue(<a class="code" href="namespacev8_1_1internal.html#ae73733e872be93099e05fcbd9e064c7d">kSimd128Precision</a>);</div>
<div class="line"><a name="l04533"></a><span class="lineno"> 4533</span>&#160;      <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#af154c349adfe7801ac73d4be545d1336">is_signed</a> = instr-&gt;Bit(7) == 0;</div>
<div class="line"><a name="l04534"></a><span class="lineno"> 4534</span>&#160;      <span class="comment">// vpaddl Qd, Qm.</span></div>
<div class="line"><a name="l04535"></a><span class="lineno"> 4535</span>&#160;      <span class="keywordflow">switch</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l04536"></a><span class="lineno"> 4536</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a32abac64e4721dac677f04db429e5050">Neon8</a>:</div>
<div class="line"><a name="l04537"></a><span class="lineno"> 4537</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#af154c349adfe7801ac73d4be545d1336">is_signed</a> ? PairwiseAddLong&lt;int8_t, int16_t&gt;(<span class="keyword">this</span>, Vd, Vm)</div>
<div class="line"><a name="l04538"></a><span class="lineno"> 4538</span>&#160;                    : PairwiseAddLong&lt;uint8_t, <a class="code" href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">uint16_t</a>&gt;(<a class="code" href="namespacev8_1_1internal.html#ac3ae3605bcdba7262f327c91f0b90ae0">this</a>, Vd, Vm);</div>
<div class="line"><a name="l04539"></a><span class="lineno"> 4539</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04540"></a><span class="lineno"> 4540</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6dc2d01b77f88ddef53fca519cfb7a04">Neon16</a>:</div>
<div class="line"><a name="l04541"></a><span class="lineno"> 4541</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#af154c349adfe7801ac73d4be545d1336">is_signed</a> ? PairwiseAddLong&lt;int16_t, int32_t&gt;(<span class="keyword">this</span>, Vd, Vm)</div>
<div class="line"><a name="l04542"></a><span class="lineno"> 4542</span>&#160;                    : PairwiseAddLong&lt;<a class="code" href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">uint16_t</a>, uint32_t&gt;(<a class="code" href="namespacev8_1_1internal.html#ac3ae3605bcdba7262f327c91f0b90ae0">this</a>, Vd, Vm);</div>
<div class="line"><a name="l04543"></a><span class="lineno"> 4543</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04544"></a><span class="lineno"> 4544</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a24d1ad25be234608cba2d2dc3d35c3c1">Neon32</a>:</div>
<div class="line"><a name="l04545"></a><span class="lineno"> 4545</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#af154c349adfe7801ac73d4be545d1336">is_signed</a> ? PairwiseAddLong&lt;int32_t, int64_t&gt;(<span class="keyword">this</span>, Vd, Vm)</div>
<div class="line"><a name="l04546"></a><span class="lineno"> 4546</span>&#160;                    : PairwiseAddLong&lt;uint32_t, uint64_t&gt;(<a class="code" href="namespacev8_1_1internal.html#ac3ae3605bcdba7262f327c91f0b90ae0">this</a>, Vd, Vm);</div>
<div class="line"><a name="l04547"></a><span class="lineno"> 4547</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04548"></a><span class="lineno"> 4548</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a452c02ca200687366d0f0772dc51dc2c">Neon64</a>:</div>
<div class="line"><a name="l04549"></a><span class="lineno"> 4549</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l04550"></a><span class="lineno"> 4550</span>&#160;      }</div>
<div class="line"><a name="l04551"></a><span class="lineno"> 4551</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (opc1 == 0 &amp;&amp; (opc2 == 0b1100 || opc2 == 0b1101)) {</div>
<div class="line"><a name="l04552"></a><span class="lineno"> 4552</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(1, instr-&gt;Bit(6));  <span class="comment">// Only support Q regs.</span></div>
<div class="line"><a name="l04553"></a><span class="lineno"> 4553</span>&#160;      <span class="keywordtype">int</span> Vd = instr-&gt;VFPDRegValue(<a class="code" href="namespacev8_1_1internal.html#ae73733e872be93099e05fcbd9e064c7d">kSimd128Precision</a>);</div>
<div class="line"><a name="l04554"></a><span class="lineno"> 4554</span>&#160;      <span class="keywordtype">int</span> Vm = instr-&gt;VFPMRegValue(<a class="code" href="namespacev8_1_1internal.html#ae73733e872be93099e05fcbd9e064c7d">kSimd128Precision</a>);</div>
<div class="line"><a name="l04555"></a><span class="lineno"> 4555</span>&#160;      <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#af154c349adfe7801ac73d4be545d1336">is_signed</a> = instr-&gt;Bit(7) == 0;</div>
<div class="line"><a name="l04556"></a><span class="lineno"> 4556</span>&#160;      <span class="comment">// vpadal Qd, Qm</span></div>
<div class="line"><a name="l04557"></a><span class="lineno"> 4557</span>&#160;      <span class="keywordflow">switch</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l04558"></a><span class="lineno"> 4558</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a32abac64e4721dac677f04db429e5050">Neon8</a>:</div>
<div class="line"><a name="l04559"></a><span class="lineno"> 4559</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#af154c349adfe7801ac73d4be545d1336">is_signed</a></div>
<div class="line"><a name="l04560"></a><span class="lineno"> 4560</span>&#160;              ? PairwiseAddAccumulateLong&lt;int8_t, int16_t&gt;(<span class="keyword">this</span>, Vd, Vm)</div>
<div class="line"><a name="l04561"></a><span class="lineno"> 4561</span>&#160;              : PairwiseAddAccumulateLong&lt;uint8_t, <a class="code" href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">uint16_t</a>&gt;(<a class="code" href="namespacev8_1_1internal.html#ac3ae3605bcdba7262f327c91f0b90ae0">this</a>, Vd, Vm);</div>
<div class="line"><a name="l04562"></a><span class="lineno"> 4562</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04563"></a><span class="lineno"> 4563</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6dc2d01b77f88ddef53fca519cfb7a04">Neon16</a>:</div>
<div class="line"><a name="l04564"></a><span class="lineno"> 4564</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#af154c349adfe7801ac73d4be545d1336">is_signed</a></div>
<div class="line"><a name="l04565"></a><span class="lineno"> 4565</span>&#160;              ? PairwiseAddAccumulateLong&lt;int16_t, int32_t&gt;(<span class="keyword">this</span>, Vd, Vm)</div>
<div class="line"><a name="l04566"></a><span class="lineno"> 4566</span>&#160;              : PairwiseAddAccumulateLong&lt;<a class="code" href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">uint16_t</a>, uint32_t&gt;(<a class="code" href="namespacev8_1_1internal.html#ac3ae3605bcdba7262f327c91f0b90ae0">this</a>, Vd, Vm);</div>
<div class="line"><a name="l04567"></a><span class="lineno"> 4567</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04568"></a><span class="lineno"> 4568</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a24d1ad25be234608cba2d2dc3d35c3c1">Neon32</a>:</div>
<div class="line"><a name="l04569"></a><span class="lineno"> 4569</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#af154c349adfe7801ac73d4be545d1336">is_signed</a></div>
<div class="line"><a name="l04570"></a><span class="lineno"> 4570</span>&#160;              ? PairwiseAddAccumulateLong&lt;int32_t, int64_t&gt;(<span class="keyword">this</span>, Vd, Vm)</div>
<div class="line"><a name="l04571"></a><span class="lineno"> 4571</span>&#160;              : PairwiseAddAccumulateLong&lt;uint32_t, uint64_t&gt;(<a class="code" href="namespacev8_1_1internal.html#ac3ae3605bcdba7262f327c91f0b90ae0">this</a>, Vd, Vm);</div>
<div class="line"><a name="l04572"></a><span class="lineno"> 4572</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04573"></a><span class="lineno"> 4573</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a452c02ca200687366d0f0772dc51dc2c">Neon64</a>:</div>
<div class="line"><a name="l04574"></a><span class="lineno"> 4574</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l04575"></a><span class="lineno"> 4575</span>&#160;      }</div>
<div class="line"><a name="l04576"></a><span class="lineno"> 4576</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> == 0 &amp;&amp; opc1 == 0b10 &amp;&amp; opc2 == 0) {</div>
<div class="line"><a name="l04577"></a><span class="lineno"> 4577</span>&#160;      <span class="keywordflow">if</span> (instr-&gt;Bit(6) == 0) {</div>
<div class="line"><a name="l04578"></a><span class="lineno"> 4578</span>&#160;        <span class="comment">// vswp Dd, Dm.</span></div>
<div class="line"><a name="l04579"></a><span class="lineno"> 4579</span>&#160;        uint64_t dval, mval;</div>
<div class="line"><a name="l04580"></a><span class="lineno"> 4580</span>&#160;        <span class="keywordtype">int</span> vd = instr-&gt;VFPDRegValue(<a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l04581"></a><span class="lineno"> 4581</span>&#160;        <span class="keywordtype">int</span> vm = instr-&gt;VFPMRegValue(<a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l04582"></a><span class="lineno"> 4582</span>&#160;        get_d_register(vd, &amp;dval);</div>
<div class="line"><a name="l04583"></a><span class="lineno"> 4583</span>&#160;        get_d_register(vm, &amp;mval);</div>
<div class="line"><a name="l04584"></a><span class="lineno"> 4584</span>&#160;        set_d_register(vm, &amp;dval);</div>
<div class="line"><a name="l04585"></a><span class="lineno"> 4585</span>&#160;        set_d_register(vd, &amp;mval);</div>
<div class="line"><a name="l04586"></a><span class="lineno"> 4586</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04587"></a><span class="lineno"> 4587</span>&#160;        <span class="comment">// vswp Qd, Qm.</span></div>
<div class="line"><a name="l04588"></a><span class="lineno"> 4588</span>&#160;        uint32_t dval[4], mval[4];</div>
<div class="line"><a name="l04589"></a><span class="lineno"> 4589</span>&#160;        <span class="keywordtype">int</span> vd = instr-&gt;VFPDRegValue(<a class="code" href="namespacev8_1_1internal.html#ae73733e872be93099e05fcbd9e064c7d">kSimd128Precision</a>);</div>
<div class="line"><a name="l04590"></a><span class="lineno"> 4590</span>&#160;        <span class="keywordtype">int</span> vm = instr-&gt;VFPMRegValue(<a class="code" href="namespacev8_1_1internal.html#ae73733e872be93099e05fcbd9e064c7d">kSimd128Precision</a>);</div>
<div class="line"><a name="l04591"></a><span class="lineno"> 4591</span>&#160;        get_neon_register(vd, dval);</div>
<div class="line"><a name="l04592"></a><span class="lineno"> 4592</span>&#160;        get_neon_register(vm, mval);</div>
<div class="line"><a name="l04593"></a><span class="lineno"> 4593</span>&#160;        set_neon_register(vm, dval);</div>
<div class="line"><a name="l04594"></a><span class="lineno"> 4594</span>&#160;        set_neon_register(vd, mval);</div>
<div class="line"><a name="l04595"></a><span class="lineno"> 4595</span>&#160;      }</div>
<div class="line"><a name="l04596"></a><span class="lineno"> 4596</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (opc1 == 0 &amp;&amp; opc2 == 0b1010) {</div>
<div class="line"><a name="l04597"></a><span class="lineno"> 4597</span>&#160;      <span class="comment">// vcnt Qd, Qm.</span></div>
<div class="line"><a name="l04598"></a><span class="lineno"> 4598</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l04599"></a><span class="lineno"> 4599</span>&#160;      <span class="keywordtype">int</span> vd = instr-&gt;VFPDRegValue(q ? <a class="code" href="namespacev8_1_1internal.html#ae73733e872be93099e05fcbd9e064c7d">kSimd128Precision</a> : <a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l04600"></a><span class="lineno"> 4600</span>&#160;      <span class="keywordtype">int</span> vm = instr-&gt;VFPMRegValue(q ? <a class="code" href="namespacev8_1_1internal.html#ae73733e872be93099e05fcbd9e064c7d">kSimd128Precision</a> : <a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l04601"></a><span class="lineno"> 4601</span>&#160;      uint8_t q_data[16];</div>
<div class="line"><a name="l04602"></a><span class="lineno"> 4602</span>&#160;      get_neon_register(vm, q_data);</div>
<div class="line"><a name="l04603"></a><span class="lineno"> 4603</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; 16; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l04604"></a><span class="lineno"> 4604</span>&#160;        q_data[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = <a class="code" href="namespacev8_1_1base_1_1bits.html#a474615d6b417607441ea6a7b9f25faae">base::bits::CountPopulation</a>(q_data[<a class="code" href="namespacev8_1_1internal.html">i</a>]);</div>
<div class="line"><a name="l04605"></a><span class="lineno"> 4605</span>&#160;      }</div>
<div class="line"><a name="l04606"></a><span class="lineno"> 4606</span>&#160;      set_neon_register(vd, q_data);</div>
<div class="line"><a name="l04607"></a><span class="lineno"> 4607</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (opc1 == 0 &amp;&amp; opc2 == 0b1011) {</div>
<div class="line"><a name="l04608"></a><span class="lineno"> 4608</span>&#160;      <span class="comment">// vmvn Qd, Qm.</span></div>
<div class="line"><a name="l04609"></a><span class="lineno"> 4609</span>&#160;      <span class="keywordtype">int</span> vd = instr-&gt;VFPDRegValue(<a class="code" href="namespacev8_1_1internal.html#ae73733e872be93099e05fcbd9e064c7d">kSimd128Precision</a>);</div>
<div class="line"><a name="l04610"></a><span class="lineno"> 4610</span>&#160;      <span class="keywordtype">int</span> vm = instr-&gt;VFPMRegValue(<a class="code" href="namespacev8_1_1internal.html#ae73733e872be93099e05fcbd9e064c7d">kSimd128Precision</a>);</div>
<div class="line"><a name="l04611"></a><span class="lineno"> 4611</span>&#160;      uint32_t q_data[4];</div>
<div class="line"><a name="l04612"></a><span class="lineno"> 4612</span>&#160;      get_neon_register(vm, q_data);</div>
<div class="line"><a name="l04613"></a><span class="lineno"> 4613</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; 4; <a class="code" href="namespacev8_1_1internal.html">i</a>++) q_data[<a class="code" href="namespacev8_1_1internal.html">i</a>] = ~q_data[<a class="code" href="namespacev8_1_1internal.html">i</a>];</div>
<div class="line"><a name="l04614"></a><span class="lineno"> 4614</span>&#160;      set_neon_register(vd, q_data);</div>
<div class="line"><a name="l04615"></a><span class="lineno"> 4615</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (opc1 == 0b01 &amp;&amp; opc2 == 0b0010) {</div>
<div class="line"><a name="l04616"></a><span class="lineno"> 4616</span>&#160;      <span class="comment">// vceq.&lt;dt&gt; Qd, Qm, #0 (signed integers).</span></div>
<div class="line"><a name="l04617"></a><span class="lineno"> 4617</span>&#160;      <span class="keywordtype">int</span> Vd = instr-&gt;VFPDRegValue(<a class="code" href="namespacev8_1_1internal.html#ae73733e872be93099e05fcbd9e064c7d">kSimd128Precision</a>);</div>
<div class="line"><a name="l04618"></a><span class="lineno"> 4618</span>&#160;      <span class="keywordtype">int</span> Vm = instr-&gt;VFPMRegValue(<a class="code" href="namespacev8_1_1internal.html#ae73733e872be93099e05fcbd9e064c7d">kSimd128Precision</a>);</div>
<div class="line"><a name="l04619"></a><span class="lineno"> 4619</span>&#160;      <span class="keywordflow">switch</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l04620"></a><span class="lineno"> 4620</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a32abac64e4721dac677f04db429e5050">Neon8</a>:</div>
<div class="line"><a name="l04621"></a><span class="lineno"> 4621</span>&#160;          Unop&lt;int8_t&gt;(<span class="keyword">this</span>, Vd, Vm, [](int8_t x) { <span class="keywordflow">return</span> x == 0 ? -1 : 0; });</div>
<div class="line"><a name="l04622"></a><span class="lineno"> 4622</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04623"></a><span class="lineno"> 4623</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6dc2d01b77f88ddef53fca519cfb7a04">Neon16</a>:</div>
<div class="line"><a name="l04624"></a><span class="lineno"> 4624</span>&#160;          Unop&lt;int16_t&gt;(<span class="keyword">this</span>, Vd, Vm,</div>
<div class="line"><a name="l04625"></a><span class="lineno"> 4625</span>&#160;                        [](<a class="code" href="namespaceunibrow.html#a511cc0636aed6a00d37d3e7cc0ec4e7c">int16_t</a> x) { <span class="keywordflow">return</span> x == 0 ? -1 : 0; });</div>
<div class="line"><a name="l04626"></a><span class="lineno"> 4626</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04627"></a><span class="lineno"> 4627</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a24d1ad25be234608cba2d2dc3d35c3c1">Neon32</a>:</div>
<div class="line"><a name="l04628"></a><span class="lineno"> 4628</span>&#160;          Unop&lt;int32_t&gt;(<span class="keyword">this</span>, Vd, Vm,</div>
<div class="line"><a name="l04629"></a><span class="lineno"> 4629</span>&#160;                        [](<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> x) { <span class="keywordflow">return</span> x == 0 ? -1 : 0; });</div>
<div class="line"><a name="l04630"></a><span class="lineno"> 4630</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04631"></a><span class="lineno"> 4631</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a452c02ca200687366d0f0772dc51dc2c">Neon64</a>:</div>
<div class="line"><a name="l04632"></a><span class="lineno"> 4632</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l04633"></a><span class="lineno"> 4633</span>&#160;      }</div>
<div class="line"><a name="l04634"></a><span class="lineno"> 4634</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (opc1 == 0b01 &amp;&amp; opc2 == 0b0100) {</div>
<div class="line"><a name="l04635"></a><span class="lineno"> 4635</span>&#160;      <span class="comment">// vclt.&lt;dt&gt; Qd, Qm, #0 (signed integers).</span></div>
<div class="line"><a name="l04636"></a><span class="lineno"> 4636</span>&#160;      <span class="keywordtype">int</span> Vd = instr-&gt;VFPDRegValue(<a class="code" href="namespacev8_1_1internal.html#ae73733e872be93099e05fcbd9e064c7d">kSimd128Precision</a>);</div>
<div class="line"><a name="l04637"></a><span class="lineno"> 4637</span>&#160;      <span class="keywordtype">int</span> Vm = instr-&gt;VFPMRegValue(<a class="code" href="namespacev8_1_1internal.html#ae73733e872be93099e05fcbd9e064c7d">kSimd128Precision</a>);</div>
<div class="line"><a name="l04638"></a><span class="lineno"> 4638</span>&#160;      <span class="keywordflow">switch</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l04639"></a><span class="lineno"> 4639</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a32abac64e4721dac677f04db429e5050">Neon8</a>:</div>
<div class="line"><a name="l04640"></a><span class="lineno"> 4640</span>&#160;          Unop&lt;int8_t&gt;(<span class="keyword">this</span>, Vd, Vm, [](int8_t x) { <span class="keywordflow">return</span> x &lt; 0 ? -1 : 0; });</div>
<div class="line"><a name="l04641"></a><span class="lineno"> 4641</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04642"></a><span class="lineno"> 4642</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6dc2d01b77f88ddef53fca519cfb7a04">Neon16</a>:</div>
<div class="line"><a name="l04643"></a><span class="lineno"> 4643</span>&#160;          Unop&lt;int16_t&gt;(<span class="keyword">this</span>, Vd, Vm, [](<a class="code" href="namespaceunibrow.html#a511cc0636aed6a00d37d3e7cc0ec4e7c">int16_t</a> x) { <span class="keywordflow">return</span> x &lt; 0 ? -1 : 0; });</div>
<div class="line"><a name="l04644"></a><span class="lineno"> 4644</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04645"></a><span class="lineno"> 4645</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a24d1ad25be234608cba2d2dc3d35c3c1">Neon32</a>:</div>
<div class="line"><a name="l04646"></a><span class="lineno"> 4646</span>&#160;          Unop&lt;int32_t&gt;(<span class="keyword">this</span>, Vd, Vm, [](<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> x) { <span class="keywordflow">return</span> x &lt; 0 ? -1 : 0; });</div>
<div class="line"><a name="l04647"></a><span class="lineno"> 4647</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04648"></a><span class="lineno"> 4648</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a452c02ca200687366d0f0772dc51dc2c">Neon64</a>:</div>
<div class="line"><a name="l04649"></a><span class="lineno"> 4649</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l04650"></a><span class="lineno"> 4650</span>&#160;      }</div>
<div class="line"><a name="l04651"></a><span class="lineno"> 4651</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (opc1 == 0b01 &amp;&amp; (opc2 &amp; 0b0111) == 0b110) {</div>
<div class="line"><a name="l04652"></a><span class="lineno"> 4652</span>&#160;      <span class="comment">// vabs&lt;type&gt;.&lt;size&gt; Qd, Qm</span></div>
<div class="line"><a name="l04653"></a><span class="lineno"> 4653</span>&#160;      <span class="keywordtype">int</span> Vd = instr-&gt;VFPDRegValue(<a class="code" href="namespacev8_1_1internal.html#ae73733e872be93099e05fcbd9e064c7d">kSimd128Precision</a>);</div>
<div class="line"><a name="l04654"></a><span class="lineno"> 4654</span>&#160;      <span class="keywordtype">int</span> Vm = instr-&gt;VFPMRegValue(<a class="code" href="namespacev8_1_1internal.html#ae73733e872be93099e05fcbd9e064c7d">kSimd128Precision</a>);</div>
<div class="line"><a name="l04655"></a><span class="lineno"> 4655</span>&#160;      <span class="keywordflow">if</span> (instr-&gt;Bit(10) != 0) {</div>
<div class="line"><a name="l04656"></a><span class="lineno"> 4656</span>&#160;        <span class="comment">// floating point (clear sign bits)</span></div>
<div class="line"><a name="l04657"></a><span class="lineno"> 4657</span>&#160;        uint32_t src[4];</div>
<div class="line"><a name="l04658"></a><span class="lineno"> 4658</span>&#160;        get_neon_register(Vm, src);</div>
<div class="line"><a name="l04659"></a><span class="lineno"> 4659</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; 4; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l04660"></a><span class="lineno"> 4660</span>&#160;          src[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] &amp;= ~0x80000000;</div>
<div class="line"><a name="l04661"></a><span class="lineno"> 4661</span>&#160;        }</div>
<div class="line"><a name="l04662"></a><span class="lineno"> 4662</span>&#160;        set_neon_register(Vd, src);</div>
<div class="line"><a name="l04663"></a><span class="lineno"> 4663</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04664"></a><span class="lineno"> 4664</span>&#160;        <span class="comment">// signed integer</span></div>
<div class="line"><a name="l04665"></a><span class="lineno"> 4665</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l04666"></a><span class="lineno"> 4666</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a32abac64e4721dac677f04db429e5050">Neon8</a>:</div>
<div class="line"><a name="l04667"></a><span class="lineno"> 4667</span>&#160;            Abs&lt;int8_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm);</div>
<div class="line"><a name="l04668"></a><span class="lineno"> 4668</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04669"></a><span class="lineno"> 4669</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6dc2d01b77f88ddef53fca519cfb7a04">Neon16</a>:</div>
<div class="line"><a name="l04670"></a><span class="lineno"> 4670</span>&#160;            Abs&lt;int16_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm);</div>
<div class="line"><a name="l04671"></a><span class="lineno"> 4671</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04672"></a><span class="lineno"> 4672</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a24d1ad25be234608cba2d2dc3d35c3c1">Neon32</a>:</div>
<div class="line"><a name="l04673"></a><span class="lineno"> 4673</span>&#160;            Abs&lt;int32_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm);</div>
<div class="line"><a name="l04674"></a><span class="lineno"> 4674</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04675"></a><span class="lineno"> 4675</span>&#160;          <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l04676"></a><span class="lineno"> 4676</span>&#160;            <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l04677"></a><span class="lineno"> 4677</span>&#160;        }</div>
<div class="line"><a name="l04678"></a><span class="lineno"> 4678</span>&#160;      }</div>
<div class="line"><a name="l04679"></a><span class="lineno"> 4679</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (opc1 == 0b01 &amp;&amp; (opc2 &amp; 0b0111) == 0b111) {</div>
<div class="line"><a name="l04680"></a><span class="lineno"> 4680</span>&#160;      <span class="keywordtype">int</span> Vd = instr-&gt;VFPDRegValue(<a class="code" href="namespacev8_1_1internal.html#ae73733e872be93099e05fcbd9e064c7d">kSimd128Precision</a>);</div>
<div class="line"><a name="l04681"></a><span class="lineno"> 4681</span>&#160;      <span class="keywordtype">int</span> Vm = instr-&gt;VFPMRegValue(<a class="code" href="namespacev8_1_1internal.html#ae73733e872be93099e05fcbd9e064c7d">kSimd128Precision</a>);</div>
<div class="line"><a name="l04682"></a><span class="lineno"> 4682</span>&#160;      <span class="comment">// vneg&lt;type&gt;.&lt;size&gt; Qd, Qm (signed integer)</span></div>
<div class="line"><a name="l04683"></a><span class="lineno"> 4683</span>&#160;      <span class="keywordflow">if</span> (instr-&gt;Bit(10) != 0) {</div>
<div class="line"><a name="l04684"></a><span class="lineno"> 4684</span>&#160;        <span class="comment">// floating point (toggle sign bits)</span></div>
<div class="line"><a name="l04685"></a><span class="lineno"> 4685</span>&#160;        uint32_t src[4];</div>
<div class="line"><a name="l04686"></a><span class="lineno"> 4686</span>&#160;        get_neon_register(Vm, src);</div>
<div class="line"><a name="l04687"></a><span class="lineno"> 4687</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; 4; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l04688"></a><span class="lineno"> 4688</span>&#160;          src[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] ^= 0x80000000;</div>
<div class="line"><a name="l04689"></a><span class="lineno"> 4689</span>&#160;        }</div>
<div class="line"><a name="l04690"></a><span class="lineno"> 4690</span>&#160;        set_neon_register(Vd, src);</div>
<div class="line"><a name="l04691"></a><span class="lineno"> 4691</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04692"></a><span class="lineno"> 4692</span>&#160;        <span class="comment">// signed integer</span></div>
<div class="line"><a name="l04693"></a><span class="lineno"> 4693</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l04694"></a><span class="lineno"> 4694</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a32abac64e4721dac677f04db429e5050">Neon8</a>:</div>
<div class="line"><a name="l04695"></a><span class="lineno"> 4695</span>&#160;            Neg&lt;int8_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm);</div>
<div class="line"><a name="l04696"></a><span class="lineno"> 4696</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04697"></a><span class="lineno"> 4697</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6dc2d01b77f88ddef53fca519cfb7a04">Neon16</a>:</div>
<div class="line"><a name="l04698"></a><span class="lineno"> 4698</span>&#160;            Neg&lt;int16_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm);</div>
<div class="line"><a name="l04699"></a><span class="lineno"> 4699</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04700"></a><span class="lineno"> 4700</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a24d1ad25be234608cba2d2dc3d35c3c1">Neon32</a>:</div>
<div class="line"><a name="l04701"></a><span class="lineno"> 4701</span>&#160;            Neg&lt;int32_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm);</div>
<div class="line"><a name="l04702"></a><span class="lineno"> 4702</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04703"></a><span class="lineno"> 4703</span>&#160;          <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l04704"></a><span class="lineno"> 4704</span>&#160;            <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l04705"></a><span class="lineno"> 4705</span>&#160;        }</div>
<div class="line"><a name="l04706"></a><span class="lineno"> 4706</span>&#160;      }</div>
<div class="line"><a name="l04707"></a><span class="lineno"> 4707</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (opc1 == 0b10 &amp;&amp; opc2 == 0b0001) {</div>
<div class="line"><a name="l04708"></a><span class="lineno"> 4708</span>&#160;      <span class="keywordflow">if</span> (q) {</div>
<div class="line"><a name="l04709"></a><span class="lineno"> 4709</span>&#160;        <span class="keywordtype">int</span> Vd = instr-&gt;VFPDRegValue(<a class="code" href="namespacev8_1_1internal.html#ae73733e872be93099e05fcbd9e064c7d">kSimd128Precision</a>);</div>
<div class="line"><a name="l04710"></a><span class="lineno"> 4710</span>&#160;        <span class="keywordtype">int</span> Vm = instr-&gt;VFPMRegValue(<a class="code" href="namespacev8_1_1internal.html#ae73733e872be93099e05fcbd9e064c7d">kSimd128Precision</a>);</div>
<div class="line"><a name="l04711"></a><span class="lineno"> 4711</span>&#160;        <span class="comment">// vtrn.&lt;size&gt; Qd, Qm.</span></div>
<div class="line"><a name="l04712"></a><span class="lineno"> 4712</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l04713"></a><span class="lineno"> 4713</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a32abac64e4721dac677f04db429e5050">Neon8</a>:</div>
<div class="line"><a name="l04714"></a><span class="lineno"> 4714</span>&#160;            Transpose&lt;uint8_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm);</div>
<div class="line"><a name="l04715"></a><span class="lineno"> 4715</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04716"></a><span class="lineno"> 4716</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6dc2d01b77f88ddef53fca519cfb7a04">Neon16</a>:</div>
<div class="line"><a name="l04717"></a><span class="lineno"> 4717</span>&#160;            Transpose&lt;uint16_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm);</div>
<div class="line"><a name="l04718"></a><span class="lineno"> 4718</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04719"></a><span class="lineno"> 4719</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a24d1ad25be234608cba2d2dc3d35c3c1">Neon32</a>:</div>
<div class="line"><a name="l04720"></a><span class="lineno"> 4720</span>&#160;            Transpose&lt;uint32_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm);</div>
<div class="line"><a name="l04721"></a><span class="lineno"> 4721</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04722"></a><span class="lineno"> 4722</span>&#160;          <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l04723"></a><span class="lineno"> 4723</span>&#160;            <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l04724"></a><span class="lineno"> 4724</span>&#160;        }</div>
<div class="line"><a name="l04725"></a><span class="lineno"> 4725</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04726"></a><span class="lineno"> 4726</span>&#160;        <span class="keywordtype">int</span> Vd = instr-&gt;VFPDRegValue(<a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l04727"></a><span class="lineno"> 4727</span>&#160;        <span class="keywordtype">int</span> Vm = instr-&gt;VFPMRegValue(<a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l04728"></a><span class="lineno"> 4728</span>&#160;        <span class="comment">// vtrn.&lt;size&gt; Dd, Dm.</span></div>
<div class="line"><a name="l04729"></a><span class="lineno"> 4729</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l04730"></a><span class="lineno"> 4730</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a32abac64e4721dac677f04db429e5050">Neon8</a>:</div>
<div class="line"><a name="l04731"></a><span class="lineno"> 4731</span>&#160;            Transpose&lt;uint8_t, kDoubleSize&gt;(<span class="keyword">this</span>, Vd, Vm);</div>
<div class="line"><a name="l04732"></a><span class="lineno"> 4732</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04733"></a><span class="lineno"> 4733</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6dc2d01b77f88ddef53fca519cfb7a04">Neon16</a>:</div>
<div class="line"><a name="l04734"></a><span class="lineno"> 4734</span>&#160;            Transpose&lt;uint16_t, kDoubleSize&gt;(<span class="keyword">this</span>, Vd, Vm);</div>
<div class="line"><a name="l04735"></a><span class="lineno"> 4735</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04736"></a><span class="lineno"> 4736</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a24d1ad25be234608cba2d2dc3d35c3c1">Neon32</a>:</div>
<div class="line"><a name="l04737"></a><span class="lineno"> 4737</span>&#160;            Transpose&lt;uint32_t, kDoubleSize&gt;(<span class="keyword">this</span>, Vd, Vm);</div>
<div class="line"><a name="l04738"></a><span class="lineno"> 4738</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04739"></a><span class="lineno"> 4739</span>&#160;          <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l04740"></a><span class="lineno"> 4740</span>&#160;            <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l04741"></a><span class="lineno"> 4741</span>&#160;        }</div>
<div class="line"><a name="l04742"></a><span class="lineno"> 4742</span>&#160;      }</div>
<div class="line"><a name="l04743"></a><span class="lineno"> 4743</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (opc1 == 0b10 &amp;&amp; (opc2 &amp; 0b1110) == 0b0010) {</div>
<div class="line"><a name="l04744"></a><span class="lineno"> 4744</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a><span class="keyword">&gt;</span>(instr-&gt;Bits(19, 18));</div>
<div class="line"><a name="l04745"></a><span class="lineno"> 4745</span>&#160;      <span class="keywordflow">if</span> (q) {</div>
<div class="line"><a name="l04746"></a><span class="lineno"> 4746</span>&#160;        <span class="keywordtype">int</span> Vd = instr-&gt;VFPDRegValue(<a class="code" href="namespacev8_1_1internal.html#ae73733e872be93099e05fcbd9e064c7d">kSimd128Precision</a>);</div>
<div class="line"><a name="l04747"></a><span class="lineno"> 4747</span>&#160;        <span class="keywordtype">int</span> Vm = instr-&gt;VFPMRegValue(<a class="code" href="namespacev8_1_1internal.html#ae73733e872be93099e05fcbd9e064c7d">kSimd128Precision</a>);</div>
<div class="line"><a name="l04748"></a><span class="lineno"> 4748</span>&#160;        <span class="keywordflow">if</span> (instr-&gt;Bit(7) == 1) {</div>
<div class="line"><a name="l04749"></a><span class="lineno"> 4749</span>&#160;          <span class="comment">// vzip.&lt;size&gt; Qd, Qm.</span></div>
<div class="line"><a name="l04750"></a><span class="lineno"> 4750</span>&#160;          <span class="keywordflow">switch</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l04751"></a><span class="lineno"> 4751</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a32abac64e4721dac677f04db429e5050">Neon8</a>:</div>
<div class="line"><a name="l04752"></a><span class="lineno"> 4752</span>&#160;              Zip&lt;uint8_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm);</div>
<div class="line"><a name="l04753"></a><span class="lineno"> 4753</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04754"></a><span class="lineno"> 4754</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6dc2d01b77f88ddef53fca519cfb7a04">Neon16</a>:</div>
<div class="line"><a name="l04755"></a><span class="lineno"> 4755</span>&#160;              Zip&lt;uint16_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm);</div>
<div class="line"><a name="l04756"></a><span class="lineno"> 4756</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04757"></a><span class="lineno"> 4757</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a24d1ad25be234608cba2d2dc3d35c3c1">Neon32</a>:</div>
<div class="line"><a name="l04758"></a><span class="lineno"> 4758</span>&#160;              Zip&lt;uint32_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm);</div>
<div class="line"><a name="l04759"></a><span class="lineno"> 4759</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04760"></a><span class="lineno"> 4760</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l04761"></a><span class="lineno"> 4761</span>&#160;              <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l04762"></a><span class="lineno"> 4762</span>&#160;          }</div>
<div class="line"><a name="l04763"></a><span class="lineno"> 4763</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04764"></a><span class="lineno"> 4764</span>&#160;          <span class="comment">// vuzp.&lt;size&gt; Qd, Qm.</span></div>
<div class="line"><a name="l04765"></a><span class="lineno"> 4765</span>&#160;          <span class="keywordflow">switch</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l04766"></a><span class="lineno"> 4766</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a32abac64e4721dac677f04db429e5050">Neon8</a>:</div>
<div class="line"><a name="l04767"></a><span class="lineno"> 4767</span>&#160;              Unzip&lt;uint8_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm);</div>
<div class="line"><a name="l04768"></a><span class="lineno"> 4768</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04769"></a><span class="lineno"> 4769</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6dc2d01b77f88ddef53fca519cfb7a04">Neon16</a>:</div>
<div class="line"><a name="l04770"></a><span class="lineno"> 4770</span>&#160;              Unzip&lt;uint16_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm);</div>
<div class="line"><a name="l04771"></a><span class="lineno"> 4771</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04772"></a><span class="lineno"> 4772</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a24d1ad25be234608cba2d2dc3d35c3c1">Neon32</a>:</div>
<div class="line"><a name="l04773"></a><span class="lineno"> 4773</span>&#160;              Unzip&lt;uint32_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm);</div>
<div class="line"><a name="l04774"></a><span class="lineno"> 4774</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04775"></a><span class="lineno"> 4775</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l04776"></a><span class="lineno"> 4776</span>&#160;              <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l04777"></a><span class="lineno"> 4777</span>&#160;          }</div>
<div class="line"><a name="l04778"></a><span class="lineno"> 4778</span>&#160;        }</div>
<div class="line"><a name="l04779"></a><span class="lineno"> 4779</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04780"></a><span class="lineno"> 4780</span>&#160;        <span class="keywordtype">int</span> Vd = instr-&gt;VFPDRegValue(<a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l04781"></a><span class="lineno"> 4781</span>&#160;        <span class="keywordtype">int</span> Vm = instr-&gt;VFPMRegValue(<a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l04782"></a><span class="lineno"> 4782</span>&#160;        <span class="keywordflow">if</span> (instr-&gt;Bit(7) == 1) {</div>
<div class="line"><a name="l04783"></a><span class="lineno"> 4783</span>&#160;          <span class="comment">// vzip.&lt;size&gt; Dd, Dm.</span></div>
<div class="line"><a name="l04784"></a><span class="lineno"> 4784</span>&#160;          <span class="keywordflow">switch</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l04785"></a><span class="lineno"> 4785</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a32abac64e4721dac677f04db429e5050">Neon8</a>:</div>
<div class="line"><a name="l04786"></a><span class="lineno"> 4786</span>&#160;              Zip&lt;uint8_t, kDoubleSize&gt;(<span class="keyword">this</span>, Vd, Vm);</div>
<div class="line"><a name="l04787"></a><span class="lineno"> 4787</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04788"></a><span class="lineno"> 4788</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6dc2d01b77f88ddef53fca519cfb7a04">Neon16</a>:</div>
<div class="line"><a name="l04789"></a><span class="lineno"> 4789</span>&#160;              Zip&lt;uint16_t, kDoubleSize&gt;(<span class="keyword">this</span>, Vd, Vm);</div>
<div class="line"><a name="l04790"></a><span class="lineno"> 4790</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04791"></a><span class="lineno"> 4791</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a24d1ad25be234608cba2d2dc3d35c3c1">Neon32</a>:</div>
<div class="line"><a name="l04792"></a><span class="lineno"> 4792</span>&#160;              <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l04793"></a><span class="lineno"> 4793</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l04794"></a><span class="lineno"> 4794</span>&#160;              <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l04795"></a><span class="lineno"> 4795</span>&#160;          }</div>
<div class="line"><a name="l04796"></a><span class="lineno"> 4796</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04797"></a><span class="lineno"> 4797</span>&#160;          <span class="comment">// vuzp.&lt;size&gt; Dd, Dm.</span></div>
<div class="line"><a name="l04798"></a><span class="lineno"> 4798</span>&#160;          <span class="keywordflow">switch</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l04799"></a><span class="lineno"> 4799</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a32abac64e4721dac677f04db429e5050">Neon8</a>:</div>
<div class="line"><a name="l04800"></a><span class="lineno"> 4800</span>&#160;              Unzip&lt;uint8_t, kDoubleSize&gt;(<span class="keyword">this</span>, Vd, Vm);</div>
<div class="line"><a name="l04801"></a><span class="lineno"> 4801</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04802"></a><span class="lineno"> 4802</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6dc2d01b77f88ddef53fca519cfb7a04">Neon16</a>:</div>
<div class="line"><a name="l04803"></a><span class="lineno"> 4803</span>&#160;              Unzip&lt;uint16_t, kDoubleSize&gt;(<span class="keyword">this</span>, Vd, Vm);</div>
<div class="line"><a name="l04804"></a><span class="lineno"> 4804</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04805"></a><span class="lineno"> 4805</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a24d1ad25be234608cba2d2dc3d35c3c1">Neon32</a>:</div>
<div class="line"><a name="l04806"></a><span class="lineno"> 4806</span>&#160;              <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l04807"></a><span class="lineno"> 4807</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l04808"></a><span class="lineno"> 4808</span>&#160;              <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l04809"></a><span class="lineno"> 4809</span>&#160;          }</div>
<div class="line"><a name="l04810"></a><span class="lineno"> 4810</span>&#160;        }</div>
<div class="line"><a name="l04811"></a><span class="lineno"> 4811</span>&#160;      }</div>
<div class="line"><a name="l04812"></a><span class="lineno"> 4812</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (opc1 == 0b10 &amp;&amp; (opc2 &amp; 0b1110) == 0b0100) {</div>
<div class="line"><a name="l04813"></a><span class="lineno"> 4813</span>&#160;      <span class="comment">// vqmovn.&lt;type&gt;&lt;size&gt; Dd, Qm.</span></div>
<div class="line"><a name="l04814"></a><span class="lineno"> 4814</span>&#160;      <span class="keywordtype">int</span> Vd = instr-&gt;VFPDRegValue(<a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l04815"></a><span class="lineno"> 4815</span>&#160;      <span class="keywordtype">int</span> Vm = instr-&gt;VFPMRegValue(<a class="code" href="namespacev8_1_1internal.html#ae73733e872be93099e05fcbd9e064c7d">kSimd128Precision</a>);</div>
<div class="line"><a name="l04816"></a><span class="lineno"> 4816</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a><span class="keyword">&gt;</span>(instr-&gt;Bits(19, 18));</div>
<div class="line"><a name="l04817"></a><span class="lineno"> 4817</span>&#160;      <span class="keywordtype">bool</span> dst_unsigned = instr-&gt;Bit(6) != 0;</div>
<div class="line"><a name="l04818"></a><span class="lineno"> 4818</span>&#160;      <span class="keywordtype">bool</span> src_unsigned = instr-&gt;Bits(7, 6) == 0b11;</div>
<div class="line"><a name="l04819"></a><span class="lineno"> 4819</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(src_unsigned, dst_unsigned);</div>
<div class="line"><a name="l04820"></a><span class="lineno"> 4820</span>&#160;      <span class="keywordflow">switch</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l04821"></a><span class="lineno"> 4821</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a32abac64e4721dac677f04db429e5050">Neon8</a>: {</div>
<div class="line"><a name="l04822"></a><span class="lineno"> 4822</span>&#160;          <span class="keywordflow">if</span> (src_unsigned) {</div>
<div class="line"><a name="l04823"></a><span class="lineno"> 4823</span>&#160;            SaturatingNarrow&lt;uint16_t, uint8_t&gt;(<span class="keyword">this</span>, Vd, Vm);</div>
<div class="line"><a name="l04824"></a><span class="lineno"> 4824</span>&#160;          } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dst_unsigned) {</div>
<div class="line"><a name="l04825"></a><span class="lineno"> 4825</span>&#160;            SaturatingNarrow&lt;int16_t, uint8_t&gt;(<span class="keyword">this</span>, Vd, Vm);</div>
<div class="line"><a name="l04826"></a><span class="lineno"> 4826</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04827"></a><span class="lineno"> 4827</span>&#160;            SaturatingNarrow&lt;int16_t, int8_t&gt;(<span class="keyword">this</span>, Vd, Vm);</div>
<div class="line"><a name="l04828"></a><span class="lineno"> 4828</span>&#160;          }</div>
<div class="line"><a name="l04829"></a><span class="lineno"> 4829</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04830"></a><span class="lineno"> 4830</span>&#160;        }</div>
<div class="line"><a name="l04831"></a><span class="lineno"> 4831</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6dc2d01b77f88ddef53fca519cfb7a04">Neon16</a>: {</div>
<div class="line"><a name="l04832"></a><span class="lineno"> 4832</span>&#160;          <span class="keywordflow">if</span> (src_unsigned) {</div>
<div class="line"><a name="l04833"></a><span class="lineno"> 4833</span>&#160;            SaturatingNarrow&lt;uint32_t, uint16_t&gt;(<span class="keyword">this</span>, Vd, Vm);</div>
<div class="line"><a name="l04834"></a><span class="lineno"> 4834</span>&#160;          } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dst_unsigned) {</div>
<div class="line"><a name="l04835"></a><span class="lineno"> 4835</span>&#160;            SaturatingNarrow&lt;int32_t, uint16_t&gt;(<span class="keyword">this</span>, Vd, Vm);</div>
<div class="line"><a name="l04836"></a><span class="lineno"> 4836</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04837"></a><span class="lineno"> 4837</span>&#160;            SaturatingNarrow&lt;int32_t, int16_t&gt;(<span class="keyword">this</span>, Vd, Vm);</div>
<div class="line"><a name="l04838"></a><span class="lineno"> 4838</span>&#160;          }</div>
<div class="line"><a name="l04839"></a><span class="lineno"> 4839</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04840"></a><span class="lineno"> 4840</span>&#160;        }</div>
<div class="line"><a name="l04841"></a><span class="lineno"> 4841</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a24d1ad25be234608cba2d2dc3d35c3c1">Neon32</a>: {</div>
<div class="line"><a name="l04842"></a><span class="lineno"> 4842</span>&#160;          <span class="keywordflow">if</span> (src_unsigned) {</div>
<div class="line"><a name="l04843"></a><span class="lineno"> 4843</span>&#160;            SaturatingNarrow&lt;uint64_t, uint32_t&gt;(<span class="keyword">this</span>, Vd, Vm);</div>
<div class="line"><a name="l04844"></a><span class="lineno"> 4844</span>&#160;          } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dst_unsigned) {</div>
<div class="line"><a name="l04845"></a><span class="lineno"> 4845</span>&#160;            SaturatingNarrow&lt;int64_t, uint32_t&gt;(<span class="keyword">this</span>, Vd, Vm);</div>
<div class="line"><a name="l04846"></a><span class="lineno"> 4846</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04847"></a><span class="lineno"> 4847</span>&#160;            SaturatingNarrow&lt;int64_t, int32_t&gt;(<span class="keyword">this</span>, Vd, Vm);</div>
<div class="line"><a name="l04848"></a><span class="lineno"> 4848</span>&#160;          }</div>
<div class="line"><a name="l04849"></a><span class="lineno"> 4849</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04850"></a><span class="lineno"> 4850</span>&#160;        }</div>
<div class="line"><a name="l04851"></a><span class="lineno"> 4851</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a452c02ca200687366d0f0772dc51dc2c">Neon64</a>:</div>
<div class="line"><a name="l04852"></a><span class="lineno"> 4852</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l04853"></a><span class="lineno"> 4853</span>&#160;      }</div>
<div class="line"><a name="l04854"></a><span class="lineno"> 4854</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (opc1 == 0b10 &amp;&amp; instr-&gt;Bit(10) == 1) {</div>
<div class="line"><a name="l04855"></a><span class="lineno"> 4855</span>&#160;      <span class="comment">// vrint&lt;q&gt;.&lt;dt&gt; &lt;Dd&gt;, &lt;Dm&gt;</span></div>
<div class="line"><a name="l04856"></a><span class="lineno"> 4856</span>&#160;      <span class="comment">// vrint&lt;q&gt;.&lt;dt&gt; &lt;Qd&gt;, &lt;Qm&gt;</span></div>
<div class="line"><a name="l04857"></a><span class="lineno"> 4857</span>&#160;      <span class="comment">// See F6.1.205</span></div>
<div class="line"><a name="l04858"></a><span class="lineno"> 4858</span>&#160;      <span class="keywordtype">int</span> regs = instr-&gt;Bit(6) + 1;</div>
<div class="line"><a name="l04859"></a><span class="lineno"> 4859</span>&#160;      <span class="keywordtype">int</span> rounding_mode = instr-&gt;Bits(9, 7);</div>
<div class="line"><a name="l04860"></a><span class="lineno"> 4860</span>&#160;      float (*fproundint)(float) = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04861"></a><span class="lineno"> 4861</span>&#160;      <span class="keywordflow">switch</span> (rounding_mode) {</div>
<div class="line"><a name="l04862"></a><span class="lineno"> 4862</span>&#160;        <span class="keywordflow">case</span> 0:</div>
<div class="line"><a name="l04863"></a><span class="lineno"> 4863</span>&#160;          fproundint = &amp;nearbyintf;</div>
<div class="line"><a name="l04864"></a><span class="lineno"> 4864</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04865"></a><span class="lineno"> 4865</span>&#160;        <span class="keywordflow">case</span> 3:</div>
<div class="line"><a name="l04866"></a><span class="lineno"> 4866</span>&#160;          fproundint = &amp;truncf;</div>
<div class="line"><a name="l04867"></a><span class="lineno"> 4867</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04868"></a><span class="lineno"> 4868</span>&#160;        <span class="keywordflow">case</span> 5:</div>
<div class="line"><a name="l04869"></a><span class="lineno"> 4869</span>&#160;          fproundint = &amp;floorf;</div>
<div class="line"><a name="l04870"></a><span class="lineno"> 4870</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04871"></a><span class="lineno"> 4871</span>&#160;        <span class="keywordflow">case</span> 7:</div>
<div class="line"><a name="l04872"></a><span class="lineno"> 4872</span>&#160;          fproundint = &amp;ceilf;</div>
<div class="line"><a name="l04873"></a><span class="lineno"> 4873</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04874"></a><span class="lineno"> 4874</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l04875"></a><span class="lineno"> 4875</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l04876"></a><span class="lineno"> 4876</span>&#160;      }</div>
<div class="line"><a name="l04877"></a><span class="lineno"> 4877</span>&#160;      <span class="keywordtype">int</span> vm = instr-&gt;VFPMRegValue(<a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l04878"></a><span class="lineno"> 4878</span>&#160;      <span class="keywordtype">int</span> vd = instr-&gt;VFPDRegValue(<a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l04879"></a><span class="lineno"> 4879</span>&#160; </div>
<div class="line"><a name="l04880"></a><span class="lineno"> 4880</span>&#160;      <span class="keywordtype">float</span> floats[2];</div>
<div class="line"><a name="l04881"></a><span class="lineno"> 4881</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = 0; r &lt; regs; r++) {</div>
<div class="line"><a name="l04882"></a><span class="lineno"> 4882</span>&#160;        <span class="comment">// We cannot simply use GetVFPSingleValue since our Q registers</span></div>
<div class="line"><a name="l04883"></a><span class="lineno"> 4883</span>&#160;        <span class="comment">// might not map to any S registers at all.</span></div>
<div class="line"><a name="l04884"></a><span class="lineno"> 4884</span>&#160;        get_neon_register&lt;float, kDoubleSize&gt;(vm + r, floats);</div>
<div class="line"><a name="l04885"></a><span class="lineno"> 4885</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> e = 0; e &lt; 2; e++) {</div>
<div class="line"><a name="l04886"></a><span class="lineno"> 4886</span>&#160;          floats[e] = canonicalizeNaN(fproundint(floats[e]));</div>
<div class="line"><a name="l04887"></a><span class="lineno"> 4887</span>&#160;        }</div>
<div class="line"><a name="l04888"></a><span class="lineno"> 4888</span>&#160;        set_neon_register&lt;float, kDoubleSize&gt;(vd + r, floats);</div>
<div class="line"><a name="l04889"></a><span class="lineno"> 4889</span>&#160;      }</div>
<div class="line"><a name="l04890"></a><span class="lineno"> 4890</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (opc1 == 0b11 &amp;&amp; (opc2 &amp; 0b1100) == 0b1000) {</div>
<div class="line"><a name="l04891"></a><span class="lineno"> 4891</span>&#160;      <span class="comment">// vrecpe/vrsqrte.f32 Qd, Qm.</span></div>
<div class="line"><a name="l04892"></a><span class="lineno"> 4892</span>&#160;      <span class="keywordtype">int</span> Vd = instr-&gt;VFPDRegValue(<a class="code" href="namespacev8_1_1internal.html#ae73733e872be93099e05fcbd9e064c7d">kSimd128Precision</a>);</div>
<div class="line"><a name="l04893"></a><span class="lineno"> 4893</span>&#160;      <span class="keywordtype">int</span> Vm = instr-&gt;VFPMRegValue(<a class="code" href="namespacev8_1_1internal.html#ae73733e872be93099e05fcbd9e064c7d">kSimd128Precision</a>);</div>
<div class="line"><a name="l04894"></a><span class="lineno"> 4894</span>&#160;      uint32_t src[4];</div>
<div class="line"><a name="l04895"></a><span class="lineno"> 4895</span>&#160;      get_neon_register(Vm, src);</div>
<div class="line"><a name="l04896"></a><span class="lineno"> 4896</span>&#160;      <span class="keywordflow">if</span> (instr-&gt;Bit(7) == 0) {</div>
<div class="line"><a name="l04897"></a><span class="lineno"> 4897</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; 4; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l04898"></a><span class="lineno"> 4898</span>&#160;          <span class="keywordtype">float</span> denom = base::bit_cast&lt;float&gt;(src[<a class="code" href="namespacev8_1_1internal.html">i</a>]);</div>
<div class="line"><a name="l04899"></a><span class="lineno"> 4899</span>&#160;          div_zero_vfp_flag_ = (denom == 0);</div>
<div class="line"><a name="l04900"></a><span class="lineno"> 4900</span>&#160;          <span class="keywordtype">float</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = 1.0f / denom;</div>
<div class="line"><a name="l04901"></a><span class="lineno"> 4901</span>&#160;          <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = canonicalizeNaN(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>);</div>
<div class="line"><a name="l04902"></a><span class="lineno"> 4902</span>&#160;          src[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = base::bit_cast&lt;uint32_t&gt;(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>);</div>
<div class="line"><a name="l04903"></a><span class="lineno"> 4903</span>&#160;        }</div>
<div class="line"><a name="l04904"></a><span class="lineno"> 4904</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04905"></a><span class="lineno"> 4905</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; 4; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l04906"></a><span class="lineno"> 4906</span>&#160;          <span class="keywordtype">float</span> radicand = base::bit_cast&lt;float&gt;(src[<a class="code" href="namespacev8_1_1internal.html">i</a>]);</div>
<div class="line"><a name="l04907"></a><span class="lineno"> 4907</span>&#160;          <span class="keywordtype">float</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = 1.0f / std::sqrt(radicand);</div>
<div class="line"><a name="l04908"></a><span class="lineno"> 4908</span>&#160;          <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = canonicalizeNaN(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>);</div>
<div class="line"><a name="l04909"></a><span class="lineno"> 4909</span>&#160;          src[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = base::bit_cast&lt;uint32_t&gt;(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>);</div>
<div class="line"><a name="l04910"></a><span class="lineno"> 4910</span>&#160;        }</div>
<div class="line"><a name="l04911"></a><span class="lineno"> 4911</span>&#160;      }</div>
<div class="line"><a name="l04912"></a><span class="lineno"> 4912</span>&#160;      set_neon_register(Vd, src);</div>
<div class="line"><a name="l04913"></a><span class="lineno"> 4913</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (opc1 == 0b11 &amp;&amp; (opc2 &amp; 0b1100) == 0b1100) {</div>
<div class="line"><a name="l04914"></a><span class="lineno"> 4914</span>&#160;      <span class="comment">// vcvt.&lt;Td&gt;.&lt;Tm&gt; Qd, Qm.</span></div>
<div class="line"><a name="l04915"></a><span class="lineno"> 4915</span>&#160;      <span class="keywordtype">int</span> Vd = instr-&gt;VFPDRegValue(<a class="code" href="namespacev8_1_1internal.html#ae73733e872be93099e05fcbd9e064c7d">kSimd128Precision</a>);</div>
<div class="line"><a name="l04916"></a><span class="lineno"> 4916</span>&#160;      <span class="keywordtype">int</span> Vm = instr-&gt;VFPMRegValue(<a class="code" href="namespacev8_1_1internal.html#ae73733e872be93099e05fcbd9e064c7d">kSimd128Precision</a>);</div>
<div class="line"><a name="l04917"></a><span class="lineno"> 4917</span>&#160;      uint32_t q_data[4];</div>
<div class="line"><a name="l04918"></a><span class="lineno"> 4918</span>&#160;      get_neon_register(Vm, q_data);</div>
<div class="line"><a name="l04919"></a><span class="lineno"> 4919</span>&#160;      <span class="keywordtype">int</span> op = instr-&gt;Bits(8, 7);</div>
<div class="line"><a name="l04920"></a><span class="lineno"> 4920</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; 4; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l04921"></a><span class="lineno"> 4921</span>&#160;        <span class="keywordflow">switch</span> (op) {</div>
<div class="line"><a name="l04922"></a><span class="lineno"> 4922</span>&#160;          <span class="keywordflow">case</span> 0:</div>
<div class="line"><a name="l04923"></a><span class="lineno"> 4923</span>&#160;            <span class="comment">// f32 &lt;- s32, round towards nearest.</span></div>
<div class="line"><a name="l04924"></a><span class="lineno"> 4924</span>&#160;            q_data[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = base::bit_cast&lt;uint32_t&gt;(std::round(</div>
<div class="line"><a name="l04925"></a><span class="lineno"> 4925</span>&#160;                <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(base::bit_cast&lt;int32_t&gt;(q_data[<a class="code" href="namespacev8_1_1internal.html">i</a>]))));</div>
<div class="line"><a name="l04926"></a><span class="lineno"> 4926</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04927"></a><span class="lineno"> 4927</span>&#160;          <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l04928"></a><span class="lineno"> 4928</span>&#160;            <span class="comment">// f32 &lt;- u32, round towards nearest.</span></div>
<div class="line"><a name="l04929"></a><span class="lineno"> 4929</span>&#160;            q_data[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = base::bit_cast&lt;uint32_t&gt;(</div>
<div class="line"><a name="l04930"></a><span class="lineno"> 4930</span>&#160;                std::round(<span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(q_data[<a class="code" href="namespacev8_1_1internal.html">i</a>])));</div>
<div class="line"><a name="l04931"></a><span class="lineno"> 4931</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04932"></a><span class="lineno"> 4932</span>&#160;          <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l04933"></a><span class="lineno"> 4933</span>&#160;            <span class="comment">// s32 &lt;- f32, round to zero.</span></div>
<div class="line"><a name="l04934"></a><span class="lineno"> 4934</span>&#160;            q_data[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(ConvertDoubleToInt(</div>
<div class="line"><a name="l04935"></a><span class="lineno"> 4935</span>&#160;                base::bit_cast&lt;float&gt;(q_data[<a class="code" href="namespacev8_1_1internal.html">i</a>]), <span class="keyword">false</span>, <a class="code" href="namespacev8_1_1internal.html#a94883fb9ed21fecd7d7b8d49b6c89abc">RZ</a>));</div>
<div class="line"><a name="l04936"></a><span class="lineno"> 4936</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04937"></a><span class="lineno"> 4937</span>&#160;          <span class="keywordflow">case</span> 3:</div>
<div class="line"><a name="l04938"></a><span class="lineno"> 4938</span>&#160;            <span class="comment">// u32 &lt;- f32, round to zero.</span></div>
<div class="line"><a name="l04939"></a><span class="lineno"> 4939</span>&#160;            q_data[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l04940"></a><span class="lineno"> 4940</span>&#160;                ConvertDoubleToInt(base::bit_cast&lt;float&gt;(q_data[<a class="code" href="namespacev8_1_1internal.html">i</a>]), <span class="keyword">true</span>, <a class="code" href="namespacev8_1_1internal.html#a94883fb9ed21fecd7d7b8d49b6c89abc">RZ</a>));</div>
<div class="line"><a name="l04941"></a><span class="lineno"> 4941</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04942"></a><span class="lineno"> 4942</span>&#160;        }</div>
<div class="line"><a name="l04943"></a><span class="lineno"> 4943</span>&#160;      }</div>
<div class="line"><a name="l04944"></a><span class="lineno"> 4944</span>&#160;      set_neon_register(Vd, q_data);</div>
<div class="line"><a name="l04945"></a><span class="lineno"> 4945</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04946"></a><span class="lineno"> 4946</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l04947"></a><span class="lineno"> 4947</span>&#160;    }</div>
<div class="line"><a name="l04948"></a><span class="lineno"> 4948</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (op0 &amp;&amp; op1 == 0b11 &amp;&amp; op2 == 0b10) {</div>
<div class="line"><a name="l04949"></a><span class="lineno"> 4949</span>&#160;    <span class="comment">// vtb[l,x] Dd, &lt;list&gt;, Dm.</span></div>
<div class="line"><a name="l04950"></a><span class="lineno"> 4950</span>&#160;    <span class="keywordtype">int</span> vd = instr-&gt;VFPDRegValue(<a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l04951"></a><span class="lineno"> 4951</span>&#160;    <span class="keywordtype">int</span> vn = instr-&gt;VFPNRegValue(<a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l04952"></a><span class="lineno"> 4952</span>&#160;    <span class="keywordtype">int</span> vm = instr-&gt;VFPMRegValue(<a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l04953"></a><span class="lineno"> 4953</span>&#160;    <span class="keywordtype">int</span> table_len = (instr-&gt;Bits(9, 8) + 1) * <a class="code" href="namespacev8_1_1internal.html#ada67458c5a8e8c0ade0017e5d3c56fd3">kDoubleSize</a>;</div>
<div class="line"><a name="l04954"></a><span class="lineno"> 4954</span>&#160;    <span class="keywordtype">bool</span> vtbx = instr-&gt;Bit(6) != 0;  <span class="comment">// vtbl / vtbx</span></div>
<div class="line"><a name="l04955"></a><span class="lineno"> 4955</span>&#160;    uint64_t destination = 0, indices = 0, <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = 0;</div>
<div class="line"><a name="l04956"></a><span class="lineno"> 4956</span>&#160;    get_d_register(vd, &amp;destination);</div>
<div class="line"><a name="l04957"></a><span class="lineno"> 4957</span>&#160;    get_d_register(vm, &amp;indices);</div>
<div class="line"><a name="l04958"></a><span class="lineno"> 4958</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; <a class="code" href="namespacev8_1_1internal.html#ada67458c5a8e8c0ade0017e5d3c56fd3">kDoubleSize</a>; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l04959"></a><span class="lineno"> 4959</span>&#160;      <span class="keywordtype">int</span> shift = <a class="code" href="namespacev8_1_1internal.html">i</a> * <a class="code" href="namespacev8_1_1internal.html#a1f752d6859d2360901fc2a58c9548fd8">kBitsPerByte</a>;</div>
<div class="line"><a name="l04960"></a><span class="lineno"> 4960</span>&#160;      <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = (indices &gt;&gt; shift) &amp; 0xFF;</div>
<div class="line"><a name="l04961"></a><span class="lineno"> 4961</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> &lt; table_len) {</div>
<div class="line"><a name="l04962"></a><span class="lineno"> 4962</span>&#160;        uint64_t table;</div>
<div class="line"><a name="l04963"></a><span class="lineno"> 4963</span>&#160;        get_d_register(vn + <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> / <a class="code" href="namespacev8_1_1internal.html#ada67458c5a8e8c0ade0017e5d3c56fd3">kDoubleSize</a>, &amp;table);</div>
<div class="line"><a name="l04964"></a><span class="lineno"> 4964</span>&#160;        <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> |= ((table &gt;&gt; ((<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> % <a class="code" href="namespacev8_1_1internal.html#ada67458c5a8e8c0ade0017e5d3c56fd3">kDoubleSize</a>) * <a class="code" href="namespacev8_1_1internal.html#a1f752d6859d2360901fc2a58c9548fd8">kBitsPerByte</a>)) &amp; 0xFF)</div>
<div class="line"><a name="l04965"></a><span class="lineno"> 4965</span>&#160;                  &lt;&lt; shift;</div>
<div class="line"><a name="l04966"></a><span class="lineno"> 4966</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (vtbx) {</div>
<div class="line"><a name="l04967"></a><span class="lineno"> 4967</span>&#160;        <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> |= destination &amp; (0xFFull &lt;&lt; shift);</div>
<div class="line"><a name="l04968"></a><span class="lineno"> 4968</span>&#160;      }</div>
<div class="line"><a name="l04969"></a><span class="lineno"> 4969</span>&#160;    }</div>
<div class="line"><a name="l04970"></a><span class="lineno"> 4970</span>&#160;    set_d_register(vd, &amp;<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>);</div>
<div class="line"><a name="l04971"></a><span class="lineno"> 4971</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (op0 &amp;&amp; op1 == 0b11 &amp;&amp; op2 == 0b11) {</div>
<div class="line"><a name="l04972"></a><span class="lineno"> 4972</span>&#160;    <span class="comment">// Advanced SIMD duplicate (scalar)</span></div>
<div class="line"><a name="l04973"></a><span class="lineno"> 4973</span>&#160;    <span class="keywordflow">if</span> (instr-&gt;Bits(9, 7) == 0) {</div>
<div class="line"><a name="l04974"></a><span class="lineno"> 4974</span>&#160;      <span class="comment">// vdup.&lt;size&gt; Dd, Dm[index].</span></div>
<div class="line"><a name="l04975"></a><span class="lineno"> 4975</span>&#160;      <span class="comment">// vdup.&lt;size&gt; Qd, Dm[index].</span></div>
<div class="line"><a name="l04976"></a><span class="lineno"> 4976</span>&#160;      <span class="keywordtype">int</span> vm = instr-&gt;VFPMRegValue(<a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l04977"></a><span class="lineno"> 4977</span>&#160;      <span class="keywordtype">int</span> imm4 = instr-&gt;Bits(19, 16);</div>
<div class="line"><a name="l04978"></a><span class="lineno"> 4978</span>&#160;      <span class="keywordtype">int</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = 0, <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = 0, mask = 0;</div>
<div class="line"><a name="l04979"></a><span class="lineno"> 4979</span>&#160;      <span class="keywordflow">if</span> ((imm4 &amp; 0x1) != 0) {</div>
<div class="line"><a name="l04980"></a><span class="lineno"> 4980</span>&#160;        <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = 8;</div>
<div class="line"><a name="l04981"></a><span class="lineno"> 4981</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = imm4 &gt;&gt; 1;</div>
<div class="line"><a name="l04982"></a><span class="lineno"> 4982</span>&#160;        mask = 0xFFu;</div>
<div class="line"><a name="l04983"></a><span class="lineno"> 4983</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((imm4 &amp; 0x2) != 0) {</div>
<div class="line"><a name="l04984"></a><span class="lineno"> 4984</span>&#160;        <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = 16;</div>
<div class="line"><a name="l04985"></a><span class="lineno"> 4985</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = imm4 &gt;&gt; 2;</div>
<div class="line"><a name="l04986"></a><span class="lineno"> 4986</span>&#160;        mask = 0xFFFFu;</div>
<div class="line"><a name="l04987"></a><span class="lineno"> 4987</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04988"></a><span class="lineno"> 4988</span>&#160;        <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = 32;</div>
<div class="line"><a name="l04989"></a><span class="lineno"> 4989</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = imm4 &gt;&gt; 3;</div>
<div class="line"><a name="l04990"></a><span class="lineno"> 4990</span>&#160;        mask = 0xFFFFFFFFu;</div>
<div class="line"><a name="l04991"></a><span class="lineno"> 4991</span>&#160;      }</div>
<div class="line"><a name="l04992"></a><span class="lineno"> 4992</span>&#160;      uint64_t d_data;</div>
<div class="line"><a name="l04993"></a><span class="lineno"> 4993</span>&#160;      get_d_register(vm, &amp;d_data);</div>
<div class="line"><a name="l04994"></a><span class="lineno"> 4994</span>&#160;      uint32_t scalar = (d_data &gt;&gt; (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> * <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>)) &amp; mask;</div>
<div class="line"><a name="l04995"></a><span class="lineno"> 4995</span>&#160;      uint32_t duped = scalar;</div>
<div class="line"><a name="l04996"></a><span class="lineno"> 4996</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 1; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; 32 / <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l04997"></a><span class="lineno"> 4997</span>&#160;        scalar &lt;&lt;= <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>;</div>
<div class="line"><a name="l04998"></a><span class="lineno"> 4998</span>&#160;        duped |= scalar;</div>
<div class="line"><a name="l04999"></a><span class="lineno"> 4999</span>&#160;      }</div>
<div class="line"><a name="l05000"></a><span class="lineno"> 5000</span>&#160;      uint32_t <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>[4] = {duped, duped, duped, duped};</div>
<div class="line"><a name="l05001"></a><span class="lineno"> 5001</span>&#160;      <span class="keywordflow">if</span> (instr-&gt;Bit(6) == 0) {</div>
<div class="line"><a name="l05002"></a><span class="lineno"> 5002</span>&#160;        <span class="keywordtype">int</span> vd = instr-&gt;VFPDRegValue(<a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l05003"></a><span class="lineno"> 5003</span>&#160;        set_d_register(vd, <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>);</div>
<div class="line"><a name="l05004"></a><span class="lineno"> 5004</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05005"></a><span class="lineno"> 5005</span>&#160;        <span class="keywordtype">int</span> vd = instr-&gt;VFPDRegValue(<a class="code" href="namespacev8_1_1internal.html#ae73733e872be93099e05fcbd9e064c7d">kSimd128Precision</a>);</div>
<div class="line"><a name="l05006"></a><span class="lineno"> 5006</span>&#160;        set_neon_register(vd, <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>);</div>
<div class="line"><a name="l05007"></a><span class="lineno"> 5007</span>&#160;      }</div>
<div class="line"><a name="l05008"></a><span class="lineno"> 5008</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05009"></a><span class="lineno"> 5009</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l05010"></a><span class="lineno"> 5010</span>&#160;    }</div>
<div class="line"><a name="l05011"></a><span class="lineno"> 5011</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (op1 != 0b11 &amp;&amp; !op3) {</div>
<div class="line"><a name="l05012"></a><span class="lineno"> 5012</span>&#160;    <span class="comment">// Advanced SIMD three registers of different lengths.</span></div>
<div class="line"><a name="l05013"></a><span class="lineno"> 5013</span>&#160;    <span class="keywordtype">int</span> u = instr-&gt;Bit(24);</div>
<div class="line"><a name="l05014"></a><span class="lineno"> 5014</span>&#160;    <span class="keywordtype">int</span> opc = instr-&gt;Bits(11, 8);</div>
<div class="line"><a name="l05015"></a><span class="lineno"> 5015</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a><span class="keyword">&gt;</span>(instr-&gt;Bits(21, 20));</div>
<div class="line"><a name="l05016"></a><span class="lineno"> 5016</span>&#160;    <span class="keywordflow">if</span> (opc == 0b1000) {</div>
<div class="line"><a name="l05017"></a><span class="lineno"> 5017</span>&#160;      <span class="comment">// vmlal.u&lt;size&gt; Qd, Dn, Dm</span></div>
<div class="line"><a name="l05018"></a><span class="lineno"> 5018</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> != <a class="code" href="namespacev8_1_1internal.html#a24d1ad25be234608cba2d2dc3d35c3c1">Neon32</a>) <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l05019"></a><span class="lineno"> 5019</span>&#160; </div>
<div class="line"><a name="l05020"></a><span class="lineno"> 5020</span>&#160;      <span class="keywordtype">int</span> Vd = instr-&gt;VFPDRegValue(<a class="code" href="namespacev8_1_1internal.html#ae73733e872be93099e05fcbd9e064c7d">kSimd128Precision</a>);</div>
<div class="line"><a name="l05021"></a><span class="lineno"> 5021</span>&#160;      <span class="keywordtype">int</span> Vn = instr-&gt;VFPNRegValue(<a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l05022"></a><span class="lineno"> 5022</span>&#160;      <span class="keywordtype">int</span> Vm = instr-&gt;VFPMRegValue(<a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l05023"></a><span class="lineno"> 5023</span>&#160;      uint64_t src1, src2, dst[2];</div>
<div class="line"><a name="l05024"></a><span class="lineno"> 5024</span>&#160; </div>
<div class="line"><a name="l05025"></a><span class="lineno"> 5025</span>&#160;      get_neon_register&lt;uint64_t&gt;(Vd, dst);</div>
<div class="line"><a name="l05026"></a><span class="lineno"> 5026</span>&#160;      get_d_register(Vn, &amp;src1);</div>
<div class="line"><a name="l05027"></a><span class="lineno"> 5027</span>&#160;      get_d_register(Vm, &amp;src2);</div>
<div class="line"><a name="l05028"></a><span class="lineno"> 5028</span>&#160;      dst[0] += (src1 &amp; 0xFFFFFFFFULL) * (src2 &amp; 0xFFFFFFFFULL);</div>
<div class="line"><a name="l05029"></a><span class="lineno"> 5029</span>&#160;      dst[1] += (src1 &gt;&gt; 32) * (src2 &gt;&gt; 32);</div>
<div class="line"><a name="l05030"></a><span class="lineno"> 5030</span>&#160;      set_neon_register&lt;uint64_t&gt;(Vd, dst);</div>
<div class="line"><a name="l05031"></a><span class="lineno"> 5031</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (opc == 0b1100) {</div>
<div class="line"><a name="l05032"></a><span class="lineno"> 5032</span>&#160;      <span class="keywordtype">int</span> Vd = instr-&gt;VFPDRegValue(<a class="code" href="namespacev8_1_1internal.html#ae73733e872be93099e05fcbd9e064c7d">kSimd128Precision</a>);</div>
<div class="line"><a name="l05033"></a><span class="lineno"> 5033</span>&#160;      <span class="keywordtype">int</span> Vn = instr-&gt;VFPNRegValue(<a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l05034"></a><span class="lineno"> 5034</span>&#160;      <span class="keywordtype">int</span> Vm = instr-&gt;VFPMRegValue(<a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l05035"></a><span class="lineno"> 5035</span>&#160;      <span class="keywordflow">if</span> (u) {</div>
<div class="line"><a name="l05036"></a><span class="lineno"> 5036</span>&#160;        <span class="comment">// vmull.u&lt;size&gt; Qd, Dn, Dm</span></div>
<div class="line"><a name="l05037"></a><span class="lineno"> 5037</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l05038"></a><span class="lineno"> 5038</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a32abac64e4721dac677f04db429e5050">Neon8</a>: {</div>
<div class="line"><a name="l05039"></a><span class="lineno"> 5039</span>&#160;            MultiplyLong&lt;uint8_t, uint16_t&gt;(<span class="keyword">this</span>, Vd, Vn, Vm);</div>
<div class="line"><a name="l05040"></a><span class="lineno"> 5040</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05041"></a><span class="lineno"> 5041</span>&#160;          }</div>
<div class="line"><a name="l05042"></a><span class="lineno"> 5042</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6dc2d01b77f88ddef53fca519cfb7a04">Neon16</a>: {</div>
<div class="line"><a name="l05043"></a><span class="lineno"> 5043</span>&#160;            MultiplyLong&lt;uint16_t, uint32_t&gt;(<span class="keyword">this</span>, Vd, Vn, Vm);</div>
<div class="line"><a name="l05044"></a><span class="lineno"> 5044</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05045"></a><span class="lineno"> 5045</span>&#160;          }</div>
<div class="line"><a name="l05046"></a><span class="lineno"> 5046</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a24d1ad25be234608cba2d2dc3d35c3c1">Neon32</a>: {</div>
<div class="line"><a name="l05047"></a><span class="lineno"> 5047</span>&#160;            MultiplyLong&lt;uint32_t, uint64_t&gt;(<span class="keyword">this</span>, Vd, Vn, Vm);</div>
<div class="line"><a name="l05048"></a><span class="lineno"> 5048</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05049"></a><span class="lineno"> 5049</span>&#160;          }</div>
<div class="line"><a name="l05050"></a><span class="lineno"> 5050</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a452c02ca200687366d0f0772dc51dc2c">Neon64</a>: {</div>
<div class="line"><a name="l05051"></a><span class="lineno"> 5051</span>&#160;            <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l05052"></a><span class="lineno"> 5052</span>&#160;          }</div>
<div class="line"><a name="l05053"></a><span class="lineno"> 5053</span>&#160;        }</div>
<div class="line"><a name="l05054"></a><span class="lineno"> 5054</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05055"></a><span class="lineno"> 5055</span>&#160;        <span class="comment">// vmull.s&lt;size&gt; Qd, Dn, Dm</span></div>
<div class="line"><a name="l05056"></a><span class="lineno"> 5056</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l05057"></a><span class="lineno"> 5057</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a32abac64e4721dac677f04db429e5050">Neon8</a>: {</div>
<div class="line"><a name="l05058"></a><span class="lineno"> 5058</span>&#160;            MultiplyLong&lt;int8_t, int16_t&gt;(<span class="keyword">this</span>, Vd, Vn, Vm);</div>
<div class="line"><a name="l05059"></a><span class="lineno"> 5059</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05060"></a><span class="lineno"> 5060</span>&#160;          }</div>
<div class="line"><a name="l05061"></a><span class="lineno"> 5061</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6dc2d01b77f88ddef53fca519cfb7a04">Neon16</a>: {</div>
<div class="line"><a name="l05062"></a><span class="lineno"> 5062</span>&#160;            MultiplyLong&lt;int16_t, int32_t&gt;(<span class="keyword">this</span>, Vd, Vn, Vm);</div>
<div class="line"><a name="l05063"></a><span class="lineno"> 5063</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05064"></a><span class="lineno"> 5064</span>&#160;          }</div>
<div class="line"><a name="l05065"></a><span class="lineno"> 5065</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a24d1ad25be234608cba2d2dc3d35c3c1">Neon32</a>: {</div>
<div class="line"><a name="l05066"></a><span class="lineno"> 5066</span>&#160;            MultiplyLong&lt;int32_t, int64_t&gt;(<span class="keyword">this</span>, Vd, Vn, Vm);</div>
<div class="line"><a name="l05067"></a><span class="lineno"> 5067</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05068"></a><span class="lineno"> 5068</span>&#160;          }</div>
<div class="line"><a name="l05069"></a><span class="lineno"> 5069</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a452c02ca200687366d0f0772dc51dc2c">Neon64</a>: {</div>
<div class="line"><a name="l05070"></a><span class="lineno"> 5070</span>&#160;            <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l05071"></a><span class="lineno"> 5071</span>&#160;          }</div>
<div class="line"><a name="l05072"></a><span class="lineno"> 5072</span>&#160;        }</div>
<div class="line"><a name="l05073"></a><span class="lineno"> 5073</span>&#160;      }</div>
<div class="line"><a name="l05074"></a><span class="lineno"> 5074</span>&#160;    }</div>
<div class="line"><a name="l05075"></a><span class="lineno"> 5075</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (op1 != 0b11 &amp;&amp; op3) {</div>
<div class="line"><a name="l05076"></a><span class="lineno"> 5076</span>&#160;    <span class="comment">// The instructions specified by this encoding are not used in V8.</span></div>
<div class="line"><a name="l05077"></a><span class="lineno"> 5077</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l05078"></a><span class="lineno"> 5078</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05079"></a><span class="lineno"> 5079</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l05080"></a><span class="lineno"> 5080</span>&#160;  }</div>
<div class="line"><a name="l05081"></a><span class="lineno"> 5081</span>&#160;}</div>
<div class="line"><a name="l05082"></a><span class="lineno"> 5082</span>&#160; </div>
<div class="line"><a name="l05083"></a><span class="lineno"> 5083</span>&#160;<span class="keywordtype">void</span> Simulator::DecodeAdvancedSIMDDataProcessing(Instruction* instr) {</div>
<div class="line"><a name="l05084"></a><span class="lineno"> 5084</span>&#160;  <span class="keywordtype">int</span> op0 = instr-&gt;Bit(23);</div>
<div class="line"><a name="l05085"></a><span class="lineno"> 5085</span>&#160;  <span class="keywordtype">int</span> op1 = instr-&gt;Bit(4);</div>
<div class="line"><a name="l05086"></a><span class="lineno"> 5086</span>&#160; </div>
<div class="line"><a name="l05087"></a><span class="lineno"> 5087</span>&#160;  <span class="keywordflow">if</span> (op0 == 0) {</div>
<div class="line"><a name="l05088"></a><span class="lineno"> 5088</span>&#160;    <span class="comment">// Advanced SIMD three registers of same length.</span></div>
<div class="line"><a name="l05089"></a><span class="lineno"> 5089</span>&#160;    <span class="keywordtype">int</span> u = instr-&gt;Bit(24);</div>
<div class="line"><a name="l05090"></a><span class="lineno"> 5090</span>&#160;    <span class="keywordtype">int</span> opc = instr-&gt;Bits(11, 8);</div>
<div class="line"><a name="l05091"></a><span class="lineno"> 5091</span>&#160;    <span class="keywordtype">int</span> q = instr-&gt;Bit(6);</div>
<div class="line"><a name="l05092"></a><span class="lineno"> 5092</span>&#160;    <span class="keywordtype">int</span> sz = instr-&gt;Bits(21, 20);</div>
<div class="line"><a name="l05093"></a><span class="lineno"> 5093</span>&#160;    <span class="keywordtype">int</span> Vd, Vm, Vn;</div>
<div class="line"><a name="l05094"></a><span class="lineno"> 5094</span>&#160;    <span class="keywordflow">if</span> (q) {</div>
<div class="line"><a name="l05095"></a><span class="lineno"> 5095</span>&#160;      Vd = instr-&gt;VFPDRegValue(<a class="code" href="namespacev8_1_1internal.html#ae73733e872be93099e05fcbd9e064c7d">kSimd128Precision</a>);</div>
<div class="line"><a name="l05096"></a><span class="lineno"> 5096</span>&#160;      Vm = instr-&gt;VFPMRegValue(<a class="code" href="namespacev8_1_1internal.html#ae73733e872be93099e05fcbd9e064c7d">kSimd128Precision</a>);</div>
<div class="line"><a name="l05097"></a><span class="lineno"> 5097</span>&#160;      Vn = instr-&gt;VFPNRegValue(<a class="code" href="namespacev8_1_1internal.html#ae73733e872be93099e05fcbd9e064c7d">kSimd128Precision</a>);</div>
<div class="line"><a name="l05098"></a><span class="lineno"> 5098</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05099"></a><span class="lineno"> 5099</span>&#160;      Vd = instr-&gt;VFPDRegValue(<a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l05100"></a><span class="lineno"> 5100</span>&#160;      Vm = instr-&gt;VFPMRegValue(<a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l05101"></a><span class="lineno"> 5101</span>&#160;      Vn = instr-&gt;VFPNRegValue(<a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l05102"></a><span class="lineno"> 5102</span>&#160;    }</div>
<div class="line"><a name="l05103"></a><span class="lineno"> 5103</span>&#160; </div>
<div class="line"><a name="l05104"></a><span class="lineno"> 5104</span>&#160;    <span class="keywordflow">if</span> (!u &amp;&amp; opc == 0 &amp;&amp; op1) {</div>
<div class="line"><a name="l05105"></a><span class="lineno"> 5105</span>&#160;      <span class="comment">// vqadd.s&lt;size&gt; Qd, Qm, Qn.</span></div>
<div class="line"><a name="l05106"></a><span class="lineno"> 5106</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a><span class="keyword">&gt;</span>(instr-&gt;Bits(21, 20));</div>
<div class="line"><a name="l05107"></a><span class="lineno"> 5107</span>&#160;      <span class="keywordflow">switch</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l05108"></a><span class="lineno"> 5108</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a32abac64e4721dac677f04db429e5050">Neon8</a>:</div>
<div class="line"><a name="l05109"></a><span class="lineno"> 5109</span>&#160;          AddSat&lt;int8_t&gt;(<span class="keyword">this</span>, Vd, Vm, Vn);</div>
<div class="line"><a name="l05110"></a><span class="lineno"> 5110</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05111"></a><span class="lineno"> 5111</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6dc2d01b77f88ddef53fca519cfb7a04">Neon16</a>:</div>
<div class="line"><a name="l05112"></a><span class="lineno"> 5112</span>&#160;          AddSat&lt;int16_t&gt;(<span class="keyword">this</span>, Vd, Vm, Vn);</div>
<div class="line"><a name="l05113"></a><span class="lineno"> 5113</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05114"></a><span class="lineno"> 5114</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a24d1ad25be234608cba2d2dc3d35c3c1">Neon32</a>:</div>
<div class="line"><a name="l05115"></a><span class="lineno"> 5115</span>&#160;          AddSat&lt;int32_t&gt;(<span class="keyword">this</span>, Vd, Vm, Vn);</div>
<div class="line"><a name="l05116"></a><span class="lineno"> 5116</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05117"></a><span class="lineno"> 5117</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l05118"></a><span class="lineno"> 5118</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l05119"></a><span class="lineno"> 5119</span>&#160;      }</div>
<div class="line"><a name="l05120"></a><span class="lineno"> 5120</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!u &amp;&amp; opc == 1 &amp;&amp; sz == 2 &amp;&amp; q &amp;&amp; op1) {</div>
<div class="line"><a name="l05121"></a><span class="lineno"> 5121</span>&#160;      <span class="comment">// vmov Qd, Qm.</span></div>
<div class="line"><a name="l05122"></a><span class="lineno"> 5122</span>&#160;      <span class="comment">// vorr, Qd, Qm, Qn.</span></div>
<div class="line"><a name="l05123"></a><span class="lineno"> 5123</span>&#160;      uint32_t src1[4];</div>
<div class="line"><a name="l05124"></a><span class="lineno"> 5124</span>&#160;      get_neon_register(Vm, src1);</div>
<div class="line"><a name="l05125"></a><span class="lineno"> 5125</span>&#160;      <span class="keywordflow">if</span> (Vm != Vn) {</div>
<div class="line"><a name="l05126"></a><span class="lineno"> 5126</span>&#160;        uint32_t src2[4];</div>
<div class="line"><a name="l05127"></a><span class="lineno"> 5127</span>&#160;        get_neon_register(Vn, src2);</div>
<div class="line"><a name="l05128"></a><span class="lineno"> 5128</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; 4; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l05129"></a><span class="lineno"> 5129</span>&#160;          src1[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = src1[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] | src2[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>];</div>
<div class="line"><a name="l05130"></a><span class="lineno"> 5130</span>&#160;        }</div>
<div class="line"><a name="l05131"></a><span class="lineno"> 5131</span>&#160;      }</div>
<div class="line"><a name="l05132"></a><span class="lineno"> 5132</span>&#160;      set_neon_register(Vd, src1);</div>
<div class="line"><a name="l05133"></a><span class="lineno"> 5133</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!u &amp;&amp; opc == 1 &amp;&amp; sz == 3 &amp;&amp; q &amp;&amp; op1) {</div>
<div class="line"><a name="l05134"></a><span class="lineno"> 5134</span>&#160;      <span class="comment">// vorn, Qd, Qm, Qn.</span></div>
<div class="line"><a name="l05135"></a><span class="lineno"> 5135</span>&#160;      <span class="comment">// NeonSize does not matter.</span></div>
<div class="line"><a name="l05136"></a><span class="lineno"> 5136</span>&#160;      Binop&lt;uint32_t&gt;(<span class="keyword">this</span>, Vd, Vm, Vn,</div>
<div class="line"><a name="l05137"></a><span class="lineno"> 5137</span>&#160;                      [](uint32_t x, uint32_t <a class="code" href="namespacev8_1_1base_1_1internal.html#aba8167f197e892214b9dc1aba34983de">y</a>) { <span class="keywordflow">return</span> x | (~<a class="code" href="namespacev8_1_1base_1_1internal.html#aba8167f197e892214b9dc1aba34983de">y</a>); });</div>
<div class="line"><a name="l05138"></a><span class="lineno"> 5138</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!u &amp;&amp; opc == 1 &amp;&amp; sz == 0 &amp;&amp; q &amp;&amp; op1) {</div>
<div class="line"><a name="l05139"></a><span class="lineno"> 5139</span>&#160;      <span class="comment">// vand Qd, Qm, Qn.</span></div>
<div class="line"><a name="l05140"></a><span class="lineno"> 5140</span>&#160;      uint32_t src1[4], src2[4];</div>
<div class="line"><a name="l05141"></a><span class="lineno"> 5141</span>&#160;      get_neon_register(Vn, src1);</div>
<div class="line"><a name="l05142"></a><span class="lineno"> 5142</span>&#160;      get_neon_register(Vm, src2);</div>
<div class="line"><a name="l05143"></a><span class="lineno"> 5143</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; 4; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l05144"></a><span class="lineno"> 5144</span>&#160;        src1[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = src1[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] &amp; src2[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>];</div>
<div class="line"><a name="l05145"></a><span class="lineno"> 5145</span>&#160;      }</div>
<div class="line"><a name="l05146"></a><span class="lineno"> 5146</span>&#160;      set_neon_register(Vd, src1);</div>
<div class="line"><a name="l05147"></a><span class="lineno"> 5147</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!u &amp;&amp; opc == 1 &amp;&amp; sz == 1 &amp;&amp; q &amp;&amp; op1) {</div>
<div class="line"><a name="l05148"></a><span class="lineno"> 5148</span>&#160;      <span class="comment">// vbic Qd, Qm, Qn.</span></div>
<div class="line"><a name="l05149"></a><span class="lineno"> 5149</span>&#160;      uint32_t src1[4], src2[4];</div>
<div class="line"><a name="l05150"></a><span class="lineno"> 5150</span>&#160;      get_neon_register(Vn, src1);</div>
<div class="line"><a name="l05151"></a><span class="lineno"> 5151</span>&#160;      get_neon_register(Vm, src2);</div>
<div class="line"><a name="l05152"></a><span class="lineno"> 5152</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; 4; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l05153"></a><span class="lineno"> 5153</span>&#160;        src1[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = src1[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] &amp; ~src2[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>];</div>
<div class="line"><a name="l05154"></a><span class="lineno"> 5154</span>&#160;      }</div>
<div class="line"><a name="l05155"></a><span class="lineno"> 5155</span>&#160;      set_neon_register(Vd, src1);</div>
<div class="line"><a name="l05156"></a><span class="lineno"> 5156</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!u &amp;&amp; opc == 2 &amp;&amp; op1) {</div>
<div class="line"><a name="l05157"></a><span class="lineno"> 5157</span>&#160;      <span class="comment">// vqsub.s&lt;size&gt; Qd, Qm, Qn.</span></div>
<div class="line"><a name="l05158"></a><span class="lineno"> 5158</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a><span class="keyword">&gt;</span>(instr-&gt;Bits(21, 20));</div>
<div class="line"><a name="l05159"></a><span class="lineno"> 5159</span>&#160;      <span class="keywordflow">switch</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l05160"></a><span class="lineno"> 5160</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a32abac64e4721dac677f04db429e5050">Neon8</a>:</div>
<div class="line"><a name="l05161"></a><span class="lineno"> 5161</span>&#160;          SubSat&lt;int8_t&gt;(<span class="keyword">this</span>, Vd, Vm, Vn);</div>
<div class="line"><a name="l05162"></a><span class="lineno"> 5162</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05163"></a><span class="lineno"> 5163</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6dc2d01b77f88ddef53fca519cfb7a04">Neon16</a>:</div>
<div class="line"><a name="l05164"></a><span class="lineno"> 5164</span>&#160;          SubSat&lt;int16_t&gt;(<span class="keyword">this</span>, Vd, Vm, Vn);</div>
<div class="line"><a name="l05165"></a><span class="lineno"> 5165</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05166"></a><span class="lineno"> 5166</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a24d1ad25be234608cba2d2dc3d35c3c1">Neon32</a>:</div>
<div class="line"><a name="l05167"></a><span class="lineno"> 5167</span>&#160;          SubSat&lt;int32_t&gt;(<span class="keyword">this</span>, Vd, Vm, Vn);</div>
<div class="line"><a name="l05168"></a><span class="lineno"> 5168</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05169"></a><span class="lineno"> 5169</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a452c02ca200687366d0f0772dc51dc2c">Neon64</a>:</div>
<div class="line"><a name="l05170"></a><span class="lineno"> 5170</span>&#160;          SubSat&lt;int64_t&gt;(<span class="keyword">this</span>, Vd, Vm, Vn);</div>
<div class="line"><a name="l05171"></a><span class="lineno"> 5171</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05172"></a><span class="lineno"> 5172</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l05173"></a><span class="lineno"> 5173</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l05174"></a><span class="lineno"> 5174</span>&#160;      }</div>
<div class="line"><a name="l05175"></a><span class="lineno"> 5175</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!u &amp;&amp; opc == 3) {</div>
<div class="line"><a name="l05176"></a><span class="lineno"> 5176</span>&#160;      <span class="comment">// vcge/vcgt.s&lt;size&gt; Qd, Qm, Qn.</span></div>
<div class="line"><a name="l05177"></a><span class="lineno"> 5177</span>&#160;      <span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21aa5296c25e35b433aabbd501b5e1af877">ge</a> = instr-&gt;Bit(4) == 1;</div>
<div class="line"><a name="l05178"></a><span class="lineno"> 5178</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a><span class="keyword">&gt;</span>(instr-&gt;Bits(21, 20));</div>
<div class="line"><a name="l05179"></a><span class="lineno"> 5179</span>&#160;      <span class="keywordflow">switch</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l05180"></a><span class="lineno"> 5180</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a32abac64e4721dac677f04db429e5050">Neon8</a>:</div>
<div class="line"><a name="l05181"></a><span class="lineno"> 5181</span>&#160;          CompareGreater&lt;int8_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm, Vn, <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21aa5296c25e35b433aabbd501b5e1af877">ge</a>);</div>
<div class="line"><a name="l05182"></a><span class="lineno"> 5182</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05183"></a><span class="lineno"> 5183</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6dc2d01b77f88ddef53fca519cfb7a04">Neon16</a>:</div>
<div class="line"><a name="l05184"></a><span class="lineno"> 5184</span>&#160;          CompareGreater&lt;int16_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm, Vn, <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21aa5296c25e35b433aabbd501b5e1af877">ge</a>);</div>
<div class="line"><a name="l05185"></a><span class="lineno"> 5185</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05186"></a><span class="lineno"> 5186</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a24d1ad25be234608cba2d2dc3d35c3c1">Neon32</a>:</div>
<div class="line"><a name="l05187"></a><span class="lineno"> 5187</span>&#160;          CompareGreater&lt;int32_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm, Vn, <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21aa5296c25e35b433aabbd501b5e1af877">ge</a>);</div>
<div class="line"><a name="l05188"></a><span class="lineno"> 5188</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05189"></a><span class="lineno"> 5189</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l05190"></a><span class="lineno"> 5190</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l05191"></a><span class="lineno"> 5191</span>&#160;      }</div>
<div class="line"><a name="l05192"></a><span class="lineno"> 5192</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!u &amp;&amp; opc == 4 &amp;&amp; !op1) {</div>
<div class="line"><a name="l05193"></a><span class="lineno"> 5193</span>&#160;      <span class="comment">// vshl s&lt;size&gt; Qd, Qm, Qn.</span></div>
<div class="line"><a name="l05194"></a><span class="lineno"> 5194</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a><span class="keyword">&gt;</span>(instr-&gt;Bits(21, 20));</div>
<div class="line"><a name="l05195"></a><span class="lineno"> 5195</span>&#160;      <span class="keywordflow">switch</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l05196"></a><span class="lineno"> 5196</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a32abac64e4721dac677f04db429e5050">Neon8</a>:</div>
<div class="line"><a name="l05197"></a><span class="lineno"> 5197</span>&#160;          ShiftByRegister&lt;int8_t, int8_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm, Vn);</div>
<div class="line"><a name="l05198"></a><span class="lineno"> 5198</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05199"></a><span class="lineno"> 5199</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6dc2d01b77f88ddef53fca519cfb7a04">Neon16</a>:</div>
<div class="line"><a name="l05200"></a><span class="lineno"> 5200</span>&#160;          ShiftByRegister&lt;int16_t, int16_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm, Vn);</div>
<div class="line"><a name="l05201"></a><span class="lineno"> 5201</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05202"></a><span class="lineno"> 5202</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a24d1ad25be234608cba2d2dc3d35c3c1">Neon32</a>:</div>
<div class="line"><a name="l05203"></a><span class="lineno"> 5203</span>&#160;          ShiftByRegister&lt;int32_t, int32_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm, Vn);</div>
<div class="line"><a name="l05204"></a><span class="lineno"> 5204</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05205"></a><span class="lineno"> 5205</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a452c02ca200687366d0f0772dc51dc2c">Neon64</a>:</div>
<div class="line"><a name="l05206"></a><span class="lineno"> 5206</span>&#160;          ShiftByRegister&lt;int64_t, int64_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm, Vn);</div>
<div class="line"><a name="l05207"></a><span class="lineno"> 5207</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05208"></a><span class="lineno"> 5208</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l05209"></a><span class="lineno"> 5209</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l05210"></a><span class="lineno"> 5210</span>&#160;      }</div>
<div class="line"><a name="l05211"></a><span class="lineno"> 5211</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!u &amp;&amp; opc == 6) {</div>
<div class="line"><a name="l05212"></a><span class="lineno"> 5212</span>&#160;      <span class="comment">// vmin/vmax.s&lt;size&gt; Qd, Qm, Qn.</span></div>
<div class="line"><a name="l05213"></a><span class="lineno"> 5213</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a><span class="keyword">&gt;</span>(instr-&gt;Bits(21, 20));</div>
<div class="line"><a name="l05214"></a><span class="lineno"> 5214</span>&#160;      <span class="keywordtype">bool</span> min = instr-&gt;Bit(4) != 0;</div>
<div class="line"><a name="l05215"></a><span class="lineno"> 5215</span>&#160;      <span class="keywordflow">switch</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l05216"></a><span class="lineno"> 5216</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a32abac64e4721dac677f04db429e5050">Neon8</a>:</div>
<div class="line"><a name="l05217"></a><span class="lineno"> 5217</span>&#160;          MinMax&lt;int8_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm, Vn, min);</div>
<div class="line"><a name="l05218"></a><span class="lineno"> 5218</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05219"></a><span class="lineno"> 5219</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6dc2d01b77f88ddef53fca519cfb7a04">Neon16</a>:</div>
<div class="line"><a name="l05220"></a><span class="lineno"> 5220</span>&#160;          MinMax&lt;int16_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm, Vn, min);</div>
<div class="line"><a name="l05221"></a><span class="lineno"> 5221</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05222"></a><span class="lineno"> 5222</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a24d1ad25be234608cba2d2dc3d35c3c1">Neon32</a>:</div>
<div class="line"><a name="l05223"></a><span class="lineno"> 5223</span>&#160;          MinMax&lt;int32_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm, Vn, min);</div>
<div class="line"><a name="l05224"></a><span class="lineno"> 5224</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05225"></a><span class="lineno"> 5225</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l05226"></a><span class="lineno"> 5226</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l05227"></a><span class="lineno"> 5227</span>&#160;      }</div>
<div class="line"><a name="l05228"></a><span class="lineno"> 5228</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!u &amp;&amp; opc == 8 &amp;&amp; op1) {</div>
<div class="line"><a name="l05229"></a><span class="lineno"> 5229</span>&#160;      <span class="comment">// vtst.i&lt;size&gt; Qd, Qm, Qn.</span></div>
<div class="line"><a name="l05230"></a><span class="lineno"> 5230</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a><span class="keyword">&gt;</span>(instr-&gt;Bits(21, 20));</div>
<div class="line"><a name="l05231"></a><span class="lineno"> 5231</span>&#160;      <span class="keywordflow">switch</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l05232"></a><span class="lineno"> 5232</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a32abac64e4721dac677f04db429e5050">Neon8</a>:</div>
<div class="line"><a name="l05233"></a><span class="lineno"> 5233</span>&#160;          Test&lt;uint8_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm, Vn);</div>
<div class="line"><a name="l05234"></a><span class="lineno"> 5234</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05235"></a><span class="lineno"> 5235</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6dc2d01b77f88ddef53fca519cfb7a04">Neon16</a>:</div>
<div class="line"><a name="l05236"></a><span class="lineno"> 5236</span>&#160;          Test&lt;uint16_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm, Vn);</div>
<div class="line"><a name="l05237"></a><span class="lineno"> 5237</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05238"></a><span class="lineno"> 5238</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a24d1ad25be234608cba2d2dc3d35c3c1">Neon32</a>:</div>
<div class="line"><a name="l05239"></a><span class="lineno"> 5239</span>&#160;          Test&lt;uint32_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm, Vn);</div>
<div class="line"><a name="l05240"></a><span class="lineno"> 5240</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05241"></a><span class="lineno"> 5241</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l05242"></a><span class="lineno"> 5242</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l05243"></a><span class="lineno"> 5243</span>&#160;      }</div>
<div class="line"><a name="l05244"></a><span class="lineno"> 5244</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!u &amp;&amp; opc == 8 &amp;&amp; !op1) {</div>
<div class="line"><a name="l05245"></a><span class="lineno"> 5245</span>&#160;      <span class="comment">// vadd.i&lt;size&gt; Qd, Qm, Qn.</span></div>
<div class="line"><a name="l05246"></a><span class="lineno"> 5246</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a><span class="keyword">&gt;</span>(instr-&gt;Bits(21, 20));</div>
<div class="line"><a name="l05247"></a><span class="lineno"> 5247</span>&#160;      <span class="keywordflow">switch</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l05248"></a><span class="lineno"> 5248</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a32abac64e4721dac677f04db429e5050">Neon8</a>:</div>
<div class="line"><a name="l05249"></a><span class="lineno"> 5249</span>&#160;          Add&lt;uint8_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm, Vn);</div>
<div class="line"><a name="l05250"></a><span class="lineno"> 5250</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05251"></a><span class="lineno"> 5251</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6dc2d01b77f88ddef53fca519cfb7a04">Neon16</a>:</div>
<div class="line"><a name="l05252"></a><span class="lineno"> 5252</span>&#160;          Add&lt;uint16_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm, Vn);</div>
<div class="line"><a name="l05253"></a><span class="lineno"> 5253</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05254"></a><span class="lineno"> 5254</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a24d1ad25be234608cba2d2dc3d35c3c1">Neon32</a>:</div>
<div class="line"><a name="l05255"></a><span class="lineno"> 5255</span>&#160;          Add&lt;uint32_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm, Vn);</div>
<div class="line"><a name="l05256"></a><span class="lineno"> 5256</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05257"></a><span class="lineno"> 5257</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a452c02ca200687366d0f0772dc51dc2c">Neon64</a>:</div>
<div class="line"><a name="l05258"></a><span class="lineno"> 5258</span>&#160;          Add&lt;uint64_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm, Vn);</div>
<div class="line"><a name="l05259"></a><span class="lineno"> 5259</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05260"></a><span class="lineno"> 5260</span>&#160;      }</div>
<div class="line"><a name="l05261"></a><span class="lineno"> 5261</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (opc == 9 &amp;&amp; op1) {</div>
<div class="line"><a name="l05262"></a><span class="lineno"> 5262</span>&#160;      <span class="comment">// vmul.i&lt;size&gt; Qd, Qm, Qn.</span></div>
<div class="line"><a name="l05263"></a><span class="lineno"> 5263</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a><span class="keyword">&gt;</span>(instr-&gt;Bits(21, 20));</div>
<div class="line"><a name="l05264"></a><span class="lineno"> 5264</span>&#160;      <span class="keywordflow">switch</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l05265"></a><span class="lineno"> 5265</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a32abac64e4721dac677f04db429e5050">Neon8</a>:</div>
<div class="line"><a name="l05266"></a><span class="lineno"> 5266</span>&#160;          Mul&lt;uint8_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm, Vn);</div>
<div class="line"><a name="l05267"></a><span class="lineno"> 5267</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05268"></a><span class="lineno"> 5268</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6dc2d01b77f88ddef53fca519cfb7a04">Neon16</a>:</div>
<div class="line"><a name="l05269"></a><span class="lineno"> 5269</span>&#160;          Mul&lt;uint16_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm, Vn);</div>
<div class="line"><a name="l05270"></a><span class="lineno"> 5270</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05271"></a><span class="lineno"> 5271</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a24d1ad25be234608cba2d2dc3d35c3c1">Neon32</a>:</div>
<div class="line"><a name="l05272"></a><span class="lineno"> 5272</span>&#160;          Mul&lt;uint32_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm, Vn);</div>
<div class="line"><a name="l05273"></a><span class="lineno"> 5273</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05274"></a><span class="lineno"> 5274</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l05275"></a><span class="lineno"> 5275</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l05276"></a><span class="lineno"> 5276</span>&#160;      }</div>
<div class="line"><a name="l05277"></a><span class="lineno"> 5277</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!u &amp;&amp; opc == 0xA) {</div>
<div class="line"><a name="l05278"></a><span class="lineno"> 5278</span>&#160;      <span class="comment">// vpmin/vpmax.s&lt;size&gt; Dd, Dm, Dn.</span></div>
<div class="line"><a name="l05279"></a><span class="lineno"> 5279</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a><span class="keyword">&gt;</span>(instr-&gt;Bits(21, 20));</div>
<div class="line"><a name="l05280"></a><span class="lineno"> 5280</span>&#160;      <span class="keywordtype">bool</span> min = instr-&gt;Bit(4) != 0;</div>
<div class="line"><a name="l05281"></a><span class="lineno"> 5281</span>&#160;      <span class="keywordflow">switch</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l05282"></a><span class="lineno"> 5282</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a32abac64e4721dac677f04db429e5050">Neon8</a>:</div>
<div class="line"><a name="l05283"></a><span class="lineno"> 5283</span>&#160;          PairwiseMinMax&lt;int8_t&gt;(<span class="keyword">this</span>, Vd, Vm, Vn, min);</div>
<div class="line"><a name="l05284"></a><span class="lineno"> 5284</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05285"></a><span class="lineno"> 5285</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6dc2d01b77f88ddef53fca519cfb7a04">Neon16</a>:</div>
<div class="line"><a name="l05286"></a><span class="lineno"> 5286</span>&#160;          PairwiseMinMax&lt;int16_t&gt;(<span class="keyword">this</span>, Vd, Vm, Vn, min);</div>
<div class="line"><a name="l05287"></a><span class="lineno"> 5287</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05288"></a><span class="lineno"> 5288</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a24d1ad25be234608cba2d2dc3d35c3c1">Neon32</a>:</div>
<div class="line"><a name="l05289"></a><span class="lineno"> 5289</span>&#160;          PairwiseMinMax&lt;int32_t&gt;(<span class="keyword">this</span>, Vd, Vm, Vn, min);</div>
<div class="line"><a name="l05290"></a><span class="lineno"> 5290</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05291"></a><span class="lineno"> 5291</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l05292"></a><span class="lineno"> 5292</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l05293"></a><span class="lineno"> 5293</span>&#160;      }</div>
<div class="line"><a name="l05294"></a><span class="lineno"> 5294</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!u &amp;&amp; opc == 0xB) {</div>
<div class="line"><a name="l05295"></a><span class="lineno"> 5295</span>&#160;      <span class="comment">// vpadd.i&lt;size&gt; Dd, Dm, Dn.</span></div>
<div class="line"><a name="l05296"></a><span class="lineno"> 5296</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a><span class="keyword">&gt;</span>(instr-&gt;Bits(21, 20));</div>
<div class="line"><a name="l05297"></a><span class="lineno"> 5297</span>&#160;      <span class="keywordflow">switch</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l05298"></a><span class="lineno"> 5298</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a32abac64e4721dac677f04db429e5050">Neon8</a>:</div>
<div class="line"><a name="l05299"></a><span class="lineno"> 5299</span>&#160;          PairwiseAdd&lt;int8_t&gt;(<span class="keyword">this</span>, Vd, Vm, Vn);</div>
<div class="line"><a name="l05300"></a><span class="lineno"> 5300</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05301"></a><span class="lineno"> 5301</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6dc2d01b77f88ddef53fca519cfb7a04">Neon16</a>:</div>
<div class="line"><a name="l05302"></a><span class="lineno"> 5302</span>&#160;          PairwiseAdd&lt;int16_t&gt;(<span class="keyword">this</span>, Vd, Vm, Vn);</div>
<div class="line"><a name="l05303"></a><span class="lineno"> 5303</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05304"></a><span class="lineno"> 5304</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a24d1ad25be234608cba2d2dc3d35c3c1">Neon32</a>:</div>
<div class="line"><a name="l05305"></a><span class="lineno"> 5305</span>&#160;          PairwiseAdd&lt;int32_t&gt;(<span class="keyword">this</span>, Vd, Vm, Vn);</div>
<div class="line"><a name="l05306"></a><span class="lineno"> 5306</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05307"></a><span class="lineno"> 5307</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l05308"></a><span class="lineno"> 5308</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l05309"></a><span class="lineno"> 5309</span>&#160;      }</div>
<div class="line"><a name="l05310"></a><span class="lineno"> 5310</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!u &amp;&amp; opc == 0xD &amp;&amp; !op1) {</div>
<div class="line"><a name="l05311"></a><span class="lineno"> 5311</span>&#160;      <span class="keywordtype">float</span> src1[4], src2[4];</div>
<div class="line"><a name="l05312"></a><span class="lineno"> 5312</span>&#160;      get_neon_register(Vn, src1);</div>
<div class="line"><a name="l05313"></a><span class="lineno"> 5313</span>&#160;      get_neon_register(Vm, src2);</div>
<div class="line"><a name="l05314"></a><span class="lineno"> 5314</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; 4; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l05315"></a><span class="lineno"> 5315</span>&#160;        <span class="keywordflow">if</span> (instr-&gt;Bit(21) == 0) {</div>
<div class="line"><a name="l05316"></a><span class="lineno"> 5316</span>&#160;          <span class="comment">// vadd.f32 Qd, Qm, Qn.</span></div>
<div class="line"><a name="l05317"></a><span class="lineno"> 5317</span>&#160;          src1[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = src1[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] + src2[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>];</div>
<div class="line"><a name="l05318"></a><span class="lineno"> 5318</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05319"></a><span class="lineno"> 5319</span>&#160;          <span class="comment">// vsub.f32 Qd, Qm, Qn.</span></div>
<div class="line"><a name="l05320"></a><span class="lineno"> 5320</span>&#160;          src1[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = src1[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] - src2[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>];</div>
<div class="line"><a name="l05321"></a><span class="lineno"> 5321</span>&#160;        }</div>
<div class="line"><a name="l05322"></a><span class="lineno"> 5322</span>&#160;      }</div>
<div class="line"><a name="l05323"></a><span class="lineno"> 5323</span>&#160;      set_neon_register(Vd, src1);</div>
<div class="line"><a name="l05324"></a><span class="lineno"> 5324</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!u &amp;&amp; opc == 0xE &amp;&amp; !sz &amp;&amp; !op1) {</div>
<div class="line"><a name="l05325"></a><span class="lineno"> 5325</span>&#160;      <span class="comment">// vceq.f32.</span></div>
<div class="line"><a name="l05326"></a><span class="lineno"> 5326</span>&#160;      <span class="keywordtype">float</span> src1[4], src2[4];</div>
<div class="line"><a name="l05327"></a><span class="lineno"> 5327</span>&#160;      get_neon_register(Vn, src1);</div>
<div class="line"><a name="l05328"></a><span class="lineno"> 5328</span>&#160;      get_neon_register(Vm, src2);</div>
<div class="line"><a name="l05329"></a><span class="lineno"> 5329</span>&#160;      uint32_t dst[4];</div>
<div class="line"><a name="l05330"></a><span class="lineno"> 5330</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; 4; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l05331"></a><span class="lineno"> 5331</span>&#160;        dst[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = (src1[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] == src2[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>]) ? 0xFFFFFFFF : 0;</div>
<div class="line"><a name="l05332"></a><span class="lineno"> 5332</span>&#160;      }</div>
<div class="line"><a name="l05333"></a><span class="lineno"> 5333</span>&#160;      set_neon_register(Vd, dst);</div>
<div class="line"><a name="l05334"></a><span class="lineno"> 5334</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!u &amp;&amp; opc == 0xF &amp;&amp; op1) {</div>
<div class="line"><a name="l05335"></a><span class="lineno"> 5335</span>&#160;      <span class="keywordtype">float</span> src1[4], src2[4];</div>
<div class="line"><a name="l05336"></a><span class="lineno"> 5336</span>&#160;      get_neon_register(Vn, src1);</div>
<div class="line"><a name="l05337"></a><span class="lineno"> 5337</span>&#160;      get_neon_register(Vm, src2);</div>
<div class="line"><a name="l05338"></a><span class="lineno"> 5338</span>&#160;      <span class="keywordflow">if</span> (instr-&gt;Bit(21) == 0) {</div>
<div class="line"><a name="l05339"></a><span class="lineno"> 5339</span>&#160;        <span class="comment">// vrecps.f32 Qd, Qm, Qn.</span></div>
<div class="line"><a name="l05340"></a><span class="lineno"> 5340</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; 4; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l05341"></a><span class="lineno"> 5341</span>&#160;          src1[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = 2.0f - src1[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] * src2[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>];</div>
<div class="line"><a name="l05342"></a><span class="lineno"> 5342</span>&#160;        }</div>
<div class="line"><a name="l05343"></a><span class="lineno"> 5343</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05344"></a><span class="lineno"> 5344</span>&#160;        <span class="comment">// vrsqrts.f32 Qd, Qm, Qn.</span></div>
<div class="line"><a name="l05345"></a><span class="lineno"> 5345</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; 4; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l05346"></a><span class="lineno"> 5346</span>&#160;          src1[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = (3.0f - src1[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] * src2[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>]) * 0.5f;</div>
<div class="line"><a name="l05347"></a><span class="lineno"> 5347</span>&#160;        }</div>
<div class="line"><a name="l05348"></a><span class="lineno"> 5348</span>&#160;      }</div>
<div class="line"><a name="l05349"></a><span class="lineno"> 5349</span>&#160;      set_neon_register(Vd, src1);</div>
<div class="line"><a name="l05350"></a><span class="lineno"> 5350</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!u &amp;&amp; opc == 0xF &amp;&amp; !op1) {</div>
<div class="line"><a name="l05351"></a><span class="lineno"> 5351</span>&#160;      <span class="keywordtype">float</span> src1[4], src2[4];</div>
<div class="line"><a name="l05352"></a><span class="lineno"> 5352</span>&#160;      get_neon_register(Vn, src1);</div>
<div class="line"><a name="l05353"></a><span class="lineno"> 5353</span>&#160;      get_neon_register(Vm, src2);</div>
<div class="line"><a name="l05354"></a><span class="lineno"> 5354</span>&#160;      <span class="comment">// vmin/vmax.f32 Qd, Qm, Qn.</span></div>
<div class="line"><a name="l05355"></a><span class="lineno"> 5355</span>&#160;      <span class="keywordtype">bool</span> min = instr-&gt;Bit(21) == 1;</div>
<div class="line"><a name="l05356"></a><span class="lineno"> 5356</span>&#160;      <span class="keywordtype">bool</span> saved = FPSCR_default_NaN_mode_;</div>
<div class="line"><a name="l05357"></a><span class="lineno"> 5357</span>&#160;      FPSCR_default_NaN_mode_ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05358"></a><span class="lineno"> 5358</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; 4; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l05359"></a><span class="lineno"> 5359</span>&#160;        <span class="comment">// vmin returns default NaN if any input is NaN.</span></div>
<div class="line"><a name="l05360"></a><span class="lineno"> 5360</span>&#160;        src1[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = canonicalizeNaN(MinMax(src1[<a class="code" href="namespacev8_1_1internal.html">i</a>], src2[<a class="code" href="namespacev8_1_1internal.html">i</a>], min));</div>
<div class="line"><a name="l05361"></a><span class="lineno"> 5361</span>&#160;      }</div>
<div class="line"><a name="l05362"></a><span class="lineno"> 5362</span>&#160;      FPSCR_default_NaN_mode_ = saved;</div>
<div class="line"><a name="l05363"></a><span class="lineno"> 5363</span>&#160;      set_neon_register(Vd, src1);</div>
<div class="line"><a name="l05364"></a><span class="lineno"> 5364</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (u &amp;&amp; opc == 0 &amp;&amp; op1) {</div>
<div class="line"><a name="l05365"></a><span class="lineno"> 5365</span>&#160;      <span class="comment">// vqadd.u&lt;size&gt; Qd, Qm, Qn.</span></div>
<div class="line"><a name="l05366"></a><span class="lineno"> 5366</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a><span class="keyword">&gt;</span>(instr-&gt;Bits(21, 20));</div>
<div class="line"><a name="l05367"></a><span class="lineno"> 5367</span>&#160;      <span class="keywordflow">switch</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l05368"></a><span class="lineno"> 5368</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a32abac64e4721dac677f04db429e5050">Neon8</a>:</div>
<div class="line"><a name="l05369"></a><span class="lineno"> 5369</span>&#160;          AddSat&lt;uint8_t&gt;(<span class="keyword">this</span>, Vd, Vm, Vn);</div>
<div class="line"><a name="l05370"></a><span class="lineno"> 5370</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05371"></a><span class="lineno"> 5371</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6dc2d01b77f88ddef53fca519cfb7a04">Neon16</a>:</div>
<div class="line"><a name="l05372"></a><span class="lineno"> 5372</span>&#160;          AddSat&lt;uint16_t&gt;(<span class="keyword">this</span>, Vd, Vm, Vn);</div>
<div class="line"><a name="l05373"></a><span class="lineno"> 5373</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05374"></a><span class="lineno"> 5374</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a24d1ad25be234608cba2d2dc3d35c3c1">Neon32</a>:</div>
<div class="line"><a name="l05375"></a><span class="lineno"> 5375</span>&#160;          AddSat&lt;uint32_t&gt;(<span class="keyword">this</span>, Vd, Vm, Vn);</div>
<div class="line"><a name="l05376"></a><span class="lineno"> 5376</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05377"></a><span class="lineno"> 5377</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l05378"></a><span class="lineno"> 5378</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l05379"></a><span class="lineno"> 5379</span>&#160;      }</div>
<div class="line"><a name="l05380"></a><span class="lineno"> 5380</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (u &amp;&amp; opc == 1 &amp;&amp; sz == 1 &amp;&amp; op1) {</div>
<div class="line"><a name="l05381"></a><span class="lineno"> 5381</span>&#160;      <span class="comment">// vbsl.size Qd, Qm, Qn.</span></div>
<div class="line"><a name="l05382"></a><span class="lineno"> 5382</span>&#160;      uint32_t dst[4], src1[4], src2[4];</div>
<div class="line"><a name="l05383"></a><span class="lineno"> 5383</span>&#160;      get_neon_register(Vd, dst);</div>
<div class="line"><a name="l05384"></a><span class="lineno"> 5384</span>&#160;      get_neon_register(Vn, src1);</div>
<div class="line"><a name="l05385"></a><span class="lineno"> 5385</span>&#160;      get_neon_register(Vm, src2);</div>
<div class="line"><a name="l05386"></a><span class="lineno"> 5386</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; 4; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l05387"></a><span class="lineno"> 5387</span>&#160;        dst[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = (dst[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] &amp; src1[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>]) | (~dst[<a class="code" href="namespacev8_1_1internal.html">i</a>] &amp; src2[<a class="code" href="namespacev8_1_1internal.html">i</a>]);</div>
<div class="line"><a name="l05388"></a><span class="lineno"> 5388</span>&#160;      }</div>
<div class="line"><a name="l05389"></a><span class="lineno"> 5389</span>&#160;      set_neon_register(Vd, dst);</div>
<div class="line"><a name="l05390"></a><span class="lineno"> 5390</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (u &amp;&amp; opc == 1 &amp;&amp; sz == 0 &amp;&amp; !q &amp;&amp; op1) {</div>
<div class="line"><a name="l05391"></a><span class="lineno"> 5391</span>&#160;      <span class="comment">// veor Dd, Dn, Dm</span></div>
<div class="line"><a name="l05392"></a><span class="lineno"> 5392</span>&#160;      uint64_t src1, src2;</div>
<div class="line"><a name="l05393"></a><span class="lineno"> 5393</span>&#160;      get_d_register(Vn, &amp;src1);</div>
<div class="line"><a name="l05394"></a><span class="lineno"> 5394</span>&#160;      get_d_register(Vm, &amp;src2);</div>
<div class="line"><a name="l05395"></a><span class="lineno"> 5395</span>&#160;      src1 ^= src2;</div>
<div class="line"><a name="l05396"></a><span class="lineno"> 5396</span>&#160;      set_d_register(Vd, &amp;src1);</div>
<div class="line"><a name="l05397"></a><span class="lineno"> 5397</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (u &amp;&amp; opc == 1 &amp;&amp; sz == 0 &amp;&amp; q &amp;&amp; op1) {</div>
<div class="line"><a name="l05398"></a><span class="lineno"> 5398</span>&#160;      <span class="comment">// veor Qd, Qn, Qm</span></div>
<div class="line"><a name="l05399"></a><span class="lineno"> 5399</span>&#160;      uint32_t src1[4], src2[4];</div>
<div class="line"><a name="l05400"></a><span class="lineno"> 5400</span>&#160;      get_neon_register(Vn, src1);</div>
<div class="line"><a name="l05401"></a><span class="lineno"> 5401</span>&#160;      get_neon_register(Vm, src2);</div>
<div class="line"><a name="l05402"></a><span class="lineno"> 5402</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; 4; <a class="code" href="namespacev8_1_1internal.html">i</a>++) src1[<a class="code" href="namespacev8_1_1internal.html">i</a>] ^= src2[<a class="code" href="namespacev8_1_1internal.html">i</a>];</div>
<div class="line"><a name="l05403"></a><span class="lineno"> 5403</span>&#160;      set_neon_register(Vd, src1);</div>
<div class="line"><a name="l05404"></a><span class="lineno"> 5404</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (u &amp;&amp; opc == 1 &amp;&amp; !op1) {</div>
<div class="line"><a name="l05405"></a><span class="lineno"> 5405</span>&#160;      <span class="comment">// vrhadd.u&lt;size&gt; Qd, Qm, Qn.</span></div>
<div class="line"><a name="l05406"></a><span class="lineno"> 5406</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a><span class="keyword">&gt;</span>(instr-&gt;Bits(21, 20));</div>
<div class="line"><a name="l05407"></a><span class="lineno"> 5407</span>&#160;      <span class="keywordflow">switch</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l05408"></a><span class="lineno"> 5408</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a32abac64e4721dac677f04db429e5050">Neon8</a>:</div>
<div class="line"><a name="l05409"></a><span class="lineno"> 5409</span>&#160;          Binop&lt;uint8_t&gt;(<span class="keyword">this</span>, Vd, Vm, Vn, RoundingAverageUnsigned&lt;uint8_t&gt;);</div>
<div class="line"><a name="l05410"></a><span class="lineno"> 5410</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05411"></a><span class="lineno"> 5411</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6dc2d01b77f88ddef53fca519cfb7a04">Neon16</a>:</div>
<div class="line"><a name="l05412"></a><span class="lineno"> 5412</span>&#160;          Binop&lt;uint16_t&gt;(<span class="keyword">this</span>, Vd, Vm, Vn, RoundingAverageUnsigned&lt;uint16_t&gt;);</div>
<div class="line"><a name="l05413"></a><span class="lineno"> 5413</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05414"></a><span class="lineno"> 5414</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a24d1ad25be234608cba2d2dc3d35c3c1">Neon32</a>:</div>
<div class="line"><a name="l05415"></a><span class="lineno"> 5415</span>&#160;          Binop&lt;uint32_t&gt;(<span class="keyword">this</span>, Vd, Vm, Vn, RoundingAverageUnsigned&lt;uint32_t&gt;);</div>
<div class="line"><a name="l05416"></a><span class="lineno"> 5416</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05417"></a><span class="lineno"> 5417</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l05418"></a><span class="lineno"> 5418</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l05419"></a><span class="lineno"> 5419</span>&#160;      }</div>
<div class="line"><a name="l05420"></a><span class="lineno"> 5420</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (u &amp;&amp; opc == 2 &amp;&amp; op1) {</div>
<div class="line"><a name="l05421"></a><span class="lineno"> 5421</span>&#160;      <span class="comment">// vqsub.u&lt;size&gt; Qd, Qm, Qn.</span></div>
<div class="line"><a name="l05422"></a><span class="lineno"> 5422</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a><span class="keyword">&gt;</span>(instr-&gt;Bits(21, 20));</div>
<div class="line"><a name="l05423"></a><span class="lineno"> 5423</span>&#160;      <span class="keywordflow">switch</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l05424"></a><span class="lineno"> 5424</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a32abac64e4721dac677f04db429e5050">Neon8</a>:</div>
<div class="line"><a name="l05425"></a><span class="lineno"> 5425</span>&#160;          SubSat&lt;uint8_t&gt;(<span class="keyword">this</span>, Vd, Vm, Vn);</div>
<div class="line"><a name="l05426"></a><span class="lineno"> 5426</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05427"></a><span class="lineno"> 5427</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6dc2d01b77f88ddef53fca519cfb7a04">Neon16</a>:</div>
<div class="line"><a name="l05428"></a><span class="lineno"> 5428</span>&#160;          SubSat&lt;uint16_t&gt;(<span class="keyword">this</span>, Vd, Vm, Vn);</div>
<div class="line"><a name="l05429"></a><span class="lineno"> 5429</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05430"></a><span class="lineno"> 5430</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a24d1ad25be234608cba2d2dc3d35c3c1">Neon32</a>:</div>
<div class="line"><a name="l05431"></a><span class="lineno"> 5431</span>&#160;          SubSat&lt;uint32_t&gt;(<span class="keyword">this</span>, Vd, Vm, Vn);</div>
<div class="line"><a name="l05432"></a><span class="lineno"> 5432</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05433"></a><span class="lineno"> 5433</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l05434"></a><span class="lineno"> 5434</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l05435"></a><span class="lineno"> 5435</span>&#160;      }</div>
<div class="line"><a name="l05436"></a><span class="lineno"> 5436</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (u &amp;&amp; opc == 3) {</div>
<div class="line"><a name="l05437"></a><span class="lineno"> 5437</span>&#160;      <span class="comment">// vcge/vcgt.u&lt;size&gt; Qd, Qm, Qn.</span></div>
<div class="line"><a name="l05438"></a><span class="lineno"> 5438</span>&#160;      <span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21aa5296c25e35b433aabbd501b5e1af877">ge</a> = instr-&gt;Bit(4) == 1;</div>
<div class="line"><a name="l05439"></a><span class="lineno"> 5439</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a><span class="keyword">&gt;</span>(instr-&gt;Bits(21, 20));</div>
<div class="line"><a name="l05440"></a><span class="lineno"> 5440</span>&#160;      <span class="keywordflow">switch</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l05441"></a><span class="lineno"> 5441</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a32abac64e4721dac677f04db429e5050">Neon8</a>:</div>
<div class="line"><a name="l05442"></a><span class="lineno"> 5442</span>&#160;          CompareGreater&lt;uint8_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm, Vn, <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21aa5296c25e35b433aabbd501b5e1af877">ge</a>);</div>
<div class="line"><a name="l05443"></a><span class="lineno"> 5443</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05444"></a><span class="lineno"> 5444</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6dc2d01b77f88ddef53fca519cfb7a04">Neon16</a>:</div>
<div class="line"><a name="l05445"></a><span class="lineno"> 5445</span>&#160;          CompareGreater&lt;uint16_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm, Vn, <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21aa5296c25e35b433aabbd501b5e1af877">ge</a>);</div>
<div class="line"><a name="l05446"></a><span class="lineno"> 5446</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05447"></a><span class="lineno"> 5447</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a24d1ad25be234608cba2d2dc3d35c3c1">Neon32</a>:</div>
<div class="line"><a name="l05448"></a><span class="lineno"> 5448</span>&#160;          CompareGreater&lt;uint32_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm, Vn, <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21aa5296c25e35b433aabbd501b5e1af877">ge</a>);</div>
<div class="line"><a name="l05449"></a><span class="lineno"> 5449</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05450"></a><span class="lineno"> 5450</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l05451"></a><span class="lineno"> 5451</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l05452"></a><span class="lineno"> 5452</span>&#160;      }</div>
<div class="line"><a name="l05453"></a><span class="lineno"> 5453</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (u &amp;&amp; opc == 4 &amp;&amp; !op1) {</div>
<div class="line"><a name="l05454"></a><span class="lineno"> 5454</span>&#160;      <span class="comment">// vshl u&lt;size&gt; Qd, Qm, Qn.</span></div>
<div class="line"><a name="l05455"></a><span class="lineno"> 5455</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a><span class="keyword">&gt;</span>(instr-&gt;Bits(21, 20));</div>
<div class="line"><a name="l05456"></a><span class="lineno"> 5456</span>&#160;      <span class="keywordflow">switch</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l05457"></a><span class="lineno"> 5457</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a32abac64e4721dac677f04db429e5050">Neon8</a>:</div>
<div class="line"><a name="l05458"></a><span class="lineno"> 5458</span>&#160;          ShiftByRegister&lt;uint8_t, int8_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm, Vn);</div>
<div class="line"><a name="l05459"></a><span class="lineno"> 5459</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05460"></a><span class="lineno"> 5460</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6dc2d01b77f88ddef53fca519cfb7a04">Neon16</a>:</div>
<div class="line"><a name="l05461"></a><span class="lineno"> 5461</span>&#160;          ShiftByRegister&lt;uint16_t, int16_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm, Vn);</div>
<div class="line"><a name="l05462"></a><span class="lineno"> 5462</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05463"></a><span class="lineno"> 5463</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a24d1ad25be234608cba2d2dc3d35c3c1">Neon32</a>:</div>
<div class="line"><a name="l05464"></a><span class="lineno"> 5464</span>&#160;          ShiftByRegister&lt;uint32_t, int32_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm, Vn);</div>
<div class="line"><a name="l05465"></a><span class="lineno"> 5465</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05466"></a><span class="lineno"> 5466</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a452c02ca200687366d0f0772dc51dc2c">Neon64</a>:</div>
<div class="line"><a name="l05467"></a><span class="lineno"> 5467</span>&#160;          ShiftByRegister&lt;uint64_t, int64_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm, Vn);</div>
<div class="line"><a name="l05468"></a><span class="lineno"> 5468</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05469"></a><span class="lineno"> 5469</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l05470"></a><span class="lineno"> 5470</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l05471"></a><span class="lineno"> 5471</span>&#160;      }</div>
<div class="line"><a name="l05472"></a><span class="lineno"> 5472</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (u &amp;&amp; opc == 6) {</div>
<div class="line"><a name="l05473"></a><span class="lineno"> 5473</span>&#160;      <span class="comment">// vmin/vmax.u&lt;size&gt; Qd, Qm, Qn.</span></div>
<div class="line"><a name="l05474"></a><span class="lineno"> 5474</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a><span class="keyword">&gt;</span>(instr-&gt;Bits(21, 20));</div>
<div class="line"><a name="l05475"></a><span class="lineno"> 5475</span>&#160;      <span class="keywordtype">bool</span> min = instr-&gt;Bit(4) != 0;</div>
<div class="line"><a name="l05476"></a><span class="lineno"> 5476</span>&#160;      <span class="keywordflow">switch</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l05477"></a><span class="lineno"> 5477</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a32abac64e4721dac677f04db429e5050">Neon8</a>:</div>
<div class="line"><a name="l05478"></a><span class="lineno"> 5478</span>&#160;          MinMax&lt;uint8_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm, Vn, min);</div>
<div class="line"><a name="l05479"></a><span class="lineno"> 5479</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05480"></a><span class="lineno"> 5480</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6dc2d01b77f88ddef53fca519cfb7a04">Neon16</a>:</div>
<div class="line"><a name="l05481"></a><span class="lineno"> 5481</span>&#160;          MinMax&lt;uint16_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm, Vn, min);</div>
<div class="line"><a name="l05482"></a><span class="lineno"> 5482</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05483"></a><span class="lineno"> 5483</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a24d1ad25be234608cba2d2dc3d35c3c1">Neon32</a>:</div>
<div class="line"><a name="l05484"></a><span class="lineno"> 5484</span>&#160;          MinMax&lt;uint32_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm, Vn, min);</div>
<div class="line"><a name="l05485"></a><span class="lineno"> 5485</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05486"></a><span class="lineno"> 5486</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l05487"></a><span class="lineno"> 5487</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l05488"></a><span class="lineno"> 5488</span>&#160;      }</div>
<div class="line"><a name="l05489"></a><span class="lineno"> 5489</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (u &amp;&amp; opc == 8 &amp;&amp; !op1) {</div>
<div class="line"><a name="l05490"></a><span class="lineno"> 5490</span>&#160;      <span class="comment">// vsub.size Qd, Qm, Qn.</span></div>
<div class="line"><a name="l05491"></a><span class="lineno"> 5491</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a><span class="keyword">&gt;</span>(instr-&gt;Bits(21, 20));</div>
<div class="line"><a name="l05492"></a><span class="lineno"> 5492</span>&#160;      <span class="keywordflow">switch</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l05493"></a><span class="lineno"> 5493</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a32abac64e4721dac677f04db429e5050">Neon8</a>:</div>
<div class="line"><a name="l05494"></a><span class="lineno"> 5494</span>&#160;          Sub&lt;uint8_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm, Vn);</div>
<div class="line"><a name="l05495"></a><span class="lineno"> 5495</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05496"></a><span class="lineno"> 5496</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6dc2d01b77f88ddef53fca519cfb7a04">Neon16</a>:</div>
<div class="line"><a name="l05497"></a><span class="lineno"> 5497</span>&#160;          Sub&lt;uint16_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm, Vn);</div>
<div class="line"><a name="l05498"></a><span class="lineno"> 5498</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05499"></a><span class="lineno"> 5499</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a24d1ad25be234608cba2d2dc3d35c3c1">Neon32</a>:</div>
<div class="line"><a name="l05500"></a><span class="lineno"> 5500</span>&#160;          Sub&lt;uint32_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm, Vn);</div>
<div class="line"><a name="l05501"></a><span class="lineno"> 5501</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05502"></a><span class="lineno"> 5502</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a452c02ca200687366d0f0772dc51dc2c">Neon64</a>:</div>
<div class="line"><a name="l05503"></a><span class="lineno"> 5503</span>&#160;          Sub&lt;uint64_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm, Vn);</div>
<div class="line"><a name="l05504"></a><span class="lineno"> 5504</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05505"></a><span class="lineno"> 5505</span>&#160;      }</div>
<div class="line"><a name="l05506"></a><span class="lineno"> 5506</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (u &amp;&amp; opc == 8 &amp;&amp; op1) {</div>
<div class="line"><a name="l05507"></a><span class="lineno"> 5507</span>&#160;      <span class="comment">// vceq.size Qd, Qm, Qn.</span></div>
<div class="line"><a name="l05508"></a><span class="lineno"> 5508</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a><span class="keyword">&gt;</span>(instr-&gt;Bits(21, 20));</div>
<div class="line"><a name="l05509"></a><span class="lineno"> 5509</span>&#160;      <span class="keywordflow">switch</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l05510"></a><span class="lineno"> 5510</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a32abac64e4721dac677f04db429e5050">Neon8</a>:</div>
<div class="line"><a name="l05511"></a><span class="lineno"> 5511</span>&#160;          CompareEqual&lt;uint8_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm, Vn);</div>
<div class="line"><a name="l05512"></a><span class="lineno"> 5512</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05513"></a><span class="lineno"> 5513</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6dc2d01b77f88ddef53fca519cfb7a04">Neon16</a>:</div>
<div class="line"><a name="l05514"></a><span class="lineno"> 5514</span>&#160;          CompareEqual&lt;uint16_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm, Vn);</div>
<div class="line"><a name="l05515"></a><span class="lineno"> 5515</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05516"></a><span class="lineno"> 5516</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a24d1ad25be234608cba2d2dc3d35c3c1">Neon32</a>:</div>
<div class="line"><a name="l05517"></a><span class="lineno"> 5517</span>&#160;          CompareEqual&lt;uint32_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm, Vn);</div>
<div class="line"><a name="l05518"></a><span class="lineno"> 5518</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05519"></a><span class="lineno"> 5519</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l05520"></a><span class="lineno"> 5520</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l05521"></a><span class="lineno"> 5521</span>&#160;      }</div>
<div class="line"><a name="l05522"></a><span class="lineno"> 5522</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (u &amp;&amp; opc == 0xA) {</div>
<div class="line"><a name="l05523"></a><span class="lineno"> 5523</span>&#160;      <span class="comment">// vpmin/vpmax.u&lt;size&gt; Dd, Dm, Dn.</span></div>
<div class="line"><a name="l05524"></a><span class="lineno"> 5524</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a><span class="keyword">&gt;</span>(instr-&gt;Bits(21, 20));</div>
<div class="line"><a name="l05525"></a><span class="lineno"> 5525</span>&#160;      <span class="keywordtype">bool</span> min = instr-&gt;Bit(4) != 0;</div>
<div class="line"><a name="l05526"></a><span class="lineno"> 5526</span>&#160;      <span class="keywordflow">switch</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l05527"></a><span class="lineno"> 5527</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a32abac64e4721dac677f04db429e5050">Neon8</a>:</div>
<div class="line"><a name="l05528"></a><span class="lineno"> 5528</span>&#160;          PairwiseMinMax&lt;uint8_t&gt;(<span class="keyword">this</span>, Vd, Vm, Vn, min);</div>
<div class="line"><a name="l05529"></a><span class="lineno"> 5529</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05530"></a><span class="lineno"> 5530</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6dc2d01b77f88ddef53fca519cfb7a04">Neon16</a>:</div>
<div class="line"><a name="l05531"></a><span class="lineno"> 5531</span>&#160;          PairwiseMinMax&lt;uint16_t&gt;(<span class="keyword">this</span>, Vd, Vm, Vn, min);</div>
<div class="line"><a name="l05532"></a><span class="lineno"> 5532</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05533"></a><span class="lineno"> 5533</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a24d1ad25be234608cba2d2dc3d35c3c1">Neon32</a>:</div>
<div class="line"><a name="l05534"></a><span class="lineno"> 5534</span>&#160;          PairwiseMinMax&lt;uint32_t&gt;(<span class="keyword">this</span>, Vd, Vm, Vn, min);</div>
<div class="line"><a name="l05535"></a><span class="lineno"> 5535</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05536"></a><span class="lineno"> 5536</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l05537"></a><span class="lineno"> 5537</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l05538"></a><span class="lineno"> 5538</span>&#160;      }</div>
<div class="line"><a name="l05539"></a><span class="lineno"> 5539</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (u &amp;&amp; opc == 0xD &amp;&amp; sz == 0 &amp;&amp; q &amp;&amp; op1) {</div>
<div class="line"><a name="l05540"></a><span class="lineno"> 5540</span>&#160;      <span class="comment">// vmul.f32 Qd, Qn, Qm</span></div>
<div class="line"><a name="l05541"></a><span class="lineno"> 5541</span>&#160;      <span class="keywordtype">float</span> src1[4], src2[4];</div>
<div class="line"><a name="l05542"></a><span class="lineno"> 5542</span>&#160;      get_neon_register(Vn, src1);</div>
<div class="line"><a name="l05543"></a><span class="lineno"> 5543</span>&#160;      get_neon_register(Vm, src2);</div>
<div class="line"><a name="l05544"></a><span class="lineno"> 5544</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; 4; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l05545"></a><span class="lineno"> 5545</span>&#160;        src1[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = src1[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] * src2[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>];</div>
<div class="line"><a name="l05546"></a><span class="lineno"> 5546</span>&#160;      }</div>
<div class="line"><a name="l05547"></a><span class="lineno"> 5547</span>&#160;      set_neon_register(Vd, src1);</div>
<div class="line"><a name="l05548"></a><span class="lineno"> 5548</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (u &amp;&amp; opc == 0xD &amp;&amp; sz == 0 &amp;&amp; !q &amp;&amp; !op1) {</div>
<div class="line"><a name="l05549"></a><span class="lineno"> 5549</span>&#160;      <span class="comment">// vpadd.f32 Dd, Dn, Dm</span></div>
<div class="line"><a name="l05550"></a><span class="lineno"> 5550</span>&#160;      PairwiseAdd&lt;float&gt;(<span class="keyword">this</span>, Vd, Vm, Vn);</div>
<div class="line"><a name="l05551"></a><span class="lineno"> 5551</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (u &amp;&amp; opc == 0xE &amp;&amp; !op1) {</div>
<div class="line"><a name="l05552"></a><span class="lineno"> 5552</span>&#160;      <span class="comment">// vcge/vcgt.f32 Qd, Qm, Qn</span></div>
<div class="line"><a name="l05553"></a><span class="lineno"> 5553</span>&#160;      <span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21aa5296c25e35b433aabbd501b5e1af877">ge</a> = instr-&gt;Bit(21) == 0;</div>
<div class="line"><a name="l05554"></a><span class="lineno"> 5554</span>&#160;      <span class="keywordtype">float</span> src1[4], src2[4];</div>
<div class="line"><a name="l05555"></a><span class="lineno"> 5555</span>&#160;      get_neon_register(Vn, src1);</div>
<div class="line"><a name="l05556"></a><span class="lineno"> 5556</span>&#160;      get_neon_register(Vm, src2);</div>
<div class="line"><a name="l05557"></a><span class="lineno"> 5557</span>&#160;      uint32_t dst[4];</div>
<div class="line"><a name="l05558"></a><span class="lineno"> 5558</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; 4; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l05559"></a><span class="lineno"> 5559</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21aa5296c25e35b433aabbd501b5e1af877">ge</a>) {</div>
<div class="line"><a name="l05560"></a><span class="lineno"> 5560</span>&#160;          dst[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = src1[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] &gt;= src2[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] ? 0xFFFFFFFFu : 0;</div>
<div class="line"><a name="l05561"></a><span class="lineno"> 5561</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05562"></a><span class="lineno"> 5562</span>&#160;          dst[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = src1[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] &gt; src2[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] ? 0xFFFFFFFFu : 0;</div>
<div class="line"><a name="l05563"></a><span class="lineno"> 5563</span>&#160;        }</div>
<div class="line"><a name="l05564"></a><span class="lineno"> 5564</span>&#160;      }</div>
<div class="line"><a name="l05565"></a><span class="lineno"> 5565</span>&#160;      set_neon_register(Vd, dst);</div>
<div class="line"><a name="l05566"></a><span class="lineno"> 5566</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (u &amp;&amp; opc == 0xB) {</div>
<div class="line"><a name="l05567"></a><span class="lineno"> 5567</span>&#160;      <span class="comment">// vqrdmulh.&lt;dt&gt; Qd, Qm, Qn</span></div>
<div class="line"><a name="l05568"></a><span class="lineno"> 5568</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a><span class="keyword">&gt;</span>(instr-&gt;Bits(21, 20));</div>
<div class="line"><a name="l05569"></a><span class="lineno"> 5569</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> == <a class="code" href="namespacev8_1_1internal.html#a6dc2d01b77f88ddef53fca519cfb7a04">Neon16</a>) {</div>
<div class="line"><a name="l05570"></a><span class="lineno"> 5570</span>&#160;        Binop&lt;int16_t&gt;(<span class="keyword">this</span>, Vd, Vm, Vn, SaturateRoundingQMul&lt;int16_t&gt;);</div>
<div class="line"><a name="l05571"></a><span class="lineno"> 5571</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05572"></a><span class="lineno"> 5572</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="namespacev8_1_1internal.html#a24d1ad25be234608cba2d2dc3d35c3c1">Neon32</a>, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l05573"></a><span class="lineno"> 5573</span>&#160;        Binop&lt;int32_t&gt;(<span class="keyword">this</span>, Vd, Vm, Vn, SaturateRoundingQMul&lt;int32_t&gt;);</div>
<div class="line"><a name="l05574"></a><span class="lineno"> 5574</span>&#160;      }</div>
<div class="line"><a name="l05575"></a><span class="lineno"> 5575</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05576"></a><span class="lineno"> 5576</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l05577"></a><span class="lineno"> 5577</span>&#160;    }</div>
<div class="line"><a name="l05578"></a><span class="lineno"> 5578</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05579"></a><span class="lineno"> 5579</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (op0 == 1 &amp;&amp; op1 == 0) {</div>
<div class="line"><a name="l05580"></a><span class="lineno"> 5580</span>&#160;    DecodeAdvancedSIMDTwoOrThreeRegisters(instr);</div>
<div class="line"><a name="l05581"></a><span class="lineno"> 5581</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (op0 == 1 &amp;&amp; op1 == 1) {</div>
<div class="line"><a name="l05582"></a><span class="lineno"> 5582</span>&#160;    <span class="comment">// Advanced SIMD shifts and immediate generation.</span></div>
<div class="line"><a name="l05583"></a><span class="lineno"> 5583</span>&#160;    <span class="keywordflow">if</span> (instr-&gt;Bits(21, 19) == 0 &amp;&amp; instr-&gt;Bit(7) == 0) {</div>
<div class="line"><a name="l05584"></a><span class="lineno"> 5584</span>&#160;      VmovImmediate(<span class="keyword">this</span>, instr);</div>
<div class="line"><a name="l05585"></a><span class="lineno"> 5585</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05586"></a><span class="lineno"> 5586</span>&#160;      <span class="comment">// Advanced SIMD two registers and shift amount.</span></div>
<div class="line"><a name="l05587"></a><span class="lineno"> 5587</span>&#160;      <span class="keywordtype">int</span> u = instr-&gt;Bit(24);</div>
<div class="line"><a name="l05588"></a><span class="lineno"> 5588</span>&#160;      <span class="keywordtype">int</span> imm3H = instr-&gt;Bits(21, 19);</div>
<div class="line"><a name="l05589"></a><span class="lineno"> 5589</span>&#160;      <span class="keywordtype">int</span> imm3L = instr-&gt;Bits(18, 16);</div>
<div class="line"><a name="l05590"></a><span class="lineno"> 5590</span>&#160;      <span class="keywordtype">int</span> opc = instr-&gt;Bits(11, 8);</div>
<div class="line"><a name="l05591"></a><span class="lineno"> 5591</span>&#160;      <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#a6a4c396274ab184f7fdff3f61b945e6d">l</a> = instr-&gt;Bit(7);</div>
<div class="line"><a name="l05592"></a><span class="lineno"> 5592</span>&#160;      <span class="keywordtype">int</span> q = instr-&gt;Bit(6);</div>
<div class="line"><a name="l05593"></a><span class="lineno"> 5593</span>&#160;      <span class="keywordtype">int</span> imm3H_L = imm3H &lt;&lt; 1 | <a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#a6a4c396274ab184f7fdff3f61b945e6d">l</a>;</div>
<div class="line"><a name="l05594"></a><span class="lineno"> 5594</span>&#160;      <span class="keywordtype">int</span> imm7 = instr-&gt;Bits(21, 16);</div>
<div class="line"><a name="l05595"></a><span class="lineno"> 5595</span>&#160;      imm7 += (<a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#a6a4c396274ab184f7fdff3f61b945e6d">l</a> &lt;&lt; 6);</div>
<div class="line"><a name="l05596"></a><span class="lineno"> 5596</span>&#160;      <span class="keywordtype">int</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = <a class="code" href="namespacev8_1_1base_1_1bits.html#a23ecb4a08f03f36ed51161981dbece8b">base::bits::RoundDownToPowerOfTwo32</a>(imm7);</div>
<div class="line"><a name="l05597"></a><span class="lineno"> 5597</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a> ns =</div>
<div class="line"><a name="l05598"></a><span class="lineno"> 5598</span>&#160;          <span class="keyword">static_cast&lt;</span><a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a><span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1base_1_1bits.html#a1fb4b64013535455c21d34b4cce4a842">base::bits::WhichPowerOfTwo</a>(<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> &gt;&gt; 3));</div>
<div class="line"><a name="l05599"></a><span class="lineno"> 5599</span>&#160; </div>
<div class="line"><a name="l05600"></a><span class="lineno"> 5600</span>&#160;      <span class="keywordflow">if</span> (imm3H_L != 0 &amp;&amp; opc == 0) {</div>
<div class="line"><a name="l05601"></a><span class="lineno"> 5601</span>&#160;        <span class="comment">// vshr.s/u&lt;size&gt; Qd, Qm, shift</span></div>
<div class="line"><a name="l05602"></a><span class="lineno"> 5602</span>&#160;        <span class="keywordtype">int</span> shift = 2 * <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> - imm7;</div>
<div class="line"><a name="l05603"></a><span class="lineno"> 5603</span>&#160;        <span class="keywordtype">int</span> Vd = instr-&gt;VFPDRegValue(q ? <a class="code" href="namespacev8_1_1internal.html#ae73733e872be93099e05fcbd9e064c7d">kSimd128Precision</a> : <a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l05604"></a><span class="lineno"> 5604</span>&#160;        <span class="keywordtype">int</span> Vm = instr-&gt;VFPMRegValue(q ? <a class="code" href="namespacev8_1_1internal.html#ae73733e872be93099e05fcbd9e064c7d">kSimd128Precision</a> : <a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l05605"></a><span class="lineno"> 5605</span>&#160;        <span class="keywordflow">switch</span> (ns) {</div>
<div class="line"><a name="l05606"></a><span class="lineno"> 5606</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a32abac64e4721dac677f04db429e5050">Neon8</a>:</div>
<div class="line"><a name="l05607"></a><span class="lineno"> 5607</span>&#160;            q ? ShiftRight&lt;int8_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm, shift, u)</div>
<div class="line"><a name="l05608"></a><span class="lineno"> 5608</span>&#160;              : ShiftRight&lt;int8_t, <a class="code" href="namespacev8_1_1internal.html#ada67458c5a8e8c0ade0017e5d3c56fd3">kDoubleSize</a>&gt;(<a class="code" href="namespacev8_1_1internal.html#ac3ae3605bcdba7262f327c91f0b90ae0">this</a>, Vd, Vm, shift, u);</div>
<div class="line"><a name="l05609"></a><span class="lineno"> 5609</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05610"></a><span class="lineno"> 5610</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6dc2d01b77f88ddef53fca519cfb7a04">Neon16</a>:</div>
<div class="line"><a name="l05611"></a><span class="lineno"> 5611</span>&#160;            q ? ShiftRight&lt;int16_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm, shift, u)</div>
<div class="line"><a name="l05612"></a><span class="lineno"> 5612</span>&#160;              : ShiftRight&lt;<a class="code" href="namespaceunibrow.html#a511cc0636aed6a00d37d3e7cc0ec4e7c">int16_t</a>, <a class="code" href="namespacev8_1_1internal.html#ada67458c5a8e8c0ade0017e5d3c56fd3">kDoubleSize</a>&gt;(<a class="code" href="namespacev8_1_1internal.html#ac3ae3605bcdba7262f327c91f0b90ae0">this</a>, Vd, Vm, shift, u);</div>
<div class="line"><a name="l05613"></a><span class="lineno"> 5613</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05614"></a><span class="lineno"> 5614</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a24d1ad25be234608cba2d2dc3d35c3c1">Neon32</a>:</div>
<div class="line"><a name="l05615"></a><span class="lineno"> 5615</span>&#160;            q ? ShiftRight&lt;int32_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm, shift, u)</div>
<div class="line"><a name="l05616"></a><span class="lineno"> 5616</span>&#160;              : ShiftRight&lt;<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a>, <a class="code" href="namespacev8_1_1internal.html#ada67458c5a8e8c0ade0017e5d3c56fd3">kDoubleSize</a>&gt;(<a class="code" href="namespacev8_1_1internal.html#ac3ae3605bcdba7262f327c91f0b90ae0">this</a>, Vd, Vm, shift, u);</div>
<div class="line"><a name="l05617"></a><span class="lineno"> 5617</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05618"></a><span class="lineno"> 5618</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a452c02ca200687366d0f0772dc51dc2c">Neon64</a>:</div>
<div class="line"><a name="l05619"></a><span class="lineno"> 5619</span>&#160;            q ? ShiftRight&lt;int64_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm, shift, u)</div>
<div class="line"><a name="l05620"></a><span class="lineno"> 5620</span>&#160;              : ShiftRight&lt;int64_t, <a class="code" href="namespacev8_1_1internal.html#ada67458c5a8e8c0ade0017e5d3c56fd3">kDoubleSize</a>&gt;(<a class="code" href="namespacev8_1_1internal.html#ac3ae3605bcdba7262f327c91f0b90ae0">this</a>, Vd, Vm, shift, u);</div>
<div class="line"><a name="l05621"></a><span class="lineno"> 5621</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05622"></a><span class="lineno"> 5622</span>&#160;        }</div>
<div class="line"><a name="l05623"></a><span class="lineno"> 5623</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (imm3H_L != 0 &amp;&amp; opc == 1) {</div>
<div class="line"><a name="l05624"></a><span class="lineno"> 5624</span>&#160;        <span class="comment">// vsra Dd, Dm, #imm</span></div>
<div class="line"><a name="l05625"></a><span class="lineno"> 5625</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!q);  <span class="comment">// Unimplemented for now.</span></div>
<div class="line"><a name="l05626"></a><span class="lineno"> 5626</span>&#160;        <span class="keywordtype">int</span> shift = 2 * <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> - imm7;</div>
<div class="line"><a name="l05627"></a><span class="lineno"> 5627</span>&#160;        <span class="keywordtype">int</span> Vd = instr-&gt;VFPDRegValue(<a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l05628"></a><span class="lineno"> 5628</span>&#160;        <span class="keywordtype">int</span> Vm = instr-&gt;VFPMRegValue(<a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l05629"></a><span class="lineno"> 5629</span>&#160;        <span class="keywordflow">if</span> (u) {</div>
<div class="line"><a name="l05630"></a><span class="lineno"> 5630</span>&#160;          <span class="keywordflow">switch</span> (ns) {</div>
<div class="line"><a name="l05631"></a><span class="lineno"> 5631</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a32abac64e4721dac677f04db429e5050">Neon8</a>:</div>
<div class="line"><a name="l05632"></a><span class="lineno"> 5632</span>&#160;              ShiftRightAccumulate&lt;uint8_t, kDoubleSize&gt;(<span class="keyword">this</span>, Vd, Vm, shift);</div>
<div class="line"><a name="l05633"></a><span class="lineno"> 5633</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05634"></a><span class="lineno"> 5634</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6dc2d01b77f88ddef53fca519cfb7a04">Neon16</a>:</div>
<div class="line"><a name="l05635"></a><span class="lineno"> 5635</span>&#160;              ShiftRightAccumulate&lt;uint16_t, kDoubleSize&gt;(<span class="keyword">this</span>, Vd, Vm, shift);</div>
<div class="line"><a name="l05636"></a><span class="lineno"> 5636</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05637"></a><span class="lineno"> 5637</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a24d1ad25be234608cba2d2dc3d35c3c1">Neon32</a>:</div>
<div class="line"><a name="l05638"></a><span class="lineno"> 5638</span>&#160;              ShiftRightAccumulate&lt;uint32_t, kDoubleSize&gt;(<span class="keyword">this</span>, Vd, Vm, shift);</div>
<div class="line"><a name="l05639"></a><span class="lineno"> 5639</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05640"></a><span class="lineno"> 5640</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a452c02ca200687366d0f0772dc51dc2c">Neon64</a>:</div>
<div class="line"><a name="l05641"></a><span class="lineno"> 5641</span>&#160;              ShiftRightAccumulate&lt;uint64_t, kDoubleSize&gt;(<span class="keyword">this</span>, Vd, Vm, shift);</div>
<div class="line"><a name="l05642"></a><span class="lineno"> 5642</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05643"></a><span class="lineno"> 5643</span>&#160;          }</div>
<div class="line"><a name="l05644"></a><span class="lineno"> 5644</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05645"></a><span class="lineno"> 5645</span>&#160;          <span class="keywordflow">switch</span> (ns) {</div>
<div class="line"><a name="l05646"></a><span class="lineno"> 5646</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a32abac64e4721dac677f04db429e5050">Neon8</a>:</div>
<div class="line"><a name="l05647"></a><span class="lineno"> 5647</span>&#160;              ArithmeticShiftRightAccumulate&lt;int8_t, kDoubleSize&gt;(<span class="keyword">this</span>, Vd, Vm,</div>
<div class="line"><a name="l05648"></a><span class="lineno"> 5648</span>&#160;                                                                  shift);</div>
<div class="line"><a name="l05649"></a><span class="lineno"> 5649</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05650"></a><span class="lineno"> 5650</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6dc2d01b77f88ddef53fca519cfb7a04">Neon16</a>:</div>
<div class="line"><a name="l05651"></a><span class="lineno"> 5651</span>&#160;              ArithmeticShiftRightAccumulate&lt;int16_t, kDoubleSize&gt;(<span class="keyword">this</span>, Vd, Vm,</div>
<div class="line"><a name="l05652"></a><span class="lineno"> 5652</span>&#160;                                                                   shift);</div>
<div class="line"><a name="l05653"></a><span class="lineno"> 5653</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05654"></a><span class="lineno"> 5654</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a24d1ad25be234608cba2d2dc3d35c3c1">Neon32</a>:</div>
<div class="line"><a name="l05655"></a><span class="lineno"> 5655</span>&#160;              ArithmeticShiftRightAccumulate&lt;int32_t, kDoubleSize&gt;(<span class="keyword">this</span>, Vd, Vm,</div>
<div class="line"><a name="l05656"></a><span class="lineno"> 5656</span>&#160;                                                                   shift);</div>
<div class="line"><a name="l05657"></a><span class="lineno"> 5657</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05658"></a><span class="lineno"> 5658</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a452c02ca200687366d0f0772dc51dc2c">Neon64</a>:</div>
<div class="line"><a name="l05659"></a><span class="lineno"> 5659</span>&#160;              ArithmeticShiftRightAccumulate&lt;int64_t, kDoubleSize&gt;(<span class="keyword">this</span>, Vd, Vm,</div>
<div class="line"><a name="l05660"></a><span class="lineno"> 5660</span>&#160;                                                                   shift);</div>
<div class="line"><a name="l05661"></a><span class="lineno"> 5661</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05662"></a><span class="lineno"> 5662</span>&#160;          }</div>
<div class="line"><a name="l05663"></a><span class="lineno"> 5663</span>&#160;        }</div>
<div class="line"><a name="l05664"></a><span class="lineno"> 5664</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (imm3H_L != 0 &amp;&amp; imm3L == 0 &amp;&amp; opc == 0b1010 &amp;&amp; !q) {</div>
<div class="line"><a name="l05665"></a><span class="lineno"> 5665</span>&#160;        <span class="keywordflow">if</span> (u) {</div>
<div class="line"><a name="l05666"></a><span class="lineno"> 5666</span>&#160;          <span class="comment">// vmovl unsigned</span></div>
<div class="line"><a name="l05667"></a><span class="lineno"> 5667</span>&#160;          <span class="keywordflow">if</span> ((instr-&gt;VdValue() &amp; 1) != 0) <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l05668"></a><span class="lineno"> 5668</span>&#160;          <span class="keywordtype">int</span> Vd = instr-&gt;VFPDRegValue(<a class="code" href="namespacev8_1_1internal.html#ae73733e872be93099e05fcbd9e064c7d">kSimd128Precision</a>);</div>
<div class="line"><a name="l05669"></a><span class="lineno"> 5669</span>&#160;          <span class="keywordtype">int</span> Vm = instr-&gt;VFPMRegValue(<a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l05670"></a><span class="lineno"> 5670</span>&#160;          <span class="keywordflow">switch</span> (imm3H) {</div>
<div class="line"><a name="l05671"></a><span class="lineno"> 5671</span>&#160;            <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l05672"></a><span class="lineno"> 5672</span>&#160;              Widen&lt;uint8_t, uint16_t&gt;(<span class="keyword">this</span>, Vd, Vm);</div>
<div class="line"><a name="l05673"></a><span class="lineno"> 5673</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05674"></a><span class="lineno"> 5674</span>&#160;            <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l05675"></a><span class="lineno"> 5675</span>&#160;              Widen&lt;uint16_t, uint32_t&gt;(<span class="keyword">this</span>, Vd, Vm);</div>
<div class="line"><a name="l05676"></a><span class="lineno"> 5676</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05677"></a><span class="lineno"> 5677</span>&#160;            <span class="keywordflow">case</span> 4:</div>
<div class="line"><a name="l05678"></a><span class="lineno"> 5678</span>&#160;              Widen&lt;uint32_t, uint64_t&gt;(<span class="keyword">this</span>, Vd, Vm);</div>
<div class="line"><a name="l05679"></a><span class="lineno"> 5679</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05680"></a><span class="lineno"> 5680</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l05681"></a><span class="lineno"> 5681</span>&#160;              <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l05682"></a><span class="lineno"> 5682</span>&#160;          }</div>
<div class="line"><a name="l05683"></a><span class="lineno"> 5683</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05684"></a><span class="lineno"> 5684</span>&#160;          <span class="comment">// vmovl signed</span></div>
<div class="line"><a name="l05685"></a><span class="lineno"> 5685</span>&#160;          <span class="keywordflow">if</span> ((instr-&gt;VdValue() &amp; 1) != 0) <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l05686"></a><span class="lineno"> 5686</span>&#160;          <span class="keywordtype">int</span> Vd = instr-&gt;VFPDRegValue(<a class="code" href="namespacev8_1_1internal.html#ae73733e872be93099e05fcbd9e064c7d">kSimd128Precision</a>);</div>
<div class="line"><a name="l05687"></a><span class="lineno"> 5687</span>&#160;          <span class="keywordtype">int</span> Vm = instr-&gt;VFPMRegValue(<a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l05688"></a><span class="lineno"> 5688</span>&#160;          <span class="keywordflow">switch</span> (imm3H) {</div>
<div class="line"><a name="l05689"></a><span class="lineno"> 5689</span>&#160;            <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l05690"></a><span class="lineno"> 5690</span>&#160;              Widen&lt;int8_t, int16_t&gt;(<span class="keyword">this</span>, Vd, Vm);</div>
<div class="line"><a name="l05691"></a><span class="lineno"> 5691</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05692"></a><span class="lineno"> 5692</span>&#160;            <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l05693"></a><span class="lineno"> 5693</span>&#160;              Widen&lt;int16_t, int32_t&gt;(<span class="keyword">this</span>, Vd, Vm);</div>
<div class="line"><a name="l05694"></a><span class="lineno"> 5694</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05695"></a><span class="lineno"> 5695</span>&#160;            <span class="keywordflow">case</span> 4:</div>
<div class="line"><a name="l05696"></a><span class="lineno"> 5696</span>&#160;              Widen&lt;int32_t, int64_t&gt;(<span class="keyword">this</span>, Vd, Vm);</div>
<div class="line"><a name="l05697"></a><span class="lineno"> 5697</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05698"></a><span class="lineno"> 5698</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l05699"></a><span class="lineno"> 5699</span>&#160;              <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l05700"></a><span class="lineno"> 5700</span>&#160;          }</div>
<div class="line"><a name="l05701"></a><span class="lineno"> 5701</span>&#160;        }</div>
<div class="line"><a name="l05702"></a><span class="lineno"> 5702</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!u &amp;&amp; imm3H_L != 0 &amp;&amp; opc == 0b0101) {</div>
<div class="line"><a name="l05703"></a><span class="lineno"> 5703</span>&#160;        <span class="comment">// vshl.i&lt;size&gt; Qd, Qm, shift</span></div>
<div class="line"><a name="l05704"></a><span class="lineno"> 5704</span>&#160;        <span class="keywordtype">int</span> shift = imm7 - <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>;</div>
<div class="line"><a name="l05705"></a><span class="lineno"> 5705</span>&#160;        <span class="keywordtype">int</span> Vd = instr-&gt;VFPDRegValue(<a class="code" href="namespacev8_1_1internal.html#ae73733e872be93099e05fcbd9e064c7d">kSimd128Precision</a>);</div>
<div class="line"><a name="l05706"></a><span class="lineno"> 5706</span>&#160;        <span class="keywordtype">int</span> Vm = instr-&gt;VFPMRegValue(<a class="code" href="namespacev8_1_1internal.html#ae73733e872be93099e05fcbd9e064c7d">kSimd128Precision</a>);</div>
<div class="line"><a name="l05707"></a><span class="lineno"> 5707</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a> ns =</div>
<div class="line"><a name="l05708"></a><span class="lineno"> 5708</span>&#160;            <span class="keyword">static_cast&lt;</span><a class="code" href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">NeonSize</a><span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1base_1_1bits.html#a1fb4b64013535455c21d34b4cce4a842">base::bits::WhichPowerOfTwo</a>(<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> &gt;&gt; 3));</div>
<div class="line"><a name="l05709"></a><span class="lineno"> 5709</span>&#160;        <span class="keywordflow">switch</span> (ns) {</div>
<div class="line"><a name="l05710"></a><span class="lineno"> 5710</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a32abac64e4721dac677f04db429e5050">Neon8</a>:</div>
<div class="line"><a name="l05711"></a><span class="lineno"> 5711</span>&#160;            ShiftLeft&lt;uint8_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm, shift);</div>
<div class="line"><a name="l05712"></a><span class="lineno"> 5712</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05713"></a><span class="lineno"> 5713</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6dc2d01b77f88ddef53fca519cfb7a04">Neon16</a>:</div>
<div class="line"><a name="l05714"></a><span class="lineno"> 5714</span>&#160;            ShiftLeft&lt;uint16_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm, shift);</div>
<div class="line"><a name="l05715"></a><span class="lineno"> 5715</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05716"></a><span class="lineno"> 5716</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a24d1ad25be234608cba2d2dc3d35c3c1">Neon32</a>:</div>
<div class="line"><a name="l05717"></a><span class="lineno"> 5717</span>&#160;            ShiftLeft&lt;uint32_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm, shift);</div>
<div class="line"><a name="l05718"></a><span class="lineno"> 5718</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05719"></a><span class="lineno"> 5719</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a452c02ca200687366d0f0772dc51dc2c">Neon64</a>:</div>
<div class="line"><a name="l05720"></a><span class="lineno"> 5720</span>&#160;            ShiftLeft&lt;uint64_t, kSimd128Size&gt;(<span class="keyword">this</span>, Vd, Vm, shift);</div>
<div class="line"><a name="l05721"></a><span class="lineno"> 5721</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05722"></a><span class="lineno"> 5722</span>&#160;        }</div>
<div class="line"><a name="l05723"></a><span class="lineno"> 5723</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (u &amp;&amp; imm3H_L != 0 &amp;&amp; opc == 0b0100) {</div>
<div class="line"><a name="l05724"></a><span class="lineno"> 5724</span>&#160;        <span class="comment">// vsri.&lt;size&gt; Dd, Dm, shift</span></div>
<div class="line"><a name="l05725"></a><span class="lineno"> 5725</span>&#160;        <span class="keywordtype">int</span> shift = 2 * <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> - imm7;</div>
<div class="line"><a name="l05726"></a><span class="lineno"> 5726</span>&#160;        <span class="keywordtype">int</span> Vd = instr-&gt;VFPDRegValue(<a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l05727"></a><span class="lineno"> 5727</span>&#160;        <span class="keywordtype">int</span> Vm = instr-&gt;VFPMRegValue(<a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l05728"></a><span class="lineno"> 5728</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l05729"></a><span class="lineno"> 5729</span>&#160;          <span class="keywordflow">case</span> 8:</div>
<div class="line"><a name="l05730"></a><span class="lineno"> 5730</span>&#160;            ShiftRightAndInsert&lt;uint8_t, kDoubleSize&gt;(<span class="keyword">this</span>, Vd, Vm, shift);</div>
<div class="line"><a name="l05731"></a><span class="lineno"> 5731</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05732"></a><span class="lineno"> 5732</span>&#160;          <span class="keywordflow">case</span> 16:</div>
<div class="line"><a name="l05733"></a><span class="lineno"> 5733</span>&#160;            ShiftRightAndInsert&lt;uint16_t, kDoubleSize&gt;(<span class="keyword">this</span>, Vd, Vm, shift);</div>
<div class="line"><a name="l05734"></a><span class="lineno"> 5734</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05735"></a><span class="lineno"> 5735</span>&#160;          <span class="keywordflow">case</span> 32:</div>
<div class="line"><a name="l05736"></a><span class="lineno"> 5736</span>&#160;            ShiftRightAndInsert&lt;uint32_t, kDoubleSize&gt;(<span class="keyword">this</span>, Vd, Vm, shift);</div>
<div class="line"><a name="l05737"></a><span class="lineno"> 5737</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05738"></a><span class="lineno"> 5738</span>&#160;          <span class="keywordflow">case</span> 64:</div>
<div class="line"><a name="l05739"></a><span class="lineno"> 5739</span>&#160;            ShiftRightAndInsert&lt;uint64_t, kDoubleSize&gt;(<span class="keyword">this</span>, Vd, Vm, shift);</div>
<div class="line"><a name="l05740"></a><span class="lineno"> 5740</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05741"></a><span class="lineno"> 5741</span>&#160;          <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l05742"></a><span class="lineno"> 5742</span>&#160;            <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l05743"></a><span class="lineno"> 5743</span>&#160;        }</div>
<div class="line"><a name="l05744"></a><span class="lineno"> 5744</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (u &amp;&amp; imm3H_L != 0 &amp;&amp; opc == 0b0101) {</div>
<div class="line"><a name="l05745"></a><span class="lineno"> 5745</span>&#160;        <span class="comment">// vsli.&lt;size&gt; Dd, Dm, shift</span></div>
<div class="line"><a name="l05746"></a><span class="lineno"> 5746</span>&#160;        <span class="keywordtype">int</span> shift = imm7 - <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>;</div>
<div class="line"><a name="l05747"></a><span class="lineno"> 5747</span>&#160;        <span class="keywordtype">int</span> Vd = instr-&gt;VFPDRegValue(<a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l05748"></a><span class="lineno"> 5748</span>&#160;        <span class="keywordtype">int</span> Vm = instr-&gt;VFPMRegValue(<a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l05749"></a><span class="lineno"> 5749</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l05750"></a><span class="lineno"> 5750</span>&#160;          <span class="keywordflow">case</span> 8:</div>
<div class="line"><a name="l05751"></a><span class="lineno"> 5751</span>&#160;            ShiftLeftAndInsert&lt;uint8_t, kDoubleSize&gt;(<span class="keyword">this</span>, Vd, Vm, shift);</div>
<div class="line"><a name="l05752"></a><span class="lineno"> 5752</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05753"></a><span class="lineno"> 5753</span>&#160;          <span class="keywordflow">case</span> 16:</div>
<div class="line"><a name="l05754"></a><span class="lineno"> 5754</span>&#160;            ShiftLeftAndInsert&lt;uint16_t, kDoubleSize&gt;(<span class="keyword">this</span>, Vd, Vm, shift);</div>
<div class="line"><a name="l05755"></a><span class="lineno"> 5755</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05756"></a><span class="lineno"> 5756</span>&#160;          <span class="keywordflow">case</span> 32:</div>
<div class="line"><a name="l05757"></a><span class="lineno"> 5757</span>&#160;            ShiftLeftAndInsert&lt;uint32_t, kDoubleSize&gt;(<span class="keyword">this</span>, Vd, Vm, shift);</div>
<div class="line"><a name="l05758"></a><span class="lineno"> 5758</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05759"></a><span class="lineno"> 5759</span>&#160;          <span class="keywordflow">case</span> 64:</div>
<div class="line"><a name="l05760"></a><span class="lineno"> 5760</span>&#160;            ShiftLeftAndInsert&lt;uint64_t, kDoubleSize&gt;(<span class="keyword">this</span>, Vd, Vm, shift);</div>
<div class="line"><a name="l05761"></a><span class="lineno"> 5761</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05762"></a><span class="lineno"> 5762</span>&#160;          <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l05763"></a><span class="lineno"> 5763</span>&#160;            <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l05764"></a><span class="lineno"> 5764</span>&#160;        }</div>
<div class="line"><a name="l05765"></a><span class="lineno"> 5765</span>&#160;      }</div>
<div class="line"><a name="l05766"></a><span class="lineno"> 5766</span>&#160;    }</div>
<div class="line"><a name="l05767"></a><span class="lineno"> 5767</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05768"></a><span class="lineno"> 5768</span>&#160;  }</div>
<div class="line"><a name="l05769"></a><span class="lineno"> 5769</span>&#160;}</div>
<div class="line"><a name="l05770"></a><span class="lineno"> 5770</span>&#160; </div>
<div class="line"><a name="l05771"></a><span class="lineno"> 5771</span>&#160;<span class="keywordtype">void</span> Simulator::DecodeMemoryHintsAndBarriers(Instruction* instr) {</div>
<div class="line"><a name="l05772"></a><span class="lineno"> 5772</span>&#160;  <span class="keywordflow">switch</span> (instr-&gt;SpecialValue()) {</div>
<div class="line"><a name="l05773"></a><span class="lineno"> 5773</span>&#160;    <span class="keywordflow">case</span> 0xA:</div>
<div class="line"><a name="l05774"></a><span class="lineno"> 5774</span>&#160;    <span class="keywordflow">case</span> 0xB:</div>
<div class="line"><a name="l05775"></a><span class="lineno"> 5775</span>&#160;      <span class="keywordflow">if</span> ((instr-&gt;Bits(22, 20) == 5) &amp;&amp; (instr-&gt;Bits(15, 12) == 0xF)) {</div>
<div class="line"><a name="l05776"></a><span class="lineno"> 5776</span>&#160;        <span class="comment">// pld: ignore instruction.</span></div>
<div class="line"><a name="l05777"></a><span class="lineno"> 5777</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (instr-&gt;SpecialValue() == 0xA &amp;&amp; instr-&gt;Bits(22, 20) == 7) {</div>
<div class="line"><a name="l05778"></a><span class="lineno"> 5778</span>&#160;        <span class="comment">// dsb, dmb, isb: ignore instruction for now.</span></div>
<div class="line"><a name="l05779"></a><span class="lineno"> 5779</span>&#160;        <span class="comment">// TODO(binji): implement</span></div>
<div class="line"><a name="l05780"></a><span class="lineno"> 5780</span>&#160;        <span class="comment">// Also refer to the ARMv6 CP15 equivalents in DecodeTypeCP15.</span></div>
<div class="line"><a name="l05781"></a><span class="lineno"> 5781</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05782"></a><span class="lineno"> 5782</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l05783"></a><span class="lineno"> 5783</span>&#160;      }</div>
<div class="line"><a name="l05784"></a><span class="lineno"> 5784</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05785"></a><span class="lineno"> 5785</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l05786"></a><span class="lineno"> 5786</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l05787"></a><span class="lineno"> 5787</span>&#160;  }</div>
<div class="line"><a name="l05788"></a><span class="lineno"> 5788</span>&#160;}</div>
<div class="line"><a name="l05789"></a><span class="lineno"> 5789</span>&#160; </div>
<div class="line"><a name="l05790"></a><span class="lineno"> 5790</span>&#160;<span class="keywordtype">void</span> Simulator::DecodeAdvancedSIMDElementOrStructureLoadStore(</div>
<div class="line"><a name="l05791"></a><span class="lineno"> 5791</span>&#160;    Instruction* instr) {</div>
<div class="line"><a name="l05792"></a><span class="lineno"> 5792</span>&#160;  <span class="keywordtype">int</span> op0 = instr-&gt;Bit(23);</div>
<div class="line"><a name="l05793"></a><span class="lineno"> 5793</span>&#160;  <span class="keywordtype">int</span> op1 = instr-&gt;Bits(11, 10);</div>
<div class="line"><a name="l05794"></a><span class="lineno"> 5794</span>&#160; </div>
<div class="line"><a name="l05795"></a><span class="lineno"> 5795</span>&#160;  <span class="keywordflow">if</span> (!op0) {</div>
<div class="line"><a name="l05796"></a><span class="lineno"> 5796</span>&#160;    DecodeAdvancedSIMDLoadStoreMultipleStructures(instr);</div>
<div class="line"><a name="l05797"></a><span class="lineno"> 5797</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (op1 == 0b11) {</div>
<div class="line"><a name="l05798"></a><span class="lineno"> 5798</span>&#160;    DecodeAdvancedSIMDLoadSingleStructureToAllLanes(instr);</div>
<div class="line"><a name="l05799"></a><span class="lineno"> 5799</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05800"></a><span class="lineno"> 5800</span>&#160;    DecodeAdvancedSIMDLoadStoreSingleStructureToOneLane(instr);</div>
<div class="line"><a name="l05801"></a><span class="lineno"> 5801</span>&#160;  }</div>
<div class="line"><a name="l05802"></a><span class="lineno"> 5802</span>&#160;}</div>
<div class="line"><a name="l05803"></a><span class="lineno"> 5803</span>&#160; </div>
<div class="line"><a name="l05804"></a><span class="lineno"> 5804</span>&#160;<span class="keywordtype">void</span> Simulator::DecodeAdvancedSIMDLoadStoreMultipleStructures(</div>
<div class="line"><a name="l05805"></a><span class="lineno"> 5805</span>&#160;    Instruction* instr) {</div>
<div class="line"><a name="l05806"></a><span class="lineno"> 5806</span>&#160;  <span class="keywordtype">int</span> Vd = instr-&gt;VFPDRegValue(<a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l05807"></a><span class="lineno"> 5807</span>&#160;  <span class="keywordtype">int</span> Rn = instr-&gt;VnValue();</div>
<div class="line"><a name="l05808"></a><span class="lineno"> 5808</span>&#160;  <span class="keywordtype">int</span> Rm = instr-&gt;VmValue();</div>
<div class="line"><a name="l05809"></a><span class="lineno"> 5809</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = instr-&gt;Bits(11, 8);</div>
<div class="line"><a name="l05810"></a><span class="lineno"> 5810</span>&#160;  <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> address = get_register(Rn);</div>
<div class="line"><a name="l05811"></a><span class="lineno"> 5811</span>&#160;  <span class="keywordtype">int</span> regs = 0;</div>
<div class="line"><a name="l05812"></a><span class="lineno"> 5812</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>) {</div>
<div class="line"><a name="l05813"></a><span class="lineno"> 5813</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#ad8fcb8e4b8780dca8f533f30b3760d9c">nlt_1</a>:</div>
<div class="line"><a name="l05814"></a><span class="lineno"> 5814</span>&#160;      regs = 1;</div>
<div class="line"><a name="l05815"></a><span class="lineno"> 5815</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05816"></a><span class="lineno"> 5816</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a57e8bd6c5d995eea94ab3e3f0fc64fcb">nlt_2</a>:</div>
<div class="line"><a name="l05817"></a><span class="lineno"> 5817</span>&#160;      regs = 2;</div>
<div class="line"><a name="l05818"></a><span class="lineno"> 5818</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05819"></a><span class="lineno"> 5819</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a49869fb03a2091922f6638cfac3716b5">nlt_3</a>:</div>
<div class="line"><a name="l05820"></a><span class="lineno"> 5820</span>&#160;      regs = 3;</div>
<div class="line"><a name="l05821"></a><span class="lineno"> 5821</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05822"></a><span class="lineno"> 5822</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#adfc2f19946b77a3dab15d5257df4b53d">nlt_4</a>:</div>
<div class="line"><a name="l05823"></a><span class="lineno"> 5823</span>&#160;      regs = 4;</div>
<div class="line"><a name="l05824"></a><span class="lineno"> 5824</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05825"></a><span class="lineno"> 5825</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l05826"></a><span class="lineno"> 5826</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l05827"></a><span class="lineno"> 5827</span>&#160;  }</div>
<div class="line"><a name="l05828"></a><span class="lineno"> 5828</span>&#160;  <span class="keywordflow">if</span> (instr-&gt;Bit(21)) {</div>
<div class="line"><a name="l05829"></a><span class="lineno"> 5829</span>&#160;    <span class="comment">// vld1</span></div>
<div class="line"><a name="l05830"></a><span class="lineno"> 5830</span>&#160;    <span class="keywordtype">int</span> r = 0;</div>
<div class="line"><a name="l05831"></a><span class="lineno"> 5831</span>&#160;    <span class="keywordflow">while</span> (r &lt; regs) {</div>
<div class="line"><a name="l05832"></a><span class="lineno"> 5832</span>&#160;      uint32_t data[2];</div>
<div class="line"><a name="l05833"></a><span class="lineno"> 5833</span>&#160;      data[0] = ReadW(address);</div>
<div class="line"><a name="l05834"></a><span class="lineno"> 5834</span>&#160;      data[1] = ReadW(address + 4);</div>
<div class="line"><a name="l05835"></a><span class="lineno"> 5835</span>&#160;      set_d_register(Vd + r, data);</div>
<div class="line"><a name="l05836"></a><span class="lineno"> 5836</span>&#160;      address += 8;</div>
<div class="line"><a name="l05837"></a><span class="lineno"> 5837</span>&#160;      r++;</div>
<div class="line"><a name="l05838"></a><span class="lineno"> 5838</span>&#160;    }</div>
<div class="line"><a name="l05839"></a><span class="lineno"> 5839</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05840"></a><span class="lineno"> 5840</span>&#160;    <span class="comment">// vst1</span></div>
<div class="line"><a name="l05841"></a><span class="lineno"> 5841</span>&#160;    <span class="keywordtype">int</span> r = 0;</div>
<div class="line"><a name="l05842"></a><span class="lineno"> 5842</span>&#160;    <span class="keywordflow">while</span> (r &lt; regs) {</div>
<div class="line"><a name="l05843"></a><span class="lineno"> 5843</span>&#160;      uint32_t data[2];</div>
<div class="line"><a name="l05844"></a><span class="lineno"> 5844</span>&#160;      get_d_register(Vd + r, data);</div>
<div class="line"><a name="l05845"></a><span class="lineno"> 5845</span>&#160;      WriteW(address, data[0]);</div>
<div class="line"><a name="l05846"></a><span class="lineno"> 5846</span>&#160;      WriteW(address + 4, data[1]);</div>
<div class="line"><a name="l05847"></a><span class="lineno"> 5847</span>&#160;      address += 8;</div>
<div class="line"><a name="l05848"></a><span class="lineno"> 5848</span>&#160;      r++;</div>
<div class="line"><a name="l05849"></a><span class="lineno"> 5849</span>&#160;    }</div>
<div class="line"><a name="l05850"></a><span class="lineno"> 5850</span>&#160;  }</div>
<div class="line"><a name="l05851"></a><span class="lineno"> 5851</span>&#160;  AdvancedSIMDElementOrStructureLoadStoreWriteback(Rn, Rm, 8 * regs);</div>
<div class="line"><a name="l05852"></a><span class="lineno"> 5852</span>&#160;}</div>
<div class="line"><a name="l05853"></a><span class="lineno"> 5853</span>&#160; </div>
<div class="line"><a name="l05854"></a><span class="lineno"> 5854</span>&#160;<span class="keywordtype">void</span> Simulator::DecodeAdvancedSIMDLoadSingleStructureToAllLanes(</div>
<div class="line"><a name="l05855"></a><span class="lineno"> 5855</span>&#160;    Instruction* instr) {</div>
<div class="line"><a name="l05856"></a><span class="lineno"> 5856</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(0, instr-&gt;Bit(21));</div>
<div class="line"><a name="l05857"></a><span class="lineno"> 5857</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#a58578a07334d81a9c8cd700020ff9b78">N</a> = instr-&gt;Bits(9, 8);</div>
<div class="line"><a name="l05858"></a><span class="lineno"> 5858</span>&#160; </div>
<div class="line"><a name="l05859"></a><span class="lineno"> 5859</span>&#160;  <span class="keywordtype">int</span> Vd = instr-&gt;VFPDRegValue(<a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l05860"></a><span class="lineno"> 5860</span>&#160;  <span class="keywordtype">int</span> Rn = instr-&gt;VnValue();</div>
<div class="line"><a name="l05861"></a><span class="lineno"> 5861</span>&#160;  <span class="keywordtype">int</span> Rm = instr-&gt;VmValue();</div>
<div class="line"><a name="l05862"></a><span class="lineno"> 5862</span>&#160;  <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> address = get_register(Rn);</div>
<div class="line"><a name="l05863"></a><span class="lineno"> 5863</span>&#160; </div>
<div class="line"><a name="l05864"></a><span class="lineno"> 5864</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#a58578a07334d81a9c8cd700020ff9b78">N</a>) {</div>
<div class="line"><a name="l05865"></a><span class="lineno"> 5865</span>&#160;    <span class="comment">// vld1 (single element to all lanes).</span></div>
<div class="line"><a name="l05866"></a><span class="lineno"> 5866</span>&#160;    <span class="keywordtype">int</span> regs = instr-&gt;Bit(5) + 1;</div>
<div class="line"><a name="l05867"></a><span class="lineno"> 5867</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = instr-&gt;Bits(7, 6);</div>
<div class="line"><a name="l05868"></a><span class="lineno"> 5868</span>&#160;    uint32_t q_data[2];</div>
<div class="line"><a name="l05869"></a><span class="lineno"> 5869</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l05870"></a><span class="lineno"> 5870</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a32abac64e4721dac677f04db429e5050">Neon8</a>: {</div>
<div class="line"><a name="l05871"></a><span class="lineno"> 5871</span>&#160;        uint8_t data = ReadBU(address);</div>
<div class="line"><a name="l05872"></a><span class="lineno"> 5872</span>&#160;        uint8_t* dst = <span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(q_data);</div>
<div class="line"><a name="l05873"></a><span class="lineno"> 5873</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; 8; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l05874"></a><span class="lineno"> 5874</span>&#160;          dst[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = data;</div>
<div class="line"><a name="l05875"></a><span class="lineno"> 5875</span>&#160;        }</div>
<div class="line"><a name="l05876"></a><span class="lineno"> 5876</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05877"></a><span class="lineno"> 5877</span>&#160;      }</div>
<div class="line"><a name="l05878"></a><span class="lineno"> 5878</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6dc2d01b77f88ddef53fca519cfb7a04">Neon16</a>: {</div>
<div class="line"><a name="l05879"></a><span class="lineno"> 5879</span>&#160;        <a class="code" href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">uint16_t</a> data = ReadHU(address);</div>
<div class="line"><a name="l05880"></a><span class="lineno"> 5880</span>&#160;        <a class="code" href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">uint16_t</a>* dst = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">uint16_t</a>*<span class="keyword">&gt;</span>(q_data);</div>
<div class="line"><a name="l05881"></a><span class="lineno"> 5881</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; 4; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l05882"></a><span class="lineno"> 5882</span>&#160;          dst[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = data;</div>
<div class="line"><a name="l05883"></a><span class="lineno"> 5883</span>&#160;        }</div>
<div class="line"><a name="l05884"></a><span class="lineno"> 5884</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05885"></a><span class="lineno"> 5885</span>&#160;      }</div>
<div class="line"><a name="l05886"></a><span class="lineno"> 5886</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a24d1ad25be234608cba2d2dc3d35c3c1">Neon32</a>: {</div>
<div class="line"><a name="l05887"></a><span class="lineno"> 5887</span>&#160;        uint32_t data = ReadW(address);</div>
<div class="line"><a name="l05888"></a><span class="lineno"> 5888</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; 2; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l05889"></a><span class="lineno"> 5889</span>&#160;          q_data[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = data;</div>
<div class="line"><a name="l05890"></a><span class="lineno"> 5890</span>&#160;        }</div>
<div class="line"><a name="l05891"></a><span class="lineno"> 5891</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05892"></a><span class="lineno"> 5892</span>&#160;      }</div>
<div class="line"><a name="l05893"></a><span class="lineno"> 5893</span>&#160;    }</div>
<div class="line"><a name="l05894"></a><span class="lineno"> 5894</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = 0; r &lt; regs; r++) {</div>
<div class="line"><a name="l05895"></a><span class="lineno"> 5895</span>&#160;      set_neon_register&lt;uint32_t, kDoubleSize&gt;(Vd + r, q_data);</div>
<div class="line"><a name="l05896"></a><span class="lineno"> 5896</span>&#160;    }</div>
<div class="line"><a name="l05897"></a><span class="lineno"> 5897</span>&#160;    AdvancedSIMDElementOrStructureLoadStoreWriteback(Rn, Rm, 1 &lt;&lt; <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l05898"></a><span class="lineno"> 5898</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05899"></a><span class="lineno"> 5899</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l05900"></a><span class="lineno"> 5900</span>&#160;  }</div>
<div class="line"><a name="l05901"></a><span class="lineno"> 5901</span>&#160;}</div>
<div class="line"><a name="l05902"></a><span class="lineno"> 5902</span>&#160; </div>
<div class="line"><a name="l05903"></a><span class="lineno"> 5903</span>&#160;<span class="keywordtype">void</span> Simulator::DecodeAdvancedSIMDLoadStoreSingleStructureToOneLane(</div>
<div class="line"><a name="l05904"></a><span class="lineno"> 5904</span>&#160;    Instruction* instr) {</div>
<div class="line"><a name="l05905"></a><span class="lineno"> 5905</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#a68432e0286fadb63d524e475affa65fb">L</a> = instr-&gt;Bit(21);</div>
<div class="line"><a name="l05906"></a><span class="lineno"> 5906</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = instr-&gt;Bits(11, 10);</div>
<div class="line"><a name="l05907"></a><span class="lineno"> 5907</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#a58578a07334d81a9c8cd700020ff9b78">N</a> = instr-&gt;Bits(9, 8);</div>
<div class="line"><a name="l05908"></a><span class="lineno"> 5908</span>&#160;  <span class="keywordtype">int</span> Vd = instr-&gt;VFPDRegValue(<a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l05909"></a><span class="lineno"> 5909</span>&#160;  <span class="keywordtype">int</span> Rn = instr-&gt;VnValue();</div>
<div class="line"><a name="l05910"></a><span class="lineno"> 5910</span>&#160;  <span class="keywordtype">int</span> Rm = instr-&gt;VmValue();</div>
<div class="line"><a name="l05911"></a><span class="lineno"> 5911</span>&#160;  <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> address = get_register(Rn);</div>
<div class="line"><a name="l05912"></a><span class="lineno"> 5912</span>&#160; </div>
<div class="line"><a name="l05913"></a><span class="lineno"> 5913</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#a68432e0286fadb63d524e475affa65fb">L</a> &amp;&amp; <a class="code" href="namespacev8_1_1internal.html#a58578a07334d81a9c8cd700020ff9b78">N</a> == 0) {</div>
<div class="line"><a name="l05914"></a><span class="lineno"> 5914</span>&#160;    <span class="comment">// vld1 (single element to one lane)</span></div>
<div class="line"><a name="l05915"></a><span class="lineno"> 5915</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(3, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l05916"></a><span class="lineno"> 5916</span>&#160;    uint64_t dreg;</div>
<div class="line"><a name="l05917"></a><span class="lineno"> 5917</span>&#160;    get_d_register(Vd, &amp;dreg);</div>
<div class="line"><a name="l05918"></a><span class="lineno"> 5918</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l05919"></a><span class="lineno"> 5919</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a32abac64e4721dac677f04db429e5050">Neon8</a>: {</div>
<div class="line"><a name="l05920"></a><span class="lineno"> 5920</span>&#160;        uint64_t data = ReadBU(address);</div>
<div class="line"><a name="l05921"></a><span class="lineno"> 5921</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, instr-&gt;Bit(4));</div>
<div class="line"><a name="l05922"></a><span class="lineno"> 5922</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = instr-&gt;Bits(7, 5) * 8;</div>
<div class="line"><a name="l05923"></a><span class="lineno"> 5923</span>&#160;        dreg = (dreg &amp; ~(uint64_t{0xff} &lt;&lt; <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>)) | (data &lt;&lt; <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>);</div>
<div class="line"><a name="l05924"></a><span class="lineno"> 5924</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05925"></a><span class="lineno"> 5925</span>&#160;      }</div>
<div class="line"><a name="l05926"></a><span class="lineno"> 5926</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6dc2d01b77f88ddef53fca519cfb7a04">Neon16</a>: {</div>
<div class="line"><a name="l05927"></a><span class="lineno"> 5927</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, instr-&gt;Bits(5, 4));  <span class="comment">// Alignment not supported.</span></div>
<div class="line"><a name="l05928"></a><span class="lineno"> 5928</span>&#160;        uint64_t data = ReadHU(address);</div>
<div class="line"><a name="l05929"></a><span class="lineno"> 5929</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = instr-&gt;Bits(7, 6) * 16;</div>
<div class="line"><a name="l05930"></a><span class="lineno"> 5930</span>&#160;        dreg = (dreg &amp; ~(uint64_t{0xffff} &lt;&lt; <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>)) | (data &lt;&lt; <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>);</div>
<div class="line"><a name="l05931"></a><span class="lineno"> 5931</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05932"></a><span class="lineno"> 5932</span>&#160;      }</div>
<div class="line"><a name="l05933"></a><span class="lineno"> 5933</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a24d1ad25be234608cba2d2dc3d35c3c1">Neon32</a>: {</div>
<div class="line"><a name="l05934"></a><span class="lineno"> 5934</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, instr-&gt;Bits(6, 4));  <span class="comment">// Alignment not supported.</span></div>
<div class="line"><a name="l05935"></a><span class="lineno"> 5935</span>&#160;        uint64_t data = <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>(ReadW(address));</div>
<div class="line"><a name="l05936"></a><span class="lineno"> 5936</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = instr-&gt;Bit(7) * 32;</div>
<div class="line"><a name="l05937"></a><span class="lineno"> 5937</span>&#160;        dreg = (dreg &amp; ~(uint64_t{0xffffffff} &lt;&lt; <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>)) | (data &lt;&lt; <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>);</div>
<div class="line"><a name="l05938"></a><span class="lineno"> 5938</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05939"></a><span class="lineno"> 5939</span>&#160;      }</div>
<div class="line"><a name="l05940"></a><span class="lineno"> 5940</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a452c02ca200687366d0f0772dc51dc2c">Neon64</a>: {</div>
<div class="line"><a name="l05941"></a><span class="lineno"> 5941</span>&#160;        <span class="comment">// Should have been handled by vld1 (single element to all lanes).</span></div>
<div class="line"><a name="l05942"></a><span class="lineno"> 5942</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l05943"></a><span class="lineno"> 5943</span>&#160;      }</div>
<div class="line"><a name="l05944"></a><span class="lineno"> 5944</span>&#160;    }</div>
<div class="line"><a name="l05945"></a><span class="lineno"> 5945</span>&#160;    set_d_register(Vd, &amp;dreg);</div>
<div class="line"><a name="l05946"></a><span class="lineno"> 5946</span>&#160;    AdvancedSIMDElementOrStructureLoadStoreWriteback(Rn, Rm, 1 &lt;&lt; <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l05947"></a><span class="lineno"> 5947</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#a68432e0286fadb63d524e475affa65fb">L</a> &amp;&amp; <a class="code" href="namespacev8_1_1internal.html#a58578a07334d81a9c8cd700020ff9b78">N</a> == 0) {</div>
<div class="line"><a name="l05948"></a><span class="lineno"> 5948</span>&#160;    <span class="comment">// vst1s (single element from one lane).</span></div>
<div class="line"><a name="l05949"></a><span class="lineno"> 5949</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(3, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l05950"></a><span class="lineno"> 5950</span>&#160;    uint64_t dreg;</div>
<div class="line"><a name="l05951"></a><span class="lineno"> 5951</span>&#160;    get_d_register(Vd, &amp;dreg);</div>
<div class="line"><a name="l05952"></a><span class="lineno"> 5952</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l05953"></a><span class="lineno"> 5953</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a32abac64e4721dac677f04db429e5050">Neon8</a>: {</div>
<div class="line"><a name="l05954"></a><span class="lineno"> 5954</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, instr-&gt;Bit(4));</div>
<div class="line"><a name="l05955"></a><span class="lineno"> 5955</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = instr-&gt;Bits(7, 5) * 8;</div>
<div class="line"><a name="l05956"></a><span class="lineno"> 5956</span>&#160;        dreg = (dreg &gt;&gt; <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>) &amp; 0xff;</div>
<div class="line"><a name="l05957"></a><span class="lineno"> 5957</span>&#160;        WriteB(address, <span class="keyword">static_cast&lt;</span>uint8_t<span class="keyword">&gt;</span>(dreg));</div>
<div class="line"><a name="l05958"></a><span class="lineno"> 5958</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05959"></a><span class="lineno"> 5959</span>&#160;      }</div>
<div class="line"><a name="l05960"></a><span class="lineno"> 5960</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6dc2d01b77f88ddef53fca519cfb7a04">Neon16</a>: {</div>
<div class="line"><a name="l05961"></a><span class="lineno"> 5961</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, instr-&gt;Bits(5, 4));  <span class="comment">// Alignment not supported.</span></div>
<div class="line"><a name="l05962"></a><span class="lineno"> 5962</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = instr-&gt;Bits(7, 6) * 16;</div>
<div class="line"><a name="l05963"></a><span class="lineno"> 5963</span>&#160;        dreg = (dreg &gt;&gt; <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>) &amp; 0xffff;</div>
<div class="line"><a name="l05964"></a><span class="lineno"> 5964</span>&#160;        WriteH(address, <span class="keyword">static_cast&lt;</span><a class="code" href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">uint16_t</a><span class="keyword">&gt;</span>(dreg));</div>
<div class="line"><a name="l05965"></a><span class="lineno"> 5965</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05966"></a><span class="lineno"> 5966</span>&#160;      }</div>
<div class="line"><a name="l05967"></a><span class="lineno"> 5967</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a24d1ad25be234608cba2d2dc3d35c3c1">Neon32</a>: {</div>
<div class="line"><a name="l05968"></a><span class="lineno"> 5968</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, instr-&gt;Bits(6, 4));  <span class="comment">// Alignment not supported.</span></div>
<div class="line"><a name="l05969"></a><span class="lineno"> 5969</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = instr-&gt;Bit(7) * 32;</div>
<div class="line"><a name="l05970"></a><span class="lineno"> 5970</span>&#160;        dreg = (dreg &gt;&gt; <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>) &amp; 0xffffffff;</div>
<div class="line"><a name="l05971"></a><span class="lineno"> 5971</span>&#160;        WriteW(address, base::bit_cast&lt;int&gt;(<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(dreg)));</div>
<div class="line"><a name="l05972"></a><span class="lineno"> 5972</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05973"></a><span class="lineno"> 5973</span>&#160;      }</div>
<div class="line"><a name="l05974"></a><span class="lineno"> 5974</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a452c02ca200687366d0f0772dc51dc2c">Neon64</a>: {</div>
<div class="line"><a name="l05975"></a><span class="lineno"> 5975</span>&#160;        <span class="comment">// Should have been handled by vst1 (single element to all lanes).</span></div>
<div class="line"><a name="l05976"></a><span class="lineno"> 5976</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l05977"></a><span class="lineno"> 5977</span>&#160;      }</div>
<div class="line"><a name="l05978"></a><span class="lineno"> 5978</span>&#160;    }</div>
<div class="line"><a name="l05979"></a><span class="lineno"> 5979</span>&#160;    AdvancedSIMDElementOrStructureLoadStoreWriteback(Rn, Rm, 1 &lt;&lt; <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l05980"></a><span class="lineno"> 5980</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05981"></a><span class="lineno"> 5981</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l05982"></a><span class="lineno"> 5982</span>&#160;  }</div>
<div class="line"><a name="l05983"></a><span class="lineno"> 5983</span>&#160;}</div>
<div class="line"><a name="l05984"></a><span class="lineno"> 5984</span>&#160; </div>
<div class="line"><a name="l05985"></a><span class="lineno"> 5985</span>&#160;<span class="keywordtype">void</span> Simulator::DecodeFloatingPointDataProcessing(Instruction* instr) {</div>
<div class="line"><a name="l05986"></a><span class="lineno"> 5986</span>&#160;  <span class="keywordflow">switch</span> (instr-&gt;SpecialValue()) {</div>
<div class="line"><a name="l05987"></a><span class="lineno"> 5987</span>&#160;    <span class="keywordflow">case</span> 0x1D:</div>
<div class="line"><a name="l05988"></a><span class="lineno"> 5988</span>&#160;      <span class="keywordflow">if</span> (instr-&gt;Opc1Value() == 0x7 &amp;&amp; instr-&gt;Opc3Value() == 0x1 &amp;&amp;</div>
<div class="line"><a name="l05989"></a><span class="lineno"> 5989</span>&#160;          instr-&gt;Bits(11, 9) == 0x5 &amp;&amp; instr-&gt;Bits(19, 18) == 0x2) {</div>
<div class="line"><a name="l05990"></a><span class="lineno"> 5990</span>&#160;        <span class="keywordflow">if</span> (instr-&gt;SzValue() == 0x1) {</div>
<div class="line"><a name="l05991"></a><span class="lineno"> 5991</span>&#160;          <span class="keywordtype">int</span> vm = instr-&gt;VFPMRegValue(<a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l05992"></a><span class="lineno"> 5992</span>&#160;          <span class="keywordtype">int</span> vd = instr-&gt;VFPDRegValue(<a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l05993"></a><span class="lineno"> 5993</span>&#160;          <span class="keywordtype">double</span> dm_value = get_double_from_d_register(vm).get_scalar();</div>
<div class="line"><a name="l05994"></a><span class="lineno"> 5994</span>&#160;          <span class="keywordtype">double</span> dd_value = 0.0;</div>
<div class="line"><a name="l05995"></a><span class="lineno"> 5995</span>&#160;          <span class="keywordtype">int</span> rounding_mode = instr-&gt;Bits(17, 16);</div>
<div class="line"><a name="l05996"></a><span class="lineno"> 5996</span>&#160;          <span class="keywordflow">switch</span> (rounding_mode) {</div>
<div class="line"><a name="l05997"></a><span class="lineno"> 5997</span>&#160;            <span class="keywordflow">case</span> 0x0:  <span class="comment">// vrinta - round with ties to away from zero</span></div>
<div class="line"><a name="l05998"></a><span class="lineno"> 5998</span>&#160;              dd_value = round(dm_value);</div>
<div class="line"><a name="l05999"></a><span class="lineno"> 5999</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06000"></a><span class="lineno"> 6000</span>&#160;            <span class="keywordflow">case</span> 0x1: {  <span class="comment">// vrintn - round with ties to even</span></div>
<div class="line"><a name="l06001"></a><span class="lineno"> 6001</span>&#160;              dd_value = nearbyint(dm_value);</div>
<div class="line"><a name="l06002"></a><span class="lineno"> 6002</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06003"></a><span class="lineno"> 6003</span>&#160;            }</div>
<div class="line"><a name="l06004"></a><span class="lineno"> 6004</span>&#160;            <span class="keywordflow">case</span> 0x2:  <span class="comment">// vrintp - ceil</span></div>
<div class="line"><a name="l06005"></a><span class="lineno"> 6005</span>&#160;              dd_value = ceil(dm_value);</div>
<div class="line"><a name="l06006"></a><span class="lineno"> 6006</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06007"></a><span class="lineno"> 6007</span>&#160;            <span class="keywordflow">case</span> 0x3:  <span class="comment">// vrintm - floor</span></div>
<div class="line"><a name="l06008"></a><span class="lineno"> 6008</span>&#160;              dd_value = floor(dm_value);</div>
<div class="line"><a name="l06009"></a><span class="lineno"> 6009</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06010"></a><span class="lineno"> 6010</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l06011"></a><span class="lineno"> 6011</span>&#160;              <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();  <span class="comment">// Case analysis is exhaustive.</span></div>
<div class="line"><a name="l06012"></a><span class="lineno"> 6012</span>&#160;          }</div>
<div class="line"><a name="l06013"></a><span class="lineno"> 6013</span>&#160;          dd_value = canonicalizeNaN(dd_value);</div>
<div class="line"><a name="l06014"></a><span class="lineno"> 6014</span>&#160;          set_d_register_from_double(vd, dd_value);</div>
<div class="line"><a name="l06015"></a><span class="lineno"> 6015</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06016"></a><span class="lineno"> 6016</span>&#160;          <span class="keywordtype">int</span> m = instr-&gt;VFPMRegValue(<a class="code" href="namespacev8_1_1internal.html#ae14e6362993db69563ab083b46626ba6">kSinglePrecision</a>);</div>
<div class="line"><a name="l06017"></a><span class="lineno"> 6017</span>&#160;          <span class="keywordtype">int</span> d = instr-&gt;VFPDRegValue(<a class="code" href="namespacev8_1_1internal.html#ae14e6362993db69563ab083b46626ba6">kSinglePrecision</a>);</div>
<div class="line"><a name="l06018"></a><span class="lineno"> 6018</span>&#160;          <span class="keywordtype">float</span> sm_value = get_float_from_s_register(m).get_scalar();</div>
<div class="line"><a name="l06019"></a><span class="lineno"> 6019</span>&#160;          <span class="keywordtype">float</span> sd_value = 0.0;</div>
<div class="line"><a name="l06020"></a><span class="lineno"> 6020</span>&#160;          <span class="keywordtype">int</span> rounding_mode = instr-&gt;Bits(17, 16);</div>
<div class="line"><a name="l06021"></a><span class="lineno"> 6021</span>&#160;          <span class="keywordflow">switch</span> (rounding_mode) {</div>
<div class="line"><a name="l06022"></a><span class="lineno"> 6022</span>&#160;            <span class="keywordflow">case</span> 0x0:  <span class="comment">// vrinta - round with ties to away from zero</span></div>
<div class="line"><a name="l06023"></a><span class="lineno"> 6023</span>&#160;              sd_value = roundf(sm_value);</div>
<div class="line"><a name="l06024"></a><span class="lineno"> 6024</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06025"></a><span class="lineno"> 6025</span>&#160;            <span class="keywordflow">case</span> 0x1: {  <span class="comment">// vrintn - round with ties to even</span></div>
<div class="line"><a name="l06026"></a><span class="lineno"> 6026</span>&#160;              sd_value = nearbyintf(sm_value);</div>
<div class="line"><a name="l06027"></a><span class="lineno"> 6027</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06028"></a><span class="lineno"> 6028</span>&#160;            }</div>
<div class="line"><a name="l06029"></a><span class="lineno"> 6029</span>&#160;            <span class="keywordflow">case</span> 0x2:  <span class="comment">// vrintp - ceil</span></div>
<div class="line"><a name="l06030"></a><span class="lineno"> 6030</span>&#160;              sd_value = ceilf(sm_value);</div>
<div class="line"><a name="l06031"></a><span class="lineno"> 6031</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06032"></a><span class="lineno"> 6032</span>&#160;            <span class="keywordflow">case</span> 0x3:  <span class="comment">// vrintm - floor</span></div>
<div class="line"><a name="l06033"></a><span class="lineno"> 6033</span>&#160;              sd_value = floorf(sm_value);</div>
<div class="line"><a name="l06034"></a><span class="lineno"> 6034</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06035"></a><span class="lineno"> 6035</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l06036"></a><span class="lineno"> 6036</span>&#160;              <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();  <span class="comment">// Case analysis is exhaustive.</span></div>
<div class="line"><a name="l06037"></a><span class="lineno"> 6037</span>&#160;          }</div>
<div class="line"><a name="l06038"></a><span class="lineno"> 6038</span>&#160;          sd_value = canonicalizeNaN(sd_value);</div>
<div class="line"><a name="l06039"></a><span class="lineno"> 6039</span>&#160;          set_s_register_from_float(d, sd_value);</div>
<div class="line"><a name="l06040"></a><span class="lineno"> 6040</span>&#160;        }</div>
<div class="line"><a name="l06041"></a><span class="lineno"> 6041</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((instr-&gt;Opc1Value() == 0x4) &amp;&amp; (instr-&gt;Bits(11, 9) == 0x5) &amp;&amp;</div>
<div class="line"><a name="l06042"></a><span class="lineno"> 6042</span>&#160;                 (instr-&gt;Bit(4) == 0x0)) {</div>
<div class="line"><a name="l06043"></a><span class="lineno"> 6043</span>&#160;        <span class="keywordflow">if</span> (instr-&gt;SzValue() == 0x1) {</div>
<div class="line"><a name="l06044"></a><span class="lineno"> 6044</span>&#160;          <span class="keywordtype">int</span> m = instr-&gt;VFPMRegValue(<a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l06045"></a><span class="lineno"> 6045</span>&#160;          <span class="keywordtype">int</span> n = instr-&gt;VFPNRegValue(<a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l06046"></a><span class="lineno"> 6046</span>&#160;          <span class="keywordtype">int</span> d = instr-&gt;VFPDRegValue(<a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l06047"></a><span class="lineno"> 6047</span>&#160;          <span class="keywordtype">double</span> dn_value = get_double_from_d_register(n).get_scalar();</div>
<div class="line"><a name="l06048"></a><span class="lineno"> 6048</span>&#160;          <span class="keywordtype">double</span> dm_value = get_double_from_d_register(m).get_scalar();</div>
<div class="line"><a name="l06049"></a><span class="lineno"> 6049</span>&#160;          <span class="keywordtype">double</span> dd_value;</div>
<div class="line"><a name="l06050"></a><span class="lineno"> 6050</span>&#160;          <span class="keywordflow">if</span> (instr-&gt;Bit(6) == 0x1) {  <span class="comment">// vminnm</span></div>
<div class="line"><a name="l06051"></a><span class="lineno"> 6051</span>&#160;            <span class="keywordflow">if</span> ((dn_value &lt; dm_value) || std::isnan(dm_value)) {</div>
<div class="line"><a name="l06052"></a><span class="lineno"> 6052</span>&#160;              dd_value = dn_value;</div>
<div class="line"><a name="l06053"></a><span class="lineno"> 6053</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((dm_value &lt; dn_value) || std::isnan(dn_value)) {</div>
<div class="line"><a name="l06054"></a><span class="lineno"> 6054</span>&#160;              dd_value = dm_value;</div>
<div class="line"><a name="l06055"></a><span class="lineno"> 6055</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06056"></a><span class="lineno"> 6056</span>&#160;              <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(dn_value, dm_value);</div>
<div class="line"><a name="l06057"></a><span class="lineno"> 6057</span>&#160;              <span class="comment">// Make sure that we pick the most negative sign for +/-0.</span></div>
<div class="line"><a name="l06058"></a><span class="lineno"> 6058</span>&#160;              dd_value = std::signbit(dn_value) ? dn_value : dm_value;</div>
<div class="line"><a name="l06059"></a><span class="lineno"> 6059</span>&#160;            }</div>
<div class="line"><a name="l06060"></a><span class="lineno"> 6060</span>&#160;          } <span class="keywordflow">else</span> {  <span class="comment">// vmaxnm</span></div>
<div class="line"><a name="l06061"></a><span class="lineno"> 6061</span>&#160;            <span class="keywordflow">if</span> ((dn_value &gt; dm_value) || std::isnan(dm_value)) {</div>
<div class="line"><a name="l06062"></a><span class="lineno"> 6062</span>&#160;              dd_value = dn_value;</div>
<div class="line"><a name="l06063"></a><span class="lineno"> 6063</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((dm_value &gt; dn_value) || std::isnan(dn_value)) {</div>
<div class="line"><a name="l06064"></a><span class="lineno"> 6064</span>&#160;              dd_value = dm_value;</div>
<div class="line"><a name="l06065"></a><span class="lineno"> 6065</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06066"></a><span class="lineno"> 6066</span>&#160;              <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(dn_value, dm_value);</div>
<div class="line"><a name="l06067"></a><span class="lineno"> 6067</span>&#160;              <span class="comment">// Make sure that we pick the most positive sign for +/-0.</span></div>
<div class="line"><a name="l06068"></a><span class="lineno"> 6068</span>&#160;              dd_value = std::signbit(dn_value) ? dm_value : dn_value;</div>
<div class="line"><a name="l06069"></a><span class="lineno"> 6069</span>&#160;            }</div>
<div class="line"><a name="l06070"></a><span class="lineno"> 6070</span>&#160;          }</div>
<div class="line"><a name="l06071"></a><span class="lineno"> 6071</span>&#160;          dd_value = canonicalizeNaN(dd_value);</div>
<div class="line"><a name="l06072"></a><span class="lineno"> 6072</span>&#160;          set_d_register_from_double(d, dd_value);</div>
<div class="line"><a name="l06073"></a><span class="lineno"> 6073</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06074"></a><span class="lineno"> 6074</span>&#160;          <span class="keywordtype">int</span> m = instr-&gt;VFPMRegValue(<a class="code" href="namespacev8_1_1internal.html#ae14e6362993db69563ab083b46626ba6">kSinglePrecision</a>);</div>
<div class="line"><a name="l06075"></a><span class="lineno"> 6075</span>&#160;          <span class="keywordtype">int</span> n = instr-&gt;VFPNRegValue(<a class="code" href="namespacev8_1_1internal.html#ae14e6362993db69563ab083b46626ba6">kSinglePrecision</a>);</div>
<div class="line"><a name="l06076"></a><span class="lineno"> 6076</span>&#160;          <span class="keywordtype">int</span> d = instr-&gt;VFPDRegValue(<a class="code" href="namespacev8_1_1internal.html#ae14e6362993db69563ab083b46626ba6">kSinglePrecision</a>);</div>
<div class="line"><a name="l06077"></a><span class="lineno"> 6077</span>&#160;          <span class="keywordtype">float</span> sn_value = get_float_from_s_register(n).get_scalar();</div>
<div class="line"><a name="l06078"></a><span class="lineno"> 6078</span>&#160;          <span class="keywordtype">float</span> sm_value = get_float_from_s_register(m).get_scalar();</div>
<div class="line"><a name="l06079"></a><span class="lineno"> 6079</span>&#160;          <span class="keywordtype">float</span> sd_value;</div>
<div class="line"><a name="l06080"></a><span class="lineno"> 6080</span>&#160;          <span class="keywordflow">if</span> (instr-&gt;Bit(6) == 0x1) {  <span class="comment">// vminnm</span></div>
<div class="line"><a name="l06081"></a><span class="lineno"> 6081</span>&#160;            <span class="keywordflow">if</span> ((sn_value &lt; sm_value) || std::isnan(sm_value)) {</div>
<div class="line"><a name="l06082"></a><span class="lineno"> 6082</span>&#160;              sd_value = sn_value;</div>
<div class="line"><a name="l06083"></a><span class="lineno"> 6083</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((sm_value &lt; sn_value) || std::isnan(sn_value)) {</div>
<div class="line"><a name="l06084"></a><span class="lineno"> 6084</span>&#160;              sd_value = sm_value;</div>
<div class="line"><a name="l06085"></a><span class="lineno"> 6085</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06086"></a><span class="lineno"> 6086</span>&#160;              <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(sn_value, sm_value);</div>
<div class="line"><a name="l06087"></a><span class="lineno"> 6087</span>&#160;              <span class="comment">// Make sure that we pick the most negative sign for +/-0.</span></div>
<div class="line"><a name="l06088"></a><span class="lineno"> 6088</span>&#160;              sd_value = std::signbit(sn_value) ? sn_value : sm_value;</div>
<div class="line"><a name="l06089"></a><span class="lineno"> 6089</span>&#160;            }</div>
<div class="line"><a name="l06090"></a><span class="lineno"> 6090</span>&#160;          } <span class="keywordflow">else</span> {  <span class="comment">// vmaxnm</span></div>
<div class="line"><a name="l06091"></a><span class="lineno"> 6091</span>&#160;            <span class="keywordflow">if</span> ((sn_value &gt; sm_value) || std::isnan(sm_value)) {</div>
<div class="line"><a name="l06092"></a><span class="lineno"> 6092</span>&#160;              sd_value = sn_value;</div>
<div class="line"><a name="l06093"></a><span class="lineno"> 6093</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((sm_value &gt; sn_value) || std::isnan(sn_value)) {</div>
<div class="line"><a name="l06094"></a><span class="lineno"> 6094</span>&#160;              sd_value = sm_value;</div>
<div class="line"><a name="l06095"></a><span class="lineno"> 6095</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06096"></a><span class="lineno"> 6096</span>&#160;              <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(sn_value, sm_value);</div>
<div class="line"><a name="l06097"></a><span class="lineno"> 6097</span>&#160;              <span class="comment">// Make sure that we pick the most positive sign for +/-0.</span></div>
<div class="line"><a name="l06098"></a><span class="lineno"> 6098</span>&#160;              sd_value = std::signbit(sn_value) ? sm_value : sn_value;</div>
<div class="line"><a name="l06099"></a><span class="lineno"> 6099</span>&#160;            }</div>
<div class="line"><a name="l06100"></a><span class="lineno"> 6100</span>&#160;          }</div>
<div class="line"><a name="l06101"></a><span class="lineno"> 6101</span>&#160;          sd_value = canonicalizeNaN(sd_value);</div>
<div class="line"><a name="l06102"></a><span class="lineno"> 6102</span>&#160;          set_s_register_from_float(d, sd_value);</div>
<div class="line"><a name="l06103"></a><span class="lineno"> 6103</span>&#160;        }</div>
<div class="line"><a name="l06104"></a><span class="lineno"> 6104</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06105"></a><span class="lineno"> 6105</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l06106"></a><span class="lineno"> 6106</span>&#160;      }</div>
<div class="line"><a name="l06107"></a><span class="lineno"> 6107</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06108"></a><span class="lineno"> 6108</span>&#160;    <span class="keywordflow">case</span> 0x1C:</div>
<div class="line"><a name="l06109"></a><span class="lineno"> 6109</span>&#160;      <span class="keywordflow">if</span> ((instr-&gt;Bits(11, 9) == 0x5) &amp;&amp; (instr-&gt;Bit(6) == 0) &amp;&amp;</div>
<div class="line"><a name="l06110"></a><span class="lineno"> 6110</span>&#160;          (instr-&gt;Bit(4) == 0)) {</div>
<div class="line"><a name="l06111"></a><span class="lineno"> 6111</span>&#160;        <span class="comment">// VSEL* (floating-point)</span></div>
<div class="line"><a name="l06112"></a><span class="lineno"> 6112</span>&#160;        <span class="keywordtype">bool</span> condition_holds;</div>
<div class="line"><a name="l06113"></a><span class="lineno"> 6113</span>&#160;        <span class="keywordflow">switch</span> (instr-&gt;Bits(21, 20)) {</div>
<div class="line"><a name="l06114"></a><span class="lineno"> 6114</span>&#160;          <span class="keywordflow">case</span> 0x0:  <span class="comment">// VSELEQ</span></div>
<div class="line"><a name="l06115"></a><span class="lineno"> 6115</span>&#160;            condition_holds = (z_flag_ == 1);</div>
<div class="line"><a name="l06116"></a><span class="lineno"> 6116</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06117"></a><span class="lineno"> 6117</span>&#160;          <span class="keywordflow">case</span> 0x1:  <span class="comment">// VSELVS</span></div>
<div class="line"><a name="l06118"></a><span class="lineno"> 6118</span>&#160;            condition_holds = (v_flag_ == 1);</div>
<div class="line"><a name="l06119"></a><span class="lineno"> 6119</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06120"></a><span class="lineno"> 6120</span>&#160;          <span class="keywordflow">case</span> 0x2:  <span class="comment">// VSELGE</span></div>
<div class="line"><a name="l06121"></a><span class="lineno"> 6121</span>&#160;            condition_holds = (n_flag_ == v_flag_);</div>
<div class="line"><a name="l06122"></a><span class="lineno"> 6122</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06123"></a><span class="lineno"> 6123</span>&#160;          <span class="keywordflow">case</span> 0x3:  <span class="comment">// VSELGT</span></div>
<div class="line"><a name="l06124"></a><span class="lineno"> 6124</span>&#160;            condition_holds = ((z_flag_ == 0) &amp;&amp; (n_flag_ == v_flag_));</div>
<div class="line"><a name="l06125"></a><span class="lineno"> 6125</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06126"></a><span class="lineno"> 6126</span>&#160;          <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l06127"></a><span class="lineno"> 6127</span>&#160;            <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();  <span class="comment">// Case analysis is exhaustive.</span></div>
<div class="line"><a name="l06128"></a><span class="lineno"> 6128</span>&#160;        }</div>
<div class="line"><a name="l06129"></a><span class="lineno"> 6129</span>&#160;        <span class="keywordflow">if</span> (instr-&gt;SzValue() == 0x1) {</div>
<div class="line"><a name="l06130"></a><span class="lineno"> 6130</span>&#160;          <span class="keywordtype">int</span> n = instr-&gt;VFPNRegValue(<a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l06131"></a><span class="lineno"> 6131</span>&#160;          <span class="keywordtype">int</span> m = instr-&gt;VFPMRegValue(<a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l06132"></a><span class="lineno"> 6132</span>&#160;          <span class="keywordtype">int</span> d = instr-&gt;VFPDRegValue(<a class="code" href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">kDoublePrecision</a>);</div>
<div class="line"><a name="l06133"></a><span class="lineno"> 6133</span>&#160;          <a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#a208899e03c80ce1b3a5e7cd180efe5da">Float64</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = get_double_from_d_register(condition_holds ? n : m);</div>
<div class="line"><a name="l06134"></a><span class="lineno"> 6134</span>&#160;          set_d_register_from_double(d, <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>);</div>
<div class="line"><a name="l06135"></a><span class="lineno"> 6135</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06136"></a><span class="lineno"> 6136</span>&#160;          <span class="keywordtype">int</span> n = instr-&gt;VFPNRegValue(<a class="code" href="namespacev8_1_1internal.html#ae14e6362993db69563ab083b46626ba6">kSinglePrecision</a>);</div>
<div class="line"><a name="l06137"></a><span class="lineno"> 6137</span>&#160;          <span class="keywordtype">int</span> m = instr-&gt;VFPMRegValue(<a class="code" href="namespacev8_1_1internal.html#ae14e6362993db69563ab083b46626ba6">kSinglePrecision</a>);</div>
<div class="line"><a name="l06138"></a><span class="lineno"> 6138</span>&#160;          <span class="keywordtype">int</span> d = instr-&gt;VFPDRegValue(<a class="code" href="namespacev8_1_1internal.html#ae14e6362993db69563ab083b46626ba6">kSinglePrecision</a>);</div>
<div class="line"><a name="l06139"></a><span class="lineno"> 6139</span>&#160;          <a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ad5febe2686d18137d814eb2eac567073">Float32</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = get_float_from_s_register(condition_holds ? n : m);</div>
<div class="line"><a name="l06140"></a><span class="lineno"> 6140</span>&#160;          set_s_register_from_float(d, <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>);</div>
<div class="line"><a name="l06141"></a><span class="lineno"> 6141</span>&#160;        }</div>
<div class="line"><a name="l06142"></a><span class="lineno"> 6142</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06143"></a><span class="lineno"> 6143</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l06144"></a><span class="lineno"> 6144</span>&#160;      }</div>
<div class="line"><a name="l06145"></a><span class="lineno"> 6145</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06146"></a><span class="lineno"> 6146</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l06147"></a><span class="lineno"> 6147</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l06148"></a><span class="lineno"> 6148</span>&#160;  }</div>
<div class="line"><a name="l06149"></a><span class="lineno"> 6149</span>&#160;}</div>
<div class="line"><a name="l06150"></a><span class="lineno"> 6150</span>&#160; </div>
<div class="line"><a name="l06151"></a><span class="lineno"> 6151</span>&#160;<span class="keywordtype">void</span> Simulator::DecodeSpecialCondition(Instruction* instr) {</div>
<div class="line"><a name="l06152"></a><span class="lineno"> 6152</span>&#160;  <span class="keywordtype">int</span> op0 = instr-&gt;Bits(25, 24);</div>
<div class="line"><a name="l06153"></a><span class="lineno"> 6153</span>&#160;  <span class="keywordtype">int</span> op1 = instr-&gt;Bits(11, 9);</div>
<div class="line"><a name="l06154"></a><span class="lineno"> 6154</span>&#160;  <span class="keywordtype">int</span> op2 = instr-&gt;Bit(4);</div>
<div class="line"><a name="l06155"></a><span class="lineno"> 6155</span>&#160; </div>
<div class="line"><a name="l06156"></a><span class="lineno"> 6156</span>&#160;  <span class="keywordflow">if</span> (instr-&gt;Bit(27) == 0) {</div>
<div class="line"><a name="l06157"></a><span class="lineno"> 6157</span>&#160;    DecodeUnconditional(instr);</div>
<div class="line"><a name="l06158"></a><span class="lineno"> 6158</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((instr-&gt;Bits(27, 26) == 0b11) &amp;&amp; (op0 == 0b10) &amp;&amp;</div>
<div class="line"><a name="l06159"></a><span class="lineno"> 6159</span>&#160;             ((op1 &gt;&gt; 1) == 0b10) &amp;&amp; !op2) {</div>
<div class="line"><a name="l06160"></a><span class="lineno"> 6160</span>&#160;    DecodeFloatingPointDataProcessing(instr);</div>
<div class="line"><a name="l06161"></a><span class="lineno"> 6161</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06162"></a><span class="lineno"> 6162</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l06163"></a><span class="lineno"> 6163</span>&#160;  }</div>
<div class="line"><a name="l06164"></a><span class="lineno"> 6164</span>&#160;}</div>
<div class="line"><a name="l06165"></a><span class="lineno"> 6165</span>&#160; </div>
<div class="line"><a name="l06166"></a><span class="lineno"> 6166</span>&#160;<span class="comment">// Executes the current instruction.</span></div>
<div class="line"><a name="l06167"></a><span class="lineno"> 6167</span>&#160;<span class="keywordtype">void</span> Simulator::InstructionDecode(Instruction* instr) {</div>
<div class="line"><a name="l06168"></a><span class="lineno"> 6168</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.check_icache) {</div>
<div class="line"><a name="l06169"></a><span class="lineno"> 6169</span>&#160;    CheckICache(i_cache(), instr);</div>
<div class="line"><a name="l06170"></a><span class="lineno"> 6170</span>&#160;  }</div>
<div class="line"><a name="l06171"></a><span class="lineno"> 6171</span>&#160;  pc_modified_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06172"></a><span class="lineno"> 6172</span>&#160;  <span class="keywordflow">if</span> (InstructionTracingEnabled()) {</div>
<div class="line"><a name="l06173"></a><span class="lineno"> 6173</span>&#160;    <a class="code" href="classdisasm_1_1NameConverter.html">disasm::NameConverter</a> converter;</div>
<div class="line"><a name="l06174"></a><span class="lineno"> 6174</span>&#160;    <a class="code" href="classdisasm_1_1Disassembler.html">disasm::Disassembler</a> dasm(converter);</div>
<div class="line"><a name="l06175"></a><span class="lineno"> 6175</span>&#160;    <span class="comment">// use a reasonably large buffer</span></div>
<div class="line"><a name="l06176"></a><span class="lineno"> 6176</span>&#160;    <a class="code" href="classv8_1_1base_1_1EmbeddedVector.html">v8::base::EmbeddedVector&lt;char, 256&gt;</a> buffer;</div>
<div class="line"><a name="l06177"></a><span class="lineno"> 6177</span>&#160;    dasm.InstructionDecode(buffer, <span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(instr));</div>
<div class="line"><a name="l06178"></a><span class="lineno"> 6178</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;  0x%08&quot;</span> <a class="code" href="src_2base_2macros_8h.html#adafd98459092322383b0f5ebcc7c342f">V8PRIxPTR</a> <span class="stringliteral">&quot;  %s\n&quot;</span>, <span class="keyword">reinterpret_cast&lt;</span>intptr_t<span class="keyword">&gt;</span>(instr),</div>
<div class="line"><a name="l06179"></a><span class="lineno"> 6179</span>&#160;           buffer.<a class="code" href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">begin</a>());</div>
<div class="line"><a name="l06180"></a><span class="lineno"> 6180</span>&#160;  }</div>
<div class="line"><a name="l06181"></a><span class="lineno"> 6181</span>&#160;  <span class="keywordflow">if</span> (instr-&gt;ConditionField() == <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a9e44b6ecb793a2111361fdc222293eaa">kSpecialCondition</a>) {</div>
<div class="line"><a name="l06182"></a><span class="lineno"> 6182</span>&#160;    DecodeSpecialCondition(instr);</div>
<div class="line"><a name="l06183"></a><span class="lineno"> 6183</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ConditionallyExecute(instr)) {</div>
<div class="line"><a name="l06184"></a><span class="lineno"> 6184</span>&#160;    <span class="keywordflow">switch</span> (instr-&gt;TypeValue()) {</div>
<div class="line"><a name="l06185"></a><span class="lineno"> 6185</span>&#160;      <span class="keywordflow">case</span> 0:</div>
<div class="line"><a name="l06186"></a><span class="lineno"> 6186</span>&#160;      <span class="keywordflow">case</span> 1: {</div>
<div class="line"><a name="l06187"></a><span class="lineno"> 6187</span>&#160;        DecodeType01(instr);</div>
<div class="line"><a name="l06188"></a><span class="lineno"> 6188</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06189"></a><span class="lineno"> 6189</span>&#160;      }</div>
<div class="line"><a name="l06190"></a><span class="lineno"> 6190</span>&#160;      <span class="keywordflow">case</span> 2: {</div>
<div class="line"><a name="l06191"></a><span class="lineno"> 6191</span>&#160;        DecodeType2(instr);</div>
<div class="line"><a name="l06192"></a><span class="lineno"> 6192</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06193"></a><span class="lineno"> 6193</span>&#160;      }</div>
<div class="line"><a name="l06194"></a><span class="lineno"> 6194</span>&#160;      <span class="keywordflow">case</span> 3: {</div>
<div class="line"><a name="l06195"></a><span class="lineno"> 6195</span>&#160;        DecodeType3(instr);</div>
<div class="line"><a name="l06196"></a><span class="lineno"> 6196</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06197"></a><span class="lineno"> 6197</span>&#160;      }</div>
<div class="line"><a name="l06198"></a><span class="lineno"> 6198</span>&#160;      <span class="keywordflow">case</span> 4: {</div>
<div class="line"><a name="l06199"></a><span class="lineno"> 6199</span>&#160;        DecodeType4(instr);</div>
<div class="line"><a name="l06200"></a><span class="lineno"> 6200</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06201"></a><span class="lineno"> 6201</span>&#160;      }</div>
<div class="line"><a name="l06202"></a><span class="lineno"> 6202</span>&#160;      <span class="keywordflow">case</span> 5: {</div>
<div class="line"><a name="l06203"></a><span class="lineno"> 6203</span>&#160;        DecodeType5(instr);</div>
<div class="line"><a name="l06204"></a><span class="lineno"> 6204</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06205"></a><span class="lineno"> 6205</span>&#160;      }</div>
<div class="line"><a name="l06206"></a><span class="lineno"> 6206</span>&#160;      <span class="keywordflow">case</span> 6: {</div>
<div class="line"><a name="l06207"></a><span class="lineno"> 6207</span>&#160;        DecodeType6(instr);</div>
<div class="line"><a name="l06208"></a><span class="lineno"> 6208</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06209"></a><span class="lineno"> 6209</span>&#160;      }</div>
<div class="line"><a name="l06210"></a><span class="lineno"> 6210</span>&#160;      <span class="keywordflow">case</span> 7: {</div>
<div class="line"><a name="l06211"></a><span class="lineno"> 6211</span>&#160;        DecodeType7(instr);</div>
<div class="line"><a name="l06212"></a><span class="lineno"> 6212</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06213"></a><span class="lineno"> 6213</span>&#160;      }</div>
<div class="line"><a name="l06214"></a><span class="lineno"> 6214</span>&#160;      <span class="keywordflow">default</span>: {</div>
<div class="line"><a name="l06215"></a><span class="lineno"> 6215</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l06216"></a><span class="lineno"> 6216</span>&#160;      }</div>
<div class="line"><a name="l06217"></a><span class="lineno"> 6217</span>&#160;    }</div>
<div class="line"><a name="l06218"></a><span class="lineno"> 6218</span>&#160;  }</div>
<div class="line"><a name="l06219"></a><span class="lineno"> 6219</span>&#160;  <span class="keywordflow">if</span> (!pc_modified_) {</div>
<div class="line"><a name="l06220"></a><span class="lineno"> 6220</span>&#160;    set_register(pc, <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a><span class="keyword">&gt;</span>(instr) + <a class="code" href="namespacev8_1_1internal.html#ac915558733f2fceaec1860dd81c6df7f">kInstrSize</a>);</div>
<div class="line"><a name="l06221"></a><span class="lineno"> 6221</span>&#160;  }</div>
<div class="line"><a name="l06222"></a><span class="lineno"> 6222</span>&#160;}</div>
<div class="line"><a name="l06223"></a><span class="lineno"> 6223</span>&#160; </div>
<div class="line"><a name="l06224"></a><span class="lineno"> 6224</span>&#160;<span class="keywordtype">void</span> Simulator::Execute() {</div>
<div class="line"><a name="l06225"></a><span class="lineno"> 6225</span>&#160;  <span class="comment">// Get the PC to simulate. Cannot use the accessor here as we need the</span></div>
<div class="line"><a name="l06226"></a><span class="lineno"> 6226</span>&#160;  <span class="comment">// raw PC value and not the one used as input to arithmetic instructions.</span></div>
<div class="line"><a name="l06227"></a><span class="lineno"> 6227</span>&#160;  <span class="keywordtype">int</span> program_counter = get_pc();</div>
<div class="line"><a name="l06228"></a><span class="lineno"> 6228</span>&#160; </div>
<div class="line"><a name="l06229"></a><span class="lineno"> 6229</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.stop_sim_at == 0) {</div>
<div class="line"><a name="l06230"></a><span class="lineno"> 6230</span>&#160;    <span class="comment">// Fast version of the dispatch loop without checking whether the simulator</span></div>
<div class="line"><a name="l06231"></a><span class="lineno"> 6231</span>&#160;    <span class="comment">// should be stopping at a particular executed instruction.</span></div>
<div class="line"><a name="l06232"></a><span class="lineno"> 6232</span>&#160;    <span class="keywordflow">while</span> (program_counter != end_sim_pc) {</div>
<div class="line"><a name="l06233"></a><span class="lineno"> 6233</span>&#160;      Instruction* instr = <span class="keyword">reinterpret_cast&lt;</span>Instruction*<span class="keyword">&gt;</span>(program_counter);</div>
<div class="line"><a name="l06234"></a><span class="lineno"> 6234</span>&#160;      icount_ = base::AddWithWraparound(icount_, 1);</div>
<div class="line"><a name="l06235"></a><span class="lineno"> 6235</span>&#160;      InstructionDecode(instr);</div>
<div class="line"><a name="l06236"></a><span class="lineno"> 6236</span>&#160;      program_counter = get_pc();</div>
<div class="line"><a name="l06237"></a><span class="lineno"> 6237</span>&#160;    }</div>
<div class="line"><a name="l06238"></a><span class="lineno"> 6238</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06239"></a><span class="lineno"> 6239</span>&#160;    <span class="comment">// v8_flags.stop_sim_at is at the non-default value. Stop in the debugger</span></div>
<div class="line"><a name="l06240"></a><span class="lineno"> 6240</span>&#160;    <span class="comment">// when we reach the particular instruction count.</span></div>
<div class="line"><a name="l06241"></a><span class="lineno"> 6241</span>&#160;    <span class="keywordflow">while</span> (program_counter != end_sim_pc) {</div>
<div class="line"><a name="l06242"></a><span class="lineno"> 6242</span>&#160;      Instruction* instr = <span class="keyword">reinterpret_cast&lt;</span>Instruction*<span class="keyword">&gt;</span>(program_counter);</div>
<div class="line"><a name="l06243"></a><span class="lineno"> 6243</span>&#160;      icount_ = base::AddWithWraparound(icount_, 1);</div>
<div class="line"><a name="l06244"></a><span class="lineno"> 6244</span>&#160;      <span class="keywordflow">if</span> (icount_ == <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.stop_sim_at) {</div>
<div class="line"><a name="l06245"></a><span class="lineno"> 6245</span>&#160;        ArmDebugger dbg(<span class="keyword">this</span>);</div>
<div class="line"><a name="l06246"></a><span class="lineno"> 6246</span>&#160;        dbg.Debug();</div>
<div class="line"><a name="l06247"></a><span class="lineno"> 6247</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06248"></a><span class="lineno"> 6248</span>&#160;        InstructionDecode(instr);</div>
<div class="line"><a name="l06249"></a><span class="lineno"> 6249</span>&#160;      }</div>
<div class="line"><a name="l06250"></a><span class="lineno"> 6250</span>&#160;      program_counter = get_pc();</div>
<div class="line"><a name="l06251"></a><span class="lineno"> 6251</span>&#160;    }</div>
<div class="line"><a name="l06252"></a><span class="lineno"> 6252</span>&#160;  }</div>
<div class="line"><a name="l06253"></a><span class="lineno"> 6253</span>&#160;}</div>
<div class="line"><a name="l06254"></a><span class="lineno"> 6254</span>&#160; </div>
<div class="line"><a name="l06255"></a><span class="lineno"> 6255</span>&#160;<span class="keywordtype">void</span> Simulator::CallInternal(<a class="code" href="namespacev8_1_1base.html#aed4219b45684a3840c8b930b5df90ea9">Address</a> entry) {</div>
<div class="line"><a name="l06256"></a><span class="lineno"> 6256</span>&#160;  <span class="comment">// Adjust JS-based stack limit to C-based stack limit.</span></div>
<div class="line"><a name="l06257"></a><span class="lineno"> 6257</span>&#160;  isolate_-&gt;stack_guard()-&gt;AdjustStackLimitForSimulator();</div>
<div class="line"><a name="l06258"></a><span class="lineno"> 6258</span>&#160; </div>
<div class="line"><a name="l06259"></a><span class="lineno"> 6259</span>&#160;  <span class="comment">// Prepare to execute the code at entry</span></div>
<div class="line"><a name="l06260"></a><span class="lineno"> 6260</span>&#160;  set_register(pc, <span class="keyword">static_cast&lt;</span><a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a><span class="keyword">&gt;</span>(entry));</div>
<div class="line"><a name="l06261"></a><span class="lineno"> 6261</span>&#160;  <span class="comment">// Put down marker for end of simulation. The simulator will stop simulation</span></div>
<div class="line"><a name="l06262"></a><span class="lineno"> 6262</span>&#160;  <span class="comment">// when the PC reaches this value. By saving the &quot;end simulation&quot; value into</span></div>
<div class="line"><a name="l06263"></a><span class="lineno"> 6263</span>&#160;  <span class="comment">// the LR the simulation stops when returning to this call point.</span></div>
<div class="line"><a name="l06264"></a><span class="lineno"> 6264</span>&#160;  set_register(lr, end_sim_pc);</div>
<div class="line"><a name="l06265"></a><span class="lineno"> 6265</span>&#160; </div>
<div class="line"><a name="l06266"></a><span class="lineno"> 6266</span>&#160;  <span class="comment">// Remember the values of callee-saved registers.</span></div>
<div class="line"><a name="l06267"></a><span class="lineno"> 6267</span>&#160;  <span class="comment">// The code below assumes that r9 is not used as sb (static base) in</span></div>
<div class="line"><a name="l06268"></a><span class="lineno"> 6268</span>&#160;  <span class="comment">// simulator code and therefore is regarded as a callee-saved register.</span></div>
<div class="line"><a name="l06269"></a><span class="lineno"> 6269</span>&#160;  <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> r4_val = get_register(r4);</div>
<div class="line"><a name="l06270"></a><span class="lineno"> 6270</span>&#160;  <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> r5_val = get_register(r5);</div>
<div class="line"><a name="l06271"></a><span class="lineno"> 6271</span>&#160;  <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> r6_val = get_register(r6);</div>
<div class="line"><a name="l06272"></a><span class="lineno"> 6272</span>&#160;  <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> r7_val = get_register(r7);</div>
<div class="line"><a name="l06273"></a><span class="lineno"> 6273</span>&#160;  <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> r8_val = get_register(r8);</div>
<div class="line"><a name="l06274"></a><span class="lineno"> 6274</span>&#160;  <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> r9_val = get_register(r9);</div>
<div class="line"><a name="l06275"></a><span class="lineno"> 6275</span>&#160;  <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> r10_val = get_register(r10);</div>
<div class="line"><a name="l06276"></a><span class="lineno"> 6276</span>&#160;  <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> r11_val = get_register(<a class="code" href="namespacev8_1_1internal.html#ab9a366b114762fc880a39cf87d6ad94b">r11</a>);</div>
<div class="line"><a name="l06277"></a><span class="lineno"> 6277</span>&#160; </div>
<div class="line"><a name="l06278"></a><span class="lineno"> 6278</span>&#160;  <span class="comment">// Set up the callee-saved registers with a known value. To be able to check</span></div>
<div class="line"><a name="l06279"></a><span class="lineno"> 6279</span>&#160;  <span class="comment">// that they are preserved properly across JS execution.</span></div>
<div class="line"><a name="l06280"></a><span class="lineno"> 6280</span>&#160;  <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> callee_saved_value = icount_;</div>
<div class="line"><a name="l06281"></a><span class="lineno"> 6281</span>&#160;  set_register(r4, callee_saved_value);</div>
<div class="line"><a name="l06282"></a><span class="lineno"> 6282</span>&#160;  set_register(r5, callee_saved_value);</div>
<div class="line"><a name="l06283"></a><span class="lineno"> 6283</span>&#160;  set_register(r6, callee_saved_value);</div>
<div class="line"><a name="l06284"></a><span class="lineno"> 6284</span>&#160;  set_register(r7, callee_saved_value);</div>
<div class="line"><a name="l06285"></a><span class="lineno"> 6285</span>&#160;  set_register(r8, callee_saved_value);</div>
<div class="line"><a name="l06286"></a><span class="lineno"> 6286</span>&#160;  set_register(r9, callee_saved_value);</div>
<div class="line"><a name="l06287"></a><span class="lineno"> 6287</span>&#160;  set_register(r10, callee_saved_value);</div>
<div class="line"><a name="l06288"></a><span class="lineno"> 6288</span>&#160;  set_register(<a class="code" href="namespacev8_1_1internal.html#ab9a366b114762fc880a39cf87d6ad94b">r11</a>, callee_saved_value);</div>
<div class="line"><a name="l06289"></a><span class="lineno"> 6289</span>&#160; </div>
<div class="line"><a name="l06290"></a><span class="lineno"> 6290</span>&#160;  <span class="comment">// Start the simulation</span></div>
<div class="line"><a name="l06291"></a><span class="lineno"> 6291</span>&#160;  Execute();</div>
<div class="line"><a name="l06292"></a><span class="lineno"> 6292</span>&#160; </div>
<div class="line"><a name="l06293"></a><span class="lineno"> 6293</span>&#160;  <span class="comment">// Check that the callee-saved registers have been preserved.</span></div>
<div class="line"><a name="l06294"></a><span class="lineno"> 6294</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(callee_saved_value, get_register(r4));</div>
<div class="line"><a name="l06295"></a><span class="lineno"> 6295</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(callee_saved_value, get_register(r5));</div>
<div class="line"><a name="l06296"></a><span class="lineno"> 6296</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(callee_saved_value, get_register(r6));</div>
<div class="line"><a name="l06297"></a><span class="lineno"> 6297</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(callee_saved_value, get_register(r7));</div>
<div class="line"><a name="l06298"></a><span class="lineno"> 6298</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(callee_saved_value, get_register(r8));</div>
<div class="line"><a name="l06299"></a><span class="lineno"> 6299</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(callee_saved_value, get_register(r9));</div>
<div class="line"><a name="l06300"></a><span class="lineno"> 6300</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(callee_saved_value, get_register(r10));</div>
<div class="line"><a name="l06301"></a><span class="lineno"> 6301</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(callee_saved_value, get_register(<a class="code" href="namespacev8_1_1internal.html#ab9a366b114762fc880a39cf87d6ad94b">r11</a>));</div>
<div class="line"><a name="l06302"></a><span class="lineno"> 6302</span>&#160; </div>
<div class="line"><a name="l06303"></a><span class="lineno"> 6303</span>&#160;  <span class="comment">// Restore callee-saved registers with the original value.</span></div>
<div class="line"><a name="l06304"></a><span class="lineno"> 6304</span>&#160;  set_register(r4, r4_val);</div>
<div class="line"><a name="l06305"></a><span class="lineno"> 6305</span>&#160;  set_register(r5, r5_val);</div>
<div class="line"><a name="l06306"></a><span class="lineno"> 6306</span>&#160;  set_register(r6, r6_val);</div>
<div class="line"><a name="l06307"></a><span class="lineno"> 6307</span>&#160;  set_register(r7, r7_val);</div>
<div class="line"><a name="l06308"></a><span class="lineno"> 6308</span>&#160;  set_register(r8, r8_val);</div>
<div class="line"><a name="l06309"></a><span class="lineno"> 6309</span>&#160;  set_register(r9, r9_val);</div>
<div class="line"><a name="l06310"></a><span class="lineno"> 6310</span>&#160;  set_register(r10, r10_val);</div>
<div class="line"><a name="l06311"></a><span class="lineno"> 6311</span>&#160;  set_register(<a class="code" href="namespacev8_1_1internal.html#ab9a366b114762fc880a39cf87d6ad94b">r11</a>, r11_val);</div>
<div class="line"><a name="l06312"></a><span class="lineno"> 6312</span>&#160;}</div>
<div class="line"><a name="l06313"></a><span class="lineno"> 6313</span>&#160; </div>
<div class="line"><a name="l06314"></a><span class="lineno"> 6314</span>&#160;intptr_t Simulator::CallImpl(<a class="code" href="namespacev8_1_1base.html#aed4219b45684a3840c8b930b5df90ea9">Address</a> entry, <span class="keywordtype">int</span> argument_count,</div>
<div class="line"><a name="l06315"></a><span class="lineno"> 6315</span>&#160;                             <span class="keyword">const</span> intptr_t* arguments) {</div>
<div class="line"><a name="l06316"></a><span class="lineno"> 6316</span>&#160;  <span class="comment">// Set up arguments</span></div>
<div class="line"><a name="l06317"></a><span class="lineno"> 6317</span>&#160; </div>
<div class="line"><a name="l06318"></a><span class="lineno"> 6318</span>&#160;  <span class="comment">// First four arguments passed in registers.</span></div>
<div class="line"><a name="l06319"></a><span class="lineno"> 6319</span>&#160;  <span class="keywordtype">int</span> reg_arg_count = std::min(4, argument_count);</div>
<div class="line"><a name="l06320"></a><span class="lineno"> 6320</span>&#160;  <span class="keywordflow">if</span> (reg_arg_count &gt; 0) set_register(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a5e6d54ab8913c91a8b9c7cb23d23b241">r0</a>, arguments[0]);</div>
<div class="line"><a name="l06321"></a><span class="lineno"> 6321</span>&#160;  <span class="keywordflow">if</span> (reg_arg_count &gt; 1) set_register(r1, arguments[1]);</div>
<div class="line"><a name="l06322"></a><span class="lineno"> 6322</span>&#160;  <span class="keywordflow">if</span> (reg_arg_count &gt; 2) set_register(r2, arguments[2]);</div>
<div class="line"><a name="l06323"></a><span class="lineno"> 6323</span>&#160;  <span class="keywordflow">if</span> (reg_arg_count &gt; 3) set_register(r3, arguments[3]);</div>
<div class="line"><a name="l06324"></a><span class="lineno"> 6324</span>&#160; </div>
<div class="line"><a name="l06325"></a><span class="lineno"> 6325</span>&#160;  <span class="comment">// Remaining arguments passed on stack.</span></div>
<div class="line"><a name="l06326"></a><span class="lineno"> 6326</span>&#160;  <span class="keywordtype">int</span> original_stack = get_register(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#acb72381f9ca78a1b2f55c6946e319a0f">sp</a>);</div>
<div class="line"><a name="l06327"></a><span class="lineno"> 6327</span>&#160;  <span class="comment">// Compute position of stack on entry to generated code.</span></div>
<div class="line"><a name="l06328"></a><span class="lineno"> 6328</span>&#160;  <span class="keywordtype">int</span> entry_stack = (original_stack - (argument_count - 4) * <span class="keyword">sizeof</span>(<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a>));</div>
<div class="line"><a name="l06329"></a><span class="lineno"> 6329</span>&#160;  <span class="keywordflow">if</span> (base::OS::ActivationFrameAlignment() != 0) {</div>
<div class="line"><a name="l06330"></a><span class="lineno"> 6330</span>&#160;    entry_stack &amp;= -base::OS::ActivationFrameAlignment();</div>
<div class="line"><a name="l06331"></a><span class="lineno"> 6331</span>&#160;  }</div>
<div class="line"><a name="l06332"></a><span class="lineno"> 6332</span>&#160;  <span class="comment">// Store remaining arguments on stack, from low to high memory.</span></div>
<div class="line"><a name="l06333"></a><span class="lineno"> 6333</span>&#160;  memcpy(<span class="keyword">reinterpret_cast&lt;</span>intptr_t*<span class="keyword">&gt;</span>(entry_stack), arguments + reg_arg_count,</div>
<div class="line"><a name="l06334"></a><span class="lineno"> 6334</span>&#160;         (argument_count - reg_arg_count) * <span class="keyword">sizeof</span>(*arguments));</div>
<div class="line"><a name="l06335"></a><span class="lineno"> 6335</span>&#160;  set_register(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#acb72381f9ca78a1b2f55c6946e319a0f">sp</a>, entry_stack);</div>
<div class="line"><a name="l06336"></a><span class="lineno"> 6336</span>&#160; </div>
<div class="line"><a name="l06337"></a><span class="lineno"> 6337</span>&#160;  CallInternal(entry);</div>
<div class="line"><a name="l06338"></a><span class="lineno"> 6338</span>&#160; </div>
<div class="line"><a name="l06339"></a><span class="lineno"> 6339</span>&#160;  <span class="comment">// Pop stack passed arguments.</span></div>
<div class="line"><a name="l06340"></a><span class="lineno"> 6340</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(entry_stack, get_register(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#acb72381f9ca78a1b2f55c6946e319a0f">sp</a>));</div>
<div class="line"><a name="l06341"></a><span class="lineno"> 6341</span>&#160;  set_register(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#acb72381f9ca78a1b2f55c6946e319a0f">sp</a>, original_stack);</div>
<div class="line"><a name="l06342"></a><span class="lineno"> 6342</span>&#160; </div>
<div class="line"><a name="l06343"></a><span class="lineno"> 6343</span>&#160;  <span class="keywordflow">return</span> get_register(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a5e6d54ab8913c91a8b9c7cb23d23b241">r0</a>);</div>
<div class="line"><a name="l06344"></a><span class="lineno"> 6344</span>&#160;}</div>
<div class="line"><a name="l06345"></a><span class="lineno"> 6345</span>&#160; </div>
<div class="line"><a name="l06346"></a><span class="lineno"> 6346</span>&#160;intptr_t Simulator::CallFPImpl(<a class="code" href="namespacev8_1_1base.html#aed4219b45684a3840c8b930b5df90ea9">Address</a> entry, <span class="keywordtype">double</span> d0, <span class="keywordtype">double</span> d1) {</div>
<div class="line"><a name="l06347"></a><span class="lineno"> 6347</span>&#160;  <span class="keywordflow">if</span> (use_eabi_hardfloat()) {</div>
<div class="line"><a name="l06348"></a><span class="lineno"> 6348</span>&#160;    set_d_register_from_double(0, d0);</div>
<div class="line"><a name="l06349"></a><span class="lineno"> 6349</span>&#160;    set_d_register_from_double(1, d1);</div>
<div class="line"><a name="l06350"></a><span class="lineno"> 6350</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06351"></a><span class="lineno"> 6351</span>&#160;    set_register_pair_from_double(0, &amp;d0);</div>
<div class="line"><a name="l06352"></a><span class="lineno"> 6352</span>&#160;    set_register_pair_from_double(2, &amp;d1);</div>
<div class="line"><a name="l06353"></a><span class="lineno"> 6353</span>&#160;  }</div>
<div class="line"><a name="l06354"></a><span class="lineno"> 6354</span>&#160;  CallInternal(entry);</div>
<div class="line"><a name="l06355"></a><span class="lineno"> 6355</span>&#160;  <span class="keywordflow">return</span> get_register(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a5e6d54ab8913c91a8b9c7cb23d23b241">r0</a>);</div>
<div class="line"><a name="l06356"></a><span class="lineno"> 6356</span>&#160;}</div>
<div class="line"><a name="l06357"></a><span class="lineno"> 6357</span>&#160; </div>
<div class="line"><a name="l06358"></a><span class="lineno"> 6358</span>&#160;<a class="code" href="classuintptr__t.html">uintptr_t</a> Simulator::PushAddress(<a class="code" href="classuintptr__t.html">uintptr_t</a> address) {</div>
<div class="line"><a name="l06359"></a><span class="lineno"> 6359</span>&#160;  <span class="keywordtype">int</span> new_sp = get_register(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#acb72381f9ca78a1b2f55c6946e319a0f">sp</a>) - <span class="keyword">sizeof</span>(<a class="code" href="classuintptr__t.html">uintptr_t</a>);</div>
<div class="line"><a name="l06360"></a><span class="lineno"> 6360</span>&#160;  <a class="code" href="classuintptr__t.html">uintptr_t</a>* stack_slot = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classuintptr__t.html">uintptr_t</a>*<span class="keyword">&gt;</span>(new_sp);</div>
<div class="line"><a name="l06361"></a><span class="lineno"> 6361</span>&#160;  *stack_slot = address;</div>
<div class="line"><a name="l06362"></a><span class="lineno"> 6362</span>&#160;  set_register(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#acb72381f9ca78a1b2f55c6946e319a0f">sp</a>, new_sp);</div>
<div class="line"><a name="l06363"></a><span class="lineno"> 6363</span>&#160;  <span class="keywordflow">return</span> new_sp;</div>
<div class="line"><a name="l06364"></a><span class="lineno"> 6364</span>&#160;}</div>
<div class="line"><a name="l06365"></a><span class="lineno"> 6365</span>&#160; </div>
<div class="line"><a name="l06366"></a><span class="lineno"> 6366</span>&#160;<a class="code" href="classuintptr__t.html">uintptr_t</a> Simulator::PopAddress() {</div>
<div class="line"><a name="l06367"></a><span class="lineno"> 6367</span>&#160;  <span class="keywordtype">int</span> current_sp = get_register(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#acb72381f9ca78a1b2f55c6946e319a0f">sp</a>);</div>
<div class="line"><a name="l06368"></a><span class="lineno"> 6368</span>&#160;  <a class="code" href="classuintptr__t.html">uintptr_t</a>* stack_slot = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classuintptr__t.html">uintptr_t</a>*<span class="keyword">&gt;</span>(current_sp);</div>
<div class="line"><a name="l06369"></a><span class="lineno"> 6369</span>&#160;  <a class="code" href="classuintptr__t.html">uintptr_t</a> address = *stack_slot;</div>
<div class="line"><a name="l06370"></a><span class="lineno"> 6370</span>&#160;  set_register(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#acb72381f9ca78a1b2f55c6946e319a0f">sp</a>, current_sp + <span class="keyword">sizeof</span>(<a class="code" href="classuintptr__t.html">uintptr_t</a>));</div>
<div class="line"><a name="l06371"></a><span class="lineno"> 6371</span>&#160;  <span class="keywordflow">return</span> address;</div>
<div class="line"><a name="l06372"></a><span class="lineno"> 6372</span>&#160;}</div>
<div class="line"><a name="l06373"></a><span class="lineno"> 6373</span>&#160; </div>
<div class="line"><a name="l06374"></a><span class="lineno"> 6374</span>&#160;Simulator::LocalMonitor::LocalMonitor()</div>
<div class="line"><a name="l06375"></a><span class="lineno"> 6375</span>&#160;    : access_state_(MonitorAccess::Open),</div>
<div class="line"><a name="l06376"></a><span class="lineno"> 6376</span>&#160;      tagged_addr_(0),</div>
<div class="line"><a name="l06377"></a><span class="lineno"> 6377</span>&#160;      size_(TransactionSize::<a class="code" href="namespacev8.html#a05f25f935e108a1ea2d150e274602b87a7ab4d58719c33b3ea2dfaefa29b111df">None</a>) {}</div>
<div class="line"><a name="l06378"></a><span class="lineno"> 6378</span>&#160; </div>
<div class="line"><a name="l06379"></a><span class="lineno"> 6379</span>&#160;<span class="keywordtype">void</span> Simulator::LocalMonitor::Clear() {</div>
<div class="line"><a name="l06380"></a><span class="lineno"> 6380</span>&#160;  access_state_ = MonitorAccess::Open;</div>
<div class="line"><a name="l06381"></a><span class="lineno"> 6381</span>&#160;  tagged_addr_ = 0;</div>
<div class="line"><a name="l06382"></a><span class="lineno"> 6382</span>&#160;  size_ = <a class="code" href="namespacev8.html#a05f25f935e108a1ea2d150e274602b87a7ab4d58719c33b3ea2dfaefa29b111df">TransactionSize::None</a>;</div>
<div class="line"><a name="l06383"></a><span class="lineno"> 6383</span>&#160;}</div>
<div class="line"><a name="l06384"></a><span class="lineno"> 6384</span>&#160; </div>
<div class="line"><a name="l06385"></a><span class="lineno"> 6385</span>&#160;<span class="keywordtype">void</span> Simulator::LocalMonitor::NotifyLoad(<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> addr) {</div>
<div class="line"><a name="l06386"></a><span class="lineno"> 6386</span>&#160;  <span class="keywordflow">if</span> (access_state_ == MonitorAccess::Exclusive) {</div>
<div class="line"><a name="l06387"></a><span class="lineno"> 6387</span>&#160;    <span class="comment">// A load could cause a cache eviction which will affect the monitor. As a</span></div>
<div class="line"><a name="l06388"></a><span class="lineno"> 6388</span>&#160;    <span class="comment">// result, it&#39;s most strict to unconditionally clear the local monitor on</span></div>
<div class="line"><a name="l06389"></a><span class="lineno"> 6389</span>&#160;    <span class="comment">// load.</span></div>
<div class="line"><a name="l06390"></a><span class="lineno"> 6390</span>&#160;    Clear();</div>
<div class="line"><a name="l06391"></a><span class="lineno"> 6391</span>&#160;  }</div>
<div class="line"><a name="l06392"></a><span class="lineno"> 6392</span>&#160;}</div>
<div class="line"><a name="l06393"></a><span class="lineno"> 6393</span>&#160; </div>
<div class="line"><a name="l06394"></a><span class="lineno"> 6394</span>&#160;<span class="keywordtype">void</span> Simulator::LocalMonitor::NotifyLoadExcl(<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> addr,</div>
<div class="line"><a name="l06395"></a><span class="lineno"> 6395</span>&#160;                                             TransactionSize <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l06396"></a><span class="lineno"> 6396</span>&#160;  access_state_ = MonitorAccess::Exclusive;</div>
<div class="line"><a name="l06397"></a><span class="lineno"> 6397</span>&#160;  tagged_addr_ = addr;</div>
<div class="line"><a name="l06398"></a><span class="lineno"> 6398</span>&#160;  size_ = <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>;</div>
<div class="line"><a name="l06399"></a><span class="lineno"> 6399</span>&#160;}</div>
<div class="line"><a name="l06400"></a><span class="lineno"> 6400</span>&#160; </div>
<div class="line"><a name="l06401"></a><span class="lineno"> 6401</span>&#160;<span class="keywordtype">void</span> Simulator::LocalMonitor::NotifyStore(<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> addr) {</div>
<div class="line"><a name="l06402"></a><span class="lineno"> 6402</span>&#160;  <span class="keywordflow">if</span> (access_state_ == MonitorAccess::Exclusive) {</div>
<div class="line"><a name="l06403"></a><span class="lineno"> 6403</span>&#160;    <span class="comment">// It is implementation-defined whether a non-exclusive store to an address</span></div>
<div class="line"><a name="l06404"></a><span class="lineno"> 6404</span>&#160;    <span class="comment">// covered by the local monitor during exclusive access transitions to open</span></div>
<div class="line"><a name="l06405"></a><span class="lineno"> 6405</span>&#160;    <span class="comment">// or exclusive access. See ARM DDI 0406C.b, A3.4.1.</span></div>
<div class="line"><a name="l06406"></a><span class="lineno"> 6406</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l06407"></a><span class="lineno"> 6407</span>&#160;    <span class="comment">// However, a store could cause a cache eviction which will affect the</span></div>
<div class="line"><a name="l06408"></a><span class="lineno"> 6408</span>&#160;    <span class="comment">// monitor. As a result, it&#39;s most strict to unconditionally clear the</span></div>
<div class="line"><a name="l06409"></a><span class="lineno"> 6409</span>&#160;    <span class="comment">// local monitor on store.</span></div>
<div class="line"><a name="l06410"></a><span class="lineno"> 6410</span>&#160;    Clear();</div>
<div class="line"><a name="l06411"></a><span class="lineno"> 6411</span>&#160;  }</div>
<div class="line"><a name="l06412"></a><span class="lineno"> 6412</span>&#160;}</div>
<div class="line"><a name="l06413"></a><span class="lineno"> 6413</span>&#160; </div>
<div class="line"><a name="l06414"></a><span class="lineno"> 6414</span>&#160;<span class="keywordtype">bool</span> Simulator::LocalMonitor::NotifyStoreExcl(<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> addr,</div>
<div class="line"><a name="l06415"></a><span class="lineno"> 6415</span>&#160;                                              TransactionSize <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l06416"></a><span class="lineno"> 6416</span>&#160;  <span class="keywordflow">if</span> (access_state_ == MonitorAccess::Exclusive) {</div>
<div class="line"><a name="l06417"></a><span class="lineno"> 6417</span>&#160;    <span class="comment">// It is allowed for a processor to require that the address matches</span></div>
<div class="line"><a name="l06418"></a><span class="lineno"> 6418</span>&#160;    <span class="comment">// exactly (A3.4.5), so this comparison does not mask addr.</span></div>
<div class="line"><a name="l06419"></a><span class="lineno"> 6419</span>&#160;    <span class="keywordflow">if</span> (addr == tagged_addr_ &amp;&amp; size_ == <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l06420"></a><span class="lineno"> 6420</span>&#160;      Clear();</div>
<div class="line"><a name="l06421"></a><span class="lineno"> 6421</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l06422"></a><span class="lineno"> 6422</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06423"></a><span class="lineno"> 6423</span>&#160;      <span class="comment">// It is implementation-defined whether an exclusive store to a</span></div>
<div class="line"><a name="l06424"></a><span class="lineno"> 6424</span>&#160;      <span class="comment">// non-tagged address will update memory. Behavior is unpredictable if</span></div>
<div class="line"><a name="l06425"></a><span class="lineno"> 6425</span>&#160;      <span class="comment">// the transaction size of the exclusive store differs from that of the</span></div>
<div class="line"><a name="l06426"></a><span class="lineno"> 6426</span>&#160;      <span class="comment">// exclusive load. See ARM DDI 0406C.b, A3.4.5.</span></div>
<div class="line"><a name="l06427"></a><span class="lineno"> 6427</span>&#160;      Clear();</div>
<div class="line"><a name="l06428"></a><span class="lineno"> 6428</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06429"></a><span class="lineno"> 6429</span>&#160;    }</div>
<div class="line"><a name="l06430"></a><span class="lineno"> 6430</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06431"></a><span class="lineno"> 6431</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(access_state_ == MonitorAccess::Open);</div>
<div class="line"><a name="l06432"></a><span class="lineno"> 6432</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06433"></a><span class="lineno"> 6433</span>&#160;  }</div>
<div class="line"><a name="l06434"></a><span class="lineno"> 6434</span>&#160;}</div>
<div class="line"><a name="l06435"></a><span class="lineno"> 6435</span>&#160; </div>
<div class="line"><a name="l06436"></a><span class="lineno"> 6436</span>&#160;Simulator::GlobalMonitor::Processor::Processor()</div>
<div class="line"><a name="l06437"></a><span class="lineno"> 6437</span>&#160;    : access_state_(MonitorAccess::Open),</div>
<div class="line"><a name="l06438"></a><span class="lineno"> 6438</span>&#160;      tagged_addr_(0),</div>
<div class="line"><a name="l06439"></a><span class="lineno"> 6439</span>&#160;      next_(<a class="code" href="flag-definitions_8h.html#aca14fbede0905858c819226fce3678cc">nullptr</a>),</div>
<div class="line"><a name="l06440"></a><span class="lineno"> 6440</span>&#160;      prev_(<a class="code" href="flag-definitions_8h.html#aca14fbede0905858c819226fce3678cc">nullptr</a>),</div>
<div class="line"><a name="l06441"></a><span class="lineno"> 6441</span>&#160;      failure_counter_(0) {}</div>
<div class="line"><a name="l06442"></a><span class="lineno"> 6442</span>&#160; </div>
<div class="line"><a name="l06443"></a><span class="lineno"> 6443</span>&#160;<span class="keywordtype">void</span> Simulator::GlobalMonitor::Processor::Clear_Locked() {</div>
<div class="line"><a name="l06444"></a><span class="lineno"> 6444</span>&#160;  access_state_ = MonitorAccess::Open;</div>
<div class="line"><a name="l06445"></a><span class="lineno"> 6445</span>&#160;  tagged_addr_ = 0;</div>
<div class="line"><a name="l06446"></a><span class="lineno"> 6446</span>&#160;}</div>
<div class="line"><a name="l06447"></a><span class="lineno"> 6447</span>&#160; </div>
<div class="line"><a name="l06448"></a><span class="lineno"> 6448</span>&#160;<span class="keywordtype">void</span> Simulator::GlobalMonitor::Processor::NotifyLoadExcl_Locked(<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> addr) {</div>
<div class="line"><a name="l06449"></a><span class="lineno"> 6449</span>&#160;  access_state_ = MonitorAccess::Exclusive;</div>
<div class="line"><a name="l06450"></a><span class="lineno"> 6450</span>&#160;  tagged_addr_ = addr;</div>
<div class="line"><a name="l06451"></a><span class="lineno"> 6451</span>&#160;}</div>
<div class="line"><a name="l06452"></a><span class="lineno"> 6452</span>&#160; </div>
<div class="line"><a name="l06453"></a><span class="lineno"> 6453</span>&#160;<span class="keywordtype">void</span> Simulator::GlobalMonitor::Processor::NotifyStore_Locked(</div>
<div class="line"><a name="l06454"></a><span class="lineno"> 6454</span>&#160;    <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> addr, <span class="keywordtype">bool</span> is_requesting_processor) {</div>
<div class="line"><a name="l06455"></a><span class="lineno"> 6455</span>&#160;  <span class="keywordflow">if</span> (access_state_ == MonitorAccess::Exclusive) {</div>
<div class="line"><a name="l06456"></a><span class="lineno"> 6456</span>&#160;    <span class="comment">// It is implementation-defined whether a non-exclusive store by the</span></div>
<div class="line"><a name="l06457"></a><span class="lineno"> 6457</span>&#160;    <span class="comment">// requesting processor to an address covered by the global monitor</span></div>
<div class="line"><a name="l06458"></a><span class="lineno"> 6458</span>&#160;    <span class="comment">// during exclusive access transitions to open or exclusive access.</span></div>
<div class="line"><a name="l06459"></a><span class="lineno"> 6459</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l06460"></a><span class="lineno"> 6460</span>&#160;    <span class="comment">// For any other processor, the access state always transitions to open</span></div>
<div class="line"><a name="l06461"></a><span class="lineno"> 6461</span>&#160;    <span class="comment">// access.</span></div>
<div class="line"><a name="l06462"></a><span class="lineno"> 6462</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l06463"></a><span class="lineno"> 6463</span>&#160;    <span class="comment">// See ARM DDI 0406C.b, A3.4.2.</span></div>
<div class="line"><a name="l06464"></a><span class="lineno"> 6464</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l06465"></a><span class="lineno"> 6465</span>&#160;    <span class="comment">// However, similar to the local monitor, it is possible that a store</span></div>
<div class="line"><a name="l06466"></a><span class="lineno"> 6466</span>&#160;    <span class="comment">// caused a cache eviction, which can affect the montior, so</span></div>
<div class="line"><a name="l06467"></a><span class="lineno"> 6467</span>&#160;    <span class="comment">// conservatively, we always clear the monitor.</span></div>
<div class="line"><a name="l06468"></a><span class="lineno"> 6468</span>&#160;    Clear_Locked();</div>
<div class="line"><a name="l06469"></a><span class="lineno"> 6469</span>&#160;  }</div>
<div class="line"><a name="l06470"></a><span class="lineno"> 6470</span>&#160;}</div>
<div class="line"><a name="l06471"></a><span class="lineno"> 6471</span>&#160; </div>
<div class="line"><a name="l06472"></a><span class="lineno"> 6472</span>&#160;<span class="keywordtype">bool</span> Simulator::GlobalMonitor::Processor::NotifyStoreExcl_Locked(</div>
<div class="line"><a name="l06473"></a><span class="lineno"> 6473</span>&#160;    <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> addr, <span class="keywordtype">bool</span> is_requesting_processor) {</div>
<div class="line"><a name="l06474"></a><span class="lineno"> 6474</span>&#160;  <span class="keywordflow">if</span> (access_state_ == MonitorAccess::Exclusive) {</div>
<div class="line"><a name="l06475"></a><span class="lineno"> 6475</span>&#160;    <span class="keywordflow">if</span> (is_requesting_processor) {</div>
<div class="line"><a name="l06476"></a><span class="lineno"> 6476</span>&#160;      <span class="comment">// It is allowed for a processor to require that the address matches</span></div>
<div class="line"><a name="l06477"></a><span class="lineno"> 6477</span>&#160;      <span class="comment">// exactly (A3.4.5), so this comparison does not mask addr.</span></div>
<div class="line"><a name="l06478"></a><span class="lineno"> 6478</span>&#160;      <span class="keywordflow">if</span> (addr == tagged_addr_) {</div>
<div class="line"><a name="l06479"></a><span class="lineno"> 6479</span>&#160;        <span class="comment">// The access state for the requesting processor after a successful</span></div>
<div class="line"><a name="l06480"></a><span class="lineno"> 6480</span>&#160;        <span class="comment">// exclusive store is implementation-defined, but according to the ARM</span></div>
<div class="line"><a name="l06481"></a><span class="lineno"> 6481</span>&#160;        <span class="comment">// DDI, this has no effect on the subsequent operation of the global</span></div>
<div class="line"><a name="l06482"></a><span class="lineno"> 6482</span>&#160;        <span class="comment">// monitor.</span></div>
<div class="line"><a name="l06483"></a><span class="lineno"> 6483</span>&#160;        Clear_Locked();</div>
<div class="line"><a name="l06484"></a><span class="lineno"> 6484</span>&#160;        <span class="comment">// Introduce occasional strex failures. This is to simulate the</span></div>
<div class="line"><a name="l06485"></a><span class="lineno"> 6485</span>&#160;        <span class="comment">// behavior of hardware, which can randomly fail due to background</span></div>
<div class="line"><a name="l06486"></a><span class="lineno"> 6486</span>&#160;        <span class="comment">// cache evictions.</span></div>
<div class="line"><a name="l06487"></a><span class="lineno"> 6487</span>&#160;        <span class="keywordflow">if</span> (failure_counter_++ &gt;= kMaxFailureCounter) {</div>
<div class="line"><a name="l06488"></a><span class="lineno"> 6488</span>&#160;          failure_counter_ = 0;</div>
<div class="line"><a name="l06489"></a><span class="lineno"> 6489</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06490"></a><span class="lineno"> 6490</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06491"></a><span class="lineno"> 6491</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l06492"></a><span class="lineno"> 6492</span>&#160;        }</div>
<div class="line"><a name="l06493"></a><span class="lineno"> 6493</span>&#160;      }</div>
<div class="line"><a name="l06494"></a><span class="lineno"> 6494</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((addr &amp; kExclusiveTaggedAddrMask) ==</div>
<div class="line"><a name="l06495"></a><span class="lineno"> 6495</span>&#160;               (tagged_addr_ &amp; kExclusiveTaggedAddrMask)) {</div>
<div class="line"><a name="l06496"></a><span class="lineno"> 6496</span>&#160;      <span class="comment">// Check the masked addresses when responding to a successful lock by</span></div>
<div class="line"><a name="l06497"></a><span class="lineno"> 6497</span>&#160;      <span class="comment">// another processor so the implementation is more conservative (i.e. the</span></div>
<div class="line"><a name="l06498"></a><span class="lineno"> 6498</span>&#160;      <span class="comment">// granularity of locking is as large as possible.)</span></div>
<div class="line"><a name="l06499"></a><span class="lineno"> 6499</span>&#160;      Clear_Locked();</div>
<div class="line"><a name="l06500"></a><span class="lineno"> 6500</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06501"></a><span class="lineno"> 6501</span>&#160;    }</div>
<div class="line"><a name="l06502"></a><span class="lineno"> 6502</span>&#160;  }</div>
<div class="line"><a name="l06503"></a><span class="lineno"> 6503</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06504"></a><span class="lineno"> 6504</span>&#160;}</div>
<div class="line"><a name="l06505"></a><span class="lineno"> 6505</span>&#160; </div>
<div class="line"><a name="l06506"></a><span class="lineno"> 6506</span>&#160;<span class="keywordtype">void</span> Simulator::GlobalMonitor::NotifyLoadExcl_Locked(<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> addr,</div>
<div class="line"><a name="l06507"></a><span class="lineno"> 6507</span>&#160;                                                     Processor* processor) {</div>
<div class="line"><a name="l06508"></a><span class="lineno"> 6508</span>&#160;  processor-&gt;NotifyLoadExcl_Locked(addr);</div>
<div class="line"><a name="l06509"></a><span class="lineno"> 6509</span>&#160;}</div>
<div class="line"><a name="l06510"></a><span class="lineno"> 6510</span>&#160; </div>
<div class="line"><a name="l06511"></a><span class="lineno"> 6511</span>&#160;<span class="keywordtype">void</span> Simulator::GlobalMonitor::NotifyStore_Locked(<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> addr,</div>
<div class="line"><a name="l06512"></a><span class="lineno"> 6512</span>&#160;                                                  Processor* processor) {</div>
<div class="line"><a name="l06513"></a><span class="lineno"> 6513</span>&#160;  <span class="comment">// Notify each processor of the store operation.</span></div>
<div class="line"><a name="l06514"></a><span class="lineno"> 6514</span>&#160;  <span class="keywordflow">for</span> (Processor* iter = head_; iter; iter = iter-&gt;next_) {</div>
<div class="line"><a name="l06515"></a><span class="lineno"> 6515</span>&#160;    <span class="keywordtype">bool</span> is_requesting_processor = iter == processor;</div>
<div class="line"><a name="l06516"></a><span class="lineno"> 6516</span>&#160;    iter-&gt;NotifyStore_Locked(addr, is_requesting_processor);</div>
<div class="line"><a name="l06517"></a><span class="lineno"> 6517</span>&#160;  }</div>
<div class="line"><a name="l06518"></a><span class="lineno"> 6518</span>&#160;}</div>
<div class="line"><a name="l06519"></a><span class="lineno"> 6519</span>&#160; </div>
<div class="line"><a name="l06520"></a><span class="lineno"> 6520</span>&#160;<span class="keywordtype">bool</span> Simulator::GlobalMonitor::NotifyStoreExcl_Locked(<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> addr,</div>
<div class="line"><a name="l06521"></a><span class="lineno"> 6521</span>&#160;                                                      Processor* processor) {</div>
<div class="line"><a name="l06522"></a><span class="lineno"> 6522</span>&#160;  <span class="keywordflow">if</span> (processor-&gt;NotifyStoreExcl_Locked(addr, <span class="keyword">true</span>)) {</div>
<div class="line"><a name="l06523"></a><span class="lineno"> 6523</span>&#160;    <span class="comment">// Notify the other processors that this StoreExcl succeeded.</span></div>
<div class="line"><a name="l06524"></a><span class="lineno"> 6524</span>&#160;    <span class="keywordflow">for</span> (Processor* iter = head_; iter; iter = iter-&gt;next_) {</div>
<div class="line"><a name="l06525"></a><span class="lineno"> 6525</span>&#160;      <span class="keywordflow">if</span> (iter != processor) {</div>
<div class="line"><a name="l06526"></a><span class="lineno"> 6526</span>&#160;        iter-&gt;NotifyStoreExcl_Locked(addr, <span class="keyword">false</span>);</div>
<div class="line"><a name="l06527"></a><span class="lineno"> 6527</span>&#160;      }</div>
<div class="line"><a name="l06528"></a><span class="lineno"> 6528</span>&#160;    }</div>
<div class="line"><a name="l06529"></a><span class="lineno"> 6529</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l06530"></a><span class="lineno"> 6530</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06531"></a><span class="lineno"> 6531</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06532"></a><span class="lineno"> 6532</span>&#160;  }</div>
<div class="line"><a name="l06533"></a><span class="lineno"> 6533</span>&#160;}</div>
<div class="line"><a name="l06534"></a><span class="lineno"> 6534</span>&#160; </div>
<div class="line"><a name="l06535"></a><span class="lineno"> 6535</span>&#160;<span class="keywordtype">void</span> Simulator::GlobalMonitor::PrependProcessor(Processor* processor) {</div>
<div class="line"><a name="l06536"></a><span class="lineno"> 6536</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> lock_guard(&amp;mutex_);</div>
<div class="line"><a name="l06537"></a><span class="lineno"> 6537</span>&#160;  <span class="keywordflow">if</span> (head_) {</div>
<div class="line"><a name="l06538"></a><span class="lineno"> 6538</span>&#160;    head_-&gt;prev_ = processor;</div>
<div class="line"><a name="l06539"></a><span class="lineno"> 6539</span>&#160;  }</div>
<div class="line"><a name="l06540"></a><span class="lineno"> 6540</span>&#160;  processor-&gt;prev_ = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06541"></a><span class="lineno"> 6541</span>&#160;  processor-&gt;next_ = head_;</div>
<div class="line"><a name="l06542"></a><span class="lineno"> 6542</span>&#160;  head_ = processor;</div>
<div class="line"><a name="l06543"></a><span class="lineno"> 6543</span>&#160;  num_processors_++;</div>
<div class="line"><a name="l06544"></a><span class="lineno"> 6544</span>&#160;}</div>
<div class="line"><a name="l06545"></a><span class="lineno"> 6545</span>&#160; </div>
<div class="line"><a name="l06546"></a><span class="lineno"> 6546</span>&#160;<span class="keywordtype">void</span> Simulator::GlobalMonitor::RemoveProcessor(Processor* processor) {</div>
<div class="line"><a name="l06547"></a><span class="lineno"> 6547</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> lock_guard(&amp;mutex_);</div>
<div class="line"><a name="l06548"></a><span class="lineno"> 6548</span>&#160;  <span class="keywordflow">if</span> (processor-&gt;prev_) {</div>
<div class="line"><a name="l06549"></a><span class="lineno"> 6549</span>&#160;    processor-&gt;prev_-&gt;next_ = processor-&gt;next_;</div>
<div class="line"><a name="l06550"></a><span class="lineno"> 6550</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06551"></a><span class="lineno"> 6551</span>&#160;    head_ = processor-&gt;next_;</div>
<div class="line"><a name="l06552"></a><span class="lineno"> 6552</span>&#160;  }</div>
<div class="line"><a name="l06553"></a><span class="lineno"> 6553</span>&#160;  <span class="keywordflow">if</span> (processor-&gt;next_) {</div>
<div class="line"><a name="l06554"></a><span class="lineno"> 6554</span>&#160;    processor-&gt;next_-&gt;prev_ = processor-&gt;prev_;</div>
<div class="line"><a name="l06555"></a><span class="lineno"> 6555</span>&#160;  }</div>
<div class="line"><a name="l06556"></a><span class="lineno"> 6556</span>&#160;  processor-&gt;prev_ = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06557"></a><span class="lineno"> 6557</span>&#160;  processor-&gt;next_ = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06558"></a><span class="lineno"> 6558</span>&#160;  num_processors_--;</div>
<div class="line"><a name="l06559"></a><span class="lineno"> 6559</span>&#160;}</div>
<div class="line"><a name="l06560"></a><span class="lineno"> 6560</span>&#160; </div>
<div class="line"><a name="l06561"></a><span class="lineno"> 6561</span>&#160;<span class="preprocessor">#undef SScanF</span></div>
<div class="line"><a name="l06562"></a><span class="lineno"> 6562</span>&#160; </div>
<div class="line"><a name="l06563"></a><span class="lineno"> 6563</span>&#160;}  <span class="comment">// namespace internal</span></div>
<div class="line"><a name="l06564"></a><span class="lineno"> 6564</span>&#160;}  <span class="comment">// namespace v8</span></div>
<div class="line"><a name="l06565"></a><span class="lineno"> 6565</span>&#160; </div>
<div class="line"><a name="l06566"></a><span class="lineno"> 6566</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l06567"></a><span class="lineno"> 6567</span>&#160;<span class="comment">// The following functions are used by our gdb macros.</span></div>
<div class="line"><a name="l06568"></a><span class="lineno"> 6568</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l06569"></a><span class="lineno"> 6569</span>&#160;<a class="code" href="src_2base_2compiler-specific_8h.html#a1612bbbeb77bf63d9adf925d7e1f1571">V8_DEBUGGING_EXPORT</a> <span class="keyword">extern</span> <span class="keywordtype">bool</span> _v8_internal_Simulator_ExecDebugCommand(</div>
<div class="line"><a name="l06570"></a><span class="lineno"> 6570</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>* command) {</div>
<div class="line"><a name="l06571"></a><span class="lineno"> 6571</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>* isolate = <a class="code" href="classv8_1_1internal_1_1Isolate.html#a05a2b08b2b0f2d5aef8dc053e2ea3d9b">i::Isolate::Current</a>();</div>
<div class="line"><a name="l06572"></a><span class="lineno"> 6572</span>&#160;  <span class="keywordflow">if</span> (!isolate) {</div>
<div class="line"><a name="l06573"></a><span class="lineno"> 6573</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;No V8 Isolate found\n&quot;</span>);</div>
<div class="line"><a name="l06574"></a><span class="lineno"> 6574</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06575"></a><span class="lineno"> 6575</span>&#160;  }</div>
<div class="line"><a name="l06576"></a><span class="lineno"> 6576</span>&#160;  i::Simulator* simulator = i::Simulator::current(isolate);</div>
<div class="line"><a name="l06577"></a><span class="lineno"> 6577</span>&#160;  <span class="keywordflow">if</span> (!simulator) {</div>
<div class="line"><a name="l06578"></a><span class="lineno"> 6578</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;No Arm simulator found\n&quot;</span>);</div>
<div class="line"><a name="l06579"></a><span class="lineno"> 6579</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06580"></a><span class="lineno"> 6580</span>&#160;  }</div>
<div class="line"><a name="l06581"></a><span class="lineno"> 6581</span>&#160;  <span class="comment">// Copy the command so that the simulator can take ownership of it.</span></div>
<div class="line"><a name="l06582"></a><span class="lineno"> 6582</span>&#160;  <span class="keywordtype">size_t</span> len = strlen(command);</div>
<div class="line"><a name="l06583"></a><span class="lineno"> 6583</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a529dc33676c3b4f79a6d8fa4ff66ff1d">i::ArrayUniquePtr&lt;char&gt;</a> command_copy(i::NewArray&lt;char&gt;(len + 1));</div>
<div class="line"><a name="l06584"></a><span class="lineno"> 6584</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#ae0ee98c9174e5955450c56da22cb8f6a">i::MemCopy</a>(command_copy.get(), command, len + 1);</div>
<div class="line"><a name="l06585"></a><span class="lineno"> 6585</span>&#160;  <span class="keywordflow">return</span> i::ArmDebugger(simulator).ExecDebugCommand(std::move(command_copy));</div>
<div class="line"><a name="l06586"></a><span class="lineno"> 6586</span>&#160;}</div>
<div class="line"><a name="l06587"></a><span class="lineno"> 6587</span>&#160; </div>
<div class="line"><a name="l06588"></a><span class="lineno"> 6588</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// USE_SIMULATOR</span></div>
<div class="ttc" id="aassembler-inl_8h_html"><div class="ttname"><a href="assembler-inl_8h.html">assembler-inl.h</a></div></div>
<div class="ttc" id="abase_2ieee754_8cc_html_a0acb682b8260ab1c60b918599864e2e5"><div class="ttname"><a href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a></div><div class="ttdeci">#define T</div></div>
<div class="ttc" id="abase_2ieee754_8cc_html_a7cf126dbeb6f30c606e3b42fea65cfef"><div class="ttname"><a href="base_2ieee754_8cc.html#a7cf126dbeb6f30c606e3b42fea65cfef">one</a></div><div class="ttdeci">#define one</div></div>
<div class="ttc" id="abase_2memory_8h_html"><div class="ttname"><a href="base_2memory_8h.html">memory.h</a></div></div>
<div class="ttc" id="abase_2platform_2memory_8h_html"><div class="ttname"><a href="base_2platform_2memory_8h.html">memory.h</a></div></div>
<div class="ttc" id="abits_8h_html"><div class="ttname"><a href="bits_8h.html">bits.h</a></div></div>
<div class="ttc" id="aclassT_html"><div class="ttname"><a href="classT.html">T</a></div></div>
<div class="ttc" id="aclassdisasm_1_1Disassembler_html"><div class="ttname"><a href="classdisasm_1_1Disassembler.html">disasm::Disassembler</a></div><div class="ttdef"><b>Definition:</b> <a href="disasm_8h_source.html#l00036">disasm.h:36</a></div></div>
<div class="ttc" id="aclassdisasm_1_1NameConverter_html"><div class="ttname"><a href="classdisasm_1_1NameConverter.html">disasm::NameConverter</a></div><div class="ttdef"><b>Definition:</b> <a href="disasm_8h_source.html#l00015">disasm.h:15</a></div></div>
<div class="ttc" id="aclassheap_1_1base_1_1StackVisitor_html"><div class="ttname"><a href="classheap_1_1base_1_1StackVisitor.html">heap::base::StackVisitor</a></div><div class="ttdef"><b>Definition:</b> <a href="stack_8h_source.html#l00017">stack.h:17</a></div></div>
<div class="ttc" id="aclassheap_1_1base_1_1StackVisitor_html_a148852d2b6085bd01a8a384941341119"><div class="ttname"><a href="classheap_1_1base_1_1StackVisitor.html#a148852d2b6085bd01a8a384941341119">heap::base::StackVisitor::VisitPointer</a></div><div class="ttdeci">virtual void VisitPointer(const void *address)=0</div></div>
<div class="ttc" id="aclassuintptr__t_html"><div class="ttname"><a href="classuintptr__t.html">uintptr_t</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1EmbeddedVector_html"><div class="ttname"><a href="classv8_1_1base_1_1EmbeddedVector.html">v8::base::EmbeddedVector</a></div><div class="ttdef"><b>Definition:</b> <a href="vector_8h_source.html#l00396">vector.h:396</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_affd1b5cd2e2a82058f49432ffc5236e6"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#affd1b5cd2e2a82058f49432ffc5236e6">v8::base::OS::DebugBreak</a></div><div class="ttdeci">static void DebugBreak()</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l00775">platform-posix.cc:775</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Vector_html_a127410ecb29a2d265d49cbf575f676f9"><div class="ttname"><a href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">v8::base::Vector::begin</a></div><div class="ttdeci">constexpr T * begin() const</div><div class="ttdef"><b>Definition:</b> <a href="vector_8h_source.html#l00096">vector.h:96</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1DwVfpRegister_html_a556dc5d663693055cf3e97c854340e73"><div class="ttname"><a href="classv8_1_1internal_1_1DwVfpRegister.html#a556dc5d663693055cf3e97c854340e73">v8::internal::DwVfpRegister::SupportedRegisterCount</a></div><div class="ttdeci">static int SupportedRegisterCount()</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_1_1PerIsolateThreadData_html"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate_1_1PerIsolateThreadData.html">v8::internal::Isolate::PerIsolateThreadData</a></div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l00612">isolate.h:612</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html">v8::internal::Isolate</a></div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l00595">isolate.h:595</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a05a2b08b2b0f2d5aef8dc053e2ea3d9b"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a05a2b08b2b0f2d5aef8dc053e2ea3d9b">v8::internal::Isolate::Current</a></div><div class="ttdeci">static Isolate * Current()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate-inl_8h_source.html#l00035">isolate-inl.h:35</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryChunkMetadata_html_a93f0ee88ee72fd6e1231443f73b6f9d3"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryChunkMetadata.html#a93f0ee88ee72fd6e1231443f73b6f9d3">v8::internal::MemoryChunkMetadata::FromAddress</a></div><div class="ttdeci">static MemoryChunkMetadata * FromAddress(Address a)</div><div class="ttdef"><b>Definition:</b> <a href="memory-chunk-metadata-inl_8h_source.html#l00017">memory-chunk-metadata-inl.h:17</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Register_html_a161b31fbba410d1c513ae779df7b9cbb"><div class="ttname"><a href="classv8_1_1internal_1_1Register.html#a161b31fbba410d1c513ae779df7b9cbb">v8::internal::Register::from_code</a></div><div class="ttdeci">static constexpr Register from_code(int code)</div><div class="ttdef"><b>Definition:</b> <a href="register-arm64_8h_source.html#l00257">register-arm64.h:257</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Registers_html_a9ab2c08aab5fe40cef118472413648c8"><div class="ttname"><a href="classv8_1_1internal_1_1Registers.html#a9ab2c08aab5fe40cef118472413648c8">v8::internal::Registers::Number</a></div><div class="ttdeci">static int Number(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="base-constants-riscv_8cc_source.html#l00040">base-constants-riscv.cc:40</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Smi_html_a2e32de9e93a2cdfae189371f22782dad"><div class="ttname"><a href="classv8_1_1internal_1_1Smi.html#a2e32de9e93a2cdfae189371f22782dad">v8::internal::Smi::ToInt</a></div><div class="ttdeci">static constexpr int ToInt(const Tagged&lt; Object &gt; object)</div><div class="ttdef"><b>Definition:</b> <a href="smi_8h_source.html#l00033">smi.h:33</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1VFPRegisters_html_ae0468859bf8d053c051b624527c11a6f"><div class="ttname"><a href="classv8_1_1internal_1_1VFPRegisters.html#ae0468859bf8d053c051b624527c11a6f">v8::internal::VFPRegisters::Number</a></div><div class="ttdeci">static int Number(const char *name, bool *is_double)</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1VFPRegisters_html_af126a5fda9266f16b81d32710f650de0"><div class="ttname"><a href="classv8_1_1internal_1_1VFPRegisters.html#af126a5fda9266f16b81d32710f650de0">v8::internal::VFPRegisters::Name</a></div><div class="ttdeci">static const char * Name(int reg, bool is_double)</div></div>
<div class="ttc" id="acombined-heap_8h_html"><div class="ttname"><a href="combined-heap_8h.html">combined-heap.h</a></div></div>
<div class="ttc" id="acommon_2globals_8h_html_aa5186b9fd6612bf591ba59464649200b"><div class="ttname"><a href="common_2globals_8h.html#aa5186b9fd6612bf591ba59464649200b">FUNCTION_ADDR</a></div><div class="ttdeci">#define FUNCTION_ADDR(f)</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00703">globals.h:703</a></div></div>
<div class="ttc" id="aconstants-arm_8h_html"><div class="ttname"><a href="constants-arm_8h.html">constants-arm.h</a></div></div>
<div class="ttc" id="adisasm_8h_html"><div class="ttname"><a href="disasm_8h.html">disasm.h</a></div></div>
<div class="ttc" id="aelements-kind_8cc_html_ac9a828e37ea0eadff5a10274c7d392dd"><div class="ttname"><a href="elements-kind_8cc.html#ac9a828e37ea0eadff5a10274c7d392dd">SIZE</a></div><div class="ttdeci">#define SIZE(Type, type, TYPE, ctype)</div></div>
<div class="ttc" id="aflag-definitions_8h_html_a3df0b28b666e942ffb9d7d04acdb9715"><div class="ttname"><a href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enables Turboshaft s StaticAssert and CheckTurboshaftTypeOf operations Wasm code into JS functions via the JS to Wasm wrappers are still inlined in TurboFan For controlling whether to at see turbo inline js wasm calls enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information enable Turbolev features that we want to ship in the not too far future trace individual Turboshaft reduction steps trace intermediate Turboshaft reduction steps trace Turboshaft s if else to switch reducer invocation count threshold for early optimization Enables optimizations which favor memory size over execution speed Enables sampling allocation profiler with X as a sample interval min size of a semi the new space consists of two semi spaces max size of the preconfigured old space size(in Mbytes)&quot;)     DEFINE_INT(random_gc_interval</div></div>
<div class="ttc" id="aflag-definitions_8h_html_aca14fbede0905858c819226fce3678cc"><div class="ttname"><a href="flag-definitions_8h.html#aca14fbede0905858c819226fce3678cc">nullptr</a></div><div class="ttdeci">refactor address components for immediate indexing make OptimizeMaglevOnNextCall optimize to turbofan instead of maglev filter for tracing turbofan compilation nullptr</div><div class="ttdef"><b>Definition:</b> <a href="flag-definitions_8h_source.html#l01280">flag-definitions.h:1280</a></div></div>
<div class="ttc" id="aflag-definitions_8h_html_adaf90f045d5cd2710edd625b8685472a"><div class="ttname"><a href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enables Turboshaft s StaticAssert and CheckTurboshaftTypeOf operations Wasm code into JS functions via the JS to Wasm wrappers are still inlined in TurboFan For controlling whether to at see turbo inline js wasm calls enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information enable Turbolev features that we want to ship in the not too far future trace individual Turboshaft reduction steps trace intermediate Turboshaft reduction steps trace Turboshaft s if else to switch reducer invocation count threshold for early optimization Enables optimizations which favor memory size over execution speed Enables sampling allocation profiler with X as a sample interval min size of a semi the new space consists of two semi spaces max size of the preconfigured old space Collect garbage after Collect garbage after keeps maps alive for&lt; n &gt; old space garbage collections print one detailed trace line in allocation gc speed threshold for starting incremental marking via a task in percent of available threshold for starting incremental marking immediately in percent of available Use a single schedule for determining a marking schedule between JS and C objects schedules the minor GC task with kUserVisible priority max worker number of concurrent for NumberOfWorkerThreads start background threads that allocate memory concurrent_array_buffer_sweeping use parallel threads to clear weak refs in the atomic pause trace progress of the incremental marking trace object counts and memory usage report a tick only when allocated zone memory changes by this amount TracingFlags::gc_stats TracingFlags::gc_stats track native contexts that are expected to be garbage collected verify heap pointers before and after GC memory reducer runs GC with ReduceMemoryFootprint flag Maximum number of memory reducer GCs scheduled Old gen GC speed is computed directly from gc tracer counters Perform compaction on full GCs based on V8 s default heuristics Perform compaction on every full GC Perform code space compaction when finalizing a full GC with stack Stress GC compaction to flush out bugs with moving objects flush of baseline code when it has not been executed recently Use time base code flushing instead of age Use a progress bar to scan large objects in increments when incremental marking is active force incremental marking for small heaps and run it more often Release pooled large pages after X seconds prints number of allocations and enables analysis mode for gc fuzz e g stress stress scavenge force scavenge at random points between and reclaim otherwise unreachable unmodified wrapper objects when possible discard the memory pool before invoking the GC on memory pressure or last resort GCs Delay before memory reducer start virtual randomize memory reservations by ignoring any hints passed when allocating pages use incremental marking for CppHeap cppheap_concurrent_marking c value for membalancer A special constant to balance between memory and space tradeoff The smaller the more memory it uses enable use of SSE4 instructions if available enable use of SAHF instruction if enable use of AVX VNNI instructions if available enable use of POPCNT instruction if available force all emitted branches to be in long mode(MIPS/PPC only)&quot;) DEFINE_BOOL(partial_constant_pool</div></div>
<div class="ttc" id="aflag-definitions_8h_html_ae0e79c88adf5166f9befeb542c2acd8f"><div class="ttname"><a href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a></div><div class="ttdeci">force emit tier up logic from all non turbofan code</div><div class="ttdef"><b>Definition:</b> <a href="flag-definitions_8h_source.html#l00546">flag-definitions.h:546</a></div></div>
<div class="ttc" id="aheap-inl_8h_html"><div class="ttname"><a href="heap-inl_8h.html">heap-inl.h</a></div></div>
<div class="ttc" id="aintl-objects_8cc_html_a03943706e48069237cd57f2d35ca987e"><div class="ttname"><a href="intl-objects_8cc.html#a03943706e48069237cd57f2d35ca987e">XSTR</a></div><div class="ttdeci">#define XSTR(s)</div><div class="ttdef"><b>Definition:</b> <a href="intl-objects_8cc_source.html#l00064">intl-objects.cc:64</a></div></div>
<div class="ttc" id="alazy-instance_8h_html"><div class="ttname"><a href="lazy-instance_8h.html">lazy-instance.h</a></div></div>
<div class="ttc" id="amacro-assembler_8h_html"><div class="ttname"><a href="macro-assembler_8h.html">macro-assembler.h</a></div></div>
<div class="ttc" id="anamespacecppgc_1_1internal_html_a31164e981f2a7080855c4ba02f1a910b"><div class="ttname"><a href="namespacecppgc_1_1internal.html#a31164e981f2a7080855c4ba02f1a910b">cppgc::internal::kPageSize</a></div><div class="ttdeci">constexpr size_t kPageSize</div><div class="ttdef"><b>Definition:</b> <a href="heap_2cppgc_2globals_8h_source.html#l00042">globals.h:42</a></div></div>
<div class="ttc" id="anamespaceheap_html"><div class="ttname"><a href="namespaceheap.html">heap</a></div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2platform_2platform_8h_source.html#l00072">platform.h:72</a></div></div>
<div class="ttc" id="anamespaceunibrow_html_a0869a94c1a582a2b47889b990444deb9"><div class="ttname"><a href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">unibrow::uint16_t</a></div><div class="ttdeci">unsigned short uint16_t</div><div class="ttdef"><b>Definition:</b> <a href="unicode_8cc_source.html#l00041">unicode.cc:41</a></div></div>
<div class="ttc" id="anamespaceunibrow_html_a511cc0636aed6a00d37d3e7cc0ec4e7c"><div class="ttname"><a href="namespaceunibrow.html#a511cc0636aed6a00d37d3e7cc0ec4e7c">unibrow::int16_t</a></div><div class="ttdeci">signed short int16_t</div><div class="ttdef"><b>Definition:</b> <a href="unicode_8cc_source.html#l00040">unicode.cc:40</a></div></div>
<div class="ttc" id="anamespaceunibrow_html_ab0275d47f9778d486eafe88b18c5851d"><div class="ttname"><a href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">unibrow::int32_t</a></div><div class="ttdeci">int int32_t</div><div class="ttdef"><b>Definition:</b> <a href="unicode_8cc_source.html#l00042">unicode.cc:42</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_1_1bits_html_a0626b7258838f50279e2c940b94f1c05"><div class="ttname"><a href="namespacev8_1_1base_1_1bits.html#a0626b7258838f50279e2c940b94f1c05">v8::base::bits::SignedMulHighAndAdd32</a></div><div class="ttdeci">int32_t SignedMulHighAndAdd32(int32_t lhs, int32_t rhs, int32_t acc)</div><div class="ttdef"><b>Definition:</b> <a href="bits_8cc_source.html#l00062">bits.cc:62</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_1_1bits_html_a1f24f8ac062fd06579c9345473fde42f"><div class="ttname"><a href="namespacev8_1_1base_1_1bits.html#a1f24f8ac062fd06579c9345473fde42f">v8::base::bits::SignedMulHigh32</a></div><div class="ttdeci">int32_t SignedMulHigh32(int32_t lhs, int32_t rhs)</div><div class="ttdef"><b>Definition:</b> <a href="bits_8cc_source.html#l00015">bits.cc:15</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_1_1bits_html_a1fb4b64013535455c21d34b4cce4a842"><div class="ttname"><a href="namespacev8_1_1base_1_1bits.html#a1fb4b64013535455c21d34b4cce4a842">v8::base::bits::WhichPowerOfTwo</a></div><div class="ttdeci">constexpr int WhichPowerOfTwo(T value) requires std</div><div class="ttdef"><b>Definition:</b> <a href="bits_8h_source.html#l00195">bits.h:195</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_1_1bits_html_a23ecb4a08f03f36ed51161981dbece8b"><div class="ttname"><a href="namespacev8_1_1base_1_1bits.html#a23ecb4a08f03f36ed51161981dbece8b">v8::base::bits::RoundDownToPowerOfTwo32</a></div><div class="ttdeci">uint32_t RoundDownToPowerOfTwo32(uint32_t value)</div><div class="ttdef"><b>Definition:</b> <a href="bits_8h_source.html#l00265">bits.h:265</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_1_1bits_html_a2b8d08a386ae9d2707f52e9f5669255c"><div class="ttname"><a href="namespacev8_1_1base_1_1bits.html#a2b8d08a386ae9d2707f52e9f5669255c">v8::base::bits::SignedDiv32</a></div><div class="ttdeci">int32_t SignedDiv32(int32_t lhs, int32_t rhs)</div><div class="ttdef"><b>Definition:</b> <a href="bits_8cc_source.html#l00069">bits.cc:69</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_1_1bits_html_a474615d6b417607441ea6a7b9f25faae"><div class="ttname"><a href="namespacev8_1_1base_1_1bits.html#a474615d6b417607441ea6a7b9f25faae">v8::base::bits::CountPopulation</a></div><div class="ttdeci">constexpr unsigned CountPopulation(T value) requires(std</div><div class="ttdef"><b>Definition:</b> <a href="bits_8h_source.html#l00026">bits.h:26</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_1_1bits_html_a6507500423e22c4954efce915db4cfd7"><div class="ttname"><a href="namespacev8_1_1base_1_1bits.html#a6507500423e22c4954efce915db4cfd7">v8::base::bits::UnsignedDiv32</a></div><div class="ttdeci">uint32_t UnsignedDiv32(uint32_t lhs, uint32_t rhs)</div><div class="ttdef"><b>Definition:</b> <a href="bits_8h_source.html#l00454">bits.h:454</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_1_1bits_html_a7d1c342908f433bf53e621256452ecdf"><div class="ttname"><a href="namespacev8_1_1base_1_1bits.html#a7d1c342908f433bf53e621256452ecdf">v8::base::bits::RotateRight32</a></div><div class="ttdeci">constexpr uint32_t RotateRight32(uint32_t value, uint32_t shift)</div><div class="ttdef"><b>Definition:</b> <a href="bits_8h_source.html#l00274">bits.h:274</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_1_1bits_html_a9cf9c8a44800a7ab69e241ab591b7d6e"><div class="ttname"><a href="namespacev8_1_1base_1_1bits.html#a9cf9c8a44800a7ab69e241ab591b7d6e">v8::base::bits::ReverseBits</a></div><div class="ttdeci">T ReverseBits(T value)</div><div class="ttdef"><b>Definition:</b> <a href="bits_8h_source.html#l00061">bits.h:61</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_1_1internal_html_a709d6f30f1192434c1eb74d0f8a3bc3a"><div class="ttname"><a href="namespacev8_1_1base_1_1internal.html#a709d6f30f1192434c1eb74d0f8a3bc3a">v8::base::internal::U</a></div><div class="ttdeci">U</div><div class="ttdef"><b>Definition:</b> <a href="checked__math__impl_8h_source.html#l00052">checked_math_impl.h:52</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_1_1internal_html_a9840f2bf0b4780133662292486d0bc01"><div class="ttname"><a href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">v8::base::internal::result</a></div><div class="ttdeci">V result</div><div class="ttdef"><b>Definition:</b> <a href="clamped__math__impl_8h_source.html#l00082">clamped_math_impl.h:82</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_1_1internal_html_aba8167f197e892214b9dc1aba34983de"><div class="ttname"><a href="namespacev8_1_1base_1_1internal.html#aba8167f197e892214b9dc1aba34983de">v8::base::internal::y</a></div><div class="ttdeci">U y</div><div class="ttdef"><b>Definition:</b> <a href="clamped__math__impl_8h_source.html#l00077">clamped_math_impl.h:77</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a1164c4a4843f31b51527e1661ff36565"><div class="ttname"><a href="namespacev8_1_1base.html#a1164c4a4843f31b51527e1661ff36565">v8::base::format</a></div><div class="ttdeci">V8_BASE_EXPORT int const char * format</div><div class="ttdef"><b>Definition:</b> <a href="strings_8h_source.html#l00023">strings.h:23</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a1e1586adb8557f6ed739eb471ed9152e"><div class="ttname"><a href="namespacev8_1_1base.html#a1e1586adb8557f6ed739eb471ed9152e">v8::base::MulWithWraparound</a></div><div class="ttdeci">int16_t MulWithWraparound(int16_t a, int16_t b)</div><div class="ttdef"><b>Definition:</b> <a href="overflowing-math_8h_source.html#l00041">overflowing-math.h:41</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a40b71b3558e4b5297d51003612578a81"><div class="ttname"><a href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">v8::base::MutexGuard</a></div><div class="ttdeci">LockGuard&lt; Mutex &gt; MutexGuard</div><div class="ttdef"><b>Definition:</b> <a href="mutex_8h_source.html#l00219">mutex.h:219</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a5bfc65f27076e49eb7752a4fb4d45acb"><div class="ttname"><a href="namespacev8_1_1base.html#a5bfc65f27076e49eb7752a4fb4d45acb">v8::base::VectorOf</a></div><div class="ttdeci">constexpr Vector&lt; T &gt; VectorOf(T *start, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="vector_8h_source.html#l00359">vector.h:359</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a6ada2fbffcae912c593c8c996d0617ff"><div class="ttname"><a href="namespacev8_1_1base.html#a6ada2fbffcae912c593c8c996d0617ff">v8::base::CustomMatcherHashMap</a></div><div class="ttdeci">CustomMatcherTemplateHashMapImpl&lt; DefaultAllocationPolicy &gt; CustomMatcherHashMap</div><div class="ttdef"><b>Definition:</b> <a href="hashmap_8h_source.html#l00491">hashmap.h:492</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a8bf7cd00d7b4f4dcbdf94d920cc6575b"><div class="ttname"><a href="namespacev8_1_1base.html#a8bf7cd00d7b4f4dcbdf94d920cc6575b">v8::base::leading_zeros</a></div><div class="ttdeci">template unsigned leading_zeros</div><div class="ttdef"><b>Definition:</b> <a href="division-by-constant_8cc_source.html#l00109">division-by-constant.cc:109</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_ab6a16e677d6f7a037918c8e80a2756e3"><div class="ttname"><a href="namespacev8_1_1base.html#ab6a16e677d6f7a037918c8e80a2756e3">v8::base::WriteUnalignedValue</a></div><div class="ttdeci">static void WriteUnalignedValue(Address p, V value)</div><div class="ttdef"><b>Definition:</b> <a href="base_2memory_8h_source.html#l00041">memory.h:41</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_ad5a29771622da6f7889b7c4b08e6bc20"><div class="ttname"><a href="namespacev8_1_1base.html#ad5a29771622da6f7889b7c4b08e6bc20">v8::base::Divide</a></div><div class="ttdeci">T Divide(T x, T y)</div><div class="ttdef"><b>Definition:</b> <a href="overflowing-math_8h_source.html#l00069">overflowing-math.h:69</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_ae4fff10e3ebd41a16b51534d4e07db1f"><div class="ttname"><a href="namespacev8_1_1base.html#ae4fff10e3ebd41a16b51534d4e07db1f">v8::base::Malloc</a></div><div class="ttdeci">void * Malloc(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="base_2platform_2memory_8h_source.html#l00036">memory.h:36</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_aed4219b45684a3840c8b930b5df90ea9"><div class="ttname"><a href="namespacev8_1_1base.html#aed4219b45684a3840c8b930b5df90ea9">v8::base::Address</a></div><div class="ttdeci">uintptr_t Address</div><div class="ttdef"><b>Definition:</b> <a href="base_2memory_8h_source.html#l00013">memory.h:13</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_af0b04fe9288a783d9de7a19dcfc55fa3"><div class="ttname"><a href="namespacev8_1_1base.html#af0b04fe9288a783d9de7a19dcfc55fa3">v8::base::Free</a></div><div class="ttdeci">void Free(void *memory)</div><div class="ttdef"><b>Definition:</b> <a href="base_2platform_2memory_8h_source.html#l00063">memory.h:63</a></div></div>
<div class="ttc" id="anamespacev8_1_1bigint_html_a6d4d2ce18897aba0f90b3208eca29a5b"><div class="ttname"><a href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">v8::bigint::Add</a></div><div class="ttdeci">void Add(RWDigits Z, Digits X, Digits Y)</div><div class="ttdef"><b>Definition:</b> <a href="vector-arithmetic_8cc_source.html#l00041">vector-arithmetic.cc:41</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_html_ad86b3cf21e19e97ce484f32b894d548c"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">v8::internal::anonymous_namespace{json-stringifier.cc}::i</a></div><div class="ttdeci">size_t i</div><div class="ttdef"><b>Definition:</b> <a href="json-stringifier_8cc_source.html#l00548">json-stringifier.cc:548</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02register-allocator-verifier_8cc_03_html_a470b0a9ff70a894c6311bbf22504d530"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02register-allocator-verifier_8cc_03.html#a470b0a9ff70a894c6311bbf22504d530">v8::internal::compiler::anonymous_namespace{register-allocator-verifier.cc}::GetValue</a></div><div class="ttdeci">int GetValue(const ImmediateOperand *imm)</div><div class="ttdef"><b>Definition:</b> <a href="register-allocator-verifier_8cc_source.html#l00049">register-allocator-verifier.cc:49</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_1_1turboshaft_html_a150110459e689e5960c8c286ed74195e"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#a150110459e689e5960c8c286ed74195e">v8::internal::compiler::turboshaft::Zip</a></div><div class="ttdeci">Zip(Iterables... iterables) -&gt; Zip&lt; Iterables... &gt;</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_1_1turboshaft_html_a208899e03c80ce1b3a5e7cd180efe5da"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#a208899e03c80ce1b3a5e7cd180efe5da">v8::internal::compiler::turboshaft::Float64</a></div><div class="ttdeci">FloatWithBits&lt; 64 &gt; Float64</div><div class="ttdef"><b>Definition:</b> <a href="index_8h_source.html#l00240">index.h:240</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_1_1turboshaft_html_a2b5e79bd829824237e784a6cde29309e"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#a2b5e79bd829824237e784a6cde29309e">v8::internal::compiler::turboshaft::Get</a></div><div class="ttdeci">const Operation &amp; Get(const Graph &amp;graph, OpIndex index)</div><div class="ttdef"><b>Definition:</b> <a href="graph_8h_source.html#l01242">graph.h:1242</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_1_1turboshaft_html_a4848dd2d851e70463d6aa0f136a19218"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#a4848dd2d851e70463d6aa0f136a19218">v8::internal::compiler::turboshaft::Word</a></div><div class="ttdeci">UntaggedUnion&lt; Word32, Word64 &gt; Word</div><div class="ttdef"><b>Definition:</b> <a href="index_8h_source.html#l00541">index.h:541</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_1_1turboshaft_html_a6a4c396274ab184f7fdff3f61b945e6d"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#a6a4c396274ab184f7fdff3f61b945e6d">v8::internal::compiler::turboshaft::l</a></div><div class="ttdeci">l</div><div class="ttdef"><b>Definition:</b> <a href="index_8h_source.html#l00927">index.h:927</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_1_1turboshaft_html_ad5febe2686d18137d814eb2eac567073"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ad5febe2686d18137d814eb2eac567073">v8::internal::compiler::turboshaft::Float32</a></div><div class="ttdeci">FloatWithBits&lt; 32 &gt; Float32</div><div class="ttdef"><b>Definition:</b> <a href="index_8h_source.html#l00239">index.h:239</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_html_a51dcb90ae077172b12d63271c7e7ba0c"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">v8::internal::compiler::end</a></div><div class="ttdeci">Node::Uses::const_iterator end(const Node::Uses &amp;uses)</div><div class="ttdef"><b>Definition:</b> <a href="node_8h_source.html#l00711">node.h:711</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1tracing_html_a96000282e12b2483531025283d63154d"><div class="ttname"><a href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">v8::internal::tracing::type</a></div><div class="ttdeci">unsigned char * type</div><div class="ttdef"><b>Definition:</b> <a href="tracing_2trace-event_8h_source.html#l00457">trace-event.h:457</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_1_1liftoff_html_a4fd3bfb27ef3617bfd107cfce21b277e"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm_1_1liftoff.html#a4fd3bfb27ef3617bfd107cfce21b277e">v8::internal::wasm::liftoff::Binop</a></div><div class="ttdeci">Binop</div><div class="ttdef"><b>Definition:</b> <a href="liftoff-assembler-arm64-inl_8h_source.html#l00871">liftoff-assembler-arm64-inl.h:871</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_1_1liftoff_html_af235e0902cf4fbd4131a93f64a84552d"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm_1_1liftoff.html#af235e0902cf4fbd4131a93f64a84552d">v8::internal::wasm::liftoff::Sub</a></div><div class="ttdeci">void Sub(LiftoffAssembler *lasm, Register dst, Register lhs, Register rhs)</div><div class="ttdef"><b>Definition:</b> <a href="liftoff-assembler-arm-inl_8h_source.html#l01096">liftoff-assembler-arm-inl.h:1096</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a5e6d54ab8913c91a8b9c7cb23d23b241"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a5e6d54ab8913c91a8b9c7cb23d23b241">v8::internal::wasm::r0</a></div><div class="ttdeci">uint32_t WasmInterpreterRuntime int64_t r0</div><div class="ttdef"><b>Definition:</b> <a href="wasm-interpreter_8h_source.html#l00675">wasm-interpreter.h:675</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ac81d27d6edb00aeed62a3e4745b8cba0"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">v8::internal::wasm::void</a></div><div class="ttdeci">typedef void(VECTORCALL PWasmOp)(const uint8_t *code</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_acb72381f9ca78a1b2f55c6946e319a0f"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#acb72381f9ca78a1b2f55c6946e319a0f">v8::internal::wasm::sp</a></div><div class="ttdeci">uint32_t * sp</div><div class="ttdef"><b>Definition:</b> <a href="wasm-interpreter_8h_source.html#l00673">wasm-interpreter.h:673</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html"><div class="ttname"><a href="namespacev8_1_1internal.html">v8::internal</a></div><div class="ttdef"><b>Definition:</b> <a href="api-arguments-inl_8h_source.html#l00020">api-arguments-inl.h:20</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a0142fe827e126a048f164f6405947e72"><div class="ttname"><a href="namespacev8_1_1internal.html#a0142fe827e126a048f164f6405947e72">v8::internal::kMinInt</a></div><div class="ttdeci">constexpr int kMinInt</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00376">globals.h:376</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a056376090775a616a6899356bb607e8c"><div class="ttname"><a href="namespacev8_1_1internal.html#a056376090775a616a6899356bb607e8c">v8::internal::ADD</a></div><div class="ttdeci">constexpr Opcode ADD</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00147">constants-arm.h:147</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a06c0f145c4353404a07cd9a6678e1e78"><div class="ttname"><a href="namespacev8_1_1internal.html#a06c0f145c4353404a07cd9a6678e1e78">v8::internal::CLZ</a></div><div class="ttdeci">constexpr MiscInstructionsBits74 CLZ</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00169">constants-arm.h:169</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a098dabefa775906100fc0134fddaa949"><div class="ttname"><a href="namespacev8_1_1internal.html#a098dabefa775906100fc0134fddaa949">v8::internal::ORR</a></div><div class="ttdeci">constexpr Opcode ORR</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00155">constants-arm.h:155</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a0b4ebb2293f69adc6d2f493fb2bcb8cb"><div class="ttname"><a href="namespacev8_1_1internal.html#a0b4ebb2293f69adc6d2f493fb2bcb8cb">v8::internal::kPcLoadDelta</a></div><div class="ttdeci">constexpr uint8_t kPcLoadDelta</div><div class="ttdef"><b>Definition:</b> <a href="constants-ppc_8h_source.html#l02994">constants-ppc.h:2994</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a0cfab207d565dcf62ebf50f3987e05de"><div class="ttname"><a href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">v8::internal::index</a></div><div class="ttdeci">int index</div><div class="ttdef"><b>Definition:</b> <a href="heap-snapshot-generator_8cc_source.html#l01698">heap-snapshot-generator.cc:1698</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a11888bd362dc923f33f456ad1bb613be"><div class="ttname"><a href="namespacev8_1_1internal.html#a11888bd362dc923f33f456ad1bb613be">v8::internal::ia_x</a></div><div class="ttdeci">constexpr BlockAddrMode ia_x</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00308">constants-arm.h:308</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a139b5b1c24d4735cf7a90c53d34671ee"><div class="ttname"><a href="namespacev8_1_1internal.html#a139b5b1c24d4735cf7a90c53d34671ee">v8::internal::MultiplyLong</a></div><div class="ttdeci">Wide MultiplyLong(Narrow a, Narrow b)</div><div class="ttdef"><b>Definition:</b> <a href="utils_2utils_8h_source.html#l00193">utils.h:193</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a13b463e72e857176eb2bb2c05a20a6e7"><div class="ttname"><a href="namespacev8_1_1internal.html#a13b463e72e857176eb2bb2c05a20a6e7">v8::internal::AND</a></div><div class="ttdeci">constexpr Opcode AND</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00143">constants-arm.h:143</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a18270aa4c822aca963092da30cfcf4ef"><div class="ttname"><a href="namespacev8_1_1internal.html#a18270aa4c822aca963092da30cfcf4ef">v8::internal::B21</a></div><div class="ttdeci">constexpr int B21</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00198">constants-arm.h:198</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a1ac5aaec8d986abe45d958e665beb21a"><div class="ttname"><a href="namespacev8_1_1internal.html#a1ac5aaec8d986abe45d958e665beb21a">v8::internal::kSimd128Size</a></div><div class="ttdeci">constexpr int kSimd128Size</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00697">globals.h:697</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a1adcfb4a26d4a210bcf9495b6e37fe63"><div class="ttname"><a href="namespacev8_1_1internal.html#a1adcfb4a26d4a210bcf9495b6e37fe63">v8::internal::BIC</a></div><div class="ttdeci">constexpr Opcode BIC</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00157">constants-arm.h:157</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a1f752d6859d2360901fc2a58c9548fd8"><div class="ttname"><a href="namespacev8_1_1internal.html#a1f752d6859d2360901fc2a58c9548fd8">v8::internal::kBitsPerByte</a></div><div class="ttdeci">constexpr int kBitsPerByte</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00673">globals.h:673</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a21d9d665673086d49996ef54ee5281f2"><div class="ttname"><a href="namespacev8_1_1internal.html#a21d9d665673086d49996ef54ee5281f2">v8::internal::kPCRegister</a></div><div class="ttdeci">constexpr int kPCRegister</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00050">constants-arm.h:50</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a220ba0e6828fb1f3d46f278875db930f"><div class="ttname"><a href="namespacev8_1_1internal.html#a220ba0e6828fb1f3d46f278875db930f">v8::internal::B25</a></div><div class="ttdeci">constexpr int B25</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00202">constants-arm.h:202</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a24d1ad25be234608cba2d2dc3d35c3c1"><div class="ttname"><a href="namespacev8_1_1internal.html#a24d1ad25be234608cba2d2dc3d35c3c1">v8::internal::Neon32</a></div><div class="ttdeci">constexpr NeonSize Neon32</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00323">constants-arm.h:323</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a271f8ea99b7c0bbd771df015d4e4cf21a0d6e32abfda8a0e47a567344d5ceb07b"><div class="ttname"><a href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a0d6e32abfda8a0e47a567344d5ceb07b">v8::internal::ls</a></div><div class="ttdeci">@ ls</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00094">constants-arm.h:94</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a271f8ea99b7c0bbd771df015d4e4cf21a26bb1f65f8c22d598ef4f4d65aeac9f6"><div class="ttname"><a href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a26bb1f65f8c22d598ef4f4d65aeac9f6">v8::internal::hi</a></div><div class="ttdeci">@ hi</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00093">constants-arm.h:93</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a271f8ea99b7c0bbd771df015d4e4cf21a27057cf7ee0cc1df80d9be4e148a9633"><div class="ttname"><a href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a27057cf7ee0cc1df80d9be4e148a9633">v8::internal::pl</a></div><div class="ttdeci">@ pl</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00090">constants-arm.h:90</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a271f8ea99b7c0bbd771df015d4e4cf21a382cfc7833f9a238ab5ffcfea5060ddd"><div class="ttname"><a href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a382cfc7833f9a238ab5ffcfea5060ddd">v8::internal::overflow</a></div><div class="ttdeci">@ overflow</div><div class="ttdef"><b>Definition:</b> <a href="assembler-ia32_8h_source.html#l00059">assembler-ia32.h:59</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a271f8ea99b7c0bbd771df015d4e4cf21a529d6a26a3d0432bbed6a445c8ad28ba"><div class="ttname"><a href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a529d6a26a3d0432bbed6a445c8ad28ba">v8::internal::lt</a></div><div class="ttdeci">@ lt</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00096">constants-arm.h:96</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a271f8ea99b7c0bbd771df015d4e4cf21a5f686fa958f21956d0c68aabd13dc9df"><div class="ttname"><a href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a5f686fa958f21956d0c68aabd13dc9df">v8::internal::cc</a></div><div class="ttdeci">@ cc</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00088">constants-arm.h:88</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a271f8ea99b7c0bbd771df015d4e4cf21a8a814088d15799a0fa2bac29d01a1ea7"><div class="ttname"><a href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a8a814088d15799a0fa2bac29d01a1ea7">v8::internal::ne</a></div><div class="ttdeci">@ ne</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00086">constants-arm.h:86</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a271f8ea99b7c0bbd771df015d4e4cf21a943ef56601cf77621c78e618318f254b"><div class="ttname"><a href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a943ef56601cf77621c78e618318f254b">v8::internal::cs</a></div><div class="ttdeci">@ cs</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00087">constants-arm.h:87</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a271f8ea99b7c0bbd771df015d4e4cf21a99a496d56c70992995dc7ad3ee059112"><div class="ttname"><a href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a99a496d56c70992995dc7ad3ee059112">v8::internal::le</a></div><div class="ttdeci">@ le</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00098">constants-arm.h:98</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a271f8ea99b7c0bbd771df015d4e4cf21a9e44b6ecb793a2111361fdc222293eaa"><div class="ttname"><a href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a9e44b6ecb793a2111361fdc222293eaa">v8::internal::kSpecialCondition</a></div><div class="ttdeci">@ kSpecialCondition</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00102">constants-arm.h:102</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a271f8ea99b7c0bbd771df015d4e4cf21aa5296c25e35b433aabbd501b5e1af877"><div class="ttname"><a href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21aa5296c25e35b433aabbd501b5e1af877">v8::internal::ge</a></div><div class="ttdeci">@ ge</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00095">constants-arm.h:95</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a271f8ea99b7c0bbd771df015d4e4cf21aa65649c45ab8dd61c6c0ecb29a0b5702"><div class="ttname"><a href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21aa65649c45ab8dd61c6c0ecb29a0b5702">v8::internal::vc</a></div><div class="ttdeci">@ vc</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00092">constants-arm.h:92</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a271f8ea99b7c0bbd771df015d4e4cf21ab98311bd5d26f656d79f7bc7f50d16b3"><div class="ttname"><a href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21ab98311bd5d26f656d79f7bc7f50d16b3">v8::internal::mi</a></div><div class="ttdeci">@ mi</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00089">constants-arm.h:89</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a271f8ea99b7c0bbd771df015d4e4cf21ac28488f3a9f86da469ea820d35227d99"><div class="ttname"><a href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21ac28488f3a9f86da469ea820d35227d99">v8::internal::al</a></div><div class="ttdeci">@ al</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00099">constants-arm.h:99</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a271f8ea99b7c0bbd771df015d4e4cf21ad039143c13b22cefede508a8fbb52d04"><div class="ttname"><a href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21ad039143c13b22cefede508a8fbb52d04">v8::internal::vs</a></div><div class="ttdeci">@ vs</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00091">constants-arm.h:91</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a271f8ea99b7c0bbd771df015d4e4cf21ae695019b1d6a3dc7d791935ee35f2b0e"><div class="ttname"><a href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21ae695019b1d6a3dc7d791935ee35f2b0e">v8::internal::carry</a></div><div class="ttdeci">@ carry</div><div class="ttdef"><b>Definition:</b> <a href="assembler-ia32_8h_source.html#l00077">assembler-ia32.h:77</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a271f8ea99b7c0bbd771df015d4e4cf21aef89ff7bd9abfd0deb210fbcadd24123"><div class="ttname"><a href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21aef89ff7bd9abfd0deb210fbcadd24123">v8::internal::eq</a></div><div class="ttdeci">@ eq</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00085">constants-arm.h:85</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a271f8ea99b7c0bbd771df015d4e4cf21affbfee1764a5cebe43e31ae7af635ddf"><div class="ttname"><a href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21affbfee1764a5cebe43e31ae7af635ddf">v8::internal::gt</a></div><div class="ttdeci">@ gt</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00097">constants-arm.h:97</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a299077ba9d3c66b2a985c37cee391e56"><div class="ttname"><a href="namespacev8_1_1internal.html#a299077ba9d3c66b2a985c37cee391e56">v8::internal::db_x</a></div><div class="ttdeci">constexpr BlockAddrMode db_x</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00309">constants-arm.h:309</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a3151f00b878812b835d68f0790b97214"><div class="ttname"><a href="namespacev8_1_1internal.html#a3151f00b878812b835d68f0790b97214">v8::internal::DEFINE_LAZY_LEAKY_OBJECT_GETTER</a></div><div class="ttdeci">DEFINE_LAZY_LEAKY_OBJECT_GETTER(base::RecursiveMutex, StdoutStream::GetStdoutMutex) namespace</div><div class="ttdef"><b>Definition:</b> <a href="ostreams_8cc_source.html#l00117">ostreams.cc:117</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a32abac64e4721dac677f04db429e5050"><div class="ttname"><a href="namespacev8_1_1internal.html#a32abac64e4721dac677f04db429e5050">v8::internal::Neon8</a></div><div class="ttdeci">constexpr NeonSize Neon8</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00321">constants-arm.h:321</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a3324b07f01a8527a75c5c72a4c09d9d9"><div class="ttname"><a href="namespacev8_1_1internal.html#a3324b07f01a8527a75c5c72a4c09d9d9">v8::internal::Instr</a></div><div class="ttdeci">int32_t Instr</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00138">constants-arm.h:138</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a3412aa21685f28d565faccc09204f685"><div class="ttname"><a href="namespacev8_1_1internal.html#a3412aa21685f28d565faccc09204f685">v8::internal::RSC</a></div><div class="ttdeci">constexpr Opcode RSC</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00150">constants-arm.h:150</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a3430752cde9f29d73e97ceed1bce0856"><div class="ttname"><a href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">v8::internal::PrintF</a></div><div class="ttdeci">void PrintF(const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="utils_2utils_8cc_source.html#l00039">utils.cc:39</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a3483f39c23e0616216bebaf3f205b6ad"><div class="ttname"><a href="namespacev8_1_1internal.html#a3483f39c23e0616216bebaf3f205b6ad">v8::internal::ReadLine</a></div><div class="ttdeci">char * ReadLine(const char *prompt)</div><div class="ttdef"><b>Definition:</b> <a href="utils_2utils_8cc_source.html#l00069">utils.cc:69</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a378e0205efb845f60f652f19d5e7ff76"><div class="ttname"><a href="namespacev8_1_1internal.html#a378e0205efb845f60f652f19d5e7ff76">v8::internal::MOV</a></div><div class="ttdeci">constexpr Opcode MOV</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00156">constants-arm.h:156</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a38f28050fc11e6d66cbe32c2471a9bb2"><div class="ttname"><a href="namespacev8_1_1internal.html#a38f28050fc11e6d66cbe32c2471a9bb2">v8::internal::kMaxStopCode</a></div><div class="ttdeci">constexpr uint32_t kMaxStopCode</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00371">constants-arm.h:371</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a39a0bce6d02fc48e14a0c5c01c6fee3b"><div class="ttname"><a href="namespacev8_1_1internal.html#a39a0bce6d02fc48e14a0c5c01c6fee3b">v8::internal::JSMax</a></div><div class="ttdeci">T JSMax(T x, T y)</div><div class="ttdef"><b>Definition:</b> <a href="utils_2utils_8h_source.html#l00075">utils.h:75</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a3bf382edcd7bb1087a5b70868e574d33"><div class="ttname"><a href="namespacev8_1_1internal.html#a3bf382edcd7bb1087a5b70868e574d33">v8::internal::LSR</a></div><div class="ttdeci">constexpr ShiftOp LSR</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00249">constants-arm.h:249</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a3cd423074ca4abdb90bb8eee03b85fee"><div class="ttname"><a href="namespacev8_1_1internal.html#a3cd423074ca4abdb90bb8eee03b85fee">v8::internal::NeonSize</a></div><div class="ttdeci">int NeonSize</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00320">constants-arm.h:320</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a4116fc694fcca568217428b5b5b7c86e"><div class="ttname"><a href="namespacev8_1_1internal.html#a4116fc694fcca568217428b5b5b7c86e">v8::internal::kPointerSize</a></div><div class="ttdeci">constexpr int kPointerSize</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00590">globals.h:590</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a452c02ca200687366d0f0772dc51dc2c"><div class="ttname"><a href="namespacev8_1_1internal.html#a452c02ca200687366d0f0772dc51dc2c">v8::internal::Neon64</a></div><div class="ttdeci">constexpr NeonSize Neon64</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00324">constants-arm.h:324</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a482a900cf1d6664c29baf67386f30c38"><div class="ttname"><a href="namespacev8_1_1internal.html#a482a900cf1d6664c29baf67386f30c38">v8::internal::ASR</a></div><div class="ttdeci">constexpr ShiftOp ASR</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00250">constants-arm.h:250</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a49869fb03a2091922f6638cfac3716b5"><div class="ttname"><a href="namespacev8_1_1internal.html#a49869fb03a2091922f6638cfac3716b5">v8::internal::nlt_3</a></div><div class="ttdeci">constexpr NeonListType nlt_3</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00353">constants-arm.h:353</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a4c76e57483d6c39606703f6d6dde2855"><div class="ttname"><a href="namespacev8_1_1internal.html#a4c76e57483d6c39606703f6d6dde2855">v8::internal::SRegisterFieldMask</a></div><div class="ttdeci">uint32_t SRegisterFieldMask</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00272">constants-arm.h:272</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a4ccd07be6b8a2102dd3b1481df78691d"><div class="ttname"><a href="namespacev8_1_1internal.html#a4ccd07be6b8a2102dd3b1481df78691d">v8::internal::LSL</a></div><div class="ttdeci">constexpr ShiftOp LSL</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00248">constants-arm.h:248</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a4cf86377610a7a844281b43c30e7d8b6"><div class="ttname"><a href="namespacev8_1_1internal.html#a4cf86377610a7a844281b43c30e7d8b6">v8::internal::Abs</a></div><div class="ttdeci">std::make_unsigned_t&lt; T &gt; Abs(T a) requires std</div><div class="ttdef"><b>Definition:</b> <a href="utils_2utils_8h_source.html#l00093">utils.h:93</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5031451934208565c827c86d9eb86c5a"><div class="ttname"><a href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">v8::internal::internal</a></div><div class="ttdeci">internal</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects-inl_8h_source.html#l00453">wasm-objects-inl.h:453</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5297fd2c72981b2220e6b9a831570fb3"><div class="ttname"><a href="namespacev8_1_1internal.html#a5297fd2c72981b2220e6b9a831570fb3">v8::internal::Tagged&lt; Object &gt;</a></div><div class="ttdeci">Tagged&lt; Object &gt;</div><div class="ttdef"><b>Definition:</b> <a href="js-objects-inl_8h_source.html#l00162">js-objects-inl.h:162</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a529dc33676c3b4f79a6d8fa4ff66ff1d"><div class="ttname"><a href="namespacev8_1_1internal.html#a529dc33676c3b4f79a6d8fa4ff66ff1d">v8::internal::ArrayUniquePtr</a></div><div class="ttdeci">std::unique_ptr&lt; T, ArrayDeleter&lt; T &gt; &gt; ArrayUniquePtr</div><div class="ttdef"><b>Definition:</b> <a href="src_2utils_2allocation_8h_source.html#l00073">allocation.h:73</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a57e8bd6c5d995eea94ab3e3f0fc64fcb"><div class="ttname"><a href="namespacev8_1_1internal.html#a57e8bd6c5d995eea94ab3e3f0fc64fcb">v8::internal::nlt_2</a></div><div class="ttdeci">constexpr NeonListType nlt_2</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00352">constants-arm.h:352</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a58578a07334d81a9c8cd700020ff9b78"><div class="ttname"><a href="namespacev8_1_1internal.html#a58578a07334d81a9c8cd700020ff9b78">v8::internal::N</a></div><div class="ttdeci">constexpr int N</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00179">constants-arm.h:179</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5c0638f3b3fdf18fbc60bccb48ed4f07"><div class="ttname"><a href="namespacev8_1_1internal.html#a5c0638f3b3fdf18fbc60bccb48ed4f07">v8::internal::BKPT</a></div><div class="ttdeci">constexpr MiscInstructionsBits74 BKPT</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00166">constants-arm.h:166</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a619f42313106d5a8553ce2109e24195c"><div class="ttname"><a href="namespacev8_1_1internal.html#a619f42313106d5a8553ce2109e24195c">v8::internal::kBreakpoint</a></div><div class="ttdeci">constexpr SoftwareInterruptCodes kBreakpoint</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00367">constants-arm.h:367</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a67a51b6314a9bc8a8c44c5fe14149e6c"><div class="ttname"><a href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">v8::internal::key</a></div><div class="ttdeci">int32_t key</div><div class="ttdef"><b>Definition:</b> <a href="external-reference_8cc_source.html#l01408">external-reference.cc:1408</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a68432e0286fadb63d524e475affa65fb"><div class="ttname"><a href="namespacev8_1_1internal.html#a68432e0286fadb63d524e475affa65fb">v8::internal::L</a></div><div class="ttdeci">constexpr int L</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00174">constants-arm.h:174</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a6a931940c24668beb79973ad102f3cb5"><div class="ttname"><a href="namespacev8_1_1internal.html#a6a931940c24668beb79973ad102f3cb5">v8::internal::RM</a></div><div class="ttdeci">constexpr VFPRoundingMode RM</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00404">constants-arm.h:404</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a6b717bb53640adb6d9de62f718e70b3a"><div class="ttname"><a href="namespacev8_1_1internal.html#a6b717bb53640adb6d9de62f718e70b3a">v8::internal::Print</a></div><div class="ttdeci">void Print(Tagged&lt; Object &gt; obj)</div><div class="ttdef"><b>Definition:</b> <a href="objects_8h_source.html#l00772">objects.h:772</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a6dc2d01b77f88ddef53fca519cfb7a04"><div class="ttname"><a href="namespacev8_1_1internal.html#a6dc2d01b77f88ddef53fca519cfb7a04">v8::internal::Neon16</a></div><div class="ttdeci">constexpr NeonSize Neon16</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00322">constants-arm.h:322</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a6f1943474fd06f891126f85d85b2e2b0"><div class="ttname"><a href="namespacev8_1_1internal.html#a6f1943474fd06f891126f85d85b2e2b0">v8::internal::B24</a></div><div class="ttdeci">constexpr int B24</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00201">constants-arm.h:201</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a756a787b2f8c9a6932a551ce3283ea0b"><div class="ttname"><a href="namespacev8_1_1internal.html#a756a787b2f8c9a6932a551ce3283ea0b">v8::internal::kDoublePrecision</a></div><div class="ttdeci">constexpr VFPRegPrecision kDoublePrecision</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00377">constants-arm.h:377</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a789d452d0e3d1bf6fa338365e7fdc7f2"><div class="ttname"><a href="namespacev8_1_1internal.html#a789d452d0e3d1bf6fa338365e7fdc7f2">v8::internal::kCallRtRedirected</a></div><div class="ttdeci">constexpr SoftwareInterruptCodes kCallRtRedirected</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00365">constants-arm.h:365</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a78d12ce59fd0fda921537bf154ec1853"><div class="ttname"><a href="namespacev8_1_1internal.html#a78d12ce59fd0fda921537bf154ec1853">v8::internal::SBC</a></div><div class="ttdeci">constexpr Opcode SBC</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00149">constants-arm.h:149</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a7c6a628936bd7a17e8ec424da0a09d70"><div class="ttname"><a href="namespacev8_1_1internal.html#a7c6a628936bd7a17e8ec424da0a09d70">v8::internal::VFPRoundingMode</a></div><div class="ttdeci">int VFPRoundingMode</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00401">constants-arm.h:401</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a7dbb75f29f0db9e81bd5cbe7316b1604"><div class="ttname"><a href="namespacev8_1_1internal.html#a7dbb75f29f0db9e81bd5cbe7316b1604">v8::internal::kMaxCParameters</a></div><div class="ttdeci">static constexpr int kMaxCParameters</div><div class="ttdef"><b>Definition:</b> <a href="macro-assembler_8h_source.html#l00097">macro-assembler.h:97</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a8002b4a0fe4f465e8a6261cff4e9b66d"><div class="ttname"><a href="namespacev8_1_1internal.html#a8002b4a0fe4f465e8a6261cff4e9b66d">v8::internal::GetCurrentStackPosition</a></div><div class="ttdeci">uintptr_t GetCurrentStackPosition()</div><div class="ttdef"><b>Definition:</b> <a href="utils_2utils_8cc_source.html#l00222">utils.cc:222</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a84522852454ffb8c61432c630b924324"><div class="ttname"><a href="namespacev8_1_1internal.html#a84522852454ffb8c61432c630b924324">v8::internal::da_x</a></div><div class="ttdeci">constexpr BlockAddrMode da_x</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00307">constants-arm.h:307</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a886de80f96659a62e753bdd21fdb6493"><div class="ttname"><a href="namespacev8_1_1internal.html#a886de80f96659a62e753bdd21fdb6493">v8::internal::MVN</a></div><div class="ttdeci">constexpr Opcode MVN</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00158">constants-arm.h:158</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a8899d90340d811cd369173aac228774e"><div class="ttname"><a href="namespacev8_1_1internal.html#a8899d90340d811cd369173aac228774e">v8::internal::ShortPrint</a></div><div class="ttdeci">void ShortPrint(Tagged&lt; Object &gt; obj, FILE *out)</div><div class="ttdef"><b>Definition:</b> <a href="objects_8cc_source.html#l01869">objects.cc:1869</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a895a9227812e9460e493ff1932f8acc4"><div class="ttname"><a href="namespacev8_1_1internal.html#a895a9227812e9460e493ff1932f8acc4">v8::internal::kNoRegister</a></div><div class="ttdeci">constexpr int kNoRegister</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00051">constants-arm.h:51</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a94883fb9ed21fecd7d7b8d49b6c89abc"><div class="ttname"><a href="namespacev8_1_1internal.html#a94883fb9ed21fecd7d7b8d49b6c89abc">v8::internal::RZ</a></div><div class="ttdeci">constexpr VFPRoundingMode RZ</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00405">constants-arm.h:405</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a9860d42ff487a051d945dbc5961a7c35"><div class="ttname"><a href="namespacev8_1_1internal.html#a9860d42ff487a051d945dbc5961a7c35">v8::internal::ArithmeticShiftRight</a></div><div class="ttdeci">static T ArithmeticShiftRight(T x, int shift)</div><div class="ttdef"><b>Definition:</b> <a href="utils_2utils_8h_source.html#l00060">utils.h:60</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a9f51c4d0eb075544675ae07126f64d21"><div class="ttname"><a href="namespacev8_1_1internal.html#a9f51c4d0eb075544675ae07126f64d21">v8::internal::SRegister</a></div><div class="ttdeci">int SRegister</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00242">constants-arm.h:242</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa11b2cfc8931283453c2cbee8d10321f"><div class="ttname"><a href="namespacev8_1_1internal.html#aa11b2cfc8931283453c2cbee8d10321f">v8::internal::TEQ</a></div><div class="ttdeci">constexpr Opcode TEQ</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00152">constants-arm.h:152</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa1c02fb24613b6a85bf4765d5b85ceef"><div class="ttname"><a href="namespacev8_1_1internal.html#aa1c02fb24613b6a85bf4765d5b85ceef">v8::internal::BLX</a></div><div class="ttdeci">constexpr MiscInstructionsBits74 BLX</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00165">constants-arm.h:165</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa6b3743bd5d773c552654f2a6c3efa4a"><div class="ttname"><a href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK</a></div><div class="ttdeci">DCHECK(IsNull(value)||IsNativeContext(value)||value==Smi::uninitialized_deserialization_value())</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa9db791c05a0359859a321dcfec42e37"><div class="ttname"><a href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a></div><div class="ttdeci">V8_EXPORT_PRIVATE FlagValues v8_flags</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ab091f89ccb97c1b9bbe0f5ba2d02b856"><div class="ttname"><a href="namespacev8_1_1internal.html#ab091f89ccb97c1b9bbe0f5ba2d02b856">v8::internal::SUB</a></div><div class="ttdeci">constexpr Opcode SUB</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00145">constants-arm.h:145</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ab4719e2c0399e0b32cae7b6ffa30e1c1"><div class="ttname"><a href="namespacev8_1_1internal.html#ab4719e2c0399e0b32cae7b6ffa30e1c1">v8::internal::CMN</a></div><div class="ttdeci">constexpr Opcode CMN</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00154">constants-arm.h:154</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ab4955debfb9384e59e3d4e9fcab5b0a0"><div class="ttname"><a href="namespacev8_1_1internal.html#ab4955debfb9384e59e3d4e9fcab5b0a0">v8::internal::Address</a></div><div class="ttdeci">uintptr_t Address</div><div class="ttdef"><b>Definition:</b> <a href="memcopy_8h_source.html#l00022">memcopy.h:22</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ab68e81a2cff308812425be4140a86478"><div class="ttname"><a href="namespacev8_1_1internal.html#ab68e81a2cff308812425be4140a86478">v8::internal::CPSR_f</a></div><div class="ttdeci">constexpr SRegisterField CPSR_f</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00265">constants-arm.h:265</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ab9619619f112074d2080d2fd1427bc84"><div class="ttname"><a href="namespacev8_1_1internal.html#ab9619619f112074d2080d2fd1427bc84">v8::internal::ShiftOp</a></div><div class="ttdeci">int ShiftOp</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00247">constants-arm.h:247</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ab9a366b114762fc880a39cf87d6ad94b"><div class="ttname"><a href="namespacev8_1_1internal.html#ab9a366b114762fc880a39cf87d6ad94b">v8::internal::r11</a></div><div class="ttdeci">constexpr Register r11</div><div class="ttdef"><b>Definition:</b> <a href="register-arm_8h_source.html#l00336">register-arm.h:336</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_abd00a82b2bd1eea2fd2cb6c5c86fee20"><div class="ttname"><a href="namespacev8_1_1internal.html#abd00a82b2bd1eea2fd2cb6c5c86fee20">v8::internal::ROR</a></div><div class="ttdeci">constexpr ShiftOp ROR</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00251">constants-arm.h:251</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ac1a33b5fd9af1653d346746cdb5c1ac0"><div class="ttname"><a href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">v8::internal::value</a></div><div class="ttdeci">return value</div><div class="ttdef"><b>Definition:</b> <a href="map-inl_8h_source.html#l00912">map-inl.h:912</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ac299e59759eecb4621f6bad64d5db952"><div class="ttname"><a href="namespacev8_1_1internal.html#ac299e59759eecb4621f6bad64d5db952">v8::internal::IsSmi</a></div><div class="ttdeci">constexpr bool IsSmi(TaggedImpl&lt; kRefType, StorageType &gt; obj)</div><div class="ttdef"><b>Definition:</b> <a href="objects_8h_source.html#l00666">objects.h:666</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ac346df9da20a421df9ec2aa8819aca04"><div class="ttname"><a href="namespacev8_1_1internal.html#ac346df9da20a421df9ec2aa8819aca04">v8::internal::RN</a></div><div class="ttdeci">constexpr VFPRoundingMode RN</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00402">constants-arm.h:402</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ac3ae3605bcdba7262f327c91f0b90ae0"><div class="ttname"><a href="namespacev8_1_1internal.html#ac3ae3605bcdba7262f327c91f0b90ae0">v8::internal::this</a></div><div class="ttdeci">!IsContextMap this</div><div class="ttdef"><b>Definition:</b> <a href="map-inl_8h_source.html#l00891">map-inl.h:891</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ac4de6d8713a07a082956ad23444a816b"><div class="ttname"><a href="namespacev8_1_1internal.html#ac4de6d8713a07a082956ad23444a816b">v8::internal::TST</a></div><div class="ttdeci">constexpr Opcode TST</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00151">constants-arm.h:151</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ac915558733f2fceaec1860dd81c6df7f"><div class="ttname"><a href="namespacev8_1_1internal.html#ac915558733f2fceaec1860dd81c6df7f">v8::internal::kInstrSize</a></div><div class="ttdeci">constexpr uint8_t kInstrSize</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00448">constants-arm.h:448</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_acc6b3f72193644afebe2feedf6bff8e7"><div class="ttname"><a href="namespacev8_1_1internal.html#acc6b3f72193644afebe2feedf6bff8e7">v8::internal::ADC</a></div><div class="ttdeci">constexpr Opcode ADC</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00148">constants-arm.h:148</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ad03e50e4d15ee0da6a722254f350e7eb"><div class="ttname"><a href="namespacev8_1_1internal.html#ad03e50e4d15ee0da6a722254f350e7eb">v8::internal::kMaxInt</a></div><div class="ttdeci">constexpr int kMaxInt</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00375">globals.h:375</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ad2f7c070bd7891bb4de30985b7ddc790"><div class="ttname"><a href="namespacev8_1_1internal.html#ad2f7c070bd7891bb4de30985b7ddc790">v8::internal::EOR</a></div><div class="ttdeci">constexpr Opcode EOR</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00144">constants-arm.h:144</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ad5c931e96109b82c1ef881e7e77da05c"><div class="ttname"><a href="namespacev8_1_1internal.html#ad5c931e96109b82c1ef881e7e77da05c">v8::internal::CMP</a></div><div class="ttdeci">constexpr Opcode CMP</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00153">constants-arm.h:153</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ad7078f6744a97644b10ee2e277323a75"><div class="ttname"><a href="namespacev8_1_1internal.html#ad7078f6744a97644b10ee2e277323a75">v8::internal::kVFPRoundingModeMask</a></div><div class="ttdeci">const uint32_t kVFPRoundingModeMask</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00413">constants-arm.h:413</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ad8fcb8e4b8780dca8f533f30b3760d9c"><div class="ttname"><a href="namespacev8_1_1internal.html#ad8fcb8e4b8780dca8f533f30b3760d9c">v8::internal::nlt_1</a></div><div class="ttdeci">constexpr NeonListType nlt_1</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00351">constants-arm.h:351</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ada67458c5a8e8c0ade0017e5d3c56fd3"><div class="ttname"><a href="namespacev8_1_1internal.html#ada67458c5a8e8c0ade0017e5d3c56fd3">v8::internal::kDoubleSize</a></div><div class="ttdeci">constexpr int kDoubleSize</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00408">globals.h:408</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_adb57ffb4347fa5107e9da4a9b2ed6fc0"><div class="ttname"><a href="namespacev8_1_1internal.html#adb57ffb4347fa5107e9da4a9b2ed6fc0">v8::internal::RSB</a></div><div class="ttdeci">constexpr Opcode RSB</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00146">constants-arm.h:146</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_adf37e425e8cd61ae876401cb02e35217"><div class="ttname"><a href="namespacev8_1_1internal.html#adf37e425e8cd61ae876401cb02e35217">v8::internal::BX</a></div><div class="ttdeci">constexpr MiscInstructionsBits74 BX</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00163">constants-arm.h:163</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_adfc2f19946b77a3dab15d5257df4b53d"><div class="ttname"><a href="namespacev8_1_1internal.html#adfc2f19946b77a3dab15d5257df4b53d">v8::internal::nlt_4</a></div><div class="ttdeci">constexpr NeonListType nlt_4</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00354">constants-arm.h:354</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ae0ee98c9174e5955450c56da22cb8f6a"><div class="ttname"><a href="namespacev8_1_1internal.html#ae0ee98c9174e5955450c56da22cb8f6a">v8::internal::MemCopy</a></div><div class="ttdeci">void MemCopy(void *dest, const void *src, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="memcopy_8h_source.html#l00124">memcopy.h:124</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ae14e6362993db69563ab083b46626ba6"><div class="ttname"><a href="namespacev8_1_1internal.html#ae14e6362993db69563ab083b46626ba6">v8::internal::kSinglePrecision</a></div><div class="ttdeci">constexpr VFPRegPrecision kSinglePrecision</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00376">constants-arm.h:376</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ae4faefd6752e5371d1d82848c8034485"><div class="ttname"><a href="namespacev8_1_1internal.html#ae4faefd6752e5371d1d82848c8034485">v8::internal::CPSR</a></div><div class="ttdeci">constexpr SRegister CPSR</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00243">constants-arm.h:243</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ae5fc7dfc0625c0d2a6bca971abf68365"><div class="ttname"><a href="namespacev8_1_1internal.html#ae5fc7dfc0625c0d2a6bca971abf68365">v8::internal::kShortSize</a></div><div class="ttdeci">constexpr int kShortSize</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00398">globals.h:398</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ae73733e872be93099e05fcbd9e064c7d"><div class="ttname"><a href="namespacev8_1_1internal.html#ae73733e872be93099e05fcbd9e064c7d">v8::internal::kSimd128Precision</a></div><div class="ttdeci">constexpr VFPRegPrecision kSimd128Precision</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00378">constants-arm.h:378</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ae74c1cbae19c6aa1de418121c926847e"><div class="ttname"><a href="namespacev8_1_1internal.html#ae74c1cbae19c6aa1de418121c926847e">v8::internal::FastD2IChecked</a></div><div class="ttdeci">int FastD2IChecked(double x)</div><div class="ttdef"><b>Definition:</b> <a href="conversions_8h_source.html#l00091">conversions.h:91</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_af04f4104c077ccbaef7596e23816a254"><div class="ttname"><a href="namespacev8_1_1internal.html#af04f4104c077ccbaef7596e23816a254">v8::internal::status</a></div><div class="ttdeci">status</div><div class="ttdef"><b>Definition:</b> <a href="js-disposable-stack-inl_8h_source.html#l00034">js-disposable-stack-inl.h:34</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_af0dab10b381e1e2174327481108e625c"><div class="ttname"><a href="namespacev8_1_1internal.html#af0dab10b381e1e2174327481108e625c">v8::internal::ib_x</a></div><div class="ttdeci">constexpr BlockAddrMode ib_x</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00310">constants-arm.h:310</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_af154c349adfe7801ac73d4be545d1336"><div class="ttname"><a href="namespacev8_1_1internal.html#af154c349adfe7801ac73d4be545d1336">v8::internal::is_signed</a></div><div class="ttdeci">bool is_signed(Condition cond)</div><div class="ttdef"><b>Definition:</b> <a href="constants-ppc_8h_source.html#l00172">constants-ppc.h:172</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_af3062426b30700f6e44db327c36fe083"><div class="ttname"><a href="namespacev8_1_1internal.html#af3062426b30700f6e44db327c36fe083">v8::internal::JSMin</a></div><div class="ttdeci">T JSMin(T x, T y)</div><div class="ttdef"><b>Definition:</b> <a href="utils_2utils_8h_source.html#l00084">utils.h:84</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_af4dac4fd89643ceaa9c7fe78bd0d0850"><div class="ttname"><a href="namespacev8_1_1internal.html#af4dac4fd89643ceaa9c7fe78bd0d0850">v8::internal::IsValidHeapObject</a></div><div class="ttdeci">V8_WARN_UNUSED_RESULT bool IsValidHeapObject(Heap *heap, Tagged&lt; HeapObject &gt; object)</div><div class="ttdef"><b>Definition:</b> <a href="combined-heap_8h_source.html#l00031">combined-heap.h:31</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_af53a839b8395922f49d2ec23783cca6f"><div class="ttname"><a href="namespacev8_1_1internal.html#af53a839b8395922f49d2ec23783cca6f">v8::internal::ByteReverse</a></div><div class="ttdeci">static V ByteReverse(V value)</div><div class="ttdef"><b>Definition:</b> <a href="utils_2utils_8h_source.html#l00800">utils.h:800</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_af7cc8d14710a0726228ca971d2cc21dd"><div class="ttname"><a href="namespacev8_1_1internal.html#af7cc8d14710a0726228ca971d2cc21dd">v8::internal::kStopCodeMask</a></div><div class="ttdeci">constexpr uint32_t kStopCodeMask</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00370">constants-arm.h:370</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_afaac3cc4a40f6f5494b861f6313bf922"><div class="ttname"><a href="namespacev8_1_1internal.html#afaac3cc4a40f6f5494b861f6313bf922">v8::internal::kNumRegisters</a></div><div class="ttdeci">constexpr int kNumRegisters</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00040">constants-arm.h:40</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_afaba3ab6789d8667b2e54b8a3a01011f"><div class="ttname"><a href="namespacev8_1_1internal.html#afaba3ab6789d8667b2e54b8a3a01011f">v8::internal::VFPRegPrecision</a></div><div class="ttdeci">int VFPRegPrecision</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00375">constants-arm.h:375</a></div></div>
<div class="ttc" id="anamespacev8_html"><div class="ttname"><a href="namespacev8.html">v8</a></div><div class="ttdoc">This file provides additional API on top of the default one for making API calls, which come from emb...</div><div class="ttdef"><b>Definition:</b> <a href="api-arguments-inl_8h_source.html#l00019">api-arguments-inl.h:19</a></div></div>
<div class="ttc" id="anamespacev8_html_a05f25f935e108a1ea2d150e274602b87a7ab4d58719c33b3ea2dfaefa29b111df"><div class="ttname"><a href="namespacev8.html#a05f25f935e108a1ea2d150e274602b87a7ab4d58719c33b3ea2dfaefa29b111df">v8::None</a></div><div class="ttdeci">@ None</div><div class="ttdoc">None.</div><div class="ttdef"><b>Definition:</b> <a href="v8-object_8h_source.html#l00143">v8-object.h:143</a></div></div>
<div class="ttc" id="aobjects-inl_8h_html"><div class="ttname"><a href="objects-inl_8h.html">objects-inl.h</a></div></div>
<div class="ttc" id="aostreams_8h_html"><div class="ttname"><a href="ostreams_8h.html">ostreams.h</a></div></div>
<div class="ttc" id="aoverflowing-math_8h_html"><div class="ttname"><a href="overflowing-math_8h.html">overflowing-math.h</a></div></div>
<div class="ttc" id="aruntime-utils_8h_html"><div class="ttname"><a href="runtime-utils_8h.html">runtime-utils.h</a></div></div>
<div class="ttc" id="asimulator-arm_8h_html"><div class="ttname"><a href="simulator-arm_8h.html">simulator-arm.h</a></div></div>
<div class="ttc" id="asrc_2base_2compiler-specific_8h_html_a1612bbbeb77bf63d9adf925d7e1f1571"><div class="ttname"><a href="src_2base_2compiler-specific_8h.html#a1612bbbeb77bf63d9adf925d7e1f1571">V8_DEBUGGING_EXPORT</a></div><div class="ttdeci">#define V8_DEBUGGING_EXPORT</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2compiler-specific_8h_source.html#l00144">compiler-specific.h:144</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html"><div class="ttname"><a href="src_2base_2logging_8h.html">logging.h</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a0bc63b24b654ca433be7b97a3edde132"><div class="ttname"><a href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a></div><div class="ttdeci">#define UNREACHABLE()</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00067">logging.h:67</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a16b382527f19b805fc8f856668f2270b"><div class="ttname"><a href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a></div><div class="ttdeci">#define DCHECK_LE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00489">logging.h:489</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a3e1cfef60e774a81f30eaddf26a3a274"><div class="ttname"><a href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a></div><div class="ttdeci">#define CHECK(condition)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00124">logging.h:124</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a7b9f9517fedacc2a1a56c2bbb9d03688"><div class="ttname"><a href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a></div><div class="ttdeci">#define DCHECK_NOT_NULL(val)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00491">logging.h:491</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a96a75539aa82216cdde2250a11126ea0"><div class="ttname"><a href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a></div><div class="ttdeci">#define DCHECK_IMPLIES(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00492">logging.h:492</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a986dc8f4ec6dcd0644efe205c13f8eb7"><div class="ttname"><a href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a></div><div class="ttdeci">#define DCHECK_NE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00485">logging.h:485</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_aabec5c3b7a8628298a25f044dcf89c25"><div class="ttname"><a href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a></div><div class="ttdeci">#define DCHECK_GE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00487">logging.h:487</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_aca32614b4d2aea7dd9abdeb222bf02f3"><div class="ttname"><a href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a></div><div class="ttdeci">#define CHECK_EQ(lhs, rhs)</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_add09d39ec888c2d7e12877586f29368d"><div class="ttname"><a href="src_2base_2logging_8h.html#add09d39ec888c2d7e12877586f29368d">UNIMPLEMENTED</a></div><div class="ttdeci">#define UNIMPLEMENTED()</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00066">logging.h:66</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_ae17f8119c108cf3070bad3449c7e0006"><div class="ttname"><a href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a></div><div class="ttdeci">#define DCHECK(condition)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00481">logging.h:481</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_af9c313d74155f7f201955a939e24c71f"><div class="ttname"><a href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a></div><div class="ttdeci">#define DCHECK_EQ(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00484">logging.h:484</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_afd957f297df7e9ee36c46185e961485f"><div class="ttname"><a href="src_2base_2logging_8h.html#afd957f297df7e9ee36c46185e961485f">DCHECK_GT</a></div><div class="ttdeci">#define DCHECK_GT(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00486">logging.h:486</a></div></div>
<div class="ttc" id="asrc_2base_2macros_8h_html_adafd98459092322383b0f5ebcc7c342f"><div class="ttname"><a href="src_2base_2macros_8h.html#adafd98459092322383b0f5ebcc7c342f">V8PRIxPTR</a></div><div class="ttdeci">#define V8PRIxPTR</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2macros_8h_source.html#l00331">macros.h:331</a></div></div>
<div class="ttc" id="asrc_2base_2platform_2platform_8h_html"><div class="ttname"><a href="src_2base_2platform_2platform_8h.html">platform.h</a></div></div>
<div class="ttc" id="astack_8h_html"><div class="ttname"><a href="stack_8h.html">stack.h</a></div></div>
<div class="ttc" id="autils_2utils_8h_html"><div class="ttname"><a href="utils_2utils_8h.html">utils.h</a></div></div>
<div class="ttc" id="avector_8h_html"><div class="ttname"><a href="vector_8h.html">vector.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_19225156eb7ba052e31d1a736469917a.html">mnt</a></li><li class="navelem"><a class="el" href="dir_3536f6d353061322e9ef91134b76e9ed.html">V8SourceCode</a></li><li class="navelem"><a class="el" href="dir_fbd53c45610d490c9fb8d0716db4e3a3.html">src</a></li><li class="navelem"><a class="el" href="dir_116362202f96d82e56110e06b1da018d.html">execution</a></li><li class="navelem"><a class="el" href="dir_aa83d182f8f2dfdaf154d5047a4e97b4.html">arm</a></li><li class="navelem"><a class="el" href="simulator-arm_8cc.html">simulator-arm.cc</a></li>
    <li class="footer">Generated on Thu Jun 12 2025 15:56:21 for V8 Project by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
