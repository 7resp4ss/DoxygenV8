<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>V8 Project: v8::internal::wasm::NativeModule Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">V8 Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classv8_1_1internal_1_1wasm_1_1NativeModule.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classv8_1_1internal_1_1wasm_1_1NativeModule-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">v8::internal::wasm::NativeModule Class Reference<span class="mlabels"><span class="mlabel">final</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for v8::internal::wasm::NativeModule:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule__coll__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1CodeSpaceData.html">CodeSpaceData</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1JumpTablesRef.html">JumpTablesRef</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule_1_1NativeModuleAllocationLockScope.html">NativeModuleAllocationLockScope</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:addb6002d53e166907484bf3715ff599c"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#addb6002d53e166907484bf3715ff599c">RemoveFilter</a> { <br />
&#160;&#160;<a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#addb6002d53e166907484bf3715ff599ca33cfac0f2f3fcd4f110550ece8698472">kRemoveDebugCode</a>
, <a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#addb6002d53e166907484bf3715ff599caeb1f31c38f14cfa2fb295e63efdbdfbd">kRemoveNonDebugCode</a>
, <a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#addb6002d53e166907484bf3715ff599cada482a20b84332aff73499e6174e6436">kRemoveLiftoffCode</a>
, <a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#addb6002d53e166907484bf3715ff599ca69b3b2c8ba3f6cffe3967b55e0cb44fe">kRemoveTurbofanCode</a>
, <br />
&#160;&#160;<a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#addb6002d53e166907484bf3715ff599ca4e6174cad75a8cd8c2becd896f92b135">kRemoveAllCode</a>
<br />
 }</td></tr>
<tr class="separator:addb6002d53e166907484bf3715ff599c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8125eaffd4b01d09e3e172cab5f94d12"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8125eaffd4b01d09e3e172cab5f94d12">JumpTableType</a> { <a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8125eaffd4b01d09e3e172cab5f94d12a4237d3e837c403339afce6a8387246cb">kJumpTable</a>
, <a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8125eaffd4b01d09e3e172cab5f94d12a693267f9d764c2f577d25c2afc461a10">kFarJumpTable</a>
, <a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8125eaffd4b01d09e3e172cab5f94d12a0aeb6cda2e68c213e2a6670941658d8b">kLazyCompileTable</a>
 }</td></tr>
<tr class="separator:a8125eaffd4b01d09e3e172cab5f94d12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91fa3ea02a42f6eb12f120ac558a8ec7"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a91fa3ea02a42f6eb12f120ac558a8ec7">CallIndirectTargetMap</a> = absl::flat_hash_map&lt; <a class="el" href="classv8_1_1internal_1_1WasmCodePointer.html">WasmCodePointer</a>, uint32_t &gt;</td></tr>
<tr class="separator:a91fa3ea02a42f6eb12f120ac558a8ec7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a16196a1962694773b11f2434c5d7becf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a16196a1962694773b11f2434c5d7becf">NativeModule</a> (const <a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html">NativeModule</a> &amp;)=delete</td></tr>
<tr class="separator:a16196a1962694773b11f2434c5d7becf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0d26a5838c3dcc2ad3ed43f09465c5a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html">NativeModule</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#af0d26a5838c3dcc2ad3ed43f09465c5a">operator=</a> (const <a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html">NativeModule</a> &amp;)=delete</td></tr>
<tr class="separator:af0d26a5838c3dcc2ad3ed43f09465c5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a969ac2536a1c63951c940e7f1552c323"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a969ac2536a1c63951c940e7f1552c323">~NativeModule</a> ()</td></tr>
<tr class="separator:a969ac2536a1c63951c940e7f1552c323"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ba7b7564b408b1e7b459849e0e886e4"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a0ba7b7564b408b1e7b459849e0e886e4">DisassembleForLcov</a> (std::ostream &amp;out, std::vector&lt; <a class="el" href="classint.html">int</a> &gt; &amp;function_body_offsets, std::map&lt; uint32_t, uint32_t &gt; &amp;bytecode_disasm_offsets)</td></tr>
<tr class="separator:a0ba7b7564b408b1e7b459849e0e886e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab37173d38eb0a6e707f8636ea5519a8d"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ab37173d38eb0a6e707f8636ea5519a8d">AddCode</a> (<a class="el" href="classint.html">int</a> <a class="el" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, const <a class="el" href="classv8_1_1internal_1_1CodeDesc.html">CodeDesc</a> &amp;desc, <a class="el" href="classint.html">int</a> stack_slots, <a class="el" href="classint.html">int</a> ool_spill_count, uint32_t tagged_parameter_slots, <a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; const uint8_t &gt; protected_instructions, <a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; const uint8_t &gt; source_position_table, <a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; const uint8_t &gt; inlining_positions, <a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; const uint8_t &gt; deopt_data, <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a236d413616e672cc2cda31bb7a4fc04d">WasmCode::Kind</a> kind, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9">ExecutionTier</a> <a class="el" href="flag-definitions_8h.html#a878783ad616ead06040f7d4b080f6a02">tier</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a11df36d2f23b22c6772f3a5f08731b5b">ForDebugging</a> for_debugging)</td></tr>
<tr class="separator:ab37173d38eb0a6e707f8636ea5519a8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91db58c0a3ed6efdba8d82e23a659fa7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a91db58c0a3ed6efdba8d82e23a659fa7">PublishCode</a> (<a class="el" href="structv8_1_1internal_1_1wasm_1_1UnpublishedWasmCode.html">UnpublishedWasmCode</a>)</td></tr>
<tr class="separator:a91db58c0a3ed6efdba8d82e23a659fa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77032a9badd038815c22969e9f073578"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a77032a9badd038815c22969e9f073578">PublishCode</a> (<a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; <a class="el" href="structv8_1_1internal_1_1wasm_1_1UnpublishedWasmCode.html">UnpublishedWasmCode</a> &gt;)</td></tr>
<tr class="separator:a77032a9badd038815c22969e9f073578"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02cf7c113ae0ade3b2943210fa4bd02a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a02cf7c113ae0ade3b2943210fa4bd02a">UpdateWellKnownImports</a> (<a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; <a class="el" href="namespacev8_1_1internal_1_1wasm.html#afaaaa7fd7a0bc697a4d91133566c5c6e">WellKnownImport</a> &gt; entries)</td></tr>
<tr class="separator:a02cf7c113ae0ade3b2943210fa4bd02a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a813274940c91bd21cf6c10bcfd3b7c40"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a813274940c91bd21cf6c10bcfd3b7c40">ReinstallDebugCode</a> (<a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a> *)</td></tr>
<tr class="separator:a813274940c91bd21cf6c10bcfd3b7c40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a460c056c89d554e3a4a8dfcb8ffc22b4"><td class="memItemLeft" align="right" valign="top">std::pair&lt; <a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; uint8_t &gt;, <a class="el" href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1JumpTablesRef.html">JumpTablesRef</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a460c056c89d554e3a4a8dfcb8ffc22b4">AllocateForDeserializedCode</a> (<a class="el" href="namespacev8_1_1internal.html#a4725962ca3c127eb5871cb47293aee95">size_t</a> total_code_size)</td></tr>
<tr class="separator:a460c056c89d554e3a4a8dfcb8ffc22b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b0eed350253b9d2285ebda0bed60eab"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5b0eed350253b9d2285ebda0bed60eab">AddDeserializedCode</a> (<a class="el" href="classint.html">int</a> <a class="el" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, <a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; uint8_t &gt; instructions, <a class="el" href="classint.html">int</a> stack_slots, <a class="el" href="classint.html">int</a> ool_spills, uint32_t tagged_parameter_slots, <a class="el" href="classint.html">int</a> safepoint_table_offset, <a class="el" href="classint.html">int</a> handler_table_offset, <a class="el" href="classint.html">int</a> constant_pool_offset, <a class="el" href="classint.html">int</a> code_comments_offset, <a class="el" href="classint.html">int</a> jump_table_info_offset, <a class="el" href="classint.html">int</a> unpadded_binary_size, <a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; const uint8_t &gt; protected_instructions_data, <a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; const uint8_t &gt; reloc_info, <a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; const uint8_t &gt; source_position_table, <a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; const uint8_t &gt; inlining_positions, <a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; const uint8_t &gt; deopt_data, <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a236d413616e672cc2cda31bb7a4fc04d">WasmCode::Kind</a> kind, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9">ExecutionTier</a> <a class="el" href="flag-definitions_8h.html#a878783ad616ead06040f7d4b080f6a02">tier</a>)</td></tr>
<tr class="separator:a5b0eed350253b9d2285ebda0bed60eab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdeee50fefaf3f7666243cff1a13b3da"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#abdeee50fefaf3f7666243cff1a13b3da">AddCodeForTesting</a> (<a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1Code.html">Code</a> &gt; <a class="el" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>, uint64_t signature_hash)</td></tr>
<tr class="separator:abdeee50fefaf3f7666243cff1a13b3da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7eebb8a25711eac01dfad476ab555f66"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a7eebb8a25711eac01dfad476ab555f66">InitializeJumpTableForLazyCompilation</a> (uint32_t num_wasm_functions)</td></tr>
<tr class="separator:a7eebb8a25711eac01dfad476ab555f66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7e788f315225a2a75db5ecdba7f1da8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ac7e788f315225a2a75db5ecdba7f1da8">InitializeCodePointerTableHandles</a> (uint32_t num_wasm_functions)</td></tr>
<tr class="separator:ac7e788f315225a2a75db5ecdba7f1da8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58ee010c88ea49154c8528518931dbc2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a58ee010c88ea49154c8528518931dbc2">FreeCodePointerTableHandles</a> ()</td></tr>
<tr class="separator:a58ee010c88ea49154c8528518931dbc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafa35dbd8dcc12821a84cb56594ee2df"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aafa35dbd8dcc12821a84cb56594ee2df">UseLazyStubLocked</a> (uint32_t func_index)</td></tr>
<tr class="separator:aafa35dbd8dcc12821a84cb56594ee2df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42240b9985270350c5a898e36da4dcf8"><td class="memItemLeft" align="right" valign="top">std::pair&lt; std::vector&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a> * &gt;, std::vector&lt; <a class="el" href="namespacev8_1_1internal_1_1wasm.html#afaaaa7fd7a0bc697a4d91133566c5c6e">WellKnownImport</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a42240b9985270350c5a898e36da4dcf8">SnapshotCodeTable</a> () const</td></tr>
<tr class="separator:a42240b9985270350c5a898e36da4dcf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26241881bc9c29ebcbfe2109c4a64cf7"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a26241881bc9c29ebcbfe2109c4a64cf7">SnapshotAllOwnedCode</a> () const</td></tr>
<tr class="separator:a26241881bc9c29ebcbfe2109c4a64cf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37a8384fb8317a24c3d58cf66ff64123"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a37a8384fb8317a24c3d58cf66ff64123">GetCode</a> (uint32_t <a class="el" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>) const</td></tr>
<tr class="separator:a37a8384fb8317a24c3d58cf66ff64123"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a50cdbc0772ef702c1401259707e93e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a7a50cdbc0772ef702c1401259707e93e">HasCode</a> (uint32_t <a class="el" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>) const</td></tr>
<tr class="separator:a7a50cdbc0772ef702c1401259707e93e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74d82ac97a7bb02ac5781d209ffe2bc5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a74d82ac97a7bb02ac5781d209ffe2bc5">HasCodeWithTier</a> (uint32_t <a class="el" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9">ExecutionTier</a> <a class="el" href="flag-definitions_8h.html#a878783ad616ead06040f7d4b080f6a02">tier</a>) const</td></tr>
<tr class="separator:a74d82ac97a7bb02ac5781d209ffe2bc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7f35e6098885c81d9915c96d6b7cf9d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#af7f35e6098885c81d9915c96d6b7cf9d">SetWasmSourceMap</a> (std::unique_ptr&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmModuleSourceMap.html">WasmModuleSourceMap</a> &gt; source_map)</td></tr>
<tr class="separator:af7f35e6098885c81d9915c96d6b7cf9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfb76e34f35dc0075dfa6458491ebc59"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmModuleSourceMap.html">WasmModuleSourceMap</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#adfb76e34f35dc0075dfa6458491ebc59">GetWasmSourceMap</a> () const</td></tr>
<tr class="separator:adfb76e34f35dc0075dfa6458491ebc59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad381026fba28fc729be46402fef86e7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aad381026fba28fc729be46402fef86e7">jump_table_start</a> () const</td></tr>
<tr class="separator:aad381026fba28fc729be46402fef86e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c0e38351c07fa1377db0a30e94ac8c0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1c0e38351c07fa1377db0a30e94ac8c0">GetNearCallTargetForFunction</a> (uint32_t func_index, const <a class="el" href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1JumpTablesRef.html">JumpTablesRef</a> &amp;) const</td></tr>
<tr class="separator:a1c0e38351c07fa1377db0a30e94ac8c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8697f83af39e72a0327a6d299e1e23b7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8697f83af39e72a0327a6d299e1e23b7">GetJumpTableEntryForBuiltin</a> (<a class="el" href="namespacev8_1_1internal.html#acc2e164143496f18b5ec68f8ab70af52">Builtin</a> builtin, const <a class="el" href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1JumpTablesRef.html">JumpTablesRef</a> &amp;) const</td></tr>
<tr class="separator:a8697f83af39e72a0327a6d299e1e23b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adda8e2ac30083dec687f18bca0ab5364"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#adda8e2ac30083dec687f18bca0ab5364">GetFunctionIndexFromJumpTableSlot</a> (<a class="el" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a> slot_address) const</td></tr>
<tr class="separator:adda8e2ac30083dec687f18bca0ab5364"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac075badc36b3fdb58a4f15b9a3dd12c9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a91fa3ea02a42f6eb12f120ac558a8ec7">CallIndirectTargetMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ac075badc36b3fdb58a4f15b9a3dd12c9">CreateIndirectCallTargetToFunctionIndexMap</a> () const</td></tr>
<tr class="separator:ac075badc36b3fdb58a4f15b9a3dd12c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dcbc5c21a8a83b7787033a13b7c48ad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5dcbc5c21a8a83b7787033a13b7c48ad">LogWasmCodes</a> (<a class="el" href="classv8_1_1internal_1_1Isolate.html">Isolate</a> *, <a class="el" href="classv8_1_1internal_1_1Tagged.html">Tagged</a>&lt; <a class="el" href="classv8_1_1internal_1_1Script.html">Script</a> &gt;)</td></tr>
<tr class="separator:a5dcbc5c21a8a83b7787033a13b7c48ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56928b35d0408f401ca1d72c8c80162c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1wasm_1_1CompilationState.html">CompilationState</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a56928b35d0408f401ca1d72c8c80162c">compilation_state</a> () const</td></tr>
<tr class="separator:a56928b35d0408f401ca1d72c8c80162c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4210dcf60ee0c22b95de93af93f17f86"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a4210dcf60ee0c22b95de93af93f17f86">num_functions</a> () const</td></tr>
<tr class="separator:a4210dcf60ee0c22b95de93af93f17f86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af886dc3d493824b7a1ae1e1f5ae02e42"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#af886dc3d493824b7a1ae1e1f5ae02e42">num_imported_functions</a> () const</td></tr>
<tr class="separator:af886dc3d493824b7a1ae1e1f5ae02e42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac977ec4aaf9ab4a9c19776faeba24191"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ac977ec4aaf9ab4a9c19776faeba24191">num_declared_functions</a> () const</td></tr>
<tr class="separator:ac977ec4aaf9ab4a9c19776faeba24191"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e2cf8eb151bb99832f4a74921d151dc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a6e2cf8eb151bb99832f4a74921d151dc">set_lazy_compile_frozen</a> (<a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a> frozen)</td></tr>
<tr class="separator:a6e2cf8eb151bb99832f4a74921d151dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a49a036ab412a6c462feba4042ef5e8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9a49a036ab412a6c462feba4042ef5e8">lazy_compile_frozen</a> () const</td></tr>
<tr class="separator:a9a49a036ab412a6c462feba4042ef5e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a957b590c391c9dc0949cdaff8c94cf05"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; const uint8_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a957b590c391c9dc0949cdaff8c94cf05">wire_bytes</a> () const</td></tr>
<tr class="separator:a957b590c391c9dc0949cdaff8c94cf05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04f2f50aa9d1cbc1dc28e60dbe687f74"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html">WasmModule</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a04f2f50aa9d1cbc1dc28e60dbe687f74">module</a> () const</td></tr>
<tr class="separator:a04f2f50aa9d1cbc1dc28e60dbe687f74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1c67fdd89ee3efcc205ed3885a12b36"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; const <a class="el" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html">WasmModule</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ac1c67fdd89ee3efcc205ed3885a12b36">shared_module</a> () const</td></tr>
<tr class="separator:ac1c67fdd89ee3efcc205ed3885a12b36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abacd1cb85a612977eef0bc38deb0e076"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal.html#a4725962ca3c127eb5871cb47293aee95">size_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#abacd1cb85a612977eef0bc38deb0e076">committed_code_space</a> () const</td></tr>
<tr class="separator:abacd1cb85a612977eef0bc38deb0e076"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace040e51368c2c7de01563b07dcb750a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal.html#a4725962ca3c127eb5871cb47293aee95">size_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ace040e51368c2c7de01563b07dcb750a">generated_code_size</a> () const</td></tr>
<tr class="separator:ace040e51368c2c7de01563b07dcb750a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a154048275d5b05da53d4c0abf699988c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal.html#a4725962ca3c127eb5871cb47293aee95">size_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a154048275d5b05da53d4c0abf699988c">liftoff_bailout_count</a> () const</td></tr>
<tr class="separator:a154048275d5b05da53d4c0abf699988c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a211a5d22a3f6f080533b86d76a0cfaef"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal.html#a4725962ca3c127eb5871cb47293aee95">size_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a211a5d22a3f6f080533b86d76a0cfaef">liftoff_code_size</a> () const</td></tr>
<tr class="separator:a211a5d22a3f6f080533b86d76a0cfaef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7649dfa8e42bda70b47f85648f92809e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal.html#a4725962ca3c127eb5871cb47293aee95">size_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a7649dfa8e42bda70b47f85648f92809e">turbofan_code_size</a> () const</td></tr>
<tr class="separator:a7649dfa8e42bda70b47f85648f92809e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a1111455be88abe59c4e98636c15314"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9a1111455be88abe59c4e98636c15314">AddLazyCompilationTimeSample</a> (int64_t sample)</td></tr>
<tr class="separator:a9a1111455be88abe59c4e98636c15314"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6568b93165f091c246b2c7dc3281d698"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classint.html">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a6568b93165f091c246b2c7dc3281d698">num_lazy_compilations</a> () const</td></tr>
<tr class="separator:a6568b93165f091c246b2c7dc3281d698"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc7b17e057099e2d69cd3902bd13c7f3"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#adc7b17e057099e2d69cd3902bd13c7f3">sum_lazy_compilation_time_in_ms</a> () const</td></tr>
<tr class="separator:adc7b17e057099e2d69cd3902bd13c7f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc5c7232f5fcd10779d5514b6f221490"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#adc5c7232f5fcd10779d5514b6f221490">max_lazy_compilation_time_in_ms</a> () const</td></tr>
<tr class="separator:adc5c7232f5fcd10779d5514b6f221490"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c057cbc9d9aa438265c064cea83cfa1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1c057cbc9d9aa438265c064cea83cfa1">ShouldLazyCompilationMetricsBeReported</a> ()</td></tr>
<tr class="separator:a1c057cbc9d9aa438265c064cea83cfa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd49d28690a9767daffa8d573964e4a6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#abd49d28690a9767daffa8d573964e4a6">ShouldPgoDataBeWritten</a> ()</td></tr>
<tr class="separator:abd49d28690a9767daffa8d573964e4a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53bed2d056d03e227cb3fd50df82a114"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a53bed2d056d03e227cb3fd50df82a114">HasWireBytes</a> () const</td></tr>
<tr class="separator:a53bed2d056d03e227cb3fd50df82a114"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61b6504416cddebca8e11c5635d5c203"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a61b6504416cddebca8e11c5635d5c203">SetWireBytes</a> (<a class="el" href="classv8_1_1base_1_1OwnedVector.html">base::OwnedVector</a>&lt; const uint8_t &gt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a957b590c391c9dc0949cdaff8c94cf05">wire_bytes</a>)</td></tr>
<tr class="separator:a61b6504416cddebca8e11c5635d5c203"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88fe8f1d6e45f64edf0add83a8befd42"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a88fe8f1d6e45f64edf0add83a8befd42">AddLiftoffBailout</a> ()</td></tr>
<tr class="separator:a88fe8f1d6e45f64edf0add83a8befd42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cff149410fcd416933af17dab385ba0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5cff149410fcd416933af17dab385ba0">Lookup</a> (<a class="el" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a>) const</td></tr>
<tr class="separator:a5cff149410fcd416933af17dab385ba0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8900d676fd063b88a6876f464dd8a07"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmEnabledFeatures.html">WasmEnabledFeatures</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ac8900d676fd063b88a6876f464dd8a07">enabled_features</a> () const</td></tr>
<tr class="separator:ac8900d676fd063b88a6876f464dd8a07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dc26792c1058956f82dd7114444a607"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classv8_1_1internal_1_1wasm_1_1CompileTimeImports.html">CompileTimeImports</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9dc26792c1058956f82dd7114444a607">compile_imports</a> () const</td></tr>
<tr class="separator:a9dc26792c1058956f82dd7114444a607"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a119487efc92641da665eb0252dcc9a18"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal.html#acc2e164143496f18b5ec68f8ab70af52">Builtin</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a119487efc92641da665eb0252dcc9a18">GetBuiltinInJumptableSlot</a> (<a class="el" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a> target) const</td></tr>
<tr class="separator:a119487efc92641da665eb0252dcc9a18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae66433eec52661194dacaa6ded13bf6d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae66433eec52661194dacaa6ded13bf6d">SampleCodeSize</a> (<a class="el" href="classv8_1_1internal_1_1Counters.html">Counters</a> *) const</td></tr>
<tr class="separator:ae66433eec52661194dacaa6ded13bf6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc4f3edf1e0fcd8adc53f38952345aed"><td class="memItemLeft" align="right" valign="top"><a class="el" href="v8config_8h.html#a63258e4bf5dc9fb8c78f881c8405d83b">V8_WARN_UNUSED_RESULT</a> <a class="el" href="structv8_1_1internal_1_1wasm_1_1UnpublishedWasmCode.html">UnpublishedWasmCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#abc4f3edf1e0fcd8adc53f38952345aed">AddCompiledCode</a> (<a class="el" href="structv8_1_1internal_1_1wasm_1_1WasmCompilationResult.html">WasmCompilationResult</a> &amp;)</td></tr>
<tr class="separator:abc4f3edf1e0fcd8adc53f38952345aed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7de45595a2546cd0e533309b1389f00"><td class="memItemLeft" align="right" valign="top"><a class="el" href="v8config_8h.html#a63258e4bf5dc9fb8c78f881c8405d83b">V8_WARN_UNUSED_RESULT</a> std::vector&lt; <a class="el" href="structv8_1_1internal_1_1wasm_1_1UnpublishedWasmCode.html">UnpublishedWasmCode</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ad7de45595a2546cd0e533309b1389f00">AddCompiledCode</a> (<a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; <a class="el" href="structv8_1_1internal_1_1wasm_1_1WasmCompilationResult.html">WasmCompilationResult</a> &gt;)</td></tr>
<tr class="separator:ad7de45595a2546cd0e533309b1389f00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3b78decf5b6f968e1e563f3759515b5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ad3b78decf5b6f968e1e563f3759515b5">SetDebugState</a> (<a class="el" href="namespacev8_1_1internal_1_1wasm.html#a25f59e94501ad0ce6680be236623cc3c">DebugState</a>)</td></tr>
<tr class="separator:ad3b78decf5b6f968e1e563f3759515b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95dc87711f2fbd647080305bf39e447f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#a25f59e94501ad0ce6680be236623cc3c">DebugState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a95dc87711f2fbd647080305bf39e447f">IsInDebugState</a> () const</td></tr>
<tr class="separator:a95dc87711f2fbd647080305bf39e447f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd3f32a91369d4cdb1e11b81b8f4d27f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#acd3f32a91369d4cdb1e11b81b8f4d27f">RemoveCompiledCode</a> (<a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#addb6002d53e166907484bf3715ff599c">RemoveFilter</a> filter)</td></tr>
<tr class="separator:acd3f32a91369d4cdb1e11b81b8f4d27f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21586b2fdaae541148e2d8bdb100bf8b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal.html#a4725962ca3c127eb5871cb47293aee95">size_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a21586b2fdaae541148e2d8bdb100bf8b">SumLiftoffCodeSizeForTesting</a> () const</td></tr>
<tr class="separator:a21586b2fdaae541148e2d8bdb100bf8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a169fd10581fcc34645b802baca380789"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a169fd10581fcc34645b802baca380789">FreeCode</a> (<a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a> *const &gt;)</td></tr>
<tr class="separator:a169fd10581fcc34645b802baca380789"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3706216da596aa8cf7337b8182d5e75"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal.html#a4725962ca3c127eb5871cb47293aee95">size_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ac3706216da596aa8cf7337b8182d5e75">GetNumberOfCodeSpacesForTesting</a> () const</td></tr>
<tr class="separator:ac3706216da596aa8cf7337b8182d5e75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32aeb7786fe56d49f56d6da667f940ca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a32aeb7786fe56d49f56d6da667f940ca">HasDebugInfo</a> () const</td></tr>
<tr class="separator:a32aeb7786fe56d49f56d6da667f940ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a773f6a9db3d5a181ca810d7a92e19da6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1wasm_1_1DebugInfo.html">DebugInfo</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a773f6a9db3d5a181ca810d7a92e19da6">GetDebugInfo</a> ()</td></tr>
<tr class="separator:a773f6a9db3d5a181ca810d7a92e19da6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9941bdd4ef6ffa3b896d196231cf8c5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NamesProvider.html">NamesProvider</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae9941bdd4ef6ffa3b896d196231cf8c5">GetNamesProvider</a> ()</td></tr>
<tr class="separator:ae9941bdd4ef6ffa3b896d196231cf8c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23ef76714c5b5dc6571cba072eb3dae1"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; uint32_t &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a23ef76714c5b5dc6571cba072eb3dae1">tiering_budget_array</a> () const</td></tr>
<tr class="separator:a23ef76714c5b5dc6571cba072eb3dae1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac38f1b4fe42e19e644ec63dafe0cc450"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1Counters.html">Counters</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ac38f1b4fe42e19e644ec63dafe0cc450">counters</a> () const</td></tr>
<tr class="separator:ac38f1b4fe42e19e644ec63dafe0cc450"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46fa56beff1669a8eb218e9aec9fd8d2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal.html#a4725962ca3c127eb5871cb47293aee95">size_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a46fa56beff1669a8eb218e9aec9fd8d2">EstimateCurrentMemoryConsumption</a> () const</td></tr>
<tr class="separator:a46fa56beff1669a8eb218e9aec9fd8d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b2e70f05aba4cbb41820e840e79ab3a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a2b2e70f05aba4cbb41820e840e79ab3a">PrintCurrentMemoryConsumptionEstimate</a> () const</td></tr>
<tr class="separator:a2b2e70f05aba4cbb41820e840e79ab3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7394f35597a2e806ed37a5131279919d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a7394f35597a2e806ed37a5131279919d">log_code</a> () const</td></tr>
<tr class="separator:a7394f35597a2e806ed37a5131279919d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46dfb156f95f82f1dda19f3f263f04b2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a46dfb156f95f82f1dda19f3f263f04b2">EnableCodeLogging</a> ()</td></tr>
<tr class="separator:a46dfb156f95f82f1dda19f3f263f04b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06a2c7de30340bbccc8d97aaff9ffe11"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a06a2c7de30340bbccc8d97aaff9ffe11">DisableCodeLogging</a> ()</td></tr>
<tr class="separator:a06a2c7de30340bbccc8d97aaff9ffe11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab8f9c8c59849442dbe80b599f785731"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aab8f9c8c59849442dbe80b599f785731">TrySetFastApiCallTarget</a> (<a class="el" href="classint.html">int</a> func_index, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a> target)</td></tr>
<tr class="separator:aab8f9c8c59849442dbe80b599f785731"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af34f05b301b28f4560ae3ac99b2ff5bb"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; <a class="el" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a> &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#af34f05b301b28f4560ae3ac99b2ff5bb">fast_api_targets</a> () const</td></tr>
<tr class="separator:af34f05b301b28f4560ae3ac99b2ff5bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accda223b2ca1c9a586294930c2081651"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#accda223b2ca1c9a586294930c2081651">set_fast_api_signature</a> (<a class="el" href="classint.html">int</a> func_index, const <a class="el" href="namespacev8_1_1internal.html#a46aa1060b5e412c7e07bcc58b9f6f4b0">MachineSignature</a> *<a class="el" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>)</td></tr>
<tr class="separator:accda223b2ca1c9a586294930c2081651"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a725ca7af480caaab0609c8d22bcc16f5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a725ca7af480caaab0609c8d22bcc16f5">has_fast_api_signature</a> (<a class="el" href="classint.html">int</a> <a class="el" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>)</td></tr>
<tr class="separator:a725ca7af480caaab0609c8d22bcc16f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a297e1eb408823f410295e0726c47e422"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; const <a class="el" href="namespacev8_1_1internal.html#a46aa1060b5e412c7e07bcc58b9f6f4b0">MachineSignature</a> * &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a297e1eb408823f410295e0726c47e422">fast_api_signatures</a> () const</td></tr>
<tr class="separator:a297e1eb408823f410295e0726c47e422"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63657aff1b54d8355c88d671645a62fd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1WasmCodePointer.html">WasmCodePointer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a63657aff1b54d8355c88d671645a62fd">GetCodePointerHandle</a> (<a class="el" href="classint.html">int</a> <a class="el" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>) const</td></tr>
<tr class="separator:a63657aff1b54d8355c88d671645a62fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeed42f09dacb1494a46bb073f6e3e8f"><td class="memItemLeft" align="right" valign="top">const std::shared_ptr&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmModuleCoverageData.html">WasmModuleCoverageData</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#afeed42f09dacb1494a46bb073f6e3e8f">coverage_data</a> () const</td></tr>
<tr class="separator:afeed42f09dacb1494a46bb073f6e3e8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a780d0d66d704b92fb5222aad79cc68ad"><td class="memItemLeft" align="right" valign="top">static constexpr <a class="el" href="namespacev8_1_1internal.html#aa5178998e7ae493acf744bc92b1fbdbc">ExternalPointerTag</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a780d0d66d704b92fb5222aad79cc68ad">kManagedTag</a> = <a class="el" href="namespacev8_1_1internal.html#aa5178998e7ae493acf744bc92b1fbdbca30677b51369e49b1ff2e66459d58746d">kWasmNativeModuleTag</a></td></tr>
<tr class="separator:a780d0d66d704b92fb5222aad79cc68ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c38ae4d35483f2b9c6e5634c7bf4bd6"><td class="memItemLeft" align="right" valign="top">static constexpr <a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1c38ae4d35483f2b9c6e5634c7bf4bd6">kNeedsFarJumpsBetweenCodeSpaces</a> = <a class="el" href="flag-definitions_8h.html#a3a9beadc89284d3f78a7d4945b1b4d8c">false</a></td></tr>
<tr class="separator:a1c38ae4d35483f2b9c6e5634c7bf4bd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ab367709dc7ecbb7ba68e24333e7f4e8a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ab367709dc7ecbb7ba68e24333e7f4e8a">NativeModule</a> (<a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmEnabledFeatures.html">WasmEnabledFeatures</a> <a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ac8900d676fd063b88a6876f464dd8a07">enabled_features</a>, <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmDetectedFeatures.html">WasmDetectedFeatures</a> detected_features, <a class="el" href="classv8_1_1internal_1_1wasm_1_1CompileTimeImports.html">CompileTimeImports</a> <a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9dc26792c1058956f82dd7114444a607">compile_imports</a>, <a class="el" href="classv8_1_1internal_1_1VirtualMemory.html">VirtualMemory</a> code_space, std::shared_ptr&lt; const <a class="el" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html">WasmModule</a> &gt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a04f2f50aa9d1cbc1dc28e60dbe687f74">module</a>, std::shared_ptr&lt; <a class="el" href="classv8_1_1internal_1_1Counters.html">Counters</a> &gt; async_counters, std::shared_ptr&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html">NativeModule</a> &gt; *shared_this)</td></tr>
<tr class="separator:ab367709dc7ecbb7ba68e24333e7f4e8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b24c8d07d1155bc7b7f7962cef5aaea"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9b24c8d07d1155bc7b7f7962cef5aaea">AddCodeWithCodeSpace</a> (<a class="el" href="classint.html">int</a> <a class="el" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, const <a class="el" href="classv8_1_1internal_1_1CodeDesc.html">CodeDesc</a> &amp;desc, <a class="el" href="classint.html">int</a> stack_slots, <a class="el" href="classint.html">int</a> ool_spill_count, uint32_t tagged_parameter_slots, <a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; const uint8_t &gt; protected_instructions_data, <a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; const uint8_t &gt; source_position_table, <a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; const uint8_t &gt; inlining_positions, <a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; const uint8_t &gt; deopt_data, <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a236d413616e672cc2cda31bb7a4fc04d">WasmCode::Kind</a> kind, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9">ExecutionTier</a> <a class="el" href="flag-definitions_8h.html#a878783ad616ead06040f7d4b080f6a02">tier</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a11df36d2f23b22c6772f3a5f08731b5b">ForDebugging</a> for_debugging, <a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a> frame_has_feedback_slot, <a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; uint8_t &gt; code_space, const <a class="el" href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1JumpTablesRef.html">JumpTablesRef</a> &amp;jump_tables_ref)</td></tr>
<tr class="separator:a9b24c8d07d1155bc7b7f7962cef5aaea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d54c7dc9c3d2729c81664ed3fa5172d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9d54c7dc9c3d2729c81664ed3fa5172d">CreateEmptyJumpTableLocked</a> (<a class="el" href="classint.html">int</a> jump_table_size, <a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8125eaffd4b01d09e3e172cab5f94d12">JumpTableType</a> type)</td></tr>
<tr class="separator:a9d54c7dc9c3d2729c81664ed3fa5172d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bcdbc6019550ab5ed2f16d8c7c7745b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5bcdbc6019550ab5ed2f16d8c7c7745b">CreateEmptyJumpTableInRegionLocked</a> (<a class="el" href="classint.html">int</a> jump_table_size, <a class="el" href="classv8_1_1base_1_1AddressRegion.html">base::AddressRegion</a>, <a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8125eaffd4b01d09e3e172cab5f94d12">JumpTableType</a> type)</td></tr>
<tr class="separator:a5bcdbc6019550ab5ed2f16d8c7c7745b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7008f95ebaf5e50e98749f5ba25cd3f7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1JumpTablesRef.html">JumpTablesRef</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a7008f95ebaf5e50e98749f5ba25cd3f7">FindJumpTablesForRegionLocked</a> (<a class="el" href="classv8_1_1base_1_1AddressRegion.html">base::AddressRegion</a>) const</td></tr>
<tr class="separator:a7008f95ebaf5e50e98749f5ba25cd3f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8a1a00ef10cda726268c29b8bcedcda"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ab8a1a00ef10cda726268c29b8bcedcda">UpdateCodeSize</a> (<a class="el" href="namespacev8_1_1internal.html#a4725962ca3c127eb5871cb47293aee95">size_t</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9">ExecutionTier</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a11df36d2f23b22c6772f3a5f08731b5b">ForDebugging</a>)</td></tr>
<tr class="separator:ab8a1a00ef10cda726268c29b8bcedcda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51cd3da10c0980a4c5747dc6862f03ac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a51cd3da10c0980a4c5747dc6862f03ac">PatchJumpTablesLocked</a> (uint32_t slot_index, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a> target, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a> code_pointer_table_target, uint64_t signature_hash)</td></tr>
<tr class="separator:a51cd3da10c0980a4c5747dc6862f03ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae04709ff9dc0c24f62ccc498d14048bb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae04709ff9dc0c24f62ccc498d14048bb">PatchJumpTableLocked</a> (WritableJumpTablePair &amp;jump_table_pair, const <a class="el" href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1CodeSpaceData.html">CodeSpaceData</a> &amp;, uint32_t slot_index, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a> target)</td></tr>
<tr class="separator:ae04709ff9dc0c24f62ccc498d14048bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee1bca8385445db4f32cb0b18d2f7539"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aee1bca8385445db4f32cb0b18d2f7539">AddCodeSpaceLocked</a> (<a class="el" href="classv8_1_1base_1_1AddressRegion.html">base::AddressRegion</a>)</td></tr>
<tr class="separator:aee1bca8385445db4f32cb0b18d2f7539"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60c23842429cfbc96419f922d252a4ea"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a60c23842429cfbc96419f922d252a4ea">PublishCodeLocked</a> (std::unique_ptr&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a> &gt;, <a class="el" href="classv8_1_1internal_1_1wasm_1_1AssumptionsJournal.html">AssumptionsJournal</a> *)</td></tr>
<tr class="separator:a60c23842429cfbc96419f922d252a4ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28058f3ce35ecfd593d341c0219b21c7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a28058f3ce35ecfd593d341c0219b21c7">TransferNewOwnedCodeLocked</a> () const</td></tr>
<tr class="separator:a28058f3ce35ecfd593d341c0219b21c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ba45734b63b45fbed4e98f86795817d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a7ba45734b63b45fbed4e98f86795817d">should_update_code_table</a> (<a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a> *new_code, <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a> *prior_code) const</td></tr>
<tr class="separator:a7ba45734b63b45fbed4e98f86795817d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a6545f7c0dd32533af15bfea737c3afec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1OperationsBarrier_1_1Token.html">OperationsBarrier::Token</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a6545f7c0dd32533af15bfea737c3afec">engine_scope_</a></td></tr>
<tr class="separator:a6545f7c0dd32533af15bfea737c3afec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef6c06fd70d54f981aaccf59b8c8ec2f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html">WasmCodeAllocator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aef6c06fd70d54f981aaccf59b8c8ec2f">code_allocator_</a></td></tr>
<tr class="separator:aef6c06fd70d54f981aaccf59b8c8ec2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d170e59786ee513493fa893008fb1c1"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmEnabledFeatures.html">WasmEnabledFeatures</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a0d170e59786ee513493fa893008fb1c1">enabled_features_</a></td></tr>
<tr class="separator:a0d170e59786ee513493fa893008fb1c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fb2f2d026a39422d0282640939e2221"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classv8_1_1internal_1_1wasm_1_1CompileTimeImports.html">CompileTimeImports</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5fb2f2d026a39422d0282640939e2221">compile_imports_</a></td></tr>
<tr class="separator:a5fb2f2d026a39422d0282640939e2221"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1de1343ab4cdce06843b517c1e2f1ede"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; const <a class="el" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html">WasmModule</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a></td></tr>
<tr class="separator:a1de1343ab4cdce06843b517c1e2f1ede"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24ead28dfd80e92c25f7fc48bb0c310e"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmModuleSourceMap.html">WasmModuleSourceMap</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a24ead28dfd80e92c25f7fc48bb0c310e">source_map_</a></td></tr>
<tr class="separator:a24ead28dfd80e92c25f7fc48bb0c310e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18104681db5670057e0e3d3490b04426"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classv8_1_1base_1_1OwnedVector.html">base::OwnedVector</a>&lt; const uint8_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a18104681db5670057e0e3d3490b04426">wire_bytes_</a></td></tr>
<tr class="separator:a18104681db5670057e0e3d3490b04426"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13f6208a4e2ce867f817a5e73e481484"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a13f6208a4e2ce867f817a5e73e481484">main_jump_table_</a> = <a class="el" href="flag-definitions_8h.html#aca14fbede0905858c819226fce3678cc">nullptr</a></td></tr>
<tr class="separator:a13f6208a4e2ce867f817a5e73e481484"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae07d8be3c591174d7f19648d9615d929"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae07d8be3c591174d7f19648d9615d929">main_far_jump_table_</a> = <a class="el" href="flag-definitions_8h.html#aca14fbede0905858c819226fce3678cc">nullptr</a></td></tr>
<tr class="separator:ae07d8be3c591174d7f19648d9615d929"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afad6cb5c96183d22f6dea2a28a3c93e3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#afad6cb5c96183d22f6dea2a28a3c93e3">lazy_compile_table_</a> = <a class="el" href="flag-definitions_8h.html#aca14fbede0905858c819226fce3678cc">nullptr</a></td></tr>
<tr class="separator:afad6cb5c96183d22f6dea2a28a3c93e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b68ddfcd3230a171f04c7a0b2231394"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1CompilationState.html">CompilationState</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a2b68ddfcd3230a171f04c7a0b2231394">compilation_state_</a></td></tr>
<tr class="separator:a2b68ddfcd3230a171f04c7a0b2231394"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbdc70d6536478990345946c321af51e"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; std::atomic&lt; uint32_t &gt;[]&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#adbdc70d6536478990345946c321af51e">tiering_budgets_</a></td></tr>
<tr class="separator:adbdc70d6536478990345946c321af51e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a421b976045a5bd2009372a16e6b5e34a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1base_1_1RecursiveMutex.html">base::RecursiveMutex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a></td></tr>
<tr class="separator:a421b976045a5bd2009372a16e6b5e34a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a254b2e8e7c781aa66779e302651293ed"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a>, std::unique_ptr&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a254b2e8e7c781aa66779e302651293ed">owned_code_</a></td></tr>
<tr class="separator:a254b2e8e7c781aa66779e302651293ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0bf556913299e7eba006b97843cb6ec"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::unique_ptr&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae0bf556913299e7eba006b97843cb6ec">new_owned_code_</a></td></tr>
<tr class="separator:ae0bf556913299e7eba006b97843cb6ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9772fe3f2a97d58b67bdb119ecccb1a4"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a> *[]&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9772fe3f2a97d58b67bdb119ecccb1a4">code_table_</a></td></tr>
<tr class="separator:a9772fe3f2a97d58b67bdb119ecccb1a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d842383c864e12e83bdfb982954eb0f"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classv8_1_1internal_1_1WasmCodePointer.html">WasmCodePointer</a>[]&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5d842383c864e12e83bdfb982954eb0f">code_pointer_handles_</a></td></tr>
<tr class="separator:a5d842383c864e12e83bdfb982954eb0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ea4f6a28a06ce63c372bf00abbf0c24"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal.html#a4725962ca3c127eb5871cb47293aee95">size_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5ea4f6a28a06ce63c372bf00abbf0c24">code_pointer_handles_size_</a> = 0</td></tr>
<tr class="separator:a5ea4f6a28a06ce63c372bf00abbf0c24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09649a8d8356bcf64e4bc5f2d3eb1435"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1CodeSpaceData.html">CodeSpaceData</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a09649a8d8356bcf64e4bc5f2d3eb1435">code_space_data_</a></td></tr>
<tr class="separator:a09649a8d8356bcf64e4bc5f2d3eb1435"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a4dfefd1e5ed6ad2349de15781aee24"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1DebugInfo.html">DebugInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a3a4dfefd1e5ed6ad2349de15781aee24">debug_info_</a></td></tr>
<tr class="separator:a3a4dfefd1e5ed6ad2349de15781aee24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0758c148983046085c96a76a610a9ff6"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1NamesProvider.html">NamesProvider</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a0758c148983046085c96a76a610a9ff6">names_provider_</a></td></tr>
<tr class="separator:a0758c148983046085c96a76a610a9ff6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96de8f1452ef286df5abc0ac17f07517"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#a25f59e94501ad0ce6680be236623cc3c">DebugState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a96de8f1452ef286df5abc0ac17f07517">debug_state_</a> = <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a25f59e94501ad0ce6680be236623cc3ca3aa3bc68e5fce885fa006c7b99c35b93">kNotDebugging</a></td></tr>
<tr class="separator:a96de8f1452ef286df5abc0ac17f07517"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e15b436b2dc2f0d747b850ee83754c3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a6e15b436b2dc2f0d747b850ee83754c3">lazy_compile_frozen_</a> = <a class="el" href="flag-definitions_8h.html#a3a9beadc89284d3f78a7d4945b1b4d8c">false</a></td></tr>
<tr class="separator:a6e15b436b2dc2f0d747b850ee83754c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4aa98ad223f8a481e7b6e8fd41f1464a"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; <a class="el" href="namespacev8_1_1internal.html#a4725962ca3c127eb5871cb47293aee95">size_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a4aa98ad223f8a481e7b6e8fd41f1464a">liftoff_bailout_count_</a> {0}</td></tr>
<tr class="separator:a4aa98ad223f8a481e7b6e8fd41f1464a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f57f21ee0ee562fb651068bbcda8c05"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; <a class="el" href="namespacev8_1_1internal.html#a4725962ca3c127eb5871cb47293aee95">size_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5f57f21ee0ee562fb651068bbcda8c05">liftoff_code_size_</a> {0}</td></tr>
<tr class="separator:a5f57f21ee0ee562fb651068bbcda8c05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5d2cbe8a6fa3ebceb5d11d309fb38c8"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; <a class="el" href="namespacev8_1_1internal.html#a4725962ca3c127eb5871cb47293aee95">size_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ad5d2cbe8a6fa3ebceb5d11d309fb38c8">turbofan_code_size_</a> {0}</td></tr>
<tr class="separator:ad5d2cbe8a6fa3ebceb5d11d309fb38c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a203dfbaf27e80e6f9a30f2e29dcf15f2"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; <a class="el" href="classint.html">int</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a203dfbaf27e80e6f9a30f2e29dcf15f2">num_lazy_compilations_</a> {0}</td></tr>
<tr class="separator:a203dfbaf27e80e6f9a30f2e29dcf15f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a7ccb8d9aed0eed2230ebec996762dd"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; int64_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1a7ccb8d9aed0eed2230ebec996762dd">sum_lazy_compilation_time_in_micro_sec_</a> {0}</td></tr>
<tr class="separator:a1a7ccb8d9aed0eed2230ebec996762dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cd65fcbaf8d39fb8aca0c7814506f45"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; int64_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8cd65fcbaf8d39fb8aca0c7814506f45">max_lazy_compilation_time_in_micro_sec_</a> {0}</td></tr>
<tr class="separator:a8cd65fcbaf8d39fb8aca0c7814506f45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8553b28414775cc988d6c8390723db17"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; <a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8553b28414775cc988d6c8390723db17">should_metrics_be_reported_</a> {<a class="el" href="namespacev8_1_1internal.html#a7f5302a7c7fd292ffd4a5f9758bd3686">true</a>}</td></tr>
<tr class="separator:a8553b28414775cc988d6c8390723db17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbb0e9a3cfa2dbc00a8dde005c00f19b"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; <a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#adbb0e9a3cfa2dbc00a8dde005c00f19b">should_pgo_data_be_written_</a> {<a class="el" href="namespacev8_1_1internal.html#a7f5302a7c7fd292ffd4a5f9758bd3686">true</a>}</td></tr>
<tr class="separator:adbb0e9a3cfa2dbc00a8dde005c00f19b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a372c72a19d442c1add803d8444820d9b"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; <a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a372c72a19d442c1add803d8444820d9b">log_code_</a> {<a class="el" href="flag-definitions_8h.html#a3a9beadc89284d3f78a7d4945b1b4d8c">false</a>}</td></tr>
<tr class="separator:a372c72a19d442c1add803d8444820d9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a983a27240228a773a3764c6ba899df"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; std::atomic&lt; <a class="el" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a> &gt;[]&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8a983a27240228a773a3764c6ba899df">fast_api_targets_</a></td></tr>
<tr class="separator:a8a983a27240228a773a3764c6ba899df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88a5291abd2f5a20451c2ca823195423"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; std::atomic&lt; const <a class="el" href="namespacev8_1_1internal.html#a46aa1060b5e412c7e07bcc58b9f6f4b0">MachineSignature</a> * &gt;[]&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a88a5291abd2f5a20451c2ca823195423">fast_api_signatures_</a></td></tr>
<tr class="separator:a88a5291abd2f5a20451c2ca823195423"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ebebb9d6e7368d1969447662c82f320"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmModuleCoverageData.html">WasmModuleCoverageData</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5ebebb9d6e7368d1969447662c82f320">coverage_data_</a></td></tr>
<tr class="separator:a5ebebb9d6e7368d1969447662c82f320"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a0ec92359918c6ef6fe010cafb580eb86"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a0ec92359918c6ef6fe010cafb580eb86">WasmCode</a></td></tr>
<tr class="separator:a0ec92359918c6ef6fe010cafb580eb86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f5398d6af0cd323486b07d55a75b3b4"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a6f5398d6af0cd323486b07d55a75b3b4">WasmCodeAllocator</a></td></tr>
<tr class="separator:a6f5398d6af0cd323486b07d55a75b3b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07083c066ffccdb3af5b8a33f626fdb2"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a07083c066ffccdb3af5b8a33f626fdb2">WasmCodeManager</a></td></tr>
<tr class="separator:a07083c066ffccdb3af5b8a33f626fdb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1af0597a7c032ccad7528bc2f28f45c"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ab1af0597a7c032ccad7528bc2f28f45c">CodeSpaceWriteScope</a></td></tr>
<tr class="separator:ab1af0597a7c032ccad7528bc2f28f45c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l00603">603</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a91fa3ea02a42f6eb12f120ac558a8ec7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91fa3ea02a42f6eb12f120ac558a8ec7">&#9670;&nbsp;</a></span>CallIndirectTargetMap</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a91fa3ea02a42f6eb12f120ac558a8ec7">v8::internal::wasm::NativeModule::CallIndirectTargetMap</a> =  absl::flat_hash_map&lt;<a class="el" href="classv8_1_1internal_1_1WasmCodePointer.html">WasmCodePointer</a>, uint32_t&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l00740">740</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a8125eaffd4b01d09e3e172cab5f94d12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8125eaffd4b01d09e3e172cab5f94d12">&#9670;&nbsp;</a></span>JumpTableType</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8125eaffd4b01d09e3e172cab5f94d12">v8::internal::wasm::NativeModule::JumpTableType</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a8125eaffd4b01d09e3e172cab5f94d12a4237d3e837c403339afce6a8387246cb"></a>kJumpTable&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8125eaffd4b01d09e3e172cab5f94d12a693267f9d764c2f577d25c2afc461a10"></a>kFarJumpTable&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8125eaffd4b01d09e3e172cab5f94d12a0aeb6cda2e68c213e2a6670941658d8b"></a>kLazyCompileTable&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l00905">905</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;                           {</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    kJumpTable,</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    kFarJumpTable,</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    kLazyCompileTable,</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;  };</div>
</div><!-- fragment -->
</div>
</div>
<a id="addb6002d53e166907484bf3715ff599c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addb6002d53e166907484bf3715ff599c">&#9670;&nbsp;</a></span>RemoveFilter</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#addb6002d53e166907484bf3715ff599c">v8::internal::wasm::NativeModule::RemoveFilter</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="addb6002d53e166907484bf3715ff599ca33cfac0f2f3fcd4f110550ece8698472"></a>kRemoveDebugCode&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="addb6002d53e166907484bf3715ff599caeb1f31c38f14cfa2fb295e63efdbdfbd"></a>kRemoveNonDebugCode&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="addb6002d53e166907484bf3715ff599cada482a20b84332aff73499e6174e6436"></a>kRemoveLiftoffCode&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="addb6002d53e166907484bf3715ff599ca69b3b2c8ba3f6cffe3967b55e0cb44fe"></a>kRemoveTurbofanCode&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="addb6002d53e166907484bf3715ff599ca4e6174cad75a8cd8c2becd896f92b135"></a>kRemoveAllCode&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l00853">853</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;                          {</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    kRemoveDebugCode,</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    kRemoveNonDebugCode,</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    kRemoveLiftoffCode,</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    kRemoveTurbofanCode,</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    kRemoveAllCode,</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;  };</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a16196a1962694773b11f2434c5d7becf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16196a1962694773b11f2434c5d7becf">&#9670;&nbsp;</a></span>NativeModule() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">v8::internal::wasm::NativeModule::NativeModule </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html">NativeModule</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l02867">EstimateCurrentMemoryConsumption()</a>.</p>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a16196a1962694773b11f2434c5d7becf_icgraph.svg" width="100%" height="400"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a969ac2536a1c63951c940e7f1552c323"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a969ac2536a1c63951c940e7f1552c323">&#9670;&nbsp;</a></span>~NativeModule()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">v8::internal::wasm::NativeModule::~NativeModule </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l02154">2154</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;                            {</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;  <a class="code" href="wasm-code-manager_8cc.html#a999acc4125a715214037c81dd456611d">TRACE_HEAP</a>(<span class="stringliteral">&quot;Deleting native module: %p\n&quot;</span>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;  <span class="comment">// Cancel all background compilation before resetting any field of the</span></div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;  <span class="comment">// NativeModule or freeing anything.</span></div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a2b68ddfcd3230a171f04c7a0b2231394">compilation_state_</a>-&gt;CancelCompilation();</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160; </div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.print_wasm_offheap_memory_size)) {</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;    <span class="comment">// Print the current memory consumption of both this Module *and* the whole</span></div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;    <span class="comment">// engine before freeing this module. In a benchmark with a single module</span></div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;    <span class="comment">// this will probably be the high watermark of memory usage for the whole</span></div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;    <span class="comment">// engine.</span></div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a2b2e70f05aba4cbb41820e840e79ab3a">PrintCurrentMemoryConsumptionEstimate</a>();</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1wasm.html#abc12fc3b25ebfb54c20b8479642acb94">GetWasmEngine</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#a32e34a8169c3a723824780c6ac126654">PrintCurrentMemoryConsumptionEstimate</a>();</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;  }</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160; </div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1wasm.html#abc12fc3b25ebfb54c20b8479642acb94">GetWasmEngine</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#aaf9cd2000af17e8d1f3ebbb9d4cd7c09">FreeNativeModule</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160; </div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;  <span class="comment">// If experimental PGO support is enabled, serialize the PGO data now.</span></div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.experimental_wasm_pgo_to_file)) {</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ab2ab774cdc5dfa0fea419719c89815f6">DumpProfileToFile</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>.get(), <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a957b590c391c9dc0949cdaff8c94cf05">wire_bytes</a>(), <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#adbdc70d6536478990345946c321af51e">tiering_budgets_</a>.get());</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;  }</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160; </div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a58ee010c88ea49154c8528518931dbc2">FreeCodePointerTableHandles</a>();</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a1de1343ab4cdce06843b517c1e2f1ede"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">v8::internal::wasm::NativeModule::module_</a></div><div class="ttdeci">std::shared_ptr&lt; const WasmModule &gt; module_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01063">wasm-code-manager.h:1063</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a2b2e70f05aba4cbb41820e840e79ab3a"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a2b2e70f05aba4cbb41820e840e79ab3a">v8::internal::wasm::NativeModule::PrintCurrentMemoryConsumptionEstimate</a></div><div class="ttdeci">void PrintCurrentMemoryConsumptionEstimate() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02928">wasm-code-manager.cc:2928</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a2b68ddfcd3230a171f04c7a0b2231394"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a2b68ddfcd3230a171f04c7a0b2231394">v8::internal::wasm::NativeModule::compilation_state_</a></div><div class="ttdeci">std::unique_ptr&lt; CompilationState &gt; compilation_state_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01086">wasm-code-manager.h:1086</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a58ee010c88ea49154c8528518931dbc2"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a58ee010c88ea49154c8528518931dbc2">v8::internal::wasm::NativeModule::FreeCodePointerTableHandles</a></div><div class="ttdeci">void FreeCodePointerTableHandles()</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01292">wasm-code-manager.cc:1292</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a957b590c391c9dc0949cdaff8c94cf05"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a957b590c391c9dc0949cdaff8c94cf05">v8::internal::wasm::NativeModule::wire_bytes</a></div><div class="ttdeci">base::Vector&lt; const uint8_t &gt; wire_bytes() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00763">wasm-code-manager.h:763</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_adbdc70d6536478990345946c321af51e"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#adbdc70d6536478990345946c321af51e">v8::internal::wasm::NativeModule::tiering_budgets_</a></div><div class="ttdeci">std::unique_ptr&lt; std::atomic&lt; uint32_t &gt;[]&gt; tiering_budgets_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01089">wasm-code-manager.h:1089</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmEngine_html_a32e34a8169c3a723824780c6ac126654"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#a32e34a8169c3a723824780c6ac126654">v8::internal::wasm::WasmEngine::PrintCurrentMemoryConsumptionEstimate</a></div><div class="ttdeci">void PrintCurrentMemoryConsumptionEstimate() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-engine_8cc_source.html#l02063">wasm-engine.cc:2063</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmEngine_html_aaf9cd2000af17e8d1f3ebbb9d4cd7c09"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#aaf9cd2000af17e8d1f3ebbb9d4cd7c09">v8::internal::wasm::WasmEngine::FreeNativeModule</a></div><div class="ttdeci">void FreeNativeModule(NativeModule *)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-engine_8cc_source.html#l01691">wasm-engine.cc:1691</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ab2ab774cdc5dfa0fea419719c89815f6"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ab2ab774cdc5dfa0fea419719c89815f6">v8::internal::wasm::DumpProfileToFile</a></div><div class="ttdeci">void DumpProfileToFile(const WasmModule *module, base::Vector&lt; const uint8_t &gt; wire_bytes, std::atomic&lt; uint32_t &gt; *tiering_budget_array)</div><div class="ttdef"><b>Definition:</b> <a href="pgo_8cc_source.html#l00196">pgo.cc:196</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_abc12fc3b25ebfb54c20b8479642acb94"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#abc12fc3b25ebfb54c20b8479642acb94">v8::internal::wasm::GetWasmEngine</a></div><div class="ttdeci">WasmEngine * GetWasmEngine()</div><div class="ttdef"><b>Definition:</b> <a href="wasm-engine_8cc_source.html#l02125">wasm-engine.cc:2125</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa9db791c05a0359859a321dcfec42e37"><div class="ttname"><a href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a></div><div class="ttdeci">V8_EXPORT_PRIVATE FlagValues v8_flags</div></div>
<div class="ttc" id="av8config_8h_html_a67bd29db07c711b0fb11ff1c324ebb60"><div class="ttname"><a href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a></div><div class="ttdeci">#define V8_UNLIKELY(condition)</div><div class="ttdef"><b>Definition:</b> <a href="v8config_8h_source.html#l00660">v8config.h:660</a></div></div>
<div class="ttc" id="awasm-code-manager_8cc_html_a999acc4125a715214037c81dd456611d"><div class="ttname"><a href="wasm-code-manager_8cc.html#a999acc4125a715214037c81dd456611d">TRACE_HEAP</a></div><div class="ttdeci">#define TRACE_HEAP(...)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00063">wasm-code-manager.cc:63</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-code-manager_8h_source.html#l01086">compilation_state_</a>, <a class="el" href="pgo_8cc_source.html#l00196">v8::internal::wasm::DumpProfileToFile()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01292">FreeCodePointerTableHandles()</a>, <a class="el" href="wasm-engine_8cc_source.html#l01691">v8::internal::wasm::WasmEngine::FreeNativeModule()</a>, <a class="el" href="wasm-engine_8cc_source.html#l02125">v8::internal::wasm::GetWasmEngine()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01063">module_</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02928">PrintCurrentMemoryConsumptionEstimate()</a>, <a class="el" href="wasm-engine_8cc_source.html#l02063">v8::internal::wasm::WasmEngine::PrintCurrentMemoryConsumptionEstimate()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01089">tiering_budgets_</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l00063">TRACE_HEAP</a>, <a class="el" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a>, <a class="el" href="v8config_8h_source.html#l00660">V8_UNLIKELY</a>, and <a class="el" href="wasm-code-manager_8h_source.html#l00763">wire_bytes()</a>.</p>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a969ac2536a1c63951c940e7f1552c323_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ab367709dc7ecbb7ba68e24333e7f4e8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab367709dc7ecbb7ba68e24333e7f4e8a">&#9670;&nbsp;</a></span>NativeModule() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">v8::internal::wasm::NativeModule::NativeModule </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmEnabledFeatures.html">WasmEnabledFeatures</a>&#160;</td>
          <td class="paramname"><em>enabled_features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmDetectedFeatures.html">WasmDetectedFeatures</a>&#160;</td>
          <td class="paramname"><em>detected_features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1wasm_1_1CompileTimeImports.html">CompileTimeImports</a>&#160;</td>
          <td class="paramname"><em>compile_imports</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1VirtualMemory.html">VirtualMemory</a>&#160;</td>
          <td class="paramname"><em>code_space</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; const <a class="el" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html">WasmModule</a> &gt;&#160;</td>
          <td class="paramname"><em>module</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classv8_1_1internal_1_1Counters.html">Counters</a> &gt;&#160;</td>
          <td class="paramname"><em>async_counters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html">NativeModule</a> &gt; *&#160;</td>
          <td class="paramname"><em>shared_this</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l00997">997</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    : <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a6545f7c0dd32533af15bfea737c3afec">engine_scope_</a>(</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;          <a class="code" href="namespacev8_1_1internal_1_1wasm.html#abc12fc3b25ebfb54c20b8479642acb94">GetWasmEngine</a>()-&gt;GetBarrierForBackgroundCompile()-&gt;TryLock()),</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aef6c06fd70d54f981aaccf59b8c8ec2f">code_allocator_</a>(async_counters),</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a0d170e59786ee513493fa893008fb1c1">enabled_features_</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ac8900d676fd063b88a6876f464dd8a07">enabled_features</a>),</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5fb2f2d026a39422d0282640939e2221">compile_imports_</a>(std::move(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9dc26792c1058956f82dd7114444a607">compile_imports</a>)),</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>(std::move(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a04f2f50aa9d1cbc1dc28e60dbe687f74">module</a>)),</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8a983a27240228a773a3764c6ba899df">fast_api_targets_</a>(</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;          <span class="keyword">new</span> std::atomic&lt;Address&gt;[<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_imported_functions]()),</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a88a5291abd2f5a20451c2ca823195423">fast_api_signatures_</a>(</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;          <span class="keyword">new</span> std::atomic&lt;</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;              <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal.html#a46aa1060b5e412c7e07bcc58b9f6f4b0">MachineSignature</a>*&gt;[<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_imported_functions]()) {</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a6545f7c0dd32533af15bfea737c3afec">engine_scope_</a>);</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;  <span class="comment">// We receive a pointer to an empty {std::shared_ptr}, and install ourselve</span></div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;  <span class="comment">// there.</span></div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(shared_this);</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a2209830df6b59d1ec1fdf66b9352924f">DCHECK_NULL</a>(*shared_this);</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;  shared_this-&gt;reset(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a2b68ddfcd3230a171f04c7a0b2231394">compilation_state_</a> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1CompilationState.html#aa483870e07defd3034a0d0a88e41ad8c">CompilationState::New</a>(</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;      *shared_this, std::move(async_counters), detected_features);</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a2b68ddfcd3230a171f04c7a0b2231394">compilation_state_</a>-&gt;InitCompileJob();</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>);</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_declared_functions &gt; 0) {</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9772fe3f2a97d58b67bdb119ecccb1a4">code_table_</a> =</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;        std::make_unique&lt;WasmCode*[]&gt;(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_declared_functions);</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ac7e788f315225a2a75db5ecdba7f1da8">InitializeCodePointerTableHandles</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_declared_functions);</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#adbdc70d6536478990345946c321af51e">tiering_budgets_</a> = std::make_unique&lt;std::atomic&lt;uint32_t&gt;[]&gt;(</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_declared_functions);</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    <span class="comment">// The tiering budget is accessed directly from generated code.</span></div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    static_assert(<span class="keyword">sizeof</span>(*<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#adbdc70d6536478990345946c321af51e">tiering_budgets_</a>.get()) == <span class="keyword">sizeof</span>(uint32_t));</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160; </div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    std::fill_n(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#adbdc70d6536478990345946c321af51e">tiering_budgets_</a>.get(), <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_declared_functions,</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;                <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_tiering_budget);</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;  }</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160; </div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_jitless) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160; </div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;  <span class="comment">// Even though there cannot be another thread using this object (since we</span></div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;  <span class="comment">// are just constructing it), we need to hold the mutex to fulfill the</span></div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;  <span class="comment">// precondition of {WasmCodeAllocator::Init}, which calls</span></div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;  <span class="comment">// {NativeModule::AddCodeSpaceLocked}.</span></div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> guard{&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>};</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;  <span class="keyword">auto</span> initial_region = code_space.region();</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aef6c06fd70d54f981aaccf59b8c8ec2f">code_allocator_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#aac5c374b4b033bd08bb50481fda354db">Init</a>(std::move(code_space));</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> has_code_space = initial_region.size() &gt; 0;</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(has_code_space, <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_declared_functions != 0);</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;  <span class="keywordflow">if</span> (has_code_space) {</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aef6c06fd70d54f981aaccf59b8c8ec2f">code_allocator_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#af2b5295be5ab5f4b6371ab8dce603009">InitializeCodeRange</a>(<span class="keyword">this</span>, initial_region);</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aee1bca8385445db4f32cb0b18d2f7539">AddCodeSpaceLocked</a>(initial_region);</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;  }</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160; </div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_code_coverage &amp;&amp; <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>) {</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5ebebb9d6e7368d1969447662c82f320">coverage_data_</a> = std::make_shared&lt;WasmModuleCoverageData&gt;(</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_declared_functions);</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;  }</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1CompilationState_html_aa483870e07defd3034a0d0a88e41ad8c"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1CompilationState.html#aa483870e07defd3034a0d0a88e41ad8c">v8::internal::wasm::CompilationState::New</a></div><div class="ttdeci">static std::unique_ptr&lt; CompilationState &gt; New(const std::shared_ptr&lt; NativeModule &gt; &amp;, std::shared_ptr&lt; Counters &gt;, WasmDetectedFeatures detected_features)</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l00958">module-compiler.cc:958</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a04f2f50aa9d1cbc1dc28e60dbe687f74"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a04f2f50aa9d1cbc1dc28e60dbe687f74">v8::internal::wasm::NativeModule::module</a></div><div class="ttdeci">const WasmModule * module() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00766">wasm-code-manager.h:766</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a0d170e59786ee513493fa893008fb1c1"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a0d170e59786ee513493fa893008fb1c1">v8::internal::wasm::NativeModule::enabled_features_</a></div><div class="ttdeci">const WasmEnabledFeatures enabled_features_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01056">wasm-code-manager.h:1056</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a421b976045a5bd2009372a16e6b5e34a"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">v8::internal::wasm::NativeModule::allocation_mutex_</a></div><div class="ttdeci">base::RecursiveMutex allocation_mutex_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01097">wasm-code-manager.h:1097</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a5ebebb9d6e7368d1969447662c82f320"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5ebebb9d6e7368d1969447662c82f320">v8::internal::wasm::NativeModule::coverage_data_</a></div><div class="ttdeci">std::shared_ptr&lt; WasmModuleCoverageData &gt; coverage_data_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01167">wasm-code-manager.h:1167</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a5fb2f2d026a39422d0282640939e2221"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5fb2f2d026a39422d0282640939e2221">v8::internal::wasm::NativeModule::compile_imports_</a></div><div class="ttdeci">const CompileTimeImports compile_imports_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01059">wasm-code-manager.h:1059</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a6545f7c0dd32533af15bfea737c3afec"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a6545f7c0dd32533af15bfea737c3afec">v8::internal::wasm::NativeModule::engine_scope_</a></div><div class="ttdeci">OperationsBarrier::Token engine_scope_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01047">wasm-code-manager.h:1047</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a88a5291abd2f5a20451c2ca823195423"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a88a5291abd2f5a20451c2ca823195423">v8::internal::wasm::NativeModule::fast_api_signatures_</a></div><div class="ttdeci">std::unique_ptr&lt; std::atomic&lt; const MachineSignature * &gt;[]&gt; fast_api_signatures_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01165">wasm-code-manager.h:1165</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a8a983a27240228a773a3764c6ba899df"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8a983a27240228a773a3764c6ba899df">v8::internal::wasm::NativeModule::fast_api_targets_</a></div><div class="ttdeci">std::unique_ptr&lt; std::atomic&lt; Address &gt;[]&gt; fast_api_targets_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01164">wasm-code-manager.h:1164</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a9772fe3f2a97d58b67bdb119ecccb1a4"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9772fe3f2a97d58b67bdb119ecccb1a4">v8::internal::wasm::NativeModule::code_table_</a></div><div class="ttdeci">std::unique_ptr&lt; WasmCode *[]&gt; code_table_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01116">wasm-code-manager.h:1116</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a9dc26792c1058956f82dd7114444a607"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9dc26792c1058956f82dd7114444a607">v8::internal::wasm::NativeModule::compile_imports</a></div><div class="ttdeci">const CompileTimeImports &amp; compile_imports() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00829">wasm-code-manager.h:829</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_ac7e788f315225a2a75db5ecdba7f1da8"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ac7e788f315225a2a75db5ecdba7f1da8">v8::internal::wasm::NativeModule::InitializeCodePointerTableHandles</a></div><div class="ttdeci">void InitializeCodePointerTableHandles(uint32_t num_wasm_functions)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01303">wasm-code-manager.cc:1303</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_ac8900d676fd063b88a6876f464dd8a07"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ac8900d676fd063b88a6876f464dd8a07">v8::internal::wasm::NativeModule::enabled_features</a></div><div class="ttdeci">WasmEnabledFeatures enabled_features() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00828">wasm-code-manager.h:828</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_aee1bca8385445db4f32cb0b18d2f7539"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aee1bca8385445db4f32cb0b18d2f7539">v8::internal::wasm::NativeModule::AddCodeSpaceLocked</a></div><div class="ttdeci">void AddCodeSpaceLocked(base::AddressRegion)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01844">wasm-code-manager.cc:1844</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_aef6c06fd70d54f981aaccf59b8c8ec2f"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aef6c06fd70d54f981aaccf59b8c8ec2f">v8::internal::wasm::NativeModule::code_allocator_</a></div><div class="ttdeci">WasmCodeAllocator code_allocator_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01051">wasm-code-manager.h:1051</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeAllocator_html_aac5c374b4b033bd08bb50481fda354db"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#aac5c374b4b033bd08bb50481fda354db">v8::internal::wasm::WasmCodeAllocator::Init</a></div><div class="ttdeci">void Init(VirtualMemory code_space)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00645">wasm-code-manager.cc:645</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeAllocator_html_af2b5295be5ab5f4b6371ab8dce603009"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#af2b5295be5ab5f4b6371ab8dce603009">v8::internal::wasm::WasmCodeAllocator::InitializeCodeRange</a></div><div class="ttdeci">void InitializeCodeRange(NativeModule *native_module, base::AddressRegion region)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00804">wasm-code-manager.cc:804</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a37e52a3ff896151e764c958c98c66436"><div class="ttname"><a href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">v8::base::RecursiveMutexGuard</a></div><div class="ttdeci">LockGuard&lt; RecursiveMutex &gt; RecursiveMutexGuard</div><div class="ttdef"><b>Definition:</b> <a href="mutex_8h_source.html#l00220">mutex.h:220</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a46aa1060b5e412c7e07bcc58b9f6f4b0"><div class="ttname"><a href="namespacev8_1_1internal.html#a46aa1060b5e412c7e07bcc58b9f6f4b0">v8::internal::MachineSignature</a></div><div class="ttdeci">Signature&lt; MachineType &gt; MachineSignature</div><div class="ttdef"><b>Definition:</b> <a href="signature_8h_source.html#l00151">signature.h:151</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa6b3743bd5d773c552654f2a6c3efa4a"><div class="ttname"><a href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK</a></div><div class="ttdeci">DCHECK(IsNull(value)||IsNativeContext(value)||value==Smi::uninitialized_deserialization_value())</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a2209830df6b59d1ec1fdf66b9352924f"><div class="ttname"><a href="src_2base_2logging_8h.html#a2209830df6b59d1ec1fdf66b9352924f">DCHECK_NULL</a></div><div class="ttdeci">#define DCHECK_NULL(val)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00490">logging.h:490</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a7b9f9517fedacc2a1a56c2bbb9d03688"><div class="ttname"><a href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a></div><div class="ttdeci">#define DCHECK_NOT_NULL(val)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00491">logging.h:491</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_af9c313d74155f7f201955a939e24c71f"><div class="ttname"><a href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a></div><div class="ttdeci">#define DCHECK_EQ(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00484">logging.h:484</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-code-manager_8cc_source.html#l01844">AddCodeSpaceLocked()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01097">allocation_mutex_</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01051">code_allocator_</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01116">code_table_</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01086">compilation_state_</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01167">coverage_data_</a>, <a class="el" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00484">DCHECK_EQ</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00491">DCHECK_NOT_NULL</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00490">DCHECK_NULL</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01047">engine_scope_</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l00645">v8::internal::wasm::WasmCodeAllocator::Init()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01303">InitializeCodePointerTableHandles()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l00804">v8::internal::wasm::WasmCodeAllocator::InitializeCodeRange()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01063">module_</a>, <a class="el" href="module-compiler_8cc_source.html#l00958">v8::internal::wasm::CompilationState::New()</a>, <a class="el" href="src_2utils_2allocation_8h_source.html#l00243">v8::internal::VirtualMemory::region()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01089">tiering_budgets_</a>, and <a class="el" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a>.</p>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_ab367709dc7ecbb7ba68e24333e7f4e8a_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ab37173d38eb0a6e707f8636ea5519a8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab37173d38eb0a6e707f8636ea5519a8d">&#9670;&nbsp;</a></span>AddCode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a> &gt; v8::internal::wasm::NativeModule::AddCode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classv8_1_1internal_1_1CodeDesc.html">CodeDesc</a> &amp;&#160;</td>
          <td class="paramname"><em>desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>stack_slots</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>ool_spill_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>tagged_parameter_slots</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; const uint8_t &gt;&#160;</td>
          <td class="paramname"><em>protected_instructions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; const uint8_t &gt;&#160;</td>
          <td class="paramname"><em>source_position_table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; const uint8_t &gt;&#160;</td>
          <td class="paramname"><em>inlining_positions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; const uint8_t &gt;&#160;</td>
          <td class="paramname"><em>deopt_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a236d413616e672cc2cda31bb7a4fc04d">WasmCode::Kind</a>&#160;</td>
          <td class="paramname"><em>kind</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9">ExecutionTier</a>&#160;</td>
          <td class="paramname"><em>tier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#a11df36d2f23b22c6772f3a5f08731b5b">ForDebugging</a>&#160;</td>
          <td class="paramname"><em>for_debugging</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l01263">1263</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;                                                    {</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;  base::Vector&lt;uint8_t&gt; code_space;</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;  NativeModule::JumpTablesRef jump_table_ref;</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;  {</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> guard{&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>};</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    code_space = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aef6c06fd70d54f981aaccf59b8c8ec2f">code_allocator_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a1aa6c58339ee0dc3f42716472fc79fc8">AllocateForCode</a>(<span class="keyword">this</span>, desc.instr_size);</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;    jump_table_ref =</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a7008f95ebaf5e50e98749f5ba25cd3f7">FindJumpTablesForRegionLocked</a>(<a class="code" href="namespacev8_1_1base.html#a576345f40485ddc3e105508023924217">base::AddressRegionOf</a>(code_space));</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;  }</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;  <span class="comment">// Only Liftoff code can have the {frame_has_feedback_slot} bit set.</span></div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(<a class="code" href="flag-definitions_8h.html#a878783ad616ead06040f7d4b080f6a02">tier</a>, <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a3a4891ee13d971db79eeae3a6d61d151">ExecutionTier::kLiftoff</a>);</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;  <span class="keywordtype">bool</span> frame_has_feedback_slot = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;  <a class="code" href="classv8_1_1internal_1_1ThreadIsolation.html#ae2e342788fbcd47076ccce4a1996c464">ThreadIsolation::RegisterJitAllocation</a>(</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a><span class="keyword">&gt;</span>(code_space.begin()), code_space.size(),</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;      <a class="code" href="classv8_1_1internal_1_1ThreadIsolation.html#affba95694ddfc3cdf2e345f8ed110b0ea3d2a650902eeb3540a581b2abbb17bb8">ThreadIsolation::JitAllocationType::kWasmCode</a>);</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9b24c8d07d1155bc7b7f7962cef5aaea">AddCodeWithCodeSpace</a>(</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, desc, stack_slots, ool_spill_count, tagged_parameter_slots,</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;      protected_instructions_data, source_position_table, inlining_positions,</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;      deopt_data, kind, <a class="code" href="flag-definitions_8h.html#a878783ad616ead06040f7d4b080f6a02">tier</a>, for_debugging, frame_has_feedback_slot,</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;      code_space, jump_table_ref);</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1ThreadIsolation_html_ae2e342788fbcd47076ccce4a1996c464"><div class="ttname"><a href="classv8_1_1internal_1_1ThreadIsolation.html#ae2e342788fbcd47076ccce4a1996c464">v8::internal::ThreadIsolation::RegisterJitAllocation</a></div><div class="ttdeci">static WritableJitAllocation RegisterJitAllocation(Address addr, size_t size, JitAllocationType type, bool enforce_write_api=false)</div><div class="ttdef"><b>Definition:</b> <a href="code-memory-access_8cc_source.html#l00488">code-memory-access.cc:488</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ThreadIsolation_html_affba95694ddfc3cdf2e345f8ed110b0ea3d2a650902eeb3540a581b2abbb17bb8"><div class="ttname"><a href="classv8_1_1internal_1_1ThreadIsolation.html#affba95694ddfc3cdf2e345f8ed110b0ea3d2a650902eeb3540a581b2abbb17bb8">v8::internal::ThreadIsolation::JitAllocationType::kWasmCode</a></div><div class="ttdeci">@ kWasmCode</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a7008f95ebaf5e50e98749f5ba25cd3f7"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a7008f95ebaf5e50e98749f5ba25cd3f7">v8::internal::wasm::NativeModule::FindJumpTablesForRegionLocked</a></div><div class="ttdeci">JumpTablesRef FindJumpTablesForRegionLocked(base::AddressRegion) const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02039">wasm-code-manager.cc:2039</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a9b24c8d07d1155bc7b7f7962cef5aaea"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9b24c8d07d1155bc7b7f7962cef5aaea">v8::internal::wasm::NativeModule::AddCodeWithCodeSpace</a></div><div class="ttdeci">std::unique_ptr&lt; WasmCode &gt; AddCodeWithCodeSpace(int index, const CodeDesc &amp;desc, int stack_slots, int ool_spill_count, uint32_t tagged_parameter_slots, base::Vector&lt; const uint8_t &gt; protected_instructions_data, base::Vector&lt; const uint8_t &gt; source_position_table, base::Vector&lt; const uint8_t &gt; inlining_positions, base::Vector&lt; const uint8_t &gt; deopt_data, WasmCode::Kind kind, ExecutionTier tier, ForDebugging for_debugging, bool frame_has_feedback_slot, base::Vector&lt; uint8_t &gt; code_space, const JumpTablesRef &amp;jump_tables_ref)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01320">wasm-code-manager.cc:1320</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeAllocator_html_a1aa6c58339ee0dc3f42716472fc79fc8"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a1aa6c58339ee0dc3f42716472fc79fc8">v8::internal::wasm::WasmCodeAllocator::AllocateForCode</a></div><div class="ttdeci">base::Vector&lt; uint8_t &gt; AllocateForCode(NativeModule *, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00824">wasm-code-manager.cc:824</a></div></div>
<div class="ttc" id="aflag-definitions_8h_html_a878783ad616ead06040f7d4b080f6a02"><div class="ttname"><a href="flag-definitions_8h.html#a878783ad616ead06040f7d4b080f6a02">tier</a></div><div class="ttdeci">=any, 0==ignition/interpreter, 1==sparkplug/baseline, &quot; &quot;2==maglev, 3==turbofan&quot;) DEFINE_MAYBE_BOOL(efficiency_mode, &quot;Forces efficiency mode on or off, disregarding any dynamic &quot; &quot;signals. Efficiency mode is optimized for situations with &quot; &quot;no latency requirements and uses fewer threads.&quot;) DEFINE_MAYBE_BOOL( battery_saver_mode, &quot;Forces battery saver mode on or off, disregarding any dynamic signals. &quot; &quot;Battery saver tries to conserve overall cpu cycles spent.&quot;) DEFINE_MAYBE_BOOL( memory_saver_mode, &quot;Forces memory saver mode on or off, disregarding any dynamic signals. &quot; &quot;Memory saver tries to keep memory footprint low at the expense of extra &quot; &quot;cpu cycles.&quot;) DEFINE_BOOL(efficiency_mode_for_tiering_heuristics, true, &quot;Use efficiency mode in tiering heuristics.&quot;) DEFINE_BOOL(efficiency_mode_disable_turbofan, false, &quot;Defer tier-up to turbofan while in efficiency mode.&quot;) DEFINE_INT(efficiency_mode_delay_turbofan, 15000, &quot;Delay tier-up to turbofan to a certain invocation count while in &quot; &quot;efficiency mode.&quot;) DEFINE_STRING( wasm_trace_native, nullptr, &quot;Select which native code sequence to use for wasm trace instruction:&quot; &quot;default or cpuid&quot;) #define V8_JITLESS_BOOL DEFINE_BOOL(jitless, V8_LITE_MODE_BOOL, &quot;Disable runtime allocation of executable memory.&quot;) DEFINE_BOOL( disable_optimizing_compilers, false, &quot;Disable all optimizing compilers while leaving baseline compilers enabled&quot;) DEFINE_BOOL(memory_protection_keys, true, &quot;protect code memory with PKU if available&quot;) DEFINE_BOOL(force_memory_protection_keys, false, &quot;fail if memory protection key support is not available&quot;) DEFINE_BOOL(assert_types, false, &quot;generate runtime type assertions to test the typer&quot;) DEFINE_EXPERIMENTAL_FEATURE( turboshaft_assert_types, &quot;generate runtime type assertions to test the turboshaft type system&quot;) DEFINE_BOOL(verify_simplified_lowering, false, &quot;verify graph generated by simplified lowering&quot;) #define V8_ALLOCATION_SITE_TRACKING_BOOL DEFINE_BOOL_READONLY(allocation_site_tracking, V8_ALLOCATION_SITE_TRACKING_BOOL, &quot;Enable allocation site tracking&quot;) DEFINE_NEG_NEG_IMPLICATION(allocation_site_tracking, allocation_site_pretenuring) DEFINE_BOOL(allocation_site_pretenuring, true, &quot;pretenure with allocation sites&quot;) DEFINE_INT(page_promotion_threshold, 70, &quot;min percentage of live bytes on a page to enable fast evacuation &quot; &quot;in full GCs&quot;) DEFINE_INT(minor_ms_page_promotion_threshold, 50, &quot;min percentage of live bytes on a page to enable fast evacuation &quot; &quot;in MinorMS&quot;) DEFINE_INT(minor_ms_page_promotion_max_lab_threshold, 30, &quot;max percentage of labs out of a page to still be considered for &quot; &quot;page promotion&quot;) DEFINE_UINT(minor_ms_max_page_age, 4, &quot;max age for a page after which it is force promoted to old space&quot;) DEFINE_BOOL(trace_pretenuring, false, &quot;trace pretenuring decisions of HAllocate instructions&quot;) DEFINE_BOOL(trace_pretenuring_statistics, false, &quot;trace allocation site pretenuring statistics&quot;) DEFINE_BOOL(trace_block_coverage, false, &quot;trace collected block coverage information&quot;) DEFINE_BOOL(trace_protector_invalidation, false, &quot;trace protector cell invalidations&quot;) DEFINE_BOOL(decommit_pooled_pages, true, &quot;decommit, rather than discard pooled pages&quot;) DEFINE_BOOL( zero_unused_memory, true, &quot;Zero unused memory(except for memory which was discarded) on memory &quot; &quot;reducing GCs.&quot;) DEFINE_BOOL_READONLY(minor_ms_shortcut_strings, false, &quot;short cut strings during marking&quot;) DEFINE_EXPERIMENTAL_FEATURE(feedback_normalization, &quot;feed back normalization to constructors&quot;) DEFINE_BOOL_READONLY(internalize_on_the_fly, true, &quot;internalize string keys for generic keyed ICs on the fly&quot;) DEFINE_INT(invocation_count_for_feedback_allocation, 8, &quot;invocation count required for allocating feedback vectors&quot;) DEFINE_INT(invocation_count_for_maglev, 400, &quot;invocation count required for optimizing with Maglev&quot;) DEFINE_INT(invocation_count_for_maglev_osr, 100, &quot;invocation count required for maglev OSR&quot;) DEFINE_BOOL(osr_from_maglev, false, &quot;whether we try to OSR to Turbofan from OSR 'd Maglev&quot;) DEFINE_FLOAT( osr_from_maglev_interrupt_scale_factor, 0.8, &quot;Scale interrupt budget reduction for OSR from Maglev vs. OSR to Maglev&quot;) DEFINE_BOOL(always_osr_from_maglev, false, &quot;whether we try to OSR to Turbofan from any Maglev&quot;) DEFINE_INT(invocation_count_for_turbofan, 3000, &quot;invocation count required for optimizing with TurboFan&quot;) DEFINE_INT(osr_to_tierup, 1, &quot;number to decrease the invocation budget by when we follow OSR&quot;) DEFINE_INT(minimum_invocations_after_ic_update, 500, &quot;How long to minimally wait after IC update before tier up&quot;) DEFINE_INT(minimum_invocations_before_optimization, 2, &quot;Minimum number of invocations we need before non-OSR optimization&quot;) DEFINE_BOOL(jit_fuzzing, false, &quot;Set JIT tiering thresholds suitable for JIT fuzzing&quot;) DEFINE_BOOL(use_std_math_pow, true, &quot;use std::pow instead of our custom implementation&quot;) DEFINE_BOOL(ignition_elide_noneffectful_bytecodes, true, &quot;elide bytecodes which won 't have any external effect&quot;) DEFINE_BOOL(ignition_filter_expression_positions, true, &quot;filter expression positions before the bytecode pipeline&quot;) DEFINE_BOOL(ignition_share_named_property_feedback, true, &quot;share feedback slots when loading the same named property from &quot; &quot;the same object&quot;) DEFINE_BOOL(ignition_elide_redundant_tdz_checks, true, &quot;elide TDZ checks dominated by other TDZ checks&quot;) DEFINE_BOOL(print_bytecode, false, &quot;print bytecode generated by ignition interpreter&quot;) DEFINE_BOOL(enable_lazy_source_positions, V8_LAZY_SOURCE_POSITIONS_BOOL, &quot;skip generating source positions during initial compile but &quot; &quot;regenerate when actually required&quot;) DEFINE_BOOL(stress_lazy_source_positions, false, &quot;collect lazy source positions immediately after lazy compile&quot;) DEFINE_STRING(print_bytecode_filter, &quot; *&quot;, &quot;filter for selecting which functions to print bytecode&quot;) DEFINE_BOOL(trace_ignition_codegen, false, &quot;trace the codegen of ignition interpreter bytecode handlers&quot;) DEFINE_STRING( trace_ignition_dispatches_output_file, nullptr, &quot;write the bytecode handler dispatch table to the specified file(d8 only) &quot; &quot;(requires building with v8_enable_ignition_dispatch_counting)&quot;) DEFINE_BOOL(trace_track_allocation_sites, false, &quot;trace the tracking of allocation sites&quot;) #define FLAG DEFINE_BOOL(sparkplug, ENABLE_SPARKPLUG_BY_DEFAULT, &quot;enable Sparkplug baseline compiler&quot;) DEFINE_BOOL_READONLY(concurrent_sparkplug, false, &quot;compile Sparkplug code in a background thread&quot;) DEFINE_BOOL(sparkplug_needs_short_builtins, false, &quot;only enable Sparkplug baseline compiler when &quot; &quot;--short-builtin-calls are also enabled&quot;) DEFINE_INT(baseline_batch_compilation_threshold, 4 * KB, &quot;the estimated instruction size of a batch to trigger compilation&quot;) DEFINE_BOOL(trace_baseline_batch_compilation, false, &quot;trace baseline batch compilation&quot;) #define FLAG DEFINE_BOOL_READONLY(always_use_string_forwarding_table, false, &quot;use string forwarding table instead of thin strings for &quot; &quot;all strings(experimental)&quot;) DEFINE_BOOL(transition_strings_during_gc_with_stack, false, &quot;Transition strings during a full GC with stack&quot;) DEFINE_SIZE_T(initial_shared_heap_size, 0, &quot;initial size of the shared heap(in Mbytes) tier</div><div class="ttdef"><b>Definition:</b> <a href="flag-definitions_8h_source.html#l00792">flag-definitions.h:1174</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a576345f40485ddc3e105508023924217"><div class="ttname"><a href="namespacev8_1_1base.html#a576345f40485ddc3e105508023924217">v8::base::AddressRegionOf</a></div><div class="ttdeci">AddressRegion AddressRegionOf(T *ptr, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="address-region_8h_source.html#l00075">address-region.h:75</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a74094ea879a0bfb89fbc40b97dd862b9a3a4891ee13d971db79eeae3a6d61d151"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a3a4891ee13d971db79eeae3a6d61d151">v8::internal::wasm::ExecutionTier::kLiftoff</a></div><div class="ttdeci">@ kLiftoff</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_adcd4ca657f5fbce4e3e61f860761470a"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">v8::internal::wasm::Address</a></div><div class="ttdeci">uintptr_t Address</div><div class="ttdef"><b>Definition:</b> <a href="wasm-external-refs_8h_source.html#l00025">wasm-external-refs.h:25</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a0cfab207d565dcf62ebf50f3987e05de"><div class="ttname"><a href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">v8::internal::index</a></div><div class="ttdeci">int index</div><div class="ttdef"><b>Definition:</b> <a href="heap-snapshot-generator_8cc_source.html#l01698">heap-snapshot-generator.cc:1698</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a986dc8f4ec6dcd0644efe205c13f8eb7"><div class="ttname"><a href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a></div><div class="ttdeci">#define DCHECK_NE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00485">logging.h:485</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-code-manager_8cc_source.html#l01320">AddCodeWithCodeSpace()</a>, <a class="el" href="address-region_8h_source.html#l00075">v8::base::AddressRegionOf()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l00824">v8::internal::wasm::WasmCodeAllocator::AllocateForCode()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01097">allocation_mutex_</a>, <a class="el" href="vector_8h_source.html#l00096">v8::base::Vector&lt; T &gt;::begin()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01051">code_allocator_</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00485">DCHECK_NE</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02039">FindJumpTablesForRegionLocked()</a>, <a class="el" href="heap-snapshot-generator_8cc_source.html#l01698">v8::internal::index</a>, <a class="el" href="code-desc_8h_source.html#l00049">v8::internal::CodeDesc::instr_size</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a3a4891ee13d971db79eeae3a6d61d151">v8::internal::wasm::kLiftoff</a>, <a class="el" href="classv8_1_1internal_1_1ThreadIsolation.html#affba95694ddfc3cdf2e345f8ed110b0ea3d2a650902eeb3540a581b2abbb17bb8">v8::internal::ThreadIsolation::kWasmCode</a>, <a class="el" href="code-memory-access_8cc_source.html#l00488">v8::internal::ThreadIsolation::RegisterJitAllocation()</a>, and <a class="el" href="vector_8h_source.html#l00070">v8::base::Vector&lt; T &gt;::size()</a>.</p>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_ab37173d38eb0a6e707f8636ea5519a8d_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="abdeee50fefaf3f7666243cff1a13b3da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdeee50fefaf3f7666243cff1a13b3da">&#9670;&nbsp;</a></span>AddCodeForTesting()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a> * v8::internal::wasm::NativeModule::AddCodeForTesting </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1Code.html">Code</a> &gt;&#160;</td>
          <td class="paramname"><em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>signature_hash</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l01081">1081</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;                                                                   {</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">size_t</span> relocation_size = <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;relocation_size();</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;  base::OwnedVector&lt;uint8_t&gt; reloc_info =</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;      <a class="code" href="namespacev8_1_1base.html#af618ed7682968ef3b68fdf4db5b67809">base::OwnedCopyOf</a>(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;relocation_start(), relocation_size);</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;  DirectHandle&lt;TrustedByteArray&gt; source_pos_table(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;source_position_table(),</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;                                                  <a class="code" href="classv8_1_1internal_1_1Isolate.html#a05a2b08b2b0f2d5aef8dc053e2ea3d9b">Isolate::Current</a>());</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;  <span class="keywordtype">int</span> source_pos_len = source_pos_table-&gt;length();</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;  base::OwnedVector&lt;uint8_t&gt; source_pos =</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;      <a class="code" href="namespacev8_1_1base.html#af618ed7682968ef3b68fdf4db5b67809">base::OwnedCopyOf</a>(source_pos_table-&gt;begin(), source_pos_len);</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160; </div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;  static_assert(<a class="code" href="classv8_1_1internal_1_1InstructionStream.html#ae5c1b203ad1007bffb349881cdf8bec3">InstructionStream::kOnHeapBodyIsContiguous</a>);</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;  base::Vector&lt;const uint8_t&gt; instructions(</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;body_start()),</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;      <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;body_size()));</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> stack_slots = <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;stack_slots();</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160; </div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;  <span class="comment">// Metadata offsets in InstructionStream objects are relative to the start of</span></div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;  <span class="comment">// the metadata section, whereas WasmCode expects offsets relative to</span></div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;  <span class="comment">// instruction_start.</span></div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> base_offset = <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;instruction_size();</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;  <span class="comment">// TODO(jgruber,v8:8758): Remove this translation. It exists only because</span></div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;  <span class="comment">// InstructionStream objects contains real offsets but WasmCode expects an</span></div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;  <span class="comment">// offset of 0 to mean &#39;empty&#39;.</span></div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> safepoint_table_offset =</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;      <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;has_safepoint_table() ? base_offset + <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;safepoint_table_offset()</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;                                  : 0;</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> handler_table_offset = base_offset + <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;handler_table_offset();</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> constant_pool_offset = base_offset + <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;constant_pool_offset();</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> code_comments_offset = base_offset + <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;code_comments_offset();</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> jump_table_info_offset =</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;      base_offset + <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;jump_table_info_offset();</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160; </div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> guard{&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>};</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;  base::Vector&lt;uint8_t&gt; dst_code_bytes =</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aef6c06fd70d54f981aaccf59b8c8ec2f">code_allocator_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a1aa6c58339ee0dc3f42716472fc79fc8">AllocateForCode</a>(<span class="keyword">this</span>, instructions.size());</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;  {</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    WritableJitAllocation jit_allocation =</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;        <a class="code" href="classv8_1_1internal_1_1ThreadIsolation.html#ae2e342788fbcd47076ccce4a1996c464">ThreadIsolation::RegisterJitAllocation</a>(</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;            <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a><span class="keyword">&gt;</span>(dst_code_bytes.begin()),</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;            dst_code_bytes.size(),</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;            <a class="code" href="classv8_1_1internal_1_1ThreadIsolation.html#affba95694ddfc3cdf2e345f8ed110b0ea3d2a650902eeb3540a581b2abbb17bb8">ThreadIsolation::JitAllocationType::kWasmCode</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    jit_allocation.CopyCode(0, instructions.begin(), instructions.size());</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160; </div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    <span class="comment">// Apply the relocation delta by iterating over the RelocInfo.</span></div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    intptr_t delta = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a><span class="keyword">&gt;</span>(dst_code_bytes.begin()) -</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;                     <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;instruction_start();</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    <span class="keywordtype">int</span> mode_mask =</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;        <a class="code" href="classv8_1_1internal_1_1RelocInfo.html#a3674f1738fbd7b36d670397d0fbd363e">RelocInfo::kApplyMask</a> | <a class="code" href="classv8_1_1internal_1_1RelocInfo.html#a4bb9ca8ff590a4b9a46751997f9f9c5e">RelocInfo::ModeMask</a>(<a class="code" href="classv8_1_1internal_1_1RelocInfo.html#ad2e613bbaf7c7a82f0db322c069cad8eaf44d1f5521a36a56293dd55fa8e269c6">RelocInfo::WASM_STUB_CALL</a>) |</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;        <a class="code" href="classv8_1_1internal_1_1RelocInfo.html#a4bb9ca8ff590a4b9a46751997f9f9c5e">RelocInfo::ModeMask</a>(<a class="code" href="classv8_1_1internal_1_1RelocInfo.html#ad2e613bbaf7c7a82f0db322c069cad8ea1cc6db35064ce98174704bf423847a61">RelocInfo::WASM_CODE_POINTER_TABLE_ENTRY</a>);</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    <span class="keyword">auto</span> jump_tables_ref =</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a7008f95ebaf5e50e98749f5ba25cd3f7">FindJumpTablesForRegionLocked</a>(<a class="code" href="namespacev8_1_1base.html#a576345f40485ddc3e105508023924217">base::AddressRegionOf</a>(dst_code_bytes));</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a> dst_code_addr = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a><span class="keyword">&gt;</span>(dst_code_bytes.begin());</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a> constant_pool_start = dst_code_addr + constant_pool_offset;</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;    RelocIterator orig_it(*<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>, mode_mask);</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    <span class="keywordflow">for</span> (WritableRelocIterator it(jit_allocation, dst_code_bytes,</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;                                  reloc_info.as_vector(), constant_pool_start,</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;                                  mode_mask);</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;         !it.done(); it.next(), orig_it.next()) {</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;      <a class="code" href="classv8_1_1internal_1_1RelocInfo.html#ad2e613bbaf7c7a82f0db322c069cad8e">RelocInfo::Mode</a> <a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a> = it.rinfo()-&gt;rmode();</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1RelocInfo.html#a9b6cc7beedb93c75dda2852cb6af822e">RelocInfo::IsWasmStubCall</a>(<a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a>)) {</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;        uint32_t stub_call_tag = orig_it.rinfo()-&gt;wasm_call_tag();</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a>(stub_call_tag,</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;                  <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(Builtin::kFirstBytecodeHandler));</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#acc2e164143496f18b5ec68f8ab70af52">Builtin</a> builtin = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacev8_1_1internal.html#acc2e164143496f18b5ec68f8ab70af52">Builtin</a><span class="keyword">&gt;</span>(stub_call_tag);</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;        <a class="code" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a> entry = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8697f83af39e72a0327a6d299e1e23b7">GetJumpTableEntryForBuiltin</a>(builtin, jump_tables_ref);</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;        it.rinfo()-&gt;set_wasm_stub_call_address(entry);</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1RelocInfo.html#ace9340a0c27b322249d990c3b6351cea">RelocInfo::IsWasmCodePointerTableEntry</a>(<a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a>)) {</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;        uint32_t function_index =</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;            it.rinfo()-&gt;wasm_code_pointer_table_entry().value();</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;        WasmCodePointer target = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a63657aff1b54d8355c88d671645a62fd">GetCodePointerHandle</a>(function_index);</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;        it.rinfo()-&gt;set_wasm_code_pointer_table_entry(target,</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;                                                      <a class="code" href="namespacev8_1_1internal.html#abef7e063903876c844c905764b46b438acb3ba39651f2444a7fff95297d974390">SKIP_ICACHE_FLUSH</a>);</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;        it.rinfo()-&gt;apply(delta);</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;      }</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    }</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;  }</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160; </div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;  <span class="comment">// Flush the i-cache after relocation.</span></div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a4ae783a89fc65122f5edc866f1209176">FlushInstructionCache</a>(dst_code_bytes.begin(), dst_code_bytes.size());</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160; </div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;  std::unique_ptr&lt;WasmCode&gt; new_code{</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;      <span class="keyword">new</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a0ec92359918c6ef6fe010cafb580eb86">WasmCode</a>{<span class="keyword">this</span>,                     <span class="comment">// native_module</span></div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;                   <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a1bb1a5429ae3d1ec380de1b5da81238f">kAnonymousFuncIndex</a>,      <span class="comment">// index</span></div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;                   dst_code_bytes,           <span class="comment">// instructions</span></div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;                   stack_slots,              <span class="comment">// stack_slots</span></div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;                   0,                        <span class="comment">// ool_spills</span></div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;                   0,                        <span class="comment">// tagged_parameter_slots</span></div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;                   safepoint_table_offset,   <span class="comment">// safepoint_table_offset</span></div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;                   handler_table_offset,     <span class="comment">// handler_table_offset</span></div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;                   constant_pool_offset,     <span class="comment">// constant_pool_offset</span></div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;                   code_comments_offset,     <span class="comment">// code_comments_offset</span></div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;                   jump_table_info_offset,   <span class="comment">// jump_table_info_offset</span></div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;                   instructions.length(),    <span class="comment">// unpadded_binary_size</span></div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;                   {},                       <span class="comment">// protected_instructions</span></div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;                   reloc_info.as_vector(),   <span class="comment">// reloc_info</span></div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;                   source_pos.as_vector(),   <span class="comment">// source positions</span></div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;                   {},                       <span class="comment">// inlining positions</span></div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;                   {},                       <span class="comment">// deopt data</span></div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;                   <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a236d413616e672cc2cda31bb7a4fc04da45f1a70311368f7019a39332304561b1">WasmCode::kWasmFunction</a>,  <span class="comment">// kind</span></div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;                   <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13">ExecutionTier::kNone</a>,     <span class="comment">// tier</span></div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;                   <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a11df36d2f23b22c6772f3a5f08731b5ba1874820c42ab45140e0e50e44f8e96d5">kNotForDebugging</a>,         <span class="comment">// for_debugging</span></div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;                   signature_hash}};         <span class="comment">// signature_hash</span></div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;  new_code-&gt;MaybePrint();</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;  new_code-&gt;Validate();</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160; </div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a60c23842429cfbc96419f922d252a4ea">PublishCodeLocked</a>(std::move(new_code),</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;                           <a class="code" href="structv8_1_1internal_1_1wasm_1_1UnpublishedWasmCode.html#a4c0e64721e6f0d179c1b2151a97bbc4a">UnpublishedWasmCode::kNoAssumptions</a>);</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1InstructionStream_html_ae5c1b203ad1007bffb349881cdf8bec3"><div class="ttname"><a href="classv8_1_1internal_1_1InstructionStream.html#ae5c1b203ad1007bffb349881cdf8bec3">v8::internal::InstructionStream::kOnHeapBodyIsContiguous</a></div><div class="ttdeci">static constexpr bool kOnHeapBodyIsContiguous</div><div class="ttdef"><b>Definition:</b> <a href="instruction-stream_8h_source.html#l00061">instruction-stream.h:61</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a05a2b08b2b0f2d5aef8dc053e2ea3d9b"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a05a2b08b2b0f2d5aef8dc053e2ea3d9b">v8::internal::Isolate::Current</a></div><div class="ttdeci">static Isolate * Current()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate-inl_8h_source.html#l00035">isolate-inl.h:35</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RelocInfo_html_a3674f1738fbd7b36d670397d0fbd363e"><div class="ttname"><a href="classv8_1_1internal_1_1RelocInfo.html#a3674f1738fbd7b36d670397d0fbd363e">v8::internal::RelocInfo::kApplyMask</a></div><div class="ttdeci">static const int kApplyMask</div><div class="ttdef"><b>Definition:</b> <a href="reloc-info_8h_source.html#l00370">reloc-info.h:370</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RelocInfo_html_a4bb9ca8ff590a4b9a46751997f9f9c5e"><div class="ttname"><a href="classv8_1_1internal_1_1RelocInfo.html#a4bb9ca8ff590a4b9a46751997f9f9c5e">v8::internal::RelocInfo::ModeMask</a></div><div class="ttdeci">static constexpr int ModeMask(Mode mode)</div><div class="ttdef"><b>Definition:</b> <a href="reloc-info_8h_source.html#l00273">reloc-info.h:273</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RelocInfo_html_a9b6cc7beedb93c75dda2852cb6af822e"><div class="ttname"><a href="classv8_1_1internal_1_1RelocInfo.html#a9b6cc7beedb93c75dda2852cb6af822e">v8::internal::RelocInfo::IsWasmStubCall</a></div><div class="ttdeci">static constexpr bool IsWasmStubCall(Mode mode)</div><div class="ttdef"><b>Definition:</b> <a href="reloc-info_8h_source.html#l00215">reloc-info.h:215</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RelocInfo_html_ace9340a0c27b322249d990c3b6351cea"><div class="ttname"><a href="classv8_1_1internal_1_1RelocInfo.html#ace9340a0c27b322249d990c3b6351cea">v8::internal::RelocInfo::IsWasmCodePointerTableEntry</a></div><div class="ttdeci">static constexpr bool IsWasmCodePointerTableEntry(Mode mode)</div><div class="ttdef"><b>Definition:</b> <a href="reloc-info_8h_source.html#l00221">reloc-info.h:221</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RelocInfo_html_ad2e613bbaf7c7a82f0db322c069cad8e"><div class="ttname"><a href="classv8_1_1internal_1_1RelocInfo.html#ad2e613bbaf7c7a82f0db322c069cad8e">v8::internal::RelocInfo::Mode</a></div><div class="ttdeci">Mode</div><div class="ttdef"><b>Definition:</b> <a href="reloc-info_8h_source.html#l00106">reloc-info.h:106</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RelocInfo_html_ad2e613bbaf7c7a82f0db322c069cad8ea1cc6db35064ce98174704bf423847a61"><div class="ttname"><a href="classv8_1_1internal_1_1RelocInfo.html#ad2e613bbaf7c7a82f0db322c069cad8ea1cc6db35064ce98174704bf423847a61">v8::internal::RelocInfo::WASM_CODE_POINTER_TABLE_ENTRY</a></div><div class="ttdeci">@ WASM_CODE_POINTER_TABLE_ENTRY</div><div class="ttdef"><b>Definition:</b> <a href="reloc-info_8h_source.html#l00120">reloc-info.h:120</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RelocInfo_html_ad2e613bbaf7c7a82f0db322c069cad8eaf44d1f5521a36a56293dd55fa8e269c6"><div class="ttname"><a href="classv8_1_1internal_1_1RelocInfo.html#ad2e613bbaf7c7a82f0db322c069cad8eaf44d1f5521a36a56293dd55fa8e269c6">v8::internal::RelocInfo::WASM_STUB_CALL</a></div><div class="ttdeci">@ WASM_STUB_CALL</div><div class="ttdef"><b>Definition:</b> <a href="reloc-info_8h_source.html#l00119">reloc-info.h:119</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a0ec92359918c6ef6fe010cafb580eb86"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a0ec92359918c6ef6fe010cafb580eb86">v8::internal::wasm::NativeModule::WasmCode</a></div><div class="ttdeci">friend class WasmCode</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00967">wasm-code-manager.h:967</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a60c23842429cfbc96419f922d252a4ea"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a60c23842429cfbc96419f922d252a4ea">v8::internal::wasm::NativeModule::PublishCodeLocked</a></div><div class="ttdeci">WasmCode * PublishCodeLocked(std::unique_ptr&lt; WasmCode &gt;, AssumptionsJournal *)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01485">wasm-code-manager.cc:1485</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a63657aff1b54d8355c88d671645a62fd"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a63657aff1b54d8355c88d671645a62fd">v8::internal::wasm::NativeModule::GetCodePointerHandle</a></div><div class="ttdeci">WasmCodePointer GetCodePointerHandle(int index) const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02144">wasm-code-manager.cc:2144</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a8697f83af39e72a0327a6d299e1e23b7"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8697f83af39e72a0327a6d299e1e23b7">v8::internal::wasm::NativeModule::GetJumpTableEntryForBuiltin</a></div><div class="ttdeci">Address GetJumpTableEntryForBuiltin(Builtin builtin, const JumpTablesRef &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02088">wasm-code-manager.cc:2088</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a236d413616e672cc2cda31bb7a4fc04da45f1a70311368f7019a39332304561b1"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a236d413616e672cc2cda31bb7a4fc04da45f1a70311368f7019a39332304561b1">v8::internal::wasm::WasmCode::kWasmFunction</a></div><div class="ttdeci">@ kWasmFunction</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00094">wasm-code-manager.h:94</a></div></div>
<div class="ttc" id="aflag-definitions_8h_html_adaf90f045d5cd2710edd625b8685472a"><div class="ttname"><a href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enables Turboshaft s StaticAssert and CheckTurboshaftTypeOf operations Wasm code into JS functions via the JS to Wasm wrappers are still inlined in TurboFan For controlling whether to at see turbo inline js wasm calls enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information enable Turbolev features that we want to ship in the not too far future trace individual Turboshaft reduction steps trace intermediate Turboshaft reduction steps trace Turboshaft s if else to switch reducer invocation count threshold for early optimization Enables optimizations which favor memory size over execution speed Enables sampling allocation profiler with X as a sample interval min size of a semi the new space consists of two semi spaces max size of the preconfigured old space Collect garbage after Collect garbage after keeps maps alive for&lt; n &gt; old space garbage collections print one detailed trace line in allocation gc speed threshold for starting incremental marking via a task in percent of available threshold for starting incremental marking immediately in percent of available Use a single schedule for determining a marking schedule between JS and C objects schedules the minor GC task with kUserVisible priority max worker number of concurrent for NumberOfWorkerThreads start background threads that allocate memory concurrent_array_buffer_sweeping use parallel threads to clear weak refs in the atomic pause trace progress of the incremental marking trace object counts and memory usage report a tick only when allocated zone memory changes by this amount TracingFlags::gc_stats TracingFlags::gc_stats track native contexts that are expected to be garbage collected verify heap pointers before and after GC memory reducer runs GC with ReduceMemoryFootprint flag Maximum number of memory reducer GCs scheduled Old gen GC speed is computed directly from gc tracer counters Perform compaction on full GCs based on V8 s default heuristics Perform compaction on every full GC Perform code space compaction when finalizing a full GC with stack Stress GC compaction to flush out bugs with moving objects flush of baseline code when it has not been executed recently Use time base code flushing instead of age Use a progress bar to scan large objects in increments when incremental marking is active force incremental marking for small heaps and run it more often Release pooled large pages after X seconds prints number of allocations and enables analysis mode for gc fuzz e g stress stress scavenge force scavenge at random points between and reclaim otherwise unreachable unmodified wrapper objects when possible discard the memory pool before invoking the GC on memory pressure or last resort GCs Delay before memory reducer start virtual randomize memory reservations by ignoring any hints passed when allocating pages use incremental marking for CppHeap cppheap_concurrent_marking c value for membalancer A special constant to balance between memory and space tradeoff The smaller the more memory it uses enable use of SSE4 instructions if available enable use of SAHF instruction if enable use of AVX VNNI instructions if available enable use of POPCNT instruction if available force all emitted branches to be in long mode(MIPS/PPC only)&quot;) DEFINE_BOOL(partial_constant_pool</div></div>
<div class="ttc" id="aflag-definitions_8h_html_ae0e79c88adf5166f9befeb542c2acd8f"><div class="ttname"><a href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a></div><div class="ttdeci">force emit tier up logic from all non turbofan code</div><div class="ttdef"><b>Definition:</b> <a href="flag-definitions_8h_source.html#l00546">flag-definitions.h:546</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_af618ed7682968ef3b68fdf4db5b67809"><div class="ttname"><a href="namespacev8_1_1base.html#af618ed7682968ef3b68fdf4db5b67809">v8::base::OwnedCopyOf</a></div><div class="ttdeci">OwnedVector&lt; T &gt; OwnedCopyOf(const T *data, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="vector_8h_source.html#l00382">vector.h:382</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a11df36d2f23b22c6772f3a5f08731b5ba1874820c42ab45140e0e50e44f8e96d5"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a11df36d2f23b22c6772f3a5f08731b5ba1874820c42ab45140e0e50e44f8e96d5">v8::internal::wasm::kNotForDebugging</a></div><div class="ttdeci">@ kNotForDebugging</div><div class="ttdef"><b>Definition:</b> <a href="wasm-tier_8h_source.html#l00047">wasm-tier.h:47</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a1bb1a5429ae3d1ec380de1b5da81238f"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a1bb1a5429ae3d1ec380de1b5da81238f">v8::internal::wasm::kAnonymousFuncIndex</a></div><div class="ttdeci">constexpr int kAnonymousFuncIndex</div><div class="ttdef"><b>Definition:</b> <a href="wasm-constants_8h_source.html#l00189">wasm-constants.h:189</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13">v8::internal::wasm::ExecutionTier::kNone</a></div><div class="ttdeci">@ kNone</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a4ae783a89fc65122f5edc866f1209176"><div class="ttname"><a href="namespacev8_1_1internal.html#a4ae783a89fc65122f5edc866f1209176">v8::internal::FlushInstructionCache</a></div><div class="ttdeci">void FlushInstructionCache(void *start, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="flush-instruction-cache_8cc_source.html#l00014">flush-instruction-cache.cc:14</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_abef7e063903876c844c905764b46b438acb3ba39651f2444a7fff95297d974390"><div class="ttname"><a href="namespacev8_1_1internal.html#abef7e063903876c844c905764b46b438acb3ba39651f2444a7fff95297d974390">v8::internal::SKIP_ICACHE_FLUSH</a></div><div class="ttdeci">@ SKIP_ICACHE_FLUSH</div><div class="ttdef"><b>Definition:</b> <a href="reloc-info_8h_source.html#l00025">reloc-info.h:25</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_acc2e164143496f18b5ec68f8ab70af52"><div class="ttname"><a href="namespacev8_1_1internal.html#acc2e164143496f18b5ec68f8ab70af52">v8::internal::Builtin</a></div><div class="ttdeci">Builtin</div><div class="ttdef"><b>Definition:</b> <a href="builtins_8h_source.html#l00050">builtins.h:50</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_af1a711c8d5520dff78858ddefd2ad668"><div class="ttname"><a href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a></div><div class="ttdeci">#define DCHECK_LT(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00488">logging.h:488</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1UnpublishedWasmCode_html_a4c0e64721e6f0d179c1b2151a97bbc4a"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1UnpublishedWasmCode.html#a4c0e64721e6f0d179c1b2151a97bbc4a">v8::internal::wasm::UnpublishedWasmCode::kNoAssumptions</a></div><div class="ttdeci">static constexpr AssumptionsJournal * kNoAssumptions</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00532">wasm-code-manager.h:532</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="address-region_8h_source.html#l00075">v8::base::AddressRegionOf()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l00824">v8::internal::wasm::WasmCodeAllocator::AllocateForCode()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01097">allocation_mutex_</a>, <a class="el" href="vector_8h_source.html#l00266">v8::base::OwnedVector&lt; T &gt;::as_vector()</a>, <a class="el" href="vector_8h_source.html#l00096">v8::base::Vector&lt; T &gt;::begin()</a>, <a class="el" href="flag-definitions_8h_source.html#l00546">code</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01051">code_allocator_</a>, <a class="el" href="code-memory-access-inl_8h_source.html#l00245">v8::internal::WritableJitAllocation::CopyCode()</a>, <a class="el" href="execution_2isolate-inl_8h_source.html#l00035">v8::internal::Isolate::Current()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00488">DCHECK_LT</a>, <a class="el" href="reloc-info_8h_source.html#l00522">v8::internal::RelocIteratorBase&lt; RelocInfoT &gt;::done()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02039">FindJumpTablesForRegionLocked()</a>, <a class="el" href="flush-instruction-cache_8cc_source.html#l00014">v8::internal::FlushInstructionCache()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02144">GetCodePointerHandle()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02088">GetJumpTableEntryForBuiltin()</a>, <a class="el" href="reloc-info_8h_source.html#l00221">v8::internal::RelocInfo::IsWasmCodePointerTableEntry()</a>, <a class="el" href="reloc-info_8h_source.html#l00215">v8::internal::RelocInfo::IsWasmStubCall()</a>, <a class="el" href="wasm-constants_8h_source.html#l00189">v8::internal::wasm::kAnonymousFuncIndex</a>, <a class="el" href="reloc-info_8h_source.html#l00370">v8::internal::RelocInfo::kApplyMask</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00532">v8::internal::wasm::UnpublishedWasmCode::kNoAssumptions</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13">v8::internal::wasm::kNone</a>, <a class="el" href="wasm-tier_8h_source.html#l00047">v8::internal::wasm::kNotForDebugging</a>, <a class="el" href="instruction-stream_8h_source.html#l00061">v8::internal::InstructionStream::kOnHeapBodyIsContiguous</a>, <a class="el" href="classv8_1_1internal_1_1ThreadIsolation.html#affba95694ddfc3cdf2e345f8ed110b0ea3d2a650902eeb3540a581b2abbb17bb8">v8::internal::ThreadIsolation::kWasmCode</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00094">v8::internal::wasm::WasmCode::kWasmFunction</a>, <a class="el" href="vector_8h_source.html#l00064">v8::base::Vector&lt; T &gt;::length()</a>, <a class="el" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode()</a>, <a class="el" href="reloc-info_8h_source.html#l00273">v8::internal::RelocInfo::ModeMask()</a>, <a class="el" href="reloc-info_8cc_source.html#l00130">v8::internal::RelocIteratorBase&lt; RelocInfoT &gt;::next()</a>, <a class="el" href="vector_8h_source.html#l00382">v8::base::OwnedCopyOf()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01485">PublishCodeLocked()</a>, <a class="el" href="code-memory-access_8cc_source.html#l00488">v8::internal::ThreadIsolation::RegisterJitAllocation()</a>, <a class="el" href="reloc-info_8h_source.html#l00526">v8::internal::RelocIteratorBase&lt; RelocInfoT &gt;::rinfo()</a>, <a class="el" href="vector_8h_source.html#l00070">v8::base::Vector&lt; T &gt;::size()</a>, <a class="el" href="reloc-info_8h_source.html#l00025">v8::internal::SKIP_ICACHE_FLUSH</a>, <a class="el" href="assembler-riscv_8cc_source.html#l00202">v8::internal::RelocInfo::wasm_call_tag()</a>, <a class="el" href="reloc-info_8h_source.html#l00120">v8::internal::RelocInfo::WASM_CODE_POINTER_TABLE_ENTRY</a>, and <a class="el" href="reloc-info_8h_source.html#l00119">v8::internal::RelocInfo::WASM_STUB_CALL</a>.</p>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_abdeee50fefaf3f7666243cff1a13b3da_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="aee1bca8385445db4f32cb0b18d2f7539"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee1bca8385445db4f32cb0b18d2f7539">&#9670;&nbsp;</a></span>AddCodeSpaceLocked()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::NativeModule::AddCodeSpaceLocked </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1base_1_1AddressRegion.html">base::AddressRegion</a>&#160;</td>
          <td class="paramname"><em>region</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l01844">1844</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;                                                              {</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>.<a class="code" href="classv8_1_1base_1_1RecursiveMutex.html#a63e202453c65074f4a84b8f0b2435a21">AssertHeld</a>();</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160; </div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;  <span class="comment">// We do not need a code space if the NativeModule does not hold any</span></div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;  <span class="comment">// functions (wrappers live in the wrapper cache).</span></div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a>(0, <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_declared_functions);</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160; </div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;  <span class="comment">// Each code space must be at least twice as large as the overhead per code</span></div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;  <span class="comment">// space. Otherwise, we are wasting too much memory.</span></div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a>(region.size(),</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;            2 * <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#aaf0913fdb4fd2cac1a727020988a3cc8">OverheadPerCodeSpace</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a04f2f50aa9d1cbc1dc28e60dbe687f74">module</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ac977ec4aaf9ab4a9c19776faeba24191">num_declared_functions</a>));</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160; </div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;  WasmCodeRefScope code_ref_scope;</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a0ec92359918c6ef6fe010cafb580eb86">WasmCode</a>* jump_table = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a0ec92359918c6ef6fe010cafb580eb86">WasmCode</a>* far_jump_table = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;  <span class="keyword">const</span> uint32_t num_wasm_functions = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_declared_functions;</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> is_first_code_space = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a09649a8d8356bcf64e4bc5f2d3eb1435">code_space_data_</a>.empty();</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;  <span class="comment">// We always need a far jump table, because it contains the runtime stubs.</span></div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> needs_far_jump_table =</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;      !<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a7008f95ebaf5e50e98749f5ba25cd3f7">FindJumpTablesForRegionLocked</a>(region).<a class="code" href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1JumpTablesRef.html#af7c96722e3f88e952d116c817305c7bb">is_valid</a>();</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> needs_jump_table = num_wasm_functions &gt; 0 &amp;&amp; needs_far_jump_table;</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160; </div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;  <span class="keywordflow">if</span> (needs_jump_table) {</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;    <span class="comment">// Allocate additional jump tables just as big as the first one.</span></div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;    <span class="comment">// This is in particular needed in cctests which add functions to the module</span></div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;    <span class="comment">// after the jump tables are already created (see</span></div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;    <span class="comment">// https://crbug.com/v8/14213).</span></div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;    <span class="keywordtype">int</span> jump_table_size =</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;        is_first_code_space</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;            ? <a class="code" href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a5515cdbbc42cf3c78581ea13768f74bb">JumpTableAssembler::SizeForNumberOfSlots</a>(num_wasm_functions)</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;            : <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a13f6208a4e2ce867f817a5e73e481484">main_jump_table_</a>-&gt;instructions_size_;</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;    jump_table = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5bcdbc6019550ab5ed2f16d8c7c7745b">CreateEmptyJumpTableInRegionLocked</a>(jump_table_size, region,</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;                                                    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8125eaffd4b01d09e3e172cab5f94d12a4237d3e837c403339afce6a8387246cb">JumpTableType::kJumpTable</a>);</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(region.contains(jump_table-&gt;instruction_start()));</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;  }</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160; </div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;  <span class="keywordflow">if</span> (needs_far_jump_table) {</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;    <span class="keywordtype">int</span> num_function_slots = <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#a20eca43d1fce6cfb2a372f61af3c754f">NumWasmFunctionsInFarJumpTable</a>(num_wasm_functions);</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;    <span class="comment">// See comment above for the size computation.</span></div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;    <span class="keywordtype">int</span> far_jump_table_size =</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;        is_first_code_space</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;            ? <a class="code" href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a87add92ae969554c1b14d8ff3e8d7cd2">JumpTableAssembler::SizeForNumberOfFarJumpSlots</a>(</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;                  <a class="code" href="classv8_1_1internal_1_1wasm_1_1BuiltinLookup.html#a934b529bc9c9104095b6c98ffaba9697">BuiltinLookup::BuiltinCount</a>(), num_function_slots)</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;            : <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae07d8be3c591174d7f19648d9615d929">main_far_jump_table_</a>-&gt;instructions_size_;</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;    far_jump_table = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5bcdbc6019550ab5ed2f16d8c7c7745b">CreateEmptyJumpTableInRegionLocked</a>(</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;        far_jump_table_size, region, <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8125eaffd4b01d09e3e172cab5f94d12a693267f9d764c2f577d25c2afc461a10">JumpTableType::kFarJumpTable</a>);</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(region.contains(far_jump_table-&gt;instruction_start()));</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;    EmbeddedData embedded_data = <a class="code" href="classv8_1_1internal_1_1EmbeddedData.html#a5f046101e1ed7d746979f87acbcb60e5">EmbeddedData::FromBlob</a>();</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;    static_assert(<a class="code" href="classv8_1_1internal_1_1Builtins.html#a9272a472ad4885ecd59c1f55dcb16028">Builtins::kAllBuiltinsAreIsolateIndependent</a>);</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a> builtin_addresses[<a class="code" href="classv8_1_1internal_1_1wasm_1_1BuiltinLookup.html#a934b529bc9c9104095b6c98ffaba9697">BuiltinLookup::BuiltinCount</a>()];</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; <a class="code" href="classv8_1_1internal_1_1wasm_1_1BuiltinLookup.html#a934b529bc9c9104095b6c98ffaba9697">BuiltinLookup::BuiltinCount</a>(); ++<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>) {</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;      builtin_addresses[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = embedded_data.InstructionStartOf(</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;          <a class="code" href="classv8_1_1internal_1_1wasm_1_1BuiltinLookup.html#a67dcedf7516507a705bc79ffd2e0a089">BuiltinLookup::BuiltinForJumptableIndex</a>(<a class="code" href="namespacev8_1_1internal.html">i</a>));</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;    }</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;    WritableJitAllocation jit_allocation = <a class="code" href="classv8_1_1internal_1_1ThreadIsolation.html#ad005e4948f48131f0f8727020bd52b68">ThreadIsolation::LookupJitAllocation</a>(</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;        far_jump_table-&gt;instruction_start(), far_jump_table-&gt;instructions_size_,</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;        <a class="code" href="classv8_1_1internal_1_1ThreadIsolation.html#affba95694ddfc3cdf2e345f8ed110b0eac2316abd3338b7d2e92c44dfde6164c5">ThreadIsolation::JitAllocationType::kWasmFarJumpTable</a>);</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160; </div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a9429626ba78f937f1bdd773af25dda77">JumpTableAssembler::GenerateFarJumpTable</a>(</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;        jit_allocation, far_jump_table-&gt;instruction_start(), builtin_addresses,</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1BuiltinLookup.html#a934b529bc9c9104095b6c98ffaba9697">BuiltinLookup::BuiltinCount</a>(), num_function_slots);</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;  }</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160; </div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;  <span class="keywordflow">if</span> (is_first_code_space) {</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;    <span class="comment">// This can be updated and accessed without locks, since the addition of the</span></div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;    <span class="comment">// first code space happens during initialization of the {NativeModule},</span></div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;    <span class="comment">// where no concurrent accesses are possible.</span></div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a13f6208a4e2ce867f817a5e73e481484">main_jump_table_</a> = jump_table;</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae07d8be3c591174d7f19648d9615d929">main_far_jump_table_</a> = far_jump_table;</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;  }</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160; </div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a09649a8d8356bcf64e4bc5f2d3eb1435">code_space_data_</a>.push_back(CodeSpaceData{region, jump_table, far_jump_table});</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160; </div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;  <span class="keywordflow">if</span> (is_first_code_space) {</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a7eebb8a25711eac01dfad476ab555f66">InitializeJumpTableForLazyCompilation</a>(num_wasm_functions);</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;  }</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160; </div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;  <span class="keywordflow">if</span> (jump_table &amp;&amp; !is_first_code_space) {</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;    <span class="comment">// Patch the new jump table(s) with existing functions. If this is the first</span></div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;    <span class="comment">// code space, there cannot be any functions that have been compiled yet.</span></div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;    <span class="keyword">const</span> CodeSpaceData&amp; new_code_space_data = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a09649a8d8356bcf64e4bc5f2d3eb1435">code_space_data_</a>.back();</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;    <span class="comment">// TODO(sroettger): need to create two write scopes? Or have a write scope</span></div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;    <span class="comment">// for multiple allocations.</span></div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;    WritableJumpTablePair writable_jump_tables =</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;        ThreadIsolation::LookupJumpTableAllocations(</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;            new_code_space_data.jump_table-&gt;instruction_start(),</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160; </div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;            new_code_space_data.jump_table-&gt;instructions_size_,</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;            new_code_space_data.far_jump_table-&gt;instruction_start(),</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160; </div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;            new_code_space_data.far_jump_table-&gt;instructions_size_);</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;    <span class="keywordflow">for</span> (uint32_t slot_index = 0; slot_index &lt; num_wasm_functions;</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;         ++slot_index) {</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9772fe3f2a97d58b67bdb119ecccb1a4">code_table_</a>[slot_index]) {</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae04709ff9dc0c24f62ccc498d14048bb">PatchJumpTableLocked</a>(writable_jump_tables, new_code_space_data,</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;                             slot_index,</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;                             <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9772fe3f2a97d58b67bdb119ecccb1a4">code_table_</a>[slot_index]-&gt;instruction_start());</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#afad6cb5c96183d22f6dea2a28a3c93e3">lazy_compile_table_</a>) {</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;        <span class="comment">// Use the main jump table as the target so that we don&#39;t have to add a</span></div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;        <span class="comment">// landing pad instruction to the lazy compile table entries.</span></div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;        <a class="code" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a> main_jump_table_target =</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;            <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a13f6208a4e2ce867f817a5e73e481484">main_jump_table_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0d55fcf378e16413e74e88d7d102ee15">instruction_start</a>() +</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;            <a class="code" href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a75af4ab220bf462ded5d5cc62d9da9da">JumpTableAssembler::JumpSlotIndexToOffset</a>(slot_index);</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae04709ff9dc0c24f62ccc498d14048bb">PatchJumpTableLocked</a>(writable_jump_tables, new_code_space_data,</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;                             slot_index, main_jump_table_target);</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;      }</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;    }</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;  }</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1base_1_1RecursiveMutex_html_a63e202453c65074f4a84b8f0b2435a21"><div class="ttname"><a href="classv8_1_1base_1_1RecursiveMutex.html#a63e202453c65074f4a84b8f0b2435a21">v8::base::RecursiveMutex::AssertHeld</a></div><div class="ttdeci">void AssertHeld() const</div><div class="ttdef"><b>Definition:</b> <a href="mutex_8h_source.html#l00153">mutex.h:153</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Builtins_html_a9272a472ad4885ecd59c1f55dcb16028"><div class="ttname"><a href="classv8_1_1internal_1_1Builtins.html#a9272a472ad4885ecd59c1f55dcb16028">v8::internal::Builtins::kAllBuiltinsAreIsolateIndependent</a></div><div class="ttdeci">static constexpr bool kAllBuiltinsAreIsolateIndependent</div><div class="ttdef"><b>Definition:</b> <a href="builtins_8h_source.html#l00345">builtins.h:345</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EmbeddedData_html_a5f046101e1ed7d746979f87acbcb60e5"><div class="ttname"><a href="classv8_1_1internal_1_1EmbeddedData.html#a5f046101e1ed7d746979f87acbcb60e5">v8::internal::EmbeddedData::FromBlob</a></div><div class="ttdeci">static EmbeddedData FromBlob()</div><div class="ttdef"><b>Definition:</b> <a href="embedded-data_8h_source.html#l00062">embedded-data.h:62</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ThreadIsolation_html_ad005e4948f48131f0f8727020bd52b68"><div class="ttname"><a href="classv8_1_1internal_1_1ThreadIsolation.html#ad005e4948f48131f0f8727020bd52b68">v8::internal::ThreadIsolation::LookupJitAllocation</a></div><div class="ttdeci">static WritableJitAllocation LookupJitAllocation(Address addr, size_t size, JitAllocationType type, bool enforce_write_api=false)</div><div class="ttdef"><b>Definition:</b> <a href="code-memory-access_8cc_source.html#l00503">code-memory-access.cc:503</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ThreadIsolation_html_affba95694ddfc3cdf2e345f8ed110b0eac2316abd3338b7d2e92c44dfde6164c5"><div class="ttname"><a href="classv8_1_1internal_1_1ThreadIsolation.html#affba95694ddfc3cdf2e345f8ed110b0eac2316abd3338b7d2e92c44dfde6164c5">v8::internal::ThreadIsolation::JitAllocationType::kWasmFarJumpTable</a></div><div class="ttdeci">@ kWasmFarJumpTable</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1BuiltinLookup_html_a67dcedf7516507a705bc79ffd2e0a089"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1BuiltinLookup.html#a67dcedf7516507a705bc79ffd2e0a089">v8::internal::wasm::BuiltinLookup::BuiltinForJumptableIndex</a></div><div class="ttdeci">static constexpr Builtin BuiltinForJumptableIndex(int index)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-builtin-list_8h_source.html#l00197">wasm-builtin-list.h:197</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1BuiltinLookup_html_a934b529bc9c9104095b6c98ffaba9697"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1BuiltinLookup.html#a934b529bc9c9104095b6c98ffaba9697">v8::internal::wasm::BuiltinLookup::BuiltinCount</a></div><div class="ttdeci">static constexpr int BuiltinCount()</div><div class="ttdef"><b>Definition:</b> <a href="wasm-builtin-list_8h_source.html#l00203">wasm-builtin-list.h:203</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1JumpTableAssembler_html_a5515cdbbc42cf3c78581ea13768f74bb"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a5515cdbbc42cf3c78581ea13768f74bb">v8::internal::wasm::JumpTableAssembler::SizeForNumberOfSlots</a></div><div class="ttdeci">static constexpr uint32_t SizeForNumberOfSlots(uint32_t slot_count)</div><div class="ttdef"><b>Definition:</b> <a href="jump-table-assembler_8h_source.html#l00080">jump-table-assembler.h:80</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1JumpTableAssembler_html_a75af4ab220bf462ded5d5cc62d9da9da"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a75af4ab220bf462ded5d5cc62d9da9da">v8::internal::wasm::JumpTableAssembler::JumpSlotIndexToOffset</a></div><div class="ttdeci">static uint32_t JumpSlotIndexToOffset(uint32_t slot_index)</div><div class="ttdef"><b>Definition:</b> <a href="jump-table-assembler_8h_source.html#l00072">jump-table-assembler.h:72</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1JumpTableAssembler_html_a87add92ae969554c1b14d8ff3e8d7cd2"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a87add92ae969554c1b14d8ff3e8d7cd2">v8::internal::wasm::JumpTableAssembler::SizeForNumberOfFarJumpSlots</a></div><div class="ttdeci">static constexpr uint32_t SizeForNumberOfFarJumpSlots(int num_runtime_slots, int num_function_slots)</div><div class="ttdef"><b>Definition:</b> <a href="jump-table-assembler_8h_source.html#l00099">jump-table-assembler.h:99</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1JumpTableAssembler_html_a9429626ba78f937f1bdd773af25dda77"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a9429626ba78f937f1bdd773af25dda77">v8::internal::wasm::JumpTableAssembler::GenerateFarJumpTable</a></div><div class="ttdeci">static void GenerateFarJumpTable(WritableJitAllocation &amp;jit_allocation, Address base, Address *stub_targets, int num_runtime_slots, int num_function_slots)</div><div class="ttdef"><b>Definition:</b> <a href="jump-table-assembler_8h_source.html#l00124">jump-table-assembler.h:124</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a09649a8d8356bcf64e4bc5f2d3eb1435"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a09649a8d8356bcf64e4bc5f2d3eb1435">v8::internal::wasm::NativeModule::code_space_data_</a></div><div class="ttdeci">std::vector&lt; CodeSpaceData &gt; code_space_data_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01127">wasm-code-manager.h:1127</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a13f6208a4e2ce867f817a5e73e481484"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a13f6208a4e2ce867f817a5e73e481484">v8::internal::wasm::NativeModule::main_jump_table_</a></div><div class="ttdeci">WasmCode * main_jump_table_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01074">wasm-code-manager.h:1074</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a5bcdbc6019550ab5ed2f16d8c7c7745b"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5bcdbc6019550ab5ed2f16d8c7c7745b">v8::internal::wasm::NativeModule::CreateEmptyJumpTableInRegionLocked</a></div><div class="ttdeci">WasmCode * CreateEmptyJumpTableInRegionLocked(int jump_table_size, base::AddressRegion, JumpTableType type)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01740">wasm-code-manager.cc:1740</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a7eebb8a25711eac01dfad476ab555f66"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a7eebb8a25711eac01dfad476ab555f66">v8::internal::wasm::NativeModule::InitializeJumpTableForLazyCompilation</a></div><div class="ttdeci">void InitializeJumpTableForLazyCompilation(uint32_t num_wasm_functions)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01192">wasm-code-manager.cc:1192</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a8125eaffd4b01d09e3e172cab5f94d12a4237d3e837c403339afce6a8387246cb"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8125eaffd4b01d09e3e172cab5f94d12a4237d3e837c403339afce6a8387246cb">v8::internal::wasm::NativeModule::JumpTableType::kJumpTable</a></div><div class="ttdeci">@ kJumpTable</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a8125eaffd4b01d09e3e172cab5f94d12a693267f9d764c2f577d25c2afc461a10"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8125eaffd4b01d09e3e172cab5f94d12a693267f9d764c2f577d25c2afc461a10">v8::internal::wasm::NativeModule::JumpTableType::kFarJumpTable</a></div><div class="ttdeci">@ kFarJumpTable</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_ac977ec4aaf9ab4a9c19776faeba24191"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ac977ec4aaf9ab4a9c19776faeba24191">v8::internal::wasm::NativeModule::num_declared_functions</a></div><div class="ttdeci">uint32_t num_declared_functions() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00758">wasm-code-manager.h:758</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_ae04709ff9dc0c24f62ccc498d14048bb"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae04709ff9dc0c24f62ccc498d14048bb">v8::internal::wasm::NativeModule::PatchJumpTableLocked</a></div><div class="ttdeci">void PatchJumpTableLocked(WritableJumpTablePair &amp;jump_table_pair, const CodeSpaceData &amp;, uint32_t slot_index, Address target)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01815">wasm-code-manager.cc:1815</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_ae07d8be3c591174d7f19648d9615d929"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae07d8be3c591174d7f19648d9615d929">v8::internal::wasm::NativeModule::main_far_jump_table_</a></div><div class="ttdeci">WasmCode * main_far_jump_table_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01077">wasm-code-manager.h:1077</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_afad6cb5c96183d22f6dea2a28a3c93e3"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#afad6cb5c96183d22f6dea2a28a3c93e3">v8::internal::wasm::NativeModule::lazy_compile_table_</a></div><div class="ttdeci">WasmCode * lazy_compile_table_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01081">wasm-code-manager.h:1081</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a0d55fcf378e16413e74e88d7d102ee15"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0d55fcf378e16413e74e88d7d102ee15">v8::internal::wasm::WasmCode::instruction_start</a></div><div class="ttdeci">Address instruction_start() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00175">wasm-code-manager.h:175</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_html_ad86b3cf21e19e97ce484f32b894d548c"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">v8::internal::anonymous_namespace{json-stringifier.cc}::i</a></div><div class="ttdeci">size_t i</div><div class="ttdef"><b>Definition:</b> <a href="json-stringifier_8cc_source.html#l00548">json-stringifier.cc:548</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_html_a20eca43d1fce6cfb2a372f61af3c754f"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#a20eca43d1fce6cfb2a372f61af3c754f">v8::internal::wasm::anonymous_namespace{wasm-code-manager.cc}::NumWasmFunctionsInFarJumpTable</a></div><div class="ttdeci">int NumWasmFunctionsInFarJumpTable(uint32_t num_declared_functions)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00697">wasm-code-manager.cc:697</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_html_aaf0913fdb4fd2cac1a727020988a3cc8"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#aaf0913fdb4fd2cac1a727020988a3cc8">v8::internal::wasm::anonymous_namespace{wasm-code-manager.cc}::OverheadPerCodeSpace</a></div><div class="ttdeci">size_t OverheadPerCodeSpace(uint32_t num_declared_functions)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00705">wasm-code-manager.cc:705</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html"><div class="ttname"><a href="namespacev8_1_1internal.html">v8::internal</a></div><div class="ttdef"><b>Definition:</b> <a href="api-arguments-inl_8h_source.html#l00020">api-arguments-inl.h:20</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a3e1cfef60e774a81f30eaddf26a3a274"><div class="ttname"><a href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a></div><div class="ttdeci">#define CHECK(condition)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00124">logging.h:124</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_aabec5c3b7a8628298a25f044dcf89c25"><div class="ttname"><a href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a></div><div class="ttdeci">#define DCHECK_GE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00487">logging.h:487</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1NativeModule_1_1JumpTablesRef_html_af7c96722e3f88e952d116c817305c7bb"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1JumpTablesRef.html#af7c96722e3f88e952d116c817305c7bb">v8::internal::wasm::NativeModule::JumpTablesRef::is_valid</a></div><div class="ttdeci">bool is_valid() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00671">wasm-code-manager.h:671</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-code-manager_8h_source.html#l01097">allocation_mutex_</a>, <a class="el" href="mutex_8h_source.html#l00153">v8::base::RecursiveMutex::AssertHeld()</a>, <a class="el" href="wasm-builtin-list_8h_source.html#l00203">v8::internal::wasm::BuiltinLookup::BuiltinCount()</a>, <a class="el" href="wasm-builtin-list_8h_source.html#l00197">v8::internal::wasm::BuiltinLookup::BuiltinForJumptableIndex()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00124">CHECK</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01127">code_space_data_</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01116">code_table_</a>, <a class="el" href="address-region_8h_source.html#l00041">v8::base::AddressRegion::contains()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01740">CreateEmptyJumpTableInRegionLocked()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00487">DCHECK_GE</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00488">DCHECK_LT</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00975">v8::internal::wasm::NativeModule::CodeSpaceData::far_jump_table</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02039">FindJumpTablesForRegionLocked()</a>, <a class="el" href="embedded-data_8h_source.html#l00062">v8::internal::EmbeddedData::FromBlob()</a>, <a class="el" href="jump-table-assembler_8h_source.html#l00124">v8::internal::wasm::JumpTableAssembler::GenerateFarJumpTable()</a>, <a class="el" href="json-stringifier_8cc_source.html#l00548">v8::internal::anonymous_namespace{json-stringifier.cc}::i</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01192">InitializeJumpTableForLazyCompilation()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00175">v8::internal::wasm::WasmCode::instruction_start()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00469">v8::internal::wasm::WasmCode::instructions_size_</a>, <a class="el" href="embedded-data-inl_8h_source.html#l00014">v8::internal::EmbeddedData::InstructionStartOf()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00671">v8::internal::wasm::NativeModule::JumpTablesRef::is_valid()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00974">v8::internal::wasm::NativeModule::CodeSpaceData::jump_table</a>, <a class="el" href="jump-table-assembler_8h_source.html#l00072">v8::internal::wasm::JumpTableAssembler::JumpSlotIndexToOffset()</a>, <a class="el" href="builtins_8h_source.html#l00345">v8::internal::Builtins::kAllBuiltinsAreIsolateIndependent</a>, <a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8125eaffd4b01d09e3e172cab5f94d12a693267f9d764c2f577d25c2afc461a10">kFarJumpTable</a>, <a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8125eaffd4b01d09e3e172cab5f94d12a4237d3e837c403339afce6a8387246cb">kJumpTable</a>, <a class="el" href="classv8_1_1internal_1_1ThreadIsolation.html#affba95694ddfc3cdf2e345f8ed110b0eac2316abd3338b7d2e92c44dfde6164c5">v8::internal::ThreadIsolation::kWasmFarJumpTable</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01081">lazy_compile_table_</a>, <a class="el" href="code-memory-access_8cc_source.html#l00503">v8::internal::ThreadIsolation::LookupJitAllocation()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01077">main_far_jump_table_</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01074">main_jump_table_</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00766">module()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01063">module_</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00758">num_declared_functions()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l00697">v8::internal::wasm::anonymous_namespace{wasm-code-manager.cc}::NumWasmFunctionsInFarJumpTable()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l00705">v8::internal::wasm::anonymous_namespace{wasm-code-manager.cc}::OverheadPerCodeSpace()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01815">PatchJumpTableLocked()</a>, <a class="el" href="address-region_8h_source.html#l00036">v8::base::AddressRegion::size()</a>, <a class="el" href="jump-table-assembler_8h_source.html#l00099">v8::internal::wasm::JumpTableAssembler::SizeForNumberOfFarJumpSlots()</a>, and <a class="el" href="jump-table-assembler_8h_source.html#l00080">v8::internal::wasm::JumpTableAssembler::SizeForNumberOfSlots()</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l00834">v8::internal::wasm::WasmCodeAllocator::AllocateForCodeInRegion()</a>, and <a class="el" href="wasm-code-manager_8cc_source.html#l00997">NativeModule()</a>.</p>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_aee1bca8385445db4f32cb0b18d2f7539_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_aee1bca8385445db4f32cb0b18d2f7539_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a9b24c8d07d1155bc7b7f7962cef5aaea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b24c8d07d1155bc7b7f7962cef5aaea">&#9670;&nbsp;</a></span>AddCodeWithCodeSpace()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a> &gt; v8::internal::wasm::NativeModule::AddCodeWithCodeSpace </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classv8_1_1internal_1_1CodeDesc.html">CodeDesc</a> &amp;&#160;</td>
          <td class="paramname"><em>desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>stack_slots</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>ool_spill_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>tagged_parameter_slots</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; const uint8_t &gt;&#160;</td>
          <td class="paramname"><em>protected_instructions_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; const uint8_t &gt;&#160;</td>
          <td class="paramname"><em>source_position_table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; const uint8_t &gt;&#160;</td>
          <td class="paramname"><em>inlining_positions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; const uint8_t &gt;&#160;</td>
          <td class="paramname"><em>deopt_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a236d413616e672cc2cda31bb7a4fc04d">WasmCode::Kind</a>&#160;</td>
          <td class="paramname"><em>kind</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9">ExecutionTier</a>&#160;</td>
          <td class="paramname"><em>tier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#a11df36d2f23b22c6772f3a5f08731b5b">ForDebugging</a>&#160;</td>
          <td class="paramname"><em>for_debugging</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a>&#160;</td>
          <td class="paramname"><em>frame_has_feedback_slot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; uint8_t &gt;&#160;</td>
          <td class="paramname"><em>code_space</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1JumpTablesRef.html">JumpTablesRef</a> &amp;&#160;</td>
          <td class="paramname"><em>jump_tables_ref</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l01320">1320</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;                                      {</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;  base::Vector&lt;uint8_t&gt; reloc_info{</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;      desc.buffer + desc.buffer_size - desc.reloc_size,</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;      <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(desc.reloc_size)};</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ab8a1a00ef10cda726268c29b8bcedcda">UpdateCodeSize</a>(desc.instr_size, <a class="code" href="flag-definitions_8h.html#a878783ad616ead06040f7d4b080f6a02">tier</a>, for_debugging);</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160; </div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;  <span class="comment">// TODO(jgruber,v8:8758): Remove this translation. It exists only because</span></div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;  <span class="comment">// CodeDesc contains real offsets but WasmCode expects an offset of 0 to mean</span></div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;  <span class="comment">// &#39;empty&#39;.</span></div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> safepoint_table_offset =</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;      desc.safepoint_table_size == 0 ? 0 : desc.safepoint_table_offset;</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> handler_table_offset = desc.handler_table_offset;</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> constant_pool_offset = desc.constant_pool_offset;</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> code_comments_offset = desc.code_comments_offset;</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> jump_table_info_offset = desc.jump_table_info_offset;</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> instr_size = desc.instr_size;</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160; </div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;  {</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;    WritableJitAllocation jit_allocation = <a class="code" href="classv8_1_1internal_1_1ThreadIsolation.html#ad005e4948f48131f0f8727020bd52b68">ThreadIsolation::LookupJitAllocation</a>(</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;        <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a><span class="keyword">&gt;</span>(dst_code_bytes.begin()),</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;        dst_code_bytes.size(), <a class="code" href="classv8_1_1internal_1_1ThreadIsolation.html#affba95694ddfc3cdf2e345f8ed110b0ea3d2a650902eeb3540a581b2abbb17bb8">ThreadIsolation::JitAllocationType::kWasmCode</a>,</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;        <span class="keyword">true</span>);</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;    jit_allocation.CopyCode(0, desc.buffer, desc.instr_size);</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160; </div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    <span class="comment">// Apply the relocation delta by iterating over the RelocInfo.</span></div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;    intptr_t delta = dst_code_bytes.begin() - desc.buffer;</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    <span class="keywordtype">int</span> mode_mask =</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;        <a class="code" href="classv8_1_1internal_1_1RelocInfo.html#a3674f1738fbd7b36d670397d0fbd363e">RelocInfo::kApplyMask</a> | <a class="code" href="classv8_1_1internal_1_1RelocInfo.html#a4bb9ca8ff590a4b9a46751997f9f9c5e">RelocInfo::ModeMask</a>(<a class="code" href="classv8_1_1internal_1_1RelocInfo.html#ad2e613bbaf7c7a82f0db322c069cad8ea39bd1ffa884c00f07773f11ee5ea8f48">RelocInfo::WASM_CALL</a>) |</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;        <a class="code" href="classv8_1_1internal_1_1RelocInfo.html#a4bb9ca8ff590a4b9a46751997f9f9c5e">RelocInfo::ModeMask</a>(<a class="code" href="classv8_1_1internal_1_1RelocInfo.html#ad2e613bbaf7c7a82f0db322c069cad8eaf44d1f5521a36a56293dd55fa8e269c6">RelocInfo::WASM_STUB_CALL</a>) |</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;        <a class="code" href="classv8_1_1internal_1_1RelocInfo.html#a4bb9ca8ff590a4b9a46751997f9f9c5e">RelocInfo::ModeMask</a>(<a class="code" href="classv8_1_1internal_1_1RelocInfo.html#ad2e613bbaf7c7a82f0db322c069cad8ea1cc6db35064ce98174704bf423847a61">RelocInfo::WASM_CODE_POINTER_TABLE_ENTRY</a>);</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a> code_start = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a><span class="keyword">&gt;</span>(dst_code_bytes.begin());</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a> constant_pool_start = code_start + constant_pool_offset;</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160; </div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    <span class="keywordflow">for</span> (WritableRelocIterator it(jit_allocation, dst_code_bytes, reloc_info,</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;                                  constant_pool_start, mode_mask);</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;         !it.done(); it.next()) {</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;      <a class="code" href="classv8_1_1internal_1_1RelocInfo.html#ad2e613bbaf7c7a82f0db322c069cad8e">RelocInfo::Mode</a> <a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a> = it.rinfo()-&gt;rmode();</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1RelocInfo.html#a7ced4909c9b4b70bf6b682825d75b25e">RelocInfo::IsWasmCall</a>(<a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a>)) {</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;        uint32_t call_tag = it.rinfo()-&gt;wasm_call_tag();</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;        <a class="code" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a> target = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1c0e38351c07fa1377db0a30e94ac8c0">GetNearCallTargetForFunction</a>(call_tag, jump_tables);</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;        it.rinfo()-&gt;set_wasm_call_address(target);</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1RelocInfo.html#a9b6cc7beedb93c75dda2852cb6af822e">RelocInfo::IsWasmStubCall</a>(<a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a>)) {</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;        uint32_t stub_call_tag = it.rinfo()-&gt;wasm_call_tag();</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a>(stub_call_tag,</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;                  <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(Builtin::kFirstBytecodeHandler));</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#acc2e164143496f18b5ec68f8ab70af52">Builtin</a> builtin = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacev8_1_1internal.html#acc2e164143496f18b5ec68f8ab70af52">Builtin</a><span class="keyword">&gt;</span>(stub_call_tag);</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;        <a class="code" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a> entry = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8697f83af39e72a0327a6d299e1e23b7">GetJumpTableEntryForBuiltin</a>(builtin, jump_tables);</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;        it.rinfo()-&gt;set_wasm_stub_call_address(entry);</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1RelocInfo.html#ace9340a0c27b322249d990c3b6351cea">RelocInfo::IsWasmCodePointerTableEntry</a>(<a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a>)) {</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;        uint32_t function_index =</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;            it.rinfo()-&gt;wasm_code_pointer_table_entry().value();</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;        WasmCodePointer target = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a63657aff1b54d8355c88d671645a62fd">GetCodePointerHandle</a>(function_index);</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;        it.rinfo()-&gt;set_wasm_code_pointer_table_entry(target,</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;                                                      <a class="code" href="namespacev8_1_1internal.html#abef7e063903876c844c905764b46b438acb3ba39651f2444a7fff95297d974390">SKIP_ICACHE_FLUSH</a>);</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;        it.rinfo()-&gt;apply(delta);</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;      }</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;    }</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;  }</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160; </div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;  <span class="comment">// Flush the i-cache after relocation.</span></div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a4ae783a89fc65122f5edc866f1209176">FlushInstructionCache</a>(dst_code_bytes.begin(), dst_code_bytes.size());</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160; </div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;  <span class="comment">// Liftoff code will not be relocated or serialized, thus do not store any</span></div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;  <span class="comment">// relocation information.</span></div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#a878783ad616ead06040f7d4b080f6a02">tier</a> == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a3a4891ee13d971db79eeae3a6d61d151">ExecutionTier::kLiftoff</a>) reloc_info = {};</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160; </div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;  uint64_t signature_hash =</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;signature_hash(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a6feb413448e84daf9201bd8a2381a718">GetTypeCanonicalizer</a>(), <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>);</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160; </div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;  std::unique_ptr&lt;WasmCode&gt; <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>{<span class="keyword">new</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a0ec92359918c6ef6fe010cafb580eb86">WasmCode</a>{<span class="keyword">this</span>,</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;                                              <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>,</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;                                              dst_code_bytes,</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;                                              stack_slots,</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;                                              ool_spill_count,</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;                                              tagged_parameter_slots,</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;                                              safepoint_table_offset,</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;                                              handler_table_offset,</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;                                              constant_pool_offset,</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;                                              code_comments_offset,</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;                                              jump_table_info_offset,</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;                                              instr_size,</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;                                              protected_instructions_data,</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;                                              reloc_info,</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;                                              source_position_table,</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;                                              inlining_positions,</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;                                              deopt_data,</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;                                              kind,</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;                                              <a class="code" href="flag-definitions_8h.html#a878783ad616ead06040f7d4b080f6a02">tier</a>,</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;                                              for_debugging,</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;                                              signature_hash,</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;                                              frame_has_feedback_slot}};</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160; </div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;  <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;MaybePrint();</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;  <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;Validate();</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160; </div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>;</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1RelocInfo_html_a7ced4909c9b4b70bf6b682825d75b25e"><div class="ttname"><a href="classv8_1_1internal_1_1RelocInfo.html#a7ced4909c9b4b70bf6b682825d75b25e">v8::internal::RelocInfo::IsWasmCall</a></div><div class="ttdeci">static constexpr bool IsWasmCall(Mode mode)</div><div class="ttdef"><b>Definition:</b> <a href="reloc-info_8h_source.html#l00214">reloc-info.h:214</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RelocInfo_html_ad2e613bbaf7c7a82f0db322c069cad8ea39bd1ffa884c00f07773f11ee5ea8f48"><div class="ttname"><a href="classv8_1_1internal_1_1RelocInfo.html#ad2e613bbaf7c7a82f0db322c069cad8ea39bd1ffa884c00f07773f11ee5ea8f48">v8::internal::RelocInfo::WASM_CALL</a></div><div class="ttdeci">@ WASM_CALL</div><div class="ttdef"><b>Definition:</b> <a href="reloc-info_8h_source.html#l00118">reloc-info.h:118</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a1c0e38351c07fa1377db0a30e94ac8c0"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1c0e38351c07fa1377db0a30e94ac8c0">v8::internal::wasm::NativeModule::GetNearCallTargetForFunction</a></div><div class="ttdeci">Address GetNearCallTargetForFunction(uint32_t func_index, const JumpTablesRef &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02081">wasm-code-manager.cc:2081</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_ab8a1a00ef10cda726268c29b8bcedcda"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ab8a1a00ef10cda726268c29b8bcedcda">v8::internal::wasm::NativeModule::UpdateCodeSize</a></div><div class="ttdeci">void UpdateCodeSize(size_t, ExecutionTier, ForDebugging)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01782">wasm-code-manager.cc:1782</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a6feb413448e84daf9201bd8a2381a718"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a6feb413448e84daf9201bd8a2381a718">v8::internal::wasm::GetTypeCanonicalizer</a></div><div class="ttdeci">TypeCanonicalizer * GetTypeCanonicalizer()</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8cc_source.html#l00020">canonical-types.cc:20</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="vector_8h_source.html#l00096">v8::base::Vector&lt; T &gt;::begin()</a>, <a class="el" href="code-desc_8h_source.html#l00044">v8::internal::CodeDesc::buffer</a>, <a class="el" href="code-desc_8h_source.html#l00045">v8::internal::CodeDesc::buffer_size</a>, <a class="el" href="flag-definitions_8h_source.html#l00546">code</a>, <a class="el" href="code-desc_8h_source.html#l00062">v8::internal::CodeDesc::code_comments_offset</a>, <a class="el" href="code-desc_8h_source.html#l00059">v8::internal::CodeDesc::constant_pool_offset</a>, <a class="el" href="code-memory-access-inl_8h_source.html#l00245">v8::internal::WritableJitAllocation::CopyCode()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00488">DCHECK_LT</a>, <a class="el" href="reloc-info_8h_source.html#l00522">v8::internal::RelocIteratorBase&lt; RelocInfoT &gt;::done()</a>, <a class="el" href="flush-instruction-cache_8cc_source.html#l00014">v8::internal::FlushInstructionCache()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02144">GetCodePointerHandle()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02088">GetJumpTableEntryForBuiltin()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02081">GetNearCallTargetForFunction()</a>, <a class="el" href="canonical-types_8cc_source.html#l00020">v8::internal::wasm::GetTypeCanonicalizer()</a>, <a class="el" href="code-desc_8h_source.html#l00056">v8::internal::CodeDesc::handler_table_offset</a>, <a class="el" href="heap-snapshot-generator_8cc_source.html#l01698">v8::internal::index</a>, <a class="el" href="code-desc_8h_source.html#l00049">v8::internal::CodeDesc::instr_size</a>, <a class="el" href="reloc-info_8h_source.html#l00214">v8::internal::RelocInfo::IsWasmCall()</a>, <a class="el" href="reloc-info_8h_source.html#l00221">v8::internal::RelocInfo::IsWasmCodePointerTableEntry()</a>, <a class="el" href="reloc-info_8h_source.html#l00215">v8::internal::RelocInfo::IsWasmStubCall()</a>, <a class="el" href="code-desc_8h_source.html#l00065">v8::internal::CodeDesc::jump_table_info_offset</a>, <a class="el" href="reloc-info_8h_source.html#l00370">v8::internal::RelocInfo::kApplyMask</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a3a4891ee13d971db79eeae3a6d61d151">v8::internal::wasm::kLiftoff</a>, <a class="el" href="classv8_1_1internal_1_1ThreadIsolation.html#affba95694ddfc3cdf2e345f8ed110b0ea3d2a650902eeb3540a581b2abbb17bb8">v8::internal::ThreadIsolation::kWasmCode</a>, <a class="el" href="code-memory-access_8cc_source.html#l00503">v8::internal::ThreadIsolation::LookupJitAllocation()</a>, <a class="el" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode()</a>, <a class="el" href="reloc-info_8h_source.html#l00273">v8::internal::RelocInfo::ModeMask()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01063">module_</a>, <a class="el" href="code-desc_8h_source.html#l00093">v8::internal::CodeDesc::reloc_size</a>, <a class="el" href="code-desc_8h_source.html#l00053">v8::internal::CodeDesc::safepoint_table_offset</a>, <a class="el" href="code-desc_8h_source.html#l00054">v8::internal::CodeDesc::safepoint_table_size</a>, <a class="el" href="vector_8h_source.html#l00070">v8::base::Vector&lt; T &gt;::size()</a>, <a class="el" href="reloc-info_8h_source.html#l00025">v8::internal::SKIP_ICACHE_FLUSH</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01782">UpdateCodeSize()</a>, <a class="el" href="reloc-info_8h_source.html#l00118">v8::internal::RelocInfo::WASM_CALL</a>, <a class="el" href="reloc-info_8h_source.html#l00120">v8::internal::RelocInfo::WASM_CODE_POINTER_TABLE_ENTRY</a>, and <a class="el" href="reloc-info_8h_source.html#l00119">v8::internal::RelocInfo::WASM_STUB_CALL</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l01263">AddCode()</a>, and <a class="el" href="wasm-code-manager_8cc_source.html#l02642">AddCompiledCode()</a>.</p>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a9b24c8d07d1155bc7b7f7962cef5aaea_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a9b24c8d07d1155bc7b7f7962cef5aaea_icgraph.svg" width="526" height="118"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ad7de45595a2546cd0e533309b1389f00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7de45595a2546cd0e533309b1389f00">&#9670;&nbsp;</a></span>AddCompiledCode() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="structv8_1_1internal_1_1wasm_1_1UnpublishedWasmCode.html">UnpublishedWasmCode</a> &gt; v8::internal::wasm::NativeModule::AddCompiledCode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; <a class="el" href="structv8_1_1internal_1_1wasm_1_1WasmCompilationResult.html">WasmCompilationResult</a> &gt;&#160;</td>
          <td class="paramname"><em>results</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l02642">2642</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;                                               {</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;  <a class="code" href="trace-event-no-perfetto_8h.html#ac437f27e15925a9bd53c69692a6c85fe">TRACE_EVENT1</a>(<a class="code" href="trace-event-no-perfetto_8h.html#a97689377430b094caec680dd7dd230fe">TRACE_DISABLED_BY_DEFAULT</a>(<span class="stringliteral">&quot;v8.wasm.detailed&quot;</span>),</div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;               <span class="stringliteral">&quot;wasm.AddCompiledCode&quot;</span>, <span class="stringliteral">&quot;num&quot;</span>, results.size());</div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!results.empty());</div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;  std::vector&lt;UnpublishedWasmCode&gt; generated_code;</div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;  generated_code.reserve(results.size());</div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160; </div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;  <span class="comment">// First, allocate code space for all the results.</span></div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;  <span class="comment">// Never add more than half of a code space at once. This leaves some space</span></div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;  <span class="comment">// for jump tables and other overhead. We could use {OverheadPerCodeSpace},</span></div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;  <span class="comment">// but that&#39;s only an approximation, so we are conservative here and never use</span></div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;  <span class="comment">// more than half a code space.</span></div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;  <span class="keywordtype">size_t</span> max_code_batch_size = <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_max_code_space_size_mb * <a class="code" href="namespacev8_1_1internal.html#af46551c5713d2a3a1be4dca973e521e0">MB</a> / 2;</div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;  <span class="keywordtype">size_t</span> total_code_space = 0;</div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> : results) {</div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.succeeded());</div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;    <span class="keywordtype">size_t</span> new_code_space =</div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;        RoundUp&lt;kCodeAlignment&gt;(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.code_desc.instr_size);</div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;    <span class="keywordflow">if</span> (total_code_space + new_code_space &gt; max_code_batch_size) {</div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;      <span class="comment">// Split off the first part of the {results} vector and process it</span></div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;      <span class="comment">// separately. This method then continues with the rest.</span></div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;      <span class="keywordtype">size_t</span> split_point = &amp;<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> - results.begin();</div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;      <span class="keywordflow">if</span> (split_point == 0) {</div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;        <span class="comment">// Fuzzers sometimes hit this by reducing --wasm-max-code-sapce-size-mb</span></div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;        <span class="comment">// to an unreasonably small value. Make this an OOM to avoid getting a</span></div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;        <span class="comment">// CHECK failure in this case.</span></div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_max_code_space_size_mb &lt;</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;            <a class="code" href="namespacev8_1_1internal.html#a55676947d895fd4cdd273e53dff16694">kDefaultMaxWasmCodeSpaceSizeMb</a> / 10) {</div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;          <span class="keyword">auto</span> oom_detail = <a class="code" href="namespacev8_1_1base.html#a8a96976677371a5201af88b56be08915">base::FormattedString</a>{}</div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;                            &lt;&lt; <span class="stringliteral">&quot;--wasm-max-code-space-size=&quot;</span></div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;                            &lt;&lt; <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_max_code_space_size_mb.value();</div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;          <a class="code" href="classv8_1_1internal_1_1V8.html#a977b087d4ee58955efe72b33136a4e94">V8::FatalProcessOutOfMemory</a>(<span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;                                      <span class="stringliteral">&quot;A single code object needs more than &quot;</span></div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;                                      <span class="stringliteral">&quot;half of the code space size&quot;</span>,</div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;                                      oom_detail.PrintToArray().data());</div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;          <span class="comment">// Otherwise make this a CHECK failure so we see if this is happening</span></div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;          <span class="comment">// in the wild or in tests.</span></div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(</div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;              <span class="stringliteral">&quot;A single code object needs more than half of the code space &quot;</span></div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;              <span class="stringliteral">&quot;size&quot;</span>);</div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;        }</div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;      }</div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;      <span class="keyword">auto</span> first_results = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#abc4f3edf1e0fcd8adc53f38952345aed">AddCompiledCode</a>(results.SubVector(0, split_point));</div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;      generated_code.insert(generated_code.end(),</div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;                            std::make_move_iterator(first_results.begin()),</div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;                            std::make_move_iterator(first_results.end()));</div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;      <span class="comment">// Continue processing the rest of the vector. This change to the</span></div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;      <span class="comment">// {results} vector does not invalidate iterators (which are just</span></div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;      <span class="comment">// pointers). In particular, the end pointer stays the same.</span></div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;      results += split_point;</div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;      total_code_space = 0;</div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;    }</div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;    total_code_space += new_code_space;</div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;  }</div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;  base::Vector&lt;uint8_t&gt; code_space;</div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;  NativeModule::JumpTablesRef jump_tables;</div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;  {</div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> guard{&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>};</div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;    code_space = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aef6c06fd70d54f981aaccf59b8c8ec2f">code_allocator_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a1aa6c58339ee0dc3f42716472fc79fc8">AllocateForCode</a>(<span class="keyword">this</span>, total_code_space);</div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;    <span class="comment">// Lookup the jump tables to use once, then use for all code objects.</span></div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;    jump_tables =</div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a7008f95ebaf5e50e98749f5ba25cd3f7">FindJumpTablesForRegionLocked</a>(<a class="code" href="namespacev8_1_1base.html#a576345f40485ddc3e105508023924217">base::AddressRegionOf</a>(code_space));</div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;  }</div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;  <span class="comment">// If we happen to have a {total_code_space} which is bigger than</span></div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;  <span class="comment">// {kMaxCodeSpaceSize}, we would not find valid jump tables for the whole</span></div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;  <span class="comment">// region. If this ever happens, we need to handle this case (by splitting the</span></div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;  <span class="comment">// {results} vector in smaller chunks).</span></div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(jump_tables.is_valid());</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160; </div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;  std::vector&lt;size_t&gt; sizes;</div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> : results) {</div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;    sizes.emplace_back(RoundUp&lt;kCodeAlignment&gt;(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.code_desc.instr_size));</div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;  }</div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;  <a class="code" href="classv8_1_1internal_1_1ThreadIsolation.html#a647c86b788456e7ec80f0bc1d365561a">ThreadIsolation::RegisterJitAllocations</a>(</div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a><span class="keyword">&gt;</span>(code_space.begin()), sizes,</div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;      <a class="code" href="classv8_1_1internal_1_1ThreadIsolation.html#affba95694ddfc3cdf2e345f8ed110b0ea3d2a650902eeb3540a581b2abbb17bb8">ThreadIsolation::JitAllocationType::kWasmCode</a>);</div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160; </div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;  <span class="comment">// Now copy the generated code into the code space and relocate it.</span></div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> : results) {</div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.code_desc.buffer, <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.instr_buffer-&gt;start());</div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;    <span class="keywordtype">size_t</span> code_size = RoundUp&lt;kCodeAlignment&gt;(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.code_desc.instr_size);</div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;    base::Vector&lt;uint8_t&gt; this_code_space = code_space.SubVector(0, code_size);</div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;    code_space += code_size;</div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;    generated_code.emplace_back(</div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9b24c8d07d1155bc7b7f7962cef5aaea">AddCodeWithCodeSpace</a>(</div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;            <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.func_index, <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.code_desc, <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.frame_slot_count,</div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;            <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.ool_spill_count, <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.tagged_parameter_slots,</div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;            <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.protected_instructions_data.as_vector(),</div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;            <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.source_positions.as_vector(),</div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;            <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.inlining_positions.as_vector(),</div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;            <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.deopt_data.as_vector(), <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ac5c325f4f80fa26ae7e7bd8fa6caed93">GetCodeKind</a>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>),</div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;            <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.result_tier, <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.for_debugging,</div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;            <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.frame_has_feedback_slot, this_code_space, jump_tables),</div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;        std::move(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.assumptions));</div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;  }</div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, code_space.size());</div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160; </div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;  <span class="comment">// Check that we added the expected amount of code objects, even if we split</span></div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;  <span class="comment">// the {results} vector.</span></div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(generated_code.capacity(), generated_code.size());</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160; </div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;  <span class="keywordflow">return</span> generated_code;</div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1ThreadIsolation_html_a647c86b788456e7ec80f0bc1d365561a"><div class="ttname"><a href="classv8_1_1internal_1_1ThreadIsolation.html#a647c86b788456e7ec80f0bc1d365561a">v8::internal::ThreadIsolation::RegisterJitAllocations</a></div><div class="ttdeci">static void RegisterJitAllocations(Address start, const std::vector&lt; size_t &gt; &amp;sizes, JitAllocationType type)</div><div class="ttdef"><b>Definition:</b> <a href="code-memory-access_8cc_source.html#l00511">code-memory-access.cc:511</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1V8_html_a977b087d4ee58955efe72b33136a4e94"><div class="ttname"><a href="classv8_1_1internal_1_1V8.html#a977b087d4ee58955efe72b33136a4e94">v8::internal::V8::FatalProcessOutOfMemory</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE void FatalProcessOutOfMemory(Isolate *isolate, const char *location, const OOMDetails &amp;details=kNoOOMDetails)</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_abc4f3edf1e0fcd8adc53f38952345aed"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#abc4f3edf1e0fcd8adc53f38952345aed">v8::internal::wasm::NativeModule::AddCompiledCode</a></div><div class="ttdeci">V8_WARN_UNUSED_RESULT UnpublishedWasmCode AddCompiledCode(WasmCompilationResult &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02636">wasm-code-manager.cc:2636</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_1_1internal_html_a9840f2bf0b4780133662292486d0bc01"><div class="ttname"><a href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">v8::base::internal::result</a></div><div class="ttdeci">V result</div><div class="ttdef"><b>Definition:</b> <a href="clamped__math__impl_8h_source.html#l00082">clamped_math_impl.h:82</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a8a96976677371a5201af88b56be08915"><div class="ttname"><a href="namespacev8_1_1base.html#a8a96976677371a5201af88b56be08915">v8::base::FormattedString</a></div><div class="ttdeci">FormattedString() -&gt; FormattedString&lt;&gt;</div><div class="ttdef"><b>Definition:</b> <a href="string-format_8h_source.html#l00176">string-format.h:176</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ac5c325f4f80fa26ae7e7bd8fa6caed93"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ac5c325f4f80fa26ae7e7bd8fa6caed93">v8::internal::wasm::GetCodeKind</a></div><div class="ttdeci">WasmCode::Kind GetCodeKind(const WasmCompilationResult &amp;result)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01470">wasm-code-manager.cc:1470</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a55676947d895fd4cdd273e53dff16694"><div class="ttname"><a href="namespacev8_1_1internal.html#a55676947d895fd4cdd273e53dff16694">v8::internal::kDefaultMaxWasmCodeSpaceSizeMb</a></div><div class="ttdeci">constexpr uint32_t kDefaultMaxWasmCodeSpaceSizeMb</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00453">globals.h:453</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_af46551c5713d2a3a1be4dca973e521e0"><div class="ttname"><a href="namespacev8_1_1internal.html#af46551c5713d2a3a1be4dca973e521e0">v8::internal::MB</a></div><div class="ttdeci">constexpr int MB</div><div class="ttdef"><b>Definition:</b> <a href="v8-internal_8h_source.html#l00056">v8-internal.h:56</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a0d093cb749cfc7ab5993726392df681f"><div class="ttname"><a href="src_2base_2logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a></div><div class="ttdeci">#define FATAL(...)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00047">logging.h:47</a></div></div>
<div class="ttc" id="atrace-event-no-perfetto_8h_html_a97689377430b094caec680dd7dd230fe"><div class="ttname"><a href="trace-event-no-perfetto_8h.html#a97689377430b094caec680dd7dd230fe">TRACE_DISABLED_BY_DEFAULT</a></div><div class="ttdeci">#define TRACE_DISABLED_BY_DEFAULT(name)</div><div class="ttdef"><b>Definition:</b> <a href="trace-event-no-perfetto_8h_source.html#l00025">trace-event-no-perfetto.h:25</a></div></div>
<div class="ttc" id="atrace-event-no-perfetto_8h_html_ac437f27e15925a9bd53c69692a6c85fe"><div class="ttname"><a href="trace-event-no-perfetto_8h.html#ac437f27e15925a9bd53c69692a6c85fe">TRACE_EVENT1</a></div><div class="ttdeci">#define TRACE_EVENT1(category_group, name, arg1_name, arg1_val)</div><div class="ttdef"><b>Definition:</b> <a href="trace-event-no-perfetto_8h_source.html#l00037">trace-event-no-perfetto.h:37</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-code-manager_8cc_source.html#l01320">AddCodeWithCodeSpace()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02636">AddCompiledCode()</a>, <a class="el" href="address-region_8h_source.html#l00075">v8::base::AddressRegionOf()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l00824">v8::internal::wasm::WasmCodeAllocator::AllocateForCode()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01097">allocation_mutex_</a>, <a class="el" href="vector_8h_source.html#l00096">v8::base::Vector&lt; T &gt;::begin()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00124">CHECK</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01051">code_allocator_</a>, <a class="el" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00484">DCHECK_EQ</a>, <a class="el" href="vector_8h_source.html#l00073">v8::base::Vector&lt; T &gt;::empty()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00047">FATAL</a>, <a class="el" href="classv8_1_1internal_1_1V8.html#a977b087d4ee58955efe72b33136a4e94">v8::internal::V8::FatalProcessOutOfMemory()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02039">FindJumpTablesForRegionLocked()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01470">v8::internal::wasm::GetCodeKind()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00671">v8::internal::wasm::NativeModule::JumpTablesRef::is_valid()</a>, <a class="el" href="common_2globals_8h_source.html#l00453">v8::internal::kDefaultMaxWasmCodeSpaceSizeMb</a>, <a class="el" href="classv8_1_1internal_1_1ThreadIsolation.html#affba95694ddfc3cdf2e345f8ed110b0ea3d2a650902eeb3540a581b2abbb17bb8">v8::internal::ThreadIsolation::kWasmCode</a>, <a class="el" href="v8-internal_8h_source.html#l00056">v8::internal::MB</a>, <a class="el" href="code-memory-access_8cc_source.html#l00511">v8::internal::ThreadIsolation::RegisterJitAllocations()</a>, <a class="el" href="clamped__math__impl_8h_source.html#l00082">v8::base::internal::result</a>, <a class="el" href="vector_8h_source.html#l00070">v8::base::Vector&lt; T &gt;::size()</a>, <a class="el" href="vector_8h_source.html#l00041">v8::base::Vector&lt; T &gt;::SubVector()</a>, <a class="el" href="trace-event-no-perfetto_8h_source.html#l00025">TRACE_DISABLED_BY_DEFAULT</a>, <a class="el" href="trace-event-no-perfetto_8h_source.html#l00037">TRACE_EVENT1</a>, and <a class="el" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a>.</p>
<div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_ad7de45595a2546cd0e533309b1389f00_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="abc4f3edf1e0fcd8adc53f38952345aed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc4f3edf1e0fcd8adc53f38952345aed">&#9670;&nbsp;</a></span>AddCompiledCode() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structv8_1_1internal_1_1wasm_1_1UnpublishedWasmCode.html">UnpublishedWasmCode</a> v8::internal::wasm::NativeModule::AddCompiledCode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structv8_1_1internal_1_1wasm_1_1WasmCompilationResult.html">WasmCompilationResult</a> &amp;&#160;</td>
          <td class="paramname"><em>result</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l02636">2636</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;                                   {</div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;  std::vector&lt;UnpublishedWasmCode&gt; <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#abc4f3edf1e0fcd8adc53f38952345aed">AddCompiledCode</a>({&amp;<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>, 1});</div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;  <span class="keywordflow">return</span> std::move(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>[0]);</div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="flag-definitions_8h_source.html#l00546">code</a>, and <a class="el" href="clamped__math__impl_8h_source.html#l00082">v8::base::internal::result</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l02642">AddCompiledCode()</a>, <a class="el" href="module-compiler_8cc_source.html#l01183">v8::internal::wasm::CompileLazy()</a>, <a class="el" href="function-compiler_8cc_source.html#l00168">v8::internal::wasm::WasmCompilationUnit::CompileWasmFunction()</a>, and <a class="el" href="module-compiler_8cc_source.html#l02043">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::ExecuteCompilationUnits()</a>.</p>
<div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_abc4f3edf1e0fcd8adc53f38952345aed_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a5b0eed350253b9d2285ebda0bed60eab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b0eed350253b9d2285ebda0bed60eab">&#9670;&nbsp;</a></span>AddDeserializedCode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a> &gt; v8::internal::wasm::NativeModule::AddDeserializedCode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; uint8_t &gt;&#160;</td>
          <td class="paramname"><em>instructions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>stack_slots</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>ool_spills</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>tagged_parameter_slots</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>safepoint_table_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>handler_table_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>constant_pool_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>code_comments_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>jump_table_info_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>unpadded_binary_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; const uint8_t &gt;&#160;</td>
          <td class="paramname"><em>protected_instructions_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; const uint8_t &gt;&#160;</td>
          <td class="paramname"><em>reloc_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; const uint8_t &gt;&#160;</td>
          <td class="paramname"><em>source_position_table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; const uint8_t &gt;&#160;</td>
          <td class="paramname"><em>inlining_positions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; const uint8_t &gt;&#160;</td>
          <td class="paramname"><em>deopt_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a236d413616e672cc2cda31bb7a4fc04d">WasmCode::Kind</a>&#160;</td>
          <td class="paramname"><em>kind</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9">ExecutionTier</a>&#160;</td>
          <td class="paramname"><em>tier</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l01625">1625</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;                        {</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ab8a1a00ef10cda726268c29b8bcedcda">UpdateCodeSize</a>(instructions.size(), <a class="code" href="flag-definitions_8h.html#a878783ad616ead06040f7d4b080f6a02">tier</a>, <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a11df36d2f23b22c6772f3a5f08731b5ba1874820c42ab45140e0e50e44f8e96d5">kNotForDebugging</a>);</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160; </div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;  uint64_t signature_hash =</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;signature_hash(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a6feb413448e84daf9201bd8a2381a718">GetTypeCanonicalizer</a>(), <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>);</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160; </div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;  <span class="keywordflow">return</span> std::unique_ptr&lt;WasmCode&gt;{<span class="keyword">new</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a0ec92359918c6ef6fe010cafb580eb86">WasmCode</a>{<span class="keyword">this</span>,</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;                                                <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>,</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;                                                instructions,</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;                                                stack_slots,</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;                                                ool_spills,</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;                                                tagged_parameter_slots,</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;                                                safepoint_table_offset,</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;                                                handler_table_offset,</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;                                                constant_pool_offset,</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;                                                code_comments_offset,</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;                                                jump_table_info_offset,</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;                                                unpadded_binary_size,</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;                                                protected_instructions_data,</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;                                                reloc_info,</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;                                                source_position_table,</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;                                                inlining_positions,</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;                                                deopt_data,</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;                                                kind,</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;                                                <a class="code" href="flag-definitions_8h.html#a878783ad616ead06040f7d4b080f6a02">tier</a>,</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;                                                <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a11df36d2f23b22c6772f3a5f08731b5ba1874820c42ab45140e0e50e44f8e96d5">kNotForDebugging</a>,</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;                                                signature_hash}};</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="canonical-types_8cc_source.html#l00020">v8::internal::wasm::GetTypeCanonicalizer()</a>, <a class="el" href="heap-snapshot-generator_8cc_source.html#l01698">v8::internal::index</a>, <a class="el" href="wasm-tier_8h_source.html#l00047">v8::internal::wasm::kNotForDebugging</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01063">module_</a>, <a class="el" href="vector_8h_source.html#l00070">v8::base::Vector&lt; T &gt;::size()</a>, and <a class="el" href="wasm-code-manager_8cc_source.html#l01782">UpdateCodeSize()</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-serialization_8cc_source.html#l00897">v8::internal::wasm::NativeModuleDeserializer::ReadCode()</a>.</p>
<div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a5b0eed350253b9d2285ebda0bed60eab_cgraph.svg" width="100%" height="454"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a5b0eed350253b9d2285ebda0bed60eab_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a9a1111455be88abe59c4e98636c15314"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a1111455be88abe59c4e98636c15314">&#9670;&nbsp;</a></span>AddLazyCompilationTimeSample()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::NativeModule::AddLazyCompilationTimeSample </td>
          <td>(</td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>sample</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l01988">1988</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;                                                                           {</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a203dfbaf27e80e6f9a30f2e29dcf15f2">num_lazy_compilations_</a>.fetch_add(1, std::memory_order_relaxed);</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1a7ccb8d9aed0eed2230ebec996762dd">sum_lazy_compilation_time_in_micro_sec_</a>.fetch_add(sample_in_micro_sec,</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;                                                    std::memory_order_relaxed);</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;  int64_t max =</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8cd65fcbaf8d39fb8aca0c7814506f45">max_lazy_compilation_time_in_micro_sec_</a>.load(std::memory_order_relaxed);</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;  <span class="keywordflow">while</span> (sample_in_micro_sec &gt; max &amp;&amp;</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;         !<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8cd65fcbaf8d39fb8aca0c7814506f45">max_lazy_compilation_time_in_micro_sec_</a>.compare_exchange_weak(</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;             max, sample_in_micro_sec, std::memory_order_relaxed,</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;             std::memory_order_relaxed)) {</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;    <span class="comment">// Repeat until we set the new maximum sucessfully.</span></div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;  }</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a1a7ccb8d9aed0eed2230ebec996762dd"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1a7ccb8d9aed0eed2230ebec996762dd">v8::internal::wasm::NativeModule::sum_lazy_compilation_time_in_micro_sec_</a></div><div class="ttdeci">std::atomic&lt; int64_t &gt; sum_lazy_compilation_time_in_micro_sec_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01149">wasm-code-manager.h:1149</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a203dfbaf27e80e6f9a30f2e29dcf15f2"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a203dfbaf27e80e6f9a30f2e29dcf15f2">v8::internal::wasm::NativeModule::num_lazy_compilations_</a></div><div class="ttdeci">std::atomic&lt; int &gt; num_lazy_compilations_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01148">wasm-code-manager.h:1148</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a8cd65fcbaf8d39fb8aca0c7814506f45"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8cd65fcbaf8d39fb8aca0c7814506f45">v8::internal::wasm::NativeModule::max_lazy_compilation_time_in_micro_sec_</a></div><div class="ttdeci">std::atomic&lt; int64_t &gt; max_lazy_compilation_time_in_micro_sec_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01150">wasm-code-manager.h:1150</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-code-manager_8h_source.html#l01150">max_lazy_compilation_time_in_micro_sec_</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01148">num_lazy_compilations_</a>, and <a class="el" href="wasm-code-manager_8h_source.html#l01149">sum_lazy_compilation_time_in_micro_sec_</a>.</p>

</div>
</div>
<a id="a88fe8f1d6e45f64edf0add83a8befd42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88fe8f1d6e45f64edf0add83a8befd42">&#9670;&nbsp;</a></span>AddLiftoffBailout()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::NativeModule::AddLiftoffBailout </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l00822">822</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;                           {</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a4aa98ad223f8a481e7b6e8fd41f1464a">liftoff_bailout_count_</a>.fetch_add(1, std::memory_order_relaxed);</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;  }</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a4aa98ad223f8a481e7b6e8fd41f1464a"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a4aa98ad223f8a481e7b6e8fd41f1464a">v8::internal::wasm::NativeModule::liftoff_bailout_count_</a></div><div class="ttdeci">std::atomic&lt; size_t &gt; liftoff_bailout_count_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01143">wasm-code-manager.h:1143</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l02043">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::ExecuteCompilationUnits()</a>.</p>
<div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a88fe8f1d6e45f64edf0add83a8befd42_icgraph.svg" width="100%" height="444"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a460c056c89d554e3a4a8dfcb8ffc22b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a460c056c89d554e3a4a8dfcb8ffc22b4">&#9670;&nbsp;</a></span>AllocateForDeserializedCode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; <a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; uint8_t &gt;, <a class="el" href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1JumpTablesRef.html">NativeModule::JumpTablesRef</a> &gt; v8::internal::wasm::NativeModule::AllocateForDeserializedCode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacev8_1_1internal.html#a4725962ca3c127eb5871cb47293aee95">size_t</a>&#160;</td>
          <td class="paramname"><em>total_code_size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l01616">1616</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;                                                                {</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> guard{&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>};</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;  base::Vector&lt;uint8_t&gt; code_space =</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aef6c06fd70d54f981aaccf59b8c8ec2f">code_allocator_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a1aa6c58339ee0dc3f42716472fc79fc8">AllocateForCode</a>(<span class="keyword">this</span>, total_code_size);</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;  <span class="keyword">auto</span> jump_tables =</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a7008f95ebaf5e50e98749f5ba25cd3f7">FindJumpTablesForRegionLocked</a>(<a class="code" href="namespacev8_1_1base.html#a576345f40485ddc3e105508023924217">base::AddressRegionOf</a>(code_space));</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;  <span class="keywordflow">return</span> {code_space, jump_tables};</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="address-region_8h_source.html#l00075">v8::base::AddressRegionOf()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l00824">v8::internal::wasm::WasmCodeAllocator::AllocateForCode()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01097">allocation_mutex_</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01051">code_allocator_</a>, and <a class="el" href="wasm-code-manager_8cc_source.html#l02039">FindJumpTablesForRegionLocked()</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-serialization_8cc_source.html#l00897">v8::internal::wasm::NativeModuleDeserializer::ReadCode()</a>.</p>
<div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a460c056c89d554e3a4a8dfcb8ffc22b4_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a460c056c89d554e3a4a8dfcb8ffc22b4_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="abacd1cb85a612977eef0bc38deb0e076"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abacd1cb85a612977eef0bc38deb0e076">&#9670;&nbsp;</a></span>committed_code_space()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal.html#a4725962ca3c127eb5871cb47293aee95">size_t</a> v8::internal::wasm::NativeModule::committed_code_space </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l00768">768</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;                                      {</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aef6c06fd70d54f981aaccf59b8c8ec2f">code_allocator_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a9f5f12643315075f0a553f61c992fdb1">committed_code_space</a>();</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;  }</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeAllocator_html_a9f5f12643315075f0a553f61c992fdb1"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a9f5f12643315075f0a553f61c992fdb1">v8::internal::wasm::WasmCodeAllocator::committed_code_space</a></div><div class="ttdeci">size_t committed_code_space() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00548">wasm-code-manager.h:548</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="wasm-objects_8cc_source.html#l00113">v8::internal::WasmModuleObject::New()</a>.</p>
<div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_abacd1cb85a612977eef0bc38deb0e076_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a56928b35d0408f401ca1d72c8c80162c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56928b35d0408f401ca1d72c8c80162c">&#9670;&nbsp;</a></span>compilation_state()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1wasm_1_1CompilationState.html">CompilationState</a>* v8::internal::wasm::NativeModule::compilation_state </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l00748">748</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;                                              {</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a2b68ddfcd3230a171f04c7a0b2231394">compilation_state_</a>.get();</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l01183">v8::internal::wasm::CompileLazy()</a>, <a class="el" href="function-compiler_8cc_source.html#l00168">v8::internal::wasm::WasmCompilationUnit::CompileWasmFunction()</a>, <a class="el" href="module-compiler_8cc_source.html#l02159">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::InitializeCompilation()</a>, <a class="el" href="module-compiler_8cc_source.html#l01723">v8::internal::wasm::InitializeCompilationForTesting()</a>, <a class="el" href="wasm-serialization_8cc_source.html#l00868">v8::internal::wasm::NativeModuleDeserializer::ReadHeader()</a>, <a class="el" href="module-compiler_8cc_source.html#l01253">v8::internal::wasm::ThrowLazyCompilationError()</a>, <a class="el" href="module-compiler_8cc_source.html#l01694">v8::internal::wasm::TierUpNowForTesting()</a>, <a class="el" href="module-compiler_8cc_source.html#l01654">v8::internal::wasm::TriggerTierUp()</a>, <a class="el" href="module-compiler_8cc_source.html#l02278">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::ValidateFunctions()</a>, and <a class="el" href="wasm-serialization_8cc_source.html#l00379">v8::internal::wasm::NativeModuleSerializer::WriteHeader()</a>.</p>
<div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a56928b35d0408f401ca1d72c8c80162c_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a9dc26792c1058956f82dd7114444a607"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9dc26792c1058956f82dd7114444a607">&#9670;&nbsp;</a></span>compile_imports()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classv8_1_1internal_1_1wasm_1_1CompileTimeImports.html">CompileTimeImports</a>&amp; v8::internal::wasm::NativeModule::compile_imports </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l00829">829</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5fb2f2d026a39422d0282640939e2221">compile_imports_</a>; }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="function-compiler_8cc_source.html#l00168">v8::internal::wasm::WasmCompilationUnit::CompileWasmFunction()</a>, <a class="el" href="wasm-engine_8cc_source.html#l00399">v8::internal::wasm::NativeModuleCache::Erase()</a>, <a class="el" href="module-compiler_8cc_source.html#l02043">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::ExecuteCompilationUnits()</a>, <a class="el" href="wasm-module_8cc_source.html#l00425">v8::internal::wasm::GetImports()</a>, <a class="el" href="wasm-serialization_8cc_source.html#l00358">v8::internal::wasm::NativeModuleSerializer::Measure()</a>, <a class="el" href="wasm-serialization_8cc_source.html#l00802">v8::internal::wasm::NativeModuleDeserializer::Read()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02224">v8::internal::wasm::InstanceBuilder::SanitizeImports()</a>, and <a class="el" href="wasm-serialization_8cc_source.html#l00379">v8::internal::wasm::NativeModuleSerializer::WriteHeader()</a>.</p>
<div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a9dc26792c1058956f82dd7114444a607_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ac38f1b4fe42e19e644ec63dafe0cc450"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac38f1b4fe42e19e644ec63dafe0cc450">&#9670;&nbsp;</a></span>counters()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1Counters.html">Counters</a>* v8::internal::wasm::NativeModule::counters </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l00890">890</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aef6c06fd70d54f981aaccf59b8c8ec2f">code_allocator_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#acf9a1aee3d685250b3400bae086d7876">counters</a>(); }</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeAllocator_html_acf9a1aee3d685250b3400bae086d7876"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#acf9a1aee3d685250b3400bae086d7876">v8::internal::wasm::WasmCodeAllocator::counters</a></div><div class="ttdeci">Counters * counters() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00578">wasm-code-manager.h:578</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l02588">SampleCodeSize()</a>.</p>
<div id="dynsection-20" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_ac38f1b4fe42e19e644ec63dafe0cc450_icgraph.svg" width="483" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="afeed42f09dacb1494a46bb073f6e3e8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afeed42f09dacb1494a46bb073f6e3e8f">&#9670;&nbsp;</a></span>coverage_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::shared_ptr&lt;<a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmModuleCoverageData.html">WasmModuleCoverageData</a>&gt;&amp; v8::internal::wasm::NativeModule::coverage_data </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l00962">962</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;                                                                     {</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5ebebb9d6e7368d1969447662c82f320">coverage_data_</a>;</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;  }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="compilation-environment-inl_8h_source.html#l00019">v8::internal::wasm::CompilationEnv::ForModule()</a>.</p>
<div id="dynsection-21" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-21-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-21-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-21-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_afeed42f09dacb1494a46bb073f6e3e8f_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a5bcdbc6019550ab5ed2f16d8c7c7745b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bcdbc6019550ab5ed2f16d8c7c7745b">&#9670;&nbsp;</a></span>CreateEmptyJumpTableInRegionLocked()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a> * v8::internal::wasm::NativeModule::CreateEmptyJumpTableInRegionLocked </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>jump_table_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1base_1_1AddressRegion.html">base::AddressRegion</a>&#160;</td>
          <td class="paramname"><em>region</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8125eaffd4b01d09e3e172cab5f94d12">JumpTableType</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l01740">1740</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;                                                                       {</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>.<a class="code" href="classv8_1_1base_1_1RecursiveMutex.html#a63e202453c65074f4a84b8f0b2435a21">AssertHeld</a>();</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;  <span class="comment">// Only call this if we really need a jump table.</span></div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a>(0, jump_table_size);</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;  base::Vector&lt;uint8_t&gt; code_space =</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aef6c06fd70d54f981aaccf59b8c8ec2f">code_allocator_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a24e7306c031d78f7744ca33ba091e0d9">AllocateForCodeInRegion</a>(<span class="keyword">this</span>, jump_table_size, region);</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!code_space.empty());</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ab8a1a00ef10cda726268c29b8bcedcda">UpdateCodeSize</a>(jump_table_size, <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13">ExecutionTier::kNone</a>, <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a11df36d2f23b22c6772f3a5f08731b5ba1874820c42ab45140e0e50e44f8e96d5">kNotForDebugging</a>);</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;  {</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;    WritableJitAllocation jit_allocation =</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;        <a class="code" href="classv8_1_1internal_1_1ThreadIsolation.html#ae2e342788fbcd47076ccce4a1996c464">ThreadIsolation::RegisterJitAllocation</a>(</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;            <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a><span class="keyword">&gt;</span>(code_space.begin()), code_space.size(),</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;            <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#a2badb95b32597d70458151d3b6a474ad">ToAllocationType</a>(<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>));</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;    jit_allocation.ClearBytes(0, code_space.size());</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;  }</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;  std::unique_ptr&lt;WasmCode&gt; <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>{</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;      <span class="keyword">new</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a0ec92359918c6ef6fe010cafb580eb86">WasmCode</a>{<span class="keyword">this</span>,                  <span class="comment">// native_module</span></div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;                   <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a1bb1a5429ae3d1ec380de1b5da81238f">kAnonymousFuncIndex</a>,   <span class="comment">// index</span></div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;                   code_space,            <span class="comment">// instructions</span></div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;                   0,                     <span class="comment">// stack_slots</span></div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;                   0,                     <span class="comment">// ool_spills</span></div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;                   0,                     <span class="comment">// tagged_parameter_slots</span></div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;                   0,                     <span class="comment">// safepoint_table_offset</span></div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;                   jump_table_size,       <span class="comment">// handler_table_offset</span></div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;                   jump_table_size,       <span class="comment">// constant_pool_offset</span></div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;                   jump_table_size,       <span class="comment">// code_comments_offset</span></div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;                   jump_table_size,       <span class="comment">// jump_table_info_offset</span></div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;                   jump_table_size,       <span class="comment">// unpadded_binary_size</span></div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;                   {},                    <span class="comment">// protected_instructions</span></div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;                   {},                    <span class="comment">// reloc_info</span></div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;                   {},                    <span class="comment">// source_pos</span></div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;                   {},                    <span class="comment">// inlining pos</span></div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;                   {},                    <span class="comment">// deopt data</span></div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;                   <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a236d413616e672cc2cda31bb7a4fc04da95ce5c1324b114f4905ca3eb8e68c730">WasmCode::kJumpTable</a>,  <span class="comment">// kind</span></div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;                   <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13">ExecutionTier::kNone</a>,  <span class="comment">// tier</span></div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;                   <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a11df36d2f23b22c6772f3a5f08731b5ba1874820c42ab45140e0e50e44f8e96d5">kNotForDebugging</a>,      <span class="comment">// for_debugging</span></div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;                   0}};                   <span class="comment">// signature_hash</span></div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a60c23842429cfbc96419f922d252a4ea">PublishCodeLocked</a>(std::move(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>),</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;                           <a class="code" href="structv8_1_1internal_1_1wasm_1_1UnpublishedWasmCode.html#a4c0e64721e6f0d179c1b2151a97bbc4a">UnpublishedWasmCode::kNoAssumptions</a>);</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeAllocator_html_a24e7306c031d78f7744ca33ba091e0d9"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a24e7306c031d78f7744ca33ba091e0d9">v8::internal::wasm::WasmCodeAllocator::AllocateForCodeInRegion</a></div><div class="ttdeci">base::Vector&lt; uint8_t &gt; AllocateForCodeInRegion(NativeModule *, size_t size, base::AddressRegion)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00834">wasm-code-manager.cc:834</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a236d413616e672cc2cda31bb7a4fc04da95ce5c1324b114f4905ca3eb8e68c730"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a236d413616e672cc2cda31bb7a4fc04da95ce5c1324b114f4905ca3eb8e68c730">v8::internal::wasm::WasmCode::kJumpTable</a></div><div class="ttdeci">@ kJumpTable</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00101">wasm-code-manager.h:100</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1tracing_html_a96000282e12b2483531025283d63154d"><div class="ttname"><a href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">v8::internal::tracing::type</a></div><div class="ttdeci">unsigned char * type</div><div class="ttdef"><b>Definition:</b> <a href="tracing_2trace-event_8h_source.html#l00457">trace-event.h:457</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_html_a2badb95b32597d70458151d3b6a474ad"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#a2badb95b32597d70458151d3b6a474ad">v8::internal::wasm::anonymous_namespace{wasm-code-manager.cc}::ToAllocationType</a></div><div class="ttdeci">ThreadIsolation::JitAllocationType ToAllocationType(v8::internal::wasm::NativeModule::JumpTableType type)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01726">wasm-code-manager.cc:1726</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-code-manager_8cc_source.html#l00834">v8::internal::wasm::WasmCodeAllocator::AllocateForCodeInRegion()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01097">allocation_mutex_</a>, <a class="el" href="mutex_8h_source.html#l00153">v8::base::RecursiveMutex::AssertHeld()</a>, <a class="el" href="vector_8h_source.html#l00096">v8::base::Vector&lt; T &gt;::begin()</a>, <a class="el" href="code-memory-access-inl_8h_source.html#l00259">v8::internal::WritableJitAllocation::ClearBytes()</a>, <a class="el" href="flag-definitions_8h_source.html#l00546">code</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01051">code_allocator_</a>, <a class="el" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00488">DCHECK_LT</a>, <a class="el" href="vector_8h_source.html#l00073">v8::base::Vector&lt; T &gt;::empty()</a>, <a class="el" href="wasm-constants_8h_source.html#l00189">v8::internal::wasm::kAnonymousFuncIndex</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00100">v8::internal::wasm::WasmCode::kJumpTable</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00532">v8::internal::wasm::UnpublishedWasmCode::kNoAssumptions</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13">v8::internal::wasm::kNone</a>, <a class="el" href="wasm-tier_8h_source.html#l00047">v8::internal::wasm::kNotForDebugging</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01485">PublishCodeLocked()</a>, <a class="el" href="code-memory-access_8cc_source.html#l00488">v8::internal::ThreadIsolation::RegisterJitAllocation()</a>, <a class="el" href="vector_8h_source.html#l00070">v8::base::Vector&lt; T &gt;::size()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01726">v8::internal::wasm::anonymous_namespace{wasm-code-manager.cc}::ToAllocationType()</a>, <a class="el" href="tracing_2trace-event_8h_source.html#l00457">v8::internal::tracing::type</a>, and <a class="el" href="wasm-code-manager_8cc_source.html#l01782">UpdateCodeSize()</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l01844">AddCodeSpaceLocked()</a>, and <a class="el" href="wasm-code-manager_8cc_source.html#l01718">CreateEmptyJumpTableLocked()</a>.</p>
<div id="dynsection-22" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-22-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-22-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-22-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a5bcdbc6019550ab5ed2f16d8c7c7745b_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-23" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-23-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-23-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-23-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a5bcdbc6019550ab5ed2f16d8c7c7745b_icgraph.svg" width="100%" height="497"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a9d54c7dc9c3d2729c81664ed3fa5172d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d54c7dc9c3d2729c81664ed3fa5172d">&#9670;&nbsp;</a></span>CreateEmptyJumpTableLocked()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a> * v8::internal::wasm::NativeModule::CreateEmptyJumpTableLocked </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>jump_table_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8125eaffd4b01d09e3e172cab5f94d12">JumpTableType</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l01718">1718</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;                                                                       {</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5bcdbc6019550ab5ed2f16d8c7c7745b">CreateEmptyJumpTableInRegionLocked</a>(jump_table_size,</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;                                            <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#a8461a4bc3623a7968bca9f25f17474f3">kUnrestrictedRegion</a>, <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>);</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;}</div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_html_a8461a4bc3623a7968bca9f25f17474f3"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#a8461a4bc3623a7968bca9f25f17474f3">v8::internal::wasm::anonymous_namespace{wasm-code-manager.cc}::kUnrestrictedRegion</a></div><div class="ttdeci">constexpr base::AddressRegion kUnrestrictedRegion</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00799">wasm-code-manager.cc:799</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-code-manager_8cc_source.html#l01740">CreateEmptyJumpTableInRegionLocked()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l00799">v8::internal::wasm::anonymous_namespace{wasm-code-manager.cc}::kUnrestrictedRegion</a>, and <a class="el" href="tracing_2trace-event_8h_source.html#l00457">v8::internal::tracing::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l01192">InitializeJumpTableForLazyCompilation()</a>.</p>
<div id="dynsection-24" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-24-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-24-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-24-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a9d54c7dc9c3d2729c81664ed3fa5172d_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-25" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-25-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-25-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-25-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a9d54c7dc9c3d2729c81664ed3fa5172d_icgraph.svg" width="100%" height="400"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ac075badc36b3fdb58a4f15b9a3dd12c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac075badc36b3fdb58a4f15b9a3dd12c9">&#9670;&nbsp;</a></span>CreateIndirectCallTargetToFunctionIndexMap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a91fa3ea02a42f6eb12f120ac558a8ec7">NativeModule::CallIndirectTargetMap</a> v8::internal::wasm::NativeModule::CreateIndirectCallTargetToFunctionIndexMap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l02114">2114</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;                                                               {</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a91fa3ea02a42f6eb12f120ac558a8ec7">CallIndirectTargetMap</a> lookup_map;</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;  <span class="keywordflow">for</span> (uint32_t func_index = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#af886dc3d493824b7a1ae1e1f5ae02e42">num_imported_functions</a>();</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;       func_index &lt; <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a4210dcf60ee0c22b95de93af93f17f86">num_functions</a>(); func_index++) {</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;    lookup_map.emplace(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a63657aff1b54d8355c88d671645a62fd">GetCodePointerHandle</a>(func_index), func_index);</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;  }</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;  <span class="keywordflow">return</span> lookup_map;</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a4210dcf60ee0c22b95de93af93f17f86"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a4210dcf60ee0c22b95de93af93f17f86">v8::internal::wasm::NativeModule::num_functions</a></div><div class="ttdeci">uint32_t num_functions() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00752">wasm-code-manager.h:752</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a91fa3ea02a42f6eb12f120ac558a8ec7"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a91fa3ea02a42f6eb12f120ac558a8ec7">v8::internal::wasm::NativeModule::CallIndirectTargetMap</a></div><div class="ttdeci">absl::flat_hash_map&lt; WasmCodePointer, uint32_t &gt; CallIndirectTargetMap</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00740">wasm-code-manager.h:740</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_af886dc3d493824b7a1ae1e1f5ae02e42"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#af886dc3d493824b7a1ae1e1f5ae02e42">v8::internal::wasm::NativeModule::num_imported_functions</a></div><div class="ttdeci">uint32_t num_imported_functions() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00755">wasm-code-manager.h:755</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-code-manager_8cc_source.html#l02144">GetCodePointerHandle()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00752">num_functions()</a>, and <a class="el" href="wasm-code-manager_8h_source.html#l00755">num_imported_functions()</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l00345">v8::internal::wasm::WasmCode::Validate()</a>, and <a class="el" href="wasm-serialization_8cc_source.html#l00597">v8::internal::wasm::NativeModuleSerializer::Write()</a>.</p>
<div id="dynsection-26" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-26-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-26-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-26-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_ac075badc36b3fdb58a4f15b9a3dd12c9_cgraph.svg" width="100%" height="470"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-27" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-27-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-27-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-27-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_ac075badc36b3fdb58a4f15b9a3dd12c9_icgraph.svg" width="100%" height="400"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a06a2c7de30340bbccc8d97aaff9ffe11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06a2c7de30340bbccc8d97aaff9ffe11">&#9670;&nbsp;</a></span>DisableCodeLogging()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::NativeModule::DisableCodeLogging </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l00901">901</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;                            {</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a372c72a19d442c1add803d8444820d9b">log_code_</a>.store(<span class="keyword">false</span>, std::memory_order_relaxed);</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;  }</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a372c72a19d442c1add803d8444820d9b"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a372c72a19d442c1add803d8444820d9b">v8::internal::wasm::NativeModule::log_code_</a></div><div class="ttdeci">std::atomic&lt; bool &gt; log_code_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01162">wasm-code-manager.h:1162</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="wasm-engine_8cc_source.html#l01501">v8::internal::wasm::WasmEngine::DisableCodeLogging()</a>.</p>
<div id="dynsection-28" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-28-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-28-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-28-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a06a2c7de30340bbccc8d97aaff9ffe11_icgraph.svg" width="100%" height="388"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a0ba7b7564b408b1e7b459849e0e886e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ba7b7564b408b1e7b459849e0e886e4">&#9670;&nbsp;</a></span>DisassembleForLcov()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t v8::internal::wasm::NativeModule::DisassembleForLcov </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classint.html">int</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>function_body_offsets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; uint32_t, uint32_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>bytecode_disasm_offsets</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l00988">988</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;                                                         {</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;  CoverageFileWriter coverage_file_writer(out, bytecode_disasm_offsets);</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a705cc48582d146ceda18f8e7c337c4c2">debug::Disassemble</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a957b590c391c9dc0949cdaff8c94cf05">wire_bytes</a>(), &amp;coverage_file_writer,</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;                     &amp;function_body_offsets);</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;  <span class="keywordflow">return</span> coverage_file_writer.GetLineCount();</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;}</div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a705cc48582d146ceda18f8e7c337c4c2"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a705cc48582d146ceda18f8e7c337c4c2">v8::internal::wasm::Disassemble</a></div><div class="ttdeci">void Disassemble(const WasmModule *module, ModuleWireBytes wire_bytes, NamesProvider *names, v8::debug::DisassemblyCollector *collector, std::vector&lt; int &gt; *function_body_offsets)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-disassembler_8cc_source.html#l00023">wasm-disassembler.cc:23</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-disassembler_8cc_source.html#l00023">v8::internal::wasm::Disassemble()</a>, and <a class="el" href="wasm-code-manager_8h_source.html#l00763">wire_bytes()</a>.</p>
<div id="dynsection-29" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-29-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-29-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-29-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a0ba7b7564b408b1e7b459849e0e886e4_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a46dfb156f95f82f1dda19f3f263f04b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46dfb156f95f82f1dda19f3f263f04b2">&#9670;&nbsp;</a></span>EnableCodeLogging()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::NativeModule::EnableCodeLogging </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l00899">899</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;{ <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a372c72a19d442c1add803d8444820d9b">log_code_</a>.store(<span class="keyword">true</span>, std::memory_order_relaxed); }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="wasm-engine_8cc_source.html#l01486">v8::internal::wasm::WasmEngine::EnableCodeLogging()</a>.</p>
<div id="dynsection-30" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-30-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-30-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-30-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a46dfb156f95f82f1dda19f3f263f04b2_icgraph.svg" width="516" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ac8900d676fd063b88a6876f464dd8a07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8900d676fd063b88a6876f464dd8a07">&#9670;&nbsp;</a></span>enabled_features()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmEnabledFeatures.html">WasmEnabledFeatures</a> v8::internal::wasm::NativeModule::enabled_features </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l00828">828</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a0d170e59786ee513493fa893008fb1c1">enabled_features_</a>; }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l01183">v8::internal::wasm::CompileLazy()</a>, <a class="el" href="compilation-environment-inl_8h_source.html#l00019">v8::internal::wasm::CompilationEnv::ForModule()</a>, <a class="el" href="module-compiler_8cc_source.html#l01058">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::GetLazyCompilationTiers()</a>, <a class="el" href="module-compiler_8cc_source.html#l03757">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::InitializeCompilationProgress()</a>, <a class="el" href="wasm-serialization_8cc_source.html#l00639">v8::internal::wasm::WasmSerializer::SerializeNativeModule()</a>, <a class="el" href="module-compiler_8cc_source.html#l01253">v8::internal::wasm::ThrowLazyCompilationError()</a>, <a class="el" href="runtime-test-wasm_8cc_source.html#l00679">v8::internal::anonymous_namespace{runtime-test-wasm.cc}::ValidateFunctionNowIfNeeded()</a>, and <a class="el" href="module-compiler_8cc_source.html#l02278">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::ValidateFunctions()</a>.</p>
<div id="dynsection-31" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-31-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-31-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-31-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_ac8900d676fd063b88a6876f464dd8a07_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a46fa56beff1669a8eb218e9aec9fd8d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46fa56beff1669a8eb218e9aec9fd8d2">&#9670;&nbsp;</a></span>EstimateCurrentMemoryConsumption()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal.html#a4725962ca3c127eb5871cb47293aee95">size_t</a> v8::internal::wasm::NativeModule::EstimateCurrentMemoryConsumption </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l02867">2867</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;                                                            {</div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;  <a class="code" href="std-object-sizes_8h.html#a56caa02a4280c4f0c82adab429400770">UPDATE_WHEN_CLASS_CHANGES</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a16196a1962694773b11f2434c5d7becf">NativeModule</a>, 472);</div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <span class="keyword">sizeof</span>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a16196a1962694773b11f2434c5d7becf">NativeModule</a>);</div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;  <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> += <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;EstimateCurrentMemoryConsumption();</div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160; </div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;  std::shared_ptr&lt;base::OwnedVector&lt;const uint8_t&gt;&gt; <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a957b590c391c9dc0949cdaff8c94cf05">wire_bytes</a> =</div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;      std::atomic_load(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a18104681db5670057e0e3d3490b04426">wire_bytes_</a>);</div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;  <span class="keywordtype">size_t</span> wire_bytes_size = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a957b590c391c9dc0949cdaff8c94cf05">wire_bytes</a> ? <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a957b590c391c9dc0949cdaff8c94cf05">wire_bytes</a>-&gt;<a class="code" href="classv8_1_1base_1_1Vector.html#a8f91dff816409fb9bceaa94c6caeec32">size</a>() : 0;</div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;  <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> += wire_bytes_size;</div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160; </div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a24ead28dfd80e92c25f7fc48bb0c310e">source_map_</a>) {</div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;    <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> += <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a24ead28dfd80e92c25f7fc48bb0c310e">source_map_</a>-&gt;EstimateCurrentMemoryConsumption();</div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;  }</div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;  <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> += <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a2b68ddfcd3230a171f04c7a0b2231394">compilation_state_</a>-&gt;EstimateCurrentMemoryConsumption();</div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;  <span class="comment">// For {tiering_budgets_}.</span></div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;  <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> += <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_declared_functions * <span class="keyword">sizeof</span>(uint32_t);</div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160; </div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;  <span class="keywordtype">size_t</span> external_storage = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5fb2f2d026a39422d0282640939e2221">compile_imports_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1CompileTimeImports.html#a8946141e47cc84fcf753c04dd3eac88f">constants_module</a>().capacity();</div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;  <span class="comment">// This is an approximation: the actual number of inline-stored characters</span></div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;  <span class="comment">// is a little less than the result of `sizeof`.</span></div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;  <span class="keywordflow">if</span> (external_storage &gt; <span class="keyword">sizeof</span>(<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a>)) {</div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;    <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> += external_storage;</div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;  }</div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160; </div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;  <span class="comment">// For fast api call targets.</span></div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;  <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> += <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_imported_functions *</div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;            (<span class="keyword">sizeof</span>(std::atomic&lt;Address&gt;) + <span class="keyword">sizeof</span>(CFunctionInfo*));</div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;  <span class="comment">// We cannot hold the `allocation_mutex_` while calling</span></div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;  <span class="comment">// `debug_info_-&gt;EstimateCurrentMemoryConsumption`, as we would run into a</span></div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;  <span class="comment">// lock-order-inversion when acquiring the `mutex_`. The reverse order happens</span></div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;  <span class="comment">// when calling `WasmScript::SetBreakPointForFunction`.</span></div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;  DebugInfo* debug_info;</div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;  {</div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> lock(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>);</div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;    <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> += <a class="code" href="namespacev8_1_1internal_1_1wasm.html#aa122591443234c1d0b597dadc9d55c5e">ContentSize</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a254b2e8e7c781aa66779e302651293ed">owned_code_</a>);</div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; [address, unique_code_ptr] : <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a254b2e8e7c781aa66779e302651293ed">owned_code_</a>) {</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;      <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> += unique_code_ptr-&gt;EstimateCurrentMemoryConsumption();</div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;    }</div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;    <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> += <a class="code" href="namespacev8_1_1internal_1_1wasm.html#aa122591443234c1d0b597dadc9d55c5e">ContentSize</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae0bf556913299e7eba006b97843cb6ec">new_owned_code_</a>);</div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;    <span class="keywordflow">for</span> (std::unique_ptr&lt;WasmCode&gt;&amp; <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> : <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae0bf556913299e7eba006b97843cb6ec">new_owned_code_</a>) {</div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;      <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> += <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;EstimateCurrentMemoryConsumption();</div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;    }</div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;    <span class="comment">// For {code_table_}.</span></div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;    <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> += <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_declared_functions * <span class="keyword">sizeof</span>(<span class="keywordtype">void</span>*);</div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;    <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> += <a class="code" href="namespacev8_1_1internal_1_1wasm.html#aa122591443234c1d0b597dadc9d55c5e">ContentSize</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a09649a8d8356bcf64e4bc5f2d3eb1435">code_space_data_</a>);</div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;    debug_info = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a3a4dfefd1e5ed6ad2349de15781aee24">debug_info_</a>.get();</div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a0758c148983046085c96a76a610a9ff6">names_provider_</a>) {</div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;      <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> += <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a0758c148983046085c96a76a610a9ff6">names_provider_</a>-&gt;EstimateCurrentMemoryConsumption();</div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;    }</div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;  }</div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;  <span class="keywordflow">if</span> (debug_info) {</div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;    <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> += debug_info-&gt;EstimateCurrentMemoryConsumption();</div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;  }</div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160; </div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_wasm_offheap_memory) {</div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;NativeModule wire bytes: %zu\n&quot;</span>, wire_bytes_size);</div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;NativeModule: %zu\n&quot;</span>, <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>);</div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;  }</div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1base_1_1Vector_html_a8f91dff816409fb9bceaa94c6caeec32"><div class="ttname"><a href="classv8_1_1base_1_1Vector.html#a8f91dff816409fb9bceaa94c6caeec32">v8::base::Vector::size</a></div><div class="ttdeci">constexpr size_t size() const</div><div class="ttdef"><b>Definition:</b> <a href="vector_8h_source.html#l00070">vector.h:70</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1CompileTimeImports_html_a8946141e47cc84fcf753c04dd3eac88f"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1CompileTimeImports.html#a8946141e47cc84fcf753c04dd3eac88f">v8::internal::wasm::CompileTimeImports::constants_module</a></div><div class="ttdeci">std::string &amp; constants_module()</div><div class="ttdef"><b>Definition:</b> <a href="wasm-features_8h_source.html#l00191">wasm-features.h:191</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a0758c148983046085c96a76a610a9ff6"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a0758c148983046085c96a76a610a9ff6">v8::internal::wasm::NativeModule::names_provider_</a></div><div class="ttdeci">std::unique_ptr&lt; NamesProvider &gt; names_provider_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01135">wasm-code-manager.h:1135</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a16196a1962694773b11f2434c5d7becf"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a16196a1962694773b11f2434c5d7becf">v8::internal::wasm::NativeModule::NativeModule</a></div><div class="ttdeci">NativeModule(const NativeModule &amp;)=delete</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a18104681db5670057e0e3d3490b04426"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a18104681db5670057e0e3d3490b04426">v8::internal::wasm::NativeModule::wire_bytes_</a></div><div class="ttdeci">std::shared_ptr&lt; base::OwnedVector&lt; const uint8_t &gt; &gt; wire_bytes_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01069">wasm-code-manager.h:1069</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a24ead28dfd80e92c25f7fc48bb0c310e"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a24ead28dfd80e92c25f7fc48bb0c310e">v8::internal::wasm::NativeModule::source_map_</a></div><div class="ttdeci">std::unique_ptr&lt; WasmModuleSourceMap &gt; source_map_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01065">wasm-code-manager.h:1065</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a254b2e8e7c781aa66779e302651293ed"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a254b2e8e7c781aa66779e302651293ed">v8::internal::wasm::NativeModule::owned_code_</a></div><div class="ttdeci">std::map&lt; Address, std::unique_ptr&lt; WasmCode &gt; &gt; owned_code_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01105">wasm-code-manager.h:1105</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a3a4dfefd1e5ed6ad2349de15781aee24"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a3a4dfefd1e5ed6ad2349de15781aee24">v8::internal::wasm::NativeModule::debug_info_</a></div><div class="ttdeci">std::unique_ptr&lt; DebugInfo &gt; debug_info_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01133">wasm-code-manager.h:1133</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_ae0bf556913299e7eba006b97843cb6ec"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae0bf556913299e7eba006b97843cb6ec">v8::internal::wasm::NativeModule::new_owned_code_</a></div><div class="ttdeci">std::vector&lt; std::unique_ptr&lt; WasmCode &gt; &gt; new_owned_code_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01110">wasm-code-manager.h:1110</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_aa122591443234c1d0b597dadc9d55c5e"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#aa122591443234c1d0b597dadc9d55c5e">v8::internal::wasm::ContentSize</a></div><div class="ttdeci">size_t ContentSize(const std::vector&lt; T &gt; &amp;vector)</div><div class="ttdef"><b>Definition:</b> <a href="std-object-sizes_8h_source.html#l00028">std-object-sizes.h:28</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a3430752cde9f29d73e97ceed1bce0856"><div class="ttname"><a href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">v8::internal::PrintF</a></div><div class="ttdeci">void PrintF(const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="utils_2utils_8cc_source.html#l00039">utils.cc:39</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_af68b330f02476361ab10f531933b3381"><div class="ttname"><a href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">v8::internal::string</a></div><div class="ttdeci">template const char * string</div><div class="ttdef"><b>Definition:</b> <a href="conversions_8cc_source.html#l01119">conversions.cc:1119</a></div></div>
<div class="ttc" id="astd-object-sizes_8h_html_a56caa02a4280c4f0c82adab429400770"><div class="ttname"><a href="std-object-sizes_8h.html#a56caa02a4280c4f0c82adab429400770">UPDATE_WHEN_CLASS_CHANGES</a></div><div class="ttdeci">#define UPDATE_WHEN_CLASS_CHANGES(classname, size)</div><div class="ttdef"><b>Definition:</b> <a href="std-object-sizes_8h_source.html#l00079">std-object-sizes.h:79</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-code-manager_8h_source.html#l01097">allocation_mutex_</a>, <a class="el" href="flag-definitions_8h_source.html#l00546">code</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01127">code_space_data_</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01086">compilation_state_</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01059">compile_imports_</a>, <a class="el" href="wasm-features_8h_source.html#l00191">v8::internal::wasm::CompileTimeImports::constants_module()</a>, <a class="el" href="std-object-sizes_8h_source.html#l00028">v8::internal::wasm::ContentSize()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01133">debug_info_</a>, <a class="el" href="wasm-debug_8cc_source.html#l00891">v8::internal::wasm::DebugInfo::EstimateCurrentMemoryConsumption()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01063">module_</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01135">names_provider_</a>, <a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a16196a1962694773b11f2434c5d7becf">NativeModule()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01110">new_owned_code_</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01105">owned_code_</a>, <a class="el" href="utils_2utils_8cc_source.html#l00039">v8::internal::PrintF()</a>, <a class="el" href="clamped__math__impl_8h_source.html#l00082">v8::base::internal::result</a>, <a class="el" href="vector_8h_source.html#l00070">v8::base::Vector&lt; T &gt;::size()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01065">source_map_</a>, <a class="el" href="conversions_8cc_source.html#l01119">v8::internal::string</a>, <a class="el" href="std-object-sizes_8h_source.html#l00079">UPDATE_WHEN_CLASS_CHANGES</a>, <a class="el" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00763">wire_bytes()</a>, and <a class="el" href="wasm-code-manager_8h_source.html#l01069">wire_bytes_</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l02928">PrintCurrentMemoryConsumptionEstimate()</a>, and <a class="el" href="wasm-code-manager_8cc_source.html#l02588">SampleCodeSize()</a>.</p>
<div id="dynsection-32" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-32-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-32-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-32-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a46fa56beff1669a8eb218e9aec9fd8d2_cgraph.svg" width="514" height="448"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-33" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-33-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-33-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-33-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a46fa56beff1669a8eb218e9aec9fd8d2_icgraph.svg" width="100%" height="400"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a297e1eb408823f410295e0726c47e422"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a297e1eb408823f410295e0726c47e422">&#9670;&nbsp;</a></span>fast_api_signatures()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;const <a class="el" href="namespacev8_1_1internal.html#a46aa1060b5e412c7e07bcc58b9f6f4b0">MachineSignature</a>*&gt;* v8::internal::wasm::NativeModule::fast_api_signatures </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l00956">956</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;                                                                  {</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a88a5291abd2f5a20451c2ca823195423">fast_api_signatures_</a>.get();</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;  }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="compilation-environment-inl_8h_source.html#l00019">v8::internal::wasm::CompilationEnv::ForModule()</a>.</p>
<div id="dynsection-34" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-34-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-34-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-34-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a297e1eb408823f410295e0726c47e422_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="af34f05b301b28f4560ae3ac99b2ff5bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af34f05b301b28f4560ae3ac99b2ff5bb">&#9670;&nbsp;</a></span>fast_api_targets()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;<a class="el" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a>&gt;* v8::internal::wasm::NativeModule::fast_api_targets </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l00940">940</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;                                               {</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8a983a27240228a773a3764c6ba899df">fast_api_targets_</a>.get();</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;  }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="compilation-environment-inl_8h_source.html#l00019">v8::internal::wasm::CompilationEnv::ForModule()</a>.</p>
<div id="dynsection-35" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-35-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-35-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-35-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_af34f05b301b28f4560ae3ac99b2ff5bb_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a7008f95ebaf5e50e98749f5ba25cd3f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7008f95ebaf5e50e98749f5ba25cd3f7">&#9670;&nbsp;</a></span>FindJumpTablesForRegionLocked()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1JumpTablesRef.html">NativeModule::JumpTablesRef</a> v8::internal::wasm::NativeModule::FindJumpTablesForRegionLocked </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1base_1_1AddressRegion.html">base::AddressRegion</a>&#160;</td>
          <td class="paramname"><em>code_region</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l02039">2039</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;                                         {</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>.<a class="code" href="classv8_1_1base_1_1RecursiveMutex.html#a63e202453c65074f4a84b8f0b2435a21">AssertHeld</a>();</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;  <span class="keyword">auto</span> jump_table_usable = [code_region](<span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a0ec92359918c6ef6fe010cafb580eb86">WasmCode</a>* jump_table) {</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;    <span class="comment">// We only ever need to check for suitable jump tables if</span></div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;    <span class="comment">// {kNeedsFarJumpsBetweenCodeSpaces} is true.</span></div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;    <span class="keywordflow">if</span> constexpr (!<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1c38ae4d35483f2b9c6e5634c7bf4bd6">kNeedsFarJumpsBetweenCodeSpaces</a>) <a class="code" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a> table_start = jump_table-&gt;instruction_start();</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a> table_end = table_start + jump_table-&gt;instructions().size();</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;    <span class="comment">// Compute the maximum distance from anywhere in the code region to anywhere</span></div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;    <span class="comment">// in the jump table, avoiding any underflow.</span></div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;    <span class="keywordtype">size_t</span> max_distance = std::max(</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;        code_region.end() &gt; table_start ? code_region.end() - table_start : 0,</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;        table_end &gt; code_region.begin() ? table_end - code_region.begin() : 0);</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;    <span class="comment">// kDefaultMaxWasmCodeSpaceSizeMb is &lt;= the maximum near call distance on</span></div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;    <span class="comment">// the current platform.</span></div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;    <span class="comment">// We can allow a max_distance that is equal to</span></div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;    <span class="comment">// kDefaultMaxWasmCodeSpaceSizeMb, because every call or jump will target an</span></div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;    <span class="comment">// address *within* the region, but never exactly the end of the region. So</span></div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;    <span class="comment">// all occuring offsets are actually smaller than max_distance.</span></div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;    <span class="keywordflow">return</span> max_distance &lt;= <a class="code" href="namespacev8_1_1internal.html#a55676947d895fd4cdd273e53dff16694">kDefaultMaxWasmCodeSpaceSizeMb</a> * <a class="code" href="namespacev8_1_1internal.html#af46551c5713d2a3a1be4dca973e521e0">MB</a>;</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;  };</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160; </div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; code_space_data : <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a09649a8d8356bcf64e4bc5f2d3eb1435">code_space_data_</a>) {</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(code_space_data.jump_table, code_space_data.far_jump_table);</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;    <span class="keywordflow">if</span> (!code_space_data.far_jump_table) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;    <span class="comment">// Only return these jump tables if they are reachable from the whole</span></div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;    <span class="comment">// {code_region}.</span></div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1c38ae4d35483f2b9c6e5634c7bf4bd6">kNeedsFarJumpsBetweenCodeSpaces</a> &amp;&amp;</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;        (!jump_table_usable(code_space_data.far_jump_table) ||</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;         (code_space_data.jump_table &amp;&amp;</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;          !jump_table_usable(code_space_data.jump_table)))) {</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;    }</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;    <span class="keywordflow">return</span> {code_space_data.jump_table</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;                ? code_space_data.jump_table-&gt;instruction_start()</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;                : <a class="code" href="namespacev8_1_1internal.html#acf6bafb5b8483a580f375393c413ee02">kNullAddress</a>,</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;            code_space_data.far_jump_table-&gt;instruction_start()};</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;  }</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;  <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a1c38ae4d35483f2b9c6e5634c7bf4bd6"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1c38ae4d35483f2b9c6e5634c7bf4bd6">v8::internal::wasm::NativeModule::kNeedsFarJumpsBetweenCodeSpaces</a></div><div class="ttdeci">static constexpr bool kNeedsFarJumpsBetweenCodeSpaces</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00621">wasm-code-manager.h:621</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_acdec713c25068019f935e35976f5b666"><div class="ttname"><a href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">v8::internal::UNREACHABLE</a></div><div class="ttdeci">UNREACHABLE()</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_acf6bafb5b8483a580f375393c413ee02"><div class="ttname"><a href="namespacev8_1_1internal.html#acf6bafb5b8483a580f375393c413ee02">v8::internal::kNullAddress</a></div><div class="ttdeci">static constexpr Address kNullAddress</div><div class="ttdef"><b>Definition:</b> <a href="v8-internal_8h_source.html#l00053">v8-internal.h:53</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a96a75539aa82216cdde2250a11126ea0"><div class="ttname"><a href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a></div><div class="ttdeci">#define DCHECK_IMPLIES(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00492">logging.h:492</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-code-manager_8h_source.html#l01097">allocation_mutex_</a>, <a class="el" href="mutex_8h_source.html#l00153">v8::base::RecursiveMutex::AssertHeld()</a>, <a class="el" href="address-region_8h_source.html#l00033">v8::base::AddressRegion::begin()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01127">code_space_data_</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00492">DCHECK_IMPLIES</a>, <a class="el" href="address-region_8h_source.html#l00034">v8::base::AddressRegion::end()</a>, <a class="el" href="common_2globals_8h_source.html#l00453">v8::internal::kDefaultMaxWasmCodeSpaceSizeMb</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00621">kNeedsFarJumpsBetweenCodeSpaces</a>, <a class="el" href="v8-internal_8h_source.html#l00053">v8::internal::kNullAddress</a>, <a class="el" href="v8-internal_8h_source.html#l00056">v8::internal::MB</a>, and <a class="el" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">v8::internal::UNREACHABLE()</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l01263">AddCode()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01081">AddCodeForTesting()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01844">AddCodeSpaceLocked()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02642">AddCompiledCode()</a>, and <a class="el" href="wasm-code-manager_8cc_source.html#l01616">AllocateForDeserializedCode()</a>.</p>
<div id="dynsection-36" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-36-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-36-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-36-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a7008f95ebaf5e50e98749f5ba25cd3f7_cgraph.svg" width="504" height="220"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-37" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-37-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-37-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-37-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a7008f95ebaf5e50e98749f5ba25cd3f7_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a169fd10581fcc34645b802baca380789"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a169fd10581fcc34645b802baca380789">&#9670;&nbsp;</a></span>FreeCode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::NativeModule::FreeCode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a> *const &gt;&#160;</td>
          <td class="paramname"><em>codes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l02820">2820</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;                                                             {</div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> guard(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>);</div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;  <span class="comment">// Free the code space.</span></div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aef6c06fd70d54f981aaccf59b8c8ec2f">code_allocator_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#ae6d33802bb8ba17667cb1ae5b32e1aae">FreeCode</a>(codes);</div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160; </div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae0bf556913299e7eba006b97843cb6ec">new_owned_code_</a>.empty()) <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a28058f3ce35ecfd593d341c0219b21c7">TransferNewOwnedCodeLocked</a>();</div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;  DebugInfo* debug_info = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a3a4dfefd1e5ed6ad2349de15781aee24">debug_info_</a>.get();</div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;  <span class="comment">// Free the {WasmCode} objects. This will also unregister trap handler data.</span></div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a0ec92359918c6ef6fe010cafb580eb86">WasmCode</a>* <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> : codes) {</div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(1, <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a254b2e8e7c781aa66779e302651293ed">owned_code_</a>.count(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;instruction_start()));</div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;    <span class="comment">// TODO(407003348): Drop this check if it doesn&#39;t trigger in the wild.</span></div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ab29eeae2aaa993948c6cde3c8f05ddad">WasmCode::refcount</a>(</div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;                 <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;ref_count_bitfield_.load(std::memory_order_acquire)),</div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;             0);</div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a254b2e8e7c781aa66779e302651293ed">owned_code_</a>.erase(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;instruction_start());</div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;  }</div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;  <span class="comment">// Remove debug side tables for all removed code objects, after releasing our</span></div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;  <span class="comment">// lock. This is to avoid lock order inversion.</span></div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;  <span class="keywordflow">if</span> (debug_info) debug_info-&gt;RemoveDebugSideTables(codes);</div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a28058f3ce35ecfd593d341c0219b21c7"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a28058f3ce35ecfd593d341c0219b21c7">v8::internal::wasm::NativeModule::TransferNewOwnedCodeLocked</a></div><div class="ttdeci">void TransferNewOwnedCodeLocked() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02002">wasm-code-manager.cc:2002</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeAllocator_html_ae6d33802bb8ba17667cb1ae5b32e1aae"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#ae6d33802bb8ba17667cb1ae5b32e1aae">v8::internal::wasm::WasmCodeAllocator::FreeCode</a></div><div class="ttdeci">void FreeCode(base::Vector&lt; WasmCode *const &gt;)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00917">wasm-code-manager.cc:917</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_ab29eeae2aaa993948c6cde3c8f05ddad"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ab29eeae2aaa993948c6cde3c8f05ddad">v8::internal::wasm::WasmCode::refcount</a></div><div class="ttdeci">static uint32_t refcount(uint32_t bit_field_value)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00367">wasm-code-manager.h:367</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_aca32614b4d2aea7dd9abdeb222bf02f3"><div class="ttname"><a href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a></div><div class="ttdeci">#define CHECK_EQ(lhs, rhs)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-code-manager_8h_source.html#l01097">allocation_mutex_</a>, <a class="el" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>, <a class="el" href="flag-definitions_8h_source.html#l00546">code</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01051">code_allocator_</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00484">DCHECK_EQ</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01133">debug_info_</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l00917">v8::internal::wasm::WasmCodeAllocator::FreeCode()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01110">new_owned_code_</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01105">owned_code_</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00367">v8::internal::wasm::WasmCode::refcount()</a>, <a class="el" href="wasm-debug_8cc_source.html#l00878">v8::internal::wasm::DebugInfo::RemoveDebugSideTables()</a>, and <a class="el" href="wasm-code-manager_8cc_source.html#l02002">TransferNewOwnedCodeLocked()</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-engine_8cc_source.html#l01878">v8::internal::wasm::WasmEngine::FreeDeadCodeLocked()</a>.</p>
<div id="dynsection-38" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-38-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-38-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-38-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a169fd10581fcc34645b802baca380789_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-39" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-39-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-39-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-39-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a169fd10581fcc34645b802baca380789_icgraph.svg" width="100%" height="498"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a58ee010c88ea49154c8528518931dbc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58ee010c88ea49154c8528518931dbc2">&#9670;&nbsp;</a></span>FreeCodePointerTableHandles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::NativeModule::FreeCodePointerTableHandles </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l01292">1292</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;                                               {</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;  WasmCodePointerTable* code_pointer_table =</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1wasm.html#adbb89ce490c56aae60c8221f47b9f088">GetProcessWideWasmCodePointerTable</a>();</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;  <span class="keywordflow">for</span> (uint32_t <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5ea4f6a28a06ce63c372bf00abbf0c24">code_pointer_handles_size_</a>; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    code_pointer_table-&gt;FreeEntry(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5d842383c864e12e83bdfb982954eb0f">code_pointer_handles_</a>[<a class="code" href="namespacev8_1_1internal.html">i</a>]);</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;  }</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160; </div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5d842383c864e12e83bdfb982954eb0f">code_pointer_handles_</a>.reset();</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5ea4f6a28a06ce63c372bf00abbf0c24">code_pointer_handles_size_</a> = 0;</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a5d842383c864e12e83bdfb982954eb0f"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5d842383c864e12e83bdfb982954eb0f">v8::internal::wasm::NativeModule::code_pointer_handles_</a></div><div class="ttdeci">std::unique_ptr&lt; WasmCodePointer[]&gt; code_pointer_handles_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01121">wasm-code-manager.h:1121</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a5ea4f6a28a06ce63c372bf00abbf0c24"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5ea4f6a28a06ce63c372bf00abbf0c24">v8::internal::wasm::NativeModule::code_pointer_handles_size_</a></div><div class="ttdeci">size_t code_pointer_handles_size_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01124">wasm-code-manager.h:1124</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_adbb89ce490c56aae60c8221f47b9f088"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#adbb89ce490c56aae60c8221f47b9f088">v8::internal::wasm::GetProcessWideWasmCodePointerTable</a></div><div class="ttdeci">V8_EXPORT_PRIVATE WasmCodePointerTable * GetProcessWideWasmCodePointerTable()</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-code-manager_8h_source.html#l01121">code_pointer_handles_</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01124">code_pointer_handles_size_</a>, <a class="el" href="wasm-code-pointer-table-inl_8h_source.html#l00196">v8::internal::wasm::WasmCodePointerTable::FreeEntry()</a>, and <a class="el" href="namespacev8_1_1internal_1_1wasm.html#adbb89ce490c56aae60c8221f47b9f088">v8::internal::wasm::GetProcessWideWasmCodePointerTable()</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l01303">InitializeCodePointerTableHandles()</a>, and <a class="el" href="wasm-code-manager_8cc_source.html#l02154">~NativeModule()</a>.</p>
<div id="dynsection-40" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-40-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-40-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-40-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a58ee010c88ea49154c8528518931dbc2_cgraph.svg" width="100%" height="487"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-41" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-41-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-41-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-41-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a58ee010c88ea49154c8528518931dbc2_icgraph.svg" width="100%" height="400"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ace040e51368c2c7de01563b07dcb750a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace040e51368c2c7de01563b07dcb750a">&#9670;&nbsp;</a></span>generated_code_size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal.html#a4725962ca3c127eb5871cb47293aee95">size_t</a> v8::internal::wasm::NativeModule::generated_code_size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l00771">771</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;                                     {</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aef6c06fd70d54f981aaccf59b8c8ec2f">code_allocator_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#ac228b5f49cf9bad916c9226c6e48e5a2">generated_code_size</a>();</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;  }</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeAllocator_html_ac228b5f49cf9bad916c9226c6e48e5a2"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#ac228b5f49cf9bad916c9226c6e48e5a2">v8::internal::wasm::WasmCodeAllocator::generated_code_size</a></div><div class="ttdeci">size_t generated_code_size() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00551">wasm-code-manager.h:551</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a119487efc92641da665eb0252dcc9a18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a119487efc92641da665eb0252dcc9a18">&#9670;&nbsp;</a></span>GetBuiltinInJumptableSlot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal.html#acc2e164143496f18b5ec68f8ab70af52">Builtin</a> v8::internal::wasm::NativeModule::GetBuiltinInJumptableSlot </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a>&#160;</td>
          <td class="paramname"><em>target</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l02123">2123</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;                                                                    {</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> guard(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>);</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160; </div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; code_space_data : <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a09649a8d8356bcf64e4bc5f2d3eb1435">code_space_data_</a>) {</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;    <span class="keywordflow">if</span> (code_space_data.far_jump_table != <span class="keyword">nullptr</span> &amp;&amp;</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;        code_space_data.far_jump_table-&gt;contains(target)) {</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;      uint32_t offset = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;          target - code_space_data.far_jump_table-&gt;instruction_start());</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;      uint32_t <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a01dc0a56e4bad49ae441513379eabe4d">JumpTableAssembler::FarJumpSlotOffsetToIndex</a>(offset);</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> &gt;= <a class="code" href="classv8_1_1internal_1_1wasm_1_1BuiltinLookup.html#a934b529bc9c9104095b6c98ffaba9697">BuiltinLookup::BuiltinCount</a>()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a4e616135983a522caacfc5b4bf44bcd3">JumpTableAssembler::FarJumpSlotIndexToOffset</a>(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>) != offset) {</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;      }</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1BuiltinLookup.html#a67dcedf7516507a705bc79ffd2e0a089">BuiltinLookup::BuiltinForJumptableIndex</a>(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>);</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;    }</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;  }</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160; </div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;  <span class="comment">// Invalid address.</span></div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#acc2e164143496f18b5ec68f8ab70af52a04022b3cd6b405230761e1a685db3b88">Builtin::kNoBuiltinId</a>;</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1JumpTableAssembler_html_a01dc0a56e4bad49ae441513379eabe4d"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a01dc0a56e4bad49ae441513379eabe4d">v8::internal::wasm::JumpTableAssembler::FarJumpSlotOffsetToIndex</a></div><div class="ttdeci">static uint32_t FarJumpSlotOffsetToIndex(uint32_t offset)</div><div class="ttdef"><b>Definition:</b> <a href="jump-table-assembler_8h_source.html#l00092">jump-table-assembler.h:92</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1JumpTableAssembler_html_a4e616135983a522caacfc5b4bf44bcd3"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a4e616135983a522caacfc5b4bf44bcd3">v8::internal::wasm::JumpTableAssembler::FarJumpSlotIndexToOffset</a></div><div class="ttdeci">static uint32_t FarJumpSlotIndexToOffset(uint32_t slot_index)</div><div class="ttdef"><b>Definition:</b> <a href="jump-table-assembler_8h_source.html#l00087">jump-table-assembler.h:87</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_acc2e164143496f18b5ec68f8ab70af52a04022b3cd6b405230761e1a685db3b88"><div class="ttname"><a href="namespacev8_1_1internal.html#acc2e164143496f18b5ec68f8ab70af52a04022b3cd6b405230761e1a685db3b88">v8::internal::Builtin::kNoBuiltinId</a></div><div class="ttdeci">@ kNoBuiltinId</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-code-manager_8h_source.html#l01097">allocation_mutex_</a>, <a class="el" href="wasm-builtin-list_8h_source.html#l00203">v8::internal::wasm::BuiltinLookup::BuiltinCount()</a>, <a class="el" href="wasm-builtin-list_8h_source.html#l00197">v8::internal::wasm::BuiltinLookup::BuiltinForJumptableIndex()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01127">code_space_data_</a>, <a class="el" href="jump-table-assembler_8h_source.html#l00087">v8::internal::wasm::JumpTableAssembler::FarJumpSlotIndexToOffset()</a>, <a class="el" href="jump-table-assembler_8h_source.html#l00092">v8::internal::wasm::JumpTableAssembler::FarJumpSlotOffsetToIndex()</a>, <a class="el" href="heap-snapshot-generator_8cc_source.html#l01698">v8::internal::index</a>, and <a class="el" href="namespacev8_1_1internal.html#acc2e164143496f18b5ec68f8ab70af52a04022b3cd6b405230761e1a685db3b88">v8::internal::kNoBuiltinId</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-serialization_8cc_source.html#l00417">v8::internal::wasm::NativeModuleSerializer::WriteCode()</a>.</p>
<div id="dynsection-42" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-42-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-42-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-42-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a119487efc92641da665eb0252dcc9a18_cgraph.svg" width="460" height="294"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-43" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-43-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-43-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-43-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a119487efc92641da665eb0252dcc9a18_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a37a8384fb8317a24c3d58cf66ff64123"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37a8384fb8317a24c3d58cf66ff64123">&#9670;&nbsp;</a></span>GetCode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a> * v8::internal::wasm::NativeModule::GetCode </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l01691">1691</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;                                                    {</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> guard(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>);</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a0ec92359918c6ef6fe010cafb580eb86">WasmCode</a>* <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9772fe3f2a97d58b67bdb119ecccb1a4">code_table_</a>[<a class="code" href="namespacev8_1_1internal_1_1wasm.html#abd9cf6cdda997dfabf862a6048202195">declared_function_index</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a04f2f50aa9d1cbc1dc28e60dbe687f74">module</a>(), <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>)];</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>) <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html#a9148e3cdeac9e7f3d97d518fa66f722c">WasmCodeRefScope::AddRef</a>(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>);</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>;</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeRefScope_html_a9148e3cdeac9e7f3d97d518fa66f722c"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html#a9148e3cdeac9e7f3d97d518fa66f722c">v8::internal::wasm::WasmCodeRefScope::AddRef</a></div><div class="ttdeci">static void AddRef(WasmCode *)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l03045">wasm-code-manager.cc:3045</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_abd9cf6cdda997dfabf862a6048202195"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#abd9cf6cdda997dfabf862a6048202195">v8::internal::wasm::declared_function_index</a></div><div class="ttdeci">int declared_function_index(const WasmModule *module, int func_index)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l01076">wasm-module.h:1076</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-code-manager_8cc_source.html#l03045">v8::internal::wasm::WasmCodeRefScope::AddRef()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01097">allocation_mutex_</a>, <a class="el" href="flag-definitions_8h_source.html#l00546">code</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01116">code_table_</a>, <a class="el" href="wasm-module_8h_source.html#l01076">v8::internal::wasm::declared_function_index()</a>, <a class="el" href="heap-snapshot-generator_8cc_source.html#l01698">v8::internal::index</a>, and <a class="el" href="wasm-code-manager_8h_source.html#l00766">module()</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l03996">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::OnFinishedUnits()</a>, and <a class="el" href="runtime-test-wasm_8cc_source.html#l00880">v8::internal::RUNTIME_FUNCTION()</a>.</p>
<div id="dynsection-44" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-44-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-44-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-44-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a37a8384fb8317a24c3d58cf66ff64123_cgraph.svg" width="434" height="199"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-45" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-45-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-45-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-45-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a37a8384fb8317a24c3d58cf66ff64123_icgraph.svg" width="432" height="163"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a63657aff1b54d8355c88d671645a62fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63657aff1b54d8355c88d671645a62fd">&#9670;&nbsp;</a></span>GetCodePointerHandle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1WasmCodePointer.html">WasmCodePointer</a> v8::internal::wasm::NativeModule::GetCodePointerHandle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l02144">2144</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;                                                                  {</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> != <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a1bb1a5429ae3d1ec380de1b5da81238f">kAnonymousFuncIndex</a>, <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> &gt;= 0);</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a1bb1a5429ae3d1ec380de1b5da81238f">kAnonymousFuncIndex</a> ||</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;      <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>) &lt; <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_imported_functions) {</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;    <span class="comment">// TODO(sroettger): do ImportWrappers need a code pointer handle?</span></div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a7d41c6d12091165e18a14f58ae8b1b91">kInvalidWasmCodePointer</a>;</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;  }</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5d842383c864e12e83bdfb982954eb0f">code_pointer_handles_</a>[<a class="code" href="namespacev8_1_1internal_1_1wasm.html#abd9cf6cdda997dfabf862a6048202195">declared_function_index</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>.get(), <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>)];</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;}</div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a7d41c6d12091165e18a14f58ae8b1b91"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a7d41c6d12091165e18a14f58ae8b1b91">v8::internal::wasm::kInvalidWasmCodePointer</a></div><div class="ttdeci">constexpr WasmCodePointer kInvalidWasmCodePointer</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00088">wasm-code-manager.h:88</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-code-manager_8h_source.html#l01121">code_pointer_handles_</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00492">DCHECK_IMPLIES</a>, <a class="el" href="wasm-module_8h_source.html#l01076">v8::internal::wasm::declared_function_index()</a>, <a class="el" href="heap-snapshot-generator_8cc_source.html#l01698">v8::internal::index</a>, <a class="el" href="wasm-constants_8h_source.html#l00189">v8::internal::wasm::kAnonymousFuncIndex</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00088">v8::internal::wasm::kInvalidWasmCodePointer</a>, and <a class="el" href="wasm-code-manager_8h_source.html#l01063">module_</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l01081">AddCodeForTesting()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01320">AddCodeWithCodeSpace()</a>, <a class="el" href="wasm-serialization_8cc_source.html#l00967">v8::internal::wasm::NativeModuleDeserializer::CopyAndRelocate()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02114">CreateIndirectCallTargetToFunctionIndexMap()</a>, <a class="el" href="wasm-objects_8cc_source.html#l01882">v8::internal::WasmTrustedInstanceData::GetCallTarget()</a>, and <a class="el" href="wasm-code-manager_8cc_source.html#l00345">v8::internal::wasm::WasmCode::Validate()</a>.</p>
<div id="dynsection-46" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-46-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-46-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-46-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a63657aff1b54d8355c88d671645a62fd_cgraph.svg" width="479" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-47" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-47-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-47-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-47-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a63657aff1b54d8355c88d671645a62fd_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a773f6a9db3d5a181ca810d7a92e19da6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a773f6a9db3d5a181ca810d7a92e19da6">&#9670;&nbsp;</a></span>GetDebugInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1wasm_1_1DebugInfo.html">DebugInfo</a> * v8::internal::wasm::NativeModule::GetDebugInfo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l02851">2851</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;                                      {</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> guard(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>);</div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a3a4dfefd1e5ed6ad2349de15781aee24">debug_info_</a>) <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a3a4dfefd1e5ed6ad2349de15781aee24">debug_info_</a> = std::make_unique&lt;DebugInfo&gt;(<span class="keyword">this</span>);</div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a3a4dfefd1e5ed6ad2349de15781aee24">debug_info_</a>.get();</div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-code-manager_8h_source.html#l01097">allocation_mutex_</a>, and <a class="el" href="wasm-code-manager_8h_source.html#l01133">debug_info_</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-debug_8cc_source.html#l01042">v8::internal::WasmScript::ClearBreakPoint()</a>, <a class="el" href="wasm-module-debug_8cc_source.html#l00226">v8::internal::wasm::gdb_server::WasmModuleDebug::GetWasmLocal()</a>, <a class="el" href="wasm-module-debug_8cc_source.html#l00259">v8::internal::wasm::gdb_server::WasmModuleDebug::GetWasmStackValue()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l00431">v8::internal::wasm::WasmCode::Print()</a>, and <a class="el" href="wasm-debug_8cc_source.html#l00986">v8::internal::WasmScript::SetBreakPointForFunction()</a>.</p>
<div id="dynsection-48" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-48-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-48-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-48-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a773f6a9db3d5a181ca810d7a92e19da6_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="adda8e2ac30083dec687f18bca0ab5364"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adda8e2ac30083dec687f18bca0ab5364">&#9670;&nbsp;</a></span>GetFunctionIndexFromJumpTableSlot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t v8::internal::wasm::NativeModule::GetFunctionIndexFromJumpTableSlot </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a>&#160;</td>
          <td class="paramname"><em>slot_address</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l02097">2097</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;                                {</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;  WasmCodeRefScope code_refs;</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a0ec92359918c6ef6fe010cafb580eb86">WasmCode</a>* <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5cff149410fcd416933af17dab385ba0">Lookup</a>(slot_address);</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>);</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a236d413616e672cc2cda31bb7a4fc04da95ce5c1324b114f4905ca3eb8e68c730">WasmCode::kJumpTable</a>, <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;kind());</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;  uint32_t slot_offset =</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;      <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(slot_address - <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;instruction_start());</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;  uint32_t slot_idx = <a class="code" href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#ada6cc7624595bb4befe6288661dc75ba">JumpTableAssembler::SlotOffsetToIndex</a>(slot_offset);</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a>(slot_idx, <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_declared_functions);</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(slot_address,</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;            <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;instruction_start() +</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;                <a class="code" href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a75af4ab220bf462ded5d5cc62d9da9da">JumpTableAssembler::JumpSlotIndexToOffset</a>(slot_idx));</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_imported_functions + slot_idx;</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1JumpTableAssembler_html_ada6cc7624595bb4befe6288661dc75ba"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#ada6cc7624595bb4befe6288661dc75ba">v8::internal::wasm::JumpTableAssembler::SlotOffsetToIndex</a></div><div class="ttdeci">static uint32_t SlotOffsetToIndex(uint32_t slot_offset)</div><div class="ttdef"><b>Definition:</b> <a href="jump-table-assembler_8h_source.html#l00063">jump-table-assembler.h:63</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a5cff149410fcd416933af17dab385ba0"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5cff149410fcd416933af17dab385ba0">v8::internal::wasm::NativeModule::Lookup</a></div><div class="ttdeci">WasmCode * Lookup(Address) const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02026">wasm-code-manager.cc:2026</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="flag-definitions_8h_source.html#l00546">code</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00484">DCHECK_EQ</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00488">DCHECK_LT</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00491">DCHECK_NOT_NULL</a>, <a class="el" href="jump-table-assembler_8h_source.html#l00072">v8::internal::wasm::JumpTableAssembler::JumpSlotIndexToOffset()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00100">v8::internal::wasm::WasmCode::kJumpTable</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02026">Lookup()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01063">module_</a>, and <a class="el" href="jump-table-assembler_8h_source.html#l00063">v8::internal::wasm::JumpTableAssembler::SlotOffsetToIndex()</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-serialization_8cc_source.html#l00417">v8::internal::wasm::NativeModuleSerializer::WriteCode()</a>.</p>
<div id="dynsection-49" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-49-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-49-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-49-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_adda8e2ac30083dec687f18bca0ab5364_cgraph.svg" width="100%" height="536"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-50" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-50-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-50-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-50-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_adda8e2ac30083dec687f18bca0ab5364_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a8697f83af39e72a0327a6d299e1e23b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8697f83af39e72a0327a6d299e1e23b7">&#9670;&nbsp;</a></span>GetJumpTableEntryForBuiltin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a> v8::internal::wasm::NativeModule::GetJumpTableEntryForBuiltin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacev8_1_1internal.html#acc2e164143496f18b5ec68f8ab70af52">Builtin</a>&#160;</td>
          <td class="paramname"><em>builtin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1JumpTablesRef.html">JumpTablesRef</a> &amp;&#160;</td>
          <td class="paramname"><em>jump_tables</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l02088">2088</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;                                                             {</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(jump_tables.is_valid());</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1BuiltinLookup.html#a282118f97cf3fce4133b63c1c15906bc">BuiltinLookup::JumptableIndexForBuiltin</a>(builtin);</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160; </div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;  <span class="keyword">auto</span> offset = <a class="code" href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a4e616135983a522caacfc5b4bf44bcd3">JumpTableAssembler::FarJumpSlotIndexToOffset</a>(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>);</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;  <span class="keywordflow">return</span> jump_tables.far_jump_table_start + offset;</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1BuiltinLookup_html_a282118f97cf3fce4133b63c1c15906bc"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1BuiltinLookup.html#a282118f97cf3fce4133b63c1c15906bc">v8::internal::wasm::BuiltinLookup::JumptableIndexForBuiltin</a></div><div class="ttdeci">static constexpr int JumptableIndexForBuiltin(Builtin builtin)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-builtin-list_8h_source.html#l00191">wasm-builtin-list.h:191</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00669">v8::internal::wasm::NativeModule::JumpTablesRef::far_jump_table_start</a>, <a class="el" href="jump-table-assembler_8h_source.html#l00087">v8::internal::wasm::JumpTableAssembler::FarJumpSlotIndexToOffset()</a>, <a class="el" href="heap-snapshot-generator_8cc_source.html#l01698">v8::internal::index</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00671">v8::internal::wasm::NativeModule::JumpTablesRef::is_valid()</a>, and <a class="el" href="wasm-builtin-list_8h_source.html#l00191">v8::internal::wasm::BuiltinLookup::JumptableIndexForBuiltin()</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l01081">AddCodeForTesting()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01320">AddCodeWithCodeSpace()</a>, and <a class="el" href="wasm-serialization_8cc_source.html#l00967">v8::internal::wasm::NativeModuleDeserializer::CopyAndRelocate()</a>.</p>
<div id="dynsection-51" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-51-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-51-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-51-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a8697f83af39e72a0327a6d299e1e23b7_cgraph.svg" width="480" height="278"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-52" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-52-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-52-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-52-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a8697f83af39e72a0327a6d299e1e23b7_icgraph.svg" width="100%" height="470"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ae9941bdd4ef6ffa3b896d196231cf8c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9941bdd4ef6ffa3b896d196231cf8c5">&#9670;&nbsp;</a></span>GetNamesProvider()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NamesProvider.html">NamesProvider</a> * v8::internal::wasm::NativeModule::GetNamesProvider </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l02857">2857</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;                                              {</div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a53bed2d056d03e227cb3fd50df82a114">HasWireBytes</a>());</div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> guard(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>);</div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a0758c148983046085c96a76a610a9ff6">names_provider_</a>) {</div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a0758c148983046085c96a76a610a9ff6">names_provider_</a> =</div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;        std::make_unique&lt;NamesProvider&gt;(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>.get(), <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a957b590c391c9dc0949cdaff8c94cf05">wire_bytes</a>());</div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;  }</div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a0758c148983046085c96a76a610a9ff6">names_provider_</a>.get();</div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a53bed2d056d03e227cb3fd50df82a114"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a53bed2d056d03e227cb3fd50df82a114">v8::internal::wasm::NativeModule::HasWireBytes</a></div><div class="ttdeci">bool HasWireBytes() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00816">wasm-code-manager.h:816</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-code-manager_8h_source.html#l01097">allocation_mutex_</a>, <a class="el" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00816">HasWireBytes()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01063">module_</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01135">names_provider_</a>, and <a class="el" href="wasm-code-manager_8h_source.html#l00763">wire_bytes()</a>.</p>

<p class="reference">Referenced by <a class="el" href="debug-wasm-objects_8cc_source.html#l01093">v8::internal::GetWasmFunctionDebugName()</a>, and <a class="el" href="turbofan-graph-visualizer_8cc_source.html#l00090">v8::internal::compiler::JsonPrintFunctionSource()</a>.</p>
<div id="dynsection-53" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-53-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-53-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-53-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_ae9941bdd4ef6ffa3b896d196231cf8c5_cgraph.svg" width="532" height="170"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-54" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-54-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-54-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-54-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_ae9941bdd4ef6ffa3b896d196231cf8c5_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a1c0e38351c07fa1377db0a30e94ac8c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c0e38351c07fa1377db0a30e94ac8c0">&#9670;&nbsp;</a></span>GetNearCallTargetForFunction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a> v8::internal::wasm::NativeModule::GetNearCallTargetForFunction </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>func_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1JumpTablesRef.html">JumpTablesRef</a> &amp;&#160;</td>
          <td class="paramname"><em>jump_tables</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l02081">2081</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;                                                                 {</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(jump_tables.is_valid());</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;  uint32_t slot_offset = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a6a8744656191d24bad76f9c6562d9fdb">JumpTableOffset</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a04f2f50aa9d1cbc1dc28e60dbe687f74">module</a>(), func_index);</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;  <span class="keywordflow">return</span> jump_tables.jump_table_start + slot_offset;</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;}</div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a6a8744656191d24bad76f9c6562d9fdb"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a6a8744656191d24bad76f9c6562d9fdb">v8::internal::wasm::JumpTableOffset</a></div><div class="ttdeci">int JumpTableOffset(const WasmModule *module, int func_index)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8cc_source.html#l00843">wasm-module.cc:843</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00671">v8::internal::wasm::NativeModule::JumpTablesRef::is_valid()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00668">v8::internal::wasm::NativeModule::JumpTablesRef::jump_table_start</a>, <a class="el" href="wasm-module_8cc_source.html#l00843">v8::internal::wasm::JumpTableOffset()</a>, and <a class="el" href="wasm-code-manager_8h_source.html#l00766">module()</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l01320">AddCodeWithCodeSpace()</a>, and <a class="el" href="wasm-serialization_8cc_source.html#l00967">v8::internal::wasm::NativeModuleDeserializer::CopyAndRelocate()</a>.</p>
<div id="dynsection-55" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-55-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-55-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-55-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a1c0e38351c07fa1377db0a30e94ac8c0_cgraph.svg" width="100%" height="487"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-56" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-56-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-56-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-56-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a1c0e38351c07fa1377db0a30e94ac8c0_icgraph.svg" width="100%" height="448"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ac3706216da596aa8cf7337b8182d5e75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3706216da596aa8cf7337b8182d5e75">&#9670;&nbsp;</a></span>GetNumberOfCodeSpacesForTesting()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal.html#a4725962ca3c127eb5871cb47293aee95">size_t</a> v8::internal::wasm::NativeModule::GetNumberOfCodeSpacesForTesting </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l02841">2841</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;                                                           {</div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> guard{&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>};</div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aef6c06fd70d54f981aaccf59b8c8ec2f">code_allocator_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a5d094d325d0686a0da62db1dd40c2688">GetNumCodeSpaces</a>();</div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeAllocator_html_a5d094d325d0686a0da62db1dd40c2688"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a5d094d325d0686a0da62db1dd40c2688">v8::internal::wasm::WasmCodeAllocator::GetNumCodeSpaces</a></div><div class="ttdeci">size_t GetNumCodeSpaces() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00959">wasm-code-manager.cc:959</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-code-manager_8h_source.html#l01097">allocation_mutex_</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01051">code_allocator_</a>, and <a class="el" href="wasm-code-manager_8cc_source.html#l00959">v8::internal::wasm::WasmCodeAllocator::GetNumCodeSpaces()</a>.</p>
<div id="dynsection-57" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-57-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-57-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-57-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_ac3706216da596aa8cf7337b8182d5e75_cgraph.svg" width="440" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="adfb76e34f35dc0075dfa6458491ebc59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfb76e34f35dc0075dfa6458491ebc59">&#9670;&nbsp;</a></span>GetWasmSourceMap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmModuleSourceMap.html">WasmModuleSourceMap</a> * v8::internal::wasm::NativeModule::GetWasmSourceMap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l01714">1714</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;                                                          {</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a24ead28dfd80e92c25f7fc48bb0c310e">source_map_</a>.get();</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-code-manager_8h_source.html#l01065">source_map_</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l00286">v8::internal::wasm::WasmCode::LogCode()</a>.</p>
<div id="dynsection-58" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-58-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-58-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-58-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_adfb76e34f35dc0075dfa6458491ebc59_icgraph.svg" width="490" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a725ca7af480caaab0609c8d22bcc16f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a725ca7af480caaab0609c8d22bcc16f5">&#9670;&nbsp;</a></span>has_fast_api_signature()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a> v8::internal::wasm::NativeModule::has_fast_api_signature </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l00952">952</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;                                         {</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a88a5291abd2f5a20451c2ca823195423">fast_api_signatures_</a>[<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>] != <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;  }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="heap-snapshot-generator_8cc_source.html#l01698">v8::internal::index</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l00360">v8::internal::wasm::anonymous_namespace{module-instantiate.cc}::CheckForWellKnownImport()</a>.</p>
<div id="dynsection-59" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-59-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-59-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-59-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a725ca7af480caaab0609c8d22bcc16f5_icgraph.svg" width="100%" height="361"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a7a50cdbc0772ef702c1401259707e93e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a50cdbc0772ef702c1401259707e93e">&#9670;&nbsp;</a></span>HasCode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a> v8::internal::wasm::NativeModule::HasCode </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l01698">1698</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;                                               {</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> guard(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>);</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9772fe3f2a97d58b67bdb119ecccb1a4">code_table_</a>[<a class="code" href="namespacev8_1_1internal_1_1wasm.html#abd9cf6cdda997dfabf862a6048202195">declared_function_index</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a04f2f50aa9d1cbc1dc28e60dbe687f74">module</a>(), <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>)] != <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-code-manager_8h_source.html#l01097">allocation_mutex_</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01116">code_table_</a>, <a class="el" href="wasm-module_8h_source.html#l01076">v8::internal::wasm::declared_function_index()</a>, <a class="el" href="heap-snapshot-generator_8cc_source.html#l01698">v8::internal::index</a>, and <a class="el" href="wasm-code-manager_8h_source.html#l00766">module()</a>.</p>

<p class="reference">Referenced by <a class="el" href="runtime-test-wasm_8cc_source.html#l00938">v8::internal::RUNTIME_FUNCTION()</a>.</p>
<div id="dynsection-60" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-60-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-60-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-60-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a7a50cdbc0772ef702c1401259707e93e_cgraph.svg" width="435" height="118"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-61" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-61-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-61-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-61-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a7a50cdbc0772ef702c1401259707e93e_icgraph.svg" width="411" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a74d82ac97a7bb02ac5781d209ffe2bc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74d82ac97a7bb02ac5781d209ffe2bc5">&#9670;&nbsp;</a></span>HasCodeWithTier()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a> v8::internal::wasm::NativeModule::HasCodeWithTier </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9">ExecutionTier</a>&#160;</td>
          <td class="paramname"><em>tier</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l01703">1703</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;                                                                           {</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> guard(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>);</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9772fe3f2a97d58b67bdb119ecccb1a4">code_table_</a>[<a class="code" href="namespacev8_1_1internal_1_1wasm.html#abd9cf6cdda997dfabf862a6048202195">declared_function_index</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a04f2f50aa9d1cbc1dc28e60dbe687f74">module</a>(), <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>)] != <span class="keyword">nullptr</span> &amp;&amp;</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;         <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9772fe3f2a97d58b67bdb119ecccb1a4">code_table_</a>[<a class="code" href="namespacev8_1_1internal_1_1wasm.html#abd9cf6cdda997dfabf862a6048202195">declared_function_index</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a04f2f50aa9d1cbc1dc28e60dbe687f74">module</a>(), <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>)]-&gt;tier() == <a class="code" href="flag-definitions_8h.html#a878783ad616ead06040f7d4b080f6a02">tier</a>;</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-code-manager_8h_source.html#l01097">allocation_mutex_</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01116">code_table_</a>, <a class="el" href="wasm-module_8h_source.html#l01076">v8::internal::wasm::declared_function_index()</a>, <a class="el" href="heap-snapshot-generator_8cc_source.html#l01698">v8::internal::index</a>, and <a class="el" href="wasm-code-manager_8h_source.html#l00766">module()</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l01708">v8::internal::wasm::TierUpAllForTesting()</a>.</p>
<div id="dynsection-62" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-62-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-62-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-62-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a74d82ac97a7bb02ac5781d209ffe2bc5_cgraph.svg" width="491" height="118"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-63" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-63-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-63-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-63-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a74d82ac97a7bb02ac5781d209ffe2bc5_icgraph.svg" width="458" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a32aeb7786fe56d49f56d6da667f940ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32aeb7786fe56d49f56d6da667f940ca">&#9670;&nbsp;</a></span>HasDebugInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a> v8::internal::wasm::NativeModule::HasDebugInfo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l02846">2846</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;                                      {</div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> guard(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>);</div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a3a4dfefd1e5ed6ad2349de15781aee24">debug_info_</a> != <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-code-manager_8h_source.html#l01097">allocation_mutex_</a>, and <a class="el" href="wasm-code-manager_8h_source.html#l01133">debug_info_</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l00431">v8::internal::wasm::WasmCode::Print()</a>.</p>
<div id="dynsection-64" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-64-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-64-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-64-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a32aeb7786fe56d49f56d6da667f940ca_icgraph.svg" width="100%" height="470"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a53bed2d056d03e227cb3fd50df82a114"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53bed2d056d03e227cb3fd50df82a114">&#9670;&nbsp;</a></span>HasWireBytes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a> v8::internal::wasm::NativeModule::HasWireBytes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l00816">816</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;                            {</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    <span class="keyword">auto</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a957b590c391c9dc0949cdaff8c94cf05">wire_bytes</a> = std::atomic_load(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a18104681db5670057e0e3d3490b04426">wire_bytes_</a>);</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a957b590c391c9dc0949cdaff8c94cf05">wire_bytes</a> &amp;&amp; !<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a957b590c391c9dc0949cdaff8c94cf05">wire_bytes</a>-&gt;<a class="code" href="classv8_1_1base_1_1Vector.html#a8073322d2a3a5ad755e74dbda482b18c">empty</a>();</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;  }</div>
<div class="ttc" id="aclassv8_1_1base_1_1Vector_html_a8073322d2a3a5ad755e74dbda482b18c"><div class="ttname"><a href="classv8_1_1base_1_1Vector.html#a8073322d2a3a5ad755e74dbda482b18c">v8::base::Vector::empty</a></div><div class="ttdeci">constexpr bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="vector_8h_source.html#l00073">vector.h:73</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l02857">GetNamesProvider()</a>, and <a class="el" href="wasm-compiler_8cc_source.html#l00145">v8::internal::compiler::WasmGraphBuilder::TryWasmInlining()</a>.</p>
<div id="dynsection-65" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-65-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-65-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-65-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a53bed2d056d03e227cb3fd50df82a114_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ac7e788f315225a2a75db5ecdba7f1da8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7e788f315225a2a75db5ecdba7f1da8">&#9670;&nbsp;</a></span>InitializeCodePointerTableHandles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::NativeModule::InitializeCodePointerTableHandles </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>num_wasm_functions</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l01303">1303</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;                                 {</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5ea4f6a28a06ce63c372bf00abbf0c24">code_pointer_handles_size_</a> != 0) {</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    <span class="comment">// During testing, we might already have code pointer handles allocated.</span></div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a58ee010c88ea49154c8528518931dbc2">FreeCodePointerTableHandles</a>();</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;  }</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5d842383c864e12e83bdfb982954eb0f">code_pointer_handles_</a> =</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;      std::make_unique&lt;WasmCodePointer[]&gt;(num_wasm_functions);</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5ea4f6a28a06ce63c372bf00abbf0c24">code_pointer_handles_size_</a> = num_wasm_functions;</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160; </div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;  WasmCodePointerTable* code_pointer_table =</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1wasm.html#adbb89ce490c56aae60c8221f47b9f088">GetProcessWideWasmCodePointerTable</a>();</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;  <span class="keywordflow">for</span> (uint32_t <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; num_wasm_functions; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5d842383c864e12e83bdfb982954eb0f">code_pointer_handles_</a>[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = code_pointer_table-&gt;AllocateUninitializedEntry();</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;  }</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-code-pointer-table-inl_8h_source.html#l00115">v8::internal::wasm::WasmCodePointerTable::AllocateUninitializedEntry()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01121">code_pointer_handles_</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01124">code_pointer_handles_size_</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01292">FreeCodePointerTableHandles()</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#adbb89ce490c56aae60c8221f47b9f088">v8::internal::wasm::GetProcessWideWasmCodePointerTable()</a>, and <a class="el" href="json-stringifier_8cc_source.html#l00548">v8::internal::anonymous_namespace{json-stringifier.cc}::i</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l00997">NativeModule()</a>.</p>
<div id="dynsection-66" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-66-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-66-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-66-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_ac7e788f315225a2a75db5ecdba7f1da8_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-67" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-67-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-67-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-67-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_ac7e788f315225a2a75db5ecdba7f1da8_icgraph.svg" width="467" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a7eebb8a25711eac01dfad476ab555f66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7eebb8a25711eac01dfad476ab555f66">&#9670;&nbsp;</a></span>InitializeJumpTableForLazyCompilation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::NativeModule::InitializeJumpTableForLazyCompilation </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>num_wasm_functions</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l01192">1192</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;                                 {</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;  <span class="keywordflow">if</span> (!num_wasm_functions) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>.<a class="code" href="classv8_1_1base_1_1RecursiveMutex.html#a63e202453c65074f4a84b8f0b2435a21">AssertHeld</a>();</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160; </div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a2209830df6b59d1ec1fdf66b9352924f">DCHECK_NULL</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#afad6cb5c96183d22f6dea2a28a3c93e3">lazy_compile_table_</a>);</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#afad6cb5c96183d22f6dea2a28a3c93e3">lazy_compile_table_</a> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9d54c7dc9c3d2729c81664ed3fa5172d">CreateEmptyJumpTableLocked</a>(</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a52670982950dc90851cb4a1de6e97781">JumpTableAssembler::SizeForNumberOfLazyFunctions</a>(num_wasm_functions),</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8125eaffd4b01d09e3e172cab5f94d12a0aeb6cda2e68c213e2a6670941658d8b">JumpTableType::kLazyCompileTable</a>);</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160; </div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(1, <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a09649a8d8356bcf64e4bc5f2d3eb1435">code_space_data_</a>.size());</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;  <span class="keyword">const</span> CodeSpaceData&amp; code_space_data = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a09649a8d8356bcf64e4bc5f2d3eb1435">code_space_data_</a>[0];</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(code_space_data.jump_table);</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(code_space_data.far_jump_table);</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160; </div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a> compile_lazy_address =</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;      code_space_data.far_jump_table-&gt;instruction_start() +</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a4e616135983a522caacfc5b4bf44bcd3">JumpTableAssembler::FarJumpSlotIndexToOffset</a>(</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;          <a class="code" href="classv8_1_1internal_1_1wasm_1_1BuiltinLookup.html#a282118f97cf3fce4133b63c1c15906bc">BuiltinLookup::JumptableIndexForBuiltin</a>(Builtin::kWasmCompileLazy));</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160; </div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#ae71b16baa415877eb767aeb926b938e5">JumpTableAssembler::GenerateLazyCompileTable</a>(</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#afad6cb5c96183d22f6dea2a28a3c93e3">lazy_compile_table_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0d55fcf378e16413e74e88d7d102ee15">instruction_start</a>(), num_wasm_functions,</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_imported_functions, compile_lazy_address);</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160; </div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a8d1850fd6a11a830c0b62ccfe4906baf">JumpTableAssembler::InitializeJumpsToLazyCompileTable</a>(</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;      code_space_data.jump_table-&gt;instruction_start(), num_wasm_functions,</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#afad6cb5c96183d22f6dea2a28a3c93e3">lazy_compile_table_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0d55fcf378e16413e74e88d7d102ee15">instruction_start</a>());</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160; </div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;  WasmCodePointerTable* code_pointer_table =</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1wasm.html#adbb89ce490c56aae60c8221f47b9f088">GetProcessWideWasmCodePointerTable</a>();</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodePointerTable.html#a625ec80a10ecca6ee36d27936350042a">WasmCodePointerTable::WriteScope</a> write_scope(</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;      <span class="stringliteral">&quot;Initialize WasmCodePointerTable&quot;</span>);</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(num_wasm_functions, <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5ea4f6a28a06ce63c372bf00abbf0c24">code_pointer_handles_size_</a>);</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;  TypeCanonicalizer* type_canonicalizer = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a6feb413448e84daf9201bd8a2381a718">GetTypeCanonicalizer</a>();</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;  <span class="keywordflow">for</span> (uint32_t <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; num_wasm_functions; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    uint64_t signature_hash = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;signature_hash(</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;        type_canonicalizer, <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_imported_functions + <a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    code_pointer_table-&gt;SetEntrypointWithWriteScope(</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5d842383c864e12e83bdfb982954eb0f">code_pointer_handles_</a>[<a class="code" href="namespacev8_1_1internal.html">i</a>],</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;        code_space_data.jump_table-&gt;instruction_start() +</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;            <a class="code" href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a75af4ab220bf462ded5d5cc62d9da9da">JumpTableAssembler::JumpSlotIndexToOffset</a>(<a class="code" href="namespacev8_1_1internal.html">i</a>),</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;        signature_hash, write_scope);</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;  }</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1JumpTableAssembler_html_a52670982950dc90851cb4a1de6e97781"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a52670982950dc90851cb4a1de6e97781">v8::internal::wasm::JumpTableAssembler::SizeForNumberOfLazyFunctions</a></div><div class="ttdeci">static constexpr uint32_t SizeForNumberOfLazyFunctions(uint32_t slot_count)</div><div class="ttdef"><b>Definition:</b> <a href="jump-table-assembler_8h_source.html#l00111">jump-table-assembler.h:111</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1JumpTableAssembler_html_a8d1850fd6a11a830c0b62ccfe4906baf"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a8d1850fd6a11a830c0b62ccfe4906baf">v8::internal::wasm::JumpTableAssembler::InitializeJumpsToLazyCompileTable</a></div><div class="ttdeci">static void InitializeJumpsToLazyCompileTable(Address base, uint32_t num_slots, Address lazy_compile_table_start)</div><div class="ttdef"><b>Definition:</b> <a href="jump-table-assembler_8cc_source.html#l00033">jump-table-assembler.cc:33</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1JumpTableAssembler_html_ae71b16baa415877eb767aeb926b938e5"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#ae71b16baa415877eb767aeb926b938e5">v8::internal::wasm::JumpTableAssembler::GenerateLazyCompileTable</a></div><div class="ttdeci">static void GenerateLazyCompileTable(Address base, uint32_t num_slots, uint32_t num_imported_functions, Address wasm_compile_lazy_target)</div><div class="ttdef"><b>Definition:</b> <a href="jump-table-assembler_8cc_source.html#l00015">jump-table-assembler.cc:15</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a8125eaffd4b01d09e3e172cab5f94d12a0aeb6cda2e68c213e2a6670941658d8b"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8125eaffd4b01d09e3e172cab5f94d12a0aeb6cda2e68c213e2a6670941658d8b">v8::internal::wasm::NativeModule::JumpTableType::kLazyCompileTable</a></div><div class="ttdeci">@ kLazyCompileTable</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a9d54c7dc9c3d2729c81664ed3fa5172d"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9d54c7dc9c3d2729c81664ed3fa5172d">v8::internal::wasm::NativeModule::CreateEmptyJumpTableLocked</a></div><div class="ttdeci">WasmCode * CreateEmptyJumpTableLocked(int jump_table_size, JumpTableType type)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01718">wasm-code-manager.cc:1718</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodePointerTable_html_a625ec80a10ecca6ee36d27936350042a"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodePointerTable.html#a625ec80a10ecca6ee36d27936350042a">v8::internal::wasm::WasmCodePointerTable::WriteScope</a></div><div class="ttdeci">CFIMetadataWriteScope WriteScope</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-pointer-table_8h_source.html#l00089">wasm-code-pointer-table.h:89</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a16b382527f19b805fc8f856668f2270b"><div class="ttname"><a href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a></div><div class="ttdeci">#define DCHECK_LE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00489">logging.h:489</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-code-manager_8h_source.html#l01097">allocation_mutex_</a>, <a class="el" href="mutex_8h_source.html#l00153">v8::base::RecursiveMutex::AssertHeld()</a>, <a class="el" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01121">code_pointer_handles_</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01124">code_pointer_handles_size_</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01127">code_space_data_</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01718">CreateEmptyJumpTableLocked()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00489">DCHECK_LE</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00491">DCHECK_NOT_NULL</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00490">DCHECK_NULL</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00975">v8::internal::wasm::NativeModule::CodeSpaceData::far_jump_table</a>, <a class="el" href="jump-table-assembler_8h_source.html#l00087">v8::internal::wasm::JumpTableAssembler::FarJumpSlotIndexToOffset()</a>, <a class="el" href="jump-table-assembler_8cc_source.html#l00015">v8::internal::wasm::JumpTableAssembler::GenerateLazyCompileTable()</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#adbb89ce490c56aae60c8221f47b9f088">v8::internal::wasm::GetProcessWideWasmCodePointerTable()</a>, <a class="el" href="canonical-types_8cc_source.html#l00020">v8::internal::wasm::GetTypeCanonicalizer()</a>, <a class="el" href="jump-table-assembler_8cc_source.html#l00033">v8::internal::wasm::JumpTableAssembler::InitializeJumpsToLazyCompileTable()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00175">v8::internal::wasm::WasmCode::instruction_start()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00974">v8::internal::wasm::NativeModule::CodeSpaceData::jump_table</a>, <a class="el" href="jump-table-assembler_8h_source.html#l00072">v8::internal::wasm::JumpTableAssembler::JumpSlotIndexToOffset()</a>, <a class="el" href="wasm-builtin-list_8h_source.html#l00191">v8::internal::wasm::BuiltinLookup::JumptableIndexForBuiltin()</a>, <a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8125eaffd4b01d09e3e172cab5f94d12a0aeb6cda2e68c213e2a6670941658d8b">kLazyCompileTable</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01081">lazy_compile_table_</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01063">module_</a>, <a class="el" href="wasm-code-pointer-table-inl_8h_source.html#l00089">v8::internal::wasm::WasmCodePointerTable::SetEntrypointWithWriteScope()</a>, and <a class="el" href="jump-table-assembler_8h_source.html#l00111">v8::internal::wasm::JumpTableAssembler::SizeForNumberOfLazyFunctions()</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l01844">AddCodeSpaceLocked()</a>.</p>
<div id="dynsection-68" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-68-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-68-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-68-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a7eebb8a25711eac01dfad476ab555f66_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-69" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-69-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-69-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-69-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a7eebb8a25711eac01dfad476ab555f66_icgraph.svg" width="100%" height="548"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a95dc87711f2fbd647080305bf39e447f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95dc87711f2fbd647080305bf39e447f">&#9670;&nbsp;</a></span>IsInDebugState()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#a25f59e94501ad0ce6680be236623cc3c">DebugState</a> v8::internal::wasm::NativeModule::IsInDebugState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l00848">848</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;                                    {</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> lock(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>);</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a96de8f1452ef286df5abc0ac17f07517">debug_state_</a>;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;  }</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a96de8f1452ef286df5abc0ac17f07517"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a96de8f1452ef286df5abc0ac17f07517">v8::internal::wasm::NativeModule::debug_state_</a></div><div class="ttdeci">DebugState debug_state_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01137">wasm-code-manager.h:1137</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l01183">v8::internal::wasm::CompileLazy()</a>, <a class="el" href="module-compiler_8cc_source.html#l03757">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::InitializeCompilationProgress()</a>, and <a class="el" href="module-compiler_8cc_source.html#l03869">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::InitializeCompilationProgressAfterDeserialization()</a>.</p>
<div id="dynsection-70" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-70-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-70-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-70-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a95dc87711f2fbd647080305bf39e447f_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="aad381026fba28fc729be46402fef86e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad381026fba28fc729be46402fef86e7">&#9670;&nbsp;</a></span>jump_table_start()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a> v8::internal::wasm::NativeModule::jump_table_start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l00722">722</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;                                   {</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a13f6208a4e2ce867f817a5e73e481484">main_jump_table_</a> ? <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a13f6208a4e2ce867f817a5e73e481484">main_jump_table_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0d55fcf378e16413e74e88d7d102ee15">instruction_start</a>()</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                            : <a class="code" href="namespacev8_1_1internal.html#acf6bafb5b8483a580f375393c413ee02">kNullAddress</a>;</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="v8-internal_8h_source.html#l00053">v8::internal::kNullAddress</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-objects_8cc_source.html#l01686">v8::internal::WasmTrustedInstanceData::New()</a>.</p>
<div id="dynsection-71" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-71-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-71-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-71-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_aad381026fba28fc729be46402fef86e7_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a9a49a036ab412a6c462feba4042ef5e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a49a036ab412a6c462feba4042ef5e8">&#9670;&nbsp;</a></span>lazy_compile_frozen()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a> v8::internal::wasm::NativeModule::lazy_compile_frozen </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l00762">762</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a6e15b436b2dc2f0d747b850ee83754c3">lazy_compile_frozen_</a>; }</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a6e15b436b2dc2f0d747b850ee83754c3"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a6e15b436b2dc2f0d747b850ee83754c3">v8::internal::wasm::NativeModule::lazy_compile_frozen_</a></div><div class="ttdeci">bool lazy_compile_frozen_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01142">wasm-code-manager.h:1142</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l01183">v8::internal::wasm::CompileLazy()</a>.</p>
<div id="dynsection-72" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-72-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-72-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-72-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a9a49a036ab412a6c462feba4042ef5e8_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a154048275d5b05da53d4c0abf699988c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a154048275d5b05da53d4c0abf699988c">&#9670;&nbsp;</a></span>liftoff_bailout_count()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal.html#a4725962ca3c127eb5871cb47293aee95">size_t</a> v8::internal::wasm::NativeModule::liftoff_bailout_count </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l00774">774</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;                                       {</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a4aa98ad223f8a481e7b6e8fd41f1464a">liftoff_bailout_count_</a>.load(std::memory_order_relaxed);</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a211a5d22a3f6f080533b86d76a0cfaef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a211a5d22a3f6f080533b86d76a0cfaef">&#9670;&nbsp;</a></span>liftoff_code_size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal.html#a4725962ca3c127eb5871cb47293aee95">size_t</a> v8::internal::wasm::NativeModule::liftoff_code_size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l00777">777</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;                                   {</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5f57f21ee0ee562fb651068bbcda8c05">liftoff_code_size_</a>.load(std::memory_order_relaxed);</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;  }</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a5f57f21ee0ee562fb651068bbcda8c05"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5f57f21ee0ee562fb651068bbcda8c05">v8::internal::wasm::NativeModule::liftoff_code_size_</a></div><div class="ttdeci">std::atomic&lt; size_t &gt; liftoff_code_size_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01144">wasm-code-manager.h:1144</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7394f35597a2e806ed37a5131279919d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7394f35597a2e806ed37a5131279919d">&#9670;&nbsp;</a></span>log_code()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a> v8::internal::wasm::NativeModule::log_code </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l00897">897</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a372c72a19d442c1add803d8444820d9b">log_code_</a>.load(std::memory_order_relaxed); }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l01183">v8::internal::wasm::CompileLazy()</a>, <a class="el" href="wasm-engine_8cc_source.html#l01501">v8::internal::wasm::WasmEngine::DisableCodeLogging()</a>, <a class="el" href="wasm-engine_8cc_source.html#l01472">v8::internal::wasm::WasmEngine::EnableCodeLogging()</a>, <a class="el" href="wasm-engine_8cc_source.html#l01691">v8::internal::wasm::WasmEngine::FreeNativeModule()</a>, <a class="el" href="wasm-engine_8cc_source.html#l01063">v8::internal::wasm::WasmEngine::ImportNativeModule()</a>, and <a class="el" href="wasm-engine_8cc_source.html#l01367">v8::internal::wasm::WasmEngine::LogCode()</a>.</p>
<div id="dynsection-73" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-73-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-73-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-73-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a7394f35597a2e806ed37a5131279919d_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a5dcbc5c21a8a83b7787033a13b7c48ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5dcbc5c21a8a83b7787033a13b7c48ad">&#9670;&nbsp;</a></span>LogWasmCodes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::NativeModule::LogWasmCodes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1Isolate.html">Isolate</a> *&#160;</td>
          <td class="paramname"><em>isolate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1Tagged.html">Tagged</a>&lt; <a class="el" href="classv8_1_1internal_1_1Script.html">Script</a> &gt;&#160;</td>
          <td class="paramname"><em>script</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l01060">1060</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;                                                                       {</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#af2248a427f8ff8f81e68a2a87758e145">DisallowGarbageCollection</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>;</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#acb261693fa04ffc206a9289658201454">WasmCode::ShouldBeLogged</a>(isolate)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160; </div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;  <a class="code" href="trace-event-no-perfetto_8h.html#ac437f27e15925a9bd53c69692a6c85fe">TRACE_EVENT1</a>(<span class="stringliteral">&quot;v8.wasm&quot;</span>, <span class="stringliteral">&quot;wasm.LogWasmCodes&quot;</span>, <span class="stringliteral">&quot;functions&quot;</span>,</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;               <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_declared_functions);</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160; </div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a5297fd2c72981b2220e6b9a831570fb3">Tagged&lt;Object&gt;</a> url_obj = <a class="code" href="namespacev8_1_1internal.html#afb7e5cd394b9632dddc2e7807b11b2ab">script</a>-&gt;name();</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(IsString(url_obj) || IsUndefined(url_obj));</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;  std::unique_ptr&lt;char[]&gt; source_url =</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;      IsString(url_obj) ? Cast&lt;String&gt;(url_obj)-&gt;ToCString()</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;                        : std::unique_ptr&lt;char[]&gt;(<span class="keyword">new</span> <span class="keywordtype">char</span>[1]{<span class="charliteral">&#39;\0&#39;</span>});</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160; </div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;  <span class="comment">// Log all owned code, not just the current entries in the code table. This</span></div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;  <span class="comment">// will also include import wrappers.</span></div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;  WasmCodeRefScope code_ref_scope;</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> : <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a26241881bc9c29ebcbfe2109c4a64cf7">SnapshotAllOwnedCode</a>()) {</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;LogCode(isolate, source_url.get(), <a class="code" href="namespacev8_1_1internal.html#afb7e5cd394b9632dddc2e7807b11b2ab">script</a>-&gt;id());</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;  }</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a26241881bc9c29ebcbfe2109c4a64cf7"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a26241881bc9c29ebcbfe2109c4a64cf7">v8::internal::wasm::NativeModule::SnapshotAllOwnedCode</a></div><div class="ttdeci">std::vector&lt; WasmCode * &gt; SnapshotAllOwnedCode() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01680">wasm-code-manager.cc:1680</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_acb261693fa04ffc206a9289658201454"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#acb261693fa04ffc206a9289658201454">v8::internal::wasm::WasmCode::ShouldBeLogged</a></div><div class="ttdeci">static bool ShouldBeLogged(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00245">wasm-code-manager.cc:245</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_html_a63d8eefb47468aa3f816fbe26a59466a"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">v8::internal::anonymous_namespace{json-stringifier.cc}::no_gc</a></div><div class="ttdeci">size_t const DisallowGarbageCollection &amp; no_gc</div><div class="ttdef"><b>Definition:</b> <a href="json-stringifier_8cc_source.html#l00544">json-stringifier.cc:544</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5297fd2c72981b2220e6b9a831570fb3"><div class="ttname"><a href="namespacev8_1_1internal.html#a5297fd2c72981b2220e6b9a831570fb3">v8::internal::Tagged&lt; Object &gt;</a></div><div class="ttdeci">Tagged&lt; Object &gt;</div><div class="ttdef"><b>Definition:</b> <a href="js-objects-inl_8h_source.html#l00162">js-objects-inl.h:162</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_af2248a427f8ff8f81e68a2a87758e145"><div class="ttname"><a href="namespacev8_1_1internal.html#af2248a427f8ff8f81e68a2a87758e145">v8::internal::DisallowGarbageCollection</a></div><div class="ttdeci">PerThreadAssertScopeDebugOnly&lt; false, SAFEPOINTS_ASSERT, HEAP_ALLOCATION_ASSERT &gt; DisallowGarbageCollection</div><div class="ttdef"><b>Definition:</b> <a href="assert-scope_8h_source.html#l00239">assert-scope.h:241</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_afb7e5cd394b9632dddc2e7807b11b2ab"><div class="ttname"><a href="namespacev8_1_1internal.html#afb7e5cd394b9632dddc2e7807b11b2ab">v8::internal::script</a></div><div class="ttdeci">kInterpreterTrampolineOffset script</div><div class="ttdef"><b>Definition:</b> <a href="shared-function-info-inl_8h_source.html#l00117">shared-function-info-inl.h:117</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="flag-definitions_8h_source.html#l00546">code</a>, <a class="el" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01063">module_</a>, <a class="el" href="json-stringifier_8cc_source.html#l00544">v8::internal::anonymous_namespace{json-stringifier.cc}::no_gc</a>, <a class="el" href="shared-function-info-inl_8h_source.html#l00117">v8::internal::script</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l00245">v8::internal::wasm::WasmCode::ShouldBeLogged()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01680">SnapshotAllOwnedCode()</a>, and <a class="el" href="trace-event-no-perfetto_8h_source.html#l00037">TRACE_EVENT1</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-engine_8cc_source.html#l01063">v8::internal::wasm::WasmEngine::ImportNativeModule()</a>.</p>
<div id="dynsection-74" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-74-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-74-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-74-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a5dcbc5c21a8a83b7787033a13b7c48ad_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-75" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-75-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-75-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-75-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a5dcbc5c21a8a83b7787033a13b7c48ad_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a5cff149410fcd416933af17dab385ba0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cff149410fcd416933af17dab385ba0">&#9670;&nbsp;</a></span>Lookup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a> * v8::internal::wasm::NativeModule::Lookup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a>&#160;</td>
          <td class="paramname"><em>pc</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l02026">2026</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;                                               {</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> lock(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>);</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae0bf556913299e7eba006b97843cb6ec">new_owned_code_</a>.empty()) <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a28058f3ce35ecfd593d341c0219b21c7">TransferNewOwnedCodeLocked</a>();</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;  <span class="keyword">auto</span> iter = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a254b2e8e7c781aa66779e302651293ed">owned_code_</a>.upper_bound(pc);</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;  <span class="keywordflow">if</span> (iter == <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a254b2e8e7c781aa66779e302651293ed">owned_code_</a>.begin()) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;  --iter;</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a0ec92359918c6ef6fe010cafb580eb86">WasmCode</a>* candidate = iter-&gt;second.get();</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(candidate-&gt;instruction_start(), iter-&gt;first);</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;  <span class="keywordflow">if</span> (!candidate-&gt;contains(pc)) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html#a9148e3cdeac9e7f3d97d518fa66f722c">WasmCodeRefScope::AddRef</a>(candidate);</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;  <span class="keywordflow">return</span> candidate;</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-code-manager_8cc_source.html#l03045">v8::internal::wasm::WasmCodeRefScope::AddRef()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01097">allocation_mutex_</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00233">v8::internal::wasm::WasmCode::contains()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00484">DCHECK_EQ</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00175">v8::internal::wasm::WasmCode::instruction_start()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01110">new_owned_code_</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01105">owned_code_</a>, and <a class="el" href="wasm-code-manager_8cc_source.html#l02002">TransferNewOwnedCodeLocked()</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l02097">GetFunctionIndexFromJumpTableSlot()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02976">v8::internal::wasm::WasmCodeManager::LookupCode()</a>, and <a class="el" href="wasm-code-manager_8cc_source.html#l00345">v8::internal::wasm::WasmCode::Validate()</a>.</p>
<div id="dynsection-76" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-76-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-76-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-76-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a5cff149410fcd416933af17dab385ba0_cgraph.svg" width="100%" height="558"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-77" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-77-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-77-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-77-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a5cff149410fcd416933af17dab385ba0_icgraph.svg" width="100%" height="449"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="adc5c7232f5fcd10779d5514b6f221490"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc5c7232f5fcd10779d5514b6f221490">&#9670;&nbsp;</a></span>max_lazy_compilation_time_in_ms()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int64_t v8::internal::wasm::NativeModule::max_lazy_compilation_time_in_ms </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l00796">796</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;                                                  {</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8cd65fcbaf8d39fb8aca0c7814506f45">max_lazy_compilation_time_in_micro_sec_</a>.load(</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;               std::memory_order_relaxed) /</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;           1000;</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a04f2f50aa9d1cbc1dc28e60dbe687f74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04f2f50aa9d1cbc1dc28e60dbe687f74">&#9670;&nbsp;</a></span>module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html">WasmModule</a>* v8::internal::wasm::NativeModule::module </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l00766">766</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>.get(); }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l01844">AddCodeSpaceLocked()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l00834">v8::internal::wasm::WasmCodeAllocator::AllocateForCodeInRegion()</a>, <a class="el" href="module-compiler_8cc_source.html#l03702">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::ApplyPgoInfoLate()</a>, <a class="el" href="module-compiler_8cc_source.html#l03662">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::ApplyPgoInfoToInitialProgress()</a>, <a class="el" href="wasm-serialization_8cc_source.html#l00573">v8::internal::wasm::NativeModuleSerializer::CanonicalSigIdToModuleLocalTypeId()</a>, <a class="el" href="module-instantiate_8cc_source.html#l00360">v8::internal::wasm::anonymous_namespace{module-instantiate.cc}::CheckForWellKnownImport()</a>, <a class="el" href="wasm-debug_8cc_source.html#l01042">v8::internal::WasmScript::ClearBreakPoint()</a>, <a class="el" href="module-compiler_8cc_source.html#l03954">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::CommitCompilationUnits()</a>, <a class="el" href="wasm-engine_8cc_source.html#l00871">v8::internal::wasm::WasmEngine::CompileFunction()</a>, <a class="el" href="module-compiler_8cc_source.html#l01183">v8::internal::wasm::CompileLazy()</a>, <a class="el" href="function-compiler_8cc_source.html#l00168">v8::internal::wasm::WasmCompilationUnit::CompileWasmFunction()</a>, <a class="el" href="wasm-serialization_8cc_source.html#l00967">v8::internal::wasm::NativeModuleDeserializer::CopyAndRelocate()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l00252">v8::internal::wasm::WasmCode::DebugName()</a>, <a class="el" href="names-provider_8cc_source.html#l00472">v8::internal::wasm::CanonicalTypeNamesProvider::DecodeNames()</a>, <a class="el" href="wasm-engine_8cc_source.html#l00399">v8::internal::wasm::NativeModuleCache::Erase()</a>, <a class="el" href="wasm-debug_8cc_source.html#l00903">v8::internal::anonymous_namespace{wasm-debug.cc}::FindNextBreakablePosition()</a>, <a class="el" href="compilation-environment-inl_8h_source.html#l00019">v8::internal::wasm::CompilationEnv::ForModule()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01691">GetCode()</a>, <a class="el" href="module-compiler_8cc_source.html#l01036">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::GetDefaultTiersPerModule()</a>, <a class="el" href="wasm-module_8cc_source.html#l00425">v8::internal::wasm::GetImports()</a>, <a class="el" href="module-compiler_8cc_source.html#l01058">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::GetLazyCompilationTiers()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02081">GetNearCallTargetForFunction()</a>, <a class="el" href="objects_8cc_source.html#l04680">v8::internal::Script::GetPositionInfo()</a>, <a class="el" href="wasm-debug_8cc_source.html#l01182">v8::internal::WasmScript::GetPossibleBreakpoints()</a>, <a class="el" href="debug-wasm-objects_8cc_source.html#l01093">v8::internal::GetWasmFunctionDebugName()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01698">HasCode()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01703">HasCodeWithTier()</a>, <a class="el" href="wasm-objects_8cc_source.html#l01855">v8::internal::WasmTrustedInstanceData::InitDataSegmentArrays()</a>, <a class="el" href="module-compiler_8cc_source.html#l03757">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::InitializeCompilationProgress()</a>, <a class="el" href="module-compiler_8cc_source.html#l03869">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::InitializeCompilationProgressAfterDeserialization()</a>, <a class="el" href="module-compiler_8cc_source.html#l03817">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::InitializeCompilationUnitForSingleFunction()</a>, <a class="el" href="module-compiler_8cc_source.html#l03852">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::InitializeCompilationUnits()</a>, <a class="el" href="module-instantiate_8cc_source.html#l03254">v8::internal::wasm::InitializeElementSegment()</a>, <a class="el" href="wasm-debug_8cc_source.html#l00766">v8::internal::wasm::DebugInfoImpl::IsAtReturn()</a>, <a class="el" href="wasm-debug_8cc_source.html#l00398">v8::internal::wasm::DebugInfoImpl::IsFrameBlackboxed()</a>, <a class="el" href="turbofan-graph-visualizer_8cc_source.html#l00090">v8::internal::compiler::JsonPrintFunctionSource()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l00286">v8::internal::wasm::WasmCode::LogCode()</a>, <a class="el" href="wasm-serialization_8cc_source.html#l00358">v8::internal::wasm::NativeModuleSerializer::Measure()</a>, <a class="el" href="wasm-objects-inl_8h_source.html#l00095">v8::internal::WasmModuleObject::module()</a>, <a class="el" href="wasm-objects-inl_8h_source.html#l00318">v8::internal::WasmTrustedInstanceData::module()</a>, <a class="el" href="wasm-objects_8cc_source.html#l01686">v8::internal::WasmTrustedInstanceData::New()</a>, <a class="el" href="wasm-objects_8cc_source.html#l00113">v8::internal::WasmModuleObject::New()</a>, <a class="el" href="module-compiler_8cc_source.html#l03996">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::OnFinishedUnits()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01485">PublishCodeLocked()</a>, <a class="el" href="wasm-serialization_8cc_source.html#l00802">v8::internal::wasm::NativeModuleDeserializer::Read()</a>, <a class="el" href="wasm-serialization_8cc_source.html#l00868">v8::internal::wasm::NativeModuleDeserializer::ReadHeader()</a>, <a class="el" href="wasm-serialization_8cc_source.html#l01049">v8::internal::wasm::NativeModuleDeserializer::ReadTieringBudget()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01589">ReinstallDebugCode()</a>, <a class="el" href="runtime-test-wasm_8cc_source.html#l00703">v8::internal::RUNTIME_FUNCTION()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02588">SampleCodeSize()</a>, <a class="el" href="wasm-debug_8cc_source.html#l00986">v8::internal::WasmScript::SetBreakPointForFunction()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02748">SetDebugState()</a>, <a class="el" href="module-compiler_8cc_source.html#l01253">v8::internal::wasm::ThrowLazyCompilationError()</a>, <a class="el" href="module-compiler_8cc_source.html#l01708">v8::internal::wasm::TierUpAllForTesting()</a>, <a class="el" href="module-compiler_8cc_source.html#l01654">v8::internal::wasm::TriggerTierUp()</a>, <a class="el" href="wasm-compiler_8cc_source.html#l00145">v8::internal::compiler::WasmGraphBuilder::TryWasmInlining()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01237">UseLazyStubLocked()</a>, <a class="el" href="runtime-test-wasm_8cc_source.html#l00679">v8::internal::anonymous_namespace{runtime-test-wasm.cc}::ValidateFunctionNowIfNeeded()</a>, <a class="el" href="module-compiler_8cc_source.html#l02278">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::ValidateFunctions()</a>, <a class="el" href="wasm-serialization_8cc_source.html#l00417">v8::internal::wasm::NativeModuleSerializer::WriteCode()</a>, <a class="el" href="wasm-serialization_8cc_source.html#l00379">v8::internal::wasm::NativeModuleSerializer::WriteHeader()</a>, and <a class="el" href="wasm-serialization_8cc_source.html#l00565">v8::internal::wasm::NativeModuleSerializer::WriteTieringBudget()</a>.</p>
<div id="dynsection-78" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-78-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-78-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-78-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a04f2f50aa9d1cbc1dc28e60dbe687f74_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ac977ec4aaf9ab4a9c19776faeba24191"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac977ec4aaf9ab4a9c19776faeba24191">&#9670;&nbsp;</a></span>num_declared_functions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t v8::internal::wasm::NativeModule::num_declared_functions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l00758">758</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;                                          {</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_declared_functions;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;  }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l01844">AddCodeSpaceLocked()</a>.</p>
<div id="dynsection-79" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-79-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-79-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-79-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_ac977ec4aaf9ab4a9c19776faeba24191_icgraph.svg" width="100%" height="548"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a4210dcf60ee0c22b95de93af93f17f86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4210dcf60ee0c22b95de93af93f17f86">&#9670;&nbsp;</a></span>num_functions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t v8::internal::wasm::NativeModule::num_functions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l00752">752</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;                                 {</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_declared_functions + <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_imported_functions;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l01183">v8::internal::wasm::CompileLazy()</a>, <a class="el" href="function-compiler_8cc_source.html#l00168">v8::internal::wasm::WasmCompilationUnit::CompileWasmFunction()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02114">CreateIndirectCallTargetToFunctionIndexMap()</a>, <a class="el" href="wasm-objects_8cc_source.html#l01882">v8::internal::WasmTrustedInstanceData::GetCallTarget()</a>, <a class="el" href="module-compiler_8cc_source.html#l03996">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::OnFinishedUnits()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01485">PublishCodeLocked()</a>, <a class="el" href="wasm-serialization_8cc_source.html#l00802">v8::internal::wasm::NativeModuleDeserializer::Read()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01589">ReinstallDebugCode()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02778">RemoveCompiledCode()</a>, and <a class="el" href="wasm-code-manager_8cc_source.html#l02807">SumLiftoffCodeSizeForTesting()</a>.</p>
<div id="dynsection-80" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-80-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-80-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-80-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a4210dcf60ee0c22b95de93af93f17f86_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="af886dc3d493824b7a1ae1e1f5ae02e42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af886dc3d493824b7a1ae1e1f5ae02e42">&#9670;&nbsp;</a></span>num_imported_functions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t v8::internal::wasm::NativeModule::num_imported_functions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l00755">755</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;                                          {</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_imported_functions;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l01183">v8::internal::wasm::CompileLazy()</a>, <a class="el" href="function-compiler_8cc_source.html#l00168">v8::internal::wasm::WasmCompilationUnit::CompileWasmFunction()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02114">CreateIndirectCallTargetToFunctionIndexMap()</a>, <a class="el" href="module-compiler_8cc_source.html#l03996">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::CompilationStateImpl::OnFinishedUnits()</a>, and <a class="el" href="wasm-serialization_8cc_source.html#l00802">v8::internal::wasm::NativeModuleDeserializer::Read()</a>.</p>
<div id="dynsection-81" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-81-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-81-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-81-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_af886dc3d493824b7a1ae1e1f5ae02e42_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a6568b93165f091c246b2c7dc3281d698"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6568b93165f091c246b2c7dc3281d698">&#9670;&nbsp;</a></span>num_lazy_compilations()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classint.html">int</a> v8::internal::wasm::NativeModule::num_lazy_compilations </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l00786">786</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                                    {</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a203dfbaf27e80e6f9a30f2e29dcf15f2">num_lazy_compilations_</a>.load(std::memory_order_relaxed);</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="af0d26a5838c3dcc2ad3ed43f09465c5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0d26a5838c3dcc2ad3ed43f09465c5a">&#9670;&nbsp;</a></span>operator=()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html">NativeModule</a>&amp; v8::internal::wasm::NativeModule::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html">NativeModule</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ae04709ff9dc0c24f62ccc498d14048bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae04709ff9dc0c24f62ccc498d14048bb">&#9670;&nbsp;</a></span>PatchJumpTableLocked()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::NativeModule::PatchJumpTableLocked </td>
          <td>(</td>
          <td class="paramtype">WritableJumpTablePair &amp;&#160;</td>
          <td class="paramname"><em>jump_table_pair</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1CodeSpaceData.html">CodeSpaceData</a> &amp;&#160;</td>
          <td class="paramname"><em>code_space_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>slot_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a>&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l01815">1815</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;                                                                             {</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>.<a class="code" href="classv8_1_1base_1_1RecursiveMutex.html#a63e202453c65074f4a84b8f0b2435a21">AssertHeld</a>();</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160; </div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(code_space_data.jump_table);</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(code_space_data.far_jump_table);</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160; </div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a>(slot_index, <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_declared_functions);</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a> jump_table_slot =</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;      code_space_data.jump_table-&gt;instruction_start() +</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a75af4ab220bf462ded5d5cc62d9da9da">JumpTableAssembler::JumpSlotIndexToOffset</a>(slot_index);</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;  uint32_t far_jump_table_offset = <a class="code" href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a4e616135983a522caacfc5b4bf44bcd3">JumpTableAssembler::FarJumpSlotIndexToOffset</a>(</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1BuiltinLookup.html#a934b529bc9c9104095b6c98ffaba9697">BuiltinLookup::BuiltinCount</a>() + slot_index);</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;  <span class="comment">// Only pass the far jump table start if the far jump table actually has a</span></div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;  <span class="comment">// slot for this function index (i.e. does not only contain runtime stubs).</span></div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;  <span class="keywordtype">bool</span> has_far_jump_slot =</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;      far_jump_table_offset &lt;</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;      code_space_data.far_jump_table-&gt;instructions().size();</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a> far_jump_table_start =</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;      code_space_data.far_jump_table-&gt;instruction_start();</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a> far_jump_table_slot =</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;      has_far_jump_slot ? far_jump_table_start + far_jump_table_offset</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;                        : <a class="code" href="namespacev8_1_1internal.html#acf6bafb5b8483a580f375393c413ee02">kNullAddress</a>;</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a0cabb404f2bfe1a9ef3ea35fe63f7cf3">JumpTableAssembler::PatchJumpTableSlot</a>(jump_table_pair, jump_table_slot,</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;                                         far_jump_table_slot, target);</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a>(slot_index, <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5ea4f6a28a06ce63c372bf00abbf0c24">code_pointer_handles_size_</a>);</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1JumpTableAssembler_html_a0cabb404f2bfe1a9ef3ea35fe63f7cf3"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a0cabb404f2bfe1a9ef3ea35fe63f7cf3">v8::internal::wasm::JumpTableAssembler::PatchJumpTableSlot</a></div><div class="ttdeci">static void PatchJumpTableSlot(WritableJumpTablePair &amp;jump_table_pair, Address jump_table_slot, Address far_jump_table_slot, Address target)</div><div class="ttdef"><b>Definition:</b> <a href="jump-table-assembler_8h_source.html#l00147">jump-table-assembler.h:147</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-code-manager_8h_source.html#l01097">allocation_mutex_</a>, <a class="el" href="mutex_8h_source.html#l00153">v8::base::RecursiveMutex::AssertHeld()</a>, <a class="el" href="wasm-builtin-list_8h_source.html#l00203">v8::internal::wasm::BuiltinLookup::BuiltinCount()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01124">code_pointer_handles_size_</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00488">DCHECK_LT</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00491">DCHECK_NOT_NULL</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00975">v8::internal::wasm::NativeModule::CodeSpaceData::far_jump_table</a>, <a class="el" href="jump-table-assembler_8h_source.html#l00087">v8::internal::wasm::JumpTableAssembler::FarJumpSlotIndexToOffset()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00175">v8::internal::wasm::WasmCode::instruction_start()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00171">v8::internal::wasm::WasmCode::instructions()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00974">v8::internal::wasm::NativeModule::CodeSpaceData::jump_table</a>, <a class="el" href="jump-table-assembler_8h_source.html#l00072">v8::internal::wasm::JumpTableAssembler::JumpSlotIndexToOffset()</a>, <a class="el" href="v8-internal_8h_source.html#l00053">v8::internal::kNullAddress</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01063">module_</a>, <a class="el" href="jump-table-assembler_8h_source.html#l00147">v8::internal::wasm::JumpTableAssembler::PatchJumpTableSlot()</a>, and <a class="el" href="vector_8h_source.html#l00070">v8::base::Vector&lt; T &gt;::size()</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l01844">AddCodeSpaceLocked()</a>, and <a class="el" href="wasm-code-manager_8cc_source.html#l01791">PatchJumpTablesLocked()</a>.</p>
<div id="dynsection-82" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-82-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-82-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-82-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_ae04709ff9dc0c24f62ccc498d14048bb_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-83" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-83-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-83-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-83-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_ae04709ff9dc0c24f62ccc498d14048bb_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a51cd3da10c0980a4c5747dc6862f03ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51cd3da10c0980a4c5747dc6862f03ac">&#9670;&nbsp;</a></span>PatchJumpTablesLocked()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::NativeModule::PatchJumpTablesLocked </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>slot_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a>&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a>&#160;</td>
          <td class="paramname"><em>code_pointer_table_target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>signature_hash</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l01791">1791</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;                                                                  {</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>.<a class="code" href="classv8_1_1base_1_1RecursiveMutex.html#a63e202453c65074f4a84b8f0b2435a21">AssertHeld</a>();</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160; </div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1wasm.html#adbb89ce490c56aae60c8221f47b9f088">GetProcessWideWasmCodePointerTable</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodePointerTable.html#ae052cc798b9dd1e4970a6cdbcb2adb05">SetEntrypointAndSignature</a>(</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5d842383c864e12e83bdfb982954eb0f">code_pointer_handles_</a>[slot_index], code_pointer_table_target,</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;      signature_hash);</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160; </div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; code_space_data : <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a09649a8d8356bcf64e4bc5f2d3eb1435">code_space_data_</a>) {</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;    <span class="comment">// TODO(sroettger): need to unlock both jump tables together</span></div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(code_space_data.jump_table, code_space_data.far_jump_table);</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;    <span class="keywordflow">if</span> (!code_space_data.jump_table) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;    WritableJumpTablePair writable_jump_tables =</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;        ThreadIsolation::LookupJumpTableAllocations(</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;            code_space_data.jump_table-&gt;instruction_start(),</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;            code_space_data.jump_table-&gt;instructions_size_,</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;            code_space_data.far_jump_table-&gt;instruction_start(),</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;            code_space_data.far_jump_table-&gt;instructions_size_);</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae04709ff9dc0c24f62ccc498d14048bb">PatchJumpTableLocked</a>(writable_jump_tables, code_space_data, slot_index,</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;                         target);</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;  }</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodePointerTable_html_ae052cc798b9dd1e4970a6cdbcb2adb05"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodePointerTable.html#ae052cc798b9dd1e4970a6cdbcb2adb05">v8::internal::wasm::WasmCodePointerTable::SetEntrypointAndSignature</a></div><div class="ttdeci">void SetEntrypointAndSignature(WasmCodePointer index, Address value, uint64_t signature_hash)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-pointer-table-inl_8h_source.html#l00082">wasm-code-pointer-table-inl.h:82</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-code-manager_8h_source.html#l01097">allocation_mutex_</a>, <a class="el" href="mutex_8h_source.html#l00153">v8::base::RecursiveMutex::AssertHeld()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01121">code_pointer_handles_</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01127">code_space_data_</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00492">DCHECK_IMPLIES</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#adbb89ce490c56aae60c8221f47b9f088">v8::internal::wasm::GetProcessWideWasmCodePointerTable()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01815">PatchJumpTableLocked()</a>, and <a class="el" href="wasm-code-pointer-table-inl_8h_source.html#l00082">v8::internal::wasm::WasmCodePointerTable::SetEntrypointAndSignature()</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l01485">PublishCodeLocked()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01589">ReinstallDebugCode()</a>, and <a class="el" href="wasm-code-manager_8cc_source.html#l01237">UseLazyStubLocked()</a>.</p>
<div id="dynsection-84" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-84-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-84-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-84-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a51cd3da10c0980a4c5747dc6862f03ac_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-85" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-85-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-85-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-85-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a51cd3da10c0980a4c5747dc6862f03ac_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a2b2e70f05aba4cbb41820e840e79ab3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b2e70f05aba4cbb41820e840e79ab3a">&#9670;&nbsp;</a></span>PrintCurrentMemoryConsumptionEstimate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::NativeModule::PrintCurrentMemoryConsumptionEstimate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l02928">2928</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;                                                               {</div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.print_wasm_offheap_memory_size);</div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;Off-heap memory size of NativeModule: %zu\n&quot;</span>,</div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;         <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a46fa56beff1669a8eb218e9aec9fd8d2">EstimateCurrentMemoryConsumption</a>());</div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a46fa56beff1669a8eb218e9aec9fd8d2"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a46fa56beff1669a8eb218e9aec9fd8d2">v8::internal::wasm::NativeModule::EstimateCurrentMemoryConsumption</a></div><div class="ttdeci">size_t EstimateCurrentMemoryConsumption() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02867">wasm-code-manager.cc:2867</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02867">EstimateCurrentMemoryConsumption()</a>, <a class="el" href="utils_2utils_8cc_source.html#l00039">v8::internal::PrintF()</a>, and <a class="el" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l02154">~NativeModule()</a>.</p>
<div id="dynsection-86" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-86-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-86-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-86-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a2b2e70f05aba4cbb41820e840e79ab3a_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-87" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-87-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-87-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-87-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a2b2e70f05aba4cbb41820e840e79ab3a_icgraph.svg" width="510" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a77032a9badd038815c22969e9f073578"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77032a9badd038815c22969e9f073578">&#9670;&nbsp;</a></span>PublishCode() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a> * &gt; v8::internal::wasm::NativeModule::PublishCode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; <a class="el" href="structv8_1_1internal_1_1wasm_1_1UnpublishedWasmCode.html">UnpublishedWasmCode</a> &gt;&#160;</td>
          <td class="paramname"><em>unpublished_codes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l01436">1436</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;                                                       {</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;  <a class="code" href="trace-event-no-perfetto_8h.html#ac437f27e15925a9bd53c69692a6c85fe">TRACE_EVENT1</a>(<a class="code" href="trace-event-no-perfetto_8h.html#a97689377430b094caec680dd7dd230fe">TRACE_DISABLED_BY_DEFAULT</a>(<span class="stringliteral">&quot;v8.wasm.detailed&quot;</span>),</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;               <span class="stringliteral">&quot;wasm.PublishCode&quot;</span>, <span class="stringliteral">&quot;number&quot;</span>, unpublished_codes.size());</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;  std::vector&lt;WasmCode*&gt; published_code;</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;  published_code.reserve(unpublished_codes.size());</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> lock(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>);</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;  <span class="comment">// The published code is put into the top-most surrounding {WasmCodeRefScope}.</span></div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; unpublished_code : unpublished_codes) {</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a0ec92359918c6ef6fe010cafb580eb86">WasmCode</a>* <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a60c23842429cfbc96419f922d252a4ea">PublishCodeLocked</a>(std::move(unpublished_code.code),</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;                                       unpublished_code.assumptions.get());</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;      <span class="comment">// There were invalid assumptions in the code.</span></div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(unpublished_code.assumptions);</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;    }</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;    published_code.push_back(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>);</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;  }</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;  <span class="keywordflow">return</span> published_code;</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-code-manager_8h_source.html#l01097">allocation_mutex_</a>, <a class="el" href="flag-definitions_8h_source.html#l00546">code</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00491">DCHECK_NOT_NULL</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01485">PublishCodeLocked()</a>, <a class="el" href="vector_8h_source.html#l00070">v8::base::Vector&lt; T &gt;::size()</a>, <a class="el" href="trace-event-no-perfetto_8h_source.html#l00025">TRACE_DISABLED_BY_DEFAULT</a>, and <a class="el" href="trace-event-no-perfetto_8h_source.html#l00037">TRACE_EVENT1</a>.</p>
<div id="dynsection-88" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-88-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-88-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-88-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a77032a9badd038815c22969e9f073578_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a91db58c0a3ed6efdba8d82e23a659fa7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91db58c0a3ed6efdba8d82e23a659fa7">&#9670;&nbsp;</a></span>PublishCode() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a> * v8::internal::wasm::NativeModule::PublishCode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structv8_1_1internal_1_1wasm_1_1UnpublishedWasmCode.html">UnpublishedWasmCode</a>&#160;</td>
          <td class="paramname"><em>unpublished_code</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l01428">1428</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;                                                                        {</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;  <a class="code" href="trace-event-no-perfetto_8h.html#a3feabb76c0ac2918798bc11ab55c6a79">TRACE_EVENT0</a>(<a class="code" href="trace-event-no-perfetto_8h.html#a97689377430b094caec680dd7dd230fe">TRACE_DISABLED_BY_DEFAULT</a>(<span class="stringliteral">&quot;v8.wasm.detailed&quot;</span>),</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;               <span class="stringliteral">&quot;wasm.PublishCode&quot;</span>);</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> lock(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>);</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a60c23842429cfbc96419f922d252a4ea">PublishCodeLocked</a>(std::move(unpublished_code.code),</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;                           unpublished_code.assumptions.get());</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;}</div>
<div class="ttc" id="atrace-event-no-perfetto_8h_html_a3feabb76c0ac2918798bc11ab55c6a79"><div class="ttname"><a href="trace-event-no-perfetto_8h.html#a3feabb76c0ac2918798bc11ab55c6a79">TRACE_EVENT0</a></div><div class="ttdeci">#define TRACE_EVENT0(category_group, name)</div><div class="ttdef"><b>Definition:</b> <a href="trace-event-no-perfetto_8h_source.html#l00032">trace-event-no-perfetto.h:32</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-code-manager_8h_source.html#l01097">allocation_mutex_</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00530">v8::internal::wasm::UnpublishedWasmCode::assumptions</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00529">v8::internal::wasm::UnpublishedWasmCode::code</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01485">PublishCodeLocked()</a>, <a class="el" href="trace-event-no-perfetto_8h_source.html#l00025">TRACE_DISABLED_BY_DEFAULT</a>, and <a class="el" href="trace-event-no-perfetto_8h_source.html#l00032">TRACE_EVENT0</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l01183">v8::internal::wasm::CompileLazy()</a>, <a class="el" href="function-compiler_8cc_source.html#l00168">v8::internal::wasm::WasmCompilationUnit::CompileWasmFunction()</a>, and <a class="el" href="wasm-serialization_8cc_source.html#l01062">v8::internal::wasm::NativeModuleDeserializer::Publish()</a>.</p>
<div id="dynsection-89" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-89-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-89-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-89-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a91db58c0a3ed6efdba8d82e23a659fa7_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-90" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-90-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-90-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-90-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a91db58c0a3ed6efdba8d82e23a659fa7_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a60c23842429cfbc96419f922d252a4ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60c23842429cfbc96419f922d252a4ea">&#9670;&nbsp;</a></span>PublishCodeLocked()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a> * v8::internal::wasm::NativeModule::PublishCodeLocked </td>
          <td>(</td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a> &gt;&#160;</td>
          <td class="paramname"><em>owned_code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1wasm_1_1AssumptionsJournal.html">AssumptionsJournal</a> *&#160;</td>
          <td class="paramname"><em>assumptions</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l01485">1485</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;                                                                           {</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>.<a class="code" href="classv8_1_1base_1_1RecursiveMutex.html#a63e202453c65074f4a84b8f0b2435a21">AssertHeld</a>();</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a>(owned_code-&gt;index(), <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a4210dcf60ee0c22b95de93af93f17f86">num_functions</a>());</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160; </div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;  <span class="keywordflow">if</span> (assumptions != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;    <span class="comment">// We should not allocate an empty set to avoid unnecessary overhead.</span></div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!assumptions-&gt;empty());</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;    <span class="comment">// Only Turbofan makes assumptions.</span></div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31">ExecutionTier::kTurbofan</a>, owned_code-&gt;tier());</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;    <span class="comment">// Assumptions are not used for imports.</span></div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a>(owned_code-&gt;index(),</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;              <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_imported_functions));</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    WellKnownImportsList&amp; current = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;type_feedback.well_known_imports;</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> [import_index, <a class="code" href="namespacev8_1_1internal.html#af04f4104c077ccbaef7596e23816a254">status</a>] : assumptions-&gt;import_statuses()) {</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a>(current.get(import_index) != <a class="code" href="namespacev8_1_1internal.html#af04f4104c077ccbaef7596e23816a254">status</a>)) {</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a2b68ddfcd3230a171f04c7a0b2231394">compilation_state_</a>-&gt;AllowAnotherTopTierJob(owned_code-&gt;index());</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;      }</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    }</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;  }</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160; </div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a0ec92359918c6ef6fe010cafb580eb86">WasmCode</a>* <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> = owned_code.get();</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae0bf556913299e7eba006b97843cb6ec">new_owned_code_</a>.emplace_back(std::move(owned_code));</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a2209830df6b59d1ec1fdf66b9352924f">DCHECK_NULL</a>(owned_code);</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160; </div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;  <span class="comment">// Add the code to the surrounding code ref scope, so the returned pointer is</span></div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;  <span class="comment">// guaranteed to be valid.</span></div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html#a9148e3cdeac9e7f3d97d518fa66f722c">WasmCodeRefScope::AddRef</a>(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>);</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160; </div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;index() &lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_imported_functions)) {</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>;</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;  }</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160; </div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;  <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;RegisterTrapHandlerData();</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160; </div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;  <span class="comment">// Assume an order of execution tiers that represents the quality of their</span></div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;  <span class="comment">// generated code.</span></div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;  static_assert(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13">ExecutionTier::kNone</a> &lt; <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a3a4891ee13d971db79eeae3a6d61d151">ExecutionTier::kLiftoff</a> &amp;&amp;</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;                    <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a3a4891ee13d971db79eeae3a6d61d151">ExecutionTier::kLiftoff</a> &lt; <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31">ExecutionTier::kTurbofan</a>,</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;                <span class="stringliteral">&quot;Assume an order on execution tiers&quot;</span>);</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160; </div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;  uint32_t slot_idx = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#abd9cf6cdda997dfabf862a6048202195">declared_function_index</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a04f2f50aa9d1cbc1dc28e60dbe687f74">module</a>(), <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;index());</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a0ec92359918c6ef6fe010cafb580eb86">WasmCode</a>* prior_code = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9772fe3f2a97d58b67bdb119ecccb1a4">code_table_</a>[slot_idx];</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;  <span class="comment">// If we are tiered down, install all debugging code (except for stepping</span></div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;  <span class="comment">// code, which is only used for a single frame and never installed in the</span></div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;  <span class="comment">// code table of jump table). Otherwise, install code if it was compiled</span></div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;  <span class="comment">// with a higher tier.</span></div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;  static_assert(</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a11df36d2f23b22c6772f3a5f08731b5ba43d94925083957d680eef3a3987e0de0">kForDebugging</a> &gt; <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a11df36d2f23b22c6772f3a5f08731b5ba1874820c42ab45140e0e50e44f8e96d5">kNotForDebugging</a> &amp;&amp; <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a11df36d2f23b22c6772f3a5f08731b5bafb5f23c032f3e99631bbc881807faac5">kWithBreakpoints</a> &gt; <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a11df36d2f23b22c6772f3a5f08731b5ba43d94925083957d680eef3a3987e0de0">kForDebugging</a>,</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;      <span class="stringliteral">&quot;for_debugging is ordered&quot;</span>);</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160; </div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a7ba45734b63b45fbed4e98f86795817d">should_update_code_table</a>(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>, prior_code)) {</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9772fe3f2a97d58b67bdb119ecccb1a4">code_table_</a>[slot_idx] = <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>;</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;    <span class="keywordflow">if</span> (prior_code) {</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html#a9148e3cdeac9e7f3d97d518fa66f722c">WasmCodeRefScope::AddRef</a>(prior_code);</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;      <span class="comment">// The code is added to the current {WasmCodeRefScope}, hence the ref</span></div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;      <span class="comment">// count cannot drop to zero here.</span></div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;      prior_code-&gt;DecRefOnLiveCode();</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;    }</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160; </div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a51cd3da10c0980a4c5747dc6862f03ac">PatchJumpTablesLocked</a>(slot_idx, <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;instruction_start(),</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;                          <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;instruction_start(), <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;signature_hash());</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;    <span class="comment">// The code tables does not hold a reference to the code, hence decrement</span></div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;    <span class="comment">// the initial ref count of 1. The code was added to the</span></div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;    <span class="comment">// {WasmCodeRefScope} though, so it cannot die here.</span></div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;    <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;DecRefOnLiveCode();</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;  }</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160; </div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>;</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a51cd3da10c0980a4c5747dc6862f03ac"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a51cd3da10c0980a4c5747dc6862f03ac">v8::internal::wasm::NativeModule::PatchJumpTablesLocked</a></div><div class="ttdeci">void PatchJumpTablesLocked(uint32_t slot_index, Address target, Address code_pointer_table_target, uint64_t signature_hash)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01791">wasm-code-manager.cc:1791</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a7ba45734b63b45fbed4e98f86795817d"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a7ba45734b63b45fbed4e98f86795817d">v8::internal::wasm::NativeModule::should_update_code_table</a></div><div class="ttdeci">bool should_update_code_table(WasmCode *new_code, WasmCode *prior_code) const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01558">wasm-code-manager.cc:1558</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a11df36d2f23b22c6772f3a5f08731b5ba43d94925083957d680eef3a3987e0de0"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a11df36d2f23b22c6772f3a5f08731b5ba43d94925083957d680eef3a3987e0de0">v8::internal::wasm::kForDebugging</a></div><div class="ttdeci">@ kForDebugging</div><div class="ttdef"><b>Definition:</b> <a href="wasm-tier_8h_source.html#l00048">wasm-tier.h:48</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a11df36d2f23b22c6772f3a5f08731b5bafb5f23c032f3e99631bbc881807faac5"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a11df36d2f23b22c6772f3a5f08731b5bafb5f23c032f3e99631bbc881807faac5">v8::internal::wasm::kWithBreakpoints</a></div><div class="ttdeci">@ kWithBreakpoints</div><div class="ttdef"><b>Definition:</b> <a href="wasm-tier_8h_source.html#l00049">wasm-tier.h:49</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31">v8::internal::wasm::ExecutionTier::kTurbofan</a></div><div class="ttdeci">@ kTurbofan</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_af04f4104c077ccbaef7596e23816a254"><div class="ttname"><a href="namespacev8_1_1internal.html#af04f4104c077ccbaef7596e23816a254">v8::internal::status</a></div><div class="ttdeci">status</div><div class="ttdef"><b>Definition:</b> <a href="js-disposable-stack-inl_8h_source.html#l00034">js-disposable-stack-inl.h:34</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-code-manager_8cc_source.html#l03045">v8::internal::wasm::WasmCodeRefScope::AddRef()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01097">allocation_mutex_</a>, <a class="el" href="mutex_8h_source.html#l00153">v8::base::RecursiveMutex::AssertHeld()</a>, <a class="el" href="flag-definitions_8h_source.html#l00546">code</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01116">code_table_</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01086">compilation_state_</a>, <a class="el" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00484">DCHECK_EQ</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00487">DCHECK_GE</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00488">DCHECK_LT</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00490">DCHECK_NULL</a>, <a class="el" href="wasm-module_8h_source.html#l01076">v8::internal::wasm::declared_function_index()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00321">v8::internal::wasm::WasmCode::DecRefOnLiveCode()</a>, <a class="el" href="function-compiler_8h_source.html#l00051">v8::internal::wasm::AssumptionsJournal::empty()</a>, <a class="el" href="well-known-imports_8h_source.html#l00144">v8::internal::wasm::WellKnownImportsList::get()</a>, <a class="el" href="function-compiler_8h_source.html#l00047">v8::internal::wasm::AssumptionsJournal::import_statuses()</a>, <a class="el" href="wasm-tier_8h_source.html#l00048">v8::internal::wasm::kForDebugging</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a3a4891ee13d971db79eeae3a6d61d151">v8::internal::wasm::kLiftoff</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13">v8::internal::wasm::kNone</a>, <a class="el" href="wasm-tier_8h_source.html#l00047">v8::internal::wasm::kNotForDebugging</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31">v8::internal::wasm::kTurbofan</a>, <a class="el" href="wasm-tier_8h_source.html#l00049">v8::internal::wasm::kWithBreakpoints</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00766">module()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01063">module_</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01110">new_owned_code_</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00752">num_functions()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01791">PatchJumpTablesLocked()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01558">should_update_code_table()</a>, <a class="el" href="js-disposable-stack-inl_8h_source.html#l00034">v8::internal::status</a>, and <a class="el" href="v8config_8h_source.html#l00660">V8_UNLIKELY</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l01081">AddCodeForTesting()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01740">CreateEmptyJumpTableInRegionLocked()</a>, and <a class="el" href="wasm-code-manager_8cc_source.html#l01428">PublishCode()</a>.</p>
<div id="dynsection-91" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-91-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-91-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-91-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a60c23842429cfbc96419f922d252a4ea_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-92" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-92-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-92-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-92-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a60c23842429cfbc96419f922d252a4ea_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a813274940c91bd21cf6c10bcfd3b7c40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a813274940c91bd21cf6c10bcfd3b7c40">&#9670;&nbsp;</a></span>ReinstallDebugCode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::NativeModule::ReinstallDebugCode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a> *&#160;</td>
          <td class="paramname"><em>code</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l01589">1589</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;                                                    {</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> lock(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>);</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160; </div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<span class="keyword">this</span>, <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;native_module());</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a11df36d2f23b22c6772f3a5f08731b5bafb5f23c032f3e99631bbc881807faac5">kWithBreakpoints</a>, <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;for_debugging());</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;IsAnonymous());</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_imported_functions, <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;index());</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a>(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;index(), <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a4210dcf60ee0c22b95de93af93f17f86">num_functions</a>());</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160; </div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;  <span class="comment">// If the module is tiered up by now, do not reinstall debug code.</span></div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a96de8f1452ef286df5abc0ac17f07517">debug_state_</a> != <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a25f59e94501ad0ce6680be236623cc3ca53bd2a5ccb174a582cc08c5894ad825d">kDebugging</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160; </div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;  uint32_t slot_idx = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#abd9cf6cdda997dfabf862a6048202195">declared_function_index</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a04f2f50aa9d1cbc1dc28e60dbe687f74">module</a>(), <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;index());</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a0ec92359918c6ef6fe010cafb580eb86">WasmCode</a>* prior_code = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9772fe3f2a97d58b67bdb119ecccb1a4">code_table_</a>[slot_idx]) {</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html#a9148e3cdeac9e7f3d97d518fa66f722c">WasmCodeRefScope::AddRef</a>(prior_code);</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;    <span class="comment">// The code is added to the current {WasmCodeRefScope}, hence the ref</span></div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;    <span class="comment">// count cannot drop to zero here.</span></div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;    prior_code-&gt;DecRefOnLiveCode();</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;  }</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9772fe3f2a97d58b67bdb119ecccb1a4">code_table_</a>[slot_idx] = <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>;</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;  <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;IncRef();</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160; </div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a51cd3da10c0980a4c5747dc6862f03ac">PatchJumpTablesLocked</a>(slot_idx, <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;instruction_start(),</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;                        <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;instruction_start(), <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;signature_hash());</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;}</div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a25f59e94501ad0ce6680be236623cc3ca53bd2a5ccb174a582cc08c5894ad825d"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a25f59e94501ad0ce6680be236623cc3ca53bd2a5ccb174a582cc08c5894ad825d">v8::internal::wasm::kDebugging</a></div><div class="ttdeci">@ kDebugging</div><div class="ttdef"><b>Definition:</b> <a href="wasm-tier_8h_source.html#l00053">wasm-tier.h:53</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-code-manager_8cc_source.html#l03045">v8::internal::wasm::WasmCodeRefScope::AddRef()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01097">allocation_mutex_</a>, <a class="el" href="flag-definitions_8h_source.html#l00546">code</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01116">code_table_</a>, <a class="el" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00484">DCHECK_EQ</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00489">DCHECK_LE</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00488">DCHECK_LT</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01137">debug_state_</a>, <a class="el" href="wasm-module_8h_source.html#l01076">v8::internal::wasm::declared_function_index()</a>, <a class="el" href="wasm-tier_8h_source.html#l00053">v8::internal::wasm::kDebugging</a>, <a class="el" href="wasm-tier_8h_source.html#l00049">v8::internal::wasm::kWithBreakpoints</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00766">module()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01063">module_</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00752">num_functions()</a>, and <a class="el" href="wasm-code-manager_8cc_source.html#l01791">PatchJumpTablesLocked()</a>.</p>
<div id="dynsection-93" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-93-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-93-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-93-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a813274940c91bd21cf6c10bcfd3b7c40_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="acd3f32a91369d4cdb1e11b81b8f4d27f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd3f32a91369d4cdb1e11b81b8f4d27f">&#9670;&nbsp;</a></span>RemoveCompiledCode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::NativeModule::RemoveCompiledCode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#addb6002d53e166907484bf3715ff599c">RemoveFilter</a>&#160;</td>
          <td class="paramname"><em>filter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l02778">2778</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;                                                         {</div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;  <span class="keyword">const</span> uint32_t num_imports = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_imported_functions;</div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;  <span class="keyword">const</span> uint32_t <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a4210dcf60ee0c22b95de93af93f17f86">num_functions</a> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_declared_functions;</div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;  {</div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> guard(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>);</div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;    <span class="keywordflow">for</span> (uint32_t <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a4210dcf60ee0c22b95de93af93f17f86">num_functions</a>; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a0ec92359918c6ef6fe010cafb580eb86">WasmCode</a>* <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9772fe3f2a97d58b67bdb119ecccb1a4">code_table_</a>[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>];</div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> &amp;&amp; <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#acc4a1ad690326b2dec4450f288512cd0">ShouldRemoveCode</a>(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>, filter)) {</div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9772fe3f2a97d58b67bdb119ecccb1a4">code_table_</a>[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;        <span class="comment">// Add the code to the {WasmCodeRefScope}, so the ref count cannot drop</span></div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;        <span class="comment">// to zero here. It might in the {WasmCodeRefScope} destructor, though.</span></div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html#a9148e3cdeac9e7f3d97d518fa66f722c">WasmCodeRefScope::AddRef</a>(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>);</div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;        <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;DecRefOnLiveCode();</div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;        uint32_t func_index = <a class="code" href="namespacev8_1_1internal.html">i</a> + num_imports;</div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aafa35dbd8dcc12821a84cb56594ee2df">UseLazyStubLocked</a>(func_index);</div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;      }</div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;    }</div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;    <span class="comment">// To avoid lock order inversion, release the {allocation_mutex_} before</span></div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;    <span class="comment">// acquiring the {type_feedback.mutex} inside {AllowAnother...} below.</span></div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;  }</div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;  <span class="comment">// When resuming optimized execution after a debugging session ends, or when</span></div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;  <span class="comment">// discarding optimized code that made outdated assumptions, allow another</span></div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;  <span class="comment">// tier-up task to get scheduled.</span></div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;  <span class="keywordflow">if</span> (filter == <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#addb6002d53e166907484bf3715ff599ca33cfac0f2f3fcd4f110550ece8698472">RemoveFilter::kRemoveDebugCode</a> ||</div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;      filter == <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#addb6002d53e166907484bf3715ff599ca69b3b2c8ba3f6cffe3967b55e0cb44fe">RemoveFilter::kRemoveTurbofanCode</a>) {</div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a2b68ddfcd3230a171f04c7a0b2231394">compilation_state_</a>-&gt;AllowAnotherTopTierJobForAllFunctions();</div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;  }</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_aafa35dbd8dcc12821a84cb56594ee2df"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aafa35dbd8dcc12821a84cb56594ee2df">v8::internal::wasm::NativeModule::UseLazyStubLocked</a></div><div class="ttdeci">void UseLazyStubLocked(uint32_t func_index)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01237">wasm-code-manager.cc:1237</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_addb6002d53e166907484bf3715ff599ca33cfac0f2f3fcd4f110550ece8698472"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#addb6002d53e166907484bf3715ff599ca33cfac0f2f3fcd4f110550ece8698472">v8::internal::wasm::NativeModule::RemoveFilter::kRemoveDebugCode</a></div><div class="ttdeci">@ kRemoveDebugCode</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_addb6002d53e166907484bf3715ff599ca69b3b2c8ba3f6cffe3967b55e0cb44fe"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#addb6002d53e166907484bf3715ff599ca69b3b2c8ba3f6cffe3967b55e0cb44fe">v8::internal::wasm::NativeModule::RemoveFilter::kRemoveTurbofanCode</a></div><div class="ttdeci">@ kRemoveTurbofanCode</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_html_acc4a1ad690326b2dec4450f288512cd0"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#acc4a1ad690326b2dec4450f288512cd0">v8::internal::wasm::anonymous_namespace{wasm-code-manager.cc}::ShouldRemoveCode</a></div><div class="ttdeci">bool ShouldRemoveCode(WasmCode *code, NativeModule::RemoveFilter filter)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02757">wasm-code-manager.cc:2757</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-code-manager_8cc_source.html#l03045">v8::internal::wasm::WasmCodeRefScope::AddRef()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01097">allocation_mutex_</a>, <a class="el" href="flag-definitions_8h_source.html#l00546">code</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01116">code_table_</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01086">compilation_state_</a>, <a class="el" href="json-stringifier_8cc_source.html#l00548">v8::internal::anonymous_namespace{json-stringifier.cc}::i</a>, <a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#addb6002d53e166907484bf3715ff599ca33cfac0f2f3fcd4f110550ece8698472">kRemoveDebugCode</a>, <a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#addb6002d53e166907484bf3715ff599ca69b3b2c8ba3f6cffe3967b55e0cb44fe">kRemoveTurbofanCode</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01063">module_</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00752">num_functions()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02757">v8::internal::wasm::anonymous_namespace{wasm-code-manager.cc}::ShouldRemoveCode()</a>, and <a class="el" href="wasm-code-manager_8cc_source.html#l01237">UseLazyStubLocked()</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l01457">UpdateWellKnownImports()</a>.</p>
<div id="dynsection-94" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-94-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-94-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-94-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_acd3f32a91369d4cdb1e11b81b8f4d27f_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-95" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-95-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-95-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-95-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_acd3f32a91369d4cdb1e11b81b8f4d27f_icgraph.svg" width="542" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ae66433eec52661194dacaa6ded13bf6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae66433eec52661194dacaa6ded13bf6d">&#9670;&nbsp;</a></span>SampleCodeSize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::NativeModule::SampleCodeSize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1Counters.html">Counters</a> *&#160;</td>
          <td class="paramname"><em>counters</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l02588">2588</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;                                                          {</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;  <span class="keywordtype">size_t</span> code_size = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aef6c06fd70d54f981aaccf59b8c8ec2f">code_allocator_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a9f5f12643315075f0a553f61c992fdb1">committed_code_space</a>();</div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;  <span class="keywordtype">int</span> code_size_mb = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(code_size / <a class="code" href="namespacev8_1_1internal.html#af46551c5713d2a3a1be4dca973e521e0">MB</a>);</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;<span class="preprocessor">#if V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_jitless) {</div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> lock(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;interpreter_mutex_);</div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> interpreter = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;interpreter_.lock()) {</div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;      code_size_mb = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(interpreter-&gt;TotalBytecodeSize() / <a class="code" href="namespacev8_1_1internal.html#af46551c5713d2a3a1be4dca973e521e0">MB</a>);</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;    }</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;  }</div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ac38f1b4fe42e19e644ec63dafe0cc450">counters</a>-&gt;wasm_module_code_size_mb()-&gt;AddSample(code_size_mb);</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;  <span class="keywordtype">int</span> code_size_kb = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(code_size / <a class="code" href="namespacev8_1_1internal.html#a93b2e7c72fa0878021b495b6f3cec820">KB</a>);</div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ac38f1b4fe42e19e644ec63dafe0cc450">counters</a>-&gt;wasm_module_code_size_kb()-&gt;AddSample(code_size_kb);</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;  <span class="comment">// Record the size of metadata.</span></div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;  Histogram* metadata_histogram = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ac38f1b4fe42e19e644ec63dafe0cc450">counters</a>-&gt;wasm_module_metadata_size_kb();</div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;  <span class="keywordflow">if</span> (metadata_histogram-&gt;Enabled()) {</div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;    <span class="comment">// TODO(349610478): EstimateCurrentMemoryConsumption() acquires a large</span></div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;    <span class="comment">// amount of locks per NativeModule. This estimation is run on every</span></div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;    <span class="comment">// mark-compact GC. Reconsider whether this should be run less frequently.</span></div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;    <span class="comment">// (Probably incomplete) list of locks acquired:</span></div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;    <span class="comment">// - TypeFeedbackStorage::mutex</span></div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;    <span class="comment">// - LazilyGeneratedNames::mutex_</span></div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;    <span class="comment">// - CompilationStateImpl::mutex_</span></div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;    <span class="comment">// - CompilationUnitQueues::queues_mutex_</span></div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;    <span class="comment">//   - per queue: QueueImpl::mutex</span></div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;    <span class="comment">// - BigUnitsQueue::mutex</span></div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;    <span class="comment">// - WasmImportWrapperCache::mutex_</span></div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;    <span class="comment">// - NativeModule::allocation_mutex_</span></div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;    <span class="comment">// - LazilyGeneratedNames::mutex_</span></div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;    <span class="comment">// - DebugInfoImpl::debug_side_tables_mutex_</span></div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;    <span class="comment">// - DebugInfoImpl::mutex_</span></div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;    <span class="keywordtype">int</span> metadata_size_kb =</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;        <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a46fa56beff1669a8eb218e9aec9fd8d2">EstimateCurrentMemoryConsumption</a>() / <a class="code" href="namespacev8_1_1internal.html#a93b2e7c72fa0878021b495b6f3cec820">KB</a>);</div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;    metadata_histogram-&gt;AddSample(metadata_size_kb);</div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;  }</div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;  <span class="comment">// If this is a wasm module of &gt;= 2MB, also sample the freed code size,</span></div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;  <span class="comment">// absolute and relative. Code GC does not happen on asm.js</span></div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;  <span class="comment">// modules, and small modules will never trigger GC anyway.</span></div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;  <span class="keywordtype">size_t</span> generated_size = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aef6c06fd70d54f981aaccf59b8c8ec2f">code_allocator_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#ac228b5f49cf9bad916c9226c6e48e5a2">generated_code_size</a>();</div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;  <span class="keywordflow">if</span> (generated_size &gt;= 2 * <a class="code" href="namespacev8_1_1internal.html#af46551c5713d2a3a1be4dca973e521e0">MB</a> &amp;&amp; <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a04f2f50aa9d1cbc1dc28e60dbe687f74">module</a>()-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a7871ace0ad8518a7de0c52ac35e43eb2">origin</a> == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a3adc957d22d860687fc2579215adeb80ad75c39b2587910e64fbca44ad513c9e0">kWasmOrigin</a>) {</div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;    <span class="keywordtype">size_t</span> freed_size = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aef6c06fd70d54f981aaccf59b8c8ec2f">code_allocator_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a3a969b7f9241a75ec3b51dd31aacf3ad">freed_code_size</a>();</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(freed_size, generated_size);</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;    <span class="keywordtype">int</span> freed_percent = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(100 * freed_size / generated_size);</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ac38f1b4fe42e19e644ec63dafe0cc450">counters</a>-&gt;wasm_module_freed_code_size_percent()-&gt;AddSample(freed_percent);</div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;  }</div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_ac38f1b4fe42e19e644ec63dafe0cc450"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ac38f1b4fe42e19e644ec63dafe0cc450">v8::internal::wasm::NativeModule::counters</a></div><div class="ttdeci">Counters * counters() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00890">wasm-code-manager.h:890</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeAllocator_html_a3a969b7f9241a75ec3b51dd31aacf3ad"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a3a969b7f9241a75ec3b51dd31aacf3ad">v8::internal::wasm::WasmCodeAllocator::freed_code_size</a></div><div class="ttdeci">size_t freed_code_size() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00554">wasm-code-manager.h:554</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a40b71b3558e4b5297d51003612578a81"><div class="ttname"><a href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">v8::base::MutexGuard</a></div><div class="ttdeci">LockGuard&lt; Mutex &gt; MutexGuard</div><div class="ttdef"><b>Definition:</b> <a href="mutex_8h_source.html#l00219">mutex.h:219</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a3adc957d22d860687fc2579215adeb80ad75c39b2587910e64fbca44ad513c9e0"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a3adc957d22d860687fc2579215adeb80ad75c39b2587910e64fbca44ad513c9e0">v8::internal::wasm::kWasmOrigin</a></div><div class="ttdeci">@ kWasmOrigin</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00125">wasm-module.h:125</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a93b2e7c72fa0878021b495b6f3cec820"><div class="ttname"><a href="namespacev8_1_1internal.html#a93b2e7c72fa0878021b495b6f3cec820">v8::internal::KB</a></div><div class="ttdeci">constexpr int KB</div><div class="ttdef"><b>Definition:</b> <a href="v8-internal_8h_source.html#l00055">v8-internal.h:55</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_a7871ace0ad8518a7de0c52ac35e43eb2"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a7871ace0ad8518a7de0c52ac35e43eb2">v8::internal::wasm::WasmModule::origin</a></div><div class="ttdeci">const ModuleOrigin origin</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00734">wasm-module.h:734</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="counters_8cc_source.html#l00050">v8::internal::Histogram::AddSample()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01051">code_allocator_</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00548">v8::internal::wasm::WasmCodeAllocator::committed_code_space()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00890">counters()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00489">DCHECK_LE</a>, <a class="el" href="counters_8h_source.html#l00164">v8::internal::Histogram::Enabled()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02867">EstimateCurrentMemoryConsumption()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00554">v8::internal::wasm::WasmCodeAllocator::freed_code_size()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00551">v8::internal::wasm::WasmCodeAllocator::generated_code_size()</a>, <a class="el" href="v8-internal_8h_source.html#l00055">v8::internal::KB</a>, <a class="el" href="wasm-module_8h_source.html#l00125">v8::internal::wasm::kWasmOrigin</a>, <a class="el" href="v8-internal_8h_source.html#l00056">v8::internal::MB</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00766">module()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01063">module_</a>, <a class="el" href="wasm-module_8h_source.html#l00734">v8::internal::wasm::WasmModule::origin</a>, and <a class="el" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a>.</p>
<div id="dynsection-96" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-96-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-96-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-96-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_ae66433eec52661194dacaa6ded13bf6d_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="accda223b2ca1c9a586294930c2081651"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accda223b2ca1c9a586294930c2081651">&#9670;&nbsp;</a></span>set_fast_api_signature()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::NativeModule::set_fast_api_signature </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>func_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacev8_1_1internal.html#a46aa1060b5e412c7e07bcc58b9f6f4b0">MachineSignature</a> *&#160;</td>
          <td class="paramname"><em>sig</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l00948">948</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;                                                                           {</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a88a5291abd2f5a20451c2ca823195423">fast_api_signatures_</a>[func_index] = <a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>;</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;  }</div>
<div class="ttc" id="anamespacev8_1_1internal_html_a6135f0ef57de8d381e3225f6659c617a"><div class="ttname"><a href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">v8::internal::sig</a></div><div class="ttdeci">kWasmInternalFunctionIndirectPointerTag kProtectedInstanceDataOffset sig</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects-inl_8h_source.html#l00471">wasm-objects-inl.h:471</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-objects-inl_8h_source.html#l00471">v8::internal::sig</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l00360">v8::internal::wasm::anonymous_namespace{module-instantiate.cc}::CheckForWellKnownImport()</a>.</p>
<div id="dynsection-97" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-97-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-97-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-97-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_accda223b2ca1c9a586294930c2081651_icgraph.svg" width="100%" height="361"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a6e2cf8eb151bb99832f4a74921d151dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e2cf8eb151bb99832f4a74921d151dc">&#9670;&nbsp;</a></span>set_lazy_compile_frozen()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::NativeModule::set_lazy_compile_frozen </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a>&#160;</td>
          <td class="paramname"><em>frozen</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l00761">761</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;{ <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a6e15b436b2dc2f0d747b850ee83754c3">lazy_compile_frozen_</a> = frozen; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad3b78decf5b6f968e1e563f3759515b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3b78decf5b6f968e1e563f3759515b5">&#9670;&nbsp;</a></span>SetDebugState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::NativeModule::SetDebugState </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#a25f59e94501ad0ce6680be236623cc3c">DebugState</a>&#160;</td>
          <td class="paramname"><em>new_debug_state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l02748">2748</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;                                                           {</div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;  <span class="comment">// Do not tier down asm.js (just never change the tiering state).</span></div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a04f2f50aa9d1cbc1dc28e60dbe687f74">module</a>()-&gt;origin != <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a3adc957d22d860687fc2579215adeb80ad75c39b2587910e64fbca44ad513c9e0">kWasmOrigin</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160; </div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> lock(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>);</div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a96de8f1452ef286df5abc0ac17f07517">debug_state_</a> = new_debug_state;</div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-code-manager_8h_source.html#l01097">allocation_mutex_</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01137">debug_state_</a>, <a class="el" href="wasm-module_8h_source.html#l00125">v8::internal::wasm::kWasmOrigin</a>, and <a class="el" href="wasm-code-manager_8h_source.html#l00766">module()</a>.</p>
<div id="dynsection-98" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-98-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-98-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-98-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_ad3b78decf5b6f968e1e563f3759515b5_cgraph.svg" width="464" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="af7f35e6098885c81d9915c96d6b7cf9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7f35e6098885c81d9915c96d6b7cf9d">&#9670;&nbsp;</a></span>SetWasmSourceMap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::NativeModule::SetWasmSourceMap </td>
          <td>(</td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmModuleSourceMap.html">WasmModuleSourceMap</a> &gt;&#160;</td>
          <td class="paramname"><em>source_map</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l01709">1709</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;                                                   {</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a24ead28dfd80e92c25f7fc48bb0c310e">source_map_</a> = std::move(source_map);</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-code-manager_8h_source.html#l01065">source_map_</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l00286">v8::internal::wasm::WasmCode::LogCode()</a>.</p>
<div id="dynsection-99" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-99-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-99-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-99-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_af7f35e6098885c81d9915c96d6b7cf9d_icgraph.svg" width="488" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a61b6504416cddebca8e11c5635d5c203"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61b6504416cddebca8e11c5635d5c203">&#9670;&nbsp;</a></span>SetWireBytes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::NativeModule::SetWireBytes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1base_1_1OwnedVector.html">base::OwnedVector</a>&lt; const uint8_t &gt;&#160;</td>
          <td class="paramname"><em>wire_bytes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l01977">1977</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;                                                                         {</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;  <span class="keyword">auto</span> shared_wire_bytes =</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;      std::make_shared&lt;base::OwnedVector&lt;const uint8_t&gt;&gt;(std::move(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a957b590c391c9dc0949cdaff8c94cf05">wire_bytes</a>));</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;  std::atomic_store(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a18104681db5670057e0e3d3490b04426">wire_bytes_</a>, shared_wire_bytes);</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;  <span class="keywordflow">if</span> (!shared_wire_bytes-&gt;empty()) {</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a2b68ddfcd3230a171f04c7a0b2231394">compilation_state_</a>-&gt;SetWireBytesStorage(</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;        std::make_shared&lt;NativeModuleWireBytesStorage&gt;(</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;            std::move(shared_wire_bytes)));</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;  }</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-code-manager_8h_source.html#l01086">compilation_state_</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00763">wire_bytes()</a>, and <a class="el" href="wasm-code-manager_8h_source.html#l01069">wire_bytes_</a>.</p>
<div id="dynsection-100" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-100-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-100-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-100-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a61b6504416cddebca8e11c5635d5c203_cgraph.svg" width="476" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ac1c67fdd89ee3efcc205ed3885a12b36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1c67fdd89ee3efcc205ed3885a12b36">&#9670;&nbsp;</a></span>shared_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;const <a class="el" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html">WasmModule</a>&gt; v8::internal::wasm::NativeModule::shared_module </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l00767">767</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>; }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="module-compiler_8cc_source.html#l02043">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::ExecuteCompilationUnits()</a>.</p>
<div id="dynsection-101" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-101-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-101-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-101-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_ac1c67fdd89ee3efcc205ed3885a12b36_icgraph.svg" width="100%" height="444"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a7ba45734b63b45fbed4e98f86795817d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ba45734b63b45fbed4e98f86795817d">&#9670;&nbsp;</a></span>should_update_code_table()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a> v8::internal::wasm::NativeModule::should_update_code_table </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a> *&#160;</td>
          <td class="paramname"><em>new_code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a> *&#160;</td>
          <td class="paramname"><em>prior_code</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l01558">1558</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;                                                                        {</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;  <span class="keywordflow">if</span> (new_code-&gt;for_debugging() == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a11df36d2f23b22c6772f3a5f08731b5badca2ce91f5a20ba7013f50c59576421e">kForStepping</a>) {</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;    <span class="comment">// Never install stepping code.</span></div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;  }</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a96de8f1452ef286df5abc0ac17f07517">debug_state_</a> == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a25f59e94501ad0ce6680be236623cc3ca53bd2a5ccb174a582cc08c5894ad825d">kDebugging</a>) {</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;    <span class="keywordflow">if</span> (new_code-&gt;for_debugging() == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a11df36d2f23b22c6772f3a5f08731b5ba1874820c42ab45140e0e50e44f8e96d5">kNotForDebugging</a>) {</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;      <span class="comment">// In debug state, only install debug code.</span></div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;    }</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;    <span class="keywordflow">if</span> (prior_code &amp;&amp; prior_code-&gt;for_debugging() &gt; new_code-&gt;for_debugging()) {</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;      <span class="comment">// In debug state, install breakpoints over normal debug code.</span></div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;    }</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;  }</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;  <span class="comment">// In kNoDebugging:</span></div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;  <span class="comment">// Install if the tier is higher than before or we replace debugging code with</span></div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;  <span class="comment">// non-debugging code.</span></div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;  <span class="comment">// Also allow installing a lower tier if deopt support is enabled and the</span></div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;  <span class="comment">// prior code has deopt data. (The check for deopt_data is needed as with</span></div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;  <span class="comment">// compilation hints, both baseline and top tier compilation run concurrently</span></div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;  <span class="comment">// in the background and can finish in any order.)</span></div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;  <span class="keywordflow">if</span> (prior_code &amp;&amp; !prior_code-&gt;for_debugging() &amp;&amp;</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;      prior_code-&gt;tier() &gt; new_code-&gt;tier() &amp;&amp;</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;      (!<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_deopt || prior_code-&gt;deopt_data().empty())) {</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;  }</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;}</div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a11df36d2f23b22c6772f3a5f08731b5badca2ce91f5a20ba7013f50c59576421e"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a11df36d2f23b22c6772f3a5f08731b5badca2ce91f5a20ba7013f50c59576421e">v8::internal::wasm::kForStepping</a></div><div class="ttdeci">@ kForStepping</div><div class="ttdef"><b>Definition:</b> <a href="wasm-tier_8h_source.html#l00051">wasm-tier.h:50</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-code-manager_8h_source.html#l01137">debug_state_</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00192">v8::internal::wasm::WasmCode::deopt_data()</a>, <a class="el" href="vector_8h_source.html#l00073">v8::base::Vector&lt; T &gt;::empty()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00357">v8::internal::wasm::WasmCode::for_debugging()</a>, <a class="el" href="wasm-tier_8h_source.html#l00053">v8::internal::wasm::kDebugging</a>, <a class="el" href="wasm-tier_8h_source.html#l00050">v8::internal::wasm::kForStepping</a>, <a class="el" href="wasm-tier_8h_source.html#l00047">v8::internal::wasm::kNotForDebugging</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00201">v8::internal::wasm::WasmCode::tier()</a>, and <a class="el" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l01485">PublishCodeLocked()</a>.</p>
<div id="dynsection-102" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-102-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-102-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-102-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a7ba45734b63b45fbed4e98f86795817d_cgraph.svg" width="642" height="235"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-103" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-103-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-103-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-103-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a7ba45734b63b45fbed4e98f86795817d_icgraph.svg" width="100%" height="580"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a1c057cbc9d9aa438265c064cea83cfa1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c057cbc9d9aa438265c064cea83cfa1">&#9670;&nbsp;</a></span>ShouldLazyCompilationMetricsBeReported()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a> v8::internal::wasm::NativeModule::ShouldLazyCompilationMetricsBeReported </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l00804">804</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;                                                {</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8553b28414775cc988d6c8390723db17">should_metrics_be_reported_</a>.exchange(<span class="keyword">false</span>,</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;                                                std::memory_order_relaxed);</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;  }</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a8553b28414775cc988d6c8390723db17"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8553b28414775cc988d6c8390723db17">v8::internal::wasm::NativeModule::should_metrics_be_reported_</a></div><div class="ttdeci">std::atomic&lt; bool &gt; should_metrics_be_reported_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01151">wasm-code-manager.h:1151</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abd49d28690a9767daffa8d573964e4a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd49d28690a9767daffa8d573964e4a6">&#9670;&nbsp;</a></span>ShouldPgoDataBeWritten()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a> v8::internal::wasm::NativeModule::ShouldPgoDataBeWritten </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l00811">811</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;                                {</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#adbb0e9a3cfa2dbc00a8dde005c00f19b">should_pgo_data_be_written_</a>.exchange(<span class="keyword">false</span>,</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                                                std::memory_order_relaxed);</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;  }</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_adbb0e9a3cfa2dbc00a8dde005c00f19b"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#adbb0e9a3cfa2dbc00a8dde005c00f19b">v8::internal::wasm::NativeModule::should_pgo_data_be_written_</a></div><div class="ttdeci">std::atomic&lt; bool &gt; should_pgo_data_be_written_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01155">wasm-code-manager.h:1155</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a26241881bc9c29ebcbfe2109c4a64cf7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26241881bc9c29ebcbfe2109c4a64cf7">&#9670;&nbsp;</a></span>SnapshotAllOwnedCode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a> * &gt; v8::internal::wasm::NativeModule::SnapshotAllOwnedCode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l01680">1680</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;                                                              {</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> lock(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>);</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae0bf556913299e7eba006b97843cb6ec">new_owned_code_</a>.empty()) <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a28058f3ce35ecfd593d341c0219b21c7">TransferNewOwnedCodeLocked</a>();</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160; </div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;  std::vector&lt;WasmCode*&gt; all_code(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a254b2e8e7c781aa66779e302651293ed">owned_code_</a>.size());</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;  std::transform(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a254b2e8e7c781aa66779e302651293ed">owned_code_</a>.begin(), <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a254b2e8e7c781aa66779e302651293ed">owned_code_</a>.end(), all_code.begin(),</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;                 [](<span class="keyword">auto</span>&amp; entry) { return entry.second.get(); });</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;  std::for_each(all_code.begin(), all_code.end(), <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html#a9148e3cdeac9e7f3d97d518fa66f722c">WasmCodeRefScope::AddRef</a>);</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;  <span class="keywordflow">return</span> all_code;</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-code-manager_8cc_source.html#l03045">v8::internal::wasm::WasmCodeRefScope::AddRef()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01097">allocation_mutex_</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01110">new_owned_code_</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01105">owned_code_</a>, and <a class="el" href="wasm-code-manager_8cc_source.html#l02002">TransferNewOwnedCodeLocked()</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l01060">LogWasmCodes()</a>.</p>
<div id="dynsection-104" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-104-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-104-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-104-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a26241881bc9c29ebcbfe2109c4a64cf7_cgraph.svg" width="100%" height="459"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-105" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-105-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-105-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-105-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a26241881bc9c29ebcbfe2109c4a64cf7_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a42240b9985270350c5a898e36da4dcf8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42240b9985270350c5a898e36da4dcf8">&#9670;&nbsp;</a></span>SnapshotCodeTable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; std::vector&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a> * &gt;, std::vector&lt; <a class="el" href="namespacev8_1_1internal_1_1wasm.html#afaaaa7fd7a0bc697a4d91133566c5c6e">WellKnownImport</a> &gt; &gt; v8::internal::wasm::NativeModule::SnapshotCodeTable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l01666">1666</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;                                      {</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> lock(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>);</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a0ec92359918c6ef6fe010cafb580eb86">WasmCode</a>** start = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9772fe3f2a97d58b67bdb119ecccb1a4">code_table_</a>.get();</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a0ec92359918c6ef6fe010cafb580eb86">WasmCode</a>** <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a> = start + <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_declared_functions;</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a0ec92359918c6ef6fe010cafb580eb86">WasmCode</a>* <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> : <a class="code" href="namespacev8_1_1base.html#a5bfc65f27076e49eb7752a4fb4d45acb">base::VectorOf</a>(start, <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a> - start)) {</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>) <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html#a9148e3cdeac9e7f3d97d518fa66f722c">WasmCodeRefScope::AddRef</a>(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>);</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;  }</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;  std::vector&lt;WellKnownImport&gt; import_statuses(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_imported_functions);</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;  <span class="keywordflow">for</span> (uint32_t <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_imported_functions; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;    import_statuses[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;type_feedback.well_known_imports.get(<a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;  }</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;  <span class="keywordflow">return</span> {std::vector&lt;WasmCode*&gt;{start, <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>}, std::move(import_statuses)};</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;}</div>
<div class="ttc" id="anamespacev8_1_1base_html_a5bfc65f27076e49eb7752a4fb4d45acb"><div class="ttname"><a href="namespacev8_1_1base.html#a5bfc65f27076e49eb7752a4fb4d45acb">v8::base::VectorOf</a></div><div class="ttdeci">constexpr Vector&lt; T &gt; VectorOf(T *start, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="vector_8h_source.html#l00359">vector.h:359</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_html_a51dcb90ae077172b12d63271c7e7ba0c"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">v8::internal::compiler::end</a></div><div class="ttdeci">Node::Uses::const_iterator end(const Node::Uses &amp;uses)</div><div class="ttdef"><b>Definition:</b> <a href="node_8h_source.html#l00711">node.h:711</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-code-manager_8cc_source.html#l03045">v8::internal::wasm::WasmCodeRefScope::AddRef()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01097">allocation_mutex_</a>, <a class="el" href="flag-definitions_8h_source.html#l00546">code</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01116">code_table_</a>, <a class="el" href="node_8h_source.html#l00711">v8::internal::compiler::end()</a>, <a class="el" href="json-stringifier_8cc_source.html#l00548">v8::internal::anonymous_namespace{json-stringifier.cc}::i</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01063">module_</a>, and <a class="el" href="vector_8h_source.html#l00359">v8::base::VectorOf()</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-serialization_8cc_source.html#l00628">v8::internal::wasm::WasmSerializer::WasmSerializer()</a>.</p>
<div id="dynsection-106" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-106-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-106-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-106-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a42240b9985270350c5a898e36da4dcf8_cgraph.svg" width="100%" height="432"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-107" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-107-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-107-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-107-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a42240b9985270350c5a898e36da4dcf8_icgraph.svg" width="522" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="adc7b17e057099e2d69cd3902bd13c7f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc7b17e057099e2d69cd3902bd13c7f3">&#9670;&nbsp;</a></span>sum_lazy_compilation_time_in_ms()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int64_t v8::internal::wasm::NativeModule::sum_lazy_compilation_time_in_ms </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l00790">790</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;                                                  {</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1a7ccb8d9aed0eed2230ebec996762dd">sum_lazy_compilation_time_in_micro_sec_</a>.load(</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;               std::memory_order_relaxed) /</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;           1000;</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a21586b2fdaae541148e2d8bdb100bf8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21586b2fdaae541148e2d8bdb100bf8b">&#9670;&nbsp;</a></span>SumLiftoffCodeSizeForTesting()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal.html#a4725962ca3c127eb5871cb47293aee95">size_t</a> v8::internal::wasm::NativeModule::SumLiftoffCodeSizeForTesting </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l02807">2807</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;                                                        {</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> guard(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>);</div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;  <span class="keyword">const</span> uint32_t <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a4210dcf60ee0c22b95de93af93f17f86">num_functions</a> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_declared_functions;</div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;  <span class="keywordtype">size_t</span> codesize_liftoff = 0;</div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;  <span class="keywordflow">for</span> (uint32_t <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a4210dcf60ee0c22b95de93af93f17f86">num_functions</a>; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a0ec92359918c6ef6fe010cafb580eb86">WasmCode</a>* <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9772fe3f2a97d58b67bdb119ecccb1a4">code_table_</a>[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>];</div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> &amp;&amp; <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;is_liftoff()) {</div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;      codesize_liftoff += <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;instructions_size();</div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;    }</div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;  }</div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;  <span class="keywordflow">return</span> codesize_liftoff;</div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-code-manager_8h_source.html#l01097">allocation_mutex_</a>, <a class="el" href="flag-definitions_8h_source.html#l00546">code</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01116">code_table_</a>, <a class="el" href="json-stringifier_8cc_source.html#l00548">v8::internal::anonymous_namespace{json-stringifier.cc}::i</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01063">module_</a>, and <a class="el" href="wasm-code-manager_8h_source.html#l00752">num_functions()</a>.</p>
<div id="dynsection-108" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-108-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-108-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-108-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a21586b2fdaae541148e2d8bdb100bf8b_cgraph.svg" width="412" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a23ef76714c5b5dc6571cba072eb3dae1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23ef76714c5b5dc6571cba072eb3dae1">&#9670;&nbsp;</a></span>tiering_budget_array()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;uint32_t&gt;* v8::internal::wasm::NativeModule::tiering_budget_array </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l00886">886</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                                                    {</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#adbdc70d6536478990345946c321af51e">tiering_budgets_</a>.get();</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;  }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="wasm-objects_8cc_source.html#l01686">v8::internal::WasmTrustedInstanceData::New()</a>, <a class="el" href="wasm-serialization_8cc_source.html#l01049">v8::internal::wasm::NativeModuleDeserializer::ReadTieringBudget()</a>, <a class="el" href="wasm-serialization_8cc_source.html#l00417">v8::internal::wasm::NativeModuleSerializer::WriteCode()</a>, and <a class="el" href="wasm-serialization_8cc_source.html#l00565">v8::internal::wasm::NativeModuleSerializer::WriteTieringBudget()</a>.</p>
<div id="dynsection-109" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-109-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-109-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-109-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a23ef76714c5b5dc6571cba072eb3dae1_icgraph.svg" width="100%" height="525"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a28058f3ce35ecfd593d341c0219b21c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28058f3ce35ecfd593d341c0219b21c7">&#9670;&nbsp;</a></span>TransferNewOwnedCodeLocked()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::NativeModule::TransferNewOwnedCodeLocked </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l02002">2002</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;                                                    {</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>.<a class="code" href="classv8_1_1base_1_1RecursiveMutex.html#a63e202453c65074f4a84b8f0b2435a21">AssertHeld</a>();</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae0bf556913299e7eba006b97843cb6ec">new_owned_code_</a>.empty());</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;  <span class="comment">// Sort the {new_owned_code_} vector reversed, such that the position of the</span></div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;  <span class="comment">// previously inserted element can be used as a hint for the next element. If</span></div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;  <span class="comment">// elements in {new_owned_code_} are adjacent, this will guarantee</span></div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;  <span class="comment">// constant-time insertion into the map.</span></div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;  <a class="code" href="namespacev8_1_1base.html#ae8575343c68d7ad91cf7aaf24cd6643f">std::sort</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae0bf556913299e7eba006b97843cb6ec">new_owned_code_</a>.begin(), <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae0bf556913299e7eba006b97843cb6ec">new_owned_code_</a>.end(),</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;            [](<span class="keyword">const</span> std::unique_ptr&lt;WasmCode&gt;&amp; a,</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;               <span class="keyword">const</span> std::unique_ptr&lt;WasmCode&gt;&amp; b) {</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;              return a-&gt;instruction_start() &gt; b-&gt;instruction_start();</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;            });</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;  <span class="keyword">auto</span> insertion_hint = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a254b2e8e7c781aa66779e302651293ed">owned_code_</a>.end();</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> : <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae0bf556913299e7eba006b97843cb6ec">new_owned_code_</a>) {</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a254b2e8e7c781aa66779e302651293ed">owned_code_</a>.count(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;instruction_start()));</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;    <span class="comment">// Check plausibility of the insertion hint.</span></div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(insertion_hint == <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a254b2e8e7c781aa66779e302651293ed">owned_code_</a>.end() ||</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;           insertion_hint-&gt;first &gt; <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;instruction_start());</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;    insertion_hint = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a254b2e8e7c781aa66779e302651293ed">owned_code_</a>.emplace_hint(</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;        insertion_hint, <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;instruction_start(), std::move(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>));</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;  }</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae0bf556913299e7eba006b97843cb6ec">new_owned_code_</a>.clear();</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;}</div>
<div class="ttc" id="anamespacev8_1_1base_html_ae8575343c68d7ad91cf7aaf24cd6643f"><div class="ttname"><a href="namespacev8_1_1base.html#ae8575343c68d7ad91cf7aaf24cd6643f">v8::base::sort</a></div><div class="ttdeci">void sort(C &amp;container)</div><div class="ttdef"><b>Definition:</b> <a href="container-utils_8h_source.html#l00111">container-utils.h:111</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-code-manager_8h_source.html#l01097">allocation_mutex_</a>, <a class="el" href="mutex_8h_source.html#l00153">v8::base::RecursiveMutex::AssertHeld()</a>, <a class="el" href="flag-definitions_8h_source.html#l00546">code</a>, <a class="el" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00484">DCHECK_EQ</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01110">new_owned_code_</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01105">owned_code_</a>, and <a class="el" href="container-utils_8h_source.html#l00111">v8::base::sort()</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l02820">FreeCode()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02026">Lookup()</a>, and <a class="el" href="wasm-code-manager_8cc_source.html#l01680">SnapshotAllOwnedCode()</a>.</p>
<div id="dynsection-110" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-110-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-110-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-110-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a28058f3ce35ecfd593d341c0219b21c7_cgraph.svg" width="100%" height="469"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-111" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-111-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-111-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-111-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a28058f3ce35ecfd593d341c0219b21c7_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="aab8f9c8c59849442dbe80b599f785731"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab8f9c8c59849442dbe80b599f785731">&#9670;&nbsp;</a></span>TrySetFastApiCallTarget()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a> v8::internal::wasm::NativeModule::TrySetFastApiCallTarget </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>func_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a>&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l00917">917</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;                                                               {</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a> old_val =</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8a983a27240228a773a3764c6ba899df">fast_api_targets_</a>[func_index].load(std::memory_order_relaxed);</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    <span class="keywordflow">if</span> (old_val == target) {</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    }</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    <span class="keywordflow">if</span> (old_val != <a class="code" href="namespacev8_1_1internal.html#acf6bafb5b8483a580f375393c413ee02">kNullAddress</a>) {</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;      <span class="comment">// If already a different target is stored, then there are conflicting</span></div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;      <span class="comment">// targets and fast api calls are not possible. In that case the import</span></div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;      <span class="comment">// will be marked as not suitable for wellknown imports, and the</span></div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;      <span class="comment">// `fast_api_target` of this import will never be used anymore in the</span></div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;      <span class="comment">// future.</span></div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    }</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8a983a27240228a773a3764c6ba899df">fast_api_targets_</a>[func_index].compare_exchange_strong(</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;            old_val, target, std::memory_order_relaxed)) {</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    }</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    <span class="comment">// If a concurrent call to `TrySetFastAPICallTarget` set the call target to</span></div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <span class="comment">// the same value as this call, we consider also this call successful.</span></div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    <span class="keywordflow">return</span> old_val == target;</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;  }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="v8-internal_8h_source.html#l00053">v8::internal::kNullAddress</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l00360">v8::internal::wasm::anonymous_namespace{module-instantiate.cc}::CheckForWellKnownImport()</a>.</p>
<div id="dynsection-112" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-112-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-112-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-112-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_aab8f9c8c59849442dbe80b599f785731_icgraph.svg" width="100%" height="361"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a7649dfa8e42bda70b47f85648f92809e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7649dfa8e42bda70b47f85648f92809e">&#9670;&nbsp;</a></span>turbofan_code_size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal.html#a4725962ca3c127eb5871cb47293aee95">size_t</a> v8::internal::wasm::NativeModule::turbofan_code_size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l00780">780</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;                                    {</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ad5d2cbe8a6fa3ebceb5d11d309fb38c8">turbofan_code_size_</a>.load(std::memory_order_relaxed);</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;  }</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_ad5d2cbe8a6fa3ebceb5d11d309fb38c8"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ad5d2cbe8a6fa3ebceb5d11d309fb38c8">v8::internal::wasm::NativeModule::turbofan_code_size_</a></div><div class="ttdeci">std::atomic&lt; size_t &gt; turbofan_code_size_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01145">wasm-code-manager.h:1145</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab8a1a00ef10cda726268c29b8bcedcda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8a1a00ef10cda726268c29b8bcedcda">&#9670;&nbsp;</a></span>UpdateCodeSize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::NativeModule::UpdateCodeSize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacev8_1_1internal.html#a4725962ca3c127eb5871cb47293aee95">size_t</a>&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9">ExecutionTier</a>&#160;</td>
          <td class="paramname"><em>tier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#a11df36d2f23b22c6772f3a5f08731b5b">ForDebugging</a>&#160;</td>
          <td class="paramname"><em>for_debugging</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l01782">1782</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;                                                              {</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;  <span class="keywordflow">if</span> (for_debugging != <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a11df36d2f23b22c6772f3a5f08731b5ba1874820c42ab45140e0e50e44f8e96d5">kNotForDebugging</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;  <span class="comment">// Count jump tables (ExecutionTier::kNone) for both Liftoff and TurboFan as</span></div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;  <span class="comment">// this is shared code.</span></div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#a878783ad616ead06040f7d4b080f6a02">tier</a> != <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31">ExecutionTier::kTurbofan</a>) <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5f57f21ee0ee562fb651068bbcda8c05">liftoff_code_size_</a>.fetch_add(<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#a878783ad616ead06040f7d4b080f6a02">tier</a> != <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a3a4891ee13d971db79eeae3a6d61d151">ExecutionTier::kLiftoff</a>) <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ad5d2cbe8a6fa3ebceb5d11d309fb38c8">turbofan_code_size_</a>.fetch_add(<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;}</div>
<div class="ttc" id="aflag-definitions_8h_html_a3df0b28b666e942ffb9d7d04acdb9715"><div class="ttname"><a href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enables Turboshaft s StaticAssert and CheckTurboshaftTypeOf operations Wasm code into JS functions via the JS to Wasm wrappers are still inlined in TurboFan For controlling whether to at see turbo inline js wasm calls enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information enable Turbolev features that we want to ship in the not too far future trace individual Turboshaft reduction steps trace intermediate Turboshaft reduction steps trace Turboshaft s if else to switch reducer invocation count threshold for early optimization Enables optimizations which favor memory size over execution speed Enables sampling allocation profiler with X as a sample interval min size of a semi the new space consists of two semi spaces max size of the preconfigured old space size(in Mbytes)&quot;)     DEFINE_INT(random_gc_interval</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a3a4891ee13d971db79eeae3a6d61d151">v8::internal::wasm::kLiftoff</a>, <a class="el" href="wasm-tier_8h_source.html#l00047">v8::internal::wasm::kNotForDebugging</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31">v8::internal::wasm::kTurbofan</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01144">liftoff_code_size_</a>, <a class="el" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size()</a>, and <a class="el" href="wasm-code-manager_8h_source.html#l01145">turbofan_code_size_</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l01320">AddCodeWithCodeSpace()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01625">AddDeserializedCode()</a>, and <a class="el" href="wasm-code-manager_8cc_source.html#l01740">CreateEmptyJumpTableInRegionLocked()</a>.</p>
<div id="dynsection-113" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-113-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-113-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-113-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_ab8a1a00ef10cda726268c29b8bcedcda_cgraph.svg" width="343" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-114" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-114-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-114-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-114-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_ab8a1a00ef10cda726268c29b8bcedcda_icgraph.svg" width="100%" height="596"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a02cf7c113ae0ade3b2943210fa4bd02a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02cf7c113ae0ade3b2943210fa4bd02a">&#9670;&nbsp;</a></span>UpdateWellKnownImports()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::NativeModule::UpdateWellKnownImports </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; <a class="el" href="namespacev8_1_1internal_1_1wasm.html#afaaaa7fd7a0bc697a4d91133566c5c6e">WellKnownImport</a> &gt;&#160;</td>
          <td class="paramname"><em>entries</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l01457">1457</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;                                         {</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;  <span class="comment">// The {~WasmCodeRefScope} destructor must run after releasing the {lock},</span></div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;  <span class="comment">// to avoid lock order inversion.</span></div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;  WasmCodeRefScope ref_scope;</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> lock(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>);</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1WellKnownImportsList.html#ad1d42dd019b4556bceb6911f5314d6e5">WellKnownImportsList::UpdateResult</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> =</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;type_feedback.well_known_imports.Update(entries);</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> == <a class="code" href="classv8_1_1internal_1_1wasm_1_1WellKnownImportsList.html#ad1d42dd019b4556bceb6911f5314d6e5a645a35f6c5fc6147785da45d7e871648">WellKnownImportsList::UpdateResult::kFoundIncompatibility</a>) {</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#acd3f32a91369d4cdb1e11b81b8f4d27f">RemoveCompiledCode</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#addb6002d53e166907484bf3715ff599ca69b3b2c8ba3f6cffe3967b55e0cb44fe">NativeModule::RemoveFilter::kRemoveTurbofanCode</a>);</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;  }</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_acd3f32a91369d4cdb1e11b81b8f4d27f"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#acd3f32a91369d4cdb1e11b81b8f4d27f">v8::internal::wasm::NativeModule::RemoveCompiledCode</a></div><div class="ttdeci">void RemoveCompiledCode(RemoveFilter filter)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02778">wasm-code-manager.cc:2778</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WellKnownImportsList_html_ad1d42dd019b4556bceb6911f5314d6e5"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WellKnownImportsList.html#ad1d42dd019b4556bceb6911f5314d6e5">v8::internal::wasm::WellKnownImportsList::UpdateResult</a></div><div class="ttdeci">UpdateResult</div><div class="ttdef"><b>Definition:</b> <a href="well-known-imports_8h_source.html#l00121">well-known-imports.h:121</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WellKnownImportsList_html_ad1d42dd019b4556bceb6911f5314d6e5a645a35f6c5fc6147785da45d7e871648"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WellKnownImportsList.html#ad1d42dd019b4556bceb6911f5314d6e5a645a35f6c5fc6147785da45d7e871648">v8::internal::wasm::WellKnownImportsList::UpdateResult::kFoundIncompatibility</a></div><div class="ttdeci">@ kFoundIncompatibility</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-code-manager_8h_source.html#l01097">allocation_mutex_</a>, <a class="el" href="classv8_1_1internal_1_1wasm_1_1WellKnownImportsList.html#ad1d42dd019b4556bceb6911f5314d6e5a645a35f6c5fc6147785da45d7e871648">v8::internal::wasm::WellKnownImportsList::kFoundIncompatibility</a>, <a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#addb6002d53e166907484bf3715ff599ca69b3b2c8ba3f6cffe3967b55e0cb44fe">kRemoveTurbofanCode</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01063">module_</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02778">RemoveCompiledCode()</a>, and <a class="el" href="clamped__math__impl_8h_source.html#l00082">v8::base::internal::result</a>.</p>
<div id="dynsection-115" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-115-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-115-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-115-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a02cf7c113ae0ade3b2943210fa4bd02a_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="aafa35dbd8dcc12821a84cb56594ee2df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafa35dbd8dcc12821a84cb56594ee2df">&#9670;&nbsp;</a></span>UseLazyStubLocked()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::NativeModule::UseLazyStubLocked </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>func_index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8cc_source.html#l01237">1237</a> of file <a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;                                                        {</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>.<a class="code" href="classv8_1_1base_1_1RecursiveMutex.html#a63e202453c65074f4a84b8f0b2435a21">AssertHeld</a>();</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_imported_functions, func_index);</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a>(func_index,</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;            <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_imported_functions + <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_declared_functions);</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;  <span class="comment">// Avoid opening a new write scope per function. The caller should hold the</span></div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;  <span class="comment">// scope instead.</span></div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160; </div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#afad6cb5c96183d22f6dea2a28a3c93e3">lazy_compile_table_</a>);</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160; </div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;  <span class="comment">// Add jump table entry for jump to the lazy compile stub.</span></div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;  uint32_t slot_index = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#abd9cf6cdda997dfabf862a6048202195">declared_function_index</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a04f2f50aa9d1cbc1dc28e60dbe687f74">module</a>(), func_index);</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a2209830df6b59d1ec1fdf66b9352924f">DCHECK_NULL</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9772fe3f2a97d58b67bdb119ecccb1a4">code_table_</a>[slot_index]);</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160; </div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a> jump_table_target =</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a13f6208a4e2ce867f817a5e73e481484">main_jump_table_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0d55fcf378e16413e74e88d7d102ee15">instruction_start</a>() +</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a75af4ab220bf462ded5d5cc62d9da9da">JumpTableAssembler::JumpSlotIndexToOffset</a>(slot_index);</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a> lazy_compile_target =</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#afad6cb5c96183d22f6dea2a28a3c93e3">lazy_compile_table_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0d55fcf378e16413e74e88d7d102ee15">instruction_start</a>() +</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#ab9d14294753cfc3099f3612018a8d6e6">JumpTableAssembler::LazyCompileSlotIndexToOffset</a>(slot_index);</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;  uint64_t signature_hash =</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;signature_hash(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a6feb413448e84daf9201bd8a2381a718">GetTypeCanonicalizer</a>(), func_index);</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a51cd3da10c0980a4c5747dc6862f03ac">PatchJumpTablesLocked</a>(slot_index, lazy_compile_target, jump_table_target,</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;                        signature_hash);</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1JumpTableAssembler_html_ab9d14294753cfc3099f3612018a8d6e6"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#ab9d14294753cfc3099f3612018a8d6e6">v8::internal::wasm::JumpTableAssembler::LazyCompileSlotIndexToOffset</a></div><div class="ttdeci">static uint32_t LazyCompileSlotIndexToOffset(uint32_t slot_index)</div><div class="ttdef"><b>Definition:</b> <a href="jump-table-assembler_8h_source.html#l00106">jump-table-assembler.h:106</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-code-manager_8h_source.html#l01097">allocation_mutex_</a>, <a class="el" href="mutex_8h_source.html#l00153">v8::base::RecursiveMutex::AssertHeld()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01116">code_table_</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00489">DCHECK_LE</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00488">DCHECK_LT</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00491">DCHECK_NOT_NULL</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00490">DCHECK_NULL</a>, <a class="el" href="wasm-module_8h_source.html#l01076">v8::internal::wasm::declared_function_index()</a>, <a class="el" href="canonical-types_8cc_source.html#l00020">v8::internal::wasm::GetTypeCanonicalizer()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00175">v8::internal::wasm::WasmCode::instruction_start()</a>, <a class="el" href="jump-table-assembler_8h_source.html#l00072">v8::internal::wasm::JumpTableAssembler::JumpSlotIndexToOffset()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01081">lazy_compile_table_</a>, <a class="el" href="jump-table-assembler_8h_source.html#l00106">v8::internal::wasm::JumpTableAssembler::LazyCompileSlotIndexToOffset()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01074">main_jump_table_</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00766">module()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l01063">module_</a>, and <a class="el" href="wasm-code-manager_8cc_source.html#l01791">PatchJumpTablesLocked()</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l02778">RemoveCompiledCode()</a>.</p>
<div id="dynsection-116" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-116-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-116-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-116-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_aafa35dbd8dcc12821a84cb56594ee2df_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-117" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-117-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-117-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-117-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_aafa35dbd8dcc12821a84cb56594ee2df_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a957b590c391c9dc0949cdaff8c94cf05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a957b590c391c9dc0949cdaff8c94cf05">&#9670;&nbsp;</a></span>wire_bytes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt;const uint8_t&gt; v8::internal::wasm::NativeModule::wire_bytes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l00763">763</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;                                               {</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    <span class="keywordflow">return</span> std::atomic_load(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a18104681db5670057e0e3d3490b04426">wire_bytes_</a>)-&gt;as_vector();</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;  }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="function-compiler_8cc_source.html#l00168">v8::internal::wasm::WasmCompilationUnit::CompileWasmFunction()</a>, <a class="el" href="names-provider_8cc_source.html#l00472">v8::internal::wasm::CanonicalTypeNamesProvider::DecodeNames()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l00988">DisassembleForLcov()</a>, <a class="el" href="wasm-engine_8cc_source.html#l00399">v8::internal::wasm::NativeModuleCache::Erase()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02867">EstimateCurrentMemoryConsumption()</a>, <a class="el" href="wasm-debug_8cc_source.html#l00903">v8::internal::anonymous_namespace{wasm-debug.cc}::FindNextBreakablePosition()</a>, <a class="el" href="wasm-interpreter-runtime_8cc_source.html#l02837">v8::internal::wasm::InterpreterHandle::GetBytes()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02857">GetNamesProvider()</a>, <a class="el" href="wasm-debug_8cc_source.html#l01182">v8::internal::WasmScript::GetPossibleBreakpoints()</a>, <a class="el" href="wasm-module-debug_8cc_source.html#l00339">v8::internal::wasm::gdb_server::WasmModuleDebug::GetWasmModuleBytes()</a>, <a class="el" href="wasm-engine_8cc_source.html#l01063">v8::internal::wasm::WasmEngine::ImportNativeModule()</a>, <a class="el" href="wasm-objects_8cc_source.html#l01855">v8::internal::WasmTrustedInstanceData::InitDataSegmentArrays()</a>, <a class="el" href="module-instantiate_8cc_source.html#l03254">v8::internal::wasm::InitializeElementSegment()</a>, <a class="el" href="wasm-debug_8cc_source.html#l00766">v8::internal::wasm::DebugInfoImpl::IsAtReturn()</a>, <a class="el" href="turbofan-graph-visualizer_8cc_source.html#l00090">v8::internal::compiler::JsonPrintFunctionSource()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l00286">v8::internal::wasm::WasmCode::LogCode()</a>, <a class="el" href="wasm-module-debug_8cc_source.html#l00063">v8::internal::wasm::gdb_server::ReturnPc()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02224">v8::internal::wasm::InstanceBuilder::SanitizeImports()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01977">SetWireBytes()</a>, <a class="el" href="module-compiler_8cc_source.html#l01253">v8::internal::wasm::ThrowLazyCompilationError()</a>, <a class="el" href="wasm-in-js-inlining-reducer-inl_8h_source.html#l01258">v8::internal::compiler::turboshaft::WasmInJSInliningReducer&lt; Next &gt;::TryInlineWasmCall()</a>, <a class="el" href="wasm-compiler_8cc_source.html#l00145">v8::internal::compiler::WasmGraphBuilder::TryWasmInlining()</a>, <a class="el" href="runtime-test-wasm_8cc_source.html#l00679">v8::internal::anonymous_namespace{runtime-test-wasm.cc}::ValidateFunctionNowIfNeeded()</a>, <a class="el" href="module-compiler_8cc_source.html#l02278">v8::internal::wasm::anonymous_namespace{module-compiler.cc}::ValidateFunctions()</a>, and <a class="el" href="wasm-code-manager_8cc_source.html#l02154">~NativeModule()</a>.</p>
<div id="dynsection-118" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-118-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-118-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-118-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1NativeModule_a957b590c391c9dc0949cdaff8c94cf05_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a id="ab1af0597a7c032ccad7528bc2f28f45c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1af0597a7c032ccad7528bc2f28f45c">&#9670;&nbsp;</a></span>CodeSpaceWriteScope</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classv8_1_1internal_1_1wasm_1_1CodeSpaceWriteScope.html">CodeSpaceWriteScope</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l00970">970</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>

</div>
</div>
<a id="a0ec92359918c6ef6fe010cafb580eb86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ec92359918c6ef6fe010cafb580eb86">&#9670;&nbsp;</a></span>WasmCode</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l00967">967</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>

</div>
</div>
<a id="a6f5398d6af0cd323486b07d55a75b3b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f5398d6af0cd323486b07d55a75b3b4">&#9670;&nbsp;</a></span>WasmCodeAllocator</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html">WasmCodeAllocator</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l00968">968</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>

</div>
</div>
<a id="a07083c066ffccdb3af5b8a33f626fdb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07083c066ffccdb3af5b8a33f626fdb2">&#9670;&nbsp;</a></span>WasmCodeManager</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html">WasmCodeManager</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l00969">969</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a421b976045a5bd2009372a16e6b5e34a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a421b976045a5bd2009372a16e6b5e34a">&#9670;&nbsp;</a></span>allocation_mutex_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1base_1_1RecursiveMutex.html">base::RecursiveMutex</a> v8::internal::wasm::NativeModule::allocation_mutex_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l01097">1097</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l01263">AddCode()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01081">AddCodeForTesting()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01844">AddCodeSpaceLocked()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02642">AddCompiledCode()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01616">AllocateForDeserializedCode()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01740">CreateEmptyJumpTableInRegionLocked()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02867">EstimateCurrentMemoryConsumption()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02039">FindJumpTablesForRegionLocked()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02820">FreeCode()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02123">GetBuiltinInJumptableSlot()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01691">GetCode()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02851">GetDebugInfo()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02857">GetNamesProvider()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02841">GetNumberOfCodeSpacesForTesting()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01698">HasCode()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01703">HasCodeWithTier()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02846">HasDebugInfo()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01192">InitializeJumpTableForLazyCompilation()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02026">Lookup()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l00997">NativeModule()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01815">PatchJumpTableLocked()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01791">PatchJumpTablesLocked()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01428">PublishCode()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01485">PublishCodeLocked()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01589">ReinstallDebugCode()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02778">RemoveCompiledCode()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02748">SetDebugState()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01680">SnapshotAllOwnedCode()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01666">SnapshotCodeTable()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02807">SumLiftoffCodeSizeForTesting()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02002">TransferNewOwnedCodeLocked()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01457">UpdateWellKnownImports()</a>, and <a class="el" href="wasm-code-manager_8cc_source.html#l01237">UseLazyStubLocked()</a>.</p>

</div>
</div>
<a id="aef6c06fd70d54f981aaccf59b8c8ec2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef6c06fd70d54f981aaccf59b8c8ec2f">&#9670;&nbsp;</a></span>code_allocator_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html">WasmCodeAllocator</a> v8::internal::wasm::NativeModule::code_allocator_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l01051">1051</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l01263">AddCode()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01081">AddCodeForTesting()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02642">AddCompiledCode()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01616">AllocateForDeserializedCode()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01740">CreateEmptyJumpTableInRegionLocked()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02820">FreeCode()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02841">GetNumberOfCodeSpacesForTesting()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l00997">NativeModule()</a>, and <a class="el" href="wasm-code-manager_8cc_source.html#l02588">SampleCodeSize()</a>.</p>

</div>
</div>
<a id="a5d842383c864e12e83bdfb982954eb0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d842383c864e12e83bdfb982954eb0f">&#9670;&nbsp;</a></span>code_pointer_handles_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="classv8_1_1internal_1_1WasmCodePointer.html">WasmCodePointer</a>[]&gt; v8::internal::wasm::NativeModule::code_pointer_handles_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l01121">1121</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l01292">FreeCodePointerTableHandles()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02144">GetCodePointerHandle()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01303">InitializeCodePointerTableHandles()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01192">InitializeJumpTableForLazyCompilation()</a>, and <a class="el" href="wasm-code-manager_8cc_source.html#l01791">PatchJumpTablesLocked()</a>.</p>

</div>
</div>
<a id="a5ea4f6a28a06ce63c372bf00abbf0c24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ea4f6a28a06ce63c372bf00abbf0c24">&#9670;&nbsp;</a></span>code_pointer_handles_size_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal.html#a4725962ca3c127eb5871cb47293aee95">size_t</a> v8::internal::wasm::NativeModule::code_pointer_handles_size_ = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l01124">1124</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l01292">FreeCodePointerTableHandles()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01303">InitializeCodePointerTableHandles()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01192">InitializeJumpTableForLazyCompilation()</a>, and <a class="el" href="wasm-code-manager_8cc_source.html#l01815">PatchJumpTableLocked()</a>.</p>

</div>
</div>
<a id="a09649a8d8356bcf64e4bc5f2d3eb1435"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09649a8d8356bcf64e4bc5f2d3eb1435">&#9670;&nbsp;</a></span>code_space_data_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1CodeSpaceData.html">CodeSpaceData</a>&gt; v8::internal::wasm::NativeModule::code_space_data_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l01127">1127</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l01844">AddCodeSpaceLocked()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02867">EstimateCurrentMemoryConsumption()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02039">FindJumpTablesForRegionLocked()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02123">GetBuiltinInJumptableSlot()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01192">InitializeJumpTableForLazyCompilation()</a>, and <a class="el" href="wasm-code-manager_8cc_source.html#l01791">PatchJumpTablesLocked()</a>.</p>

</div>
</div>
<a id="a9772fe3f2a97d58b67bdb119ecccb1a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9772fe3f2a97d58b67bdb119ecccb1a4">&#9670;&nbsp;</a></span>code_table_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>*[]&gt; v8::internal::wasm::NativeModule::code_table_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l01116">1116</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l01844">AddCodeSpaceLocked()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01691">GetCode()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01698">HasCode()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01703">HasCodeWithTier()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l00997">NativeModule()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01485">PublishCodeLocked()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01589">ReinstallDebugCode()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02778">RemoveCompiledCode()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01666">SnapshotCodeTable()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02807">SumLiftoffCodeSizeForTesting()</a>, and <a class="el" href="wasm-code-manager_8cc_source.html#l01237">UseLazyStubLocked()</a>.</p>

</div>
</div>
<a id="a2b68ddfcd3230a171f04c7a0b2231394"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b68ddfcd3230a171f04c7a0b2231394">&#9670;&nbsp;</a></span>compilation_state_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="classv8_1_1internal_1_1wasm_1_1CompilationState.html">CompilationState</a>&gt; v8::internal::wasm::NativeModule::compilation_state_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l01086">1086</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l02867">EstimateCurrentMemoryConsumption()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l00997">NativeModule()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01485">PublishCodeLocked()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02778">RemoveCompiledCode()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01977">SetWireBytes()</a>, and <a class="el" href="wasm-code-manager_8cc_source.html#l02154">~NativeModule()</a>.</p>

</div>
</div>
<a id="a5fb2f2d026a39422d0282640939e2221"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fb2f2d026a39422d0282640939e2221">&#9670;&nbsp;</a></span>compile_imports_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classv8_1_1internal_1_1wasm_1_1CompileTimeImports.html">CompileTimeImports</a> v8::internal::wasm::NativeModule::compile_imports_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l01059">1059</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l02867">EstimateCurrentMemoryConsumption()</a>.</p>

</div>
</div>
<a id="a5ebebb9d6e7368d1969447662c82f320"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ebebb9d6e7368d1969447662c82f320">&#9670;&nbsp;</a></span>coverage_data_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmModuleCoverageData.html">WasmModuleCoverageData</a>&gt; v8::internal::wasm::NativeModule::coverage_data_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l01167">1167</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l00997">NativeModule()</a>.</p>

</div>
</div>
<a id="a3a4dfefd1e5ed6ad2349de15781aee24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a4dfefd1e5ed6ad2349de15781aee24">&#9670;&nbsp;</a></span>debug_info_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="classv8_1_1internal_1_1wasm_1_1DebugInfo.html">DebugInfo</a>&gt; v8::internal::wasm::NativeModule::debug_info_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l01133">1133</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l02867">EstimateCurrentMemoryConsumption()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02820">FreeCode()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02851">GetDebugInfo()</a>, and <a class="el" href="wasm-code-manager_8cc_source.html#l02846">HasDebugInfo()</a>.</p>

</div>
</div>
<a id="a96de8f1452ef286df5abc0ac17f07517"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96de8f1452ef286df5abc0ac17f07517">&#9670;&nbsp;</a></span>debug_state_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#a25f59e94501ad0ce6680be236623cc3c">DebugState</a> v8::internal::wasm::NativeModule::debug_state_ = <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a25f59e94501ad0ce6680be236623cc3ca3aa3bc68e5fce885fa006c7b99c35b93">kNotDebugging</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l01137">1137</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l01589">ReinstallDebugCode()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02748">SetDebugState()</a>, and <a class="el" href="wasm-code-manager_8cc_source.html#l01558">should_update_code_table()</a>.</p>

</div>
</div>
<a id="a0d170e59786ee513493fa893008fb1c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d170e59786ee513493fa893008fb1c1">&#9670;&nbsp;</a></span>enabled_features_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmEnabledFeatures.html">WasmEnabledFeatures</a> v8::internal::wasm::NativeModule::enabled_features_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l01056">1056</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>

</div>
</div>
<a id="a6545f7c0dd32533af15bfea737c3afec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6545f7c0dd32533af15bfea737c3afec">&#9670;&nbsp;</a></span>engine_scope_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1OperationsBarrier_1_1Token.html">OperationsBarrier::Token</a> v8::internal::wasm::NativeModule::engine_scope_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l01047">1047</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l00997">NativeModule()</a>.</p>

</div>
</div>
<a id="a88a5291abd2f5a20451c2ca823195423"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88a5291abd2f5a20451c2ca823195423">&#9670;&nbsp;</a></span>fast_api_signatures_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;std::atomic&lt;const <a class="el" href="namespacev8_1_1internal.html#a46aa1060b5e412c7e07bcc58b9f6f4b0">MachineSignature</a>*&gt;[]&gt; v8::internal::wasm::NativeModule::fast_api_signatures_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l01165">1165</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>

</div>
</div>
<a id="a8a983a27240228a773a3764c6ba899df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a983a27240228a773a3764c6ba899df">&#9670;&nbsp;</a></span>fast_api_targets_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;std::atomic&lt;<a class="el" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a>&gt;[]&gt; v8::internal::wasm::NativeModule::fast_api_targets_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l01164">1164</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>

</div>
</div>
<a id="a780d0d66d704b92fb5222aad79cc68ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a780d0d66d704b92fb5222aad79cc68ad">&#9670;&nbsp;</a></span>kManagedTag</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr <a class="el" href="namespacev8_1_1internal.html#aa5178998e7ae493acf744bc92b1fbdbc">ExternalPointerTag</a> v8::internal::wasm::NativeModule::kManagedTag = <a class="el" href="namespacev8_1_1internal.html#aa5178998e7ae493acf744bc92b1fbdbca30677b51369e49b1ff2e66459d58746d">kWasmNativeModuleTag</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l00614">614</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>

</div>
</div>
<a id="a1c38ae4d35483f2b9c6e5634c7bf4bd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c38ae4d35483f2b9c6e5634c7bf4bd6">&#9670;&nbsp;</a></span>kNeedsFarJumpsBetweenCodeSpaces</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr <a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a> v8::internal::wasm::NativeModule::kNeedsFarJumpsBetweenCodeSpaces = <a class="el" href="flag-definitions_8h.html#a3a9beadc89284d3f78a7d4945b1b4d8c">false</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l00621">621</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l02039">FindJumpTablesForRegionLocked()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02487">v8::internal::wasm::WasmCodeManager::NewNativeModule()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l00697">v8::internal::wasm::anonymous_namespace{wasm-code-manager.cc}::NumWasmFunctionsInFarJumpTable()</a>, and <a class="el" href="wasm-code-manager_8cc_source.html#l00705">v8::internal::wasm::anonymous_namespace{wasm-code-manager.cc}::OverheadPerCodeSpace()</a>.</p>

</div>
</div>
<a id="a6e15b436b2dc2f0d747b850ee83754c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e15b436b2dc2f0d747b850ee83754c3">&#9670;&nbsp;</a></span>lazy_compile_frozen_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a> v8::internal::wasm::NativeModule::lazy_compile_frozen_ = <a class="el" href="flag-definitions_8h.html#a3a9beadc89284d3f78a7d4945b1b4d8c">false</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l01142">1142</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>

</div>
</div>
<a id="afad6cb5c96183d22f6dea2a28a3c93e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afad6cb5c96183d22f6dea2a28a3c93e3">&#9670;&nbsp;</a></span>lazy_compile_table_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>* v8::internal::wasm::NativeModule::lazy_compile_table_ = <a class="el" href="flag-definitions_8h.html#aca14fbede0905858c819226fce3678cc">nullptr</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l01081">1081</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l01844">AddCodeSpaceLocked()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01192">InitializeJumpTableForLazyCompilation()</a>, and <a class="el" href="wasm-code-manager_8cc_source.html#l01237">UseLazyStubLocked()</a>.</p>

</div>
</div>
<a id="a4aa98ad223f8a481e7b6e8fd41f1464a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4aa98ad223f8a481e7b6e8fd41f1464a">&#9670;&nbsp;</a></span>liftoff_bailout_count_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;<a class="el" href="namespacev8_1_1internal.html#a4725962ca3c127eb5871cb47293aee95">size_t</a>&gt; v8::internal::wasm::NativeModule::liftoff_bailout_count_ {0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l01143">1143</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>

</div>
</div>
<a id="a5f57f21ee0ee562fb651068bbcda8c05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f57f21ee0ee562fb651068bbcda8c05">&#9670;&nbsp;</a></span>liftoff_code_size_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;<a class="el" href="namespacev8_1_1internal.html#a4725962ca3c127eb5871cb47293aee95">size_t</a>&gt; v8::internal::wasm::NativeModule::liftoff_code_size_ {0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l01144">1144</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l01782">UpdateCodeSize()</a>.</p>

</div>
</div>
<a id="a372c72a19d442c1add803d8444820d9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a372c72a19d442c1add803d8444820d9b">&#9670;&nbsp;</a></span>log_code_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;<a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a>&gt; v8::internal::wasm::NativeModule::log_code_ {<a class="el" href="flag-definitions_8h.html#a3a9beadc89284d3f78a7d4945b1b4d8c">false</a>}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l01162">1162</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>

</div>
</div>
<a id="ae07d8be3c591174d7f19648d9615d929"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae07d8be3c591174d7f19648d9615d929">&#9670;&nbsp;</a></span>main_far_jump_table_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>* v8::internal::wasm::NativeModule::main_far_jump_table_ = <a class="el" href="flag-definitions_8h.html#aca14fbede0905858c819226fce3678cc">nullptr</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l01077">1077</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l01844">AddCodeSpaceLocked()</a>.</p>

</div>
</div>
<a id="a13f6208a4e2ce867f817a5e73e481484"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13f6208a4e2ce867f817a5e73e481484">&#9670;&nbsp;</a></span>main_jump_table_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>* v8::internal::wasm::NativeModule::main_jump_table_ = <a class="el" href="flag-definitions_8h.html#aca14fbede0905858c819226fce3678cc">nullptr</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l01074">1074</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l01844">AddCodeSpaceLocked()</a>, and <a class="el" href="wasm-code-manager_8cc_source.html#l01237">UseLazyStubLocked()</a>.</p>

</div>
</div>
<a id="a8cd65fcbaf8d39fb8aca0c7814506f45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cd65fcbaf8d39fb8aca0c7814506f45">&#9670;&nbsp;</a></span>max_lazy_compilation_time_in_micro_sec_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;int64_t&gt; v8::internal::wasm::NativeModule::max_lazy_compilation_time_in_micro_sec_ {0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l01150">1150</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l01988">AddLazyCompilationTimeSample()</a>.</p>

</div>
</div>
<a id="a1de1343ab4cdce06843b517c1e2f1ede"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1de1343ab4cdce06843b517c1e2f1ede">&#9670;&nbsp;</a></span>module_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;const <a class="el" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html">WasmModule</a>&gt; v8::internal::wasm::NativeModule::module_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l01063">1063</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l01844">AddCodeSpaceLocked()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01320">AddCodeWithCodeSpace()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01625">AddDeserializedCode()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02867">EstimateCurrentMemoryConsumption()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02144">GetCodePointerHandle()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02097">GetFunctionIndexFromJumpTableSlot()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02857">GetNamesProvider()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01192">InitializeJumpTableForLazyCompilation()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01060">LogWasmCodes()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l00997">NativeModule()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01815">PatchJumpTableLocked()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01485">PublishCodeLocked()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01589">ReinstallDebugCode()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02778">RemoveCompiledCode()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02588">SampleCodeSize()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01666">SnapshotCodeTable()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02807">SumLiftoffCodeSizeForTesting()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01457">UpdateWellKnownImports()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01237">UseLazyStubLocked()</a>, and <a class="el" href="wasm-code-manager_8cc_source.html#l02154">~NativeModule()</a>.</p>

</div>
</div>
<a id="a0758c148983046085c96a76a610a9ff6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0758c148983046085c96a76a610a9ff6">&#9670;&nbsp;</a></span>names_provider_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="classv8_1_1internal_1_1wasm_1_1NamesProvider.html">NamesProvider</a>&gt; v8::internal::wasm::NativeModule::names_provider_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l01135">1135</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l02867">EstimateCurrentMemoryConsumption()</a>, and <a class="el" href="wasm-code-manager_8cc_source.html#l02857">GetNamesProvider()</a>.</p>

</div>
</div>
<a id="ae0bf556913299e7eba006b97843cb6ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0bf556913299e7eba006b97843cb6ec">&#9670;&nbsp;</a></span>new_owned_code_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::unique_ptr&lt;<a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>&gt; &gt; v8::internal::wasm::NativeModule::new_owned_code_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l01110">1110</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l02867">EstimateCurrentMemoryConsumption()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02820">FreeCode()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02026">Lookup()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01485">PublishCodeLocked()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01680">SnapshotAllOwnedCode()</a>, and <a class="el" href="wasm-code-manager_8cc_source.html#l02002">TransferNewOwnedCodeLocked()</a>.</p>

</div>
</div>
<a id="a203dfbaf27e80e6f9a30f2e29dcf15f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a203dfbaf27e80e6f9a30f2e29dcf15f2">&#9670;&nbsp;</a></span>num_lazy_compilations_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;<a class="el" href="classint.html">int</a>&gt; v8::internal::wasm::NativeModule::num_lazy_compilations_ {0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l01148">1148</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l01988">AddLazyCompilationTimeSample()</a>.</p>

</div>
</div>
<a id="a254b2e8e7c781aa66779e302651293ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a254b2e8e7c781aa66779e302651293ed">&#9670;&nbsp;</a></span>owned_code_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a>, std::unique_ptr&lt;<a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>&gt; &gt; v8::internal::wasm::NativeModule::owned_code_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l01105">1105</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l02867">EstimateCurrentMemoryConsumption()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02820">FreeCode()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l02026">Lookup()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01680">SnapshotAllOwnedCode()</a>, and <a class="el" href="wasm-code-manager_8cc_source.html#l02002">TransferNewOwnedCodeLocked()</a>.</p>

</div>
</div>
<a id="a8553b28414775cc988d6c8390723db17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8553b28414775cc988d6c8390723db17">&#9670;&nbsp;</a></span>should_metrics_be_reported_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;<a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a>&gt; v8::internal::wasm::NativeModule::should_metrics_be_reported_ {<a class="el" href="namespacev8_1_1internal.html#a7f5302a7c7fd292ffd4a5f9758bd3686">true</a>}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l01151">1151</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>

</div>
</div>
<a id="adbb0e9a3cfa2dbc00a8dde005c00f19b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbb0e9a3cfa2dbc00a8dde005c00f19b">&#9670;&nbsp;</a></span>should_pgo_data_be_written_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;<a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a>&gt; v8::internal::wasm::NativeModule::should_pgo_data_be_written_ {<a class="el" href="namespacev8_1_1internal.html#a7f5302a7c7fd292ffd4a5f9758bd3686">true</a>}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l01155">1155</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>

</div>
</div>
<a id="a24ead28dfd80e92c25f7fc48bb0c310e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24ead28dfd80e92c25f7fc48bb0c310e">&#9670;&nbsp;</a></span>source_map_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmModuleSourceMap.html">WasmModuleSourceMap</a>&gt; v8::internal::wasm::NativeModule::source_map_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l01065">1065</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l02867">EstimateCurrentMemoryConsumption()</a>, <a class="el" href="wasm-code-manager_8cc_source.html#l01714">GetWasmSourceMap()</a>, and <a class="el" href="wasm-code-manager_8cc_source.html#l01709">SetWasmSourceMap()</a>.</p>

</div>
</div>
<a id="a1a7ccb8d9aed0eed2230ebec996762dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a7ccb8d9aed0eed2230ebec996762dd">&#9670;&nbsp;</a></span>sum_lazy_compilation_time_in_micro_sec_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;int64_t&gt; v8::internal::wasm::NativeModule::sum_lazy_compilation_time_in_micro_sec_ {0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l01149">1149</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l01988">AddLazyCompilationTimeSample()</a>.</p>

</div>
</div>
<a id="adbdc70d6536478990345946c321af51e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbdc70d6536478990345946c321af51e">&#9670;&nbsp;</a></span>tiering_budgets_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;std::atomic&lt;uint32_t&gt;[]&gt; v8::internal::wasm::NativeModule::tiering_budgets_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l01089">1089</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l00997">NativeModule()</a>, and <a class="el" href="wasm-code-manager_8cc_source.html#l02154">~NativeModule()</a>.</p>

</div>
</div>
<a id="ad5d2cbe8a6fa3ebceb5d11d309fb38c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5d2cbe8a6fa3ebceb5d11d309fb38c8">&#9670;&nbsp;</a></span>turbofan_code_size_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;<a class="el" href="namespacev8_1_1internal.html#a4725962ca3c127eb5871cb47293aee95">size_t</a>&gt; v8::internal::wasm::NativeModule::turbofan_code_size_ {0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l01145">1145</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l01782">UpdateCodeSize()</a>.</p>

</div>
</div>
<a id="a18104681db5670057e0e3d3490b04426"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18104681db5670057e0e3d3490b04426">&#9670;&nbsp;</a></span>wire_bytes_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="classv8_1_1base_1_1OwnedVector.html">base::OwnedVector</a>&lt;const uint8_t&gt; &gt; v8::internal::wasm::NativeModule::wire_bytes_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-code-manager_8h_source.html#l01069">1069</a> of file <a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-code-manager_8cc_source.html#l02867">EstimateCurrentMemoryConsumption()</a>, and <a class="el" href="wasm-code-manager_8cc_source.html#l01977">SetWireBytes()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/mnt/V8SourceCode/src/wasm/<a class="el" href="wasm-code-manager_8h_source.html">wasm-code-manager.h</a></li>
<li>/mnt/V8SourceCode/src/wasm/<a class="el" href="wasm-code-manager_8cc_source.html">wasm-code-manager.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacev8.html">v8</a></li><li class="navelem"><a class="el" href="namespacev8_1_1internal.html">internal</a></li><li class="navelem"><a class="el" href="namespacev8_1_1internal_1_1wasm.html">wasm</a></li><li class="navelem"><a class="el" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html">NativeModule</a></li>
    <li class="footer">Generated on Thu Jun 12 2025 16:15:27 for V8 Project by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
