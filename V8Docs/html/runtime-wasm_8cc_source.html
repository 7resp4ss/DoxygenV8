<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>V8 Project: /mnt/V8SourceCode/src/runtime/runtime-wasm.cc Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">V8 Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('runtime-wasm_8cc_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">runtime-wasm.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="runtime-wasm_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright 2016 the V8 project authors. All rights reserved.</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// Use of this source code is governed by a BSD-style license that can be</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// found in the LICENSE file.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160; </div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;optional&gt;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160; </div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="builtins-inl_8h.html">src/builtins/builtins-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="data-view-ops_8h.html">src/builtins/data-view-ops.h</a>&quot;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="assert-scope_8h.html">src/common/assert-scope.h</a>&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="message-template_8h.html">src/common/message-template.h</a>&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wasm-compiler_8h.html">src/compiler/wasm-compiler.h</a>&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="debug_8h.html">src/debug/debug.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="deoptimizer_8h.html">src/deoptimizer/deoptimizer.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="execution_2arguments-inl_8h.html">src/execution/arguments-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="frames_8h.html">src/execution/frames.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="factory_8h.html">src/heap/factory.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="conversions_8h.html">src/numbers/conversions.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="objects-inl_8h.html">src/objects/objects-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="runtime-utils_8h.html">src/runtime/runtime-utils.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="unicode-inl_8h.html">src/strings/unicode-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="trap-handler_8h.html">src/trap-handler/trap-handler.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="module-compiler_8h.html">src/wasm/module-compiler.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="value-type_8h.html">src/wasm/value-type.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wasm-code-manager_8h.html">src/wasm/wasm-code-manager.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wasm-constants_8h.html">src/wasm/wasm-constants.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wasm-debug_8h.html">src/wasm/wasm-debug.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wasm-engine_8h.html">src/wasm/wasm-engine.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wasm-export-wrapper-cache_8h.html">src/wasm/wasm-export-wrapper-cache.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wasm-objects_8h.html">src/wasm/wasm-objects.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wasm-opcodes-inl_8h.html">src/wasm/wasm-opcodes-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wasm-subtyping_8h.html">src/wasm/wasm-subtyping.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wasm-value_8h.html">src/wasm/wasm-value.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160; </div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#if V8_ENABLE_WEBASSEMBLY &amp;&amp; V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wasm-interpreter_8h.html">src/wasm/interpreter/wasm-interpreter.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_WEBASSEMBLY &amp;&amp; V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacev8_1_1internal.html">v8::internal</a> {</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; </div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">// TODO(13036): See if we can find a way to have the stack walker visit</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">// tagged values being passed from Wasm to runtime functions. In the meantime,</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">// disallow access to safe-looking-but-actually-unsafe stack-backed handles</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">// and thereby force manual creation of safe handles (backed by HandleScope).</span></div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1RuntimeArgumentsWithoutHandles.html">   44</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1RuntimeArgumentsWithoutHandles.html">RuntimeArgumentsWithoutHandles</a> : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1Arguments.html">RuntimeArguments</a> {</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1RuntimeArgumentsWithoutHandles.html#a23d3b659495e2f4e7341d8950581366d">   46</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1RuntimeArgumentsWithoutHandles.html#a23d3b659495e2f4e7341d8950581366d">RuntimeArgumentsWithoutHandles</a>(<span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1Arguments.html#a1561aa2be40de5b8c5e4165b4a328b38">length</a>, <a class="code" href="classuintptr__t.html">Address</a>* arguments)</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;      : <a class="code" href="classv8_1_1internal_1_1Arguments.html">RuntimeArguments</a>(<a class="code" href="classv8_1_1internal_1_1Arguments.html#a1561aa2be40de5b8c5e4165b4a328b38">length</a>, arguments) {}</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; </div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <span class="comment">// Disallowing the superclass method.</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> S = Object&gt;</div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1RuntimeArgumentsWithoutHandles.html#a17b2a8774303058046c56257239404ee">   52</a></span>&#160;  <a class="code" href="v8config_8h.html#a24a5c8b6c341efc8dc6de3e6d0d73a50">V8_INLINE</a> <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;S&gt;</a> <a class="code" href="classv8_1_1internal_1_1RuntimeArgumentsWithoutHandles.html#a17b2a8774303058046c56257239404ee">at</a>(<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;};</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="runtime-wasm_8cc.html#ad17036e0d6f2946f374a23991d097d81">   55</a></span>&#160;<span class="preprocessor">#define RuntimeArguments RuntimeArgumentsWithoutHandles</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; </div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">// (End of TODO(13036)-related hackery.)</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160; </div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html">   59</a></span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; </div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> FrameType&gt;</div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03_1_1FrameFinder.html">   62</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03_1_1FrameFinder.html">FrameFinder</a> {</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03_1_1FrameFinder.html#ae48ad4cd361ca73f4a84a98afb2a62b8">   64</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03_1_1FrameFinder.html#ae48ad4cd361ca73f4a84a98afb2a62b8">FrameFinder</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                       std::initializer_list&lt;StackFrame::Type&gt;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                           skipped_frame_types = {StackFrame::EXIT})</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;      : frame_iterator_(isolate, isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#aa3f53c9b9733db23efd7d26d2c854409">thread_local_top</a>(),</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                        StackFrameIterator::FirstStackOnly{}) {</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="comment">// We skip at least one frame.</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a>(0, skipped_frame_types.size());</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> : skipped_frame_types) {</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>, frame_iterator_.frame()-&gt;type());</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;      <a class="code" href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a>(<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;      frame_iterator_.Advance();</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    }</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="comment">// Type check the frame where the iterator stopped now.</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(frame());</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  }</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03_1_1FrameFinder.html#a8dc88471498e192e638338d856e816b5">   81</a></span>&#160;  FrameType* <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03_1_1FrameFinder.html#a8dc88471498e192e638338d856e816b5">frame</a>() { <span class="keywordflow">return</span> FrameType::cast(frame_iterator_.frame()); }</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03_1_1FrameFinder.html#a5afc30497f3374cc08aeaf484088e5fb">   84</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1StackFrameIterator.html">StackFrameIterator</a> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03_1_1FrameFinder.html#a5afc30497f3374cc08aeaf484088e5fb">frame_iterator_</a>;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;};</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#afffb0fd4e34492a5284b3455ea3fd0b3">   87</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WasmTrustedInstanceData&gt;</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#afffb0fd4e34492a5284b3455ea3fd0b3">GetWasmInstanceDataOnStackTop</a>(</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate) {</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <a class="code" href="classuintptr__t.html">Address</a> fp = <a class="code" href="classv8_1_1internal_1_1Isolate.html#a25b6042dc972873b942b76f31686c6e1">Isolate::c_entry_fp</a>(isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#aa3f53c9b9733db23efd7d26d2c854409">thread_local_top</a>());</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  fp = Memory&lt;Address&gt;(fp + <a class="code" href="classv8_1_1internal_1_1CommonFrameConstants.html#aa217c3453e50c5e3c9630130a7caa198">ExitFrameConstants::kCallerFPOffset</a>);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  intptr_t marker =</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      Memory&lt;intptr_t&gt;(fp + <a class="code" href="classv8_1_1internal_1_1CommonFrameConstants.html#a1c035d4bd11c0297bd029da37a15bc43">CommonFrameConstants::kContextOrFrameTypeOffset</a>);</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="classv8_1_1internal_1_1StackFrame.html#a771ed4aa90a71f268873286c332ef0c4">StackFrame::MarkerToType</a>(marker) == StackFrame::WASM ||</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;         <a class="code" href="classv8_1_1internal_1_1StackFrame.html#a771ed4aa90a71f268873286c332ef0c4">StackFrame::MarkerToType</a>(marker) == StackFrame::WASM_SEGMENT_START);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> trusted_instance_data(</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;      Memory&lt;Address&gt;(fp + WasmFrameConstants::kWasmInstanceDataOffset));</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <span class="keywordflow">return</span> Cast&lt;WasmTrustedInstanceData&gt;(trusted_instance_data);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;}</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160; </div>
<div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a91d69493dde3063996c16f6b5e8d7b90">  102</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Context&gt;</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a91d69493dde3063996c16f6b5e8d7b90">GetNativeContextFromWasmInstanceOnStackTop</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate) {</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#afffb0fd4e34492a5284b3455ea3fd0b3">GetWasmInstanceDataOnStackTop</a>(isolate)-&gt;native_context();</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;}</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment">// TODO(jkummerow): Merge this with {SaveAndClearThreadInWasmFlag} from</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment">// runtime-utils.h.</span></div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03_1_1ClearThreadInWasmScope.html">  108</a></span>&#160;<span class="keyword">class </span><a class="code" href="v8config_8h.html#ae5350bf5d731891583a34f9c8c52b532">V8_NODISCARD</a> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03_1_1ClearThreadInWasmScope.html">ClearThreadInWasmScope</a> {</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03_1_1ClearThreadInWasmScope.html#a10c155f3ed9151a28032fba0ea74bf8f">  110</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03_1_1ClearThreadInWasmScope.html#a10c155f3ed9151a28032fba0ea74bf8f">ClearThreadInWasmScope</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate)</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;      : isolate_(isolate), is_thread_in_wasm_(trap_handler::<a class="code" href="namespacev8_1_1internal_1_1trap__handler.html#adbb427a304f105d0c47308791458438a">IsThreadInWasm</a>()) {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="comment">// In some cases we call this from Wasm code inlined into JavaScript</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="comment">// so the flag might not be set.</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordflow">if</span> (is_thread_in_wasm_) {</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1trap__handler.html#afb718a1f588f90344d3fcda0c2b37eec">trap_handler::ClearThreadInWasm</a>();</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    }</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160; </div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="preprocessor">#if V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_enable_exec_time_histograms &amp;&amp; <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.slow_histograms &amp;&amp;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        !<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_jitless) {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;      isolate-&gt;wasm_execution_timer()-&gt;Stop();</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    }</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  }</div>
<div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03_1_1ClearThreadInWasmScope.html#a5ecf34d5aa26dd3cefc3e96a26b0fe88">  125</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03_1_1ClearThreadInWasmScope.html#a5ecf34d5aa26dd3cefc3e96a26b0fe88">~ClearThreadInWasmScope</a>() {</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1trap__handler.html#a416bdc70df9a97b7d6c2a91132637c65">trap_handler::AssertThreadNotInWasm</a>();</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keywordflow">if</span> (!isolate_-&gt;has_exception() &amp;&amp; is_thread_in_wasm_) {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1trap__handler.html#a8484fb95ebefa2c70caf3ee69efc1bc6">trap_handler::SetThreadInWasm</a>();</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160; </div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="preprocessor">#if V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_enable_exec_time_histograms &amp;&amp;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.slow_histograms &amp;&amp; !<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_jitless) {</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        isolate_-&gt;wasm_execution_timer()-&gt;Start();</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;      }</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    }</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="comment">// Otherwise we only want to set the flag if the exception is caught in</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="comment">// wasm. This is handled by the unwinder.</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  }</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160; </div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03_1_1ClearThreadInWasmScope.html#a358576bda67e5c2409f8c138a9bcb1ce">  142</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03_1_1ClearThreadInWasmScope.html#a358576bda67e5c2409f8c138a9bcb1ce">isolate_</a>;</div>
<div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03_1_1ClearThreadInWasmScope.html#a0abc143c854bf5343898bd42208f802a">  143</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03_1_1ClearThreadInWasmScope.html#a0abc143c854bf5343898bd42208f802a">is_thread_in_wasm_</a>;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;};</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160; </div>
<div class="line"><a name="l00146"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a51ea94027f43d4557e6bf268f730de68">  146</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a51ea94027f43d4557e6bf268f730de68">ThrowWasmError</a>(</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="namespacev8_1_1internal.html#a1c7888272df599e45fcab531e38f9523">MessageTemplate</a> message,</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    std::initializer_list&lt;<a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a>&gt; <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a> = {}) {</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="preprocessor">#if V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_jitless) {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="comment">// Store the trap reason to be retrieved later when the interpreter will</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="comment">// trap while detecting the thrown exception.</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmInterpreterThread.html#afce3818d65b87742c4c807679f2ba8d4">wasm::WasmInterpreterThread::SetRuntimeLastWasmError</a>(isolate, message);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  }</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160; </div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  DirectHandle&lt;JSObject&gt; error_obj =</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;NewWasmRuntimeError(message, <a class="code" href="namespacev8_1_1base.html#a5bfc65f27076e49eb7752a4fb4d45acb">base::VectorOf</a>(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>));</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <a class="code" href="classv8_1_1internal_1_1JSObject.html#a16c9b19de5218c056da014960fba72ae">JSObject::AddProperty</a>(isolate, error_obj,</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                        isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;wasm_uncatchable_symbol(),</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                        isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;true_value(), <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370">NONE</a>);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="keywordflow">return</span> isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a5819188db3266ad85f50d20a1e254459">Throw</a>(*error_obj);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;}</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#ae1e6124be30b8dacefdd21adc65e2bb0">  165</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#ae1e6124be30b8dacefdd21adc65e2bb0">ThrowWasmSuspendError</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                                     <a class="code" href="namespacev8_1_1internal.html#a1c7888272df599e45fcab531e38f9523">MessageTemplate</a> message) {</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSObject&gt;</a> error_obj =</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;NewWasmSuspendError(message);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="keywordflow">return</span> isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a5819188db3266ad85f50d20a1e254459">Throw</a>(*error_obj);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;}</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160; </div>
<div class="line"><a name="l00173"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#a85da8f79e178b25f41be57d9076a0e33">  173</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmGenericWasmToJSObject) {</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <a class="code" href="classv8_1_1internal_1_1SealHandleScope.html">SealHandleScope</a> seal_handle_scope(isolate);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(1, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[0];</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <span class="keywordflow">if</span> (IsWasmFuncRef(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WasmInternalFunction&gt;</a> <span class="keyword">internal</span> =</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        Cast&lt;WasmFuncRef&gt;(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)-&gt;internal(isolate);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;JSFunction&gt;</a> external;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">internal</a>-&gt;try_get_external(&amp;external)) <span class="keywordflow">return</span> external;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="comment">// Slow path:</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> handle_scope(isolate);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordflow">return</span> *<a class="code" href="classv8_1_1internal_1_1WasmInternalFunction.html#aa01e2244c83b9a4ca24d4bfd2cb0d78a">WasmInternalFunction::GetOrCreateExternal</a>(</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(<span class="keyword">internal</span>, isolate));</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  }</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="keywordflow">if</span> (IsWasmNull(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1ReadOnlyRoots.html">ReadOnlyRoots</a>(isolate).null_value();</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;}</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160; </div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment">// Takes a JS object and a wasm type as Smi. Type checks the object against the</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">// type; if the check succeeds, returns the object in its wasm representation;</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment">// otherwise throws a type error.</span></div>
<div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#a80b9d115705986c32e4fb76878d45563">  194</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmGenericJSToWasmObject) {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(2, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[0], isolate);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <span class="comment">// Make sure CanonicalValueType fits properly in a Smi.</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  static_assert(<a class="code" href="classv8_1_1internal_1_1wasm_1_1ValueTypeBase.html#a3e49f09749ffd2644f8d43810e8a33fd">wasm::CanonicalValueType::kLastUsedBit</a> + 1 &lt;= <a class="code" href="namespacev8_1_1internal.html#aa60011c225876a22aaff07bb57b05b46">kSmiValueSize</a>);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <span class="keywordtype">int</span> raw_type = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.smi_value_at(1);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160; </div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1CanonicalValueType.html">wasm::CanonicalValueType</a> <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> =</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1CanonicalValueType.html#a5a26ead05cd8e3e45a612462ed73d324">wasm::CanonicalValueType::FromRawBitField</a>(raw_type);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span>* error_message;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a3e2697d50763bb9f401d4c992e24a074">JSToWasmObject</a>(isolate, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>, &amp;error_message).<a class="code" href="namespacev8_1_1anonymous__namespace_02api_8cc_03.html#a0be2944595d695733e968a9a946d9fcc">ToHandle</a>(&amp;<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>)) {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordflow">return</span> isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a5819188db3266ad85f50d20a1e254459">Throw</a>(*isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;NewTypeError(</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        MessageTemplate::kWasmTrapJSTypeError));</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  }</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <span class="keywordflow">return</span> *<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;}</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160; </div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment">// Parameters:</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment">// args[0]: the object, any JS value.</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment">// args[1]: the expected canonicalized ValueType, Smi-tagged.</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment">// Type checks the object against the type; if the check succeeds, returns the</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment">// object in its wasm representation; otherwise throws a type error.</span></div>
<div class="line"><a name="l00218"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#ae948cf94ce9998c9e22076ef383c6589">  218</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmJSToWasmObject) {</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <a class="code" href="classv8_1_1internal_1_1SaveAndClearThreadInWasmFlag.html">SaveAndClearThreadInWasmFlag</a> non_wasm_scope(isolate);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(2, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[0], isolate);</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <span class="comment">// Make sure ValueType fits properly in a Smi.</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  static_assert(<a class="code" href="classv8_1_1internal_1_1wasm_1_1ValueTypeBase.html#a3e49f09749ffd2644f8d43810e8a33fd">wasm::CanonicalValueType::kLastUsedBit</a> + 1 &lt;= <a class="code" href="namespacev8_1_1internal.html#aa60011c225876a22aaff07bb57b05b46">kSmiValueSize</a>);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <span class="keywordtype">int</span> raw_type = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.smi_value_at(1);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160; </div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1CanonicalValueType.html">wasm::CanonicalValueType</a> expected =</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1CanonicalValueType.html#a5a26ead05cd8e3e45a612462ed73d324">wasm::CanonicalValueType::FromRawBitField</a>(raw_type);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span>* error_message;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <span class="keywordtype">bool</span> success = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a3e2697d50763bb9f401d4c992e24a074">JSToWasmObject</a>(isolate, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, expected, &amp;error_message)</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                     .ToHandle(&amp;<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>);</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> ret = success</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                           ? *<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                           : isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a5819188db3266ad85f50d20a1e254459">Throw</a>(*isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;NewTypeError(</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                                 MessageTemplate::kWasmTrapJSTypeError));</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;}</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#a15dbc5d5c806ee0db28cd3f9a13014ba">  240</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmMemoryGrow) {</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  ClearThreadInWasmScope flag_scope(isolate);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(3, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WasmTrustedInstanceData&gt;</a> trusted_instance_data =</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;      Cast&lt;WasmTrustedInstanceData&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[0]);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <span class="comment">// {memory_index} and {delta_pages} are checked to be positive Smis in the</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <span class="comment">// WasmMemoryGrow builtin which calls this runtime function.</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  uint32_t memory_index = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(1);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  uint32_t delta_pages = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(2);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160; </div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmMemoryObject&gt;</a> memory_object{</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;      trusted_instance_data-&gt;memory_object(memory_index), isolate};</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="keywordtype">int</span> ret = <a class="code" href="classv8_1_1internal_1_1WasmMemoryObject.html#ab04a12b70d33ad72a3442d2a21bbfff7">WasmMemoryObject::Grow</a>(isolate, memory_object, delta_pages);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <span class="comment">// The WasmMemoryGrow builtin which calls this runtime function expects us to</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="comment">// always return a Smi.</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#aed5dcd4c10242ef0225dfbd02b5dbdd3">has_exception</a>());</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1Smi.html#afe7f07102d90ccce48cbe677c88a0645">Smi::FromInt</a>(ret);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;}</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160; </div>
<div class="line"><a name="l00260"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#a4915e1d33a1935d3fb01ddc0680b76f5">  260</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_TrapHandlerThrowWasmError) {</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  ClearThreadInWasmScope flag_scope(isolate);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a0e8be1800c6d747870f918dc8b391806">IsOnCentralStack</a>());</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  FrameFinder&lt;WasmFrame&gt; frame_finder(isolate, {StackFrame::EXIT});</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  WasmFrame* frame = frame_finder.frame();</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <span class="comment">// TODO(ahaas): We cannot use frame-&gt;position() here because for inlined</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <span class="comment">// function it does not return the correct source position. We should remove</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <span class="comment">// frame-&gt;position() to avoid problems in the future.</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <a class="code" href="structv8_1_1internal_1_1FrameSummaries.html">FrameSummaries</a> summaries = frame-&gt;Summarize();</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(summaries.<a class="code" href="structv8_1_1internal_1_1FrameSummaries.html#a1dde977c4de716cba259a65887f4eeb9">frames</a>.back().IsWasm());</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <span class="keywordtype">int</span> pos = summaries.<a class="code" href="structv8_1_1internal_1_1FrameSummaries.html#a1dde977c4de716cba259a65887f4eeb9">frames</a>.back().AsWasm().SourcePosition();</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160; </div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html">wasm::WasmCodeRefScope</a> code_ref_scope;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <span class="keyword">auto</span> wire_bytes = frame-&gt;wasm_code()-&gt;native_module()-&gt;wire_bytes();</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a737911f89bb20433e3eb3d67fac6be64">wasm::WasmOpcode</a> op = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacev8_1_1internal_1_1wasm.html#a737911f89bb20433e3eb3d67fac6be64">wasm::WasmOpcode</a><span class="keyword">&gt;</span>(wire_bytes.at(pos));</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a1c7888272df599e45fcab531e38f9523">MessageTemplate</a> message = MessageTemplate::kWasmTrapMemOutOfBounds;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  <span class="keywordflow">if</span> (op == wasm::kGCPrefix || op == wasm::kExprRefAsNonNull ||</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;      op == wasm::kExprCallRef || op == wasm::kExprReturnCallRef ||</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      <span class="comment">// Calling imported string function with null can trigger a signal.</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      op == wasm::kExprCallFunction || op == wasm::kExprReturnCall ||</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      <span class="comment">// shared-everything atomic instructions.</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      (op == wasm::kAtomicPrefix &amp;&amp; wire_bytes.at(pos + 1) &gt;= 0x4F)) {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    message = MessageTemplate::kWasmTrapNullDereference;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmOpcodes.html#af8d075018853ec4db2f78b056d396d28">wasm::WasmOpcodes::IsPrefixOpcode</a>(op)) {</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      op = <a class="code" href="classv8_1_1internal_1_1wasm_1_1Decoder.html">wasm::Decoder</a>{wire_bytes}</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;               .<a class="code" href="classv8_1_1internal_1_1wasm_1_1Decoder.html#aafc6b872375dc88fe7890ed918c1ff4c">read_prefixed_opcode</a>&lt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1Decoder_1_1NoValidationTag.html">wasm::Decoder::NoValidationTag</a>&gt;(</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                   &amp;wire_bytes.begin()[pos])</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;               .first;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    }</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// DEBUG</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  }</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a51ea94027f43d4557e6bf268f730de68">ThrowWasmError</a>(isolate, message);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;}</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160; </div>
<div class="line"><a name="l00297"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#a13fc3573c4055d05d79b003e8e981905">  297</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_ThrowWasmError) {</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  ClearThreadInWasmScope flag_scope(isolate);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a0e8be1800c6d747870f918dc8b391806">IsOnCentralStack</a>());</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(1, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <span class="keywordtype">int</span> message_id = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.smi_value_at(0);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a51ea94027f43d4557e6bf268f730de68">ThrowWasmError</a>(isolate, <a class="code" href="namespacev8_1_1internal.html#a06038be79801c83c9435e8bf23f20de0">MessageTemplateFromInt</a>(message_id));</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;}</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160; </div>
<div class="line"><a name="l00306"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#a4c31d132c3ab45aa2503a0764de55990">  306</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_ThrowWasmStackOverflow) {</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  ClearThreadInWasmScope clear_wasm_flag(isolate);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <a class="code" href="classv8_1_1internal_1_1SealHandleScope.html">SealHandleScope</a> shs(isolate);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(0, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="keywordflow">return</span> isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ae3b1ed161b9a3645b85332a2737ddae4">StackOverflow</a>();</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;}</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160; </div>
<div class="line"><a name="l00313"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#a84694ac4c56f1916ac4954861094d046">  313</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmThrowJSTypeError) {</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <span class="comment">// The caller may be wasm or JS. Only clear the thread_in_wasm flag if the</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  <span class="comment">// caller is wasm, and let the unwinder set it back depending on the handler.</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1trap__handler.html#a47f4fc1ba5bf67b48a471d0527c99291">trap_handler::IsTrapHandlerEnabled</a>() &amp;&amp; <a class="code" href="namespacev8_1_1internal_1_1trap__handler.html#adbb427a304f105d0c47308791458438a">trap_handler::IsThreadInWasm</a>()) {</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="preprocessor">#if V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="comment">// Transitioning from Wasm To JS.</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_enable_exec_time_histograms &amp;&amp; <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.slow_histograms &amp;&amp;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        !<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_jitless) {</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      <span class="comment">// Stop measuring the time spent running jitted Wasm.</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      isolate-&gt;wasm_execution_timer()-&gt;Stop();</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    }</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160; </div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1trap__handler.html#afb718a1f588f90344d3fcda0c2b37eec">trap_handler::ClearThreadInWasm</a>();</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  }</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  <a class="code" href="execution_2isolate_8h.html#a7fc5aec5f967fb5b39c24c8b0348634d">THROW_NEW_ERROR_RETURN_FAILURE</a>(</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;      isolate, NewTypeError(MessageTemplate::kWasmTrapJSTypeError));</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;}</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160; </div>
<div class="line"><a name="l00334"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#a32071082b2efde7bfac8afb3b7c937ce">  334</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_ThrowWasmSuspendError) {</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(1, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160; </div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a1c7888272df599e45fcab531e38f9523">MessageTemplate</a> message_id = <a class="code" href="namespacev8_1_1internal.html#a06038be79801c83c9435e8bf23f20de0">MessageTemplateFromInt</a>(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.smi_value_at(0));</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160; </div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#ae1e6124be30b8dacefdd21adc65e2bb0">ThrowWasmSuspendError</a>(isolate, message_id);</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;}</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160; </div>
<div class="line"><a name="l00343"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#ade179f99b1b2124e25feaa34dd885b33">  343</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmThrowRangeError) {</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  ClearThreadInWasmScope clear_wasm_flag(isolate);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(1, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a1c7888272df599e45fcab531e38f9523">MessageTemplate</a> message_id = <a class="code" href="namespacev8_1_1internal.html#a06038be79801c83c9435e8bf23f20de0">MessageTemplateFromInt</a>(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.smi_value_at(0));</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <a class="code" href="execution_2isolate_8h.html#a7fc5aec5f967fb5b39c24c8b0348634d">THROW_NEW_ERROR_RETURN_FAILURE</a>(isolate, NewRangeError(message_id));</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;}</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160; </div>
<div class="line"><a name="l00351"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#aea6ac83e6930c26cbe7204888007b793">  351</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmThrowDataViewTypeError) {</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  ClearThreadInWasmScope clear_wasm_flag(isolate);</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(2, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a1c7888272df599e45fcab531e38f9523">MessageTemplate</a> message_id = <a class="code" href="namespacev8_1_1internal.html#a06038be79801c83c9435e8bf23f20de0">MessageTemplateFromInt</a>(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.smi_value_at(0));</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  <a class="code" href="data-view-ops_8h.html#a1961aa964f0d5e8e5656d2e364f0e959">DataViewOp</a> op = <span class="keyword">static_cast&lt;</span><a class="code" href="data-view-ops_8h.html#a1961aa964f0d5e8e5656d2e364f0e959">DataViewOp</a><span class="keyword">&gt;</span>(isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a62cf04050b96aa48b99b9b80b0d75c43">error_message_param</a>());</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> op_name =</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;      isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1FactoryBase.html#a099d2a505298c549ede814b4b4021464">NewStringFromAsciiChecked</a>(<a class="code" href="namespacev8_1_1internal.html#a5571bf7a3fbdb542683ee282eefb035c">ToString</a>(op));</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[1], isolate);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160; </div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  <a class="code" href="execution_2isolate_8h.html#a7fc5aec5f967fb5b39c24c8b0348634d">THROW_NEW_ERROR_RETURN_FAILURE</a>(isolate,</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                                 NewTypeError(message_id, op_name, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>));</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;}</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160; </div>
<div class="line"><a name="l00365"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#ac669001858be9bad9997af267b06a042">  365</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmThrowDataViewDetachedError) {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  ClearThreadInWasmScope clear_wasm_flag(isolate);</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(1, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a1c7888272df599e45fcab531e38f9523">MessageTemplate</a> message_id = <a class="code" href="namespacev8_1_1internal.html#a06038be79801c83c9435e8bf23f20de0">MessageTemplateFromInt</a>(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.smi_value_at(0));</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <a class="code" href="data-view-ops_8h.html#a1961aa964f0d5e8e5656d2e364f0e959">DataViewOp</a> op = <span class="keyword">static_cast&lt;</span><a class="code" href="data-view-ops_8h.html#a1961aa964f0d5e8e5656d2e364f0e959">DataViewOp</a><span class="keyword">&gt;</span>(isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a62cf04050b96aa48b99b9b80b0d75c43">error_message_param</a>());</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> op_name =</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;      isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1FactoryBase.html#a099d2a505298c549ede814b4b4021464">NewStringFromAsciiChecked</a>(<a class="code" href="namespacev8_1_1internal.html#a5571bf7a3fbdb542683ee282eefb035c">ToString</a>(op));</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160; </div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  <a class="code" href="execution_2isolate_8h.html#a7fc5aec5f967fb5b39c24c8b0348634d">THROW_NEW_ERROR_RETURN_FAILURE</a>(isolate, NewTypeError(message_id, op_name));</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;}</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160; </div>
<div class="line"><a name="l00377"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#a37fc85bac005249f09980b40186eb4c0">  377</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmThrowTypeError) {</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  ClearThreadInWasmScope clear_wasm_flag(isolate);</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(2, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a1c7888272df599e45fcab531e38f9523">MessageTemplate</a> message_id = <a class="code" href="namespacev8_1_1internal.html#a06038be79801c83c9435e8bf23f20de0">MessageTemplateFromInt</a>(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.smi_value_at(0));</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> arg(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[1], isolate);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#ac299e59759eecb4621f6bad64d5db952">IsSmi</a>(*arg)) {</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <a class="code" href="execution_2isolate_8h.html#a7fc5aec5f967fb5b39c24c8b0348634d">THROW_NEW_ERROR_RETURN_FAILURE</a>(isolate, NewTypeError(message_id));</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <a class="code" href="execution_2isolate_8h.html#a7fc5aec5f967fb5b39c24c8b0348634d">THROW_NEW_ERROR_RETURN_FAILURE</a>(isolate, NewTypeError(message_id, arg));</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  }</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;}</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160; </div>
<div class="line"><a name="l00390"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#aed45b4fc340a8a5481f3e78a2009cb75">  390</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmThrow) {</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  ClearThreadInWasmScope clear_wasm_flag(isolate);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(2, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Context&gt;</a> context = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a91d69493dde3063996c16f6b5e8d7b90">GetNativeContextFromWasmInstanceOnStackTop</a>(isolate);</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a57261d1487f55564a4c2d1fb1a257356">set_context</a>(context);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmExceptionTag&gt;</a> tag(Cast&lt;WasmExceptionTag&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[0]), isolate);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;FixedArray&gt;</a> values(Cast&lt;FixedArray&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[1]), isolate);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="keyword">auto</span> js_tag = Cast&lt;WasmTagObject&gt;(context-&gt;wasm_js_tag());</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <span class="keywordflow">if</span> (*tag == js_tag-&gt;tag()) {</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="keywordflow">return</span> isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a5819188db3266ad85f50d20a1e254459">Throw</a>(values-&gt;get(0));</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmExceptionPackage&gt;</a> exception =</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        <a class="code" href="classv8_1_1internal_1_1WasmExceptionPackage.html#a310dfde86feecf720c6a44124ab7dbca">WasmExceptionPackage::New</a>(isolate, tag, values);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="keywordflow">return</span> isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a5819188db3266ad85f50d20a1e254459">Throw</a>(*exception);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  }</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;}</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160; </div>
<div class="line"><a name="l00408"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#a28026b77cb010fe8ff79de6efc8f3d9a">  408</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmReThrow) {</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  ClearThreadInWasmScope clear_wasm_flag(isolate);</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(1, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <span class="keywordflow">return</span> isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a3153e1cec930487126a91ef7eac6f803">ReThrow</a>(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[0]);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;}</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160; </div>
<div class="line"><a name="l00415"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#a4772cd8ce7a2208e2638ab29176294df">  415</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmStackGuard) {</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  ClearThreadInWasmScope wasm_flag(isolate);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  <a class="code" href="classv8_1_1internal_1_1SealHandleScope.html">SealHandleScope</a> shs(isolate);</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(1, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160; </div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  uint32_t gap = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(0);</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160; </div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <span class="comment">// Check if this is a real stack overflow.</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  <a class="code" href="classv8_1_1internal_1_1StackLimitCheck.html">StackLimitCheck</a> check(isolate);</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <span class="keywordflow">if</span> (check.<a class="code" href="classv8_1_1internal_1_1StackLimitCheck.html#ace2c10c0d463b12e8a1d8b10b6925168">WasmHasOverflowed</a>(gap)) <span class="keywordflow">return</span> isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ae3b1ed161b9a3645b85332a2737ddae4">StackOverflow</a>();</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160; </div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  <span class="keywordflow">return</span> isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a39a1d363e13113d1ca51a5c032312f3e">stack_guard</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1StackGuard.html#ab06a1511d34eb817aa707c3696c32f35">HandleInterrupts</a>(</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;      <a class="code" href="classv8_1_1internal_1_1StackGuard.html#a72dc76159f8189a8bdcba643018dd0a4a6015aa2c54822e2b2396febe4b0c9523">StackGuard::InterruptLevel::kAnyEffect</a>);</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;}</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160; </div>
<div class="line"><a name="l00430"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#a0b5d8f0abd689eef55c0e90b0f9b2589">  430</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmCompileLazy) {</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  ClearThreadInWasmScope wasm_flag(isolate);</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(2, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WasmTrustedInstanceData&gt;</a> trusted_instance_data =</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      Cast&lt;WasmTrustedInstanceData&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[0]);</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  <span class="keywordtype">int</span> func_index = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.smi_value_at(1);</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160; </div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  <a class="code" href="trace-event-no-perfetto_8h.html#ac437f27e15925a9bd53c69692a6c85fe">TRACE_EVENT1</a>(<span class="stringliteral">&quot;v8.wasm&quot;</span>, <span class="stringliteral">&quot;wasm.CompileLazy&quot;</span>, <span class="stringliteral">&quot;func_index&quot;</span>, func_index);</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowHeapAllocation</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  <a class="code" href="classv8_1_1internal_1_1SealHandleScope.html">SealHandleScope</a> scope(isolate);</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160; </div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a4a9708684698eb5d1032bedb9fd49d21">context</a>().is_null());</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <span class="keywordflow">if</span> (trusted_instance_data-&gt;has_native_context()) {</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a57261d1487f55564a4c2d1fb1a257356">set_context</a>(trusted_instance_data-&gt;native_context());</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  }</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <span class="keywordtype">bool</span> success = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#afa7a500801a38cc98469c31192f78468">wasm::CompileLazy</a>(isolate, trusted_instance_data, func_index);</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <span class="keywordflow">if</span> (!success) {</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_lazy_validation);</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">AllowHeapAllocation</a> throwing_unwinds_the_stack;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a8f515217a2a720fd696212a68a5cd87a">wasm::ThrowLazyCompilationError</a>(</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        isolate, trusted_instance_data-&gt;native_module(), func_index);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#aed5dcd4c10242ef0225dfbd02b5dbdd3">has_exception</a>());</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1ReadOnlyRoots.html">ReadOnlyRoots</a>{isolate}.<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7440b084462b9f1a235e83b7c8c72bde">exception</a>();</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  }</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160; </div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1Smi.html#afe7f07102d90ccce48cbe677c88a0645">Smi::FromInt</a>(</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a6a8744656191d24bad76f9c6562d9fdb">wasm::JumpTableOffset</a>(trusted_instance_data-&gt;module(), func_index));</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;}</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160; </div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00460"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#acf542041241880515a58f3298ce06abe">  460</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;FixedArray&gt;</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#acf542041241880515a58f3298ce06abe">AllocateFeedbackVector</a>(</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmTrustedInstanceData&gt;</a> trusted_instance_data,</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <span class="keywordtype">int</span> declared_func_index) {</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a4a9708684698eb5d1032bedb9fd49d21">context</a>().is_null());</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a57261d1487f55564a4c2d1fb1a257356">set_context</a>(trusted_instance_data-&gt;native_context());</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  <span class="keyword">const</span> <a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html">wasm::WasmModule</a>* module =</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;      trusted_instance_data-&gt;native_module()-&gt;module();</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160; </div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  <span class="keywordtype">int</span> func_index = declared_func_index + module-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a81b4b2b056e744758f875acafe4c909a">num_imported_functions</a>;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  <span class="keywordtype">int</span> num_slots = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#af31b723a78f2635ba90e52bce073f16d">NumFeedbackSlots</a>(module, func_index);</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;FixedArray&gt;</a> vector =</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;      isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1FactoryBase.html#ae56f02d0d6d5d61358da6e0eae0db018">NewFixedArrayWithZeroes</a>(num_slots);</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(trusted_instance_data-&gt;feedback_vectors()-&gt;get(declared_func_index),</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;            <a class="code" href="classv8_1_1internal_1_1Smi.html#a5386e0cc44bcfd6a13c8481b95f5652f">Smi::zero</a>());</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  trusted_instance_data-&gt;feedback_vectors()-&gt;set(declared_func_index, *vector);</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a57261d1487f55564a4c2d1fb1a257356">set_context</a>(<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Context&gt;</a>());</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <span class="keywordflow">return</span> *vector;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;}</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160; </div>
<div class="line"><a name="l00481"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#ac4187d06ee335c878b733ba2a6f5bbd6">  481</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmAllocateFeedbackVector) {</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  ClearThreadInWasmScope wasm_flag(isolate);</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a0e8be1800c6d747870f918dc8b391806">IsOnCentralStack</a>());</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(3, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_inlining);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmTrustedInstanceData&gt;</a> trusted_instance_data(</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;      Cast&lt;WasmTrustedInstanceData&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[0]), isolate);</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  <span class="keywordtype">int</span> declared_func_index = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.smi_value_at(1);</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html">wasm::NativeModule</a>** native_module_stack_slot =</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html">wasm::NativeModule</a>**<span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.address_of_arg_at(2));</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html">wasm::NativeModule</a>* native_module = trusted_instance_data-&gt;native_module();</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  <span class="comment">// We have to save the native_module on the stack, in case the allocation</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  <span class="comment">// triggers a GC and we need the module to scan LiftoffSetupFrame stack frame.</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  *native_module_stack_slot = native_module;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#acf542041241880515a58f3298ce06abe">AllocateFeedbackVector</a>(isolate, trusted_instance_data,</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                                declared_func_index);</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;}</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160; </div>
<div class="line"><a name="l00500"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#adb0d9c92c6b2485c686ca639e13c0f3a">  500</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmLiftoffDeoptFinish) {</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  ClearThreadInWasmScope wasm_flag(isolate);</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(1, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmTrustedInstanceData&gt;</a> trusted_instance_data(</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;      Cast&lt;WasmTrustedInstanceData&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[0]), isolate);</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  <span class="comment">// Destroy the Deoptimizer object stored on the isolate.</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  <span class="keywordtype">size_t</span> deopt_frame_count = <a class="code" href="classv8_1_1internal_1_1Deoptimizer.html#a3e8f2c76290cffc6e806a17f644acc8c">Deoptimizer::DeleteForWasm</a>(isolate);</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160; </div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  <span class="comment">// For each liftoff frame, replace the smi in the feedback vector slot holding</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <span class="comment">// the declared function index with the actual feedback vector from the</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  <span class="comment">// WasmTrustedInstanceData. If it doesn&#39;t exist yet, it needs to be allocated</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  <span class="comment">// (which is also the reason why this wasn&#39;t done by the deoptimizer already.)</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1StackFrameIterator.html">StackFrameIterator</a> it(isolate); !it.<a class="code" href="classv8_1_1internal_1_1StackFrameIteratorBase.html#a0fdde3eed7621e64ee5e1a6ea0799c4b">done</a>(); it.Advance()) {</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <a class="code" href="classv8_1_1internal_1_1StackFrame.html">StackFrame</a>* frame = it.frame();</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="keywordflow">if</span> (frame-&gt;is_wasm() &amp;&amp; WasmFrame::cast(frame)-&gt;wasm_code()-&gt;is_liftoff()) {</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;      <a class="code" href="classuintptr__t.html">Address</a> vector_address =</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;          frame-&gt;<a class="code" href="classv8_1_1internal_1_1StackFrame.html#acd57bdd7c8b254edf7f35b769e6db458">fp</a>() - <a class="code" href="classv8_1_1internal_1_1WasmLiftoffFrameConstants.html#a50438fa2e950211864cca863f11cabb6">WasmLiftoffFrameConstants::kFeedbackVectorOffset</a>;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> feedback_slot_value(Memory&lt;intptr_t&gt;(vector_address));</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(feedback_slot_value.<a class="code" href="classv8_1_1internal_1_1TaggedImpl.html#ac581f955a852851b751735177af20efa">IsSmi</a>());</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;      <span class="keywordtype">int</span> declared_func_index = Cast&lt;Smi&gt;(feedback_slot_value).value();</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> vector =</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;          trusted_instance_data-&gt;feedback_vectors()-&gt;get(declared_func_index);</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;      <span class="comment">// If the vector doesn&#39;t exist, allocate a new feedback vector. This</span></div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;      <span class="comment">// happens if the corresponding function wasn&#39;t executed in Liftoff yet</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;      <span class="comment">// for this particular module instantiation.</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;      <span class="keywordflow">if</span> (vector == <a class="code" href="classv8_1_1internal_1_1Smi.html#a5386e0cc44bcfd6a13c8481b95f5652f">Smi::zero</a>()) {</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_deopt_verbose) {</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;          <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html">wasm::WasmCodeRefScope</a> code_ref_scope;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;          <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">wasm::WasmCode</a>* <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> =</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;              trusted_instance_data-&gt;native_module()-&gt;GetCode(</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                  declared_func_index);</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;              <span class="stringliteral">&quot;Wasm deoptimization: allocating feedback vector for function %s &quot;</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;              <span class="stringliteral">&quot;[%d]\n&quot;</span>,</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;              <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> ? <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;DebugName().c_str() : <span class="stringliteral">&quot;&lt;no code object&gt;&quot;</span>,</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;              declared_func_index);</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        }</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        vector = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#acf542041241880515a58f3298ce06abe">AllocateFeedbackVector</a>(isolate, trusted_instance_data,</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                                        declared_func_index);</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;      }</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;      memcpy(<span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(vector_address), &amp;vector,</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;             <span class="keyword">sizeof</span>(intptr_t));</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;      <span class="keywordflow">if</span> (++<a class="code" href="namespacev8_1_1internal.html">i</a> == deopt_frame_count) {</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        <span class="keywordflow">break</span>;  <span class="comment">// All deopt frames have been visited.</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;      }</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    }</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  }</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1ReadOnlyRoots.html">ReadOnlyRoots</a>(isolate).undefined_value();</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;}</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160; </div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00553"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#ac2601d341585c807ae1c41b6cd8de95d">  553</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#ac2601d341585c807ae1c41b6cd8de95d">ReplaceJSToWasmWrapper</a>(</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WasmTrustedInstanceData&gt;</a> trusted_instance_data,</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <span class="keywordtype">int</span> function_index, <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Code&gt;</a> wrapper_code,</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <span class="keywordtype">bool</span> receiver_is_first_param) {</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WasmFuncRef&gt;</a> func_ref;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  <span class="comment">// Always expect a func_ref. If this fails, we are maybe compiling a wrapper</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  <span class="comment">// for the start function. This function is only called once, so this should</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  <span class="comment">// not happen.</span></div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(trusted_instance_data-&gt;try_get_func_ref(function_index, &amp;func_ref));</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;JSFunction&gt;</a> external_function;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(func_ref-&gt;internal(isolate)-&gt;try_get_external(&amp;external_function));</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  <span class="keywordflow">if</span> (external_function-&gt;shared()-&gt;HasWasmJSFunctionData(isolate)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(external_function-&gt;shared()-&gt;HasWasmExportedFunctionData(isolate));</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WasmExportedFunctionData&gt;</a> function_data =</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;      external_function-&gt;shared()-&gt;wasm_exported_function_data();</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  <span class="keywordflow">if</span> ((function_data-&gt;receiver_is_first_param() != 0) !=</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;      receiver_is_first_param) {</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <span class="comment">// Different &quot;receiver is first parameter&quot; settings, do nothing.</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  }</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  external_function-&gt;UpdateCode(isolate, wrapper_code);</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  function_data-&gt;set_wrapper_code(wrapper_code);</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;}</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160; </div>
<div class="line"><a name="l00578"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#a47ca5ce9e55e1892a11e3fd718c052a4">  578</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_TierUpJSToWasmWrapper) {</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(1, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160; </div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  <span class="comment">// Avoid allocating a HandleScope and handles on the fast path.</span></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WasmExportedFunctionData&gt;</a> function_data =</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;      Cast&lt;WasmExportedFunctionData&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[0]);</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WasmTrustedInstanceData&gt;</a> trusted_data = function_data-&gt;instance_data();</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160; </div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  <span class="keyword">const</span> <a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html">wasm::WasmModule</a>* module = trusted_data-&gt;module();</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> function_index = function_data-&gt;function_index();</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  <span class="keywordtype">bool</span> receiver_is_first_param = function_data-&gt;receiver_is_first_param() != 0;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  <span class="keyword">const</span> <a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmFunction.html">wasm::WasmFunction</a>&amp; <span class="keyword">function</span> = module-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a79b743888793de4a17ae53dd93988de6">functions</a>[function_index];</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  <span class="keyword">const</span> <a class="code" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">wasm::CanonicalTypeIndex</a> sig_id =</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;      module-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a80ed14bf76cb65cc93c6c9ba1b56f75c">canonical_sig_id</a>(<span class="keyword">function</span>.sig_index);</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;  <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1CanonicalSig.html">wasm::CanonicalSig</a>* <a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a> =</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a6feb413448e84daf9201bd8a2381a718">wasm::GetTypeCanonicalizer</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aa1f36fc3851ba2316d47223fa2b6e155">LookupFunctionSignature</a>(sig_id);</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160; </div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;CodeWrapper&gt;</a> maybe_cached_wrapper = <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmExportWrapperCache.html#aa67c99c7e5e517261faf25a6a4c4a053">wasm::WasmExportWrapperCache::Get</a>(</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;      isolate, sig_id, receiver_is_first_param);</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Code&gt;</a> wrapper_code;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  <span class="keywordflow">if</span> (!maybe_cached_wrapper.<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html#a0930e2a8cbe8abbc5cdd476902fe6c88">is_null</a>()) {</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    wrapper_code = maybe_cached_wrapper-&gt;code(isolate);</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="comment">// Set the context on the isolate and open a handle scope for allocation of</span></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <span class="comment">// new objects. Wrap {trusted_data} in a handle so it survives GCs.</span></div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a4a9708684698eb5d1032bedb9fd49d21">context</a>().is_null());</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a57261d1487f55564a4c2d1fb1a257356">set_context</a>(trusted_data-&gt;native_context());</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmTrustedInstanceData&gt;</a> trusted_data_handle{trusted_data,</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;                                                              isolate};</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Code&gt;</a> new_wrapper_code =</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1JSToWasmWrapperCompilationUnit.html#a752a58d9590a7faefdd7d7ea8732275d">wasm::JSToWasmWrapperCompilationUnit::CompileJSToWasmWrapper</a>(</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;            isolate, <a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>, sig_id, receiver_is_first_param);</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160; </div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <span class="comment">// Compilation must have installed the wrapper into the cache.</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(new_wrapper_code-&gt;wrapper(),</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;              <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmExportWrapperCache.html#aa67c99c7e5e517261faf25a6a4c4a053">wasm::WasmExportWrapperCache::Get</a>(isolate, sig_id,</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                                                receiver_is_first_param));</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160; </div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <span class="comment">// Reset raw pointers still needed outside the slow path.</span></div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    wrapper_code = *new_wrapper_code;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    trusted_data = *trusted_data_handle;</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    function_data = {};</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  }</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160; </div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  <span class="comment">// Replace the wrapper for the function that triggered the tier-up.</span></div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  <span class="comment">// This is to ensure that the wrapper is replaced, even if the function</span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  <span class="comment">// is implicitly exported and is not part of the export_table.</span></div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#ac2601d341585c807ae1c41b6cd8de95d">ReplaceJSToWasmWrapper</a>(isolate, trusted_data, function_index, wrapper_code,</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                         receiver_is_first_param);</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160; </div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  <span class="comment">// Iterate over all exports to replace eagerly the wrapper for all functions</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  <span class="comment">// that share the signature of the function that tiered up.</span></div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmExport.html">wasm::WasmExport</a> <a class="code" href="namespacev8_1_1base_1_1ieee754.html#a6933d652f26a01529c4fc7d747981cc5">exp</a> : module-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a4dbe8d13d75f2c6c4a8f6e19fdb5eca1">export_table</a>) {</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1base_1_1ieee754.html#a6933d652f26a01529c4fc7d747981cc5">exp</a>.kind != <a class="code" href="namespacev8_1_1internal_1_1wasm.html#acb10c8534fdb3edc15e3f45d7ee6d547a841c234519f90eb88be0020af3622a4d">wasm::kExternalFunction</a>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1base_1_1ieee754.html#a6933d652f26a01529c4fc7d747981cc5">exp</a>.index);</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> == function_index) <span class="keywordflow">continue</span>;  <span class="comment">// Already replaced.</span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="keyword">const</span> <a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmFunction.html">wasm::WasmFunction</a>&amp; exp_function = module-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a79b743888793de4a17ae53dd93988de6">functions</a>[<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>];</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <span class="keywordflow">if</span> (module-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a80ed14bf76cb65cc93c6c9ba1b56f75c">canonical_sig_id</a>(exp_function.<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmFunction.html#a27c9b60862536d6bd685a1fb750bec1f">sig_index</a>) != sig_id) {</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;      <span class="keywordflow">continue</span>;  <span class="comment">// Different signature.</span></div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    }</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#ac2601d341585c807ae1c41b6cd8de95d">ReplaceJSToWasmWrapper</a>(isolate, trusted_data, <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, wrapper_code,</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;                           receiver_is_first_param);</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  }</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160; </div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1ReadOnlyRoots.html">ReadOnlyRoots</a>(isolate).undefined_value();</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;}</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160; </div>
<div class="line"><a name="l00646"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#a1adf0384864c9464f2ed628352deabee">  646</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_IsWasmExternalFunction) {</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(1, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  <span class="keywordflow">return</span> isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">heap</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a4b5aab31abc2675374e71889d014f7e7">ToBoolean</a>(</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;      <a class="code" href="classv8_1_1internal_1_1WasmExternalFunction.html#ac2a96212bef554982c768f1c04f72d20">WasmExternalFunction::IsWasmExternalFunction</a>(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[0]));</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;}</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160; </div>
<div class="line"><a name="l00652"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#af11516d0780c2ae1d6852b12ba0f57ed">  652</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_TierUpWasmToJSWrapper) {</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(1, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmImportData&gt;</a> import_data(Cast&lt;WasmImportData&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[0]),</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;                                           isolate);</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160; </div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a4a9708684698eb5d1032bedb9fd49d21">context</a>().is_null());</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;  isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a57261d1487f55564a4c2d1fb1a257356">set_context</a>(import_data-&gt;native_context());</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160; </div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1CanonicalSig.html">wasm::CanonicalSig</a>* <a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a> = import_data-&gt;sig();</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> origin(import_data-&gt;call_origin(), isolate);</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html">wasm::WasmCodeRefScope</a> code_ref_scope;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160; </div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  <span class="keywordflow">if</span> (IsWasmInternalFunction(*origin)) {</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <span class="comment">// The tierup for `WasmInternalFunction` is special, as there may not be an</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <span class="comment">// instance.</span></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <span class="keywordtype">int</span> expected_arity = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>-&gt;parameter_count());</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63a">wasm::ImportCallKind</a> kind;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <span class="keywordflow">if</span> (IsJSFunction(import_data-&gt;callable())) {</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;SharedFunctionInfo&gt;</a> shared =</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;          Cast&lt;JSFunction&gt;(import_data-&gt;callable())-&gt;shared();</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;      expected_arity =</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;          shared-&gt;internal_formal_parameter_count_without_receiver();</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;      kind = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63aa2c181723941144749e409c197a8d87d1">wasm::ImportCallKind::kJSFunction</a>;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;      kind = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63aa5427d5490900477a371648688dfbb95b">wasm::ImportCallKind::kUseCallBuiltin</a>;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    }</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmImportWrapperCache.html">wasm::WasmImportWrapperCache</a>* cache = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a36345041662f17bb39d27709c1cb78ac">wasm::GetWasmImportWrapperCache</a>();</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <a class="code" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">wasm::CanonicalTypeIndex</a> canonical_sig_index =</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a6feb413448e84daf9201bd8a2381a718">wasm::GetTypeCanonicalizer</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a5388360032f6dfc62a57b7f54c20997b">FindIndex_Slow</a>(<a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>);</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a6eef6d24980961199f34fb770039843a">wasm::Suspend</a> suspend = import_data-&gt;suspend();</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    std::shared_ptr&lt;wasm::WasmImportWrapperHandle&gt; wrapper_handle =</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        cache-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmImportWrapperCache.html#a83ced6511f55c6c4dca7707e21eb1d2d">GetCompiled</a>(isolate, kind, canonical_sig_index, expected_arity,</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;                           suspend, <a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>);</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(Cast&lt;WasmInternalFunction&gt;(*origin)-&gt;call_target(),</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;              wrapper_handle-&gt;code_pointer());</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1ReadOnlyRoots.html">ReadOnlyRoots</a>(isolate).undefined_value();</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;  }</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160; </div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(IsWasmDispatchTable(*origin));</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmDispatchTable&gt;</a> dispatch_table =</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;      Cast&lt;WasmDispatchTable&gt;(origin);</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;  <span class="keywordtype">int</span> table_slot = import_data-&gt;table_slot();</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  <a class="code" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">wasm::CanonicalTypeIndex</a> sig_index = dispatch_table-&gt;sig(table_slot);</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>,</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;            <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a6feb413448e84daf9201bd8a2381a718">wasm::GetTypeCanonicalizer</a>()-&gt;LookupFunctionSignature(sig_index));</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160; </div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  <span class="comment">// Compile a wrapper for the target callable.</span></div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSReceiver&gt;</a> callable(Cast&lt;JSReceiver&gt;(import_data-&gt;callable()),</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                                    isolate);</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a6eef6d24980961199f34fb770039843a">wasm::Suspend</a> suspend = import_data-&gt;suspend();</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160; </div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1ResolvedWasmImport.html">wasm::ResolvedWasmImport</a> resolved({}, -1, callable, <a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>, sig_index,</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;                                    <a class="code" href="namespacev8_1_1internal_1_1wasm.html#afaaaa7fd7a0bc697a4d91133566c5c6ea4a2d15530df7ed8fe7a35b02d47fff24">wasm::WellKnownImport::kUninstantiated</a>);</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63a">wasm::ImportCallKind</a> kind = resolved.<a class="code" href="classv8_1_1internal_1_1wasm_1_1ResolvedWasmImport.html#a680ff048f40f3a9d9b47de1a7f2f0635">kind</a>();</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  callable = resolved.callable();  <span class="comment">// Update to ultimate target.</span></div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63aa5411029decc6201a8ac468e9bb7fadbb">wasm::ImportCallKind::kLinkError</a>, kind);</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  <span class="keywordtype">int</span> expected_arity = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>-&gt;parameter_count());</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;  <span class="keywordflow">if</span> (kind == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63aa2c181723941144749e409c197a8d87d1">wasm::ImportCallKind ::kJSFunction</a>) {</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    expected_arity = Cast&lt;JSFunction&gt;(callable)</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;                         -&gt;shared()</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                         -&gt;internal_formal_parameter_count_without_receiver();</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  }</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160; </div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmImportWrapperCache.html">wasm::WasmImportWrapperCache</a>* cache = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a36345041662f17bb39d27709c1cb78ac">wasm::GetWasmImportWrapperCache</a>();</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  std::shared_ptr&lt;wasm::WasmImportWrapperHandle&gt; wrapper_handle =</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;      cache-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmImportWrapperCache.html#a83ced6511f55c6c4dca7707e21eb1d2d">GetCompiled</a>(isolate, kind, sig_index, expected_arity, suspend,</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;                         <a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>);</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160; </div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(dispatch_table-&gt;target(table_slot), wrapper_handle-&gt;code_pointer());</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160; </div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1ReadOnlyRoots.html">ReadOnlyRoots</a>(isolate).undefined_value();</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;}</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160; </div>
<div class="line"><a name="l00726"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#a92dc95198085755e79acfbabfc23d48d">  726</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmTriggerTierUp) {</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;  ClearThreadInWasmScope clear_wasm_flag(isolate);</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;  <a class="code" href="classv8_1_1internal_1_1SealHandleScope.html">SealHandleScope</a> shs(isolate);</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160; </div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;  {</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(1, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WasmTrustedInstanceData&gt;</a> trusted_data =</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;        Cast&lt;WasmTrustedInstanceData&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[0]);</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160; </div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    FrameFinder&lt;WasmFrame&gt; frame_finder(isolate);</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <span class="keywordtype">int</span> func_index = frame_finder.frame()-&gt;function_index();</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(trusted_data, frame_finder.frame()-&gt;trusted_instance_data());</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160; </div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_sync_tier_up)) {</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;      <span class="keywordflow">if</span> (!trusted_data-&gt;native_module()-&gt;HasCodeWithTier(</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;              func_index, <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31">wasm::ExecutionTier::kTurbofan</a>)) {</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;        <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a19827f93e7ddd7bfc05feb71b9a55407">wasm::TierUpNowForTesting</a>(isolate, trusted_data, func_index);</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;      }</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;      <span class="comment">// We call this function when the tiering budget runs out, so reset that</span></div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;      <span class="comment">// budget to appropriately delay the next call.</span></div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;      <span class="keywordtype">int</span> array_index =</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;          <a class="code" href="namespacev8_1_1internal_1_1wasm.html#abd9cf6cdda997dfabf862a6048202195">wasm::declared_function_index</a>(trusted_data-&gt;module(), func_index);</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;      trusted_data-&gt;tiering_budget_array()[array_index].store(</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_tiering_budget, std::memory_order_relaxed);</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a5d346308124847f8fc36bfd05b5079a3">wasm::TriggerTierUp</a>(isolate, trusted_data, func_index);</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    }</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  }</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160; </div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  <span class="comment">// We&#39;re reusing this interrupt mechanism to interrupt long-running loops.</span></div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  <a class="code" href="classv8_1_1internal_1_1StackLimitCheck.html">StackLimitCheck</a> check(isolate);</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;  <span class="comment">// We don&#39;t need to handle stack overflows here, because the function that</span></div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;  <span class="comment">// performed this runtime call did its own stack check at its beginning.</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;  <span class="comment">// However, we can&#39;t DCHECK(!check.JsHasOverflowed()) here, because the</span></div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  <span class="comment">// additional stack space used by the CEntryStub and this runtime function</span></div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;  <span class="comment">// itself might have pushed us above the limit where a stack check would</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  <span class="comment">// fail.</span></div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  <span class="keywordflow">if</span> (check.<a class="code" href="classv8_1_1internal_1_1StackLimitCheck.html#a60021816393053e2f218da83bf402f39">InterruptRequested</a>()) {</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <span class="comment">// Note: This might trigger a GC, which invalidates the {args} object (see</span></div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <span class="comment">// https://crbug.com/v8/13036#2).</span></div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a39a1d363e13113d1ca51a5c032312f3e">stack_guard</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1StackGuard.html#ab06a1511d34eb817aa707c3696c32f35">HandleInterrupts</a>();</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <span class="keywordflow">if</span> (IsException(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>)) <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  }</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160; </div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1ReadOnlyRoots.html">ReadOnlyRoots</a>(isolate).undefined_value();</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;}</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160; </div>
<div class="line"><a name="l00774"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#a74beb7519fedba8ebfe0bf5103a92b2e">  774</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmI32AtomicWait) {</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  ClearThreadInWasmScope clear_wasm_flag(isolate);</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(5, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WasmTrustedInstanceData&gt;</a> trusted_instance_data =</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;      Cast&lt;WasmTrustedInstanceData&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[0]);</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;  <span class="keywordtype">int</span> memory_index = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.smi_value_at(1);</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;  <span class="keywordtype">double</span> offset_double = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.number_value_at(2);</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;  <a class="code" href="classuintptr__t.html">uintptr_t</a> offset = <span class="keyword">static_cast&lt;</span><a class="code" href="classuintptr__t.html">uintptr_t</a><span class="keyword">&gt;</span>(offset_double);</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;  <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> expected_value = <a class="code" href="namespacev8_1_1internal.html#a8f683541d0ab1913ee0ea680c088bbab">NumberToInt32</a>(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[3]);</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;BigInt&gt;</a> timeout_ns = Cast&lt;BigInt&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[4]);</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160; </div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSArrayBuffer&gt;</a> array_buffer{</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;      trusted_instance_data-&gt;memory_object(memory_index)-&gt;array_buffer(),</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;      isolate};</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;  <span class="comment">// Should have trapped if address was OOB.</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a>(offset, array_buffer-&gt;byte_length());</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160; </div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;  <span class="comment">// Trap if memory is not shared, or wait is not allowed on the isolate</span></div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  <span class="keywordflow">if</span> (!array_buffer-&gt;is_shared() || !isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#aff756defc716556bf7e668b56b713bdb">allow_atomics_wait</a>()) {</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a51ea94027f43d4557e6bf268f730de68">ThrowWasmError</a>(</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;        isolate, MessageTemplate::kAtomicsOperationNotAllowed,</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;        {isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;NewStringFromAsciiChecked(<span class="stringliteral">&quot;Atomics.wait&quot;</span>)});</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;  }</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1FutexEmulation.html#a83aebe720a9779dc17f167841298fefe">FutexEmulation::WaitWasm32</a>(isolate, array_buffer, offset,</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                                    expected_value, timeout_ns-&gt;AsInt64());</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;}</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160; </div>
<div class="line"><a name="l00802"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#ab5c1eff09fc48e3ef2866525afb3f92c">  802</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmI64AtomicWait) {</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;  ClearThreadInWasmScope clear_wasm_flag(isolate);</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(5, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WasmTrustedInstanceData&gt;</a> trusted_instance_data =</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;      Cast&lt;WasmTrustedInstanceData&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[0]);</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;  <span class="keywordtype">int</span> memory_index = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.smi_value_at(1);</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;  <span class="keywordtype">double</span> offset_double = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.number_value_at(2);</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;  <a class="code" href="classuintptr__t.html">uintptr_t</a> offset = <span class="keyword">static_cast&lt;</span><a class="code" href="classuintptr__t.html">uintptr_t</a><span class="keyword">&gt;</span>(offset_double);</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;BigInt&gt;</a> expected_value = Cast&lt;BigInt&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[3]);</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;BigInt&gt;</a> timeout_ns = Cast&lt;BigInt&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[4]);</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160; </div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSArrayBuffer&gt;</a> array_buffer{</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;      trusted_instance_data-&gt;memory_object(memory_index)-&gt;array_buffer(),</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;      isolate};</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;  <span class="comment">// Should have trapped if address was OOB.</span></div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a>(offset, array_buffer-&gt;byte_length());</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160; </div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;  <span class="comment">// Trap if memory is not shared, or if wait is not allowed on the isolate</span></div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;  <span class="keywordflow">if</span> (!array_buffer-&gt;is_shared() || !isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#aff756defc716556bf7e668b56b713bdb">allow_atomics_wait</a>()) {</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a51ea94027f43d4557e6bf268f730de68">ThrowWasmError</a>(</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;        isolate, MessageTemplate::kAtomicsOperationNotAllowed,</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;        {isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;NewStringFromAsciiChecked(<span class="stringliteral">&quot;Atomics.wait&quot;</span>)});</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  }</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1FutexEmulation.html#a4370cbf76c1fc0aae5f0886e9df85c7f">FutexEmulation::WaitWasm64</a>(isolate, array_buffer, offset,</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;                                    expected_value-&gt;AsInt64(),</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                                    timeout_ns-&gt;AsInt64());</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;}</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160; </div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00832"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a1ef1e4fe4b221522968cae09eedb1698">  832</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a1ef1e4fe4b221522968cae09eedb1698">ThrowTableOutOfBounds</a>(</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmTrustedInstanceData&gt;</a> trusted_instance_data) {</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;  <span class="comment">// Handle out-of-bounds access here in the runtime call, rather</span></div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;  <span class="comment">// than having the lower-level layers deal with JS exceptions.</span></div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;  <span class="keywordflow">if</span> (isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a4a9708684698eb5d1032bedb9fd49d21">context</a>().is_null()) {</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a57261d1487f55564a4c2d1fb1a257356">set_context</a>(trusted_instance_data-&gt;native_context());</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;  }</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a51ea94027f43d4557e6bf268f730de68">ThrowWasmError</a>(isolate, MessageTemplate::kWasmTrapTableOutOfBounds);</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;}</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160; </div>
<div class="line"><a name="l00844"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#a285ffd5fa1b35d3ab7be415525a21864">  844</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmRefFunc) {</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;  ClearThreadInWasmScope flag_scope(isolate);</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(2, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmTrustedInstanceData&gt;</a> trusted_instance_data(</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;      Cast&lt;WasmTrustedInstanceData&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[0]), isolate);</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;  uint32_t function_index = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(1);</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160; </div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;  <span class="keywordflow">return</span> *<a class="code" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a27d1f1a3201baec4b9103b3bb27888b6">WasmTrustedInstanceData::GetOrCreateFuncRef</a>(</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;      isolate, trusted_instance_data, function_index);</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;}</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160; </div>
<div class="line"><a name="l00856"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#a076f835e9f169e1afac58b60873dc37f">  856</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmInternalFunctionCreateExternal) {</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;  ClearThreadInWasmScope flag_scope(isolate);</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(1, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;  <span class="comment">// TODO(14564): Pass WasmFuncRef here instead of WasmInternalFunction.</span></div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmInternalFunction&gt;</a> <span class="keyword">internal</span>(</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;      Cast&lt;WasmInternalFunction&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[0]), isolate);</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;  <span class="keywordflow">return</span> *<a class="code" href="classv8_1_1internal_1_1WasmInternalFunction.html#aa01e2244c83b9a4ca24d4bfd2cb0d78a">WasmInternalFunction::GetOrCreateExternal</a>(<span class="keyword">internal</span>);</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;}</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160; </div>
<div class="line"><a name="l00866"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#a4ceee0d4777a154d43f59fcb0c913b96">  866</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmFunctionTableGet) {</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;  ClearThreadInWasmScope flag_scope(isolate);</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(3, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WasmTrustedInstanceData&gt;</a> trusted_instance_data =</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;      Cast&lt;WasmTrustedInstanceData&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[0]);</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;  uint32_t table_index = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(1);</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;  uint32_t entry_index = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(2);</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a>(table_index, trusted_instance_data-&gt;tables()-&gt;length());</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  <span class="keyword">auto</span> table = <a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;      Cast&lt;WasmTableObject&gt;(trusted_instance_data-&gt;tables()-&gt;get(table_index)),</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;      isolate);</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;  <span class="comment">// We only use the runtime call for lazily initialized function references.</span></div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(table-&gt;unsafe_type().ref_type_kind() == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ae45db4269c4a761b277944e582743921ad77fcb77da3dc9a391cbdfd264f8d7d9">wasm::RefTypeKind::kFunction</a>);</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160; </div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;  <span class="keywordflow">if</span> (!table-&gt;is_in_bounds(entry_index)) {</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a51ea94027f43d4557e6bf268f730de68">ThrowWasmError</a>(isolate, MessageTemplate::kWasmTrapTableOutOfBounds);</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;  }</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160; </div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;  <span class="keywordflow">return</span> *<a class="code" href="classv8_1_1internal_1_1WasmTableObject.html#aa5e3c6d5c308301194a5fd89e6dd9e59">WasmTableObject::Get</a>(isolate, table, entry_index);</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;}</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160; </div>
<div class="line"><a name="l00888"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#a6771e62376cd6938939c05799b7b4aa5">  888</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmFunctionTableSet) {</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;  ClearThreadInWasmScope flag_scope(isolate);</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(4, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WasmTrustedInstanceData&gt;</a> trusted_instance_data =</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;      Cast&lt;WasmTrustedInstanceData&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[0]);</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;  uint32_t table_index = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(1);</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;  uint32_t entry_index = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(2);</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> element(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[3], isolate);</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a>(table_index, trusted_instance_data-&gt;tables()-&gt;length());</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;  <span class="keyword">auto</span> table = <a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;      Cast&lt;WasmTableObject&gt;(trusted_instance_data-&gt;tables()-&gt;get(table_index)),</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;      isolate);</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;  <span class="comment">// We only use the runtime call for lazily initialized function references.</span></div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(table-&gt;unsafe_type().ref_type_kind() == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ae45db4269c4a761b277944e582743921ad77fcb77da3dc9a391cbdfd264f8d7d9">wasm::RefTypeKind::kFunction</a>);</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160; </div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;  <span class="keywordflow">if</span> (!table-&gt;is_in_bounds(entry_index)) {</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a51ea94027f43d4557e6bf268f730de68">ThrowWasmError</a>(isolate, MessageTemplate::kWasmTrapTableOutOfBounds);</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;  }</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;  <a class="code" href="classv8_1_1internal_1_1WasmTableObject.html#acfdec070b48fe34a36f7aa7fed63a969">WasmTableObject::Set</a>(isolate, table, entry_index, element);</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1ReadOnlyRoots.html">ReadOnlyRoots</a>(isolate).undefined_value();</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;}</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160; </div>
<div class="line"><a name="l00911"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#af0008aef36659022e2a74dd873f7cdd0">  911</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmTableInit) {</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;  ClearThreadInWasmScope flag_scope(isolate);</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(6, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmTrustedInstanceData&gt;</a> trusted_instance_data(</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;      Cast&lt;WasmTrustedInstanceData&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[0]), isolate);</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;  uint32_t table_index = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(1);</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;  uint32_t elem_segment_index = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(2);</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;  static_assert(</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ad39cf555e73abbf7233ee2029b74ff7d">wasm::kV8MaxWasmTableSize</a> &lt; <a class="code" href="namespacev8_1_1internal.html#ac1c4f39f9639371d5fc85cab896d4d86">kSmiMaxValue</a>,</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;      <span class="stringliteral">&quot;Make sure clamping to Smi range doesn&#39;t make an invalid call valid&quot;</span>);</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  uint32_t dst = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(3);</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;  uint32_t src = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(4);</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;  uint32_t <a class="code" href="structv8_1_1internal_1_1count.html">count</a> = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(5);</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160; </div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a4a9708684698eb5d1032bedb9fd49d21">context</a>().is_null());</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160; </div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;  <span class="comment">// TODO(14616): Pass the correct instance data.</span></div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;  std::optional&lt;MessageTemplate&gt; opt_error =</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;      <a class="code" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a77178e357a3856cdbbeb238b075f45e4">WasmTrustedInstanceData::InitTableEntries</a>(</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;          isolate, trusted_instance_data, trusted_instance_data, table_index,</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;          elem_segment_index, dst, src, <a class="code" href="structv8_1_1internal_1_1count.html">count</a>);</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;  <span class="keywordflow">if</span> (opt_error.has_value()) {</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a51ea94027f43d4557e6bf268f730de68">ThrowWasmError</a>(isolate, opt_error.value());</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;  }</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1ReadOnlyRoots.html">ReadOnlyRoots</a>(isolate).undefined_value();</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;}</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160; </div>
<div class="line"><a name="l00939"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#ac531002c9d1b1050cd84dc8081b545b6">  939</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmTableCopy) {</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;  ClearThreadInWasmScope flag_scope(isolate);</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(6, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmTrustedInstanceData&gt;</a> trusted_instance_data(</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;      Cast&lt;WasmTrustedInstanceData&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[0]), isolate);</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;  uint32_t table_dst_index = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(1);</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;  uint32_t table_src_index = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(2);</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;  static_assert(</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ad39cf555e73abbf7233ee2029b74ff7d">wasm::kV8MaxWasmTableSize</a> &lt; <a class="code" href="namespacev8_1_1internal.html#ac1c4f39f9639371d5fc85cab896d4d86">kSmiMaxValue</a>,</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;      <span class="stringliteral">&quot;Make sure clamping to Smi range doesn&#39;t make an invalid call valid&quot;</span>);</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;  uint32_t dst = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(3);</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;  uint32_t src = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(4);</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;  uint32_t <a class="code" href="structv8_1_1internal_1_1count.html">count</a> = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(5);</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160; </div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a4a9708684698eb5d1032bedb9fd49d21">context</a>().is_null());</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160; </div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;  <span class="keywordtype">bool</span> oob = !<a class="code" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#ad5fa0df8fba113e186afd8a1b10b8161">WasmTrustedInstanceData::CopyTableEntries</a>(</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;      isolate, trusted_instance_data, table_dst_index, table_src_index, dst,</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;      src, <a class="code" href="structv8_1_1internal_1_1count.html">count</a>);</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;  <span class="keywordflow">if</span> (oob) <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a1ef1e4fe4b221522968cae09eedb1698">ThrowTableOutOfBounds</a>(isolate, trusted_instance_data);</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1ReadOnlyRoots.html">ReadOnlyRoots</a>(isolate).undefined_value();</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;}</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160; </div>
<div class="line"><a name="l00963"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#aa5624f6f7804cae641b43fc4c107a11b">  963</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmTableGrow) {</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;  ClearThreadInWasmScope flag_scope(isolate);</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a0e8be1800c6d747870f918dc8b391806">IsOnCentralStack</a>());</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(4, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WasmTrustedInstanceData&gt;</a> trusted_instance_data =</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;      Cast&lt;WasmTrustedInstanceData&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[0]);</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;  uint32_t table_index = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(1);</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[2], isolate);</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;  uint32_t delta = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(3);</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160; </div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmTableObject&gt;</a> table(</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;      Cast&lt;WasmTableObject&gt;(trusted_instance_data-&gt;tables()-&gt;get(table_index)),</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;      isolate);</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <a class="code" href="classv8_1_1internal_1_1WasmTableObject.html#ad51363b96ea8a38d2957f46f2767b4de">WasmTableObject::Grow</a>(isolate, table, delta, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160; </div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1Smi.html#afe7f07102d90ccce48cbe677c88a0645">Smi::FromInt</a>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>);</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;}</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160; </div>
<div class="line"><a name="l00982"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#ac5cd86d42387dccaa592eac9b5d58f50">  982</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmTableFill) {</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;  ClearThreadInWasmScope flag_scope(isolate);</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(5, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmTrustedInstanceData&gt;</a> trusted_instance_data(</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;      Cast&lt;WasmTrustedInstanceData&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[0]), isolate);</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;  uint32_t table_index = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(1);</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;  uint32_t start = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(2);</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[3], isolate);</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;  uint32_t <a class="code" href="structv8_1_1internal_1_1count.html">count</a> = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(4);</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160; </div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmTableObject&gt;</a> table(</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;      Cast&lt;WasmTableObject&gt;(trusted_instance_data-&gt;tables()-&gt;get(table_index)),</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;      isolate);</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160; </div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;  uint32_t table_size = table-&gt;current_length();</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160; </div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;  <span class="keywordflow">if</span> (start &gt; table_size) {</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a1ef1e4fe4b221522968cae09eedb1698">ThrowTableOutOfBounds</a>(isolate, trusted_instance_data);</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  }</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160; </div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  <span class="comment">// Even when table.fill goes out-of-bounds, as many entries as possible are</span></div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;  <span class="comment">// put into the table. Only afterwards we trap.</span></div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;  uint32_t fill_count = std::min(<a class="code" href="structv8_1_1internal_1_1count.html">count</a>, table_size - start);</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;  <span class="keywordflow">if</span> (fill_count &lt; <a class="code" href="structv8_1_1internal_1_1count.html">count</a>) {</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a1ef1e4fe4b221522968cae09eedb1698">ThrowTableOutOfBounds</a>(isolate, trusted_instance_data);</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;  }</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;  <a class="code" href="classv8_1_1internal_1_1WasmTableObject.html#abd200bd6702d0b1d288516cb0f7173fc">WasmTableObject::Fill</a>(isolate, table, start, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, fill_count);</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160; </div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1ReadOnlyRoots.html">ReadOnlyRoots</a>(isolate).undefined_value();</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;}</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160; </div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;<span class="comment">// Returns true if any breakpoint was hit, false otherwise.</span></div>
<div class="line"><a name="l01016"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a244ed2ad6bdf7827d1fc4c42e69dfb2f"> 1016</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a244ed2ad6bdf7827d1fc4c42e69dfb2f">ExecuteWasmDebugBreaks</a>(</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmTrustedInstanceData&gt;</a> trusted_instance_data,</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    WasmFrame* frame) {</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Script&gt;</a> <a class="code" href="namespacev8_1_1internal.html#afb7e5cd394b9632dddc2e7807b11b2ab">script</a>{trusted_instance_data-&gt;module_object()-&gt;script(),</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;                              isolate};</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;  <span class="keyword">auto</span>* debug_info = trusted_instance_data-&gt;native_module()-&gt;GetDebugInfo();</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160; </div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;  <span class="comment">// Enter the debugger.</span></div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DebugScope.html">DebugScope</a> debug_scope(isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#add58aa2cf5e62000c95ea11411ce9ae6">debug</a>());</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160; </div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;  <span class="comment">// Check for instrumentation breakpoints first, but still execute regular</span></div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;  <span class="comment">// breakpoints afterwards.</span></div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;  <span class="keywordtype">bool</span> paused_on_instrumentation = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="namespacev8_1_1internal.html#afb7e5cd394b9632dddc2e7807b11b2ab">script</a>-&gt;break_on_entry(),</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;            !!trusted_instance_data-&gt;break_on_entry());</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#afb7e5cd394b9632dddc2e7807b11b2ab">script</a>-&gt;break_on_entry()) {</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MaybeDirectHandle.html">MaybeDirectHandle&lt;FixedArray&gt;</a> maybe_on_entry_breakpoints =</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;        <a class="code" href="classv8_1_1internal_1_1WasmScript.html#a42def163ed2f611a7e6dc9c7b778ee80">WasmScript::CheckBreakPoints</a>(isolate, <a class="code" href="namespacev8_1_1internal.html#afb7e5cd394b9632dddc2e7807b11b2ab">script</a>,</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;                                     <a class="code" href="classv8_1_1internal_1_1WasmScript.html#ae2c706b2efb06b19a3fc316ecb677dfe">WasmScript::kOnEntryBreakpointPosition</a>,</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;                                     frame-&gt;id());</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#afb7e5cd394b9632dddc2e7807b11b2ab">script</a>-&gt;set_break_on_entry(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    <span class="comment">// Update the &quot;break_on_entry&quot; flag on all live instances.</span></div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">i::Tagged&lt;i::WeakArrayList&gt;</a> weak_instance_list =</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#afb7e5cd394b9632dddc2e7807b11b2ab">script</a>-&gt;wasm_weak_instance_list();</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; weak_instance_list-&gt;length(); ++<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>) {</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;      <span class="keywordflow">if</span> (weak_instance_list-&gt;Get(<a class="code" href="namespacev8_1_1internal.html">i</a>).<a class="code" href="classv8_1_1internal_1_1TaggedImpl.html#a5d84dde6d0c8149b4560d7c79cf8f1a3">IsCleared</a>()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;      i::Cast&lt;i::WasmInstanceObject&gt;(weak_instance_list-&gt;Get(<a class="code" href="namespacev8_1_1internal.html">i</a>).<a class="code" href="classv8_1_1internal_1_1TaggedImpl.html#a941f4af4ddba9f09e9ff1ca6e4382c36">GetHeapObject</a>())</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;          -&gt;trusted_data(isolate)</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;          -&gt;set_break_on_entry(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    }</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!trusted_instance_data-&gt;break_on_entry());</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    <span class="keywordflow">if</span> (!maybe_on_entry_breakpoints.<a class="code" href="classv8_1_1internal_1_1MaybeDirectHandle.html#a872ccde05e0ba79452e0b75afdfabf39">is_null</a>()) {</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;      isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#add58aa2cf5e62000c95ea11411ce9ae6">debug</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Debug.html#a27e2ea9a34f8bb5d3d93c3bc78db6347">OnInstrumentationBreak</a>();</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;      paused_on_instrumentation = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    }</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;  }</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160; </div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;  <span class="keywordflow">if</span> (debug_info-&gt;IsStepping(frame) &amp;&amp; !debug_info-&gt;IsFrameBlackboxed(frame)) {</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    debug_info-&gt;ClearStepping(isolate);</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a18376a5f1f890174b48ed0d1c803569a">StepAction</a> step_action = isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#add58aa2cf5e62000c95ea11411ce9ae6">debug</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Debug.html#a93af8c4938d17fb18a004e60f805c1cc">last_step_action</a>();</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#add58aa2cf5e62000c95ea11411ce9ae6">debug</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Debug.html#adcd9304fbc680273541c9a4d78109dab">ClearStepping</a>();</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#add58aa2cf5e62000c95ea11411ce9ae6">debug</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Debug.html#a7b3dc3d19f2788ba4752a781ea1b58eb">OnDebugBreak</a>(isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;empty_fixed_array(),</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;                                   step_action);</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;  }</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160; </div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;  <span class="comment">// Check whether we hit a breakpoint.</span></div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;FixedArray&gt;</a> breakpoints;</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1WasmScript.html#a42def163ed2f611a7e6dc9c7b778ee80">WasmScript::CheckBreakPoints</a>(isolate, <a class="code" href="namespacev8_1_1internal.html#afb7e5cd394b9632dddc2e7807b11b2ab">script</a>, frame-&gt;position(),</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;                                   frame-&gt;id())</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;          .ToHandle(&amp;breakpoints)) {</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    debug_info-&gt;ClearStepping(isolate);</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a18376a5f1f890174b48ed0d1c803569a">StepAction</a> step_action = isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#add58aa2cf5e62000c95ea11411ce9ae6">debug</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Debug.html#a93af8c4938d17fb18a004e60f805c1cc">last_step_action</a>();</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#add58aa2cf5e62000c95ea11411ce9ae6">debug</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Debug.html#adcd9304fbc680273541c9a4d78109dab">ClearStepping</a>();</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    <span class="keywordflow">if</span> (isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#add58aa2cf5e62000c95ea11411ce9ae6">debug</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Debug.html#a0fcec92fce7e97cead477971d07a2fd7">break_points_active</a>()) {</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;      <span class="comment">// We hit one or several breakpoints. Notify the debug listeners.</span></div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;      isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#add58aa2cf5e62000c95ea11411ce9ae6">debug</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Debug.html#a7b3dc3d19f2788ba4752a781ea1b58eb">OnDebugBreak</a>(breakpoints, step_action);</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    }</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;  }</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160; </div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;  <span class="keywordflow">return</span> paused_on_instrumentation;</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;}</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160; </div>
<div class="line"><a name="l01082"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#a65779c00382703fc231cb1bfd9711464"> 1082</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmDebugBreak) {</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;  ClearThreadInWasmScope flag_scope(isolate);</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;  FrameFinder&lt;WasmFrame&gt; frame_finder(</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;      isolate, {StackFrame::EXIT, StackFrame::WASM_DEBUG_BREAK});</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;  WasmFrame* frame = frame_finder.frame();</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmTrustedInstanceData&gt;</a> trusted_data{</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;      frame-&gt;trusted_instance_data(), isolate};</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;  isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a57261d1487f55564a4c2d1fb1a257356">set_context</a>(trusted_data-&gt;native_context());</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160; </div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a244ed2ad6bdf7827d1fc4c42e69dfb2f">ExecuteWasmDebugBreaks</a>(isolate, trusted_data, frame)) {</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    <span class="comment">// We did not hit a breakpoint. If we are in stepping code, but the user did</span></div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    <span class="comment">// not request stepping, clear this (to save further calls into this runtime</span></div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <span class="comment">// function).</span></div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    <span class="keyword">auto</span>* debug_info = trusted_data-&gt;native_module()-&gt;GetDebugInfo();</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    debug_info-&gt;ClearStepping(frame);</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;  }</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160; </div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;  <span class="comment">// Execute a stack check before leaving this function. This is to handle any</span></div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;  <span class="comment">// interrupts set by the debugger (e.g. termination), but also to execute Wasm</span></div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;  <span class="comment">// code GC to get rid of temporarily created Wasm code.</span></div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;  <a class="code" href="classv8_1_1internal_1_1StackLimitCheck.html">StackLimitCheck</a> check(isolate);</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;  <span class="keywordflow">if</span> (check.<a class="code" href="classv8_1_1internal_1_1StackLimitCheck.html#a60021816393053e2f218da83bf402f39">InterruptRequested</a>()) {</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> interrupt_object =</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;        isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a39a1d363e13113d1ca51a5c032312f3e">stack_guard</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1StackGuard.html#ab06a1511d34eb817aa707c3696c32f35">HandleInterrupts</a>();</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    <span class="comment">// Interrupt handling can create an exception, including the</span></div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    <span class="comment">// termination exception.</span></div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    <span class="keywordflow">if</span> (IsException(interrupt_object, isolate)) <span class="keywordflow">return</span> interrupt_object;</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(IsUndefined(interrupt_object, isolate));</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;  }</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160; </div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1ReadOnlyRoots.html">ReadOnlyRoots</a>(isolate).undefined_value();</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;}</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160; </div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;<span class="comment">// Assumes copy ranges are in-bounds and copy length &gt; 0.</span></div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;<span class="comment">// TODO(manoskouk): Unify part of this with the implementation in</span></div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;<span class="comment">// wasm-extern-refs.cc</span></div>
<div class="line"><a name="l01120"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#af5286ab083060de79d586703b802006d"> 1120</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmArrayCopy) {</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;  ClearThreadInWasmScope flag_scope(isolate);</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;  <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>;</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(5, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WasmArray&gt;</a> dst_array = Cast&lt;WasmArray&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[0]);</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;  uint32_t dst_index = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(1);</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WasmArray&gt;</a> src_array = Cast&lt;WasmArray&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[2]);</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;  uint32_t src_index = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(3);</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;  uint32_t <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(4);</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#afd957f297df7e9ee36c46185e961485f">DCHECK_GT</a>(<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>, 0);</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;  <span class="keywordtype">bool</span> overlapping_ranges =</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;      dst_array.<a class="code" href="classv8_1_1internal_1_1TaggedImpl.html#a4dba1b2eafcf7a414910966f950540c9">ptr</a>() == src_array.<a class="code" href="classv8_1_1internal_1_1TaggedImpl.html#a4dba1b2eafcf7a414910966f950540c9">ptr</a>() &amp;&amp;</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;      (dst_index &lt; src_index ? dst_index + length &gt; src_index</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;                             : src_index + <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> &gt; dst_index);</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1CanonicalValueType.html">wasm::CanonicalValueType</a> element_type =</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;      src_array-&gt;map()-&gt;wasm_type_info()-&gt;element_type();</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;  <span class="keywordflow">if</span> (element_type.<a class="code" href="classv8_1_1internal_1_1wasm_1_1ValueTypeBase.html#a786387bf26930354003d39a87eec7921">is_reference</a>()) {</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">ObjectSlot</a> dst_slot = dst_array-&gt;ElementSlot(dst_index);</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">ObjectSlot</a> src_slot = src_array-&gt;ElementSlot(src_index);</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    <span class="keywordflow">if</span> (overlapping_ranges) {</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;      isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">heap</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#aa35dfd52dbfeb45f57b8934f13b9f5ef">MoveRange</a>(dst_array, dst_slot, src_slot, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>,</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;                                 <a class="code" href="namespacev8_1_1internal.html#a20c66a96ddfae551866ceae989a8ba13a936c581afe29bbe04ab84d8ae4c6267d">UPDATE_WRITE_BARRIER</a>);</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;      isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">heap</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a9d4fea9ee84c089759526b1ca53a961a">CopyRange</a>(dst_array, dst_slot, src_slot, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>,</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;                                 <a class="code" href="namespacev8_1_1internal.html#a20c66a96ddfae551866ceae989a8ba13a936c581afe29bbe04ab84d8ae4c6267d">UPDATE_WRITE_BARRIER</a>);</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;    }</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;    <span class="keywordtype">void</span>* dst = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(dst_array-&gt;ElementAddress(dst_index));</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    <span class="keywordtype">void</span>* src = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(src_array-&gt;ElementAddress(src_index));</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    <span class="keywordtype">size_t</span> copy_size = <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> * element_type.<a class="code" href="classv8_1_1internal_1_1wasm_1_1ValueTypeBase.html#a09cf4ea5d5c5131cd99bf69b427dd13f">value_kind_size</a>();</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;    <span class="keywordflow">if</span> (overlapping_ranges) {</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a7d9a6377d2996578ec1e725079f12ee0">MemMove</a>(dst, src, copy_size);</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#ae0ee98c9174e5955450c56da22cb8f6a">MemCopy</a>(dst, src, copy_size);</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    }</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;  }</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1ReadOnlyRoots.html">ReadOnlyRoots</a>(isolate).undefined_value();</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;}</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160; </div>
<div class="line"><a name="l01160"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#aa4c66d23df1627929f7484c7b0e22774"> 1160</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmAllocateDescriptorStruct) {</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;  ClearThreadInWasmScope flag_scope(isolate);</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(4, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmTrustedInstanceData&gt;</a> trusted_data{</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;      Cast&lt;WasmTrustedInstanceData&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[0]), isolate};</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Map&gt;</a> map{Cast&lt;Map&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[1]), isolate};</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;  <a class="code" href="structv8_1_1internal_1_1wasm_1_1ModuleTypeIndex.html">wasm::ModuleTypeIndex</a> type_index{<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(2)};</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> first_field{<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[3], isolate};</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;  <span class="keywordflow">return</span> *<a class="code" href="classv8_1_1internal_1_1WasmStruct.html#a7f2b5aa8e14b67c2b8f6f70a70b1455b">WasmStruct::AllocateDescriptorUninitialized</a>(</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;      isolate, trusted_data, type_index, map, first_field);</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;}</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160; </div>
<div class="line"><a name="l01173"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#a012ea34ac1d065d51efda466b944ba6e"> 1173</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmArrayNewSegment) {</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;  ClearThreadInWasmScope flag_scope(isolate);</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(5, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmTrustedInstanceData&gt;</a> trusted_instance_data(</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;      Cast&lt;WasmTrustedInstanceData&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[0]), isolate);</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;  uint32_t segment_index = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(1);</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;  uint32_t offset = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(2);</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;  uint32_t <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(3);</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Map&gt;</a> rtt(Cast&lt;Map&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[4]), isolate);</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160; </div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1CanonicalValueType.html">wasm::CanonicalValueType</a> element_type = rtt-&gt;wasm_type_info()-&gt;element_type();</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160; </div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;  uint32_t element_size = element_type.<a class="code" href="classv8_1_1internal_1_1wasm_1_1ValueTypeBase.html#a09cf4ea5d5c5131cd99bf69b427dd13f">value_kind_size</a>();</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;  <span class="comment">// This check also implies no overflow.</span></div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> &gt; <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(<a class="code" href="classv8_1_1internal_1_1WasmArray.html#a70f275c3e49874771b7b06cb4e5d20d8">WasmArray::MaxLength</a>(element_size))) {</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a51ea94027f43d4557e6bf268f730de68">ThrowWasmError</a>(isolate, MessageTemplate::kWasmTrapArrayTooLarge);</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;  }</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160; </div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;  <span class="keywordflow">if</span> (element_type.<a class="code" href="classv8_1_1internal_1_1wasm_1_1ValueTypeBase.html#aa757d5233d87f6d7a86d6dc0e828fe4a">is_numeric</a>()) {</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;    <span class="comment">// No chance of overflow due to the check above.</span></div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    uint32_t length_in_bytes = <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> * element_size;</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160; </div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    <span class="keywordflow">if</span> (!base::IsInBounds&lt;uint32_t&gt;(</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;            offset, length_in_bytes,</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;            trusted_instance_data-&gt;data_segment_sizes()-&gt;get(segment_index))) {</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a51ea94027f43d4557e6bf268f730de68">ThrowWasmError</a>(isolate,</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;                            MessageTemplate::kWasmTrapDataSegmentOutOfBounds);</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    }</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160; </div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    <a class="code" href="classuintptr__t.html">Address</a> source =</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;        trusted_instance_data-&gt;data_segment_starts()-&gt;get(segment_index) +</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;        offset;</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    <span class="keywordflow">return</span> *isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;NewWasmArrayFromMemory(<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>, rtt,</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;                                                       element_type, source);</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> elem_segment_raw(</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;        trusted_instance_data-&gt;element_segments()-&gt;get(segment_index), isolate);</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    <span class="keyword">const</span> <a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmElemSegment.html">wasm::WasmElemSegment</a>* module_elem_segment =</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;        &amp;trusted_instance_data-&gt;module()-&gt;elem_segments[segment_index];</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    <span class="comment">// If the segment is initialized in the instance, we have to get its length</span></div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    <span class="comment">// from there, as it might have been dropped. If the segment is</span></div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    <span class="comment">// uninitialized, we need to fetch its length from the module.</span></div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    <span class="keywordtype">int</span> segment_length = IsFixedArray(*elem_segment_raw)</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;                             ? Cast&lt;FixedArray&gt;(elem_segment_raw)-&gt;length()</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;                             : module_elem_segment-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmElemSegment.html#ac64232dd735e4721a8de2a8331da090c">element_count</a>;</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    <span class="keywordflow">if</span> (!base::IsInBounds&lt;size_t&gt;(offset, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>, segment_length)) {</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a51ea94027f43d4557e6bf268f730de68">ThrowWasmError</a>(</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;          isolate, MessageTemplate::kWasmTrapElementSegmentOutOfBounds);</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    }</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;    <span class="comment">// TODO(14616): Pass the correct instance data.</span></div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> =</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;        isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;NewWasmArrayFromElementSegment(</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;            trusted_instance_data, trusted_instance_data, segment_index, offset,</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;            <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>, rtt, element_type);</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#ac299e59759eecb4621f6bad64d5db952">IsSmi</a>(*<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>)) {</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a51ea94027f43d4557e6bf268f730de68">ThrowWasmError</a>(</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;          isolate, <span class="keyword">static_cast&lt;</span><a class="code" href="namespacev8_1_1internal.html#a1c7888272df599e45fcab531e38f9523">MessageTemplate</a><span class="keyword">&gt;</span>(Cast&lt;Smi&gt;(*result).value()));</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;      <span class="keywordflow">return</span> *<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    }</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;  }</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;}</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160; </div>
<div class="line"><a name="l01237"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#a0a513c0b3f9783962583e23a68112055"> 1237</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmArrayInitSegment) {</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;  ClearThreadInWasmScope flag_scope(isolate);</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(6, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmTrustedInstanceData&gt;</a> trusted_instance_data(</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;      Cast&lt;WasmTrustedInstanceData&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[0]), isolate);</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;  uint32_t segment_index = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(1);</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmArray&gt;</a> array(Cast&lt;WasmArray&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[2]), isolate);</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;  uint32_t array_index = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(3);</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;  uint32_t segment_offset = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(4);</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;  uint32_t <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(5);</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160; </div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1CanonicalValueType.html">wasm::CanonicalValueType</a> element_type =</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;      array-&gt;map()-&gt;wasm_type_info()-&gt;element_type();</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160; </div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;  <span class="keywordflow">if</span> (element_type.<a class="code" href="classv8_1_1internal_1_1wasm_1_1ValueTypeBase.html#aa757d5233d87f6d7a86d6dc0e828fe4a">is_numeric</a>()) {</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    <span class="keywordflow">if</span> (!base::IsInBounds&lt;uint32_t&gt;(array_index, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>, array-&gt;length())) {</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a51ea94027f43d4557e6bf268f730de68">ThrowWasmError</a>(isolate,</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;                            MessageTemplate::kWasmTrapArrayOutOfBounds);</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    }</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160; </div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    <span class="comment">// No chance of overflow, due to the check above and the limit in array</span></div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    <span class="comment">// length.</span></div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    uint32_t length_in_bytes = <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> * element_type.<a class="code" href="classv8_1_1internal_1_1wasm_1_1ValueTypeBase.html#a09cf4ea5d5c5131cd99bf69b427dd13f">value_kind_size</a>();</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160; </div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    <span class="keywordflow">if</span> (!base::IsInBounds&lt;uint32_t&gt;(</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;            segment_offset, length_in_bytes,</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;            trusted_instance_data-&gt;data_segment_sizes()-&gt;get(segment_index))) {</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a51ea94027f43d4557e6bf268f730de68">ThrowWasmError</a>(isolate,</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;                            MessageTemplate::kWasmTrapDataSegmentOutOfBounds);</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;    }</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160; </div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    <a class="code" href="classuintptr__t.html">Address</a> source =</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;        trusted_instance_data-&gt;data_segment_starts()-&gt;get(segment_index) +</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;        segment_offset;</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    <a class="code" href="classuintptr__t.html">Address</a> dest = array-&gt;ElementAddress(array_index);</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;<span class="preprocessor">#if V8_TARGET_BIG_ENDIAN</span></div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    MemCopyAndSwitchEndianness(<span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(dest),</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;                               <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(source), <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>,</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;                               element_type.<a class="code" href="classv8_1_1internal_1_1wasm_1_1ValueTypeBase.html#a09cf4ea5d5c5131cd99bf69b427dd13f">value_kind_size</a>());</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#ae0ee98c9174e5955450c56da22cb8f6a">MemCopy</a>(<span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(dest), <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(source),</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;            length_in_bytes);</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    <span class="keywordflow">return</span> *isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;undefined_value();</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> elem_segment_raw(</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;        trusted_instance_data-&gt;element_segments()-&gt;get(segment_index), isolate);</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    <span class="keyword">const</span> <a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmElemSegment.html">wasm::WasmElemSegment</a>* module_elem_segment =</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;        &amp;trusted_instance_data-&gt;module()-&gt;elem_segments[segment_index];</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    <span class="comment">// If the segment is initialized in the instance, we have to get its length</span></div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;    <span class="comment">// from there, as it might have been dropped. If the segment is</span></div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;    <span class="comment">// uninitialized, we need to fetch its length from the module.</span></div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    <span class="keywordtype">int</span> segment_length = IsFixedArray(*elem_segment_raw)</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;                             ? Cast&lt;FixedArray&gt;(elem_segment_raw)-&gt;length()</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;                             : module_elem_segment-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmElemSegment.html#ac64232dd735e4721a8de2a8331da090c">element_count</a>;</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    <span class="keywordflow">if</span> (!base::IsInBounds&lt;size_t&gt;(segment_offset, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>, segment_length)) {</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a51ea94027f43d4557e6bf268f730de68">ThrowWasmError</a>(</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;          isolate, MessageTemplate::kWasmTrapElementSegmentOutOfBounds);</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    }</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    <span class="keywordflow">if</span> (!base::IsInBounds(array_index, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>, array-&gt;length())) {</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a51ea94027f43d4557e6bf268f730de68">ThrowWasmError</a>(isolate,</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;                            MessageTemplate::kWasmTrapArrayOutOfBounds);</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    }</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160; </div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;    <span class="comment">// If the element segment has not been initialized yet, lazily initialize it</span></div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    <span class="comment">// now.</span></div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    <a class="code" href="classv8_1_1internal_1_1AccountingAllocator.html">AccountingAllocator</a> allocator;</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Zone.html">Zone</a> zone(&amp;allocator, <a class="code" href="zone_8h.html#a6b1fd0a126df3f1b788cee19d9cce66e">ZONE_NAME</a>);</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    <span class="comment">// TODO(14616): Fix the instance data.</span></div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    std::optional&lt;MessageTemplate&gt; opt_error =</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;        <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a44100d6c17be0db51b00a9f4fdb9d678">wasm::InitializeElementSegment</a>(&amp;zone, isolate, trusted_instance_data,</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;                                       trusted_instance_data, segment_index);</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    <span class="keywordflow">if</span> (opt_error.has_value()) {</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a51ea94027f43d4557e6bf268f730de68">ThrowWasmError</a>(isolate, opt_error.value());</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    }</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160; </div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;    <span class="keyword">auto</span> elements = <a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;        Cast&lt;FixedArray&gt;(</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;            trusted_instance_data-&gt;element_segments()-&gt;get(segment_index)),</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;        isolate);</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> &gt; 0) {</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;      isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">heap</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a9d4fea9ee84c089759526b1ca53a961a">CopyRange</a>(*array, array-&gt;ElementSlot(array_index),</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;                                 elements-&gt;RawFieldOfElementAt(segment_offset),</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;                                 <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>, <a class="code" href="namespacev8_1_1internal.html#a20c66a96ddfae551866ceae989a8ba13a936c581afe29bbe04ab84d8ae4c6267d">UPDATE_WRITE_BARRIER</a>);</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    }</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    <span class="keywordflow">return</span> *isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;undefined_value();</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;  }</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;}</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160; </div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;<span class="comment">// Allocate a new suspender, and prepare for stack switching by updating the</span></div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;<span class="comment">// active continuation, active suspender and stack limit.</span></div>
<div class="line"><a name="l01329"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#aab30b7e3050a12d35751192a369d5de0"> 1329</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmAllocateSuspender) {</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmSuspenderObject&gt;</a> suspender =</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;      isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;NewWasmSuspenderObject();</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160; </div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;  <span class="comment">// Update the stack state.</span></div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1StackMemory.html">wasm::StackMemory</a>* active_stack = isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#abe50923a63ccf9f7a10ef1258dce8280">isolate_data</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1IsolateData.html#a7722b6c72e3ea25beeb1f95ca1a89173">active_stack</a>();</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;  std::unique_ptr&lt;wasm::StackMemory&gt; target_stack =</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;      isolate-&gt;stack_pool().GetOrAllocate();</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;  target_stack-&gt;jmpbuf()-&gt;parent = active_stack;</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;  target_stack-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1StackMemory.html#a9132c4153bd0207b8738f2b7304e0f7b">jmpbuf</a>()-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1JumpBuffer.html#a96a8015d1cbbe6fb7fb422de9e486919">stack_limit</a> = target_stack-&gt;jslimit();</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;  target_stack-&gt;jmpbuf()-&gt;sp = target_stack-&gt;base();</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;  target_stack-&gt;jmpbuf()-&gt;fp = <a class="code" href="namespacev8_1_1internal.html#acf6bafb5b8483a580f375393c413ee02">kNullAddress</a>;</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;  target_stack-&gt;jmpbuf()-&gt;state = <a class="code" href="structv8_1_1internal_1_1wasm_1_1JumpBuffer.html#ae01815403be2efcd294f92390cd01fc2af4817a544c6b44e9a59d44b6e2a50ff5">wasm::JumpBuffer::Suspended</a>;</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;  isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#abe50923a63ccf9f7a10ef1258dce8280">isolate_data</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1IsolateData.html#ad08b725d1a089d5f289c991e401e26d3">set_active_stack</a>(target_stack.get());</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160; </div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;  <span class="comment">// Update the suspender state.</span></div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;  <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">FullObjectSlot</a> active_suspender_slot =</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;      isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ab64f4271342ac485e583b4bd59a6d47f">roots_table</a>().<a class="code" href="classv8_1_1internal_1_1RootsTable.html#aa9f7574a9b651cf4c0170712af1964fa">slot</a>(RootIndex::kActiveSuspender);</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;  suspender-&gt;set_parent(</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a94c4a6c4ad3993b5e0e43bc2191c084b">Cast</a>&lt;<a class="code" href="namespacev8_1_1internal.html#acd10a3519c540121d30308892e89a261">UnionOf&lt;Undefined, WasmSuspenderObject&gt;</a>&gt;(*active_suspender_slot));</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;  suspender-&gt;set_stack(isolate, target_stack.get());</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;  active_suspender_slot.<a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html#a8536dba7ebccdf4f0e1ccfcee33abedd">store</a>(*suspender);</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160; </div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;  target_stack-&gt;set_index(isolate-&gt;wasm_stacks().size());</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;  isolate-&gt;wasm_stacks().emplace_back(std::move(target_stack));</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; isolate-&gt;wasm_stacks().<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>(); ++<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>) {</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;    <a class="code" href="checks_8h.html#a8c8b326bb3d6944234eb74fbd0952061">SLOW_DCHECK</a>(isolate-&gt;wasm_stacks()[<a class="code" href="namespacev8_1_1internal.html">i</a>]-&gt;index() == <a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;  }</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160; </div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;  <span class="comment">// Stack limit will be updated in WasmReturnPromiseOnSuspendAsm builtin.</span></div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(active_stack-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1StackMemory.html#a9132c4153bd0207b8738f2b7304e0f7b">jmpbuf</a>()-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1JumpBuffer.html#a7bcdc800f396bb3702af29a385c60b38">state</a>, <a class="code" href="structv8_1_1internal_1_1wasm_1_1JumpBuffer.html#ae01815403be2efcd294f92390cd01fc2a248937f7ccfca3a009e442bb6e9966a8">wasm::JumpBuffer::Active</a>);</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;  active_stack-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1StackMemory.html#a9132c4153bd0207b8738f2b7304e0f7b">jmpbuf</a>()-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1JumpBuffer.html#a7bcdc800f396bb3702af29a385c60b38">state</a> = <a class="code" href="structv8_1_1internal_1_1wasm_1_1JumpBuffer.html#ae01815403be2efcd294f92390cd01fc2ab1fdbd3b766b6d92d216f957c81910f5">wasm::JumpBuffer::Inactive</a>;</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160; </div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;  <span class="keywordflow">return</span> *suspender;</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;}</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160; </div>
<div class="line"><a name="l01366"></a><span class="lineno"><a class="line" href="runtime-wasm_8cc.html#a16cae18dd347391aab4a875304db1357"> 1366</a></span>&#160;<span class="preprocessor">#define RETURN_RESULT_OR_TRAP(call)                                            \</span></div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;<span class="preprocessor">  do {                                                                         \</span></div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;<span class="preprocessor">    DirectHandle&lt;Object&gt; result;                                               \</span></div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;<span class="preprocessor">    if (!(call).ToHandle(&amp;result)) {                                           \</span></div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;<span class="preprocessor">      DCHECK(isolate-&gt;has_exception());                                        \</span></div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;<span class="preprocessor">      </span><span class="comment">/* Mark any exception as uncatchable by Wasm. */</span><span class="preprocessor">                         \</span></div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;<span class="preprocessor">      DirectHandle&lt;JSObject&gt; exception(Cast&lt;JSObject&gt;(isolate-&gt;exception()),   \</span></div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;<span class="preprocessor">                                       isolate);                               \</span></div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;<span class="preprocessor">      DirectHandle&lt;Name&gt; uncatchable =                                         \</span></div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;<span class="preprocessor">          isolate-&gt;factory()-&gt;wasm_uncatchable_symbol();                       \</span></div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;<span class="preprocessor">      LookupIterator it(isolate, exception, uncatchable, LookupIterator::OWN); \</span></div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;<span class="preprocessor">      if (!JSReceiver::HasProperty(&amp;it).FromJust()) {                          \</span></div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;<span class="preprocessor">        JSObject::AddProperty(isolate, exception, uncatchable,                 \</span></div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;<span class="preprocessor">                              isolate-&gt;factory()-&gt;true_value(), NONE);         \</span></div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;<span class="preprocessor">      }                                                                        \</span></div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;<span class="preprocessor">      return ReadOnlyRoots(isolate).exception();                               \</span></div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;<span class="preprocessor">    }                                                                          \</span></div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;<span class="preprocessor">    DCHECK(!isolate-&gt;has_exception() ||                                        \</span></div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;<span class="preprocessor">           IsTerminationException(isolate-&gt;exception()));                      \</span></div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;<span class="preprocessor">    return *result;                                                            \</span></div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;<span class="preprocessor">  } while (false)</span></div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160; </div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;<span class="comment">// &quot;Special&quot; because the type must be in a recgroup of its own.</span></div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;<span class="comment">// Used by &quot;JS String Builtins&quot;.</span></div>
<div class="line"><a name="l01390"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#a1e2ec7a72dac8ba85a0d728b7866e904"> 1390</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmCastToSpecialPrimitiveArray) {</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;  ClearThreadInWasmScope flag_scope(isolate);</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(2, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160; </div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;  <span class="keywordtype">int</span> bits = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.smi_value_at(1);</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(bits == 8 || bits == 16);</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160; </div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[0] == <a class="code" href="classv8_1_1internal_1_1ReadOnlyRoots.html">ReadOnlyRoots</a>(isolate).null_value()) {</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a51ea94027f43d4557e6bf268f730de68">ThrowWasmError</a>(isolate, MessageTemplate::kWasmTrapNullDereference);</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;  }</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a1c7888272df599e45fcab531e38f9523">MessageTemplate</a> illegal_cast = MessageTemplate::kWasmTrapIllegalCast;</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;  <span class="keywordflow">if</span> (!IsWasmArray(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[0])) <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a51ea94027f43d4557e6bf268f730de68">ThrowWasmError</a>(isolate, illegal_cast);</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WasmArray&gt;</a> obj = Cast&lt;WasmArray&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[0]);</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;  <a class="code" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">wasm::CanonicalTypeIndex</a> expected =</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;      bits == 8 ? <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#ad7596d2d5f3ea621ba8021e2b5c35ea0">wasm::TypeCanonicalizer::kPredefinedArrayI8Index</a></div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;                : <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a786ffe03cbb5612cc865dff1331a20eb">wasm::TypeCanonicalizer::kPredefinedArrayI16Index</a>;</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> expected_map =</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a2aebb1376bec4577a02698bacf76fbf4">MakeStrong</a>(isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">heap</a>()-&gt;wasm_canonical_rtts()-&gt;get(expected.<a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeIndex.html#ad0355b4f2bc1bc8a489e4d01da40067b">index</a>));</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;  <span class="comment">// If the expected_map has been cleared or never even created, then there&#39;s</span></div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;  <span class="comment">// no chance of a match anyway.</span></div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;  <span class="keywordflow">if</span> (obj-&gt;map() != expected_map) {</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a51ea94027f43d4557e6bf268f730de68">ThrowWasmError</a>(isolate, illegal_cast);</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;  }</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;  <span class="keywordflow">return</span> obj;</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;}</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160; </div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;<span class="comment">// Returns the new string if the operation succeeds.  Otherwise throws an</span></div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;<span class="comment">// exception and returns an empty result.</span></div>
<div class="line"><a name="l01419"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#a92c6d2dd8a29e2a4b10c3c5b63731b07"> 1419</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmStringNewWtf8) {</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;  ClearThreadInWasmScope flag_scope(isolate);</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(5, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WasmTrustedInstanceData&gt;</a> trusted_instance_data =</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;      Cast&lt;WasmTrustedInstanceData&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[0]);</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;  uint32_t memory = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(1);</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;  uint32_t utf8_variant_value = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(2);</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;  <span class="keywordtype">double</span> offset_double = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.number_value_at(3);</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;  <a class="code" href="classuintptr__t.html">uintptr_t</a> offset = <span class="keyword">static_cast&lt;</span><a class="code" href="classuintptr__t.html">uintptr_t</a><span class="keyword">&gt;</span>(offset_double);</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;  uint32_t <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = <a class="code" href="namespacev8_1_1internal.html#a865a15a94b3a103f2ae7c10f1324f304">NumberToUint32</a>(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[4]);</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160; </div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(utf8_variant_value &lt;=</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;         <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(<a class="code" href="namespaceunibrow.html#a091820d4fd2384425cd48bc8a9189f43ab9dfad250e9161ece43938e29c4a0de4">unibrow::Utf8Variant::kLastUtf8Variant</a>));</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160; </div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;  <span class="keyword">auto</span> utf8_variant = <span class="keyword">static_cast&lt;</span><a class="code" href="namespaceunibrow.html#a091820d4fd2384425cd48bc8a9189f43">unibrow::Utf8Variant</a><span class="keyword">&gt;</span>(utf8_variant_value);</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160; </div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;  uint64_t mem_size = trusted_instance_data-&gt;memory_size(memory);</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;  <span class="keywordflow">if</span> (!base::IsInBounds&lt;uint64_t&gt;(offset, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, mem_size)) {</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a51ea94027f43d4557e6bf268f730de68">ThrowWasmError</a>(isolate, MessageTemplate::kWasmTrapMemOutOfBounds);</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;  }</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160; </div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;  <span class="keyword">const</span> <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const uint8_t&gt;</a> bytes{</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;      trusted_instance_data-&gt;memory_base(memory) + offset, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>};</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MaybeDirectHandle.html">MaybeDirectHandle&lt;v8::internal::String&gt;</a> result_string =</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;      isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Factory.html#a770976a9ab8638f5c4a009dc3701a7e1">NewStringFromUtf8</a>(bytes, utf8_variant);</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;  <span class="keywordflow">if</span> (utf8_variant == unibrow::Utf8Variant::kUtf8NoTrap) {</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;    <span class="comment">// If the input was invalid, then the decoder has failed silently, and</span></div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;    <span class="comment">// the string.new_utf8_try instruction should return null.</span></div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;    <span class="keywordflow">if</span> (result_string.<a class="code" href="classv8_1_1internal_1_1MaybeDirectHandle.html#a872ccde05e0ba79452e0b75afdfabf39">is_null</a>() &amp;&amp; !isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#aed5dcd4c10242ef0225dfbd02b5dbdd3">has_exception</a>()) {</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;      <span class="keywordflow">return</span> *isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;wasm_null();</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;    }</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;    <span class="comment">// Fall through in case of a valid result, and in case of a pending</span></div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;    <span class="comment">// exception because the requested string was too large.</span></div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;  }</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;  <a class="code" href="runtime-wasm_8cc.html#a16cae18dd347391aab4a875304db1357">RETURN_RESULT_OR_TRAP</a>(result_string);</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;}</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160; </div>
<div class="line"><a name="l01457"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#add6a905c1c692092db17f87de4309275"> 1457</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmStringNewWtf8Array) {</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;  ClearThreadInWasmScope flag_scope(isolate);</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(4, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;  uint32_t utf8_variant_value = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(0);</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmArray&gt;</a> array(Cast&lt;WasmArray&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[1]), isolate);</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;  uint32_t start = <a class="code" href="namespacev8_1_1internal.html#a865a15a94b3a103f2ae7c10f1324f304">NumberToUint32</a>(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[2]);</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;  uint32_t <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a> = <a class="code" href="namespacev8_1_1internal.html#a865a15a94b3a103f2ae7c10f1324f304">NumberToUint32</a>(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[3]);</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160; </div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(utf8_variant_value &lt;=</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;         <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(<a class="code" href="namespaceunibrow.html#a091820d4fd2384425cd48bc8a9189f43ab9dfad250e9161ece43938e29c4a0de4">unibrow::Utf8Variant::kLastUtf8Variant</a>));</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;  <span class="keyword">auto</span> utf8_variant = <span class="keyword">static_cast&lt;</span><a class="code" href="namespaceunibrow.html#a091820d4fd2384425cd48bc8a9189f43">unibrow::Utf8Variant</a><span class="keyword">&gt;</span>(utf8_variant_value);</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160; </div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MaybeDirectHandle.html">MaybeDirectHandle&lt;v8::internal::String&gt;</a> result_string =</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;      isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Factory.html#a770976a9ab8638f5c4a009dc3701a7e1">NewStringFromUtf8</a>(array, start, <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>, utf8_variant);</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;  <span class="keywordflow">if</span> (utf8_variant == unibrow::Utf8Variant::kUtf8NoTrap) {</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#aed5dcd4c10242ef0225dfbd02b5dbdd3">has_exception</a>());</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;    <span class="keywordflow">if</span> (result_string.<a class="code" href="classv8_1_1internal_1_1MaybeDirectHandle.html#a872ccde05e0ba79452e0b75afdfabf39">is_null</a>()) {</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;      <span class="keywordflow">return</span> *isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;wasm_null();</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;    }</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;    <span class="keywordflow">return</span> *result_string.<a class="code" href="classv8_1_1internal_1_1MaybeDirectHandle.html#af9f9ca9032aa4f380d7bab01754f5903">ToHandleChecked</a>();</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;  }</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;  <a class="code" href="runtime-wasm_8cc.html#a16cae18dd347391aab4a875304db1357">RETURN_RESULT_OR_TRAP</a>(result_string);</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;}</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160; </div>
<div class="line"><a name="l01482"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#a984c35f6f6ff2c1ce6dbc29b2de79bcd"> 1482</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmStringNewWtf16) {</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;  ClearThreadInWasmScope flag_scope(isolate);</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(4, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WasmTrustedInstanceData&gt;</a> trusted_instance_data =</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;      Cast&lt;WasmTrustedInstanceData&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[0]);</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;  uint32_t memory = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(1);</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;  <span class="keywordtype">double</span> offset_double = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.number_value_at(2);</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;  <a class="code" href="classuintptr__t.html">uintptr_t</a> offset = <span class="keyword">static_cast&lt;</span><a class="code" href="classuintptr__t.html">uintptr_t</a><span class="keyword">&gt;</span>(offset_double);</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;  uint32_t size_in_codeunits = <a class="code" href="namespacev8_1_1internal.html#a865a15a94b3a103f2ae7c10f1324f304">NumberToUint32</a>(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[3]);</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160; </div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;  uint64_t mem_size = trusted_instance_data-&gt;memory_size(memory);</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;  <span class="keywordflow">if</span> (size_in_codeunits &gt; <a class="code" href="namespacev8_1_1internal.html#ae9b3d70a0b2f7c3c669d187fd9a9dae2">kMaxUInt32</a> / 2 ||</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;      !base::IsInBounds&lt;uint64_t&gt;(offset, size_in_codeunits * 2, mem_size)) {</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a51ea94027f43d4557e6bf268f730de68">ThrowWasmError</a>(isolate, MessageTemplate::kWasmTrapMemOutOfBounds);</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;  }</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;  <span class="keywordflow">if</span> (offset &amp; 1) {</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a51ea94027f43d4557e6bf268f730de68">ThrowWasmError</a>(isolate, MessageTemplate::kWasmTrapUnalignedAccess);</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;  }</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160; </div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;  <span class="keyword">const</span> uint8_t* bytes = trusted_instance_data-&gt;memory_base(memory) + offset;</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacev8_1_1base.html#a1961a4852ced3c23f4d43de6f91d18d6">base::uc16</a>* codeunits = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="namespacev8_1_1base.html#a1961a4852ced3c23f4d43de6f91d18d6">base::uc16</a>*<span class="keyword">&gt;</span>(bytes);</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;  <a class="code" href="runtime-wasm_8cc.html#a16cae18dd347391aab4a875304db1357">RETURN_RESULT_OR_TRAP</a>(isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;NewStringFromTwoByteLittleEndian(</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;      {codeunits, size_in_codeunits}));</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;}</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160; </div>
<div class="line"><a name="l01508"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#a870433e538c8d01e42e17f3d07301f6e"> 1508</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmStringNewWtf16Array) {</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;  ClearThreadInWasmScope flag_scope(isolate);</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(3, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmArray&gt;</a> array(Cast&lt;WasmArray&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[0]), isolate);</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;  uint32_t start = <a class="code" href="namespacev8_1_1internal.html#a865a15a94b3a103f2ae7c10f1324f304">NumberToUint32</a>(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[1]);</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;  uint32_t <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a> = <a class="code" href="namespacev8_1_1internal.html#a865a15a94b3a103f2ae7c10f1324f304">NumberToUint32</a>(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[2]);</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160; </div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;  <a class="code" href="runtime-wasm_8cc.html#a16cae18dd347391aab4a875304db1357">RETURN_RESULT_OR_TRAP</a>(</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;      isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;NewStringFromUtf16(array, start, <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>));</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;}</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160; </div>
<div class="line"><a name="l01520"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#a599de7dd831e41336879389c01c7c305"> 1520</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmSubstring) {</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;  ClearThreadInWasmScope flag_scope(isolate);</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(3, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>(Cast&lt;String&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[0]), isolate);</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;  <span class="keywordtype">int</span> start = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(1);</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(2);</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160; </div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;  <span class="keywordtype">string</span> = String::Flatten(isolate, <span class="keywordtype">string</span>);</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;  <span class="keywordflow">return</span> *isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Factory.html#a90aead7c8b084e39128dc0a1afecf8ec">NewCopiedSubstring</a>(<span class="keywordtype">string</span>, start, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;}</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160; </div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;<span class="comment">// Returns the new string if the operation succeeds.  Otherwise traps.</span></div>
<div class="line"><a name="l01533"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#af640c692041428fed7d4d57a7db0e192"> 1533</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmStringConst) {</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;  ClearThreadInWasmScope flag_scope(isolate);</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(2, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WasmTrustedInstanceData&gt;</a> trusted_instance_data =</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;      Cast&lt;WasmTrustedInstanceData&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[0]);</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;  static_assert(</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;      base::IsInRange(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#ae6d585ed290228dcb294f9823c52ae41">wasm::kV8MaxWasmStringLiterals</a>, 0, <a class="code" href="classv8_1_1internal_1_1Smi.html#af3d26aa8c5407775428f36ef82bfaf3c">Smi::kMaxValue</a>));</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;  uint32_t <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(1);</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160; </div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a>(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, trusted_instance_data-&gt;module()-&gt;stringref_literals.size());</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160; </div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;  <span class="keyword">const</span> <a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmStringRefLiteral.html">wasm::WasmStringRefLiteral</a>&amp; literal =</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;      trusted_instance_data-&gt;module()-&gt;stringref_literals[<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>];</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;  <span class="keyword">const</span> <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const uint8_t&gt;</a> module_bytes =</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;      trusted_instance_data-&gt;native_module()-&gt;wire_bytes();</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;  <span class="keyword">const</span> <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const uint8_t&gt;</a> string_bytes = module_bytes.<a class="code" href="classv8_1_1base_1_1Vector.html#ae3db4c14cac8e648389541fdb745c6b0">SubVector</a>(</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;      literal.<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmStringRefLiteral.html#a40405c412776a37125d9a2c33454f0e1">source</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1WireBytesRef.html#a4f2dffb7efc3721571b5f1604d5d448a">offset</a>(), literal.<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmStringRefLiteral.html#a40405c412776a37125d9a2c33454f0e1">source</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1WireBytesRef.html#a1853a6fc4a88a37d2bb8a91b58781daf">end_offset</a>());</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;  <span class="comment">// TODO(12868): No need to re-validate WTF-8.  Also, result should be cached.</span></div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;  <span class="keywordflow">return</span> *isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;              -&gt;<a class="code" href="classv8_1_1internal_1_1Factory.html#a770976a9ab8638f5c4a009dc3701a7e1">NewStringFromUtf8</a>(string_bytes, unibrow::Utf8Variant::kWtf8)</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;              .ToHandleChecked();</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;}</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160; </div>
<div class="line"><a name="l01557"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#ab63caf2c25d84e233ecee3dc919f706c"> 1557</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmStringNewSegmentWtf8) {</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;  ClearThreadInWasmScope flag_scope(isolate);</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(5, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmTrustedInstanceData&gt;</a> trusted_instance_data(</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;      Cast&lt;WasmTrustedInstanceData&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[0]), isolate);</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;  uint32_t segment_index = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(1);</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;  uint32_t offset = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(2);</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;  uint32_t <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(3);</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;  <a class="code" href="namespaceunibrow.html#a091820d4fd2384425cd48bc8a9189f43">unibrow::Utf8Variant</a> variant =</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;      <span class="keyword">static_cast&lt;</span><a class="code" href="namespaceunibrow.html#a091820d4fd2384425cd48bc8a9189f43">unibrow::Utf8Variant</a><span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(4));</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160; </div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;  <span class="keywordflow">if</span> (!base::IsInBounds&lt;uint32_t&gt;(</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;          offset, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>,</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;          trusted_instance_data-&gt;data_segment_sizes()-&gt;get(segment_index))) {</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a51ea94027f43d4557e6bf268f730de68">ThrowWasmError</a>(isolate,</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;                          MessageTemplate::kWasmTrapDataSegmentOutOfBounds);</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;  }</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160; </div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;  <a class="code" href="classuintptr__t.html">Address</a> source =</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;      trusted_instance_data-&gt;data_segment_starts()-&gt;get(segment_index) + offset;</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MaybeDirectHandle.html">MaybeDirectHandle&lt;String&gt;</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Factory.html#a770976a9ab8638f5c4a009dc3701a7e1">NewStringFromUtf8</a>(</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;      {<span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>uint8_t*<span class="keyword">&gt;</span>(source), <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>}, variant);</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;  <span class="keywordflow">if</span> (variant == unibrow::Utf8Variant::kUtf8NoTrap) {</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#aed5dcd4c10242ef0225dfbd02b5dbdd3">has_exception</a>());</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;    <span class="comment">// Only instructions from the stringref proposal can set variant</span></div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;    <span class="comment">// kUtf8NoTrap, so WasmNull is appropriate here.</span></div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.is_null()) <span class="keywordflow">return</span> *isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;wasm_null();</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;    <span class="keywordflow">return</span> *<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.ToHandleChecked();</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;  }</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;  <a class="code" href="execution_2isolate_8h.html#aca79e1963c131c77c0a496bac97c078d">RETURN_RESULT_OR_FAILURE</a>(isolate, <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>);</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;}</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160; </div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;<span class="comment">// TODO(12868): Consider unifying with api.cc:String::Utf8Length.</span></div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l01593"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#ae5d92efbde0a759684712bbafce47e1c"> 1593</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#acb752bcb6f3ce858f98cdc63e936fa2d">MeasureWtf8</a>(<a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const T&gt;</a> wtf16) {</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;  <span class="keywordtype">int</span> previous = <a class="code" href="classunibrow_1_1Utf16.html#a1160051ffd27a644ec813172985b3002">unibrow::Utf16::kNoPreviousCharacter</a>;</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = 0;</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(wtf16.<a class="code" href="classv8_1_1base_1_1Vector.html#a8f91dff816409fb9bceaa94c6caeec32">size</a>() &lt;= <a class="code" href="classv8_1_1internal_1_1String.html#a1f86b7d22f551041980cd92683718802">String::kMaxLength</a>);</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;  static_assert(<a class="code" href="classv8_1_1internal_1_1String.html#a1f86b7d22f551041980cd92683718802">String::kMaxLength</a> &lt;=</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;                (<a class="code" href="namespacev8_1_1internal.html#ad03e50e4d15ee0da6a722254f350e7eb">kMaxInt</a> / <a class="code" href="classunibrow_1_1Utf8.html#a863e13744b7f1bafb2e7cefa88db22e8">unibrow::Utf8::kMaxEncodedSize</a>));</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; wtf16.<a class="code" href="classv8_1_1base_1_1Vector.html#a8f91dff816409fb9bceaa94c6caeec32">size</a>(); <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;    <span class="keywordtype">int</span> current = wtf16[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>];</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> += <a class="code" href="classunibrow_1_1Utf8.html#a5c6a30a8610649fee6dbb05057862113">unibrow::Utf8::Length</a>(current, previous);</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;    previous = current;</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;  }</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>;</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;}</div>
<div class="line"><a name="l01606"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#acb752bcb6f3ce858f98cdc63e936fa2d"> 1606</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#acb752bcb6f3ce858f98cdc63e936fa2d">MeasureWtf8</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <span class="keywordtype">string</span>) {</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;  <span class="keywordtype">string</span> = String::Flatten(isolate, <span class="keywordtype">string</span>);</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;  <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>;</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;  <a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html">String::FlatContent</a> content = <span class="keywordtype">string</span>-&gt;GetFlatContent(<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>);</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a483b0df0bd1ac65774f670845019d75f">IsFlat</a>());</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;  <span class="keywordflow">return</span> content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a3b4907c3447e7f474b0825b8db8138f0">IsOneByte</a>() ? <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#acb752bcb6f3ce858f98cdc63e936fa2d">MeasureWtf8</a>(content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a794f656e3f6d2c76eba88eebd5c780e3">ToOneByteVector</a>())</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;                             : <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#acb752bcb6f3ce858f98cdc63e936fa2d">MeasureWtf8</a>(content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#ae62146724271210677779a9741d4103d">ToUC16Vector</a>());</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;}</div>
<div class="line"><a name="l01614"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a51d21e1fd8e8cc566203aa01a4edb33a"> 1614</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#aa44fd5b10a8a98ef975ddebb11d2f6e6">MaxEncodedSize</a>(<a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const uint8_t&gt;</a> wtf16) {</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(wtf16.<a class="code" href="classv8_1_1base_1_1Vector.html#a8f91dff816409fb9bceaa94c6caeec32">size</a>() &lt; std::numeric_limits&lt;size_t&gt;::max() /</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;                            <a class="code" href="classunibrow_1_1Utf8.html#aa669d2994bd4d8b4700f5fdd933db133">unibrow::Utf8::kMax8BitCodeUnitSize</a>);</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;  <span class="keywordflow">return</span> wtf16.<a class="code" href="classv8_1_1base_1_1Vector.html#a8f91dff816409fb9bceaa94c6caeec32">size</a>() * <a class="code" href="classunibrow_1_1Utf8.html#aa669d2994bd4d8b4700f5fdd933db133">unibrow::Utf8::kMax8BitCodeUnitSize</a>;</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;}</div>
<div class="line"><a name="l01619"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#aa44fd5b10a8a98ef975ddebb11d2f6e6"> 1619</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#aa44fd5b10a8a98ef975ddebb11d2f6e6">MaxEncodedSize</a>(<a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const base::uc16&gt;</a> wtf16) {</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(wtf16.<a class="code" href="classv8_1_1base_1_1Vector.html#a8f91dff816409fb9bceaa94c6caeec32">size</a>() &lt; std::numeric_limits&lt;size_t&gt;::max() /</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;                            <a class="code" href="classunibrow_1_1Utf8.html#ac950664b85f1ad13505134334f32d0c5">unibrow::Utf8::kMax16BitCodeUnitSize</a>);</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;  <span class="keywordflow">return</span> wtf16.<a class="code" href="classv8_1_1base_1_1Vector.html#a8f91dff816409fb9bceaa94c6caeec32">size</a>() * <a class="code" href="classunibrow_1_1Utf8.html#ac950664b85f1ad13505134334f32d0c5">unibrow::Utf8::kMax16BitCodeUnitSize</a>;</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;}</div>
<div class="line"><a name="l01624"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#aaa99577bd621fcacd7b4edcf707181ff"> 1624</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a2f948163dfe85ae955af951a64d4690a">HasUnpairedSurrogate</a>(<a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const uint8_t&gt;</a> wtf16) { <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a name="l01625"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a2f948163dfe85ae955af951a64d4690a"> 1625</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a2f948163dfe85ae955af951a64d4690a">HasUnpairedSurrogate</a>(<a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const base::uc16&gt;</a> wtf16) {</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classunibrow_1_1Utf16.html#abb9b7169634bfe193593c9f2b4f2507b">unibrow::Utf16::HasUnpairedSurrogate</a>(wtf16.<a class="code" href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">begin</a>(), wtf16.<a class="code" href="classv8_1_1base_1_1Vector.html#a8f91dff816409fb9bceaa94c6caeec32">size</a>());</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;}</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l01629"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a5fd5e9e3d9674130b72b2f680aaa3459"> 1629</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a7efab2aa93102558d9e4dfe2bc5dc5d3">EncodeWtf8</a>(<a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;char&gt;</a> bytes, <span class="keywordtype">size_t</span> offset,</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;               <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const T&gt;</a> wtf16, <a class="code" href="namespaceunibrow.html#a091820d4fd2384425cd48bc8a9189f43">unibrow::Utf8Variant</a> variant,</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;               <a class="code" href="namespacev8_1_1internal.html#a1c7888272df599e45fcab531e38f9523">MessageTemplate</a>* message, <a class="code" href="namespacev8_1_1internal.html#a1c7888272df599e45fcab531e38f9523">MessageTemplate</a> out_of_bounds) {</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;  <span class="comment">// The first check is a quick estimate to decide whether the second check</span></div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;  <span class="comment">// is worth the computation.</span></div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;  <span class="keywordflow">if</span> (!base::IsInBounds&lt;size_t&gt;(offset, <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#aa44fd5b10a8a98ef975ddebb11d2f6e6">MaxEncodedSize</a>(wtf16), bytes.<a class="code" href="classv8_1_1base_1_1Vector.html#a8f91dff816409fb9bceaa94c6caeec32">size</a>()) &amp;&amp;</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;      !base::IsInBounds&lt;size_t&gt;(offset, <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#acb752bcb6f3ce858f98cdc63e936fa2d">MeasureWtf8</a>(wtf16), bytes.<a class="code" href="classv8_1_1base_1_1Vector.html#a8f91dff816409fb9bceaa94c6caeec32">size</a>())) {</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;    *message = out_of_bounds;</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;  }</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160; </div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;  <span class="keywordtype">bool</span> replace_invalid = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;  <span class="keywordflow">switch</span> (variant) {</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;    <span class="keywordflow">case</span> unibrow::Utf8Variant::kWtf8:</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;    <span class="keywordflow">case</span> unibrow::Utf8Variant::kUtf8:</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a2f948163dfe85ae955af951a64d4690a">HasUnpairedSurrogate</a>(wtf16)) {</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;        *message = MessageTemplate::kWasmTrapStringIsolatedSurrogate;</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;      }</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespaceunibrow.html#a091820d4fd2384425cd48bc8a9189f43af7d299bfd7372d64a2436dfa5ebe9b9d">unibrow::Utf8Variant::kLossyUtf8</a>:</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;      replace_invalid = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;  }</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160; </div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;  <span class="keywordtype">bool</span> write_null = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;  <a class="code" href="structunibrow_1_1Utf8_1_1EncodingResult.html">unibrow::Utf8::EncodingResult</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> =</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;      <a class="code" href="classunibrow_1_1Utf8.html#acf0af099acd418650bf1a8080f14e926">unibrow::Utf8::Encode</a>(wtf16, bytes.<a class="code" href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">begin</a>() + offset,</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;                            bytes.<a class="code" href="classv8_1_1base_1_1Vector.html#a8f91dff816409fb9bceaa94c6caeec32">size</a>() - offset, write_null, replace_invalid);</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.characters_processed, wtf16.<a class="code" href="classv8_1_1base_1_1Vector.html#a8f91dff816409fb9bceaa94c6caeec32">size</a>());</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.bytes_written, <a class="code" href="namespacev8_1_1internal.html#ad03e50e4d15ee0da6a722254f350e7eb">kMaxInt</a>);</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.bytes_written);</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;}</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> GetWritableBytes&gt;</div>
<div class="line"><a name="l01666"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a7efab2aa93102558d9e4dfe2bc5dc5d3"> 1666</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a7efab2aa93102558d9e4dfe2bc5dc5d3">EncodeWtf8</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="namespaceunibrow.html#a091820d4fd2384425cd48bc8a9189f43">unibrow::Utf8Variant</a> variant,</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;                          <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <span class="keywordtype">string</span>,</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;                          GetWritableBytes get_writable_bytes, <span class="keywordtype">size_t</span> offset,</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;                          <a class="code" href="namespacev8_1_1internal.html#a1c7888272df599e45fcab531e38f9523">MessageTemplate</a> out_of_bounds_message) {</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;  <span class="keywordtype">string</span> = String::Flatten(isolate, <span class="keywordtype">string</span>);</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a1c7888272df599e45fcab531e38f9523">MessageTemplate</a> message;</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;  <span class="keywordtype">int</span> written;</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;  {</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;    <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>;</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;    <a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html">String::FlatContent</a> content = <span class="keywordtype">string</span>-&gt;GetFlatContent(<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>);</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;    <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;char&gt;</a> dst = get_writable_bytes(<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>);</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;    written = content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a3b4907c3447e7f474b0825b8db8138f0">IsOneByte</a>()</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;                  ? <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a7efab2aa93102558d9e4dfe2bc5dc5d3">EncodeWtf8</a>(dst, offset, content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a794f656e3f6d2c76eba88eebd5c780e3">ToOneByteVector</a>(), variant,</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;                               &amp;message, out_of_bounds_message)</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;                  : <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a7efab2aa93102558d9e4dfe2bc5dc5d3">EncodeWtf8</a>(dst, offset, content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#ae62146724271210677779a9741d4103d">ToUC16Vector</a>(), variant,</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;                               &amp;message, out_of_bounds_message);</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;  }</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;  <span class="keywordflow">if</span> (written &lt; 0) {</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(message, MessageTemplate::kNone);</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a51ea94027f43d4557e6bf268f730de68">ThrowWasmError</a>(isolate, message);</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;  }</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;  <span class="keywordflow">return</span> *isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1FactoryBase.html#a0c09109f83f6f27662d18d2315650eca">NewNumberFromInt</a>(written);</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;}</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160; </div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;<span class="comment">// Used for storing the name of a string-constants imports module off the heap.</span></div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;<span class="comment">// Defined here to be able to make use of the helper functions above.</span></div>
<div class="line"><a name="l01693"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#aaf5b0233c8e9bc00c2dd924e6e652187"> 1693</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1internal.html#aaf5b0233c8e9bc00c2dd924e6e652187">ToUtf8Lossy</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <span class="keywordtype">string</span>,</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;                 <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a>&amp; out) {</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;  <span class="keywordtype">int</span> utf8_length = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#acb752bcb6f3ce858f98cdc63e936fa2d">MeasureWtf8</a>(isolate, <span class="keywordtype">string</span>);</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;  <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>;</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;  out.resize(utf8_length);</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;  <a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html">String::FlatContent</a> content = <span class="keywordtype">string</span>-&gt;GetFlatContent(<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>);</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a483b0df0bd1ac65774f670845019d75f">IsFlat</a>());</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;  <span class="keyword">static</span> constexpr <a class="code" href="namespaceunibrow.html#a091820d4fd2384425cd48bc8a9189f43">unibrow::Utf8Variant</a> variant =</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;      <a class="code" href="namespaceunibrow.html#a091820d4fd2384425cd48bc8a9189f43af7d299bfd7372d64a2436dfa5ebe9b9d">unibrow::Utf8Variant::kLossyUtf8</a>;</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a1c7888272df599e45fcab531e38f9523">MessageTemplate</a>* error_cant_happen = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a1c7888272df599e45fcab531e38f9523">MessageTemplate</a> oob_cant_happen = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02isolate_8cc_03.html#afcab528259303a389ac8aa3d12b339a1a43517b08d21463aea1323cca40a40c91">MessageTemplate::kInvalid</a>;</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;  <span class="keywordflow">if</span> (content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a3b4907c3447e7f474b0825b8db8138f0">IsOneByte</a>()) {</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a7efab2aa93102558d9e4dfe2bc5dc5d3">EncodeWtf8</a>({out.data(), out.size()}, 0, content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a794f656e3f6d2c76eba88eebd5c780e3">ToOneByteVector</a>(), variant,</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;               error_cant_happen, oob_cant_happen);</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a7efab2aa93102558d9e4dfe2bc5dc5d3">EncodeWtf8</a>({out.data(), out.size()}, 0, content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#ae62146724271210677779a9741d4103d">ToUC16Vector</a>(), variant,</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;               error_cant_happen, oob_cant_happen);</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;  }</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;}</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160; </div>
<div class="line"><a name="l01713"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#a6bb705887c5277e26fe3b79066d145fa"> 1713</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmStringMeasureUtf8) {</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;  ClearThreadInWasmScope flag_scope(isolate);</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(1, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>(Cast&lt;String&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[0]), isolate);</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160; </div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;  <span class="keywordtype">string</span> = String::Flatten(isolate, <span class="keywordtype">string</span>);</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>;</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;  {</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;    <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>;</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;    <a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html">String::FlatContent</a> content = <span class="keywordtype">string</span>-&gt;GetFlatContent(<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>);</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a483b0df0bd1ac65774f670845019d75f">IsFlat</a>());</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;    <span class="keywordflow">if</span> (content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a3b4907c3447e7f474b0825b8db8138f0">IsOneByte</a>()) {</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#acb752bcb6f3ce858f98cdc63e936fa2d">MeasureWtf8</a>(content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a794f656e3f6d2c76eba88eebd5c780e3">ToOneByteVector</a>());</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;      <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const base::uc16&gt;</a> code_units = content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#ae62146724271210677779a9741d4103d">ToUC16Vector</a>();</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classunibrow_1_1Utf16.html#abb9b7169634bfe193593c9f2b4f2507b">unibrow::Utf16::HasUnpairedSurrogate</a>(code_units.<a class="code" href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">begin</a>(),</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;                                               code_units.<a class="code" href="classv8_1_1base_1_1Vector.html#a8f91dff816409fb9bceaa94c6caeec32">size</a>())) {</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = -1;</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#acb752bcb6f3ce858f98cdc63e936fa2d">MeasureWtf8</a>(code_units);</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;      }</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;    }</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;  }</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;  <span class="keywordflow">return</span> *isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1FactoryBase.html#a0c09109f83f6f27662d18d2315650eca">NewNumberFromInt</a>(<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;}</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160; </div>
<div class="line"><a name="l01740"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#a82a488a6c7b3e14405873edd42ad8912"> 1740</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmStringMeasureWtf8) {</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;  ClearThreadInWasmScope flag_scope(isolate);</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(1, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>(Cast&lt;String&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[0]), isolate);</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160; </div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#acb752bcb6f3ce858f98cdc63e936fa2d">MeasureWtf8</a>(isolate, <span class="keywordtype">string</span>);</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;  <span class="keywordflow">return</span> *isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1FactoryBase.html#a0c09109f83f6f27662d18d2315650eca">NewNumberFromInt</a>(<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;}</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160; </div>
<div class="line"><a name="l01750"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#ab26bebb3dfcd72173d6585e1ca0e3407"> 1750</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmStringEncodeWtf8) {</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;  ClearThreadInWasmScope flag_scope(isolate);</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(5, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WasmTrustedInstanceData&gt;</a> trusted_instance_data =</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;      Cast&lt;WasmTrustedInstanceData&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[0]);</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;  uint32_t memory = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(1);</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;  uint32_t utf8_variant_value = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(2);</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>(Cast&lt;String&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[3]), isolate);</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;  <span class="keywordtype">double</span> offset_double = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.number_value_at(4);</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;  <a class="code" href="classuintptr__t.html">uintptr_t</a> offset = <span class="keyword">static_cast&lt;</span><a class="code" href="classuintptr__t.html">uintptr_t</a><span class="keyword">&gt;</span>(offset_double);</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160; </div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(utf8_variant_value &lt;=</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;         <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(<a class="code" href="namespaceunibrow.html#a091820d4fd2384425cd48bc8a9189f43ab9dfad250e9161ece43938e29c4a0de4">unibrow::Utf8Variant::kLastUtf8Variant</a>));</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160; </div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;  <span class="keywordtype">char</span>* memory_start =</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(trusted_instance_data-&gt;memory_base(memory));</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;  <span class="keyword">auto</span> utf8_variant = <span class="keyword">static_cast&lt;</span><a class="code" href="namespaceunibrow.html#a091820d4fd2384425cd48bc8a9189f43">unibrow::Utf8Variant</a><span class="keyword">&gt;</span>(utf8_variant_value);</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;  <span class="keyword">auto</span> get_writable_bytes =</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;      [&amp;](<span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a>&amp;) -&gt; <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;char&gt;</a> {</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;    <span class="keywordflow">return</span> {memory_start, trusted_instance_data-&gt;memory_size(memory)};</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;  };</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a7efab2aa93102558d9e4dfe2bc5dc5d3">EncodeWtf8</a>(isolate, utf8_variant, <span class="keywordtype">string</span>, get_writable_bytes, offset,</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;                    MessageTemplate::kWasmTrapMemOutOfBounds);</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;}</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160; </div>
<div class="line"><a name="l01776"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#a092765ef28d8e8d9d511e15bd28c6bad"> 1776</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmStringEncodeWtf8Array) {</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;  ClearThreadInWasmScope flag_scope(isolate);</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(4, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;  uint32_t utf8_variant_value = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(0);</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>(Cast&lt;String&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[1]), isolate);</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmArray&gt;</a> array(Cast&lt;WasmArray&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[2]), isolate);</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;  uint32_t start = <a class="code" href="namespacev8_1_1internal.html#a865a15a94b3a103f2ae7c10f1324f304">NumberToUint32</a>(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[3]);</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160; </div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(utf8_variant_value &lt;=</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;         <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(<a class="code" href="namespaceunibrow.html#a091820d4fd2384425cd48bc8a9189f43ab9dfad250e9161ece43938e29c4a0de4">unibrow::Utf8Variant::kLastUtf8Variant</a>));</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;  <span class="keyword">auto</span> utf8_variant = <span class="keyword">static_cast&lt;</span><a class="code" href="namespaceunibrow.html#a091820d4fd2384425cd48bc8a9189f43">unibrow::Utf8Variant</a><span class="keyword">&gt;</span>(utf8_variant_value);</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;  <span class="keyword">auto</span> get_writable_bytes =</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;      [&amp;](<span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a>&amp;) -&gt; <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;char&gt;</a> {</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;    <span class="keywordflow">return</span> {<span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(array-&gt;ElementAddress(0)), array-&gt;length()};</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;  };</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a7efab2aa93102558d9e4dfe2bc5dc5d3">EncodeWtf8</a>(isolate, utf8_variant, <span class="keywordtype">string</span>, get_writable_bytes, start,</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;                    MessageTemplate::kWasmTrapArrayOutOfBounds);</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;}</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160; </div>
<div class="line"><a name="l01796"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#a78291f7b9f3bad54b6e2890b76cdcc95"> 1796</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmStringToUtf8Array) {</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;  ClearThreadInWasmScope flag_scope(isolate);</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(1, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>(Cast&lt;String&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[0]), isolate);</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;  uint32_t <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#acb752bcb6f3ce858f98cdc63e936fa2d">MeasureWtf8</a>(isolate, <span class="keywordtype">string</span>);</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmValue.html">wasm::WasmValue</a> initial_value(int8_t{0});</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WeakFixedArray&gt;</a> rtts = isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">heap</a>()-&gt;wasm_canonical_rtts();</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;  <span class="comment">// This function can only get called from Wasm code, so we can safely assume</span></div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;  <span class="comment">// that the canonical RTT is still around.</span></div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Map&gt;</a> map(</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;      Cast&lt;Map&gt;(</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;          rtts-&gt;get(<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#ad7596d2d5f3ea621ba8021e2b5c35ea0">wasm::TypeCanonicalizer::kPredefinedArrayI8Index</a>.<a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeIndex.html#ad0355b4f2bc1bc8a489e4d01da40067b">index</a>)</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;              .GetHeapObjectAssumeWeak()),</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;      isolate);</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmArray&gt;</a> array = isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;NewWasmArray(</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a5f3afadb8ac8aa1c39b17545c7facf09">wasm::kWasmI8</a>, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>, initial_value, map);</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;  <span class="keyword">auto</span> get_writable_bytes =</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;      [&amp;](<span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a>&amp;) -&gt; <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;char&gt;</a> {</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;    <span class="keywordflow">return</span> {<span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(array-&gt;ElementAddress(0)), <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>};</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;  };</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> write_result =</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a7efab2aa93102558d9e4dfe2bc5dc5d3">EncodeWtf8</a>(isolate, <a class="code" href="namespaceunibrow.html#a091820d4fd2384425cd48bc8a9189f43af7d299bfd7372d64a2436dfa5ebe9b9d">unibrow::Utf8Variant::kLossyUtf8</a>, <span class="keywordtype">string</span>,</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;                 get_writable_bytes, 0, MessageTemplate::kNone);</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#a33a2826557a82e4cd9775aadf0f5711e">IsNumber</a>(write_result) &amp;&amp; <a class="code" href="classv8_1_1internal_1_1Object.html#a8a6c6d9b71bb8f6bd6004b8f6f48c9f7">Object::NumberValue</a>(write_result) == <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;  <a class="code" href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a>(write_result);</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;  <span class="keywordflow">return</span> *array;</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;}</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160; </div>
<div class="line"><a name="l01825"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#a38587074bfe7b84ab4b67fc20422bec3"> 1825</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmStringEncodeWtf16) {</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;  ClearThreadInWasmScope flag_scope(isolate);</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(6, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WasmTrustedInstanceData&gt;</a> trusted_instance_data =</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;      Cast&lt;WasmTrustedInstanceData&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[0]);</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;  uint32_t memory = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(1);</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> <span class="keywordtype">string</span> = Cast&lt;String&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[2]);</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;  <span class="keywordtype">double</span> offset_double = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.number_value_at(3);</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;  <a class="code" href="classuintptr__t.html">uintptr_t</a> offset = <span class="keyword">static_cast&lt;</span><a class="code" href="classuintptr__t.html">uintptr_t</a><span class="keyword">&gt;</span>(offset_double);</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;  uint32_t start = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(4);</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;  uint32_t <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(5);</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160; </div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(base::IsInBounds&lt;uint32_t&gt;(start, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>, <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;length()));</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160; </div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;  <span class="keywordtype">size_t</span> mem_size = trusted_instance_data-&gt;memory_size(memory);</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;  static_assert(<a class="code" href="classv8_1_1internal_1_1String.html#a1f86b7d22f551041980cd92683718802">String::kMaxLength</a> &lt;=</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;                (std::numeric_limits&lt;size_t&gt;::max() / <span class="keyword">sizeof</span>(<a class="code" href="namespacev8_1_1base.html#a1961a4852ced3c23f4d43de6f91d18d6">base::uc16</a>)));</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;  <span class="keywordflow">if</span> (!base::IsInBounds&lt;size_t&gt;(offset, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> * <span class="keyword">sizeof</span>(<a class="code" href="namespacev8_1_1base.html#a1961a4852ced3c23f4d43de6f91d18d6">base::uc16</a>),</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;                                mem_size)) {</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a51ea94027f43d4557e6bf268f730de68">ThrowWasmError</a>(isolate, MessageTemplate::kWasmTrapMemOutOfBounds);</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;  }</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;  <span class="keywordflow">if</span> (offset &amp; 1) {</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a51ea94027f43d4557e6bf268f730de68">ThrowWasmError</a>(isolate, MessageTemplate::kWasmTrapUnalignedAccess);</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;  }</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160; </div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;<span class="preprocessor">#if defined(V8_TARGET_LITTLE_ENDIAN)</span></div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;  <a class="code" href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">uint16_t</a>* dst = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">uint16_t</a>*<span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;      trusted_instance_data-&gt;memory_base(memory) + offset);</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;  <a class="code" href="classv8_1_1internal_1_1String.html#a0a659043aaf2322e3ee5e8fcba625cde">String::WriteToFlat</a>(<span class="keywordtype">string</span>, dst, start, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;<span class="preprocessor">#elif defined(V8_TARGET_BIG_ENDIAN)</span></div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;  <span class="comment">// TODO(12868): The host is big-endian but we need to write the string</span></div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;  <span class="comment">// contents as little-endian.</span></div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;  <a class="code" href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a>(<span class="keywordtype">string</span>);</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;  <a class="code" href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a>(start);</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a538499d2a66bf6e9d3182a57104edec9">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;<span class="preprocessor">#error Unknown endianness</span></div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160; </div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1Smi.html#a5386e0cc44bcfd6a13c8481b95f5652f">Smi::zero</a>();  <span class="comment">// Unused.</span></div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;}</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160; </div>
<div class="line"><a name="l01868"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#a6c105591c02797337e9078c11099decd"> 1868</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmStringAsWtf8) {</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;  ClearThreadInWasmScope flag_scope(isolate);</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(1, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>(Cast&lt;String&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[0]), isolate);</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;  <span class="keywordtype">int</span> wtf8_length = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#acb752bcb6f3ce858f98cdc63e936fa2d">MeasureWtf8</a>(isolate, <span class="keywordtype">string</span>);</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;ByteArray&gt;</a> array = isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1FactoryBase.html#a649c32d86db6d22ee23a4d32b7904bd4">NewByteArray</a>(wtf8_length);</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160; </div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;  <span class="keyword">auto</span> utf8_variant = unibrow::Utf8Variant::kWtf8;</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;  <span class="keyword">auto</span> get_writable_bytes =</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;      [&amp;](<span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a>&amp;) -&gt; <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;char&gt;</a> {</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;    <span class="keywordflow">return</span> {<span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(array-&gt;begin()),</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;            <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(wtf8_length)};</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;  };</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a7efab2aa93102558d9e4dfe2bc5dc5d3">EncodeWtf8</a>(isolate, utf8_variant, <span class="keywordtype">string</span>, get_writable_bytes, 0,</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;             MessageTemplate::kWasmTrapArrayOutOfBounds);</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;  <span class="keywordflow">return</span> *array;</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;}</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160; </div>
<div class="line"><a name="l01887"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#a650d284abc1f7e60dcc59a761d23a15c"> 1887</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmStringViewWtf8Encode) {</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;  ClearThreadInWasmScope flag_scope(isolate);</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(7, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WasmTrustedInstanceData&gt;</a> trusted_instance_data =</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;      Cast&lt;WasmTrustedInstanceData&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[0]);</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;  uint32_t utf8_variant_value = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(1);</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;ByteArray&gt;</a> array(Cast&lt;ByteArray&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[2]), isolate);</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;  <span class="keywordtype">double</span> addr_double = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.number_value_at(3);</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;  <a class="code" href="classuintptr__t.html">uintptr_t</a> addr = <span class="keyword">static_cast&lt;</span><a class="code" href="classuintptr__t.html">uintptr_t</a><span class="keyword">&gt;</span>(addr_double);</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;  uint32_t start = <a class="code" href="namespacev8_1_1internal.html#a865a15a94b3a103f2ae7c10f1324f304">NumberToUint32</a>(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[4]);</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;  uint32_t <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a> = <a class="code" href="namespacev8_1_1internal.html#a865a15a94b3a103f2ae7c10f1324f304">NumberToUint32</a>(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[5]);</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;  uint32_t memory = <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.positive_smi_value_at(6);</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160; </div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(utf8_variant_value &lt;=</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;         <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(<a class="code" href="namespaceunibrow.html#a091820d4fd2384425cd48bc8a9189f43ab9dfad250e9161ece43938e29c4a0de4">unibrow::Utf8Variant::kLastUtf8Variant</a>));</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(start, <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>);</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(base::IsInBounds&lt;size_t&gt;(start, <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a> - start, array-&gt;length()));</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160; </div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;  <span class="keyword">auto</span> utf8_variant = <span class="keyword">static_cast&lt;</span><a class="code" href="namespaceunibrow.html#a091820d4fd2384425cd48bc8a9189f43">unibrow::Utf8Variant</a><span class="keyword">&gt;</span>(utf8_variant_value);</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a> - start;</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160; </div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;  <span class="keywordflow">if</span> (!base::IsInBounds&lt;size_t&gt;(addr, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>,</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;                                trusted_instance_data-&gt;memory_size(memory))) {</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a51ea94027f43d4557e6bf268f730de68">ThrowWasmError</a>(isolate, MessageTemplate::kWasmTrapMemOutOfBounds);</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;  }</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160; </div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;  uint8_t* memory_start = trusted_instance_data-&gt;memory_base(memory);</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;  <span class="keyword">const</span> uint8_t* src = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>uint8_t*<span class="keyword">&gt;</span>(array-&gt;begin() + start);</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;  uint8_t* dst = memory_start + addr;</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160; </div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;  std::vector&lt;size_t&gt; surrogates;</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;  <span class="keywordflow">if</span> (utf8_variant != unibrow::Utf8Variant::kWtf8) {</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;    unibrow::Wtf8::ScanForSurrogates({src, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>}, &amp;surrogates);</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;    <span class="keywordflow">if</span> (utf8_variant == unibrow::Utf8Variant::kUtf8 &amp;&amp; !surrogates.empty()) {</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a51ea94027f43d4557e6bf268f730de68">ThrowWasmError</a>(isolate,</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;                            MessageTemplate::kWasmTrapStringIsolatedSurrogate);</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;    }</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;  }</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160; </div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#ae0ee98c9174e5955450c56da22cb8f6a">MemCopy</a>(dst, src, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160; </div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> surrogate : surrogates) {</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a>(surrogate, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(utf8_variant, <a class="code" href="namespaceunibrow.html#a091820d4fd2384425cd48bc8a9189f43af7d299bfd7372d64a2436dfa5ebe9b9d">unibrow::Utf8Variant::kLossyUtf8</a>);</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;    <a class="code" href="classunibrow_1_1Utf8.html#acf0af099acd418650bf1a8080f14e926">unibrow::Utf8::Encode</a>(<span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(dst + surrogate),</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;                          <a class="code" href="classunibrow_1_1Utf8.html#a4e5ed3c61ce8976082104caf8f6e2ff8">unibrow::Utf8::kBadChar</a>, 0, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;  }</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160; </div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;  <span class="comment">// Unused.</span></div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#ae5e657aba90e2d28950f7c96453e9736">Tagged&lt;Smi&gt;</a>(0);</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;}</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160; </div>
<div class="line"><a name="l01940"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#a344eadc796c4301730677afcb7ef3c79"> 1940</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmStringViewWtf8Slice) {</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;  ClearThreadInWasmScope flag_scope(isolate);</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(3, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;ByteArray&gt;</a> array(Cast&lt;ByteArray&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[0]), isolate);</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;  uint32_t start = <a class="code" href="namespacev8_1_1internal.html#a865a15a94b3a103f2ae7c10f1324f304">NumberToUint32</a>(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[1]);</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;  uint32_t <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a> = <a class="code" href="namespacev8_1_1internal.html#a865a15a94b3a103f2ae7c10f1324f304">NumberToUint32</a>(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[2]);</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160; </div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a>(start, <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>);</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(base::IsInBounds&lt;size_t&gt;(start, <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a> - start, array-&gt;length()));</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160; </div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;  <span class="comment">// This can&#39;t throw because the result can&#39;t be too long if the input wasn&#39;t,</span></div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;  <span class="comment">// and encoding failures are ruled out too because {start}/{end} are aligned.</span></div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;  <span class="keywordflow">return</span> *isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;              -&gt;<a class="code" href="classv8_1_1internal_1_1Factory.html#a770976a9ab8638f5c4a009dc3701a7e1">NewStringFromUtf8</a>(array, start, <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>,</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;                                  unibrow::Utf8Variant::kWtf8)</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;              .ToHandleChecked();</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;}</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160; </div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;<span class="preprocessor">#ifdef V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmTraceBeginExecution) {</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.slow_histograms &amp;&amp; !<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_jitless &amp;&amp;</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;         <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_enable_exec_time_histograms);</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;  <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160; </div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;  wasm::WasmExecutionTimer* timer = isolate-&gt;wasm_execution_timer();</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;  timer-&gt;Start();</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160; </div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;  <span class="keywordflow">return</span> ReadOnlyRoots(isolate).undefined_value();</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;}</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160; </div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmTraceEndExecution) {</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.slow_histograms &amp;&amp; !<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_jitless &amp;&amp;</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;         <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_enable_exec_time_histograms);</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;  HandleScope scope(isolate);</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160; </div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;  wasm::WasmExecutionTimer* timer = isolate-&gt;wasm_execution_timer();</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;  timer-&gt;Stop();</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160; </div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;  <span class="keywordflow">return</span> ReadOnlyRoots(isolate).undefined_value();</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;}</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160; </div>
<div class="line"><a name="l01985"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#a6c19b621a11ec2ee5ab1beeb625a8aa2"> 1985</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmStringFromCodePoint) {</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;  ClearThreadInWasmScope flag_scope(isolate);</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(1, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160; </div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;  uint32_t code_point = <a class="code" href="namespacev8_1_1internal.html#a865a15a94b3a103f2ae7c10f1324f304">NumberToUint32</a>(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[0]);</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;  <span class="keywordflow">if</span> (code_point &lt;= <a class="code" href="classunibrow_1_1Utf16.html#a621e7db0a6d40f06c69c7041f48a5591">unibrow::Utf16::kMaxNonSurrogateCharCode</a>) {</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;    <span class="keywordflow">return</span> *isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1FactoryBase.html#a469db4bb090fc440f355ef7ea181d4a0">LookupSingleCharacterStringFromCode</a>(code_point);</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;  }</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;  <span class="keywordflow">if</span> (code_point &gt; 0x10FFFF) {</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;    <span class="comment">// Allocate a new number to preserve the to-uint conversion (e.g. if</span></div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;    <span class="comment">// args[0] == -1, we want the error message to report 4294967295).</span></div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a51ea94027f43d4557e6bf268f730de68">ThrowWasmError</a>(isolate, <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02builtins-string_8cc_03.html#a9d2bfed5d7b62fcad66426927caa8a95">MessageTemplate::kInvalidCodePoint</a>,</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;                          {isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;NewNumberFromUint(code_point)});</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;  }</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160; </div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a1961a4852ced3c23f4d43de6f91d18d6">base::uc16</a> char_buffer[] = {</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;      <a class="code" href="classunibrow_1_1Utf16.html#a01bbf2bab943780510481b14565039b5">unibrow::Utf16::LeadSurrogate</a>(code_point),</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;      <a class="code" href="classunibrow_1_1Utf16.html#a867f66dde6dfd10126ed5dc997caee32">unibrow::Utf16::TrailSurrogate</a>(code_point),</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;  };</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;SeqTwoByteString&gt;</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> =</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;      isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;          -&gt;<a class="code" href="classv8_1_1internal_1_1FactoryBase.html#aa3edcf136f5061ea976604aaba60a052">NewRawTwoByteString</a>(<a class="code" href="src_2base_2macros_8h.html#ac55fdd6aa61539c49b1b1f5d38a0ed73">arraysize</a>(char_buffer))</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;          .ToHandleChecked();</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;  <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>;</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a97a2bf2e1b8fac6ada79dd7ec47ffcfe">CopyChars</a>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>-&gt;GetChars(<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>), char_buffer, <a class="code" href="src_2base_2macros_8h.html#ac55fdd6aa61539c49b1b1f5d38a0ed73">arraysize</a>(char_buffer));</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;  <span class="keywordflow">return</span> *<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;}</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160; </div>
<div class="line"><a name="l02014"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#a69837f49119f29a72e42102d029a3d9a"> 2014</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">RUNTIME_FUNCTION</a>(Runtime_WasmStringHash) {</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;  ClearThreadInWasmScope flag_scope(isolate);</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(1, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.length());</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>(Cast&lt;String&gt;(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[0]));</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;  uint32_t hash = <span class="keywordtype">string</span>-&gt;EnsureHash();</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1Smi.html#afe7f07102d90ccce48cbe677c88a0645">Smi::FromInt</a>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(hash));</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;}</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160; </div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;}  <span class="comment">// namespace v8::internal</span></div>
<div class="ttc" id="aassert-scope_8h_html"><div class="ttname"><a href="assert-scope_8h.html">assert-scope.h</a></div></div>
<div class="ttc" id="abuiltins-inl_8h_html"><div class="ttname"><a href="builtins-inl_8h.html">builtins-inl.h</a></div></div>
<div class="ttc" id="achecks_8h_html_a8c8b326bb3d6944234eb74fbd0952061"><div class="ttname"><a href="checks_8h.html#a8c8b326bb3d6944234eb74fbd0952061">SLOW_DCHECK</a></div><div class="ttdeci">#define SLOW_DCHECK(condition)</div><div class="ttdef"><b>Definition:</b> <a href="checks_8h_source.html#l00021">checks.h:21</a></div></div>
<div class="ttc" id="aclassuintptr__t_html"><div class="ttname"><a href="classuintptr__t.html">uintptr_t</a></div></div>
<div class="ttc" id="aclassunibrow_1_1Utf16_html_a01bbf2bab943780510481b14565039b5"><div class="ttname"><a href="classunibrow_1_1Utf16.html#a01bbf2bab943780510481b14565039b5">unibrow::Utf16::LeadSurrogate</a></div><div class="ttdeci">static uint16_t LeadSurrogate(uint32_t char_code)</div><div class="ttdef"><b>Definition:</b> <a href="unicode_8h_source.html#l00126">unicode.h:126</a></div></div>
<div class="ttc" id="aclassunibrow_1_1Utf16_html_a1160051ffd27a644ec813172985b3002"><div class="ttname"><a href="classunibrow_1_1Utf16.html#a1160051ffd27a644ec813172985b3002">unibrow::Utf16::kNoPreviousCharacter</a></div><div class="ttdeci">static const int kNoPreviousCharacter</div><div class="ttdef"><b>Definition:</b> <a href="unicode_8h_source.html#l00102">unicode.h:102</a></div></div>
<div class="ttc" id="aclassunibrow_1_1Utf16_html_a621e7db0a6d40f06c69c7041f48a5591"><div class="ttname"><a href="classunibrow_1_1Utf16.html#a621e7db0a6d40f06c69c7041f48a5591">unibrow::Utf16::kMaxNonSurrogateCharCode</a></div><div class="ttdeci">static const uchar kMaxNonSurrogateCharCode</div><div class="ttdef"><b>Definition:</b> <a href="unicode_8h_source.html#l00116">unicode.h:116</a></div></div>
<div class="ttc" id="aclassunibrow_1_1Utf16_html_a867f66dde6dfd10126ed5dc997caee32"><div class="ttname"><a href="classunibrow_1_1Utf16.html#a867f66dde6dfd10126ed5dc997caee32">unibrow::Utf16::TrailSurrogate</a></div><div class="ttdeci">static uint16_t TrailSurrogate(uint32_t char_code)</div><div class="ttdef"><b>Definition:</b> <a href="unicode_8h_source.html#l00129">unicode.h:129</a></div></div>
<div class="ttc" id="aclassunibrow_1_1Utf16_html_abb9b7169634bfe193593c9f2b4f2507b"><div class="ttname"><a href="classunibrow_1_1Utf16.html#abb9b7169634bfe193593c9f2b4f2507b">unibrow::Utf16::HasUnpairedSurrogate</a></div><div class="ttdeci">static bool HasUnpairedSurrogate(const uint16_t *code_units, size_t length)</div><div class="ttdef"><b>Definition:</b> <a href="unicode-inl_8h_source.html#l00065">unicode-inl.h:65</a></div></div>
<div class="ttc" id="aclassunibrow_1_1Utf8_html_a4e5ed3c61ce8976082104caf8f6e2ff8"><div class="ttname"><a href="classunibrow_1_1Utf8.html#a4e5ed3c61ce8976082104caf8f6e2ff8">unibrow::Utf8::kBadChar</a></div><div class="ttdeci">static const uchar kBadChar</div><div class="ttdef"><b>Definition:</b> <a href="unicode_8h_source.html#l00175">unicode.h:175</a></div></div>
<div class="ttc" id="aclassunibrow_1_1Utf8_html_a5c6a30a8610649fee6dbb05057862113"><div class="ttname"><a href="classunibrow_1_1Utf8.html#a5c6a30a8610649fee6dbb05057862113">unibrow::Utf8::Length</a></div><div class="ttdeci">static unsigned Length(uchar chr, int previous)</div><div class="ttdef"><b>Definition:</b> <a href="unicode-inl_8h_source.html#l00187">unicode-inl.h:187</a></div></div>
<div class="ttc" id="aclassunibrow_1_1Utf8_html_a863e13744b7f1bafb2e7cefa88db22e8"><div class="ttname"><a href="classunibrow_1_1Utf8.html#a863e13744b7f1bafb2e7cefa88db22e8">unibrow::Utf8::kMaxEncodedSize</a></div><div class="ttdeci">static const unsigned kMaxEncodedSize</div><div class="ttdef"><b>Definition:</b> <a href="unicode_8h_source.html#l00178">unicode.h:178</a></div></div>
<div class="ttc" id="aclassunibrow_1_1Utf8_html_aa669d2994bd4d8b4700f5fdd933db133"><div class="ttname"><a href="classunibrow_1_1Utf8.html#aa669d2994bd4d8b4700f5fdd933db133">unibrow::Utf8::kMax8BitCodeUnitSize</a></div><div class="ttdeci">static const unsigned kMax8BitCodeUnitSize</div><div class="ttdef"><b>Definition:</b> <a href="unicode_8h_source.html#l00193">unicode.h:193</a></div></div>
<div class="ttc" id="aclassunibrow_1_1Utf8_html_ac950664b85f1ad13505134334f32d0c5"><div class="ttname"><a href="classunibrow_1_1Utf8.html#ac950664b85f1ad13505134334f32d0c5">unibrow::Utf8::kMax16BitCodeUnitSize</a></div><div class="ttdeci">static const unsigned kMax16BitCodeUnitSize</div><div class="ttdef"><b>Definition:</b> <a href="unicode_8h_source.html#l00190">unicode.h:190</a></div></div>
<div class="ttc" id="aclassunibrow_1_1Utf8_html_acf0af099acd418650bf1a8080f14e926"><div class="ttname"><a href="classunibrow_1_1Utf8.html#acf0af099acd418650bf1a8080f14e926">unibrow::Utf8::Encode</a></div><div class="ttdeci">static unsigned Encode(char *out, uchar c, int previous, bool replace_invalid=false)</div><div class="ttdef"><b>Definition:</b> <a href="unicode-inl_8h_source.html#l00134">unicode-inl.h:134</a></div></div>
<div class="ttc" id="aclassv8_1_1HandleScope_html"><div class="ttname"><a href="classv8_1_1HandleScope.html">v8::HandleScope</a></div><div class="ttdoc">A stack-allocated class that governs a number of local handles.</div><div class="ttdef"><b>Definition:</b> <a href="v8-local-handle_8h_source.html#l00119">v8-local-handle.h:119</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Vector_html"><div class="ttname"><a href="classv8_1_1base_1_1Vector.html">v8::base::Vector&lt; const uint8_t &gt;</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Vector_html_a127410ecb29a2d265d49cbf575f676f9"><div class="ttname"><a href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">v8::base::Vector::begin</a></div><div class="ttdeci">constexpr T * begin() const</div><div class="ttdef"><b>Definition:</b> <a href="vector_8h_source.html#l00096">vector.h:96</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Vector_html_a8f91dff816409fb9bceaa94c6caeec32"><div class="ttname"><a href="classv8_1_1base_1_1Vector.html#a8f91dff816409fb9bceaa94c6caeec32">v8::base::Vector::size</a></div><div class="ttdeci">constexpr size_t size() const</div><div class="ttdef"><b>Definition:</b> <a href="vector_8h_source.html#l00070">vector.h:70</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Vector_html_ae3db4c14cac8e648389541fdb745c6b0"><div class="ttname"><a href="classv8_1_1base_1_1Vector.html#ae3db4c14cac8e648389541fdb745c6b0">v8::base::Vector::SubVector</a></div><div class="ttdeci">Vector&lt; T &gt; SubVector(size_t from, size_t to) const</div><div class="ttdef"><b>Definition:</b> <a href="vector_8h_source.html#l00041">vector.h:41</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1AccountingAllocator_html"><div class="ttname"><a href="classv8_1_1internal_1_1AccountingAllocator.html">v8::internal::AccountingAllocator</a></div><div class="ttdef"><b>Definition:</b> <a href="accounting-allocator_8h_source.html#l00028">accounting-allocator.h:28</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Arguments_html"><div class="ttname"><a href="classv8_1_1internal_1_1Arguments.html">v8::internal::Arguments</a></div><div class="ttdef"><b>Definition:</b> <a href="execution_2arguments_8h_source.html#l00036">arguments.h:36</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Arguments_html_a1561aa2be40de5b8c5e4165b4a328b38"><div class="ttname"><a href="classv8_1_1internal_1_1Arguments.html#a1561aa2be40de5b8c5e4165b4a328b38">v8::internal::Arguments::length</a></div><div class="ttdeci">int length() const</div><div class="ttdef"><b>Definition:</b> <a href="execution_2arguments_8h_source.html#l00089">arguments.h:89</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CommonFrameConstants_html_a1c035d4bd11c0297bd029da37a15bc43"><div class="ttname"><a href="classv8_1_1internal_1_1CommonFrameConstants.html#a1c035d4bd11c0297bd029da37a15bc43">v8::internal::CommonFrameConstants::kContextOrFrameTypeOffset</a></div><div class="ttdeci">static constexpr int kContextOrFrameTypeOffset</div><div class="ttdef"><b>Definition:</b> <a href="frame-constants_8h_source.html#l00070">frame-constants.h:70</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CommonFrameConstants_html_aa217c3453e50c5e3c9630130a7caa198"><div class="ttname"><a href="classv8_1_1internal_1_1CommonFrameConstants.html#aa217c3453e50c5e3c9630130a7caa198">v8::internal::CommonFrameConstants::kCallerFPOffset</a></div><div class="ttdeci">static constexpr int kCallerFPOffset</div><div class="ttdef"><b>Definition:</b> <a href="frame-constants_8h_source.html#l00053">frame-constants.h:53</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1DebugScope_html"><div class="ttname"><a href="classv8_1_1internal_1_1DebugScope.html">v8::internal::DebugScope</a></div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00739">debug.h:739</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Debug_html_a0fcec92fce7e97cead477971d07a2fd7"><div class="ttname"><a href="classv8_1_1internal_1_1Debug.html#a0fcec92fce7e97cead477971d07a2fd7">v8::internal::Debug::break_points_active</a></div><div class="ttdeci">bool break_points_active() const</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00439">debug.h:439</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Debug_html_a27e2ea9a34f8bb5d3d93c3bc78db6347"><div class="ttname"><a href="classv8_1_1internal_1_1Debug.html#a27e2ea9a34f8bb5d3d93c3bc78db6347">v8::internal::Debug::OnInstrumentationBreak</a></div><div class="ttdeci">debug::DebugDelegate::ActionAfterInstrumentation OnInstrumentationBreak()</div><div class="ttdef"><b>Definition:</b> <a href="debug_8cc_source.html#l00625">debug.cc:625</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Debug_html_a7b3dc3d19f2788ba4752a781ea1b58eb"><div class="ttname"><a href="classv8_1_1internal_1_1Debug.html#a7b3dc3d19f2788ba4752a781ea1b58eb">v8::internal::Debug::OnDebugBreak</a></div><div class="ttdeci">void OnDebugBreak(DirectHandle&lt; FixedArray &gt; break_points_hit, StepAction stepAction, debug::BreakReasons break_reasons={})</div><div class="ttdef"><b>Definition:</b> <a href="debug_8cc_source.html#l02604">debug.cc:2604</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Debug_html_a93af8c4938d17fb18a004e60f805c1cc"><div class="ttname"><a href="classv8_1_1internal_1_1Debug.html#a93af8c4938d17fb18a004e60f805c1cc">v8::internal::Debug::last_step_action</a></div><div class="ttdeci">StepAction last_step_action()</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00460">debug.h:460</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Debug_html_adcd9304fbc680273541c9a4d78109dab"><div class="ttname"><a href="classv8_1_1internal_1_1Debug.html#adcd9304fbc680273541c9a4d78109dab">v8::internal::Debug::ClearStepping</a></div><div class="ttdeci">void ClearStepping()</div><div class="ttdef"><b>Definition:</b> <a href="debug_8cc_source.html#l01645">debug.cc:1645</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Deoptimizer_html_a3e8f2c76290cffc6e806a17f644acc8c"><div class="ttname"><a href="classv8_1_1internal_1_1Deoptimizer.html#a3e8f2c76290cffc6e806a17f644acc8c">v8::internal::Deoptimizer::DeleteForWasm</a></div><div class="ttdeci">static size_t DeleteForWasm(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="deoptimizer_8cc_source.html#l00286">deoptimizer.cc:286</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1DirectHandle_html"><div class="ttname"><a href="classv8_1_1internal_1_1DirectHandle.html">v8::internal::DirectHandle</a></div><div class="ttdef"><b>Definition:</b> <a href="handles_8h_source.html#l00654">handles.h:660</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FactoryBase_html_a099d2a505298c549ede814b4b4021464"><div class="ttname"><a href="classv8_1_1internal_1_1FactoryBase.html#a099d2a505298c549ede814b4b4021464">v8::internal::FactoryBase::NewStringFromAsciiChecked</a></div><div class="ttdeci">Handle&lt; String &gt; NewStringFromAsciiChecked(const char *str, AllocationType allocation=AllocationType::kYoung)</div><div class="ttdef"><b>Definition:</b> <a href="factory-base_8h_source.html#l00325">factory-base.h:325</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FactoryBase_html_a0c09109f83f6f27662d18d2315650eca"><div class="ttname"><a href="classv8_1_1internal_1_1FactoryBase.html#a0c09109f83f6f27662d18d2315650eca">v8::internal::FactoryBase::NewNumberFromInt</a></div><div class="ttdeci">Handle&lt; Number &gt; NewNumberFromInt(int32_t value)</div><div class="ttdef"><b>Definition:</b> <a href="factory-base-inl_8h_source.html#l00061">factory-base-inl.h:61</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FactoryBase_html_a469db4bb090fc440f355ef7ea181d4a0"><div class="ttname"><a href="classv8_1_1internal_1_1FactoryBase.html#a469db4bb090fc440f355ef7ea181d4a0">v8::internal::FactoryBase::LookupSingleCharacterStringFromCode</a></div><div class="ttdeci">Handle&lt; String &gt; LookupSingleCharacterStringFromCode(uint16_t code)</div><div class="ttdef"><b>Definition:</b> <a href="factory-base_8cc_source.html#l00976">factory-base.cc:976</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FactoryBase_html_a649c32d86db6d22ee23a4d32b7904bd4"><div class="ttname"><a href="classv8_1_1internal_1_1FactoryBase.html#a649c32d86db6d22ee23a4d32b7904bd4">v8::internal::FactoryBase::NewByteArray</a></div><div class="ttdeci">Handle&lt; ByteArray &gt; NewByteArray(int length, AllocationType allocation=AllocationType::kYoung)</div><div class="ttdef"><b>Definition:</b> <a href="factory-base_8cc_source.html#l00305">factory-base.cc:305</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FactoryBase_html_aa3edcf136f5061ea976604aaba60a052"><div class="ttname"><a href="classv8_1_1internal_1_1FactoryBase.html#aa3edcf136f5061ea976604aaba60a052">v8::internal::FactoryBase::NewRawTwoByteString</a></div><div class="ttdeci">V8_WARN_UNUSED_RESULT MaybeHandle&lt; SeqTwoByteString &gt; NewRawTwoByteString(int length, AllocationType allocation=AllocationType::kYoung, AllocationHint hint=AllocationHint())</div><div class="ttdef"><b>Definition:</b> <a href="factory-base_8cc_source.html#l00846">factory-base.cc:846</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FactoryBase_html_ae56f02d0d6d5d61358da6e0eae0db018"><div class="ttname"><a href="classv8_1_1internal_1_1FactoryBase.html#ae56f02d0d6d5d61358da6e0eae0db018">v8::internal::FactoryBase::NewFixedArrayWithZeroes</a></div><div class="ttdeci">DirectHandle&lt; FixedArray &gt; NewFixedArrayWithZeroes(int length, AllocationType allocation=AllocationType::kYoung)</div><div class="ttdef"><b>Definition:</b> <a href="factory-base_8cc_source.html#l00238">factory-base.cc:238</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Factory_html_a770976a9ab8638f5c4a009dc3701a7e1"><div class="ttname"><a href="classv8_1_1internal_1_1Factory.html#a770976a9ab8638f5c4a009dc3701a7e1">v8::internal::Factory::NewStringFromUtf8</a></div><div class="ttdeci">V8_WARN_UNUSED_RESULT MaybeHandle&lt; String &gt; NewStringFromUtf8(base::Vector&lt; const char &gt; str, AllocationType allocation=AllocationType::kYoung)</div><div class="ttdef"><b>Definition:</b> <a href="factory_8cc_source.html#l00759">factory.cc:759</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Factory_html_a90aead7c8b084e39128dc0a1afecf8ec"><div class="ttname"><a href="classv8_1_1internal_1_1Factory.html#a90aead7c8b084e39128dc0a1afecf8ec">v8::internal::Factory::NewCopiedSubstring</a></div><div class="ttdeci">Handle&lt; String &gt; NewCopiedSubstring(DirectHandle&lt; String &gt; str, uint32_t begin, uint32_t length)</div><div class="ttdef"><b>Definition:</b> <a href="factory_8cc_source.html#l01065">factory.cc:1065</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FullObjectSlot_html"><div class="ttname"><a href="classv8_1_1internal_1_1FullObjectSlot.html">v8::internal::FullObjectSlot</a></div><div class="ttdef"><b>Definition:</b> <a href="slots_8h_source.html#l00098">slots.h:98</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FullObjectSlot_html_a8536dba7ebccdf4f0e1ccfcee33abedd"><div class="ttname"><a href="classv8_1_1internal_1_1FullObjectSlot.html#a8536dba7ebccdf4f0e1ccfcee33abedd">v8::internal::FullObjectSlot::store</a></div><div class="ttdeci">void store(Tagged&lt; Object &gt; value) const</div><div class="ttdef"><b>Definition:</b> <a href="slots-inl_8h_source.html#l00054">slots-inl.h:54</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FutexEmulation_html_a4370cbf76c1fc0aae5f0886e9df85c7f"><div class="ttname"><a href="classv8_1_1internal_1_1FutexEmulation.html#a4370cbf76c1fc0aae5f0886e9df85c7f">v8::internal::FutexEmulation::WaitWasm64</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE Tagged&lt; Object &gt; WaitWasm64(Isolate *isolate, DirectHandle&lt; JSArrayBuffer &gt; array_buffer, size_t addr, int64_t value, int64_t rel_timeout_ns)</div><div class="ttdef"><b>Definition:</b> <a href="futex-emulation_8cc_source.html#l00310">futex-emulation.cc:310</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FutexEmulation_html_a83aebe720a9779dc17f167841298fefe"><div class="ttname"><a href="classv8_1_1internal_1_1FutexEmulation.html#a83aebe720a9779dc17f167841298fefe">v8::internal::FutexEmulation::WaitWasm32</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE Tagged&lt; Object &gt; WaitWasm32(Isolate *isolate, DirectHandle&lt; JSArrayBuffer &gt; array_buffer, size_t addr, int32_t value, int64_t rel_timeout_ns)</div><div class="ttdef"><b>Definition:</b> <a href="futex-emulation_8cc_source.html#l00303">futex-emulation.cc:303</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HandleScope_html"><div class="ttname"><a href="classv8_1_1internal_1_1HandleScope.html">v8::internal::HandleScope</a></div><div class="ttdef"><b>Definition:</b> <a href="handles_8h_source.html#l00263">handles.h:263</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_a4b5aab31abc2675374e71889d014f7e7"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#a4b5aab31abc2675374e71889d014f7e7">v8::internal::Heap::ToBoolean</a></div><div class="ttdeci">Tagged&lt; Boolean &gt; ToBoolean(bool condition)</div><div class="ttdef"><b>Definition:</b> <a href="heap-inl_8h_source.html#l00381">heap-inl.h:381</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_a9d4fea9ee84c089759526b1ca53a961a"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#a9d4fea9ee84c089759526b1ca53a961a">v8::internal::Heap::CopyRange</a></div><div class="ttdeci">V8_EXPORT_PRIVATE void CopyRange(Tagged&lt; HeapObject &gt; dst_object, TSlot dst_slot, TSlot src_slot, int len, WriteBarrierMode mode)</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_aa35dfd52dbfeb45f57b8934f13b9f5ef"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#aa35dfd52dbfeb45f57b8934f13b9f5ef">v8::internal::Heap::MoveRange</a></div><div class="ttdeci">V8_EXPORT_PRIVATE void MoveRange(Tagged&lt; HeapObject &gt; dst_object, TSlot dst_slot, TSlot src_slot, int len, WriteBarrierMode mode)</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1IsolateData_html_a7722b6c72e3ea25beeb1f95ca1a89173"><div class="ttname"><a href="classv8_1_1internal_1_1IsolateData.html#a7722b6c72e3ea25beeb1f95ca1a89173">v8::internal::IsolateData::active_stack</a></div><div class="ttdeci">wasm::StackMemory * active_stack()</div><div class="ttdef"><b>Definition:</b> <a href="isolate-data_8h_source.html#l00355">isolate-data.h:355</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1IsolateData_html_ad08b725d1a089d5f289c991e401e26d3"><div class="ttname"><a href="classv8_1_1internal_1_1IsolateData.html#ad08b725d1a089d5f289c991e401e26d3">v8::internal::IsolateData::set_active_stack</a></div><div class="ttdeci">void set_active_stack(wasm::StackMemory *stack)</div><div class="ttdef"><b>Definition:</b> <a href="isolate-data_8h_source.html#l00356">isolate-data.h:356</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html">v8::internal::Isolate</a></div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l00595">isolate.h:595</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a0e8be1800c6d747870f918dc8b391806"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a0e8be1800c6d747870f918dc8b391806">v8::internal::Isolate::IsOnCentralStack</a></div><div class="ttdeci">bool IsOnCentralStack()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l02385">isolate.h:2385</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a25b6042dc972873b942b76f31686c6e1"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a25b6042dc972873b942b76f31686c6e1">v8::internal::Isolate::c_entry_fp</a></div><div class="ttdeci">static Address c_entry_fp(ThreadLocalTop *thread)</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l00904">isolate.h:904</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a3153e1cec930487126a91ef7eac6f803"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a3153e1cec930487126a91ef7eac6f803">v8::internal::Isolate::ReThrow</a></div><div class="ttdeci">Tagged&lt; Object &gt; ReThrow(Tagged&lt; Object &gt; exception)</div><div class="ttdef"><b>Definition:</b> <a href="isolate_8cc_source.html#l02217">isolate.cc:2217</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a39a1d363e13113d1ca51a5c032312f3e"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a39a1d363e13113d1ca51a5c032312f3e">v8::internal::Isolate::stack_guard</a></div><div class="ttdeci">StackGuard * stack_guard()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l01213">isolate.h:1213</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a4a9708684698eb5d1032bedb9fd49d21"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a4a9708684698eb5d1032bedb9fd49d21">v8::internal::Isolate::context</a></div><div class="ttdeci">Tagged&lt; Context &gt; context() const</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l00815">isolate.h:815</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a57261d1487f55564a4c2d1fb1a257356"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a57261d1487f55564a4c2d1fb1a257356">v8::internal::Isolate::set_context</a></div><div class="ttdeci">void set_context(Tagged&lt; Context &gt; context)</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate-inl_8h_source.html#l00043">isolate-inl.h:43</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a5819188db3266ad85f50d20a1e254459"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a5819188db3266ad85f50d20a1e254459">v8::internal::Isolate::Throw</a></div><div class="ttdeci">Tagged&lt; Object &gt; Throw(Tagged&lt; Object &gt; exception, MessageLocation *location=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="isolate_8cc_source.html#l02100">isolate.cc:2100</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a62cf04050b96aa48b99b9b80b0d75c43"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a62cf04050b96aa48b99b9b80b0d75c43">v8::internal::Isolate::error_message_param</a></div><div class="ttdeci">uint8_t error_message_param()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l01394">isolate.h:1394</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a7440b084462b9f1a235e83b7c8c72bde"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a7440b084462b9f1a235e83b7c8c72bde">v8::internal::Isolate::exception</a></div><div class="ttdeci">Tagged&lt; Object &gt; exception()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate-inl_8h_source.html#l00104">isolate-inl.h:104</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a7e2962359009581ba84e6a361f574f61"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">v8::internal::Isolate::factory</a></div><div class="ttdeci">v8::internal::Factory * factory()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l01553">isolate.h:1553</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_aa3f53c9b9733db23efd7d26d2c854409"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#aa3f53c9b9733db23efd7d26d2c854409">v8::internal::Isolate::thread_local_top</a></div><div class="ttdeci">ThreadLocalTop * thread_local_top()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l01346">isolate.h:1346</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_ab64f4271342ac485e583b4bd59a6d47f"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#ab64f4271342ac485e583b4bd59a6d47f">v8::internal::Isolate::roots_table</a></div><div class="ttdeci">RootsTable &amp; roots_table()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l01265">isolate.h:1265</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_abe50923a63ccf9f7a10ef1258dce8280"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#abe50923a63ccf9f7a10ef1258dce8280">v8::internal::Isolate::isolate_data</a></div><div class="ttdeci">const IsolateData * isolate_data() const</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l01222">isolate.h:1222</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_ac74a11613906581a9989b1cb7f7b3275"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">v8::internal::Isolate::heap</a></div><div class="ttdeci">Heap * heap()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l01214">isolate.h:1214</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_add58aa2cf5e62000c95ea11411ce9ae6"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#add58aa2cf5e62000c95ea11411ce9ae6">v8::internal::Isolate::debug</a></div><div class="ttdeci">Debug * debug() const</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l01500">isolate.h:1500</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_ae3b1ed161b9a3645b85332a2737ddae4"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#ae3b1ed161b9a3645b85332a2737ddae4">v8::internal::Isolate::StackOverflow</a></div><div class="ttdeci">Tagged&lt; Object &gt; StackOverflow()</div><div class="ttdef"><b>Definition:</b> <a href="isolate_8cc_source.html#l01871">isolate.cc:1871</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_aed5dcd4c10242ef0225dfbd02b5dbdd3"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#aed5dcd4c10242ef0225dfbd02b5dbdd3">v8::internal::Isolate::has_exception</a></div><div class="ttdeci">bool has_exception()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate-inl_8h_source.html#l00125">isolate-inl.h:125</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_aff756defc716556bf7e668b56b713bdb"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#aff756defc716556bf7e668b56b713bdb">v8::internal::Isolate::allow_atomics_wait</a></div><div class="ttdeci">bool allow_atomics_wait()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l02171">isolate.h:2171</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSObject_html_a16c9b19de5218c056da014960fba72ae"><div class="ttname"><a href="classv8_1_1internal_1_1JSObject.html#a16c9b19de5218c056da014960fba72ae">v8::internal::JSObject::AddProperty</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE void AddProperty(Isolate *isolate, DirectHandle&lt; JSObject &gt; object, DirectHandle&lt; Name &gt; name, DirectHandle&lt; Object &gt; value, PropertyAttributes attributes)</div><div class="ttdef"><b>Definition:</b> <a href="js-objects_8cc_source.html#l03634">js-objects.cc:3634</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MaybeDirectHandle_html"><div class="ttname"><a href="classv8_1_1internal_1_1MaybeDirectHandle.html">v8::internal::MaybeDirectHandle</a></div><div class="ttdef"><b>Definition:</b> <a href="maybe-handles_8h_source.html#l00241">maybe-handles.h:241</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MaybeDirectHandle_html_a872ccde05e0ba79452e0b75afdfabf39"><div class="ttname"><a href="classv8_1_1internal_1_1MaybeDirectHandle.html#a872ccde05e0ba79452e0b75afdfabf39">v8::internal::MaybeDirectHandle::is_null</a></div><div class="ttdeci">bool is_null() const</div><div class="ttdef"><b>Definition:</b> <a href="maybe-handles_8h_source.html#l00281">maybe-handles.h:281</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MaybeDirectHandle_html_af9f9ca9032aa4f380d7bab01754f5903"><div class="ttname"><a href="classv8_1_1internal_1_1MaybeDirectHandle.html#af9f9ca9032aa4f380d7bab01754f5903">v8::internal::MaybeDirectHandle::ToHandleChecked</a></div><div class="ttdeci">DirectHandle&lt; T &gt; ToHandleChecked() const</div><div class="ttdef"><b>Definition:</b> <a href="maybe-handles_8h_source.html#l00273">maybe-handles.h:273</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Object_html_a8a6c6d9b71bb8f6bd6004b8f6f48c9f7"><div class="ttname"><a href="classv8_1_1internal_1_1Object.html#a8a6c6d9b71bb8f6bd6004b8f6f48c9f7">v8::internal::Object::NumberValue</a></div><div class="ttdeci">static double NumberValue(Tagged&lt; Number &gt; obj)</div><div class="ttdef"><b>Definition:</b> <a href="objects-inl_8h_source.html#l00675">objects-inl.h:675</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PerThreadAssertScopeEmpty_html"><div class="ttname"><a href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">v8::internal::PerThreadAssertScopeEmpty&lt; kAllow, kTypes... &gt;</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ReadOnlyRoots_html"><div class="ttname"><a href="classv8_1_1internal_1_1ReadOnlyRoots.html">v8::internal::ReadOnlyRoots</a></div><div class="ttdef"><b>Definition:</b> <a href="roots_8h_source.html#l00724">roots.h:724</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RootsTable_html_aa9f7574a9b651cf4c0170712af1964fa"><div class="ttname"><a href="classv8_1_1internal_1_1RootsTable.html#aa9f7574a9b651cf4c0170712af1964fa">v8::internal::RootsTable::slot</a></div><div class="ttdeci">FullObjectSlot slot(RootIndex root_index)</div><div class="ttdef"><b>Definition:</b> <a href="roots_8h_source.html#l00609">roots.h:609</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RuntimeArgumentsWithoutHandles_html"><div class="ttname"><a href="classv8_1_1internal_1_1RuntimeArgumentsWithoutHandles.html">v8::internal::RuntimeArgumentsWithoutHandles</a></div><div class="ttdef"><b>Definition:</b> <a href="runtime-wasm_8cc_source.html#l00044">runtime-wasm.cc:44</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RuntimeArgumentsWithoutHandles_html_a17b2a8774303058046c56257239404ee"><div class="ttname"><a href="classv8_1_1internal_1_1RuntimeArgumentsWithoutHandles.html#a17b2a8774303058046c56257239404ee">v8::internal::RuntimeArgumentsWithoutHandles::at</a></div><div class="ttdeci">DirectHandle&lt; S &gt; at(int index) const</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RuntimeArgumentsWithoutHandles_html_a23d3b659495e2f4e7341d8950581366d"><div class="ttname"><a href="classv8_1_1internal_1_1RuntimeArgumentsWithoutHandles.html#a23d3b659495e2f4e7341d8950581366d">v8::internal::RuntimeArgumentsWithoutHandles::RuntimeArgumentsWithoutHandles</a></div><div class="ttdeci">RuntimeArgumentsWithoutHandles(int length, Address *arguments)</div><div class="ttdef"><b>Definition:</b> <a href="runtime-wasm_8cc_source.html#l00046">runtime-wasm.cc:46</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SaveAndClearThreadInWasmFlag_html"><div class="ttname"><a href="classv8_1_1internal_1_1SaveAndClearThreadInWasmFlag.html">v8::internal::SaveAndClearThreadInWasmFlag</a></div><div class="ttdef"><b>Definition:</b> <a href="runtime-utils_8h_source.html#l00048">runtime-utils.h:48</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SealHandleScope_html"><div class="ttname"><a href="classv8_1_1internal_1_1SealHandleScope.html">v8::internal::SealHandleScope</a></div><div class="ttdef"><b>Definition:</b> <a href="handles_8h_source.html#l00356">handles.h:356</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Smi_html_a5386e0cc44bcfd6a13c8481b95f5652f"><div class="ttname"><a href="classv8_1_1internal_1_1Smi.html#a5386e0cc44bcfd6a13c8481b95f5652f">v8::internal::Smi::zero</a></div><div class="ttdeci">static constexpr Tagged&lt; Smi &gt; zero()</div><div class="ttdef"><b>Definition:</b> <a href="smi_8h_source.html#l00099">smi.h:99</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Smi_html_af3d26aa8c5407775428f36ef82bfaf3c"><div class="ttname"><a href="classv8_1_1internal_1_1Smi.html#af3d26aa8c5407775428f36ef82bfaf3c">v8::internal::Smi::kMaxValue</a></div><div class="ttdeci">static constexpr int kMaxValue</div><div class="ttdef"><b>Definition:</b> <a href="smi_8h_source.html#l00101">smi.h:101</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Smi_html_afe7f07102d90ccce48cbe677c88a0645"><div class="ttname"><a href="classv8_1_1internal_1_1Smi.html#afe7f07102d90ccce48cbe677c88a0645">v8::internal::Smi::FromInt</a></div><div class="ttdeci">static constexpr Tagged&lt; Smi &gt; FromInt(int value)</div><div class="ttdef"><b>Definition:</b> <a href="smi_8h_source.html#l00038">smi.h:38</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StackFrameIteratorBase_html_a0fdde3eed7621e64ee5e1a6ea0799c4b"><div class="ttname"><a href="classv8_1_1internal_1_1StackFrameIteratorBase.html#a0fdde3eed7621e64ee5e1a6ea0799c4b">v8::internal::StackFrameIteratorBase::done</a></div><div class="ttdeci">bool done() const</div><div class="ttdef"><b>Definition:</b> <a href="frames_8h_source.html#l01642">frames.h:1642</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StackFrameIterator_html"><div class="ttname"><a href="classv8_1_1internal_1_1StackFrameIterator.html">v8::internal::StackFrameIterator</a></div><div class="ttdef"><b>Definition:</b> <a href="frames_8h_source.html#l01687">frames.h:1687</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StackFrame_html"><div class="ttname"><a href="classv8_1_1internal_1_1StackFrame.html">v8::internal::StackFrame</a></div><div class="ttdef"><b>Definition:</b> <a href="frames_8h_source.html#l00150">frames.h:150</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StackFrame_html_a771ed4aa90a71f268873286c332ef0c4"><div class="ttname"><a href="classv8_1_1internal_1_1StackFrame.html#a771ed4aa90a71f268873286c332ef0c4">v8::internal::StackFrame::MarkerToType</a></div><div class="ttdeci">static constexpr Type MarkerToType(intptr_t marker)</div><div class="ttdef"><b>Definition:</b> <a href="frames_8h_source.html#l00204">frames.h:204</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StackFrame_html_acd57bdd7c8b254edf7f35b769e6db458"><div class="ttname"><a href="classv8_1_1internal_1_1StackFrame.html#acd57bdd7c8b254edf7f35b769e6db458">v8::internal::StackFrame::fp</a></div><div class="ttdeci">Address fp() const</div><div class="ttdef"><b>Definition:</b> <a href="frames_8h_source.html#l00294">frames.h:294</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StackGuard_html_a72dc76159f8189a8bdcba643018dd0a4a6015aa2c54822e2b2396febe4b0c9523"><div class="ttname"><a href="classv8_1_1internal_1_1StackGuard.html#a72dc76159f8189a8bdcba643018dd0a4a6015aa2c54822e2b2396febe4b0c9523">v8::internal::StackGuard::InterruptLevel::kAnyEffect</a></div><div class="ttdeci">@ kAnyEffect</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StackGuard_html_ab06a1511d34eb817aa707c3696c32f35"><div class="ttname"><a href="classv8_1_1internal_1_1StackGuard.html#ab06a1511d34eb817aa707c3696c32f35">v8::internal::StackGuard::HandleInterrupts</a></div><div class="ttdeci">Tagged&lt; Object &gt; HandleInterrupts(InterruptLevel level=InterruptLevel::kAnyEffect)</div><div class="ttdef"><b>Definition:</b> <a href="stack-guard_8cc_source.html#l00298">stack-guard.cc:298</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StackLimitCheck_html"><div class="ttname"><a href="classv8_1_1internal_1_1StackLimitCheck.html">v8::internal::StackLimitCheck</a></div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l03073">isolate.h:3073</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StackLimitCheck_html_a60021816393053e2f218da83bf402f39"><div class="ttname"><a href="classv8_1_1internal_1_1StackLimitCheck.html#a60021816393053e2f218da83bf402f39">v8::internal::StackLimitCheck::InterruptRequested</a></div><div class="ttdeci">bool InterruptRequested()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l03094">isolate.h:3094</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StackLimitCheck_html_ace2c10c0d463b12e8a1d8b10b6925168"><div class="ttname"><a href="classv8_1_1internal_1_1StackLimitCheck.html#ace2c10c0d463b12e8a1d8b10b6925168">v8::internal::StackLimitCheck::WasmHasOverflowed</a></div><div class="ttdeci">bool WasmHasOverflowed(uintptr_t gap=0) const</div><div class="ttdef"><b>Definition:</b> <a href="isolate_8cc_source.html#l07432">isolate.cc:7432</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_1_1FlatContent_html"><div class="ttname"><a href="classv8_1_1internal_1_1String_1_1FlatContent.html">v8::internal::String::FlatContent</a></div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l00131">string.h:131</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_1_1FlatContent_html_a3b4907c3447e7f474b0825b8db8138f0"><div class="ttname"><a href="classv8_1_1internal_1_1String_1_1FlatContent.html#a3b4907c3447e7f474b0825b8db8138f0">v8::internal::String::FlatContent::IsOneByte</a></div><div class="ttdeci">bool IsOneByte() const</div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l00138">string.h:138</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_1_1FlatContent_html_a483b0df0bd1ac65774f670845019d75f"><div class="ttname"><a href="classv8_1_1internal_1_1String_1_1FlatContent.html#a483b0df0bd1ac65774f670845019d75f">v8::internal::String::FlatContent::IsFlat</a></div><div class="ttdeci">bool IsFlat() const</div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l00136">string.h:136</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_1_1FlatContent_html_a794f656e3f6d2c76eba88eebd5c780e3"><div class="ttname"><a href="classv8_1_1internal_1_1String_1_1FlatContent.html#a794f656e3f6d2c76eba88eebd5c780e3">v8::internal::String::FlatContent::ToOneByteVector</a></div><div class="ttdeci">base::Vector&lt; const uint8_t &gt; ToOneByteVector() const</div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l00144">string.h:144</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_1_1FlatContent_html_ae62146724271210677779a9741d4103d"><div class="ttname"><a href="classv8_1_1internal_1_1String_1_1FlatContent.html#ae62146724271210677779a9741d4103d">v8::internal::String::FlatContent::ToUC16Vector</a></div><div class="ttdeci">base::Vector&lt; const base::uc16 &gt; ToUC16Vector() const</div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l00150">string.h:150</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_html_a0a659043aaf2322e3ee5e8fcba625cde"><div class="ttname"><a href="classv8_1_1internal_1_1String.html#a0a659043aaf2322e3ee5e8fcba625cde">v8::internal::String::WriteToFlat</a></div><div class="ttdeci">static void WriteToFlat(Tagged&lt; String &gt; source, SinkCharT *sink, uint32_t start, uint32_t length)</div><div class="ttdef"><b>Definition:</b> <a href="string_8cc_source.html#l00763">string.cc:763</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_html_a1f86b7d22f551041980cd92683718802"><div class="ttname"><a href="classv8_1_1internal_1_1String.html#a1f86b7d22f551041980cd92683718802">v8::internal::String::kMaxLength</a></div><div class="ttdeci">static const uint32_t kMaxLength</div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l00523">string.h:523</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1TaggedImpl_html_a4dba1b2eafcf7a414910966f950540c9"><div class="ttname"><a href="classv8_1_1internal_1_1TaggedImpl.html#a4dba1b2eafcf7a414910966f950540c9">v8::internal::TaggedImpl::ptr</a></div><div class="ttdeci">constexpr StorageType ptr() const</div><div class="ttdef"><b>Definition:</b> <a href="tagged-impl_8h_source.html#l00110">tagged-impl.h:110</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1TaggedImpl_html_a5d84dde6d0c8149b4560d7c79cf8f1a3"><div class="ttname"><a href="classv8_1_1internal_1_1TaggedImpl.html#a5d84dde6d0c8149b4560d7c79cf8f1a3">v8::internal::TaggedImpl::IsCleared</a></div><div class="ttdeci">constexpr bool IsCleared() const</div><div class="ttdef"><b>Definition:</b> <a href="tagged-impl_8h_source.html#l00125">tagged-impl.h:125</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1TaggedImpl_html_a941f4af4ddba9f09e9ff1ca6e4382c36"><div class="ttname"><a href="classv8_1_1internal_1_1TaggedImpl.html#a941f4af4ddba9f09e9ff1ca6e4382c36">v8::internal::TaggedImpl::GetHeapObject</a></div><div class="ttdeci">bool GetHeapObject(Tagged&lt; HeapObject &gt; *result) const</div><div class="ttdef"><b>Definition:</b> <a href="tagged-impl-inl_8h_source.html#l00048">tagged-impl-inl.h:48</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1TaggedImpl_html_ac581f955a852851b751735177af20efa"><div class="ttname"><a href="classv8_1_1internal_1_1TaggedImpl.html#ac581f955a852851b751735177af20efa">v8::internal::TaggedImpl::IsSmi</a></div><div class="ttdeci">constexpr bool IsSmi() const</div><div class="ttdef"><b>Definition:</b> <a href="tagged-impl_8h_source.html#l00117">tagged-impl.h:117</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Tagged_3_01HeapObject_01_4_html_a0930e2a8cbe8abbc5cdd476902fe6c88"><div class="ttname"><a href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html#a0930e2a8cbe8abbc5cdd476902fe6c88">v8::internal::Tagged&lt; HeapObject &gt;::is_null</a></div><div class="ttdeci">constexpr bool is_null() const</div><div class="ttdef"><b>Definition:</b> <a href="tagged_8h_source.html#l00502">tagged.h:502</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Tagged_3_01Object_01_4_html"><div class="ttname"><a href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">v8::internal::Tagged&lt; Object &gt;</a></div><div class="ttdef"><b>Definition:</b> <a href="tagged_8h_source.html#l00387">tagged.h:387</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Tagged_html"><div class="ttname"><a href="classv8_1_1internal_1_1Tagged.html">v8::internal::Tagged</a></div><div class="ttdef"><b>Definition:</b> <a href="tagged_8h_source.html#l00707">tagged.h:707</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmArray_html_a70f275c3e49874771b7b06cb4e5d20d8"><div class="ttname"><a href="classv8_1_1internal_1_1WasmArray.html#a70f275c3e49874771b7b06cb4e5d20d8">v8::internal::WasmArray::MaxLength</a></div><div class="ttdeci">static constexpr int MaxLength(uint32_t element_size_bytes)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8h_source.html#l01489">wasm-objects.h:1489</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmExceptionPackage_html_a310dfde86feecf720c6a44124ab7dbca"><div class="ttname"><a href="classv8_1_1internal_1_1WasmExceptionPackage.html#a310dfde86feecf720c6a44124ab7dbca">v8::internal::WasmExceptionPackage::New</a></div><div class="ttdeci">static DirectHandle&lt; WasmExceptionPackage &gt; New(Isolate *isolate, DirectHandle&lt; WasmExceptionTag &gt; exception_tag, int encoded_size)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l02750">wasm-objects.cc:2750</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmExternalFunction_html_ac2a96212bef554982c768f1c04f72d20"><div class="ttname"><a href="classv8_1_1internal_1_1WasmExternalFunction.html#ac2a96212bef554982c768f1c04f72d20">v8::internal::WasmExternalFunction::IsWasmExternalFunction</a></div><div class="ttdeci">static bool IsWasmExternalFunction(Tagged&lt; Object &gt; object)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l03299">wasm-objects.cc:3299</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmInternalFunction_html_aa01e2244c83b9a4ca24d4bfd2cb0d78a"><div class="ttname"><a href="classv8_1_1internal_1_1WasmInternalFunction.html#aa01e2244c83b9a4ca24d4bfd2cb0d78a">v8::internal::WasmInternalFunction::GetOrCreateExternal</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE DirectHandle&lt; JSFunction &gt; GetOrCreateExternal(DirectHandle&lt; WasmInternalFunction &gt; internal)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l02045">wasm-objects.cc:2045</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmLiftoffFrameConstants_html_a50438fa2e950211864cca863f11cabb6"><div class="ttname"><a href="classv8_1_1internal_1_1WasmLiftoffFrameConstants.html#a50438fa2e950211864cca863f11cabb6">v8::internal::WasmLiftoffFrameConstants::kFeedbackVectorOffset</a></div><div class="ttdeci">static constexpr int kFeedbackVectorOffset</div><div class="ttdef"><b>Definition:</b> <a href="frame-constants-arm_8h_source.html#l00102">frame-constants-arm.h:102</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmMemoryObject_html_ab04a12b70d33ad72a3442d2a21bbfff7"><div class="ttname"><a href="classv8_1_1internal_1_1WasmMemoryObject.html#ab04a12b70d33ad72a3442d2a21bbfff7">v8::internal::WasmMemoryObject::Grow</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE int32_t Grow(Isolate *, DirectHandle&lt; WasmMemoryObject &gt;, uint32_t pages)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l01146">wasm-objects.cc:1146</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmScript_html_a42def163ed2f611a7e6dc9c7b778ee80"><div class="ttname"><a href="classv8_1_1internal_1_1WasmScript.html#a42def163ed2f611a7e6dc9c7b778ee80">v8::internal::WasmScript::CheckBreakPoints</a></div><div class="ttdeci">static MaybeDirectHandle&lt; FixedArray &gt; CheckBreakPoints(Isolate *, DirectHandle&lt; Script &gt;, int position, StackFrameId stack_frame_id)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-debug_8cc_source.html#l01273">wasm-debug.cc:1273</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmScript_html_ae2c706b2efb06b19a3fc316ecb677dfe"><div class="ttname"><a href="classv8_1_1internal_1_1WasmScript.html#ae2c706b2efb06b19a3fc316ecb677dfe">v8::internal::WasmScript::kOnEntryBreakpointPosition</a></div><div class="ttdeci">static constexpr int kOnEntryBreakpointPosition</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8h_source.html#l01286">wasm-objects.h:1286</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmStruct_html_a7f2b5aa8e14b67c2b8f6f70a70b1455b"><div class="ttname"><a href="classv8_1_1internal_1_1WasmStruct.html#a7f2b5aa8e14b67c2b8f6f70a70b1455b">v8::internal::WasmStruct::AllocateDescriptorUninitialized</a></div><div class="ttdeci">static DirectHandle&lt; WasmStruct &gt; AllocateDescriptorUninitialized(Isolate *isolate, DirectHandle&lt; WasmTrustedInstanceData &gt; trusted_data, wasm::ModuleTypeIndex index, DirectHandle&lt; Map &gt; map, DirectHandle&lt; Object &gt; first_field)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l02259">wasm-objects.cc:2259</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTableObject_html_aa5e3c6d5c308301194a5fd89e6dd9e59"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTableObject.html#aa5e3c6d5c308301194a5fd89e6dd9e59">v8::internal::WasmTableObject::Get</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE DirectHandle&lt; Object &gt; Get(Isolate *isolate, DirectHandle&lt; WasmTableObject &gt; table, uint32_t index)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l00431">wasm-objects.cc:431</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTableObject_html_abd200bd6702d0b1d288516cb0f7173fc"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTableObject.html#abd200bd6702d0b1d288516cb0f7173fc">v8::internal::WasmTableObject::Fill</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE void Fill(Isolate *isolate, DirectHandle&lt; WasmTableObject &gt; table, uint32_t start, DirectHandle&lt; Object &gt; entry, uint32_t count)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l00504">wasm-objects.cc:504</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTableObject_html_acfdec070b48fe34a36f7aa7fed63a969"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTableObject.html#acfdec070b48fe34a36f7aa7fed63a969">v8::internal::WasmTableObject::Set</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE void Set(Isolate *isolate, DirectHandle&lt; WasmTableObject &gt; table, uint32_t index, DirectHandle&lt; Object &gt; entry)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l00379">wasm-objects.cc:379</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTableObject_html_ad51363b96ea8a38d2957f46f2767b4de"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTableObject.html#ad51363b96ea8a38d2957f46f2767b4de">v8::internal::WasmTableObject::Grow</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE int Grow(Isolate *isolate, DirectHandle&lt; WasmTableObject &gt; table, uint32_t count, DirectHandle&lt; Object &gt; init_value)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l00259">wasm-objects.cc:259</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTrustedInstanceData_html_a27d1f1a3201baec4b9103b3bb27888b6"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a27d1f1a3201baec4b9103b3bb27888b6">v8::internal::WasmTrustedInstanceData::GetOrCreateFuncRef</a></div><div class="ttdeci">static DirectHandle&lt; WasmFuncRef &gt; GetOrCreateFuncRef(Isolate *isolate, DirectHandle&lt; WasmTrustedInstanceData &gt; trusted_instance_data, int function_index)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l01995">wasm-objects.cc:1995</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTrustedInstanceData_html_a77178e357a3856cdbbeb238b075f45e4"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a77178e357a3856cdbbeb238b075f45e4">v8::internal::WasmTrustedInstanceData::InitTableEntries</a></div><div class="ttdeci">static std::optional&lt; MessageTemplate &gt; InitTableEntries(Isolate *isolate, DirectHandle&lt; WasmTrustedInstanceData &gt; trusted_instance_data, DirectHandle&lt; WasmTrustedInstanceData &gt; shared_trusted_instance_data, uint32_t table_index, uint32_t segment_index, uint32_t dst, uint32_t src, uint32_t count) V8_WARN_UNUSED_RESULT</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l01935">wasm-objects.cc:1935</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTrustedInstanceData_html_ad5fa0df8fba113e186afd8a1b10b8161"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#ad5fa0df8fba113e186afd8a1b10b8161">v8::internal::WasmTrustedInstanceData::CopyTableEntries</a></div><div class="ttdeci">static bool CopyTableEntries(Isolate *isolate, DirectHandle&lt; WasmTrustedInstanceData &gt; trusted_instance_data, uint32_t table_dst_index, uint32_t table_src_index, uint32_t dst, uint32_t src, uint32_t count) V8_WARN_UNUSED_RESULT</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l01897">wasm-objects.cc:1897</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Zone_html"><div class="ttname"><a href="classv8_1_1internal_1_1Zone.html">v8::internal::Zone</a></div><div class="ttdef"><b>Definition:</b> <a href="zone_8h_source.html#l00043">zone.h:43</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03_1_1ClearThreadInWasmScope_html"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03_1_1ClearThreadInWasmScope.html">v8::internal::anonymous_namespace{runtime-wasm.cc}::ClearThreadInWasmScope</a></div><div class="ttdef"><b>Definition:</b> <a href="runtime-wasm_8cc_source.html#l00108">runtime-wasm.cc:108</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03_1_1ClearThreadInWasmScope_html_a0abc143c854bf5343898bd42208f802a"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03_1_1ClearThreadInWasmScope.html#a0abc143c854bf5343898bd42208f802a">v8::internal::anonymous_namespace{runtime-wasm.cc}::ClearThreadInWasmScope::is_thread_in_wasm_</a></div><div class="ttdeci">const bool is_thread_in_wasm_</div><div class="ttdef"><b>Definition:</b> <a href="runtime-wasm_8cc_source.html#l00143">runtime-wasm.cc:143</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03_1_1ClearThreadInWasmScope_html_a10c155f3ed9151a28032fba0ea74bf8f"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03_1_1ClearThreadInWasmScope.html#a10c155f3ed9151a28032fba0ea74bf8f">v8::internal::anonymous_namespace{runtime-wasm.cc}::ClearThreadInWasmScope::ClearThreadInWasmScope</a></div><div class="ttdeci">ClearThreadInWasmScope(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="runtime-wasm_8cc_source.html#l00110">runtime-wasm.cc:110</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03_1_1ClearThreadInWasmScope_html_a358576bda67e5c2409f8c138a9bcb1ce"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03_1_1ClearThreadInWasmScope.html#a358576bda67e5c2409f8c138a9bcb1ce">v8::internal::anonymous_namespace{runtime-wasm.cc}::ClearThreadInWasmScope::isolate_</a></div><div class="ttdeci">Isolate * isolate_</div><div class="ttdef"><b>Definition:</b> <a href="runtime-wasm_8cc_source.html#l00142">runtime-wasm.cc:142</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03_1_1ClearThreadInWasmScope_html_a5ecf34d5aa26dd3cefc3e96a26b0fe88"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03_1_1ClearThreadInWasmScope.html#a5ecf34d5aa26dd3cefc3e96a26b0fe88">v8::internal::anonymous_namespace{runtime-wasm.cc}::ClearThreadInWasmScope::~ClearThreadInWasmScope</a></div><div class="ttdeci">~ClearThreadInWasmScope()</div><div class="ttdef"><b>Definition:</b> <a href="runtime-wasm_8cc_source.html#l00125">runtime-wasm.cc:125</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03_1_1FrameFinder_html"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03_1_1FrameFinder.html">v8::internal::anonymous_namespace{runtime-wasm.cc}::FrameFinder</a></div><div class="ttdef"><b>Definition:</b> <a href="runtime-wasm_8cc_source.html#l00062">runtime-wasm.cc:62</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03_1_1FrameFinder_html_a5afc30497f3374cc08aeaf484088e5fb"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03_1_1FrameFinder.html#a5afc30497f3374cc08aeaf484088e5fb">v8::internal::anonymous_namespace{runtime-wasm.cc}::FrameFinder::frame_iterator_</a></div><div class="ttdeci">StackFrameIterator frame_iterator_</div><div class="ttdef"><b>Definition:</b> <a href="runtime-wasm_8cc_source.html#l00084">runtime-wasm.cc:84</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03_1_1FrameFinder_html_a8dc88471498e192e638338d856e816b5"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03_1_1FrameFinder.html#a8dc88471498e192e638338d856e816b5">v8::internal::anonymous_namespace{runtime-wasm.cc}::FrameFinder::frame</a></div><div class="ttdeci">FrameType * frame()</div><div class="ttdef"><b>Definition:</b> <a href="runtime-wasm_8cc_source.html#l00081">runtime-wasm.cc:81</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03_1_1FrameFinder_html_ae48ad4cd361ca73f4a84a98afb2a62b8"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03_1_1FrameFinder.html#ae48ad4cd361ca73f4a84a98afb2a62b8">v8::internal::anonymous_namespace{runtime-wasm.cc}::FrameFinder::FrameFinder</a></div><div class="ttdeci">FrameFinder(Isolate *isolate, std::initializer_list&lt; StackFrame::Type &gt; skipped_frame_types={StackFrame::EXIT})</div><div class="ttdef"><b>Definition:</b> <a href="runtime-wasm_8cc_source.html#l00064">runtime-wasm.cc:64</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1CanonicalSig_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1CanonicalSig.html">v8::internal::wasm::CanonicalSig</a></div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01298">value-type.h:1298</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1CanonicalValueType_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1CanonicalValueType.html">v8::internal::wasm::CanonicalValueType</a></div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01025">value-type.h:1025</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1CanonicalValueType_html_a5a26ead05cd8e3e45a612462ed73d324"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1CanonicalValueType.html#a5a26ead05cd8e3e45a612462ed73d324">v8::internal::wasm::CanonicalValueType::FromRawBitField</a></div><div class="ttdeci">static constexpr CanonicalValueType FromRawBitField(uint32_t bits)</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01049">value-type.h:1049</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1Decoder_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1Decoder.html">v8::internal::wasm::Decoder</a></div><div class="ttdef"><b>Definition:</b> <a href="decoder_8h_source.html#l00088">decoder.h:88</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1Decoder_html_aafc6b872375dc88fe7890ed918c1ff4c"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1Decoder.html#aafc6b872375dc88fe7890ed918c1ff4c">v8::internal::wasm::Decoder::read_prefixed_opcode</a></div><div class="ttdeci">std::pair&lt; WasmOpcode, uint32_t &gt; read_prefixed_opcode(const uint8_t *pc, Name&lt; ValidationTag &gt; name=&quot;prefixed opcode&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="decoder_8h_source.html#l00202">decoder.h:202</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1JSToWasmWrapperCompilationUnit_html_a752a58d9590a7faefdd7d7ea8732275d"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1JSToWasmWrapperCompilationUnit.html#a752a58d9590a7faefdd7d7ea8732275d">v8::internal::wasm::JSToWasmWrapperCompilationUnit::CompileJSToWasmWrapper</a></div><div class="ttdeci">static DirectHandle&lt; Code &gt; CompileJSToWasmWrapper(Isolate *isolate, const CanonicalSig *sig, CanonicalTypeIndex sig_index, bool receiver_is_first_param)</div><div class="ttdef"><b>Definition:</b> <a href="function-compiler_8cc_source.html#l00263">function-compiler.cc:263</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html">v8::internal::wasm::NativeModule</a></div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00603">wasm-code-manager.h:603</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1ResolvedWasmImport_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1ResolvedWasmImport.html">v8::internal::wasm::ResolvedWasmImport</a></div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8h_source.html#l00061">module-instantiate.h:61</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1ResolvedWasmImport_html_a680ff048f40f3a9d9b47de1a7f2f0635"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1ResolvedWasmImport.html#a680ff048f40f3a9d9b47de1a7f2f0635">v8::internal::wasm::ResolvedWasmImport::kind</a></div><div class="ttdeci">ImportCallKind kind() const</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8h_source.html#l00071">module-instantiate.h:71</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1StackMemory_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1StackMemory.html">v8::internal::wasm::StackMemory</a></div><div class="ttdef"><b>Definition:</b> <a href="stacks_8h_source.html#l00056">stacks.h:56</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1StackMemory_html_a9132c4153bd0207b8738f2b7304e0f7b"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1StackMemory.html#a9132c4153bd0207b8738f2b7304e0f7b">v8::internal::wasm::StackMemory::jmpbuf</a></div><div class="ttdeci">JumpBuffer * jmpbuf()</div><div class="ttdef"><b>Definition:</b> <a href="stacks_8h_source.html#l00086">stacks.h:86</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html_a5388360032f6dfc62a57b7f54c20997b"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a5388360032f6dfc62a57b7f54c20997b">v8::internal::wasm::TypeCanonicalizer::FindIndex_Slow</a></div><div class="ttdeci">CanonicalTypeIndex FindIndex_Slow(const CanonicalSig *sig) const</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8cc_source.html#l00471">canonical-types.cc:471</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html_a786ffe03cbb5612cc865dff1331a20eb"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a786ffe03cbb5612cc865dff1331a20eb">v8::internal::wasm::TypeCanonicalizer::kPredefinedArrayI16Index</a></div><div class="ttdeci">static constexpr CanonicalTypeIndex kPredefinedArrayI16Index</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8h_source.html#l00052">canonical-types.h:52</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html_aa1f36fc3851ba2316d47223fa2b6e155"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aa1f36fc3851ba2316d47223fa2b6e155">v8::internal::wasm::TypeCanonicalizer::LookupFunctionSignature</a></div><div class="ttdeci">V8_EXPORT_PRIVATE const CanonicalSig * LookupFunctionSignature(CanonicalTypeIndex index) const</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8cc_source.html#l00190">canonical-types.cc:190</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html_ad7596d2d5f3ea621ba8021e2b5c35ea0"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#ad7596d2d5f3ea621ba8021e2b5c35ea0">v8::internal::wasm::TypeCanonicalizer::kPredefinedArrayI8Index</a></div><div class="ttdeci">static constexpr CanonicalTypeIndex kPredefinedArrayI8Index</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8h_source.html#l00051">canonical-types.h:51</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1ValueTypeBase_html_a09cf4ea5d5c5131cd99bf69b427dd13f"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1ValueTypeBase.html#a09cf4ea5d5c5131cd99bf69b427dd13f">v8::internal::wasm::ValueTypeBase::value_kind_size</a></div><div class="ttdeci">constexpr int value_kind_size() const</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l00486">value-type.h:486</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1ValueTypeBase_html_a3e49f09749ffd2644f8d43810e8a33fd"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1ValueTypeBase.html#a3e49f09749ffd2644f8d43810e8a33fd">v8::internal::wasm::ValueTypeBase::kLastUsedBit</a></div><div class="ttdeci">static const int kLastUsedBit</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l00340">value-type.h:340</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1ValueTypeBase_html_a786387bf26930354003d39a87eec7921"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1ValueTypeBase.html#a786387bf26930354003d39a87eec7921">v8::internal::wasm::ValueTypeBase::is_reference</a></div><div class="ttdeci">constexpr bool is_reference() const</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l00606">value-type.h:606</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1ValueTypeBase_html_aa757d5233d87f6d7a86d6dc0e828fe4a"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1ValueTypeBase.html#aa757d5233d87f6d7a86d6dc0e828fe4a">v8::internal::wasm::ValueTypeBase::is_numeric</a></div><div class="ttdeci">constexpr bool is_numeric() const</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l00374">value-type.h:374</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeRefScope_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html">v8::internal::wasm::WasmCodeRefScope</a></div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01277">wasm-code-manager.h:1277</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">v8::internal::wasm::WasmCode</a></div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00091">wasm-code-manager.h:91</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmExportWrapperCache_html_aa67c99c7e5e517261faf25a6a4c4a053"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmExportWrapperCache.html#aa67c99c7e5e517261faf25a6a4c4a053">v8::internal::wasm::WasmExportWrapperCache::Get</a></div><div class="ttdeci">static Tagged&lt; CodeWrapper &gt; Get(Isolate *isolate, CanonicalTypeIndex sig_index, bool receiver_is_first_param)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-export-wrapper-cache_8cc_source.html#l00036">wasm-export-wrapper-cache.cc:36</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmImportWrapperCache_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmImportWrapperCache.html">v8::internal::wasm::WasmImportWrapperCache</a></div><div class="ttdef"><b>Definition:</b> <a href="wasm-import-wrapper-cache_8h_source.html#l00025">wasm-import-wrapper-cache.h:25</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmImportWrapperCache_html_a83ced6511f55c6c4dca7707e21eb1d2d"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmImportWrapperCache.html#a83ced6511f55c6c4dca7707e21eb1d2d">v8::internal::wasm::WasmImportWrapperCache::GetCompiled</a></div><div class="ttdeci">V8_EXPORT_PRIVATE std::shared_ptr&lt; WasmImportWrapperHandle &gt; GetCompiled(Isolate *isolate, ImportCallKind kind, CanonicalTypeIndex type_index, int expected_arity, Suspend suspend, const wasm::CanonicalSig *sig)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-import-wrapper-cache_8cc_source.html#l00283">wasm-import-wrapper-cache.cc:283</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmInterpreterThread_html_afce3818d65b87742c4c807679f2ba8d4"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmInterpreterThread.html#afce3818d65b87742c4c807679f2ba8d4">v8::internal::wasm::WasmInterpreterThread::SetRuntimeLastWasmError</a></div><div class="ttdeci">static void SetRuntimeLastWasmError(Isolate *isolate, MessageTemplate message)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-interpreter_8cc_source.html#l00506">wasm-interpreter.cc:506</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmOpcodes_html_af8d075018853ec4db2f78b056d396d28"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmOpcodes.html#af8d075018853ec4db2f78b056d396d28">v8::internal::wasm::WasmOpcodes::IsPrefixOpcode</a></div><div class="ttdeci">static constexpr bool IsPrefixOpcode(WasmOpcode)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-opcodes-inl_8h_source.html#l00048">wasm-opcodes-inl.h:48</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmValue_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmValue.html">v8::internal::wasm::WasmValue</a></div><div class="ttdef"><b>Definition:</b> <a href="wasm-value_8h_source.html#l00047">wasm-value.h:47</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WireBytesRef_html_a1853a6fc4a88a37d2bb8a91b58781daf"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WireBytesRef.html#a1853a6fc4a88a37d2bb8a91b58781daf">v8::internal::wasm::WireBytesRef::end_offset</a></div><div class="ttdeci">uint32_t end_offset() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00071">wasm-module.h:71</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WireBytesRef_html_a4f2dffb7efc3721571b5f1604d5d448a"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WireBytesRef.html#a4f2dffb7efc3721571b5f1604d5d448a">v8::internal::wasm::WireBytesRef::offset</a></div><div class="ttdeci">uint32_t offset() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00069">wasm-module.h:69</a></div></div>
<div class="ttc" id="aconversions_8h_html"><div class="ttname"><a href="conversions_8h.html">conversions.h</a></div></div>
<div class="ttc" id="adata-view-ops_8h_html"><div class="ttname"><a href="data-view-ops_8h.html">data-view-ops.h</a></div></div>
<div class="ttc" id="adata-view-ops_8h_html_a1961aa964f0d5e8e5656d2e364f0e959"><div class="ttname"><a href="data-view-ops_8h.html#a1961aa964f0d5e8e5656d2e364f0e959">DataViewOp</a></div><div class="ttdeci">DataViewOp</div><div class="ttdef"><b>Definition:</b> <a href="data-view-ops_8h_source.html#l00025">data-view-ops.h:25</a></div></div>
<div class="ttc" id="adebug_8h_html"><div class="ttname"><a href="debug_8h.html">debug.h</a></div></div>
<div class="ttc" id="adeoptimizer_8h_html"><div class="ttname"><a href="deoptimizer_8h.html">deoptimizer.h</a></div></div>
<div class="ttc" id="aexecution_2arguments-inl_8h_html"><div class="ttname"><a href="execution_2arguments-inl_8h.html">arguments-inl.h</a></div></div>
<div class="ttc" id="aexecution_2isolate_8h_html_a7fc5aec5f967fb5b39c24c8b0348634d"><div class="ttname"><a href="execution_2isolate_8h.html#a7fc5aec5f967fb5b39c24c8b0348634d">THROW_NEW_ERROR_RETURN_FAILURE</a></div><div class="ttdeci">#define THROW_NEW_ERROR_RETURN_FAILURE(isolate, call)</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l00295">isolate.h:295</a></div></div>
<div class="ttc" id="aexecution_2isolate_8h_html_aca79e1963c131c77c0a496bac97c078d"><div class="ttname"><a href="execution_2isolate_8h.html#aca79e1963c131c77c0a496bac97c078d">RETURN_RESULT_OR_FAILURE</a></div><div class="ttdeci">#define RETURN_RESULT_OR_FAILURE(isolate, call)</div><div class="ttdoc">RETURN_RESULT_OR_FAILURE is used in functions with return type Object (such as &quot;RUNTIME_FUNCTION(....</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l00265">isolate.h:265</a></div></div>
<div class="ttc" id="afactory_8h_html"><div class="ttname"><a href="factory_8h.html">factory.h</a></div></div>
<div class="ttc" id="aflag-definitions_8h_html_a3df0b28b666e942ffb9d7d04acdb9715"><div class="ttname"><a href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enables Turboshaft s StaticAssert and CheckTurboshaftTypeOf operations Wasm code into JS functions via the JS to Wasm wrappers are still inlined in TurboFan For controlling whether to at see turbo inline js wasm calls enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information enable Turbolev features that we want to ship in the not too far future trace individual Turboshaft reduction steps trace intermediate Turboshaft reduction steps trace Turboshaft s if else to switch reducer invocation count threshold for early optimization Enables optimizations which favor memory size over execution speed Enables sampling allocation profiler with X as a sample interval min size of a semi the new space consists of two semi spaces max size of the preconfigured old space size(in Mbytes)&quot;)     DEFINE_INT(random_gc_interval</div></div>
<div class="ttc" id="aflag-definitions_8h_html_ae0e79c88adf5166f9befeb542c2acd8f"><div class="ttname"><a href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a></div><div class="ttdeci">force emit tier up logic from all non turbofan code</div><div class="ttdef"><b>Definition:</b> <a href="flag-definitions_8h_source.html#l00546">flag-definitions.h:546</a></div></div>
<div class="ttc" id="aframes_8h_html"><div class="ttname"><a href="frames_8h.html">frames.h</a></div></div>
<div class="ttc" id="amessage-template_8h_html"><div class="ttname"><a href="message-template_8h.html">message-template.h</a></div></div>
<div class="ttc" id="amodule-compiler_8h_html"><div class="ttname"><a href="module-compiler_8h.html">module-compiler.h</a></div></div>
<div class="ttc" id="anamespaceunibrow_html_a0869a94c1a582a2b47889b990444deb9"><div class="ttname"><a href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">unibrow::uint16_t</a></div><div class="ttdeci">unsigned short uint16_t</div><div class="ttdef"><b>Definition:</b> <a href="unicode_8cc_source.html#l00041">unicode.cc:41</a></div></div>
<div class="ttc" id="anamespaceunibrow_html_a091820d4fd2384425cd48bc8a9189f43"><div class="ttname"><a href="namespaceunibrow.html#a091820d4fd2384425cd48bc8a9189f43">unibrow::Utf8Variant</a></div><div class="ttdeci">Utf8Variant</div><div class="ttdef"><b>Definition:</b> <a href="unicode_8h_source.html#l00145">unicode.h:145</a></div></div>
<div class="ttc" id="anamespaceunibrow_html_a091820d4fd2384425cd48bc8a9189f43ab9dfad250e9161ece43938e29c4a0de4"><div class="ttname"><a href="namespaceunibrow.html#a091820d4fd2384425cd48bc8a9189f43ab9dfad250e9161ece43938e29c4a0de4">unibrow::Utf8Variant::kLastUtf8Variant</a></div><div class="ttdeci">@ kLastUtf8Variant</div></div>
<div class="ttc" id="anamespaceunibrow_html_a091820d4fd2384425cd48bc8a9189f43af7d299bfd7372d64a2436dfa5ebe9b9d"><div class="ttname"><a href="namespaceunibrow.html#a091820d4fd2384425cd48bc8a9189f43af7d299bfd7372d64a2436dfa5ebe9b9d">unibrow::Utf8Variant::kLossyUtf8</a></div><div class="ttdeci">@ kLossyUtf8</div></div>
<div class="ttc" id="anamespaceunibrow_html_ab0275d47f9778d486eafe88b18c5851d"><div class="ttname"><a href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">unibrow::int32_t</a></div><div class="ttdeci">int int32_t</div><div class="ttdef"><b>Definition:</b> <a href="unicode_8cc_source.html#l00042">unicode.cc:42</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02api_8cc_03_html_a0be2944595d695733e968a9a946d9fcc"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02api_8cc_03.html#a0be2944595d695733e968a9a946d9fcc">v8::anonymous_namespace{api.cc}::ToHandle</a></div><div class="ttdeci">i::DirectHandle&lt; T &gt; ToHandle(i::Handle&lt; T &gt; h)</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l07748">api.cc:7748</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_1_1ieee754_html_a6933d652f26a01529c4fc7d747981cc5"><div class="ttname"><a href="namespacev8_1_1base_1_1ieee754.html#a6933d652f26a01529c4fc7d747981cc5">v8::base::ieee754::exp</a></div><div class="ttdeci">double exp(double x)</div><div class="ttdef"><b>Definition:</b> <a href="base_2ieee754_8cc_source.html#l01447">ieee754.cc:1447</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_1_1internal_html_a9840f2bf0b4780133662292486d0bc01"><div class="ttname"><a href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">v8::base::internal::result</a></div><div class="ttdeci">V result</div><div class="ttdef"><b>Definition:</b> <a href="clamped__math__impl_8h_source.html#l00082">clamped_math_impl.h:82</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a1961a4852ced3c23f4d43de6f91d18d6"><div class="ttname"><a href="namespacev8_1_1base.html#a1961a4852ced3c23f4d43de6f91d18d6">v8::base::uc16</a></div><div class="ttdeci">uint16_t uc16</div><div class="ttdef"><b>Definition:</b> <a href="strings_8h_source.html#l00018">strings.h:18</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a5bfc65f27076e49eb7752a4fb4d45acb"><div class="ttname"><a href="namespacev8_1_1base.html#a5bfc65f27076e49eb7752a4fb4d45acb">v8::base::VectorOf</a></div><div class="ttdeci">constexpr Vector&lt; T &gt; VectorOf(T *start, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="vector_8h_source.html#l00359">vector.h:359</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_ad03b241da4e98adde3145092fe54be8b"><div class="ttname"><a href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">v8::base::args</a></div><div class="ttdeci">V8_BASE_EXPORT int const char va_list args</div><div class="ttdef"><b>Definition:</b> <a href="strings_8h_source.html#l00023">strings.h:23</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02builtins-string_8cc_03_html_a9d2bfed5d7b62fcad66426927caa8a95"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02builtins-string_8cc_03.html#a9d2bfed5d7b62fcad66426927caa8a95">v8::internal::anonymous_namespace{builtins-string.cc}::kInvalidCodePoint</a></div><div class="ttdeci">static constexpr base::uc32 kInvalidCodePoint</div><div class="ttdef"><b>Definition:</b> <a href="builtins-string_8cc_source.html#l00046">builtins-string.cc:46</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02isolate_8cc_03_html_afcab528259303a389ac8aa3d12b339a1a43517b08d21463aea1323cca40a40c91"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02isolate_8cc_03.html#afcab528259303a389ac8aa3d12b339a1a43517b08d21463aea1323cca40a40c91">v8::internal::anonymous_namespace{isolate.cc}::kInvalid</a></div><div class="ttdeci">@ kInvalid</div><div class="ttdef"><b>Definition:</b> <a href="isolate_8cc_source.html#l03334">isolate.cc:3334</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_html_a63d8eefb47468aa3f816fbe26a59466a"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">v8::internal::anonymous_namespace{json-stringifier.cc}::no_gc</a></div><div class="ttdeci">size_t const DisallowGarbageCollection &amp; no_gc</div><div class="ttdef"><b>Definition:</b> <a href="json-stringifier_8cc_source.html#l00544">json-stringifier.cc:544</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_html_ad86b3cf21e19e97ce484f32b894d548c"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">v8::internal::anonymous_namespace{json-stringifier.cc}::i</a></div><div class="ttdeci">size_t i</div><div class="ttdef"><b>Definition:</b> <a href="json-stringifier_8cc_source.html#l00548">json-stringifier.cc:548</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03_html_a1ef1e4fe4b221522968cae09eedb1698"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a1ef1e4fe4b221522968cae09eedb1698">v8::internal::anonymous_namespace{runtime-wasm.cc}::ThrowTableOutOfBounds</a></div><div class="ttdeci">Tagged&lt; Object &gt; ThrowTableOutOfBounds(Isolate *isolate, DirectHandle&lt; WasmTrustedInstanceData &gt; trusted_instance_data)</div><div class="ttdef"><b>Definition:</b> <a href="runtime-wasm_8cc_source.html#l00832">runtime-wasm.cc:832</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03_html_a244ed2ad6bdf7827d1fc4c42e69dfb2f"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a244ed2ad6bdf7827d1fc4c42e69dfb2f">v8::internal::anonymous_namespace{runtime-wasm.cc}::ExecuteWasmDebugBreaks</a></div><div class="ttdeci">bool ExecuteWasmDebugBreaks(Isolate *isolate, DirectHandle&lt; WasmTrustedInstanceData &gt; trusted_instance_data, WasmFrame *frame)</div><div class="ttdef"><b>Definition:</b> <a href="runtime-wasm_8cc_source.html#l01016">runtime-wasm.cc:1016</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03_html_a2f948163dfe85ae955af951a64d4690a"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a2f948163dfe85ae955af951a64d4690a">v8::internal::anonymous_namespace{runtime-wasm.cc}::HasUnpairedSurrogate</a></div><div class="ttdeci">bool HasUnpairedSurrogate(base::Vector&lt; const base::uc16 &gt; wtf16)</div><div class="ttdef"><b>Definition:</b> <a href="runtime-wasm_8cc_source.html#l01625">runtime-wasm.cc:1625</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03_html_a51ea94027f43d4557e6bf268f730de68"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a51ea94027f43d4557e6bf268f730de68">v8::internal::anonymous_namespace{runtime-wasm.cc}::ThrowWasmError</a></div><div class="ttdeci">Tagged&lt; Object &gt; ThrowWasmError(Isolate *isolate, MessageTemplate message, std::initializer_list&lt; DirectHandle&lt; Object &gt;&gt; args={})</div><div class="ttdef"><b>Definition:</b> <a href="runtime-wasm_8cc_source.html#l00146">runtime-wasm.cc:146</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03_html_a7efab2aa93102558d9e4dfe2bc5dc5d3"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a7efab2aa93102558d9e4dfe2bc5dc5d3">v8::internal::anonymous_namespace{runtime-wasm.cc}::EncodeWtf8</a></div><div class="ttdeci">Tagged&lt; Object &gt; EncodeWtf8(Isolate *isolate, unibrow::Utf8Variant variant, DirectHandle&lt; String &gt; string, GetWritableBytes get_writable_bytes, size_t offset, MessageTemplate out_of_bounds_message)</div><div class="ttdef"><b>Definition:</b> <a href="runtime-wasm_8cc_source.html#l01666">runtime-wasm.cc:1666</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03_html_a91d69493dde3063996c16f6b5e8d7b90"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#a91d69493dde3063996c16f6b5e8d7b90">v8::internal::anonymous_namespace{runtime-wasm.cc}::GetNativeContextFromWasmInstanceOnStackTop</a></div><div class="ttdeci">Tagged&lt; Context &gt; GetNativeContextFromWasmInstanceOnStackTop(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="runtime-wasm_8cc_source.html#l00102">runtime-wasm.cc:102</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03_html_aa44fd5b10a8a98ef975ddebb11d2f6e6"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#aa44fd5b10a8a98ef975ddebb11d2f6e6">v8::internal::anonymous_namespace{runtime-wasm.cc}::MaxEncodedSize</a></div><div class="ttdeci">size_t MaxEncodedSize(base::Vector&lt; const base::uc16 &gt; wtf16)</div><div class="ttdef"><b>Definition:</b> <a href="runtime-wasm_8cc_source.html#l01619">runtime-wasm.cc:1619</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03_html_ac2601d341585c807ae1c41b6cd8de95d"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#ac2601d341585c807ae1c41b6cd8de95d">v8::internal::anonymous_namespace{runtime-wasm.cc}::ReplaceJSToWasmWrapper</a></div><div class="ttdeci">void ReplaceJSToWasmWrapper(Isolate *isolate, Tagged&lt; WasmTrustedInstanceData &gt; trusted_instance_data, int function_index, Tagged&lt; Code &gt; wrapper_code, bool receiver_is_first_param)</div><div class="ttdef"><b>Definition:</b> <a href="runtime-wasm_8cc_source.html#l00553">runtime-wasm.cc:553</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03_html_acb752bcb6f3ce858f98cdc63e936fa2d"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#acb752bcb6f3ce858f98cdc63e936fa2d">v8::internal::anonymous_namespace{runtime-wasm.cc}::MeasureWtf8</a></div><div class="ttdeci">int MeasureWtf8(Isolate *isolate, DirectHandle&lt; String &gt; string)</div><div class="ttdef"><b>Definition:</b> <a href="runtime-wasm_8cc_source.html#l01606">runtime-wasm.cc:1606</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03_html_acf542041241880515a58f3298ce06abe"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#acf542041241880515a58f3298ce06abe">v8::internal::anonymous_namespace{runtime-wasm.cc}::AllocateFeedbackVector</a></div><div class="ttdeci">Tagged&lt; FixedArray &gt; AllocateFeedbackVector(Isolate *isolate, DirectHandle&lt; WasmTrustedInstanceData &gt; trusted_instance_data, int declared_func_index)</div><div class="ttdef"><b>Definition:</b> <a href="runtime-wasm_8cc_source.html#l00460">runtime-wasm.cc:460</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03_html_ae1e6124be30b8dacefdd21adc65e2bb0"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#ae1e6124be30b8dacefdd21adc65e2bb0">v8::internal::anonymous_namespace{runtime-wasm.cc}::ThrowWasmSuspendError</a></div><div class="ttdeci">Tagged&lt; Object &gt; ThrowWasmSuspendError(Isolate *isolate, MessageTemplate message)</div><div class="ttdef"><b>Definition:</b> <a href="runtime-wasm_8cc_source.html#l00165">runtime-wasm.cc:165</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03_html_afffb0fd4e34492a5284b3455ea3fd0b3"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-wasm_8cc_03.html#afffb0fd4e34492a5284b3455ea3fd0b3">v8::internal::anonymous_namespace{runtime-wasm.cc}::GetWasmInstanceDataOnStackTop</a></div><div class="ttdeci">Tagged&lt; WasmTrustedInstanceData &gt; GetWasmInstanceDataOnStackTop(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="runtime-wasm_8cc_source.html#l00087">runtime-wasm.cc:87</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_html_a51dcb90ae077172b12d63271c7e7ba0c"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">v8::internal::compiler::end</a></div><div class="ttdeci">Node::Uses::const_iterator end(const Node::Uses &amp;uses)</div><div class="ttdef"><b>Definition:</b> <a href="node_8h_source.html#l00711">node.h:711</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1tracing_html_a96000282e12b2483531025283d63154d"><div class="ttname"><a href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">v8::internal::tracing::type</a></div><div class="ttdeci">unsigned char * type</div><div class="ttdef"><b>Definition:</b> <a href="tracing_2trace-event_8h_source.html#l00457">trace-event.h:457</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1trap__handler_html_a416bdc70df9a97b7d6c2a91132637c65"><div class="ttname"><a href="namespacev8_1_1internal_1_1trap__handler.html#a416bdc70df9a97b7d6c2a91132637c65">v8::internal::trap_handler::AssertThreadNotInWasm</a></div><div class="ttdeci">void AssertThreadNotInWasm()</div><div class="ttdef"><b>Definition:</b> <a href="trap-handler_8h_source.html#l00220">trap-handler.h:220</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1trap__handler_html_a47f4fc1ba5bf67b48a471d0527c99291"><div class="ttname"><a href="namespacev8_1_1internal_1_1trap__handler.html#a47f4fc1ba5bf67b48a471d0527c99291">v8::internal::trap_handler::IsTrapHandlerEnabled</a></div><div class="ttdeci">bool IsTrapHandlerEnabled()</div><div class="ttdef"><b>Definition:</b> <a href="trap-handler_8h_source.html#l00162">trap-handler.h:162</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1trap__handler_html_a8484fb95ebefa2c70caf3ee69efc1bc6"><div class="ttname"><a href="namespacev8_1_1internal_1_1trap__handler.html#a8484fb95ebefa2c70caf3ee69efc1bc6">v8::internal::trap_handler::SetThreadInWasm</a></div><div class="ttdeci">void SetThreadInWasm()</div><div class="ttdef"><b>Definition:</b> <a href="trap-handler_8h_source.html#l00192">trap-handler.h:192</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1trap__handler_html_adbb427a304f105d0c47308791458438a"><div class="ttname"><a href="namespacev8_1_1internal_1_1trap__handler.html#adbb427a304f105d0c47308791458438a">v8::internal::trap_handler::IsThreadInWasm</a></div><div class="ttdeci">TH_DISABLE_ASAN bool IsThreadInWasm()</div><div class="ttdef"><b>Definition:</b> <a href="trap-handler_8h_source.html#l00190">trap-handler.h:190</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1trap__handler_html_afb718a1f588f90344d3fcda0c2b37eec"><div class="ttname"><a href="namespacev8_1_1internal_1_1trap__handler.html#afb718a1f588f90344d3fcda0c2b37eec">v8::internal::trap_handler::ClearThreadInWasm</a></div><div class="ttdeci">void ClearThreadInWasm()</div><div class="ttdef"><b>Definition:</b> <a href="trap-handler_8h_source.html#l00199">trap-handler.h:199</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a19827f93e7ddd7bfc05feb71b9a55407"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a19827f93e7ddd7bfc05feb71b9a55407">v8::internal::wasm::TierUpNowForTesting</a></div><div class="ttdeci">void TierUpNowForTesting(Isolate *isolate, Tagged&lt; WasmTrustedInstanceData &gt; trusted_instance_data, int func_index)</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l01694">module-compiler.cc:1694</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a36345041662f17bb39d27709c1cb78ac"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a36345041662f17bb39d27709c1cb78ac">v8::internal::wasm::GetWasmImportWrapperCache</a></div><div class="ttdeci">WasmImportWrapperCache * GetWasmImportWrapperCache()</div><div class="ttdef"><b>Definition:</b> <a href="wasm-engine_8cc_source.html#l02135">wasm-engine.cc:2135</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a3e2697d50763bb9f401d4c992e24a074"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a3e2697d50763bb9f401d4c992e24a074">v8::internal::wasm::JSToWasmObject</a></div><div class="ttdeci">MaybeDirectHandle&lt; Object &gt; JSToWasmObject(Isolate *isolate, DirectHandle&lt; Object &gt; value, CanonicalValueType expected, const char **error_message)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l03408">wasm-objects.cc:3408</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a44100d6c17be0db51b00a9f4fdb9d678"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a44100d6c17be0db51b00a9f4fdb9d678">v8::internal::wasm::InitializeElementSegment</a></div><div class="ttdeci">std::optional&lt; MessageTemplate &gt; InitializeElementSegment(Zone *zone, Isolate *isolate, DirectHandle&lt; WasmTrustedInstanceData &gt; trusted_instance_data, DirectHandle&lt; WasmTrustedInstanceData &gt; shared_trusted_instance_data, uint32_t segment_index)</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l03254">module-instantiate.cc:3254</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a5d346308124847f8fc36bfd05b5079a3"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a5d346308124847f8fc36bfd05b5079a3">v8::internal::wasm::TriggerTierUp</a></div><div class="ttdeci">void TriggerTierUp(Isolate *isolate, Tagged&lt; WasmTrustedInstanceData &gt; trusted_instance_data, int func_index)</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l01654">module-compiler.cc:1654</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a5f3afadb8ac8aa1c39b17545c7facf09"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a5f3afadb8ac8aa1c39b17545c7facf09">v8::internal::wasm::kWasmI8</a></div><div class="ttdeci">constexpr IndependentValueType kWasmI8</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01248">value-type.h:1248</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a6a8744656191d24bad76f9c6562d9fdb"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a6a8744656191d24bad76f9c6562d9fdb">v8::internal::wasm::JumpTableOffset</a></div><div class="ttdeci">int JumpTableOffset(const WasmModule *module, int func_index)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8cc_source.html#l00843">wasm-module.cc:843</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a6eef6d24980961199f34fb770039843a"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a6eef6d24980961199f34fb770039843a">v8::internal::wasm::Suspend</a></div><div class="ttdeci">Suspend</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8h_source.html#l00034">module-instantiate.h:34</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a6feb413448e84daf9201bd8a2381a718"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a6feb413448e84daf9201bd8a2381a718">v8::internal::wasm::GetTypeCanonicalizer</a></div><div class="ttdeci">TypeCanonicalizer * GetTypeCanonicalizer()</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8cc_source.html#l00020">canonical-types.cc:20</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a737911f89bb20433e3eb3d67fac6be64"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a737911f89bb20433e3eb3d67fac6be64">v8::internal::wasm::WasmOpcode</a></div><div class="ttdeci">WasmOpcode</div><div class="ttdef"><b>Definition:</b> <a href="wasm-opcodes_8h_source.html#l00955">wasm-opcodes.h:955</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31">v8::internal::wasm::ExecutionTier::kTurbofan</a></div><div class="ttdeci">@ kTurbofan</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a8f515217a2a720fd696212a68a5cd87a"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a8f515217a2a720fd696212a68a5cd87a">v8::internal::wasm::ThrowLazyCompilationError</a></div><div class="ttdeci">void ThrowLazyCompilationError(Isolate *isolate, const NativeModule *native_module, int func_index)</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l01253">module-compiler.cc:1253</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_abd9cf6cdda997dfabf862a6048202195"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#abd9cf6cdda997dfabf862a6048202195">v8::internal::wasm::declared_function_index</a></div><div class="ttdeci">int declared_function_index(const WasmModule *module, int func_index)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l01076">wasm-module.h:1076</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ac0c0d417be648d20ef96581e5d3bd63a"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63a">v8::internal::wasm::ImportCallKind</a></div><div class="ttdeci">ImportCallKind</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8h_source.html#l00043">module-instantiate.h:43</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ac0c0d417be648d20ef96581e5d3bd63aa2c181723941144749e409c197a8d87d1"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63aa2c181723941144749e409c197a8d87d1">v8::internal::wasm::ImportCallKind::kJSFunction</a></div><div class="ttdeci">@ kJSFunction</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ac0c0d417be648d20ef96581e5d3bd63aa5411029decc6201a8ac468e9bb7fadbb"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63aa5411029decc6201a8ac468e9bb7fadbb">v8::internal::wasm::ImportCallKind::kLinkError</a></div><div class="ttdeci">@ kLinkError</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ac0c0d417be648d20ef96581e5d3bd63aa5427d5490900477a371648688dfbb95b"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63aa5427d5490900477a371648688dfbb95b">v8::internal::wasm::ImportCallKind::kUseCallBuiltin</a></div><div class="ttdeci">@ kUseCallBuiltin</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_acb10c8534fdb3edc15e3f45d7ee6d547a841c234519f90eb88be0020af3622a4d"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#acb10c8534fdb3edc15e3f45d7ee6d547a841c234519f90eb88be0020af3622a4d">v8::internal::wasm::kExternalFunction</a></div><div class="ttdeci">@ kExternalFunction</div><div class="ttdef"><b>Definition:</b> <a href="wasm-constants_8h_source.html#l00079">wasm-constants.h:79</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ad39cf555e73abbf7233ee2029b74ff7d"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ad39cf555e73abbf7233ee2029b74ff7d">v8::internal::wasm::kV8MaxWasmTableSize</a></div><div class="ttdeci">constexpr size_t kV8MaxWasmTableSize</div><div class="ttdef"><b>Definition:</b> <a href="wasm-limits_8h_source.html#l00058">wasm-limits.h:58</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ae45db4269c4a761b277944e582743921ad77fcb77da3dc9a391cbdfd264f8d7d9"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ae45db4269c4a761b277944e582743921ad77fcb77da3dc9a391cbdfd264f8d7d9">v8::internal::wasm::RefTypeKind::kFunction</a></div><div class="ttdeci">@ kFunction</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ae6d585ed290228dcb294f9823c52ae41"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ae6d585ed290228dcb294f9823c52ae41">v8::internal::wasm::kV8MaxWasmStringLiterals</a></div><div class="ttdeci">constexpr size_t kV8MaxWasmStringLiterals</div><div class="ttdef"><b>Definition:</b> <a href="wasm-limits_8h_source.html#l00069">wasm-limits.h:69</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_af31b723a78f2635ba90e52bce073f16d"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#af31b723a78f2635ba90e52bce073f16d">v8::internal::wasm::NumFeedbackSlots</a></div><div class="ttdeci">int NumFeedbackSlots(const WasmModule *module, int func_index)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8cc_source.html#l00854">wasm-module.cc:854</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_afa7a500801a38cc98469c31192f78468"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#afa7a500801a38cc98469c31192f78468">v8::internal::wasm::CompileLazy</a></div><div class="ttdeci">bool CompileLazy(Isolate *isolate, Tagged&lt; WasmTrustedInstanceData &gt; trusted_instance_data, int func_index)</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l01183">module-compiler.cc:1183</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_afaaaa7fd7a0bc697a4d91133566c5c6ea4a2d15530df7ed8fe7a35b02d47fff24"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#afaaaa7fd7a0bc697a4d91133566c5c6ea4a2d15530df7ed8fe7a35b02d47fff24">v8::internal::wasm::WellKnownImport::kUninstantiated</a></div><div class="ttdeci">@ kUninstantiated</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html"><div class="ttname"><a href="namespacev8_1_1internal.html">v8::internal</a></div><div class="ttdef"><b>Definition:</b> <a href="api-arguments-inl_8h_source.html#l00020">api-arguments-inl.h:20</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a06038be79801c83c9435e8bf23f20de0"><div class="ttname"><a href="namespacev8_1_1internal.html#a06038be79801c83c9435e8bf23f20de0">v8::internal::MessageTemplateFromInt</a></div><div class="ttdeci">MessageTemplate MessageTemplateFromInt(int message_id)</div><div class="ttdef"><b>Definition:</b> <a href="message-template_8h_source.html#l00775">message-template.h:775</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a0cfab207d565dcf62ebf50f3987e05de"><div class="ttname"><a href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">v8::internal::index</a></div><div class="ttdeci">int index</div><div class="ttdef"><b>Definition:</b> <a href="heap-snapshot-generator_8cc_source.html#l01698">heap-snapshot-generator.cc:1698</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a18376a5f1f890174b48ed0d1c803569a"><div class="ttname"><a href="namespacev8_1_1internal.html#a18376a5f1f890174b48ed0d1c803569a">v8::internal::StepAction</a></div><div class="ttdeci">StepAction</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00037">debug.h:37</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a1c7888272df599e45fcab531e38f9523"><div class="ttname"><a href="namespacev8_1_1internal.html#a1c7888272df599e45fcab531e38f9523">v8::internal::MessageTemplate</a></div><div class="ttdeci">MessageTemplate</div><div class="ttdef"><b>Definition:</b> <a href="message-template_8h_source.html#l00768">message-template.h:768</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a20c66a96ddfae551866ceae989a8ba13a936c581afe29bbe04ab84d8ae4c6267d"><div class="ttname"><a href="namespacev8_1_1internal.html#a20c66a96ddfae551866ceae989a8ba13a936c581afe29bbe04ab84d8ae4c6267d">v8::internal::UPDATE_WRITE_BARRIER</a></div><div class="ttdeci">@ UPDATE_WRITE_BARRIER</div><div class="ttdef"><b>Definition:</b> <a href="objects_8h_source.html#l00056">objects.h:55</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a2aebb1376bec4577a02698bacf76fbf4"><div class="ttname"><a href="namespacev8_1_1internal.html#a2aebb1376bec4577a02698bacf76fbf4">v8::internal::MakeStrong</a></div><div class="ttdeci">Tagged&lt; T &gt; MakeStrong(Tagged&lt; T &gt; value)</div><div class="ttdef"><b>Definition:</b> <a href="tagged_8h_source.html#l00903">tagged.h:903</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a33a2826557a82e4cd9775aadf0f5711e"><div class="ttname"><a href="namespacev8_1_1internal.html#a33a2826557a82e4cd9775aadf0f5711e">v8::internal::IsNumber</a></div><div class="ttdeci">bool IsNumber(Tagged&lt; Object &gt; obj)</div><div class="ttdef"><b>Definition:</b> <a href="objects-inl_8h_source.html#l00488">objects-inl.h:488</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a3430752cde9f29d73e97ceed1bce0856"><div class="ttname"><a href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">v8::internal::PrintF</a></div><div class="ttdeci">void PrintF(const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="utils_2utils_8cc_source.html#l00039">utils.cc:39</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370"><div class="ttname"><a href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370">v8::internal::NONE</a></div><div class="ttdeci">@ NONE</div><div class="ttdef"><b>Definition:</b> <a href="property-details_8h_source.html#l00019">property-details.h:19</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5031451934208565c827c86d9eb86c5a"><div class="ttname"><a href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">v8::internal::internal</a></div><div class="ttdeci">internal</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects-inl_8h_source.html#l00453">wasm-objects-inl.h:453</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a538499d2a66bf6e9d3182a57104edec9"><div class="ttname"><a href="namespacev8_1_1internal.html#a538499d2a66bf6e9d3182a57104edec9">v8::internal::UNIMPLEMENTED</a></div><div class="ttdeci">UNIMPLEMENTED()</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5571bf7a3fbdb542683ee282eefb035c"><div class="ttname"><a href="namespacev8_1_1internal.html#a5571bf7a3fbdb542683ee282eefb035c">v8::internal::ToString</a></div><div class="ttdeci">constexpr const char * ToString(DeoptimizeKind kind)</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00872">globals.h:872</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a6135f0ef57de8d381e3225f6659c617a"><div class="ttname"><a href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">v8::internal::sig</a></div><div class="ttdeci">kWasmInternalFunctionIndirectPointerTag kProtectedInstanceDataOffset sig</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects-inl_8h_source.html#l00471">wasm-objects-inl.h:471</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a73502f55102d18cb764881bc29f35c05"><div class="ttname"><a href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">v8::internal::direct_handle</a></div><div class="ttdeci">DirectHandle&lt; T &gt; direct_handle(Tagged&lt; T &gt; object, Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="handles-inl_8h_source.html#l00143">handles-inl.h:143</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a7d9a6377d2996578ec1e725079f12ee0"><div class="ttname"><a href="namespacev8_1_1internal.html#a7d9a6377d2996578ec1e725079f12ee0">v8::internal::MemMove</a></div><div class="ttdeci">V8_EXPORT_PRIVATE void MemMove(void *dest, const void *src, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="memcopy_8h_source.html#l00189">memcopy.h:189</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a865a15a94b3a103f2ae7c10f1324f304"><div class="ttname"><a href="namespacev8_1_1internal.html#a865a15a94b3a103f2ae7c10f1324f304">v8::internal::NumberToUint32</a></div><div class="ttdeci">uint32_t NumberToUint32(Tagged&lt; Object &gt; number)</div><div class="ttdef"><b>Definition:</b> <a href="conversions-inl_8h_source.html#l00249">conversions-inl.h:249</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a8f683541d0ab1913ee0ea680c088bbab"><div class="ttname"><a href="namespacev8_1_1internal.html#a8f683541d0ab1913ee0ea680c088bbab">v8::internal::NumberToInt32</a></div><div class="ttdeci">int32_t NumberToInt32(Tagged&lt; Object &gt; number)</div><div class="ttdef"><b>Definition:</b> <a href="conversions-inl_8h_source.html#l00244">conversions-inl.h:244</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a94c4a6c4ad3993b5e0e43bc2191c084b"><div class="ttname"><a href="namespacev8_1_1internal.html#a94c4a6c4ad3993b5e0e43bc2191c084b">v8::internal::Cast</a></div><div class="ttdeci">requires HasCastImplementation&lt; Holder, To, From &gt; Holder&lt; To &gt; Cast(Holder&lt; From &gt; value, const v8::SourceLocation &amp;loc=INIT_SOURCE_LOCATION_IN_DEBUG)</div><div class="ttdef"><b>Definition:</b> <a href="casting_8h_source.html#l00122">casting.h:122</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a97a2bf2e1b8fac6ada79dd7ec47ffcfe"><div class="ttname"><a href="namespacev8_1_1internal.html#a97a2bf2e1b8fac6ada79dd7ec47ffcfe">v8::internal::CopyChars</a></div><div class="ttdeci">void CopyChars(DstType *dst, const SrcType *src, size_t count) V8_NONNULL(1</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa60011c225876a22aaff07bb57b05b46"><div class="ttname"><a href="namespacev8_1_1internal.html#aa60011c225876a22aaff07bb57b05b46">v8::internal::kSmiValueSize</a></div><div class="ttdeci">const int kSmiValueSize</div><div class="ttdef"><b>Definition:</b> <a href="v8-internal_8h_source.html#l00205">v8-internal.h:205</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa6b3743bd5d773c552654f2a6c3efa4a"><div class="ttname"><a href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK</a></div><div class="ttdeci">DCHECK(IsNull(value)||IsNativeContext(value)||value==Smi::uninitialized_deserialization_value())</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa9db791c05a0359859a321dcfec42e37"><div class="ttname"><a href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a></div><div class="ttdeci">V8_EXPORT_PRIVATE FlagValues v8_flags</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aaf5b0233c8e9bc00c2dd924e6e652187"><div class="ttname"><a href="namespacev8_1_1internal.html#aaf5b0233c8e9bc00c2dd924e6e652187">v8::internal::ToUtf8Lossy</a></div><div class="ttdeci">void ToUtf8Lossy(Isolate *isolate, DirectHandle&lt; String &gt; string, std::string &amp;out)</div><div class="ttdef"><b>Definition:</b> <a href="runtime-wasm_8cc_source.html#l01693">runtime-wasm.cc:1693</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ac1a33b5fd9af1653d346746cdb5c1ac0"><div class="ttname"><a href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">v8::internal::value</a></div><div class="ttdeci">return value</div><div class="ttdef"><b>Definition:</b> <a href="map-inl_8h_source.html#l00912">map-inl.h:912</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ac1c4f39f9639371d5fc85cab896d4d86"><div class="ttname"><a href="namespacev8_1_1internal.html#ac1c4f39f9639371d5fc85cab896d4d86">v8::internal::kSmiMaxValue</a></div><div class="ttdeci">const int kSmiMaxValue</div><div class="ttdef"><b>Definition:</b> <a href="v8-internal_8h_source.html#l00207">v8-internal.h:207</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ac299e59759eecb4621f6bad64d5db952"><div class="ttname"><a href="namespacev8_1_1internal.html#ac299e59759eecb4621f6bad64d5db952">v8::internal::IsSmi</a></div><div class="ttdeci">constexpr bool IsSmi(TaggedImpl&lt; kRefType, StorageType &gt; obj)</div><div class="ttdef"><b>Definition:</b> <a href="objects_8h_source.html#l00666">objects.h:666</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_acd10a3519c540121d30308892e89a261"><div class="ttname"><a href="namespacev8_1_1internal.html#acd10a3519c540121d30308892e89a261">v8::internal::UnionOf</a></div><div class="ttdeci">typename detail::FlattenUnionHelper&lt; Union&lt;&gt;, Ts... &gt;::type UnionOf</div><div class="ttdef"><b>Definition:</b> <a href="union_8h_source.html#l00123">union.h:123</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_acdec713c25068019f935e35976f5b666"><div class="ttname"><a href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">v8::internal::UNREACHABLE</a></div><div class="ttdeci">UNREACHABLE()</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_acf6bafb5b8483a580f375393c413ee02"><div class="ttname"><a href="namespacev8_1_1internal.html#acf6bafb5b8483a580f375393c413ee02">v8::internal::kNullAddress</a></div><div class="ttdeci">static constexpr Address kNullAddress</div><div class="ttdef"><b>Definition:</b> <a href="v8-internal_8h_source.html#l00053">v8-internal.h:53</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ad03e50e4d15ee0da6a722254f350e7eb"><div class="ttname"><a href="namespacev8_1_1internal.html#ad03e50e4d15ee0da6a722254f350e7eb">v8::internal::kMaxInt</a></div><div class="ttdeci">constexpr int kMaxInt</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00375">globals.h:375</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ae0ee98c9174e5955450c56da22cb8f6a"><div class="ttname"><a href="namespacev8_1_1internal.html#ae0ee98c9174e5955450c56da22cb8f6a">v8::internal::MemCopy</a></div><div class="ttdeci">void MemCopy(void *dest, const void *src, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="memcopy_8h_source.html#l00124">memcopy.h:124</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ae5e657aba90e2d28950f7c96453e9736"><div class="ttname"><a href="namespacev8_1_1internal.html#ae5e657aba90e2d28950f7c96453e9736">v8::internal::Tagged&lt; Smi &gt;</a></div><div class="ttdeci">Tagged&lt; Smi &gt;</div><div class="ttdef"><b>Definition:</b> <a href="property-cell-inl_8h_source.html#l00028">property-cell-inl.h:28</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ae75d11acda82500b70596f51e8c6af97"><div class="ttname"><a href="namespacev8_1_1internal.html#ae75d11acda82500b70596f51e8c6af97">v8::internal::RUNTIME_FUNCTION</a></div><div class="ttdeci">RUNTIME_FUNCTION(Runtime_LoadIC_Miss)</div><div class="ttdef"><b>Definition:</b> <a href="ic_8cc_source.html#l02800">ic.cc:2800</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ae9b3d70a0b2f7c3c669d187fd9a9dae2"><div class="ttname"><a href="namespacev8_1_1internal.html#ae9b3d70a0b2f7c3c669d187fd9a9dae2">v8::internal::kMaxUInt32</a></div><div class="ttdeci">constexpr uint32_t kMaxUInt32</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00388">globals.h:388</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_af68b330f02476361ab10f531933b3381"><div class="ttname"><a href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">v8::internal::string</a></div><div class="ttdeci">template const char * string</div><div class="ttdef"><b>Definition:</b> <a href="conversions_8cc_source.html#l01119">conversions.cc:1119</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_afa9ea55d792121fba92b4cfc8ef8c9d7"><div class="ttname"><a href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">v8::internal::length</a></div><div class="ttdeci">size_t length</div><div class="ttdef"><b>Definition:</b> <a href="external-reference_8cc_source.html#l01508">external-reference.cc:1508</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_afb7e5cd394b9632dddc2e7807b11b2ab"><div class="ttname"><a href="namespacev8_1_1internal.html#afb7e5cd394b9632dddc2e7807b11b2ab">v8::internal::script</a></div><div class="ttdeci">kInterpreterTrampolineOffset script</div><div class="ttdef"><b>Definition:</b> <a href="shared-function-info-inl_8h_source.html#l00117">shared-function-info-inl.h:117</a></div></div>
<div class="ttc" id="aobjects-inl_8h_html"><div class="ttname"><a href="objects-inl_8h.html">objects-inl.h</a></div></div>
<div class="ttc" id="aruntime-utils_8h_html"><div class="ttname"><a href="runtime-utils_8h.html">runtime-utils.h</a></div></div>
<div class="ttc" id="aruntime-wasm_8cc_html_a16cae18dd347391aab4a875304db1357"><div class="ttname"><a href="runtime-wasm_8cc.html#a16cae18dd347391aab4a875304db1357">RETURN_RESULT_OR_TRAP</a></div><div class="ttdeci">#define RETURN_RESULT_OR_TRAP(call)</div><div class="ttdef"><b>Definition:</b> <a href="runtime-wasm_8cc_source.html#l01366">runtime-wasm.cc:1366</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a16b382527f19b805fc8f856668f2270b"><div class="ttname"><a href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a></div><div class="ttdeci">#define DCHECK_LE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00489">logging.h:489</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a3e1cfef60e774a81f30eaddf26a3a274"><div class="ttname"><a href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a></div><div class="ttdeci">#define CHECK(condition)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00124">logging.h:124</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a7b9f9517fedacc2a1a56c2bbb9d03688"><div class="ttname"><a href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a></div><div class="ttdeci">#define DCHECK_NOT_NULL(val)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00491">logging.h:491</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a986dc8f4ec6dcd0644efe205c13f8eb7"><div class="ttname"><a href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a></div><div class="ttdeci">#define DCHECK_NE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00485">logging.h:485</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_af1a711c8d5520dff78858ddefd2ad668"><div class="ttname"><a href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a></div><div class="ttdeci">#define DCHECK_LT(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00488">logging.h:488</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_af9c313d74155f7f201955a939e24c71f"><div class="ttname"><a href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a></div><div class="ttdeci">#define DCHECK_EQ(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00484">logging.h:484</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_afd957f297df7e9ee36c46185e961485f"><div class="ttname"><a href="src_2base_2logging_8h.html#afd957f297df7e9ee36c46185e961485f">DCHECK_GT</a></div><div class="ttdeci">#define DCHECK_GT(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00486">logging.h:486</a></div></div>
<div class="ttc" id="asrc_2base_2macros_8h_html_a280b0798f270f4b3f361c9ab64832956"><div class="ttname"><a href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a></div><div class="ttdeci">#define USE(...)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2macros_8h_source.html#l00293">macros.h:293</a></div></div>
<div class="ttc" id="asrc_2base_2macros_8h_html_ac55fdd6aa61539c49b1b1f5d38a0ed73"><div class="ttname"><a href="src_2base_2macros_8h.html#ac55fdd6aa61539c49b1b1f5d38a0ed73">arraysize</a></div><div class="ttdeci">#define arraysize(array)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2macros_8h_source.html#l00067">macros.h:67</a></div></div>
<div class="ttc" id="astructunibrow_1_1Utf8_1_1EncodingResult_html"><div class="ttname"><a href="structunibrow_1_1Utf8_1_1EncodingResult.html">unibrow::Utf8::EncodingResult</a></div><div class="ttdef"><b>Definition:</b> <a href="unicode_8h_source.html#l00216">unicode.h:216</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1FrameSummaries_html"><div class="ttname"><a href="structv8_1_1internal_1_1FrameSummaries.html">v8::internal::FrameSummaries</a></div><div class="ttdef"><b>Definition:</b> <a href="frames_8h_source.html#l00627">frames.h:627</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1FrameSummaries_html_a1dde977c4de716cba259a65887f4eeb9"><div class="ttname"><a href="structv8_1_1internal_1_1FrameSummaries.html#a1dde977c4de716cba259a65887f4eeb9">v8::internal::FrameSummaries::frames</a></div><div class="ttdeci">std::vector&lt; FrameSummary &gt; frames</div><div class="ttdef"><b>Definition:</b> <a href="frames_8h_source.html#l00628">frames.h:628</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1count_html"><div class="ttname"><a href="structv8_1_1internal_1_1count.html">v8::internal::count</a></div><div class="ttdef"><b>Definition:</b> <a href="v8-fast-api-calls_8h_source.html#l00511">v8-fast-api-calls.h:511</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex_html"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">v8::internal::wasm::CanonicalTypeIndex</a></div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l00082">value-type.h:82</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1Decoder_1_1NoValidationTag_html"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1Decoder_1_1NoValidationTag.html">v8::internal::wasm::Decoder::NoValidationTag</a></div><div class="ttdef"><b>Definition:</b> <a href="decoder_8h_source.html#l00091">decoder.h:91</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1JumpBuffer_html_a7bcdc800f396bb3702af29a385c60b38"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1JumpBuffer.html#a7bcdc800f396bb3702af29a385c60b38">v8::internal::wasm::JumpBuffer::state</a></div><div class="ttdeci">StackState state</div><div class="ttdef"><b>Definition:</b> <a href="stacks_8h_source.html#l00053">stacks.h:53</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1JumpBuffer_html_a96a8015d1cbbe6fb7fb422de9e486919"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1JumpBuffer.html#a96a8015d1cbbe6fb7fb422de9e486919">v8::internal::wasm::JumpBuffer::stack_limit</a></div><div class="ttdeci">void * stack_limit</div><div class="ttdef"><b>Definition:</b> <a href="stacks_8h_source.html#l00032">stacks.h:32</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1JumpBuffer_html_ae01815403be2efcd294f92390cd01fc2a248937f7ccfca3a009e442bb6e9966a8"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1JumpBuffer.html#ae01815403be2efcd294f92390cd01fc2a248937f7ccfca3a009e442bb6e9966a8">v8::internal::wasm::JumpBuffer::Active</a></div><div class="ttdeci">@ Active</div><div class="ttdef"><b>Definition:</b> <a href="stacks_8h_source.html#l00046">stacks.h:46</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1JumpBuffer_html_ae01815403be2efcd294f92390cd01fc2ab1fdbd3b766b6d92d216f957c81910f5"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1JumpBuffer.html#ae01815403be2efcd294f92390cd01fc2ab1fdbd3b766b6d92d216f957c81910f5">v8::internal::wasm::JumpBuffer::Inactive</a></div><div class="ttdeci">@ Inactive</div><div class="ttdef"><b>Definition:</b> <a href="stacks_8h_source.html#l00049">stacks.h:49</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1JumpBuffer_html_ae01815403be2efcd294f92390cd01fc2af4817a544c6b44e9a59d44b6e2a50ff5"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1JumpBuffer.html#ae01815403be2efcd294f92390cd01fc2af4817a544c6b44e9a59d44b6e2a50ff5">v8::internal::wasm::JumpBuffer::Suspended</a></div><div class="ttdeci">@ Suspended</div><div class="ttdef"><b>Definition:</b> <a href="stacks_8h_source.html#l00048">stacks.h:48</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1ModuleTypeIndex_html"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1ModuleTypeIndex.html">v8::internal::wasm::ModuleTypeIndex</a></div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l00064">value-type.h:64</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1TypeIndex_html_ad0355b4f2bc1bc8a489e4d01da40067b"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1TypeIndex.html#ad0355b4f2bc1bc8a489e4d01da40067b">v8::internal::wasm::TypeIndex::index</a></div><div class="ttdeci">uint32_t index</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l00053">value-type.h:53</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmElemSegment_html"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmElemSegment.html">v8::internal::wasm::WasmElemSegment</a></div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00199">wasm-module.h:199</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmElemSegment_html_ac64232dd735e4721a8de2a8331da090c"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmElemSegment.html#ac64232dd735e4721a8de2a8331da090c">v8::internal::wasm::WasmElemSegment::element_count</a></div><div class="ttdeci">uint32_t element_count</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00256">wasm-module.h:256</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmExport_html"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmExport.html">v8::internal::wasm::WasmExport</a></div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00269">wasm-module.h:269</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmFunction_html"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmFunction.html">v8::internal::wasm::WasmFunction</a></div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00081">wasm-module.h:81</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmFunction_html_a27c9b60862536d6bd685a1fb750bec1f"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmFunction.html#a27c9b60862536d6bd685a1fb750bec1f">v8::internal::wasm::WasmFunction::sig_index</a></div><div class="ttdeci">ModuleTypeIndex sig_index</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00084">wasm-module.h:84</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html">v8::internal::wasm::WasmModule</a></div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00666">wasm-module.h:666</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_a4dbe8d13d75f2c6c4a8f6e19fdb5eca1"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a4dbe8d13d75f2c6c4a8f6e19fdb5eca1">v8::internal::wasm::WasmModule::export_table</a></div><div class="ttdeci">std::vector&lt; WasmExport &gt; export_table</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00720">wasm-module.h:720</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_a79b743888793de4a17ae53dd93988de6"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a79b743888793de4a17ae53dd93988de6">v8::internal::wasm::WasmModule::functions</a></div><div class="ttdeci">std::vector&lt; WasmFunction &gt; functions</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00714">wasm-module.h:714</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_a80ed14bf76cb65cc93c6c9ba1b56f75c"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a80ed14bf76cb65cc93c6c9ba1b56f75c">v8::internal::wasm::WasmModule::canonical_sig_id</a></div><div class="ttdeci">CanonicalTypeIndex canonical_sig_id(ModuleTypeIndex index) const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00850">wasm-module.h:850</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_a81b4b2b056e744758f875acafe4c909a"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a81b4b2b056e744758f875acafe4c909a">v8::internal::wasm::WasmModule::num_imported_functions</a></div><div class="ttdeci">uint32_t num_imported_functions</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00681">wasm-module.h:681</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmStringRefLiteral_html"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmStringRefLiteral.html">v8::internal::wasm::WasmStringRefLiteral</a></div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00171">wasm-module.h:171</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmStringRefLiteral_html_a40405c412776a37125d9a2c33454f0e1"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmStringRefLiteral.html#a40405c412776a37125d9a2c33454f0e1">v8::internal::wasm::WasmStringRefLiteral::source</a></div><div class="ttdeci">WireBytesRef source</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00173">wasm-module.h:173</a></div></div>
<div class="ttc" id="atrace-event-no-perfetto_8h_html_ac437f27e15925a9bd53c69692a6c85fe"><div class="ttname"><a href="trace-event-no-perfetto_8h.html#ac437f27e15925a9bd53c69692a6c85fe">TRACE_EVENT1</a></div><div class="ttdeci">#define TRACE_EVENT1(category_group, name, arg1_name, arg1_val)</div><div class="ttdef"><b>Definition:</b> <a href="trace-event-no-perfetto_8h_source.html#l00037">trace-event-no-perfetto.h:37</a></div></div>
<div class="ttc" id="atrap-handler_8h_html"><div class="ttname"><a href="trap-handler_8h.html">trap-handler.h</a></div></div>
<div class="ttc" id="aunicode-inl_8h_html"><div class="ttname"><a href="unicode-inl_8h.html">unicode-inl.h</a></div></div>
<div class="ttc" id="av8config_8h_html_a24a5c8b6c341efc8dc6de3e6d0d73a50"><div class="ttname"><a href="v8config_8h.html#a24a5c8b6c341efc8dc6de3e6d0d73a50">V8_INLINE</a></div><div class="ttdeci">#define V8_INLINE</div><div class="ttdef"><b>Definition:</b> <a href="v8config_8h_source.html#l00500">v8config.h:500</a></div></div>
<div class="ttc" id="av8config_8h_html_a67bd29db07c711b0fb11ff1c324ebb60"><div class="ttname"><a href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a></div><div class="ttdeci">#define V8_UNLIKELY(condition)</div><div class="ttdef"><b>Definition:</b> <a href="v8config_8h_source.html#l00660">v8config.h:660</a></div></div>
<div class="ttc" id="av8config_8h_html_ae5350bf5d731891583a34f9c8c52b532"><div class="ttname"><a href="v8config_8h.html#ae5350bf5d731891583a34f9c8c52b532">V8_NODISCARD</a></div><div class="ttdeci">#define V8_NODISCARD</div><div class="ttdef"><b>Definition:</b> <a href="v8config_8h_source.html#l00693">v8config.h:693</a></div></div>
<div class="ttc" id="avalue-type_8h_html"><div class="ttname"><a href="value-type_8h.html">value-type.h</a></div></div>
<div class="ttc" id="awasm-code-manager_8h_html"><div class="ttname"><a href="wasm-code-manager_8h.html">wasm-code-manager.h</a></div></div>
<div class="ttc" id="awasm-compiler_8h_html"><div class="ttname"><a href="wasm-compiler_8h.html">wasm-compiler.h</a></div></div>
<div class="ttc" id="awasm-constants_8h_html"><div class="ttname"><a href="wasm-constants_8h.html">wasm-constants.h</a></div></div>
<div class="ttc" id="awasm-debug_8h_html"><div class="ttname"><a href="wasm-debug_8h.html">wasm-debug.h</a></div></div>
<div class="ttc" id="awasm-engine_8h_html"><div class="ttname"><a href="wasm-engine_8h.html">wasm-engine.h</a></div></div>
<div class="ttc" id="awasm-export-wrapper-cache_8h_html"><div class="ttname"><a href="wasm-export-wrapper-cache_8h.html">wasm-export-wrapper-cache.h</a></div></div>
<div class="ttc" id="awasm-interpreter_8h_html"><div class="ttname"><a href="wasm-interpreter_8h.html">wasm-interpreter.h</a></div></div>
<div class="ttc" id="awasm-objects_8h_html"><div class="ttname"><a href="wasm-objects_8h.html">wasm-objects.h</a></div></div>
<div class="ttc" id="awasm-opcodes-inl_8h_html"><div class="ttname"><a href="wasm-opcodes-inl_8h.html">wasm-opcodes-inl.h</a></div></div>
<div class="ttc" id="awasm-subtyping_8h_html"><div class="ttname"><a href="wasm-subtyping_8h.html">wasm-subtyping.h</a></div></div>
<div class="ttc" id="awasm-value_8h_html"><div class="ttname"><a href="wasm-value_8h.html">wasm-value.h</a></div></div>
<div class="ttc" id="azone_8h_html_a6b1fd0a126df3f1b788cee19d9cce66e"><div class="ttname"><a href="zone_8h.html#a6b1fd0a126df3f1b788cee19d9cce66e">ZONE_NAME</a></div><div class="ttdeci">#define ZONE_NAME</div><div class="ttdef"><b>Definition:</b> <a href="zone_8h_source.html#l00022">zone.h:22</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_19225156eb7ba052e31d1a736469917a.html">mnt</a></li><li class="navelem"><a class="el" href="dir_3536f6d353061322e9ef91134b76e9ed.html">V8SourceCode</a></li><li class="navelem"><a class="el" href="dir_fbd53c45610d490c9fb8d0716db4e3a3.html">src</a></li><li class="navelem"><a class="el" href="dir_89252b2386086db16aaa09824bf9f4bf.html">runtime</a></li><li class="navelem"><a class="el" href="runtime-wasm_8cc.html">runtime-wasm.cc</a></li>
    <li class="footer">Generated on Thu Jun 12 2025 16:00:23 for V8 Project by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
