<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>V8 Project: /mnt/V8SourceCode/src/wasm/canonical-types.cc Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">V8 Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('canonical-types_8cc_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">canonical-types.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="canonical-types_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright 2022 the V8 project authors. All rights reserved.</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// Use of this source code is governed by a BSD-style license that can be</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// found in the LICENSE file.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160; </div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="canonical-types_8h.html">src/wasm/canonical-types.h</a>&quot;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160; </div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="hashing_8h.html">src/base/hashing.h</a>&quot;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="execution_2isolate_8h.html">src/execution/isolate.h</a>&quot;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="handles-inl_8h.html">src/handles/handles-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="heap-inl_8h.html">src/heap/heap-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="src_2init_2v8_8h.html">src/init/v8.h</a>&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="roots-inl_8h.html">src/roots/roots-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="utils_2utils_8h.html">src/utils/utils.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="names-provider_8h.html">src/wasm/names-provider.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="std-object-sizes_8h.html">src/wasm/std-object-sizes.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wasm-engine_8h.html">src/wasm/wasm-engine.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160; </div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacev8_1_1internal_1_1wasm.html">v8::internal::wasm</a> {</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160; </div>
<div class="line"><a name="l00020"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1wasm.html#a6feb413448e84daf9201bd8a2381a718">   20</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html">TypeCanonicalizer</a>* <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a6feb413448e84daf9201bd8a2381a718">GetTypeCanonicalizer</a>() {</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#abc12fc3b25ebfb54c20b8479642acb94">GetWasmEngine</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#a82694f241e35d38f8f882c255e49e743">type_canonicalizer</a>();</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;}</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160; </div>
<div class="line"><a name="l00024"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a1f5ddac4a8cadf027727cee7667998c2">   24</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a1f5ddac4a8cadf027727cee7667998c2">TypeCanonicalizer::TypeCanonicalizer</a>() { <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a2fb60486cd0aed07cb8869e6592a88b6">AddPredefinedArrayTypes</a>(); }</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160; </div>
<div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a75093fd01ebd31560f36d84cb7b97039">   26</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a75093fd01ebd31560f36d84cb7b97039">TypeCanonicalizer::CheckMaxCanonicalIndex</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#ad5a86ad83551b42b1cad8673274c7405">canonical_supertypes_</a>.size() &gt; <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a2e079999502e577b181583a71bb096ef">kMaxCanonicalTypes</a>)) {</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <a class="code" href="classv8_1_1internal_1_1V8.html#a977b087d4ee58955efe72b33136a4e94">V8::FatalProcessOutOfMemory</a>(<span class="keyword">nullptr</span>, <span class="stringliteral">&quot;too many canonicalized types&quot;</span>);</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;  }</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;}</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160; </div>
<div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aa7d63877150be29e04f49d189ea88c99">   32</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aa7d63877150be29e04f49d189ea88c99">TypeCanonicalizer::AddRecursiveGroup</a>(<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html">WasmModule</a>* module, uint32_t <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> == 0) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  <span class="comment">// If the caller knows statically that {size == 1}, it should have called</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  <span class="comment">// {AddRecursiveSingletonGroup} directly. For cases where this is not</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <span class="comment">// statically determined we add this dispatch here.</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> == 1) <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a0e1c188ba08c9392d57ba0b6326794f4">AddRecursiveSingletonGroup</a>(module);</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160; </div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  uint32_t start_index = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(module-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a0e40d6e8dc4725dfce209c234005dbf6">types</a>.size() - <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160; </div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  <span class="comment">// Multiple threads could try to register recursive groups concurrently.</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  <span class="comment">// TODO(manoskouk): Investigate if we can fine-grain the synchronization.</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> mutex_guard(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a87bde3bd162681f63587666ca94e126f">mutex_</a>);</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  <span class="comment">// Compute the first canonical index in the recgroup in the case that it does</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <span class="comment">// not already exist.</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <a class="code" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">CanonicalTypeIndex</a> first_new_canonical_index{</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;      <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#ad5a86ad83551b42b1cad8673274c7405">canonical_supertypes_</a>.size())};</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; </div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <span class="comment">// Create a snapshot of the zone; this will be restored in case we find a</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <span class="comment">// matching recursion group.</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <a class="code" href="classv8_1_1internal_1_1ZoneSnapshot.html">ZoneSnapshot</a> zone_snapshot = <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a5d1d7c7db28b1dfbd0cb2a612e216426">zone_</a>.<a class="code" href="classv8_1_1internal_1_1Zone.html#a0363b4eed8096f39c7ae4e1fe8c228e3">Snapshot</a>();</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160; </div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a>(module-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a0e40d6e8dc4725dfce209c234005dbf6">types</a>.size(), start_index + <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalGroup.html">CanonicalGroup</a> group{&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a5d1d7c7db28b1dfbd0cb2a612e216426">zone_</a>, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, first_new_canonical_index};</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <span class="keywordflow">for</span> (uint32_t <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    group.types[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a3d1ed1b02600dbd46319efee7a8e6826">CanonicalizeTypeDef</a>(</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        module, <a class="code" href="structv8_1_1internal_1_1wasm_1_1ModuleTypeIndex.html">ModuleTypeIndex</a>{start_index + <a class="code" href="namespacev8_1_1internal.html">i</a>}, <a class="code" href="structv8_1_1internal_1_1wasm_1_1ModuleTypeIndex.html">ModuleTypeIndex</a>{start_index},</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        first_new_canonical_index);</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  }</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">CanonicalTypeIndex</a> canonical_index = <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a79cfdf825ba8020c8db9a41bc45de004">FindCanonicalGroup</a>(group);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;      canonical_index.<a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeIndex.html#a9340071636f85090c2fe2171797857c0">valid</a>()) {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="comment">// Delete zone memory from {CanonicalizeTypeDef} and {CanonicalGroup}.</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    zone_snapshot.<a class="code" href="classv8_1_1internal_1_1ZoneSnapshot.html#aec35d0e25a40e708d9f74f42c68769ec">Restore</a>(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a5d1d7c7db28b1dfbd0cb2a612e216426">zone_</a>);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160; </div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="comment">// Identical group found. Map new types to the old types&#39;s canonical</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="comment">// representatives.</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keywordflow">for</span> (uint32_t <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;      <a class="code" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">CanonicalTypeIndex</a> existing_type_index =</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;          <a class="code" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">CanonicalTypeIndex</a>{canonical_index.<a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeIndex.html#ad0355b4f2bc1bc8a489e4d01da40067b">index</a> + <a class="code" href="namespacev8_1_1internal.html">i</a>};</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;      module-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a1c8bccf9b03db76dd60dbb7b0b5e3cac">isorecursive_canonical_type_ids</a>[start_index + <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] =</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;          existing_type_index;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    }</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  }</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#ad5a86ad83551b42b1cad8673274c7405">canonical_supertypes_</a>.resize(first_new_canonical_index.index + <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a75093fd01ebd31560f36d84cb7b97039">CheckMaxCanonicalIndex</a>();</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aace4eaa728faca944e03b64de8811eb1">canonical_types_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalTypeVector.html#ac96040283b816933a3cae7b072df42c2">reserve</a>(first_new_canonical_index.index + <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, &amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a5d1d7c7db28b1dfbd0cb2a612e216426">zone_</a>);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="keywordflow">for</span> (uint32_t <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalType.html">CanonicalType</a>&amp; canonical_type = group.types[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>];</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <a class="code" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">CanonicalTypeIndex</a> canonical_id{first_new_canonical_index.<a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeIndex.html#ad0355b4f2bc1bc8a489e4d01da40067b">index</a> + <a class="code" href="namespacev8_1_1internal.html">i</a>};</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="comment">// {CanonicalGroup} allocates types in the Zone.</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a5d1d7c7db28b1dfbd0cb2a612e216426">zone_</a>.Contains(&amp;canonical_type));</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aace4eaa728faca944e03b64de8811eb1">canonical_types_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalTypeVector.html#a0e7911e11acddd6e27f2a783cc9fa093">set</a>(canonical_id, &amp;canonical_type);</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#ad5a86ad83551b42b1cad8673274c7405">canonical_supertypes_</a>[canonical_id.index] = canonical_type.<a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalType.html#a121fb1b8968855767064d600f3b16adb">supertype</a>;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    module-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a1c8bccf9b03db76dd60dbb7b0b5e3cac">isorecursive_canonical_type_ids</a>[start_index + <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = canonical_id;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  }</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="comment">// Check that this canonical ID is not used yet.</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="namespacev8_1_1base.html#a1f740bf76b79ac1c15bb5e0a2f3eff3d">std::none_of</a>(</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aac46ffc57fc0548557dfec00cfabba3a">canonical_singleton_groups_</a>.begin(), <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aac46ffc57fc0548557dfec00cfabba3a">canonical_singleton_groups_</a>.end(),</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;      [=](<span class="keyword">auto</span>&amp; entry) { return entry.index == first_new_canonical_index; }));</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="namespacev8_1_1base.html#a1f740bf76b79ac1c15bb5e0a2f3eff3d">std::none_of</a>(</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#adc5ff87298a9b8780269579063ed7849">canonical_groups_</a>.begin(), <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#adc5ff87298a9b8780269579063ed7849">canonical_groups_</a>.end(),</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      [=](<span class="keyword">auto</span>&amp; entry) { return entry.first == first_new_canonical_index; }));</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#adc5ff87298a9b8780269579063ed7849">canonical_groups_</a>.emplace(group);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;}</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160; </div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a0e1c188ba08c9392d57ba0b6326794f4">   97</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a0e1c188ba08c9392d57ba0b6326794f4">TypeCanonicalizer::AddRecursiveSingletonGroup</a>(<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html">WasmModule</a>* module) {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!module-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a0e40d6e8dc4725dfce209c234005dbf6">types</a>.empty());</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  uint32_t type_index = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(module-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a0e40d6e8dc4725dfce209c234005dbf6">types</a>.size() - 1);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> guard(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a87bde3bd162681f63587666ca94e126f">mutex_</a>);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <a class="code" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">CanonicalTypeIndex</a> new_canonical_index{</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;      <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#ad5a86ad83551b42b1cad8673274c7405">canonical_supertypes_</a>.size())};</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="comment">// Snapshot the zone before allocating the new type; the zone will be reset if</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="comment">// we find an identical type.</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <a class="code" href="classv8_1_1internal_1_1ZoneSnapshot.html">ZoneSnapshot</a> zone_snapshot = <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a5d1d7c7db28b1dfbd0cb2a612e216426">zone_</a>.<a class="code" href="classv8_1_1internal_1_1Zone.html#a0363b4eed8096f39c7ae4e1fe8c228e3">Snapshot</a>();</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalType.html">CanonicalType</a> <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> =</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a3d1ed1b02600dbd46319efee7a8e6826">CanonicalizeTypeDef</a>(module, <a class="code" href="structv8_1_1internal_1_1wasm_1_1ModuleTypeIndex.html">ModuleTypeIndex</a>{type_index},</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                          <a class="code" href="structv8_1_1internal_1_1wasm_1_1ModuleTypeIndex.html">ModuleTypeIndex</a>{type_index}, new_canonical_index);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalSingletonGroup.html">CanonicalSingletonGroup</a> group{<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>, new_canonical_index};</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">CanonicalTypeIndex</a> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a79cfdf825ba8020c8db9a41bc45de004">FindCanonicalGroup</a>(group); <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>.valid()) {</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    zone_snapshot.<a class="code" href="classv8_1_1internal_1_1ZoneSnapshot.html#aec35d0e25a40e708d9f74f42c68769ec">Restore</a>(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a5d1d7c7db28b1dfbd0cb2a612e216426">zone_</a>);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    module-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a1c8bccf9b03db76dd60dbb7b0b5e3cac">isorecursive_canonical_type_ids</a>[type_index] = <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  }</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="comment">// Check that the new canonical ID is not used yet.</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="namespacev8_1_1base.html#a1f740bf76b79ac1c15bb5e0a2f3eff3d">std::none_of</a>(</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aac46ffc57fc0548557dfec00cfabba3a">canonical_singleton_groups_</a>.begin(), <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aac46ffc57fc0548557dfec00cfabba3a">canonical_singleton_groups_</a>.end(),</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;      [=](<span class="keyword">auto</span>&amp; entry) { return entry.index == new_canonical_index; }));</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="namespacev8_1_1base.html#a1f740bf76b79ac1c15bb5e0a2f3eff3d">std::none_of</a>(</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#adc5ff87298a9b8780269579063ed7849">canonical_groups_</a>.begin(), <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#adc5ff87298a9b8780269579063ed7849">canonical_groups_</a>.end(),</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;      [=](<span class="keyword">auto</span>&amp; entry) { return entry.first == new_canonical_index; }));</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="comment">// {group.type} is stack-allocated, whereas {canonical_singleton_groups_}</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="comment">// creates a long-lived zone-allocated copy of it.</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="keyword">auto</span> stored_group = <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aac46ffc57fc0548557dfec00cfabba3a">canonical_singleton_groups_</a>.emplace(group).first;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#ad5a86ad83551b42b1cad8673274c7405">canonical_supertypes_</a>.push_back(<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>.supertype);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a75093fd01ebd31560f36d84cb7b97039">CheckMaxCanonicalIndex</a>();</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aace4eaa728faca944e03b64de8811eb1">canonical_types_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalTypeVector.html#ac96040283b816933a3cae7b072df42c2">reserve</a>(new_canonical_index.index + 1, &amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a5d1d7c7db28b1dfbd0cb2a612e216426">zone_</a>);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aace4eaa728faca944e03b64de8811eb1">canonical_types_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalTypeVector.html#a0e7911e11acddd6e27f2a783cc9fa093">set</a>(new_canonical_index, &amp;stored_group-&gt;type);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  module-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a1c8bccf9b03db76dd60dbb7b0b5e3cac">isorecursive_canonical_type_ids</a>[type_index] = new_canonical_index;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;}</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a98ee4ff70583a6404c86f0f901b0a598">  132</a></span>&#160;<a class="code" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">CanonicalTypeIndex</a> <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aa7d63877150be29e04f49d189ea88c99">TypeCanonicalizer::AddRecursiveGroup</a>(</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1Signature.html">FunctionSig</a>* <a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>) {</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">// Types in the signature must be module-independent.</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1ValueType.html">ValueType</a> <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> : <a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>-&gt;all()) <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>.has_index());</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> kFinal = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <span class="comment">// Because of the checks above, we can treat the type_def as canonical.</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="comment">// TODO(366180605): It would be nice to not have to rely on a cast here.</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="comment">// Is there a way to avoid it? In the meantime, these asserts provide at</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="comment">// least partial assurances that the cast is safe:</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  static_assert(<span class="keyword">sizeof</span>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1CanonicalValueType.html">CanonicalValueType</a>) == <span class="keyword">sizeof</span>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1ValueType.html">ValueType</a>));</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  static_assert(</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1CanonicalValueType.html#ac4fba6356a57b7630878ebaf06e0a25b">CanonicalValueType::Primitive</a>(NumericKind::kI32).raw_bit_field() ==</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1ValueType.html#ad54bf6ac4b19a093546aca2dc749c22c">ValueType::Primitive</a>(<a class="code" href="namespacev8_1_1internal.html#abb767b639fb9b3ebabe15c8e91e99210a0a0ecdb4eded286c722877578774a293">kI32</a>).raw_bit_field());</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalType.html">CanonicalType</a> canonical{<span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="classv8_1_1internal_1_1wasm_1_1CanonicalSig.html">CanonicalSig</a>*<span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>),</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                          <a class="code" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">CanonicalTypeIndex</a>{<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a9426d91ec5f89dd5402e6579bd09e9cc">kNoSuperType</a>}, kFinal, <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ab2a93a59aa0f5e34712e0e4031f8b63e">kNotShared</a>};</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> guard(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a87bde3bd162681f63587666ca94e126f">mutex_</a>);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="comment">// Fast path lookup before canonicalizing (== copying into the</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <span class="comment">// TypeCanonicalizer&#39;s zone) the function signature.</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <a class="code" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">CanonicalTypeIndex</a> new_canonical_index{</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#ad5a86ad83551b42b1cad8673274c7405">canonical_supertypes_</a>.size())};</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <a class="code" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">CanonicalTypeIndex</a> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a79cfdf825ba8020c8db9a41bc45de004">FindCanonicalGroup</a>(</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      <a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalSingletonGroup.html">CanonicalSingletonGroup</a>{canonical, new_canonical_index});</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>.valid()) <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160; </div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="comment">// Copy into this class&#39;s zone to store this as a new canonical function type.</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1CanonicalSig_1_1Builder.html">CanonicalSig::Builder</a> builder(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a5d1d7c7db28b1dfbd0cb2a612e216426">zone_</a>, <a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>-&gt;return_count(),</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                                <a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>-&gt;parameter_count());</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1ValueType.html">ValueType</a> ret : <a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>-&gt;returns()) {</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    builder.<a class="code" href="classv8_1_1internal_1_1SignatureBuilder.html#a1cf0a0a868c1403005cbc43a1a23fb6a">AddReturn</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1CanonicalValueType.html">CanonicalValueType</a>{ret});</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  }</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1ValueType.html">ValueType</a> param : <a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>-&gt;parameters()) {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    builder.<a class="code" href="classv8_1_1internal_1_1SignatureBuilder.html#a313284de88dcba52b202551c22a89cce">AddParam</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1CanonicalValueType.html">CanonicalValueType</a>{param});</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  }</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  canonical.function_sig = builder.<a class="code" href="classv8_1_1internal_1_1wasm_1_1CanonicalSig_1_1Builder.html#a28f1a37dbee2f82bc9f2279dfaa139eb">Get</a>();</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalSingletonGroup.html">CanonicalSingletonGroup</a> group{canonical, new_canonical_index};</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <span class="comment">// Copying the signature shouldn&#39;t make a difference: There is no match.</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a79cfdf825ba8020c8db9a41bc45de004">FindCanonicalGroup</a>(group).valid());</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <span class="comment">// Check that the new canonical ID is not used yet.</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="namespacev8_1_1base.html#a1f740bf76b79ac1c15bb5e0a2f3eff3d">std::none_of</a>(</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aac46ffc57fc0548557dfec00cfabba3a">canonical_singleton_groups_</a>.begin(), <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aac46ffc57fc0548557dfec00cfabba3a">canonical_singleton_groups_</a>.end(),</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;      [=](<span class="keyword">auto</span>&amp; entry) { return entry.index == new_canonical_index; }));</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="namespacev8_1_1base.html#a1f740bf76b79ac1c15bb5e0a2f3eff3d">std::none_of</a>(</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#adc5ff87298a9b8780269579063ed7849">canonical_groups_</a>.begin(), <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#adc5ff87298a9b8780269579063ed7849">canonical_groups_</a>.end(),</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      [=](<span class="keyword">auto</span>&amp; entry) { return entry.first == new_canonical_index; }));</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <span class="comment">// {group.type} is stack-allocated, whereas {canonical_singleton_groups_}</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <span class="comment">// creates a long-lived zone-allocated copy of it.</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="keyword">const</span> <a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalSingletonGroup.html">CanonicalSingletonGroup</a>&amp; stored_group =</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;      *<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aac46ffc57fc0548557dfec00cfabba3a">canonical_singleton_groups_</a>.emplace(group).first;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#ad5a86ad83551b42b1cad8673274c7405">canonical_supertypes_</a>.push_back(<a class="code" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">CanonicalTypeIndex</a>{<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a9426d91ec5f89dd5402e6579bd09e9cc">kNoSuperType</a>});</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a75093fd01ebd31560f36d84cb7b97039">CheckMaxCanonicalIndex</a>();</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aace4eaa728faca944e03b64de8811eb1">canonical_types_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalTypeVector.html#ac96040283b816933a3cae7b072df42c2">reserve</a>(new_canonical_index.index + 1, &amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a5d1d7c7db28b1dfbd0cb2a612e216426">zone_</a>);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aace4eaa728faca944e03b64de8811eb1">canonical_types_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalTypeVector.html#a0e7911e11acddd6e27f2a783cc9fa093">set</a>(new_canonical_index, &amp;stored_group.<a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalSingletonGroup.html#a4531a36826bd522474ab5ec848207ba4">type</a>);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="keywordflow">return</span> new_canonical_index;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;}</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160; </div>
<div class="line"><a name="l00190"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aa1f36fc3851ba2316d47223fa2b6e155">  190</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1CanonicalSig.html">CanonicalSig</a>* <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aa1f36fc3851ba2316d47223fa2b6e155">TypeCanonicalizer::LookupFunctionSignature</a>(</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <a class="code" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">CanonicalTypeIndex</a> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="keyword">const</span> <a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalType.html">CanonicalType</a>* <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aace4eaa728faca944e03b64de8811eb1">canonical_types_</a>[<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>];</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <a class="code" href="check_8h.html#a6e67d209c0a0c9c55b7b563275f63bdd">SBXCHECK_EQ</a>(<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>-&gt;kind, <a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalType.html#a0b03932da698784d7d41dcbb1491dfbca069a15f9a407451b321e9247cc1b526f">CanonicalType::kFunction</a>);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>-&gt;function_sig;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;}</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160; </div>
<div class="line"><a name="l00197"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a13aa3a05620a7a9732ac5274d80b62b5">  197</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1CanonicalStructType.html">CanonicalStructType</a>* <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a13aa3a05620a7a9732ac5274d80b62b5">TypeCanonicalizer::LookupStruct</a>(</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <a class="code" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">CanonicalTypeIndex</a> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="keyword">const</span> <a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalType.html">CanonicalType</a>* <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aace4eaa728faca944e03b64de8811eb1">canonical_types_</a>[<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>];</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <a class="code" href="check_8h.html#a6e67d209c0a0c9c55b7b563275f63bdd">SBXCHECK_EQ</a>(<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>-&gt;kind, <a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalType.html#a0b03932da698784d7d41dcbb1491dfbcab8e4e34798c92139d5c8aa3f4c4f919e">CanonicalType::kStruct</a>);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>-&gt;struct_type;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;}</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160; </div>
<div class="line"><a name="l00204"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a5fb6b7ad8c3b4aea3365cf98d5ed0392">  204</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1CanonicalArrayType.html">CanonicalArrayType</a>* <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a5fb6b7ad8c3b4aea3365cf98d5ed0392">TypeCanonicalizer::LookupArray</a>(</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <a class="code" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">CanonicalTypeIndex</a> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <span class="keyword">const</span> <a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalType.html">CanonicalType</a>* <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aace4eaa728faca944e03b64de8811eb1">canonical_types_</a>[<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>];</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <a class="code" href="check_8h.html#a6e67d209c0a0c9c55b7b563275f63bdd">SBXCHECK_EQ</a>(<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>-&gt;kind, <a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalType.html#a0b03932da698784d7d41dcbb1491dfbca26155be6e53ee073e27b0be223e7558e">CanonicalType::kArray</a>);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>-&gt;array_type;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;}</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160; </div>
<div class="line"><a name="l00211"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a2fb60486cd0aed07cb8869e6592a88b6">  211</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a2fb60486cd0aed07cb8869e6592a88b6">TypeCanonicalizer::AddPredefinedArrayTypes</a>() {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <span class="keyword">static</span> constexpr std::pair&lt;CanonicalTypeIndex, CanonicalValueType&gt;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      kPredefinedArrayTypes[] = {{<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#ad7596d2d5f3ea621ba8021e2b5c35ea0">kPredefinedArrayI8Index</a>, {<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a5f3afadb8ac8aa1c39b17545c7facf09">kWasmI8</a>}},</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                                 {<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a786ffe03cbb5612cc865dff1331a20eb">kPredefinedArrayI16Index</a>, {<a class="code" href="namespacev8_1_1internal_1_1wasm.html#af2d01915a8d185e3b4b8e95908eca2d7">kWasmI16</a>}}};</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aace4eaa728faca944e03b64de8811eb1">canonical_types_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalTypeVector.html#ac96040283b816933a3cae7b072df42c2">reserve</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a3288472760bacd500533c7ac1bdd7f18">kNumberOfPredefinedTypes</a>, &amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a5d1d7c7db28b1dfbd0cb2a612e216426">zone_</a>);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> [<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, element_type] : kPredefinedArrayTypes) {</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#afd957f297df7e9ee36c46185e961485f">DCHECK_GT</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a3288472760bacd500533c7ac1bdd7f18">kNumberOfPredefinedTypes</a>, <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>.index);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>.index, <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aac46ffc57fc0548557dfec00cfabba3a">canonical_singleton_groups_</a>.size());</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keyword">static</span> constexpr <span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1internal.html#ac328869a355886739965287befcc49aca32567d9e5f2d66c9b326c45e800abcf6">kMutable</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keyword">static</span> constexpr <span class="keywordtype">bool</span> kFinal = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keyword">static</span> constexpr <span class="keywordtype">bool</span> kShared = <span class="keyword">false</span>;  <span class="comment">// TODO(14616): Fix this.</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1CanonicalArrayType.html">CanonicalArrayType</a>* <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> =</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a5d1d7c7db28b1dfbd0cb2a612e216426">zone_</a>.<a class="code" href="classv8_1_1internal_1_1Zone.html#a619ca7387e66c82e86240c2af8f3f10f">New</a>&lt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1CanonicalArrayType.html">CanonicalArrayType</a>&gt;(element_type, <a class="code" href="namespacev8_1_1internal.html#ac328869a355886739965287befcc49aca32567d9e5f2d66c9b326c45e800abcf6">kMutable</a>);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalSingletonGroup.html">CanonicalSingletonGroup</a> group{</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        .<a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalSingletonGroup.html#a4531a36826bd522474ab5ec848207ba4">type</a> = <a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalType.html">CanonicalType</a>(<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>, <a class="code" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">CanonicalTypeIndex</a>{<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a9426d91ec5f89dd5402e6579bd09e9cc">kNoSuperType</a>}, kFinal,</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                              kShared),</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        .<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>};</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keyword">const</span> <a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalSingletonGroup.html">CanonicalSingletonGroup</a>&amp; stored_group =</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        *<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aac46ffc57fc0548557dfec00cfabba3a">canonical_singleton_groups_</a>.emplace(group).first;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aace4eaa728faca944e03b64de8811eb1">canonical_types_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalTypeVector.html#a0e7911e11acddd6e27f2a783cc9fa093">set</a>(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, &amp;stored_group.<a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalSingletonGroup.html#a4531a36826bd522474ab5ec848207ba4">type</a>);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#ad5a86ad83551b42b1cad8673274c7405">canonical_supertypes_</a>.emplace_back(<a class="code" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">CanonicalTypeIndex</a>{<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a9426d91ec5f89dd5402e6579bd09e9cc">kNoSuperType</a>});</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#ad5a86ad83551b42b1cad8673274c7405">canonical_supertypes_</a>.size(), <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a2e079999502e577b181583a71bb096ef">kMaxCanonicalTypes</a>);</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  }</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;}</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160; </div>
<div class="line"><a name="l00236"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a09f520b3ab3e3fa22827a66c4eebcb59">  236</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a09f520b3ab3e3fa22827a66c4eebcb59">TypeCanonicalizer::IsCanonicalSubtype</a>(<a class="code" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">CanonicalTypeIndex</a> sub_index,</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                                           <a class="code" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">CanonicalTypeIndex</a> super_index) {</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="comment">// Fast path without synchronization:</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  <span class="keywordflow">if</span> (sub_index == super_index) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160; </div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <span class="comment">// Multiple threads could try to register and access recursive groups</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="comment">// concurrently.</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <span class="comment">// TODO(manoskouk): Investigate if we can improve this synchronization.</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> mutex_guard(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a87bde3bd162681f63587666ca94e126f">mutex_</a>);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a28a8c2083bd54e0485ac5b6481617ca5">IsCanonicalSubtype_Locked</a>(sub_index, super_index);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;}</div>
<div class="line"><a name="l00247"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a28a8c2083bd54e0485ac5b6481617ca5">  247</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a28a8c2083bd54e0485ac5b6481617ca5">TypeCanonicalizer::IsCanonicalSubtype_Locked</a>(</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <a class="code" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">CanonicalTypeIndex</a> sub_index, <a class="code" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">CanonicalTypeIndex</a> super_index)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <span class="keywordflow">while</span> (sub_index.<a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeIndex.html#a9340071636f85090c2fe2171797857c0">valid</a>()) {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordflow">if</span> (sub_index == super_index) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="comment">// TODO(jkummerow): Investigate if replacing this with</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="comment">// `sub_index = canonical_types_[sub_index].supertype;`</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="comment">// has acceptable performance, which would allow us to save the memory</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="comment">// cost of storing {canonical_supertypes_}.</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    sub_index = <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#ad5a86ad83551b42b1cad8673274c7405">canonical_supertypes_</a>[sub_index.<a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeIndex.html#ad0355b4f2bc1bc8a489e4d01da40067b">index</a>];</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  }</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;}</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160; </div>
<div class="line"><a name="l00260"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#ad6c2d12646b4eb2c5b06e5ee6bc83d66">  260</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a09f520b3ab3e3fa22827a66c4eebcb59">TypeCanonicalizer::IsCanonicalSubtype</a>(<a class="code" href="structv8_1_1internal_1_1wasm_1_1ModuleTypeIndex.html">ModuleTypeIndex</a> sub_index,</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                                           <a class="code" href="structv8_1_1internal_1_1wasm_1_1ModuleTypeIndex.html">ModuleTypeIndex</a> super_index,</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html">WasmModule</a>* sub_module,</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html">WasmModule</a>* super_module) {</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <a class="code" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">CanonicalTypeIndex</a> canonical_super =</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;      super_module-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a203c3dead384ed9378fabac21ef51c52">canonical_type_id</a>(super_index);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <a class="code" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">CanonicalTypeIndex</a> canonical_sub = sub_module-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a203c3dead384ed9378fabac21ef51c52">canonical_type_id</a>(sub_index);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a09f520b3ab3e3fa22827a66c4eebcb59">IsCanonicalSubtype</a>(canonical_sub, canonical_super);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;}</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160; </div>
<div class="line"><a name="l00270"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a975819a03a7a181523d8ec9e70845ba5">  270</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a975819a03a7a181523d8ec9e70845ba5">TypeCanonicalizer::IsHeapSubtype</a>(<a class="code" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">CanonicalTypeIndex</a> sub,</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                                      <a class="code" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">CanonicalTypeIndex</a> super)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(sub, super);</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> mutex_guard(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a87bde3bd162681f63587666ca94e126f">mutex_</a>);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a28a8c2083bd54e0485ac5b6481617ca5">IsCanonicalSubtype_Locked</a>(sub, super);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;}</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160; </div>
<div class="line"><a name="l00277"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#ae0d391c4db06d64ab566383e390b63fd">  277</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#ae0d391c4db06d64ab566383e390b63fd">TypeCanonicalizer::EmptyStorageForTesting</a>() {</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <span class="comment">// Any remaining native modules might reference the types we&#39;re about to</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <span class="comment">// clear.</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#abc12fc3b25ebfb54c20b8479642acb94">GetWasmEngine</a>()-&gt;NativeModuleCount(), 0);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160; </div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> mutex_guard(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a87bde3bd162681f63587666ca94e126f">mutex_</a>);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aace4eaa728faca944e03b64de8811eb1">canonical_types_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalTypeVector.html#aa6d82a42af54285e3557c1536777102f">ClearForTesting</a>();</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#ad5a86ad83551b42b1cad8673274c7405">canonical_supertypes_</a>.clear();</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#adc5ff87298a9b8780269579063ed7849">canonical_groups_</a>.clear();</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aac46ffc57fc0548557dfec00cfabba3a">canonical_singleton_groups_</a>.clear();</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a5d1d7c7db28b1dfbd0cb2a612e216426">zone_</a>.<a class="code" href="classv8_1_1internal_1_1Zone.html#ab2d176e653855b61275e505bddbc3ece">Reset</a>();</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a2fb60486cd0aed07cb8869e6592a88b6">AddPredefinedArrayTypes</a>();</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;}</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160; </div>
<div class="line"><a name="l00291"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a3d1ed1b02600dbd46319efee7a8e6826">  291</a></span>&#160;<a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalType.html">TypeCanonicalizer::CanonicalType</a> <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a3d1ed1b02600dbd46319efee7a8e6826">TypeCanonicalizer::CanonicalizeTypeDef</a>(</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keyword">const</span> <a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html">WasmModule</a>* module, <a class="code" href="structv8_1_1internal_1_1wasm_1_1ModuleTypeIndex.html">ModuleTypeIndex</a> module_type_idx,</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <a class="code" href="structv8_1_1internal_1_1wasm_1_1ModuleTypeIndex.html">ModuleTypeIndex</a> recgroup_start,</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <a class="code" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">CanonicalTypeIndex</a> canonical_recgroup_start) {</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a87bde3bd162681f63587666ca94e126f">mutex_</a>.<a class="code" href="classv8_1_1base_1_1Mutex.html#a281097589e7088f5af211349cac0ef9d">AssertHeld</a>();  <span class="comment">// The caller must hold the mutex.</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160; </div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <span class="keyword">auto</span> CanonicalizeTypeIndex = [=](<a class="code" href="structv8_1_1internal_1_1wasm_1_1ModuleTypeIndex.html">ModuleTypeIndex</a> type_index) {</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keywordflow">if</span> (!type_index.valid()) <span class="keywordflow">return</span> <a class="code" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html#a7150c4706b3669167b674204f134831b">CanonicalTypeIndex::Invalid</a>();</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(type_index.valid());</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordflow">if</span> (type_index &lt; recgroup_start) {</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;      <span class="comment">// This references a type from an earlier recgroup; use the</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      <span class="comment">// already-canonicalized type index.</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;      <span class="keywordflow">return</span> module-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a203c3dead384ed9378fabac21ef51c52">canonical_type_id</a>(type_index);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    }</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="comment">// For types within the same recgroup, generate indexes assuming that this</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="comment">// is a new canonical recgroup. To prevent truncation in the</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="comment">// CanonicalValueType&#39;s bit field, we must check the range here.</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    uint32_t new_index = canonical_recgroup_start.<a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeIndex.html#ad0355b4f2bc1bc8a489e4d01da40067b">index</a> +</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                         (type_index.index - recgroup_start.<a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeIndex.html#ad0355b4f2bc1bc8a489e4d01da40067b">index</a>);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a>(new_index &gt;= <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a2e079999502e577b181583a71bb096ef">kMaxCanonicalTypes</a>)) {</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;      <a class="code" href="classv8_1_1internal_1_1V8.html#a977b087d4ee58955efe72b33136a4e94">V8::FatalProcessOutOfMemory</a>(<span class="keyword">nullptr</span>, <span class="stringliteral">&quot;too many canonicalized types&quot;</span>);</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    }</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">CanonicalTypeIndex</a>{new_index};</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  };</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160; </div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <span class="keyword">auto</span> CanonicalizeValueType = [=](<a class="code" href="classv8_1_1internal_1_1wasm_1_1ValueType.html">ValueType</a> <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>) {</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>.has_index()) <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1CanonicalValueType.html">CanonicalValueType</a>{<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>};</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    static_assert(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a2e079999502e577b181583a71bb096ef">kMaxCanonicalTypes</a> &lt;=</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                  (1 &lt;&lt; <a class="code" href="classv8_1_1internal_1_1wasm_1_1ValueTypeBase.html#ab4a2bfabc21b5a7b348cc3078d0c8bf1">CanonicalValueType::kNumIndexBits</a>));</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>.Canonicalize(CanonicalizeTypeIndex(<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>.ref_index()));</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  };</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160; </div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeDefinition.html">TypeDefinition</a> <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = module-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a89e37309b6619867746a4cf77adcaa2a">type</a>(module_type_idx);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  <a class="code" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">CanonicalTypeIndex</a> supertype = CanonicalizeTypeIndex(<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>.supertype);</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>.kind) {</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeDefinition.html#afbde19d26f66633da8d73c5b83b483f9a3ecda5f0738a61c9624543afa97c8175">TypeDefinition::kFunction</a>: {</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;      <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1Signature.html">FunctionSig</a>* original_sig = <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>.function_sig;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1CanonicalSig_1_1Builder.html">CanonicalSig::Builder</a> builder(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a5d1d7c7db28b1dfbd0cb2a612e216426">zone_</a>, original_sig-&gt;<a class="code" href="classv8_1_1internal_1_1Signature.html#a0a102d5d64b769e3c24a8f13b8703483">return_count</a>(),</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                                    original_sig-&gt;<a class="code" href="classv8_1_1internal_1_1Signature.html#aa5b367ebd335ce254de638fba4b4dc15">parameter_count</a>());</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1ValueType.html">ValueType</a> ret : original_sig-&gt;<a class="code" href="classv8_1_1internal_1_1Signature.html#a088bb2a8974a1fd0ef69ef546009950f">returns</a>()) {</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        builder.<a class="code" href="classv8_1_1internal_1_1SignatureBuilder.html#a1cf0a0a868c1403005cbc43a1a23fb6a">AddReturn</a>(CanonicalizeValueType(ret));</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      }</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1ValueType.html">ValueType</a> param : original_sig-&gt;<a class="code" href="classv8_1_1internal_1_1Signature.html#a60f9e5d2f262f527df9e4a9f53418595">parameters</a>()) {</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        builder.<a class="code" href="classv8_1_1internal_1_1SignatureBuilder.html#a313284de88dcba52b202551c22a89cce">AddParam</a>(CanonicalizeValueType(param));</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;      }</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalType.html">CanonicalType</a>(builder.<a class="code" href="classv8_1_1internal_1_1wasm_1_1CanonicalSig_1_1Builder.html#a28f1a37dbee2f82bc9f2279dfaa139eb">Get</a>(), supertype, <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>.is_final,</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                           <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>.is_shared);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    }</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeDefinition.html#afbde19d26f66633da8d73c5b83b483f9a324ee918d9aa871d72de0f4cb802b6a8">TypeDefinition::kStruct</a>: {</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1StructType.html">StructType</a>* original_type = <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>.struct_type;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1StructTypeBase_1_1BuilderImpl.html">CanonicalStructType::Builder</a> builder(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a5d1d7c7db28b1dfbd0cb2a612e216426">zone_</a>, original_type-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1StructTypeBase.html#ac0b87d48dd4e3ca9e711b70d77309035">field_count</a>(),</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                                           original_type-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1StructTypeBase.html#a99b3550d910073a2c4a0867c51596eb2">is_descriptor</a>(),</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                                           original_type-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1StructTypeBase.html#ab7b6a902b290946df02d3e42ea767079">is_shared</a>());</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;      <span class="keywordflow">for</span> (uint32_t <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; original_type-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1StructTypeBase.html#ac0b87d48dd4e3ca9e711b70d77309035">field_count</a>(); <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        builder.<a class="code" href="classv8_1_1internal_1_1wasm_1_1StructTypeBase_1_1BuilderImpl.html#ab602a0028414bcde6fc2f51d1f0c8de6">AddField</a>(CanonicalizeValueType(original_type-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1StructType.html#a0befc03840ccdf98e89b868ecaf154c7">field</a>(<a class="code" href="namespacev8_1_1internal.html">i</a>)),</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                         original_type-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1StructTypeBase.html#a1927b0b6f2449f663e27c9fd7b5eed78">mutability</a>(<a class="code" href="namespacev8_1_1internal.html">i</a>),</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                         original_type-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1StructTypeBase.html#a5228db786b7257b3491b238fc82eebe3">field_offset</a>(<a class="code" href="namespacev8_1_1internal.html">i</a>));</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      }</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;      builder.<a class="code" href="classv8_1_1internal_1_1wasm_1_1StructTypeBase_1_1BuilderImpl.html#ac2f5c27ac7f2369d6684413911f6f30d">set_total_fields_size</a>(original_type-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1StructTypeBase.html#ac406dca9124ffb3cf916134c7e2b9c9e">total_fields_size</a>());</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalType.html">CanonicalType</a>(</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;          builder.<a class="code" href="classv8_1_1internal_1_1wasm_1_1StructTypeBase_1_1BuilderImpl.html#a4fef4066749b3d94ff228bb05aff111f">Build</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1StructTypeBase_1_1BuilderImpl.html#af293ebac9b251308a753401c9ad7d7b9ae91e0349fc2ce3ff92546a10f8e3879a">CanonicalStructType::Builder::kUseProvidedOffsets</a>),</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;          supertype, CanonicalizeTypeIndex(<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>.descriptor),</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;          CanonicalizeTypeIndex(<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>.describes), <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>.is_final, <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>.is_shared);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    }</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeDefinition.html#afbde19d26f66633da8d73c5b83b483f9a8de84f51ad50b5b3ffe8071bce8d74f4">TypeDefinition::kArray</a>: {</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1CanonicalValueType.html">CanonicalValueType</a> element_type =</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;          CanonicalizeValueType(<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>.array_type-&gt;element_type());</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1CanonicalArrayType.html">CanonicalArrayType</a>* array_type = <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a5d1d7c7db28b1dfbd0cb2a612e216426">zone_</a>.<a class="code" href="classv8_1_1internal_1_1Zone.html#a619ca7387e66c82e86240c2af8f3f10f">New</a>&lt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1CanonicalArrayType.html">CanonicalArrayType</a>&gt;(</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;          element_type, <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>.array_type-&gt;mutability());</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalType.html">CanonicalType</a>(array_type, supertype, <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>.is_final,</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                           <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>.is_shared);</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    }</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeDefinition.html#afbde19d26f66633da8d73c5b83b483f9aa77040ad212f1ecb021fbc2b1d90b320">TypeDefinition::kCont</a>: {</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;      <a class="code" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">CanonicalTypeIndex</a> canonical_index =</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;          CanonicalizeTypeIndex(<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>.cont_type-&gt;contfun_typeindex());</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1CanonicalContType.html">CanonicalContType</a>* canonical_cont =</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;          <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a5d1d7c7db28b1dfbd0cb2a612e216426">zone_</a>.<a class="code" href="classv8_1_1internal_1_1Zone.html#a619ca7387e66c82e86240c2af8f3f10f">New</a>&lt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1CanonicalContType.html">CanonicalContType</a>&gt;(canonical_index);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalType.html">CanonicalType</a>(canonical_cont, supertype, <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>.is_final,</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                           <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>.is_shared);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    }</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  }</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;}</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160; </div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment">// Returns the index of the canonical representative of the first type in this</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="comment">// group if it exists, and `CanonicalTypeIndex::Invalid()` otherwise.</span></div>
<div class="line"><a name="l00376"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a79cfdf825ba8020c8db9a41bc45de004">  376</a></span>&#160;<a class="code" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">CanonicalTypeIndex</a> <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a79cfdf825ba8020c8db9a41bc45de004">TypeCanonicalizer::FindCanonicalGroup</a>(</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="keyword">const</span> <a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalGroup.html">CanonicalGroup</a>&amp; group)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <span class="comment">// Groups of size 0 do not make sense here; groups of size 1 should use</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  <span class="comment">// {CanonicalSingletonGroup} (see below).</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a>(1, group.<a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalGroup.html#a49bf0780faabc7dc693dff7a11c060f2">types</a>.size());</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <span class="keyword">auto</span> it = <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#adc5ff87298a9b8780269579063ed7849">canonical_groups_</a>.find(group);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  <span class="keywordflow">return</span> it == <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#adc5ff87298a9b8780269579063ed7849">canonical_groups_</a>.end() ? <a class="code" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html#a7150c4706b3669167b674204f134831b">CanonicalTypeIndex::Invalid</a>()</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                                       : it-&gt;first;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;}</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160; </div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="comment">// Returns the canonical index of the given group if it already exists.</span></div>
<div class="line"><a name="l00387"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#ae55c21afe79f89c0e561ff2e868e0b9f">  387</a></span>&#160;<a class="code" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">CanonicalTypeIndex</a> <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a79cfdf825ba8020c8db9a41bc45de004">TypeCanonicalizer::FindCanonicalGroup</a>(</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keyword">const</span> <a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalSingletonGroup.html">CanonicalSingletonGroup</a>&amp; group)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  <span class="keyword">auto</span> it = <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aac46ffc57fc0548557dfec00cfabba3a">canonical_singleton_groups_</a>.find(group);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  static_assert(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a2e079999502e577b181583a71bb096ef">kMaxCanonicalTypes</a> &lt;= <a class="code" href="namespacev8_1_1internal.html#ad03e50e4d15ee0da6a722254f350e7eb">kMaxInt</a>);</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  <span class="keywordflow">return</span> it == <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aac46ffc57fc0548557dfec00cfabba3a">canonical_singleton_groups_</a>.end() ? <a class="code" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html#a7150c4706b3669167b674204f134831b">CanonicalTypeIndex::Invalid</a>()</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                                                 : it-&gt;index;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;}</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160; </div>
<div class="line"><a name="l00395"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#add50547bec87230153b84b4c79291dbb">  395</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#add50547bec87230153b84b4c79291dbb">TypeCanonicalizer::EstimateCurrentMemoryConsumption</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  <a class="code" href="std-object-sizes_8h.html#a56caa02a4280c4f0c82adab429400770">UPDATE_WHEN_CLASS_CHANGES</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html">TypeCanonicalizer</a>, 8032);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  <span class="comment">// The storage of the canonical group&#39;s types is accounted for via the</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="comment">// allocator below (which tracks the zone memory).</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> mutex_guard(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a87bde3bd162681f63587666ca94e126f">mutex_</a>);</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#aa122591443234c1d0b597dadc9d55c5e">ContentSize</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#ad5a86ad83551b42b1cad8673274c7405">canonical_supertypes_</a>);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> += <a class="code" href="namespacev8_1_1internal_1_1wasm.html#aa122591443234c1d0b597dadc9d55c5e">ContentSize</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#adc5ff87298a9b8780269579063ed7849">canonical_groups_</a>);</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> += <a class="code" href="namespacev8_1_1internal_1_1wasm.html#aa122591443234c1d0b597dadc9d55c5e">ContentSize</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aac46ffc57fc0548557dfec00cfabba3a">canonical_singleton_groups_</a>);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  <span class="comment">// Note: the allocator also tracks zone allocations of `canonical_types_`.</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> += <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a89f5cf05314cd40ba1b18436fc841e33">allocator_</a>.<a class="code" href="classv8_1_1internal_1_1AccountingAllocator.html#aa81e107eb848411a28be8025d43bff4e">GetCurrentMemoryUsage</a>();</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_wasm_offheap_memory) {</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;TypeCanonicalizer: %zu\n&quot;</span>, <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>);</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  }</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;}</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160; </div>
<div class="line"><a name="l00411"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a69a9dc11e86135ebe9289d817c7c5607">  411</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a69a9dc11e86135ebe9289d817c7c5607">TypeCanonicalizer::GetCurrentNumberOfTypes</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> mutex_guard(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a87bde3bd162681f63587666ca94e126f">mutex_</a>);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#ad5a86ad83551b42b1cad8673274c7405">canonical_supertypes_</a>.size();</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;}</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160; </div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l00417"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aac1117f1918f3c8580be0e192a1c7307">  417</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aac1117f1918f3c8580be0e192a1c7307">TypeCanonicalizer::PrepareForCanonicalTypeId</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                                                  <a class="code" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">CanonicalTypeIndex</a> <span class="keywordtype">id</span>) {</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <span class="keywordflow">if</span> (!<span class="keywordtype">id</span>.valid()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Heap.html">Heap</a>* <a class="code" href="namespaceheap.html">heap</a> = isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">heap</a>();</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  <span class="comment">// {2 * (id + 1)} needs to fit in an int.</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a56e883b55c80205b4d1727679c68b2bd">CHECK_LE</a>(<span class="keywordtype">id</span>.<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, <a class="code" href="namespacev8_1_1internal.html#ad03e50e4d15ee0da6a722254f350e7eb">kMaxInt</a> / 2 - 1);</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  <span class="comment">// Canonical types are zero-indexed.</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = <span class="keywordtype">id</span>.index + 1;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  <span class="comment">// The fast path is non-handlified.</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WeakFixedArray&gt;</a> old_rtts_raw = <a class="code" href="namespaceheap.html">heap</a>-&gt;wasm_canonical_rtts();</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160; </div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  <span class="comment">// Fast path: length is sufficient.</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  <span class="keywordtype">int</span> old_length = old_rtts_raw-&gt;length();</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  <span class="keywordflow">if</span> (old_length &gt;= <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160; </div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <span class="comment">// Allocate a bigger WeakFixedArray, growing exponentially.</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> new_length = std::max(old_length * 3 / 2, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a45a0717f39b7011dc823c1fe7b83e6fc">CHECK_LT</a>(old_length, new_length);</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160; </div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  <span class="comment">// Allocation can invalidate previous unhandled pointers.</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WeakFixedArray&gt;</a> old_rtts{old_rtts_raw, isolate};</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  old_rtts_raw = {};</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160; </div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  <span class="comment">// We allocate the WeakFixedArray filled with undefined values, as we cannot</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <span class="comment">// pass the cleared value in a handle (see https://crbug.com/364591622). We</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <span class="comment">// overwrite the new entries via {MemsetTagged} afterwards.</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WeakFixedArray&gt;</a> new_rtts =</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;      <a class="code" href="classv8_1_1internal_1_1WeakFixedArray.html#a5c8137c6fa3f5b1f638de87a199606ae">WeakFixedArray::New</a>(isolate, new_length, <a class="code" href="namespacev8_1_1internal.html#a604d5beeb6fc8639670f737ed201e20aa0aa38c28f349d65a6819e03844b73dff">AllocationType::kOld</a>);</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <a class="code" href="classv8_1_1internal_1_1TaggedArrayBase.html#a42e6db821dc6326e1129a49a73e4bf34">WeakFixedArray::CopyElements</a>(isolate, *new_rtts, 0, *old_rtts, 0, old_length);</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a5b59223136254772ef018d90e009318d">MemsetTagged</a>(new_rtts-&gt;RawFieldOfFirstElement() + old_length,</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;               <a class="code" href="namespacev8_1_1internal.html#aa2b1520107e1a7067d5db8226721c882">ClearedValue</a>(isolate), new_length - old_length);</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  <a class="code" href="namespaceheap.html">heap</a>-&gt;SetWasmCanonicalRtts(*new_rtts);</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;}</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160; </div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l00452"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a6463a7fec99f54ea2a527c83738ecc8b">  452</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a6463a7fec99f54ea2a527c83738ecc8b">TypeCanonicalizer::ClearWasmCanonicalTypesForTesting</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate) {</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  <a class="code" href="classv8_1_1internal_1_1ReadOnlyRoots.html">ReadOnlyRoots</a> roots(isolate);</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">heap</a>()-&gt;SetWasmCanonicalRtts(roots.empty_weak_fixed_array());</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">heap</a>()-&gt;SetJSToWasmWrappers(roots.empty_weak_fixed_array());</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;}</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160; </div>
<div class="line"><a name="l00458"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a189d99a9d35f268cf46ea7ed4a4468ac">  458</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a189d99a9d35f268cf46ea7ed4a4468ac">TypeCanonicalizer::IsFunctionSignature</a>(<a class="code" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">CanonicalTypeIndex</a> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aace4eaa728faca944e03b64de8811eb1">canonical_types_</a>[<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>]-&gt;kind == <a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalType.html#a0b03932da698784d7d41dcbb1491dfbca069a15f9a407451b321e9247cc1b526f">CanonicalType::kFunction</a>;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;}</div>
<div class="line"><a name="l00461"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a71a10c2018e224177f2419b5efadd901">  461</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a71a10c2018e224177f2419b5efadd901">TypeCanonicalizer::IsStruct</a>(<a class="code" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">CanonicalTypeIndex</a> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aace4eaa728faca944e03b64de8811eb1">canonical_types_</a>[<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>]-&gt;kind == <a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalType.html#a0b03932da698784d7d41dcbb1491dfbcab8e4e34798c92139d5c8aa3f4c4f919e">CanonicalType::kStruct</a>;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;}</div>
<div class="line"><a name="l00464"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a9923721cd17f3390dc61ce9c37ace6e0">  464</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a9923721cd17f3390dc61ce9c37ace6e0">TypeCanonicalizer::IsArray</a>(<a class="code" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">CanonicalTypeIndex</a> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aace4eaa728faca944e03b64de8811eb1">canonical_types_</a>[<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>]-&gt;kind == <a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalType.html#a0b03932da698784d7d41dcbb1491dfbca26155be6e53ee073e27b0be223e7558e">CanonicalType::kArray</a>;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;}</div>
<div class="line"><a name="l00467"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aae73c94c9da97889bfdb35f3756e497b">  467</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aae73c94c9da97889bfdb35f3756e497b">TypeCanonicalizer::IsShared</a>(<a class="code" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">CanonicalTypeIndex</a> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aace4eaa728faca944e03b64de8811eb1">canonical_types_</a>[<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>]-&gt;is_shared;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;}</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160; </div>
<div class="line"><a name="l00471"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a5388360032f6dfc62a57b7f54c20997b">  471</a></span>&#160;<a class="code" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">CanonicalTypeIndex</a> <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a5388360032f6dfc62a57b7f54c20997b">TypeCanonicalizer::FindIndex_Slow</a>(</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1CanonicalSig.html">CanonicalSig</a>* <a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <span class="comment">// TODO(397489547): Make this faster. The plan is to allocate an extra</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  <span class="comment">// slot in the Zone immediately preceding each CanonicalSig, so we can</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  <span class="comment">// get from the sig&#39;s address to that slot&#39;s address via pointer arithmetic.</span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  <span class="comment">// For now, just search through all known signatures, which is acceptable</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <span class="comment">// as long as only the type-reflection proposal needs this.</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  <span class="comment">// TODO(42210967): Improve this before shipping Type Reflection.</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aace4eaa728faca944e03b64de8811eb1">canonical_types_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalTypeVector.html#a0e6c21b839139eecd2cfd693c6e84d0c">FindIndex_Slow</a>(<a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>);</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;}</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160; </div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a996ff47de27ce5f127bdcc0bff48b7f9">TypeCanonicalizer::Contains</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1CanonicalSig.html">CanonicalSig</a>* <a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> mutex_guard(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a87bde3bd162681f63587666ca94e126f">mutex_</a>);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a5d1d7c7db28b1dfbd0cb2a612e216426">zone_</a>.Contains(<a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;}</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160; </div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;}  <span class="comment">// namespace v8::internal::wasm</span></div>
<div class="ttc" id="acanonical-types_8h_html"><div class="ttname"><a href="canonical-types_8h.html">canonical-types.h</a></div></div>
<div class="ttc" id="acheck_8h_html_a6e67d209c0a0c9c55b7b563275f63bdd"><div class="ttname"><a href="check_8h.html#a6e67d209c0a0c9c55b7b563275f63bdd">SBXCHECK_EQ</a></div><div class="ttdeci">#define SBXCHECK_EQ(lhs, rhs)</div><div class="ttdef"><b>Definition:</b> <a href="check_8h_source.html#l00055">check.h:55</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Mutex_html_a281097589e7088f5af211349cac0ef9d"><div class="ttname"><a href="classv8_1_1base_1_1Mutex.html#a281097589e7088f5af211349cac0ef9d">v8::base::Mutex::AssertHeld</a></div><div class="ttdeci">void AssertHeld() const</div><div class="ttdef"><b>Definition:</b> <a href="mutex_8h_source.html#l00058">mutex.h:58</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1AccountingAllocator_html_aa81e107eb848411a28be8025d43bff4e"><div class="ttname"><a href="classv8_1_1internal_1_1AccountingAllocator.html#aa81e107eb848411a28be8025d43bff4e">v8::internal::AccountingAllocator::GetCurrentMemoryUsage</a></div><div class="ttdeci">size_t GetCurrentMemoryUsage() const</div><div class="ttdef"><b>Definition:</b> <a href="accounting-allocator_8h_source.html#l00043">accounting-allocator.h:43</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1DirectHandle_html"><div class="ttname"><a href="classv8_1_1internal_1_1DirectHandle.html">v8::internal::DirectHandle</a></div><div class="ttdef"><b>Definition:</b> <a href="handles_8h_source.html#l00654">handles.h:660</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html">v8::internal::Heap</a></div><div class="ttdef"><b>Definition:</b> <a href="src_2heap_2heap_8h_source.html#l00212">heap.h:212</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html">v8::internal::Isolate</a></div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l00595">isolate.h:595</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_ac74a11613906581a9989b1cb7f7b3275"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">v8::internal::Isolate::heap</a></div><div class="ttdeci">Heap * heap()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l01214">isolate.h:1214</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ReadOnlyRoots_html"><div class="ttname"><a href="classv8_1_1internal_1_1ReadOnlyRoots.html">v8::internal::ReadOnlyRoots</a></div><div class="ttdef"><b>Definition:</b> <a href="roots_8h_source.html#l00724">roots.h:724</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SignatureBuilder_html_a1cf0a0a868c1403005cbc43a1a23fb6a"><div class="ttname"><a href="classv8_1_1internal_1_1SignatureBuilder.html#a1cf0a0a868c1403005cbc43a1a23fb6a">v8::internal::SignatureBuilder::AddReturn</a></div><div class="ttdeci">void AddReturn(T val)</div><div class="ttdef"><b>Definition:</b> <a href="signature_8h_source.html#l00042">signature.h:42</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SignatureBuilder_html_a313284de88dcba52b202551c22a89cce"><div class="ttname"><a href="classv8_1_1internal_1_1SignatureBuilder.html#a313284de88dcba52b202551c22a89cce">v8::internal::SignatureBuilder::AddParam</a></div><div class="ttdeci">void AddParam(T val)</div><div class="ttdef"><b>Definition:</b> <a href="signature_8h_source.html#l00053">signature.h:53</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Signature_html"><div class="ttname"><a href="classv8_1_1internal_1_1Signature.html">v8::internal::Signature&lt; ValueType &gt;</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Signature_html_a088bb2a8974a1fd0ef69ef546009950f"><div class="ttname"><a href="classv8_1_1internal_1_1Signature.html#a088bb2a8974a1fd0ef69ef546009950f">v8::internal::Signature::returns</a></div><div class="ttdeci">base::Vector&lt; const T &gt; returns() const</div><div class="ttdef"><b>Definition:</b> <a href="signature_8h_source.html#l00116">signature.h:116</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Signature_html_a0a102d5d64b769e3c24a8f13b8703483"><div class="ttname"><a href="classv8_1_1internal_1_1Signature.html#a0a102d5d64b769e3c24a8f13b8703483">v8::internal::Signature::return_count</a></div><div class="ttdeci">size_t return_count() const</div><div class="ttdef"><b>Definition:</b> <a href="signature_8h_source.html#l00093">signature.h:93</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Signature_html_a60f9e5d2f262f527df9e4a9f53418595"><div class="ttname"><a href="classv8_1_1internal_1_1Signature.html#a60f9e5d2f262f527df9e4a9f53418595">v8::internal::Signature::parameters</a></div><div class="ttdeci">base::Vector&lt; const T &gt; parameters() const</div><div class="ttdef"><b>Definition:</b> <a href="signature_8h_source.html#l00113">signature.h:113</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Signature_html_aa5b367ebd335ce254de638fba4b4dc15"><div class="ttname"><a href="classv8_1_1internal_1_1Signature.html#aa5b367ebd335ce254de638fba4b4dc15">v8::internal::Signature::parameter_count</a></div><div class="ttdeci">size_t parameter_count() const</div><div class="ttdef"><b>Definition:</b> <a href="signature_8h_source.html#l00094">signature.h:94</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1TaggedArrayBase_html_a42e6db821dc6326e1129a49a73e4bf34"><div class="ttname"><a href="classv8_1_1internal_1_1TaggedArrayBase.html#a42e6db821dc6326e1129a49a73e4bf34">v8::internal::TaggedArrayBase&lt; WeakFixedArray, WeakFixedArrayShape &gt;::CopyElements</a></div><div class="ttdeci">static void CopyElements(Isolate *isolate, Tagged&lt; WeakFixedArray &gt; dst, int dst_index, Tagged&lt; WeakFixedArray &gt; src, int src_index, int len, WriteBarrierMode mode=kDefaultMode)</div><div class="ttdef"><b>Definition:</b> <a href="fixed-array-inl_8h_source.html#l00163">fixed-array-inl.h:242</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Tagged_html"><div class="ttname"><a href="classv8_1_1internal_1_1Tagged.html">v8::internal::Tagged</a></div><div class="ttdef"><b>Definition:</b> <a href="tagged_8h_source.html#l00707">tagged.h:707</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1V8_html_a977b087d4ee58955efe72b33136a4e94"><div class="ttname"><a href="classv8_1_1internal_1_1V8.html#a977b087d4ee58955efe72b33136a4e94">v8::internal::V8::FatalProcessOutOfMemory</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE void FatalProcessOutOfMemory(Isolate *isolate, const char *location, const OOMDetails &amp;details=kNoOOMDetails)</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WeakFixedArray_html_a5c8137c6fa3f5b1f638de87a199606ae"><div class="ttname"><a href="classv8_1_1internal_1_1WeakFixedArray.html#a5c8137c6fa3f5b1f638de87a199606ae">v8::internal::WeakFixedArray::New</a></div><div class="ttdeci">static Handle&lt; WeakFixedArray &gt; New(IsolateT *isolate, int capacity, AllocationType allocation=AllocationType::kYoung, MaybeDirectHandle&lt; Object &gt; initial_value={})</div><div class="ttdef"><b>Definition:</b> <a href="fixed-array-inl_8h_source.html#l00624">fixed-array-inl.h:624</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ZoneSnapshot_html"><div class="ttname"><a href="classv8_1_1internal_1_1ZoneSnapshot.html">v8::internal::ZoneSnapshot</a></div><div class="ttdef"><b>Definition:</b> <a href="zone_8h_source.html#l00283">zone.h:283</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ZoneSnapshot_html_aec35d0e25a40e708d9f74f42c68769ec"><div class="ttname"><a href="classv8_1_1internal_1_1ZoneSnapshot.html#aec35d0e25a40e708d9f74f42c68769ec">v8::internal::ZoneSnapshot::Restore</a></div><div class="ttdeci">void Restore(Zone *zone) const</div><div class="ttdef"><b>Definition:</b> <a href="zone_8cc_source.html#l00214">zone.cc:214</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Zone_html_a0363b4eed8096f39c7ae4e1fe8c228e3"><div class="ttname"><a href="classv8_1_1internal_1_1Zone.html#a0363b4eed8096f39c7ae4e1fe8c228e3">v8::internal::Zone::Snapshot</a></div><div class="ttdeci">V8_WARN_UNUSED_RESULT ZoneSnapshot Snapshot() const</div><div class="ttdef"><b>Definition:</b> <a href="zone_8cc_source.html#l00108">zone.cc:108</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Zone_html_a619ca7387e66c82e86240c2af8f3f10f"><div class="ttname"><a href="classv8_1_1internal_1_1Zone.html#a619ca7387e66c82e86240c2af8f3f10f">v8::internal::Zone::New</a></div><div class="ttdeci">T * New(Args &amp;&amp;... args)</div><div class="ttdef"><b>Definition:</b> <a href="zone_8h_source.html#l00108">zone.h:108</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Zone_html_ab2d176e653855b61275e505bddbc3ece"><div class="ttname"><a href="classv8_1_1internal_1_1Zone.html#ab2d176e653855b61275e505bddbc3ece">v8::internal::Zone::Reset</a></div><div class="ttdeci">void Reset()</div><div class="ttdef"><b>Definition:</b> <a href="zone_8cc_source.html#l00069">zone.cc:69</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1CanonicalArrayType_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1CanonicalArrayType.html">v8::internal::wasm::CanonicalArrayType</a></div><div class="ttdef"><b>Definition:</b> <a href="struct-types_8h_source.html#l00341">struct-types.h:341</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1CanonicalContType_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1CanonicalContType.html">v8::internal::wasm::CanonicalContType</a></div><div class="ttdef"><b>Definition:</b> <a href="struct-types_8h_source.html#l00371">struct-types.h:371</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1CanonicalSig_1_1Builder_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1CanonicalSig_1_1Builder.html">v8::internal::wasm::CanonicalSig::Builder</a></div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01304">value-type.h:1304</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1CanonicalSig_1_1Builder_html_a28f1a37dbee2f82bc9f2279dfaa139eb"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1CanonicalSig_1_1Builder.html#a28f1a37dbee2f82bc9f2279dfaa139eb">v8::internal::wasm::CanonicalSig::Builder::Get</a></div><div class="ttdeci">CanonicalSig * Get() const</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8cc_source.html#l00239">value-type.cc:239</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1CanonicalSig_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1CanonicalSig.html">v8::internal::wasm::CanonicalSig</a></div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01298">value-type.h:1298</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1CanonicalStructType_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1CanonicalStructType.html">v8::internal::wasm::CanonicalStructType</a></div><div class="ttdef"><b>Definition:</b> <a href="struct-types_8h_source.html#l00273">struct-types.h:273</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1CanonicalValueType_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1CanonicalValueType.html">v8::internal::wasm::CanonicalValueType</a></div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01025">value-type.h:1025</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1CanonicalValueType_html_ac4fba6356a57b7630878ebaf06e0a25b"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1CanonicalValueType.html#ac4fba6356a57b7630878ebaf06e0a25b">v8::internal::wasm::CanonicalValueType::Primitive</a></div><div class="ttdeci">static constexpr CanonicalValueType Primitive(NumericKind kind)</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01027">value-type.h:1027</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1StructTypeBase_1_1BuilderImpl_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1StructTypeBase_1_1BuilderImpl.html">v8::internal::wasm::StructTypeBase::BuilderImpl</a></div><div class="ttdef"><b>Definition:</b> <a href="struct-types_8h_source.html#l00146">struct-types.h:146</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1StructTypeBase_1_1BuilderImpl_html_a4fef4066749b3d94ff228bb05aff111f"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1StructTypeBase_1_1BuilderImpl.html#a4fef4066749b3d94ff228bb05aff111f">v8::internal::wasm::StructTypeBase::BuilderImpl::Build</a></div><div class="ttdeci">Subclass * Build(ComputeOffsets compute_offsets=kComputeOffsets)</div><div class="ttdef"><b>Definition:</b> <a href="struct-types_8h_source.html#l00189">struct-types.h:189</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1StructTypeBase_1_1BuilderImpl_html_ab602a0028414bcde6fc2f51d1f0c8de6"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1StructTypeBase_1_1BuilderImpl.html#ab602a0028414bcde6fc2f51d1f0c8de6">v8::internal::wasm::StructTypeBase::BuilderImpl::AddField</a></div><div class="ttdeci">void AddField(ValueTypeSubclass type, bool mutability, uint32_t offset=0)</div><div class="ttdef"><b>Definition:</b> <a href="struct-types_8h_source.html#l00166">struct-types.h:166</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1StructTypeBase_1_1BuilderImpl_html_ac2f5c27ac7f2369d6684413911f6f30d"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1StructTypeBase_1_1BuilderImpl.html#ac2f5c27ac7f2369d6684413911f6f30d">v8::internal::wasm::StructTypeBase::BuilderImpl::set_total_fields_size</a></div><div class="ttdeci">void set_total_fields_size(uint32_t size)</div><div class="ttdef"><b>Definition:</b> <a href="struct-types_8h_source.html#l00181">struct-types.h:181</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1StructTypeBase_1_1BuilderImpl_html_af293ebac9b251308a753401c9ad7d7b9ae91e0349fc2ce3ff92546a10f8e3879a"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1StructTypeBase_1_1BuilderImpl.html#af293ebac9b251308a753401c9ad7d7b9ae91e0349fc2ce3ff92546a10f8e3879a">v8::internal::wasm::StructTypeBase::BuilderImpl::kUseProvidedOffsets</a></div><div class="ttdeci">@ kUseProvidedOffsets</div><div class="ttdef"><b>Definition:</b> <a href="struct-types_8h_source.html#l00151">struct-types.h:150</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1StructTypeBase_html_a1927b0b6f2449f663e27c9fd7b5eed78"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1StructTypeBase.html#a1927b0b6f2449f663e27c9fd7b5eed78">v8::internal::wasm::StructTypeBase::mutability</a></div><div class="ttdeci">bool mutability(uint32_t index) const</div><div class="ttdef"><b>Definition:</b> <a href="struct-types_8h_source.html#l00045">struct-types.h:45</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1StructTypeBase_html_a5228db786b7257b3491b238fc82eebe3"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1StructTypeBase.html#a5228db786b7257b3491b238fc82eebe3">v8::internal::wasm::StructTypeBase::field_offset</a></div><div class="ttdeci">uint32_t field_offset(uint32_t index) const</div><div class="ttdef"><b>Definition:</b> <a href="struct-types_8h_source.html#l00061">struct-types.h:61</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1StructTypeBase_html_a99b3550d910073a2c4a0867c51596eb2"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1StructTypeBase.html#a99b3550d910073a2c4a0867c51596eb2">v8::internal::wasm::StructTypeBase::is_descriptor</a></div><div class="ttdeci">bool is_descriptor() const</div><div class="ttdef"><b>Definition:</b> <a href="struct-types_8h_source.html#l00034">struct-types.h:34</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1StructTypeBase_html_ab7b6a902b290946df02d3e42ea767079"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1StructTypeBase.html#ab7b6a902b290946df02d3e42ea767079">v8::internal::wasm::StructTypeBase::is_shared</a></div><div class="ttdeci">bool is_shared() const</div><div class="ttdef"><b>Definition:</b> <a href="struct-types_8h_source.html#l00036">struct-types.h:36</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1StructTypeBase_html_ac0b87d48dd4e3ca9e711b70d77309035"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1StructTypeBase.html#ac0b87d48dd4e3ca9e711b70d77309035">v8::internal::wasm::StructTypeBase::field_count</a></div><div class="ttdeci">uint32_t field_count() const</div><div class="ttdef"><b>Definition:</b> <a href="struct-types_8h_source.html#l00038">struct-types.h:38</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1StructTypeBase_html_ac406dca9124ffb3cf916134c7e2b9c9e"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1StructTypeBase.html#ac406dca9124ffb3cf916134c7e2b9c9e">v8::internal::wasm::StructTypeBase::total_fields_size</a></div><div class="ttdeci">uint32_t total_fields_size() const</div><div class="ttdef"><b>Definition:</b> <a href="struct-types_8h_source.html#l00069">struct-types.h:69</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1StructType_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1StructType.html">v8::internal::wasm::StructType</a></div><div class="ttdef"><b>Definition:</b> <a href="struct-types_8h_source.html#l00242">struct-types.h:242</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1StructType_html_a0befc03840ccdf98e89b868ecaf154c7"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1StructType.html#a0befc03840ccdf98e89b868ecaf154c7">v8::internal::wasm::StructType::field</a></div><div class="ttdeci">ValueType field(uint32_t index) const</div><div class="ttdef"><b>Definition:</b> <a href="struct-types_8h_source.html#l00262">struct-types.h:262</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalTypeVector_html_a0e6c21b839139eecd2cfd693c6e84d0c"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalTypeVector.html#a0e6c21b839139eecd2cfd693c6e84d0c">v8::internal::wasm::TypeCanonicalizer::CanonicalTypeVector::FindIndex_Slow</a></div><div class="ttdeci">const CanonicalTypeIndex FindIndex_Slow(const CanonicalSig *sig) const</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8h_source.html#l00503">canonical-types.h:503</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalTypeVector_html_a0e7911e11acddd6e27f2a783cc9fa093"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalTypeVector.html#a0e7911e11acddd6e27f2a783cc9fa093">v8::internal::wasm::TypeCanonicalizer::CanonicalTypeVector::set</a></div><div class="ttdeci">void set(CanonicalTypeIndex index, const CanonicalType *type)</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8h_source.html#l00489">canonical-types.h:489</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalTypeVector_html_aa6d82a42af54285e3557c1536777102f"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalTypeVector.html#aa6d82a42af54285e3557c1536777102f">v8::internal::wasm::TypeCanonicalizer::CanonicalTypeVector::ClearForTesting</a></div><div class="ttdeci">void ClearForTesting()</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8h_source.html#l00496">canonical-types.h:496</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalTypeVector_html_ac96040283b816933a3cae7b072df42c2"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalTypeVector.html#ac96040283b816933a3cae7b072df42c2">v8::internal::wasm::TypeCanonicalizer::CanonicalTypeVector::reserve</a></div><div class="ttdeci">void reserve(uint32_t size, Zone *zone)</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8h_source.html#l00478">canonical-types.h:478</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html">v8::internal::wasm::TypeCanonicalizer</a></div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8h_source.html#l00049">canonical-types.h:49</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html_a09f520b3ab3e3fa22827a66c4eebcb59"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a09f520b3ab3e3fa22827a66c4eebcb59">v8::internal::wasm::TypeCanonicalizer::IsCanonicalSubtype</a></div><div class="ttdeci">V8_EXPORT_PRIVATE bool IsCanonicalSubtype(CanonicalTypeIndex sub_index, CanonicalTypeIndex super_index)</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8cc_source.html#l00236">canonical-types.cc:236</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html_a0e1c188ba08c9392d57ba0b6326794f4"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a0e1c188ba08c9392d57ba0b6326794f4">v8::internal::wasm::TypeCanonicalizer::AddRecursiveSingletonGroup</a></div><div class="ttdeci">V8_EXPORT_PRIVATE void AddRecursiveSingletonGroup(WasmModule *module)</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8cc_source.html#l00097">canonical-types.cc:97</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html_a13aa3a05620a7a9732ac5274d80b62b5"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a13aa3a05620a7a9732ac5274d80b62b5">v8::internal::wasm::TypeCanonicalizer::LookupStruct</a></div><div class="ttdeci">V8_EXPORT_PRIVATE const CanonicalStructType * LookupStruct(CanonicalTypeIndex index) const</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8cc_source.html#l00197">canonical-types.cc:197</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html_a189d99a9d35f268cf46ea7ed4a4468ac"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a189d99a9d35f268cf46ea7ed4a4468ac">v8::internal::wasm::TypeCanonicalizer::IsFunctionSignature</a></div><div class="ttdeci">V8_EXPORT_PRIVATE bool IsFunctionSignature(CanonicalTypeIndex index) const</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8cc_source.html#l00458">canonical-types.cc:458</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html_a1f5ddac4a8cadf027727cee7667998c2"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a1f5ddac4a8cadf027727cee7667998c2">v8::internal::wasm::TypeCanonicalizer::TypeCanonicalizer</a></div><div class="ttdeci">TypeCanonicalizer()</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8cc_source.html#l00024">canonical-types.cc:24</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html_a28a8c2083bd54e0485ac5b6481617ca5"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a28a8c2083bd54e0485ac5b6481617ca5">v8::internal::wasm::TypeCanonicalizer::IsCanonicalSubtype_Locked</a></div><div class="ttdeci">bool IsCanonicalSubtype_Locked(CanonicalTypeIndex sub_index, CanonicalTypeIndex super_index) const</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8cc_source.html#l00247">canonical-types.cc:247</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html_a2fb60486cd0aed07cb8869e6592a88b6"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a2fb60486cd0aed07cb8869e6592a88b6">v8::internal::wasm::TypeCanonicalizer::AddPredefinedArrayTypes</a></div><div class="ttdeci">void AddPredefinedArrayTypes()</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8cc_source.html#l00211">canonical-types.cc:211</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html_a3288472760bacd500533c7ac1bdd7f18"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a3288472760bacd500533c7ac1bdd7f18">v8::internal::wasm::TypeCanonicalizer::kNumberOfPredefinedTypes</a></div><div class="ttdeci">static constexpr uint32_t kNumberOfPredefinedTypes</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8h_source.html#l00053">canonical-types.h:53</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html_a3d1ed1b02600dbd46319efee7a8e6826"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a3d1ed1b02600dbd46319efee7a8e6826">v8::internal::wasm::TypeCanonicalizer::CanonicalizeTypeDef</a></div><div class="ttdeci">CanonicalType CanonicalizeTypeDef(const WasmModule *module, ModuleTypeIndex module_type_idx, ModuleTypeIndex recgroup_start, CanonicalTypeIndex canonical_recgroup_start)</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8cc_source.html#l00291">canonical-types.cc:291</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html_a5388360032f6dfc62a57b7f54c20997b"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a5388360032f6dfc62a57b7f54c20997b">v8::internal::wasm::TypeCanonicalizer::FindIndex_Slow</a></div><div class="ttdeci">CanonicalTypeIndex FindIndex_Slow(const CanonicalSig *sig) const</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8cc_source.html#l00471">canonical-types.cc:471</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html_a5d1d7c7db28b1dfbd0cb2a612e216426"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a5d1d7c7db28b1dfbd0cb2a612e216426">v8::internal::wasm::TypeCanonicalizer::zone_</a></div><div class="ttdeci">Zone zone_</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8h_source.html#l00569">canonical-types.h:569</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html_a5fb6b7ad8c3b4aea3365cf98d5ed0392"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a5fb6b7ad8c3b4aea3365cf98d5ed0392">v8::internal::wasm::TypeCanonicalizer::LookupArray</a></div><div class="ttdeci">V8_EXPORT_PRIVATE const CanonicalArrayType * LookupArray(CanonicalTypeIndex index) const</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8cc_source.html#l00204">canonical-types.cc:204</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html_a6463a7fec99f54ea2a527c83738ecc8b"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a6463a7fec99f54ea2a527c83738ecc8b">v8::internal::wasm::TypeCanonicalizer::ClearWasmCanonicalTypesForTesting</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE void ClearWasmCanonicalTypesForTesting(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8cc_source.html#l00452">canonical-types.cc:452</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html_a69a9dc11e86135ebe9289d817c7c5607"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a69a9dc11e86135ebe9289d817c7c5607">v8::internal::wasm::TypeCanonicalizer::GetCurrentNumberOfTypes</a></div><div class="ttdeci">V8_EXPORT_PRIVATE size_t GetCurrentNumberOfTypes() const</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8cc_source.html#l00411">canonical-types.cc:411</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html_a71a10c2018e224177f2419b5efadd901"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a71a10c2018e224177f2419b5efadd901">v8::internal::wasm::TypeCanonicalizer::IsStruct</a></div><div class="ttdeci">V8_EXPORT_PRIVATE bool IsStruct(CanonicalTypeIndex index) const</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8cc_source.html#l00461">canonical-types.cc:461</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html_a75093fd01ebd31560f36d84cb7b97039"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a75093fd01ebd31560f36d84cb7b97039">v8::internal::wasm::TypeCanonicalizer::CheckMaxCanonicalIndex</a></div><div class="ttdeci">void CheckMaxCanonicalIndex() const</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8cc_source.html#l00026">canonical-types.cc:26</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html_a786ffe03cbb5612cc865dff1331a20eb"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a786ffe03cbb5612cc865dff1331a20eb">v8::internal::wasm::TypeCanonicalizer::kPredefinedArrayI16Index</a></div><div class="ttdeci">static constexpr CanonicalTypeIndex kPredefinedArrayI16Index</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8h_source.html#l00052">canonical-types.h:52</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html_a79cfdf825ba8020c8db9a41bc45de004"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a79cfdf825ba8020c8db9a41bc45de004">v8::internal::wasm::TypeCanonicalizer::FindCanonicalGroup</a></div><div class="ttdeci">CanonicalTypeIndex FindCanonicalGroup(const CanonicalGroup &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8cc_source.html#l00376">canonical-types.cc:376</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html_a87bde3bd162681f63587666ca94e126f"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a87bde3bd162681f63587666ca94e126f">v8::internal::wasm::TypeCanonicalizer::mutex_</a></div><div class="ttdeci">base::Mutex mutex_</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8h_source.html#l00570">canonical-types.h:570</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html_a89f5cf05314cd40ba1b18436fc841e33"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a89f5cf05314cd40ba1b18436fc841e33">v8::internal::wasm::TypeCanonicalizer::allocator_</a></div><div class="ttdeci">AccountingAllocator allocator_</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8h_source.html#l00568">canonical-types.h:568</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html_a975819a03a7a181523d8ec9e70845ba5"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a975819a03a7a181523d8ec9e70845ba5">v8::internal::wasm::TypeCanonicalizer::IsHeapSubtype</a></div><div class="ttdeci">bool IsHeapSubtype(CanonicalTypeIndex sub, CanonicalTypeIndex super) const</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8cc_source.html#l00270">canonical-types.cc:270</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html_a9923721cd17f3390dc61ce9c37ace6e0"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a9923721cd17f3390dc61ce9c37ace6e0">v8::internal::wasm::TypeCanonicalizer::IsArray</a></div><div class="ttdeci">V8_EXPORT_PRIVATE bool IsArray(CanonicalTypeIndex index) const</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8cc_source.html#l00464">canonical-types.cc:464</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html_aa1f36fc3851ba2316d47223fa2b6e155"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aa1f36fc3851ba2316d47223fa2b6e155">v8::internal::wasm::TypeCanonicalizer::LookupFunctionSignature</a></div><div class="ttdeci">V8_EXPORT_PRIVATE const CanonicalSig * LookupFunctionSignature(CanonicalTypeIndex index) const</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8cc_source.html#l00190">canonical-types.cc:190</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html_aa7d63877150be29e04f49d189ea88c99"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aa7d63877150be29e04f49d189ea88c99">v8::internal::wasm::TypeCanonicalizer::AddRecursiveGroup</a></div><div class="ttdeci">V8_EXPORT_PRIVATE void AddRecursiveGroup(WasmModule *module, uint32_t size)</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8cc_source.html#l00032">canonical-types.cc:32</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html_aac1117f1918f3c8580be0e192a1c7307"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aac1117f1918f3c8580be0e192a1c7307">v8::internal::wasm::TypeCanonicalizer::PrepareForCanonicalTypeId</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE void PrepareForCanonicalTypeId(Isolate *isolate, CanonicalTypeIndex id)</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8cc_source.html#l00417">canonical-types.cc:417</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html_aac46ffc57fc0548557dfec00cfabba3a"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aac46ffc57fc0548557dfec00cfabba3a">v8::internal::wasm::TypeCanonicalizer::canonical_singleton_groups_</a></div><div class="ttdeci">std::unordered_set&lt; CanonicalSingletonGroup &gt; canonical_singleton_groups_</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8h_source.html#l00565">canonical-types.h:565</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html_aace4eaa728faca944e03b64de8811eb1"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aace4eaa728faca944e03b64de8811eb1">v8::internal::wasm::TypeCanonicalizer::canonical_types_</a></div><div class="ttdeci">CanonicalTypeVector canonical_types_</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8h_source.html#l00567">canonical-types.h:567</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html_aae73c94c9da97889bfdb35f3756e497b"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aae73c94c9da97889bfdb35f3756e497b">v8::internal::wasm::TypeCanonicalizer::IsShared</a></div><div class="ttdeci">V8_EXPORT_PRIVATE bool IsShared(CanonicalTypeIndex index) const</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8cc_source.html#l00467">canonical-types.cc:467</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html_ad5a86ad83551b42b1cad8673274c7405"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#ad5a86ad83551b42b1cad8673274c7405">v8::internal::wasm::TypeCanonicalizer::canonical_supertypes_</a></div><div class="ttdeci">std::vector&lt; CanonicalTypeIndex &gt; canonical_supertypes_</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8h_source.html#l00561">canonical-types.h:561</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html_ad7596d2d5f3ea621ba8021e2b5c35ea0"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#ad7596d2d5f3ea621ba8021e2b5c35ea0">v8::internal::wasm::TypeCanonicalizer::kPredefinedArrayI8Index</a></div><div class="ttdeci">static constexpr CanonicalTypeIndex kPredefinedArrayI8Index</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8h_source.html#l00051">canonical-types.h:51</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html_adc5ff87298a9b8780269579063ed7849"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#adc5ff87298a9b8780269579063ed7849">v8::internal::wasm::TypeCanonicalizer::canonical_groups_</a></div><div class="ttdeci">std::unordered_set&lt; CanonicalGroup &gt; canonical_groups_</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8h_source.html#l00563">canonical-types.h:563</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html_add50547bec87230153b84b4c79291dbb"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#add50547bec87230153b84b4c79291dbb">v8::internal::wasm::TypeCanonicalizer::EstimateCurrentMemoryConsumption</a></div><div class="ttdeci">size_t EstimateCurrentMemoryConsumption() const</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8cc_source.html#l00395">canonical-types.cc:395</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html_ae0d391c4db06d64ab566383e390b63fd"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#ae0d391c4db06d64ab566383e390b63fd">v8::internal::wasm::TypeCanonicalizer::EmptyStorageForTesting</a></div><div class="ttdeci">V8_EXPORT_PRIVATE void EmptyStorageForTesting()</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8cc_source.html#l00277">canonical-types.cc:277</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1ValueTypeBase_html_ab4a2bfabc21b5a7b348cc3078d0c8bf1"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1ValueTypeBase.html#ab4a2bfabc21b5a7b348cc3078d0c8bf1">v8::internal::wasm::ValueTypeBase::kNumIndexBits</a></div><div class="ttdeci">static const int kNumIndexBits</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l00339">value-type.h:339</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1ValueType_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1ValueType.html">v8::internal::wasm::ValueType</a></div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l00885">value-type.h:885</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1ValueType_html_ad54bf6ac4b19a093546aca2dc749c22c"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1ValueType.html#ad54bf6ac4b19a093546aca2dc749c22c">v8::internal::wasm::ValueType::Primitive</a></div><div class="ttdeci">static constexpr ValueType Primitive(NumericKind kind)</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l00887">value-type.h:887</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmEngine_html_a82694f241e35d38f8f882c255e49e743"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#a82694f241e35d38f8f882c255e49e743">v8::internal::wasm::WasmEngine::type_canonicalizer</a></div><div class="ttdeci">TypeCanonicalizer * type_canonicalizer()</div><div class="ttdef"><b>Definition:</b> <a href="wasm-engine_8h_source.html#l00392">wasm-engine.h:392</a></div></div>
<div class="ttc" id="aexecution_2isolate_8h_html"><div class="ttname"><a href="execution_2isolate_8h.html">isolate.h</a></div></div>
<div class="ttc" id="aflag-definitions_8h_html_a3df0b28b666e942ffb9d7d04acdb9715"><div class="ttname"><a href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enables Turboshaft s StaticAssert and CheckTurboshaftTypeOf operations Wasm code into JS functions via the JS to Wasm wrappers are still inlined in TurboFan For controlling whether to at see turbo inline js wasm calls enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information enable Turbolev features that we want to ship in the not too far future trace individual Turboshaft reduction steps trace intermediate Turboshaft reduction steps trace Turboshaft s if else to switch reducer invocation count threshold for early optimization Enables optimizations which favor memory size over execution speed Enables sampling allocation profiler with X as a sample interval min size of a semi the new space consists of two semi spaces max size of the preconfigured old space size(in Mbytes)&quot;)     DEFINE_INT(random_gc_interval</div></div>
<div class="ttc" id="ahandles-inl_8h_html"><div class="ttname"><a href="handles-inl_8h.html">handles-inl.h</a></div></div>
<div class="ttc" id="ahashing_8h_html"><div class="ttname"><a href="hashing_8h.html">hashing.h</a></div></div>
<div class="ttc" id="aheap-inl_8h_html"><div class="ttname"><a href="heap-inl_8h.html">heap-inl.h</a></div></div>
<div class="ttc" id="anames-provider_8h_html"><div class="ttname"><a href="names-provider_8h.html">names-provider.h</a></div></div>
<div class="ttc" id="anamespaceheap_html"><div class="ttname"><a href="namespaceheap.html">heap</a></div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2platform_2platform_8h_source.html#l00072">platform.h:72</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_1_1internal_html_a9840f2bf0b4780133662292486d0bc01"><div class="ttname"><a href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">v8::base::internal::result</a></div><div class="ttdeci">V result</div><div class="ttdef"><b>Definition:</b> <a href="clamped__math__impl_8h_source.html#l00082">clamped_math_impl.h:82</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a1f740bf76b79ac1c15bb5e0a2f3eff3d"><div class="ttname"><a href="namespacev8_1_1base.html#a1f740bf76b79ac1c15bb5e0a2f3eff3d">v8::base::none_of</a></div><div class="ttdeci">bool none_of(const C &amp;container, const P &amp;predicate)</div><div class="ttdef"><b>Definition:</b> <a href="container-utils_8h_source.html#l00105">container-utils.h:105</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a40b71b3558e4b5297d51003612578a81"><div class="ttname"><a href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">v8::base::MutexGuard</a></div><div class="ttdeci">LockGuard&lt; Mutex &gt; MutexGuard</div><div class="ttdef"><b>Definition:</b> <a href="mutex_8h_source.html#l00219">mutex.h:219</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_html_ad86b3cf21e19e97ce484f32b894d548c"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">v8::internal::anonymous_namespace{json-stringifier.cc}::i</a></div><div class="ttdeci">size_t i</div><div class="ttdef"><b>Definition:</b> <a href="json-stringifier_8cc_source.html#l00548">json-stringifier.cc:548</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_html_a996ff47de27ce5f127bdcc0bff48b7f9"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a996ff47de27ce5f127bdcc0bff48b7f9">v8::internal::anonymous_namespace{read-only-promotion.cc}::Contains</a></div><div class="ttdeci">bool Contains(const HeapObjectSet &amp;s, Tagged&lt; HeapObject &gt; o)</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00032">read-only-promotion.cc:32</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1tracing_html_a96000282e12b2483531025283d63154d"><div class="ttname"><a href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">v8::internal::tracing::type</a></div><div class="ttdeci">unsigned char * type</div><div class="ttdef"><b>Definition:</b> <a href="tracing_2trace-event_8h_source.html#l00457">trace-event.h:457</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html">v8::internal::wasm</a></div><div class="ttdef"><b>Definition:</b> <a href="asm-parser_8cc_source.html#l00024">asm-parser.cc:24</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a2e079999502e577b181583a71bb096ef"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a2e079999502e577b181583a71bb096ef">v8::internal::wasm::kMaxCanonicalTypes</a></div><div class="ttdeci">static constexpr size_t kMaxCanonicalTypes</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8h_source.html#l00030">canonical-types.h:30</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a5f3afadb8ac8aa1c39b17545c7facf09"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a5f3afadb8ac8aa1c39b17545c7facf09">v8::internal::wasm::kWasmI8</a></div><div class="ttdeci">constexpr IndependentValueType kWasmI8</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01248">value-type.h:1248</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a6feb413448e84daf9201bd8a2381a718"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a6feb413448e84daf9201bd8a2381a718">v8::internal::wasm::GetTypeCanonicalizer</a></div><div class="ttdeci">TypeCanonicalizer * GetTypeCanonicalizer()</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8cc_source.html#l00020">canonical-types.cc:20</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a9426d91ec5f89dd5402e6579bd09e9cc"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a9426d91ec5f89dd5402e6579bd09e9cc">v8::internal::wasm::kNoSuperType</a></div><div class="ttdeci">constexpr ModuleTypeIndex kNoSuperType</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l00079">value-type.h:79</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_aa122591443234c1d0b597dadc9d55c5e"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#aa122591443234c1d0b597dadc9d55c5e">v8::internal::wasm::ContentSize</a></div><div class="ttdeci">size_t ContentSize(const std::vector&lt; T &gt; &amp;vector)</div><div class="ttdef"><b>Definition:</b> <a href="std-object-sizes_8h_source.html#l00028">std-object-sizes.h:28</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ab2a93a59aa0f5e34712e0e4031f8b63e"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ab2a93a59aa0f5e34712e0e4031f8b63e">v8::internal::wasm::kNotShared</a></div><div class="ttdeci">static constexpr bool kNotShared</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l00106">value-type.h:106</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_abc12fc3b25ebfb54c20b8479642acb94"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#abc12fc3b25ebfb54c20b8479642acb94">v8::internal::wasm::GetWasmEngine</a></div><div class="ttdeci">WasmEngine * GetWasmEngine()</div><div class="ttdef"><b>Definition:</b> <a href="wasm-engine_8cc_source.html#l02125">wasm-engine.cc:2125</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_af2d01915a8d185e3b4b8e95908eca2d7"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#af2d01915a8d185e3b4b8e95908eca2d7">v8::internal::wasm::kWasmI16</a></div><div class="ttdeci">constexpr IndependentValueType kWasmI16</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01249">value-type.h:1249</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html"><div class="ttname"><a href="namespacev8_1_1internal.html">v8::internal</a></div><div class="ttdef"><b>Definition:</b> <a href="api-arguments-inl_8h_source.html#l00020">api-arguments-inl.h:20</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a0cfab207d565dcf62ebf50f3987e05de"><div class="ttname"><a href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">v8::internal::index</a></div><div class="ttdeci">int index</div><div class="ttdef"><b>Definition:</b> <a href="heap-snapshot-generator_8cc_source.html#l01698">heap-snapshot-generator.cc:1698</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a3430752cde9f29d73e97ceed1bce0856"><div class="ttname"><a href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">v8::internal::PrintF</a></div><div class="ttdeci">void PrintF(const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="utils_2utils_8cc_source.html#l00039">utils.cc:39</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5b59223136254772ef018d90e009318d"><div class="ttname"><a href="namespacev8_1_1internal.html#a5b59223136254772ef018d90e009318d">v8::internal::MemsetTagged</a></div><div class="ttdeci">void MemsetTagged(Tagged_t *start, Tagged&lt; MaybeObject &gt; value, size_t counter)</div><div class="ttdef"><b>Definition:</b> <a href="slots-inl_8h_source.html#l00497">slots-inl.h:497</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a604d5beeb6fc8639670f737ed201e20aa0aa38c28f349d65a6819e03844b73dff"><div class="ttname"><a href="namespacev8_1_1internal.html#a604d5beeb6fc8639670f737ed201e20aa0aa38c28f349d65a6819e03844b73dff">v8::internal::AllocationType::kOld</a></div><div class="ttdeci">@ kOld</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a6135f0ef57de8d381e3225f6659c617a"><div class="ttname"><a href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">v8::internal::sig</a></div><div class="ttdeci">kWasmInternalFunctionIndirectPointerTag kProtectedInstanceDataOffset sig</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects-inl_8h_source.html#l00471">wasm-objects-inl.h:471</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa2b1520107e1a7067d5db8226721c882"><div class="ttname"><a href="namespacev8_1_1internal.html#aa2b1520107e1a7067d5db8226721c882">v8::internal::ClearedValue</a></div><div class="ttdeci">Tagged&lt; ClearedWeakValue &gt; ClearedValue(PtrComprCageBase cage_base)</div><div class="ttdef"><b>Definition:</b> <a href="maybe-object-inl_8h_source.html#l00020">maybe-object-inl.h:20</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa6b3743bd5d773c552654f2a6c3efa4a"><div class="ttname"><a href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK</a></div><div class="ttdeci">DCHECK(IsNull(value)||IsNativeContext(value)||value==Smi::uninitialized_deserialization_value())</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa9db791c05a0359859a321dcfec42e37"><div class="ttname"><a href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a></div><div class="ttdeci">V8_EXPORT_PRIVATE FlagValues v8_flags</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_abb767b639fb9b3ebabe15c8e91e99210a0a0ecdb4eded286c722877578774a293"><div class="ttname"><a href="namespacev8_1_1internal.html#abb767b639fb9b3ebabe15c8e91e99210a0a0ecdb4eded286c722877578774a293">v8::internal::WasmValueType::kI32</a></div><div class="ttdeci">@ kI32</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ac328869a355886739965287befcc49aca32567d9e5f2d66c9b326c45e800abcf6"><div class="ttname"><a href="namespacev8_1_1internal.html#ac328869a355886739965287befcc49aca32567d9e5f2d66c9b326c45e800abcf6">v8::internal::PropertyConstness::kMutable</a></div><div class="ttdeci">@ kMutable</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ad03e50e4d15ee0da6a722254f350e7eb"><div class="ttname"><a href="namespacev8_1_1internal.html#ad03e50e4d15ee0da6a722254f350e7eb">v8::internal::kMaxInt</a></div><div class="ttdeci">constexpr int kMaxInt</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00375">globals.h:375</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_afa9ea55d792121fba92b4cfc8ef8c9d7"><div class="ttname"><a href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">v8::internal::length</a></div><div class="ttdeci">size_t length</div><div class="ttdef"><b>Definition:</b> <a href="external-reference_8cc_source.html#l01508">external-reference.cc:1508</a></div></div>
<div class="ttc" id="aroots-inl_8h_html"><div class="ttname"><a href="roots-inl_8h.html">roots-inl.h</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a16b382527f19b805fc8f856668f2270b"><div class="ttname"><a href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a></div><div class="ttdeci">#define DCHECK_LE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00489">logging.h:489</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a45a0717f39b7011dc823c1fe7b83e6fc"><div class="ttname"><a href="src_2base_2logging_8h.html#a45a0717f39b7011dc823c1fe7b83e6fc">CHECK_LT</a></div><div class="ttdeci">#define CHECK_LT(lhs, rhs)</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a56e883b55c80205b4d1727679c68b2bd"><div class="ttname"><a href="src_2base_2logging_8h.html#a56e883b55c80205b4d1727679c68b2bd">CHECK_LE</a></div><div class="ttdeci">#define CHECK_LE(lhs, rhs)</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a986dc8f4ec6dcd0644efe205c13f8eb7"><div class="ttname"><a href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a></div><div class="ttdeci">#define DCHECK_NE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00485">logging.h:485</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_aabec5c3b7a8628298a25f044dcf89c25"><div class="ttname"><a href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a></div><div class="ttdeci">#define DCHECK_GE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00487">logging.h:487</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_aca32614b4d2aea7dd9abdeb222bf02f3"><div class="ttname"><a href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a></div><div class="ttdeci">#define CHECK_EQ(lhs, rhs)</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_af1a711c8d5520dff78858ddefd2ad668"><div class="ttname"><a href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a></div><div class="ttdeci">#define DCHECK_LT(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00488">logging.h:488</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_af9c313d74155f7f201955a939e24c71f"><div class="ttname"><a href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a></div><div class="ttdeci">#define DCHECK_EQ(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00484">logging.h:484</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_afd957f297df7e9ee36c46185e961485f"><div class="ttname"><a href="src_2base_2logging_8h.html#afd957f297df7e9ee36c46185e961485f">DCHECK_GT</a></div><div class="ttdeci">#define DCHECK_GT(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00486">logging.h:486</a></div></div>
<div class="ttc" id="asrc_2init_2v8_8h_html"><div class="ttname"><a href="src_2init_2v8_8h.html">v8.h</a></div></div>
<div class="ttc" id="astd-object-sizes_8h_html"><div class="ttname"><a href="std-object-sizes_8h.html">std-object-sizes.h</a></div></div>
<div class="ttc" id="astd-object-sizes_8h_html_a56caa02a4280c4f0c82adab429400770"><div class="ttname"><a href="std-object-sizes_8h.html#a56caa02a4280c4f0c82adab429400770">UPDATE_WHEN_CLASS_CHANGES</a></div><div class="ttdeci">#define UPDATE_WHEN_CLASS_CHANGES(classname, size)</div><div class="ttdef"><b>Definition:</b> <a href="std-object-sizes_8h_source.html#l00079">std-object-sizes.h:79</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex_html"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">v8::internal::wasm::CanonicalTypeIndex</a></div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l00082">value-type.h:82</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex_html_a7150c4706b3669167b674204f134831b"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html#a7150c4706b3669167b674204f134831b">v8::internal::wasm::CanonicalTypeIndex::Invalid</a></div><div class="ttdeci">static constexpr CanonicalTypeIndex Invalid()</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l00094">value-type.h:94</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1ModuleTypeIndex_html"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1ModuleTypeIndex.html">v8::internal::wasm::ModuleTypeIndex</a></div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l00064">value-type.h:64</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalGroup_html"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalGroup.html">v8::internal::wasm::TypeCanonicalizer::CanonicalGroup</a></div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8h_source.html#l00402">canonical-types.h:402</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalGroup_html_a49bf0780faabc7dc693dff7a11c060f2"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalGroup.html#a49bf0780faabc7dc693dff7a11c060f2">v8::internal::wasm::TypeCanonicalizer::CanonicalGroup::types</a></div><div class="ttdeci">const base::Vector&lt; CanonicalType &gt; types</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8h_source.html#l00429">canonical-types.h:429</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalSingletonGroup_html"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalSingletonGroup.html">v8::internal::wasm::TypeCanonicalizer::CanonicalSingletonGroup</a></div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8h_source.html#l00433">canonical-types.h:433</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalSingletonGroup_html_a4531a36826bd522474ab5ec848207ba4"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalSingletonGroup.html#a4531a36826bd522474ab5ec848207ba4">v8::internal::wasm::TypeCanonicalizer::CanonicalSingletonGroup::type</a></div><div class="ttdeci">CanonicalType type</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8h_source.html#l00445">canonical-types.h:445</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalType_html"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalType.html">v8::internal::wasm::TypeCanonicalizer::CanonicalType</a></div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8h_source.html#l00134">canonical-types.h:134</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalType_html_a0b03932da698784d7d41dcbb1491dfbca069a15f9a407451b321e9247cc1b526f"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalType.html#a0b03932da698784d7d41dcbb1491dfbca069a15f9a407451b321e9247cc1b526f">v8::internal::wasm::TypeCanonicalizer::CanonicalType::kFunction</a></div><div class="ttdeci">@ kFunction</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8h_source.html#l00135">canonical-types.h:135</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalType_html_a0b03932da698784d7d41dcbb1491dfbca26155be6e53ee073e27b0be223e7558e"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalType.html#a0b03932da698784d7d41dcbb1491dfbca26155be6e53ee073e27b0be223e7558e">v8::internal::wasm::TypeCanonicalizer::CanonicalType::kArray</a></div><div class="ttdeci">@ kArray</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8h_source.html#l00135">canonical-types.h:135</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalType_html_a0b03932da698784d7d41dcbb1491dfbcab8e4e34798c92139d5c8aa3f4c4f919e"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalType.html#a0b03932da698784d7d41dcbb1491dfbcab8e4e34798c92139d5c8aa3f4c4f919e">v8::internal::wasm::TypeCanonicalizer::CanonicalType::kStruct</a></div><div class="ttdeci">@ kStruct</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8h_source.html#l00135">canonical-types.h:135</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalType_html_a121fb1b8968855767064d600f3b16adb"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_1_1CanonicalType.html#a121fb1b8968855767064d600f3b16adb">v8::internal::wasm::TypeCanonicalizer::CanonicalType::supertype</a></div><div class="ttdeci">CanonicalTypeIndex supertype</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8h_source.html#l00143">canonical-types.h:143</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1TypeDefinition_html"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1TypeDefinition.html">v8::internal::wasm::TypeDefinition</a></div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00425">wasm-module.h:425</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1TypeDefinition_html_afbde19d26f66633da8d73c5b83b483f9a324ee918d9aa871d72de0f4cb802b6a8"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1TypeDefinition.html#afbde19d26f66633da8d73c5b83b483f9a324ee918d9aa871d72de0f4cb802b6a8">v8::internal::wasm::TypeDefinition::kStruct</a></div><div class="ttdeci">@ kStruct</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00428">wasm-module.h:428</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1TypeDefinition_html_afbde19d26f66633da8d73c5b83b483f9a3ecda5f0738a61c9624543afa97c8175"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1TypeDefinition.html#afbde19d26f66633da8d73c5b83b483f9a3ecda5f0738a61c9624543afa97c8175">v8::internal::wasm::TypeDefinition::kFunction</a></div><div class="ttdeci">@ kFunction</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00427">wasm-module.h:427</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1TypeDefinition_html_afbde19d26f66633da8d73c5b83b483f9a8de84f51ad50b5b3ffe8071bce8d74f4"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1TypeDefinition.html#afbde19d26f66633da8d73c5b83b483f9a8de84f51ad50b5b3ffe8071bce8d74f4">v8::internal::wasm::TypeDefinition::kArray</a></div><div class="ttdeci">@ kArray</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00429">wasm-module.h:429</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1TypeDefinition_html_afbde19d26f66633da8d73c5b83b483f9aa77040ad212f1ecb021fbc2b1d90b320"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1TypeDefinition.html#afbde19d26f66633da8d73c5b83b483f9aa77040ad212f1ecb021fbc2b1d90b320">v8::internal::wasm::TypeDefinition::kCont</a></div><div class="ttdeci">@ kCont</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00430">wasm-module.h:430</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1TypeIndex_html_a9340071636f85090c2fe2171797857c0"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1TypeIndex.html#a9340071636f85090c2fe2171797857c0">v8::internal::wasm::TypeIndex::valid</a></div><div class="ttdeci">constexpr bool valid() const</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l00059">value-type.h:59</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1TypeIndex_html_ad0355b4f2bc1bc8a489e4d01da40067b"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1TypeIndex.html#ad0355b4f2bc1bc8a489e4d01da40067b">v8::internal::wasm::TypeIndex::index</a></div><div class="ttdeci">uint32_t index</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l00053">value-type.h:53</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html">v8::internal::wasm::WasmModule</a></div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00666">wasm-module.h:666</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_a0e40d6e8dc4725dfce209c234005dbf6"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a0e40d6e8dc4725dfce209c234005dbf6">v8::internal::wasm::WasmModule::types</a></div><div class="ttdeci">std::vector&lt; TypeDefinition &gt; types</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00710">wasm-module.h:710</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_a1c8bccf9b03db76dd60dbb7b0b5e3cac"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a1c8bccf9b03db76dd60dbb7b0b5e3cac">v8::internal::wasm::WasmModule::isorecursive_canonical_type_ids</a></div><div class="ttdeci">std::vector&lt; CanonicalTypeIndex &gt; isorecursive_canonical_type_ids</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00713">wasm-module.h:713</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_a203c3dead384ed9378fabac21ef51c52"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a203c3dead384ed9378fabac21ef51c52">v8::internal::wasm::WasmModule::canonical_type_id</a></div><div class="ttdeci">CanonicalTypeIndex canonical_type_id(ModuleTypeIndex index) const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00813">wasm-module.h:813</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_a89e37309b6619867746a4cf77adcaa2a"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a89e37309b6619867746a4cf77adcaa2a">v8::internal::wasm::WasmModule::type</a></div><div class="ttdeci">const TypeDefinition &amp; type(ModuleTypeIndex index) const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00801">wasm-module.h:801</a></div></div>
<div class="ttc" id="autils_2utils_8h_html"><div class="ttname"><a href="utils_2utils_8h.html">utils.h</a></div></div>
<div class="ttc" id="av8config_8h_html_a67bd29db07c711b0fb11ff1c324ebb60"><div class="ttname"><a href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a></div><div class="ttdeci">#define V8_UNLIKELY(condition)</div><div class="ttdef"><b>Definition:</b> <a href="v8config_8h_source.html#l00660">v8config.h:660</a></div></div>
<div class="ttc" id="awasm-engine_8h_html"><div class="ttname"><a href="wasm-engine_8h.html">wasm-engine.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_19225156eb7ba052e31d1a736469917a.html">mnt</a></li><li class="navelem"><a class="el" href="dir_3536f6d353061322e9ef91134b76e9ed.html">V8SourceCode</a></li><li class="navelem"><a class="el" href="dir_fbd53c45610d490c9fb8d0716db4e3a3.html">src</a></li><li class="navelem"><a class="el" href="dir_72f9e9028b46e75e11b89ac450e9bb8f.html">wasm</a></li><li class="navelem"><a class="el" href="canonical-types_8cc.html">canonical-types.cc</a></li>
    <li class="footer">Generated on Thu Jun 12 2025 16:00:50 for V8 Project by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
