<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>V8 Project: /mnt/V8SourceCode/src/base/region-allocator.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">V8 Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('region-allocator_8h_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">region-allocator.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="region-allocator_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright 2018 the V8 project authors. All rights reserved.</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// Use of this source code is governed by a BSD-style license that can be</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// found in the LICENSE file.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160; </div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#ifndef V8_BASE_REGION_ALLOCATOR_H_</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#define V8_BASE_REGION_ALLOCATOR_H_</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160; </div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;set&gt;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160; </div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="address-region_8h.html">src/base/address-region.h</a>&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="random-number-generator_8h.html">src/base/utils/random-number-generator.h</a>&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;testing/gtest/include/gtest/gtest_prod.h&quot;</span>  <span class="comment">// nogncheck</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160; </div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacev8.html">v8</a> {</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="keyword">namespace </span>base {</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160; </div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">// Helper class for managing used/free regions within [address, address+size)</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">// region. Minimum allocation unit is |page_size|. Requested allocation size</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">// is rounded up to |page_size|.</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">// The region allocation algorithm implements best-fit with coalescing strategy:</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">// it tries to find a smallest suitable free region upon allocation and tries</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">// to merge region with its neighbors upon freeing.</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">// This class does not perform any actual region reservation.</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">// Not thread-safe.</span></div>
<div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1RegionAllocator.html">   26</a></span>&#160;<span class="keyword">class </span><a class="code" href="base-export_8h.html#aa4fedc3c9e2b5fc6f324138ab21c6e64">V8_BASE_EXPORT</a> <a class="code" href="classv8_1_1base_1_1RegionAllocator.html">RegionAllocator</a> final {</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1RegionAllocator.html#a623e33e76754dbfa669c6689d0428c78">   28</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classuintptr__t.html">Address</a> = <a class="code" href="classuintptr__t.html">uintptr_t</a>;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160; </div>
<div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1RegionAllocator.html#ac9cf86740b6fb2b41e943b834edda6aa">   30</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classv8_1_1base_1_1RegionAllocator.html#ac9cf86740b6fb2b41e943b834edda6aa">SplitMergeCallback</a> = std::function&lt;<a class="code" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>(<a class="code" href="classuintptr__t.html">Address</a> start, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>)&gt;;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160; </div>
<div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1RegionAllocator.html#ad71f7237bc76ed36662935004f126f04">   32</a></span>&#160;  <span class="keyword">static</span> constexpr <a class="code" href="classuintptr__t.html">Address</a> kAllocationFailure = <span class="keyword">static_cast&lt;</span><a class="code" href="classuintptr__t.html">Address</a><span class="keyword">&gt;</span>(-1);</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160; </div>
<div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1RegionAllocator.html#a21dac290230effb3792379926765c314">   34</a></span>&#160;  <span class="keyword">enum class</span> <a class="code" href="classv8_1_1base_1_1RegionAllocator.html#a21dac290230effb3792379926765c314">RegionState</a> {</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <span class="comment">// The region can be allocated from.</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    kFree,</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="comment">// The region has been carved out of the wider area and is not allocatable.</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    kExcluded,</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <span class="comment">// The region has been allocated and is managed by a RegionAllocator.</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    kAllocated,</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  };</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160; </div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1RegionAllocator.html#ab11d85429122680295578708aa0bc665">   43</a></span>&#160;  <span class="keyword">enum class</span> <a class="code" href="classv8_1_1base_1_1RegionAllocator.html#ab11d85429122680295578708aa0bc665">AllocationStrategy</a> {</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="comment">// Allocates in the first large enough free region.</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    kFirstFit,</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160; </div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="comment">// Allocates in the largest free region.</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    kLargestFit,</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  };</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; </div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <a class="code" href="classv8_1_1base_1_1RegionAllocator.html">RegionAllocator</a>(<a class="code" href="classuintptr__t.html">Address</a> address, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, <span class="keywordtype">size_t</span> page_size);</div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1RegionAllocator.html#a043ca751c9f432d9e19109cba2bb84a1">   52</a></span>&#160;  <a class="code" href="classv8_1_1base_1_1RegionAllocator.html#a043ca751c9f432d9e19109cba2bb84a1">RegionAllocator</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1base_1_1RegionAllocator.html">RegionAllocator</a>&amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1RegionAllocator.html#a797513b661965a9a84d4370d6ab3911b">   53</a></span>&#160;  <a class="code" href="classv8_1_1base_1_1RegionAllocator.html">RegionAllocator</a>&amp; <a class="code" href="classv8_1_1base_1_1RegionAllocator.html#a797513b661965a9a84d4370d6ab3911b">operator=</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1base_1_1RegionAllocator.html">RegionAllocator</a>&amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  ~<a class="code" href="classv8_1_1base_1_1RegionAllocator.html">RegionAllocator</a>();</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <span class="comment">// Split and merge callbacks.</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <span class="comment">// These callbacks can be installed to perform additional logic when regions</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="comment">// are split or merged. For example, when managing Windows placeholder</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <span class="comment">// regions, a region must be split into sub-regions (using</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <span class="comment">// VirtualFree(MEM_PRESERVE_PLACEHOLDER)) before a part of it can be replaced</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <span class="comment">// with an actual memory mapping. Similarly, multiple sub-regions must be</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <span class="comment">// merged (using VirtualFree(MEM_COALESCE_PLACEHOLDERS)) when coalescing them</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <span class="comment">// into a larger, free region again.</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="comment">// The on_split callback is called to signal that an existing region is split</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="comment">// so that [start, start+size) becomes a new region.</span></div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1RegionAllocator.html#a70f7af84cd95eae8503a4ff61f2d621e">   68</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1base_1_1RegionAllocator.html#a70f7af84cd95eae8503a4ff61f2d621e">set_on_split_callback</a>(<a class="code" href="classv8_1_1base_1_1RegionAllocator.html#ac9cf86740b6fb2b41e943b834edda6aa">SplitMergeCallback</a> callback) {</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    on_split_ = callback;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  }</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <span class="comment">// The on_merge callback is called to signal that all regions in the range</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="comment">// [start, start+size) are merged into a single one.</span></div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1RegionAllocator.html#aa2f97e9115cba5128b5ffc0905010c92">   73</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1base_1_1RegionAllocator.html#aa2f97e9115cba5128b5ffc0905010c92">set_on_merge_callback</a>(<a class="code" href="classv8_1_1base_1_1RegionAllocator.html#ac9cf86740b6fb2b41e943b834edda6aa">SplitMergeCallback</a> callback) {</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    on_merge_ = callback;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  }</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="comment">// Allocates region of |size| (must be |page_size|-aligned). Returns</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="comment">// the address of the region on success or kAllocationFailure.</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <a class="code" href="classuintptr__t.html">Address</a> AllocateRegion(<span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, AllocationStrategy allocation_strategy =</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                                          AllocationStrategy::kFirstFit);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <span class="comment">// Same as above but tries to randomize the region displacement.</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <a class="code" href="classuintptr__t.html">Address</a> AllocateRegion(<a class="code" href="classv8_1_1base_1_1RandomNumberGenerator.html">RandomNumberGenerator</a>* rng, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160; </div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <span class="comment">// Allocates region of |size| at |requested_address| if it&#39;s free. Both the</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="comment">// address and the size must be |page_size|-aligned. On success returns</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <span class="comment">// true.</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="comment">// This kind of allocation is supposed to be used during setup phase to mark</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="comment">// certain regions as used or for randomizing regions displacement.</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="comment">// By default regions are marked as used, but can also be allocated as</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="comment">// RegionState::kExcluded to prevent the RegionAllocator from using that</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="comment">// memory range, which is useful when reserving any area to remap shared</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="comment">// memory into.</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <span class="keywordtype">bool</span> AllocateRegionAt(<a class="code" href="classuintptr__t.html">Address</a> requested_address, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>,</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                        RegionState region_state = RegionState::kAllocated);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160; </div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <span class="comment">// Allocates a region of |size| aligned to |alignment|. The size and alignment</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <span class="comment">// must be a multiple of |page_size|. Returns the address of the region on</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="comment">// success or kAllocationFailure.</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <a class="code" href="classuintptr__t.html">Address</a> AllocateAlignedRegion(<span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, <span class="keywordtype">size_t</span> alignment);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <span class="comment">// Attempts to allocate a region of the given size and alignment at the</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="comment">// specified address but fall back to allocating the region elsewhere if</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="comment">// necessary.</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <a class="code" href="classuintptr__t.html">Address</a> AllocateRegion(<a class="code" href="classuintptr__t.html">Address</a> hint, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, <span class="keywordtype">size_t</span> alignment);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <span class="comment">// Frees region at given |address|, returns the size of the region.</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="comment">// There must be a used region starting at given address otherwise nothing</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="comment">// will be freed and 0 will be returned.</span></div>
<div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1RegionAllocator.html#acd3b53ae0790f516aab692b5cc840012">  109</a></span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1base_1_1RegionAllocator.html#acd3b53ae0790f516aab692b5cc840012">FreeRegion</a>(<a class="code" href="classuintptr__t.html">Address</a> address) { <span class="keywordflow">return</span> TrimRegion(address, 0); }</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160; </div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="comment">// Decreases size of the previously allocated region at |address|, returns</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="comment">// freed size. |new_size| must be |page_size|-aligned and</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="comment">// less than or equal to current region&#39;s size. Setting new size to zero</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="comment">// frees the region.</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="keywordtype">size_t</span> TrimRegion(<a class="code" href="classuintptr__t.html">Address</a> address, <span class="keywordtype">size_t</span> new_size);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160; </div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <span class="comment">// Tries to grow the region at |address| to the size |new_size|. Returns true</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="comment">// on success.</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="keywordtype">bool</span> TryGrowRegion(<a class="code" href="classuintptr__t.html">Address</a> address, <span class="keywordtype">size_t</span> new_size);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160; </div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="comment">// If there is a used region starting at given address returns its size</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="comment">// otherwise 0.</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="keywordtype">size_t</span> CheckRegion(<a class="code" href="classuintptr__t.html">Address</a> address);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160; </div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <span class="comment">// Returns true if there are no pages allocated in given region.</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="keywordtype">bool</span> IsFree(<a class="code" href="classuintptr__t.html">Address</a> address, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160; </div>
<div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1RegionAllocator.html#a3437cbd3fc2327d85832dd21bf647d3d">  128</a></span>&#160;  <a class="code" href="classuintptr__t.html">Address</a> <a class="code" href="classv8_1_1base_1_1RegionAllocator.html#a3437cbd3fc2327d85832dd21bf647d3d">begin</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> whole_region_.begin(); }</div>
<div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1RegionAllocator.html#a8516cded10cb1cfb159fc4e807546aa6">  129</a></span>&#160;  <a class="code" href="classuintptr__t.html">Address</a> <a class="code" href="classv8_1_1base_1_1RegionAllocator.html#a8516cded10cb1cfb159fc4e807546aa6">end</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> whole_region_.end(); }</div>
<div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1RegionAllocator.html#a0fd217bd58091193f8a7b3714cd3b695">  130</a></span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1base_1_1RegionAllocator.html#a0fd217bd58091193f8a7b3714cd3b695">size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> whole_region_.size(); }</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1RegionAllocator.html#a66f0ba7e4a5b1850714989de3a697e76">  132</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1base_1_1RegionAllocator.html#a66f0ba7e4a5b1850714989de3a697e76">contains</a>(<a class="code" href="classuintptr__t.html">Address</a> address)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keywordflow">return</span> whole_region_.contains(address);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  }</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160; </div>
<div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1RegionAllocator.html#aa70179b13323d1875df94fbd6b47fc12">  136</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1base_1_1RegionAllocator.html#aa70179b13323d1875df94fbd6b47fc12">contains</a>(<a class="code" href="classuintptr__t.html">Address</a> address, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordflow">return</span> whole_region_.contains(address, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  }</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160; </div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="comment">// Total size of not yet acquired regions.</span></div>
<div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1RegionAllocator.html#aaa2ecdae9b4876b7c6815d8ffb161124">  141</a></span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1base_1_1RegionAllocator.html#aaa2ecdae9b4876b7c6815d8ffb161124">free_size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> free_size_; }</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="comment">// The alignment of the allocated region&#39;s addresses and granularity of</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="comment">// the allocated region&#39;s sizes.</span></div>
<div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1RegionAllocator.html#aebfeaa4b85144d83f99f84d5895cfacf">  145</a></span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1base_1_1RegionAllocator.html#aebfeaa4b85144d83f99f84d5895cfacf">page_size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> page_size_; }</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160; </div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1internal.html#a6b717bb53640adb6d9de62f718e70b3a">Print</a>(std::ostream&amp; os) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160; </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1RegionAllocator_1_1Region.html">  150</a></span>&#160;  <span class="keyword">class </span><a class="code" href="classv8_1_1base_1_1RegionAllocator_1_1Region.html">Region</a> : <span class="keyword">public</span> <a class="code" href="classv8_1_1base_1_1AddressRegion.html">AddressRegion</a> {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;   <span class="keyword">public</span>:</div>
<div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1RegionAllocator_1_1Region.html#a2f83594a511a29fe14e4dbac10e07a98">  152</a></span>&#160;    <a class="code" href="classv8_1_1base_1_1RegionAllocator_1_1Region.html#a2f83594a511a29fe14e4dbac10e07a98">Region</a>(<a class="code" href="classuintptr__t.html">Address</a> address, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, <a class="code" href="classv8_1_1base_1_1RegionAllocator.html#a21dac290230effb3792379926765c314">RegionState</a> state)</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        : <a class="code" href="classv8_1_1base_1_1AddressRegion.html">AddressRegion</a>(address, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>), state_(state) {}</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
<div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1RegionAllocator_1_1Region.html#ad077e193a279311826f1e6b6137c067f">  155</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1base_1_1RegionAllocator_1_1Region.html#ad077e193a279311826f1e6b6137c067f">is_free</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> state_ == RegionState::kFree; }</div>
<div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1RegionAllocator_1_1Region.html#aa7e6231bab9cb06c12ddd47580adf2c9">  156</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1base_1_1RegionAllocator_1_1Region.html#aa7e6231bab9cb06c12ddd47580adf2c9">is_allocated</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> state_ == RegionState::kAllocated; }</div>
<div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1RegionAllocator_1_1Region.html#a50137618decf4587dd6301ab093f6c76">  157</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1base_1_1RegionAllocator_1_1Region.html#a50137618decf4587dd6301ab093f6c76">is_excluded</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> state_ == RegionState::kExcluded; }</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160; </div>
<div class="line"><a name="l00159"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1RegionAllocator_1_1Region.html#a53666758e7cda9af56379ea17e84b3ba">  159</a></span>&#160;    <a class="code" href="classv8_1_1base_1_1RegionAllocator.html#a21dac290230effb3792379926765c314">RegionState</a> <a class="code" href="classv8_1_1base_1_1RegionAllocator_1_1Region.html#a53666758e7cda9af56379ea17e84b3ba">state</a>() { <span class="keywordflow">return</span> state_; }</div>
<div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1RegionAllocator_1_1Region.html#a3b12337ead53d50008c22fb41b1e9cb8">  160</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classv8_1_1base_1_1RegionAllocator_1_1Region.html#a3b12337ead53d50008c22fb41b1e9cb8">set_state</a>(<a class="code" href="classv8_1_1base_1_1RegionAllocator.html#a21dac290230effb3792379926765c314">RegionState</a> state) { state_ = state; }</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160; </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1internal.html#a6b717bb53640adb6d9de62f718e70b3a">Print</a>(std::ostream&amp; os) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160; </div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;   <span class="keyword">private</span>:</div>
<div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1RegionAllocator_1_1Region.html#aeb840f886e5ef54e5f2008b460b404fb">  165</a></span>&#160;    <a class="code" href="classv8_1_1base_1_1RegionAllocator.html#a21dac290230effb3792379926765c314">RegionState</a> <a class="code" href="classv8_1_1base_1_1RegionAllocator_1_1Region.html#aeb840f886e5ef54e5f2008b460b404fb">state_</a>;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  };</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <span class="comment">// The whole region.</span></div>
<div class="line"><a name="l00169"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1RegionAllocator.html#a4c9236d7aa0dde53c42fa0135579fe17">  169</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="classv8_1_1base_1_1RegionAllocator_1_1Region.html">Region</a> <a class="code" href="classv8_1_1base_1_1RegionAllocator.html#a4c9236d7aa0dde53c42fa0135579fe17">whole_region_</a>;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160; </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="comment">// Number of |page_size_| in the whole region.</span></div>
<div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1RegionAllocator.html#a65f1f33bb3d168df3423465caaa03f99">  172</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1base_1_1RegionAllocator.html#a65f1f33bb3d168df3423465caaa03f99">region_size_in_pages_</a>;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <span class="comment">// If the free size is less than this value - stop trying to randomize the</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <span class="comment">// allocation addresses.</span></div>
<div class="line"><a name="l00176"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1RegionAllocator.html#a71953fb76fe5f6b17ece44f7e2ef16da">  176</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1base_1_1RegionAllocator.html#a71953fb76fe5f6b17ece44f7e2ef16da">max_load_for_randomization_</a>;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160; </div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <span class="comment">// Size of all free regions.</span></div>
<div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1RegionAllocator.html#aebd6da775b03963375b581b0fcd384c6">  179</a></span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1base_1_1RegionAllocator.html#aebd6da775b03963375b581b0fcd384c6">free_size_</a>;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160; </div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="comment">// Minimum region size. Must be a pow of 2.</span></div>
<div class="line"><a name="l00182"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1RegionAllocator.html#a43c9ac8a38d4d553e96e684c1f944c28">  182</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1base_1_1RegionAllocator.html#a43c9ac8a38d4d553e96e684c1f944c28">page_size_</a>;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160; </div>
<div class="line"><a name="l00184"></a><span class="lineno"><a class="line" href="structv8_1_1base_1_1RegionAllocator_1_1AddressEndOrder.html">  184</a></span>&#160;  <span class="keyword">struct </span><a class="code" href="structv8_1_1base_1_1RegionAllocator_1_1AddressEndOrder.html">AddressEndOrder</a> {</div>
<div class="line"><a name="l00185"></a><span class="lineno"><a class="line" href="structv8_1_1base_1_1RegionAllocator_1_1AddressEndOrder.html#a60061a646e59c3d1566c739fc9e31133">  185</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structv8_1_1base_1_1RegionAllocator_1_1AddressEndOrder.html#a60061a646e59c3d1566c739fc9e31133">operator()</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1base_1_1RegionAllocator_1_1Region.html">Region</a>* a, <span class="keyword">const</span> <a class="code" href="classv8_1_1base_1_1RegionAllocator_1_1Region.html">Region</a>* b)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      <span class="keywordflow">return</span> a-&gt;<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a13bbde71869b71658a03746941a13f69">end</a>() &lt; b-&gt;<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a13bbde71869b71658a03746941a13f69">end</a>();</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    }</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  };</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <span class="comment">// All regions ordered by addresses.</span></div>
<div class="line"><a name="l00190"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1RegionAllocator.html#a8771a58dcefe9e5161b6a6ce807f4a29">  190</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classv8_1_1base_1_1RegionAllocator.html#a8771a58dcefe9e5161b6a6ce807f4a29">AllRegionsSet</a> = std::set&lt;Region*, AddressEndOrder&gt;;</div>
<div class="line"><a name="l00191"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1RegionAllocator.html#a16c46e8e15248cc7ccfe963f32451a4d">  191</a></span>&#160;  <a class="code" href="classv8_1_1base_1_1RegionAllocator.html#a8771a58dcefe9e5161b6a6ce807f4a29">AllRegionsSet</a> <a class="code" href="classv8_1_1base_1_1RegionAllocator.html#a16c46e8e15248cc7ccfe963f32451a4d">all_regions_</a>;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160; </div>
<div class="line"><a name="l00193"></a><span class="lineno"><a class="line" href="structv8_1_1base_1_1RegionAllocator_1_1SizeAddressOrder.html">  193</a></span>&#160;  <span class="keyword">struct </span><a class="code" href="structv8_1_1base_1_1RegionAllocator_1_1SizeAddressOrder.html">SizeAddressOrder</a> {</div>
<div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="structv8_1_1base_1_1RegionAllocator_1_1SizeAddressOrder.html#a24f18075e284d988c0548320491daed7">  194</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structv8_1_1base_1_1RegionAllocator_1_1SizeAddressOrder.html#a24f18075e284d988c0548320491daed7">operator()</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1base_1_1RegionAllocator_1_1Region.html">Region</a>* a, <span class="keyword">const</span> <a class="code" href="classv8_1_1base_1_1RegionAllocator_1_1Region.html">Region</a>* b)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      <span class="keywordflow">if</span> (a-&gt;<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a753daf867d9e52511d3483b211a9f0b2">size</a>() != b-&gt;<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a753daf867d9e52511d3483b211a9f0b2">size</a>()) <span class="keywordflow">return</span> a-&gt;<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a753daf867d9e52511d3483b211a9f0b2">size</a>() &lt; b-&gt;<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a753daf867d9e52511d3483b211a9f0b2">size</a>();</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      <span class="keywordflow">return</span> a-&gt;<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a94a15b5dca8bef88c66880c9b00281ea">begin</a>() &lt; b-&gt;<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a94a15b5dca8bef88c66880c9b00281ea">begin</a>();</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    }</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  };</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="comment">// Free regions ordered by sizes and addresses.</span></div>
<div class="line"><a name="l00200"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1RegionAllocator.html#ae6eb9bbee58a9c8fe0cf2628735dbb85">  200</a></span>&#160;  std::set&lt;Region*, SizeAddressOrder&gt; <a class="code" href="classv8_1_1base_1_1RegionAllocator.html#ae6eb9bbee58a9c8fe0cf2628735dbb85">free_regions_</a>;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160; </div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="comment">// Callbacks called when regions are split or merged.</span></div>
<div class="line"><a name="l00203"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1RegionAllocator.html#a7eecc918e695d2a4ffdce6d0effc829e">  203</a></span>&#160;  <a class="code" href="classv8_1_1base_1_1RegionAllocator.html#ac9cf86740b6fb2b41e943b834edda6aa">SplitMergeCallback</a> <a class="code" href="classv8_1_1base_1_1RegionAllocator.html#a7eecc918e695d2a4ffdce6d0effc829e">on_split_</a>;</div>
<div class="line"><a name="l00204"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1RegionAllocator.html#aa09238c07bfa9f8909d92e1f1a485a36">  204</a></span>&#160;  <a class="code" href="classv8_1_1base_1_1RegionAllocator.html#ac9cf86740b6fb2b41e943b834edda6aa">SplitMergeCallback</a> <a class="code" href="classv8_1_1base_1_1RegionAllocator.html#aa09238c07bfa9f8909d92e1f1a485a36">on_merge_</a>;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160; </div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <span class="comment">// Returns region containing given address or nullptr.</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  AllRegionsSet::iterator FindRegion(<a class="code" href="classuintptr__t.html">Address</a> address);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160; </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <span class="comment">// Adds given region to the set of free regions.</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <span class="keywordtype">void</span> FreeListAddRegion(<a class="code" href="classv8_1_1base_1_1RegionAllocator_1_1Region.html">Region</a>* region);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160; </div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <span class="comment">// Finds best-fit free region for given size.</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <a class="code" href="classv8_1_1base_1_1RegionAllocator_1_1Region.html">Region</a>* FreeListFindRegion(<span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160; </div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <span class="comment">// Finds largest free region for given size.</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  <a class="code" href="classv8_1_1base_1_1RegionAllocator_1_1Region.html">Region</a>* FreeListFindLargestRegion(<span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="comment">// Removes given region from the set of free regions.</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <span class="keywordtype">void</span> FreeListRemoveRegion(<a class="code" href="classv8_1_1base_1_1RegionAllocator_1_1Region.html">Region</a>* region);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160; </div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <span class="comment">// Splits given |region| into two: one of |new_size| size and a new one</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <span class="comment">// having the rest. The new region is returned.</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <a class="code" href="classv8_1_1base_1_1RegionAllocator_1_1Region.html">Region</a>* Split(<a class="code" href="classv8_1_1base_1_1RegionAllocator_1_1Region.html">Region</a>* region, <span class="keywordtype">size_t</span> new_size);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160; </div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <span class="comment">// For two coalescing regions merges |next| to |prev| and deletes |next|.</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <span class="keywordtype">void</span> Merge(AllRegionsSet::iterator prev_iter,</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;             AllRegionsSet::iterator next_iter);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160; </div>
<div class="line"><a name="l00229"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1RegionAllocator.html#aa48c0256555bbfbf31c093997052d7f5">  229</a></span>&#160;  <a class="code" href="classv8_1_1base_1_1RegionAllocator.html#aa48c0256555bbfbf31c093997052d7f5">FRIEND_TEST</a>(RegionAllocatorTest, AllocateExcluded);</div>
<div class="line"><a name="l00230"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1RegionAllocator.html#a5e3089e258e90fa303180261bc692241">  230</a></span>&#160;  <a class="code" href="classv8_1_1base_1_1RegionAllocator.html#a5e3089e258e90fa303180261bc692241">FRIEND_TEST</a>(RegionAllocatorTest, AllocateRegionRandom);</div>
<div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1RegionAllocator.html#a0ca06dd05bda7e2e2b878091d14ff25d">  231</a></span>&#160;  <a class="code" href="classv8_1_1base_1_1RegionAllocator.html#a0ca06dd05bda7e2e2b878091d14ff25d">FRIEND_TEST</a>(RegionAllocatorTest, <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a996ff47de27ce5f127bdcc0bff48b7f9">Contains</a>);</div>
<div class="line"><a name="l00232"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1RegionAllocator.html#a1befa7ce95d1e249af5e8e1643226790">  232</a></span>&#160;  <a class="code" href="classv8_1_1base_1_1RegionAllocator.html#a1befa7ce95d1e249af5e8e1643226790">FRIEND_TEST</a>(RegionAllocatorTest, FindRegion);</div>
<div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1RegionAllocator.html#a05a638d46af65498a9f97d65995c8c0f">  233</a></span>&#160;  <a class="code" href="classv8_1_1base_1_1RegionAllocator.html#a05a638d46af65498a9f97d65995c8c0f">FRIEND_TEST</a>(RegionAllocatorTest, Fragmentation);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;};</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160; </div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;}  <span class="comment">// namespace base</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;}  <span class="comment">// namespace v8</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160; </div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_BASE_REGION_ALLOCATOR_H_</span></div>
<div class="ttc" id="aaddress-region_8h_html"><div class="ttname"><a href="address-region_8h.html">address-region.h</a></div></div>
<div class="ttc" id="abase-export_8h_html_aa4fedc3c9e2b5fc6f324138ab21c6e64"><div class="ttname"><a href="base-export_8h.html#aa4fedc3c9e2b5fc6f324138ab21c6e64">V8_BASE_EXPORT</a></div><div class="ttdeci">#define V8_BASE_EXPORT</div><div class="ttdef"><b>Definition:</b> <a href="base-export_8h_source.html#l00026">base-export.h:26</a></div></div>
<div class="ttc" id="aclassuintptr__t_html"><div class="ttname"><a href="classuintptr__t.html">uintptr_t</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1AddressRegion_html"><div class="ttname"><a href="classv8_1_1base_1_1AddressRegion.html">v8::base::AddressRegion</a></div><div class="ttdef"><b>Definition:</b> <a href="address-region_8h_source.html#l00016">address-region.h:16</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1AddressRegion_html_a13bbde71869b71658a03746941a13f69"><div class="ttname"><a href="classv8_1_1base_1_1AddressRegion.html#a13bbde71869b71658a03746941a13f69">v8::base::AddressRegion::end</a></div><div class="ttdeci">Address end() const</div><div class="ttdef"><b>Definition:</b> <a href="address-region_8h_source.html#l00034">address-region.h:34</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1AddressRegion_html_a753daf867d9e52511d3483b211a9f0b2"><div class="ttname"><a href="classv8_1_1base_1_1AddressRegion.html#a753daf867d9e52511d3483b211a9f0b2">v8::base::AddressRegion::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdef"><b>Definition:</b> <a href="address-region_8h_source.html#l00036">address-region.h:36</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1AddressRegion_html_a94a15b5dca8bef88c66880c9b00281ea"><div class="ttname"><a href="classv8_1_1base_1_1AddressRegion.html#a94a15b5dca8bef88c66880c9b00281ea">v8::base::AddressRegion::begin</a></div><div class="ttdeci">Address begin() const</div><div class="ttdef"><b>Definition:</b> <a href="address-region_8h_source.html#l00033">address-region.h:33</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1RandomNumberGenerator_html"><div class="ttname"><a href="classv8_1_1base_1_1RandomNumberGenerator.html">v8::base::RandomNumberGenerator</a></div><div class="ttdef"><b>Definition:</b> <a href="random-number-generator_8h_source.html#l00038">random-number-generator.h:38</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1RegionAllocator_1_1Region_html"><div class="ttname"><a href="classv8_1_1base_1_1RegionAllocator_1_1Region.html">v8::base::RegionAllocator::Region</a></div><div class="ttdef"><b>Definition:</b> <a href="region-allocator_8h_source.html#l00150">region-allocator.h:150</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1RegionAllocator_1_1Region_html_a2f83594a511a29fe14e4dbac10e07a98"><div class="ttname"><a href="classv8_1_1base_1_1RegionAllocator_1_1Region.html#a2f83594a511a29fe14e4dbac10e07a98">v8::base::RegionAllocator::Region::Region</a></div><div class="ttdeci">Region(Address address, size_t size, RegionState state)</div><div class="ttdef"><b>Definition:</b> <a href="region-allocator_8h_source.html#l00152">region-allocator.h:152</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1RegionAllocator_1_1Region_html_a3b12337ead53d50008c22fb41b1e9cb8"><div class="ttname"><a href="classv8_1_1base_1_1RegionAllocator_1_1Region.html#a3b12337ead53d50008c22fb41b1e9cb8">v8::base::RegionAllocator::Region::set_state</a></div><div class="ttdeci">void set_state(RegionState state)</div><div class="ttdef"><b>Definition:</b> <a href="region-allocator_8h_source.html#l00160">region-allocator.h:160</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1RegionAllocator_1_1Region_html_a50137618decf4587dd6301ab093f6c76"><div class="ttname"><a href="classv8_1_1base_1_1RegionAllocator_1_1Region.html#a50137618decf4587dd6301ab093f6c76">v8::base::RegionAllocator::Region::is_excluded</a></div><div class="ttdeci">bool is_excluded() const</div><div class="ttdef"><b>Definition:</b> <a href="region-allocator_8h_source.html#l00157">region-allocator.h:157</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1RegionAllocator_1_1Region_html_a53666758e7cda9af56379ea17e84b3ba"><div class="ttname"><a href="classv8_1_1base_1_1RegionAllocator_1_1Region.html#a53666758e7cda9af56379ea17e84b3ba">v8::base::RegionAllocator::Region::state</a></div><div class="ttdeci">RegionState state()</div><div class="ttdef"><b>Definition:</b> <a href="region-allocator_8h_source.html#l00159">region-allocator.h:159</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1RegionAllocator_1_1Region_html_aa7e6231bab9cb06c12ddd47580adf2c9"><div class="ttname"><a href="classv8_1_1base_1_1RegionAllocator_1_1Region.html#aa7e6231bab9cb06c12ddd47580adf2c9">v8::base::RegionAllocator::Region::is_allocated</a></div><div class="ttdeci">bool is_allocated() const</div><div class="ttdef"><b>Definition:</b> <a href="region-allocator_8h_source.html#l00156">region-allocator.h:156</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1RegionAllocator_1_1Region_html_ad077e193a279311826f1e6b6137c067f"><div class="ttname"><a href="classv8_1_1base_1_1RegionAllocator_1_1Region.html#ad077e193a279311826f1e6b6137c067f">v8::base::RegionAllocator::Region::is_free</a></div><div class="ttdeci">bool is_free() const</div><div class="ttdef"><b>Definition:</b> <a href="region-allocator_8h_source.html#l00155">region-allocator.h:155</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1RegionAllocator_1_1Region_html_aeb840f886e5ef54e5f2008b460b404fb"><div class="ttname"><a href="classv8_1_1base_1_1RegionAllocator_1_1Region.html#aeb840f886e5ef54e5f2008b460b404fb">v8::base::RegionAllocator::Region::state_</a></div><div class="ttdeci">RegionState state_</div><div class="ttdef"><b>Definition:</b> <a href="region-allocator_8h_source.html#l00165">region-allocator.h:165</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1RegionAllocator_html"><div class="ttname"><a href="classv8_1_1base_1_1RegionAllocator.html">v8::base::RegionAllocator</a></div><div class="ttdef"><b>Definition:</b> <a href="region-allocator_8h_source.html#l00026">region-allocator.h:26</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1RegionAllocator_html_a043ca751c9f432d9e19109cba2bb84a1"><div class="ttname"><a href="classv8_1_1base_1_1RegionAllocator.html#a043ca751c9f432d9e19109cba2bb84a1">v8::base::RegionAllocator::RegionAllocator</a></div><div class="ttdeci">RegionAllocator(const RegionAllocator &amp;)=delete</div></div>
<div class="ttc" id="aclassv8_1_1base_1_1RegionAllocator_html_a05a638d46af65498a9f97d65995c8c0f"><div class="ttname"><a href="classv8_1_1base_1_1RegionAllocator.html#a05a638d46af65498a9f97d65995c8c0f">v8::base::RegionAllocator::FRIEND_TEST</a></div><div class="ttdeci">FRIEND_TEST(RegionAllocatorTest, Fragmentation)</div></div>
<div class="ttc" id="aclassv8_1_1base_1_1RegionAllocator_html_a0ca06dd05bda7e2e2b878091d14ff25d"><div class="ttname"><a href="classv8_1_1base_1_1RegionAllocator.html#a0ca06dd05bda7e2e2b878091d14ff25d">v8::base::RegionAllocator::FRIEND_TEST</a></div><div class="ttdeci">FRIEND_TEST(RegionAllocatorTest, Contains)</div></div>
<div class="ttc" id="aclassv8_1_1base_1_1RegionAllocator_html_a0fd217bd58091193f8a7b3714cd3b695"><div class="ttname"><a href="classv8_1_1base_1_1RegionAllocator.html#a0fd217bd58091193f8a7b3714cd3b695">v8::base::RegionAllocator::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdef"><b>Definition:</b> <a href="region-allocator_8h_source.html#l00130">region-allocator.h:130</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1RegionAllocator_html_a16c46e8e15248cc7ccfe963f32451a4d"><div class="ttname"><a href="classv8_1_1base_1_1RegionAllocator.html#a16c46e8e15248cc7ccfe963f32451a4d">v8::base::RegionAllocator::all_regions_</a></div><div class="ttdeci">AllRegionsSet all_regions_</div><div class="ttdef"><b>Definition:</b> <a href="region-allocator_8h_source.html#l00191">region-allocator.h:191</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1RegionAllocator_html_a1befa7ce95d1e249af5e8e1643226790"><div class="ttname"><a href="classv8_1_1base_1_1RegionAllocator.html#a1befa7ce95d1e249af5e8e1643226790">v8::base::RegionAllocator::FRIEND_TEST</a></div><div class="ttdeci">FRIEND_TEST(RegionAllocatorTest, FindRegion)</div></div>
<div class="ttc" id="aclassv8_1_1base_1_1RegionAllocator_html_a21dac290230effb3792379926765c314"><div class="ttname"><a href="classv8_1_1base_1_1RegionAllocator.html#a21dac290230effb3792379926765c314">v8::base::RegionAllocator::RegionState</a></div><div class="ttdeci">RegionState</div><div class="ttdef"><b>Definition:</b> <a href="region-allocator_8h_source.html#l00034">region-allocator.h:34</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1RegionAllocator_html_a3437cbd3fc2327d85832dd21bf647d3d"><div class="ttname"><a href="classv8_1_1base_1_1RegionAllocator.html#a3437cbd3fc2327d85832dd21bf647d3d">v8::base::RegionAllocator::begin</a></div><div class="ttdeci">Address begin() const</div><div class="ttdef"><b>Definition:</b> <a href="region-allocator_8h_source.html#l00128">region-allocator.h:128</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1RegionAllocator_html_a43c9ac8a38d4d553e96e684c1f944c28"><div class="ttname"><a href="classv8_1_1base_1_1RegionAllocator.html#a43c9ac8a38d4d553e96e684c1f944c28">v8::base::RegionAllocator::page_size_</a></div><div class="ttdeci">const size_t page_size_</div><div class="ttdef"><b>Definition:</b> <a href="region-allocator_8h_source.html#l00182">region-allocator.h:182</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1RegionAllocator_html_a4c9236d7aa0dde53c42fa0135579fe17"><div class="ttname"><a href="classv8_1_1base_1_1RegionAllocator.html#a4c9236d7aa0dde53c42fa0135579fe17">v8::base::RegionAllocator::whole_region_</a></div><div class="ttdeci">const Region whole_region_</div><div class="ttdef"><b>Definition:</b> <a href="region-allocator_8h_source.html#l00169">region-allocator.h:169</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1RegionAllocator_html_a5e3089e258e90fa303180261bc692241"><div class="ttname"><a href="classv8_1_1base_1_1RegionAllocator.html#a5e3089e258e90fa303180261bc692241">v8::base::RegionAllocator::FRIEND_TEST</a></div><div class="ttdeci">FRIEND_TEST(RegionAllocatorTest, AllocateRegionRandom)</div></div>
<div class="ttc" id="aclassv8_1_1base_1_1RegionAllocator_html_a65f1f33bb3d168df3423465caaa03f99"><div class="ttname"><a href="classv8_1_1base_1_1RegionAllocator.html#a65f1f33bb3d168df3423465caaa03f99">v8::base::RegionAllocator::region_size_in_pages_</a></div><div class="ttdeci">const size_t region_size_in_pages_</div><div class="ttdef"><b>Definition:</b> <a href="region-allocator_8h_source.html#l00172">region-allocator.h:172</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1RegionAllocator_html_a66f0ba7e4a5b1850714989de3a697e76"><div class="ttname"><a href="classv8_1_1base_1_1RegionAllocator.html#a66f0ba7e4a5b1850714989de3a697e76">v8::base::RegionAllocator::contains</a></div><div class="ttdeci">bool contains(Address address) const</div><div class="ttdef"><b>Definition:</b> <a href="region-allocator_8h_source.html#l00132">region-allocator.h:132</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1RegionAllocator_html_a70f7af84cd95eae8503a4ff61f2d621e"><div class="ttname"><a href="classv8_1_1base_1_1RegionAllocator.html#a70f7af84cd95eae8503a4ff61f2d621e">v8::base::RegionAllocator::set_on_split_callback</a></div><div class="ttdeci">void set_on_split_callback(SplitMergeCallback callback)</div><div class="ttdef"><b>Definition:</b> <a href="region-allocator_8h_source.html#l00068">region-allocator.h:68</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1RegionAllocator_html_a71953fb76fe5f6b17ece44f7e2ef16da"><div class="ttname"><a href="classv8_1_1base_1_1RegionAllocator.html#a71953fb76fe5f6b17ece44f7e2ef16da">v8::base::RegionAllocator::max_load_for_randomization_</a></div><div class="ttdeci">const size_t max_load_for_randomization_</div><div class="ttdef"><b>Definition:</b> <a href="region-allocator_8h_source.html#l00176">region-allocator.h:176</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1RegionAllocator_html_a797513b661965a9a84d4370d6ab3911b"><div class="ttname"><a href="classv8_1_1base_1_1RegionAllocator.html#a797513b661965a9a84d4370d6ab3911b">v8::base::RegionAllocator::operator=</a></div><div class="ttdeci">RegionAllocator &amp; operator=(const RegionAllocator &amp;)=delete</div></div>
<div class="ttc" id="aclassv8_1_1base_1_1RegionAllocator_html_a7eecc918e695d2a4ffdce6d0effc829e"><div class="ttname"><a href="classv8_1_1base_1_1RegionAllocator.html#a7eecc918e695d2a4ffdce6d0effc829e">v8::base::RegionAllocator::on_split_</a></div><div class="ttdeci">SplitMergeCallback on_split_</div><div class="ttdef"><b>Definition:</b> <a href="region-allocator_8h_source.html#l00203">region-allocator.h:203</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1RegionAllocator_html_a8516cded10cb1cfb159fc4e807546aa6"><div class="ttname"><a href="classv8_1_1base_1_1RegionAllocator.html#a8516cded10cb1cfb159fc4e807546aa6">v8::base::RegionAllocator::end</a></div><div class="ttdeci">Address end() const</div><div class="ttdef"><b>Definition:</b> <a href="region-allocator_8h_source.html#l00129">region-allocator.h:129</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1RegionAllocator_html_a8771a58dcefe9e5161b6a6ce807f4a29"><div class="ttname"><a href="classv8_1_1base_1_1RegionAllocator.html#a8771a58dcefe9e5161b6a6ce807f4a29">v8::base::RegionAllocator::AllRegionsSet</a></div><div class="ttdeci">std::set&lt; Region *, AddressEndOrder &gt; AllRegionsSet</div><div class="ttdef"><b>Definition:</b> <a href="region-allocator_8h_source.html#l00190">region-allocator.h:190</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1RegionAllocator_html_aa09238c07bfa9f8909d92e1f1a485a36"><div class="ttname"><a href="classv8_1_1base_1_1RegionAllocator.html#aa09238c07bfa9f8909d92e1f1a485a36">v8::base::RegionAllocator::on_merge_</a></div><div class="ttdeci">SplitMergeCallback on_merge_</div><div class="ttdef"><b>Definition:</b> <a href="region-allocator_8h_source.html#l00204">region-allocator.h:204</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1RegionAllocator_html_aa2f97e9115cba5128b5ffc0905010c92"><div class="ttname"><a href="classv8_1_1base_1_1RegionAllocator.html#aa2f97e9115cba5128b5ffc0905010c92">v8::base::RegionAllocator::set_on_merge_callback</a></div><div class="ttdeci">void set_on_merge_callback(SplitMergeCallback callback)</div><div class="ttdef"><b>Definition:</b> <a href="region-allocator_8h_source.html#l00073">region-allocator.h:73</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1RegionAllocator_html_aa48c0256555bbfbf31c093997052d7f5"><div class="ttname"><a href="classv8_1_1base_1_1RegionAllocator.html#aa48c0256555bbfbf31c093997052d7f5">v8::base::RegionAllocator::FRIEND_TEST</a></div><div class="ttdeci">FRIEND_TEST(RegionAllocatorTest, AllocateExcluded)</div></div>
<div class="ttc" id="aclassv8_1_1base_1_1RegionAllocator_html_aa70179b13323d1875df94fbd6b47fc12"><div class="ttname"><a href="classv8_1_1base_1_1RegionAllocator.html#aa70179b13323d1875df94fbd6b47fc12">v8::base::RegionAllocator::contains</a></div><div class="ttdeci">bool contains(Address address, size_t size) const</div><div class="ttdef"><b>Definition:</b> <a href="region-allocator_8h_source.html#l00136">region-allocator.h:136</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1RegionAllocator_html_aaa2ecdae9b4876b7c6815d8ffb161124"><div class="ttname"><a href="classv8_1_1base_1_1RegionAllocator.html#aaa2ecdae9b4876b7c6815d8ffb161124">v8::base::RegionAllocator::free_size</a></div><div class="ttdeci">size_t free_size() const</div><div class="ttdef"><b>Definition:</b> <a href="region-allocator_8h_source.html#l00141">region-allocator.h:141</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1RegionAllocator_html_ab11d85429122680295578708aa0bc665"><div class="ttname"><a href="classv8_1_1base_1_1RegionAllocator.html#ab11d85429122680295578708aa0bc665">v8::base::RegionAllocator::AllocationStrategy</a></div><div class="ttdeci">AllocationStrategy</div><div class="ttdef"><b>Definition:</b> <a href="region-allocator_8h_source.html#l00043">region-allocator.h:43</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1RegionAllocator_html_ac9cf86740b6fb2b41e943b834edda6aa"><div class="ttname"><a href="classv8_1_1base_1_1RegionAllocator.html#ac9cf86740b6fb2b41e943b834edda6aa">v8::base::RegionAllocator::SplitMergeCallback</a></div><div class="ttdeci">std::function&lt; void(Address start, size_t size)&gt; SplitMergeCallback</div><div class="ttdef"><b>Definition:</b> <a href="region-allocator_8h_source.html#l00030">region-allocator.h:30</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1RegionAllocator_html_acd3b53ae0790f516aab692b5cc840012"><div class="ttname"><a href="classv8_1_1base_1_1RegionAllocator.html#acd3b53ae0790f516aab692b5cc840012">v8::base::RegionAllocator::FreeRegion</a></div><div class="ttdeci">size_t FreeRegion(Address address)</div><div class="ttdef"><b>Definition:</b> <a href="region-allocator_8h_source.html#l00109">region-allocator.h:109</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1RegionAllocator_html_ae6eb9bbee58a9c8fe0cf2628735dbb85"><div class="ttname"><a href="classv8_1_1base_1_1RegionAllocator.html#ae6eb9bbee58a9c8fe0cf2628735dbb85">v8::base::RegionAllocator::free_regions_</a></div><div class="ttdeci">std::set&lt; Region *, SizeAddressOrder &gt; free_regions_</div><div class="ttdef"><b>Definition:</b> <a href="region-allocator_8h_source.html#l00200">region-allocator.h:200</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1RegionAllocator_html_aebd6da775b03963375b581b0fcd384c6"><div class="ttname"><a href="classv8_1_1base_1_1RegionAllocator.html#aebd6da775b03963375b581b0fcd384c6">v8::base::RegionAllocator::free_size_</a></div><div class="ttdeci">size_t free_size_</div><div class="ttdef"><b>Definition:</b> <a href="region-allocator_8h_source.html#l00179">region-allocator.h:179</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1RegionAllocator_html_aebfeaa4b85144d83f99f84d5895cfacf"><div class="ttname"><a href="classv8_1_1base_1_1RegionAllocator.html#aebfeaa4b85144d83f99f84d5895cfacf">v8::base::RegionAllocator::page_size</a></div><div class="ttdeci">size_t page_size() const</div><div class="ttdef"><b>Definition:</b> <a href="region-allocator_8h_source.html#l00145">region-allocator.h:145</a></div></div>
<div class="ttc" id="aflag-definitions_8h_html_a3df0b28b666e942ffb9d7d04acdb9715"><div class="ttname"><a href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enables Turboshaft s StaticAssert and CheckTurboshaftTypeOf operations Wasm code into JS functions via the JS to Wasm wrappers are still inlined in TurboFan For controlling whether to at see turbo inline js wasm calls enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information enable Turbolev features that we want to ship in the not too far future trace individual Turboshaft reduction steps trace intermediate Turboshaft reduction steps trace Turboshaft s if else to switch reducer invocation count threshold for early optimization Enables optimizations which favor memory size over execution speed Enables sampling allocation profiler with X as a sample interval min size of a semi the new space consists of two semi spaces max size of the preconfigured old space size(in Mbytes)&quot;)     DEFINE_INT(random_gc_interval</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_html_a996ff47de27ce5f127bdcc0bff48b7f9"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a996ff47de27ce5f127bdcc0bff48b7f9">v8::internal::anonymous_namespace{read-only-promotion.cc}::Contains</a></div><div class="ttdeci">bool Contains(const HeapObjectSet &amp;s, Tagged&lt; HeapObject &gt; o)</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00032">read-only-promotion.cc:32</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ac81d27d6edb00aeed62a3e4745b8cba0"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">v8::internal::wasm::void</a></div><div class="ttdeci">typedef void(VECTORCALL PWasmOp)(const uint8_t *code</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a6b717bb53640adb6d9de62f718e70b3a"><div class="ttname"><a href="namespacev8_1_1internal.html#a6b717bb53640adb6d9de62f718e70b3a">v8::internal::Print</a></div><div class="ttdeci">void Print(Tagged&lt; Object &gt; obj)</div><div class="ttdef"><b>Definition:</b> <a href="objects_8h_source.html#l00772">objects.h:772</a></div></div>
<div class="ttc" id="anamespacev8_html"><div class="ttname"><a href="namespacev8.html">v8</a></div><div class="ttdoc">This file provides additional API on top of the default one for making API calls, which come from emb...</div><div class="ttdef"><b>Definition:</b> <a href="api-arguments-inl_8h_source.html#l00019">api-arguments-inl.h:19</a></div></div>
<div class="ttc" id="arandom-number-generator_8h_html"><div class="ttname"><a href="random-number-generator_8h.html">random-number-generator.h</a></div></div>
<div class="ttc" id="astructv8_1_1base_1_1RegionAllocator_1_1AddressEndOrder_html"><div class="ttname"><a href="structv8_1_1base_1_1RegionAllocator_1_1AddressEndOrder.html">v8::base::RegionAllocator::AddressEndOrder</a></div><div class="ttdef"><b>Definition:</b> <a href="region-allocator_8h_source.html#l00184">region-allocator.h:184</a></div></div>
<div class="ttc" id="astructv8_1_1base_1_1RegionAllocator_1_1AddressEndOrder_html_a60061a646e59c3d1566c739fc9e31133"><div class="ttname"><a href="structv8_1_1base_1_1RegionAllocator_1_1AddressEndOrder.html#a60061a646e59c3d1566c739fc9e31133">v8::base::RegionAllocator::AddressEndOrder::operator()</a></div><div class="ttdeci">bool operator()(const Region *a, const Region *b) const</div><div class="ttdef"><b>Definition:</b> <a href="region-allocator_8h_source.html#l00185">region-allocator.h:185</a></div></div>
<div class="ttc" id="astructv8_1_1base_1_1RegionAllocator_1_1SizeAddressOrder_html"><div class="ttname"><a href="structv8_1_1base_1_1RegionAllocator_1_1SizeAddressOrder.html">v8::base::RegionAllocator::SizeAddressOrder</a></div><div class="ttdef"><b>Definition:</b> <a href="region-allocator_8h_source.html#l00193">region-allocator.h:193</a></div></div>
<div class="ttc" id="astructv8_1_1base_1_1RegionAllocator_1_1SizeAddressOrder_html_a24f18075e284d988c0548320491daed7"><div class="ttname"><a href="structv8_1_1base_1_1RegionAllocator_1_1SizeAddressOrder.html#a24f18075e284d988c0548320491daed7">v8::base::RegionAllocator::SizeAddressOrder::operator()</a></div><div class="ttdeci">bool operator()(const Region *a, const Region *b) const</div><div class="ttdef"><b>Definition:</b> <a href="region-allocator_8h_source.html#l00194">region-allocator.h:194</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_19225156eb7ba052e31d1a736469917a.html">mnt</a></li><li class="navelem"><a class="el" href="dir_3536f6d353061322e9ef91134b76e9ed.html">V8SourceCode</a></li><li class="navelem"><a class="el" href="dir_fbd53c45610d490c9fb8d0716db4e3a3.html">src</a></li><li class="navelem"><a class="el" href="dir_15cd31420d7325e73dc6fd0ece2ba0c9.html">base</a></li><li class="navelem"><a class="el" href="region-allocator_8h.html">region-allocator.h</a></li>
    <li class="footer">Generated on Thu Jun 12 2025 15:50:41 for V8 Project by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
