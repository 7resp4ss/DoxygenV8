<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>V8 Project: /mnt/V8SourceCode/src/objects/map-updater.cc Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">V8 Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('map-updater_8cc_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">map-updater.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="map-updater_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright 2017 the V8 project authors. All rights reserved.</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// Use of this source code is governed by a BSD-style license that can be</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// found in the LICENSE file.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160; </div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="map-updater_8h.html">src/objects/map-updater.h</a>&quot;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160; </div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;optional&gt;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;queue&gt;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160; </div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mutex_8h.html">src/base/platform/mutex.h</a>&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="frames_8h.html">src/execution/frames.h</a>&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="execution_2isolate_8h.html">src/execution/isolate.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="handles_8h.html">src/handles/handles.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="parked-scope-inl_8h.html">src/heap/parked-scope-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="field-type_8h.html">src/objects/field-type.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="keys_8h.html">src/objects/keys.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="objects-inl_8h.html">src/objects/objects-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="objects_8h.html">src/objects/objects.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="property-details_8h.html">src/objects/property-details.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="transitions_8h.html">src/objects/transitions.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160; </div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacev8_1_1internal.html">v8::internal</a> {</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160; </div>
<div class="line"><a name="l00024"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03.html">   24</a></span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160; </div>
<div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03.html#af46b0880f0e51ee10e8e6e61fe38084a">   26</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03.html#af46b0880f0e51ee10e8e6e61fe38084a">EqualImmutableValues</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> obj1, <a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> obj2) {</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;  <span class="keywordflow">if</span> (obj1 == obj2) <span class="keywordflow">return</span> <span class="keyword">true</span>;  <span class="comment">// Valid for both kData and kAccessor kinds.</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;  <span class="comment">// TODO(ishell): compare AccessorPairs.</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;}</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160; </div>
<div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03.html#a7eae755681e278977f2ae4a11bf949d9">   32</a></span>&#160;<a class="code" href="v8config_8h.html#a63258e4bf5dc9fb8c78f881c8405d83b">V8_WARN_UNUSED_RESULT</a> <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;FieldType&gt;</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03.html#a7eae755681e278977f2ae4a11bf949d9">GeneralizeFieldType</a>(</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Representation.html">Representation</a> rep1, <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;FieldType&gt;</a> type1, <a class="code" href="classv8_1_1internal_1_1Representation.html">Representation</a> rep2,</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;FieldType&gt;</a> type2, <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate) {</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1FieldType.html#ae3e25b47fcc85c189745eb8fd902ed40">FieldType::NowIs</a>(*type1, type2)) <span class="keywordflow">return</span> type2;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1FieldType.html#ae3e25b47fcc85c189745eb8fd902ed40">FieldType::NowIs</a>(*type2, type1)) <span class="keywordflow">return</span> type1;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1FieldType.html#a83b2eae94beaffcfdd7b2465521b3c17">FieldType::Any</a>(isolate);</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;}</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; </div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03.html#a11017d5e0e07217626b7dcb7acf267a3">   40</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03.html#a11017d5e0e07217626b7dcb7acf267a3">PrintGeneralization</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Map&gt;</a> map, FILE* <a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>,</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;                         <span class="keyword">const</span> <span class="keywordtype">char</span>* reason, <a class="code" href="classv8_1_1internal_1_1InternalIndex.html">InternalIndex</a> modify_index,</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;                         <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal_1_1libvtune.html#a85908a2ac6abdcec9ee9c4f7e51e795f">split</a>, <span class="keywordtype">int</span> descriptors, <span class="keywordtype">bool</span> descriptor_to_field,</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;                         <a class="code" href="classv8_1_1internal_1_1Representation.html">Representation</a> old_representation,</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;                         <a class="code" href="classv8_1_1internal_1_1Representation.html">Representation</a> new_representation,</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;                         <a class="code" href="namespacev8_1_1internal.html#ac328869a355886739965287befcc49ac">PropertyConstness</a> old_constness,</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;                         <a class="code" href="namespacev8_1_1internal.html#ac328869a355886739965287befcc49ac">PropertyConstness</a> new_constness,</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                         <a class="code" href="classv8_1_1internal_1_1MaybeDirectHandle.html">MaybeDirectHandle&lt;FieldType&gt;</a> old_field_type,</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;                         <a class="code" href="classv8_1_1internal_1_1MaybeDirectHandle.html">MaybeDirectHandle&lt;Object&gt;</a> old_value,</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;                         <a class="code" href="classv8_1_1internal_1_1MaybeDirectHandle.html">MaybeDirectHandle&lt;FieldType&gt;</a> new_field_type,</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;                         <a class="code" href="classv8_1_1internal_1_1MaybeDirectHandle.html">MaybeDirectHandle&lt;Object&gt;</a> new_value) {</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <a class="code" href="classv8_1_1internal_1_1OFStream.html">OFStream</a> os(<a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>);</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  os &lt;&lt; <span class="stringliteral">&quot;[generalizing]&quot;</span>;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Name&gt;</a> <a class="code" href="namespacev8_1_1internal.html#a611f0528d5415d4591ad6e8fe9513ac4">name</a> = map-&gt;instance_descriptors(isolate)-&gt;GetKey(modify_index);</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <span class="keywordflow">if</span> (IsString(<a class="code" href="namespacev8_1_1internal.html#a611f0528d5415d4591ad6e8fe9513ac4">name</a>)) {</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    Cast&lt;String&gt;(<a class="code" href="namespacev8_1_1internal.html#a611f0528d5415d4591ad6e8fe9513ac4">name</a>)-&gt;PrintOn(<a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    os &lt;&lt; <span class="stringliteral">&quot;{symbol &quot;</span> &lt;&lt; <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal.html#a611f0528d5415d4591ad6e8fe9513ac4">name</a>.ptr()) &lt;&lt; <span class="stringliteral">&quot;}&quot;</span>;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  }</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  os &lt;&lt; <span class="stringliteral">&quot;:&quot;</span>;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <span class="keywordflow">if</span> (descriptor_to_field) {</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    os &lt;&lt; <span class="stringliteral">&quot;c&quot;</span>;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    os &lt;&lt; old_representation.<a class="code" href="classv8_1_1internal_1_1Representation.html#a7e2fdee05215634e35a8cb1d0cef6a3d">Mnemonic</a>() &lt;&lt; <span class="stringliteral">&quot;{&quot;</span>;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="keywordflow">if</span> (old_field_type.<a class="code" href="classv8_1_1internal_1_1MaybeDirectHandle.html#a872ccde05e0ba79452e0b75afdfabf39">is_null</a>()) {</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;      os &lt;&lt; <a class="code" href="structv8_1_1internal_1_1Brief.html">Brief</a>(*(old_value.<a class="code" href="classv8_1_1internal_1_1MaybeDirectHandle.html#af9f9ca9032aa4f380d7bab01754f5903">ToHandleChecked</a>()));</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;      <a class="code" href="classv8_1_1internal_1_1FieldType.html#a1d02185c5efa65acb3cf70f9d74ddf76">FieldType::PrintTo</a>(*old_field_type.<a class="code" href="classv8_1_1internal_1_1MaybeDirectHandle.html#af9f9ca9032aa4f380d7bab01754f5903">ToHandleChecked</a>(), os);</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    }</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    os &lt;&lt; <span class="stringliteral">&quot;;&quot;</span> &lt;&lt; old_constness &lt;&lt; <span class="stringliteral">&quot;}&quot;</span>;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  }</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  os &lt;&lt; <span class="stringliteral">&quot;-&gt;&quot;</span> &lt;&lt; new_representation.<a class="code" href="classv8_1_1internal_1_1Representation.html#a7e2fdee05215634e35a8cb1d0cef6a3d">Mnemonic</a>() &lt;&lt; <span class="stringliteral">&quot;{&quot;</span>;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="keywordflow">if</span> (new_field_type.<a class="code" href="classv8_1_1internal_1_1MaybeDirectHandle.html#a872ccde05e0ba79452e0b75afdfabf39">is_null</a>()) {</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    os &lt;&lt; <a class="code" href="structv8_1_1internal_1_1Brief.html">Brief</a>(*(new_value.<a class="code" href="classv8_1_1internal_1_1MaybeDirectHandle.html#af9f9ca9032aa4f380d7bab01754f5903">ToHandleChecked</a>()));</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <a class="code" href="classv8_1_1internal_1_1FieldType.html#a1d02185c5efa65acb3cf70f9d74ddf76">FieldType::PrintTo</a>(*new_field_type.<a class="code" href="classv8_1_1internal_1_1MaybeDirectHandle.html#af9f9ca9032aa4f380d7bab01754f5903">ToHandleChecked</a>(), os);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  }</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  os &lt;&lt; <span class="stringliteral">&quot;;&quot;</span> &lt;&lt; new_constness &lt;&lt; <span class="stringliteral">&quot;} (&quot;</span>;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="keywordflow">if</span> (strlen(reason) &gt; 0) {</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    os &lt;&lt; reason;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    os &lt;&lt; <span class="stringliteral">&quot;+&quot;</span> &lt;&lt; (descriptors - <a class="code" href="namespacev8_1_1internal_1_1libvtune.html#a85908a2ac6abdcec9ee9c4f7e51e795f">split</a>) &lt;&lt; <span class="stringliteral">&quot; maps&quot;</span>;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  }</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  os &lt;&lt; <span class="stringliteral">&quot;) [&quot;</span>;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <a class="code" href="classv8_1_1internal_1_1JavaScriptFrame.html#a69de8494527b217bfd2bcde82196cd31">JavaScriptFrame::PrintTop</a>(isolate, <a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  os &lt;&lt; <span class="stringliteral">&quot;]\n&quot;</span>;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;}</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160; </div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160; </div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MapUpdater.html#ad1c3a630212f0098faee5233c1be5dc0">   90</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#ad1c3a630212f0098faee5233c1be5dc0">MapUpdater::MapUpdater</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Map&gt;</a> old_map)</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    : isolate_(isolate),</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;      old_map_(old_map),</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      old_descriptors_(old_map-&gt;<a class="code" href="namespacev8_1_1internal.html#a82beb9016b7ce7849ce0d3e1db9c9a6d">instance_descriptors</a>(isolate), isolate_),</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;      old_nof_(old_map_-&gt;<a class="code" href="namespacev8_1_1internal_1_1compiler.html#a057493c4b763f4cc13b5bdd21e46c868">NumberOfOwnDescriptors</a>()),</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;      new_elements_kind_(old_map_-&gt;elements_kind()),</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;      is_transitionable_fast_elements_kind_(</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#aa320a68c147d70667df97e9d7c7f2969">IsTransitionableFastElementsKind</a>(new_elements_kind_)) {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="comment">// We shouldn&#39;t try to update remote objects.</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;      !IsFunctionTemplateInfo(old_map-&gt;FindRootMap(isolate)-&gt;GetConstructor()));</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;}</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MapUpdater.html#a5b045cf26a76c61ba9b42f720139d3b0">  103</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Name&gt;</a> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a5b045cf26a76c61ba9b42f720139d3b0">MapUpdater::GetKey</a>(<a class="code" href="classv8_1_1internal_1_1InternalIndex.html">InternalIndex</a> descriptor)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aceb51d8ef7e30b97772ff9681948ee42">old_descriptors_</a>-&gt;GetKey(descriptor);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;}</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160; </div>
<div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MapUpdater.html#a6a2649d3a26f2f99d4771c13c8719694">  107</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html">PropertyDetails</a> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a6a2649d3a26f2f99d4771c13c8719694">MapUpdater::GetDetails</a>(<a class="code" href="classv8_1_1internal_1_1InternalIndex.html">InternalIndex</a> descriptor)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(descriptor.<a class="code" href="classv8_1_1internal_1_1InternalIndex.html#ad381db083f3f9b72f16908eac7027823">is_found</a>());</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <span class="keywordflow">if</span> (descriptor == <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aa5a7012cd53d2ac903c27ab400b86e7f">modified_descriptor_</a>) {</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436">PropertyAttributes</a> attributes = <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a6a5ba23fb8d01d941f1e57f665d9cc24">new_attributes_</a>;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="comment">// If the original map was sealed or frozen, let&#39;s use the old</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="comment">// attributes so that we follow the same transition path as before.</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="comment">// Note that the user could not have changed the attributes because</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="comment">// both seal and freeze make the properties non-configurable. An exception</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="comment">// is transitioning from [[Writable]] = true to [[Writable]] = false (this</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="comment">// is allowed for frozen and sealed objects). To support it, we use the new</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="comment">// attributes if they have [[Writable]] == false.</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#af4f8ebf63a8cbed7b8b5236f510319fc">integrity_level_</a> == <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436ae1b3d8db108d2f4b5319b8d1ac5ebaef">SEALED</a> || <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#af4f8ebf63a8cbed7b8b5236f510319fc">integrity_level_</a> == <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436ac96c4a6f8b2f89bb1dbaebb75becb0c2">FROZEN</a>) &amp;&amp;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        !(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a6a5ba23fb8d01d941f1e57f665d9cc24">new_attributes_</a> &amp; <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436ad8ce154ac002d77d3cca81d16765a76f">READ_ONLY</a>)) {</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;      attributes = <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aceb51d8ef7e30b97772ff9681948ee42">old_descriptors_</a>-&gt;GetDetails(descriptor).attributes();</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    }</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1PropertyDetails.html">PropertyDetails</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a5ca335ee7829e1c0afa4b84c16a5f832">new_kind_</a>, attributes, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a0296035233a5b3634cae433b041fa25a">new_location_</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a65345084fef112de78dfd8cad40e5588">new_constness_</a>,</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                           <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a0e25d4bc332ad236dada214e27e89202">new_representation_</a>);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  }</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aceb51d8ef7e30b97772ff9681948ee42">old_descriptors_</a>-&gt;GetDetails(descriptor);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;}</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160; </div>
<div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MapUpdater.html#a7d5531f6707ea2f6f1606b0495685df3">  128</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7d5531f6707ea2f6f1606b0495685df3">MapUpdater::GetValue</a>(<a class="code" href="classv8_1_1internal_1_1InternalIndex.html">InternalIndex</a> descriptor)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(descriptor.<a class="code" href="classv8_1_1internal_1_1InternalIndex.html#ad381db083f3f9b72f16908eac7027823">is_found</a>());</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <span class="keywordflow">if</span> (descriptor == <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aa5a7012cd53d2ac903c27ab400b86e7f">modified_descriptor_</a>) {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="namespacev8_1_1internal.html#ae9b0a1942f337021ffd0954056894cc4a454ab7e845efd9a5fa1826a1e9a69295">PropertyLocation::kDescriptor</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a0296035233a5b3634cae433b041fa25a">new_location_</a>);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  }</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="namespacev8_1_1internal.html#ae9b0a1942f337021ffd0954056894cc4a454ab7e845efd9a5fa1826a1e9a69295">PropertyLocation::kDescriptor</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a6a2649d3a26f2f99d4771c13c8719694">GetDetails</a>(descriptor).location());</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aceb51d8ef7e30b97772ff9681948ee42">old_descriptors_</a>-&gt;GetStrongValue(descriptor);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;}</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
<div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MapUpdater.html#a0b6506d0d145f2589a01453addac837f">  138</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;FieldType&gt;</a> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a0b6506d0d145f2589a01453addac837f">MapUpdater::GetFieldType</a>(<a class="code" href="classv8_1_1internal_1_1InternalIndex.html">InternalIndex</a> descriptor)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(descriptor.<a class="code" href="classv8_1_1internal_1_1InternalIndex.html#ad381db083f3f9b72f16908eac7027823">is_found</a>());</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="keywordflow">if</span> (descriptor == <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aa5a7012cd53d2ac903c27ab400b86e7f">modified_descriptor_</a>) {</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="namespacev8_1_1internal.html#ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f">PropertyLocation::kField</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a0296035233a5b3634cae433b041fa25a">new_location_</a>);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="keywordflow">return</span> *<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a0d372d8eb40086dfceee173e806eb3ad">new_field_type_</a>;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  }</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="namespacev8_1_1internal.html#ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f">PropertyLocation::kField</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a6a2649d3a26f2f99d4771c13c8719694">GetDetails</a>(descriptor).location());</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aceb51d8ef7e30b97772ff9681948ee42">old_descriptors_</a>-&gt;GetFieldType(descriptor);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;}</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160; </div>
<div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MapUpdater.html#a1f7fa530862af454488b9efd711eb9b3">  148</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;FieldType&gt;</a> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a1f7fa530862af454488b9efd711eb9b3">MapUpdater::GetOrComputeFieldType</a>(</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <a class="code" href="classv8_1_1internal_1_1InternalIndex.html">InternalIndex</a> descriptor, <a class="code" href="namespacev8_1_1internal.html#ae9b0a1942f337021ffd0954056894cc4">PropertyLocation</a> location,</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Representation.html">Representation</a> representation)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(descriptor.<a class="code" href="classv8_1_1internal_1_1InternalIndex.html#ad381db083f3f9b72f16908eac7027823">is_found</a>());</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="comment">// |location| is just a pre-fetched GetDetails(descriptor).location().</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(location, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a6a2649d3a26f2f99d4771c13c8719694">GetDetails</a>(descriptor).location());</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="keywordflow">if</span> (location == <a class="code" href="namespacev8_1_1internal.html#ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f">PropertyLocation::kField</a>) {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a0b6506d0d145f2589a01453addac837f">GetFieldType</a>(descriptor), <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1Object.html#a56201a3ff90c4125feec13c72235f6cf">Object::OptimalType</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7d5531f6707ea2f6f1606b0495685df3">GetValue</a>(descriptor), <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>, representation);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  }</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;}</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160; </div>
<div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MapUpdater.html#a315c02a611caff7921b4905993085813">  161</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;FieldType&gt;</a> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a1f7fa530862af454488b9efd711eb9b3">MapUpdater::GetOrComputeFieldType</a>(</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;DescriptorArray&gt;</a> descriptors, <a class="code" href="classv8_1_1internal_1_1InternalIndex.html">InternalIndex</a> descriptor,</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#ae9b0a1942f337021ffd0954056894cc4">PropertyLocation</a> location, <a class="code" href="classv8_1_1internal_1_1Representation.html">Representation</a> representation) {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="comment">// |location| is just a pre-fetched GetDetails(descriptor).location().</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(descriptors-&gt;GetDetails(descriptor).location(), location);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="keywordflow">if</span> (location == <a class="code" href="namespacev8_1_1internal.html#ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f">PropertyLocation::kField</a>) {</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(descriptors-&gt;GetFieldType(descriptor), <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1Object.html#a56201a3ff90c4125feec13c72235f6cf">Object::OptimalType</a>(descriptors-&gt;GetStrongValue(descriptor),</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                               <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>, representation);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  }</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;}</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MapUpdater.html#a2781cab0775a35357462b520fae34628">  174</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Map&gt;</a> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a2781cab0775a35357462b520fae34628">MapUpdater::ReconfigureToDataField</a>(</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <a class="code" href="classv8_1_1internal_1_1InternalIndex.html">InternalIndex</a> descriptor, <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436">PropertyAttributes</a> attributes,</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#ac328869a355886739965287befcc49ac">PropertyConstness</a> constness, <a class="code" href="classv8_1_1internal_1_1Representation.html">Representation</a> representation,</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;FieldType&gt;</a> field_type) {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a88927e132aed0245511948f7eb996240a182e513f45c69d6693a6363e228141d0">kInitialized</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aee22c2ec3557d995b2c50bb5d42f828f">state_</a>);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(descriptor.<a class="code" href="classv8_1_1internal_1_1InternalIndex.html#ad381db083f3f9b72f16908eac7027823">is_found</a>());</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7229e783c24947de0e968a0d31ab5950">old_map_</a>-&gt;is_dictionary_map());</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160; </div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <a class="code" href="classv8_1_1internal_1_1ParkedMutexGuardIf.html">ParkedMutexGuardIf</a> mutex_guard(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7d651964318bc41040dda0bc730388e5">main_thread_local_isolate</a>(),</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                                 <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a1330d64023302e0b195abbae203a6ae6">map_updater_access</a>(), <span class="keyword">true</span>);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160; </div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aa5a7012cd53d2ac903c27ab400b86e7f">modified_descriptor_</a> = descriptor;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a5ca335ee7829e1c0afa4b84c16a5f832">new_kind_</a> = <a class="code" href="namespacev8_1_1internal.html#ace7045d9fc96e0d36ce22ba112661a81a0ac87546e8b36fcb3034694d4d909ea3">PropertyKind::kData</a>;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a6a5ba23fb8d01d941f1e57f665d9cc24">new_attributes_</a> = attributes;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a0296035233a5b3634cae433b041fa25a">new_location_</a> = <a class="code" href="namespacev8_1_1internal.html#ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f">PropertyLocation::kField</a>;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160; </div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <a class="code" href="classv8_1_1internal_1_1PropertyDetails.html">PropertyDetails</a> old_details =</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aceb51d8ef7e30b97772ff9681948ee42">old_descriptors_</a>-&gt;GetDetails(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aa5a7012cd53d2ac903c27ab400b86e7f">modified_descriptor_</a>);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160; </div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="comment">// If property kind is not reconfigured merge the result with</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <span class="comment">// representation/field type from the old descriptor.</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <span class="keywordflow">if</span> (old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a84ec5d54214083de458bfc43b8c3ac1b">kind</a>() == <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a5ca335ee7829e1c0afa4b84c16a5f832">new_kind_</a>) {</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a65345084fef112de78dfd8cad40e5588">new_constness_</a> = <a class="code" href="namespacev8_1_1internal.html#a617d346a46eb703e1719792077e5c2a0">GeneralizeConstness</a>(constness, old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#aa6d8ec62f0979d0aea956c801aabb815">constness</a>());</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160; </div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Representation.html">Representation</a> old_representation = old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a4355e88929d3f1f8d7855d80a064d492">representation</a>();</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a0e25d4bc332ad236dada214e27e89202">new_representation_</a> = representation.<a class="code" href="classv8_1_1internal_1_1Representation.html#a8bdd97567badb1040967d90910c76c54">generalize</a>(old_representation);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160; </div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;FieldType&gt;</a> old_field_type =</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a1f7fa530862af454488b9efd711eb9b3">GetOrComputeFieldType</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aceb51d8ef7e30b97772ff9681948ee42">old_descriptors_</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aa5a7012cd53d2ac903c27ab400b86e7f">modified_descriptor_</a>,</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                              old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a2d8f536f39a3ab2754cdd721de544ae4">location</a>(), <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a0e25d4bc332ad236dada214e27e89202">new_representation_</a>);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160; </div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a0d372d8eb40086dfceee173e806eb3ad">new_field_type_</a> =</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03.html#a7eae755681e278977f2ae4a11bf949d9">GeneralizeFieldType</a>(old_representation, old_field_type,</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                            <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a0e25d4bc332ad236dada214e27e89202">new_representation_</a>, field_type, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="comment">// We don&#39;t know if this is a first property kind reconfiguration</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="comment">// and we don&#39;t know which value was in this property previously</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="comment">// therefore we can&#39;t treat such a property as constant.</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a65345084fef112de78dfd8cad40e5588">new_constness_</a> = <a class="code" href="namespacev8_1_1internal.html#ac328869a355886739965287befcc49aca32567d9e5f2d66c9b326c45e800abcf6">PropertyConstness::kMutable</a>;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a0e25d4bc332ad236dada214e27e89202">new_representation_</a> = representation;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a0d372d8eb40086dfceee173e806eb3ad">new_field_type_</a> = field_type;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  }</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160; </div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Map.html#ac6c63c5c0715237233a9cb24fe7664ec">Map::GeneralizeIfCanHaveTransitionableFastElementsKind</a>(</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7229e783c24947de0e968a0d31ab5950">old_map_</a>-&gt;instance_type(), &amp;<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a0e25d4bc332ad236dada214e27e89202">new_representation_</a>,</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      &amp;<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a0d372d8eb40086dfceee173e806eb3ad">new_field_type_</a>);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160; </div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a775bdfa713c895e0fca38a05e512eb2d">TryReconfigureToDataFieldInplace</a>() == <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a88927e132aed0245511948f7eb996240a5a4f5fa1de82fcd422bbb97bd54f9957">kEnd</a>) <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7a741b6b2cfaa8e477f2348e764ff64a">result_map_</a>;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#ad41dafb34e0c6dc5f39566dbf2b7bae5">FindRootMap</a>() == <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a88927e132aed0245511948f7eb996240a5a4f5fa1de82fcd422bbb97bd54f9957">kEnd</a>) <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7a741b6b2cfaa8e477f2348e764ff64a">result_map_</a>;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#ad976339ab49ddf6e48acd038645fd58c">FindTargetMap</a>() == <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a88927e132aed0245511948f7eb996240a5a4f5fa1de82fcd422bbb97bd54f9957">kEnd</a>) <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7a741b6b2cfaa8e477f2348e764ff64a">result_map_</a>;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a65be75fff70ffb063e04326adc452f45">ConstructNewMap</a>() == <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a88927e132aed0245511948f7eb996240aee8bd9881bdaa659546a5ab5ddcd0e80">kAtIntegrityLevelSource</a>) {</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a01c1e00ea1e1e9a445ccd20e6b27afe1">ConstructNewMapWithIntegrityLevelTransition</a>();</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  }</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a88927e132aed0245511948f7eb996240a5a4f5fa1de82fcd422bbb97bd54f9957">kEnd</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aee22c2ec3557d995b2c50bb5d42f828f">state_</a>);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7a741b6b2cfaa8e477f2348e764ff64a">result_map_</a>;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;}</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MapUpdater.html#a55b66930187ea380c6fd43845e399f3f">  231</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Map&gt;</a> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a55b66930187ea380c6fd43845e399f3f">MapUpdater::ReconfigureElementsKind</a>(</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a5feb64a99571462d3380d03aa42c149c">ElementsKind</a> elements_kind) {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a88927e132aed0245511948f7eb996240a182e513f45c69d6693a6363e228141d0">kInitialized</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aee22c2ec3557d995b2c50bb5d42f828f">state_</a>);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160; </div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aa178faa080934fb6dc2099fe469351e6">new_elements_kind_</a> = elements_kind;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a53123e5f6d38c9ea2fdb5401fe553a2f">is_transitionable_fast_elements_kind_</a> =</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#aa320a68c147d70667df97e9d7c7f2969">IsTransitionableFastElementsKind</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aa178faa080934fb6dc2099fe469351e6">new_elements_kind_</a>);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160; </div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#ad9af4bdcc4d58fa609e0156c89ae483d">Update</a>();</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;}</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160; </div>
<div class="line"><a name="l00242"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MapUpdater.html#a62370c6e6a97b815ffaf307a4b478905">  242</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Map&gt;</a> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a62370c6e6a97b815ffaf307a4b478905">MapUpdater::ApplyPrototypeTransition</a>(</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSPrototype&gt;</a> <a class="code" href="namespacev8_1_1internal.html#af2d9fec01057be7bdab90bb4682717b0">prototype</a>) {</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.move_prototype_transitions_first);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a88927e132aed0245511948f7eb996240a182e513f45c69d6693a6363e228141d0">kInitialized</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aee22c2ec3557d995b2c50bb5d42f828f">state_</a>);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7229e783c24947de0e968a0d31ab5950">old_map_</a>-&gt;prototype(), *<a class="code" href="namespacev8_1_1internal.html#af2d9fec01057be7bdab90bb4682717b0">prototype</a>);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160; </div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <span class="comment">// Prototype maps are replaced by deprecation when their prototype changes. No</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <span class="comment">// need to add a transition.</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7229e783c24947de0e968a0d31ab5950">old_map_</a>-&gt;is_prototype_map()) {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1Map.html#a20eefa90d1b4f884523d09a916d29968">Map::CopyForPrototypeTransition</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7229e783c24947de0e968a0d31ab5950">old_map_</a>, <a class="code" href="namespacev8_1_1internal.html#af2d9fec01057be7bdab90bb4682717b0">prototype</a>);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  }</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160; </div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#adc85300d8a330fb2a9e6a340799852a0">new_prototype_</a> = <a class="code" href="namespacev8_1_1internal.html#af2d9fec01057be7bdab90bb4682717b0">prototype</a>;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160; </div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <span class="comment">// TODO(olivf): The updated map can have more generic field types than the</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <span class="comment">// source map. This is ok, since UpdatePrototype also does an instance</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <span class="comment">// migration. If we wanted to avoid the migration for most cases, we could</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <span class="comment">// potentially back-propagate generalizations here.</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#ad9af4bdcc4d58fa609e0156c89ae483d">Update</a>();</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;}</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160; </div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l00264"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MapUpdater.html#ac2d4957346bf57372511762949b9a05c">  264</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Map&gt;</a> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#ac2d4957346bf57372511762949b9a05c">MapUpdater::UpdateMapNoLock</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                                              <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Map&gt;</a> map) {</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <span class="keywordflow">if</span> (!map-&gt;is_deprecated()) <span class="keywordflow">return</span> map;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <span class="comment">// TODO(ishell): support fast map updating if we enable it.</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.fast_map_update);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MapUpdater.html">MapUpdater</a> <a class="code" href="namespacev8_1_1internal.html#ac32ecba880a377a7f55cbaac76cdb604a9dd99cf48494ee0277563736ce16a91a">mu</a>(isolate, map);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="comment">// Update map without locking the Isolate::map_updater_access mutex.</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#ac32ecba880a377a7f55cbaac76cdb604a9dd99cf48494ee0277563736ce16a91a">mu</a>.UpdateImpl();</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;}</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160; </div>
<div class="line"><a name="l00274"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MapUpdater.html#ad9af4bdcc4d58fa609e0156c89ae483d">  274</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Map&gt;</a> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#ad9af4bdcc4d58fa609e0156c89ae483d">MapUpdater::Update</a>() {</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> mutex_guard(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a1330d64023302e0b195abbae203a6ae6">map_updater_access</a>());</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a34fb1a6f4761d31d6b546730ba684632">UpdateImpl</a>();</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;}</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160; </div>
<div class="line"><a name="l00279"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MapUpdater.html#a34fb1a6f4761d31d6b546730ba684632">  279</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Map&gt;</a> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a34fb1a6f4761d31d6b546730ba684632">MapUpdater::UpdateImpl</a>() {</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a88927e132aed0245511948f7eb996240a182e513f45c69d6693a6363e228141d0">kInitialized</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aee22c2ec3557d995b2c50bb5d42f828f">state_</a>);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#adc85300d8a330fb2a9e6a340799852a0">new_prototype_</a>.is_null() &amp;&amp;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                     <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aa178faa080934fb6dc2099fe469351e6">new_elements_kind_</a> == <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7229e783c24947de0e968a0d31ab5950">old_map_</a>-&gt;elements_kind(),</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                 <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7229e783c24947de0e968a0d31ab5950">old_map_</a>-&gt;is_deprecated());</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#ad41dafb34e0c6dc5f39566dbf2b7bae5">FindRootMap</a>() == <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a88927e132aed0245511948f7eb996240a5a4f5fa1de82fcd422bbb97bd54f9957">kEnd</a>) <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7a741b6b2cfaa8e477f2348e764ff64a">result_map_</a>;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#ad976339ab49ddf6e48acd038645fd58c">FindTargetMap</a>() == <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a88927e132aed0245511948f7eb996240a5a4f5fa1de82fcd422bbb97bd54f9957">kEnd</a>) <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7a741b6b2cfaa8e477f2348e764ff64a">result_map_</a>;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a65be75fff70ffb063e04326adc452f45">ConstructNewMap</a>() == <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a88927e132aed0245511948f7eb996240aee8bd9881bdaa659546a5ab5ddcd0e80">kAtIntegrityLevelSource</a>) {</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a01c1e00ea1e1e9a445ccd20e6b27afe1">ConstructNewMapWithIntegrityLevelTransition</a>();</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  }</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a88927e132aed0245511948f7eb996240a5a4f5fa1de82fcd422bbb97bd54f9957">kEnd</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aee22c2ec3557d995b2c50bb5d42f828f">state_</a>);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.fast_map_update &amp;&amp; <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7229e783c24947de0e968a0d31ab5950">old_map_</a>-&gt;is_deprecated())) {</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <a class="code" href="classv8_1_1internal_1_1TransitionsAccessor.html#a64817485831624fe362de42517e75283">TransitionsAccessor::SetMigrationTarget</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7229e783c24947de0e968a0d31ab5950">old_map_</a>, *<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7a741b6b2cfaa8e477f2348e764ff64a">result_map_</a>);</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  }</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7a741b6b2cfaa8e477f2348e764ff64a">result_map_</a>;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;}</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160; </div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160; </div>
<div class="line"><a name="l00298"></a><span class="lineno"><a class="line" href="structv8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_1_1IntegrityLevelTransitionInfo.html">  298</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structv8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_1_1IntegrityLevelTransitionInfo.html">IntegrityLevelTransitionInfo</a> {</div>
<div class="line"><a name="l00299"></a><span class="lineno"><a class="line" href="structv8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_1_1IntegrityLevelTransitionInfo.html#a28824c0a4d0b1787c2f40bf5665d7e39">  299</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="structv8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_1_1IntegrityLevelTransitionInfo.html#a28824c0a4d0b1787c2f40bf5665d7e39">IntegrityLevelTransitionInfo</a>(<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Map&gt;</a> map)</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      : integrity_level_source_map(map) {}</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160; </div>
<div class="line"><a name="l00302"></a><span class="lineno"><a class="line" href="structv8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_1_1IntegrityLevelTransitionInfo.html#a87de489e86e1fdec40053dffa1303e69">  302</a></span>&#160;  <span class="keywordtype">bool</span> has_integrity_level_transition = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00303"></a><span class="lineno"><a class="line" href="structv8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_1_1IntegrityLevelTransitionInfo.html#af02fa1b3d3730b335cee4e43e2b1c947">  303</a></span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436">PropertyAttributes</a> integrity_level = <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370">NONE</a>;</div>
<div class="line"><a name="l00304"></a><span class="lineno"><a class="line" href="structv8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_1_1IntegrityLevelTransitionInfo.html#afc9452651619d75f6ed3baf56147e023">  304</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Map&gt;</a> <a class="code" href="structv8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_1_1IntegrityLevelTransitionInfo.html#afc9452651619d75f6ed3baf56147e023">integrity_level_source_map</a>;</div>
<div class="line"><a name="l00305"></a><span class="lineno"><a class="line" href="structv8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_1_1IntegrityLevelTransitionInfo.html#a9df486d9915773ffbebb8d2c9ccb41bb">  305</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Symbol&gt;</a> <a class="code" href="structv8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_1_1IntegrityLevelTransitionInfo.html#a9df486d9915773ffbebb8d2c9ccb41bb">integrity_level_symbol</a>;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;};</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160; </div>
<div class="line"><a name="l00308"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03.html#a5204267fe2437415119dd2979b447302">  308</a></span>&#160;<a class="code" href="structv8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_1_1IntegrityLevelTransitionInfo.html">IntegrityLevelTransitionInfo</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03.html#a5204267fe2437415119dd2979b447302">DetectIntegrityLevelTransitions</a>(</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Map&gt;</a> map, <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a>* <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>,</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a420e377bba6b25b38450dd44912cd5f6">ConcurrencyMode</a> cmode) {</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <a class="code" href="structv8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_1_1IntegrityLevelTransitionInfo.html">IntegrityLevelTransitionInfo</a> info(map);</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160; </div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  <span class="comment">// Figure out the most restrictive integrity level transition (it should</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <span class="comment">// be the last one in the transition tree).</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!map-&gt;is_extensible());</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Map&gt;</a> previous = Cast&lt;Map&gt;(map-&gt;GetBackPointer(isolate));</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  <a class="code" href="classv8_1_1internal_1_1TransitionsAccessor.html">TransitionsAccessor</a> last_transitions(isolate, previous, <a class="code" href="namespacev8_1_1internal.html#aec984e37242506ca572e0222f9e307a6">IsConcurrent</a>(cmode));</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  <span class="keywordflow">if</span> (!last_transitions.<a class="code" href="classv8_1_1internal_1_1TransitionsAccessor.html#afc3e4b063c1e79149dfbd8428ff44fe7">HasIntegrityLevelTransitionTo</a>(</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;          map, &amp;info.<a class="code" href="structv8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_1_1IntegrityLevelTransitionInfo.html#a9df486d9915773ffbebb8d2c9ccb41bb">integrity_level_symbol</a>, &amp;info.<a class="code" href="structv8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_1_1IntegrityLevelTransitionInfo.html#af02fa1b3d3730b335cee4e43e2b1c947">integrity_level</a>)) {</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="comment">// The last transition was not integrity level transition - just bail out.</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="comment">// This can happen in the following cases:</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="comment">// - there are private symbol transitions following the integrity level</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="comment">//   transitions (see crbug.com/v8/8854).</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="comment">// - there is a getter added in addition to an existing setter (or a setter</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="comment">//   in addition to an existing getter).</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="keywordflow">return</span> info;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  }</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160; </div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Map&gt;</a> source_map = previous;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  <span class="comment">// Now walk up the back pointer chain and skip all integrity level</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <span class="comment">// transitions. If we encounter any non-integrity level transition interleaved</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  <span class="comment">// with integrity level transitions, just bail out.</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  <span class="keywordflow">while</span> (!source_map-&gt;is_extensible()) {</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    previous = Cast&lt;Map&gt;(source_map-&gt;GetBackPointer(isolate));</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <a class="code" href="classv8_1_1internal_1_1TransitionsAccessor.html">TransitionsAccessor</a> transitions(isolate, previous, <a class="code" href="namespacev8_1_1internal.html#aec984e37242506ca572e0222f9e307a6">IsConcurrent</a>(cmode));</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="keywordflow">if</span> (!transitions.<a class="code" href="classv8_1_1internal_1_1TransitionsAccessor.html#afc3e4b063c1e79149dfbd8428ff44fe7">HasIntegrityLevelTransitionTo</a>(source_map)) {</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      <span class="keywordflow">return</span> info;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    }</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    source_map = previous;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  }</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160; </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  <span class="comment">// Integrity-level transitions never change number of descriptors.</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(map-&gt;NumberOfOwnDescriptors(), source_map-&gt;NumberOfOwnDescriptors());</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160; </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  info.<a class="code" href="structv8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_1_1IntegrityLevelTransitionInfo.html#a87de489e86e1fdec40053dffa1303e69">has_integrity_level_transition</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  info.<a class="code" href="structv8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_1_1IntegrityLevelTransitionInfo.html#afc9452651619d75f6ed3baf56147e023">integrity_level_source_map</a> = source_map;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  <span class="keywordflow">return</span> info;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;}</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160; </div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160; </div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l00353"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MapUpdater.html#a9bed85b35162390b6cd90f5598f8947e">  353</a></span>&#160;std::optional&lt;Tagged&lt;Map&gt;&gt; <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a9bed85b35162390b6cd90f5598f8947e">MapUpdater::TryUpdateNoLock</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                                                       <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Map&gt;</a> old_map,</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                                                       <a class="code" href="namespacev8_1_1internal.html#a420e377bba6b25b38450dd44912cd5f6">ConcurrencyMode</a> cmode) {</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160; </div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <span class="comment">// Check the state of the root map.</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Map&gt;</a> root_map = old_map-&gt;FindRootMap(isolate);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <span class="keywordflow">if</span> (root_map-&gt;is_deprecated()) {</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;JSFunction&gt;</a> constructor =</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        Cast&lt;JSFunction&gt;(root_map-&gt;GetConstructor());</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(constructor-&gt;has_initial_map());</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(constructor-&gt;initial_map()-&gt;is_dictionary_map());</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <span class="keywordflow">if</span> (constructor-&gt;initial_map()-&gt;elements_kind() !=</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        old_map-&gt;elements_kind()) {</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;      <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    }</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keywordflow">return</span> constructor-&gt;initial_map();</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  }</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160; </div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.move_prototype_transitions_first &amp;&amp;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;      root_map-&gt;prototype() != old_map-&gt;prototype()) {</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keyword">auto</span> maybe_transition = <a class="code" href="classv8_1_1internal_1_1TransitionsAccessor.html#a20df3aba83cced04f0675bdd7d773d48">TransitionsAccessor::GetPrototypeTransition</a>(</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        isolate, root_map, old_map-&gt;prototype());</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keywordflow">if</span> (!maybe_transition) {</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;      <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    }</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    root_map = *maybe_transition;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  }</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160; </div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  <span class="keywordflow">if</span> (!old_map-&gt;EquivalentToForTransition(root_map, cmode)) <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160; </div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a5feb64a99571462d3380d03aa42c149c">ElementsKind</a> from_kind = root_map-&gt;elements_kind();</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a5feb64a99571462d3380d03aa42c149c">ElementsKind</a> to_kind = old_map-&gt;elements_kind();</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160; </div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  IntegrityLevelTransitionInfo info(old_map);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  <span class="keywordflow">if</span> (root_map-&gt;is_extensible() != old_map-&gt;is_extensible()) {</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!old_map-&gt;is_extensible());</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(root_map-&gt;is_extensible());</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    info = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03.html#a5204267fe2437415119dd2979b447302">DetectIntegrityLevelTransitions</a>(old_map, isolate, &amp;<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>, cmode);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="comment">// Bail out if there were some private symbol transitions mixed up</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="comment">// with the integrity level transitions.</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="keywordflow">if</span> (!info.has_integrity_level_transition) <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="comment">// Make sure to replay the original elements kind transitions, before</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="comment">// the integrity level transition sets the elements to dictionary mode.</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(to_kind == <a class="code" href="namespacev8_1_1internal.html#a5feb64a99571462d3380d03aa42c149cace123a96977080e9fd831f0f40e97a37">DICTIONARY_ELEMENTS</a> ||</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;           to_kind == <a class="code" href="namespacev8_1_1internal.html#a5feb64a99571462d3380d03aa42c149ca6f1bdf5c8e2bb9db9d77063c18e3be8a">SLOW_STRING_WRAPPER_ELEMENTS</a> ||</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;           <a class="code" href="namespacev8_1_1internal.html#a94ba22a03b2597d3d179aa45a228d67a">IsTypedArrayOrRabGsabTypedArrayElementsKind</a>(to_kind) ||</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;           <a class="code" href="namespacev8_1_1internal.html#a27202b6f0818cc28c6f2bded2cd0211c">IsAnyHoleyNonextensibleElementsKind</a>(to_kind));</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    to_kind = info.integrity_level_source_map-&gt;elements_kind();</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  }</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  <span class="keywordflow">if</span> (from_kind != to_kind) {</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="comment">// Try to follow existing elements kind transitions.</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    root_map = root_map-&gt;LookupElementsTransitionMap(isolate, to_kind, cmode);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keywordflow">if</span> (root_map.<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html#a0930e2a8cbe8abbc5cdd476902fe6c88">is_null</a>()) <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="comment">// From here on, use the map with correct elements kind as root map.</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  }</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160; </div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  <span class="comment">// Replay the transitions as they were before the integrity level transition.</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Map&gt;</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = root_map-&gt;TryReplayPropertyTransitions(</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;      isolate, info.integrity_level_source_map, cmode);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.is_null()) <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160; </div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  <span class="keywordflow">if</span> (info.has_integrity_level_transition) {</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="comment">// Now replay the integrity level transition.</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <a class="code" href="classv8_1_1internal_1_1TransitionsAccessor.html">TransitionsAccessor</a>(isolate, *<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>, <a class="code" href="namespacev8_1_1internal.html#aec984e37242506ca572e0222f9e307a6">IsConcurrent</a>(cmode))</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                 .<a class="code" href="classv8_1_1internal_1_1TransitionsAccessor.html#abbb20363330eadc596056c40de5e04cc">SearchSpecial</a>(info.integrity_level_symbol);</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  }</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.is_null()) <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160; </div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <span class="comment">// TODO(olivf, 370536107): For investigating crashes. Should become a CHECK</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  <span class="comment">// again once resolved.</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <span class="keywordflow">if</span> (old_map-&gt;elements_kind() != (*result)-&gt;elements_kind()) {</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a8a5c1c5338649eadaaa30d05f1aca917">PushStackTraceAndDie</a>(<span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(old_map.<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html#a07c12d3bf0972861e1c5aefabd00971f">address</a>()),</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                                  <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>((*result).address()),</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                                  <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(root_map.<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html#a07c12d3bf0972861e1c5aefabd00971f">address</a>()));</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  }</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(old_map-&gt;instance_type(), (*result)-&gt;instance_type());</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;}</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160; </div>
<div class="line"><a name="l00433"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MapUpdater.html#a417db39502490279d6f33884a63000e7">  433</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a04012f11ce54cbce8115f4249c472e3a">MapUpdater::GeneralizeField</a>(<a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Map&gt;</a> map,</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                                 <a class="code" href="classv8_1_1internal_1_1InternalIndex.html">InternalIndex</a> modify_index,</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                                 <a class="code" href="namespacev8_1_1internal.html#ac328869a355886739965287befcc49ac">PropertyConstness</a> new_constness,</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                                 <a class="code" href="classv8_1_1internal_1_1Representation.html">Representation</a> new_representation,</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                                 <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;FieldType&gt;</a> new_field_type) {</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a04012f11ce54cbce8115f4249c472e3a">GeneralizeField</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>, map, modify_index, new_constness,</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                  new_representation, new_field_type);</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160; </div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(*<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aceb51d8ef7e30b97772ff9681948ee42">old_descriptors_</a> == <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7229e783c24947de0e968a0d31ab5950">old_map_</a>-&gt;instance_descriptors(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>) ||</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;         *<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aceb51d8ef7e30b97772ff9681948ee42">old_descriptors_</a> ==</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;             <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#ac928eae35738ab4dbed649b8b4fe5eb7">integrity_source_map_</a>-&gt;instance_descriptors(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>));</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;}</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160; </div>
<div class="line"><a name="l00446"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MapUpdater.html#a4f5907476a25521afb92e5c6613e3848">  446</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a88927e132aed0245511948f7eb996240">MapUpdater::State</a> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a4f5907476a25521afb92e5c6613e3848">MapUpdater::Normalize</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* reason) {</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7a741b6b2cfaa8e477f2348e764ff64a">result_map_</a> =</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Map.html#aae668ae5d352e15e940cdfdbaa6007b1">Map::Normalize</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7229e783c24947de0e968a0d31ab5950">old_map_</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aa178faa080934fb6dc2099fe469351e6">new_elements_kind_</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#adc85300d8a330fb2a9e6a340799852a0">new_prototype_</a>,</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                     <a class="code" href="namespacev8_1_1internal.html#aff269dc9be2370cdca244d8f1f97237aac5a8bff008f8e182215fa48828c8cdb5">CLEAR_INOBJECT_PROPERTIES</a>, reason);</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aee22c2ec3557d995b2c50bb5d42f828f">state_</a> = <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a88927e132aed0245511948f7eb996240a5a4f5fa1de82fcd422bbb97bd54f9957">kEnd</a>;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aee22c2ec3557d995b2c50bb5d42f828f">state_</a>;  <span class="comment">// Done.</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;}</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160; </div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l00455"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MapUpdater.html#a17b96916a316657681c5382aa61bab1a">  455</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a17b96916a316657681c5382aa61bab1a">MapUpdater::CompleteInobjectSlackTracking</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                                               <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Map&gt;</a> <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a4547ea68c972ac14663623ed7adab8d8">initial_map</a>) {</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  <span class="comment">// Has to be an initial map.</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(IsUndefined(<a class="code" href="namespacev8_1_1internal_1_1compiler.html#a4547ea68c972ac14663623ed7adab8d8">initial_map</a>-&gt;GetBackPointer(), isolate));</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160; </div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> slack = <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a4547ea68c972ac14663623ed7adab8d8">initial_map</a>-&gt;ComputeMinObjectSlack(isolate);</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a>(slack, 0);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160; </div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  <a class="code" href="classv8_1_1internal_1_1TransitionsAccessor.html">TransitionsAccessor</a> transitions(isolate, <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a4547ea68c972ac14663623ed7adab8d8">initial_map</a>);</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <a class="code" href="classv8_1_1internal_1_1TransitionsAccessor.html#a8c297451ba23e1c19bd8fe070aba45bb">TransitionsAccessor::TraverseCallback</a> callback;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  <span class="keywordflow">if</span> (slack != 0) {</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="comment">// Resize the initial map and all maps in its transition tree.</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    callback = [slack](<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Map&gt;</a> map) {</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;      <span class="keywordtype">int</span> old_visitor_id = <a class="code" href="classv8_1_1internal_1_1Map.html#ac7bfaa7f77e1d8cd95dde6d97baf46a7">Map::GetVisitorId</a>(map);</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;      <span class="keywordtype">int</span> new_unused = map-&gt;UnusedPropertyFields() - slack;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;      map-&gt;set_instance_size(map-&gt;InstanceSizeFromSlack(slack));</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;      map-&gt;set_construction_counter(<a class="code" href="classv8_1_1internal_1_1Map.html#a2a2d69d6abc592918fe00f31f4d32a74">Map::kNoSlackTracking</a>);</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(old_visitor_id, <a class="code" href="classv8_1_1internal_1_1Map.html#ac7bfaa7f77e1d8cd95dde6d97baf46a7">Map::GetVisitorId</a>(map));</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(new_unused, map-&gt;UnusedPropertyFields());</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    };</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="comment">// Stop slack tracking for this map.</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    callback = [&amp;](<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Map&gt;</a> map) {</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;      map-&gt;set_construction_counter(<a class="code" href="classv8_1_1internal_1_1Map.html#a2a2d69d6abc592918fe00f31f4d32a74">Map::kNoSlackTracking</a>);</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!<a class="code" href="classv8_1_1internal_1_1TransitionsAccessor.html">TransitionsAccessor</a>(isolate, map).HasSideStepTransitions());</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    };</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  }</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160; </div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  {</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <span class="comment">// The map_updater_access lock is taken here to guarantee atomicity of all</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <span class="comment">// related map changes (instead of guaranteeing only atomicity of each</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="comment">// single map change). This is needed e.g. by InstancesNeedsRewriting,</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <span class="comment">// which expects certain relations between maps to hold.</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="comment">// Note: Avoid locking the full_transition_array_access lock inside this</span></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="comment">// call to TraverseTransitionTree to prevent dependencies between the two</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="comment">// locks.</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> guard(isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a1330d64023302e0b195abbae203a6ae6">map_updater_access</a>());</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    transitions.<a class="code" href="classv8_1_1internal_1_1TransitionsAccessor.html#a5bfee06361063c7745169e839cc91aeb">TraverseTransitionTree</a>(callback);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  }</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;}</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160; </div>
<div class="line"><a name="l00499"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MapUpdater.html#a775bdfa713c895e0fca38a05e512eb2d">  499</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a88927e132aed0245511948f7eb996240">MapUpdater::State</a> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a775bdfa713c895e0fca38a05e512eb2d">MapUpdater::TryReconfigureToDataFieldInplace</a>() {</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  <span class="comment">// Updating deprecated maps in-place doesn&#39;t make sense.</span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7229e783c24947de0e968a0d31ab5950">old_map_</a>-&gt;is_deprecated()) <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aee22c2ec3557d995b2c50bb5d42f828f">state_</a>;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160; </div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a0e25d4bc332ad236dada214e27e89202">new_representation_</a>.<a class="code" href="classv8_1_1internal_1_1Representation.html#a3c8d99598894389c44cbe32d5ce7a3fa">IsNone</a>()) <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aee22c2ec3557d995b2c50bb5d42f828f">state_</a>;  <span class="comment">// Not done yet.</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160; </div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  <a class="code" href="classv8_1_1internal_1_1PropertyDetails.html">PropertyDetails</a> old_details =</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;      <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aceb51d8ef7e30b97772ff9681948ee42">old_descriptors_</a>-&gt;GetDetails(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aa5a7012cd53d2ac903c27ab400b86e7f">modified_descriptor_</a>);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160; </div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <span class="keywordflow">if</span> (old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a21bd1ca61406d144db4b384a71cdcc96">attributes</a>() != <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a6a5ba23fb8d01d941f1e57f665d9cc24">new_attributes_</a> ||</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;      old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a84ec5d54214083de458bfc43b8c3ac1b">kind</a>() != <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a5ca335ee7829e1c0afa4b84c16a5f832">new_kind_</a> ||</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;      old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a2d8f536f39a3ab2754cdd721de544ae4">location</a>() != <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a0296035233a5b3634cae433b041fa25a">new_location_</a>) {</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="comment">// These changes can&#39;t be done in-place.</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aee22c2ec3557d995b2c50bb5d42f828f">state_</a>;  <span class="comment">// Not done yet.</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  }</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160; </div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Representation.html">Representation</a> old_representation = old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a4355e88929d3f1f8d7855d80a064d492">representation</a>();</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  <span class="keywordflow">if</span> (!old_representation.<a class="code" href="classv8_1_1internal_1_1Representation.html#afc2857d68d808055d558efa69b9a7838">CanBeInPlaceChangedTo</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a0e25d4bc332ad236dada214e27e89202">new_representation_</a>)) {</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aee22c2ec3557d995b2c50bb5d42f828f">state_</a>;  <span class="comment">// Not done yet.</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  }</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160; </div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a5ca335ee7829e1c0afa4b84c16a5f832">new_kind_</a>, old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a84ec5d54214083de458bfc43b8c3ac1b">kind</a>());</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a6a5ba23fb8d01d941f1e57f665d9cc24">new_attributes_</a>, old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a21bd1ca61406d144db4b384a71cdcc96">attributes</a>());</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="namespacev8_1_1internal.html#ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f">PropertyLocation::kField</a>, old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a2d8f536f39a3ab2754cdd721de544ae4">location</a>());</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_generalization) {</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03.html#a11017d5e0e07217626b7dcb7acf267a3">PrintGeneralization</a>(</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7229e783c24947de0e968a0d31ab5950">old_map_</a>, stdout, <span class="stringliteral">&quot;uninitialized field&quot;</span>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aa5a7012cd53d2ac903c27ab400b86e7f">modified_descriptor_</a>,</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#ab2651542c5170285c34514ee543ba550">old_nof_</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#ab2651542c5170285c34514ee543ba550">old_nof_</a>, <span class="keyword">false</span>, old_representation, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a0e25d4bc332ad236dada214e27e89202">new_representation_</a>,</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#aa6d8ec62f0979d0aea956c801aabb815">constness</a>(), <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a65345084fef112de78dfd8cad40e5588">new_constness_</a>,</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aceb51d8ef7e30b97772ff9681948ee42">old_descriptors_</a>-&gt;GetFieldType(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aa5a7012cd53d2ac903c27ab400b86e7f">modified_descriptor_</a>),</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                      <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>),</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        {}, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a0d372d8eb40086dfceee173e806eb3ad">new_field_type_</a>, {});</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  }</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a04012f11ce54cbce8115f4249c472e3a">GeneralizeField</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7229e783c24947de0e968a0d31ab5950">old_map_</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aa5a7012cd53d2ac903c27ab400b86e7f">modified_descriptor_</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a65345084fef112de78dfd8cad40e5588">new_constness_</a>,</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                  <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a0e25d4bc332ad236dada214e27e89202">new_representation_</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a0d372d8eb40086dfceee173e806eb3ad">new_field_type_</a>);</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  <span class="comment">// Check that the descriptor array was updated.</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aceb51d8ef7e30b97772ff9681948ee42">old_descriptors_</a>-&gt;GetDetails(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aa5a7012cd53d2ac903c27ab400b86e7f">modified_descriptor_</a>)</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;             .representation()</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;             .Equals(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a0e25d4bc332ad236dada214e27e89202">new_representation_</a>));</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="classv8_1_1internal_1_1FieldType.html#ae3e25b47fcc85c189745eb8fd902ed40">FieldType::NowIs</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aceb51d8ef7e30b97772ff9681948ee42">old_descriptors_</a>-&gt;GetFieldType(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aa5a7012cd53d2ac903c27ab400b86e7f">modified_descriptor_</a>),</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                          <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a0d372d8eb40086dfceee173e806eb3ad">new_field_type_</a>));</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160; </div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7a741b6b2cfaa8e477f2348e764ff64a">result_map_</a> = <a class="code" href="namespacev8_1_1internal.html#a15cafb1d1ed1ac577609eb5e764384e8">indirect_handle</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7229e783c24947de0e968a0d31ab5950">old_map_</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>);</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aee22c2ec3557d995b2c50bb5d42f828f">state_</a> = <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a88927e132aed0245511948f7eb996240a5a4f5fa1de82fcd422bbb97bd54f9957">kEnd</a>;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aee22c2ec3557d995b2c50bb5d42f828f">state_</a>;  <span class="comment">// Done.</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;}</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160; </div>
<div class="line"><a name="l00546"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MapUpdater.html#a6327e4df7173fbd8eafcf916162d3c6d">  546</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a6327e4df7173fbd8eafcf916162d3c6d">MapUpdater::TrySaveIntegrityLevelTransitions</a>() {</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  <span class="comment">// Figure out the most restrictive integrity level transition (it should</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  <span class="comment">// be the last one in the transition tree).</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Map&gt;</a> previous(Cast&lt;Map&gt;(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7229e783c24947de0e968a0d31ab5950">old_map_</a>-&gt;GetBackPointer()), <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>);</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Symbol&gt;</a> integrity_level_symbol;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  <a class="code" href="classv8_1_1internal_1_1TransitionsAccessor.html">TransitionsAccessor</a> last_transitions(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>, *previous);</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  <span class="keywordflow">if</span> (!last_transitions.<a class="code" href="classv8_1_1internal_1_1TransitionsAccessor.html#afc3e4b063c1e79149dfbd8428ff44fe7">HasIntegrityLevelTransitionTo</a>(</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;          *<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7229e783c24947de0e968a0d31ab5950">old_map_</a>, &amp;integrity_level_symbol, &amp;<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#af4f8ebf63a8cbed7b8b5236f510319fc">integrity_level_</a>)) {</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <span class="comment">// The last transition was not integrity level transition - just bail out.</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <span class="comment">// This can happen in the following cases:</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <span class="comment">// - there are private symbol transitions following the integrity level</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <span class="comment">//   transitions (see crbug.com/v8/8854).</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <span class="comment">// - there is a getter added in addition to an existing setter (or a setter</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="comment">//   in addition to an existing getter).</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  }</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aa29919747bbddb076ce7adb9816e1fb0">integrity_level_symbol_</a> = <a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(integrity_level_symbol, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>);</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#ac928eae35738ab4dbed649b8b4fe5eb7">integrity_source_map_</a> = previous;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160; </div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <span class="comment">// Now walk up the back pointer chain and skip all integrity level</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  <span class="comment">// transitions. If we encounter any non-integrity level transition interleaved</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  <span class="comment">// with integrity level transitions, just bail out.</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  <span class="keywordflow">while</span> (!<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#ac928eae35738ab4dbed649b8b4fe5eb7">integrity_source_map_</a>-&gt;is_extensible()) {</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    previous = <a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(Cast&lt;Map&gt;(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#ac928eae35738ab4dbed649b8b4fe5eb7">integrity_source_map_</a>-&gt;GetBackPointer()),</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                             <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>);</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <a class="code" href="classv8_1_1internal_1_1TransitionsAccessor.html">TransitionsAccessor</a> transitions(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>, *previous);</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <span class="keywordflow">if</span> (!transitions.<a class="code" href="classv8_1_1internal_1_1TransitionsAccessor.html#afc3e4b063c1e79149dfbd8428ff44fe7">HasIntegrityLevelTransitionTo</a>(*<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#ac928eae35738ab4dbed649b8b4fe5eb7">integrity_source_map_</a>)) {</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    }</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#ac928eae35738ab4dbed649b8b4fe5eb7">integrity_source_map_</a> = previous;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  }</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160; </div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  <span class="comment">// Integrity-level transitions never change number of descriptors.</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7229e783c24947de0e968a0d31ab5950">old_map_</a>-&gt;NumberOfOwnDescriptors(),</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;           <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#ac928eae35738ab4dbed649b8b4fe5eb7">integrity_source_map_</a>-&gt;NumberOfOwnDescriptors());</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160; </div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a19f65433523c408df90eb032c1ef1406">has_integrity_level_transition_</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aceb51d8ef7e30b97772ff9681948ee42">old_descriptors_</a> = <a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;      <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#ac928eae35738ab4dbed649b8b4fe5eb7">integrity_source_map_</a>-&gt;instance_descriptors(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>), <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>);</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;}</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160; </div>
<div class="line"><a name="l00588"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MapUpdater.html#ad41dafb34e0c6dc5f39566dbf2b7bae5">  588</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a88927e132aed0245511948f7eb996240">MapUpdater::State</a> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#ad41dafb34e0c6dc5f39566dbf2b7bae5">MapUpdater::FindRootMap</a>() {</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a88927e132aed0245511948f7eb996240a182e513f45c69d6693a6363e228141d0">kInitialized</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aee22c2ec3557d995b2c50bb5d42f828f">state_</a>);</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160; </div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#adc85300d8a330fb2a9e6a340799852a0">new_prototype_</a>.is_null()) {</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#adc85300d8a330fb2a9e6a340799852a0">new_prototype_</a> = <a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7229e783c24947de0e968a0d31ab5950">old_map_</a>-&gt;prototype(), <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>);</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  }</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160; </div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  <span class="comment">// Check the state of the root map.</span></div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a5a3ec79e978f14130e1239b1f76150ca">root_map_</a> = <a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7229e783c24947de0e968a0d31ab5950">old_map_</a>-&gt;FindRootMap(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>), <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>);</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a5feb64a99571462d3380d03aa42c149c">ElementsKind</a> from_kind = <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a5a3ec79e978f14130e1239b1f76150ca">root_map_</a>-&gt;elements_kind();</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a5feb64a99571462d3380d03aa42c149c">ElementsKind</a> to_kind = <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aa178faa080934fb6dc2099fe469351e6">new_elements_kind_</a>;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160; </div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a5a3ec79e978f14130e1239b1f76150ca">root_map_</a>-&gt;is_deprecated()) {</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aee22c2ec3557d995b2c50bb5d42f828f">state_</a> = <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a88927e132aed0245511948f7eb996240a5a4f5fa1de82fcd422bbb97bd54f9957">kEnd</a>;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7a741b6b2cfaa8e477f2348e764ff64a">result_map_</a> = <a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>(</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        Cast&lt;JSFunction&gt;(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a5a3ec79e978f14130e1239b1f76150ca">root_map_</a>-&gt;GetConstructor())-&gt;initial_map(), <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>);</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7a741b6b2cfaa8e477f2348e764ff64a">result_map_</a> = <a class="code" href="classv8_1_1internal_1_1Map.html#accc0b91a8529a6818aca8a321489a587">Map::AsElementsKind</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7a741b6b2cfaa8e477f2348e764ff64a">result_map_</a>, to_kind);</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7a741b6b2cfaa8e477f2348e764ff64a">result_map_</a>-&gt;is_dictionary_map());</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aee22c2ec3557d995b2c50bb5d42f828f">state_</a>;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  }</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160; </div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  <span class="comment">// In this first check allow the root map to have the wrong prototype, as we</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;  <span class="comment">// will deal with prototype transitions later.</span></div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7229e783c24947de0e968a0d31ab5950">old_map_</a>-&gt;EquivalentToForTransition(</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;          *<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a5a3ec79e978f14130e1239b1f76150ca">root_map_</a>, <a class="code" href="namespacev8_1_1internal.html#a420e377bba6b25b38450dd44912cd5f6a21ed2c08d58afea3d6b70cec9fbc377b">ConcurrencyMode::kSynchronous</a>,</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.move_prototype_transitions_first</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;              ? <a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a5a3ec79e978f14130e1239b1f76150ca">root_map_</a>-&gt;prototype(), <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>)</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;              : <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;HeapObject&gt;</a>())) {</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a4f5907476a25521afb92e5c6613e3848">Normalize</a>(<span class="stringliteral">&quot;Normalize_NotEquivalent&quot;</span>);</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7229e783c24947de0e968a0d31ab5950">old_map_</a>-&gt;is_extensible() != <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a5a3ec79e978f14130e1239b1f76150ca">root_map_</a>-&gt;is_extensible()) {</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7229e783c24947de0e968a0d31ab5950">old_map_</a>-&gt;is_extensible());</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a5a3ec79e978f14130e1239b1f76150ca">root_map_</a>-&gt;is_extensible());</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <span class="comment">// We have an integrity level transition in the tree, let us make a note</span></div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <span class="comment">// of that transition to be able to replay it later.</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a6327e4df7173fbd8eafcf916162d3c6d">TrySaveIntegrityLevelTransitions</a>()) {</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a4f5907476a25521afb92e5c6613e3848">Normalize</a>(<span class="stringliteral">&quot;Normalize_PrivateSymbolsOnNonExtensible&quot;</span>);</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    }</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160; </div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    <span class="comment">// We want to build transitions to the original element kind (before</span></div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <span class="comment">// the seal transitions), so change {to_kind} accordingly.</span></div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(to_kind == <a class="code" href="namespacev8_1_1internal.html#a5feb64a99571462d3380d03aa42c149cace123a96977080e9fd831f0f40e97a37">DICTIONARY_ELEMENTS</a> ||</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;           to_kind == <a class="code" href="namespacev8_1_1internal.html#a5feb64a99571462d3380d03aa42c149ca6f1bdf5c8e2bb9db9d77063c18e3be8a">SLOW_STRING_WRAPPER_ELEMENTS</a> ||</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;           <a class="code" href="namespacev8_1_1internal.html#a94ba22a03b2597d3d179aa45a228d67a">IsTypedArrayOrRabGsabTypedArrayElementsKind</a>(to_kind) ||</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;           <a class="code" href="namespacev8_1_1internal.html#a34e7d494ff37a93a945ea26b7b4c2bbf">IsAnyNonextensibleElementsKind</a>(to_kind));</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    to_kind = <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#ac928eae35738ab4dbed649b8b4fe5eb7">integrity_source_map_</a>-&gt;elements_kind();</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  }</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160; </div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  <span class="comment">// TODO(ishell): Add a test for SLOW_SLOPPY_ARGUMENTS_ELEMENTS.</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  <span class="keywordflow">if</span> (from_kind != to_kind &amp;&amp; to_kind != <a class="code" href="namespacev8_1_1internal.html#a5feb64a99571462d3380d03aa42c149cace123a96977080e9fd831f0f40e97a37">DICTIONARY_ELEMENTS</a> &amp;&amp;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;      to_kind != <a class="code" href="namespacev8_1_1internal.html#a5feb64a99571462d3380d03aa42c149ca6f1bdf5c8e2bb9db9d77063c18e3be8a">SLOW_STRING_WRAPPER_ELEMENTS</a> &amp;&amp;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;      to_kind != <a class="code" href="namespacev8_1_1internal.html#a5feb64a99571462d3380d03aa42c149cac053733fa7d92aff0fcce191adc35295">SLOW_SLOPPY_ARGUMENTS_ELEMENTS</a> &amp;&amp;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;      !(<a class="code" href="namespacev8_1_1internal.html#aa320a68c147d70667df97e9d7c7f2969">IsTransitionableFastElementsKind</a>(from_kind) &amp;&amp;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#a3385b29114f02665568e3b85945e9d10">IsMoreGeneralElementsKindTransition</a>(from_kind, to_kind))) {</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a4f5907476a25521afb92e5c6613e3848">Normalize</a>(<span class="stringliteral">&quot;Normalize_InvalidElementsTransition&quot;</span>);</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  }</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160; </div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;  <span class="keywordtype">int</span> root_nof = <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a5a3ec79e978f14130e1239b1f76150ca">root_map_</a>-&gt;NumberOfOwnDescriptors();</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aa5a7012cd53d2ac903c27ab400b86e7f">modified_descriptor_</a>.<a class="code" href="classv8_1_1internal_1_1InternalIndex.html#ad381db083f3f9b72f16908eac7027823">is_found</a>() &amp;&amp;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;      <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aa5a7012cd53d2ac903c27ab400b86e7f">modified_descriptor_</a>.<a class="code" href="classv8_1_1internal_1_1InternalIndex.html#a8d405aded63c405c86fd03e1ff104408">as_int</a>() &lt; root_nof) {</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <a class="code" href="classv8_1_1internal_1_1PropertyDetails.html">PropertyDetails</a> old_details =</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aceb51d8ef7e30b97772ff9681948ee42">old_descriptors_</a>-&gt;GetDetails(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aa5a7012cd53d2ac903c27ab400b86e7f">modified_descriptor_</a>);</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="keywordflow">if</span> (old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a84ec5d54214083de458bfc43b8c3ac1b">kind</a>() != <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a5ca335ee7829e1c0afa4b84c16a5f832">new_kind_</a> ||</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;        old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a21bd1ca61406d144db4b384a71cdcc96">attributes</a>() != <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a6a5ba23fb8d01d941f1e57f665d9cc24">new_attributes_</a>) {</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a4f5907476a25521afb92e5c6613e3848">Normalize</a>(<span class="stringliteral">&quot;Normalize_RootModification1&quot;</span>);</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    }</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    <span class="keywordflow">if</span> (old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a2d8f536f39a3ab2754cdd721de544ae4">location</a>() != <a class="code" href="namespacev8_1_1internal.html#ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f">PropertyLocation::kField</a>) {</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a4f5907476a25521afb92e5c6613e3848">Normalize</a>(<span class="stringliteral">&quot;Normalize_RootModification2&quot;</span>);</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    }</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a0e25d4bc332ad236dada214e27e89202">new_representation_</a>.<a class="code" href="classv8_1_1internal_1_1Representation.html#a358b22922554e7c1c08eb68e74c8d904">fits_into</a>(old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a4355e88929d3f1f8d7855d80a064d492">representation</a>())) {</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a4f5907476a25521afb92e5c6613e3848">Normalize</a>(<span class="stringliteral">&quot;Normalize_RootModification4&quot;</span>);</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    }</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160; </div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="namespacev8_1_1internal.html#ace7045d9fc96e0d36ce22ba112661a81a0ac87546e8b36fcb3034694d4d909ea3">PropertyKind::kData</a>, old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a84ec5d54214083de458bfc43b8c3ac1b">kind</a>());</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="namespacev8_1_1internal.html#ace7045d9fc96e0d36ce22ba112661a81a0ac87546e8b36fcb3034694d4d909ea3">PropertyKind::kData</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a5ca335ee7829e1c0afa4b84c16a5f832">new_kind_</a>);</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="namespacev8_1_1internal.html#ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f">PropertyLocation::kField</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a0296035233a5b3634cae433b041fa25a">new_location_</a>);</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160; </div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <span class="comment">// Modify root map in-place. The GeneralizeField method is a no-op</span></div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <span class="comment">// if the {old_map_} is already general enough to hold the requested</span></div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <span class="comment">// {new_constness_} and {new_field_type_}.</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a04012f11ce54cbce8115f4249c472e3a">GeneralizeField</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7229e783c24947de0e968a0d31ab5950">old_map_</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aa5a7012cd53d2ac903c27ab400b86e7f">modified_descriptor_</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a65345084fef112de78dfd8cad40e5588">new_constness_</a>,</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                    old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a4355e88929d3f1f8d7855d80a064d492">representation</a>(), <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a0d372d8eb40086dfceee173e806eb3ad">new_field_type_</a>);</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;  }</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160; </div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;  <span class="comment">// From here on, use the map with correct elements kind and prototype as root</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  <span class="comment">// map.</span></div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a5a3ec79e978f14130e1239b1f76150ca">root_map_</a>-&gt;prototype() != *<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#adc85300d8a330fb2a9e6a340799852a0">new_prototype_</a>) {</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.move_prototype_transitions_first);</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Map&gt;</a> new_root_map_ =</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        <a class="code" href="classv8_1_1internal_1_1Map.html#a175f7137e25fad0dd95d2bbf763db827">Map::TransitionToUpdatePrototype</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a5a3ec79e978f14130e1239b1f76150ca">root_map_</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#adc85300d8a330fb2a9e6a340799852a0">new_prototype_</a>);</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160; </div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a5a3ec79e978f14130e1239b1f76150ca">root_map_</a> = new_root_map_;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160; </div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7229e783c24947de0e968a0d31ab5950">old_map_</a>-&gt;EquivalentToForTransition(</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;            *<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a5a3ec79e978f14130e1239b1f76150ca">root_map_</a>, <a class="code" href="namespacev8_1_1internal.html#a420e377bba6b25b38450dd44912cd5f6a21ed2c08d58afea3d6b70cec9fbc377b">ConcurrencyMode::kSynchronous</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#adc85300d8a330fb2a9e6a340799852a0">new_prototype_</a>)) {</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a4f5907476a25521afb92e5c6613e3848">Normalize</a>(<span class="stringliteral">&quot;Normalize_NotEquivalent&quot;</span>);</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    }</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;  }</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a5a3ec79e978f14130e1239b1f76150ca">root_map_</a> = <a class="code" href="classv8_1_1internal_1_1Map.html#accc0b91a8529a6818aca8a321489a587">Map::AsElementsKind</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a5a3ec79e978f14130e1239b1f76150ca">root_map_</a>, to_kind);</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7229e783c24947de0e968a0d31ab5950">old_map_</a>-&gt;EquivalentToForTransition(</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;      *<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a5a3ec79e978f14130e1239b1f76150ca">root_map_</a>, <a class="code" href="namespacev8_1_1internal.html#a420e377bba6b25b38450dd44912cd5f6a21ed2c08d58afea3d6b70cec9fbc377b">ConcurrencyMode::kSynchronous</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#adc85300d8a330fb2a9e6a340799852a0">new_prototype_</a>));</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160; </div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aee22c2ec3557d995b2c50bb5d42f828f">state_</a> = <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a88927e132aed0245511948f7eb996240a688c147ffcc1f98c503dd132ec39cb4d">kAtRootMap</a>;</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aee22c2ec3557d995b2c50bb5d42f828f">state_</a>;  <span class="comment">// Not done yet.</span></div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;}</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160; </div>
<div class="line"><a name="l00693"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MapUpdater.html#ad976339ab49ddf6e48acd038645fd58c">  693</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a88927e132aed0245511948f7eb996240">MapUpdater::State</a> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#ad976339ab49ddf6e48acd038645fd58c">MapUpdater::FindTargetMap</a>() {</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a88927e132aed0245511948f7eb996240a688c147ffcc1f98c503dd132ec39cb4d">kAtRootMap</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aee22c2ec3557d995b2c50bb5d42f828f">state_</a>);</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a4de1c69e8607e2a9020311804905ca17">target_map_</a> = <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a5a3ec79e978f14130e1239b1f76150ca">root_map_</a>;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160; </div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  <span class="keywordtype">int</span> root_nof = <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a5a3ec79e978f14130e1239b1f76150ca">root_map_</a>-&gt;NumberOfOwnDescriptors();</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1InternalIndex.html">InternalIndex</a> <a class="code" href="namespacev8_1_1internal.html">i</a> : <a class="code" href="classv8_1_1internal_1_1InternalIndex_1_1Range.html">InternalIndex::Range</a>(root_nof, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#ab2651542c5170285c34514ee543ba550">old_nof_</a>)) {</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <a class="code" href="classv8_1_1internal_1_1PropertyDetails.html">PropertyDetails</a> old_details = <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a6a2649d3a26f2f99d4771c13c8719694">GetDetails</a>(<a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Map&gt;</a> tmp_map;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;Map&gt;</a> maybe_tmp_map = <a class="code" href="classv8_1_1internal_1_1TransitionsAccessor.html#a34d5580f0039113ee34e43ca052b5262">TransitionsAccessor::SearchTransition</a>(</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a4de1c69e8607e2a9020311804905ca17">target_map_</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a5b045cf26a76c61ba9b42f720139d3b0">GetKey</a>(<a class="code" href="namespacev8_1_1internal.html">i</a>), old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a84ec5d54214083de458bfc43b8c3ac1b">kind</a>(),</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a21bd1ca61406d144db4b384a71cdcc96">attributes</a>());</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="keywordflow">if</span> (!maybe_tmp_map.<a class="code" href="classv8_1_1internal_1_1MaybeHandle.html#a8b567d8e8efee0bf8dcbb951372cc48a">ToHandle</a>(&amp;tmp_map)) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;DescriptorArray&gt;</a> tmp_descriptors(</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;        tmp_map-&gt;instance_descriptors(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>), <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>);</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160; </div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <span class="comment">// Check if target map is incompatible.</span></div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <a class="code" href="classv8_1_1internal_1_1PropertyDetails.html">PropertyDetails</a> tmp_details = tmp_descriptors-&gt;GetDetails(<a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a84ec5d54214083de458bfc43b8c3ac1b">kind</a>(), tmp_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a84ec5d54214083de458bfc43b8c3ac1b">kind</a>());</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a21bd1ca61406d144db4b384a71cdcc96">attributes</a>(), tmp_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a21bd1ca61406d144db4b384a71cdcc96">attributes</a>());</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <span class="keywordflow">if</span> (old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a84ec5d54214083de458bfc43b8c3ac1b">kind</a>() == <a class="code" href="namespacev8_1_1internal.html#ace7045d9fc96e0d36ce22ba112661a81ade3eeabe61d50a3f84870ae3ca43f0ec">PropertyKind::kAccessor</a> &amp;&amp;</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        !<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03.html#af46b0880f0e51ee10e8e6e61fe38084a">EqualImmutableValues</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7d5531f6707ea2f6f1606b0495685df3">GetValue</a>(<a class="code" href="namespacev8_1_1internal.html">i</a>),</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;                              tmp_descriptors-&gt;GetStrongValue(<a class="code" href="namespacev8_1_1internal.html">i</a>))) {</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;      <span class="comment">// TODO(ishell): mutable accessors are not implemented yet.</span></div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a4f5907476a25521afb92e5c6613e3848">Normalize</a>(<span class="stringliteral">&quot;Normalize_Incompatible&quot;</span>);</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    }</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#abc98ef0ed4a2baf08e5c6e3e8146d1fa">IsGeneralizableTo</a>(old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a2d8f536f39a3ab2754cdd721de544ae4">location</a>(), tmp_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a2d8f536f39a3ab2754cdd721de544ae4">location</a>())) {</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    }</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Representation.html">Representation</a> tmp_representation = tmp_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a4355e88929d3f1f8d7855d80a064d492">representation</a>();</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    <span class="keywordflow">if</span> (!old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a4355e88929d3f1f8d7855d80a064d492">representation</a>().<a class="code" href="classv8_1_1internal_1_1Representation.html#a358b22922554e7c1c08eb68e74c8d904">fits_into</a>(tmp_representation)) {</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;      <span class="comment">// Try updating the field in-place to a generalized type.</span></div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Representation.html">Representation</a> generalized =</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;          tmp_representation.<a class="code" href="classv8_1_1internal_1_1Representation.html#a8bdd97567badb1040967d90910c76c54">generalize</a>(old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a4355e88929d3f1f8d7855d80a064d492">representation</a>());</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;      <span class="keywordflow">if</span> (!tmp_representation.<a class="code" href="classv8_1_1internal_1_1Representation.html#afc2857d68d808055d558efa69b9a7838">CanBeInPlaceChangedTo</a>(generalized)) {</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;      }</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;      tmp_representation = generalized;</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    }</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160; </div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <span class="keywordflow">if</span> (tmp_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a2d8f536f39a3ab2754cdd721de544ae4">location</a>() == <a class="code" href="namespacev8_1_1internal.html#ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f">PropertyLocation::kField</a>) {</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;      <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;FieldType&gt;</a> old_field_type =</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;          <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a1f7fa530862af454488b9efd711eb9b3">GetOrComputeFieldType</a>(<a class="code" href="namespacev8_1_1internal.html">i</a>, old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a2d8f536f39a3ab2754cdd721de544ae4">location</a>(), tmp_representation);</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;      <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a04012f11ce54cbce8115f4249c472e3a">GeneralizeField</a>(tmp_map, <a class="code" href="namespacev8_1_1internal.html">i</a>, old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#aa6d8ec62f0979d0aea956c801aabb815">constness</a>(), tmp_representation,</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;                      old_field_type);</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;      <span class="comment">// kDescriptor: Check that the value matches.</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03.html#af46b0880f0e51ee10e8e6e61fe38084a">EqualImmutableValues</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7d5531f6707ea2f6f1606b0495685df3">GetValue</a>(<a class="code" href="namespacev8_1_1internal.html">i</a>),</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;                                tmp_descriptors-&gt;GetStrongValue(<a class="code" href="namespacev8_1_1internal.html">i</a>))) {</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;      }</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    }</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!tmp_map-&gt;is_deprecated());</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a4de1c69e8607e2a9020311804905ca17">target_map_</a> = tmp_map;</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;  }</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160; </div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;  <span class="comment">// Directly change the map if the target map is more general.</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;  <span class="keywordtype">int</span> target_nof = <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a4de1c69e8607e2a9020311804905ca17">target_map_</a>-&gt;NumberOfOwnDescriptors();</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  <span class="keywordflow">if</span> (target_nof == <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#ab2651542c5170285c34514ee543ba550">old_nof_</a>) {</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aa5a7012cd53d2ac903c27ab400b86e7f">modified_descriptor_</a>.<a class="code" href="classv8_1_1internal_1_1InternalIndex.html#ad381db083f3f9b72f16908eac7027823">is_found</a>()) {</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;DescriptorArray&gt;</a> target_descriptors =</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;          <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a4de1c69e8607e2a9020311804905ca17">target_map_</a>-&gt;instance_descriptors(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>);</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;      <a class="code" href="classv8_1_1internal_1_1PropertyDetails.html">PropertyDetails</a> details =</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;          target_descriptors-&gt;GetDetails(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aa5a7012cd53d2ac903c27ab400b86e7f">modified_descriptor_</a>);</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a5ca335ee7829e1c0afa4b84c16a5f832">new_kind_</a>, details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a84ec5d54214083de458bfc43b8c3ac1b">kind</a>());</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a6a2649d3a26f2f99d4771c13c8719694">GetDetails</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aa5a7012cd53d2ac903c27ab400b86e7f">modified_descriptor_</a>).attributes(),</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;                details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a21bd1ca61406d144db4b384a71cdcc96">attributes</a>());</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#abc98ef0ed4a2baf08e5c6e3e8146d1fa">IsGeneralizableTo</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a65345084fef112de78dfd8cad40e5588">new_constness_</a>, details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#aa6d8ec62f0979d0aea956c801aabb815">constness</a>()));</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a0296035233a5b3634cae433b041fa25a">new_location_</a>, details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a2d8f536f39a3ab2754cdd721de544ae4">location</a>());</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a0e25d4bc332ad236dada214e27e89202">new_representation_</a>.<a class="code" href="classv8_1_1internal_1_1Representation.html#a358b22922554e7c1c08eb68e74c8d904">fits_into</a>(details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a4355e88929d3f1f8d7855d80a064d492">representation</a>()));</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a0296035233a5b3634cae433b041fa25a">new_location_</a> == <a class="code" href="namespacev8_1_1internal.html#ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f">PropertyLocation::kField</a>) {</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="namespacev8_1_1internal.html#ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f">PropertyLocation::kField</a>, details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a2d8f536f39a3ab2754cdd721de544ae4">location</a>());</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="classv8_1_1internal_1_1FieldType.html#ae3e25b47fcc85c189745eb8fd902ed40">FieldType::NowIs</a>(</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;            *<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a0d372d8eb40086dfceee173e806eb3ad">new_field_type_</a>,</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;            target_descriptors-&gt;GetFieldType(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aa5a7012cd53d2ac903c27ab400b86e7f">modified_descriptor_</a>)));</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a2d8f536f39a3ab2754cdd721de544ae4">location</a>() == <a class="code" href="namespacev8_1_1internal.html#ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f">PropertyLocation::kField</a> ||</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;               <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03.html#af46b0880f0e51ee10e8e6e61fe38084a">EqualImmutableValues</a>({}, target_descriptors-&gt;GetStrongValue(</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;                                            <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aa5a7012cd53d2ac903c27ab400b86e7f">modified_descriptor_</a>)));</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;      }</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    }</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <span class="keywordflow">if</span> (*<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a4de1c69e8607e2a9020311804905ca17">target_map_</a> != *<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7229e783c24947de0e968a0d31ab5950">old_map_</a>) {</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;      <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7229e783c24947de0e968a0d31ab5950">old_map_</a>-&gt;NotifyLeafMapLayoutChange(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>);</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    }</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a19f65433523c408df90eb032c1ef1406">has_integrity_level_transition_</a>) {</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;      <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7a741b6b2cfaa8e477f2348e764ff64a">result_map_</a> = <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a4de1c69e8607e2a9020311804905ca17">target_map_</a>;</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;      <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aee22c2ec3557d995b2c50bb5d42f828f">state_</a> = <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a88927e132aed0245511948f7eb996240a5a4f5fa1de82fcd422bbb97bd54f9957">kEnd</a>;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aee22c2ec3557d995b2c50bb5d42f828f">state_</a>;  <span class="comment">// Done.</span></div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    }</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160; </div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <span class="comment">// We try to replay the integrity level transition here.</span></div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;Map&gt;</a> maybe_transition = <a class="code" href="classv8_1_1internal_1_1TransitionsAccessor.html#abbb20363330eadc596056c40de5e04cc">TransitionsAccessor::SearchSpecial</a>(</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;        <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a4de1c69e8607e2a9020311804905ca17">target_map_</a>, *<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aa29919747bbddb076ce7adb9816e1fb0">integrity_level_symbol_</a>);</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    <span class="keywordflow">if</span> (maybe_transition.<a class="code" href="classv8_1_1internal_1_1MaybeHandle.html#a8b567d8e8efee0bf8dcbb951372cc48a">ToHandle</a>(&amp;<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7a741b6b2cfaa8e477f2348e764ff64a">result_map_</a>)) {</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;      <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aee22c2ec3557d995b2c50bb5d42f828f">state_</a> = <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a88927e132aed0245511948f7eb996240a5a4f5fa1de82fcd422bbb97bd54f9957">kEnd</a>;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aee22c2ec3557d995b2c50bb5d42f828f">state_</a>;  <span class="comment">// Done.</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    }</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;  }</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160; </div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  <span class="comment">// Find the last compatible target map in the transition tree.</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1InternalIndex.html">InternalIndex</a> <a class="code" href="namespacev8_1_1internal.html">i</a> : <a class="code" href="classv8_1_1internal_1_1InternalIndex_1_1Range.html">InternalIndex::Range</a>(target_nof, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#ab2651542c5170285c34514ee543ba550">old_nof_</a>)) {</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <a class="code" href="classv8_1_1internal_1_1PropertyDetails.html">PropertyDetails</a> old_details = <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a6a2649d3a26f2f99d4771c13c8719694">GetDetails</a>(<a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Map&gt;</a> tmp_map;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;Map&gt;</a> maybe_tmp_map = <a class="code" href="classv8_1_1internal_1_1TransitionsAccessor.html#a34d5580f0039113ee34e43ca052b5262">TransitionsAccessor::SearchTransition</a>(</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a4de1c69e8607e2a9020311804905ca17">target_map_</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a5b045cf26a76c61ba9b42f720139d3b0">GetKey</a>(<a class="code" href="namespacev8_1_1internal.html">i</a>), old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a84ec5d54214083de458bfc43b8c3ac1b">kind</a>(),</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a21bd1ca61406d144db4b384a71cdcc96">attributes</a>());</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    <span class="keywordflow">if</span> (!maybe_tmp_map.<a class="code" href="classv8_1_1internal_1_1MaybeHandle.html#a8b567d8e8efee0bf8dcbb951372cc48a">ToHandle</a>(&amp;tmp_map)) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;DescriptorArray&gt;</a> tmp_descriptors(</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        tmp_map-&gt;instance_descriptors(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>), <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>);</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <span class="comment">// Check that target map is compatible.</span></div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <a class="code" href="classv8_1_1internal_1_1PropertyDetails.html">PropertyDetails</a> tmp_details = tmp_descriptors-&gt;GetDetails(<a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a84ec5d54214083de458bfc43b8c3ac1b">kind</a>(), tmp_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a84ec5d54214083de458bfc43b8c3ac1b">kind</a>());</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a21bd1ca61406d144db4b384a71cdcc96">attributes</a>(), tmp_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a21bd1ca61406d144db4b384a71cdcc96">attributes</a>());</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="keywordflow">if</span> (old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a84ec5d54214083de458bfc43b8c3ac1b">kind</a>() == <a class="code" href="namespacev8_1_1internal.html#ace7045d9fc96e0d36ce22ba112661a81ade3eeabe61d50a3f84870ae3ca43f0ec">PropertyKind::kAccessor</a> &amp;&amp;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;        !<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03.html#af46b0880f0e51ee10e8e6e61fe38084a">EqualImmutableValues</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7d5531f6707ea2f6f1606b0495685df3">GetValue</a>(<a class="code" href="namespacev8_1_1internal.html">i</a>),</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;                              tmp_descriptors-&gt;GetStrongValue(<a class="code" href="namespacev8_1_1internal.html">i</a>))) {</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a4f5907476a25521afb92e5c6613e3848">Normalize</a>(<span class="stringliteral">&quot;Normalize_Incompatible&quot;</span>);</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    }</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!tmp_map-&gt;is_deprecated());</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a4de1c69e8607e2a9020311804905ca17">target_map_</a> = tmp_map;</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;  }</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160; </div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aee22c2ec3557d995b2c50bb5d42f828f">state_</a> = <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a88927e132aed0245511948f7eb996240a98fc0de6c485a0da9f0609d15b078fc1">kAtTargetMap</a>;</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aee22c2ec3557d995b2c50bb5d42f828f">state_</a>;  <span class="comment">// Not done yet.</span></div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;}</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160; </div>
<div class="line"><a name="l00822"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MapUpdater.html#afcd7e18d8dd0b89d46573672d45c8e59">  822</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;DescriptorArray&gt;</a> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#afcd7e18d8dd0b89d46573672d45c8e59">MapUpdater::BuildDescriptorArray</a>() {</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fe">InstanceType</a> instance_type = <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7229e783c24947de0e968a0d31ab5950">old_map_</a>-&gt;instance_type();</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;  <span class="keywordtype">int</span> target_nof = <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a4de1c69e8607e2a9020311804905ca17">target_map_</a>-&gt;NumberOfOwnDescriptors();</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;DescriptorArray&gt;</a> target_descriptors(</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;      <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a4de1c69e8607e2a9020311804905ca17">target_map_</a>-&gt;instance_descriptors(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>), <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>);</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160; </div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;  <span class="comment">// Allocate a new descriptor array large enough to hold the required</span></div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;  <span class="comment">// descriptors, with minimally the exact same size as the old descriptor</span></div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;  <span class="comment">// array.</span></div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;  <span class="keywordtype">int</span> new_slack =</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;      std::max&lt;int&gt;(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#ab2651542c5170285c34514ee543ba550">old_nof_</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aceb51d8ef7e30b97772ff9681948ee42">old_descriptors_</a>-&gt;number_of_descriptors()) -</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;      <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#ab2651542c5170285c34514ee543ba550">old_nof_</a>;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;DescriptorArray&gt;</a> new_descriptors =</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;      <a class="code" href="classv8_1_1internal_1_1DescriptorArray.html#a40775e74d4daf9cb949906e602a8dc28">DescriptorArray::Allocate</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#ab2651542c5170285c34514ee543ba550">old_nof_</a>, new_slack);</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(new_descriptors-&gt;number_of_all_descriptors() &gt;</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;             target_descriptors-&gt;number_of_all_descriptors() ||</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;         new_descriptors-&gt;number_of_slack_descriptors() &gt; 0 ||</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;         new_descriptors-&gt;number_of_descriptors() ==</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;             <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aceb51d8ef7e30b97772ff9681948ee42">old_descriptors_</a>-&gt;number_of_descriptors());</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(new_descriptors-&gt;number_of_descriptors() == <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#ab2651542c5170285c34514ee543ba550">old_nof_</a>);</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160; </div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  <span class="keywordtype">int</span> root_nof = <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a5a3ec79e978f14130e1239b1f76150ca">root_map_</a>-&gt;NumberOfOwnDescriptors();</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160; </div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;  <span class="comment">// Given that we passed root modification check in FindRootMap() so</span></div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;  <span class="comment">// the root descriptors are either not modified at all or already more</span></div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;  <span class="comment">// general than we requested. Take |root_nof| entries as is.</span></div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;  <span class="comment">// 0 -&gt; |root_nof|</span></div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;  <span class="keywordtype">int</span> current_offset = 0;</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1InternalIndex.html">InternalIndex</a> <a class="code" href="namespacev8_1_1internal.html">i</a> : <a class="code" href="classv8_1_1internal_1_1InternalIndex_1_1Range.html">InternalIndex::Range</a>(root_nof)) {</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <a class="code" href="classv8_1_1internal_1_1PropertyDetails.html">PropertyDetails</a> old_details = <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aceb51d8ef7e30b97772ff9681948ee42">old_descriptors_</a>-&gt;GetDetails(<a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    <span class="keywordflow">if</span> (old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a2d8f536f39a3ab2754cdd721de544ae4">location</a>() == <a class="code" href="namespacev8_1_1internal.html#ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f">PropertyLocation::kField</a>) {</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;      current_offset += old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a41c3bf3679cb8c8826d73c79459fc697">field_width_in_words</a>();</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    }</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    <span class="comment">// Ensuring FindRootMap gave us a compatible root map.</span></div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <span class="comment">// TODO(olivf): In some cases it might be nice to be able to generalize the</span></div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <span class="comment">// root map (for instance if the prototype transitions overflowed). For that</span></div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    <span class="comment">// we&#39;d need to generalize old_details with the root_details here.</span></div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    <a class="code" href="classv8_1_1internal_1_1PropertyDetails.html">PropertyDetails</a> root_details =</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;        <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a5a3ec79e978f14130e1239b1f76150ca">root_map_</a>-&gt;instance_descriptors()-&gt;GetDetails(<a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;        old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a4355e88929d3f1f8d7855d80a064d492">representation</a>().<a class="code" href="classv8_1_1internal_1_1Representation.html#a8bdd97567badb1040967d90910c76c54">generalize</a>(root_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a4355e88929d3f1f8d7855d80a064d492">representation</a>()),</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;        root_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a4355e88929d3f1f8d7855d80a064d492">representation</a>());</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a5a3ec79e978f14130e1239b1f76150ca">root_map_</a>-&gt;IsDetached(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>)) {</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a4355e88929d3f1f8d7855d80a064d492">representation</a>().<a class="code" href="classv8_1_1internal_1_1Representation.html#a8127928bb5b6b4ab191cf394c6650260">IsCompatibleForLoad</a>(</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;          root_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a4355e88929d3f1f8d7855d80a064d492">representation</a>()));</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    }</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#aa6d8ec62f0979d0aea956c801aabb815">constness</a>(), root_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#aa6d8ec62f0979d0aea956c801aabb815">constness</a>());</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a21bd1ca61406d144db4b384a71cdcc96">attributes</a>(), root_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a21bd1ca61406d144db4b384a71cdcc96">attributes</a>());</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// DEBUG</span></div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    new_descriptors-&gt;Set(<a class="code" href="namespacev8_1_1internal.html">i</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a5b045cf26a76c61ba9b42f720139d3b0">GetKey</a>(<a class="code" href="namespacev8_1_1internal.html">i</a>), <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aceb51d8ef7e30b97772ff9681948ee42">old_descriptors_</a>-&gt;GetValue(<a class="code" href="namespacev8_1_1internal.html">i</a>),</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;                         old_details);</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;  }</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160; </div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;  <span class="comment">// Merge &quot;updated&quot; old_descriptor entries with target_descriptor entries.</span></div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;  <span class="comment">// |root_nof| -&gt; |target_nof|</span></div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1InternalIndex.html">InternalIndex</a> <a class="code" href="namespacev8_1_1internal.html">i</a> : <a class="code" href="classv8_1_1internal_1_1InternalIndex_1_1Range.html">InternalIndex::Range</a>(root_nof, target_nof)) {</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Name&gt;</a> <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a5b045cf26a76c61ba9b42f720139d3b0">GetKey</a>(<a class="code" href="namespacev8_1_1internal.html">i</a>), <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>);</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    <a class="code" href="classv8_1_1internal_1_1PropertyDetails.html">PropertyDetails</a> old_details = <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a6a2649d3a26f2f99d4771c13c8719694">GetDetails</a>(<a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    <a class="code" href="classv8_1_1internal_1_1PropertyDetails.html">PropertyDetails</a> target_details = target_descriptors-&gt;GetDetails(<a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160; </div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#ace7045d9fc96e0d36ce22ba112661a81">PropertyKind</a> next_kind = old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a84ec5d54214083de458bfc43b8c3ac1b">kind</a>();</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436">PropertyAttributes</a> next_attributes = old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a21bd1ca61406d144db4b384a71cdcc96">attributes</a>();</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(next_kind, target_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a84ec5d54214083de458bfc43b8c3ac1b">kind</a>());</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(next_attributes, target_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a21bd1ca61406d144db4b384a71cdcc96">attributes</a>());</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160; </div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#ac328869a355886739965287befcc49ac">PropertyConstness</a> next_constness = <a class="code" href="namespacev8_1_1internal.html#a617d346a46eb703e1719792077e5c2a0">GeneralizeConstness</a>(</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;        old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#aa6d8ec62f0979d0aea956c801aabb815">constness</a>(), target_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#aa6d8ec62f0979d0aea956c801aabb815">constness</a>());</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160; </div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    <span class="comment">// Note: failed values equality check does not invalidate per-object</span></div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    <span class="comment">// property constness.</span></div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#ae9b0a1942f337021ffd0954056894cc4">PropertyLocation</a> next_location =</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a2d8f536f39a3ab2754cdd721de544ae4">location</a>() == <a class="code" href="namespacev8_1_1internal.html#ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f">PropertyLocation::kField</a> ||</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;                target_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a2d8f536f39a3ab2754cdd721de544ae4">location</a>() == <a class="code" href="namespacev8_1_1internal.html#ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f">PropertyLocation::kField</a> ||</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;                !<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03.html#af46b0880f0e51ee10e8e6e61fe38084a">EqualImmutableValues</a>(target_descriptors-&gt;GetStrongValue(<a class="code" href="namespacev8_1_1internal.html">i</a>),</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;                                      <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7d5531f6707ea2f6f1606b0495685df3">GetValue</a>(<a class="code" href="namespacev8_1_1internal.html">i</a>))</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;            ? <a class="code" href="namespacev8_1_1internal.html#ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f">PropertyLocation::kField</a></div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;            : <a class="code" href="namespacev8_1_1internal.html#ae9b0a1942f337021ffd0954056894cc4a454ab7e845efd9a5fa1826a1e9a69295">PropertyLocation::kDescriptor</a>;</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160; </div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    <span class="comment">// Ensure that mutable values are stored in fields.</span></div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(next_constness == <a class="code" href="namespacev8_1_1internal.html#ac328869a355886739965287befcc49aca32567d9e5f2d66c9b326c45e800abcf6">PropertyConstness::kMutable</a>,</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;                   next_location == <a class="code" href="namespacev8_1_1internal.html#ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f">PropertyLocation::kField</a>);</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160; </div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Representation.html">Representation</a> next_representation =</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;        old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a4355e88929d3f1f8d7855d80a064d492">representation</a>().<a class="code" href="classv8_1_1internal_1_1Representation.html#a8bdd97567badb1040967d90910c76c54">generalize</a>(</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;            target_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a4355e88929d3f1f8d7855d80a064d492">representation</a>());</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160; </div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    <span class="keywordflow">if</span> (next_location == <a class="code" href="namespacev8_1_1internal.html#ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f">PropertyLocation::kField</a>) {</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;      <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;FieldType&gt;</a> old_field_type =</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;          <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a1f7fa530862af454488b9efd711eb9b3">GetOrComputeFieldType</a>(<a class="code" href="namespacev8_1_1internal.html">i</a>, old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a2d8f536f39a3ab2754cdd721de544ae4">location</a>(), next_representation);</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160; </div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;      <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;FieldType&gt;</a> target_field_type =</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;          <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a1f7fa530862af454488b9efd711eb9b3">GetOrComputeFieldType</a>(target_descriptors, <a class="code" href="namespacev8_1_1internal.html">i</a>,</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;                                target_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a2d8f536f39a3ab2754cdd721de544ae4">location</a>(), next_representation);</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160; </div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;      <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;FieldType&gt;</a> next_field_type =</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;          <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03.html#a7eae755681e278977f2ae4a11bf949d9">GeneralizeFieldType</a>(old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a4355e88929d3f1f8d7855d80a064d492">representation</a>(), old_field_type,</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;                              next_representation, target_field_type, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>);</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160; </div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Map.html#ac6c63c5c0715237233a9cb24fe7664ec">Map::GeneralizeIfCanHaveTransitionableFastElementsKind</a>(</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;          <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>, instance_type, &amp;next_representation, &amp;next_field_type);</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160; </div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;      <a class="code" href="classv8_1_1internal_1_1MaybeObjectDirectHandle.html">MaybeObjectDirectHandle</a> wrapped_type(<a class="code" href="classv8_1_1internal_1_1Map.html#a44318765b7add7bd3056301027f4aa5e">Map::WrapFieldType</a>(next_field_type));</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Descriptor.html">Descriptor</a> d;</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;      <span class="keywordflow">if</span> (next_kind == <a class="code" href="namespacev8_1_1internal.html#ace7045d9fc96e0d36ce22ba112661a81a0ac87546e8b36fcb3034694d4d909ea3">PropertyKind::kData</a>) {</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;        d = <a class="code" href="classv8_1_1internal_1_1Descriptor.html#a2782160995ef5a9c515d8cee9a6b2d85">Descriptor::DataField</a>(<a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>, current_offset, next_attributes,</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;                                  next_constness, next_representation,</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;                                  wrapped_type);</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;        <span class="comment">// TODO(ishell): mutable accessors are not implemented yet.</span></div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#a538499d2a66bf6e9d3182a57104edec9">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;      }</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;      current_offset += d.<a class="code" href="classv8_1_1internal_1_1Descriptor.html#ae88c3a772e8467f2dfb598ac6ea038c1">GetDetails</a>().<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a41c3bf3679cb8c8826d73c79459fc697">field_width_in_words</a>();</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;      new_descriptors-&gt;Set(<a class="code" href="namespacev8_1_1internal.html">i</a>, &amp;d);</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="namespacev8_1_1internal.html#ae9b0a1942f337021ffd0954056894cc4a454ab7e845efd9a5fa1826a1e9a69295">PropertyLocation::kDescriptor</a>, next_location);</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="namespacev8_1_1internal.html#ac328869a355886739965287befcc49acad1efdc0f2aa096a47586b448aa73f414">PropertyConstness::kConst</a>, next_constness);</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160; </div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;      <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7d5531f6707ea2f6f1606b0495685df3">GetValue</a>(<a class="code" href="namespacev8_1_1internal.html">i</a>), <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>);</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="namespacev8_1_1internal.html#ace7045d9fc96e0d36ce22ba112661a81ade3eeabe61d50a3f84870ae3ca43f0ec">PropertyKind::kAccessor</a>, next_kind);</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Descriptor.html">Descriptor</a> d = <a class="code" href="classv8_1_1internal_1_1Descriptor.html#a825c239b05b4814615a852ea28b406ec">Descriptor::AccessorConstant</a>(<a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, next_attributes);</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;      new_descriptors-&gt;Set(<a class="code" href="namespacev8_1_1internal.html">i</a>, &amp;d);</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    }</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;  }</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160; </div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;  <span class="comment">// Take &quot;updated&quot; old_descriptor entries.</span></div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;  <span class="comment">// |target_nof| -&gt; |old_nof|</span></div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1InternalIndex.html">InternalIndex</a> <a class="code" href="namespacev8_1_1internal.html">i</a> : <a class="code" href="classv8_1_1internal_1_1InternalIndex_1_1Range.html">InternalIndex::Range</a>(target_nof, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#ab2651542c5170285c34514ee543ba550">old_nof_</a>)) {</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    <a class="code" href="classv8_1_1internal_1_1PropertyDetails.html">PropertyDetails</a> old_details = <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a6a2649d3a26f2f99d4771c13c8719694">GetDetails</a>(<a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Name&gt;</a> <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a5b045cf26a76c61ba9b42f720139d3b0">GetKey</a>(<a class="code" href="namespacev8_1_1internal.html">i</a>), <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>);</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160; </div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#ace7045d9fc96e0d36ce22ba112661a81">PropertyKind</a> next_kind = old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a84ec5d54214083de458bfc43b8c3ac1b">kind</a>();</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436">PropertyAttributes</a> next_attributes = old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a21bd1ca61406d144db4b384a71cdcc96">attributes</a>();</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#ac328869a355886739965287befcc49ac">PropertyConstness</a> next_constness = old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#aa6d8ec62f0979d0aea956c801aabb815">constness</a>();</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#ae9b0a1942f337021ffd0954056894cc4">PropertyLocation</a> next_location = old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a2d8f536f39a3ab2754cdd721de544ae4">location</a>();</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Representation.html">Representation</a> next_representation = old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a4355e88929d3f1f8d7855d80a064d492">representation</a>();</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160; </div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <span class="keywordflow">if</span> (next_location == <a class="code" href="namespacev8_1_1internal.html#ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f">PropertyLocation::kField</a>) {</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;      <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;FieldType&gt;</a> next_field_type =</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;          <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a1f7fa530862af454488b9efd711eb9b3">GetOrComputeFieldType</a>(<a class="code" href="namespacev8_1_1internal.html">i</a>, old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a2d8f536f39a3ab2754cdd721de544ae4">location</a>(), next_representation);</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160; </div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;      <span class="comment">// If the |new_elements_kind_| is still transitionable then the old map&#39;s</span></div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;      <span class="comment">// elements kind is also transitionable and therefore the old descriptors</span></div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;      <span class="comment">// array must already have generalized field type.</span></div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a2c0c4cea27d0690467662bb05131b2af">CHECK_IMPLIES</a>(</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;          <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a53123e5f6d38c9ea2fdb5401fe553a2f">is_transitionable_fast_elements_kind_</a>,</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;          <a class="code" href="classv8_1_1internal_1_1Map.html#a7418a18a11d96f6d6550c4e8e453790a">Map::IsMostGeneralFieldType</a>(next_representation, *next_field_type));</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160; </div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;      <a class="code" href="classv8_1_1internal_1_1MaybeObjectDirectHandle.html">MaybeObjectDirectHandle</a> wrapped_type(<a class="code" href="classv8_1_1internal_1_1Map.html#a44318765b7add7bd3056301027f4aa5e">Map::WrapFieldType</a>(next_field_type));</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Descriptor.html">Descriptor</a> d;</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;      <span class="keywordflow">if</span> (next_kind == <a class="code" href="namespacev8_1_1internal.html#ace7045d9fc96e0d36ce22ba112661a81a0ac87546e8b36fcb3034694d4d909ea3">PropertyKind::kData</a>) {</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;        d = <a class="code" href="classv8_1_1internal_1_1Descriptor.html#a2782160995ef5a9c515d8cee9a6b2d85">Descriptor::DataField</a>(<a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>, current_offset, next_attributes,</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;                                  next_constness, next_representation,</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;                                  wrapped_type);</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;        <span class="comment">// TODO(ishell): mutable accessors are not implemented yet.</span></div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#a538499d2a66bf6e9d3182a57104edec9">UNIMPLEMENTED</a>();</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;      }</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;      current_offset += d.<a class="code" href="classv8_1_1internal_1_1Descriptor.html#ae88c3a772e8467f2dfb598ac6ea038c1">GetDetails</a>().<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a41c3bf3679cb8c8826d73c79459fc697">field_width_in_words</a>();</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;      new_descriptors-&gt;Set(<a class="code" href="namespacev8_1_1internal.html">i</a>, &amp;d);</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="namespacev8_1_1internal.html#ae9b0a1942f337021ffd0954056894cc4a454ab7e845efd9a5fa1826a1e9a69295">PropertyLocation::kDescriptor</a>, next_location);</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="namespacev8_1_1internal.html#ac328869a355886739965287befcc49acad1efdc0f2aa096a47586b448aa73f414">PropertyConstness::kConst</a>, next_constness);</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160; </div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;      <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7d5531f6707ea2f6f1606b0495685df3">GetValue</a>(<a class="code" href="namespacev8_1_1internal.html">i</a>), <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>);</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Descriptor.html">Descriptor</a> d;</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;      <span class="keywordflow">if</span> (next_kind == <a class="code" href="namespacev8_1_1internal.html#ace7045d9fc96e0d36ce22ba112661a81a0ac87546e8b36fcb3034694d4d909ea3">PropertyKind::kData</a>) {</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;        d = <a class="code" href="classv8_1_1internal_1_1Descriptor.html#a99e8701798dba98e56a94b2e66d053c0">Descriptor::DataConstant</a>(<a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, next_attributes);</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="namespacev8_1_1internal.html#ace7045d9fc96e0d36ce22ba112661a81ade3eeabe61d50a3f84870ae3ca43f0ec">PropertyKind::kAccessor</a>, next_kind);</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;        d = <a class="code" href="classv8_1_1internal_1_1Descriptor.html#a825c239b05b4814615a852ea28b406ec">Descriptor::AccessorConstant</a>(<a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, next_attributes);</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;      }</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;      new_descriptors-&gt;Set(<a class="code" href="namespacev8_1_1internal.html">i</a>, &amp;d);</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    }</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;  }</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160; </div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;  new_descriptors-&gt;Sort();</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;  <span class="keywordflow">return</span> new_descriptors;</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;}</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160; </div>
<div class="line"><a name="l01002"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MapUpdater.html#aaafc5700055a5792206e0942762da083"> 1002</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Map&gt;</a> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aaafc5700055a5792206e0942762da083">MapUpdater::FindSplitMap</a>(</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;DescriptorArray&gt;</a> descriptors) {</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;  <span class="keywordtype">int</span> root_nof = <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a5a3ec79e978f14130e1239b1f76150ca">root_map_</a>-&gt;NumberOfOwnDescriptors();</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Map&gt;</a> current = *<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a5a3ec79e978f14130e1239b1f76150ca">root_map_</a>;</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1InternalIndex.html">InternalIndex</a> <a class="code" href="namespacev8_1_1internal.html">i</a> : <a class="code" href="classv8_1_1internal_1_1InternalIndex_1_1Range.html">InternalIndex::Range</a>(root_nof, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#ab2651542c5170285c34514ee543ba550">old_nof_</a>)) {</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Name&gt;</a> <a class="code" href="namespacev8_1_1internal.html#a611f0528d5415d4591ad6e8fe9513ac4">name</a> = descriptors-&gt;GetKey(<a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    <a class="code" href="classv8_1_1internal_1_1PropertyDetails.html">PropertyDetails</a> details = descriptors-&gt;GetDetails(<a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Map&gt;</a> next =</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;        <a class="code" href="classv8_1_1internal_1_1TransitionsAccessor.html">TransitionsAccessor</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>, current)</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;            .<a class="code" href="classv8_1_1internal_1_1TransitionsAccessor.html#a34d5580f0039113ee34e43ca052b5262">SearchTransition</a>(<a class="code" href="namespacev8_1_1internal.html#a611f0528d5415d4591ad6e8fe9513ac4">name</a>, details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a84ec5d54214083de458bfc43b8c3ac1b">kind</a>(), details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a21bd1ca61406d144db4b384a71cdcc96">attributes</a>());</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    <span class="keywordflow">if</span> (next.<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html#a0930e2a8cbe8abbc5cdd476902fe6c88">is_null</a>()) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;DescriptorArray&gt;</a> next_descriptors =</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;        next-&gt;instance_descriptors(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>);</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160; </div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    <a class="code" href="classv8_1_1internal_1_1PropertyDetails.html">PropertyDetails</a> next_details = next_descriptors-&gt;GetDetails(<a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a84ec5d54214083de458bfc43b8c3ac1b">kind</a>(), next_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a84ec5d54214083de458bfc43b8c3ac1b">kind</a>());</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a21bd1ca61406d144db4b384a71cdcc96">attributes</a>(), next_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a21bd1ca61406d144db4b384a71cdcc96">attributes</a>());</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    <span class="keywordflow">if</span> (details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#aa6d8ec62f0979d0aea956c801aabb815">constness</a>() != next_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#aa6d8ec62f0979d0aea956c801aabb815">constness</a>()) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    <span class="keywordflow">if</span> (details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a2d8f536f39a3ab2754cdd721de544ae4">location</a>() != next_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a2d8f536f39a3ab2754cdd721de544ae4">location</a>()) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    <span class="keywordflow">if</span> (!details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a4355e88929d3f1f8d7855d80a064d492">representation</a>().<a class="code" href="classv8_1_1internal_1_1Representation.html#aa84e9e08d7aa134ade62588b6353aaeb">Equals</a>(next_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a4355e88929d3f1f8d7855d80a064d492">representation</a>())) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160; </div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    <span class="keywordflow">if</span> (next_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a2d8f536f39a3ab2754cdd721de544ae4">location</a>() == <a class="code" href="namespacev8_1_1internal.html#ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f">PropertyLocation::kField</a>) {</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;FieldType&gt;</a> next_field_type = next_descriptors-&gt;GetFieldType(<a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1FieldType.html#ae3e25b47fcc85c189745eb8fd902ed40">FieldType::NowIs</a>(descriptors-&gt;GetFieldType(<a class="code" href="namespacev8_1_1internal.html">i</a>), next_field_type)) {</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;      }</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03.html#af46b0880f0e51ee10e8e6e61fe38084a">EqualImmutableValues</a>(descriptors-&gt;GetStrongValue(<a class="code" href="namespacev8_1_1internal.html">i</a>),</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;                                next_descriptors-&gt;GetStrongValue(<a class="code" href="namespacev8_1_1internal.html">i</a>))) {</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;      }</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    }</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    current = next;</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;  }</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(current, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>);</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;}</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160; </div>
<div class="line"><a name="l01039"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MapUpdater.html#a65be75fff70ffb063e04326adc452f45"> 1039</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a88927e132aed0245511948f7eb996240">MapUpdater::State</a> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a65be75fff70ffb063e04326adc452f45">MapUpdater::ConstructNewMap</a>() {</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;EnumCache&gt;</a> old_enum_cache(</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;      <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7229e783c24947de0e968a0d31ab5950">old_map_</a>-&gt;instance_descriptors()-&gt;enum_cache(), <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>);</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;DescriptorArray&gt;</a> new_descriptors = <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#afcd7e18d8dd0b89d46573672d45c8e59">BuildDescriptorArray</a>();</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160; </div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Map&gt;</a> split_map = <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aaafc5700055a5792206e0942762da083">FindSplitMap</a>(new_descriptors);</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;  <span class="keywordtype">int</span> split_nof = split_map-&gt;NumberOfOwnDescriptors();</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#ab2651542c5170285c34514ee543ba550">old_nof_</a> == split_nof) {</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a19f65433523c408df90eb032c1ef1406">has_integrity_level_transition_</a>);</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aee22c2ec3557d995b2c50bb5d42f828f">state_</a> = <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a88927e132aed0245511948f7eb996240aee8bd9881bdaa659546a5ab5ddcd0e80">kAtIntegrityLevelSource</a>;</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aee22c2ec3557d995b2c50bb5d42f828f">state_</a>;</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;  }</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;  <a class="code" href="classv8_1_1internal_1_1InternalIndex.html">InternalIndex</a> split_index(split_nof);</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;  <a class="code" href="classv8_1_1internal_1_1PropertyDetails.html">PropertyDetails</a> split_details = <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a6a2649d3a26f2f99d4771c13c8719694">GetDetails</a>(split_index);</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160; </div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;  <span class="comment">// Invalidate a transition target at |key|.</span></div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MaybeDirectHandle.html">MaybeDirectHandle&lt;Map&gt;</a> maybe_transition =</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;      <a class="code" href="classv8_1_1internal_1_1TransitionsAccessor.html#a34d5580f0039113ee34e43ca052b5262">TransitionsAccessor::SearchTransition</a>(</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;          <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>, split_map, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a5b045cf26a76c61ba9b42f720139d3b0">GetKey</a>(split_index), split_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a84ec5d54214083de458bfc43b8c3ac1b">kind</a>(),</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;          split_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a21bd1ca61406d144db4b384a71cdcc96">attributes</a>());</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;  <span class="keywordflow">if</span> (!maybe_transition.<a class="code" href="classv8_1_1internal_1_1MaybeDirectHandle.html#a872ccde05e0ba79452e0b75afdfabf39">is_null</a>()) {</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    maybe_transition.<a class="code" href="classv8_1_1internal_1_1MaybeDirectHandle.html#af9f9ca9032aa4f380d7bab01754f5903">ToHandleChecked</a>()-&gt;DeprecateTransitionTree(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>);</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;  }</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160; </div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;  <span class="comment">// If |maybe_transition| is not nullptr then the transition array already</span></div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;  <span class="comment">// contains entry for given descriptor. This means that the transition</span></div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;  <span class="comment">// could be inserted regardless of whether transitions array is full or not.</span></div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;  <span class="keywordflow">if</span> (maybe_transition.<a class="code" href="classv8_1_1internal_1_1MaybeDirectHandle.html#a872ccde05e0ba79452e0b75afdfabf39">is_null</a>() &amp;&amp;</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;      !<a class="code" href="classv8_1_1internal_1_1TransitionsAccessor.html#a1dc4182835dccc64db93443a047531d2">TransitionsAccessor::CanHaveMoreTransitions</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>, split_map)) {</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a4f5907476a25521afb92e5c6613e3848">Normalize</a>(<span class="stringliteral">&quot;Normalize_CantHaveMoreTransitions&quot;</span>);</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;  }</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160; </div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7229e783c24947de0e968a0d31ab5950">old_map_</a>-&gt;NotifyLeafMapLayoutChange(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>);</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160; </div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_generalization &amp;&amp; <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aa5a7012cd53d2ac903c27ab400b86e7f">modified_descriptor_</a>.<a class="code" href="classv8_1_1internal_1_1InternalIndex.html#ad381db083f3f9b72f16908eac7027823">is_found</a>()) {</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    <a class="code" href="classv8_1_1internal_1_1PropertyDetails.html">PropertyDetails</a> old_details =</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;        <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aceb51d8ef7e30b97772ff9681948ee42">old_descriptors_</a>-&gt;GetDetails(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aa5a7012cd53d2ac903c27ab400b86e7f">modified_descriptor_</a>);</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    <a class="code" href="classv8_1_1internal_1_1PropertyDetails.html">PropertyDetails</a> new_details =</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;        new_descriptors-&gt;GetDetails(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aa5a7012cd53d2ac903c27ab400b86e7f">modified_descriptor_</a>);</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MaybeDirectHandle.html">MaybeDirectHandle&lt;FieldType&gt;</a> old_field_type;</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MaybeDirectHandle.html">MaybeDirectHandle&lt;FieldType&gt;</a> new_field_type;</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MaybeDirectHandle.html">MaybeDirectHandle&lt;Object&gt;</a> old_value;</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MaybeDirectHandle.html">MaybeDirectHandle&lt;Object&gt;</a> new_value;</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    <span class="keywordflow">if</span> (old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a2d8f536f39a3ab2754cdd721de544ae4">location</a>() == <a class="code" href="namespacev8_1_1internal.html#ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f">PropertyLocation::kField</a>) {</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;      old_field_type = <a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;          <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aceb51d8ef7e30b97772ff9681948ee42">old_descriptors_</a>-&gt;GetFieldType(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aa5a7012cd53d2ac903c27ab400b86e7f">modified_descriptor_</a>), <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>);</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;      old_value = <a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;          <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aceb51d8ef7e30b97772ff9681948ee42">old_descriptors_</a>-&gt;GetStrongValue(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aa5a7012cd53d2ac903c27ab400b86e7f">modified_descriptor_</a>), <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>);</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    }</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    <span class="keywordflow">if</span> (new_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a2d8f536f39a3ab2754cdd721de544ae4">location</a>() == <a class="code" href="namespacev8_1_1internal.html#ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f">PropertyLocation::kField</a>) {</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;      new_field_type = <a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;          new_descriptors-&gt;GetFieldType(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aa5a7012cd53d2ac903c27ab400b86e7f">modified_descriptor_</a>), <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>);</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;      new_value = <a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;          new_descriptors-&gt;GetStrongValue(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aa5a7012cd53d2ac903c27ab400b86e7f">modified_descriptor_</a>), <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>);</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    }</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160; </div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03.html#a11017d5e0e07217626b7dcb7acf267a3">PrintGeneralization</a>(</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;        <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7229e783c24947de0e968a0d31ab5950">old_map_</a>, stdout, <span class="stringliteral">&quot;&quot;</span>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aa5a7012cd53d2ac903c27ab400b86e7f">modified_descriptor_</a>, split_nof,</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;        <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#ab2651542c5170285c34514ee543ba550">old_nof_</a>,</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;        old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a2d8f536f39a3ab2754cdd721de544ae4">location</a>() == <a class="code" href="namespacev8_1_1internal.html#ae9b0a1942f337021ffd0954056894cc4a454ab7e845efd9a5fa1826a1e9a69295">PropertyLocation::kDescriptor</a> &amp;&amp;</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;            <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a0296035233a5b3634cae433b041fa25a">new_location_</a> == <a class="code" href="namespacev8_1_1internal.html#ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f">PropertyLocation::kField</a>,</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;        old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a4355e88929d3f1f8d7855d80a064d492">representation</a>(), new_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a4355e88929d3f1f8d7855d80a064d492">representation</a>(),</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;        old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#aa6d8ec62f0979d0aea956c801aabb815">constness</a>(), new_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#aa6d8ec62f0979d0aea956c801aabb815">constness</a>(), old_field_type,</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;        old_value, new_field_type, new_value);</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;  }</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160; </div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Map&gt;</a> new_map =</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Map.html#acf0077c391ca81dd24ffb29ffc8a9e2a">Map::AddMissingTransitions</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>, split_map, new_descriptors);</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160; </div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;  <span class="keywordtype">bool</span> had_any_enum_cache =</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;      split_map-&gt;instance_descriptors(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>)</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;              -&gt;enum_cache()</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;              -&gt;keys()</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;              -&gt;length() &gt; 0 ||</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;      <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aceb51d8ef7e30b97772ff9681948ee42">old_descriptors_</a>-&gt;enum_cache()-&gt;keys()-&gt;length() &gt; 0;</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160; </div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;  <span class="comment">// Deprecated part of the transition tree is no longer reachable, so replace</span></div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;  <span class="comment">// current instance descriptors in the &quot;survived&quot; part of the tree with</span></div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;  <span class="comment">// the new descriptors to maintain descriptors sharing invariant.</span></div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;  split_map-&gt;ReplaceDescriptors(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>, *new_descriptors);</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160; </div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;  <span class="comment">// If the old descriptors had an enum cache (or if {split_map}&#39;s descriptors</span></div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;  <span class="comment">// had one), make sure the new ones do too.</span></div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;  <span class="keywordflow">if</span> (had_any_enum_cache &amp;&amp; new_map-&gt;NumberOfEnumerableProperties() &gt; 0) {</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    <a class="code" href="classv8_1_1internal_1_1FastKeyAccumulator.html#a1f64b2d6135f5ff3b104c7cac6f5fc42">FastKeyAccumulator::InitializeFastPropertyEnumCache</a>(</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;        <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>, new_map, new_map-&gt;NumberOfEnumerableProperties());</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;  }</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160; </div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;  <span class="comment">// The old map has to still point to the old enum cache. This is because we</span></div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;  <span class="comment">// might have cached the enum indices, for iterating over objects with the old</span></div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;  <span class="comment">// map -- we don&#39;t want this enum cache to move ownership to the new branch,</span></div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;  <span class="comment">// because then it might get trimmed past the old map&#39;s field count.</span></div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7229e783c24947de0e968a0d31ab5950">old_map_</a>-&gt;instance_descriptors()-&gt;enum_cache(), *old_enum_cache);</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160; </div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a19f65433523c408df90eb032c1ef1406">has_integrity_level_transition_</a>) {</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a4de1c69e8607e2a9020311804905ca17">target_map_</a> = new_map;</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aee22c2ec3557d995b2c50bb5d42f828f">state_</a> = <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a88927e132aed0245511948f7eb996240aee8bd9881bdaa659546a5ab5ddcd0e80">kAtIntegrityLevelSource</a>;</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7a741b6b2cfaa8e477f2348e764ff64a">result_map_</a> = new_map;</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aee22c2ec3557d995b2c50bb5d42f828f">state_</a> = <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a88927e132aed0245511948f7eb996240a5a4f5fa1de82fcd422bbb97bd54f9957">kEnd</a>;</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;  }</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aee22c2ec3557d995b2c50bb5d42f828f">state_</a>;  <span class="comment">// Done.</span></div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;}</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160; </div>
<div class="line"><a name="l01147"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MapUpdater.html#a01c1e00ea1e1e9a445ccd20e6b27afe1"> 1147</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a88927e132aed0245511948f7eb996240">MapUpdater::State</a> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a01c1e00ea1e1e9a445ccd20e6b27afe1">MapUpdater::ConstructNewMapWithIntegrityLevelTransition</a>() {</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a88927e132aed0245511948f7eb996240aee8bd9881bdaa659546a5ab5ddcd0e80">kAtIntegrityLevelSource</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aee22c2ec3557d995b2c50bb5d42f828f">state_</a>);</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160; </div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1TransitionsAccessor.html#a1dc4182835dccc64db93443a047531d2">TransitionsAccessor::CanHaveMoreTransitions</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a4de1c69e8607e2a9020311804905ca17">target_map_</a>)) {</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a4f5907476a25521afb92e5c6613e3848">Normalize</a>(<span class="stringliteral">&quot;Normalize_CantHaveMoreTransitions&quot;</span>);</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;  }</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160; </div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7a741b6b2cfaa8e477f2348e764ff64a">result_map_</a> = <a class="code" href="classv8_1_1internal_1_1Map.html#abb937261c0cadd5dbd4e9775b410fb99">Map::CopyForPreventExtensions</a>(</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;      <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">isolate_</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a4de1c69e8607e2a9020311804905ca17">target_map_</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#af4f8ebf63a8cbed7b8b5236f510319fc">integrity_level_</a>, <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aa29919747bbddb076ce7adb9816e1fb0">integrity_level_symbol_</a>,</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;      <span class="stringliteral">&quot;CopyForPreventExtensions&quot;</span>,</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;      <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7229e783c24947de0e968a0d31ab5950">old_map_</a>-&gt;elements_kind() == <a class="code" href="namespacev8_1_1internal.html#a5feb64a99571462d3380d03aa42c149cace123a96977080e9fd831f0f40e97a37">DICTIONARY_ELEMENTS</a>);</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(<a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7229e783c24947de0e968a0d31ab5950">old_map_</a>-&gt;elements_kind() == <a class="code" href="namespacev8_1_1internal.html#a5feb64a99571462d3380d03aa42c149cace123a96977080e9fd831f0f40e97a37">DICTIONARY_ELEMENTS</a>,</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;                 <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a7a741b6b2cfaa8e477f2348e764ff64a">result_map_</a>-&gt;elements_kind() == <a class="code" href="namespacev8_1_1internal.html#a5feb64a99571462d3380d03aa42c149cace123a96977080e9fd831f0f40e97a37">DICTIONARY_ELEMENTS</a>);</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160; </div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aee22c2ec3557d995b2c50bb5d42f828f">state_</a> = <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a88927e132aed0245511948f7eb996240a5a4f5fa1de82fcd422bbb97bd54f9957">kEnd</a>;</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aee22c2ec3557d995b2c50bb5d42f828f">state_</a>;</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;}</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160; </div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160; </div>
<div class="line"><a name="l01167"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03.html#abd99109fc05f1421f7f4b7d2962dbecc"> 1167</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03.html#abd99109fc05f1421f7f4b7d2962dbecc">PrintReconfiguration</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Map&gt;</a> map, FILE* <a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>,</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;                          <a class="code" href="classv8_1_1internal_1_1InternalIndex.html">InternalIndex</a> modify_index, <a class="code" href="namespacev8_1_1internal.html#ace7045d9fc96e0d36ce22ba112661a81">PropertyKind</a> kind,</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;                          <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436">PropertyAttributes</a> attributes) {</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;  <a class="code" href="classv8_1_1internal_1_1OFStream.html">OFStream</a> os(<a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>);</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;  os &lt;&lt; <span class="stringliteral">&quot;[reconfiguring]&quot;</span>;</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Name&gt;</a> <a class="code" href="namespacev8_1_1internal.html#a611f0528d5415d4591ad6e8fe9513ac4">name</a> = map-&gt;instance_descriptors(isolate)-&gt;GetKey(modify_index);</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;  <span class="keywordflow">if</span> (IsString(<a class="code" href="namespacev8_1_1internal.html#a611f0528d5415d4591ad6e8fe9513ac4">name</a>)) {</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;    Cast&lt;String&gt;(<a class="code" href="namespacev8_1_1internal.html#a611f0528d5415d4591ad6e8fe9513ac4">name</a>)-&gt;PrintOn(<a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>);</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    os &lt;&lt; <span class="stringliteral">&quot;{symbol &quot;</span> &lt;&lt; <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal.html#a611f0528d5415d4591ad6e8fe9513ac4">name</a>.ptr()) &lt;&lt; <span class="stringliteral">&quot;}&quot;</span>;</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;  }</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;  os &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; (kind == <a class="code" href="namespacev8_1_1internal.html#ace7045d9fc96e0d36ce22ba112661a81a0ac87546e8b36fcb3034694d4d909ea3">PropertyKind::kData</a> ? <span class="stringliteral">&quot;kData&quot;</span> : <span class="stringliteral">&quot;ACCESSORS&quot;</span>)</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;     &lt;&lt; <span class="stringliteral">&quot;, attrs: &quot;</span>;</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;  os &lt;&lt; attributes &lt;&lt; <span class="stringliteral">&quot; [&quot;</span>;</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;  <a class="code" href="classv8_1_1internal_1_1JavaScriptFrame.html#a69de8494527b217bfd2bcde82196cd31">JavaScriptFrame::PrintTop</a>(isolate, <a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;  os &lt;&lt; <span class="stringliteral">&quot;]\n&quot;</span>;</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;}</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160; </div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160; </div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l01188"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MapUpdater.html#aa5e47410414276c0199a92eb116ba00b"> 1188</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Map&gt;</a> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#aa5e47410414276c0199a92eb116ba00b">MapUpdater::ReconfigureExistingProperty</a>(</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Map&gt;</a> map, <a class="code" href="classv8_1_1internal_1_1InternalIndex.html">InternalIndex</a> descriptor,</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#ace7045d9fc96e0d36ce22ba112661a81">PropertyKind</a> kind, <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436">PropertyAttributes</a> attributes,</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#ac328869a355886739965287befcc49ac">PropertyConstness</a> constness) {</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;  <span class="comment">// Dictionaries have to be reconfigured in-place.</span></div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!map-&gt;is_dictionary_map());</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="namespacev8_1_1internal.html#ace7045d9fc96e0d36ce22ba112661a81a0ac87546e8b36fcb3034694d4d909ea3">PropertyKind::kData</a>, kind);  <span class="comment">// Only kData case is supported so far.</span></div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160; </div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;  <span class="keywordflow">if</span> (!IsMap(map-&gt;GetBackPointer())) {</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    <span class="comment">// There is no benefit from reconstructing transition tree for maps without</span></div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    <span class="comment">// back pointers, normalize and try to hit the map cache instead.</span></div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1Map.html#aae668ae5d352e15e940cdfdbaa6007b1">Map::Normalize</a>(isolate, map, <a class="code" href="namespacev8_1_1internal.html#aff269dc9be2370cdca244d8f1f97237aac5a8bff008f8e182215fa48828c8cdb5">CLEAR_INOBJECT_PROPERTIES</a>,</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;                          <span class="stringliteral">&quot;Normalize_AttributesMismatchProtoMap&quot;</span>);</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;  }</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160; </div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_generalization) {</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03.html#abd99109fc05f1421f7f4b7d2962dbecc">PrintReconfiguration</a>(isolate, map, stdout, descriptor, kind, attributes);</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;  }</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160; </div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html">MapUpdater</a>{isolate, map}.ReconfigureToDataField(</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;      descriptor, attributes, constness, <a class="code" href="classv8_1_1internal_1_1Representation.html#ace382f041e3e5c2b98fefd107be9927d">Representation::None</a>(),</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;      <a class="code" href="classv8_1_1internal_1_1FieldType.html#a850ca02db2d0bd0b2279e392a7b7a606">FieldType::None</a>(isolate));</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;}</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160; </div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l01213"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MapUpdater.html#a07aba2a1c4674b213666f0bcf9cdda2a"> 1213</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a07aba2a1c4674b213666f0bcf9cdda2a">MapUpdater::UpdateFieldType</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Map&gt;</a> map,</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;                                 <a class="code" href="classv8_1_1internal_1_1InternalIndex.html">InternalIndex</a> descriptor,</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;                                 <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Name&gt;</a> <a class="code" href="namespacev8_1_1internal.html#a611f0528d5415d4591ad6e8fe9513ac4">name</a>,</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;                                 <a class="code" href="namespacev8_1_1internal.html#ac328869a355886739965287befcc49ac">PropertyConstness</a> new_constness,</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;                                 <a class="code" href="classv8_1_1internal_1_1Representation.html">Representation</a> new_representation,</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;                                 <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;FieldType&gt;</a> new_type) {</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;  <span class="comment">// We store raw pointers in the queue, so no allocations are allowed.</span></div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;  <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>;</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;  <a class="code" href="classv8_1_1internal_1_1PropertyDetails.html">PropertyDetails</a> details =</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;      map-&gt;instance_descriptors(isolate)-&gt;GetDetails(descriptor);</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;  <span class="keywordflow">if</span> (details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a2d8f536f39a3ab2754cdd721de544ae4">location</a>() != <a class="code" href="namespacev8_1_1internal.html#ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f">PropertyLocation::kField</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(<a class="code" href="namespacev8_1_1internal.html#ace7045d9fc96e0d36ce22ba112661a81a0ac87546e8b36fcb3034694d4d909ea3">PropertyKind::kData</a>, details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a84ec5d54214083de458bfc43b8c3ac1b">kind</a>());</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160; </div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;  <span class="keywordflow">if</span> (new_constness != details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#aa6d8ec62f0979d0aea956c801aabb815">constness</a>() &amp;&amp; map-&gt;is_prototype_map()) {</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    <a class="code" href="classv8_1_1internal_1_1JSObject.html#a6778b7efad46d382d16a9ead08dbfa66">JSObject::InvalidatePrototypeChains</a>(*map);</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;  }</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160; </div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;  std::queue&lt;Tagged&lt;Map&gt;&gt; backlog;</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;  backlog.push(*map);</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;  std::vector&lt;Tagged&lt;Map&gt;&gt; sidestep_transition;</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160; </div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;  <a class="code" href="classv8_1_1internal_1_1ReadOnlyRoots.html">ReadOnlyRoots</a> roots(isolate);</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;  <span class="keywordflow">while</span> (!backlog.empty()) {</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Map&gt;</a> current = backlog.front();</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    backlog.pop();</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160; </div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;    <a class="code" href="classv8_1_1internal_1_1TransitionsAccessor.html">TransitionsAccessor</a> transitions(isolate, current);</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    transitions.<a class="code" href="classv8_1_1internal_1_1TransitionsAccessor.html#a33e0935668a8574d99cdbd470be1aa2f">ForEachTransition</a>(</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;        &amp;<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>, [&amp;](<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Map&gt;</a> target) { backlog.push(target); },</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;        [&amp;](<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Map&gt;</a> target) {</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.move_prototype_transitions_first) {</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;            backlog.push(target);</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;          }</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;        },</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;        [&amp;](<a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> target) {</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;          <span class="keywordflow">if</span> (!target.<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html#a2283cc249d5cb022b9be15bbf31a09f1">IsSmi</a>() &amp;&amp; !Cast&lt;Map&gt;(target)-&gt;is_deprecated()) {</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;            sidestep_transition.push_back(Cast&lt;Map&gt;(target));</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;          }</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;        });</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160; </div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;DescriptorArray&gt;</a> descriptors =</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;        current-&gt;instance_descriptors(isolate);</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    details = descriptors-&gt;GetDetails(descriptor);</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160; </div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    <span class="comment">// It is allowed to change representation here only from None</span></div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    <span class="comment">// to something or from Smi or HeapObject to Tagged.</span></div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a4355e88929d3f1f8d7855d80a064d492">representation</a>().<a class="code" href="classv8_1_1internal_1_1Representation.html#aa84e9e08d7aa134ade62588b6353aaeb">Equals</a>(new_representation) ||</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;          details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a4355e88929d3f1f8d7855d80a064d492">representation</a>().<a class="code" href="classv8_1_1internal_1_1Representation.html#afc2857d68d808055d558efa69b9a7838">CanBeInPlaceChangedTo</a>(new_representation));</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160; </div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    <span class="comment">// Skip if we already updated the shared descriptor or the target was more</span></div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;    <span class="comment">// general in the first place.</span></div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    <span class="keywordflow">if</span> (new_constness == details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#aa6d8ec62f0979d0aea956c801aabb815">constness</a>() &amp;&amp;</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;        new_representation.<a class="code" href="classv8_1_1internal_1_1Representation.html#aa84e9e08d7aa134ade62588b6353aaeb">Equals</a>(details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a4355e88929d3f1f8d7855d80a064d492">representation</a>()) &amp;&amp;</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;        <a class="code" href="classv8_1_1internal_1_1FieldType.html#a6652f43f8b4e3c217124374a2f4b1172">FieldType::Equals</a>(descriptors-&gt;GetFieldType(descriptor), *new_type)) {</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    }</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160; </div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(<a class="code" href="namespacev8_1_1internal.html#a82b24872512218708764e7261b3e2a66">IsClass</a>(*new_type), new_representation.<a class="code" href="classv8_1_1internal_1_1Representation.html#a0febd6151e727b2840b7444dd5e7c632">IsHeapObject</a>());</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MaybeObjectDirectHandle.html">MaybeObjectDirectHandle</a> wrapped_type(<a class="code" href="classv8_1_1internal_1_1Map.html#a44318765b7add7bd3056301027f4aa5e">Map::WrapFieldType</a>(new_type));</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Descriptor.html">Descriptor</a> d = <a class="code" href="classv8_1_1internal_1_1Descriptor.html#a2782160995ef5a9c515d8cee9a6b2d85">Descriptor::DataField</a>(</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#a611f0528d5415d4591ad6e8fe9513ac4">name</a>, descriptors-&gt;GetFieldIndex(descriptor), details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a21bd1ca61406d144db4b384a71cdcc96">attributes</a>(),</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;        new_constness, new_representation, wrapped_type);</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(descriptors-&gt;GetKey(descriptor), *d.<a class="code" href="classv8_1_1internal_1_1Descriptor.html#a0486530a8e6cc4f7dab78aa5bba15e62">key_</a>);</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;    descriptors-&gt;Replace(descriptor, &amp;d);</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;  }</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160; </div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Map&gt;</a> current : sidestep_transition) {</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;DescriptorArray&gt;</a> descriptors =</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;        current-&gt;instance_descriptors(isolate);</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    details = descriptors-&gt;GetDetails(descriptor);</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    <span class="comment">// Through side-steps we can reach transition trees which are already more</span></div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;    <span class="comment">// generalized. Ensure we don&#39;t re-concretize them.</span></div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#ac328869a355886739965287befcc49ac">PropertyConstness</a> cur_new_constness =</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#a617d346a46eb703e1719792077e5c2a0">GeneralizeConstness</a>(new_constness, details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#aa6d8ec62f0979d0aea956c801aabb815">constness</a>());</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Representation.html">Representation</a> cur_new_representation =</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;        new_representation.<a class="code" href="classv8_1_1internal_1_1Representation.html#a8bdd97567badb1040967d90910c76c54">generalize</a>(details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a4355e88929d3f1f8d7855d80a064d492">representation</a>());</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;FieldType&gt;</a> cur_new_type = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03.html#a7eae755681e278977f2ae4a11bf949d9">GeneralizeFieldType</a>(</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;        details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a4355e88929d3f1f8d7855d80a064d492">representation</a>(),</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(descriptors-&gt;GetFieldType(descriptor), isolate),</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;        cur_new_representation, new_type, isolate);</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(new_representation.<a class="code" href="classv8_1_1internal_1_1Representation.html#a358b22922554e7c1c08eb68e74c8d904">fits_into</a>(cur_new_representation));</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    <span class="comment">// Skip if we already updated the shared descriptor or the target was more</span></div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    <span class="comment">// general in the first place.</span></div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    <span class="keywordflow">if</span> (cur_new_constness != details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#aa6d8ec62f0979d0aea956c801aabb815">constness</a>() ||</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;        !cur_new_representation.<a class="code" href="classv8_1_1internal_1_1Representation.html#aa84e9e08d7aa134ade62588b6353aaeb">Equals</a>(details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a4355e88929d3f1f8d7855d80a064d492">representation</a>()) ||</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;        !<a class="code" href="classv8_1_1internal_1_1FieldType.html#a6652f43f8b4e3c217124374a2f4b1172">FieldType::Equals</a>(descriptors-&gt;GetFieldType(descriptor),</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;                           *cur_new_type)) {</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;      <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a04012f11ce54cbce8115f4249c472e3a">GeneralizeField</a>(isolate, <a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(current, isolate), descriptor,</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;                      cur_new_constness, cur_new_representation, cur_new_type);</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;    }</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;  }</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;}</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160; </div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;<span class="comment">// TODO(jgruber): Lock the map-updater mutex.</span></div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l01308"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MapUpdater.html#a04012f11ce54cbce8115f4249c472e3a"> 1308</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a04012f11ce54cbce8115f4249c472e3a">MapUpdater::GeneralizeField</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Map&gt;</a> map,</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;                                 <a class="code" href="classv8_1_1internal_1_1InternalIndex.html">InternalIndex</a> modify_index,</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;                                 <a class="code" href="namespacev8_1_1internal.html#ac328869a355886739965287befcc49ac">PropertyConstness</a> new_constness,</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;                                 <a class="code" href="classv8_1_1internal_1_1Representation.html">Representation</a> new_representation,</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;                                 <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;FieldType&gt;</a> new_field_type) {</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!map-&gt;is_deprecated());</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160; </div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;  <span class="comment">// Check if we actually need to generalize the field type at all.</span></div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;DescriptorArray&gt;</a> old_descriptors(</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;      map-&gt;instance_descriptors(isolate), isolate);</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;  <a class="code" href="classv8_1_1internal_1_1PropertyDetails.html">PropertyDetails</a> old_details = old_descriptors-&gt;GetDetails(modify_index);</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#ac328869a355886739965287befcc49ac">PropertyConstness</a> old_constness = old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#aa6d8ec62f0979d0aea956c801aabb815">constness</a>();</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Representation.html">Representation</a> old_representation = old_details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a4355e88929d3f1f8d7855d80a064d492">representation</a>();</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;FieldType&gt;</a> old_field_type(</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;      old_descriptors-&gt;GetFieldType(modify_index), isolate);</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a2c0c4cea27d0690467662bb05131b2af">CHECK_IMPLIES</a>(<a class="code" href="namespacev8_1_1internal.html#a82b24872512218708764e7261b3e2a66">IsClass</a>(*old_field_type), old_representation.<a class="code" href="classv8_1_1internal_1_1Representation.html#a0febd6151e727b2840b7444dd5e7c632">IsHeapObject</a>());</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160; </div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;  <span class="comment">// Return if the current map is general enough to hold requested constness and</span></div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;  <span class="comment">// representation/field type.</span></div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#abc98ef0ed4a2baf08e5c6e3e8146d1fa">IsGeneralizableTo</a>(new_constness, old_constness) &amp;&amp;</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;      old_representation.<a class="code" href="classv8_1_1internal_1_1Representation.html#aa84e9e08d7aa134ade62588b6353aaeb">Equals</a>(new_representation) &amp;&amp;</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;      <a class="code" href="classv8_1_1internal_1_1FieldType.html#ae3e25b47fcc85c189745eb8fd902ed40">FieldType::NowIs</a>(*new_field_type, old_field_type)) {</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="classv8_1_1internal_1_1FieldType.html#ae3e25b47fcc85c189745eb8fd902ed40">FieldType::NowIs</a>(</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;        *<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03.html#a7eae755681e278977f2ae4a11bf949d9">GeneralizeFieldType</a>(old_representation, old_field_type,</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;                             new_representation, new_field_type, isolate),</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;        old_field_type));</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;  }</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160; </div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;  <span class="comment">// Determine the field owner.</span></div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Map&gt;</a> field_owner(map-&gt;FindFieldOwner(isolate, modify_index),</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;                                isolate);</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;DescriptorArray&gt;</a> descriptors(</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;      field_owner-&gt;instance_descriptors(isolate), isolate);</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(*old_field_type, descriptors-&gt;GetFieldType(modify_index));</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160; </div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;  new_field_type =</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03.html#a7eae755681e278977f2ae4a11bf949d9">GeneralizeFieldType</a>(old_representation, old_field_type,</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;                          new_representation, new_field_type, isolate);</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160; </div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;  new_constness = <a class="code" href="namespacev8_1_1internal.html#a617d346a46eb703e1719792077e5c2a0">GeneralizeConstness</a>(old_constness, new_constness);</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160; </div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;  <a class="code" href="classv8_1_1internal_1_1PropertyDetails.html">PropertyDetails</a> details = descriptors-&gt;GetDetails(modify_index);</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Name&gt;</a> <a class="code" href="namespacev8_1_1internal.html#a611f0528d5415d4591ad6e8fe9513ac4">name</a>(descriptors-&gt;GetKey(modify_index), isolate);</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160; </div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MapUpdater.html#a07aba2a1c4674b213666f0bcf9cdda2a">UpdateFieldType</a>(isolate, field_owner, modify_index, <a class="code" href="namespacev8_1_1internal.html#a611f0528d5415d4591ad6e8fe9513ac4">name</a>, new_constness,</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;                  new_representation, new_field_type);</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160; </div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(<a class="code" href="namespacev8_1_1internal.html#a82b24872512218708764e7261b3e2a66">IsClass</a>(*new_field_type), new_representation.<a class="code" href="classv8_1_1internal_1_1Representation.html#a0febd6151e727b2840b7444dd5e7c632">IsHeapObject</a>());</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160; </div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;  <a class="code" href="classv8_1_1base_1_1Flags.html">DependentCode::DependencyGroups</a> dep_groups;</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;  <span class="keywordflow">if</span> (new_constness != old_constness) {</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    dep_groups |= <a class="code" href="classv8_1_1internal_1_1DependentCode.html#a6ddeb27b4e6f458ce2257036e3f364aea123390ef7fbc57f85380f025aaa7a580">DependentCode::kFieldConstGroup</a>;</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;  }</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1FieldType.html#a6652f43f8b4e3c217124374a2f4b1172">FieldType::Equals</a>(*new_field_type, *old_field_type)) {</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    dep_groups |= <a class="code" href="classv8_1_1internal_1_1DependentCode.html#a6ddeb27b4e6f458ce2257036e3f364aead5bb3481b1c5b207b9dd295ea5dbbbf4">DependentCode::kFieldTypeGroup</a>;</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;  }</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;  <span class="keywordflow">if</span> (!new_representation.<a class="code" href="classv8_1_1internal_1_1Representation.html#aa84e9e08d7aa134ade62588b6353aaeb">Equals</a>(old_representation)) {</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    dep_groups |= <a class="code" href="classv8_1_1internal_1_1DependentCode.html#a6ddeb27b4e6f458ce2257036e3f364aea51be1de08d293f014aafd3fc5feb8833">DependentCode::kFieldRepresentationGroup</a>;</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;  }</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160; </div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DependentCode.html#ac8da05d32a7e9c02c7a11456c8b0afd5">DependentCode::DeoptimizeDependencyGroups</a>(isolate, *field_owner, dep_groups);</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160; </div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_generalization) {</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03.html#a11017d5e0e07217626b7dcb7acf267a3">PrintGeneralization</a>(</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;        isolate, map, stdout, <span class="stringliteral">&quot;field type generalization&quot;</span>, modify_index,</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;        map-&gt;NumberOfOwnDescriptors(), map-&gt;NumberOfOwnDescriptors(), <span class="keyword">false</span>,</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;        details.<a class="code" href="classv8_1_1internal_1_1PropertyDetails.html#a4355e88929d3f1f8d7855d80a064d492">representation</a>(),</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;        descriptors-&gt;GetDetails(modify_index).representation(), old_constness,</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;        new_constness, old_field_type, <a class="code" href="classv8_1_1internal_1_1MaybeDirectHandle.html">MaybeDirectHandle&lt;Object&gt;</a>(),</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;        new_field_type, <a class="code" href="classv8_1_1internal_1_1MaybeDirectHandle.html">MaybeDirectHandle&lt;Object&gt;</a>());</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;  }</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;}</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160; </div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;}  <span class="comment">// namespace v8::internal</span></div>
<div class="ttc" id="aclassv8_1_1base_1_1Flags_html"><div class="ttname"><a href="classv8_1_1base_1_1Flags.html">v8::base::Flags</a></div><div class="ttdef"><b>Definition:</b> <a href="base_2flags_8h_source.html#l00025">flags.h:25</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1DependentCode_html_a6ddeb27b4e6f458ce2257036e3f364aea123390ef7fbc57f85380f025aaa7a580"><div class="ttname"><a href="classv8_1_1internal_1_1DependentCode.html#a6ddeb27b4e6f458ce2257036e3f364aea123390ef7fbc57f85380f025aaa7a580">v8::internal::DependentCode::kFieldConstGroup</a></div><div class="ttdeci">@ kFieldConstGroup</div><div class="ttdef"><b>Definition:</b> <a href="dependent-code_8h_source.html#l00052">dependent-code.h:52</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1DependentCode_html_a6ddeb27b4e6f458ce2257036e3f364aea51be1de08d293f014aafd3fc5feb8833"><div class="ttname"><a href="classv8_1_1internal_1_1DependentCode.html#a6ddeb27b4e6f458ce2257036e3f364aea51be1de08d293f014aafd3fc5feb8833">v8::internal::DependentCode::kFieldRepresentationGroup</a></div><div class="ttdeci">@ kFieldRepresentationGroup</div><div class="ttdef"><b>Definition:</b> <a href="dependent-code_8h_source.html#l00053">dependent-code.h:53</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1DependentCode_html_a6ddeb27b4e6f458ce2257036e3f364aead5bb3481b1c5b207b9dd295ea5dbbbf4"><div class="ttname"><a href="classv8_1_1internal_1_1DependentCode.html#a6ddeb27b4e6f458ce2257036e3f364aead5bb3481b1c5b207b9dd295ea5dbbbf4">v8::internal::DependentCode::kFieldTypeGroup</a></div><div class="ttdeci">@ kFieldTypeGroup</div><div class="ttdef"><b>Definition:</b> <a href="dependent-code_8h_source.html#l00051">dependent-code.h:51</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1DependentCode_html_ac8da05d32a7e9c02c7a11456c8b0afd5"><div class="ttname"><a href="classv8_1_1internal_1_1DependentCode.html#ac8da05d32a7e9c02c7a11456c8b0afd5">v8::internal::DependentCode::DeoptimizeDependencyGroups</a></div><div class="ttdeci">static void DeoptimizeDependencyGroups(Isolate *isolate, ObjectT object, DependencyGroups groups)</div><div class="ttdef"><b>Definition:</b> <a href="dependent-code-inl_8h_source.html#l00025">dependent-code-inl.h:25</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1DescriptorArray_html_a40775e74d4daf9cb949906e602a8dc28"><div class="ttname"><a href="classv8_1_1internal_1_1DescriptorArray.html#a40775e74d4daf9cb949906e602a8dc28">v8::internal::DescriptorArray::Allocate</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE Handle&lt; DescriptorArray &gt; Allocate(IsolateT *isolate, int nof_descriptors, int slack, AllocationType allocation=AllocationType::kYoung)</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Descriptor_html"><div class="ttname"><a href="classv8_1_1internal_1_1Descriptor.html">v8::internal::Descriptor</a></div><div class="ttdef"><b>Definition:</b> <a href="property_8h_source.html#l00025">property.h:25</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Descriptor_html_a0486530a8e6cc4f7dab78aa5bba15e62"><div class="ttname"><a href="classv8_1_1internal_1_1Descriptor.html#a0486530a8e6cc4f7dab78aa5bba15e62">v8::internal::Descriptor::key_</a></div><div class="ttdeci">DirectHandle&lt; Name &gt; key_</div><div class="ttdef"><b>Definition:</b> <a href="property_8h_source.html#l00057">property.h:57</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Descriptor_html_a2782160995ef5a9c515d8cee9a6b2d85"><div class="ttname"><a href="classv8_1_1internal_1_1Descriptor.html#a2782160995ef5a9c515d8cee9a6b2d85">v8::internal::Descriptor::DataField</a></div><div class="ttdeci">static Descriptor DataField(Isolate *isolate, DirectHandle&lt; Name &gt; key, int field_index, PropertyAttributes attributes, Representation representation)</div><div class="ttdef"><b>Definition:</b> <a href="property_8cc_source.html#l00081">property.cc:81</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Descriptor_html_a825c239b05b4814615a852ea28b406ec"><div class="ttname"><a href="classv8_1_1internal_1_1Descriptor.html#a825c239b05b4814615a852ea28b406ec">v8::internal::Descriptor::AccessorConstant</a></div><div class="ttdeci">static Descriptor AccessorConstant(DirectHandle&lt; Name &gt; key, DirectHandle&lt; Object &gt; foreign, PropertyAttributes attributes)</div><div class="ttdef"><b>Definition:</b> <a href="property_8cc_source.html#l00118">property.cc:118</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Descriptor_html_a99e8701798dba98e56a94b2e66d053c0"><div class="ttname"><a href="classv8_1_1internal_1_1Descriptor.html#a99e8701798dba98e56a94b2e66d053c0">v8::internal::Descriptor::DataConstant</a></div><div class="ttdeci">static Descriptor DataConstant(DirectHandle&lt; Name &gt; key, DirectHandle&lt; Object &gt; value, PropertyAttributes attributes)</div><div class="ttdef"><b>Definition:</b> <a href="property_8cc_source.html#l00100">property.cc:100</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Descriptor_html_ae88c3a772e8467f2dfb598ac6ea038c1"><div class="ttname"><a href="classv8_1_1internal_1_1Descriptor.html#ae88c3a772e8467f2dfb598ac6ea038c1">v8::internal::Descriptor::GetDetails</a></div><div class="ttdeci">PropertyDetails GetDetails() const</div><div class="ttdef"><b>Definition:</b> <a href="property_8h_source.html#l00031">property.h:31</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1DirectHandle_html"><div class="ttname"><a href="classv8_1_1internal_1_1DirectHandle.html">v8::internal::DirectHandle</a></div><div class="ttdef"><b>Definition:</b> <a href="handles_8h_source.html#l00654">handles.h:660</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FastKeyAccumulator_html_a1f64b2d6135f5ff3b104c7cac6f5fc42"><div class="ttname"><a href="classv8_1_1internal_1_1FastKeyAccumulator.html#a1f64b2d6135f5ff3b104c7cac6f5fc42">v8::internal::FastKeyAccumulator::InitializeFastPropertyEnumCache</a></div><div class="ttdeci">static Handle&lt; FixedArray &gt; InitializeFastPropertyEnumCache(Isolate *isolate, DirectHandle&lt; Map &gt; map, int enum_length, AllocationType allocation=AllocationType::kOld)</div><div class="ttdef"><b>Definition:</b> <a href="keys_8cc_source.html#l00513">keys.cc:513</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FieldType_html_a1d02185c5efa65acb3cf70f9d74ddf76"><div class="ttname"><a href="classv8_1_1internal_1_1FieldType.html#a1d02185c5efa65acb3cf70f9d74ddf76">v8::internal::FieldType::PrintTo</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE void PrintTo(Tagged&lt; FieldType &gt; type, std::ostream &amp;os)</div><div class="ttdef"><b>Definition:</b> <a href="field-type_8cc_source.html#l00094">field-type.cc:94</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FieldType_html_a6652f43f8b4e3c217124374a2f4b1172"><div class="ttname"><a href="classv8_1_1internal_1_1FieldType.html#a6652f43f8b4e3c217124374a2f4b1172">v8::internal::FieldType::Equals</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE bool Equals(Tagged&lt; FieldType &gt; type, Tagged&lt; FieldType &gt; other)</div><div class="ttdef"><b>Definition:</b> <a href="field-type_8cc_source.html#l00079">field-type.cc:79</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FieldType_html_a83b2eae94beaffcfdd7b2465521b3c17"><div class="ttname"><a href="classv8_1_1internal_1_1FieldType.html#a83b2eae94beaffcfdd7b2465521b3c17">v8::internal::FieldType::Any</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE Tagged&lt; FieldType &gt; Any()</div><div class="ttdef"><b>Definition:</b> <a href="field-type_8cc_source.html#l00022">field-type.cc:22</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FieldType_html_a850ca02db2d0bd0b2279e392a7b7a606"><div class="ttname"><a href="classv8_1_1internal_1_1FieldType.html#a850ca02db2d0bd0b2279e392a7b7a606">v8::internal::FieldType::None</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE Tagged&lt; FieldType &gt; None()</div><div class="ttdef"><b>Definition:</b> <a href="field-type_8cc_source.html#l00017">field-type.cc:17</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FieldType_html_ae3e25b47fcc85c189745eb8fd902ed40"><div class="ttname"><a href="classv8_1_1internal_1_1FieldType.html#ae3e25b47fcc85c189745eb8fd902ed40">v8::internal::FieldType::NowIs</a></div><div class="ttdeci">static bool NowIs(Tagged&lt; FieldType &gt; type, Tagged&lt; FieldType &gt; other)</div><div class="ttdef"><b>Definition:</b> <a href="field-type_8cc_source.html#l00068">field-type.cc:68</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Handle_html"><div class="ttname"><a href="classv8_1_1internal_1_1Handle.html">v8::internal::Handle</a></div><div class="ttdef"><b>Definition:</b> <a href="handles_8h_source.html#l00150">handles.h:150</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1InternalIndex_1_1Range_html"><div class="ttname"><a href="classv8_1_1internal_1_1InternalIndex_1_1Range.html">v8::internal::InternalIndex::Range</a></div><div class="ttdef"><b>Definition:</b> <a href="internal-index_8h_source.html#l00065">internal-index.h:65</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1InternalIndex_html"><div class="ttname"><a href="classv8_1_1internal_1_1InternalIndex.html">v8::internal::InternalIndex</a></div><div class="ttdef"><b>Definition:</b> <a href="internal-index_8h_source.html#l00020">internal-index.h:20</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1InternalIndex_html_a8d405aded63c405c86fd03e1ff104408"><div class="ttname"><a href="classv8_1_1internal_1_1InternalIndex.html#a8d405aded63c405c86fd03e1ff104408">v8::internal::InternalIndex::as_int</a></div><div class="ttdeci">constexpr int as_int() const</div><div class="ttdef"><b>Definition:</b> <a href="internal-index_8h_source.html#l00042">internal-index.h:42</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1InternalIndex_html_ad381db083f3f9b72f16908eac7027823"><div class="ttname"><a href="classv8_1_1internal_1_1InternalIndex.html#ad381db083f3f9b72f16908eac7027823">v8::internal::InternalIndex::is_found</a></div><div class="ttdeci">bool is_found() const</div><div class="ttdef"><b>Definition:</b> <a href="internal-index_8h_source.html#l00034">internal-index.h:34</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html">v8::internal::Isolate</a></div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l00595">isolate.h:595</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a1330d64023302e0b195abbae203a6ae6"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a1330d64023302e0b195abbae203a6ae6">v8::internal::Isolate::map_updater_access</a></div><div class="ttdeci">base::Mutex * map_updater_access()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l00775">isolate.h:775</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a7d651964318bc41040dda0bc730388e5"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a7d651964318bc41040dda0bc730388e5">v8::internal::Isolate::main_thread_local_isolate</a></div><div class="ttdeci">LocalIsolate * main_thread_local_isolate()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l02223">isolate.h:2223</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a8a5c1c5338649eadaaa30d05f1aca917"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a8a5c1c5338649eadaaa30d05f1aca917">v8::internal::Isolate::PushStackTraceAndDie</a></div><div class="ttdeci">V8_NOINLINE void PushStackTraceAndDie(void *ptr1=nullptr, void *ptr2=nullptr, void *ptr3=nullptr, void *ptr4=nullptr, void *ptr5=nullptr, void *ptr6=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="isolate_8cc_source.html#l00699">isolate.cc:699</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSObject_html_a6778b7efad46d382d16a9ead08dbfa66"><div class="ttname"><a href="classv8_1_1internal_1_1JSObject.html#a6778b7efad46d382d16a9ead08dbfa66">v8::internal::JSObject::InvalidatePrototypeChains</a></div><div class="ttdeci">static Tagged&lt; Map &gt; InvalidatePrototypeChains(Tagged&lt; Map &gt; map)</div><div class="ttdef"><b>Definition:</b> <a href="js-objects_8cc_source.html#l05236">js-objects.cc:5236</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JavaScriptFrame_html_a69de8494527b217bfd2bcde82196cd31"><div class="ttname"><a href="classv8_1_1internal_1_1JavaScriptFrame.html#a69de8494527b217bfd2bcde82196cd31">v8::internal::JavaScriptFrame::PrintTop</a></div><div class="ttdeci">static void PrintTop(Isolate *isolate, FILE *file, bool print_args, bool print_line_number)</div><div class="ttdef"><b>Definition:</b> <a href="frames_8cc_source.html#l02558">frames.cc:2558</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html">v8::internal::MapUpdater</a></div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8h_source.html#l00051">map-updater.h:51</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_a01c1e00ea1e1e9a445ccd20e6b27afe1"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#a01c1e00ea1e1e9a445ccd20e6b27afe1">v8::internal::MapUpdater::ConstructNewMapWithIntegrityLevelTransition</a></div><div class="ttdeci">State ConstructNewMapWithIntegrityLevelTransition()</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8cc_source.html#l01147">map-updater.cc:1147</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_a0296035233a5b3634cae433b041fa25a"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#a0296035233a5b3634cae433b041fa25a">v8::internal::MapUpdater::new_location_</a></div><div class="ttdeci">PropertyLocation new_location_</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8h_source.html#l00249">map-updater.h:249</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_a033070fc24757020360440fe3b7c3418"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#a033070fc24757020360440fe3b7c3418">v8::internal::MapUpdater::isolate_</a></div><div class="ttdeci">Isolate * isolate_</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8h_source.html#l00223">map-updater.h:223</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_a04012f11ce54cbce8115f4249c472e3a"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#a04012f11ce54cbce8115f4249c472e3a">v8::internal::MapUpdater::GeneralizeField</a></div><div class="ttdeci">static void GeneralizeField(Isolate *isolate, DirectHandle&lt; Map &gt; map, InternalIndex modify_index, PropertyConstness new_constness, Representation new_representation, DirectHandle&lt; FieldType &gt; new_field_type)</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8cc_source.html#l01308">map-updater.cc:1308</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_a07aba2a1c4674b213666f0bcf9cdda2a"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#a07aba2a1c4674b213666f0bcf9cdda2a">v8::internal::MapUpdater::UpdateFieldType</a></div><div class="ttdeci">static void UpdateFieldType(Isolate *isolate, DirectHandle&lt; Map &gt; map, InternalIndex descriptor_number, DirectHandle&lt; Name &gt; name, PropertyConstness new_constness, Representation new_representation, DirectHandle&lt; FieldType &gt; new_type)</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8cc_source.html#l01213">map-updater.cc:1213</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_a0b6506d0d145f2589a01453addac837f"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#a0b6506d0d145f2589a01453addac837f">v8::internal::MapUpdater::GetFieldType</a></div><div class="ttdeci">Tagged&lt; FieldType &gt; GetFieldType(InternalIndex descriptor) const</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8cc_source.html#l00138">map-updater.cc:138</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_a0d372d8eb40086dfceee173e806eb3ad"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#a0d372d8eb40086dfceee173e806eb3ad">v8::internal::MapUpdater::new_field_type_</a></div><div class="ttdeci">DirectHandle&lt; FieldType &gt; new_field_type_</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8h_source.html#l00253">map-updater.h:253</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_a0e25d4bc332ad236dada214e27e89202"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#a0e25d4bc332ad236dada214e27e89202">v8::internal::MapUpdater::new_representation_</a></div><div class="ttdeci">Representation new_representation_</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8h_source.html#l00250">map-updater.h:250</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_a17b96916a316657681c5382aa61bab1a"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#a17b96916a316657681c5382aa61bab1a">v8::internal::MapUpdater::CompleteInobjectSlackTracking</a></div><div class="ttdeci">static void CompleteInobjectSlackTracking(Isolate *isolate, Tagged&lt; Map &gt; initial_map)</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8cc_source.html#l00455">map-updater.cc:455</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_a19f65433523c408df90eb032c1ef1406"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#a19f65433523c408df90eb032c1ef1406">v8::internal::MapUpdater::has_integrity_level_transition_</a></div><div class="ttdeci">bool has_integrity_level_transition_</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8h_source.html#l00232">map-updater.h:232</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_a1f7fa530862af454488b9efd711eb9b3"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#a1f7fa530862af454488b9efd711eb9b3">v8::internal::MapUpdater::GetOrComputeFieldType</a></div><div class="ttdeci">DirectHandle&lt; FieldType &gt; GetOrComputeFieldType(InternalIndex descriptor, PropertyLocation location, Representation representation) const</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8cc_source.html#l00148">map-updater.cc:148</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_a2781cab0775a35357462b520fae34628"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#a2781cab0775a35357462b520fae34628">v8::internal::MapUpdater::ReconfigureToDataField</a></div><div class="ttdeci">Handle&lt; Map &gt; ReconfigureToDataField(InternalIndex descriptor, PropertyAttributes attributes, PropertyConstness constness, Representation representation, DirectHandle&lt; FieldType &gt; field_type)</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8cc_source.html#l00174">map-updater.cc:174</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_a34fb1a6f4761d31d6b546730ba684632"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#a34fb1a6f4761d31d6b546730ba684632">v8::internal::MapUpdater::UpdateImpl</a></div><div class="ttdeci">Handle&lt; Map &gt; UpdateImpl()</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8cc_source.html#l00279">map-updater.cc:279</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_a4de1c69e8607e2a9020311804905ca17"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#a4de1c69e8607e2a9020311804905ca17">v8::internal::MapUpdater::target_map_</a></div><div class="ttdeci">Handle&lt; Map &gt; target_map_</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8h_source.html#l00227">map-updater.h:227</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_a4f5907476a25521afb92e5c6613e3848"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#a4f5907476a25521afb92e5c6613e3848">v8::internal::MapUpdater::Normalize</a></div><div class="ttdeci">State Normalize(const char *reason)</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8cc_source.html#l00446">map-updater.cc:446</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_a53123e5f6d38c9ea2fdb5401fe553a2f"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#a53123e5f6d38c9ea2fdb5401fe553a2f">v8::internal::MapUpdater::is_transitionable_fast_elements_kind_</a></div><div class="ttdeci">bool is_transitionable_fast_elements_kind_</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8h_source.html#l00239">map-updater.h:239</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_a55b66930187ea380c6fd43845e399f3f"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#a55b66930187ea380c6fd43845e399f3f">v8::internal::MapUpdater::ReconfigureElementsKind</a></div><div class="ttdeci">DirectHandle&lt; Map &gt; ReconfigureElementsKind(ElementsKind elements_kind)</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8cc_source.html#l00231">map-updater.cc:231</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_a5a3ec79e978f14130e1239b1f76150ca"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#a5a3ec79e978f14130e1239b1f76150ca">v8::internal::MapUpdater::root_map_</a></div><div class="ttdeci">Handle&lt; Map &gt; root_map_</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8h_source.html#l00226">map-updater.h:226</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_a5b045cf26a76c61ba9b42f720139d3b0"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#a5b045cf26a76c61ba9b42f720139d3b0">v8::internal::MapUpdater::GetKey</a></div><div class="ttdeci">Tagged&lt; Name &gt; GetKey(InternalIndex descriptor) const</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8cc_source.html#l00103">map-updater.cc:103</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_a5ca335ee7829e1c0afa4b84c16a5f832"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#a5ca335ee7829e1c0afa4b84c16a5f832">v8::internal::MapUpdater::new_kind_</a></div><div class="ttdeci">PropertyKind new_kind_</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8h_source.html#l00246">map-updater.h:246</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_a62370c6e6a97b815ffaf307a4b478905"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#a62370c6e6a97b815ffaf307a4b478905">v8::internal::MapUpdater::ApplyPrototypeTransition</a></div><div class="ttdeci">Handle&lt; Map &gt; ApplyPrototypeTransition(DirectHandle&lt; JSPrototype &gt; prototype)</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8cc_source.html#l00242">map-updater.cc:242</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_a6327e4df7173fbd8eafcf916162d3c6d"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#a6327e4df7173fbd8eafcf916162d3c6d">v8::internal::MapUpdater::TrySaveIntegrityLevelTransitions</a></div><div class="ttdeci">bool TrySaveIntegrityLevelTransitions()</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8cc_source.html#l00546">map-updater.cc:546</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_a65345084fef112de78dfd8cad40e5588"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#a65345084fef112de78dfd8cad40e5588">v8::internal::MapUpdater::new_constness_</a></div><div class="ttdeci">PropertyConstness new_constness_</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8h_source.html#l00248">map-updater.h:248</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_a65be75fff70ffb063e04326adc452f45"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#a65be75fff70ffb063e04326adc452f45">v8::internal::MapUpdater::ConstructNewMap</a></div><div class="ttdeci">State ConstructNewMap()</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8cc_source.html#l01039">map-updater.cc:1039</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_a6a2649d3a26f2f99d4771c13c8719694"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#a6a2649d3a26f2f99d4771c13c8719694">v8::internal::MapUpdater::GetDetails</a></div><div class="ttdeci">PropertyDetails GetDetails(InternalIndex descriptor) const</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8cc_source.html#l00107">map-updater.cc:107</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_a6a5ba23fb8d01d941f1e57f665d9cc24"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#a6a5ba23fb8d01d941f1e57f665d9cc24">v8::internal::MapUpdater::new_attributes_</a></div><div class="ttdeci">PropertyAttributes new_attributes_</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8h_source.html#l00247">map-updater.h:247</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_a7229e783c24947de0e968a0d31ab5950"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#a7229e783c24947de0e968a0d31ab5950">v8::internal::MapUpdater::old_map_</a></div><div class="ttdeci">DirectHandle&lt; Map &gt; old_map_</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8h_source.html#l00224">map-updater.h:224</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_a775bdfa713c895e0fca38a05e512eb2d"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#a775bdfa713c895e0fca38a05e512eb2d">v8::internal::MapUpdater::TryReconfigureToDataFieldInplace</a></div><div class="ttdeci">State TryReconfigureToDataFieldInplace()</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8cc_source.html#l00499">map-updater.cc:499</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_a7a741b6b2cfaa8e477f2348e764ff64a"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#a7a741b6b2cfaa8e477f2348e764ff64a">v8::internal::MapUpdater::result_map_</a></div><div class="ttdeci">Handle&lt; Map &gt; result_map_</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8h_source.html#l00228">map-updater.h:228</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_a7d5531f6707ea2f6f1606b0495685df3"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#a7d5531f6707ea2f6f1606b0495685df3">v8::internal::MapUpdater::GetValue</a></div><div class="ttdeci">Tagged&lt; Object &gt; GetValue(InternalIndex descriptor) const</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8cc_source.html#l00128">map-updater.cc:128</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_a88927e132aed0245511948f7eb996240"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#a88927e132aed0245511948f7eb996240">v8::internal::MapUpdater::State</a></div><div class="ttdeci">State</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8h_source.html#l00107">map-updater.h:107</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_a88927e132aed0245511948f7eb996240a182e513f45c69d6693a6363e228141d0"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#a88927e132aed0245511948f7eb996240a182e513f45c69d6693a6363e228141d0">v8::internal::MapUpdater::kInitialized</a></div><div class="ttdeci">@ kInitialized</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8h_source.html#l00108">map-updater.h:108</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_a88927e132aed0245511948f7eb996240a5a4f5fa1de82fcd422bbb97bd54f9957"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#a88927e132aed0245511948f7eb996240a5a4f5fa1de82fcd422bbb97bd54f9957">v8::internal::MapUpdater::kEnd</a></div><div class="ttdeci">@ kEnd</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8h_source.html#l00113">map-updater.h:112</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_a88927e132aed0245511948f7eb996240a688c147ffcc1f98c503dd132ec39cb4d"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#a88927e132aed0245511948f7eb996240a688c147ffcc1f98c503dd132ec39cb4d">v8::internal::MapUpdater::kAtRootMap</a></div><div class="ttdeci">@ kAtRootMap</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8h_source.html#l00109">map-updater.h:109</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_a88927e132aed0245511948f7eb996240a98fc0de6c485a0da9f0609d15b078fc1"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#a88927e132aed0245511948f7eb996240a98fc0de6c485a0da9f0609d15b078fc1">v8::internal::MapUpdater::kAtTargetMap</a></div><div class="ttdeci">@ kAtTargetMap</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8h_source.html#l00110">map-updater.h:110</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_a88927e132aed0245511948f7eb996240aee8bd9881bdaa659546a5ab5ddcd0e80"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#a88927e132aed0245511948f7eb996240aee8bd9881bdaa659546a5ab5ddcd0e80">v8::internal::MapUpdater::kAtIntegrityLevelSource</a></div><div class="ttdeci">@ kAtIntegrityLevelSource</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8h_source.html#l00111">map-updater.h:111</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_a9bed85b35162390b6cd90f5598f8947e"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#a9bed85b35162390b6cd90f5598f8947e">v8::internal::MapUpdater::TryUpdateNoLock</a></div><div class="ttdeci">static std::optional&lt; Tagged&lt; Map &gt; &gt; TryUpdateNoLock(Isolate *isolate, Tagged&lt; Map &gt; old_map, ConcurrencyMode cmode) V8_WARN_UNUSED_RESULT</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8cc_source.html#l00353">map-updater.cc:353</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_aa178faa080934fb6dc2099fe469351e6"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#aa178faa080934fb6dc2099fe469351e6">v8::internal::MapUpdater::new_elements_kind_</a></div><div class="ttdeci">ElementsKind new_elements_kind_</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8h_source.html#l00238">map-updater.h:238</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_aa29919747bbddb076ce7adb9816e1fb0"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#aa29919747bbddb076ce7adb9816e1fb0">v8::internal::MapUpdater::integrity_level_symbol_</a></div><div class="ttdeci">DirectHandle&lt; Symbol &gt; integrity_level_symbol_</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8h_source.html#l00234">map-updater.h:234</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_aa5a7012cd53d2ac903c27ab400b86e7f"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#aa5a7012cd53d2ac903c27ab400b86e7f">v8::internal::MapUpdater::modified_descriptor_</a></div><div class="ttdeci">InternalIndex modified_descriptor_</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8h_source.html#l00245">map-updater.h:245</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_aa5e47410414276c0199a92eb116ba00b"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#aa5e47410414276c0199a92eb116ba00b">v8::internal::MapUpdater::ReconfigureExistingProperty</a></div><div class="ttdeci">static Handle&lt; Map &gt; ReconfigureExistingProperty(Isolate *isolate, DirectHandle&lt; Map &gt; map, InternalIndex descriptor, PropertyKind kind, PropertyAttributes attributes, PropertyConstness constness)</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8cc_source.html#l01188">map-updater.cc:1188</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_aaafc5700055a5792206e0942762da083"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#aaafc5700055a5792206e0942762da083">v8::internal::MapUpdater::FindSplitMap</a></div><div class="ttdeci">DirectHandle&lt; Map &gt; FindSplitMap(DirectHandle&lt; DescriptorArray &gt; descriptors)</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8cc_source.html#l01002">map-updater.cc:1002</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_ab2651542c5170285c34514ee543ba550"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#ab2651542c5170285c34514ee543ba550">v8::internal::MapUpdater::old_nof_</a></div><div class="ttdeci">int old_nof_</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8h_source.html#l00229">map-updater.h:229</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_ac2d4957346bf57372511762949b9a05c"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#ac2d4957346bf57372511762949b9a05c">v8::internal::MapUpdater::UpdateMapNoLock</a></div><div class="ttdeci">static DirectHandle&lt; Map &gt; UpdateMapNoLock(Isolate *isolate, DirectHandle&lt; Map &gt; old_map)</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8cc_source.html#l00264">map-updater.cc:264</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_ac928eae35738ab4dbed649b8b4fe5eb7"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#ac928eae35738ab4dbed649b8b4fe5eb7">v8::internal::MapUpdater::integrity_source_map_</a></div><div class="ttdeci">DirectHandle&lt; Map &gt; integrity_source_map_</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8h_source.html#l00235">map-updater.h:235</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_aceb51d8ef7e30b97772ff9681948ee42"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#aceb51d8ef7e30b97772ff9681948ee42">v8::internal::MapUpdater::old_descriptors_</a></div><div class="ttdeci">DirectHandle&lt; DescriptorArray &gt; old_descriptors_</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8h_source.html#l00225">map-updater.h:225</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_ad1c3a630212f0098faee5233c1be5dc0"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#ad1c3a630212f0098faee5233c1be5dc0">v8::internal::MapUpdater::MapUpdater</a></div><div class="ttdeci">MapUpdater(Isolate *isolate, DirectHandle&lt; Map &gt; old_map)</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8cc_source.html#l00090">map-updater.cc:90</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_ad41dafb34e0c6dc5f39566dbf2b7bae5"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#ad41dafb34e0c6dc5f39566dbf2b7bae5">v8::internal::MapUpdater::FindRootMap</a></div><div class="ttdeci">State FindRootMap()</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8cc_source.html#l00588">map-updater.cc:588</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_ad976339ab49ddf6e48acd038645fd58c"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#ad976339ab49ddf6e48acd038645fd58c">v8::internal::MapUpdater::FindTargetMap</a></div><div class="ttdeci">State FindTargetMap()</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8cc_source.html#l00693">map-updater.cc:693</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_ad9af4bdcc4d58fa609e0156c89ae483d"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#ad9af4bdcc4d58fa609e0156c89ae483d">v8::internal::MapUpdater::Update</a></div><div class="ttdeci">Handle&lt; Map &gt; Update()</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8cc_source.html#l00274">map-updater.cc:274</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_adc85300d8a330fb2a9e6a340799852a0"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#adc85300d8a330fb2a9e6a340799852a0">v8::internal::MapUpdater::new_prototype_</a></div><div class="ttdeci">DirectHandle&lt; JSPrototype &gt; new_prototype_</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8h_source.html#l00241">map-updater.h:241</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_aee22c2ec3557d995b2c50bb5d42f828f"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#aee22c2ec3557d995b2c50bb5d42f828f">v8::internal::MapUpdater::state_</a></div><div class="ttdeci">State state_</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8h_source.html#l00237">map-updater.h:237</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_af4f8ebf63a8cbed7b8b5236f510319fc"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#af4f8ebf63a8cbed7b8b5236f510319fc">v8::internal::MapUpdater::integrity_level_</a></div><div class="ttdeci">PropertyAttributes integrity_level_</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8h_source.html#l00233">map-updater.h:233</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapUpdater_html_afcd7e18d8dd0b89d46573672d45c8e59"><div class="ttname"><a href="classv8_1_1internal_1_1MapUpdater.html#afcd7e18d8dd0b89d46573672d45c8e59">v8::internal::MapUpdater::BuildDescriptorArray</a></div><div class="ttdeci">DirectHandle&lt; DescriptorArray &gt; BuildDescriptorArray()</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8cc_source.html#l00822">map-updater.cc:822</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Map_html_a175f7137e25fad0dd95d2bbf763db827"><div class="ttname"><a href="classv8_1_1internal_1_1Map.html#a175f7137e25fad0dd95d2bbf763db827">v8::internal::Map::TransitionToUpdatePrototype</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE Handle&lt; Map &gt; TransitionToUpdatePrototype(Isolate *isolate, DirectHandle&lt; Map &gt; map, DirectHandle&lt; JSPrototype &gt; prototype)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cc_source.html#l02520">map.cc:2520</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Map_html_a20eefa90d1b4f884523d09a916d29968"><div class="ttname"><a href="classv8_1_1internal_1_1Map.html#a20eefa90d1b4f884523d09a916d29968">v8::internal::Map::CopyForPrototypeTransition</a></div><div class="ttdeci">static Handle&lt; Map &gt; CopyForPrototypeTransition(Isolate *isolate, DirectHandle&lt; Map &gt; map, DirectHandle&lt; JSPrototype &gt; prototype)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cc_source.html#l01811">map.cc:1811</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Map_html_a2a2d69d6abc592918fe00f31f4d32a74"><div class="ttname"><a href="classv8_1_1internal_1_1Map.html#a2a2d69d6abc592918fe00f31f4d32a74">v8::internal::Map::kNoSlackTracking</a></div><div class="ttdeci">static const int kNoSlackTracking</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00361">map.h:361</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Map_html_a44318765b7add7bd3056301027f4aa5e"><div class="ttname"><a href="classv8_1_1internal_1_1Map.html#a44318765b7add7bd3056301027f4aa5e">v8::internal::Map::WrapFieldType</a></div><div class="ttdeci">static MaybeObjectDirectHandle WrapFieldType(DirectHandle&lt; FieldType &gt; type)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cc_source.html#l00496">map.cc:496</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Map_html_a7418a18a11d96f6d6550c4e8e453790a"><div class="ttname"><a href="classv8_1_1internal_1_1Map.html#a7418a18a11d96f6d6550c4e8e453790a">v8::internal::Map::IsMostGeneralFieldType</a></div><div class="ttdeci">static bool IsMostGeneralFieldType(Representation representation, Tagged&lt; FieldType &gt; field_type)</div><div class="ttdef"><b>Definition:</b> <a href="map-inl_8h_source.html#l00157">map-inl.h:157</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Map_html_aae668ae5d352e15e940cdfdbaa6007b1"><div class="ttname"><a href="classv8_1_1internal_1_1Map.html#aae668ae5d352e15e940cdfdbaa6007b1">v8::internal::Map::Normalize</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE Handle&lt; Map &gt; Normalize(Isolate *isolate, DirectHandle&lt; Map &gt; map, ElementsKind new_elements_kind, DirectHandle&lt; JSPrototype &gt; new_prototype, PropertyNormalizationMode mode, bool use_cache, const char *reason)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cc_source.html#l01293">map.cc:1293</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Map_html_abb937261c0cadd5dbd4e9775b410fb99"><div class="ttname"><a href="classv8_1_1internal_1_1Map.html#abb937261c0cadd5dbd4e9775b410fb99">v8::internal::Map::CopyForPreventExtensions</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE Handle&lt; Map &gt; CopyForPreventExtensions(Isolate *isolate, DirectHandle&lt; Map &gt; map, PropertyAttributes attrs_to_add, DirectHandle&lt; Symbol &gt; transition_marker, const char *reason, bool old_map_is_dictionary_elements_kind=false)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cc_source.html#l01863">map.cc:1863</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Map_html_ac6c63c5c0715237233a9cb24fe7664ec"><div class="ttname"><a href="classv8_1_1internal_1_1Map.html#ac6c63c5c0715237233a9cb24fe7664ec">v8::internal::Map::GeneralizeIfCanHaveTransitionableFastElementsKind</a></div><div class="ttdeci">static void GeneralizeIfCanHaveTransitionableFastElementsKind(Isolate *isolate, InstanceType instance_type, Representation *representation, DirectHandle&lt; FieldType &gt; *field_type)</div><div class="ttdef"><b>Definition:</b> <a href="map-inl_8h_source.html#l00180">map-inl.h:180</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Map_html_ac7bfaa7f77e1d8cd95dde6d97baf46a7"><div class="ttname"><a href="classv8_1_1internal_1_1Map.html#ac7bfaa7f77e1d8cd95dde6d97baf46a7">v8::internal::Map::GetVisitorId</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE VisitorId GetVisitorId(Tagged&lt; Map &gt; map)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cc_source.html#l00066">map.cc:66</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Map_html_accc0b91a8529a6818aca8a321489a587"><div class="ttname"><a href="classv8_1_1internal_1_1Map.html#accc0b91a8529a6818aca8a321489a587">v8::internal::Map::AsElementsKind</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE Handle&lt; Map &gt; AsElementsKind(Isolate *isolate, DirectHandle&lt; Map &gt; map, ElementsKind kind)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cc_source.html#l01174">map.cc:1174</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Map_html_acf0077c391ca81dd24ffb29ffc8a9e2a"><div class="ttname"><a href="classv8_1_1internal_1_1Map.html#acf0077c391ca81dd24ffb29ffc8a9e2a">v8::internal::Map::AddMissingTransitions</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE Handle&lt; Map &gt; AddMissingTransitions(Isolate *isolate, DirectHandle&lt; Map &gt; map, DirectHandle&lt; DescriptorArray &gt; descriptors)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cc_source.html#l01629">map.cc:1629</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MaybeDirectHandle_html"><div class="ttname"><a href="classv8_1_1internal_1_1MaybeDirectHandle.html">v8::internal::MaybeDirectHandle</a></div><div class="ttdef"><b>Definition:</b> <a href="maybe-handles_8h_source.html#l00241">maybe-handles.h:241</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MaybeDirectHandle_html_a872ccde05e0ba79452e0b75afdfabf39"><div class="ttname"><a href="classv8_1_1internal_1_1MaybeDirectHandle.html#a872ccde05e0ba79452e0b75afdfabf39">v8::internal::MaybeDirectHandle::is_null</a></div><div class="ttdeci">bool is_null() const</div><div class="ttdef"><b>Definition:</b> <a href="maybe-handles_8h_source.html#l00281">maybe-handles.h:281</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MaybeDirectHandle_html_af9f9ca9032aa4f380d7bab01754f5903"><div class="ttname"><a href="classv8_1_1internal_1_1MaybeDirectHandle.html#af9f9ca9032aa4f380d7bab01754f5903">v8::internal::MaybeDirectHandle::ToHandleChecked</a></div><div class="ttdeci">DirectHandle&lt; T &gt; ToHandleChecked() const</div><div class="ttdef"><b>Definition:</b> <a href="maybe-handles_8h_source.html#l00273">maybe-handles.h:273</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MaybeHandle_html"><div class="ttname"><a href="classv8_1_1internal_1_1MaybeHandle.html">v8::internal::MaybeHandle</a></div><div class="ttdef"><b>Definition:</b> <a href="maybe-handles_8h_source.html#l00028">maybe-handles.h:28</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MaybeHandle_html_a8b567d8e8efee0bf8dcbb951372cc48a"><div class="ttname"><a href="classv8_1_1internal_1_1MaybeHandle.html#a8b567d8e8efee0bf8dcbb951372cc48a">v8::internal::MaybeHandle::ToHandle</a></div><div class="ttdeci">V8_WARN_UNUSED_RESULT bool ToHandle(Handle&lt; S &gt; *out) const</div><div class="ttdef"><b>Definition:</b> <a href="maybe-handles_8h_source.html#l00062">maybe-handles.h:62</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MaybeObjectDirectHandle_html"><div class="ttname"><a href="classv8_1_1internal_1_1MaybeObjectDirectHandle.html">v8::internal::MaybeObjectDirectHandle</a></div><div class="ttdef"><b>Definition:</b> <a href="maybe-handles_8h_source.html#l00310">maybe-handles.h:310</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1OFStream_html"><div class="ttname"><a href="classv8_1_1internal_1_1OFStream.html">v8::internal::OFStream</a></div><div class="ttdef"><b>Definition:</b> <a href="ostreams_8h_source.html#l00057">ostreams.h:57</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Object_html_a56201a3ff90c4125feec13c72235f6cf"><div class="ttname"><a href="classv8_1_1internal_1_1Object.html#a56201a3ff90c4125feec13c72235f6cf">v8::internal::Object::OptimalType</a></div><div class="ttdeci">static DirectHandle&lt; FieldType &gt; OptimalType(Tagged&lt; Object &gt; obj, Isolate *isolate, Representation representation)</div><div class="ttdef"><b>Definition:</b> <a href="objects_8cc_source.html#l00224">objects.cc:224</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ParkedMutexGuardIf_html"><div class="ttname"><a href="classv8_1_1internal_1_1ParkedMutexGuardIf.html">v8::internal::ParkedMutexGuardIf</a></div><div class="ttdef"><b>Definition:</b> <a href="parked-scope_8h_source.html#l00108">parked-scope.h:108</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PerThreadAssertScopeEmpty_html"><div class="ttname"><a href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">v8::internal::PerThreadAssertScopeEmpty&lt; kAllow, kTypes... &gt;</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PropertyDetails_html"><div class="ttname"><a href="classv8_1_1internal_1_1PropertyDetails.html">v8::internal::PropertyDetails</a></div><div class="ttdef"><b>Definition:</b> <a href="property-details_8h_source.html#l00267">property-details.h:267</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PropertyDetails_html_a21bd1ca61406d144db4b384a71cdcc96"><div class="ttname"><a href="classv8_1_1internal_1_1PropertyDetails.html#a21bd1ca61406d144db4b384a71cdcc96">v8::internal::PropertyDetails::attributes</a></div><div class="ttdeci">PropertyAttributes attributes() const</div><div class="ttdef"><b>Definition:</b> <a href="property-details_8h_source.html#l00365">property-details.h:365</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PropertyDetails_html_a2d8f536f39a3ab2754cdd721de544ae4"><div class="ttname"><a href="classv8_1_1internal_1_1PropertyDetails.html#a2d8f536f39a3ab2754cdd721de544ae4">v8::internal::PropertyDetails::location</a></div><div class="ttdeci">PropertyLocation location() const</div><div class="ttdef"><b>Definition:</b> <a href="property-details_8h_source.html#l00362">property-details.h:362</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PropertyDetails_html_a41c3bf3679cb8c8826d73c79459fc697"><div class="ttname"><a href="classv8_1_1internal_1_1PropertyDetails.html#a41c3bf3679cb8c8826d73c79459fc697">v8::internal::PropertyDetails::field_width_in_words</a></div><div class="ttdeci">int field_width_in_words() const</div><div class="ttdef"><b>Definition:</b> <a href="objects-inl_8h_source.html#l00087">objects-inl.h:87</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PropertyDetails_html_a4355e88929d3f1f8d7855d80a064d492"><div class="ttname"><a href="classv8_1_1internal_1_1PropertyDetails.html#a4355e88929d3f1f8d7855d80a064d492">v8::internal::PropertyDetails::representation</a></div><div class="ttdeci">Representation representation() const</div><div class="ttdef"><b>Definition:</b> <a href="property-details_8h_source.html#l00378">property-details.h:378</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PropertyDetails_html_a84ec5d54214083de458bfc43b8c3ac1b"><div class="ttname"><a href="classv8_1_1internal_1_1PropertyDetails.html#a84ec5d54214083de458bfc43b8c3ac1b">v8::internal::PropertyDetails::kind</a></div><div class="ttdeci">PropertyKind kind() const</div><div class="ttdef"><b>Definition:</b> <a href="property-details_8h_source.html#l00361">property-details.h:361</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PropertyDetails_html_aa6d8ec62f0979d0aea956c801aabb815"><div class="ttname"><a href="classv8_1_1internal_1_1PropertyDetails.html#aa6d8ec62f0979d0aea956c801aabb815">v8::internal::PropertyDetails::constness</a></div><div class="ttdeci">PropertyConstness constness() const</div><div class="ttdef"><b>Definition:</b> <a href="property-details_8h_source.html#l00363">property-details.h:363</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ReadOnlyRoots_html"><div class="ttname"><a href="classv8_1_1internal_1_1ReadOnlyRoots.html">v8::internal::ReadOnlyRoots</a></div><div class="ttdef"><b>Definition:</b> <a href="roots_8h_source.html#l00724">roots.h:724</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Representation_html"><div class="ttname"><a href="classv8_1_1internal_1_1Representation.html">v8::internal::Representation</a></div><div class="ttdef"><b>Definition:</b> <a href="property-details_8h_source.html#l00095">property-details.h:95</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Representation_html_a0febd6151e727b2840b7444dd5e7c632"><div class="ttname"><a href="classv8_1_1internal_1_1Representation.html#a0febd6151e727b2840b7444dd5e7c632">v8::internal::Representation::IsHeapObject</a></div><div class="ttdeci">constexpr bool IsHeapObject() const</div><div class="ttdef"><b>Definition:</b> <a href="property-details_8h_source.html#l00209">property-details.h:209</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Representation_html_a358b22922554e7c1c08eb68e74c8d904"><div class="ttname"><a href="classv8_1_1internal_1_1Representation.html#a358b22922554e7c1c08eb68e74c8d904">v8::internal::Representation::fits_into</a></div><div class="ttdeci">bool fits_into(const Representation &amp;other) const</div><div class="ttdef"><b>Definition:</b> <a href="property-details_8h_source.html#l00185">property-details.h:185</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Representation_html_a3c8d99598894389c44cbe32d5ce7a3fa"><div class="ttname"><a href="classv8_1_1internal_1_1Representation.html#a3c8d99598894389c44cbe32d5ce7a3fa">v8::internal::Representation::IsNone</a></div><div class="ttdeci">constexpr bool IsNone() const</div><div class="ttdef"><b>Definition:</b> <a href="property-details_8h_source.html#l00203">property-details.h:203</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Representation_html_a7e2fdee05215634e35a8cb1d0cef6a3d"><div class="ttname"><a href="classv8_1_1internal_1_1Representation.html#a7e2fdee05215634e35a8cb1d0cef6a3d">v8::internal::Representation::Mnemonic</a></div><div class="ttdeci">const char * Mnemonic() const</div><div class="ttdef"><b>Definition:</b> <a href="property-details_8h_source.html#l00211">property-details.h:211</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Representation_html_a8127928bb5b6b4ab191cf394c6650260"><div class="ttname"><a href="classv8_1_1internal_1_1Representation.html#a8127928bb5b6b4ab191cf394c6650260">v8::internal::Representation::IsCompatibleForLoad</a></div><div class="ttdeci">bool IsCompatibleForLoad(const Representation &amp;other) const</div><div class="ttdef"><b>Definition:</b> <a href="property-details_8h_source.html#l00131">property-details.h:131</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Representation_html_a8bdd97567badb1040967d90910c76c54"><div class="ttname"><a href="classv8_1_1internal_1_1Representation.html#a8bdd97567badb1040967d90910c76c54">v8::internal::Representation::generalize</a></div><div class="ttdeci">Representation generalize(Representation other)</div><div class="ttdef"><b>Definition:</b> <a href="property-details_8h_source.html#l00189">property-details.h:189</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Representation_html_aa84e9e08d7aa134ade62588b6353aaeb"><div class="ttname"><a href="classv8_1_1internal_1_1Representation.html#aa84e9e08d7aa134ade62588b6353aaeb">v8::internal::Representation::Equals</a></div><div class="ttdeci">bool Equals(const Representation &amp;other) const</div><div class="ttdef"><b>Definition:</b> <a href="property-details_8h_source.html#l00127">property-details.h:127</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Representation_html_ace382f041e3e5c2b98fefd107be9927d"><div class="ttname"><a href="classv8_1_1internal_1_1Representation.html#ace382f041e3e5c2b98fefd107be9927d">v8::internal::Representation::None</a></div><div class="ttdeci">static constexpr Representation None()</div><div class="ttdef"><b>Definition:</b> <a href="property-details_8h_source.html#l00112">property-details.h:112</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Representation_html_afc2857d68d808055d558efa69b9a7838"><div class="ttname"><a href="classv8_1_1internal_1_1Representation.html#afc2857d68d808055d558efa69b9a7838">v8::internal::Representation::CanBeInPlaceChangedTo</a></div><div class="ttdeci">bool CanBeInPlaceChangedTo(const Representation &amp;other) const</div><div class="ttdef"><b>Definition:</b> <a href="property-details_8h_source.html#l00157">property-details.h:157</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Tagged_3_01HeapObject_01_4_html_a07c12d3bf0972861e1c5aefabd00971f"><div class="ttname"><a href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html#a07c12d3bf0972861e1c5aefabd00971f">v8::internal::Tagged&lt; HeapObject &gt;::address</a></div><div class="ttdeci">Address address() const</div><div class="ttdef"><b>Definition:</b> <a href="tagged_8h_source.html#l00525">tagged.h:525</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Tagged_3_01HeapObject_01_4_html_a0930e2a8cbe8abbc5cdd476902fe6c88"><div class="ttname"><a href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html#a0930e2a8cbe8abbc5cdd476902fe6c88">v8::internal::Tagged&lt; HeapObject &gt;::is_null</a></div><div class="ttdeci">constexpr bool is_null() const</div><div class="ttdef"><b>Definition:</b> <a href="tagged_8h_source.html#l00502">tagged.h:502</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Tagged_3_01HeapObject_01_4_html_a2283cc249d5cb022b9be15bbf31a09f1"><div class="ttname"><a href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html#a2283cc249d5cb022b9be15bbf31a09f1">v8::internal::Tagged&lt; HeapObject &gt;::IsSmi</a></div><div class="ttdeci">constexpr bool IsSmi() const</div><div class="ttdef"><b>Definition:</b> <a href="tagged_8h_source.html#l00508">tagged.h:508</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Tagged_3_01Object_01_4_html"><div class="ttname"><a href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">v8::internal::Tagged&lt; Object &gt;</a></div><div class="ttdef"><b>Definition:</b> <a href="tagged_8h_source.html#l00387">tagged.h:387</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Tagged_html"><div class="ttname"><a href="classv8_1_1internal_1_1Tagged.html">v8::internal::Tagged</a></div><div class="ttdef"><b>Definition:</b> <a href="tagged_8h_source.html#l00707">tagged.h:707</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1TransitionsAccessor_html"><div class="ttname"><a href="classv8_1_1internal_1_1TransitionsAccessor.html">v8::internal::TransitionsAccessor</a></div><div class="ttdef"><b>Definition:</b> <a href="transitions_8h_source.html#l00075">transitions.h:75</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1TransitionsAccessor_html_a1dc4182835dccc64db93443a047531d2"><div class="ttname"><a href="classv8_1_1internal_1_1TransitionsAccessor.html#a1dc4182835dccc64db93443a047531d2">v8::internal::TransitionsAccessor::CanHaveMoreTransitions</a></div><div class="ttdeci">static bool CanHaveMoreTransitions(Isolate *isolate, DirectHandle&lt; Map &gt; map)</div><div class="ttdef"><b>Definition:</b> <a href="transitions_8cc_source.html#l00316">transitions.cc:316</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1TransitionsAccessor_html_a20df3aba83cced04f0675bdd7d773d48"><div class="ttname"><a href="classv8_1_1internal_1_1TransitionsAccessor.html#a20df3aba83cced04f0675bdd7d773d48">v8::internal::TransitionsAccessor::GetPrototypeTransition</a></div><div class="ttdeci">static std::optional&lt; Tagged&lt; Map &gt; &gt; GetPrototypeTransition(Isolate *isolate, Tagged&lt; Map &gt; map, Tagged&lt; Object &gt; prototype)</div><div class="ttdef"><b>Definition:</b> <a href="transitions_8cc_source.html#l00459">transitions.cc:459</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1TransitionsAccessor_html_a33e0935668a8574d99cdbd470be1aa2f"><div class="ttname"><a href="classv8_1_1internal_1_1TransitionsAccessor.html#a33e0935668a8574d99cdbd470be1aa2f">v8::internal::TransitionsAccessor::ForEachTransition</a></div><div class="ttdeci">void ForEachTransition(DisallowGarbageCollection *no_gc, Callback callback, ProtoCallback proto_transition_callback, SideStepCallback side_step_transition_callback)</div><div class="ttdef"><b>Definition:</b> <a href="transitions_8h_source.html#l00134">transitions.h:134</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1TransitionsAccessor_html_a34d5580f0039113ee34e43ca052b5262"><div class="ttname"><a href="classv8_1_1internal_1_1TransitionsAccessor.html#a34d5580f0039113ee34e43ca052b5262">v8::internal::TransitionsAccessor::SearchTransition</a></div><div class="ttdeci">Tagged&lt; Map &gt; SearchTransition(Tagged&lt; Name &gt; name, PropertyKind kind, PropertyAttributes attributes)</div><div class="ttdef"><b>Definition:</b> <a href="transitions_8cc_source.html#l00229">transitions.cc:229</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1TransitionsAccessor_html_a5bfee06361063c7745169e839cc91aeb"><div class="ttname"><a href="classv8_1_1internal_1_1TransitionsAccessor.html#a5bfee06361063c7745169e839cc91aeb">v8::internal::TransitionsAccessor::TraverseTransitionTree</a></div><div class="ttdeci">void TraverseTransitionTree(const TraverseCallback &amp;callback)</div><div class="ttdef"><b>Definition:</b> <a href="transitions_8h_source.html#l00172">transitions.h:172</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1TransitionsAccessor_html_a64817485831624fe362de42517e75283"><div class="ttname"><a href="classv8_1_1internal_1_1TransitionsAccessor.html#a64817485831624fe362de42517e75283">v8::internal::TransitionsAccessor::SetMigrationTarget</a></div><div class="ttdeci">static void SetMigrationTarget(Isolate *isolate, DirectHandle&lt; Map &gt; map, Tagged&lt; Map &gt; migration_target)</div><div class="ttdef"><b>Definition:</b> <a href="transitions_8cc_source.html#l00531">transitions.cc:531</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1TransitionsAccessor_html_a8c297451ba23e1c19bd8fe070aba45bb"><div class="ttname"><a href="classv8_1_1internal_1_1TransitionsAccessor.html#a8c297451ba23e1c19bd8fe070aba45bb">v8::internal::TransitionsAccessor::TraverseCallback</a></div><div class="ttdeci">std::function&lt; void(Tagged&lt; Map &gt;)&gt; TraverseCallback</div><div class="ttdef"><b>Definition:</b> <a href="transitions_8h_source.html#l00169">transitions.h:169</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1TransitionsAccessor_html_abbb20363330eadc596056c40de5e04cc"><div class="ttname"><a href="classv8_1_1internal_1_1TransitionsAccessor.html#abbb20363330eadc596056c40de5e04cc">v8::internal::TransitionsAccessor::SearchSpecial</a></div><div class="ttdeci">Tagged&lt; Map &gt; SearchSpecial(Tagged&lt; Symbol &gt; name)</div><div class="ttdef"><b>Definition:</b> <a href="transitions_8cc_source.html#l00251">transitions.cc:251</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1TransitionsAccessor_html_afc3e4b063c1e79149dfbd8428ff44fe7"><div class="ttname"><a href="classv8_1_1internal_1_1TransitionsAccessor.html#afc3e4b063c1e79149dfbd8428ff44fe7">v8::internal::TransitionsAccessor::HasIntegrityLevelTransitionTo</a></div><div class="ttdeci">bool HasIntegrityLevelTransitionTo(Tagged&lt; Map &gt; to, Tagged&lt; Symbol &gt; *out_symbol=nullptr, PropertyAttributes *out_integrity_level=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="transitions_8cc_source.html#l00825">transitions.cc:825</a></div></div>
<div class="ttc" id="aexecution_2isolate_8h_html"><div class="ttname"><a href="execution_2isolate_8h.html">isolate.h</a></div></div>
<div class="ttc" id="afield-type_8h_html"><div class="ttname"><a href="field-type_8h.html">field-type.h</a></div></div>
<div class="ttc" id="aflag-definitions_8h_html_a583245cb1ce76ddbc0cf3db5354b33c1"><div class="ttname"><a href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this file(requires that V8 was built with v8_enable_builtins_profiling=true)&quot;) DEFINE_BOOL(reorder_builtins</div></div>
<div class="ttc" id="aframes_8h_html"><div class="ttname"><a href="frames_8h.html">frames.h</a></div></div>
<div class="ttc" id="ahandles_8h_html"><div class="ttname"><a href="handles_8h.html">handles.h</a></div></div>
<div class="ttc" id="akeys_8h_html"><div class="ttname"><a href="keys_8h.html">keys.h</a></div></div>
<div class="ttc" id="amap-updater_8h_html"><div class="ttname"><a href="map-updater_8h.html">map-updater.h</a></div></div>
<div class="ttc" id="amutex_8h_html"><div class="ttname"><a href="mutex_8h.html">mutex.h</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_1_1internal_html_a9840f2bf0b4780133662292486d0bc01"><div class="ttname"><a href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">v8::base::internal::result</a></div><div class="ttdeci">V result</div><div class="ttdef"><b>Definition:</b> <a href="clamped__math__impl_8h_source.html#l00082">clamped_math_impl.h:82</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a40b71b3558e4b5297d51003612578a81"><div class="ttname"><a href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">v8::base::MutexGuard</a></div><div class="ttdeci">LockGuard&lt; Mutex &gt; MutexGuard</div><div class="ttdef"><b>Definition:</b> <a href="mutex_8h_source.html#l00219">mutex.h:219</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_html_a63d8eefb47468aa3f816fbe26a59466a"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">v8::internal::anonymous_namespace{json-stringifier.cc}::no_gc</a></div><div class="ttdeci">size_t const DisallowGarbageCollection &amp; no_gc</div><div class="ttdef"><b>Definition:</b> <a href="json-stringifier_8cc_source.html#l00544">json-stringifier.cc:544</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_html_a11017d5e0e07217626b7dcb7acf267a3"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03.html#a11017d5e0e07217626b7dcb7acf267a3">v8::internal::anonymous_namespace{map-updater.cc}::PrintGeneralization</a></div><div class="ttdeci">void PrintGeneralization(Isolate *isolate, DirectHandle&lt; Map &gt; map, FILE *file, const char *reason, InternalIndex modify_index, int split, int descriptors, bool descriptor_to_field, Representation old_representation, Representation new_representation, PropertyConstness old_constness, PropertyConstness new_constness, MaybeDirectHandle&lt; FieldType &gt; old_field_type, MaybeDirectHandle&lt; Object &gt; old_value, MaybeDirectHandle&lt; FieldType &gt; new_field_type, MaybeDirectHandle&lt; Object &gt; new_value)</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8cc_source.html#l00040">map-updater.cc:40</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_html_a5204267fe2437415119dd2979b447302"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03.html#a5204267fe2437415119dd2979b447302">v8::internal::anonymous_namespace{map-updater.cc}::DetectIntegrityLevelTransitions</a></div><div class="ttdeci">IntegrityLevelTransitionInfo DetectIntegrityLevelTransitions(Tagged&lt; Map &gt; map, Isolate *isolate, DisallowGarbageCollection *no_gc, ConcurrencyMode cmode)</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8cc_source.html#l00308">map-updater.cc:308</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_html_a7eae755681e278977f2ae4a11bf949d9"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03.html#a7eae755681e278977f2ae4a11bf949d9">v8::internal::anonymous_namespace{map-updater.cc}::GeneralizeFieldType</a></div><div class="ttdeci">V8_WARN_UNUSED_RESULT DirectHandle&lt; FieldType &gt; GeneralizeFieldType(Representation rep1, DirectHandle&lt; FieldType &gt; type1, Representation rep2, DirectHandle&lt; FieldType &gt; type2, Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8cc_source.html#l00032">map-updater.cc:32</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_html_abd99109fc05f1421f7f4b7d2962dbecc"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03.html#abd99109fc05f1421f7f4b7d2962dbecc">v8::internal::anonymous_namespace{map-updater.cc}::PrintReconfiguration</a></div><div class="ttdeci">void PrintReconfiguration(Isolate *isolate, DirectHandle&lt; Map &gt; map, FILE *file, InternalIndex modify_index, PropertyKind kind, PropertyAttributes attributes)</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8cc_source.html#l01167">map-updater.cc:1167</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_html_af46b0880f0e51ee10e8e6e61fe38084a"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03.html#af46b0880f0e51ee10e8e6e61fe38084a">v8::internal::anonymous_namespace{map-updater.cc}::EqualImmutableValues</a></div><div class="ttdeci">bool EqualImmutableValues(Tagged&lt; Object &gt; obj1, Tagged&lt; Object &gt; obj2)</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8cc_source.html#l00026">map-updater.cc:26</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_html_a057493c4b763f4cc13b5bdd21e46c868"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler.html#a057493c4b763f4cc13b5bdd21e46c868">v8::internal::compiler::NumberOfOwnDescriptors</a></div><div class="ttdeci">NumberOfOwnDescriptors</div><div class="ttdef"><b>Definition:</b> <a href="heap-refs_8cc_source.html#l01636">heap-refs.cc:1636</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_html_a4547ea68c972ac14663623ed7adab8d8"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler.html#a4547ea68c972ac14663623ed7adab8d8">v8::internal::compiler::initial_map</a></div><div class="ttdeci">true initial_map</div><div class="ttdef"><b>Definition:</b> <a href="heap-refs_8cc_source.html#l02435">heap-refs.cc:2435</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1libvtune_html_a85908a2ac6abdcec9ee9c4f7e51e795f"><div class="ttname"><a href="namespacev8_1_1internal_1_1libvtune.html#a85908a2ac6abdcec9ee9c4f7e51e795f">v8::internal::libvtune::split</a></div><div class="ttdeci">void split(const std::string &amp;str, char delimiter, std::vector&lt; std::string &gt; *vparams)</div><div class="ttdef"><b>Definition:</b> <a href="vtunedomain-support-extension_8cc_source.html#l00025">vtunedomain-support-extension.cc:25</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html"><div class="ttname"><a href="namespacev8_1_1internal.html">v8::internal</a></div><div class="ttdef"><b>Definition:</b> <a href="api-arguments-inl_8h_source.html#l00020">api-arguments-inl.h:20</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a15cafb1d1ed1ac577609eb5e764384e8"><div class="ttname"><a href="namespacev8_1_1internal.html#a15cafb1d1ed1ac577609eb5e764384e8">v8::internal::indirect_handle</a></div><div class="ttdeci">IndirectHandle&lt; T &gt; indirect_handle(DirectHandle&lt; T &gt; handle)</div><div class="ttdef"><b>Definition:</b> <a href="handles_8h_source.html#l00758">handles.h:758</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a27202b6f0818cc28c6f2bded2cd0211c"><div class="ttname"><a href="namespacev8_1_1internal.html#a27202b6f0818cc28c6f2bded2cd0211c">v8::internal::IsAnyHoleyNonextensibleElementsKind</a></div><div class="ttdeci">bool IsAnyHoleyNonextensibleElementsKind(ElementsKind kind)</div><div class="ttdef"><b>Definition:</b> <a href="elements-kind_8h_source.html#l00422">elements-kind.h:422</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a3385b29114f02665568e3b85945e9d10"><div class="ttname"><a href="namespacev8_1_1internal.html#a3385b29114f02665568e3b85945e9d10">v8::internal::IsMoreGeneralElementsKindTransition</a></div><div class="ttdeci">bool IsMoreGeneralElementsKindTransition(ElementsKind from_kind, ElementsKind to_kind)</div><div class="ttdef"><b>Definition:</b> <a href="elements-kind_8cc_source.html#l00182">elements-kind.cc:182</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a34e7d494ff37a93a945ea26b7b4c2bbf"><div class="ttname"><a href="namespacev8_1_1internal.html#a34e7d494ff37a93a945ea26b7b4c2bbf">v8::internal::IsAnyNonextensibleElementsKind</a></div><div class="ttdeci">constexpr bool IsAnyNonextensibleElementsKind(ElementsKind kind)</div><div class="ttdef"><b>Definition:</b> <a href="elements-kind_8h_source.html#l00378">elements-kind.h:378</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a352f65439007f2f1b85c997c1ba11436"><div class="ttname"><a href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436">v8::internal::PropertyAttributes</a></div><div class="ttdeci">PropertyAttributes</div><div class="ttdef"><b>Definition:</b> <a href="property-details_8h_source.html#l00018">property-details.h:18</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370"><div class="ttname"><a href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370">v8::internal::NONE</a></div><div class="ttdeci">@ NONE</div><div class="ttdef"><b>Definition:</b> <a href="property-details_8h_source.html#l00019">property-details.h:19</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a352f65439007f2f1b85c997c1ba11436ac96c4a6f8b2f89bb1dbaebb75becb0c2"><div class="ttname"><a href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436ac96c4a6f8b2f89bb1dbaebb75becb0c2">v8::internal::FROZEN</a></div><div class="ttdeci">@ FROZEN</div><div class="ttdef"><b>Definition:</b> <a href="property-details_8h_source.html#l00027">property-details.h:27</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a352f65439007f2f1b85c997c1ba11436ad8ce154ac002d77d3cca81d16765a76f"><div class="ttname"><a href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436ad8ce154ac002d77d3cca81d16765a76f">v8::internal::READ_ONLY</a></div><div class="ttdeci">@ READ_ONLY</div><div class="ttdef"><b>Definition:</b> <a href="property-details_8h_source.html#l00020">property-details.h:20</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a352f65439007f2f1b85c997c1ba11436ae1b3d8db108d2f4b5319b8d1ac5ebaef"><div class="ttname"><a href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436ae1b3d8db108d2f4b5319b8d1ac5ebaef">v8::internal::SEALED</a></div><div class="ttdeci">@ SEALED</div><div class="ttdef"><b>Definition:</b> <a href="property-details_8h_source.html#l00026">property-details.h:26</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a420e377bba6b25b38450dd44912cd5f6"><div class="ttname"><a href="namespacev8_1_1internal.html#a420e377bba6b25b38450dd44912cd5f6">v8::internal::ConcurrencyMode</a></div><div class="ttdeci">ConcurrencyMode</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l02612">globals.h:2612</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a420e377bba6b25b38450dd44912cd5f6a21ed2c08d58afea3d6b70cec9fbc377b"><div class="ttname"><a href="namespacev8_1_1internal.html#a420e377bba6b25b38450dd44912cd5f6a21ed2c08d58afea3d6b70cec9fbc377b">v8::internal::ConcurrencyMode::kSynchronous</a></div><div class="ttdeci">@ kSynchronous</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a538499d2a66bf6e9d3182a57104edec9"><div class="ttname"><a href="namespacev8_1_1internal.html#a538499d2a66bf6e9d3182a57104edec9">v8::internal::UNIMPLEMENTED</a></div><div class="ttdeci">UNIMPLEMENTED()</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5feb64a99571462d3380d03aa42c149c"><div class="ttname"><a href="namespacev8_1_1internal.html#a5feb64a99571462d3380d03aa42c149c">v8::internal::ElementsKind</a></div><div class="ttdeci">ElementsKind</div><div class="ttdef"><b>Definition:</b> <a href="elements-kind_8h_source.html#l00105">elements-kind.h:105</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5feb64a99571462d3380d03aa42c149ca6f1bdf5c8e2bb9db9d77063c18e3be8a"><div class="ttname"><a href="namespacev8_1_1internal.html#a5feb64a99571462d3380d03aa42c149ca6f1bdf5c8e2bb9db9d77063c18e3be8a">v8::internal::SLOW_STRING_WRAPPER_ELEMENTS</a></div><div class="ttdeci">@ SLOW_STRING_WRAPPER_ELEMENTS</div><div class="ttdef"><b>Definition:</b> <a href="elements-kind_8h_source.html#l00147">elements-kind.h:147</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5feb64a99571462d3380d03aa42c149cac053733fa7d92aff0fcce191adc35295"><div class="ttname"><a href="namespacev8_1_1internal.html#a5feb64a99571462d3380d03aa42c149cac053733fa7d92aff0fcce191adc35295">v8::internal::SLOW_SLOPPY_ARGUMENTS_ELEMENTS</a></div><div class="ttdeci">@ SLOW_SLOPPY_ARGUMENTS_ELEMENTS</div><div class="ttdef"><b>Definition:</b> <a href="elements-kind_8h_source.html#l00142">elements-kind.h:142</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5feb64a99571462d3380d03aa42c149cace123a96977080e9fd831f0f40e97a37"><div class="ttname"><a href="namespacev8_1_1internal.html#a5feb64a99571462d3380d03aa42c149cace123a96977080e9fd831f0f40e97a37">v8::internal::DICTIONARY_ELEMENTS</a></div><div class="ttdeci">@ DICTIONARY_ELEMENTS</div><div class="ttdef"><b>Definition:</b> <a href="elements-kind_8h_source.html#l00138">elements-kind.h:138</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a611f0528d5415d4591ad6e8fe9513ac4"><div class="ttname"><a href="namespacev8_1_1internal.html#a611f0528d5415d4591ad6e8fe9513ac4">v8::internal::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="heap-snapshot-generator_8cc_source.html#l01699">heap-snapshot-generator.cc:1699</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a617d346a46eb703e1719792077e5c2a0"><div class="ttname"><a href="namespacev8_1_1internal.html#a617d346a46eb703e1719792077e5c2a0">v8::internal::GeneralizeConstness</a></div><div class="ttdeci">PropertyConstness GeneralizeConstness(PropertyConstness a, PropertyConstness b)</div><div class="ttdef"><b>Definition:</b> <a href="property-details_8h_source.html#l00525">property-details.h:525</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a67a51b6314a9bc8a8c44c5fe14149e6c"><div class="ttname"><a href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">v8::internal::key</a></div><div class="ttdeci">int32_t key</div><div class="ttdef"><b>Definition:</b> <a href="external-reference_8cc_source.html#l01408">external-reference.cc:1408</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a73502f55102d18cb764881bc29f35c05"><div class="ttname"><a href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">v8::internal::direct_handle</a></div><div class="ttdeci">DirectHandle&lt; T &gt; direct_handle(Tagged&lt; T &gt; object, Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="handles-inl_8h_source.html#l00143">handles-inl.h:143</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a82b24872512218708764e7261b3e2a66"><div class="ttname"><a href="namespacev8_1_1internal.html#a82b24872512218708764e7261b3e2a66">v8::internal::IsClass</a></div><div class="ttdeci">bool IsClass(Tagged&lt; FieldType &gt; obj)</div><div class="ttdef"><b>Definition:</b> <a href="field-type_8cc_source.html#l00048">field-type.cc:48</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a82beb9016b7ce7849ce0d3e1db9c9a6d"><div class="ttname"><a href="namespacev8_1_1internal.html#a82beb9016b7ce7849ce0d3e1db9c9a6d">v8::internal::instance_descriptors</a></div><div class="ttdeci">instance_descriptors</div><div class="ttdef"><b>Definition:</b> <a href="map-inl_8h_source.html#l00052">map-inl.h:52</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a8c89f00da07e125218128b9fbf0a321c"><div class="ttname"><a href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">v8::internal::handle</a></div><div class="ttdeci">IndirectHandle&lt; T &gt; handle(Tagged&lt; T &gt; object, Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="handles-inl_8h_source.html#l00072">handles-inl.h:72</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a9312a9fc987dba9376a530956f94e8fe"><div class="ttname"><a href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fe">v8::internal::InstanceType</a></div><div class="ttdeci">InstanceType</div><div class="ttdef"><b>Definition:</b> <a href="instance-type_8h_source.html#l00116">instance-type.h:116</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a94ba22a03b2597d3d179aa45a228d67a"><div class="ttname"><a href="namespacev8_1_1internal.html#a94ba22a03b2597d3d179aa45a228d67a">v8::internal::IsTypedArrayOrRabGsabTypedArrayElementsKind</a></div><div class="ttdeci">constexpr bool IsTypedArrayOrRabGsabTypedArrayElementsKind(ElementsKind kind)</div><div class="ttdef"><b>Definition:</b> <a href="elements-kind_8h_source.html#l00305">elements-kind.h:305</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa320a68c147d70667df97e9d7c7f2969"><div class="ttname"><a href="namespacev8_1_1internal.html#aa320a68c147d70667df97e9d7c7f2969">v8::internal::IsTransitionableFastElementsKind</a></div><div class="ttdeci">constexpr bool IsTransitionableFastElementsKind(ElementsKind from_kind)</div><div class="ttdef"><b>Definition:</b> <a href="elements-kind_8h_source.html#l00549">elements-kind.h:549</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa6b3743bd5d773c552654f2a6c3efa4a"><div class="ttname"><a href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK</a></div><div class="ttdeci">DCHECK(IsNull(value)||IsNativeContext(value)||value==Smi::uninitialized_deserialization_value())</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa9db791c05a0359859a321dcfec42e37"><div class="ttname"><a href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a></div><div class="ttdeci">V8_EXPORT_PRIVATE FlagValues v8_flags</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_abc98ef0ed4a2baf08e5c6e3e8146d1fa"><div class="ttname"><a href="namespacev8_1_1internal.html#abc98ef0ed4a2baf08e5c6e3e8146d1fa">v8::internal::IsGeneralizableTo</a></div><div class="ttdeci">bool IsGeneralizableTo(PropertyLocation a, PropertyLocation b)</div><div class="ttdef"><b>Definition:</b> <a href="property-details_8h_source.html#l00515">property-details.h:515</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ac1a33b5fd9af1653d346746cdb5c1ac0"><div class="ttname"><a href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">v8::internal::value</a></div><div class="ttdeci">return value</div><div class="ttdef"><b>Definition:</b> <a href="map-inl_8h_source.html#l00912">map-inl.h:912</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ac328869a355886739965287befcc49ac"><div class="ttname"><a href="namespacev8_1_1internal.html#ac328869a355886739965287befcc49ac">v8::internal::PropertyConstness</a></div><div class="ttdeci">PropertyConstness</div><div class="ttdef"><b>Definition:</b> <a href="property-details_8h_source.html#l00093">property-details.h:93</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ac328869a355886739965287befcc49aca32567d9e5f2d66c9b326c45e800abcf6"><div class="ttname"><a href="namespacev8_1_1internal.html#ac328869a355886739965287befcc49aca32567d9e5f2d66c9b326c45e800abcf6">v8::internal::PropertyConstness::kMutable</a></div><div class="ttdeci">@ kMutable</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ac328869a355886739965287befcc49acad1efdc0f2aa096a47586b448aa73f414"><div class="ttname"><a href="namespacev8_1_1internal.html#ac328869a355886739965287befcc49acad1efdc0f2aa096a47586b448aa73f414">v8::internal::PropertyConstness::kConst</a></div><div class="ttdeci">@ kConst</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ac32ecba880a377a7f55cbaac76cdb604a9dd99cf48494ee0277563736ce16a91a"><div class="ttname"><a href="namespacev8_1_1internal.html#ac32ecba880a377a7f55cbaac76cdb604a9dd99cf48494ee0277563736ce16a91a">v8::internal::mu</a></div><div class="ttdeci">@ mu</div><div class="ttdef"><b>Definition:</b> <a href="base-constants-riscv_8h_source.html#l00612">base-constants-riscv.h:612</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ace7045d9fc96e0d36ce22ba112661a81"><div class="ttname"><a href="namespacev8_1_1internal.html#ace7045d9fc96e0d36ce22ba112661a81">v8::internal::PropertyKind</a></div><div class="ttdeci">PropertyKind</div><div class="ttdef"><b>Definition:</b> <a href="property-details_8h_source.html#l00085">property-details.h:85</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ace7045d9fc96e0d36ce22ba112661a81a0ac87546e8b36fcb3034694d4d909ea3"><div class="ttname"><a href="namespacev8_1_1internal.html#ace7045d9fc96e0d36ce22ba112661a81a0ac87546e8b36fcb3034694d4d909ea3">v8::internal::PropertyKind::kData</a></div><div class="ttdeci">@ kData</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ace7045d9fc96e0d36ce22ba112661a81ade3eeabe61d50a3f84870ae3ca43f0ec"><div class="ttname"><a href="namespacev8_1_1internal.html#ace7045d9fc96e0d36ce22ba112661a81ade3eeabe61d50a3f84870ae3ca43f0ec">v8::internal::PropertyKind::kAccessor</a></div><div class="ttdeci">@ kAccessor</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ae9b0a1942f337021ffd0954056894cc4"><div class="ttname"><a href="namespacev8_1_1internal.html#ae9b0a1942f337021ffd0954056894cc4">v8::internal::PropertyLocation</a></div><div class="ttdeci">PropertyLocation</div><div class="ttdef"><b>Definition:</b> <a href="property-details_8h_source.html#l00089">property-details.h:89</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ae9b0a1942f337021ffd0954056894cc4a454ab7e845efd9a5fa1826a1e9a69295"><div class="ttname"><a href="namespacev8_1_1internal.html#ae9b0a1942f337021ffd0954056894cc4a454ab7e845efd9a5fa1826a1e9a69295">v8::internal::PropertyLocation::kDescriptor</a></div><div class="ttdeci">@ kDescriptor</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f"><div class="ttname"><a href="namespacev8_1_1internal.html#ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f">v8::internal::PropertyLocation::kField</a></div><div class="ttdeci">@ kField</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aec984e37242506ca572e0222f9e307a6"><div class="ttname"><a href="namespacev8_1_1internal.html#aec984e37242506ca572e0222f9e307a6">v8::internal::IsConcurrent</a></div><div class="ttdeci">constexpr bool IsConcurrent(ConcurrencyMode mode)</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l02617">globals.h:2617</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_af2d9fec01057be7bdab90bb4682717b0"><div class="ttname"><a href="namespacev8_1_1internal.html#af2d9fec01057be7bdab90bb4682717b0">v8::internal::prototype</a></div><div class="ttdeci">kInstanceDescriptorsOffset kTransitionsOrPrototypeInfoOffset prototype</div><div class="ttdef"><b>Definition:</b> <a href="map-inl_8h_source.html#l00069">map-inl.h:69</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aff269dc9be2370cdca244d8f1f97237aac5a8bff008f8e182215fa48828c8cdb5"><div class="ttname"><a href="namespacev8_1_1internal.html#aff269dc9be2370cdca244d8f1f97237aac5a8bff008f8e182215fa48828c8cdb5">v8::internal::CLEAR_INOBJECT_PROPERTIES</a></div><div class="ttdeci">@ CLEAR_INOBJECT_PROPERTIES</div><div class="ttdef"><b>Definition:</b> <a href="objects_8h_source.html#l00061">objects.h:61</a></div></div>
<div class="ttc" id="aobjects-inl_8h_html"><div class="ttname"><a href="objects-inl_8h.html">objects-inl.h</a></div></div>
<div class="ttc" id="aobjects_8h_html"><div class="ttname"><a href="objects_8h.html">objects.h</a></div></div>
<div class="ttc" id="aparked-scope-inl_8h_html"><div class="ttname"><a href="parked-scope-inl_8h.html">parked-scope-inl.h</a></div></div>
<div class="ttc" id="aproperty-details_8h_html"><div class="ttname"><a href="property-details_8h.html">property-details.h</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a16b382527f19b805fc8f856668f2270b"><div class="ttname"><a href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a></div><div class="ttdeci">#define DCHECK_LE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00489">logging.h:489</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a2c0c4cea27d0690467662bb05131b2af"><div class="ttname"><a href="src_2base_2logging_8h.html#a2c0c4cea27d0690467662bb05131b2af">CHECK_IMPLIES</a></div><div class="ttdeci">#define CHECK_IMPLIES(lhs, rhs)</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a3e1cfef60e774a81f30eaddf26a3a274"><div class="ttname"><a href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a></div><div class="ttdeci">#define CHECK(condition)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00124">logging.h:124</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a96a75539aa82216cdde2250a11126ea0"><div class="ttname"><a href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a></div><div class="ttdeci">#define DCHECK_IMPLIES(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00492">logging.h:492</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a986dc8f4ec6dcd0644efe205c13f8eb7"><div class="ttname"><a href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a></div><div class="ttdeci">#define DCHECK_NE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00485">logging.h:485</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_aabec5c3b7a8628298a25f044dcf89c25"><div class="ttname"><a href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a></div><div class="ttdeci">#define DCHECK_GE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00487">logging.h:487</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_aca32614b4d2aea7dd9abdeb222bf02f3"><div class="ttname"><a href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a></div><div class="ttdeci">#define CHECK_EQ(lhs, rhs)</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_af9c313d74155f7f201955a939e24c71f"><div class="ttname"><a href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a></div><div class="ttdeci">#define DCHECK_EQ(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00484">logging.h:484</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1Brief_html"><div class="ttname"><a href="structv8_1_1internal_1_1Brief.html">v8::internal::Brief</a></div><div class="ttdef"><b>Definition:</b> <a href="objects_8h_source.html#l00639">objects.h:639</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_1_1IntegrityLevelTransitionInfo_html"><div class="ttname"><a href="structv8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_1_1IntegrityLevelTransitionInfo.html">v8::internal::anonymous_namespace{map-updater.cc}::IntegrityLevelTransitionInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8cc_source.html#l00298">map-updater.cc:298</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_1_1IntegrityLevelTransitionInfo_html_a28824c0a4d0b1787c2f40bf5665d7e39"><div class="ttname"><a href="structv8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_1_1IntegrityLevelTransitionInfo.html#a28824c0a4d0b1787c2f40bf5665d7e39">v8::internal::anonymous_namespace{map-updater.cc}::IntegrityLevelTransitionInfo::IntegrityLevelTransitionInfo</a></div><div class="ttdeci">IntegrityLevelTransitionInfo(Tagged&lt; Map &gt; map)</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8cc_source.html#l00299">map-updater.cc:299</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_1_1IntegrityLevelTransitionInfo_html_a87de489e86e1fdec40053dffa1303e69"><div class="ttname"><a href="structv8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_1_1IntegrityLevelTransitionInfo.html#a87de489e86e1fdec40053dffa1303e69">v8::internal::anonymous_namespace{map-updater.cc}::IntegrityLevelTransitionInfo::has_integrity_level_transition</a></div><div class="ttdeci">bool has_integrity_level_transition</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8cc_source.html#l00302">map-updater.cc:302</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_1_1IntegrityLevelTransitionInfo_html_a9df486d9915773ffbebb8d2c9ccb41bb"><div class="ttname"><a href="structv8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_1_1IntegrityLevelTransitionInfo.html#a9df486d9915773ffbebb8d2c9ccb41bb">v8::internal::anonymous_namespace{map-updater.cc}::IntegrityLevelTransitionInfo::integrity_level_symbol</a></div><div class="ttdeci">Tagged&lt; Symbol &gt; integrity_level_symbol</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8cc_source.html#l00305">map-updater.cc:305</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_1_1IntegrityLevelTransitionInfo_html_af02fa1b3d3730b335cee4e43e2b1c947"><div class="ttname"><a href="structv8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_1_1IntegrityLevelTransitionInfo.html#af02fa1b3d3730b335cee4e43e2b1c947">v8::internal::anonymous_namespace{map-updater.cc}::IntegrityLevelTransitionInfo::integrity_level</a></div><div class="ttdeci">PropertyAttributes integrity_level</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8cc_source.html#l00303">map-updater.cc:303</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_1_1IntegrityLevelTransitionInfo_html_afc9452651619d75f6ed3baf56147e023"><div class="ttname"><a href="structv8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_1_1IntegrityLevelTransitionInfo.html#afc9452651619d75f6ed3baf56147e023">v8::internal::anonymous_namespace{map-updater.cc}::IntegrityLevelTransitionInfo::integrity_level_source_map</a></div><div class="ttdeci">Tagged&lt; Map &gt; integrity_level_source_map</div><div class="ttdef"><b>Definition:</b> <a href="map-updater_8cc_source.html#l00304">map-updater.cc:304</a></div></div>
<div class="ttc" id="atransitions_8h_html"><div class="ttname"><a href="transitions_8h.html">transitions.h</a></div></div>
<div class="ttc" id="av8config_8h_html_a63258e4bf5dc9fb8c78f881c8405d83b"><div class="ttname"><a href="v8config_8h.html#a63258e4bf5dc9fb8c78f881c8405d83b">V8_WARN_UNUSED_RESULT</a></div><div class="ttdeci">#define V8_WARN_UNUSED_RESULT</div><div class="ttdef"><b>Definition:</b> <a href="v8config_8h_source.html#l00671">v8config.h:671</a></div></div>
<div class="ttc" id="av8config_8h_html_a67bd29db07c711b0fb11ff1c324ebb60"><div class="ttname"><a href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a></div><div class="ttdeci">#define V8_UNLIKELY(condition)</div><div class="ttdef"><b>Definition:</b> <a href="v8config_8h_source.html#l00660">v8config.h:660</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_19225156eb7ba052e31d1a736469917a.html">mnt</a></li><li class="navelem"><a class="el" href="dir_3536f6d353061322e9ef91134b76e9ed.html">V8SourceCode</a></li><li class="navelem"><a class="el" href="dir_fbd53c45610d490c9fb8d0716db4e3a3.html">src</a></li><li class="navelem"><a class="el" href="dir_766296db99a93e596ab8775592dcbea4.html">objects</a></li><li class="navelem"><a class="el" href="map-updater_8cc.html">map-updater.cc</a></li>
    <li class="footer">Generated on Thu Jun 12 2025 15:59:54 for V8 Project by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
