<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>V8 Project: /mnt/V8SourceCode/include/cppgc/visitor.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">V8 Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('include_2cppgc_2visitor_8h_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">visitor.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="include_2cppgc_2visitor_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright 2020 the V8 project authors. All rights reserved.</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// Use of this source code is governed by a BSD-style license that can be</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// found in the LICENSE file.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160; </div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#ifndef INCLUDE_CPPGC_VISITOR_H_</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#define INCLUDE_CPPGC_VISITOR_H_</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160; </div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;type_traits&gt;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160; </div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="custom-space_8h.html">cppgc/custom-space.h</a>&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="garbage-collected_8h.html">cppgc/garbage-collected.h</a>&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="include_2cppgc_2internal_2logging_8h.html">cppgc/internal/logging.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="include_2cppgc_2internal_2member-storage_8h.html">cppgc/internal/member-storage.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="pointer-policies_8h.html">cppgc/internal/pointer-policies.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;cppgc/liveness-broker.h&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="include_2cppgc_2macros_8h.html">cppgc/macros.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="member_8h.html">cppgc/member.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="sentinel-pointer_8h.html">cppgc/sentinel-pointer.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="source-location_8h.html">cppgc/source-location.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="trace-trait_8h.html">cppgc/trace-trait.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="type-traits_8h.html">cppgc/type-traits.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160; </div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacecppgc.html">cppgc</a> {</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160; </div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">internal</a> {</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> <a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>, <span class="keyword">typename</span> <a class="code" href="classWeaknessPolicy.html">WeaknessPolicy</a>, <span class="keyword">typename</span> <a class="code" href="classLocationPolicy.html">LocationPolicy</a>,</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;          <span class="keyword">typename</span> CheckingPolicy&gt;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="keyword">class </span>BasicCrossThreadPersistent;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> <a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>, <span class="keyword">typename</span> <a class="code" href="classWeaknessPolicy.html">WeaknessPolicy</a>, <span class="keyword">typename</span> <a class="code" href="classLocationPolicy.html">LocationPolicy</a>,</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;          <span class="keyword">typename</span> CheckingPolicy&gt;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="keyword">class </span>BasicPersistent;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="keyword">class </span>ConservativeTracingVisitor;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="keyword">class </span>VisitorBase;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="keyword">class </span>VisitorFactory;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;}  <span class="comment">// namespace internal</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160; </div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="namespacecppgc.html#a4b906afac52d1ad451065c31124ec72a">   37</a></span>&#160;<span class="keyword">using</span> <a class="code" href="namespacecppgc.html#a4b906afac52d1ad451065c31124ec72a">WeakCallback</a> = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> (*)(<span class="keyword">const</span> <a class="code" href="classcppgc_1_1LivenessBroker.html">LivenessBroker</a>&amp;, <span class="keyword">const</span> <span class="keywordtype">void</span>*);</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment"> * An ephemeron pair is used to conditionally retain an object.</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment"> * The `value` will be kept alive only if the `key` is alive.</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> K, <span class="keyword">typename</span> V&gt;</div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="structcppgc_1_1EphemeronPair.html">   44</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structcppgc_1_1EphemeronPair.html">EphemeronPair</a> {</div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="structcppgc_1_1EphemeronPair.html#ab752c9a9eacaed80a38b286e9bcbd895">   45</a></span>&#160;  <a class="code" href="structcppgc_1_1EphemeronPair.html#ab752c9a9eacaed80a38b286e9bcbd895">CPPGC_DISALLOW_NEW</a>();</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160; </div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="structcppgc_1_1EphemeronPair.html#a5d87f1141b7ff09cfa1a2f1ac686ec53">   47</a></span>&#160;  <a class="code" href="structcppgc_1_1EphemeronPair.html#a5d87f1141b7ff09cfa1a2f1ac686ec53">EphemeronPair</a>(<a class="code" href="namespacev8_1_1internal.html#a64191cdcde25dc019822f35676eaff01">K</a>* k, V* v) : <a class="code" href="structcppgc_1_1EphemeronPair.html#a613613250a1b157039b79a93e5434c74">key</a>(k), <a class="code" href="structcppgc_1_1EphemeronPair.html#a8f02cd890f3947e1b8ce7a8d390d0c89">value</a>(v) {}</div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="structcppgc_1_1EphemeronPair.html#a613613250a1b157039b79a93e5434c74">   48</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1BasicMember.html">WeakMember&lt;K&gt;</a> <a class="code" href="structcppgc_1_1EphemeronPair.html#a613613250a1b157039b79a93e5434c74">key</a>;</div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="structcppgc_1_1EphemeronPair.html#a8f02cd890f3947e1b8ce7a8d390d0c89">   49</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1BasicMember.html">Member&lt;V&gt;</a> <a class="code" href="structcppgc_1_1EphemeronPair.html#a8f02cd890f3947e1b8ce7a8d390d0c89">value</a>;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; </div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="structcppgc_1_1EphemeronPair.html#a6db740990f7fabf08271d86193158e0f">   51</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structcppgc_1_1EphemeronPair.html#a6db740990f7fabf08271d86193158e0f">ClearValueIfKeyIsDead</a>(<span class="keyword">const</span> <a class="code" href="classcppgc_1_1LivenessBroker.html">LivenessBroker</a>&amp; <a class="code" href="flag-definitions_8h.html#a1e4d6c2aea5c663dda8b8fca8b9199a5">broker</a>) {</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="flag-definitions_8h.html#a1e4d6c2aea5c663dda8b8fca8b9199a5">broker</a>.IsHeapObjectAlive(<a class="code" href="structcppgc_1_1EphemeronPair.html#a613613250a1b157039b79a93e5434c74">key</a>)) <a class="code" href="structcppgc_1_1EphemeronPair.html#a8f02cd890f3947e1b8ce7a8d390d0c89">value</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  }</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structcppgc_1_1EphemeronPair.html#aeb6c736b4eb5890f4ebb27df9d35318b">Trace</a>(<a class="code" href="classcppgc_1_1Visitor.html">Visitor</a>* visitor) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;};</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment"> * Visitor passed to trace methods. All managed pointers must have called the</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment"> * Visitor&#39;s trace method on them.</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment"> * \code</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment"> * class Foo final : public GarbageCollected&lt;Foo&gt; {</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment"> *  public:</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment"> *   void Trace(Visitor* visitor) const {</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment"> *     visitor-&gt;Trace(foo_);</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment"> *     visitor-&gt;Trace(weak_foo_);</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment"> *   }</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment"> *  private:</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment"> *   Member&lt;Foo&gt; foo_;</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment"> *   WeakMember&lt;Foo&gt; weak_foo_;</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment"> * };</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment"> * \endcode</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="classcppgc_1_1Visitor.html">   75</a></span>&#160;<span class="keyword">class </span><a class="code" href="v8config_8h.html#a18b08424f4be6fab745092c7c5dad9f5">V8_EXPORT</a> <a class="code" href="classcppgc_1_1Visitor.html">Visitor</a> {</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="classcppgc_1_1Visitor_1_1Key.html">   77</a></span>&#160;  <span class="keyword">class </span><a class="code" href="classcppgc_1_1Visitor_1_1Key.html">Key</a> {</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;   <span class="keyword">private</span>:</div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="classcppgc_1_1Visitor_1_1Key.html#a2e39a7e43709a3856fee23c8fc9182f8">   79</a></span>&#160;    <a class="code" href="classcppgc_1_1Visitor_1_1Key.html#a2e39a7e43709a3856fee23c8fc9182f8">Key</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="classcppgc_1_1Visitor_1_1Key.html#a24a4000985b880937de471190bd174d3">   80</a></span>&#160;    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classcppgc_1_1internal_1_1VisitorFactory.html">internal::VisitorFactory</a>;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  };</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="classcppgc_1_1Visitor.html#af976de8e5d679f9c0ba22ba66e1916bc">   83</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classcppgc_1_1Visitor.html#af976de8e5d679f9c0ba22ba66e1916bc">Visitor</a>(<a class="code" href="classcppgc_1_1Visitor_1_1Key.html">Key</a>) {}</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="classcppgc_1_1Visitor.html#af993184fb3886d8d86bd40780d148d61">   85</a></span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classcppgc_1_1Visitor.html#af993184fb3886d8d86bd40780d148d61">~Visitor</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">   * Trace method for Member.</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">   * \param member Member reference retaining an object.</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="classcppgc_1_1Visitor.html#a24be0e98d3695de6c0f3d5b12188367d">   93</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1Visitor.html#a24be0e98d3695de6c0f3d5b12188367d">Trace</a>(<span class="keyword">const</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMember.html">Member&lt;T&gt;</a>&amp; member) {</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keyword">const</span> <a class="code" href="classT.html">T</a>* <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = member.<a class="code" href="classcppgc_1_1internal_1_1BasicMember.html#a4bca495c12f4702717a1839f2480a3eb">GetAtomic</a>();</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <a class="code" href="include_2cppgc_2internal_2logging_8h.html#a1a401f1808908497eb688e1142f70deb">CPPGC_DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> != <a class="code" href="namespacecppgc.html#a6ed40538a8d2b6b06da04df5de1f8786">kSentinelPointer</a>);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    TraceImpl(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  }</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment">   * Trace method for WeakMember.</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment">   * \param weak_member WeakMember reference weakly retaining an object.</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="classcppgc_1_1Visitor.html#af20f49fe32cc91c13ec7b1cd2af0e80a">  105</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1Visitor.html#af20f49fe32cc91c13ec7b1cd2af0e80a">Trace</a>(<span class="keyword">const</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMember.html">WeakMember&lt;T&gt;</a>&amp; weak_member) {</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    static_assert(<span class="keyword">sizeof</span>(<a class="code" href="classT.html">T</a>), <span class="stringliteral">&quot;Pointee type must be fully defined.&quot;</span>);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    static_assert(<a class="code" href="structcppgc_1_1internal_1_1IsGarbageCollectedOrMixinType.html">internal::IsGarbageCollectedOrMixinType&lt;T&gt;::value</a>,</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                  <span class="stringliteral">&quot;T must be GarbageCollected or GarbageCollectedMixin type&quot;</span>);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    static_assert(!<a class="code" href="structcppgc_1_1internal_1_1IsAllocatedOnCompactableSpace.html">internal::IsAllocatedOnCompactableSpace&lt;T&gt;::value</a>,</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                  <span class="stringliteral">&quot;Weak references to compactable objects are not allowed&quot;</span>);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keyword">const</span> <a class="code" href="classT.html">T</a>* <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = weak_member.<a class="code" href="classcppgc_1_1internal_1_1BasicMember.html#a4bca495c12f4702717a1839f2480a3eb">GetAtomic</a>();</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160; </div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="comment">// Bailout assumes that WeakMember emits write barrier.</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>) {</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    }</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160; </div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <a class="code" href="include_2cppgc_2internal_2logging_8h.html#a1a401f1808908497eb688e1142f70deb">CPPGC_DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> != <a class="code" href="namespacecppgc.html#a6ed40538a8d2b6b06da04df5de1f8786">kSentinelPointer</a>);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    VisitWeak(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, <a class="code" href="structcppgc_1_1TraceTrait.html">TraceTrait&lt;T&gt;::GetTraceDescriptor</a>(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>),</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;              &amp;HandleWeak&lt;<a class="code" href="classcppgc_1_1internal_1_1BasicMember.html">WeakMember&lt;T&gt;</a>&gt;, &amp;weak_member);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  }</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160; </div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="preprocessor">#if defined(CPPGC_POINTER_COMPRESSION)</span><span class="comment"></span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">   * Trace method for UncompressedMember.</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">   * \param member UncompressedMember reference retaining an object.</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <span class="keywordtype">void</span> Trace(<span class="keyword">const</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMember.html">subtle::UncompressedMember&lt;T&gt;</a>&amp; member) {</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keyword">const</span> <a class="code" href="classT.html">T</a>* <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = member.<a class="code" href="classcppgc_1_1internal_1_1BasicMember.html#a4bca495c12f4702717a1839f2480a3eb">GetAtomic</a>();</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <a class="code" href="include_2cppgc_2internal_2logging_8h.html#a1a401f1808908497eb688e1142f70deb">CPPGC_DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> != <a class="code" href="namespacecppgc.html#a6ed40538a8d2b6b06da04df5de1f8786">kSentinelPointer</a>);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    TraceImpl(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  }</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// defined(CPPGC_POINTER_COMPRESSION)</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="classcppgc_1_1Visitor.html#afb04f1094be378fed450a398870f01ea">  139</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1Visitor.html#afb04f1094be378fed450a398870f01ea">TraceMultiple</a>(<span class="keyword">const</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMember.html">subtle::UncompressedMember&lt;T&gt;</a>* start, <span class="keywordtype">size_t</span> len) {</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    static_assert(<span class="keyword">sizeof</span>(<a class="code" href="classT.html">T</a>), <span class="stringliteral">&quot;Pointee type must be fully defined.&quot;</span>);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    static_assert(<a class="code" href="structcppgc_1_1internal_1_1IsGarbageCollectedOrMixinType.html">internal::IsGarbageCollectedOrMixinType&lt;T&gt;::value</a>,</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                  <span class="stringliteral">&quot;T must be GarbageCollected or GarbageCollectedMixin type&quot;</span>);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    VisitMultipleUncompressedMember(start, len,</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                                    &amp;<a class="code" href="structcppgc_1_1TraceTrait.html">TraceTrait&lt;T&gt;::GetTraceDescriptor</a>);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  }</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160; </div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> <a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>,</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            std::enable_if_t&lt;!std::is_same_v&lt;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                <a class="code" href="classcppgc_1_1internal_1_1BasicMember.html">Member&lt;T&gt;</a>, <a class="code" href="classcppgc_1_1internal_1_1BasicMember.html">subtle::UncompressedMember&lt;T&gt;</a>&gt;&gt;* = <span class="keyword">nullptr</span>&gt;</div>
<div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="classcppgc_1_1Visitor.html#a401349d23255d765a59e400375e40b9a">  150</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1Visitor.html#a401349d23255d765a59e400375e40b9a">TraceMultiple</a>(<span class="keyword">const</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMember.html">Member&lt;T&gt;</a>* start, <span class="keywordtype">size_t</span> len) {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    static_assert(<span class="keyword">sizeof</span>(<a class="code" href="classT.html">T</a>), <span class="stringliteral">&quot;Pointee type must be fully defined.&quot;</span>);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    static_assert(<a class="code" href="structcppgc_1_1internal_1_1IsGarbageCollectedOrMixinType.html">internal::IsGarbageCollectedOrMixinType&lt;T&gt;::value</a>,</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                  <span class="stringliteral">&quot;T must be GarbageCollected or GarbageCollectedMixin type&quot;</span>);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="preprocessor">#if defined(CPPGC_POINTER_COMPRESSION)</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    static_assert(std::is_same_v&lt;<a class="code" href="classcppgc_1_1internal_1_1BasicMember.html">Member&lt;T&gt;</a>, subtle::CompressedMember&lt;T&gt;&gt;,</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                  <span class="stringliteral">&quot;Member and CompressedMember must be the same.&quot;</span>);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    VisitMultipleCompressedMember(start, len,</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                                  &amp;<a class="code" href="structcppgc_1_1TraceTrait.html">TraceTrait&lt;T&gt;::GetTraceDescriptor</a>);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// defined(CPPGC_POINTER_COMPRESSION)</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  }</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">   * Trace method for inlined objects that are not allocated themselves but</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">   * otherwise follow managed heap layout and have a Trace() method.</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment">   * \param object reference of the inlined object.</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00169"></a><span class="lineno"><a class="line" href="classcppgc_1_1Visitor.html#a83e810379a6baf5fa4aef855f1536efc">  169</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1Visitor.html#a83e810379a6baf5fa4aef855f1536efc">Trace</a>(<span class="keyword">const</span> <a class="code" href="classT.html">T</a>&amp; <span class="keywordtype">object</span>) {</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="preprocessor">#if V8_ENABLE_CHECKS</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="comment">// This object is embedded in potentially multiple nested objects. The</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="comment">// outermost object must not be in construction as such objects are (a) not</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="comment">// processed immediately, and (b) only processed conservatively if not</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="comment">// otherwise possible.</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    CheckObjectNotInConstruction(&amp;<span class="keywordtype">object</span>);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_CHECKS</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <a class="code" href="structcppgc_1_1internal_1_1TraceTraitBase.html#a6c8bb0f00866bae70210f05076024f86">TraceTrait&lt;T&gt;::Trace</a>(<span class="keyword">this</span>, &amp;<span class="keywordtype">object</span>);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  }</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160; </div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00181"></a><span class="lineno"><a class="line" href="classcppgc_1_1Visitor.html#aca4a9a8bf3f6ac3391591f6270040af7">  181</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1Visitor.html#aca4a9a8bf3f6ac3391591f6270040af7">TraceMultiple</a>(<span class="keyword">const</span> <a class="code" href="classT.html">T</a>* start, <span class="keywordtype">size_t</span> len) {</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="preprocessor">#if V8_ENABLE_CHECKS</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="comment">// This object is embedded in potentially multiple nested objects. The</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="comment">// outermost object must not be in construction as such objects are (a) not</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="comment">// processed immediately, and (b) only processed conservatively if not</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="comment">// otherwise possible.</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    CheckObjectNotInConstruction(start);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_CHECKS</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; len; ++<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>) {</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      <span class="keyword">const</span> <a class="code" href="classT.html">T</a>* <span class="keywordtype">object</span> = &amp;start[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>];</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      <span class="keywordflow">if</span> constexpr (std::is_polymorphic_v&lt;T&gt;) {</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        <span class="comment">// The object&#39;s vtable may be uninitialized in which case the object is</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <span class="comment">// not traced.</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <span class="keywordflow">if</span> (*<span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="classuintptr__t.html">uintptr_t</a>*<span class="keyword">&gt;</span>(<span class="keywordtype">object</span>) == 0) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      }</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      <a class="code" href="structcppgc_1_1internal_1_1TraceTraitBase.html#a6c8bb0f00866bae70210f05076024f86">TraceTrait&lt;T&gt;::Trace</a>(<span class="keyword">this</span>, <span class="keywordtype">object</span>);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    }</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  }</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">   * Registers a weak callback method on the object of type T. See</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">   * LivenessBroker for an usage example.</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment">   * \param object of type T specifying a weak callback method.</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keywordtype">void</span> (T::*method)(const LivenessBroker&amp;)&gt;</div>
<div class="line"><a name="l00207"></a><span class="lineno"><a class="line" href="classcppgc_1_1Visitor.html#ae2d6e396bdd0a53698c904b0278d0934">  207</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1Visitor.html#ae2d6e396bdd0a53698c904b0278d0934">RegisterWeakCallbackMethod</a>(<span class="keyword">const</span> <a class="code" href="classT.html">T</a>* <span class="keywordtype">object</span>) {</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    RegisterWeakCallback(&amp;WeakCallbackMethodDelegate&lt;T, method&gt;, <span class="keywordtype">object</span>);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  }</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment">   * Trace method for EphemeronPair.</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment">   * \param ephemeron_pair EphemeronPair reference weakly retaining a key object</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment">   * and strongly retaining a value object in case the key object is alive.</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> K, <span class="keyword">typename</span> V&gt;</div>
<div class="line"><a name="l00218"></a><span class="lineno"><a class="line" href="classcppgc_1_1Visitor.html#af6c4c4e5799d5d3b1e91c945c3cf89c9">  218</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1Visitor.html#af6c4c4e5799d5d3b1e91c945c3cf89c9">Trace</a>(<span class="keyword">const</span> <a class="code" href="structcppgc_1_1EphemeronPair.html">EphemeronPair&lt;K, V&gt;</a>&amp; ephemeron_pair) {</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    TraceEphemeron(ephemeron_pair.<a class="code" href="structcppgc_1_1EphemeronPair.html#a613613250a1b157039b79a93e5434c74">key</a>, &amp;ephemeron_pair.<a class="code" href="structcppgc_1_1EphemeronPair.html#a8f02cd890f3947e1b8ce7a8d390d0c89">value</a>);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    RegisterWeakCallbackMethod&lt;EphemeronPair&lt;K, V&gt;,</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                               &amp;<a class="code" href="structcppgc_1_1EphemeronPair.html">EphemeronPair&lt;K, V&gt;::ClearValueIfKeyIsDead</a>&gt;(</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        &amp;ephemeron_pair);</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  }</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment">   * Trace method for a single ephemeron. Used for tracing a raw ephemeron in</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment">   * which the `key` and `value` are kept separately.</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">   * \param weak_member_key WeakMember reference weakly retaining a key object.</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">   * \param member_value Member reference with ephemeron semantics.</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> KeyType, <span class="keyword">typename</span> ValueType&gt;</div>
<div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="classcppgc_1_1Visitor.html#a348f7870d03fa9cc10224130aa4f315b">  233</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1Visitor.html#a348f7870d03fa9cc10224130aa4f315b">TraceEphemeron</a>(<span class="keyword">const</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMember.html">WeakMember&lt;KeyType&gt;</a>&amp; weak_member_key,</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                      <span class="keyword">const</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMember.html">Member&lt;ValueType&gt;</a>* member_value) {</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02ic_8cc_03.html#a4631bacb0230cb3812dd449094232bc8">KeyType</a>* <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a> = weak_member_key.<a class="code" href="classcppgc_1_1internal_1_1BasicMember.html#a4bca495c12f4702717a1839f2480a3eb">GetAtomic</a>();</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160; </div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="comment">// `value` must always be non-null.</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <a class="code" href="include_2cppgc_2internal_2logging_8h.html#a1a401f1808908497eb688e1142f70deb">CPPGC_DCHECK</a>(member_value);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keyword">const</span> ValueType* <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = member_value-&gt;GetAtomic();</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="comment">// KeyType and ValueType may refer to GarbageCollectedMixin.</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <a class="code" href="structcppgc_1_1TraceDescriptor.html">TraceDescriptor</a> value_desc =</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        <a class="code" href="structcppgc_1_1internal_1_1TraceTraitBase.html#a4448accd321c29fed3b220237353c8c8">TraceTrait&lt;ValueType&gt;::GetTraceDescriptor</a>(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <a class="code" href="include_2cppgc_2internal_2logging_8h.html#a1a401f1808908497eb688e1142f70deb">CPPGC_DCHECK</a>(value_desc.<a class="code" href="structcppgc_1_1TraceDescriptor.html#a0de2d2b4cf5fe1ec48fc9d6f2e20f2f9">base_object_payload</a>);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">void</span>* key_base_object_payload =</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        <a class="code" href="structcppgc_1_1internal_1_1TraceTraitBase.html#a4448accd321c29fed3b220237353c8c8">TraceTrait&lt;KeyType&gt;::GetTraceDescriptor</a>(<a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>).<a class="code" href="structcppgc_1_1TraceDescriptor.html#a0de2d2b4cf5fe1ec48fc9d6f2e20f2f9">base_object_payload</a>;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <a class="code" href="include_2cppgc_2internal_2logging_8h.html#a1a401f1808908497eb688e1142f70deb">CPPGC_DCHECK</a>(key_base_object_payload);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160; </div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    VisitEphemeron(key_base_object_payload, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, value_desc);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  }</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">   * Trace method for a single ephemeron. Used for tracing a raw ephemeron in</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment">   * which the `key` and `value` are kept separately. Note that this overload</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">   * is for non-GarbageCollected `value`s that can be traced though.</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment">   * \param key `WeakMember` reference weakly retaining a key object.</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment">   * \param value Reference weakly retaining a value object. Note that</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">   *   `ValueType` here should not be `Member`. It is expected that</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment">   *   `TraceTrait&lt;ValueType&gt;::GetTraceDescriptor(value)` returns a</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">   *   `TraceDescriptor` with a null base pointer but a valid trace method.</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> KeyType, <span class="keyword">typename</span> ValueType&gt;</div>
<div class="line"><a name="l00266"></a><span class="lineno"><a class="line" href="classcppgc_1_1Visitor.html#a3c59f37f4fc2c308c84e999eff0037d3">  266</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1Visitor.html#a3c59f37f4fc2c308c84e999eff0037d3">TraceEphemeron</a>(<span class="keyword">const</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMember.html">WeakMember&lt;KeyType&gt;</a>&amp; weak_member_key,</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                      <span class="keyword">const</span> ValueType* <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>) {</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    static_assert(!IsGarbageCollectedOrMixinTypeV&lt;ValueType&gt;,</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                  <span class="stringliteral">&quot;garbage-collected types must use WeakMember and Member&quot;</span>);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02ic_8cc_03.html#a4631bacb0230cb3812dd449094232bc8">KeyType</a>* <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a> = weak_member_key.<a class="code" href="classcppgc_1_1internal_1_1BasicMember.html#a4bca495c12f4702717a1839f2480a3eb">GetAtomic</a>();</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160; </div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="comment">// `value` must always be non-null.</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <a class="code" href="include_2cppgc_2internal_2logging_8h.html#a1a401f1808908497eb688e1142f70deb">CPPGC_DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <a class="code" href="structcppgc_1_1TraceDescriptor.html">TraceDescriptor</a> value_desc =</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <a class="code" href="structcppgc_1_1internal_1_1TraceTraitBase.html#a4448accd321c29fed3b220237353c8c8">TraceTrait&lt;ValueType&gt;::GetTraceDescriptor</a>(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="comment">// `value_desc.base_object_payload` must be null as this override is only</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="comment">// taken for non-garbage-collected values.</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <a class="code" href="include_2cppgc_2internal_2logging_8h.html#a1a401f1808908497eb688e1142f70deb">CPPGC_DCHECK</a>(!value_desc.<a class="code" href="structcppgc_1_1TraceDescriptor.html#a0de2d2b4cf5fe1ec48fc9d6f2e20f2f9">base_object_payload</a>);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160; </div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="comment">// KeyType might be a GarbageCollectedMixin.</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">void</span>* key_base_object_payload =</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <a class="code" href="structcppgc_1_1internal_1_1TraceTraitBase.html#a4448accd321c29fed3b220237353c8c8">TraceTrait&lt;KeyType&gt;::GetTraceDescriptor</a>(<a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>).<a class="code" href="structcppgc_1_1TraceDescriptor.html#a0de2d2b4cf5fe1ec48fc9d6f2e20f2f9">base_object_payload</a>;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <a class="code" href="include_2cppgc_2internal_2logging_8h.html#a1a401f1808908497eb688e1142f70deb">CPPGC_DCHECK</a>(key_base_object_payload);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160; </div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    VisitEphemeron(key_base_object_payload, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, value_desc);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  }</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment">   * Trace method that strongifies a WeakMember.</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="comment">   * \param weak_member WeakMember reference retaining an object.</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00295"></a><span class="lineno"><a class="line" href="classcppgc_1_1Visitor.html#a980ea85f423dfb9781e173210e403eb7">  295</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1Visitor.html#a980ea85f423dfb9781e173210e403eb7">TraceStrongly</a>(<span class="keyword">const</span> <a class="code" href="classcppgc_1_1internal_1_1BasicMember.html">WeakMember&lt;T&gt;</a>&amp; weak_member) {</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keyword">const</span> <a class="code" href="classT.html">T</a>* <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = weak_member.<a class="code" href="classcppgc_1_1internal_1_1BasicMember.html#a4bca495c12f4702717a1839f2480a3eb">GetAtomic</a>();</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <a class="code" href="include_2cppgc_2internal_2logging_8h.html#a1a401f1808908497eb688e1142f70deb">CPPGC_DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> != <a class="code" href="namespacecppgc.html#a6ed40538a8d2b6b06da04df5de1f8786">kSentinelPointer</a>);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    TraceImpl(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  }</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">   * Trace method for retaining containers strongly.</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment">   * \param object reference to the container.</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00307"></a><span class="lineno"><a class="line" href="classcppgc_1_1Visitor.html#ae6036d6df7c5d3a330696e088acd0058">  307</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1Visitor.html#ae6036d6df7c5d3a330696e088acd0058">TraceStrongContainer</a>(<span class="keyword">const</span> <a class="code" href="classT.html">T</a>* <span class="keywordtype">object</span>) {</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    TraceImpl(<span class="keywordtype">object</span>);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  }</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="comment">   * Trace method for retaining containers weakly. Note that weak containers</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="comment">   * should emit write barriers.</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment">   * \param object reference to the container.</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment">   * \param callback to be invoked.</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment">   * \param callback_data custom data that is passed to the callback.</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00320"></a><span class="lineno"><a class="line" href="classcppgc_1_1Visitor.html#a29024a1d35f06d9c5edae52736de4da8">  320</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1Visitor.html#a29024a1d35f06d9c5edae52736de4da8">TraceWeakContainer</a>(<span class="keyword">const</span> <a class="code" href="classT.html">T</a>* <span class="keywordtype">object</span>, <a class="code" href="namespacecppgc.html#a4b906afac52d1ad451065c31124ec72a">WeakCallback</a> callback,</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                          <span class="keyword">const</span> <span class="keywordtype">void</span>* callback_data) {</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keywordflow">if</span> (!<span class="keywordtype">object</span>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    VisitWeakContainer(<span class="keywordtype">object</span>, <a class="code" href="structcppgc_1_1TraceTrait.html">TraceTrait&lt;T&gt;::GetTraceDescriptor</a>(<span class="keywordtype">object</span>),</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                       <a class="code" href="structcppgc_1_1TraceTrait.html">TraceTrait&lt;T&gt;::GetWeakTraceDescriptor</a>(<span class="keywordtype">object</span>), callback,</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                       callback_data);</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  }</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment">   * Registers a slot containing a reference to an object allocated on a</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment">   * compactable space. Such references maybe be arbitrarily moved by the GC.</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment">   * \param slot location of reference to object that might be moved by the GC.</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment">   * The slot must contain an uncompressed pointer.</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00336"></a><span class="lineno"><a class="line" href="classcppgc_1_1Visitor.html#aabacc12167e568aa12e66da9e94b21b5">  336</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1Visitor.html#aabacc12167e568aa12e66da9e94b21b5">RegisterMovableReference</a>(<span class="keyword">const</span> <a class="code" href="classT.html">T</a>** slot) {</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    static_assert(<a class="code" href="structcppgc_1_1internal_1_1IsAllocatedOnCompactableSpace.html">internal::IsAllocatedOnCompactableSpace&lt;T&gt;::value</a>,</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                  <span class="stringliteral">&quot;Only references to objects allocated on compactable spaces &quot;</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                  <span class="stringliteral">&quot;should be registered as movable slots.&quot;</span>);</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    static_assert(!IsGarbageCollectedMixinTypeV&lt;T&gt;,</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                  <span class="stringliteral">&quot;Mixin types do not support compaction.&quot;</span>);</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    HandleMovableReference(<span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">void</span>**<span class="keyword">&gt;</span>(slot));</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  }</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="comment">   * Registers a weak callback that is invoked during garbage collection.</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment">   * \param callback to be invoked.</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="comment">   * \param data custom data that is passed to the callback.</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00351"></a><span class="lineno"><a class="line" href="classcppgc_1_1Visitor.html#aa3e6189aff06c72e5558d0a59c731db3">  351</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1Visitor.html#aa3e6189aff06c72e5558d0a59c731db3">RegisterWeakCallback</a>(<a class="code" href="namespacecppgc.html#a4b906afac52d1ad451065c31124ec72a">WeakCallback</a> callback, <span class="keyword">const</span> <span class="keywordtype">void</span>* data) {}</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment">   * Defers tracing an object from a concurrent thread to the mutator thread.</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="comment">   * Should be called by Trace methods of types that are not safe to trace</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment">   * concurrently.</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment">   * \param parameter tells the trace callback which object was deferred.</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment">   * \param callback to be invoked for tracing on the mutator thread.</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment">   * \param deferred_size size of deferred object.</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment">   * \returns false if the object does not need to be deferred (i.e. currently</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment">   * traced on the mutator thread) and true otherwise (i.e. currently traced on</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment">   * a concurrent thread).</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00366"></a><span class="lineno"><a class="line" href="classcppgc_1_1Visitor.html#a6e6ca24a7426fbb081ce566a3961d773">  366</a></span>&#160;  <span class="keyword">virtual</span> <a class="code" href="v8config_8h.html#a63258e4bf5dc9fb8c78f881c8405d83b">V8_WARN_UNUSED_RESULT</a> <span class="keywordtype">bool</span> <a class="code" href="classcppgc_1_1Visitor.html#a6e6ca24a7426fbb081ce566a3961d773">DeferTraceToMutatorThreadIfConcurrent</a>(</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">void</span>* parameter, <a class="code" href="namespacecppgc.html#a2a25603865fe3e1dae520277aea8743b">TraceCallback</a> callback, <span class="keywordtype">size_t</span> deferred_size) {</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="comment">// By default tracing is not deferred.</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  }</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="comment">   * Checks whether the visitor is running concurrently to the mutator or not.</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00375"></a><span class="lineno"><a class="line" href="classcppgc_1_1Visitor.html#afa90edef1eea4c11911038992183c25d">  375</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classcppgc_1_1Visitor.html#afa90edef1eea4c11911038992183c25d">IsConcurrent</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160; </div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160; <span class="keyword">protected</span>:</div>
<div class="line"><a name="l00378"></a><span class="lineno"><a class="line" href="classcppgc_1_1Visitor.html#a523788a0bf2087bcdb889df58e365497">  378</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1Visitor.html#a523788a0bf2087bcdb889df58e365497">Visit</a>(<span class="keyword">const</span> <span class="keywordtype">void</span>* <span class="keyword">self</span>, <a class="code" href="structcppgc_1_1TraceDescriptor.html">TraceDescriptor</a>) {}</div>
<div class="line"><a name="l00379"></a><span class="lineno"><a class="line" href="classcppgc_1_1Visitor.html#aa56a3dc9beb66a1a88872bcad9cf6a66">  379</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1Visitor.html#aa56a3dc9beb66a1a88872bcad9cf6a66">VisitWeak</a>(<span class="keyword">const</span> <span class="keywordtype">void</span>* <span class="keyword">self</span>, <a class="code" href="structcppgc_1_1TraceDescriptor.html">TraceDescriptor</a>, <a class="code" href="namespacecppgc.html#a4b906afac52d1ad451065c31124ec72a">WeakCallback</a>,</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                         <span class="keyword">const</span> <span class="keywordtype">void</span>* weak_member) {}</div>
<div class="line"><a name="l00381"></a><span class="lineno"><a class="line" href="classcppgc_1_1Visitor.html#a554c3665b447600877ebee5183706237">  381</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1Visitor.html#a554c3665b447600877ebee5183706237">VisitEphemeron</a>(<span class="keyword">const</span> <span class="keywordtype">void</span>* <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>, <span class="keyword">const</span> <span class="keywordtype">void</span>* <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>,</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                              <a class="code" href="structcppgc_1_1TraceDescriptor.html">TraceDescriptor</a> value_desc) {}</div>
<div class="line"><a name="l00383"></a><span class="lineno"><a class="line" href="classcppgc_1_1Visitor.html#ac8d0c90793d6203587cdad49a52fbf33">  383</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1Visitor.html#ac8d0c90793d6203587cdad49a52fbf33">VisitWeakContainer</a>(<span class="keyword">const</span> <span class="keywordtype">void</span>* <span class="keyword">self</span>, <a class="code" href="structcppgc_1_1TraceDescriptor.html">TraceDescriptor</a> strong_desc,</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                                  <a class="code" href="structcppgc_1_1TraceDescriptor.html">TraceDescriptor</a> weak_desc,</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                                  <a class="code" href="namespacecppgc.html#a4b906afac52d1ad451065c31124ec72a">WeakCallback</a> callback, <span class="keyword">const</span> <span class="keywordtype">void</span>* data) {}</div>
<div class="line"><a name="l00386"></a><span class="lineno"><a class="line" href="classcppgc_1_1Visitor.html#ab185775d165470d73e548cde4eb42fab">  386</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1Visitor.html#ab185775d165470d73e548cde4eb42fab">HandleMovableReference</a>(<span class="keyword">const</span> <span class="keywordtype">void</span>**) {}</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160; </div>
<div class="line"><a name="l00388"></a><span class="lineno"><a class="line" href="classcppgc_1_1Visitor.html#ac22314ec63ddf64f374db8f0af4a0222">  388</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1Visitor.html#ac22314ec63ddf64f374db8f0af4a0222">VisitMultipleUncompressedMember</a>(</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">void</span>* start, <span class="keywordtype">size_t</span> len,</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      <a class="code" href="namespacecppgc.html#a3e010e27dd45d9b351ea276563630a1c">TraceDescriptorCallback</a> get_trace_descriptor) {</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="comment">// Default implementation merely delegates to Visit().</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>* it = <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(start);</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a> = it + len * <a class="code" href="namespacecppgc_1_1internal.html#a0f2d2627469a37960b9de03697cd9f24">internal::kSizeOfUncompressedMember</a>;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="keywordflow">for</span> (; it &lt; <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>; it += <a class="code" href="namespacecppgc_1_1internal.html#a0f2d2627469a37960b9de03697cd9f24">internal::kSizeOfUncompressedMember</a>) {</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span>* current = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="classcppgc_1_1internal_1_1RawPointer.html">internal::RawPointer</a>*<span class="keyword">&gt;</span>(it);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">void</span>* <span class="keywordtype">object</span> = current-&gt;<a class="code" href="classcppgc_1_1internal_1_1RawPointer.html#a1cef7a9305c719974e60ceb37e56c67f">LoadAtomic</a>();</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;      <span class="keywordflow">if</span> (!<span class="keywordtype">object</span>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160; </div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;      Visit(<span class="keywordtype">object</span>, get_trace_descriptor(<span class="keywordtype">object</span>));</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    }</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  }</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160; </div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="preprocessor">#if defined(CPPGC_POINTER_COMPRESSION)</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> VisitMultipleCompressedMember(</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">void</span>* start, <span class="keywordtype">size_t</span> len,</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      <a class="code" href="namespacecppgc.html#a3e010e27dd45d9b351ea276563630a1c">TraceDescriptorCallback</a> get_trace_descriptor) {</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="comment">// Default implementation merely delegates to Visit().</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>* it = <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(start);</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a> = it + len * internal::kSizeofCompressedMember;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="keywordflow">for</span> (; it &lt; <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>; it += internal::kSizeofCompressedMember) {</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span>* current =</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;          <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>internal::CompressedPointer*<span class="keyword">&gt;</span>(it);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">void</span>* <span class="keywordtype">object</span> = current-&gt;LoadAtomic();</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;      <span class="keywordflow">if</span> (!<span class="keywordtype">object</span>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160; </div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;      Visit(<span class="keywordtype">object</span>, get_trace_descriptor(<span class="keywordtype">object</span>));</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    }</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  }</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// defined(CPPGC_POINTER_COMPRESSION)</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160; </div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keywordtype">void</span> (T::*method)(const LivenessBroker&amp;)&gt;</div>
<div class="line"><a name="l00423"></a><span class="lineno"><a class="line" href="classcppgc_1_1Visitor.html#aa2599e989737c6d24776c497af3ba085">  423</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1Visitor.html#aa2599e989737c6d24776c497af3ba085">WeakCallbackMethodDelegate</a>(<span class="keyword">const</span> <a class="code" href="classcppgc_1_1LivenessBroker.html">LivenessBroker</a>&amp; info,</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                                         <span class="keyword">const</span> <span class="keywordtype">void</span>* <span class="keyword">self</span>) {</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="comment">// Callback is registered through a potential const Trace method but needs</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="comment">// to be able to modify fields. See HandleWeak.</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    (<span class="keyword">const_cast&lt;</span><a class="code" href="classT.html">T</a>*<span class="keyword">&gt;</span>(<span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classT.html">T</a>*<span class="keyword">&gt;</span>(<span class="keyword">self</span>))-&gt;*method)(info);</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  }</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160; </div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Po<span class="keywordtype">int</span>erType&gt;</div>
<div class="line"><a name="l00431"></a><span class="lineno"><a class="line" href="classcppgc_1_1Visitor.html#ad1ead241e7f1e83cf1899ccee037b519">  431</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1Visitor.html#ad1ead241e7f1e83cf1899ccee037b519">HandleWeak</a>(<span class="keyword">const</span> <a class="code" href="classcppgc_1_1LivenessBroker.html">LivenessBroker</a>&amp; info, <span class="keyword">const</span> <span class="keywordtype">void</span>* <span class="keywordtype">object</span>) {</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <span class="keyword">const</span> PointerType* weak = <span class="keyword">static_cast&lt;</span><span class="keyword">const </span>PointerType*<span class="keyword">&gt;</span>(object);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="keywordflow">if</span> (!info.<a class="code" href="classcppgc_1_1LivenessBroker.html#a064ad71393837112d380a15b26d4b166">IsHeapObjectAlive</a>(weak-&gt;GetFromGC())) {</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      weak-&gt;ClearFromGC();</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    }</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  }</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160; </div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00439"></a><span class="lineno"><a class="line" href="classcppgc_1_1Visitor.html#ab4fd9ffbeb4b5aa0b567433143ecfb74">  439</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1Visitor.html#ab4fd9ffbeb4b5aa0b567433143ecfb74">TraceImpl</a>(<span class="keyword">const</span> <a class="code" href="classT.html">T</a>* t) {</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    static_assert(<span class="keyword">sizeof</span>(<a class="code" href="classT.html">T</a>), <span class="stringliteral">&quot;Pointee type must be fully defined.&quot;</span>);</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    static_assert(<a class="code" href="structcppgc_1_1internal_1_1IsGarbageCollectedOrMixinType.html">internal::IsGarbageCollectedOrMixinType&lt;T&gt;::value</a>,</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                  <span class="stringliteral">&quot;T must be GarbageCollected or GarbageCollectedMixin type&quot;</span>);</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="keywordflow">if</span> (!t) {</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    }</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    Visit(t, <a class="code" href="structcppgc_1_1TraceTrait.html">TraceTrait&lt;T&gt;::GetTraceDescriptor</a>(t));</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  }</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160; </div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="preprocessor">#if V8_ENABLE_CHECKS</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  <span class="keywordtype">void</span> CheckObjectNotInConstruction(<span class="keyword">const</span> <span class="keywordtype">void</span>* address);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_CHECKS</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160; </div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> <a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>, <span class="keyword">typename</span> <a class="code" href="classWeaknessPolicy.html">WeaknessPolicy</a>, <span class="keyword">typename</span> <a class="code" href="classLocationPolicy.html">LocationPolicy</a>,</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;            <span class="keyword">typename</span> CheckingPolicy&gt;</div>
<div class="line"><a name="l00455"></a><span class="lineno"><a class="line" href="classcppgc_1_1Visitor.html#a660f203f68e1d12c08458030f7ad0e4c">  455</a></span>&#160;  <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classcppgc_1_1internal_1_1BasicCrossThreadPersistent.html">internal::BasicCrossThreadPersistent</a>;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> <a class="code" href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a>, <span class="keyword">typename</span> <a class="code" href="classWeaknessPolicy.html">WeaknessPolicy</a>, <span class="keyword">typename</span> <a class="code" href="classLocationPolicy.html">LocationPolicy</a>,</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;            <span class="keyword">typename</span> CheckingPolicy&gt;</div>
<div class="line"><a name="l00458"></a><span class="lineno"><a class="line" href="classcppgc_1_1Visitor.html#a9bf16975f6f7574096c11eef668faeb7">  458</a></span>&#160;  <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classcppgc_1_1internal_1_1BasicPersistent.html">internal::BasicPersistent</a>;</div>
<div class="line"><a name="l00459"></a><span class="lineno"><a class="line" href="classcppgc_1_1Visitor.html#a849780ac4821ed3a8a658c3dfb9986c0">  459</a></span>&#160;  <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classcppgc_1_1internal_1_1ConservativeTracingVisitor.html">internal::ConservativeTracingVisitor</a>;</div>
<div class="line"><a name="l00460"></a><span class="lineno"><a class="line" href="classcppgc_1_1Visitor.html#a635a4cc00a0322497c3c37019d644bd1">  460</a></span>&#160;  <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classcppgc_1_1internal_1_1VisitorBase.html">internal::VisitorBase</a>;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;};</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160; </div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> K, <span class="keyword">typename</span> V&gt;</div>
<div class="line"><a name="l00464"></a><span class="lineno"><a class="line" href="structcppgc_1_1EphemeronPair.html#aeb6c736b4eb5890f4ebb27df9d35318b">  464</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structcppgc_1_1EphemeronPair.html#aeb6c736b4eb5890f4ebb27df9d35318b">EphemeronPair&lt;K, V&gt;::Trace</a>(<a class="code" href="classcppgc_1_1Visitor.html">Visitor</a>* visitor)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  visitor-&gt;<a class="code" href="classcppgc_1_1Visitor.html#a348f7870d03fa9cc10224130aa4f315b">TraceEphemeron</a>(<a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;}</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160; </div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">internal</a> {</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160; </div>
<div class="line"><a name="l00470"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1RootVisitor.html">  470</a></span>&#160;<span class="keyword">class </span><a class="code" href="v8config_8h.html#a18b08424f4be6fab745092c7c5dad9f5">V8_EXPORT</a> <a class="code" href="classcppgc_1_1internal_1_1RootVisitor.html">RootVisitor</a> {</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00472"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1RootVisitor.html#a90d65b76dfdd54e200c1d71cb060e6d7">  472</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classcppgc_1_1internal_1_1RootVisitor.html#a90d65b76dfdd54e200c1d71cb060e6d7">RootVisitor</a>(<a class="code" href="classcppgc_1_1Visitor_1_1Key.html">Visitor::Key</a>) {}</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160; </div>
<div class="line"><a name="l00474"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1RootVisitor.html#a54c3985ada711e6f6497ad5db4819142">  474</a></span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classcppgc_1_1internal_1_1RootVisitor.html#a54c3985ada711e6f6497ad5db4819142">~RootVisitor</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160; </div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> AnyStrongPersistentType,</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;            std::enable_if_t&lt;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">AnyStrongPersistentType::IsStrongPersistent::value</a>&gt;* = <span class="keyword">nullptr</span>&gt;</div>
<div class="line"><a name="l00479"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1RootVisitor.html#ae21206c7fdad364f30586e824f1fbc51">  479</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1RootVisitor.html#ae21206c7fdad364f30586e824f1fbc51">Trace</a>(<span class="keyword">const</span> AnyStrongPersistentType&amp; p) {</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="keyword">using</span> PointeeType = <span class="keyword">typename</span> AnyStrongPersistentType::PointeeType;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">void</span>* <span class="keywordtype">object</span> = Extract(p);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <span class="keywordflow">if</span> (!<span class="keywordtype">object</span>) {</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    }</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    VisitRoot(<span class="keywordtype">object</span>, <a class="code" href="structcppgc_1_1TraceTrait.html">TraceTrait&lt;PointeeType&gt;::GetTraceDescriptor</a>(<span class="keywordtype">object</span>),</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;              p.Location());</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  }</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160; </div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> AnyWeakPersistentType,</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;            std::enable_if_t&lt;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                !<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">AnyWeakPersistentType::IsStrongPersistent::value</a>&gt;* = <span class="keyword">nullptr</span>&gt;</div>
<div class="line"><a name="l00492"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1RootVisitor.html#ac488ceea4ae655432bed4c6075bca2d2">  492</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1RootVisitor.html#ac488ceea4ae655432bed4c6075bca2d2">Trace</a>(<span class="keyword">const</span> AnyWeakPersistentType&amp; p) {</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="keyword">using</span> PointeeType = <span class="keyword">typename</span> AnyWeakPersistentType::PointeeType;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    static_assert(!<a class="code" href="structcppgc_1_1internal_1_1IsAllocatedOnCompactableSpace.html">internal::IsAllocatedOnCompactableSpace&lt;PointeeType&gt;::value</a>,</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                  <span class="stringliteral">&quot;Weak references to compactable objects are not allowed&quot;</span>);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">void</span>* <span class="keywordtype">object</span> = Extract(p);</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <span class="keywordflow">if</span> (!<span class="keywordtype">object</span>) {</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    }</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    VisitWeakRoot(<span class="keywordtype">object</span>, <a class="code" href="structcppgc_1_1TraceTrait.html">TraceTrait&lt;PointeeType&gt;::GetTraceDescriptor</a>(<span class="keywordtype">object</span>),</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                  &amp;HandleWeak&lt;AnyWeakPersistentType&gt;, &amp;p, p.Location());</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  }</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160; </div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160; <span class="keyword">protected</span>:</div>
<div class="line"><a name="l00505"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1RootVisitor.html#a5029601b4105b3694d62fb21ddbd6f56">  505</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1RootVisitor.html#a5029601b4105b3694d62fb21ddbd6f56">VisitRoot</a>(<span class="keyword">const</span> <span class="keywordtype">void</span>*, <a class="code" href="structcppgc_1_1TraceDescriptor.html">TraceDescriptor</a>, <span class="keyword">const</span> <a class="code" href="classv8_1_1SourceLocation.html">SourceLocation</a>&amp;) {}</div>
<div class="line"><a name="l00506"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1RootVisitor.html#aabf0fc91322fdb2a838cafd6b3b7d863">  506</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1RootVisitor.html#aabf0fc91322fdb2a838cafd6b3b7d863">VisitWeakRoot</a>(<span class="keyword">const</span> <span class="keywordtype">void</span>* <span class="keyword">self</span>, <a class="code" href="structcppgc_1_1TraceDescriptor.html">TraceDescriptor</a>, <a class="code" href="namespacecppgc.html#a4b906afac52d1ad451065c31124ec72a">WeakCallback</a>,</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                             <span class="keyword">const</span> <span class="keywordtype">void</span>* weak_root, <span class="keyword">const</span> <a class="code" href="classv8_1_1SourceLocation.html">SourceLocation</a>&amp;) {}</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160; </div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> AnyPersistentType&gt;</div>
<div class="line"><a name="l00511"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1RootVisitor.html#afba0e463129e43d9bc663cca8fa3cb48">  511</a></span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">void</span>* <a class="code" href="classcppgc_1_1internal_1_1RootVisitor.html#afba0e463129e43d9bc663cca8fa3cb48">Extract</a>(AnyPersistentType&amp; p) {</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <span class="keyword">using</span> PointeeType = <span class="keyword">typename</span> AnyPersistentType::PointeeType;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    static_assert(<span class="keyword">sizeof</span>(PointeeType),</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                  <span class="stringliteral">&quot;Persistent&#39;s pointee type must be fully defined&quot;</span>);</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    static_assert(<a class="code" href="structcppgc_1_1internal_1_1IsGarbageCollectedOrMixinType.html">internal::IsGarbageCollectedOrMixinType&lt;PointeeType&gt;::value</a>,</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                  <span class="stringliteral">&quot;Persistent&#39;s pointee type must be GarbageCollected or &quot;</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                  <span class="stringliteral">&quot;GarbageCollectedMixin&quot;</span>);</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <span class="keywordflow">return</span> p.GetFromGC();</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  }</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160; </div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Po<span class="keywordtype">int</span>erType&gt;</div>
<div class="line"><a name="l00522"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1RootVisitor.html#a25504d4953af8c0406c57a17562824a7">  522</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1RootVisitor.html#a25504d4953af8c0406c57a17562824a7">HandleWeak</a>(<span class="keyword">const</span> <a class="code" href="classcppgc_1_1LivenessBroker.html">LivenessBroker</a>&amp; info, <span class="keyword">const</span> <span class="keywordtype">void</span>* <span class="keywordtype">object</span>) {</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <span class="keyword">const</span> PointerType* weak = <span class="keyword">static_cast&lt;</span><span class="keyword">const </span>PointerType*<span class="keyword">&gt;</span>(object);</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="keywordflow">if</span> (!info.<a class="code" href="classcppgc_1_1LivenessBroker.html#a064ad71393837112d380a15b26d4b166">IsHeapObjectAlive</a>(weak-&gt;GetFromGC())) {</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;      weak-&gt;ClearFromGC();</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    }</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  }</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;};</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160; </div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;}  <span class="comment">// namespace internal</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;}  <span class="comment">// namespace cppgc</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160; </div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// INCLUDE_CPPGC_VISITOR_H_</span></div>
<div class="ttc" id="abase_2ieee754_8cc_html_a0acb682b8260ab1c60b918599864e2e5"><div class="ttname"><a href="base_2ieee754_8cc.html#a0acb682b8260ab1c60b918599864e2e5">T</a></div><div class="ttdeci">#define T</div></div>
<div class="ttc" id="aclassLocationPolicy_html"><div class="ttname"><a href="classLocationPolicy.html">LocationPolicy</a></div></div>
<div class="ttc" id="aclassT_html"><div class="ttname"><a href="classT.html">T</a></div></div>
<div class="ttc" id="aclassWeaknessPolicy_html"><div class="ttname"><a href="classWeaknessPolicy.html">WeaknessPolicy</a></div></div>
<div class="ttc" id="aclasscppgc_1_1LivenessBroker_html"><div class="ttname"><a href="classcppgc_1_1LivenessBroker.html">cppgc::LivenessBroker</a></div><div class="ttdoc">The broker is passed to weak callbacks to allow (temporarily) querying the liveness state of an objec...</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2liveness-broker_8h_source.html#l00044">liveness-broker.h:44</a></div></div>
<div class="ttc" id="aclasscppgc_1_1LivenessBroker_html_a064ad71393837112d380a15b26d4b166"><div class="ttname"><a href="classcppgc_1_1LivenessBroker.html#a064ad71393837112d380a15b26d4b166">cppgc::LivenessBroker::IsHeapObjectAlive</a></div><div class="ttdeci">bool IsHeapObjectAlive(const T *object) const</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2liveness-broker_8h_source.html#l00047">liveness-broker.h:47</a></div></div>
<div class="ttc" id="aclasscppgc_1_1Visitor_1_1Key_html"><div class="ttname"><a href="classcppgc_1_1Visitor_1_1Key.html">cppgc::Visitor::Key</a></div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2visitor_8h_source.html#l00077">visitor.h:77</a></div></div>
<div class="ttc" id="aclasscppgc_1_1Visitor_1_1Key_html_a2e39a7e43709a3856fee23c8fc9182f8"><div class="ttname"><a href="classcppgc_1_1Visitor_1_1Key.html#a2e39a7e43709a3856fee23c8fc9182f8">cppgc::Visitor::Key::Key</a></div><div class="ttdeci">Key()=default</div></div>
<div class="ttc" id="aclasscppgc_1_1Visitor_html"><div class="ttname"><a href="classcppgc_1_1Visitor.html">cppgc::Visitor</a></div><div class="ttdoc">Visitor passed to trace methods.</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2visitor_8h_source.html#l00075">visitor.h:75</a></div></div>
<div class="ttc" id="aclasscppgc_1_1Visitor_html_a24be0e98d3695de6c0f3d5b12188367d"><div class="ttname"><a href="classcppgc_1_1Visitor.html#a24be0e98d3695de6c0f3d5b12188367d">cppgc::Visitor::Trace</a></div><div class="ttdeci">void Trace(const Member&lt; T &gt; &amp;member)</div><div class="ttdoc">Trace method for Member.</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2visitor_8h_source.html#l00093">visitor.h:93</a></div></div>
<div class="ttc" id="aclasscppgc_1_1Visitor_html_a29024a1d35f06d9c5edae52736de4da8"><div class="ttname"><a href="classcppgc_1_1Visitor.html#a29024a1d35f06d9c5edae52736de4da8">cppgc::Visitor::TraceWeakContainer</a></div><div class="ttdeci">void TraceWeakContainer(const T *object, WeakCallback callback, const void *callback_data)</div><div class="ttdoc">Trace method for retaining containers weakly.</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2visitor_8h_source.html#l00320">visitor.h:320</a></div></div>
<div class="ttc" id="aclasscppgc_1_1Visitor_html_a348f7870d03fa9cc10224130aa4f315b"><div class="ttname"><a href="classcppgc_1_1Visitor.html#a348f7870d03fa9cc10224130aa4f315b">cppgc::Visitor::TraceEphemeron</a></div><div class="ttdeci">void TraceEphemeron(const WeakMember&lt; KeyType &gt; &amp;weak_member_key, const Member&lt; ValueType &gt; *member_value)</div><div class="ttdoc">Trace method for a single ephemeron.</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2visitor_8h_source.html#l00233">visitor.h:233</a></div></div>
<div class="ttc" id="aclasscppgc_1_1Visitor_html_a3c59f37f4fc2c308c84e999eff0037d3"><div class="ttname"><a href="classcppgc_1_1Visitor.html#a3c59f37f4fc2c308c84e999eff0037d3">cppgc::Visitor::TraceEphemeron</a></div><div class="ttdeci">void TraceEphemeron(const WeakMember&lt; KeyType &gt; &amp;weak_member_key, const ValueType *value)</div><div class="ttdoc">Trace method for a single ephemeron.</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2visitor_8h_source.html#l00266">visitor.h:266</a></div></div>
<div class="ttc" id="aclasscppgc_1_1Visitor_html_a401349d23255d765a59e400375e40b9a"><div class="ttname"><a href="classcppgc_1_1Visitor.html#a401349d23255d765a59e400375e40b9a">cppgc::Visitor::TraceMultiple</a></div><div class="ttdeci">void TraceMultiple(const Member&lt; T &gt; *start, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2visitor_8h_source.html#l00150">visitor.h:150</a></div></div>
<div class="ttc" id="aclasscppgc_1_1Visitor_html_a523788a0bf2087bcdb889df58e365497"><div class="ttname"><a href="classcppgc_1_1Visitor.html#a523788a0bf2087bcdb889df58e365497">cppgc::Visitor::Visit</a></div><div class="ttdeci">virtual void Visit(const void *self, TraceDescriptor)</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2visitor_8h_source.html#l00378">visitor.h:378</a></div></div>
<div class="ttc" id="aclasscppgc_1_1Visitor_html_a554c3665b447600877ebee5183706237"><div class="ttname"><a href="classcppgc_1_1Visitor.html#a554c3665b447600877ebee5183706237">cppgc::Visitor::VisitEphemeron</a></div><div class="ttdeci">virtual void VisitEphemeron(const void *key, const void *value, TraceDescriptor value_desc)</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2visitor_8h_source.html#l00381">visitor.h:381</a></div></div>
<div class="ttc" id="aclasscppgc_1_1Visitor_html_a6e6ca24a7426fbb081ce566a3961d773"><div class="ttname"><a href="classcppgc_1_1Visitor.html#a6e6ca24a7426fbb081ce566a3961d773">cppgc::Visitor::DeferTraceToMutatorThreadIfConcurrent</a></div><div class="ttdeci">virtual V8_WARN_UNUSED_RESULT bool DeferTraceToMutatorThreadIfConcurrent(const void *parameter, TraceCallback callback, size_t deferred_size)</div><div class="ttdoc">Defers tracing an object from a concurrent thread to the mutator thread.</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2visitor_8h_source.html#l00366">visitor.h:366</a></div></div>
<div class="ttc" id="aclasscppgc_1_1Visitor_html_a83e810379a6baf5fa4aef855f1536efc"><div class="ttname"><a href="classcppgc_1_1Visitor.html#a83e810379a6baf5fa4aef855f1536efc">cppgc::Visitor::Trace</a></div><div class="ttdeci">void Trace(const T &amp;object)</div><div class="ttdoc">Trace method for inlined objects that are not allocated themselves but otherwise follow managed heap ...</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2visitor_8h_source.html#l00169">visitor.h:169</a></div></div>
<div class="ttc" id="aclasscppgc_1_1Visitor_html_a980ea85f423dfb9781e173210e403eb7"><div class="ttname"><a href="classcppgc_1_1Visitor.html#a980ea85f423dfb9781e173210e403eb7">cppgc::Visitor::TraceStrongly</a></div><div class="ttdeci">void TraceStrongly(const WeakMember&lt; T &gt; &amp;weak_member)</div><div class="ttdoc">Trace method that strongifies a WeakMember.</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2visitor_8h_source.html#l00295">visitor.h:295</a></div></div>
<div class="ttc" id="aclasscppgc_1_1Visitor_html_aa2599e989737c6d24776c497af3ba085"><div class="ttname"><a href="classcppgc_1_1Visitor.html#aa2599e989737c6d24776c497af3ba085">cppgc::Visitor::WeakCallbackMethodDelegate</a></div><div class="ttdeci">static void WeakCallbackMethodDelegate(const LivenessBroker &amp;info, const void *self)</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2visitor_8h_source.html#l00423">visitor.h:423</a></div></div>
<div class="ttc" id="aclasscppgc_1_1Visitor_html_aa3e6189aff06c72e5558d0a59c731db3"><div class="ttname"><a href="classcppgc_1_1Visitor.html#aa3e6189aff06c72e5558d0a59c731db3">cppgc::Visitor::RegisterWeakCallback</a></div><div class="ttdeci">virtual void RegisterWeakCallback(WeakCallback callback, const void *data)</div><div class="ttdoc">Registers a weak callback that is invoked during garbage collection.</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2visitor_8h_source.html#l00351">visitor.h:351</a></div></div>
<div class="ttc" id="aclasscppgc_1_1Visitor_html_aa56a3dc9beb66a1a88872bcad9cf6a66"><div class="ttname"><a href="classcppgc_1_1Visitor.html#aa56a3dc9beb66a1a88872bcad9cf6a66">cppgc::Visitor::VisitWeak</a></div><div class="ttdeci">virtual void VisitWeak(const void *self, TraceDescriptor, WeakCallback, const void *weak_member)</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2visitor_8h_source.html#l00379">visitor.h:379</a></div></div>
<div class="ttc" id="aclasscppgc_1_1Visitor_html_aabacc12167e568aa12e66da9e94b21b5"><div class="ttname"><a href="classcppgc_1_1Visitor.html#aabacc12167e568aa12e66da9e94b21b5">cppgc::Visitor::RegisterMovableReference</a></div><div class="ttdeci">void RegisterMovableReference(const T **slot)</div><div class="ttdoc">Registers a slot containing a reference to an object allocated on a compactable space.</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2visitor_8h_source.html#l00336">visitor.h:336</a></div></div>
<div class="ttc" id="aclasscppgc_1_1Visitor_html_ab185775d165470d73e548cde4eb42fab"><div class="ttname"><a href="classcppgc_1_1Visitor.html#ab185775d165470d73e548cde4eb42fab">cppgc::Visitor::HandleMovableReference</a></div><div class="ttdeci">virtual void HandleMovableReference(const void **)</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2visitor_8h_source.html#l00386">visitor.h:386</a></div></div>
<div class="ttc" id="aclasscppgc_1_1Visitor_html_ab4fd9ffbeb4b5aa0b567433143ecfb74"><div class="ttname"><a href="classcppgc_1_1Visitor.html#ab4fd9ffbeb4b5aa0b567433143ecfb74">cppgc::Visitor::TraceImpl</a></div><div class="ttdeci">void TraceImpl(const T *t)</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2visitor_8h_source.html#l00439">visitor.h:439</a></div></div>
<div class="ttc" id="aclasscppgc_1_1Visitor_html_ac22314ec63ddf64f374db8f0af4a0222"><div class="ttname"><a href="classcppgc_1_1Visitor.html#ac22314ec63ddf64f374db8f0af4a0222">cppgc::Visitor::VisitMultipleUncompressedMember</a></div><div class="ttdeci">virtual void VisitMultipleUncompressedMember(const void *start, size_t len, TraceDescriptorCallback get_trace_descriptor)</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2visitor_8h_source.html#l00388">visitor.h:388</a></div></div>
<div class="ttc" id="aclasscppgc_1_1Visitor_html_ac8d0c90793d6203587cdad49a52fbf33"><div class="ttname"><a href="classcppgc_1_1Visitor.html#ac8d0c90793d6203587cdad49a52fbf33">cppgc::Visitor::VisitWeakContainer</a></div><div class="ttdeci">virtual void VisitWeakContainer(const void *self, TraceDescriptor strong_desc, TraceDescriptor weak_desc, WeakCallback callback, const void *data)</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2visitor_8h_source.html#l00383">visitor.h:383</a></div></div>
<div class="ttc" id="aclasscppgc_1_1Visitor_html_aca4a9a8bf3f6ac3391591f6270040af7"><div class="ttname"><a href="classcppgc_1_1Visitor.html#aca4a9a8bf3f6ac3391591f6270040af7">cppgc::Visitor::TraceMultiple</a></div><div class="ttdeci">void TraceMultiple(const T *start, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2visitor_8h_source.html#l00181">visitor.h:181</a></div></div>
<div class="ttc" id="aclasscppgc_1_1Visitor_html_ad1ead241e7f1e83cf1899ccee037b519"><div class="ttname"><a href="classcppgc_1_1Visitor.html#ad1ead241e7f1e83cf1899ccee037b519">cppgc::Visitor::HandleWeak</a></div><div class="ttdeci">static void HandleWeak(const LivenessBroker &amp;info, const void *object)</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2visitor_8h_source.html#l00431">visitor.h:431</a></div></div>
<div class="ttc" id="aclasscppgc_1_1Visitor_html_ae2d6e396bdd0a53698c904b0278d0934"><div class="ttname"><a href="classcppgc_1_1Visitor.html#ae2d6e396bdd0a53698c904b0278d0934">cppgc::Visitor::RegisterWeakCallbackMethod</a></div><div class="ttdeci">void RegisterWeakCallbackMethod(const T *object)</div><div class="ttdoc">Registers a weak callback method on the object of type T.</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2visitor_8h_source.html#l00207">visitor.h:207</a></div></div>
<div class="ttc" id="aclasscppgc_1_1Visitor_html_ae6036d6df7c5d3a330696e088acd0058"><div class="ttname"><a href="classcppgc_1_1Visitor.html#ae6036d6df7c5d3a330696e088acd0058">cppgc::Visitor::TraceStrongContainer</a></div><div class="ttdeci">void TraceStrongContainer(const T *object)</div><div class="ttdoc">Trace method for retaining containers strongly.</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2visitor_8h_source.html#l00307">visitor.h:307</a></div></div>
<div class="ttc" id="aclasscppgc_1_1Visitor_html_af20f49fe32cc91c13ec7b1cd2af0e80a"><div class="ttname"><a href="classcppgc_1_1Visitor.html#af20f49fe32cc91c13ec7b1cd2af0e80a">cppgc::Visitor::Trace</a></div><div class="ttdeci">void Trace(const WeakMember&lt; T &gt; &amp;weak_member)</div><div class="ttdoc">Trace method for WeakMember.</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2visitor_8h_source.html#l00105">visitor.h:105</a></div></div>
<div class="ttc" id="aclasscppgc_1_1Visitor_html_af6c4c4e5799d5d3b1e91c945c3cf89c9"><div class="ttname"><a href="classcppgc_1_1Visitor.html#af6c4c4e5799d5d3b1e91c945c3cf89c9">cppgc::Visitor::Trace</a></div><div class="ttdeci">void Trace(const EphemeronPair&lt; K, V &gt; &amp;ephemeron_pair)</div><div class="ttdoc">Trace method for EphemeronPair.</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2visitor_8h_source.html#l00218">visitor.h:218</a></div></div>
<div class="ttc" id="aclasscppgc_1_1Visitor_html_af976de8e5d679f9c0ba22ba66e1916bc"><div class="ttname"><a href="classcppgc_1_1Visitor.html#af976de8e5d679f9c0ba22ba66e1916bc">cppgc::Visitor::Visitor</a></div><div class="ttdeci">Visitor(Key)</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2visitor_8h_source.html#l00083">visitor.h:83</a></div></div>
<div class="ttc" id="aclasscppgc_1_1Visitor_html_af993184fb3886d8d86bd40780d148d61"><div class="ttname"><a href="classcppgc_1_1Visitor.html#af993184fb3886d8d86bd40780d148d61">cppgc::Visitor::~Visitor</a></div><div class="ttdeci">virtual ~Visitor()=default</div></div>
<div class="ttc" id="aclasscppgc_1_1Visitor_html_afa90edef1eea4c11911038992183c25d"><div class="ttname"><a href="classcppgc_1_1Visitor.html#afa90edef1eea4c11911038992183c25d">cppgc::Visitor::IsConcurrent</a></div><div class="ttdeci">virtual bool IsConcurrent() const</div><div class="ttdoc">Checks whether the visitor is running concurrently to the mutator or not.</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2visitor_8h_source.html#l00375">visitor.h:375</a></div></div>
<div class="ttc" id="aclasscppgc_1_1Visitor_html_afb04f1094be378fed450a398870f01ea"><div class="ttname"><a href="classcppgc_1_1Visitor.html#afb04f1094be378fed450a398870f01ea">cppgc::Visitor::TraceMultiple</a></div><div class="ttdeci">void TraceMultiple(const subtle::UncompressedMember&lt; T &gt; *start, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2visitor_8h_source.html#l00139">visitor.h:139</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicCrossThreadPersistent_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicCrossThreadPersistent.html">cppgc::internal::BasicCrossThreadPersistent</a></div><div class="ttdef"><b>Definition:</b> <a href="cross-thread-persistent_8h_source.html#l00071">cross-thread-persistent.h:74</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicMember_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicMember.html">cppgc::internal::BasicMember</a></div><div class="ttdef"><b>Definition:</b> <a href="member_8h_source.html#l00078">member.h:79</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicMember_html_a4bca495c12f4702717a1839f2480a3eb"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicMember.html#a4bca495c12f4702717a1839f2480a3eb">cppgc::internal::BasicMember::GetAtomic</a></div><div class="ttdeci">const T * GetAtomic() const</div><div class="ttdef"><b>Definition:</b> <a href="member_8h_source.html#l00303">member.h:303</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasicPersistent_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasicPersistent.html">cppgc::internal::BasicPersistent</a></div><div class="ttdef"><b>Definition:</b> <a href="persistent_8h_source.html#l00051">persistent.h:54</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1ConservativeTracingVisitor_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1ConservativeTracingVisitor.html">cppgc::internal::ConservativeTracingVisitor</a></div><div class="ttdef"><b>Definition:</b> <a href="src_2heap_2cppgc_2visitor_8h_source.html#l00049">visitor.h:49</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1RawPointer_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1RawPointer.html">cppgc::internal::RawPointer</a></div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2internal_2member-storage_8h_source.html#l00228">member-storage.h:228</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1RawPointer_html_a1cef7a9305c719974e60ceb37e56c67f"><div class="ttname"><a href="classcppgc_1_1internal_1_1RawPointer.html#a1cef7a9305c719974e60ceb37e56c67f">cppgc::internal::RawPointer::LoadAtomic</a></div><div class="ttdeci">const void * LoadAtomic() const</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2internal_2member-storage_8h_source.html#l00243">member-storage.h:243</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1RootVisitor_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1RootVisitor.html">cppgc::internal::RootVisitor</a></div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2visitor_8h_source.html#l00470">visitor.h:470</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1RootVisitor_html_a25504d4953af8c0406c57a17562824a7"><div class="ttname"><a href="classcppgc_1_1internal_1_1RootVisitor.html#a25504d4953af8c0406c57a17562824a7">cppgc::internal::RootVisitor::HandleWeak</a></div><div class="ttdeci">static void HandleWeak(const LivenessBroker &amp;info, const void *object)</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2visitor_8h_source.html#l00522">visitor.h:522</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1RootVisitor_html_a5029601b4105b3694d62fb21ddbd6f56"><div class="ttname"><a href="classcppgc_1_1internal_1_1RootVisitor.html#a5029601b4105b3694d62fb21ddbd6f56">cppgc::internal::RootVisitor::VisitRoot</a></div><div class="ttdeci">virtual void VisitRoot(const void *, TraceDescriptor, const SourceLocation &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2visitor_8h_source.html#l00505">visitor.h:505</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1RootVisitor_html_a54c3985ada711e6f6497ad5db4819142"><div class="ttname"><a href="classcppgc_1_1internal_1_1RootVisitor.html#a54c3985ada711e6f6497ad5db4819142">cppgc::internal::RootVisitor::~RootVisitor</a></div><div class="ttdeci">virtual ~RootVisitor()=default</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1RootVisitor_html_a90d65b76dfdd54e200c1d71cb060e6d7"><div class="ttname"><a href="classcppgc_1_1internal_1_1RootVisitor.html#a90d65b76dfdd54e200c1d71cb060e6d7">cppgc::internal::RootVisitor::RootVisitor</a></div><div class="ttdeci">RootVisitor(Visitor::Key)</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2visitor_8h_source.html#l00472">visitor.h:472</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1RootVisitor_html_aabf0fc91322fdb2a838cafd6b3b7d863"><div class="ttname"><a href="classcppgc_1_1internal_1_1RootVisitor.html#aabf0fc91322fdb2a838cafd6b3b7d863">cppgc::internal::RootVisitor::VisitWeakRoot</a></div><div class="ttdeci">virtual void VisitWeakRoot(const void *self, TraceDescriptor, WeakCallback, const void *weak_root, const SourceLocation &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2visitor_8h_source.html#l00506">visitor.h:506</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1RootVisitor_html_ac488ceea4ae655432bed4c6075bca2d2"><div class="ttname"><a href="classcppgc_1_1internal_1_1RootVisitor.html#ac488ceea4ae655432bed4c6075bca2d2">cppgc::internal::RootVisitor::Trace</a></div><div class="ttdeci">void Trace(const AnyWeakPersistentType &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2visitor_8h_source.html#l00492">visitor.h:492</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1RootVisitor_html_ae21206c7fdad364f30586e824f1fbc51"><div class="ttname"><a href="classcppgc_1_1internal_1_1RootVisitor.html#ae21206c7fdad364f30586e824f1fbc51">cppgc::internal::RootVisitor::Trace</a></div><div class="ttdeci">void Trace(const AnyStrongPersistentType &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2visitor_8h_source.html#l00479">visitor.h:479</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1RootVisitor_html_afba0e463129e43d9bc663cca8fa3cb48"><div class="ttname"><a href="classcppgc_1_1internal_1_1RootVisitor.html#afba0e463129e43d9bc663cca8fa3cb48">cppgc::internal::RootVisitor::Extract</a></div><div class="ttdeci">static const void * Extract(AnyPersistentType &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2visitor_8h_source.html#l00511">visitor.h:511</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1VisitorBase_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1VisitorBase.html">cppgc::internal::VisitorBase</a></div><div class="ttdef"><b>Definition:</b> <a href="src_2heap_2cppgc_2visitor_8h_source.html#l00025">visitor.h:25</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1VisitorFactory_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1VisitorFactory.html">cppgc::internal::VisitorFactory</a></div><div class="ttdef"><b>Definition:</b> <a href="src_2heap_2cppgc_2visitor_8h_source.html#l00018">visitor.h:18</a></div></div>
<div class="ttc" id="aclassuintptr__t_html"><div class="ttname"><a href="classuintptr__t.html">uintptr_t</a></div></div>
<div class="ttc" id="aclassv8_1_1SourceLocation_html"><div class="ttname"><a href="classv8_1_1SourceLocation.html">v8::SourceLocation</a></div><div class="ttdoc">Encapsulates source location information.</div><div class="ttdef"><b>Definition:</b> <a href="v8-source-location_8h_source.html#l00031">v8-source-location.h:31</a></div></div>
<div class="ttc" id="acustom-space_8h_html"><div class="ttname"><a href="custom-space_8h.html">custom-space.h</a></div></div>
<div class="ttc" id="aflag-definitions_8h_html_a1e4d6c2aea5c663dda8b8fca8b9199a5"><div class="ttname"><a href="flag-definitions_8h.html#a1e4d6c2aea5c663dda8b8fca8b9199a5">broker</a></div><div class="ttdeci">other heap size generate builtins concurrently on separate threads in mksnapshot track concurrent recompilation artificial compilation delay in ms max number of threads that concurrent Turbofan can create additional concurrent optimization jobs but throw away result whether maglev resets the interrupt budget whether maglev resets the OSR interrupt budget create additional concurrent optimization jobs maximum levels for nesting child serializers trace the heap broker(reports on missing data only)&quot;)  DEFINE_INT(deopt_every_n_times</div></div>
<div class="ttc" id="agarbage-collected_8h_html"><div class="ttname"><a href="garbage-collected_8h.html">garbage-collected.h</a></div></div>
<div class="ttc" id="ainclude_2cppgc_2internal_2logging_8h_html"><div class="ttname"><a href="include_2cppgc_2internal_2logging_8h.html">logging.h</a></div></div>
<div class="ttc" id="ainclude_2cppgc_2internal_2logging_8h_html_a1a401f1808908497eb688e1142f70deb"><div class="ttname"><a href="include_2cppgc_2internal_2logging_8h.html#a1a401f1808908497eb688e1142f70deb">CPPGC_DCHECK</a></div><div class="ttdeci">#define CPPGC_DCHECK(condition)</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2internal_2logging_8h_source.html#l00036">logging.h:36</a></div></div>
<div class="ttc" id="ainclude_2cppgc_2internal_2member-storage_8h_html"><div class="ttname"><a href="include_2cppgc_2internal_2member-storage_8h.html">member-storage.h</a></div></div>
<div class="ttc" id="ainclude_2cppgc_2macros_8h_html"><div class="ttname"><a href="include_2cppgc_2macros_8h.html">macros.h</a></div></div>
<div class="ttc" id="amember_8h_html"><div class="ttname"><a href="member_8h.html">member.h</a></div></div>
<div class="ttc" id="anamespacecppgc_1_1internal_html_a0f2d2627469a37960b9de03697cd9f24"><div class="ttname"><a href="namespacecppgc_1_1internal.html#a0f2d2627469a37960b9de03697cd9f24">cppgc::internal::kSizeOfUncompressedMember</a></div><div class="ttdeci">static constexpr size_t kSizeOfUncompressedMember</div><div class="ttdef"><b>Definition:</b> <a href="member_8h_source.html#l00627">member.h:627</a></div></div>
<div class="ttc" id="anamespacecppgc_html"><div class="ttname"><a href="namespacecppgc.html">cppgc</a></div><div class="ttdoc">cppgc - A C++ garbage collection library.</div><div class="ttdef"><b>Definition:</b> <a href="heap_2cppgc_2allocation_8cc_source.html#l00018">allocation.cc:18</a></div></div>
<div class="ttc" id="anamespacecppgc_html_a2a25603865fe3e1dae520277aea8743b"><div class="ttname"><a href="namespacecppgc.html#a2a25603865fe3e1dae520277aea8743b">cppgc::TraceCallback</a></div><div class="ttdeci">void(*)(Visitor *visitor, const void *object) TraceCallback</div><div class="ttdoc">Callback for invoking tracing on a given object.</div><div class="ttdef"><b>Definition:</b> <a href="trace-trait_8h_source.html#l00037">trace-trait.h:37</a></div></div>
<div class="ttc" id="anamespacecppgc_html_a3e010e27dd45d9b351ea276563630a1c"><div class="ttname"><a href="namespacecppgc.html#a3e010e27dd45d9b351ea276563630a1c">cppgc::TraceDescriptorCallback</a></div><div class="ttdeci">TraceDescriptor(*)(const void *address) TraceDescriptorCallback</div><div class="ttdoc">Callback for getting a TraceDescriptor for a given address.</div><div class="ttdef"><b>Definition:</b> <a href="trace-trait_8h_source.html#l00061">trace-trait.h:61</a></div></div>
<div class="ttc" id="anamespacecppgc_html_a4b906afac52d1ad451065c31124ec72a"><div class="ttname"><a href="namespacecppgc.html#a4b906afac52d1ad451065c31124ec72a">cppgc::WeakCallback</a></div><div class="ttdeci">void(*)(const LivenessBroker &amp;, const void *) WeakCallback</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2visitor_8h_source.html#l00037">visitor.h:37</a></div></div>
<div class="ttc" id="anamespacecppgc_html_a6ed40538a8d2b6b06da04df5de1f8786"><div class="ttname"><a href="namespacecppgc.html#a6ed40538a8d2b6b06da04df5de1f8786">cppgc::kSentinelPointer</a></div><div class="ttdeci">constexpr internal::SentinelPointer kSentinelPointer</div><div class="ttdef"><b>Definition:</b> <a href="sentinel-pointer_8h_source.html#l00035">sentinel-pointer.h:35</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02ic_8cc_03_html_a4631bacb0230cb3812dd449094232bc8"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02ic_8cc_03.html#a4631bacb0230cb3812dd449094232bc8">v8::internal::anonymous_namespace{ic.cc}::KeyType</a></div><div class="ttdeci">KeyType</div><div class="ttdef"><b>Definition:</b> <a href="ic_8cc_source.html#l01494">ic.cc:1494</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_html_ad86b3cf21e19e97ce484f32b894d548c"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">v8::internal::anonymous_namespace{json-stringifier.cc}::i</a></div><div class="ttdeci">size_t i</div><div class="ttdef"><b>Definition:</b> <a href="json-stringifier_8cc_source.html#l00548">json-stringifier.cc:548</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_html_a51dcb90ae077172b12d63271c7e7ba0c"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">v8::internal::compiler::end</a></div><div class="ttdeci">Node::Uses::const_iterator end(const Node::Uses &amp;uses)</div><div class="ttdef"><b>Definition:</b> <a href="node_8h_source.html#l00711">node.h:711</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ac81d27d6edb00aeed62a3e4745b8cba0"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">v8::internal::wasm::void</a></div><div class="ttdeci">typedef void(VECTORCALL PWasmOp)(const uint8_t *code</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html"><div class="ttname"><a href="namespacev8_1_1internal.html">v8::internal</a></div><div class="ttdef"><b>Definition:</b> <a href="api-arguments-inl_8h_source.html#l00020">api-arguments-inl.h:20</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5031451934208565c827c86d9eb86c5a"><div class="ttname"><a href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">v8::internal::internal</a></div><div class="ttdeci">internal</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects-inl_8h_source.html#l00453">wasm-objects-inl.h:453</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a64191cdcde25dc019822f35676eaff01"><div class="ttname"><a href="namespacev8_1_1internal.html#a64191cdcde25dc019822f35676eaff01">v8::internal::K</a></div><div class="ttdeci">static const uint32_t K[64]</div><div class="ttdef"><b>Definition:</b> <a href="sha-256_8cc_source.html#l00036">sha-256.cc:36</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a67a51b6314a9bc8a8c44c5fe14149e6c"><div class="ttname"><a href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">v8::internal::key</a></div><div class="ttdeci">int32_t key</div><div class="ttdef"><b>Definition:</b> <a href="external-reference_8cc_source.html#l01408">external-reference.cc:1408</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ac1a33b5fd9af1653d346746cdb5c1ac0"><div class="ttname"><a href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">v8::internal::value</a></div><div class="ttdeci">return value</div><div class="ttdef"><b>Definition:</b> <a href="map-inl_8h_source.html#l00912">map-inl.h:912</a></div></div>
<div class="ttc" id="apointer-policies_8h_html"><div class="ttname"><a href="pointer-policies_8h.html">pointer-policies.h</a></div></div>
<div class="ttc" id="asentinel-pointer_8h_html"><div class="ttname"><a href="sentinel-pointer_8h.html">sentinel-pointer.h</a></div></div>
<div class="ttc" id="asource-location_8h_html"><div class="ttname"><a href="source-location_8h.html">source-location.h</a></div></div>
<div class="ttc" id="astructcppgc_1_1EphemeronPair_html"><div class="ttname"><a href="structcppgc_1_1EphemeronPair.html">cppgc::EphemeronPair</a></div><div class="ttdoc">An ephemeron pair is used to conditionally retain an object.</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2visitor_8h_source.html#l00044">visitor.h:44</a></div></div>
<div class="ttc" id="astructcppgc_1_1EphemeronPair_html_a5d87f1141b7ff09cfa1a2f1ac686ec53"><div class="ttname"><a href="structcppgc_1_1EphemeronPair.html#a5d87f1141b7ff09cfa1a2f1ac686ec53">cppgc::EphemeronPair::EphemeronPair</a></div><div class="ttdeci">EphemeronPair(K *k, V *v)</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2visitor_8h_source.html#l00047">visitor.h:47</a></div></div>
<div class="ttc" id="astructcppgc_1_1EphemeronPair_html_a613613250a1b157039b79a93e5434c74"><div class="ttname"><a href="structcppgc_1_1EphemeronPair.html#a613613250a1b157039b79a93e5434c74">cppgc::EphemeronPair::key</a></div><div class="ttdeci">WeakMember&lt; K &gt; key</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2visitor_8h_source.html#l00048">visitor.h:48</a></div></div>
<div class="ttc" id="astructcppgc_1_1EphemeronPair_html_a6db740990f7fabf08271d86193158e0f"><div class="ttname"><a href="structcppgc_1_1EphemeronPair.html#a6db740990f7fabf08271d86193158e0f">cppgc::EphemeronPair::ClearValueIfKeyIsDead</a></div><div class="ttdeci">void ClearValueIfKeyIsDead(const LivenessBroker &amp;broker)</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2visitor_8h_source.html#l00051">visitor.h:51</a></div></div>
<div class="ttc" id="astructcppgc_1_1EphemeronPair_html_a8f02cd890f3947e1b8ce7a8d390d0c89"><div class="ttname"><a href="structcppgc_1_1EphemeronPair.html#a8f02cd890f3947e1b8ce7a8d390d0c89">cppgc::EphemeronPair::value</a></div><div class="ttdeci">Member&lt; V &gt; value</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2visitor_8h_source.html#l00049">visitor.h:49</a></div></div>
<div class="ttc" id="astructcppgc_1_1EphemeronPair_html_ab752c9a9eacaed80a38b286e9bcbd895"><div class="ttname"><a href="structcppgc_1_1EphemeronPair.html#ab752c9a9eacaed80a38b286e9bcbd895">cppgc::EphemeronPair::CPPGC_DISALLOW_NEW</a></div><div class="ttdeci">CPPGC_DISALLOW_NEW()</div></div>
<div class="ttc" id="astructcppgc_1_1EphemeronPair_html_aeb6c736b4eb5890f4ebb27df9d35318b"><div class="ttname"><a href="structcppgc_1_1EphemeronPair.html#aeb6c736b4eb5890f4ebb27df9d35318b">cppgc::EphemeronPair::Trace</a></div><div class="ttdeci">void Trace(Visitor *visitor) const</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2visitor_8h_source.html#l00464">visitor.h:464</a></div></div>
<div class="ttc" id="astructcppgc_1_1TraceDescriptor_html"><div class="ttname"><a href="structcppgc_1_1TraceDescriptor.html">cppgc::TraceDescriptor</a></div><div class="ttdoc">Describes how to trace an object, i.e., how to visit all Oilpan-relevant fields of an object.</div><div class="ttdef"><b>Definition:</b> <a href="trace-trait_8h_source.html#l00043">trace-trait.h:43</a></div></div>
<div class="ttc" id="astructcppgc_1_1TraceDescriptor_html_a0de2d2b4cf5fe1ec48fc9d6f2e20f2f9"><div class="ttname"><a href="structcppgc_1_1TraceDescriptor.html#a0de2d2b4cf5fe1ec48fc9d6f2e20f2f9">cppgc::TraceDescriptor::base_object_payload</a></div><div class="ttdeci">const void * base_object_payload</div><div class="ttdoc">Adjusted base pointer, i.e., the pointer to the class inheriting directly from GarbageCollected,...</div><div class="ttdef"><b>Definition:</b> <a href="trace-trait_8h_source.html#l00048">trace-trait.h:48</a></div></div>
<div class="ttc" id="astructcppgc_1_1TraceTrait_html"><div class="ttname"><a href="structcppgc_1_1TraceTrait.html">cppgc::TraceTrait</a></div><div class="ttdef"><b>Definition:</b> <a href="trace-trait_8h_source.html#l00104">trace-trait.h:104</a></div></div>
<div class="ttc" id="astructcppgc_1_1internal_1_1IsAllocatedOnCompactableSpace_html"><div class="ttname"><a href="structcppgc_1_1internal_1_1IsAllocatedOnCompactableSpace.html">cppgc::internal::IsAllocatedOnCompactableSpace</a></div><div class="ttdef"><b>Definition:</b> <a href="custom-space_8h_source.html#l00087">custom-space.h:87</a></div></div>
<div class="ttc" id="astructcppgc_1_1internal_1_1IsGarbageCollectedOrMixinType_html"><div class="ttname"><a href="structcppgc_1_1internal_1_1IsGarbageCollectedOrMixinType.html">cppgc::internal::IsGarbageCollectedOrMixinType</a></div><div class="ttdef"><b>Definition:</b> <a href="type-traits_8h_source.html#l00109">type-traits.h:111</a></div></div>
<div class="ttc" id="astructcppgc_1_1internal_1_1TraceTraitBase_html_a4448accd321c29fed3b220237353c8c8"><div class="ttname"><a href="structcppgc_1_1internal_1_1TraceTraitBase.html#a4448accd321c29fed3b220237353c8c8">cppgc::internal::TraceTraitBase::GetTraceDescriptor</a></div><div class="ttdeci">static TraceDescriptor GetTraceDescriptor(const void *self)</div><div class="ttdoc">Accessor for retrieving a TraceDescriptor to process an object of type T.</div><div class="ttdef"><b>Definition:</b> <a href="trace-trait_8h_source.html#l00085">trace-trait.h:85</a></div></div>
<div class="ttc" id="astructcppgc_1_1internal_1_1TraceTraitBase_html_a6c8bb0f00866bae70210f05076024f86"><div class="ttname"><a href="structcppgc_1_1internal_1_1TraceTraitBase.html#a6c8bb0f00866bae70210f05076024f86">cppgc::internal::TraceTraitBase::Trace</a></div><div class="ttdeci">static void Trace(Visitor *visitor, const void *self)</div><div class="ttdoc">Function invoking the tracing for an object of type T.</div><div class="ttdef"><b>Definition:</b> <a href="trace-trait_8h_source.html#l00096">trace-trait.h:96</a></div></div>
<div class="ttc" id="atrace-trait_8h_html"><div class="ttname"><a href="trace-trait_8h.html">trace-trait.h</a></div></div>
<div class="ttc" id="atype-traits_8h_html"><div class="ttname"><a href="type-traits_8h.html">type-traits.h</a></div></div>
<div class="ttc" id="av8config_8h_html_a18b08424f4be6fab745092c7c5dad9f5"><div class="ttname"><a href="v8config_8h.html#a18b08424f4be6fab745092c7c5dad9f5">V8_EXPORT</a></div><div class="ttdeci">#define V8_EXPORT</div><div class="ttdef"><b>Definition:</b> <a href="v8config_8h_source.html#l00800">v8config.h:800</a></div></div>
<div class="ttc" id="av8config_8h_html_a63258e4bf5dc9fb8c78f881c8405d83b"><div class="ttname"><a href="v8config_8h.html#a63258e4bf5dc9fb8c78f881c8405d83b">V8_WARN_UNUSED_RESULT</a></div><div class="ttdeci">#define V8_WARN_UNUSED_RESULT</div><div class="ttdef"><b>Definition:</b> <a href="v8config_8h_source.html#l00671">v8config.h:671</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_19225156eb7ba052e31d1a736469917a.html">mnt</a></li><li class="navelem"><a class="el" href="dir_3536f6d353061322e9ef91134b76e9ed.html">V8SourceCode</a></li><li class="navelem"><a class="el" href="dir_b9872d1f3a2ee817aaa33ebd0513511d.html">include</a></li><li class="navelem"><a class="el" href="dir_af178baa874e32bc181db2603bb7a76b.html">cppgc</a></li><li class="navelem"><a class="el" href="include_2cppgc_2visitor_8h.html">visitor.h</a></li>
    <li class="footer">Generated on Thu Jun 12 2025 15:56:39 for V8 Project by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
