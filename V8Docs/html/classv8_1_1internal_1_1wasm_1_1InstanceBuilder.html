<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>V8 Project: v8::internal::wasm::InstanceBuilder Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">V8 Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">v8::internal::wasm::InstanceBuilder Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for v8::internal::wasm::InstanceBuilder:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder__coll__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad94b88ee9e76114e7c3ecb78e499fd23"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ad94b88ee9e76114e7c3ecb78e499fd23">InstanceBuilder</a> (<a class="el" href="classv8_1_1internal_1_1Isolate.html">Isolate</a> *isolate, <a class="el" href="classv8_1_1metrics_1_1Recorder_1_1ContextId.html">v8::metrics::Recorder::ContextId</a> context_id, <a class="el" href="classv8_1_1internal_1_1wasm_1_1ErrorThrower.html">ErrorThrower</a> *thrower, <a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1WasmModuleObject.html">WasmModuleObject</a> &gt; module_object, <a class="el" href="classv8_1_1internal_1_1MaybeDirectHandle.html">MaybeDirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1JSReceiver.html">JSReceiver</a> &gt; ffi, <a class="el" href="classv8_1_1internal_1_1MaybeDirectHandle.html">MaybeDirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1JSArrayBuffer.html">JSArrayBuffer</a> &gt; memory_buffer)</td></tr>
<tr class="separator:ad94b88ee9e76114e7c3ecb78e499fd23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a938db18c8e2421c00cc0d7f430d66d69"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1MaybeDirectHandle.html">MaybeDirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1WasmInstanceObject.html">WasmInstanceObject</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a938db18c8e2421c00cc0d7f430d66d69">Build</a> ()</td></tr>
<tr class="separator:a938db18c8e2421c00cc0d7f430d66d69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3b733a716d50b60193cf78bbc21df31"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aa3b733a716d50b60193cf78bbc21df31">ExecuteStartFunction</a> ()</td></tr>
<tr class="separator:aa3b733a716d50b60193cf78bbc21df31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93a72b52eb6f0059777cd5537e17b602"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a93a72b52eb6f0059777cd5537e17b602">ConfigurePrototypes_Modular</a> ()</td></tr>
<tr class="separator:a93a72b52eb6f0059777cd5537e17b602"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1eca52286140d25fc7f05221d66e5a3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aa1eca52286140d25fc7f05221d66e5a3">FinalizeExportsObject</a> (<a class="el" href="classv8_1_1internal_1_1MaybeDirectHandle.html">MaybeDirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1WasmInstanceObject.html">WasmInstanceObject</a> &gt; instance)</td></tr>
<tr class="separator:aa1eca52286140d25fc7f05221d66e5a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:aad6f1251ab50c21c71d213e91b1bbc2e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html">WasmTrustedInstanceData</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aad6f1251ab50c21c71d213e91b1bbc2e">trusted_data</a> (<a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a> shared) const</td></tr>
<tr class="separator:aad6f1251ab50c21c71d213e91b1bbc2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5cdfd1a6d96ac77038c87b059b4d04e"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ab5cdfd1a6d96ac77038c87b059b4d04e">ImportName</a> (uint32_t <a class="el" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>)</td></tr>
<tr class="separator:ab5cdfd1a6d96ac77038c87b059b4d04e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e85b831f69e3d7b179269b65dadf464"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a8e85b831f69e3d7b179269b65dadf464">ImportName</a> (uint32_t <a class="el" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, <a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1String.html">String</a> &gt; module_name)</td></tr>
<tr class="separator:a8e85b831f69e3d7b179269b65dadf464"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5267721eb2f9ae3eacdd640338001da9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1MaybeDirectHandle.html">MaybeDirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1Object.html">Object</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a5267721eb2f9ae3eacdd640338001da9">LookupImport</a> (uint32_t <a class="el" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, <a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1String.html">String</a> &gt; module_name, <a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1String.html">String</a> &gt; import_name)</td></tr>
<tr class="separator:a5267721eb2f9ae3eacdd640338001da9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45625160696bb8741a820c7cf2a0b5af"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1MaybeDirectHandle.html">MaybeDirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1Object.html">Object</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a45625160696bb8741a820c7cf2a0b5af">LookupImportAsm</a> (uint32_t <a class="el" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, <a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1String.html">String</a> &gt; import_name)</td></tr>
<tr class="separator:a45625160696bb8741a820c7cf2a0b5af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8803032b43c2f0d64f51e697df9f0172"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a8803032b43c2f0d64f51e697df9f0172">LoadDataSegments</a> ()</td></tr>
<tr class="separator:a8803032b43c2f0d64f51e697df9f0172"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5259253e5d559a5833c16076db2900c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#af5259253e5d559a5833c16076db2900c">WriteGlobalValue</a> (const <a class="el" href="structv8_1_1internal_1_1wasm_1_1WasmGlobal.html">WasmGlobal</a> &amp;global, const <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmValue.html">WasmValue</a> &amp;<a class="el" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)</td></tr>
<tr class="separator:af5259253e5d559a5833c16076db2900c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a1ad8fdce6b621e61b911257faf452e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a1a1ad8fdce6b621e61b911257faf452e">SanitizeImports</a> ()</td></tr>
<tr class="separator:a1a1ad8fdce6b621e61b911257faf452e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19ff41479bcf41dea4de46c20473b59b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1Maybe.html">Maybe</a>&lt; <a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a19ff41479bcf41dea4de46c20473b59b">Build_Phase1</a> (const DisallowJavascriptExecution &amp;no_js)</td></tr>
<tr class="separator:a19ff41479bcf41dea4de46c20473b59b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a625fd0c2f39972e36a9f2956b40ebfba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a625fd0c2f39972e36a9f2956b40ebfba">Build_Phase1_Infallible</a> ()</td></tr>
<tr class="separator:a625fd0c2f39972e36a9f2956b40ebfba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3d1c1a339e6c1a255a866ed837b1e52"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1Maybe.html">Maybe</a>&lt; <a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ab3d1c1a339e6c1a255a866ed837b1e52">Build_Phase2</a> ()</td></tr>
<tr class="separator:ab3d1c1a339e6c1a255a866ed837b1e52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3c166e0938385ff98e8d6c54b0c5e3c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1MaybeDirectHandle.html">MaybeDirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1WasmMemoryObject.html">WasmMemoryObject</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ae3c166e0938385ff98e8d6c54b0c5e3c">AllocateMemory</a> (uint32_t memory_index)</td></tr>
<tr class="separator:ae3c166e0938385ff98e8d6c54b0c5e3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8b0f7163912ee8ba7dc6cfaec3c0138"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#af8b0f7163912ee8ba7dc6cfaec3c0138">ProcessImportedFunction</a> (<a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html">WasmTrustedInstanceData</a> &gt; trusted_instance_data, <a class="el" href="classint.html">int</a> import_index, <a class="el" href="classint.html">int</a> func_index, <a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1Object.html">Object</a> &gt; <a class="el" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#afaaaa7fd7a0bc697a4d91133566c5c6e">WellKnownImport</a> preknown_import)</td></tr>
<tr class="separator:af8b0f7163912ee8ba7dc6cfaec3c0138"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99b1a438d60e812d57059be2103951cc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99b1a438d60e812d57059be2103951cc">ProcessImportedTable</a> (<a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html">WasmTrustedInstanceData</a> &gt; trusted_instance_data, <a class="el" href="classint.html">int</a> import_index, <a class="el" href="classint.html">int</a> table_index, <a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1Object.html">Object</a> &gt; <a class="el" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)</td></tr>
<tr class="separator:a99b1a438d60e812d57059be2103951cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab312bd78f66545c510a7670c7da5e2ab"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ab312bd78f66545c510a7670c7da5e2ab">ProcessImportedGlobal</a> (<a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html">WasmTrustedInstanceData</a> &gt; trusted_instance_data, <a class="el" href="classint.html">int</a> import_index, <a class="el" href="classint.html">int</a> global_index, <a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1Object.html">Object</a> &gt; <a class="el" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)</td></tr>
<tr class="separator:ab312bd78f66545c510a7670c7da5e2ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90f3564ad83fe14d055f99d3d9fff166"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a90f3564ad83fe14d055f99d3d9fff166">ProcessImportedWasmGlobalObject</a> (<a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html">WasmTrustedInstanceData</a> &gt; trusted_instance_data, <a class="el" href="classint.html">int</a> import_index, const <a class="el" href="structv8_1_1internal_1_1wasm_1_1WasmGlobal.html">WasmGlobal</a> &amp;global, <a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1WasmGlobalObject.html">WasmGlobalObject</a> &gt; global_object)</td></tr>
<tr class="separator:a90f3564ad83fe14d055f99d3d9fff166"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dd661a91a2054913525990d4d6def25"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classint.html">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a1dd661a91a2054913525990d4d6def25">ProcessImports</a> ()</td></tr>
<tr class="separator:a1dd661a91a2054913525990d4d6def25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c16bece87407beee6140ee5535bec4d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a0c16bece87407beee6140ee5535bec4d">ProcessImportedMemories</a> (<a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1FixedArray.html">FixedArray</a> &gt; imported_memory_objects)</td></tr>
<tr class="separator:a0c16bece87407beee6140ee5535bec4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca7e76496779ebce4dcc9db979e5e46a"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:aca7e76496779ebce4dcc9db979e5e46a"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classT.html">T</a> *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aca7e76496779ebce4dcc9db979e5e46a">GetRawUntaggedGlobalPtr</a> (const <a class="el" href="structv8_1_1internal_1_1wasm_1_1WasmGlobal.html">WasmGlobal</a> &amp;global)</td></tr>
<tr class="separator:aca7e76496779ebce4dcc9db979e5e46a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ce1b5afdf96a612550d4c83c0f17f61"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a0ce1b5afdf96a612550d4c83c0f17f61">InitGlobals</a> ()</td></tr>
<tr class="separator:a0ce1b5afdf96a612550d4c83c0f17f61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a446ff15923517ddda69049d7e6327e40"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a446ff15923517ddda69049d7e6327e40">ProcessExports</a> ()</td></tr>
<tr class="separator:a446ff15923517ddda69049d7e6327e40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d8bc64719afc7f939af91de40590dd4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a2d8bc64719afc7f939af91de40590dd4">SetTableInitialValues</a> ()</td></tr>
<tr class="separator:a2d8bc64719afc7f939af91de40590dd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adde97133349687e93ab015b5f98ef6bc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#adde97133349687e93ab015b5f98ef6bc">LoadTableSegments</a> ()</td></tr>
<tr class="separator:adde97133349687e93ab015b5f98ef6bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ff70878af415967423e34367fbe5a9c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a5ff70878af415967423e34367fbe5a9c">InitializeTags</a> ()</td></tr>
<tr class="separator:a5ff70878af415967423e34367fbe5a9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a99f982ddb5d298edcef493207d213159"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1Isolate.html">Isolate</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a></td></tr>
<tr class="separator:a99f982ddb5d298edcef493207d213159"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3660708cd48a28bc322058d00be48f1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1metrics_1_1Recorder_1_1ContextId.html">v8::metrics::Recorder::ContextId</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ad3660708cd48a28bc322058d00be48f1">context_id_</a></td></tr>
<tr class="separator:ad3660708cd48a28bc322058d00be48f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a867e1ad3cc7461cb3f89906e30f27b64"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmEnabledFeatures.html">WasmEnabledFeatures</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a867e1ad3cc7461cb3f89906e30f27b64">enabled_</a></td></tr>
<tr class="separator:a867e1ad3cc7461cb3f89906e30f27b64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa821ccf37abae1e6c809598df32f0fc"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html">WasmModule</a> *const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a></td></tr>
<tr class="separator:aaa821ccf37abae1e6c809598df32f0fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12c3565e5c8e45732d8390d8bacf0709"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1wasm_1_1ErrorThrower.html">ErrorThrower</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a></td></tr>
<tr class="separator:a12c3565e5c8e45732d8390d8bacf0709"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9acbe63776578c8905fa72206177a2c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1WasmModuleObject.html">WasmModuleObject</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ad9acbe63776578c8905fa72206177a2c">module_object_</a></td></tr>
<tr class="separator:ad9acbe63776578c8905fa72206177a2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea7551d380bf83fce78fac6dae327a78"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html">WasmTrustedInstanceData</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aea7551d380bf83fce78fac6dae327a78">trusted_data_</a></td></tr>
<tr class="separator:aea7551d380bf83fce78fac6dae327a78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad89c98fe73daab093f44575c4e5c7b4f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html">WasmTrustedInstanceData</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ad89c98fe73daab093f44575c4e5c7b4f">shared_trusted_data_</a></td></tr>
<tr class="separator:ad89c98fe73daab093f44575c4e5c7b4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13cbcfe18596d4900f82afd2e3f434db"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1MaybeDirectHandle.html">MaybeDirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1JSReceiver.html">JSReceiver</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a13cbcfe18596d4900f82afd2e3f434db">ffi_</a></td></tr>
<tr class="separator:a13cbcfe18596d4900f82afd2e3f434db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace1391560ef1c60410ba29bb87806c9d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1MaybeDirectHandle.html">MaybeDirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1JSArrayBuffer.html">JSArrayBuffer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ace1391560ef1c60410ba29bb87806c9d">asmjs_memory_buffer_</a></td></tr>
<tr class="separator:ace1391560ef1c60410ba29bb87806c9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6388ff7aa2e2e6ba74dce9f0f96167af"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1JSArrayBuffer.html">JSArrayBuffer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a6388ff7aa2e2e6ba74dce9f0f96167af">untagged_globals_</a></td></tr>
<tr class="separator:a6388ff7aa2e2e6ba74dce9f0f96167af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9e7aba8c15908133cd1e48df2e027c1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1JSArrayBuffer.html">JSArrayBuffer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ae9e7aba8c15908133cd1e48df2e027c1">shared_untagged_globals_</a></td></tr>
<tr class="separator:ae9e7aba8c15908133cd1e48df2e027c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71497507d2c1ffe7aae80873b0fb2b18"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1FixedArray.html">FixedArray</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a71497507d2c1ffe7aae80873b0fb2b18">tagged_globals_</a></td></tr>
<tr class="separator:a71497507d2c1ffe7aae80873b0fb2b18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc2acf18bcb1567e5343dd3af707e089"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1FixedArray.html">FixedArray</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#abc2acf18bcb1567e5343dd3af707e089">shared_tagged_globals_</a></td></tr>
<tr class="separator:abc2acf18bcb1567e5343dd3af707e089"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a725cea88ca63b898d35df6e718bd7b98"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1DirectHandleVector.html">DirectHandleVector</a>&lt; <a class="el" href="classv8_1_1internal_1_1WasmTagObject.html">WasmTagObject</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a725cea88ca63b898d35df6e718bd7b98">tags_wrappers_</a></td></tr>
<tr class="separator:a725cea88ca63b898d35df6e718bd7b98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf647301763e320d9808ad2d3e6fa8a5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1DirectHandleVector.html">DirectHandleVector</a>&lt; <a class="el" href="classv8_1_1internal_1_1WasmTagObject.html">WasmTagObject</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#acf647301763e320d9808ad2d3e6fa8a5">shared_tags_wrappers_</a></td></tr>
<tr class="separator:acf647301763e320d9808ad2d3e6fa8a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27262cc634c8f7b70f38b76e3a1a4c7c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1JSFunction.html">JSFunction</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a27262cc634c8f7b70f38b76e3a1a4c7c">start_function_</a></td></tr>
<tr class="separator:a27262cc634c8f7b70f38b76e3a1a4c7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dadf45ab32816f8ffdb69a10544a956"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1DirectHandleVector.html">DirectHandleVector</a>&lt; <a class="el" href="classv8_1_1internal_1_1Object.html">Object</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a5dadf45ab32816f8ffdb69a10544a956">sanitized_imports_</a></td></tr>
<tr class="separator:a5dadf45ab32816f8ffdb69a10544a956"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a6039aec9f6f9486a58ddc7c4f999d2"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="namespacev8_1_1internal_1_1wasm.html#afaaaa7fd7a0bc697a4d91133566c5c6e">WellKnownImport</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a6a6039aec9f6f9486a58ddc7c4f999d2">well_known_imports_</a></td></tr>
<tr class="separator:a6a6039aec9f6f9486a58ddc7c4f999d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae150ecd9dff43cb0c32a10fb3da28731"><td class="memItemLeft" align="right" valign="top">std::optional&lt; <a class="el" href="classv8_1_1internal_1_1wasm_1_1JSPrototypesSetup.html">JSPrototypesSetup</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ae150ecd9dff43cb0c32a10fb3da28731">js_prototypes_setup_</a></td></tr>
<tr class="separator:ae150ecd9dff43cb0c32a10fb3da28731"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab230138dba8632d53ff8e394a35551ee"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1Zone.html">Zone</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ab230138dba8632d53ff8e394a35551ee">init_expr_zone_</a></td></tr>
<tr class="separator:ab230138dba8632d53ff8e394a35551ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l01208">1208</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ad94b88ee9e76114e7c3ecb78e499fd23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad94b88ee9e76114e7c3ecb78e499fd23">&#9670;&nbsp;</a></span>InstanceBuilder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">v8::internal::wasm::InstanceBuilder::InstanceBuilder </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1Isolate.html">Isolate</a> *&#160;</td>
          <td class="paramname"><em>isolate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1metrics_1_1Recorder_1_1ContextId.html">v8::metrics::Recorder::ContextId</a>&#160;</td>
          <td class="paramname"><em>context_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1wasm_1_1ErrorThrower.html">ErrorThrower</a> *&#160;</td>
          <td class="paramname"><em>thrower</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1WasmModuleObject.html">WasmModuleObject</a> &gt;&#160;</td>
          <td class="paramname"><em>module_object</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1MaybeDirectHandle.html">MaybeDirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1JSReceiver.html">JSReceiver</a> &gt;&#160;</td>
          <td class="paramname"><em>ffi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1MaybeDirectHandle.html">MaybeDirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1JSArrayBuffer.html">JSArrayBuffer</a> &gt;&#160;</td>
          <td class="paramname"><em>memory_buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l01431">1431</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;    : <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>(isolate),</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ad3660708cd48a28bc322058d00be48f1">context_id_</a>(context_id),</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a867e1ad3cc7461cb3f89906e30f27b64">enabled_</a>(module_object-&gt;native_module()-&gt;enabled_features()),</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>(module_object-&gt;module()),</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>(thrower),</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ad9acbe63776578c8905fa72206177a2c">module_object_</a>(module_object),</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a13cbcfe18596d4900f82afd2e3f434db">ffi_</a>(ffi),</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ace1391560ef1c60410ba29bb87806c9d">asmjs_memory_buffer_</a>(asmjs_memory_buffer),</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a725cea88ca63b898d35df6e718bd7b98">tags_wrappers_</a>(isolate),</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#acf647301763e320d9808ad2d3e6fa8a5">shared_tags_wrappers_</a>(isolate),</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a5dadf45ab32816f8ffdb69a10544a956">sanitized_imports_</a>(isolate),</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ab230138dba8632d53ff8e394a35551ee">init_expr_zone_</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a5d3cfc27102c773cd317a2c8fdcf499b">allocator</a>(), <span class="stringliteral">&quot;constant expression zone&quot;</span>) {</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a5dadf45ab32816f8ffdb69a10544a956">sanitized_imports_</a>.reserve(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a4f710e1d1dd945669cbebae2b51835e5">import_table</a>.size());</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a6a6039aec9f6f9486a58ddc7c4f999d2">well_known_imports_</a>.reserve(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a81b4b2b056e744758f875acafe4c909a">num_imported_functions</a>);</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a5d3cfc27102c773cd317a2c8fdcf499b"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a5d3cfc27102c773cd317a2c8fdcf499b">v8::internal::Isolate::allocator</a></div><div class="ttdeci">AccountingAllocator * allocator()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l02019">isolate.h:2019</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1InstanceBuilder_html_a12c3565e5c8e45732d8390d8bacf0709"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">v8::internal::wasm::InstanceBuilder::thrower_</a></div><div class="ttdeci">ErrorThrower * thrower_</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l01231">module-instantiate.cc:1231</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1InstanceBuilder_html_a13cbcfe18596d4900f82afd2e3f434db"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a13cbcfe18596d4900f82afd2e3f434db">v8::internal::wasm::InstanceBuilder::ffi_</a></div><div class="ttdeci">MaybeDirectHandle&lt; JSReceiver &gt; ffi_</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l01235">module-instantiate.cc:1235</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1InstanceBuilder_html_a5dadf45ab32816f8ffdb69a10544a956"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a5dadf45ab32816f8ffdb69a10544a956">v8::internal::wasm::InstanceBuilder::sanitized_imports_</a></div><div class="ttdeci">DirectHandleVector&lt; Object &gt; sanitized_imports_</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l01244">module-instantiate.cc:1244</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1InstanceBuilder_html_a6a6039aec9f6f9486a58ddc7c4f999d2"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a6a6039aec9f6f9486a58ddc7c4f999d2">v8::internal::wasm::InstanceBuilder::well_known_imports_</a></div><div class="ttdeci">std::vector&lt; WellKnownImport &gt; well_known_imports_</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l01245">module-instantiate.cc:1245</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1InstanceBuilder_html_a725cea88ca63b898d35df6e718bd7b98"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a725cea88ca63b898d35df6e718bd7b98">v8::internal::wasm::InstanceBuilder::tags_wrappers_</a></div><div class="ttdeci">DirectHandleVector&lt; WasmTagObject &gt; tags_wrappers_</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l01241">module-instantiate.cc:1241</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1InstanceBuilder_html_a867e1ad3cc7461cb3f89906e30f27b64"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a867e1ad3cc7461cb3f89906e30f27b64">v8::internal::wasm::InstanceBuilder::enabled_</a></div><div class="ttdeci">const WasmEnabledFeatures enabled_</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l01229">module-instantiate.cc:1229</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1InstanceBuilder_html_a99f982ddb5d298edcef493207d213159"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">v8::internal::wasm::InstanceBuilder::isolate_</a></div><div class="ttdeci">Isolate * isolate_</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l01227">module-instantiate.cc:1227</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1InstanceBuilder_html_aaa821ccf37abae1e6c809598df32f0fc"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">v8::internal::wasm::InstanceBuilder::module_</a></div><div class="ttdeci">const WasmModule *const module_</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l01230">module-instantiate.cc:1230</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1InstanceBuilder_html_ab230138dba8632d53ff8e394a35551ee"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ab230138dba8632d53ff8e394a35551ee">v8::internal::wasm::InstanceBuilder::init_expr_zone_</a></div><div class="ttdeci">Zone init_expr_zone_</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l01251">module-instantiate.cc:1251</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1InstanceBuilder_html_ace1391560ef1c60410ba29bb87806c9d"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ace1391560ef1c60410ba29bb87806c9d">v8::internal::wasm::InstanceBuilder::asmjs_memory_buffer_</a></div><div class="ttdeci">MaybeDirectHandle&lt; JSArrayBuffer &gt; asmjs_memory_buffer_</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l01236">module-instantiate.cc:1236</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1InstanceBuilder_html_acf647301763e320d9808ad2d3e6fa8a5"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#acf647301763e320d9808ad2d3e6fa8a5">v8::internal::wasm::InstanceBuilder::shared_tags_wrappers_</a></div><div class="ttdeci">DirectHandleVector&lt; WasmTagObject &gt; shared_tags_wrappers_</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l01242">module-instantiate.cc:1242</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1InstanceBuilder_html_ad3660708cd48a28bc322058d00be48f1"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ad3660708cd48a28bc322058d00be48f1">v8::internal::wasm::InstanceBuilder::context_id_</a></div><div class="ttdeci">v8::metrics::Recorder::ContextId context_id_</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l01228">module-instantiate.cc:1228</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1InstanceBuilder_html_ad9acbe63776578c8905fa72206177a2c"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ad9acbe63776578c8905fa72206177a2c">v8::internal::wasm::InstanceBuilder::module_object_</a></div><div class="ttdeci">DirectHandle&lt; WasmModuleObject &gt; module_object_</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l01232">module-instantiate.cc:1232</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_a4f710e1d1dd945669cbebae2b51835e5"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a4f710e1d1dd945669cbebae2b51835e5">v8::internal::wasm::WasmModule::import_table</a></div><div class="ttdeci">std::vector&lt; WasmImport &gt; import_table</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00719">wasm-module.h:719</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_a81b4b2b056e744758f875acafe4c909a"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a81b4b2b056e744758f875acafe4c909a">v8::internal::wasm::WasmModule::num_imported_functions</a></div><div class="ttdeci">uint32_t num_imported_functions</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00681">wasm-module.h:681</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-module_8h_source.html#l00719">v8::internal::wasm::WasmModule::import_table</a>, <a class="el" href="module-instantiate_8cc_source.html#l01230">module_</a>, <a class="el" href="wasm-module_8h_source.html#l00681">v8::internal::wasm::WasmModule::num_imported_functions</a>, <a class="el" href="module-instantiate_8cc_source.html#l01244">sanitized_imports_</a>, and <a class="el" href="module-instantiate_8cc_source.html#l01245">well_known_imports_</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ae3c166e0938385ff98e8d6c54b0c5e3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3c166e0938385ff98e8d6c54b0c5e3c">&#9670;&nbsp;</a></span>AllocateMemory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1MaybeDirectHandle.html">MaybeDirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1WasmMemoryObject.html">WasmMemoryObject</a> &gt; v8::internal::wasm::InstanceBuilder::AllocateMemory </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>memory_index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l02871">2871</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;                           {</div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;  <span class="keyword">const</span> WasmMemory&amp; memory = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a2db4294c50e9d81d12819ce61ababaec">memories</a>[memory_index];</div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;  <span class="keywordtype">int</span> initial_pages = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(memory.initial_pages);</div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;  <span class="keywordtype">int</span> maximum_pages = memory.has_maximum_pages</div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;                          ? <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(memory.maximum_pages)</div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;                          : <a class="code" href="classv8_1_1internal_1_1WasmMemoryObject.html#a65b8addcf2135f693f3f83a8acf74aa7">WasmMemoryObject::kNoMaximum</a>;</div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;  <span class="keyword">auto</span> shared = memory.is_shared ? <a class="code" href="namespacev8_1_1internal.html#a680ace1d3e86dae2df93867132a3c160a767e1337acb2aa20d7ce4e903a75ca16">SharedFlag::kShared</a> : <a class="code" href="namespacev8_1_1internal.html#a680ace1d3e86dae2df93867132a3c160af80e42734f3024456dd90ae366cecf3e">SharedFlag::kNotShared</a>;</div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160; </div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;  MaybeDirectHandle&lt;WasmMemoryObject&gt; maybe_memory_object =</div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;      <a class="code" href="classv8_1_1internal_1_1WasmMemoryObject.html#ab10298844a3a2e6993fc6f3634eaf898">WasmMemoryObject::New</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, initial_pages, maximum_pages, shared,</div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;                            memory.address_type);</div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;  <span class="keywordflow">if</span> (maybe_memory_object.is_null()) {</div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>-&gt;RangeError(</div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;        <span class="stringliteral">&quot;Out of memory: Cannot allocate Wasm memory for new instance&quot;</span>);</div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;    <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;  }</div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;  <span class="keywordflow">return</span> maybe_memory_object;</div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmMemoryObject_html_a65b8addcf2135f693f3f83a8acf74aa7"><div class="ttname"><a href="classv8_1_1internal_1_1WasmMemoryObject.html#a65b8addcf2135f693f3f83a8acf74aa7">v8::internal::WasmMemoryObject::kNoMaximum</a></div><div class="ttdeci">static constexpr int kNoMaximum</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8h_source.html#l00427">wasm-objects.h:427</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmMemoryObject_html_ab10298844a3a2e6993fc6f3634eaf898"><div class="ttname"><a href="classv8_1_1internal_1_1WasmMemoryObject.html#ab10298844a3a2e6993fc6f3634eaf898">v8::internal::WasmMemoryObject::New</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE DirectHandle&lt; WasmMemoryObject &gt; New(Isolate *isolate, DirectHandle&lt; JSArrayBuffer &gt; buffer, int maximum, wasm::AddressType address_type)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l00878">wasm-objects.cc:878</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a680ace1d3e86dae2df93867132a3c160a767e1337acb2aa20d7ce4e903a75ca16"><div class="ttname"><a href="namespacev8_1_1internal.html#a680ace1d3e86dae2df93867132a3c160a767e1337acb2aa20d7ce4e903a75ca16">v8::internal::SharedFlag::kShared</a></div><div class="ttdeci">@ kShared</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a680ace1d3e86dae2df93867132a3c160af80e42734f3024456dd90ae366cecf3e"><div class="ttname"><a href="namespacev8_1_1internal.html#a680ace1d3e86dae2df93867132a3c160af80e42734f3024456dd90ae366cecf3e">v8::internal::SharedFlag::kNotShared</a></div><div class="ttdeci">@ kNotShared</div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_a2db4294c50e9d81d12819ce61ababaec"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a2db4294c50e9d81d12819ce61ababaec">v8::internal::wasm::WasmModule::memories</a></div><div class="ttdeci">std::vector&lt; WasmMemory &gt; memories</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00718">wasm-module.h:718</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-module_8h_source.html#l00150">v8::internal::wasm::WasmMemory::address_type</a>, <a class="el" href="wasm-module_8h_source.html#l00149">v8::internal::wasm::WasmMemory::has_maximum_pages</a>, <a class="el" href="wasm-module_8h_source.html#l00144">v8::internal::wasm::WasmMemory::initial_pages</a>, <a class="el" href="maybe-handles_8h_source.html#l00281">v8::internal::MaybeDirectHandle&lt; T &gt;::is_null()</a>, <a class="el" href="wasm-module_8h_source.html#l00148">v8::internal::wasm::WasmMemory::is_shared</a>, <a class="el" href="module-instantiate_8cc_source.html#l01227">isolate_</a>, <a class="el" href="wasm-objects_8h_source.html#l00427">v8::internal::WasmMemoryObject::kNoMaximum</a>, <a class="el" href="namespacev8_1_1internal.html#a680ace1d3e86dae2df93867132a3c160af80e42734f3024456dd90ae366cecf3e">v8::internal::kNotShared</a>, <a class="el" href="namespacev8_1_1internal.html#a680ace1d3e86dae2df93867132a3c160a767e1337acb2aa20d7ce4e903a75ca16">v8::internal::kShared</a>, <a class="el" href="wasm-module_8h_source.html#l00147">v8::internal::wasm::WasmMemory::maximum_pages</a>, <a class="el" href="wasm-module_8h_source.html#l00718">v8::internal::wasm::WasmModule::memories</a>, <a class="el" href="module-instantiate_8cc_source.html#l01230">module_</a>, <a class="el" href="wasm-objects_8cc_source.html#l00878">v8::internal::WasmMemoryObject::New()</a>, and <a class="el" href="module-instantiate_8cc_source.html#l01231">thrower_</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l01493">Build_Phase1()</a>.</p>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ae3c166e0938385ff98e8d6c54b0c5e3c_cgraph.svg" width="100%" height="540"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ae3c166e0938385ff98e8d6c54b0c5e3c_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a938db18c8e2421c00cc0d7f430d66d69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a938db18c8e2421c00cc0d7f430d66d69">&#9670;&nbsp;</a></span>Build()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1MaybeDirectHandle.html">MaybeDirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1WasmInstanceObject.html">WasmInstanceObject</a> &gt; v8::internal::wasm::InstanceBuilder::Build </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l01453">1453</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;                                                             {</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;  <a class="code" href="trace-event-no-perfetto_8h.html#a3feabb76c0ac2918798bc11ab55c6a79">TRACE_EVENT0</a>(<a class="code" href="trace-event-no-perfetto_8h.html#a97689377430b094caec680dd7dd230fe">TRACE_DISABLED_BY_DEFAULT</a>(<span class="stringliteral">&quot;v8.wasm.detailed&quot;</span>),</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;               <span class="stringliteral">&quot;wasm.InstanceBuilder.Build&quot;</span>);</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;  <span class="comment">// Will check whether {ffi_} is available.</span></div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a1a1ad8fdce6b621e61b911257faf452e">SanitizeImports</a>();</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1ErrorThrower.html#a603a53d1ac3dddd81154744ff36db838">error</a>()) <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160; </div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;  <span class="comment">// From here on, we expect the build pipeline to run without exiting to JS.</span></div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;  DisallowJavascriptExecution no_js(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>);</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;  <span class="comment">// Start a timer for instantiation time, if we have a high resolution timer.</span></div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;  base::ElapsedTimer timer;</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1base_1_1TimeTicks.html#acdd9f8482c321164c58f46bc65372c9b">base::TimeTicks::IsHighResolution</a>()) {</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;    timer.Start();</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;  }</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;  <a class="code" href="structv8_1_1metrics_1_1WasmModuleInstantiated.html">v8::metrics::WasmModuleInstantiated</a> wasm_module_instantiated;</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160; </div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;  <span class="comment">// Phase 1: uses a {TrustedPointerPublishingScope} to make the new,</span></div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;  <span class="comment">// partially-initialized instance inaccessible in case of failure.</span></div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a19ff41479bcf41dea4de46c20473b59b">Build_Phase1</a>(no_js).IsNothing()) <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;  <span class="comment">// Phase 2: assumes that the new instance is already sufficiently</span></div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;  <span class="comment">// consistently initialized to be exposed to user code.</span></div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ab3d1c1a339e6c1a255a866ed837b1e52">Build_Phase2</a>().IsNothing()) <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160; </div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;  wasm_module_instantiated.<a class="code" href="structv8_1_1metrics_1_1WasmModuleInstantiated.html#a979d7803d0accf5f9d546249a6f8c53f">success</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;  wasm_module_instantiated.<a class="code" href="structv8_1_1metrics_1_1WasmModuleInstantiated.html#abfef0c4e3aef909ee793558c8ffce507">imported_function_count</a> =</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a81b4b2b056e744758f875acafe4c909a">num_imported_functions</a>;</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;  <span class="keywordflow">if</span> (timer.IsStarted()) {</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;    base::TimeDelta instantiation_time = timer.Elapsed();</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;    wasm_module_instantiated.<a class="code" href="structv8_1_1metrics_1_1WasmModuleInstantiated.html#a6a5198f9a696a80231c6b9ba46ad781b">wall_clock_duration_in_us</a> =</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;        instantiation_time.InMicroseconds();</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;    <a class="code" href="wasm-module_8h.html#a97da966b01775707b360f5ace2370c0e">SELECT_WASM_COUNTER</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a9690b82e4f9b4c8a9160630396cde0b3">counters</a>(), <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a7871ace0ad8518a7de0c52ac35e43eb2">origin</a>, wasm_instantiate,</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;                        module_time)</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;        -&gt;AddTimedSample(instantiation_time);</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a1c72d1ac998da605895f5d4e29f3d43f">metrics_recorder</a>()-&gt;DelayMainThreadEvent(wasm_module_instantiated,</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;                                                       <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ad3660708cd48a28bc322058d00be48f1">context_id_</a>);</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;  }</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160; </div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aea7551d380bf83fce78fac6dae327a78">trusted_data_</a>-&gt;instance_object(), <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>);</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1base_1_1TimeTicks_html_acdd9f8482c321164c58f46bc65372c9b"><div class="ttname"><a href="classv8_1_1base_1_1TimeTicks.html#acdd9f8482c321164c58f46bc65372c9b">v8::base::TimeTicks::IsHighResolution</a></div><div class="ttdeci">static bool IsHighResolution()</div><div class="ttdef"><b>Definition:</b> <a href="time_8cc_source.html#l00763">time.cc:763</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a1c72d1ac998da605895f5d4e29f3d43f"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a1c72d1ac998da605895f5d4e29f3d43f">v8::internal::Isolate::metrics_recorder</a></div><div class="ttdeci">const std::shared_ptr&lt; metrics::Recorder &gt; &amp; metrics_recorder()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l01202">isolate.h:1202</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a9690b82e4f9b4c8a9160630396cde0b3"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a9690b82e4f9b4c8a9160630396cde0b3">v8::internal::Isolate::counters</a></div><div class="ttdeci">Counters * counters()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l01195">isolate.h:1195</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1ErrorThrower_html_a603a53d1ac3dddd81154744ff36db838"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1ErrorThrower.html#a603a53d1ac3dddd81154744ff36db838">v8::internal::wasm::ErrorThrower::error</a></div><div class="ttdeci">bool error() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-result_8h_source.html#l00149">wasm-result.h:149</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1InstanceBuilder_html_a19ff41479bcf41dea4de46c20473b59b"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a19ff41479bcf41dea4de46c20473b59b">v8::internal::wasm::InstanceBuilder::Build_Phase1</a></div><div class="ttdeci">Maybe&lt; bool &gt; Build_Phase1(const DisallowJavascriptExecution &amp;no_js)</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l01493">module-instantiate.cc:1493</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1InstanceBuilder_html_a1a1ad8fdce6b621e61b911257faf452e"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a1a1ad8fdce6b621e61b911257faf452e">v8::internal::wasm::InstanceBuilder::SanitizeImports</a></div><div class="ttdeci">void SanitizeImports()</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l02224">module-instantiate.cc:2224</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1InstanceBuilder_html_ab3d1c1a339e6c1a255a866ed837b1e52"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ab3d1c1a339e6c1a255a866ed837b1e52">v8::internal::wasm::InstanceBuilder::Build_Phase2</a></div><div class="ttdeci">Maybe&lt; bool &gt; Build_Phase2()</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l01914">module-instantiate.cc:1914</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1InstanceBuilder_html_aea7551d380bf83fce78fac6dae327a78"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aea7551d380bf83fce78fac6dae327a78">v8::internal::wasm::InstanceBuilder::trusted_data_</a></div><div class="ttdeci">DirectHandle&lt; WasmTrustedInstanceData &gt; trusted_data_</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l01233">module-instantiate.cc:1233</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a73502f55102d18cb764881bc29f35c05"><div class="ttname"><a href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">v8::internal::direct_handle</a></div><div class="ttdeci">DirectHandle&lt; T &gt; direct_handle(Tagged&lt; T &gt; object, Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="handles-inl_8h_source.html#l00143">handles-inl.h:143</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_a7871ace0ad8518a7de0c52ac35e43eb2"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a7871ace0ad8518a7de0c52ac35e43eb2">v8::internal::wasm::WasmModule::origin</a></div><div class="ttdeci">const ModuleOrigin origin</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00734">wasm-module.h:734</a></div></div>
<div class="ttc" id="astructv8_1_1metrics_1_1WasmModuleInstantiated_html"><div class="ttname"><a href="structv8_1_1metrics_1_1WasmModuleInstantiated.html">v8::metrics::WasmModuleInstantiated</a></div><div class="ttdef"><b>Definition:</b> <a href="v8-metrics_8h_source.html#l00162">v8-metrics.h:162</a></div></div>
<div class="ttc" id="astructv8_1_1metrics_1_1WasmModuleInstantiated_html_a6a5198f9a696a80231c6b9ba46ad781b"><div class="ttname"><a href="structv8_1_1metrics_1_1WasmModuleInstantiated.html#a6a5198f9a696a80231c6b9ba46ad781b">v8::metrics::WasmModuleInstantiated::wall_clock_duration_in_us</a></div><div class="ttdeci">int64_t wall_clock_duration_in_us</div><div class="ttdef"><b>Definition:</b> <a href="v8-metrics_8h_source.html#l00166">v8-metrics.h:166</a></div></div>
<div class="ttc" id="astructv8_1_1metrics_1_1WasmModuleInstantiated_html_a979d7803d0accf5f9d546249a6f8c53f"><div class="ttname"><a href="structv8_1_1metrics_1_1WasmModuleInstantiated.html#a979d7803d0accf5f9d546249a6f8c53f">v8::metrics::WasmModuleInstantiated::success</a></div><div class="ttdeci">bool success</div><div class="ttdef"><b>Definition:</b> <a href="v8-metrics_8h_source.html#l00164">v8-metrics.h:164</a></div></div>
<div class="ttc" id="astructv8_1_1metrics_1_1WasmModuleInstantiated_html_abfef0c4e3aef909ee793558c8ffce507"><div class="ttname"><a href="structv8_1_1metrics_1_1WasmModuleInstantiated.html#abfef0c4e3aef909ee793558c8ffce507">v8::metrics::WasmModuleInstantiated::imported_function_count</a></div><div class="ttdeci">size_t imported_function_count</div><div class="ttdef"><b>Definition:</b> <a href="v8-metrics_8h_source.html#l00165">v8-metrics.h:165</a></div></div>
<div class="ttc" id="atrace-event-no-perfetto_8h_html_a3feabb76c0ac2918798bc11ab55c6a79"><div class="ttname"><a href="trace-event-no-perfetto_8h.html#a3feabb76c0ac2918798bc11ab55c6a79">TRACE_EVENT0</a></div><div class="ttdeci">#define TRACE_EVENT0(category_group, name)</div><div class="ttdef"><b>Definition:</b> <a href="trace-event-no-perfetto_8h_source.html#l00032">trace-event-no-perfetto.h:32</a></div></div>
<div class="ttc" id="atrace-event-no-perfetto_8h_html_a97689377430b094caec680dd7dd230fe"><div class="ttname"><a href="trace-event-no-perfetto_8h.html#a97689377430b094caec680dd7dd230fe">TRACE_DISABLED_BY_DEFAULT</a></div><div class="ttdeci">#define TRACE_DISABLED_BY_DEFAULT(name)</div><div class="ttdef"><b>Definition:</b> <a href="trace-event-no-perfetto_8h_source.html#l00025">trace-event-no-perfetto.h:25</a></div></div>
<div class="ttc" id="awasm-module_8h_html_a97da966b01775707b360f5ace2370c0e"><div class="ttname"><a href="wasm-module_8h.html#a97da966b01775707b360f5ace2370c0e">SELECT_WASM_COUNTER</a></div><div class="ttdeci">#define SELECT_WASM_COUNTER(counters, origin, prefix, suffix)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00295">wasm-module.h:295</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="module-instantiate_8cc_source.html#l01493">Build_Phase1()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01914">Build_Phase2()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01228">context_id_</a>, <a class="el" href="execution_2isolate_8h_source.html#l01195">v8::internal::Isolate::counters()</a>, <a class="el" href="handles-inl_8h_source.html#l00143">v8::internal::direct_handle()</a>, <a class="el" href="elapsed-timer_8h_source.html#l00099">v8::base::ElapsedTimer::Elapsed()</a>, <a class="el" href="wasm-result_8h_source.html#l00149">v8::internal::wasm::ErrorThrower::error()</a>, <a class="el" href="v8-metrics_8h_source.html#l00165">v8::metrics::WasmModuleInstantiated::imported_function_count</a>, <a class="el" href="time_8cc_source.html#l00251">v8::base::TimeDelta::InMicroseconds()</a>, <a class="el" href="time_8cc_source.html#l00763">v8::base::TimeTicks::IsHighResolution()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01227">isolate_</a>, <a class="el" href="elapsed-timer_8h_source.html#l00045">v8::base::ElapsedTimer::IsStarted()</a>, <a class="el" href="execution_2isolate_8h_source.html#l01202">v8::internal::Isolate::metrics_recorder()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01230">module_</a>, <a class="el" href="wasm-module_8h_source.html#l00681">v8::internal::wasm::WasmModule::num_imported_functions</a>, <a class="el" href="wasm-module_8h_source.html#l00734">v8::internal::wasm::WasmModule::origin</a>, <a class="el" href="module-instantiate_8cc_source.html#l02224">SanitizeImports()</a>, <a class="el" href="wasm-module_8h_source.html#l00295">SELECT_WASM_COUNTER</a>, <a class="el" href="elapsed-timer_8h_source.html#l00021">v8::base::ElapsedTimer::Start()</a>, <a class="el" href="v8-metrics_8h_source.html#l00164">v8::metrics::WasmModuleInstantiated::success</a>, <a class="el" href="module-instantiate_8cc_source.html#l01231">thrower_</a>, <a class="el" href="trace-event-no-perfetto_8h_source.html#l00025">TRACE_DISABLED_BY_DEFAULT</a>, <a class="el" href="trace-event-no-perfetto_8h_source.html#l00032">TRACE_EVENT0</a>, <a class="el" href="module-instantiate_8cc_source.html#l01233">trusted_data_</a>, and <a class="el" href="v8-metrics_8h_source.html#l00166">v8::metrics::WasmModuleInstantiated::wall_clock_duration_in_us</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l01403">v8::internal::wasm::InstantiateToInstanceObject()</a>.</p>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a938db18c8e2421c00cc0d7f430d66d69_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a938db18c8e2421c00cc0d7f430d66d69_icgraph.svg" width="100%" height="388"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a19ff41479bcf41dea4de46c20473b59b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19ff41479bcf41dea4de46c20473b59b">&#9670;&nbsp;</a></span>Build_Phase1()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1Maybe.html">Maybe</a>&lt; <a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a> &gt; v8::internal::wasm::InstanceBuilder::Build_Phase1 </td>
          <td>(</td>
          <td class="paramtype">const DisallowJavascriptExecution &amp;&#160;</td>
          <td class="paramname"><em>no_js</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l01493">1493</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;                                              {</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;  <span class="comment">// Any trusted pointers created here will be zapped unless instantiation</span></div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;  <span class="comment">// successfully runs to completion, to prevent trusted objects that violate</span></div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;  <span class="comment">// their own internal invariants because they&#39;re only partially-initialized</span></div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;  <span class="comment">// from becoming accessible to untrusted code.</span></div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;  <span class="comment">// We assume failure for now, and will update to success later.</span></div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;  TrustedPointerPublishingScope publish_trusted_objects(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, no_js);</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;  publish_trusted_objects.MarkFailure();</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;  NativeModule* native_module = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ad9acbe63776578c8905fa72206177a2c">module_object_</a>-&gt;native_module();</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160; </div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;  <span class="comment">//--------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;  <span class="comment">// Create the WebAssembly.Instance object.</span></div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;  <span class="comment">//--------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a3762add7a183a4d1750c04e5fa1a6d17">TRACE</a>(<span class="stringliteral">&quot;New module instantiation for %p\n&quot;</span>, native_module);</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aea7551d380bf83fce78fac6dae327a78">trusted_data_</a> = <a class="code" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a046bdad8a33dfd81561292116a4dbcec">WasmTrustedInstanceData::New</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ad9acbe63776578c8905fa72206177a2c">module_object_</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;  <span class="keywordtype">bool</span> shared = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ad9acbe63776578c8905fa72206177a2c">module_object_</a>-&gt;module()-&gt;has_shared_part;</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;  <span class="keywordflow">if</span> (shared) {</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;    <span class="comment">// For now, allocate the shared part in non-shared space. We do not need it</span></div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;    <span class="comment">// in shared space yet since no shared objects point to it.</span></div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;    <span class="comment">// TODO(42204563): This will change once we introduce shared globals,</span></div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;    <span class="comment">// tables, or functions.</span></div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ad89c98fe73daab093f44575c4e5c7b4f">shared_trusted_data_</a> =</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;        <a class="code" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a046bdad8a33dfd81561292116a4dbcec">WasmTrustedInstanceData::New</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ad9acbe63776578c8905fa72206177a2c">module_object_</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aea7551d380bf83fce78fac6dae327a78">trusted_data_</a>-&gt;set_shared_part(*<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ad89c98fe73daab093f44575c4e5c7b4f">shared_trusted_data_</a>);</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;  }</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160; </div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;  <span class="comment">//--------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;  <span class="comment">// Set up the memory buffers and memory objects and attach them to the</span></div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;  <span class="comment">// instance.</span></div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;  <span class="comment">//--------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a70bbfcab50b20ba5da8696e0373a8af4">is_asmjs_module</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>)) {</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(1, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a2db4294c50e9d81d12819ce61ababaec">memories</a>.size());</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;    DirectHandle&lt;JSArrayBuffer&gt; buffer;</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ace1391560ef1c60410ba29bb87806c9d">asmjs_memory_buffer_</a>.ToHandle(&amp;buffer)) {</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;      <span class="comment">// Use an empty JSArrayBuffer for degenerate asm.js modules.</span></div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;      MaybeDirectHandle&lt;JSArrayBuffer&gt; new_buffer =</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;          <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Factory.html#a51594e340f34ee0a31a326a1f659b6de">NewJSArrayBufferAndBackingStore</a>(</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;              0, <a class="code" href="namespacev8_1_1internal.html#a6d3f691695696e478ebb4a18ab857bfaa518b13885544b3431069d8b44387de9c">InitializedFlag::kUninitialized</a>);</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;      <span class="keywordflow">if</span> (!new_buffer.ToHandle(&amp;buffer)) {</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>-&gt;RangeError(<span class="stringliteral">&quot;Out of memory: asm.js memory&quot;</span>);</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;        <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;      }</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;      buffer-&gt;set_is_detachable(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;    }</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    <span class="comment">// asm.js instantiation should have changed the state of the buffer (or we</span></div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;    <span class="comment">// set it above).</span></div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!buffer-&gt;is_detachable());</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160; </div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;    <span class="comment">// The maximum number of pages isn&#39;t strictly necessary for memory</span></div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;    <span class="comment">// objects used for asm.js, as they are never visible, but we might</span></div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;    <span class="comment">// as well make it accurate.</span></div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;    <span class="keyword">auto</span> maximum_pages =</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;        <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="src_2base_2macros_8h.html#a5113f5db9eec9c30ecea57b8d4175f2d">RoundUp</a>(buffer-&gt;byte_length(), <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ac29e28cd9a3b18c7e07a3406d5d6ff1a">wasm::kWasmPageSize</a>) /</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;                         <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ac29e28cd9a3b18c7e07a3406d5d6ff1a">wasm::kWasmPageSize</a>);</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;    DirectHandle&lt;WasmMemoryObject&gt; memory_object = <a class="code" href="classv8_1_1internal_1_1WasmMemoryObject.html#ab10298844a3a2e6993fc6f3634eaf898">WasmMemoryObject::New</a>(</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, buffer, maximum_pages, <a class="code" href="namespacev8_1_1internal_1_1wasm.html#aca3af72b5da01dfb563e4c5f56af8952a0a0ecdb4eded286c722877578774a293">AddressType::kI32</a>);</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;    constexpr <span class="keywordtype">int</span> kMemoryIndexZero = 0;</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aea7551d380bf83fce78fac6dae327a78">trusted_data_</a>-&gt;memory_objects()-&gt;set(kMemoryIndexZero, *memory_object);</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ace1391560ef1c60410ba29bb87806c9d">asmjs_memory_buffer_</a>.is_null());</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;    DirectHandle&lt;FixedArray&gt; <a class="code" href="namespacev8_1_1internal.html#a932143dd77f3ffbd83a1186db64c0c8f">memory_objects</a>{<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aea7551d380bf83fce78fac6dae327a78">trusted_data_</a>-&gt;memory_objects(),</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;                                            <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>};</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;    <span class="comment">// First process all imported memories, then allocate non-imported ones.</span></div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a0c16bece87407beee6140ee5535bec4d">ProcessImportedMemories</a>(<a class="code" href="namespacev8_1_1internal.html#a932143dd77f3ffbd83a1186db64c0c8f">memory_objects</a>)) {</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;      <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;    }</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;    <span class="comment">// Actual Wasm modules can have multiple memories.</span></div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;    static_assert(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#ab89f70ccd3d4626bef2224d6496f7feb">kV8MaxWasmMemories</a> &lt;= <a class="code" href="namespacev8_1_1internal.html#ae9b3d70a0b2f7c3c669d187fd9a9dae2">kMaxUInt32</a>);</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;    uint32_t num_memories = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a2db4294c50e9d81d12819ce61ababaec">memories</a>.size());</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;    <span class="keywordflow">for</span> (uint32_t memory_index = 0; memory_index &lt; num_memories;</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;         ++memory_index) {</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;      <span class="keywordflow">if</span> (!IsUndefined(<a class="code" href="namespacev8_1_1internal.html#a932143dd77f3ffbd83a1186db64c0c8f">memory_objects</a>-&gt;get(memory_index))) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;      DirectHandle&lt;WasmMemoryObject&gt; memory_object;</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ae3c166e0938385ff98e8d6c54b0c5e3c">AllocateMemory</a>(memory_index).ToHandle(&amp;memory_object)) {</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#a932143dd77f3ffbd83a1186db64c0c8f">memory_objects</a>-&gt;set(memory_index, *memory_object);</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#aed5dcd4c10242ef0225dfbd02b5dbdd3">has_exception</a>() || <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1ErrorThrower.html#a603a53d1ac3dddd81154744ff36db838">error</a>());</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;        <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;      }</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;    }</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;  }</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160; </div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;  <span class="comment">//--------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;  <span class="comment">// Set up the globals for the new instance.</span></div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;  <span class="comment">//--------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;  uint32_t untagged_globals_buffer_size = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#aaf3bbf7eb37588802998ec3d64252080">untagged_globals_buffer_size</a>;</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;  <span class="keywordflow">if</span> (untagged_globals_buffer_size &gt; 0) {</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;    MaybeDirectHandle&lt;JSArrayBuffer&gt; <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> =</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Factory.html#a51594e340f34ee0a31a326a1f659b6de">NewJSArrayBufferAndBackingStore</a>(</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;            untagged_globals_buffer_size, <a class="code" href="namespacev8_1_1internal.html#a6d3f691695696e478ebb4a18ab857bfaae914d084ea4fe52636ea783ce1c1cbc0">InitializedFlag::kZeroInitialized</a>,</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;            <a class="code" href="namespacev8_1_1internal.html#a604d5beeb6fc8639670f737ed201e20aa0aa38c28f349d65a6819e03844b73dff">AllocationType::kOld</a>);</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160; </div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.ToHandle(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a6388ff7aa2e2e6ba74dce9f0f96167af">untagged_globals_</a>)) {</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>-&gt;RangeError(<span class="stringliteral">&quot;Out of memory: wasm globals&quot;</span>);</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;      <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;    }</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160; </div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aea7551d380bf83fce78fac6dae327a78">trusted_data_</a>-&gt;set_untagged_globals_buffer(*<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a6388ff7aa2e2e6ba74dce9f0f96167af">untagged_globals_</a>);</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aea7551d380bf83fce78fac6dae327a78">trusted_data_</a>-&gt;set_globals_start(</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;        <span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a6388ff7aa2e2e6ba74dce9f0f96167af">untagged_globals_</a>-&gt;backing_store()));</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160; </div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;    <span class="comment">// TODO(42204563): Do this only if we have a shared untagged global.</span></div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;    <span class="comment">// TODO(42204563): Reinstate once we support shared globals.</span></div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;    <span class="comment">/* if (shared) {</span></div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;<span class="comment">      MaybeDirectHandle&lt;JSArrayBuffer&gt; shared_result =</span></div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;<span class="comment">          isolate_-&gt;factory()-&gt;NewJSArrayBufferAndBackingStore(</span></div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;<span class="comment">              untagged_globals_buffer_size, InitializedFlag::kZeroInitialized,</span></div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;<span class="comment">              AllocationType::kSharedOld);</span></div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;<span class="comment">      if (!shared_result.ToHandle(&amp;shared_untagged_globals_)) {</span></div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;<span class="comment">        thrower_-&gt;RangeError(&quot;Out of memory: wasm globals&quot;);</span></div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;<span class="comment">        return {};</span></div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;<span class="comment">      }</span></div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;<span class="comment">      shared_trusted_data-&gt;set_untagged_globals_buffer(</span></div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;<span class="comment">          *shared_untagged_globals_);</span></div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;<span class="comment">      shared_trusted_data-&gt;set_globals_start(reinterpret_cast&lt;uint8_t*&gt;(</span></div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;<span class="comment">          shared_untagged_globals_-&gt;backing_store()));</span></div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;<span class="comment">    }*/</span></div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;  }</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160; </div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;  uint32_t tagged_globals_buffer_size = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a1c8c3de7403dfd6d175a888b2f57b24c">tagged_globals_buffer_size</a>;</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;  <span class="keywordflow">if</span> (tagged_globals_buffer_size &gt; 0) {</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a71497507d2c1ffe7aae80873b0fb2b18">tagged_globals_</a> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1FactoryBase.html#add1def193680fa7edc2ead51ef49f8c3">NewFixedArray</a>(</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;        <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(tagged_globals_buffer_size));</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aea7551d380bf83fce78fac6dae327a78">trusted_data_</a>-&gt;set_tagged_globals_buffer(*<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a71497507d2c1ffe7aae80873b0fb2b18">tagged_globals_</a>);</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;    <span class="keywordflow">if</span> (shared) {</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#abc2acf18bcb1567e5343dd3af707e089">shared_tagged_globals_</a> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1FactoryBase.html#add1def193680fa7edc2ead51ef49f8c3">NewFixedArray</a>(</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;          <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(tagged_globals_buffer_size),</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#a604d5beeb6fc8639670f737ed201e20aa420fc4b93a98a0b612db8f2f69463514">AllocationType::kSharedOld</a>);</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ad89c98fe73daab093f44575c4e5c7b4f">shared_trusted_data_</a>-&gt;set_tagged_globals_buffer(*<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#abc2acf18bcb1567e5343dd3af707e089">shared_tagged_globals_</a>);</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;    }</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;  }</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160; </div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;  <span class="comment">//--------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;  <span class="comment">// Set up the array of references to imported globals&#39; array buffers.</span></div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;  <span class="comment">//--------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a56f32c556f3ad6b75e11d3d0733cb2a5">num_imported_mutable_globals</a> &gt; 0) {</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;    <span class="comment">// TODO(binji): This allocates one slot for each mutable global, which is</span></div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;    <span class="comment">// more than required if multiple globals are imported from the same</span></div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;    <span class="comment">// module.</span></div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;    DirectHandle&lt;FixedArray&gt; buffers_array = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1FactoryBase.html#add1def193680fa7edc2ead51ef49f8c3">NewFixedArray</a>(</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a56f32c556f3ad6b75e11d3d0733cb2a5">num_imported_mutable_globals</a>, <a class="code" href="namespacev8_1_1internal.html#a604d5beeb6fc8639670f737ed201e20aa0aa38c28f349d65a6819e03844b73dff">AllocationType::kOld</a>);</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aea7551d380bf83fce78fac6dae327a78">trusted_data_</a>-&gt;set_imported_mutable_globals_buffers(*buffers_array);</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;    <span class="keywordflow">if</span> (shared) {</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;      DirectHandle&lt;FixedArray&gt; shared_buffers_array =</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;          <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1FactoryBase.html#add1def193680fa7edc2ead51ef49f8c3">NewFixedArray</a>(</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;              <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a56f32c556f3ad6b75e11d3d0733cb2a5">num_imported_mutable_globals</a>,</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;              <a class="code" href="namespacev8_1_1internal.html#a604d5beeb6fc8639670f737ed201e20aa420fc4b93a98a0b612db8f2f69463514">AllocationType::kSharedOld</a>);</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ad89c98fe73daab093f44575c4e5c7b4f">shared_trusted_data_</a>-&gt;set_imported_mutable_globals_buffers(</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;          *shared_buffers_array);</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;    }</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;  }</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160; </div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;  <span class="comment">//--------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;  <span class="comment">// Set up the tag table used for exception tag checks.</span></div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;  <span class="comment">//--------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;  <span class="keywordtype">int</span> tags_count = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#ab543c357d83ca4ab20ea9f13a6656f85">tags</a>.size());</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;  <span class="keywordflow">if</span> (tags_count &gt; 0) {</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;    DirectHandle&lt;FixedArray&gt; tag_table =</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1FactoryBase.html#add1def193680fa7edc2ead51ef49f8c3">NewFixedArray</a>(tags_count, <a class="code" href="namespacev8_1_1internal.html#a604d5beeb6fc8639670f737ed201e20aa0aa38c28f349d65a6819e03844b73dff">AllocationType::kOld</a>);</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aea7551d380bf83fce78fac6dae327a78">trusted_data_</a>-&gt;set_tags_table(*tag_table);</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a725cea88ca63b898d35df6e718bd7b98">tags_wrappers_</a>.resize(tags_count);</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;    <span class="keywordflow">if</span> (shared) {</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;      DirectHandle&lt;FixedArray&gt; shared_tag_table =</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;          <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1FactoryBase.html#add1def193680fa7edc2ead51ef49f8c3">NewFixedArray</a>(tags_count,</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;                                             <a class="code" href="namespacev8_1_1internal.html#a604d5beeb6fc8639670f737ed201e20aa420fc4b93a98a0b612db8f2f69463514">AllocationType::kSharedOld</a>);</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ad89c98fe73daab093f44575c4e5c7b4f">shared_trusted_data_</a>-&gt;set_tags_table(*shared_tag_table);</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#acf647301763e320d9808ad2d3e6fa8a5">shared_tags_wrappers_</a>.resize(tags_count);</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;    }</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;  }</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160; </div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;  <span class="comment">//--------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;  <span class="comment">// Set up table storage space, and initialize it for non-imported tables.</span></div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;  <span class="comment">//--------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;  <span class="keywordtype">int</span> table_count = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#af40a46c2d14efc9c68b499d7a459d9b0">tables</a>.size());</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;  <span class="keywordflow">if</span> (table_count == 0) {</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aea7551d380bf83fce78fac6dae327a78">trusted_data_</a>-&gt;set_tables(*<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;empty_fixed_array());</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;    <span class="keywordflow">if</span> (shared) {</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ad89c98fe73daab093f44575c4e5c7b4f">shared_trusted_data_</a>-&gt;set_tables(</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;          *<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;empty_fixed_array());</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;    }</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;    DirectHandle&lt;FixedArray&gt; <a class="code" href="namespacev8_1_1internal.html#a484d41a2d1f12b77b5cf3953276c1efb">tables</a> =</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1FactoryBase.html#add1def193680fa7edc2ead51ef49f8c3">NewFixedArray</a>(table_count);</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;    DirectHandle&lt;ProtectedFixedArray&gt; dispatch_tables =</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1FactoryBase.html#a279aed3cf8ea5e4afe4d04d5f7064220">NewProtectedFixedArray</a>(table_count);</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aea7551d380bf83fce78fac6dae327a78">trusted_data_</a>-&gt;set_tables(*<a class="code" href="namespacev8_1_1internal.html#a484d41a2d1f12b77b5cf3953276c1efb">tables</a>);</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aea7551d380bf83fce78fac6dae327a78">trusted_data_</a>-&gt;set_dispatch_tables(*dispatch_tables);</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;    DirectHandle&lt;FixedArray&gt; shared_tables;</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;    DirectHandle&lt;ProtectedFixedArray&gt; shared_dispatch_tables;</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;    <span class="keywordflow">if</span> (shared) {</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;      shared_tables = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1FactoryBase.html#add1def193680fa7edc2ead51ef49f8c3">NewFixedArray</a>(</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;          table_count, <a class="code" href="namespacev8_1_1internal.html#a604d5beeb6fc8639670f737ed201e20aa420fc4b93a98a0b612db8f2f69463514">AllocationType::kSharedOld</a>);</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;      shared_dispatch_tables =</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;          <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1FactoryBase.html#a279aed3cf8ea5e4afe4d04d5f7064220">NewProtectedFixedArray</a>(table_count);</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ad89c98fe73daab093f44575c4e5c7b4f">shared_trusted_data_</a>-&gt;set_tables(*shared_tables);</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ad89c98fe73daab093f44575c4e5c7b4f">shared_trusted_data_</a>-&gt;set_dispatch_tables(*shared_dispatch_tables);</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;    }</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a4fffb814a78fcdfe32cf2da5626c1c17">num_imported_tables</a>; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; table_count; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;      <span class="keyword">const</span> WasmTable&amp; table = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#af40a46c2d14efc9c68b499d7a459d9b0">tables</a>[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>];</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;      CanonicalValueType canonical_type = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a72d5b3903dd429c932220d3adee950a8">canonical_type</a>(table.type);</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;      <span class="comment">// Initialize tables with null for now. We will initialize non-defaultable</span></div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;      <span class="comment">// tables later, in {SetTableInitialValues}.</span></div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;      DirectHandle&lt;WasmDispatchTable&gt; dispatch_table;</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;      DirectHandle&lt;WasmTableObject&gt; table_obj = <a class="code" href="classv8_1_1internal_1_1WasmTableObject.html#a44960b521a446db5f1e61b9bfb0c56d6">WasmTableObject::New</a>(</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;          <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aad6f1251ab50c21c71d213e91b1bbc2e">trusted_data</a>(table.shared), table.type, canonical_type,</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;          table.initial_size, table.has_maximum_size, table.maximum_size,</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;          table.type.use_wasm_null()</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;              ? DirectHandle&lt;HeapObject&gt;{isolate_-&gt;factory()-&gt;wasm_null()}</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;              : DirectHandle&lt;HeapObject&gt;{isolate_-&gt;factory()-&gt;null_value()},</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;          table.address_type, &amp;dispatch_table);</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;      (table.shared ? shared_tables : <a class="code" href="namespacev8_1_1internal.html#a484d41a2d1f12b77b5cf3953276c1efb">tables</a>)-&gt;set(<a class="code" href="namespacev8_1_1internal.html">i</a>, *table_obj);</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;      <span class="keywordflow">if</span> (!dispatch_table.is_null()) {</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;        (table.shared ? shared_dispatch_tables : dispatch_tables)</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;            -&gt;set(<a class="code" href="namespacev8_1_1internal.html">i</a>, *dispatch_table);</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html">i</a> == 0) {</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;          <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aad6f1251ab50c21c71d213e91b1bbc2e">trusted_data</a>(table.shared)-&gt;set_dispatch_table0(*dispatch_table);</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;        }</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;      }</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;    }</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;  }</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160; </div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;  <span class="comment">//--------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;  <span class="comment">// Process the imports for the module.</span></div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;  <span class="comment">//--------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a4f710e1d1dd945669cbebae2b51835e5">import_table</a>.empty()) {</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;    <span class="keywordtype">int</span> num_imported_functions = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a1dd661a91a2054913525990d4d6def25">ProcessImports</a>();</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;    <span class="keywordflow">if</span> (num_imported_functions &lt; 0) <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;  }</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160; </div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;  <span class="comment">//--------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;  <span class="comment">// Create maps for managed objects (GC proposal).</span></div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;  <span class="comment">// Must happen before {InitGlobals} because globals can refer to these maps.</span></div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;  <span class="comment">//--------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a1c8bccf9b03db76dd60dbb7b0b5e3cac">isorecursive_canonical_type_ids</a>.empty()) {</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;    <span class="comment">// Make sure all canonical indices have been set.</span></div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#afd7a07cffcf040afe2cd8e07397040e4">MaxCanonicalTypeIndex</a>().<a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeIndex.html#a9340071636f85090c2fe2171797857c0">valid</a>());</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aac1117f1918f3c8580be0e192a1c7307">TypeCanonicalizer::PrepareForCanonicalTypeId</a>(</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#afd7a07cffcf040afe2cd8e07397040e4">MaxCanonicalTypeIndex</a>());</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;  }</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;  DirectHandle&lt;FixedArray&gt; non_shared_maps = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1FactoryBase.html#add1def193680fa7edc2ead51ef49f8c3">NewFixedArray</a>(</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;      <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a0e40d6e8dc4725dfce209c234005dbf6">types</a>.size()));</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;  DirectHandle&lt;FixedArray&gt; shared_maps =</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;      shared ? <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1FactoryBase.html#add1def193680fa7edc2ead51ef49f8c3">NewFixedArray</a>(</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;                   <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a0e40d6e8dc4725dfce209c234005dbf6">types</a>.size()),</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;                   <a class="code" href="namespacev8_1_1internal.html#a604d5beeb6fc8639670f737ed201e20aa420fc4b93a98a0b612db8f2f69463514">AllocationType::kSharedOld</a>)</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;             : DirectHandle&lt;FixedArray&gt;();</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;  <span class="keywordflow">for</span> (uint32_t <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = 0; <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> &lt; <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a0e40d6e8dc4725dfce209c234005dbf6">types</a>.size(); <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>++) {</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;    <span class="keywordtype">bool</span> map_is_shared = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a0e40d6e8dc4725dfce209c234005dbf6">types</a>[<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>].is_shared;</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ab82c3bde4946aa7c46eb207fd485dddc">CreateMapForType</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>, ModuleTypeIndex{<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>},</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;                     map_is_shared ? shared_maps : non_shared_maps);</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;  }</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aea7551d380bf83fce78fac6dae327a78">trusted_data_</a>-&gt;set_managed_object_maps(*non_shared_maps);</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;  <span class="keywordflow">if</span> (shared) <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ad89c98fe73daab093f44575c4e5c7b4f">shared_trusted_data_</a>-&gt;set_managed_object_maps(*shared_maps);</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;  <span class="keywordflow">for</span> (uint32_t <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a0e40d6e8dc4725dfce209c234005dbf6">types</a>.size(); <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;    DirectHandle&lt;FixedArray&gt; maps =</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a0e40d6e8dc4725dfce209c234005dbf6">types</a>[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>].is_shared ? shared_maps : non_shared_maps;</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a5297fd2c72981b2220e6b9a831570fb3">Tagged&lt;Object&gt;</a> o = maps-&gt;get(<a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(IsMap(o));</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;    Tagged&lt;Map&gt; map = Cast&lt;Map&gt;(o);</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    ModuleTypeIndex <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>{<a class="code" href="namespacev8_1_1internal.html">i</a>};</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a3afd8a65f37ef25ae73380555291ce94">has_signature</a>(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>)) {</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(map-&gt;instance_type(), WASM_FUNC_REF_TYPE);</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a4d7f2eb3c584f9a7b9d79754dd29a315">has_array</a>(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>)) {</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(map-&gt;instance_type(), WASM_ARRAY_TYPE);</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#aaf7eed69c6866ffacfec579a31b9fa3d">has_struct</a>(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>)) {</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(map-&gt;instance_type(), WASM_STRUCT_TYPE);</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;    }</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;  }</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160; </div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;  <span class="comment">//--------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;  <span class="comment">// Allocate the array that will hold type feedback vectors.</span></div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;  <span class="comment">//--------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_inlining) {</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;    <span class="keywordtype">int</span> num_functions = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a5a60fa14372f7bc06d7d6f51d23b0bee">num_declared_functions</a>);</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;    <span class="comment">// Zero-fill the array so we can do a quick Smi-check to test if a given</span></div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;    <span class="comment">// slot was initialized.</span></div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;    DirectHandle&lt;FixedArray&gt; vectors =</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1FactoryBase.html#ae56f02d0d6d5d61358da6e0eae0db018">NewFixedArrayWithZeroes</a>(num_functions,</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;                                                     <a class="code" href="namespacev8_1_1internal.html#a604d5beeb6fc8639670f737ed201e20aa0aa38c28f349d65a6819e03844b73dff">AllocationType::kOld</a>);</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aea7551d380bf83fce78fac6dae327a78">trusted_data_</a>-&gt;set_feedback_vectors(*vectors);</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;    <span class="keywordflow">if</span> (shared) {</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;      DirectHandle&lt;FixedArray&gt; shared_vectors =</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;          <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1FactoryBase.html#ae56f02d0d6d5d61358da6e0eae0db018">NewFixedArrayWithZeroes</a>(</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;              num_functions, <a class="code" href="namespacev8_1_1internal.html#a604d5beeb6fc8639670f737ed201e20aa420fc4b93a98a0b612db8f2f69463514">AllocationType::kSharedOld</a>);</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ad89c98fe73daab093f44575c4e5c7b4f">shared_trusted_data_</a>-&gt;set_feedback_vectors(*shared_vectors);</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;    }</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;  }</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160; </div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;  <span class="comment">//--------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;  <span class="comment">// Process the initialization for the module&#39;s globals.</span></div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;  <span class="comment">//--------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a0ce1b5afdf96a612550d4c83c0f17f61">InitGlobals</a>();</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160; </div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;  <span class="comment">//--------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;  <span class="comment">// Initialize non-defaultable tables.</span></div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;  <span class="comment">//--------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a2d8bc64719afc7f939af91de40590dd4">SetTableInitialValues</a>();</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160; </div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;  <span class="comment">//--------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;  <span class="comment">// Initialize the tags table.</span></div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;  <span class="comment">//--------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;  <span class="keywordflow">if</span> (tags_count &gt; 0) {</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a5ff70878af415967423e34367fbe5a9c">InitializeTags</a>();</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;  }</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160; </div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;  <span class="comment">//--------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;  <span class="comment">// Set up the exports object for the new instance.</span></div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;  <span class="comment">//--------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a446ff15923517ddda69049d7e6327e40">ProcessExports</a>();</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1ErrorThrower.html#a603a53d1ac3dddd81154744ff36db838">error</a>()) <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160; </div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;  <span class="comment">//--------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;  <span class="comment">// Set up uninitialized element segments.</span></div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;  <span class="comment">//--------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a4e531b388f3b2edb6a515b3a454ed49a">elem_segments</a>.empty()) {</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;    DirectHandle&lt;FixedArray&gt; elements = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1FactoryBase.html#add1def193680fa7edc2ead51ef49f8c3">NewFixedArray</a>(</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;        <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a4e531b388f3b2edb6a515b3a454ed49a">elem_segments</a>.size()));</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;    DirectHandle&lt;FixedArray&gt; shared_elements =</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;        shared ? <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1FactoryBase.html#add1def193680fa7edc2ead51ef49f8c3">NewFixedArray</a>(</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;                     <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a4e531b388f3b2edb6a515b3a454ed49a">elem_segments</a>.size()),</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;                     <a class="code" href="namespacev8_1_1internal.html#a604d5beeb6fc8639670f737ed201e20aa420fc4b93a98a0b612db8f2f69463514">AllocationType::kSharedOld</a>)</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;               : DirectHandle&lt;FixedArray&gt;();</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;    <span class="keywordflow">for</span> (uint32_t <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a4e531b388f3b2edb6a515b3a454ed49a">elem_segments</a>.size(); <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;      <span class="comment">// Initialize declarative segments as empty. The rest remain</span></div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;      <span class="comment">// uninitialized.</span></div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;      <span class="keywordtype">bool</span> is_declarative = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a4e531b388f3b2edb6a515b3a454ed49a">elem_segments</a>[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>].status ==</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;                            <a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmElemSegment.html#a582586e32b6c85b5bd98e21d10ac5c80a34c9f9de2180ad3d58c4162e04965b59">WasmElemSegment::kStatusDeclarative</a>;</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;      (<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a4e531b388f3b2edb6a515b3a454ed49a">elem_segments</a>[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>].shared ? shared_elements : elements)</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;          -&gt;set(<a class="code" href="namespacev8_1_1internal.html">i</a>, is_declarative</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;                       ? Cast&lt;Object&gt;(*<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;empty_fixed_array())</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;                       : *<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;undefined_value());</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;    }</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aea7551d380bf83fce78fac6dae327a78">trusted_data_</a>-&gt;set_element_segments(*elements);</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;    <span class="keywordflow">if</span> (shared) <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ad89c98fe73daab093f44575c4e5c7b4f">shared_trusted_data_</a>-&gt;set_element_segments(*shared_elements);</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;  }</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160; </div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;  <span class="comment">//--------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;  <span class="comment">// Create a wrapper for the start function.</span></div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;  <span class="comment">//--------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a56901830375bb8e0e1a796e712bace65">start_function_index</a> &gt;= 0) {</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;    <span class="keywordtype">int</span> start_index = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a56901830375bb8e0e1a796e712bace65">start_function_index</a>;</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;    <span class="keyword">auto</span>&amp; <span class="keyword">function</span> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a79b743888793de4a17ae53dd93988de6">functions</a>[start_index];</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160; </div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a27262cc634c8f7b70f38b76e3a1a4c7c">start_function_</a>.is_null());</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">function</span>.imported) {</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;      ImportedFunctionEntry entry(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aea7551d380bf83fce78fac6dae327a78">trusted_data_</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a56901830375bb8e0e1a796e712bace65">start_function_index</a>);</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a5297fd2c72981b2220e6b9a831570fb3">Tagged&lt;Object&gt;</a> callable = entry.maybe_callable();</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;      <span class="keywordflow">if</span> (IsJSFunction(callable)) {</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;        <span class="comment">// If the start function was imported and calls into Blink, we have</span></div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;        <span class="comment">// to pretend that the V8 API was used to enter its correct context.</span></div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;        <span class="comment">// In order to simplify entering the context in {ExecuteStartFunction}</span></div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;        <span class="comment">// below, we just record the callable as the start function.</span></div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a27262cc634c8f7b70f38b76e3a1a4c7c">start_function_</a> = <a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(Cast&lt;JSFunction&gt;(callable), <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>);</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;      }</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;    }</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a27262cc634c8f7b70f38b76e3a1a4c7c">start_function_</a>.is_null()) {</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;      <span class="comment">// TODO(clemensb): Don&#39;t generate an exported function for the start</span></div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;      <span class="comment">// function. Use CWasmEntry instead.</span></div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;      <span class="keywordtype">bool</span> function_is_shared = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a89e37309b6619867746a4cf77adcaa2a">type</a>(<span class="keyword">function</span>.sig_index).<a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeDefinition.html#acc6533d7fffb2a411e20b62f7512038e">is_shared</a>;</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;      DirectHandle&lt;WasmFuncRef&gt; func_ref =</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;          <a class="code" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a27d1f1a3201baec4b9103b3bb27888b6">WasmTrustedInstanceData::GetOrCreateFuncRef</a>(</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;              <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aad6f1251ab50c21c71d213e91b1bbc2e">trusted_data</a>(function_is_shared), start_index);</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;      DirectHandle&lt;WasmInternalFunction&gt; <span class="keyword">internal</span>{func_ref-&gt;internal(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>),</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;                                                  <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>};</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a27262cc634c8f7b70f38b76e3a1a4c7c">start_function_</a> = <a class="code" href="classv8_1_1internal_1_1WasmInternalFunction.html#aa01e2244c83b9a4ca24d4bfd2cb0d78a">WasmInternalFunction::GetOrCreateExternal</a>(<span class="keyword">internal</span>);</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;    }</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;  }</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160; </div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#aed5dcd4c10242ef0225dfbd02b5dbdd3">has_exception</a>());</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a3762add7a183a4d1750c04e5fa1a6d17">TRACE</a>(<span class="stringliteral">&quot;Successfully built instance for module %p\n&quot;</span>,</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ad9acbe63776578c8905fa72206177a2c">module_object_</a>-&gt;native_module());</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160; </div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;<span class="preprocessor">#if V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;  <span class="comment">// Skip this event because not (yet) supported by Chromium.</span></div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160; </div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;  <span class="comment">// v8::metrics::WasmInterpreterJitStatus jit_status;</span></div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;  <span class="comment">// jit_status.jitless = v8_flags.wasm_jitless;</span></div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;  <span class="comment">// isolate_-&gt;metrics_recorder()-&gt;DelayMainThreadEvent(jit_status,</span></div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;  <span class="comment">// context_id_);</span></div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160; </div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;  publish_trusted_objects.MarkSuccess();</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a625fd0c2f39972e36a9f2956b40ebfba">Build_Phase1_Infallible</a>();</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8.html#a41f0e280eadfba6ac9afd833fdd540cf">Just</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1FactoryBase_html_a279aed3cf8ea5e4afe4d04d5f7064220"><div class="ttname"><a href="classv8_1_1internal_1_1FactoryBase.html#a279aed3cf8ea5e4afe4d04d5f7064220">v8::internal::FactoryBase::NewProtectedFixedArray</a></div><div class="ttdeci">Handle&lt; ProtectedFixedArray &gt; NewProtectedFixedArray(int length, bool shared=false)</div><div class="ttdef"><b>Definition:</b> <a href="factory-base_8cc_source.html#l00198">factory-base.cc:198</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FactoryBase_html_add1def193680fa7edc2ead51ef49f8c3"><div class="ttname"><a href="classv8_1_1internal_1_1FactoryBase.html#add1def193680fa7edc2ead51ef49f8c3">v8::internal::FactoryBase::NewFixedArray</a></div><div class="ttdeci">Handle&lt; FixedArray &gt; NewFixedArray(int length, AllocationType allocation=AllocationType::kYoung)</div><div class="ttdef"><b>Definition:</b> <a href="factory-base_8cc_source.html#l00180">factory-base.cc:180</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FactoryBase_html_ae56f02d0d6d5d61358da6e0eae0db018"><div class="ttname"><a href="classv8_1_1internal_1_1FactoryBase.html#ae56f02d0d6d5d61358da6e0eae0db018">v8::internal::FactoryBase::NewFixedArrayWithZeroes</a></div><div class="ttdeci">DirectHandle&lt; FixedArray &gt; NewFixedArrayWithZeroes(int length, AllocationType allocation=AllocationType::kYoung)</div><div class="ttdef"><b>Definition:</b> <a href="factory-base_8cc_source.html#l00238">factory-base.cc:238</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Factory_html_a51594e340f34ee0a31a326a1f659b6de"><div class="ttname"><a href="classv8_1_1internal_1_1Factory.html#a51594e340f34ee0a31a326a1f659b6de">v8::internal::Factory::NewJSArrayBufferAndBackingStore</a></div><div class="ttdeci">MaybeHandle&lt; JSArrayBuffer &gt; NewJSArrayBufferAndBackingStore(size_t byte_length, InitializedFlag initialized, AllocationType allocation=AllocationType::kYoung)</div><div class="ttdef"><b>Definition:</b> <a href="factory_8cc_source.html#l03532">factory.cc:3532</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a7e2962359009581ba84e6a361f574f61"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">v8::internal::Isolate::factory</a></div><div class="ttdeci">v8::internal::Factory * factory()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l01553">isolate.h:1553</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_aed5dcd4c10242ef0225dfbd02b5dbdd3"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#aed5dcd4c10242ef0225dfbd02b5dbdd3">v8::internal::Isolate::has_exception</a></div><div class="ttdeci">bool has_exception()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate-inl_8h_source.html#l00125">isolate-inl.h:125</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmInternalFunction_html_aa01e2244c83b9a4ca24d4bfd2cb0d78a"><div class="ttname"><a href="classv8_1_1internal_1_1WasmInternalFunction.html#aa01e2244c83b9a4ca24d4bfd2cb0d78a">v8::internal::WasmInternalFunction::GetOrCreateExternal</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE DirectHandle&lt; JSFunction &gt; GetOrCreateExternal(DirectHandle&lt; WasmInternalFunction &gt; internal)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l02045">wasm-objects.cc:2045</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTableObject_html_a44960b521a446db5f1e61b9bfb0c56d6"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTableObject.html#a44960b521a446db5f1e61b9bfb0c56d6">v8::internal::WasmTableObject::New</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE DirectHandle&lt; WasmTableObject &gt; New(Isolate *isolate, DirectHandle&lt; WasmTrustedInstanceData &gt; trusted_data, wasm::ValueType type, wasm::CanonicalValueType canonical_type, uint32_t initial, bool has_maximum, uint64_t maximum, DirectHandle&lt; Object &gt; initial_value, wasm::AddressType address_type, DirectHandle&lt; WasmDispatchTable &gt; *out_dispatch_table=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l00196">wasm-objects.cc:196</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTrustedInstanceData_html_a046bdad8a33dfd81561292116a4dbcec"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a046bdad8a33dfd81561292116a4dbcec">v8::internal::WasmTrustedInstanceData::New</a></div><div class="ttdeci">static DirectHandle&lt; WasmTrustedInstanceData &gt; New(Isolate *, DirectHandle&lt; WasmModuleObject &gt;, bool shared)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l01686">wasm-objects.cc:1686</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTrustedInstanceData_html_a27d1f1a3201baec4b9103b3bb27888b6"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a27d1f1a3201baec4b9103b3bb27888b6">v8::internal::WasmTrustedInstanceData::GetOrCreateFuncRef</a></div><div class="ttdeci">static DirectHandle&lt; WasmFuncRef &gt; GetOrCreateFuncRef(Isolate *isolate, DirectHandle&lt; WasmTrustedInstanceData &gt; trusted_instance_data, int function_index)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l01995">wasm-objects.cc:1995</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1InstanceBuilder_html_a0c16bece87407beee6140ee5535bec4d"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a0c16bece87407beee6140ee5535bec4d">v8::internal::wasm::InstanceBuilder::ProcessImportedMemories</a></div><div class="ttdeci">bool ProcessImportedMemories(DirectHandle&lt; FixedArray &gt; imported_memory_objects)</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l02770">module-instantiate.cc:2770</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1InstanceBuilder_html_a0ce1b5afdf96a612550d4c83c0f17f61"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a0ce1b5afdf96a612550d4c83c0f17f61">v8::internal::wasm::InstanceBuilder::InitGlobals</a></div><div class="ttdeci">void InitGlobals()</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l02851">module-instantiate.cc:2851</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1InstanceBuilder_html_a1dd661a91a2054913525990d4d6def25"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a1dd661a91a2054913525990d4d6def25">v8::internal::wasm::InstanceBuilder::ProcessImports</a></div><div class="ttdeci">int ProcessImports()</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l02686">module-instantiate.cc:2686</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1InstanceBuilder_html_a27262cc634c8f7b70f38b76e3a1a4c7c"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a27262cc634c8f7b70f38b76e3a1a4c7c">v8::internal::wasm::InstanceBuilder::start_function_</a></div><div class="ttdeci">DirectHandle&lt; JSFunction &gt; start_function_</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l01243">module-instantiate.cc:1243</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1InstanceBuilder_html_a2d8bc64719afc7f939af91de40590dd4"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a2d8bc64719afc7f939af91de40590dd4">v8::internal::wasm::InstanceBuilder::SetTableInitialValues</a></div><div class="ttdeci">void SetTableInitialValues()</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l03114">module-instantiate.cc:3114</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1InstanceBuilder_html_a446ff15923517ddda69049d7e6327e40"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a446ff15923517ddda69049d7e6327e40">v8::internal::wasm::InstanceBuilder::ProcessExports</a></div><div class="ttdeci">void ProcessExports()</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l02893">module-instantiate.cc:2893</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1InstanceBuilder_html_a5ff70878af415967423e34367fbe5a9c"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a5ff70878af415967423e34367fbe5a9c">v8::internal::wasm::InstanceBuilder::InitializeTags</a></div><div class="ttdeci">void InitializeTags()</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l03381">module-instantiate.cc:3381</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1InstanceBuilder_html_a625fd0c2f39972e36a9f2956b40ebfba"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a625fd0c2f39972e36a9f2956b40ebfba">v8::internal::wasm::InstanceBuilder::Build_Phase1_Infallible</a></div><div class="ttdeci">void Build_Phase1_Infallible()</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l01884">module-instantiate.cc:1884</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1InstanceBuilder_html_a6388ff7aa2e2e6ba74dce9f0f96167af"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a6388ff7aa2e2e6ba74dce9f0f96167af">v8::internal::wasm::InstanceBuilder::untagged_globals_</a></div><div class="ttdeci">DirectHandle&lt; JSArrayBuffer &gt; untagged_globals_</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l01237">module-instantiate.cc:1237</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1InstanceBuilder_html_a71497507d2c1ffe7aae80873b0fb2b18"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a71497507d2c1ffe7aae80873b0fb2b18">v8::internal::wasm::InstanceBuilder::tagged_globals_</a></div><div class="ttdeci">DirectHandle&lt; FixedArray &gt; tagged_globals_</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l01239">module-instantiate.cc:1239</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1InstanceBuilder_html_aad6f1251ab50c21c71d213e91b1bbc2e"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aad6f1251ab50c21c71d213e91b1bbc2e">v8::internal::wasm::InstanceBuilder::trusted_data</a></div><div class="ttdeci">DirectHandle&lt; WasmTrustedInstanceData &gt; trusted_data(bool shared) const</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l01253">module-instantiate.cc:1253</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1InstanceBuilder_html_abc2acf18bcb1567e5343dd3af707e089"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#abc2acf18bcb1567e5343dd3af707e089">v8::internal::wasm::InstanceBuilder::shared_tagged_globals_</a></div><div class="ttdeci">DirectHandle&lt; FixedArray &gt; shared_tagged_globals_</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l01240">module-instantiate.cc:1240</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1InstanceBuilder_html_ad89c98fe73daab093f44575c4e5c7b4f"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ad89c98fe73daab093f44575c4e5c7b4f">v8::internal::wasm::InstanceBuilder::shared_trusted_data_</a></div><div class="ttdeci">DirectHandle&lt; WasmTrustedInstanceData &gt; shared_trusted_data_</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l01234">module-instantiate.cc:1234</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1InstanceBuilder_html_ae3c166e0938385ff98e8d6c54b0c5e3c"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ae3c166e0938385ff98e8d6c54b0c5e3c">v8::internal::wasm::InstanceBuilder::AllocateMemory</a></div><div class="ttdeci">MaybeDirectHandle&lt; WasmMemoryObject &gt; AllocateMemory(uint32_t memory_index)</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l02871">module-instantiate.cc:2871</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html_aac1117f1918f3c8580be0e192a1c7307"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aac1117f1918f3c8580be0e192a1c7307">v8::internal::wasm::TypeCanonicalizer::PrepareForCanonicalTypeId</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE void PrepareForCanonicalTypeId(Isolate *isolate, CanonicalTypeIndex id)</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8cc_source.html#l00417">canonical-types.cc:417</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_1_1internal_html_a9840f2bf0b4780133662292486d0bc01"><div class="ttname"><a href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">v8::base::internal::result</a></div><div class="ttdeci">V result</div><div class="ttdef"><b>Definition:</b> <a href="clamped__math__impl_8h_source.html#l00082">clamped_math_impl.h:82</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_html_ad86b3cf21e19e97ce484f32b894d548c"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">v8::internal::anonymous_namespace{json-stringifier.cc}::i</a></div><div class="ttdeci">size_t i</div><div class="ttdef"><b>Definition:</b> <a href="json-stringifier_8cc_source.html#l00548">json-stringifier.cc:548</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a70bbfcab50b20ba5da8696e0373a8af4"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a70bbfcab50b20ba5da8696e0373a8af4">v8::internal::wasm::is_asmjs_module</a></div><div class="ttdeci">bool is_asmjs_module(const WasmModule *module)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00961">wasm-module.h:961</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ab82c3bde4946aa7c46eb207fd485dddc"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ab82c3bde4946aa7c46eb207fd485dddc">v8::internal::wasm::CreateMapForType</a></div><div class="ttdeci">void CreateMapForType(Isolate *isolate, const WasmModule *module, ModuleTypeIndex type_index, DirectHandle&lt; FixedArray &gt; maybe_shared_maps)</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l00057">module-instantiate.cc:57</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ab89f70ccd3d4626bef2224d6496f7feb"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ab89f70ccd3d4626bef2224d6496f7feb">v8::internal::wasm::kV8MaxWasmMemories</a></div><div class="ttdeci">constexpr size_t kV8MaxWasmMemories</div><div class="ttdef"><b>Definition:</b> <a href="wasm-limits_8h_source.html#l00061">wasm-limits.h:61</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ac29e28cd9a3b18c7e07a3406d5d6ff1a"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ac29e28cd9a3b18c7e07a3406d5d6ff1a">v8::internal::wasm::kWasmPageSize</a></div><div class="ttdeci">constexpr size_t kWasmPageSize</div><div class="ttdef"><b>Definition:</b> <a href="wasm-constants_8h_source.html#l00179">wasm-constants.h:179</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_aca3af72b5da01dfb563e4c5f56af8952a0a0ecdb4eded286c722877578774a293"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#aca3af72b5da01dfb563e4c5f56af8952a0a0ecdb4eded286c722877578774a293">v8::internal::wasm::AddressType::kI32</a></div><div class="ttdeci">@ kI32</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html"><div class="ttname"><a href="namespacev8_1_1internal.html">v8::internal</a></div><div class="ttdef"><b>Definition:</b> <a href="api-arguments-inl_8h_source.html#l00020">api-arguments-inl.h:20</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a0cfab207d565dcf62ebf50f3987e05de"><div class="ttname"><a href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">v8::internal::index</a></div><div class="ttdeci">int index</div><div class="ttdef"><b>Definition:</b> <a href="heap-snapshot-generator_8cc_source.html#l01698">heap-snapshot-generator.cc:1698</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a3762add7a183a4d1750c04e5fa1a6d17"><div class="ttname"><a href="namespacev8_1_1internal.html#a3762add7a183a4d1750c04e5fa1a6d17">v8::internal::TRACE</a></div><div class="ttdeci">TRACE(&quot;UNIMPLEMENTED code_generator_riscv64: %s at line %d\n&quot;, __FUNCTION__, __LINE__)</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a484d41a2d1f12b77b5cf3953276c1efb"><div class="ttname"><a href="namespacev8_1_1internal.html#a484d41a2d1f12b77b5cf3953276c1efb">v8::internal::tables</a></div><div class="ttdeci">kMemory0SizeOffset Address kNewAllocationLimitAddressOffset Address kOldAllocationLimitAddressOffset uint8_t kGlobalsStartOffset kJumpTableStartOffset std::atomic&lt; uint32_t &gt; kTieringBudgetArrayOffset kDataSegmentStartsOffset kElementSegmentsOffset kInstanceObjectOffset kMemoryObjectsOffset kTaggedGlobalsBufferOffset tables</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects-inl_8h_source.html#l00244">wasm-objects-inl.h:244</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5297fd2c72981b2220e6b9a831570fb3"><div class="ttname"><a href="namespacev8_1_1internal.html#a5297fd2c72981b2220e6b9a831570fb3">v8::internal::Tagged&lt; Object &gt;</a></div><div class="ttdeci">Tagged&lt; Object &gt;</div><div class="ttdef"><b>Definition:</b> <a href="js-objects-inl_8h_source.html#l00162">js-objects-inl.h:162</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a604d5beeb6fc8639670f737ed201e20aa0aa38c28f349d65a6819e03844b73dff"><div class="ttname"><a href="namespacev8_1_1internal.html#a604d5beeb6fc8639670f737ed201e20aa0aa38c28f349d65a6819e03844b73dff">v8::internal::AllocationType::kOld</a></div><div class="ttdeci">@ kOld</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a604d5beeb6fc8639670f737ed201e20aa420fc4b93a98a0b612db8f2f69463514"><div class="ttname"><a href="namespacev8_1_1internal.html#a604d5beeb6fc8639670f737ed201e20aa420fc4b93a98a0b612db8f2f69463514">v8::internal::AllocationType::kSharedOld</a></div><div class="ttdeci">@ kSharedOld</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a6d3f691695696e478ebb4a18ab857bfaa518b13885544b3431069d8b44387de9c"><div class="ttname"><a href="namespacev8_1_1internal.html#a6d3f691695696e478ebb4a18ab857bfaa518b13885544b3431069d8b44387de9c">v8::internal::InitializedFlag::kUninitialized</a></div><div class="ttdeci">@ kUninitialized</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a6d3f691695696e478ebb4a18ab857bfaae914d084ea4fe52636ea783ce1c1cbc0"><div class="ttname"><a href="namespacev8_1_1internal.html#a6d3f691695696e478ebb4a18ab857bfaae914d084ea4fe52636ea783ce1c1cbc0">v8::internal::InitializedFlag::kZeroInitialized</a></div><div class="ttdeci">@ kZeroInitialized</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a932143dd77f3ffbd83a1186db64c0c8f"><div class="ttname"><a href="namespacev8_1_1internal.html#a932143dd77f3ffbd83a1186db64c0c8f">v8::internal::memory_objects</a></div><div class="ttdeci">kMemory0SizeOffset Address kNewAllocationLimitAddressOffset Address kOldAllocationLimitAddressOffset uint8_t kGlobalsStartOffset kJumpTableStartOffset std::atomic&lt; uint32_t &gt; kTieringBudgetArrayOffset kDataSegmentStartsOffset kElementSegmentsOffset kInstanceObjectOffset memory_objects</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects-inl_8h_source.html#l00236">wasm-objects-inl.h:236</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa6b3743bd5d773c552654f2a6c3efa4a"><div class="ttname"><a href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK</a></div><div class="ttdeci">DCHECK(IsNull(value)||IsNativeContext(value)||value==Smi::uninitialized_deserialization_value())</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa9db791c05a0359859a321dcfec42e37"><div class="ttname"><a href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a></div><div class="ttdeci">V8_EXPORT_PRIVATE FlagValues v8_flags</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ae9b3d70a0b2f7c3c669d187fd9a9dae2"><div class="ttname"><a href="namespacev8_1_1internal.html#ae9b3d70a0b2f7c3c669d187fd9a9dae2">v8::internal::kMaxUInt32</a></div><div class="ttdeci">constexpr uint32_t kMaxUInt32</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00388">globals.h:388</a></div></div>
<div class="ttc" id="anamespacev8_html_a41f0e280eadfba6ac9afd833fdd540cf"><div class="ttname"><a href="namespacev8.html#a41f0e280eadfba6ac9afd833fdd540cf">v8::Just</a></div><div class="ttdeci">Maybe&lt; T &gt; Just(const T &amp;t)</div><div class="ttdef"><b>Definition:</b> <a href="v8-maybe_8h_source.html#l00126">v8-maybe.h:126</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a3e1cfef60e774a81f30eaddf26a3a274"><div class="ttname"><a href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a></div><div class="ttdeci">#define CHECK(condition)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00124">logging.h:124</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_aca32614b4d2aea7dd9abdeb222bf02f3"><div class="ttname"><a href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a></div><div class="ttdeci">#define CHECK_EQ(lhs, rhs)</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_af9c313d74155f7f201955a939e24c71f"><div class="ttname"><a href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a></div><div class="ttdeci">#define DCHECK_EQ(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00484">logging.h:484</a></div></div>
<div class="ttc" id="asrc_2base_2macros_8h_html_a5113f5db9eec9c30ecea57b8d4175f2d"><div class="ttname"><a href="src_2base_2macros_8h.html#a5113f5db9eec9c30ecea57b8d4175f2d">RoundUp</a></div><div class="ttdeci">constexpr T RoundUp(T x, intptr_t m)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2macros_8h_source.html#l00387">macros.h:387</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1TypeDefinition_html_acc6533d7fffb2a411e20b62f7512038e"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1TypeDefinition.html#acc6533d7fffb2a411e20b62f7512038e">v8::internal::wasm::TypeDefinition::is_shared</a></div><div class="ttdeci">bool is_shared</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00481">wasm-module.h:481</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1TypeIndex_html_a9340071636f85090c2fe2171797857c0"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1TypeIndex.html#a9340071636f85090c2fe2171797857c0">v8::internal::wasm::TypeIndex::valid</a></div><div class="ttdeci">constexpr bool valid() const</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l00059">value-type.h:59</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmElemSegment_html_a582586e32b6c85b5bd98e21d10ac5c80a34c9f9de2180ad3d58c4162e04965b59"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmElemSegment.html#a582586e32b6c85b5bd98e21d10ac5c80a34c9f9de2180ad3d58c4162e04965b59">v8::internal::wasm::WasmElemSegment::kStatusDeclarative</a></div><div class="ttdeci">@ kStatusDeclarative</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00204">wasm-module.h:203</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_a0e40d6e8dc4725dfce209c234005dbf6"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a0e40d6e8dc4725dfce209c234005dbf6">v8::internal::wasm::WasmModule::types</a></div><div class="ttdeci">std::vector&lt; TypeDefinition &gt; types</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00710">wasm-module.h:710</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_a1c8bccf9b03db76dd60dbb7b0b5e3cac"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a1c8bccf9b03db76dd60dbb7b0b5e3cac">v8::internal::wasm::WasmModule::isorecursive_canonical_type_ids</a></div><div class="ttdeci">std::vector&lt; CanonicalTypeIndex &gt; isorecursive_canonical_type_ids</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00713">wasm-module.h:713</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_a1c8c3de7403dfd6d175a888b2f57b24c"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a1c8c3de7403dfd6d175a888b2f57b24c">v8::internal::wasm::WasmModule::tagged_globals_buffer_size</a></div><div class="ttdeci">uint32_t tagged_globals_buffer_size</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00678">wasm-module.h:678</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_a3afd8a65f37ef25ae73380555291ce94"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a3afd8a65f37ef25ae73380555291ce94">v8::internal::wasm::WasmModule::has_signature</a></div><div class="ttdeci">bool has_signature(ModuleTypeIndex index) const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00827">wasm-module.h:827</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_a4d7f2eb3c584f9a7b9d79754dd29a315"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a4d7f2eb3c584f9a7b9d79754dd29a315">v8::internal::wasm::WasmModule::has_array</a></div><div class="ttdeci">bool has_array(ModuleTypeIndex index) const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00872">wasm-module.h:872</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_a4e531b388f3b2edb6a515b3a454ed49a"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a4e531b388f3b2edb6a515b3a454ed49a">v8::internal::wasm::WasmModule::elem_segments</a></div><div class="ttdeci">std::vector&lt; WasmElemSegment &gt; elem_segments</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00723">wasm-module.h:723</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_a4fffb814a78fcdfe32cf2da5626c1c17"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a4fffb814a78fcdfe32cf2da5626c1c17">v8::internal::wasm::WasmModule::num_imported_tables</a></div><div class="ttdeci">uint32_t num_imported_tables</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00682">wasm-module.h:682</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_a56901830375bb8e0e1a796e712bace65"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a56901830375bb8e0e1a796e712bace65">v8::internal::wasm::WasmModule::start_function_index</a></div><div class="ttdeci">int start_function_index</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00673">wasm-module.h:673</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_a56f32c556f3ad6b75e11d3d0733cb2a5"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a56f32c556f3ad6b75e11d3d0733cb2a5">v8::internal::wasm::WasmModule::num_imported_mutable_globals</a></div><div class="ttdeci">uint32_t num_imported_mutable_globals</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00680">wasm-module.h:680</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_a5a60fa14372f7bc06d7d6f51d23b0bee"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a5a60fa14372f7bc06d7d6f51d23b0bee">v8::internal::wasm::WasmModule::num_declared_functions</a></div><div class="ttdeci">uint32_t num_declared_functions</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00684">wasm-module.h:684</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_a72d5b3903dd429c932220d3adee950a8"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a72d5b3903dd429c932220d3adee950a8">v8::internal::wasm::WasmModule::canonical_type</a></div><div class="ttdeci">CanonicalValueType canonical_type(ValueType type) const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00820">wasm-module.h:820</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_a79b743888793de4a17ae53dd93988de6"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a79b743888793de4a17ae53dd93988de6">v8::internal::wasm::WasmModule::functions</a></div><div class="ttdeci">std::vector&lt; WasmFunction &gt; functions</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00714">wasm-module.h:714</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_a89e37309b6619867746a4cf77adcaa2a"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a89e37309b6619867746a4cf77adcaa2a">v8::internal::wasm::WasmModule::type</a></div><div class="ttdeci">const TypeDefinition &amp; type(ModuleTypeIndex index) const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00801">wasm-module.h:801</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_aaf3bbf7eb37588802998ec3d64252080"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#aaf3bbf7eb37588802998ec3d64252080">v8::internal::wasm::WasmModule::untagged_globals_buffer_size</a></div><div class="ttdeci">uint32_t untagged_globals_buffer_size</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00677">wasm-module.h:677</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_aaf7eed69c6866ffacfec579a31b9fa3d"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#aaf7eed69c6866ffacfec579a31b9fa3d">v8::internal::wasm::WasmModule::has_struct</a></div><div class="ttdeci">bool has_struct(ModuleTypeIndex index) const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00860">wasm-module.h:860</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_ab543c357d83ca4ab20ea9f13a6656f85"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#ab543c357d83ca4ab20ea9f13a6656f85">v8::internal::wasm::WasmModule::tags</a></div><div class="ttdeci">std::vector&lt; WasmTag &gt; tags</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00721">wasm-module.h:721</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_af40a46c2d14efc9c68b499d7a459d9b0"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#af40a46c2d14efc9c68b499d7a459d9b0">v8::internal::wasm::WasmModule::tables</a></div><div class="ttdeci">std::vector&lt; WasmTable &gt; tables</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00717">wasm-module.h:717</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_afd7a07cffcf040afe2cd8e07397040e4"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#afd7a07cffcf040afe2cd8e07397040e4">v8::internal::wasm::WasmModule::MaxCanonicalTypeIndex</a></div><div class="ttdeci">CanonicalTypeIndex MaxCanonicalTypeIndex() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00893">wasm-module.h:893</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-module_8h_source.html#l00656">v8::internal::wasm::WasmTable::address_type</a>, <a class="el" href="module-instantiate_8cc_source.html#l02871">AllocateMemory()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01236">asmjs_memory_buffer_</a>, <a class="el" href="module-instantiate_8cc_source.html#l01884">Build_Phase1_Infallible()</a>, <a class="el" href="wasm-module_8h_source.html#l00820">v8::internal::wasm::WasmModule::canonical_type()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00124">CHECK</a>, <a class="el" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>, <a class="el" href="module-instantiate_8cc_source.html#l00057">v8::internal::wasm::CreateMapForType()</a>, <a class="el" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00484">DCHECK_EQ</a>, <a class="el" href="handles-inl_8h_source.html#l00143">v8::internal::direct_handle()</a>, <a class="el" href="wasm-module_8h_source.html#l00723">v8::internal::wasm::WasmModule::elem_segments</a>, <a class="el" href="wasm-result_8h_source.html#l00149">v8::internal::wasm::ErrorThrower::error()</a>, <a class="el" href="execution_2isolate_8h_source.html#l01553">v8::internal::Isolate::factory()</a>, <a class="el" href="wasm-module_8h_source.html#l00714">v8::internal::wasm::WasmModule::functions</a>, <a class="el" href="wasm-objects_8cc_source.html#l02045">v8::internal::WasmInternalFunction::GetOrCreateExternal()</a>, <a class="el" href="wasm-objects_8cc_source.html#l01995">v8::internal::WasmTrustedInstanceData::GetOrCreateFuncRef()</a>, <a class="el" href="wasm-module_8h_source.html#l00872">v8::internal::wasm::WasmModule::has_array()</a>, <a class="el" href="execution_2isolate-inl_8h_source.html#l00125">v8::internal::Isolate::has_exception()</a>, <a class="el" href="wasm-module_8h_source.html#l00655">v8::internal::wasm::WasmTable::has_maximum_size</a>, <a class="el" href="wasm-module_8h_source.html#l00827">v8::internal::wasm::WasmModule::has_signature()</a>, <a class="el" href="wasm-module_8h_source.html#l00860">v8::internal::wasm::WasmModule::has_struct()</a>, <a class="el" href="json-stringifier_8cc_source.html#l00548">v8::internal::anonymous_namespace{json-stringifier.cc}::i</a>, <a class="el" href="wasm-module_8h_source.html#l00719">v8::internal::wasm::WasmModule::import_table</a>, <a class="el" href="heap-snapshot-generator_8cc_source.html#l01698">v8::internal::index</a>, <a class="el" href="module-instantiate_8cc_source.html#l02851">InitGlobals()</a>, <a class="el" href="wasm-module_8h_source.html#l00651">v8::internal::wasm::WasmTable::initial_size</a>, <a class="el" href="module-instantiate_8cc_source.html#l03381">InitializeTags()</a>, <a class="el" href="wasm-module_8h_source.html#l00961">v8::internal::wasm::is_asmjs_module()</a>, <a class="el" href="handles_8h_source.html#l00694">v8::internal::DirectHandle&lt; T &gt;::is_null()</a>, <a class="el" href="wasm-module_8h_source.html#l00481">v8::internal::wasm::TypeDefinition::is_shared</a>, <a class="el" href="module-instantiate_8cc_source.html#l01227">isolate_</a>, <a class="el" href="wasm-module_8h_source.html#l00713">v8::internal::wasm::WasmModule::isorecursive_canonical_type_ids</a>, <a class="el" href="v8-maybe_8h_source.html#l00126">v8::Just()</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#aca3af72b5da01dfb563e4c5f56af8952a0a0ecdb4eded286c722877578774a293">v8::internal::wasm::kI32</a>, <a class="el" href="common_2globals_8h_source.html#l00388">v8::internal::kMaxUInt32</a>, <a class="el" href="namespacev8_1_1internal.html#a604d5beeb6fc8639670f737ed201e20aa0aa38c28f349d65a6819e03844b73dff">v8::internal::kOld</a>, <a class="el" href="namespacev8_1_1internal.html#a604d5beeb6fc8639670f737ed201e20aa420fc4b93a98a0b612db8f2f69463514">v8::internal::kSharedOld</a>, <a class="el" href="wasm-module_8h_source.html#l00203">v8::internal::wasm::WasmElemSegment::kStatusDeclarative</a>, <a class="el" href="namespacev8_1_1internal.html#a6d3f691695696e478ebb4a18ab857bfaa518b13885544b3431069d8b44387de9c">v8::internal::kUninitialized</a>, <a class="el" href="wasm-limits_8h_source.html#l00061">v8::internal::wasm::kV8MaxWasmMemories</a>, <a class="el" href="wasm-constants_8h_source.html#l00179">v8::internal::wasm::kWasmPageSize</a>, <a class="el" href="namespacev8_1_1internal.html#a6d3f691695696e478ebb4a18ab857bfaae914d084ea4fe52636ea783ce1c1cbc0">v8::internal::kZeroInitialized</a>, <a class="el" href="trusted-pointer-scope_8h_source.html#l00067">v8::internal::TrustedPointerPublishingScope::MarkFailure()</a>, <a class="el" href="trusted-pointer-scope_8h_source.html#l00066">v8::internal::TrustedPointerPublishingScope::MarkSuccess()</a>, <a class="el" href="wasm-module_8h_source.html#l00893">v8::internal::wasm::WasmModule::MaxCanonicalTypeIndex()</a>, <a class="el" href="wasm-module_8h_source.html#l00654">v8::internal::wasm::WasmTable::maximum_size</a>, <a class="el" href="wasm-objects_8cc_source.html#l01605">v8::internal::ImportedFunctionEntry::maybe_callable()</a>, <a class="el" href="wasm-module_8h_source.html#l00718">v8::internal::wasm::WasmModule::memories</a>, <a class="el" href="wasm-objects-inl_8h_source.html#l00236">v8::internal::memory_objects</a>, <a class="el" href="module-instantiate_8cc_source.html#l01230">module_</a>, <a class="el" href="module-instantiate_8cc_source.html#l01232">module_object_</a>, <a class="el" href="wasm-objects_8cc_source.html#l01686">v8::internal::WasmTrustedInstanceData::New()</a>, <a class="el" href="wasm-objects_8cc_source.html#l00878">v8::internal::WasmMemoryObject::New()</a>, <a class="el" href="wasm-objects_8cc_source.html#l00196">v8::internal::WasmTableObject::New()</a>, <a class="el" href="factory-base_8cc_source.html#l00180">v8::internal::FactoryBase&lt; Impl &gt;::NewFixedArray()</a>, <a class="el" href="factory-base_8cc_source.html#l00238">v8::internal::FactoryBase&lt; Impl &gt;::NewFixedArrayWithZeroes()</a>, <a class="el" href="factory_8cc_source.html#l03532">v8::internal::Factory::NewJSArrayBufferAndBackingStore()</a>, <a class="el" href="factory-base_8cc_source.html#l00198">v8::internal::FactoryBase&lt; Impl &gt;::NewProtectedFixedArray()</a>, <a class="el" href="wasm-module_8h_source.html#l00684">v8::internal::wasm::WasmModule::num_declared_functions</a>, <a class="el" href="wasm-module_8h_source.html#l00680">v8::internal::wasm::WasmModule::num_imported_mutable_globals</a>, <a class="el" href="wasm-module_8h_source.html#l00682">v8::internal::wasm::WasmModule::num_imported_tables</a>, <a class="el" href="canonical-types_8cc_source.html#l00417">v8::internal::wasm::TypeCanonicalizer::PrepareForCanonicalTypeId()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02893">ProcessExports()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02770">ProcessImportedMemories()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02686">ProcessImports()</a>, <a class="el" href="clamped__math__impl_8h_source.html#l00082">v8::base::internal::result</a>, <a class="el" href="src_2base_2macros_8h_source.html#l00387">RoundUp()</a>, <a class="el" href="module-instantiate_8cc_source.html#l03114">SetTableInitialValues()</a>, <a class="el" href="wasm-module_8h_source.html#l00657">v8::internal::wasm::WasmTable::shared</a>, <a class="el" href="module-instantiate_8cc_source.html#l01240">shared_tagged_globals_</a>, <a class="el" href="module-instantiate_8cc_source.html#l01242">shared_tags_wrappers_</a>, <a class="el" href="module-instantiate_8cc_source.html#l01234">shared_trusted_data_</a>, <a class="el" href="module-instantiate_8cc_source.html#l01243">start_function_</a>, <a class="el" href="wasm-module_8h_source.html#l00673">v8::internal::wasm::WasmModule::start_function_index</a>, <a class="el" href="wasm-module_8h_source.html#l00717">v8::internal::wasm::WasmModule::tables</a>, <a class="el" href="wasm-objects-inl_8h_source.html#l00244">v8::internal::tables</a>, <a class="el" href="module-instantiate_8cc_source.html#l01239">tagged_globals_</a>, <a class="el" href="wasm-module_8h_source.html#l00678">v8::internal::wasm::WasmModule::tagged_globals_buffer_size</a>, <a class="el" href="wasm-module_8h_source.html#l00721">v8::internal::wasm::WasmModule::tags</a>, <a class="el" href="module-instantiate_8cc_source.html#l01241">tags_wrappers_</a>, <a class="el" href="module-instantiate_8cc_source.html#l01231">thrower_</a>, <a class="el" href="maybe-handles_8h_source.html#l00277">v8::internal::MaybeDirectHandle&lt; T &gt;::ToHandle()</a>, <a class="el" href="namespacev8_1_1internal.html#a3762add7a183a4d1750c04e5fa1a6d17">v8::internal::TRACE()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01253">trusted_data()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01233">trusted_data_</a>, <a class="el" href="wasm-module_8h_source.html#l00650">v8::internal::wasm::WasmTable::type</a>, <a class="el" href="wasm-module_8h_source.html#l00801">v8::internal::wasm::WasmModule::type()</a>, <a class="el" href="wasm-module_8h_source.html#l00710">v8::internal::wasm::WasmModule::types</a>, <a class="el" href="module-instantiate_8cc_source.html#l01237">untagged_globals_</a>, <a class="el" href="wasm-module_8h_source.html#l00677">v8::internal::wasm::WasmModule::untagged_globals_buffer_size</a>, <a class="el" href="value-type_8h_source.html#l00463">v8::internal::wasm::ValueTypeBase::use_wasm_null()</a>, <a class="el" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a>, and <a class="el" href="value-type_8h_source.html#l00059">v8::internal::wasm::TypeIndex::valid()</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l01453">Build()</a>.</p>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a19ff41479bcf41dea4de46c20473b59b_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a19ff41479bcf41dea4de46c20473b59b_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a625fd0c2f39972e36a9f2956b40ebfba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a625fd0c2f39972e36a9f2956b40ebfba">&#9670;&nbsp;</a></span>Build_Phase1_Infallible()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::InstanceBuilder::Build_Phase1_Infallible </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l01884">1884</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;                                              {</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;  <span class="comment">//--------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;  <span class="comment">// Register with memories.</span></div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;  <span class="comment">//--------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;  <span class="keywordtype">size_t</span> num_memories = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a2db4294c50e9d81d12819ce61ababaec">memories</a>.size();</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;  DirectHandle&lt;FixedArray&gt; <a class="code" href="namespacev8_1_1internal.html#a932143dd77f3ffbd83a1186db64c0c8f">memory_objects</a>{<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aea7551d380bf83fce78fac6dae327a78">trusted_data_</a>-&gt;memory_objects(),</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;                                          <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>};</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;  <span class="keywordflow">for</span> (uint32_t <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; num_memories; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;    DirectHandle&lt;WasmMemoryObject&gt; memory{</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;        Cast&lt;WasmMemoryObject&gt;(<a class="code" href="namespacev8_1_1internal.html#a932143dd77f3ffbd83a1186db64c0c8f">memory_objects</a>-&gt;get(<a class="code" href="namespacev8_1_1internal.html">i</a>)), <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>};</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;    <a class="code" href="classv8_1_1internal_1_1WasmMemoryObject.html#a83af2a10e27026f8c76e91833243e5f5">WasmMemoryObject::UseInInstance</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, memory, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aea7551d380bf83fce78fac6dae327a78">trusted_data_</a>,</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;                                    <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ad89c98fe73daab093f44575c4e5c7b4f">shared_trusted_data_</a>, <a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;  }</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160; </div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;  <span class="comment">//--------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;  <span class="comment">// Register with tables.</span></div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;  <span class="comment">//--------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;  <span class="keywordtype">size_t</span> num_tables = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#af40a46c2d14efc9c68b499d7a459d9b0">tables</a>.size();</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;  <span class="keywordflow">for</span> (uint32_t <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; num_tables; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;    <span class="keyword">const</span> WasmTable&amp; table = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#af40a46c2d14efc9c68b499d7a459d9b0">tables</a>[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>];</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;    DirectHandle&lt;WasmTrustedInstanceData&gt; data_part =</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aad6f1251ab50c21c71d213e91b1bbc2e">trusted_data</a>(table.shared);</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a5297fd2c72981b2220e6b9a831570fb3">Tagged&lt;Object&gt;</a> maybe_dispatch_table = data_part-&gt;dispatch_tables()-&gt;get(<a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;    <span class="keywordflow">if</span> (maybe_dispatch_table == <a class="code" href="classv8_1_1internal_1_1Smi.html#a5386e0cc44bcfd6a13c8481b95f5652f">Smi::zero</a>()) <span class="keywordflow">continue</span>;  <span class="comment">// Not a function table.</span></div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;    DirectHandle&lt;WasmDispatchTable&gt; dispatch_table{</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;        Cast&lt;WasmDispatchTable&gt;(maybe_dispatch_table), <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>};</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;    <a class="code" href="classv8_1_1internal_1_1WasmDispatchTable.html#a865e5bfc2f812c54e4b6d38c64ad6ac8">WasmDispatchTable::AddUse</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, dispatch_table, data_part, <a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;  }</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1Smi_html_a5386e0cc44bcfd6a13c8481b95f5652f"><div class="ttname"><a href="classv8_1_1internal_1_1Smi.html#a5386e0cc44bcfd6a13c8481b95f5652f">v8::internal::Smi::zero</a></div><div class="ttdeci">static constexpr Tagged&lt; Smi &gt; zero()</div><div class="ttdef"><b>Definition:</b> <a href="smi_8h_source.html#l00099">smi.h:99</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmDispatchTable_html_a865e5bfc2f812c54e4b6d38c64ad6ac8"><div class="ttname"><a href="classv8_1_1internal_1_1WasmDispatchTable.html#a865e5bfc2f812c54e4b6d38c64ad6ac8">v8::internal::WasmDispatchTable::AddUse</a></div><div class="ttdeci">static void V8_EXPORT_PRIVATE AddUse(Isolate *isolate, DirectHandle&lt; WasmDispatchTable &gt; dispatch_table, DirectHandle&lt; WasmTrustedInstanceData &gt; instance, int table_index)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l02546">wasm-objects.cc:2546</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmMemoryObject_html_a83af2a10e27026f8c76e91833243e5f5"><div class="ttname"><a href="classv8_1_1internal_1_1WasmMemoryObject.html#a83af2a10e27026f8c76e91833243e5f5">v8::internal::WasmMemoryObject::UseInInstance</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE void UseInInstance(Isolate *isolate, DirectHandle&lt; WasmMemoryObject &gt; memory, DirectHandle&lt; WasmTrustedInstanceData &gt; trusted_instance_data, DirectHandle&lt; WasmTrustedInstanceData &gt; shared_trusted_instance_data, int memory_index_in_instance)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l00978">wasm-objects.cc:978</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-objects_8cc_source.html#l02546">v8::internal::WasmDispatchTable::AddUse()</a>, <a class="el" href="json-stringifier_8cc_source.html#l00548">v8::internal::anonymous_namespace{json-stringifier.cc}::i</a>, <a class="el" href="module-instantiate_8cc_source.html#l01227">isolate_</a>, <a class="el" href="wasm-module_8h_source.html#l00718">v8::internal::wasm::WasmModule::memories</a>, <a class="el" href="wasm-objects-inl_8h_source.html#l00236">v8::internal::memory_objects</a>, <a class="el" href="module-instantiate_8cc_source.html#l01230">module_</a>, <a class="el" href="wasm-module_8h_source.html#l00657">v8::internal::wasm::WasmTable::shared</a>, <a class="el" href="module-instantiate_8cc_source.html#l01234">shared_trusted_data_</a>, <a class="el" href="wasm-module_8h_source.html#l00717">v8::internal::wasm::WasmModule::tables</a>, <a class="el" href="module-instantiate_8cc_source.html#l01253">trusted_data()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01233">trusted_data_</a>, <a class="el" href="wasm-objects_8cc_source.html#l00978">v8::internal::WasmMemoryObject::UseInInstance()</a>, and <a class="el" href="smi_8h_source.html#l00099">v8::internal::Smi::zero()</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l01493">Build_Phase1()</a>.</p>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a625fd0c2f39972e36a9f2956b40ebfba_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a625fd0c2f39972e36a9f2956b40ebfba_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ab3d1c1a339e6c1a255a866ed837b1e52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3d1c1a339e6c1a255a866ed837b1e52">&#9670;&nbsp;</a></span>Build_Phase2()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1Maybe.html">Maybe</a>&lt; <a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a> &gt; v8::internal::wasm::InstanceBuilder::Build_Phase2 </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l01914">1914</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;                                          {</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;  <span class="comment">//--------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;  <span class="comment">// Install JS prototypes on Custom Descriptors (&quot;direct&quot; design).</span></div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;  <span class="comment">//--------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ae150ecd9dff43cb0c32a10fb3da28731">js_prototypes_setup_</a>.has_value()) {</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ae150ecd9dff43cb0c32a10fb3da28731">js_prototypes_setup_</a>-&gt;SetInstanceData(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aea7551d380bf83fce78fac6dae327a78">trusted_data_</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ad89c98fe73daab093f44575c4e5c7b4f">shared_trusted_data_</a>);</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ae150ecd9dff43cb0c32a10fb3da28731">js_prototypes_setup_</a>-&gt;ConfigurePrototypes_Direct();</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;  }</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160; </div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;  <span class="comment">//--------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;  <span class="comment">// Load element segments into tables.</span></div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;  <span class="comment">//--------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#af40a46c2d14efc9c68b499d7a459d9b0">tables</a>.size() &gt; 0) {</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#adde97133349687e93ab015b5f98ef6bc">LoadTableSegments</a>();</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1ErrorThrower.html#a603a53d1ac3dddd81154744ff36db838">error</a>()) <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;  }</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160; </div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;  <span class="comment">//--------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;  <span class="comment">// Initialize the memory by loading data segments.</span></div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;  <span class="comment">//--------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#adc0a70e660a7112df858945f38616edc">data_segments</a>.empty()) {</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a8803032b43c2f0d64f51e697df9f0172">LoadDataSegments</a>();</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1ErrorThrower.html#a603a53d1ac3dddd81154744ff36db838">error</a>()) <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;  }</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160; </div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8.html#a41f0e280eadfba6ac9afd833fdd540cf">Just</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1InstanceBuilder_html_a8803032b43c2f0d64f51e697df9f0172"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a8803032b43c2f0d64f51e697df9f0172">v8::internal::wasm::InstanceBuilder::LoadDataSegments</a></div><div class="ttdeci">void LoadDataSegments()</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l02095">module-instantiate.cc:2095</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1InstanceBuilder_html_adde97133349687e93ab015b5f98ef6bc"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#adde97133349687e93ab015b5f98ef6bc">v8::internal::wasm::InstanceBuilder::LoadTableSegments</a></div><div class="ttdeci">void LoadTableSegments()</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l03290">module-instantiate.cc:3290</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1InstanceBuilder_html_ae150ecd9dff43cb0c32a10fb3da28731"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ae150ecd9dff43cb0c32a10fb3da28731">v8::internal::wasm::InstanceBuilder::js_prototypes_setup_</a></div><div class="ttdeci">std::optional&lt; JSPrototypesSetup &gt; js_prototypes_setup_</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l01246">module-instantiate.cc:1246</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_adc0a70e660a7112df858945f38616edc"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#adc0a70e660a7112df858945f38616edc">v8::internal::wasm::WasmModule::data_segments</a></div><div class="ttdeci">std::vector&lt; WasmDataSegment &gt; data_segments</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00716">wasm-module.h:716</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-module_8h_source.html#l00716">v8::internal::wasm::WasmModule::data_segments</a>, <a class="el" href="wasm-result_8h_source.html#l00149">v8::internal::wasm::ErrorThrower::error()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01246">js_prototypes_setup_</a>, <a class="el" href="v8-maybe_8h_source.html#l00126">v8::Just()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02095">LoadDataSegments()</a>, <a class="el" href="module-instantiate_8cc_source.html#l03290">LoadTableSegments()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01230">module_</a>, <a class="el" href="module-instantiate_8cc_source.html#l01234">shared_trusted_data_</a>, <a class="el" href="wasm-module_8h_source.html#l00717">v8::internal::wasm::WasmModule::tables</a>, <a class="el" href="module-instantiate_8cc_source.html#l01231">thrower_</a>, and <a class="el" href="module-instantiate_8cc_source.html#l01233">trusted_data_</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l01453">Build()</a>.</p>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab3d1c1a339e6c1a255a866ed837b1e52_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab3d1c1a339e6c1a255a866ed837b1e52_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a93a72b52eb6f0059777cd5537e17b602"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93a72b52eb6f0059777cd5537e17b602">&#9670;&nbsp;</a></span>ConfigurePrototypes_Modular()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a> v8::internal::wasm::InstanceBuilder::ConfigurePrototypes_Modular </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l02203">2203</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;                                                  {</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_explicit_prototypes) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ae150ecd9dff43cb0c32a10fb3da28731">js_prototypes_setup_</a>) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ae150ecd9dff43cb0c32a10fb3da28731">js_prototypes_setup_</a>-&gt;ConfigurePrototypes_Modular();</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;  <span class="keywordflow">return</span> !<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1ErrorThrower.html#a603a53d1ac3dddd81154744ff36db838">error</a>() &amp;&amp; !<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#aed5dcd4c10242ef0225dfbd02b5dbdd3">has_exception</a>();</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-result_8h_source.html#l00149">v8::internal::wasm::ErrorThrower::error()</a>, <a class="el" href="execution_2isolate-inl_8h_source.html#l00125">v8::internal::Isolate::has_exception()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01227">isolate_</a>, <a class="el" href="module-instantiate_8cc_source.html#l01246">js_prototypes_setup_</a>, <a class="el" href="module-instantiate_8cc_source.html#l01231">thrower_</a>, and <a class="el" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l01403">v8::internal::wasm::InstantiateToInstanceObject()</a>.</p>
<div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a93a72b52eb6f0059777cd5537e17b602_cgraph.svg" width="620" height="147"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a93a72b52eb6f0059777cd5537e17b602_icgraph.svg" width="100%" height="388"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="aa3b733a716d50b60193cf78bbc21df31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3b733a716d50b60193cf78bbc21df31">&#9670;&nbsp;</a></span>ExecuteStartFunction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a> v8::internal::wasm::InstanceBuilder::ExecuteStartFunction </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l01942">1942</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;                                           {</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;  <a class="code" href="trace-event-no-perfetto_8h.html#a3feabb76c0ac2918798bc11ab55c6a79">TRACE_EVENT0</a>(<a class="code" href="trace-event-no-perfetto_8h.html#a97689377430b094caec680dd7dd230fe">TRACE_DISABLED_BY_DEFAULT</a>(<span class="stringliteral">&quot;v8.wasm.detailed&quot;</span>),</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;               <span class="stringliteral">&quot;wasm.ExecuteStartFunction&quot;</span>);</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a27262cc634c8f7b70f38b76e3a1a4c7c">start_function_</a>.is_null()) <span class="keywordflow">return</span> <span class="keyword">true</span>;  <span class="comment">// No start function.</span></div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160; </div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;  HandleScope scope(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>);</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;  <span class="comment">// In case the start function calls out to Blink, we have to make sure that</span></div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;  <span class="comment">// the correct &quot;entered context&quot; is available. This is the equivalent of</span></div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;  <span class="comment">// v8::Context::Enter() and must happen in addition to the function call</span></div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;  <span class="comment">// sequence doing the compiled version of &quot;isolate-&gt;set_context(...)&quot;.</span></div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;  HandleScopeImplementer* hsi = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ad34c27699bef2cd700a27c489a3ae072">handle_scope_implementer</a>();</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;  hsi-&gt;<a class="code" href="classv8_1_1internal_1_1HandleScopeImplementer.html#ac649a97c4a2a70f9e6194c695adfac1a">EnterContext</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a27262cc634c8f7b70f38b76e3a1a4c7c">start_function_</a>-&gt;native_context());</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160; </div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;  <span class="comment">// Call the JS function.</span></div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;  DirectHandle&lt;Object&gt; <a class="code" href="namespacev8_1_1internal.html#ab165da27eb70b7cac315ad3c2c991c06">undefined</a> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;undefined_value();</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;  MaybeDirectHandle&lt;Object&gt; retval =</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Execution.html#a529f28484ea4dc14ee8212d5417409c1">Execution::Call</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a27262cc634c8f7b70f38b76e3a1a4c7c">start_function_</a>, <a class="code" href="namespacev8_1_1internal.html#ab165da27eb70b7cac315ad3c2c991c06">undefined</a>, {});</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;  hsi-&gt;LeaveContext();</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;  <span class="comment">// {start_function_} has to be called only once.</span></div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a27262cc634c8f7b70f38b76e3a1a4c7c">start_function_</a> = {};</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160; </div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;  <span class="keywordflow">if</span> (retval.is_null()) {</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#aed5dcd4c10242ef0225dfbd02b5dbdd3">has_exception</a>());</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;  }</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1Execution_html_a529f28484ea4dc14ee8212d5417409c1"><div class="ttname"><a href="classv8_1_1internal_1_1Execution.html#a529f28484ea4dc14ee8212d5417409c1">v8::internal::Execution::Call</a></div><div class="ttdeci">V8_EXPORT_PRIVATE static V8_WARN_UNUSED_RESULT MaybeHandle&lt; Object &gt; Call(Isolate *isolate, DirectHandle&lt; Object &gt; callable, DirectHandle&lt; Object &gt; receiver, base::Vector&lt; const DirectHandle&lt; Object &gt;&gt; args)</div><div class="ttdef"><b>Definition:</b> <a href="execution_8cc_source.html#l00525">execution.cc:525</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HandleScopeImplementer_html_ac649a97c4a2a70f9e6194c695adfac1a"><div class="ttname"><a href="classv8_1_1internal_1_1HandleScopeImplementer.html#ac649a97c4a2a70f9e6194c695adfac1a">v8::internal::HandleScopeImplementer::EnterContext</a></div><div class="ttdeci">void EnterContext(Tagged&lt; NativeContext &gt; context)</div><div class="ttdef"><b>Definition:</b> <a href="api-inl_8h_source.html#l00507">api-inl.h:507</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_ad34c27699bef2cd700a27c489a3ae072"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#ad34c27699bef2cd700a27c489a3ae072">v8::internal::Isolate::handle_scope_implementer</a></div><div class="ttdeci">HandleScopeImplementer * handle_scope_implementer() const</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l01412">isolate.h:1412</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ab165da27eb70b7cac315ad3c2c991c06"><div class="ttname"><a href="namespacev8_1_1internal.html#ab165da27eb70b7cac315ad3c2c991c06">v8::internal::undefined</a></div><div class="ttdeci">undefined</div><div class="ttdef"><b>Definition:</b> <a href="templates-inl_8h_source.html#l00161">templates-inl.h:161</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="execution_8cc_source.html#l00525">v8::internal::Execution::Call()</a>, <a class="el" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK()</a>, <a class="el" href="api-inl_8h_source.html#l00507">v8::internal::HandleScopeImplementer::EnterContext()</a>, <a class="el" href="execution_2isolate_8h_source.html#l01553">v8::internal::Isolate::factory()</a>, <a class="el" href="execution_2isolate_8h_source.html#l01412">v8::internal::Isolate::handle_scope_implementer()</a>, <a class="el" href="execution_2isolate-inl_8h_source.html#l00125">v8::internal::Isolate::has_exception()</a>, <a class="el" href="maybe-handles_8h_source.html#l00281">v8::internal::MaybeDirectHandle&lt; T &gt;::is_null()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01227">isolate_</a>, <a class="el" href="api_8h_source.html#l00462">v8::internal::HandleScopeImplementer::LeaveContext()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01243">start_function_</a>, <a class="el" href="trace-event-no-perfetto_8h_source.html#l00025">TRACE_DISABLED_BY_DEFAULT</a>, <a class="el" href="trace-event-no-perfetto_8h_source.html#l00032">TRACE_EVENT0</a>, and <a class="el" href="templates-inl_8h_source.html#l00161">v8::internal::undefined</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l01403">v8::internal::wasm::InstantiateToInstanceObject()</a>.</p>
<div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aa3b733a716d50b60193cf78bbc21df31_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aa3b733a716d50b60193cf78bbc21df31_icgraph.svg" width="100%" height="388"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="aa1eca52286140d25fc7f05221d66e5a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1eca52286140d25fc7f05221d66e5a3">&#9670;&nbsp;</a></span>FinalizeExportsObject()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::InstanceBuilder::FinalizeExportsObject </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1MaybeDirectHandle.html">MaybeDirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1WasmInstanceObject.html">WasmInstanceObject</a> &gt;&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l02210">2210</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;                                                    {</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;  DirectHandle&lt;JSObject&gt; exports_object(</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;      instance.ToHandleChecked()-&gt;exports_object(), <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>);</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;  <span class="comment">// Switch back to fast properties if possible.</span></div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;  <a class="code" href="classv8_1_1internal_1_1JSObject.html#a1758f936866e594770f358de9649062b">JSObject::MigrateSlowToFast</a>(exports_object, 0, <span class="stringliteral">&quot;WasmExportsObjectFinished&quot;</span>);</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160; </div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a7871ace0ad8518a7de0c52ac35e43eb2">origin</a> == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a3adc957d22d860687fc2579215adeb80ad75c39b2587910e64fbca44ad513c9e0">kWasmOrigin</a>) {</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code" href="classv8_1_1internal_1_1JSReceiver.html#a4add3013a632121dadc47c3321d85dc6">JSReceiver::SetIntegrityLevel</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, exports_object, <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436ac96c4a6f8b2f89bb1dbaebb75becb0c2">FROZEN</a>,</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;                                        <a class="code" href="namespacev8_1_1internal.html#adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee">kDontThrow</a>)</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;              .FromMaybe(<span class="keyword">false</span>));</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;  }</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSObject_html_a1758f936866e594770f358de9649062b"><div class="ttname"><a href="classv8_1_1internal_1_1JSObject.html#a1758f936866e594770f358de9649062b">v8::internal::JSObject::MigrateSlowToFast</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE void MigrateSlowToFast(DirectHandle&lt; JSObject &gt; object, int unused_property_fields, const char *reason)</div><div class="ttdef"><b>Definition:</b> <a href="js-objects_8cc_source.html#l03862">js-objects.cc:3862</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSReceiver_html_a4add3013a632121dadc47c3321d85dc6"><div class="ttname"><a href="classv8_1_1internal_1_1JSReceiver.html#a4add3013a632121dadc47c3321d85dc6">v8::internal::JSReceiver::SetIntegrityLevel</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT Maybe&lt; bool &gt; SetIntegrityLevel(Isolate *isolate, DirectHandle&lt; JSReceiver &gt; object, IntegrityLevel lvl, ShouldThrow should_throw)</div><div class="ttdef"><b>Definition:</b> <a href="js-objects_8cc_source.html#l01972">js-objects.cc:1972</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a3adc957d22d860687fc2579215adeb80ad75c39b2587910e64fbca44ad513c9e0"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a3adc957d22d860687fc2579215adeb80ad75c39b2587910e64fbca44ad513c9e0">v8::internal::wasm::kWasmOrigin</a></div><div class="ttdeci">@ kWasmOrigin</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00125">wasm-module.h:125</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a352f65439007f2f1b85c997c1ba11436ac96c4a6f8b2f89bb1dbaebb75becb0c2"><div class="ttname"><a href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436ac96c4a6f8b2f89bb1dbaebb75becb0c2">v8::internal::FROZEN</a></div><div class="ttdeci">@ FROZEN</div><div class="ttdef"><b>Definition:</b> <a href="property-details_8h_source.html#l00027">property-details.h:27</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee"><div class="ttname"><a href="namespacev8_1_1internal.html#adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee">v8::internal::kDontThrow</a></div><div class="ttdeci">@ kDontThrow</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l01734">globals.h:1734</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="src_2base_2logging_8h_source.html#l00124">CHECK</a>, <a class="el" href="property-details_8h_source.html#l00027">v8::internal::FROZEN</a>, <a class="el" href="module-instantiate_8cc_source.html#l01227">isolate_</a>, <a class="el" href="common_2globals_8h_source.html#l01734">v8::internal::kDontThrow</a>, <a class="el" href="wasm-module_8h_source.html#l00125">v8::internal::wasm::kWasmOrigin</a>, <a class="el" href="js-objects_8cc_source.html#l03862">v8::internal::JSObject::MigrateSlowToFast()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01230">module_</a>, <a class="el" href="wasm-module_8h_source.html#l00734">v8::internal::wasm::WasmModule::origin</a>, <a class="el" href="js-objects_8cc_source.html#l01972">v8::internal::JSReceiver::SetIntegrityLevel()</a>, and <a class="el" href="maybe-handles_8h_source.html#l00273">v8::internal::MaybeDirectHandle&lt; T &gt;::ToHandleChecked()</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l01403">v8::internal::wasm::InstantiateToInstanceObject()</a>.</p>
<div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aa1eca52286140d25fc7f05221d66e5a3_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aa1eca52286140d25fc7f05221d66e5a3_icgraph.svg" width="100%" height="388"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="aca7e76496779ebce4dcc9db979e5e46a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca7e76496779ebce4dcc9db979e5e46a">&#9670;&nbsp;</a></span>GetRawUntaggedGlobalPtr()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classT.html">T</a> * v8::internal::wasm::InstanceBuilder::GetRawUntaggedGlobalPtr </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structv8_1_1internal_1_1wasm_1_1WasmGlobal.html">WasmGlobal</a> &amp;&#160;</td>
          <td class="paramname"><em>global</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l02844">2844</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;                                                                    {</div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classT.html">T</a>*<span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03.html#a7ecac47926023e51ac33a6829d1fa13b">raw_buffer_ptr</a>(</div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;      global.shared ? <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ae9e7aba8c15908133cd1e48df2e027c1">shared_untagged_globals_</a> : <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a6388ff7aa2e2e6ba74dce9f0f96167af">untagged_globals_</a>,</div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;      global.offset));</div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;}</div>
<div class="ttc" id="aclassT_html"><div class="ttname"><a href="classT.html">T</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1InstanceBuilder_html_ae9e7aba8c15908133cd1e48df2e027c1"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ae9e7aba8c15908133cd1e48df2e027c1">v8::internal::wasm::InstanceBuilder::shared_untagged_globals_</a></div><div class="ttdeci">DirectHandle&lt; JSArrayBuffer &gt; shared_untagged_globals_</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l01238">module-instantiate.cc:1238</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03_html_a7ecac47926023e51ac33a6829d1fa13b"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03.html#a7ecac47926023e51ac33a6829d1fa13b">v8::internal::wasm::anonymous_namespace{module-instantiate.cc}::raw_buffer_ptr</a></div><div class="ttdeci">uint8_t * raw_buffer_ptr(MaybeDirectHandle&lt; JSArrayBuffer &gt; buffer, int offset)</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l00050">module-instantiate.cc:50</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-module_8h_source.html#l00102">v8::internal::wasm::WasmGlobal::offset</a>, <a class="el" href="module-instantiate_8cc_source.html#l00050">v8::internal::wasm::anonymous_namespace{module-instantiate.cc}::raw_buffer_ptr()</a>, <a class="el" href="wasm-module_8h_source.html#l00104">v8::internal::wasm::WasmGlobal::shared</a>, <a class="el" href="module-instantiate_8cc_source.html#l01238">shared_untagged_globals_</a>, and <a class="el" href="module-instantiate_8cc_source.html#l01237">untagged_globals_</a>.</p>
<div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aca7e76496779ebce4dcc9db979e5e46a_cgraph.svg" width="100%" height="361"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ab5cdfd1a6d96ac77038c87b059b4d04e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5cdfd1a6d96ac77038c87b059b4d04e">&#9670;&nbsp;</a></span>ImportName() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string v8::internal::wasm::InstanceBuilder::ImportName </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l01257">1257</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;                                       {</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    <span class="keyword">const</span> WasmImport&amp; <span class="keyword">import</span> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a4f710e1d1dd945669cbebae2b51835e5">import_table</a>[<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>];</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>* wire_bytes_start = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ad9acbe63776578c8905fa72206177a2c">module_object_</a>-&gt;native_module()-&gt;wire_bytes().data());</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;    std::ostringstream oss;</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    oss &lt;&lt; <span class="stringliteral">&quot;Import #&quot;</span> &lt;&lt; <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> &lt;&lt; <span class="stringliteral">&quot; \&quot;&quot;</span>;</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;    oss.write(wire_bytes_start + <span class="keyword">import</span>.module_name.offset(),</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;              <span class="keyword">import</span>.module_name.length());</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;    oss &lt;&lt; <span class="stringliteral">&quot;\&quot; \&quot;&quot;</span>;</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    oss.write(wire_bytes_start + <span class="keyword">import</span>.field_name.offset(),</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;              <span class="keyword">import</span>.field_name.length());</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    oss &lt;&lt; <span class="stringliteral">&quot;\&quot;&quot;</span>;</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    <span class="keywordflow">return</span> oss.str();</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;  }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-module_8h_source.html#l00719">v8::internal::wasm::WasmModule::import_table</a>, <a class="el" href="heap-snapshot-generator_8cc_source.html#l01698">v8::internal::index</a>, <a class="el" href="module-instantiate_8cc_source.html#l01230">module_</a>, and <a class="el" href="module-instantiate_8cc_source.html#l01232">module_object_</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l01971">LookupImport()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02048">LookupImportAsm()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02297">ProcessImportedFunction()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02586">ProcessImportedGlobal()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02770">ProcessImportedMemories()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02406">ProcessImportedTable()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02488">ProcessImportedWasmGlobalObject()</a>, and <a class="el" href="module-instantiate_8cc_source.html#l02686">ProcessImports()</a>.</p>
<div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab5cdfd1a6d96ac77038c87b059b4d04e_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a8e85b831f69e3d7b179269b65dadf464"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e85b831f69e3d7b179269b65dadf464">&#9670;&nbsp;</a></span>ImportName() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string v8::internal::wasm::InstanceBuilder::ImportName </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1String.html">String</a> &gt;&#160;</td>
          <td class="paramname"><em>module_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l01272">1272</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;                                                                         {</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    std::ostringstream oss;</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    oss &lt;&lt; <span class="stringliteral">&quot;Import #&quot;</span> &lt;&lt; <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> &lt;&lt; <span class="stringliteral">&quot; \&quot;&quot;</span> &lt;&lt; module_name-&gt;ToCString().get()</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;\&quot;&quot;</span>;</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;    <span class="keywordflow">return</span> oss.str();</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;  }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="heap-snapshot-generator_8cc_source.html#l01698">v8::internal::index</a>.</p>

</div>
</div>
<a id="a0ce1b5afdf96a612550d4c83c0f17f61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ce1b5afdf96a612550d4c83c0f17f61">&#9670;&nbsp;</a></span>InitGlobals()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::InstanceBuilder::InitGlobals </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l02851">2851</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;                                  {</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> WasmGlobal&amp; global : <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#ac6101242a2a805d0e982fff4ddcc4677">globals</a>) {</div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(global.imported, !global.init.is_set());</div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;    <span class="keywordflow">if</span> (!global.init.is_set()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160; </div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ae996872b27cf7b0b9951c658613a8d20">ValueOrError</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a7444b7caaf83466659a2efde4f77457a">EvaluateConstantExpression</a>(</div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;        &amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ab230138dba8632d53ff8e394a35551ee">init_expr_zone_</a>, global.init, global.type, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>,</div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aea7551d380bf83fce78fac6dae327a78">trusted_data_</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ad89c98fe73daab093f44575c4e5c7b4f">shared_trusted_data_</a>);</div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03.html#a22842750d51679c6a85b7ac9487aa008">MaybeMarkError</a>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160; </div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;    <span class="keywordflow">if</span> (global.type.is_reference()) {</div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;      (global.shared ? <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#abc2acf18bcb1567e5343dd3af707e089">shared_tagged_globals_</a> : <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a71497507d2c1ffe7aae80873b0fb2b18">tagged_globals_</a>)</div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;          -&gt;set(global.offset, *<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a4a2e42081079a3b383768146a60b9cd8">to_value</a>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>).<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmValue.html#ad4e421208ba4899867e8f9df44aa4b6e">to_ref</a>());</div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a4a2e42081079a3b383768146a60b9cd8">to_value</a>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>).<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmValue.html#a550bfbefaf86f5455044c1d14a0e9d14">CopyTo</a>(GetRawUntaggedGlobalPtr&lt;uint8_t&gt;(global));</div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;    }</div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;  }</div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmValue_html_a550bfbefaf86f5455044c1d14a0e9d14"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmValue.html#a550bfbefaf86f5455044c1d14a0e9d14">v8::internal::wasm::WasmValue::CopyTo</a></div><div class="ttdeci">void CopyTo(uint8_t *to) const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-value_8h_source.html#l00103">wasm-value.h:103</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmValue_html_ad4e421208ba4899867e8f9df44aa4b6e"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmValue.html#ad4e421208ba4899867e8f9df44aa4b6e">v8::internal::wasm::WasmValue::to_ref</a></div><div class="ttdeci">DirectHandle&lt; Object &gt; to_ref() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-value_8h_source.html#l00085">wasm-value.h:85</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03_html_a22842750d51679c6a85b7ac9487aa008"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03.html#a22842750d51679c6a85b7ac9487aa008">v8::internal::wasm::anonymous_namespace{module-instantiate.cc}::MaybeMarkError</a></div><div class="ttdeci">bool MaybeMarkError(ValueOrError value, ErrorThrower *thrower)</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l02034">module-instantiate.cc:2034</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a4a2e42081079a3b383768146a60b9cd8"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a4a2e42081079a3b383768146a60b9cd8">v8::internal::wasm::to_value</a></div><div class="ttdeci">WasmValue to_value(ValueOrError result)</div><div class="ttdef"><b>Definition:</b> <a href="constant-expression_8h_source.html#l00126">constant-expression.h:126</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a7444b7caaf83466659a2efde4f77457a"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a7444b7caaf83466659a2efde4f77457a">v8::internal::wasm::EvaluateConstantExpression</a></div><div class="ttdeci">ValueOrError EvaluateConstantExpression(Zone *zone, ConstantExpression expr, ValueType expected, const WasmModule *module, Isolate *isolate, DirectHandle&lt; WasmTrustedInstanceData &gt; trusted_instance_data, DirectHandle&lt; WasmTrustedInstanceData &gt; shared_trusted_instance_data)</div><div class="ttdef"><b>Definition:</b> <a href="constant-expression_8cc_source.html#l00029">constant-expression.cc:29</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ae996872b27cf7b0b9951c658613a8d20"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ae996872b27cf7b0b9951c658613a8d20">v8::internal::wasm::ValueOrError</a></div><div class="ttdeci">std::variant&lt; WasmValue, MessageTemplate &gt; ValueOrError</div><div class="ttdef"><b>Definition:</b> <a href="constant-expression_8h_source.html#l00118">constant-expression.h:118</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a96a75539aa82216cdde2250a11126ea0"><div class="ttname"><a href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a></div><div class="ttdeci">#define DCHECK_IMPLIES(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00492">logging.h:492</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_ac6101242a2a805d0e982fff4ddcc4677"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#ac6101242a2a805d0e982fff4ddcc4677">v8::internal::wasm::WasmModule::globals</a></div><div class="ttdeci">std::vector&lt; WasmGlobal &gt; globals</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00715">wasm-module.h:715</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-value_8h_source.html#l00103">v8::internal::wasm::WasmValue::CopyTo()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00492">DCHECK_IMPLIES</a>, <a class="el" href="constant-expression_8cc_source.html#l00029">v8::internal::wasm::EvaluateConstantExpression()</a>, <a class="el" href="wasm-module_8h_source.html#l00715">v8::internal::wasm::WasmModule::globals</a>, <a class="el" href="wasm-module_8h_source.html#l00105">v8::internal::wasm::WasmGlobal::imported</a>, <a class="el" href="wasm-module_8h_source.html#l00096">v8::internal::wasm::WasmGlobal::init</a>, <a class="el" href="module-instantiate_8cc_source.html#l01251">init_expr_zone_</a>, <a class="el" href="value-type_8h_source.html#l00606">v8::internal::wasm::ValueTypeBase::is_reference()</a>, <a class="el" href="constant-expression_8h_source.html#l00067">v8::internal::wasm::ConstantExpression::is_set()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01227">isolate_</a>, <a class="el" href="module-instantiate_8cc_source.html#l02034">v8::internal::wasm::anonymous_namespace{module-instantiate.cc}::MaybeMarkError()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01230">module_</a>, <a class="el" href="wasm-module_8h_source.html#l00102">v8::internal::wasm::WasmGlobal::offset</a>, <a class="el" href="clamped__math__impl_8h_source.html#l00082">v8::base::internal::result</a>, <a class="el" href="wasm-module_8h_source.html#l00104">v8::internal::wasm::WasmGlobal::shared</a>, <a class="el" href="module-instantiate_8cc_source.html#l01240">shared_tagged_globals_</a>, <a class="el" href="module-instantiate_8cc_source.html#l01234">shared_trusted_data_</a>, <a class="el" href="module-instantiate_8cc_source.html#l01239">tagged_globals_</a>, <a class="el" href="module-instantiate_8cc_source.html#l01231">thrower_</a>, <a class="el" href="wasm-value_8h_source.html#l00085">v8::internal::wasm::WasmValue::to_ref()</a>, <a class="el" href="constant-expression_8h_source.html#l00126">v8::internal::wasm::to_value()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01233">trusted_data_</a>, and <a class="el" href="wasm-module_8h_source.html#l00094">v8::internal::wasm::WasmGlobal::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l01493">Build_Phase1()</a>.</p>
<div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a0ce1b5afdf96a612550d4c83c0f17f61_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-20" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a0ce1b5afdf96a612550d4c83c0f17f61_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a5ff70878af415967423e34367fbe5a9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ff70878af415967423e34367fbe5a9c">&#9670;&nbsp;</a></span>InitializeTags()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::InstanceBuilder::InitializeTags </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l03381">3381</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;                                     {</div>
<div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;  DirectHandle&lt;FixedArray&gt; tags_table(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aea7551d380bf83fce78fac6dae327a78">trusted_data_</a>-&gt;tags_table(), <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>);</div>
<div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = 0; <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> &lt; tags_table-&gt;length(); ++<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>) {</div>
<div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;    <span class="keywordflow">if</span> (!IsUndefined(tags_table-&gt;get(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>), <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>)) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;    DirectHandle&lt;WasmExceptionTag&gt; tag = <a class="code" href="classv8_1_1internal_1_1WasmExceptionTag.html#a16f4ecfd034d8f83eb0b57c2dfeb7e86">WasmExceptionTag::New</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>);</div>
<div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;    tags_table-&gt;set(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, *tag);</div>
<div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;  }</div>
<div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmExceptionTag_html_a16f4ecfd034d8f83eb0b57c2dfeb7e86"><div class="ttname"><a href="classv8_1_1internal_1_1WasmExceptionTag.html#a16f4ecfd034d8f83eb0b57c2dfeb7e86">v8::internal::WasmExceptionTag::New</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE DirectHandle&lt; WasmExceptionTag &gt; New(Isolate *isolate, int index)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l03305">wasm-objects.cc:3305</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="heap-snapshot-generator_8cc_source.html#l01698">v8::internal::index</a>, <a class="el" href="module-instantiate_8cc_source.html#l01227">isolate_</a>, <a class="el" href="wasm-objects_8cc_source.html#l03305">v8::internal::WasmExceptionTag::New()</a>, and <a class="el" href="module-instantiate_8cc_source.html#l01233">trusted_data_</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l01493">Build_Phase1()</a>.</p>
<div id="dynsection-21" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-21-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-21-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-21-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a5ff70878af415967423e34367fbe5a9c_cgraph.svg" width="100%" height="421"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-22" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-22-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-22-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-22-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a5ff70878af415967423e34367fbe5a9c_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a8803032b43c2f0d64f51e697df9f0172"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8803032b43c2f0d64f51e697df9f0172">&#9670;&nbsp;</a></span>LoadDataSegments()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::InstanceBuilder::LoadDataSegments </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l02095">2095</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;                                       {</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;  base::Vector&lt;const uint8_t&gt; wire_bytes =</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ad9acbe63776578c8905fa72206177a2c">module_object_</a>-&gt;native_module()-&gt;wire_bytes();</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> WasmDataSegment&amp; segment : <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#adc0a70e660a7112df858945f38616edc">data_segments</a>) {</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;    uint32_t <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = segment.source.length();</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160; </div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;    <span class="comment">// Passive segments are not copied during instantiation.</span></div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;    <span class="keywordflow">if</span> (!segment.active) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160; </div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;    <span class="keyword">const</span> WasmMemory&amp; dst_memory = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a2db4294c50e9d81d12819ce61ababaec">memories</a>[segment.memory_index];</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;    <span class="keywordtype">size_t</span> dest_offset;</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ae996872b27cf7b0b9951c658613a8d20">ValueOrError</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a7444b7caaf83466659a2efde4f77457a">EvaluateConstantExpression</a>(</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;        &amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ab230138dba8632d53ff8e394a35551ee">init_expr_zone_</a>, segment.dest_addr,</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;        dst_memory.is_memory64() ? <a class="code" href="namespacev8_1_1internal_1_1wasm.html#aee8b7f805fa662ae4ed159f8072bea5f">kWasmI64</a> : <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a7b893808fadaa287f225d7209d2d36c6">kWasmI32</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>,</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aea7551d380bf83fce78fac6dae327a78">trusted_data_</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ad89c98fe73daab093f44575c4e5c7b4f">shared_trusted_data_</a>);</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03.html#a22842750d51679c6a85b7ac9487aa008">MaybeMarkError</a>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;    <span class="keywordflow">if</span> (dst_memory.is_memory64()) {</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;      uint64_t dest_offset_64 = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a4a2e42081079a3b383768146a60b9cd8">to_value</a>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>).to_u64();</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160; </div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;      <span class="comment">// Clamp to {std::numeric_limits&lt;size_t&gt;::max()}, which is always an</span></div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;      <span class="comment">// invalid offset, so we always fail the bounds check below.</span></div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#afd957f297df7e9ee36c46185e961485f">DCHECK_GT</a>(std::numeric_limits&lt;size_t&gt;::max(), dst_memory.max_memory_size);</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;      dest_offset = <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(std::min(</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;          dest_offset_64, uint64_t{std::numeric_limits&lt;size_t&gt;::max()}));</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;      dest_offset = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a4a2e42081079a3b383768146a60b9cd8">to_value</a>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>).to_u32();</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;    }</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160; </div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;    <span class="keywordtype">size_t</span> memory_size = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aea7551d380bf83fce78fac6dae327a78">trusted_data_</a>-&gt;memory_size(segment.memory_index);</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;    <span class="keywordflow">if</span> (!base::IsInBounds&lt;size_t&gt;(dest_offset, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, memory_size)) {</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;      <span class="keywordtype">size_t</span> segment_index = &amp;segment - <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#adc0a70e660a7112df858945f38616edc">data_segments</a>.data();</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>-&gt;RuntimeError(</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;          <span class="stringliteral">&quot;data segment %zu is out of bounds (offset %zu, &quot;</span></div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;          <span class="stringliteral">&quot;length %u, memory size %zu)&quot;</span>,</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;          segment_index, dest_offset, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, memory_size);</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;    }</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160; </div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;    uint8_t* memory_base = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aea7551d380bf83fce78fac6dae327a78">trusted_data_</a>-&gt;memory_base(segment.memory_index);</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;    std::memcpy(memory_base + dest_offset,</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;                wire_bytes.begin() + segment.source.offset(), <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;  }</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;}</div>
<div class="ttc" id="aflag-definitions_8h_html_a3df0b28b666e942ffb9d7d04acdb9715"><div class="ttname"><a href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enables Turboshaft s StaticAssert and CheckTurboshaftTypeOf operations Wasm code into JS functions via the JS to Wasm wrappers are still inlined in TurboFan For controlling whether to at see turbo inline js wasm calls enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information enable Turbolev features that we want to ship in the not too far future trace individual Turboshaft reduction steps trace intermediate Turboshaft reduction steps trace Turboshaft s if else to switch reducer invocation count threshold for early optimization Enables optimizations which favor memory size over execution speed Enables sampling allocation profiler with X as a sample interval min size of a semi the new space consists of two semi spaces max size of the preconfigured old space size(in Mbytes)&quot;)     DEFINE_INT(random_gc_interval</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a7b893808fadaa287f225d7209d2d36c6"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a7b893808fadaa287f225d7209d2d36c6">v8::internal::wasm::kWasmI32</a></div><div class="ttdeci">constexpr IndependentValueType kWasmI32</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01243">value-type.h:1243</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_aee8b7f805fa662ae4ed159f8072bea5f"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#aee8b7f805fa662ae4ed159f8072bea5f">v8::internal::wasm::kWasmI64</a></div><div class="ttdeci">constexpr IndependentValueType kWasmI64</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01244">value-type.h:1244</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_afd957f297df7e9ee36c46185e961485f"><div class="ttname"><a href="src_2base_2logging_8h.html#afd957f297df7e9ee36c46185e961485f">DCHECK_GT</a></div><div class="ttdeci">#define DCHECK_GT(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00486">logging.h:486</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-module_8h_source.html#l00191">v8::internal::wasm::WasmDataSegment::active</a>, <a class="el" href="vector_8h_source.html#l00096">v8::base::Vector&lt; T &gt;::begin()</a>, <a class="el" href="wasm-module_8h_source.html#l00716">v8::internal::wasm::WasmModule::data_segments</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00486">DCHECK_GT</a>, <a class="el" href="wasm-module_8h_source.html#l00194">v8::internal::wasm::WasmDataSegment::dest_addr</a>, <a class="el" href="constant-expression_8cc_source.html#l00029">v8::internal::wasm::EvaluateConstantExpression()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01251">init_expr_zone_</a>, <a class="el" href="wasm-module_8h_source.html#l00164">v8::internal::wasm::WasmMemory::is_memory64()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01227">isolate_</a>, <a class="el" href="value-type_8h_source.html#l01243">v8::internal::wasm::kWasmI32</a>, <a class="el" href="value-type_8h_source.html#l01244">v8::internal::wasm::kWasmI64</a>, <a class="el" href="wasm-module_8h_source.html#l00070">v8::internal::wasm::WireBytesRef::length()</a>, <a class="el" href="wasm-module_8h_source.html#l00160">v8::internal::wasm::WasmMemory::max_memory_size</a>, <a class="el" href="module-instantiate_8cc_source.html#l02034">v8::internal::wasm::anonymous_namespace{module-instantiate.cc}::MaybeMarkError()</a>, <a class="el" href="wasm-module_8h_source.html#l00718">v8::internal::wasm::WasmModule::memories</a>, <a class="el" href="wasm-module_8h_source.html#l00193">v8::internal::wasm::WasmDataSegment::memory_index</a>, <a class="el" href="module-instantiate_8cc_source.html#l01230">module_</a>, <a class="el" href="module-instantiate_8cc_source.html#l01232">module_object_</a>, <a class="el" href="wasm-module_8h_source.html#l00069">v8::internal::wasm::WireBytesRef::offset()</a>, <a class="el" href="clamped__math__impl_8h_source.html#l00082">v8::base::internal::result</a>, <a class="el" href="module-instantiate_8cc_source.html#l01234">shared_trusted_data_</a>, <a class="el" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size()</a>, <a class="el" href="wasm-module_8h_source.html#l00195">v8::internal::wasm::WasmDataSegment::source</a>, <a class="el" href="module-instantiate_8cc_source.html#l01231">thrower_</a>, <a class="el" href="constant-expression_8h_source.html#l00126">v8::internal::wasm::to_value()</a>, and <a class="el" href="module-instantiate_8cc_source.html#l01233">trusted_data_</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l01914">Build_Phase2()</a>.</p>
<div id="dynsection-23" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-23-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-23-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-23-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a8803032b43c2f0d64f51e697df9f0172_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-24" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-24-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-24-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-24-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a8803032b43c2f0d64f51e697df9f0172_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="adde97133349687e93ab015b5f98ef6bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adde97133349687e93ab015b5f98ef6bc">&#9670;&nbsp;</a></span>LoadTableSegments()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::InstanceBuilder::LoadTableSegments </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l03290">3290</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;                                        {</div>
<div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;  <span class="keywordflow">for</span> (uint32_t segment_index = 0;</div>
<div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;       segment_index &lt; <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a4e531b388f3b2edb6a515b3a454ed49a">elem_segments</a>.size(); ++segment_index) {</div>
<div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;    <span class="keyword">const</span> WasmElemSegment&amp; elem_segment = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a4e531b388f3b2edb6a515b3a454ed49a">elem_segments</a>[segment_index];</div>
<div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;    <span class="comment">// Passive segments are not copied during instantiation.</span></div>
<div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;    <span class="keywordflow">if</span> (elem_segment.status != <a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmElemSegment.html#a582586e32b6c85b5bd98e21d10ac5c80a82071f8234a079b735f6ed6c1f0bb985">WasmElemSegment::kStatusActive</a>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160; </div>
<div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;    <span class="keyword">const</span> uint32_t table_index = elem_segment.table_index;</div>
<div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160; </div>
<div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;    <span class="keyword">const</span> WasmTable* table = &amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#af40a46c2d14efc9c68b499d7a459d9b0">tables</a>[table_index];</div>
<div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;    <span class="keywordtype">size_t</span> dest_offset;</div>
<div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ae996872b27cf7b0b9951c658613a8d20">ValueOrError</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a7444b7caaf83466659a2efde4f77457a">EvaluateConstantExpression</a>(</div>
<div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;        &amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ab230138dba8632d53ff8e394a35551ee">init_expr_zone_</a>, elem_segment.offset,</div>
<div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;        table-&gt;is_table64() ? <a class="code" href="namespacev8_1_1internal_1_1wasm.html#aee8b7f805fa662ae4ed159f8072bea5f">kWasmI64</a> : <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a7b893808fadaa287f225d7209d2d36c6">kWasmI32</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>,</div>
<div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aea7551d380bf83fce78fac6dae327a78">trusted_data_</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ad89c98fe73daab093f44575c4e5c7b4f">shared_trusted_data_</a>);</div>
<div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03.html#a22842750d51679c6a85b7ac9487aa008">MaybeMarkError</a>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;    <span class="keywordflow">if</span> (table-&gt;is_table64()) {</div>
<div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;      uint64_t dest_offset_64 = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a4a2e42081079a3b383768146a60b9cd8">to_value</a>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>).to_u64();</div>
<div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;      <span class="comment">// Clamp to {std::numeric_limits&lt;size_t&gt;::max()}, which is always an</span></div>
<div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;      <span class="comment">// invalid offset, so we always fail the bounds check below.</span></div>
<div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#afd957f297df7e9ee36c46185e961485f">DCHECK_GT</a>(std::numeric_limits&lt;size_t&gt;::max(), <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a38d56b630d25ea0451a91c6204e89042">wasm::max_table_size</a>());</div>
<div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;      dest_offset = <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(std::min(</div>
<div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;          dest_offset_64, uint64_t{std::numeric_limits&lt;size_t&gt;::max()}));</div>
<div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;      dest_offset = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a4a2e42081079a3b383768146a60b9cd8">to_value</a>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>).to_u32();</div>
<div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;    }</div>
<div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160; </div>
<div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">size_t</span> count = elem_segment.element_count;</div>
<div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160; </div>
<div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;    DirectHandle&lt;WasmTableObject&gt; table_object(</div>
<div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;        Cast&lt;WasmTableObject&gt;(</div>
<div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;            <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aad6f1251ab50c21c71d213e91b1bbc2e">trusted_data</a>(table-&gt;shared)-&gt;tables()-&gt;get(table_index)),</div>
<div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>);</div>
<div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;    <span class="keywordflow">if</span> (!base::IsInBounds&lt;size_t&gt;(dest_offset, count,</div>
<div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;                                  table_object-&gt;current_length())) {</div>
<div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>-&gt;RuntimeError(<span class="stringliteral">&quot;%s&quot;</span>,</div>
<div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;                             <a class="code" href="classv8_1_1internal_1_1MessageFormatter.html#a03072b2b028db2175b20de8e1c18b220">MessageFormatter::TemplateString</a>(</div>
<div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;                                 MessageTemplate::kWasmTrapTableOutOfBounds));</div>
<div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;    }</div>
<div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160; </div>
<div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;    base::Vector&lt;const uint8_t&gt; module_bytes =</div>
<div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aea7551d380bf83fce78fac6dae327a78">trusted_data_</a>-&gt;native_module()-&gt;wire_bytes();</div>
<div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;    Decoder decoder(module_bytes);</div>
<div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;    decoder.consume_bytes(elem_segment.elements_wire_bytes_offset);</div>
<div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160; </div>
<div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;    <span class="keywordtype">bool</span> is_function_table =</div>
<div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;        <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a3c8e5205c40b2156097780fb9e7d3f7b">IsSubtypeOf</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#af40a46c2d14efc9c68b499d7a459d9b0">tables</a>[table_index].type, <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a90941f620285a912a302a3aced092560">kWasmFuncRef</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>);</div>
<div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160; </div>
<div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;    <span class="keywordflow">if</span> (is_function_table) {</div>
<div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; count; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;        <span class="keywordtype">int</span> entry_index = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(dest_offset + <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>);</div>
<div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;        <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ae996872b27cf7b0b9951c658613a8d20">ValueOrError</a> computed_element = <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03.html#a69c5836368699b02ea301e0c030972b1">ConsumeElementSegmentEntry</a>(</div>
<div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;            &amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ab230138dba8632d53ff8e394a35551ee">init_expr_zone_</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aea7551d380bf83fce78fac6dae327a78">trusted_data_</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ad89c98fe73daab093f44575c4e5c7b4f">shared_trusted_data_</a>,</div>
<div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;            elem_segment, decoder, <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03.html#a440457d6a622a7ec01c196e8010588fea0121a4eabe74db64723af275f0bca955">kLazyFunctionsAndNull</a>);</div>
<div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03.html#a22842750d51679c6a85b7ac9487aa008">MaybeMarkError</a>(computed_element, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160; </div>
<div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;        WasmValue computed_value = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a4a2e42081079a3b383768146a60b9cd8">to_value</a>(computed_element);</div>
<div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160; </div>
<div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;        <span class="keywordflow">if</span> (computed_value.type() == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a7b893808fadaa287f225d7209d2d36c6">kWasmI32</a>) {</div>
<div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;          <span class="keywordflow">if</span> (computed_value.to_i32() &gt;= 0) {</div>
<div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;            <span class="comment">// TODO(42204563): Should this use trusted_data(table-&gt;shared)?</span></div>
<div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;            <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03.html#ac7a772dcc24c13b0ad3abf76d4b0a771">SetFunctionTablePlaceholder</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aea7551d380bf83fce78fac6dae327a78">trusted_data_</a>, table_object,</div>
<div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;                                        entry_index, computed_value.to_i32());</div>
<div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;            <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03.html#a90a4a187461235dd41109b9941366f34">SetFunctionTableNullEntry</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, table_object, entry_index);</div>
<div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;          }</div>
<div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;          <a class="code" href="classv8_1_1internal_1_1WasmTableObject.html#acfdec070b48fe34a36f7aa7fed63a969">WasmTableObject::Set</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, table_object, entry_index,</div>
<div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;                               computed_value.to_ref());</div>
<div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;        }</div>
<div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;      }</div>
<div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; count; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;        <span class="keywordtype">int</span> entry_index = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(dest_offset + <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>);</div>
<div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;        <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ae996872b27cf7b0b9951c658613a8d20">ValueOrError</a> computed_element = <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03.html#a69c5836368699b02ea301e0c030972b1">ConsumeElementSegmentEntry</a>(</div>
<div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;            &amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ab230138dba8632d53ff8e394a35551ee">init_expr_zone_</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aea7551d380bf83fce78fac6dae327a78">trusted_data_</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ad89c98fe73daab093f44575c4e5c7b4f">shared_trusted_data_</a>,</div>
<div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;            elem_segment, decoder, <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03.html#a440457d6a622a7ec01c196e8010588fea8febc0c947468c75ae40f525d817e413">kStrictFunctionsAndNull</a>);</div>
<div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03.html#a22842750d51679c6a85b7ac9487aa008">MaybeMarkError</a>(computed_element, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;        <a class="code" href="classv8_1_1internal_1_1WasmTableObject.html#acfdec070b48fe34a36f7aa7fed63a969">WasmTableObject::Set</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, table_object, entry_index,</div>
<div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;                             <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a4a2e42081079a3b383768146a60b9cd8">to_value</a>(computed_element).to_ref());</div>
<div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;      }</div>
<div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;    }</div>
<div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;    <span class="comment">// Active segment have to be set to empty after instance initialization</span></div>
<div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;    <span class="comment">// (much like passive segments after dropping).</span></div>
<div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aad6f1251ab50c21c71d213e91b1bbc2e">trusted_data</a>(elem_segment.shared)</div>
<div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;        -&gt;element_segments()</div>
<div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;        -&gt;set(segment_index, *<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;empty_fixed_array());</div>
<div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;  }</div>
<div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1MessageFormatter_html_a03072b2b028db2175b20de8e1c18b220"><div class="ttname"><a href="classv8_1_1internal_1_1MessageFormatter.html#a03072b2b028db2175b20de8e1c18b220">v8::internal::MessageFormatter::TemplateString</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE const char * TemplateString(MessageTemplate index)</div><div class="ttdef"><b>Definition:</b> <a href="messages_8cc_source.html#l00426">messages.cc:426</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTableObject_html_acfdec070b48fe34a36f7aa7fed63a969"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTableObject.html#acfdec070b48fe34a36f7aa7fed63a969">v8::internal::WasmTableObject::Set</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE void Set(Isolate *isolate, DirectHandle&lt; WasmTableObject &gt; table, uint32_t index, DirectHandle&lt; Object &gt; entry)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l00379">wasm-objects.cc:379</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03_html_a440457d6a622a7ec01c196e8010588fea0121a4eabe74db64723af275f0bca955"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03.html#a440457d6a622a7ec01c196e8010588fea0121a4eabe74db64723af275f0bca955">v8::internal::wasm::anonymous_namespace{module-instantiate.cc}::kLazyFunctionsAndNull</a></div><div class="ttdeci">@ kLazyFunctionsAndNull</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l03158">module-instantiate.cc:3158</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03_html_a440457d6a622a7ec01c196e8010588fea8febc0c947468c75ae40f525d817e413"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03.html#a440457d6a622a7ec01c196e8010588fea8febc0c947468c75ae40f525d817e413">v8::internal::wasm::anonymous_namespace{module-instantiate.cc}::kStrictFunctionsAndNull</a></div><div class="ttdeci">@ kStrictFunctionsAndNull</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l03158">module-instantiate.cc:3158</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03_html_a69c5836368699b02ea301e0c030972b1"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03.html#a69c5836368699b02ea301e0c030972b1">v8::internal::wasm::anonymous_namespace{module-instantiate.cc}::ConsumeElementSegmentEntry</a></div><div class="ttdeci">ValueOrError ConsumeElementSegmentEntry(Zone *zone, Isolate *isolate, DirectHandle&lt; WasmTrustedInstanceData &gt; trusted_instance_data, DirectHandle&lt; WasmTrustedInstanceData &gt; shared_trusted_instance_data, const WasmElemSegment &amp;segment, Decoder &amp;decoder, FunctionComputationMode function_mode)</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l03164">module-instantiate.cc:3164</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03_html_a90a4a187461235dd41109b9941366f34"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03.html#a90a4a187461235dd41109b9941366f34">v8::internal::wasm::anonymous_namespace{module-instantiate.cc}::SetFunctionTableNullEntry</a></div><div class="ttdeci">void SetFunctionTableNullEntry(Isolate *isolate, DirectHandle&lt; WasmTableObject &gt; table_object, uint32_t entry_index)</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l03106">module-instantiate.cc:3106</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03_html_ac7a772dcc24c13b0ad3abf76d4b0a771"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03.html#ac7a772dcc24c13b0ad3abf76d4b0a771">v8::internal::wasm::anonymous_namespace{module-instantiate.cc}::SetFunctionTablePlaceholder</a></div><div class="ttdeci">void SetFunctionTablePlaceholder(Isolate *isolate, DirectHandle&lt; WasmTrustedInstanceData &gt; trusted_instance_data, DirectHandle&lt; WasmTableObject &gt; table_object, uint32_t entry_index, uint32_t func_index)</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l03083">module-instantiate.cc:3083</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a38d56b630d25ea0451a91c6204e89042"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a38d56b630d25ea0451a91c6204e89042">v8::internal::wasm::max_table_size</a></div><div class="ttdeci">uint32_t max_table_size()</div><div class="ttdef"><b>Definition:</b> <a href="wasm-engine_8cc_source.html#l02165">wasm-engine.cc:2165</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a3c8e5205c40b2156097780fb9e7d3f7b"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a3c8e5205c40b2156097780fb9e7d3f7b">v8::internal::wasm::IsSubtypeOf</a></div><div class="ttdeci">bool IsSubtypeOf(ValueType subtype, ValueType supertype, const WasmModule *sub_module, const WasmModule *super_module)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-subtyping_8h_source.html#l00068">wasm-subtyping.h:68</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a90941f620285a912a302a3aced092560"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a90941f620285a912a302a3aced092560">v8::internal::wasm::kWasmFuncRef</a></div><div class="ttdeci">constexpr IndependentHeapType kWasmFuncRef</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01256">value-type.h:1256</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmElemSegment_html_a582586e32b6c85b5bd98e21d10ac5c80a82071f8234a079b735f6ed6c1f0bb985"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmElemSegment.html#a582586e32b6c85b5bd98e21d10ac5c80a82071f8234a079b735f6ed6c1f0bb985">v8::internal::wasm::WasmElemSegment::kStatusActive</a></div><div class="ttdeci">@ kStatusActive</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00201">wasm-module.h:201</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="decoder_8h_source.html#l00297">v8::internal::wasm::Decoder::consume_bytes()</a>, <a class="el" href="module-instantiate_8cc_source.html#l03164">v8::internal::wasm::anonymous_namespace{module-instantiate.cc}::ConsumeElementSegmentEntry()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00486">DCHECK_GT</a>, <a class="el" href="wasm-module_8h_source.html#l00723">v8::internal::wasm::WasmModule::elem_segments</a>, <a class="el" href="wasm-module_8h_source.html#l00256">v8::internal::wasm::WasmElemSegment::element_count</a>, <a class="el" href="wasm-module_8h_source.html#l00257">v8::internal::wasm::WasmElemSegment::elements_wire_bytes_offset</a>, <a class="el" href="constant-expression_8cc_source.html#l00029">v8::internal::wasm::EvaluateConstantExpression()</a>, <a class="el" href="execution_2isolate_8h_source.html#l01553">v8::internal::Isolate::factory()</a>, <a class="el" href="json-stringifier_8cc_source.html#l00548">v8::internal::anonymous_namespace{json-stringifier.cc}::i</a>, <a class="el" href="module-instantiate_8cc_source.html#l01251">init_expr_zone_</a>, <a class="el" href="wasm-module_8h_source.html#l00662">v8::internal::wasm::WasmTable::is_table64()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01227">isolate_</a>, <a class="el" href="wasm-subtyping_8h_source.html#l00068">v8::internal::wasm::IsSubtypeOf()</a>, <a class="el" href="module-instantiate_8cc_source.html#l03158">v8::internal::wasm::anonymous_namespace{module-instantiate.cc}::kLazyFunctionsAndNull</a>, <a class="el" href="wasm-module_8h_source.html#l00201">v8::internal::wasm::WasmElemSegment::kStatusActive</a>, <a class="el" href="module-instantiate_8cc_source.html#l03158">v8::internal::wasm::anonymous_namespace{module-instantiate.cc}::kStrictFunctionsAndNull</a>, <a class="el" href="value-type_8h_source.html#l01256">v8::internal::wasm::kWasmFuncRef</a>, <a class="el" href="value-type_8h_source.html#l01243">v8::internal::wasm::kWasmI32</a>, <a class="el" href="value-type_8h_source.html#l01244">v8::internal::wasm::kWasmI64</a>, <a class="el" href="wasm-engine_8cc_source.html#l02165">v8::internal::wasm::max_table_size()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02034">v8::internal::wasm::anonymous_namespace{module-instantiate.cc}::MaybeMarkError()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01230">module_</a>, <a class="el" href="wasm-module_8h_source.html#l00254">v8::internal::wasm::WasmElemSegment::offset</a>, <a class="el" href="clamped__math__impl_8h_source.html#l00082">v8::base::internal::result</a>, <a class="el" href="wasm-objects_8cc_source.html#l00379">v8::internal::WasmTableObject::Set()</a>, <a class="el" href="module-instantiate_8cc_source.html#l03106">v8::internal::wasm::anonymous_namespace{module-instantiate.cc}::SetFunctionTableNullEntry()</a>, <a class="el" href="module-instantiate_8cc_source.html#l03083">v8::internal::wasm::anonymous_namespace{module-instantiate.cc}::SetFunctionTablePlaceholder()</a>, <a class="el" href="wasm-module_8h_source.html#l00251">v8::internal::wasm::WasmElemSegment::shared</a>, <a class="el" href="wasm-module_8h_source.html#l00657">v8::internal::wasm::WasmTable::shared</a>, <a class="el" href="module-instantiate_8cc_source.html#l01234">shared_trusted_data_</a>, <a class="el" href="wasm-module_8h_source.html#l00250">v8::internal::wasm::WasmElemSegment::status</a>, <a class="el" href="wasm-module_8h_source.html#l00253">v8::internal::wasm::WasmElemSegment::table_index</a>, <a class="el" href="wasm-module_8h_source.html#l00717">v8::internal::wasm::WasmModule::tables</a>, <a class="el" href="messages_8cc_source.html#l00426">v8::internal::MessageFormatter::TemplateString()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01231">thrower_</a>, <a class="el" href="wasm-value_8h_source.html#l00085">v8::internal::wasm::WasmValue::to_ref()</a>, <a class="el" href="constant-expression_8h_source.html#l00126">v8::internal::wasm::to_value()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01253">trusted_data()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01233">trusted_data_</a>, and <a class="el" href="wasm-value_8h_source.html#l00091">v8::internal::wasm::WasmValue::type()</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l01914">Build_Phase2()</a>.</p>
<div id="dynsection-25" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-25-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-25-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-25-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_adde97133349687e93ab015b5f98ef6bc_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-26" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-26-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-26-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-26-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_adde97133349687e93ab015b5f98ef6bc_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a5267721eb2f9ae3eacdd640338001da9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5267721eb2f9ae3eacdd640338001da9">&#9670;&nbsp;</a></span>LookupImport()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1MaybeDirectHandle.html">MaybeDirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1Object.html">Object</a> &gt; v8::internal::wasm::InstanceBuilder::LookupImport </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1String.html">String</a> &gt;&#160;</td>
          <td class="paramname"><em>module_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1String.html">String</a> &gt;&#160;</td>
          <td class="paramname"><em>import_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l01971">1971</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;                                      {</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;  <span class="comment">// The caller checked that the ffi object is present; and we checked in</span></div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;  <span class="comment">// the JS-API layer that the ffi object, if present, is a JSObject.</span></div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a13cbcfe18596d4900f82afd2e3f434db">ffi_</a>.is_null());</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;  <span class="comment">// Look up the module first.</span></div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;  DirectHandle&lt;Object&gt; module;</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;  DirectHandle&lt;JSReceiver&gt; module_recv;</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1Object.html#a356e9915c742b35bbd1bed0e21fd4014">Object::GetPropertyOrElement</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a13cbcfe18596d4900f82afd2e3f434db">ffi_</a>.ToHandleChecked(),</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;                                    module_name)</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;           .ToHandle(&amp;module) ||</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;      !TryCast&lt;JSReceiver&gt;(module, &amp;module_recv)) {</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>* error = module.is_null()</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;                            ? <span class="stringliteral">&quot;module not found&quot;</span></div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;                            : <span class="stringliteral">&quot;module is not an object or function&quot;</span>;</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>-&gt;TypeError(<span class="stringliteral">&quot;%s: %s&quot;</span>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ab5cdfd1a6d96ac77038c87b059b4d04e">ImportName</a>(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, module_name).c_str(),</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;                        error);</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;    <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;  }</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160; </div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;  MaybeDirectHandle&lt;Object&gt; <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> =</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Object.html#a356e9915c742b35bbd1bed0e21fd4014">Object::GetPropertyOrElement</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, module_recv, import_name);</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>.is_null()) {</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>-&gt;LinkError(<span class="stringliteral">&quot;%s: import not found&quot;</span>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ab5cdfd1a6d96ac77038c87b059b4d04e">ImportName</a>(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>).c_str());</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;    <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;  }</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160; </div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>;</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1Object_html_a356e9915c742b35bbd1bed0e21fd4014"><div class="ttname"><a href="classv8_1_1internal_1_1Object.html#a356e9915c742b35bbd1bed0e21fd4014">v8::internal::Object::GetPropertyOrElement</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeHandle&lt; Object &gt; GetPropertyOrElement(Isolate *isolate, DirectHandle&lt; JSAny &gt; object, DirectHandle&lt; Name &gt; name)</div><div class="ttdef"><b>Definition:</b> <a href="objects-inl_8h_source.html#l01847">objects-inl.h:1847</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1InstanceBuilder_html_ab5cdfd1a6d96ac77038c87b059b4d04e"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ab5cdfd1a6d96ac77038c87b059b4d04e">v8::internal::wasm::InstanceBuilder::ImportName</a></div><div class="ttdeci">std::string ImportName(uint32_t index)</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l01257">module-instantiate.cc:1257</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ac1a33b5fd9af1653d346746cdb5c1ac0"><div class="ttname"><a href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">v8::internal::value</a></div><div class="ttdeci">return value</div><div class="ttdef"><b>Definition:</b> <a href="map-inl_8h_source.html#l00912">map-inl.h:912</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01235">ffi_</a>, <a class="el" href="objects-inl_8h_source.html#l01847">v8::internal::Object::GetPropertyOrElement()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01257">ImportName()</a>, <a class="el" href="heap-snapshot-generator_8cc_source.html#l01698">v8::internal::index</a>, <a class="el" href="handles_8h_source.html#l00694">v8::internal::DirectHandle&lt; T &gt;::is_null()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01227">isolate_</a>, <a class="el" href="module-instantiate_8cc_source.html#l01231">thrower_</a>, and <a class="el" href="map-inl_8h_source.html#l00912">v8::internal::value</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l02224">SanitizeImports()</a>.</p>
<div id="dynsection-27" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-27-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-27-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-27-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a5267721eb2f9ae3eacdd640338001da9_cgraph.svg" width="508" height="235"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-28" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-28-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-28-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-28-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a5267721eb2f9ae3eacdd640338001da9_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a45625160696bb8741a820c7cf2a0b5af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45625160696bb8741a820c7cf2a0b5af">&#9670;&nbsp;</a></span>LookupImportAsm()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1MaybeDirectHandle.html">MaybeDirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1Object.html">Object</a> &gt; v8::internal::wasm::InstanceBuilder::LookupImportAsm </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1String.html">String</a> &gt;&#160;</td>
          <td class="paramname"><em>import_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l02048">2048</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;                                                      {</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;  <span class="comment">// The caller checked that the ffi object is present.</span></div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a13cbcfe18596d4900f82afd2e3f434db">ffi_</a>.is_null());</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160; </div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;  <span class="comment">// Perform lookup of the given {import_name} without causing any observable</span></div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;  <span class="comment">// side-effect. We only accept accesses that resolve to data properties,</span></div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;  <span class="comment">// which is indicated by the asm.js spec in section 7 (&quot;Linking&quot;) as well.</span></div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;  PropertyKey <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, Cast&lt;Name&gt;(import_name));</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;  LookupIterator it(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a13cbcfe18596d4900f82afd2e3f434db">ffi_</a>.ToHandleChecked(), <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>);</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;  <span class="keywordflow">switch</span> (it.state()) {</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1LookupIterator.html#aa7fbcb80d73cb5ee869915438ee81ca9a1ff440ac6899e12e66dde578124852e8">LookupIterator::ACCESS_CHECK</a>:</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1LookupIterator.html#aa7fbcb80d73cb5ee869915438ee81ca9a66d623919565e6e652d519df27a21303">LookupIterator::TYPED_ARRAY_INDEX_NOT_FOUND</a>:</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1LookupIterator.html#aa7fbcb80d73cb5ee869915438ee81ca9ae5d9ae449f12b851ace03c851d967736">LookupIterator::INTERCEPTOR</a>:</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1LookupIterator.html#aa7fbcb80d73cb5ee869915438ee81ca9ae0202e647e47ba723c6868a386653f00">LookupIterator::JSPROXY</a>:</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1LookupIterator.html#aa7fbcb80d73cb5ee869915438ee81ca9a276760ba9d667569e49b94e1da1c1aa7">LookupIterator::WASM_OBJECT</a>:</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1LookupIterator.html#aa7fbcb80d73cb5ee869915438ee81ca9ad99a7962d13270cc7a3e9f385ce04aa8">LookupIterator::ACCESSOR</a>:</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1LookupIterator.html#aa7fbcb80d73cb5ee869915438ee81ca9a938c1d30b08c4867801921d2ed2f3bca">LookupIterator::TRANSITION</a>:</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>-&gt;LinkError(<span class="stringliteral">&quot;%s: not a data property&quot;</span>,</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;                          <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ab5cdfd1a6d96ac77038c87b059b4d04e">ImportName</a>(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, import_name).c_str());</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;      <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1LookupIterator.html#aa7fbcb80d73cb5ee869915438ee81ca9a872f2154f3e6d7f5b6780d8de08eaf4b">LookupIterator::NOT_FOUND</a>:</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;      <span class="comment">// Accepting missing properties as undefined does not cause any</span></div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;      <span class="comment">// observable difference from JavaScript semantics, we are lenient.</span></div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;undefined_value();</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1LookupIterator.html#aa7fbcb80d73cb5ee869915438ee81ca9ad248749ef6fff604a5df3ec251488d4b">LookupIterator::DATA</a>: {</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;      DirectHandle&lt;Object&gt; <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = it.GetDataValue();</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;      <span class="comment">// For legacy reasons, we accept functions for imported globals (see</span></div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;      <span class="comment">// {ProcessImportedGlobal}), but only if we can easily determine that</span></div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;      <span class="comment">// their Number-conversion is side effect free and returns NaN (which is</span></div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;      <span class="comment">// the case as long as &quot;valueOf&quot; (or others) are not overwritten).</span></div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;      <span class="keywordflow">if</span> (IsJSFunction(*<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>) &amp;&amp;</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;          <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a4f710e1d1dd945669cbebae2b51835e5">import_table</a>[<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>].kind == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#acb10c8534fdb3edc15e3f45d7ee6d547a6f3a1cfcc3386739303f7d10b0075ac5">kExternalGlobal</a> &amp;&amp;</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;          !<a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03.html#aa59117d70e27bf651a6401a6eda174d8">HasDefaultToNumberBehaviour</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, Cast&lt;JSFunction&gt;(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>))) {</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>-&gt;LinkError(<span class="stringliteral">&quot;%s: function has special ToNumber behaviour&quot;</span>,</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;                            <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ab5cdfd1a6d96ac77038c87b059b4d04e">ImportName</a>(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, import_name).c_str());</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;        <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;      }</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>;</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;    }</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1LookupIterator.html#aa7fbcb80d73cb5ee869915438ee81ca9ab6b48e02c0bdaedda0011015f1bdc761">LookupIterator::STRING_LOOKUP_START_OBJECT</a>:</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;  }</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1LookupIterator_html_aa7fbcb80d73cb5ee869915438ee81ca9a1ff440ac6899e12e66dde578124852e8"><div class="ttname"><a href="classv8_1_1internal_1_1LookupIterator.html#aa7fbcb80d73cb5ee869915438ee81ca9a1ff440ac6899e12e66dde578124852e8">v8::internal::LookupIterator::ACCESS_CHECK</a></div><div class="ttdeci">@ ACCESS_CHECK</div><div class="ttdef"><b>Definition:</b> <a href="lookup_8h_source.html#l00084">lookup.h:84</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1LookupIterator_html_aa7fbcb80d73cb5ee869915438ee81ca9a276760ba9d667569e49b94e1da1c1aa7"><div class="ttname"><a href="classv8_1_1internal_1_1LookupIterator.html#aa7fbcb80d73cb5ee869915438ee81ca9a276760ba9d667569e49b94e1da1c1aa7">v8::internal::LookupIterator::WASM_OBJECT</a></div><div class="ttdeci">@ WASM_OBJECT</div><div class="ttdef"><b>Definition:</b> <a href="lookup_8h_source.html#l00101">lookup.h:101</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1LookupIterator_html_aa7fbcb80d73cb5ee869915438ee81ca9a66d623919565e6e652d519df27a21303"><div class="ttname"><a href="classv8_1_1internal_1_1LookupIterator.html#aa7fbcb80d73cb5ee869915438ee81ca9a66d623919565e6e652d519df27a21303">v8::internal::LookupIterator::TYPED_ARRAY_INDEX_NOT_FOUND</a></div><div class="ttdeci">@ TYPED_ARRAY_INDEX_NOT_FOUND</div><div class="ttdef"><b>Definition:</b> <a href="lookup_8h_source.html#l00081">lookup.h:81</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1LookupIterator_html_aa7fbcb80d73cb5ee869915438ee81ca9a872f2154f3e6d7f5b6780d8de08eaf4b"><div class="ttname"><a href="classv8_1_1internal_1_1LookupIterator.html#aa7fbcb80d73cb5ee869915438ee81ca9a872f2154f3e6d7f5b6780d8de08eaf4b">v8::internal::LookupIterator::NOT_FOUND</a></div><div class="ttdeci">@ NOT_FOUND</div><div class="ttdef"><b>Definition:</b> <a href="lookup_8h_source.html#l00071">lookup.h:71</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1LookupIterator_html_aa7fbcb80d73cb5ee869915438ee81ca9a938c1d30b08c4867801921d2ed2f3bca"><div class="ttname"><a href="classv8_1_1internal_1_1LookupIterator.html#aa7fbcb80d73cb5ee869915438ee81ca9a938c1d30b08c4867801921d2ed2f3bca">v8::internal::LookupIterator::TRANSITION</a></div><div class="ttdeci">@ TRANSITION</div><div class="ttdef"><b>Definition:</b> <a href="lookup_8h_source.html#l00108">lookup.h:108</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1LookupIterator_html_aa7fbcb80d73cb5ee869915438ee81ca9ab6b48e02c0bdaedda0011015f1bdc761"><div class="ttname"><a href="classv8_1_1internal_1_1LookupIterator.html#aa7fbcb80d73cb5ee869915438ee81ca9ab6b48e02c0bdaedda0011015f1bdc761">v8::internal::LookupIterator::STRING_LOOKUP_START_OBJECT</a></div><div class="ttdeci">@ STRING_LOOKUP_START_OBJECT</div><div class="ttdef"><b>Definition:</b> <a href="lookup_8h_source.html#l00075">lookup.h:75</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1LookupIterator_html_aa7fbcb80d73cb5ee869915438ee81ca9ad248749ef6fff604a5df3ec251488d4b"><div class="ttname"><a href="classv8_1_1internal_1_1LookupIterator.html#aa7fbcb80d73cb5ee869915438ee81ca9ad248749ef6fff604a5df3ec251488d4b">v8::internal::LookupIterator::DATA</a></div><div class="ttdeci">@ DATA</div><div class="ttdef"><b>Definition:</b> <a href="lookup_8h_source.html#l00099">lookup.h:99</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1LookupIterator_html_aa7fbcb80d73cb5ee869915438ee81ca9ad99a7962d13270cc7a3e9f385ce04aa8"><div class="ttname"><a href="classv8_1_1internal_1_1LookupIterator.html#aa7fbcb80d73cb5ee869915438ee81ca9ad99a7962d13270cc7a3e9f385ce04aa8">v8::internal::LookupIterator::ACCESSOR</a></div><div class="ttdeci">@ ACCESSOR</div><div class="ttdef"><b>Definition:</b> <a href="lookup_8h_source.html#l00096">lookup.h:96</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1LookupIterator_html_aa7fbcb80d73cb5ee869915438ee81ca9ae0202e647e47ba723c6868a386653f00"><div class="ttname"><a href="classv8_1_1internal_1_1LookupIterator.html#aa7fbcb80d73cb5ee869915438ee81ca9ae0202e647e47ba723c6868a386653f00">v8::internal::LookupIterator::JSPROXY</a></div><div class="ttdeci">@ JSPROXY</div><div class="ttdef"><b>Definition:</b> <a href="lookup_8h_source.html#l00093">lookup.h:93</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1LookupIterator_html_aa7fbcb80d73cb5ee869915438ee81ca9ae5d9ae449f12b851ace03c851d967736"><div class="ttname"><a href="classv8_1_1internal_1_1LookupIterator.html#aa7fbcb80d73cb5ee869915438ee81ca9ae5d9ae449f12b851ace03c851d967736">v8::internal::LookupIterator::INTERCEPTOR</a></div><div class="ttdeci">@ INTERCEPTOR</div><div class="ttdef"><b>Definition:</b> <a href="lookup_8h_source.html#l00090">lookup.h:90</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03_html_aa59117d70e27bf651a6401a6eda174d8"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03.html#aa59117d70e27bf651a6401a6eda174d8">v8::internal::wasm::anonymous_namespace{module-instantiate.cc}::HasDefaultToNumberBehaviour</a></div><div class="ttdeci">bool HasDefaultToNumberBehaviour(Isolate *isolate, DirectHandle&lt; JSFunction &gt; function)</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l02003">module-instantiate.cc:2003</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_acb10c8534fdb3edc15e3f45d7ee6d547a6f3a1cfcc3386739303f7d10b0075ac5"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#acb10c8534fdb3edc15e3f45d7ee6d547a6f3a1cfcc3386739303f7d10b0075ac5">v8::internal::wasm::kExternalGlobal</a></div><div class="ttdeci">@ kExternalGlobal</div><div class="ttdef"><b>Definition:</b> <a href="wasm-constants_8h_source.html#l00082">wasm-constants.h:82</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a67a51b6314a9bc8a8c44c5fe14149e6c"><div class="ttname"><a href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">v8::internal::key</a></div><div class="ttdeci">int32_t key</div><div class="ttdef"><b>Definition:</b> <a href="external-reference_8cc_source.html#l01408">external-reference.cc:1408</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_acdec713c25068019f935e35976f5b666"><div class="ttname"><a href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">v8::internal::UNREACHABLE</a></div><div class="ttdeci">UNREACHABLE()</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lookup_8h_source.html#l00084">v8::internal::LookupIterator::ACCESS_CHECK</a>, <a class="el" href="lookup_8h_source.html#l00096">v8::internal::LookupIterator::ACCESSOR</a>, <a class="el" href="lookup_8h_source.html#l00099">v8::internal::LookupIterator::DATA</a>, <a class="el" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK()</a>, <a class="el" href="execution_2isolate_8h_source.html#l01553">v8::internal::Isolate::factory()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01235">ffi_</a>, <a class="el" href="lookup_8cc_source.html#l01079">v8::internal::LookupIterator::GetDataValue()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02003">v8::internal::wasm::anonymous_namespace{module-instantiate.cc}::HasDefaultToNumberBehaviour()</a>, <a class="el" href="wasm-module_8h_source.html#l00719">v8::internal::wasm::WasmModule::import_table</a>, <a class="el" href="module-instantiate_8cc_source.html#l01257">ImportName()</a>, <a class="el" href="heap-snapshot-generator_8cc_source.html#l01698">v8::internal::index</a>, <a class="el" href="lookup_8h_source.html#l00090">v8::internal::LookupIterator::INTERCEPTOR</a>, <a class="el" href="module-instantiate_8cc_source.html#l01227">isolate_</a>, <a class="el" href="lookup_8h_source.html#l00093">v8::internal::LookupIterator::JSPROXY</a>, <a class="el" href="wasm-constants_8h_source.html#l00082">v8::internal::wasm::kExternalGlobal</a>, <a class="el" href="external-reference_8cc_source.html#l01408">v8::internal::key</a>, <a class="el" href="module-instantiate_8cc_source.html#l01230">module_</a>, <a class="el" href="lookup_8h_source.html#l00071">v8::internal::LookupIterator::NOT_FOUND</a>, <a class="el" href="lookup_8h_source.html#l00156">v8::internal::LookupIterator::state()</a>, <a class="el" href="lookup_8h_source.html#l00075">v8::internal::LookupIterator::STRING_LOOKUP_START_OBJECT</a>, <a class="el" href="module-instantiate_8cc_source.html#l01231">thrower_</a>, <a class="el" href="lookup_8h_source.html#l00108">v8::internal::LookupIterator::TRANSITION</a>, <a class="el" href="lookup_8h_source.html#l00081">v8::internal::LookupIterator::TYPED_ARRAY_INDEX_NOT_FOUND</a>, <a class="el" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">v8::internal::UNREACHABLE()</a>, <a class="el" href="map-inl_8h_source.html#l00912">v8::internal::value</a>, and <a class="el" href="lookup_8h_source.html#l00101">v8::internal::LookupIterator::WASM_OBJECT</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l02224">SanitizeImports()</a>.</p>
<div id="dynsection-29" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-29-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-29-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-29-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a45625160696bb8741a820c7cf2a0b5af_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-30" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-30-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-30-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-30-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a45625160696bb8741a820c7cf2a0b5af_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a446ff15923517ddda69049d7e6327e40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a446ff15923517ddda69049d7e6327e40">&#9670;&nbsp;</a></span>ProcessExports()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::InstanceBuilder::ProcessExports </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l02893">2893</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;                                     {</div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;  std::unordered_map&lt;int, IndirectHandle&lt;Object&gt;&gt; imported_globals;</div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160; </div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;  <span class="comment">// If an imported WebAssembly global gets exported, the export has to be</span></div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;  <span class="comment">// identical to to import. Therefore we cache all re-exported globals</span></div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;  <span class="comment">// in a map here.</span></div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;  <span class="comment">// Note: re-exported functions must also preserve their identity; they</span></div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;  <span class="comment">// have already been cached in the instance by {ProcessImportedFunction}.</span></div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = 0, <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a4f710e1d1dd945669cbebae2b51835e5">import_table</a>.size(); <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> &lt; <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>;</div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;       ++<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>) {</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;    <span class="keyword">const</span> WasmImport&amp; <span class="keyword">import</span> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a4f710e1d1dd945669cbebae2b51835e5">import_table</a>[<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>];</div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">import</span>.kind == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#acb10c8534fdb3edc15e3f45d7ee6d547a6f3a1cfcc3386739303f7d10b0075ac5">kExternalGlobal</a> &amp;&amp;</div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#ac6101242a2a805d0e982fff4ddcc4677">globals</a>[<span class="keyword">import</span>.index].exported) {</div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;      DirectHandle&lt;Object&gt; <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a5dadf45ab32816f8ffdb69a10544a956">sanitized_imports_</a>[<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>];</div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;      <span class="keywordflow">if</span> (IsWasmGlobalObject(*<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;        imported_globals[<span class="keyword">import</span>.index] = <a class="code" href="namespacev8_1_1internal.html#a15cafb1d1ed1ac577609eb5e764384e8">indirect_handle</a>(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>);</div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;      }</div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;    }</div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;  }</div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160; </div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;  DirectHandle&lt;WasmInstanceObject&gt; <a class="code" href="namespacev8_1_1internal.html#a58e3fb6c5ada1d544715988b7a735333">instance_object</a>{</div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aea7551d380bf83fce78fac6dae327a78">trusted_data_</a>-&gt;instance_object(), <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>};</div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;  DirectHandle&lt;JSObject&gt; exports_object =</div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(<a class="code" href="namespacev8_1_1internal.html#a58e3fb6c5ada1d544715988b7a735333">instance_object</a>-&gt;exports_object(), <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>);</div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;  MaybeDirectHandle&lt;String&gt; single_function_name;</div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;  <span class="keywordtype">bool</span> is_asm_js = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a70bbfcab50b20ba5da8696e0373a8af4">is_asmjs_module</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>);</div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;  <span class="keywordflow">if</span> (is_asm_js) {</div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;    DirectHandle&lt;JSFunction&gt; object_function = DirectHandle&lt;JSFunction&gt;(</div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a9435d2734e67d1dac0a3ce2a5b9387b8">native_context</a>()-&gt;object_function(), <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>);</div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;    exports_object = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Factory.html#a54c843caad6266415afc266860855cdb">NewJSObject</a>(object_function);</div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;    single_function_name =</div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Factory.html#af3f3d9861e8eb4e63e94eae4d18aa477">InternalizeUtf8String</a>(<a class="code" href="classv8_1_1internal_1_1AsmJs.html#a27360cb0c921f0626fd84494b87e79af">AsmJs::kSingleFunctionName</a>);</div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a58e3fb6c5ada1d544715988b7a735333">instance_object</a>-&gt;set_exports_object(*exports_object);</div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;  }</div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160; </div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;  <span class="comment">// Switch the exports object to dictionary mode and allocate enough storage</span></div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;  <span class="comment">// for the expected number of exports.</span></div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(exports_object-&gt;HasFastProperties());</div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;  <a class="code" href="classv8_1_1internal_1_1JSObject.html#a89dc4711a0455bca5529d422a8738e79">JSObject::NormalizeProperties</a>(</div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, exports_object, <a class="code" href="namespacev8_1_1internal.html#aff269dc9be2370cdca244d8f1f97237aa2218bc18b86468072fce6605e688330f">KEEP_INOBJECT_PROPERTIES</a>,</div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;      <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a4dbe8d13d75f2c6c4a8f6e19fdb5eca1">export_table</a>.size()), <span class="stringliteral">&quot;WasmExportsObject&quot;</span>);</div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160; </div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;  PropertyDescriptor desc;</div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;  desc.set_writable(is_asm_js);</div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;  desc.set_enumerable(<span class="keyword">true</span>);</div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;  desc.set_configurable(is_asm_js);</div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160; </div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;  <span class="keyword">const</span> PropertyDetails details{<a class="code" href="namespacev8_1_1internal.html#ace7045d9fc96e0d36ce22ba112661a81a0ac87546e8b36fcb3034694d4d909ea3">PropertyKind::kData</a>, desc.ToAttributes(),</div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;                                <a class="code" href="namespacev8_1_1internal.html#ac328869a355886739965287befcc49aca32567d9e5f2d66c9b326c45e800abcf6">PropertyConstness::kMutable</a>};</div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160; </div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;  <span class="comment">// Process each export in the export table.</span></div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> WasmExport&amp; <a class="code" href="namespacev8_1_1base_1_1ieee754.html#a6933d652f26a01529c4fc7d747981cc5">exp</a> : <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a4dbe8d13d75f2c6c4a8f6e19fdb5eca1">export_table</a>) {</div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;    DirectHandle&lt;String&gt; <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a274a3a31f85691b7918199e835fa91c9">name</a> =</div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;        <a class="code" href="classv8_1_1internal_1_1WasmModuleObject.html#aad63556c675d28c5823c6f4ca765c67d">WasmModuleObject::ExtractUtf8StringFromModuleBytes</a>(</div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;            <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ad9acbe63776578c8905fa72206177a2c">module_object_</a>, <a class="code" href="namespacev8_1_1base_1_1ieee754.html#a6933d652f26a01529c4fc7d747981cc5">exp</a>.name, <a class="code" href="namespacev8_1_1internal.html#a00e6a81b8b499c814a011d90853897fbaa318ae4b40399d5743b89f5acc1bcc7b">kInternalize</a>);</div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;    DirectHandle&lt;JSAny&gt; <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>;</div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="namespacev8_1_1base_1_1ieee754.html#a6933d652f26a01529c4fc7d747981cc5">exp</a>.kind) {</div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#acb10c8534fdb3edc15e3f45d7ee6d547a841c234519f90eb88be0020af3622a4d">kExternalFunction</a>: {</div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;        <span class="comment">// Wrap and export the code as a JSFunction.</span></div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;        <span class="keywordtype">bool</span> shared = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a73340765ceb50aae2e9ac2b6b788a362">function_is_shared</a>(<a class="code" href="namespacev8_1_1base_1_1ieee754.html#a6933d652f26a01529c4fc7d747981cc5">exp</a>.index);</div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;        DirectHandle&lt;WasmFuncRef&gt; func_ref =</div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;            <a class="code" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a27d1f1a3201baec4b9103b3bb27888b6">WasmTrustedInstanceData::GetOrCreateFuncRef</a>(</div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;                <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aad6f1251ab50c21c71d213e91b1bbc2e">trusted_data</a>(shared), <a class="code" href="namespacev8_1_1base_1_1ieee754.html#a6933d652f26a01529c4fc7d747981cc5">exp</a>.index);</div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;        DirectHandle&lt;WasmInternalFunction&gt; internal_function{</div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;            func_ref-&gt;internal(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>), <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>};</div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;        DirectHandle&lt;JSFunction&gt; wasm_external_function =</div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;            <a class="code" href="classv8_1_1internal_1_1WasmInternalFunction.html#aa01e2244c83b9a4ca24d4bfd2cb0d78a">WasmInternalFunction::GetOrCreateExternal</a>(internal_function);</div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = wasm_external_function;</div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160; </div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;        <span class="keywordflow">if</span> (is_asm_js &amp;&amp;</div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;            <a class="code" href="classv8_1_1internal_1_1String.html#adea5c3479309ca6bac778d4497f923ab">String::Equals</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a274a3a31f85691b7918199e835fa91c9">name</a>,</div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;                           single_function_name.ToHandleChecked())) {</div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;          desc.set_value(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code" href="classv8_1_1internal_1_1JSReceiver.html#ac5e7161278e080e578f54aab03924947">JSReceiver::DefineOwnProperty</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, <a class="code" href="namespacev8_1_1internal.html#a58e3fb6c5ada1d544715988b7a735333">instance_object</a>, <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a274a3a31f85691b7918199e835fa91c9">name</a>,</div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;                                              &amp;desc, <a class="code" href="namespacev8.html#a41f0e280eadfba6ac9afd833fdd540cf">Just</a>(<a class="code" href="namespacev8_1_1internal.html#adbf2c933630f2f4bb419ce1ba04ce760ac8c06c0e5cdd46711981e472881756de">kThrowOnError</a>))</div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;                    .FromMaybe(<span class="keyword">false</span>));</div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;        }</div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;      }</div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#acb10c8534fdb3edc15e3f45d7ee6d547affbe8f8322be98ba205f863ef39fdad5">kExternalTable</a>: {</div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;        <span class="keywordtype">bool</span> shared = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#af40a46c2d14efc9c68b499d7a459d9b0">tables</a>[<a class="code" href="namespacev8_1_1base_1_1ieee754.html#a6933d652f26a01529c4fc7d747981cc5">exp</a>.index].shared;</div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;        DirectHandle&lt;WasmTrustedInstanceData&gt; data = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aad6f1251ab50c21c71d213e91b1bbc2e">trusted_data</a>(shared);</div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = <a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(Cast&lt;JSAny&gt;(data-&gt;tables()-&gt;get(<a class="code" href="namespacev8_1_1base_1_1ieee754.html#a6933d652f26a01529c4fc7d747981cc5">exp</a>.index)),</div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;                              <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>);</div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;      }</div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#acb10c8534fdb3edc15e3f45d7ee6d547a9e82a6c120c240d5819852ec01c3bf9b">kExternalMemory</a>: {</div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;        <span class="comment">// Export the memory as a WebAssembly.Memory object. A WasmMemoryObject</span></div>
<div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;        <span class="comment">// should already be available if the module has memory, since we always</span></div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;        <span class="comment">// create or import it when building an WasmInstanceObject.</span></div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> =</div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;            <a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aea7551d380bf83fce78fac6dae327a78">trusted_data_</a>-&gt;memory_object(<a class="code" href="namespacev8_1_1base_1_1ieee754.html#a6933d652f26a01529c4fc7d747981cc5">exp</a>.index), <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>);</div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;      }</div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#acb10c8534fdb3edc15e3f45d7ee6d547a6f3a1cfcc3386739303f7d10b0075ac5">kExternalGlobal</a>: {</div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;        <span class="keyword">const</span> WasmGlobal&amp; global = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#ac6101242a2a805d0e982fff4ddcc4677">globals</a>[<a class="code" href="namespacev8_1_1base_1_1ieee754.html#a6933d652f26a01529c4fc7d747981cc5">exp</a>.index];</div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;        DirectHandle&lt;WasmTrustedInstanceData&gt; maybe_shared_data =</div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;            <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aad6f1251ab50c21c71d213e91b1bbc2e">trusted_data</a>(global.shared);</div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;        <span class="keywordflow">if</span> (global.imported) {</div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;          <span class="keyword">auto</span> cached_global = imported_globals.find(<a class="code" href="namespacev8_1_1base_1_1ieee754.html#a6933d652f26a01529c4fc7d747981cc5">exp</a>.index);</div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;          <span class="keywordflow">if</span> (cached_global != imported_globals.end()) {</div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;            <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = Cast&lt;JSAny&gt;(cached_global-&gt;second);</div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;          }</div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;        }</div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;        DirectHandle&lt;JSArrayBuffer&gt; untagged_buffer;</div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;        DirectHandle&lt;FixedArray&gt; <a class="code" href="namespacev8_1_1internal.html#afb53db8cc7fb48b96a2be12004cdcb10">tagged_buffer</a>;</div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;        uint32_t offset;</div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160; </div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;        <span class="keywordflow">if</span> (global.mutability &amp;&amp; global.imported) {</div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;          DirectHandle&lt;FixedArray&gt; buffers_array(</div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;              maybe_shared_data-&gt;imported_mutable_globals_buffers(), <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>);</div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;          <span class="keywordflow">if</span> (global.type.is_reference()) {</div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;            <a class="code" href="namespacev8_1_1internal.html#afb53db8cc7fb48b96a2be12004cdcb10">tagged_buffer</a> = <a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(</div>
<div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;                Cast&lt;FixedArray&gt;(buffers_array-&gt;get(global.index)), <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>);</div>
<div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;            <span class="comment">// For externref globals we store the relative offset in the</span></div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;            <span class="comment">// imported_mutable_globals array instead of an absolute address.</span></div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;            offset = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;                maybe_shared_data-&gt;imported_mutable_globals()-&gt;get(</div>
<div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;                    global.index));</div>
<div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;            untagged_buffer = <a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(</div>
<div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;                Cast&lt;JSArrayBuffer&gt;(buffers_array-&gt;get(global.index)),</div>
<div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;                <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>);</div>
<div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;            <a class="code" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a> global_addr = maybe_shared_data-&gt;imported_mutable_globals()</div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;                                      -&gt;get_sandboxed_pointer(global.index);</div>
<div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160; </div>
<div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;            <span class="keywordtype">size_t</span> buffer_size = untagged_buffer-&gt;GetByteLength();</div>
<div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;            <a class="code" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a> backing_store =</div>
<div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;                <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a><span class="keyword">&gt;</span>(untagged_buffer-&gt;backing_store());</div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;            <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(global_addr &gt;= backing_store &amp;&amp;</div>
<div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;                  global_addr &lt; backing_store + buffer_size);</div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;            offset = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(global_addr - backing_store);</div>
<div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;          }</div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;          <span class="keywordflow">if</span> (global.type.is_reference()) {</div>
<div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;            <a class="code" href="namespacev8_1_1internal.html#afb53db8cc7fb48b96a2be12004cdcb10">tagged_buffer</a> = <a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(</div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;                maybe_shared_data-&gt;tagged_globals_buffer(), <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>);</div>
<div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;            untagged_buffer = <a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(</div>
<div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;                maybe_shared_data-&gt;untagged_globals_buffer(), <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>);</div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;          }</div>
<div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;          offset = global.offset;</div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;        }</div>
<div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160; </div>
<div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;        <span class="comment">// Since the global&#39;s array untagged_buffer is always provided,</span></div>
<div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;        <span class="comment">// allocation should never fail.</span></div>
<div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;        DirectHandle&lt;WasmGlobalObject&gt; global_obj =</div>
<div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;            <a class="code" href="classv8_1_1internal_1_1WasmGlobalObject.html#ade63c64025c7c0f0ba5a05b9d11e431f">WasmGlobalObject::New</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, maybe_shared_data, untagged_buffer,</div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;                                  <a class="code" href="namespacev8_1_1internal.html#afb53db8cc7fb48b96a2be12004cdcb10">tagged_buffer</a>, global.type, offset,</div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;                                  global.mutability)</div>
<div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;                .ToHandleChecked();</div>
<div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = global_obj;</div>
<div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;      }</div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#acb10c8534fdb3edc15e3f45d7ee6d547a53e55104d1626728a0b2a5285888ff8e">kExternalTag</a>: {</div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;        <span class="keyword">const</span> WasmTag&amp; tag = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#ab543c357d83ca4ab20ea9f13a6656f85">tags</a>[<a class="code" href="namespacev8_1_1base_1_1ieee754.html#a6933d652f26a01529c4fc7d747981cc5">exp</a>.index];</div>
<div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;        DirectHandle&lt;WasmTagObject&gt; wrapper = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a725cea88ca63b898d35df6e718bd7b98">tags_wrappers_</a>[<a class="code" href="namespacev8_1_1base_1_1ieee754.html#a6933d652f26a01529c4fc7d747981cc5">exp</a>.index];</div>
<div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;        <span class="keywordflow">if</span> (wrapper.is_null()) {</div>
<div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;          DirectHandle&lt;HeapObject&gt; tag_object(</div>
<div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;              Cast&lt;HeapObject&gt;(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aea7551d380bf83fce78fac6dae327a78">trusted_data_</a>-&gt;tags_table()-&gt;get(<a class="code" href="namespacev8_1_1base_1_1ieee754.html#a6933d652f26a01529c4fc7d747981cc5">exp</a>.index)),</div>
<div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;              <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>);</div>
<div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;          CanonicalTypeIndex sig_index =</div>
<div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;              <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a80ed14bf76cb65cc93c6c9ba1b56f75c">canonical_sig_id</a>(tag.sig_index);</div>
<div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;          <span class="comment">// TODO(42204563): Support shared tags.</span></div>
<div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;          wrapper = <a class="code" href="classv8_1_1internal_1_1WasmTagObject.html#a80e21a9531997c9d7c95d9bd95d86cd4">WasmTagObject::New</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, tag.sig, sig_index, tag_object,</div>
<div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;                                       <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aea7551d380bf83fce78fac6dae327a78">trusted_data_</a>);</div>
<div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;          <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a725cea88ca63b898d35df6e718bd7b98">tags_wrappers_</a>[<a class="code" href="namespacev8_1_1base_1_1ieee754.html#a6933d652f26a01529c4fc7d747981cc5">exp</a>.index] = wrapper;</div>
<div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;        }</div>
<div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = wrapper;</div>
<div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;      }</div>
<div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;    }</div>
<div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160; </div>
<div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;    uint32_t <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>;</div>
<div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a>(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a274a3a31f85691b7918199e835fa91c9">name</a>-&gt;AsArrayIndex(&amp;<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>))) {</div>
<div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;      <span class="comment">// Add a data element.</span></div>
<div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;      <a class="code" href="classv8_1_1internal_1_1JSObject.html#a21e2784c5608d738f74b13898352446c">JSObject::AddDataElement</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, exports_object, <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>,</div>
<div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;                               details.attributes());</div>
<div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;      <span class="comment">// Add a property to the dictionary.</span></div>
<div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;      <a class="code" href="classv8_1_1internal_1_1JSObject.html#a805055e644cc9d9f2766de4340d36f64">JSObject::SetNormalizedProperty</a>(exports_object, <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a274a3a31f85691b7918199e835fa91c9">name</a>, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, details);</div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;    }</div>
<div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;  }</div>
<div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1AsmJs_html_a27360cb0c921f0626fd84494b87e79af"><div class="ttname"><a href="classv8_1_1internal_1_1AsmJs.html#a27360cb0c921f0626fd84494b87e79af">v8::internal::AsmJs::kSingleFunctionName</a></div><div class="ttdeci">static const char *const kSingleFunctionName</div><div class="ttdef"><b>Definition:</b> <a href="asm-js_8h_source.html#l00038">asm-js.h:38</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Factory_html_a54c843caad6266415afc266860855cdb"><div class="ttname"><a href="classv8_1_1internal_1_1Factory.html#a54c843caad6266415afc266860855cdb">v8::internal::Factory::NewJSObject</a></div><div class="ttdeci">Handle&lt; JSObject &gt; NewJSObject(DirectHandle&lt; JSFunction &gt; constructor, AllocationType allocation=AllocationType::kYoung, NewJSObjectType=NewJSObjectType::kNoAPIWrapper)</div><div class="ttdef"><b>Definition:</b> <a href="factory_8cc_source.html#l03018">factory.cc:3018</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Factory_html_af3f3d9861e8eb4e63e94eae4d18aa477"><div class="ttname"><a href="classv8_1_1internal_1_1Factory.html#af3f3d9861e8eb4e63e94eae4d18aa477">v8::internal::Factory::InternalizeUtf8String</a></div><div class="ttdeci">Handle&lt; String &gt; InternalizeUtf8String(base::Vector&lt; const char &gt; str)</div><div class="ttdef"><b>Definition:</b> <a href="factory_8cc_source.html#l00614">factory.cc:614</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a9435d2734e67d1dac0a3ce2a5b9387b8"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a9435d2734e67d1dac0a3ce2a5b9387b8">v8::internal::Isolate::native_context</a></div><div class="ttdeci">Handle&lt; NativeContext &gt; native_context()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate-inl_8h_source.html#l00048">isolate-inl.h:48</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSObject_html_a21e2784c5608d738f74b13898352446c"><div class="ttname"><a href="classv8_1_1internal_1_1JSObject.html#a21e2784c5608d738f74b13898352446c">v8::internal::JSObject::AddDataElement</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE Maybe&lt; bool &gt; AddDataElement(Isolate *isolate, DirectHandle&lt; JSObject &gt; receiver, uint32_t index, DirectHandle&lt; Object &gt; value, PropertyAttributes attributes)</div><div class="ttdef"><b>Definition:</b> <a href="js-objects_8cc_source.html#l05450">js-objects.cc:5450</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSObject_html_a805055e644cc9d9f2766de4340d36f64"><div class="ttname"><a href="classv8_1_1internal_1_1JSObject.html#a805055e644cc9d9f2766de4340d36f64">v8::internal::JSObject::SetNormalizedProperty</a></div><div class="ttdeci">static void SetNormalizedProperty(DirectHandle&lt; JSObject &gt; object, DirectHandle&lt; Name &gt; name, DirectHandle&lt; Object &gt; value, PropertyDetails details)</div><div class="ttdef"><b>Definition:</b> <a href="js-objects_8cc_source.html#l02757">js-objects.cc:2757</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSObject_html_a89dc4711a0455bca5529d422a8738e79"><div class="ttname"><a href="classv8_1_1internal_1_1JSObject.html#a89dc4711a0455bca5529d422a8738e79">v8::internal::JSObject::NormalizeProperties</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE void NormalizeProperties(Isolate *isolate, DirectHandle&lt; JSObject &gt; object, PropertyNormalizationMode mode, int expected_additional_properties, bool use_cache, const char *reason)</div><div class="ttdef"><b>Definition:</b> <a href="js-objects_8cc_source.html#l03847">js-objects.cc:3847</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSReceiver_html_ac5e7161278e080e578f54aab03924947"><div class="ttname"><a href="classv8_1_1internal_1_1JSReceiver.html#ac5e7161278e080e578f54aab03924947">v8::internal::JSReceiver::DefineOwnProperty</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT Maybe&lt; bool &gt; DefineOwnProperty(Isolate *isolate, DirectHandle&lt; JSReceiver &gt; object, DirectHandle&lt; Object &gt; key, PropertyDescriptor *desc, Maybe&lt; ShouldThrow &gt; should_throw)</div><div class="ttdef"><b>Definition:</b> <a href="js-objects_8cc_source.html#l01143">js-objects.cc:1143</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_html_adea5c3479309ca6bac778d4497f923ab"><div class="ttname"><a href="classv8_1_1internal_1_1String.html#adea5c3479309ca6bac778d4497f923ab">v8::internal::String::Equals</a></div><div class="ttdeci">bool Equals(Tagged&lt; String &gt; other) const</div><div class="ttdef"><b>Definition:</b> <a href="string-inl_8h_source.html#l00684">string-inl.h:684</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmGlobalObject_html_ade63c64025c7c0f0ba5a05b9d11e431f"><div class="ttname"><a href="classv8_1_1internal_1_1WasmGlobalObject.html#ade63c64025c7c0f0ba5a05b9d11e431f">v8::internal::WasmGlobalObject::New</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE MaybeDirectHandle&lt; WasmGlobalObject &gt; New(Isolate *isolate, DirectHandle&lt; WasmTrustedInstanceData &gt; instance_object, MaybeDirectHandle&lt; JSArrayBuffer &gt; maybe_untagged_buffer, MaybeDirectHandle&lt; FixedArray &gt; maybe_tagged_buffer, wasm::ValueType type, int32_t offset, bool is_mutable)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l01429">wasm-objects.cc:1429</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmModuleObject_html_aad63556c675d28c5823c6f4ca765c67d"><div class="ttname"><a href="classv8_1_1internal_1_1WasmModuleObject.html#aad63556c675d28c5823c6f4ca765c67d">v8::internal::WasmModuleObject::ExtractUtf8StringFromModuleBytes</a></div><div class="ttdeci">static DirectHandle&lt; String &gt; ExtractUtf8StringFromModuleBytes(Isolate *, DirectHandle&lt; WasmModuleObject &gt;, wasm::WireBytesRef, InternalizeString)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l00136">wasm-objects.cc:136</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTagObject_html_a80e21a9531997c9d7c95d9bd95d86cd4"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTagObject.html#a80e21a9531997c9d7c95d9bd95d86cd4">v8::internal::WasmTagObject::New</a></div><div class="ttdeci">static DirectHandle&lt; WasmTagObject &gt; New(Isolate *isolate, const wasm::FunctionSig *sig, wasm::CanonicalTypeIndex type_index, DirectHandle&lt; HeapObject &gt; tag, DirectHandle&lt; WasmTrustedInstanceData &gt; instance)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l02367">wasm-objects.cc:2367</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_1_1ieee754_html_a6933d652f26a01529c4fc7d747981cc5"><div class="ttname"><a href="namespacev8_1_1base_1_1ieee754.html#a6933d652f26a01529c4fc7d747981cc5">v8::base::ieee754::exp</a></div><div class="ttdeci">double exp(double x)</div><div class="ttdef"><b>Definition:</b> <a href="base_2ieee754_8cc_source.html#l01447">ieee754.cc:1447</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_html_a51dcb90ae077172b12d63271c7e7ba0c"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">v8::internal::compiler::end</a></div><div class="ttdeci">Node::Uses::const_iterator end(const Node::Uses &amp;uses)</div><div class="ttdef"><b>Definition:</b> <a href="node_8h_source.html#l00711">node.h:711</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a274a3a31f85691b7918199e835fa91c9"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a274a3a31f85691b7918199e835fa91c9">v8::internal::wasm::name</a></div><div class="ttdeci">constexpr const char * name(ValueKind kind)</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01195">value-type.h:1195</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_acb10c8534fdb3edc15e3f45d7ee6d547a53e55104d1626728a0b2a5285888ff8e"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#acb10c8534fdb3edc15e3f45d7ee6d547a53e55104d1626728a0b2a5285888ff8e">v8::internal::wasm::kExternalTag</a></div><div class="ttdeci">@ kExternalTag</div><div class="ttdef"><b>Definition:</b> <a href="wasm-constants_8h_source.html#l00084">wasm-constants.h:83</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_acb10c8534fdb3edc15e3f45d7ee6d547a841c234519f90eb88be0020af3622a4d"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#acb10c8534fdb3edc15e3f45d7ee6d547a841c234519f90eb88be0020af3622a4d">v8::internal::wasm::kExternalFunction</a></div><div class="ttdeci">@ kExternalFunction</div><div class="ttdef"><b>Definition:</b> <a href="wasm-constants_8h_source.html#l00079">wasm-constants.h:79</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_acb10c8534fdb3edc15e3f45d7ee6d547a9e82a6c120c240d5819852ec01c3bf9b"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#acb10c8534fdb3edc15e3f45d7ee6d547a9e82a6c120c240d5819852ec01c3bf9b">v8::internal::wasm::kExternalMemory</a></div><div class="ttdeci">@ kExternalMemory</div><div class="ttdef"><b>Definition:</b> <a href="wasm-constants_8h_source.html#l00081">wasm-constants.h:81</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_acb10c8534fdb3edc15e3f45d7ee6d547affbe8f8322be98ba205f863ef39fdad5"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#acb10c8534fdb3edc15e3f45d7ee6d547affbe8f8322be98ba205f863ef39fdad5">v8::internal::wasm::kExternalTable</a></div><div class="ttdeci">@ kExternalTable</div><div class="ttdef"><b>Definition:</b> <a href="wasm-constants_8h_source.html#l00080">wasm-constants.h:80</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_adcd4ca657f5fbce4e3e61f860761470a"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">v8::internal::wasm::Address</a></div><div class="ttdeci">uintptr_t Address</div><div class="ttdef"><b>Definition:</b> <a href="wasm-external-refs_8h_source.html#l00025">wasm-external-refs.h:25</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a00e6a81b8b499c814a011d90853897fbaa318ae4b40399d5743b89f5acc1bcc7b"><div class="ttname"><a href="namespacev8_1_1internal.html#a00e6a81b8b499c814a011d90853897fbaa318ae4b40399d5743b89f5acc1bcc7b">v8::internal::kInternalize</a></div><div class="ttdeci">@ kInternalize</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8h_source.html#l00161">wasm-objects.h:161</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a15cafb1d1ed1ac577609eb5e764384e8"><div class="ttname"><a href="namespacev8_1_1internal.html#a15cafb1d1ed1ac577609eb5e764384e8">v8::internal::indirect_handle</a></div><div class="ttdeci">IndirectHandle&lt; T &gt; indirect_handle(DirectHandle&lt; T &gt; handle)</div><div class="ttdef"><b>Definition:</b> <a href="handles_8h_source.html#l00758">handles.h:758</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a58e3fb6c5ada1d544715988b7a735333"><div class="ttname"><a href="namespacev8_1_1internal.html#a58e3fb6c5ada1d544715988b7a735333">v8::internal::instance_object</a></div><div class="ttdeci">kMemory0SizeOffset Address kNewAllocationLimitAddressOffset Address kOldAllocationLimitAddressOffset uint8_t kGlobalsStartOffset kJumpTableStartOffset std::atomic&lt; uint32_t &gt; kTieringBudgetArrayOffset kDataSegmentStartsOffset kElementSegmentsOffset instance_object</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects-inl_8h_source.html#l00232">wasm-objects-inl.h:232</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ac328869a355886739965287befcc49aca32567d9e5f2d66c9b326c45e800abcf6"><div class="ttname"><a href="namespacev8_1_1internal.html#ac328869a355886739965287befcc49aca32567d9e5f2d66c9b326c45e800abcf6">v8::internal::PropertyConstness::kMutable</a></div><div class="ttdeci">@ kMutable</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ace7045d9fc96e0d36ce22ba112661a81a0ac87546e8b36fcb3034694d4d909ea3"><div class="ttname"><a href="namespacev8_1_1internal.html#ace7045d9fc96e0d36ce22ba112661a81a0ac87546e8b36fcb3034694d4d909ea3">v8::internal::PropertyKind::kData</a></div><div class="ttdeci">@ kData</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_adbf2c933630f2f4bb419ce1ba04ce760ac8c06c0e5cdd46711981e472881756de"><div class="ttname"><a href="namespacev8_1_1internal.html#adbf2c933630f2f4bb419ce1ba04ce760ac8c06c0e5cdd46711981e472881756de">v8::internal::kThrowOnError</a></div><div class="ttdeci">@ kThrowOnError</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l01735">globals.h:1735</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_afb53db8cc7fb48b96a2be12004cdcb10"><div class="ttname"><a href="namespacev8_1_1internal.html#afb53db8cc7fb48b96a2be12004cdcb10">v8::internal::tagged_buffer</a></div><div class="ttdeci">tagged_buffer</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects-inl_8h_source.html#l00111">wasm-objects-inl.h:111</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aff269dc9be2370cdca244d8f1f97237aa2218bc18b86468072fce6605e688330f"><div class="ttname"><a href="namespacev8_1_1internal.html#aff269dc9be2370cdca244d8f1f97237aa2218bc18b86468072fce6605e688330f">v8::internal::KEEP_INOBJECT_PROPERTIES</a></div><div class="ttdeci">@ KEEP_INOBJECT_PROPERTIES</div><div class="ttdef"><b>Definition:</b> <a href="objects_8h_source.html#l00063">objects.h:62</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_a4dbe8d13d75f2c6c4a8f6e19fdb5eca1"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a4dbe8d13d75f2c6c4a8f6e19fdb5eca1">v8::internal::wasm::WasmModule::export_table</a></div><div class="ttdeci">std::vector&lt; WasmExport &gt; export_table</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00720">wasm-module.h:720</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_a73340765ceb50aae2e9ac2b6b788a362"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a73340765ceb50aae2e9ac2b6b788a362">v8::internal::wasm::WasmModule::function_is_shared</a></div><div class="ttdeci">bool function_is_shared(int func_index) const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00901">wasm-module.h:901</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_a80ed14bf76cb65cc93c6c9ba1b56f75c"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a80ed14bf76cb65cc93c6c9ba1b56f75c">v8::internal::wasm::WasmModule::canonical_sig_id</a></div><div class="ttdeci">CanonicalTypeIndex canonical_sig_id(ModuleTypeIndex index) const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00850">wasm-module.h:850</a></div></div>
<div class="ttc" id="av8config_8h_html_a67bd29db07c711b0fb11ff1c324ebb60"><div class="ttname"><a href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a></div><div class="ttdeci">#define V8_UNLIKELY(condition)</div><div class="ttdef"><b>Definition:</b> <a href="v8config_8h_source.html#l00660">v8config.h:660</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="js-objects_8cc_source.html#l05450">v8::internal::JSObject::AddDataElement()</a>, <a class="el" href="wasm-module_8h_source.html#l00850">v8::internal::wasm::WasmModule::canonical_sig_id()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00124">CHECK</a>, <a class="el" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK()</a>, <a class="el" href="js-objects_8cc_source.html#l01143">v8::internal::JSReceiver::DefineOwnProperty()</a>, <a class="el" href="handles-inl_8h_source.html#l00143">v8::internal::direct_handle()</a>, <a class="el" href="node_8h_source.html#l00711">v8::internal::compiler::end()</a>, <a class="el" href="string-inl_8h_source.html#l00684">v8::internal::String::Equals()</a>, <a class="el" href="base_2ieee754_8cc_source.html#l01447">v8::base::ieee754::exp()</a>, <a class="el" href="wasm-module_8h_source.html#l00720">v8::internal::wasm::WasmModule::export_table</a>, <a class="el" href="wasm-objects_8cc_source.html#l00136">v8::internal::WasmModuleObject::ExtractUtf8StringFromModuleBytes()</a>, <a class="el" href="execution_2isolate_8h_source.html#l01553">v8::internal::Isolate::factory()</a>, <a class="el" href="wasm-module_8h_source.html#l00901">v8::internal::wasm::WasmModule::function_is_shared()</a>, <a class="el" href="wasm-objects_8cc_source.html#l02045">v8::internal::WasmInternalFunction::GetOrCreateExternal()</a>, <a class="el" href="wasm-objects_8cc_source.html#l01995">v8::internal::WasmTrustedInstanceData::GetOrCreateFuncRef()</a>, <a class="el" href="wasm-module_8h_source.html#l00715">v8::internal::wasm::WasmModule::globals</a>, <a class="el" href="wasm-module_8h_source.html#l00719">v8::internal::wasm::WasmModule::import_table</a>, <a class="el" href="wasm-module_8h_source.html#l00105">v8::internal::wasm::WasmGlobal::imported</a>, <a class="el" href="heap-snapshot-generator_8cc_source.html#l01698">v8::internal::index</a>, <a class="el" href="wasm-module_8h_source.html#l00099">v8::internal::wasm::WasmGlobal::index</a>, <a class="el" href="handles_8h_source.html#l00758">v8::internal::indirect_handle()</a>, <a class="el" href="wasm-objects-inl_8h_source.html#l00232">v8::internal::instance_object</a>, <a class="el" href="factory_8cc_source.html#l00614">v8::internal::Factory::InternalizeUtf8String()</a>, <a class="el" href="wasm-module_8h_source.html#l00961">v8::internal::wasm::is_asmjs_module()</a>, <a class="el" href="handles_8h_source.html#l00694">v8::internal::DirectHandle&lt; T &gt;::is_null()</a>, <a class="el" href="value-type_8h_source.html#l00606">v8::internal::wasm::ValueTypeBase::is_reference()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01227">isolate_</a>, <a class="el" href="v8-maybe_8h_source.html#l00126">v8::Just()</a>, <a class="el" href="namespacev8_1_1internal.html#ace7045d9fc96e0d36ce22ba112661a81a0ac87546e8b36fcb3034694d4d909ea3">v8::internal::kData</a>, <a class="el" href="objects_8h_source.html#l00062">v8::internal::KEEP_INOBJECT_PROPERTIES</a>, <a class="el" href="wasm-constants_8h_source.html#l00079">v8::internal::wasm::kExternalFunction</a>, <a class="el" href="wasm-constants_8h_source.html#l00082">v8::internal::wasm::kExternalGlobal</a>, <a class="el" href="wasm-constants_8h_source.html#l00081">v8::internal::wasm::kExternalMemory</a>, <a class="el" href="wasm-constants_8h_source.html#l00080">v8::internal::wasm::kExternalTable</a>, <a class="el" href="wasm-constants_8h_source.html#l00083">v8::internal::wasm::kExternalTag</a>, <a class="el" href="wasm-objects_8h_source.html#l00161">v8::internal::kInternalize</a>, <a class="el" href="namespacev8_1_1internal.html#ac328869a355886739965287befcc49aca32567d9e5f2d66c9b326c45e800abcf6">v8::internal::kMutable</a>, <a class="el" href="asm-js_8h_source.html#l00038">v8::internal::AsmJs::kSingleFunctionName</a>, <a class="el" href="common_2globals_8h_source.html#l01735">v8::internal::kThrowOnError</a>, <a class="el" href="module-instantiate_8cc_source.html#l01230">module_</a>, <a class="el" href="module-instantiate_8cc_source.html#l01232">module_object_</a>, <a class="el" href="wasm-module_8h_source.html#l00095">v8::internal::wasm::WasmGlobal::mutability</a>, <a class="el" href="value-type_8h_source.html#l01195">v8::internal::wasm::name()</a>, <a class="el" href="execution_2isolate-inl_8h_source.html#l00048">v8::internal::Isolate::native_context()</a>, <a class="el" href="wasm-objects_8cc_source.html#l02367">v8::internal::WasmTagObject::New()</a>, <a class="el" href="wasm-objects_8cc_source.html#l01429">v8::internal::WasmGlobalObject::New()</a>, <a class="el" href="factory_8cc_source.html#l03018">v8::internal::Factory::NewJSObject()</a>, <a class="el" href="js-objects_8cc_source.html#l03847">v8::internal::JSObject::NormalizeProperties()</a>, <a class="el" href="wasm-module_8h_source.html#l00102">v8::internal::wasm::WasmGlobal::offset</a>, <a class="el" href="module-instantiate_8cc_source.html#l01244">sanitized_imports_</a>, <a class="el" href="property-descriptor_8h_source.html#l00080">v8::internal::PropertyDescriptor::set_configurable()</a>, <a class="el" href="property-descriptor_8h_source.html#l00073">v8::internal::PropertyDescriptor::set_enumerable()</a>, <a class="el" href="property-descriptor_8h_source.html#l00087">v8::internal::PropertyDescriptor::set_value()</a>, <a class="el" href="property-descriptor_8h_source.html#l00091">v8::internal::PropertyDescriptor::set_writable()</a>, <a class="el" href="js-objects_8cc_source.html#l02757">v8::internal::JSObject::SetNormalizedProperty()</a>, <a class="el" href="wasm-module_8h_source.html#l00104">v8::internal::wasm::WasmGlobal::shared</a>, <a class="el" href="wasm-module_8h_source.html#l00120">v8::internal::wasm::WasmTag::sig</a>, <a class="el" href="wasm-module_8h_source.html#l00121">v8::internal::wasm::WasmTag::sig_index</a>, <a class="el" href="wasm-module_8h_source.html#l00717">v8::internal::wasm::WasmModule::tables</a>, <a class="el" href="wasm-objects-inl_8h_source.html#l00111">v8::internal::tagged_buffer</a>, <a class="el" href="wasm-module_8h_source.html#l00721">v8::internal::wasm::WasmModule::tags</a>, <a class="el" href="module-instantiate_8cc_source.html#l01241">tags_wrappers_</a>, <a class="el" href="property-descriptor_8h_source.html#l00112">v8::internal::PropertyDescriptor::ToAttributes()</a>, <a class="el" href="maybe-handles_8h_source.html#l00273">v8::internal::MaybeDirectHandle&lt; T &gt;::ToHandleChecked()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01253">trusted_data()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01233">trusted_data_</a>, <a class="el" href="wasm-module_8h_source.html#l00094">v8::internal::wasm::WasmGlobal::type</a>, <a class="el" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">v8::internal::UNREACHABLE()</a>, <a class="el" href="v8config_8h_source.html#l00660">V8_UNLIKELY</a>, and <a class="el" href="map-inl_8h_source.html#l00912">v8::internal::value</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l01493">Build_Phase1()</a>.</p>
<div id="dynsection-31" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-31-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-31-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-31-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a446ff15923517ddda69049d7e6327e40_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-32" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-32-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-32-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-32-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a446ff15923517ddda69049d7e6327e40_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="af8b0f7163912ee8ba7dc6cfaec3c0138"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8b0f7163912ee8ba7dc6cfaec3c0138">&#9670;&nbsp;</a></span>ProcessImportedFunction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a> v8::internal::wasm::InstanceBuilder::ProcessImportedFunction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html">WasmTrustedInstanceData</a> &gt;&#160;</td>
          <td class="paramname"><em>trusted_instance_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>import_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>func_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1Object.html">Object</a> &gt;&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#afaaaa7fd7a0bc697a4d91133566c5c6e">WellKnownImport</a>&#160;</td>
          <td class="paramname"><em>preknown_import</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l02297">2297</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;                                     {</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;  <span class="comment">// Function imports must be callable.</span></div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;  <span class="keywordflow">if</span> (!IsCallable(*<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;    <span class="keywordflow">if</span> (!IsWasmSuspendingObject(*<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>-&gt;LinkError(<span class="stringliteral">&quot;%s: function import requires a callable&quot;</span>,</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;                          <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ab5cdfd1a6d96ac77038c87b059b4d04e">ImportName</a>(import_index).c_str());</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;    }</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(IsCallable(Cast&lt;WasmSuspendingObject&gt;(*value)-&gt;callable()));</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;  }</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;  <span class="comment">// Store any {WasmExternalFunction} callable in the instance before the call</span></div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;  <span class="comment">// is resolved to preserve its identity. This handles exported functions as</span></div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;  <span class="comment">// well as functions constructed via other means (e.g. WebAssembly.Function).</span></div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1WasmExternalFunction.html#ac2a96212bef554982c768f1c04f72d20">WasmExternalFunction::IsWasmExternalFunction</a>(*<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;    trusted_instance_data-&gt;func_refs()-&gt;set(</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;        func_index, Cast&lt;WasmExternalFunction&gt;(*value)-&gt;func_ref());</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;  }</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;  <span class="keyword">auto</span> callable = Cast&lt;JSReceiver&gt;(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;  CanonicalTypeIndex sig_index =</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a80ed14bf76cb65cc93c6c9ba1b56f75c">canonical_sig_id</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a79b743888793de4a17ae53dd93988de6">functions</a>[func_index].sig_index);</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;  <span class="keyword">const</span> CanonicalSig* expected_sig =</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a6feb413448e84daf9201bd8a2381a718">GetTypeCanonicalizer</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aa1f36fc3851ba2316d47223fa2b6e155">LookupFunctionSignature</a>(sig_index);</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;  ResolvedWasmImport resolved(trusted_instance_data, func_index, callable,</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;                              expected_sig, sig_index, preknown_import);</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;  <span class="keywordflow">if</span> (resolved.well_known_status() != <a class="code" href="namespacev8_1_1internal_1_1wasm.html#afaaaa7fd7a0bc697a4d91133566c5c6ea3f44b41f503cad5057b7bb55bda0c101">WellKnownImport::kGeneric</a> &amp;&amp;</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_wasm_inlining) {</div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;[import %d is well-known built-in %s]\n&quot;</span>, import_index,</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;           <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a0833a050ac22527d6a3851ee8b93316b">WellKnownImportName</a>(resolved.well_known_status()));</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;  }</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a6a6039aec9f6f9486a58ddc7c4f999d2">well_known_imports_</a>.push_back(resolved.well_known_status());</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63a">ImportCallKind</a> kind = resolved.kind();</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;  callable = resolved.callable();</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;  DirectHandle&lt;WasmFunctionData&gt; trusted_function_data =</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;      resolved.trusted_function_data();</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;  ImportedFunctionEntry imported_entry(trusted_instance_data, func_index);</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;  <span class="keywordflow">switch</span> (kind) {</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63aa5411029decc6201a8ac468e9bb7fadbb">ImportCallKind::kLinkError</a>:</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>-&gt;LinkError(</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;          <span class="stringliteral">&quot;%s: imported function does not match the expected type&quot;</span>,</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;          <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ab5cdfd1a6d96ac77038c87b059b4d04e">ImportName</a>(import_index).c_str());</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160; </div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63aaab44f4e0361a9e4865baa6ac82b1df7d">ImportCallKind::kWasmToWasm</a>: {</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;      <span class="comment">// The imported function is a Wasm function from another instance.</span></div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;      <span class="keyword">auto</span> function_data =</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;          Cast&lt;WasmExportedFunctionData&gt;(trusted_function_data);</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;      <span class="comment">// The import reference is the trusted instance data itself.</span></div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;      Tagged&lt;WasmTrustedInstanceData&gt; <a class="code" href="namespacev8_1_1internal.html#a4bf21ee96580042a8262a8300dca514c">instance_data</a> =</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;          function_data-&gt;instance_data();</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a1c7c9b7f14b9a33ea69cbe4578016a19">CHECK_GE</a>(function_data-&gt;function_index(),</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;               <a class="code" href="namespacev8_1_1internal.html#a4bf21ee96580042a8262a8300dca514c">instance_data</a>-&gt;module()-&gt;num_imported_functions);</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;      WasmCodePointer imported_target =</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#a4bf21ee96580042a8262a8300dca514c">instance_data</a>-&gt;GetCallTarget(function_data-&gt;function_index());</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;      imported_entry.SetWasmToWasm(<a class="code" href="namespacev8_1_1internal.html#a4bf21ee96580042a8262a8300dca514c">instance_data</a>, imported_target, sig_index</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;#<span class="keywordflow">if</span> V8_ENABLE_DRUMBRAKE</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;                                   ,</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;                                   function_data-&gt;function_index()</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;#endif  <span class="comment">// V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;      );</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;    }</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160; </div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63aa7467c277d2efacf697386cbed4f64dc0">ImportCallKind::kWasmToJSFastApi</a>: {</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(IsJSFunction(*callable) || IsJSBoundFunction(*callable));</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160; </div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;      std::shared_ptr&lt;wasm::WasmImportWrapperHandle&gt; wrapper_handle =</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;          <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a36345041662f17bb39d27709c1cb78ac">GetWasmImportWrapperCache</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmImportWrapperCache.html#a1c4fb3cb86d2f62a94121b926f20cfe9">CompileWasmJsFastCallWrapper</a>(</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;              <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, callable, expected_sig);</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160; </div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;      imported_entry.SetWasmToWrapper(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, callable,</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;                                      std::move(wrapper_handle), <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a6eef6d24980961199f34fb770039843aac51012268661bd5ae03450b2207e5d83">kNoSuspend</a>,</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;                                      expected_sig, sig_index);</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;    }</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63aab810d863342c9190448e06c0239b3376">ImportCallKind::kRuntimeTypeError</a>:</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63aa2c181723941144749e409c197a8d87d1">ImportCallKind::kJSFunction</a>:</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63aa5427d5490900477a371648688dfbb95b">ImportCallKind::kUseCallBuiltin</a>:</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63aa7f5686cf8a9e0b7053c4d28dde68020f">ImportCallKind::kWasmToCapi</a>:</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;      <span class="comment">// These cases are handled below.</span></div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;  }</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160; </div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_jitless) {</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;    imported_entry.SetWasmToWrapper(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, callable, {}, <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a6eef6d24980961199f34fb770039843aac51012268661bd5ae03450b2207e5d83">kNoSuspend</a>,</div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;                                    expected_sig, sig_index);</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;  }</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160; </div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;  <span class="keywordtype">int</span> expected_arity = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(expected_sig-&gt;parameter_count());</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;  <span class="keywordflow">if</span> (kind == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63aa2c181723941144749e409c197a8d87d1">ImportCallKind::kJSFunction</a>) {</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;    <span class="keyword">auto</span> <span class="keyword">function</span> = Cast&lt;JSFunction&gt;(callable);</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;    Tagged&lt;SharedFunctionInfo&gt; shared = <span class="keyword">function</span>-&gt;shared();</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;    expected_arity = shared-&gt;internal_formal_parameter_count_without_receiver();</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;  }</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160; </div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;  WasmImportWrapperCache* cache = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a36345041662f17bb39d27709c1cb78ac">GetWasmImportWrapperCache</a>();</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;  std::shared_ptr&lt;wasm::WasmImportWrapperHandle&gt; wrapper_handle =</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;      cache-&gt;Get(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, kind, sig_index, expected_arity, resolved.suspend(),</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;                 expected_sig);</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160; </div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;  imported_entry.SetWasmToWrapper(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, callable, std::move(wrapper_handle),</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;                                  resolved.suspend(), expected_sig, sig_index);</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160; </div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmExternalFunction_html_ac2a96212bef554982c768f1c04f72d20"><div class="ttname"><a href="classv8_1_1internal_1_1WasmExternalFunction.html#ac2a96212bef554982c768f1c04f72d20">v8::internal::WasmExternalFunction::IsWasmExternalFunction</a></div><div class="ttdeci">static bool IsWasmExternalFunction(Tagged&lt; Object &gt; object)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l03299">wasm-objects.cc:3299</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html_aa1f36fc3851ba2316d47223fa2b6e155"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aa1f36fc3851ba2316d47223fa2b6e155">v8::internal::wasm::TypeCanonicalizer::LookupFunctionSignature</a></div><div class="ttdeci">V8_EXPORT_PRIVATE const CanonicalSig * LookupFunctionSignature(CanonicalTypeIndex index) const</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8cc_source.html#l00190">canonical-types.cc:190</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmImportWrapperCache_html_a1c4fb3cb86d2f62a94121b926f20cfe9"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmImportWrapperCache.html#a1c4fb3cb86d2f62a94121b926f20cfe9">v8::internal::wasm::WasmImportWrapperCache::CompileWasmJsFastCallWrapper</a></div><div class="ttdeci">V8_EXPORT_PRIVATE std::shared_ptr&lt; WasmImportWrapperHandle &gt; CompileWasmJsFastCallWrapper(Isolate *isolate, DirectHandle&lt; JSReceiver &gt; callable, const wasm::CanonicalSig *sig)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-import-wrapper-cache_8cc_source.html#l00374">wasm-import-wrapper-cache.cc:374</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a0833a050ac22527d6a3851ee8b93316b"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a0833a050ac22527d6a3851ee8b93316b">v8::internal::wasm::WellKnownImportName</a></div><div class="ttdeci">const char * WellKnownImportName(WellKnownImport wki)</div><div class="ttdef"><b>Definition:</b> <a href="well-known-imports_8cc_source.html#l00009">well-known-imports.cc:9</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a36345041662f17bb39d27709c1cb78ac"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a36345041662f17bb39d27709c1cb78ac">v8::internal::wasm::GetWasmImportWrapperCache</a></div><div class="ttdeci">WasmImportWrapperCache * GetWasmImportWrapperCache()</div><div class="ttdef"><b>Definition:</b> <a href="wasm-engine_8cc_source.html#l02135">wasm-engine.cc:2135</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a6eef6d24980961199f34fb770039843aac51012268661bd5ae03450b2207e5d83"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a6eef6d24980961199f34fb770039843aac51012268661bd5ae03450b2207e5d83">v8::internal::wasm::kNoSuspend</a></div><div class="ttdeci">@ kNoSuspend</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8h_source.html#l00034">module-instantiate.h:34</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a6feb413448e84daf9201bd8a2381a718"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a6feb413448e84daf9201bd8a2381a718">v8::internal::wasm::GetTypeCanonicalizer</a></div><div class="ttdeci">TypeCanonicalizer * GetTypeCanonicalizer()</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8cc_source.html#l00020">canonical-types.cc:20</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ac0c0d417be648d20ef96581e5d3bd63a"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63a">v8::internal::wasm::ImportCallKind</a></div><div class="ttdeci">ImportCallKind</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8h_source.html#l00043">module-instantiate.h:43</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ac0c0d417be648d20ef96581e5d3bd63aa2c181723941144749e409c197a8d87d1"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63aa2c181723941144749e409c197a8d87d1">v8::internal::wasm::ImportCallKind::kJSFunction</a></div><div class="ttdeci">@ kJSFunction</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ac0c0d417be648d20ef96581e5d3bd63aa5411029decc6201a8ac468e9bb7fadbb"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63aa5411029decc6201a8ac468e9bb7fadbb">v8::internal::wasm::ImportCallKind::kLinkError</a></div><div class="ttdeci">@ kLinkError</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ac0c0d417be648d20ef96581e5d3bd63aa5427d5490900477a371648688dfbb95b"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63aa5427d5490900477a371648688dfbb95b">v8::internal::wasm::ImportCallKind::kUseCallBuiltin</a></div><div class="ttdeci">@ kUseCallBuiltin</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ac0c0d417be648d20ef96581e5d3bd63aa7467c277d2efacf697386cbed4f64dc0"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63aa7467c277d2efacf697386cbed4f64dc0">v8::internal::wasm::ImportCallKind::kWasmToJSFastApi</a></div><div class="ttdeci">@ kWasmToJSFastApi</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ac0c0d417be648d20ef96581e5d3bd63aa7f5686cf8a9e0b7053c4d28dde68020f"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63aa7f5686cf8a9e0b7053c4d28dde68020f">v8::internal::wasm::ImportCallKind::kWasmToCapi</a></div><div class="ttdeci">@ kWasmToCapi</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ac0c0d417be648d20ef96581e5d3bd63aaab44f4e0361a9e4865baa6ac82b1df7d"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63aaab44f4e0361a9e4865baa6ac82b1df7d">v8::internal::wasm::ImportCallKind::kWasmToWasm</a></div><div class="ttdeci">@ kWasmToWasm</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ac0c0d417be648d20ef96581e5d3bd63aab810d863342c9190448e06c0239b3376"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63aab810d863342c9190448e06c0239b3376">v8::internal::wasm::ImportCallKind::kRuntimeTypeError</a></div><div class="ttdeci">@ kRuntimeTypeError</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_afaaaa7fd7a0bc697a4d91133566c5c6ea3f44b41f503cad5057b7bb55bda0c101"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#afaaaa7fd7a0bc697a4d91133566c5c6ea3f44b41f503cad5057b7bb55bda0c101">v8::internal::wasm::WellKnownImport::kGeneric</a></div><div class="ttdeci">@ kGeneric</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a3430752cde9f29d73e97ceed1bce0856"><div class="ttname"><a href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">v8::internal::PrintF</a></div><div class="ttdeci">void PrintF(const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="utils_2utils_8cc_source.html#l00039">utils.cc:39</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a4bf21ee96580042a8262a8300dca514c"><div class="ttname"><a href="namespacev8_1_1internal.html#a4bf21ee96580042a8262a8300dca514c">v8::internal::instance_data</a></div><div class="ttdeci">kWasmInternalFunctionIndirectPointerTag instance_data</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects-inl_8h_source.html#l00464">wasm-objects-inl.h:464</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a1c7c9b7f14b9a33ea69cbe4578016a19"><div class="ttname"><a href="src_2base_2logging_8h.html#a1c7c9b7f14b9a33ea69cbe4578016a19">CHECK_GE</a></div><div class="ttdeci">#define CHECK_GE(lhs, rhs)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="module-instantiate_8h_source.html#l00074">v8::internal::wasm::ResolvedWasmImport::callable()</a>, <a class="el" href="wasm-module_8h_source.html#l00850">v8::internal::wasm::WasmModule::canonical_sig_id()</a>, <a class="el" href="src_2base_2logging_8h.html#a1c7c9b7f14b9a33ea69cbe4578016a19">CHECK_GE</a>, <a class="el" href="wasm-import-wrapper-cache_8cc_source.html#l00374">v8::internal::wasm::WasmImportWrapperCache::CompileWasmJsFastCallWrapper()</a>, <a class="el" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK()</a>, <a class="el" href="wasm-module_8h_source.html#l00714">v8::internal::wasm::WasmModule::functions</a>, <a class="el" href="wasm-import-wrapper-cache_8cc_source.html#l00220">v8::internal::wasm::WasmImportWrapperCache::Get()</a>, <a class="el" href="canonical-types_8cc_source.html#l00020">v8::internal::wasm::GetTypeCanonicalizer()</a>, <a class="el" href="wasm-engine_8cc_source.html#l02135">v8::internal::wasm::GetWasmImportWrapperCache()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01257">ImportName()</a>, <a class="el" href="wasm-objects-inl_8h_source.html#l00464">v8::internal::instance_data</a>, <a class="el" href="module-instantiate_8cc_source.html#l01227">isolate_</a>, <a class="el" href="wasm-objects_8cc_source.html#l03299">v8::internal::WasmExternalFunction::IsWasmExternalFunction()</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#afaaaa7fd7a0bc697a4d91133566c5c6ea3f44b41f503cad5057b7bb55bda0c101">v8::internal::wasm::kGeneric</a>, <a class="el" href="module-instantiate_8h_source.html#l00071">v8::internal::wasm::ResolvedWasmImport::kind()</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63aa2c181723941144749e409c197a8d87d1">v8::internal::wasm::kJSFunction</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63aa5411029decc6201a8ac468e9bb7fadbb">v8::internal::wasm::kLinkError</a>, <a class="el" href="module-instantiate_8h_source.html#l00034">v8::internal::wasm::kNoSuspend</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63aab810d863342c9190448e06c0239b3376">v8::internal::wasm::kRuntimeTypeError</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63aa5427d5490900477a371648688dfbb95b">v8::internal::wasm::kUseCallBuiltin</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63aa7f5686cf8a9e0b7053c4d28dde68020f">v8::internal::wasm::kWasmToCapi</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63aa7467c277d2efacf697386cbed4f64dc0">v8::internal::wasm::kWasmToJSFastApi</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63aaab44f4e0361a9e4865baa6ac82b1df7d">v8::internal::wasm::kWasmToWasm</a>, <a class="el" href="canonical-types_8cc_source.html#l00190">v8::internal::wasm::TypeCanonicalizer::LookupFunctionSignature()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01230">module_</a>, <a class="el" href="signature_8h_source.html#l00094">v8::internal::Signature&lt; T &gt;::parameter_count()</a>, <a class="el" href="utils_2utils_8cc_source.html#l00039">v8::internal::PrintF()</a>, <a class="el" href="wasm-objects_8cc_source.html#l01574">v8::internal::ImportedFunctionEntry::SetWasmToWasm()</a>, <a class="el" href="wasm-objects_8cc_source.html#l01517">v8::internal::ImportedFunctionEntry::SetWasmToWrapper()</a>, <a class="el" href="module-instantiate_8h_source.html#l00073">v8::internal::wasm::ResolvedWasmImport::suspend()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01231">thrower_</a>, <a class="el" href="module-instantiate_8h_source.html#l00078">v8::internal::wasm::ResolvedWasmImport::trusted_function_data()</a>, <a class="el" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a>, <a class="el" href="map-inl_8h_source.html#l00912">v8::internal::value</a>, <a class="el" href="module-instantiate_8cc_source.html#l01245">well_known_imports_</a>, <a class="el" href="module-instantiate_8h_source.html#l00072">v8::internal::wasm::ResolvedWasmImport::well_known_status()</a>, and <a class="el" href="well-known-imports_8cc_source.html#l00009">v8::internal::wasm::WellKnownImportName()</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l02686">ProcessImports()</a>.</p>
<div id="dynsection-33" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-33-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-33-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-33-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_af8b0f7163912ee8ba7dc6cfaec3c0138_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-34" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-34-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-34-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-34-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_af8b0f7163912ee8ba7dc6cfaec3c0138_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ab312bd78f66545c510a7670c7da5e2ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab312bd78f66545c510a7670c7da5e2ab">&#9670;&nbsp;</a></span>ProcessImportedGlobal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a> v8::internal::wasm::InstanceBuilder::ProcessImportedGlobal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html">WasmTrustedInstanceData</a> &gt;&#160;</td>
          <td class="paramname"><em>trusted_instance_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>import_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>global_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1Object.html">Object</a> &gt;&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l02586">2586</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;                                                                    {</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;  <span class="comment">// Immutable global imports are converted to numbers and written into</span></div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;  <span class="comment">// the {untagged_globals_} array buffer.</span></div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;  <span class="comment">// Mutable global imports instead have their backing array buffers</span></div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;  <span class="comment">// referenced by this instance, and store the address of the imported</span></div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;  <span class="comment">// global in the {imported_mutable_globals_} array.</span></div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;  <span class="keyword">const</span> WasmGlobal&amp; global = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#ac6101242a2a805d0e982fff4ddcc4677">globals</a>[global_index];</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160; </div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;  <span class="comment">// SIMD proposal allows modules to define an imported v128 global, and only</span></div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;  <span class="comment">// supports importing a WebAssembly.Global object for this global, but also</span></div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;  <span class="comment">// defines constructing a WebAssembly.Global of v128 to be a TypeError.</span></div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;  <span class="comment">// We *should* never hit this case in the JS API, but the module should should</span></div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;  <span class="comment">// be allowed to declare such a global (no validation error).</span></div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;  <span class="keywordflow">if</span> (global.type == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#adef3c09b05397b61ad793d7c0bdf9e3b">kWasmS128</a> &amp;&amp; !IsWasmGlobalObject(*<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>-&gt;LinkError(</div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;        <span class="stringliteral">&quot;%s: global import of type v128 must be a WebAssembly.Global&quot;</span>,</div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ab5cdfd1a6d96ac77038c87b059b4d04e">ImportName</a>(import_index).c_str());</div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;  }</div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160; </div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a70bbfcab50b20ba5da8696e0373a8af4">is_asmjs_module</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>)) {</div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;    <span class="comment">// Accepting {JSFunction} on top of just primitive values here is a</span></div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;    <span class="comment">// workaround to support legacy asm.js code with broken binding. Note</span></div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;    <span class="comment">// that using {NaN} (or Smi::zero()) here is what using the observable</span></div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;    <span class="comment">// conversion via {ToPrimitive} would produce as well. {LookupImportAsm}</span></div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;    <span class="comment">// checked via {HasDefaultToNumberBehaviour} that &quot;valueOf&quot; or friends have</span></div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;    <span class="comment">// not been patched.</span></div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;    <span class="keywordflow">if</span> (IsJSFunction(*<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;nan_value();</div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#a830fefc08d85fcd8c36395b69be21dab">IsPrimitive</a>(*<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;      MaybeDirectHandle&lt;Object&gt; converted =</div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;          global.type == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a7b893808fadaa287f225d7209d2d36c6">kWasmI32</a> ? <a class="code" href="classv8_1_1internal_1_1Object.html#abb8ae5050fd6ec31a2d4cf24e24a39bd">Object::ToInt32</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)</div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;                                  : <a class="code" href="namespacev8_1_1internal_1_1compiler.html#ae40ecf79ba420ba01bc347350bd6176f">Object</a>::<a class="code" href="namespacev8_1_1internal.html#a5a857fe236959ea037b3dd560a3414f0">ToNumber</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;      <span class="keywordflow">if</span> (!converted.ToHandle(&amp;<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;        <span class="comment">// Conversion is known to fail for Symbols and BigInts.</span></div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>-&gt;LinkError(<span class="stringliteral">&quot;%s: global import must be a number&quot;</span>,</div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;                            <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ab5cdfd1a6d96ac77038c87b059b4d04e">ImportName</a>(import_index).c_str());</div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;      }</div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;    }</div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;  }</div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160; </div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;  <span class="keywordflow">if</span> (IsWasmGlobalObject(*<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;    <span class="keyword">auto</span> global_object = Cast&lt;WasmGlobalObject&gt;(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a90f3564ad83fe14d055f99d3d9fff166">ProcessImportedWasmGlobalObject</a>(trusted_instance_data, import_index,</div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;                                           global, global_object);</div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;  }</div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160; </div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;  <span class="keywordflow">if</span> (global.mutability) {</div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>-&gt;LinkError(</div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;        <span class="stringliteral">&quot;%s: imported mutable global must be a WebAssembly.Global object&quot;</span>,</div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ab5cdfd1a6d96ac77038c87b059b4d04e">ImportName</a>(import_index).c_str());</div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;  }</div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160; </div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;  <span class="keywordflow">if</span> (global.type.is_reference()) {</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>* error_message;</div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;    DirectHandle&lt;Object&gt; wasm_value;</div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a3e2697d50763bb9f401d4c992e24a074">wasm::JSToWasmObject</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, global.type,</div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;                              &amp;error_message)</div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;             .ToHandle(&amp;wasm_value)) {</div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>-&gt;LinkError(<span class="stringliteral">&quot;%s: %s&quot;</span>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ab5cdfd1a6d96ac77038c87b059b4d04e">ImportName</a>(import_index).c_str(),</div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;                          error_message);</div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;    }</div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#af5259253e5d559a5833c16076db2900c">WriteGlobalValue</a>(</div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;        global, WasmValue(wasm_value, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a72d5b3903dd429c932220d3adee950a8">canonical_type</a>(global.type)));</div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;  }</div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160; </div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#a33a2826557a82e4cd9775aadf0f5711e">IsNumber</a>(*<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>) &amp;&amp; global.type != <a class="code" href="namespacev8_1_1internal_1_1wasm.html#aee8b7f805fa662ae4ed159f8072bea5f">kWasmI64</a>) {</div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;    <span class="keywordtype">double</span> number_value = <a class="code" href="classv8_1_1internal_1_1Object.html#a8a6c6d9b71bb8f6bd6004b8f6f48c9f7">Object::NumberValue</a>(*<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;    <span class="comment">// The Wasm-BigInt proposal currently says that i64 globals may</span></div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;    <span class="comment">// only be initialized with BigInts. See:</span></div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;    <span class="comment">// https://github.com/WebAssembly/JS-BigInt-integration/issues/12</span></div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;    WasmValue wasm_value =</div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;        global.type == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a7b893808fadaa287f225d7209d2d36c6">kWasmI32</a>   ? WasmValue(<a class="code" href="namespacev8_1_1internal.html#a9b26b3ec2dde9a3e6dfab35040d87002">DoubleToInt32</a>(number_value))</div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;        : global.<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a6263a62b579bcdb32ae1acafc9ddf653">kWasmF32</a> ? WasmValue(<a class="code" href="namespacev8_1_1internal.html#ab0d0492df59957ad450290724710e09f">DoubleToFloat32</a>(number_value))</div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;                                  : WasmValue(number_value);</div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#af5259253e5d559a5833c16076db2900c">WriteGlobalValue</a>(global, wasm_value);</div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;  }</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160; </div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;  <span class="keywordflow">if</span> (global.type == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#aee8b7f805fa662ae4ed159f8072bea5f">kWasmI64</a> &amp;&amp; IsBigInt(*<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#af5259253e5d559a5833c16076db2900c">WriteGlobalValue</a>(global, WasmValue(Cast&lt;BigInt&gt;(*value)-&gt;AsInt64()));</div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;  }</div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160; </div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>-&gt;LinkError(</div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;      <span class="stringliteral">&quot;%s: global import must be a number, valid Wasm reference, or &quot;</span></div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;      <span class="stringliteral">&quot;WebAssembly.Global object&quot;</span>,</div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ab5cdfd1a6d96ac77038c87b059b4d04e">ImportName</a>(import_index).c_str());</div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1Object_html_a8a6c6d9b71bb8f6bd6004b8f6f48c9f7"><div class="ttname"><a href="classv8_1_1internal_1_1Object.html#a8a6c6d9b71bb8f6bd6004b8f6f48c9f7">v8::internal::Object::NumberValue</a></div><div class="ttdeci">static double NumberValue(Tagged&lt; Number &gt; obj)</div><div class="ttdef"><b>Definition:</b> <a href="objects-inl_8h_source.html#l00675">objects-inl.h:675</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Object_html_abb8ae5050fd6ec31a2d4cf24e24a39bd"><div class="ttname"><a href="classv8_1_1internal_1_1Object.html#abb8ae5050fd6ec31a2d4cf24e24a39bd">v8::internal::Object::ToInt32</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE bool ToInt32(Tagged&lt; Object &gt; obj, int32_t *value)</div><div class="ttdef"><b>Definition:</b> <a href="objects_8cc_source.html#l01442">objects.cc:1442</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1InstanceBuilder_html_a90f3564ad83fe14d055f99d3d9fff166"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a90f3564ad83fe14d055f99d3d9fff166">v8::internal::wasm::InstanceBuilder::ProcessImportedWasmGlobalObject</a></div><div class="ttdeci">bool ProcessImportedWasmGlobalObject(DirectHandle&lt; WasmTrustedInstanceData &gt; trusted_instance_data, int import_index, const WasmGlobal &amp;global, DirectHandle&lt; WasmGlobalObject &gt; global_object)</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l02488">module-instantiate.cc:2488</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1InstanceBuilder_html_af5259253e5d559a5833c16076db2900c"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#af5259253e5d559a5833c16076db2900c">v8::internal::wasm::InstanceBuilder::WriteGlobalValue</a></div><div class="ttdeci">void WriteGlobalValue(const WasmGlobal &amp;global, const WasmValue &amp;value)</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l02139">module-instantiate.cc:2139</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_html_ae40ecf79ba420ba01bc347350bd6176f"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler.html#ae40ecf79ba420ba01bc347350bd6176f">v8::internal::compiler::Object</a></div><div class="ttdeci">OptionalRef&lt; typename ref_traits&lt; T &gt;::ref_type &gt; Object</div><div class="ttdef"><b>Definition:</b> <a href="js-heap-broker_8h_source.html#l00591">js-heap-broker.h:592</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1tracing_html_a96000282e12b2483531025283d63154d"><div class="ttname"><a href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">v8::internal::tracing::type</a></div><div class="ttdeci">unsigned char * type</div><div class="ttdef"><b>Definition:</b> <a href="tracing_2trace-event_8h_source.html#l00457">trace-event.h:457</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a3e2697d50763bb9f401d4c992e24a074"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a3e2697d50763bb9f401d4c992e24a074">v8::internal::wasm::JSToWasmObject</a></div><div class="ttdeci">MaybeDirectHandle&lt; Object &gt; JSToWasmObject(Isolate *isolate, DirectHandle&lt; Object &gt; value, CanonicalValueType expected, const char **error_message)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l03408">wasm-objects.cc:3408</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a6263a62b579bcdb32ae1acafc9ddf653"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a6263a62b579bcdb32ae1acafc9ddf653">v8::internal::wasm::kWasmF32</a></div><div class="ttdeci">constexpr IndependentValueType kWasmF32</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01245">value-type.h:1245</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_adef3c09b05397b61ad793d7c0bdf9e3b"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#adef3c09b05397b61ad793d7c0bdf9e3b">v8::internal::wasm::kWasmS128</a></div><div class="ttdeci">constexpr IndependentValueType kWasmS128</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01247">value-type.h:1247</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a33a2826557a82e4cd9775aadf0f5711e"><div class="ttname"><a href="namespacev8_1_1internal.html#a33a2826557a82e4cd9775aadf0f5711e">v8::internal::IsNumber</a></div><div class="ttdeci">bool IsNumber(Tagged&lt; Object &gt; obj)</div><div class="ttdef"><b>Definition:</b> <a href="objects-inl_8h_source.html#l00488">objects-inl.h:488</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5a857fe236959ea037b3dd560a3414f0"><div class="ttname"><a href="namespacev8_1_1internal.html#a5a857fe236959ea037b3dd560a3414f0">v8::internal::ToNumber</a></div><div class="ttdeci">int ToNumber(Register reg)</div><div class="ttdef"><b>Definition:</b> <a href="assembler-riscv_8cc_source.html#l00137">assembler-riscv.cc:137</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a830fefc08d85fcd8c36395b69be21dab"><div class="ttname"><a href="namespacev8_1_1internal.html#a830fefc08d85fcd8c36395b69be21dab">v8::internal::IsPrimitive</a></div><div class="ttdeci">bool IsPrimitive(Tagged&lt; Object &gt; obj)</div><div class="ttdef"><b>Definition:</b> <a href="objects-inl_8h_source.html#l00610">objects-inl.h:610</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a9b26b3ec2dde9a3e6dfab35040d87002"><div class="ttname"><a href="namespacev8_1_1internal.html#a9b26b3ec2dde9a3e6dfab35040d87002">v8::internal::DoubleToInt32</a></div><div class="ttdeci">int32_t DoubleToInt32(double x)</div><div class="ttdef"><b>Definition:</b> <a href="conversions-inl_8h_source.html#l00142">conversions-inl.h:142</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ab0d0492df59957ad450290724710e09f"><div class="ttname"><a href="namespacev8_1_1internal.html#ab0d0492df59957ad450290724710e09f">v8::internal::DoubleToFloat32</a></div><div class="ttdeci">float DoubleToFloat32(double x)</div><div class="ttdef"><b>Definition:</b> <a href="conversions-inl_8h_source.html#l00110">conversions-inl.h:110</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-module_8h_source.html#l00820">v8::internal::wasm::WasmModule::canonical_type()</a>, <a class="el" href="conversions-inl_8h_source.html#l00110">v8::internal::DoubleToFloat32()</a>, <a class="el" href="conversions-inl_8h_source.html#l00142">v8::internal::DoubleToInt32()</a>, <a class="el" href="execution_2isolate_8h_source.html#l01553">v8::internal::Isolate::factory()</a>, <a class="el" href="wasm-module_8h_source.html#l00715">v8::internal::wasm::WasmModule::globals</a>, <a class="el" href="module-instantiate_8cc_source.html#l01257">ImportName()</a>, <a class="el" href="wasm-module_8h_source.html#l00961">v8::internal::wasm::is_asmjs_module()</a>, <a class="el" href="value-type_8h_source.html#l00606">v8::internal::wasm::ValueTypeBase::is_reference()</a>, <a class="el" href="objects-inl_8h_source.html#l00488">v8::internal::IsNumber()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01227">isolate_</a>, <a class="el" href="objects-inl_8h_source.html#l00610">v8::internal::IsPrimitive()</a>, <a class="el" href="wasm-objects_8cc_source.html#l03408">v8::internal::wasm::JSToWasmObject()</a>, <a class="el" href="value-type_8h_source.html#l01245">v8::internal::wasm::kWasmF32</a>, <a class="el" href="value-type_8h_source.html#l01243">v8::internal::wasm::kWasmI32</a>, <a class="el" href="value-type_8h_source.html#l01244">v8::internal::wasm::kWasmI64</a>, <a class="el" href="value-type_8h_source.html#l01247">v8::internal::wasm::kWasmS128</a>, <a class="el" href="module-instantiate_8cc_source.html#l01230">module_</a>, <a class="el" href="wasm-module_8h_source.html#l00095">v8::internal::wasm::WasmGlobal::mutability</a>, <a class="el" href="objects-inl_8h_source.html#l00675">v8::internal::Object::NumberValue()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02488">ProcessImportedWasmGlobalObject()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01231">thrower_</a>, <a class="el" href="maybe-handles_8h_source.html#l00277">v8::internal::MaybeDirectHandle&lt; T &gt;::ToHandle()</a>, <a class="el" href="objects_8cc_source.html#l01442">v8::internal::Object::ToInt32()</a>, <a class="el" href="api_8cc_source.html#l03789">v8::Value::ToNumber()</a>, <a class="el" href="wasm-module_8h_source.html#l00094">v8::internal::wasm::WasmGlobal::type</a>, <a class="el" href="map-inl_8h_source.html#l00912">v8::internal::value</a>, and <a class="el" href="module-instantiate_8cc_source.html#l02139">WriteGlobalValue()</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l02686">ProcessImports()</a>.</p>
<div id="dynsection-35" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-35-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-35-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-35-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab312bd78f66545c510a7670c7da5e2ab_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-36" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-36-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-36-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-36-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab312bd78f66545c510a7670c7da5e2ab_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a0c16bece87407beee6140ee5535bec4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c16bece87407beee6140ee5535bec4d">&#9670;&nbsp;</a></span>ProcessImportedMemories()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a> v8::internal::wasm::InstanceBuilder::ProcessImportedMemories </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1FixedArray.html">FixedArray</a> &gt;&#160;</td>
          <td class="paramname"><em>imported_memory_objects</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l02770">2770</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;                                                      {</div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a4f710e1d1dd945669cbebae2b51835e5">import_table</a>.size(), <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a5dadf45ab32816f8ffdb69a10544a956">sanitized_imports_</a>.size());</div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160; </div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;  <span class="keywordtype">int</span> num_imports = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a4f710e1d1dd945669cbebae2b51835e5">import_table</a>.size());</div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> import_index = 0; import_index &lt; num_imports; ++import_index) {</div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;    <span class="keyword">const</span> WasmImport&amp; <span class="keyword">import</span> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a4f710e1d1dd945669cbebae2b51835e5">import_table</a>[import_index];</div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160; </div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">import</span>.kind != <a class="code" href="namespacev8_1_1internal_1_1wasm.html#acb10c8534fdb3edc15e3f45d7ee6d547a9e82a6c120c240d5819852ec01c3bf9b">kExternalMemory</a>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160; </div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;    DirectHandle&lt;Object&gt; <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a5dadf45ab32816f8ffdb69a10544a956">sanitized_imports_</a>[import_index];</div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160; </div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;    <span class="keywordflow">if</span> (!IsWasmMemoryObject(*<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>-&gt;LinkError(</div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;          <span class="stringliteral">&quot;%s: memory import must be a WebAssembly.Memory object&quot;</span>,</div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;          <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ab5cdfd1a6d96ac77038c87b059b4d04e">ImportName</a>(import_index).c_str());</div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;    }</div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;    uint32_t memory_index = <span class="keyword">import</span>.index;</div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;    <span class="keyword">auto</span> memory_object = Cast&lt;WasmMemoryObject&gt;(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160; </div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;    DirectHandle&lt;JSArrayBuffer&gt; buffer{memory_object-&gt;array_buffer(), <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>};</div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;    uint32_t imported_cur_pages =</div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;        <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(buffer-&gt;GetByteLength() / <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ac29e28cd9a3b18c7e07a3406d5d6ff1a">kWasmPageSize</a>);</div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;    <span class="keyword">const</span> WasmMemory* memory = &amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a2db4294c50e9d81d12819ce61ababaec">memories</a>[memory_index];</div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;    <span class="keywordflow">if</span> (memory-&gt;address_type != memory_object-&gt;address_type()) {</div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>-&gt;LinkError(<span class="stringliteral">&quot;cannot import %s memory as %s&quot;</span>,</div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;                          <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ab60ca1fd58b248403fac730c9eaac2f3">AddressTypeToStr</a>(memory_object-&gt;address_type()),</div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;                          <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ab60ca1fd58b248403fac730c9eaac2f3">AddressTypeToStr</a>(memory-&gt;address_type));</div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;    }</div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;    <span class="keywordflow">if</span> (imported_cur_pages &lt; memory-&gt;initial_pages) {</div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>-&gt;LinkError(</div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;          <span class="stringliteral">&quot;%s: memory import has %u pages which is smaller than the declared &quot;</span></div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;          <span class="stringliteral">&quot;initial of %u&quot;</span>,</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;          <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ab5cdfd1a6d96ac77038c87b059b4d04e">ImportName</a>(import_index).c_str(), imported_cur_pages,</div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;          memory-&gt;initial_pages);</div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;    }</div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;    <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> imported_maximum_pages = memory_object-&gt;maximum_pages();</div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;    <span class="keywordflow">if</span> (memory-&gt;has_maximum_pages) {</div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;      <span class="keywordflow">if</span> (imported_maximum_pages &lt; 0) {</div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>-&gt;LinkError(</div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;            <span class="stringliteral">&quot;%s: memory import has no maximum limit, expected at most %u&quot;</span>,</div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;            <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ab5cdfd1a6d96ac77038c87b059b4d04e">ImportName</a>(import_index).c_str(), imported_maximum_pages);</div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;      }</div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">static_cast&lt;</span>uint64_t<span class="keyword">&gt;</span>(imported_maximum_pages) &gt;</div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;          memory-&gt;maximum_pages) {</div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>-&gt;LinkError(</div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;            <span class="stringliteral">&quot;%s: memory import has a larger maximum size %u than the &quot;</span></div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;            <span class="stringliteral">&quot;module&#39;s declared maximum %&quot;</span> PRIu64,</div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;            <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ab5cdfd1a6d96ac77038c87b059b4d04e">ImportName</a>(import_index).c_str(), imported_maximum_pages,</div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;            memory-&gt;maximum_pages);</div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;      }</div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;    }</div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;    <span class="keywordflow">if</span> (memory-&gt;is_shared != buffer-&gt;is_shared()) {</div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>-&gt;LinkError(</div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;          <span class="stringliteral">&quot;%s: mismatch in shared state of memory, declared = %d, imported = &quot;</span></div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;          <span class="stringliteral">&quot;%d&quot;</span>,</div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;          <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ab5cdfd1a6d96ac77038c87b059b4d04e">ImportName</a>(import_index).c_str(), memory-&gt;is_shared,</div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;          buffer-&gt;is_shared());</div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;    }</div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160; </div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(ReadOnlyRoots{<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>}.undefined_value(),</div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;              imported_memory_objects-&gt;get(memory_index));</div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;    imported_memory_objects-&gt;set(memory_index, *memory_object);</div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;  }</div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;}</div>
<div class="ttc" id="anamespaceunibrow_html_ab0275d47f9778d486eafe88b18c5851d"><div class="ttname"><a href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">unibrow::int32_t</a></div><div class="ttdeci">int int32_t</div><div class="ttdef"><b>Definition:</b> <a href="unicode_8cc_source.html#l00042">unicode.cc:42</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ab60ca1fd58b248403fac730c9eaac2f3"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ab60ca1fd58b248403fac730c9eaac2f3">v8::internal::wasm::AddressTypeToStr</a></div><div class="ttdeci">constexpr const char * AddressTypeToStr(AddressType address_type)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00051">wasm-module.h:51</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-module_8h_source.html#l00150">v8::internal::wasm::WasmMemory::address_type</a>, <a class="el" href="wasm-module_8h_source.html#l00051">v8::internal::wasm::AddressTypeToStr()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00484">DCHECK_EQ</a>, <a class="el" href="wasm-module_8h_source.html#l00149">v8::internal::wasm::WasmMemory::has_maximum_pages</a>, <a class="el" href="wasm-module_8h_source.html#l00719">v8::internal::wasm::WasmModule::import_table</a>, <a class="el" href="module-instantiate_8cc_source.html#l01257">ImportName()</a>, <a class="el" href="wasm-module_8h_source.html#l00144">v8::internal::wasm::WasmMemory::initial_pages</a>, <a class="el" href="wasm-module_8h_source.html#l00148">v8::internal::wasm::WasmMemory::is_shared</a>, <a class="el" href="module-instantiate_8cc_source.html#l01227">isolate_</a>, <a class="el" href="wasm-constants_8h_source.html#l00081">v8::internal::wasm::kExternalMemory</a>, <a class="el" href="wasm-constants_8h_source.html#l00179">v8::internal::wasm::kWasmPageSize</a>, <a class="el" href="wasm-module_8h_source.html#l00147">v8::internal::wasm::WasmMemory::maximum_pages</a>, <a class="el" href="wasm-module_8h_source.html#l00718">v8::internal::wasm::WasmModule::memories</a>, <a class="el" href="module-instantiate_8cc_source.html#l01230">module_</a>, <a class="el" href="module-instantiate_8cc_source.html#l01244">sanitized_imports_</a>, <a class="el" href="module-instantiate_8cc_source.html#l01231">thrower_</a>, and <a class="el" href="map-inl_8h_source.html#l00912">v8::internal::value</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l01493">Build_Phase1()</a>.</p>
<div id="dynsection-37" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-37-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-37-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-37-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a0c16bece87407beee6140ee5535bec4d_cgraph.svg" width="470" height="118"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-38" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-38-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-38-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-38-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a0c16bece87407beee6140ee5535bec4d_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a99b1a438d60e812d57059be2103951cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99b1a438d60e812d57059be2103951cc">&#9670;&nbsp;</a></span>ProcessImportedTable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a> v8::internal::wasm::InstanceBuilder::ProcessImportedTable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html">WasmTrustedInstanceData</a> &gt;&#160;</td>
          <td class="paramname"><em>trusted_instance_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>import_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>table_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1Object.html">Object</a> &gt;&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l02406">2406</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;                                                                   {</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;  <span class="keywordflow">if</span> (!IsWasmTableObject(*<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>-&gt;LinkError(<span class="stringliteral">&quot;%s: table import requires a WebAssembly.Table&quot;</span>,</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;                        <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ab5cdfd1a6d96ac77038c87b059b4d04e">ImportName</a>(import_index).c_str());</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;  }</div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;  <span class="keyword">const</span> WasmTable&amp; table = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#af40a46c2d14efc9c68b499d7a459d9b0">tables</a>[table_index];</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160; </div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;  DirectHandle&lt;WasmTableObject&gt; table_object = Cast&lt;WasmTableObject&gt;(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160; </div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;  uint32_t imported_table_size =</div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;      <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(table_object-&gt;current_length());</div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;  <span class="keywordflow">if</span> (imported_table_size &lt; table.initial_size) {</div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>-&gt;LinkError(<span class="stringliteral">&quot;table import %d is smaller than initial %u, got %u&quot;</span>,</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;                        import_index, table.initial_size, imported_table_size);</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;  }</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160; </div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;  <span class="keywordflow">if</span> (table.has_maximum_size) {</div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;    std::optional&lt;uint64_t&gt; max_size = table_object-&gt;maximum_length_u64();</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;    <span class="keywordflow">if</span> (!max_size) {</div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>-&gt;LinkError(</div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;          <span class="stringliteral">&quot;table import %d has no maximum length; required: %&quot;</span> PRIu64,</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;          import_index, table.maximum_size);</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;    }</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;    <span class="keywordflow">if</span> (*max_size &gt; table.maximum_size) {</div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>-&gt;LinkError(<span class="stringliteral">&quot;table import %d has a larger maximum size %&quot;</span> PRIx64</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;                          <span class="stringliteral">&quot; than the module&#39;s declared maximum %&quot;</span> PRIu64,</div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;                          import_index, *max_size, table.maximum_size);</div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;    }</div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;  }</div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160; </div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;  <span class="keywordflow">if</span> (table.address_type != table_object-&gt;address_type()) {</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>-&gt;LinkError(<span class="stringliteral">&quot;cannot import %s table as %s&quot;</span>,</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;                        <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ab60ca1fd58b248403fac730c9eaac2f3">AddressTypeToStr</a>(table_object-&gt;address_type()),</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;                        <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ab60ca1fd58b248403fac730c9eaac2f3">AddressTypeToStr</a>(table.address_type));</div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;  }</div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160; </div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal.html#a09dbf9baefb793fd78912d6ef89f9dde">WasmModule</a>* table_type_module =</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;      table_object-&gt;has_trusted_data()</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;          ? table_object-&gt;trusted_data(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>)-&gt;module()</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;          : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;  <span class="comment">// The security-relevant aspect of this DCHECK is covered by the SBXCHECK_EQ</span></div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;  <span class="comment">// below.</span></div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(table_object-&gt;unsafe_type().has_index(),</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;                 table_type_module != <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160; </div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;  <span class="comment">// We need to check type equivalence (rather than subtyping) because tables</span></div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;  <span class="comment">// are mutable: we cannot allow the importing module to write supertyped</span></div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;  <span class="comment">// values into a subtyped table.</span></div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1wasm.html#aa1157b17e6a6b751edc709751e98195d">EquivalentTypes</a>(table.type, table_object-&gt;type(table_type_module),</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;                       <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>, table_type_module)) {</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>-&gt;LinkError(<span class="stringliteral">&quot;%s: imported table does not match the expected type&quot;</span>,</div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;                        <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ab5cdfd1a6d96ac77038c87b059b4d04e">ImportName</a>(import_index).c_str());</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;  }</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160; </div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;  <span class="comment">// Note: {trusted_instance_data} is selected by the caller to be the</span></div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;  <span class="comment">// shared or non-shared part, depending on {table.shared}.</span></div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;  trusted_instance_data-&gt;tables()-&gt;set(table_index, *table_object);</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;  <span class="keywordflow">if</span> (table_object-&gt;has_trusted_dispatch_table()) {</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;    Tagged&lt;WasmDispatchTable&gt; dispatch_table =</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;        table_object-&gt;trusted_dispatch_table(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>);</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;    <a class="code" href="check_8h.html#a6e67d209c0a0c9c55b7b563275f63bdd">SBXCHECK_EQ</a>(dispatch_table-&gt;table_type(),</div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;                <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a72d5b3903dd429c932220d3adee950a8">canonical_type</a>(table.type));</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;    <a class="code" href="check_8h.html#aec752d98ed7d655aa8ced64592c346d5">SBXCHECK_GE</a>(dispatch_table-&gt;length(), table.initial_size);</div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;    trusted_instance_data-&gt;dispatch_tables()-&gt;set(table_index, dispatch_table);</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;    <span class="keywordflow">if</span> (table_index == 0) {</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;      trusted_instance_data-&gt;set_dispatch_table0(dispatch_table);</div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;    }</div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;    <span class="comment">// Function tables are required to have a WasmDispatchTable.</span></div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;    <a class="code" href="check_8h.html#aee78f6fbdf206be23e949191f9408e4b">SBXCHECK</a>(!<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a3c8e5205c40b2156097780fb9e7d3f7b">IsSubtypeOf</a>(table.type, <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a90941f620285a912a302a3aced092560">kWasmFuncRef</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>));</div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;  }</div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;}</div>
<div class="ttc" id="acheck_8h_html_a6e67d209c0a0c9c55b7b563275f63bdd"><div class="ttname"><a href="check_8h.html#a6e67d209c0a0c9c55b7b563275f63bdd">SBXCHECK_EQ</a></div><div class="ttdeci">#define SBXCHECK_EQ(lhs, rhs)</div><div class="ttdef"><b>Definition:</b> <a href="check_8h_source.html#l00055">check.h:55</a></div></div>
<div class="ttc" id="acheck_8h_html_aec752d98ed7d655aa8ced64592c346d5"><div class="ttname"><a href="check_8h.html#aec752d98ed7d655aa8ced64592c346d5">SBXCHECK_GE</a></div><div class="ttdeci">#define SBXCHECK_GE(lhs, rhs)</div><div class="ttdef"><b>Definition:</b> <a href="check_8h_source.html#l00058">check.h:58</a></div></div>
<div class="ttc" id="acheck_8h_html_aee78f6fbdf206be23e949191f9408e4b"><div class="ttname"><a href="check_8h.html#aee78f6fbdf206be23e949191f9408e4b">SBXCHECK</a></div><div class="ttdeci">#define SBXCHECK(condition)</div><div class="ttdef"><b>Definition:</b> <a href="check_8h_source.html#l00054">check.h:54</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_aa1157b17e6a6b751edc709751e98195d"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#aa1157b17e6a6b751edc709751e98195d">v8::internal::wasm::EquivalentTypes</a></div><div class="ttdeci">V8_NOINLINE bool EquivalentTypes(ValueType type1, ValueType type2, const WasmModule *module)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-subtyping_8cc_source.html#l00481">wasm-subtyping.cc:481</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a09dbf9baefb793fd78912d6ef89f9dde"><div class="ttname"><a href="namespacev8_1_1internal.html#a09dbf9baefb793fd78912d6ef89f9dde">v8::internal::WasmModule</a></div><div class="ttdeci">wasm::WasmModule WasmModule</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l00110">wasm-objects.cc:110</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-module_8h_source.html#l00656">v8::internal::wasm::WasmTable::address_type</a>, <a class="el" href="wasm-module_8h_source.html#l00051">v8::internal::wasm::AddressTypeToStr()</a>, <a class="el" href="wasm-module_8h_source.html#l00820">v8::internal::wasm::WasmModule::canonical_type()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00492">DCHECK_IMPLIES</a>, <a class="el" href="wasm-subtyping_8cc_source.html#l00481">v8::internal::wasm::EquivalentTypes()</a>, <a class="el" href="wasm-module_8h_source.html#l00655">v8::internal::wasm::WasmTable::has_maximum_size</a>, <a class="el" href="module-instantiate_8cc_source.html#l01257">ImportName()</a>, <a class="el" href="wasm-module_8h_source.html#l00651">v8::internal::wasm::WasmTable::initial_size</a>, <a class="el" href="module-instantiate_8cc_source.html#l01227">isolate_</a>, <a class="el" href="wasm-subtyping_8h_source.html#l00068">v8::internal::wasm::IsSubtypeOf()</a>, <a class="el" href="value-type_8h_source.html#l01256">v8::internal::wasm::kWasmFuncRef</a>, <a class="el" href="wasm-module_8h_source.html#l00654">v8::internal::wasm::WasmTable::maximum_size</a>, <a class="el" href="module-instantiate_8cc_source.html#l01230">module_</a>, <a class="el" href="check_8h_source.html#l00054">SBXCHECK</a>, <a class="el" href="check_8h_source.html#l00055">SBXCHECK_EQ</a>, <a class="el" href="check_8h_source.html#l00058">SBXCHECK_GE</a>, <a class="el" href="wasm-module_8h_source.html#l00717">v8::internal::wasm::WasmModule::tables</a>, <a class="el" href="module-instantiate_8cc_source.html#l01231">thrower_</a>, <a class="el" href="wasm-module_8h_source.html#l00650">v8::internal::wasm::WasmTable::type</a>, and <a class="el" href="map-inl_8h_source.html#l00912">v8::internal::value</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l02686">ProcessImports()</a>.</p>
<div id="dynsection-39" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-39-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-39-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-39-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99b1a438d60e812d57059be2103951cc_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-40" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-40-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-40-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-40-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99b1a438d60e812d57059be2103951cc_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a90f3564ad83fe14d055f99d3d9fff166"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90f3564ad83fe14d055f99d3d9fff166">&#9670;&nbsp;</a></span>ProcessImportedWasmGlobalObject()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a> v8::internal::wasm::InstanceBuilder::ProcessImportedWasmGlobalObject </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html">WasmTrustedInstanceData</a> &gt;&#160;</td>
          <td class="paramname"><em>trusted_instance_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>import_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structv8_1_1internal_1_1wasm_1_1WasmGlobal.html">WasmGlobal</a> &amp;&#160;</td>
          <td class="paramname"><em>global</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1WasmGlobalObject.html">WasmGlobalObject</a> &gt;&#160;</td>
          <td class="paramname"><em>global_object</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l02488">2488</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;                                                  {</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">static_cast&lt;</span><span class="keywordtype">bool</span><span class="keyword">&gt;</span>(global_object-&gt;is_mutable()) != global.mutability) {</div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>-&gt;LinkError(</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;        <span class="stringliteral">&quot;%s: imported global does not match the expected mutability&quot;</span>,</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ab5cdfd1a6d96ac77038c87b059b4d04e">ImportName</a>(import_index).c_str());</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;  }</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160; </div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;  wasm::ValueType actual_type = global_object-&gt;type();</div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal.html#a09dbf9baefb793fd78912d6ef89f9dde">WasmModule</a>* source_module = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;  <span class="keywordflow">if</span> (global_object-&gt;has_trusted_data()) {</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;    source_module = global_object-&gt;trusted_data(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>)-&gt;module();</div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;    <a class="code" href="check_8h.html#aee78f6fbdf206be23e949191f9408e4b">SBXCHECK</a>(!actual_type.has_index() ||</div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;             source_module-&gt;has_type(actual_type.ref_index()));</div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;    <span class="comment">// We don&#39;t have a module, so we wouldn&#39;t know what to do with a</span></div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;    <span class="comment">// module-relative type index.</span></div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;    <span class="comment">// Note: since we just read a type from the untrusted heap, this can&#39;t</span></div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;    <span class="comment">// be a real security boundary; we just use SBXCHECK to make it obvious</span></div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;    <span class="comment">// to fuzzers that crashing here due to corruption is safe.</span></div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;    <a class="code" href="check_8h.html#aee78f6fbdf206be23e949191f9408e4b">SBXCHECK</a>(!actual_type.has_index());</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;  }</div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160; </div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;  <span class="keywordtype">bool</span> valid_type =</div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;      global.mutability</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;          ? <a class="code" href="namespacev8_1_1internal_1_1wasm.html#aa1157b17e6a6b751edc709751e98195d">EquivalentTypes</a>(actual_type, global.type, source_module, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>)</div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;          : <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a3c8e5205c40b2156097780fb9e7d3f7b">IsSubtypeOf</a>(actual_type, global.<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>, source_module, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>);</div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160; </div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;  <span class="keywordflow">if</span> (!valid_type) {</div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>-&gt;LinkError(<span class="stringliteral">&quot;%s: imported global does not match the expected type&quot;</span>,</div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;                        <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ab5cdfd1a6d96ac77038c87b059b4d04e">ImportName</a>(import_index).c_str());</div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;  }</div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;  <span class="keywordflow">if</span> (global.mutability) {</div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a>(global.index, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a56f32c556f3ad6b75e11d3d0733cb2a5">num_imported_mutable_globals</a>);</div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;    DirectHandle&lt;Object&gt; buffer;</div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;    <span class="keywordflow">if</span> (global.type.is_reference()) {</div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;      static_assert(<span class="keyword">sizeof</span>(global_object-&gt;offset()) &lt;= <span class="keyword">sizeof</span>(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a>),</div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;                    <span class="stringliteral">&quot;The offset into the globals buffer does not fit into &quot;</span></div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;                    <span class="stringliteral">&quot;the imported_mutable_globals array&quot;</span>);</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;      buffer = <a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(global_object-&gt;tagged_buffer(), <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>);</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;      <span class="comment">// For externref globals we use a relative offset, not an absolute</span></div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;      <span class="comment">// address.</span></div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;      trusted_instance_data-&gt;imported_mutable_globals()-&gt;set(</div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;          global.index, global_object-&gt;offset());</div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;      buffer = <a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(global_object-&gt;untagged_buffer(), <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>);</div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;      <span class="comment">// It is safe in this case to store the raw pointer to the buffer</span></div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;      <span class="comment">// since the backing store of the JSArrayBuffer will not be</span></div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;      <span class="comment">// relocated.</span></div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a> address = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="namespacev8_1_1internal_1_1wasm.html#adcd4ca657f5fbce4e3e61f860761470a">Address</a><span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;          <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03.html#a7ecac47926023e51ac33a6829d1fa13b">raw_buffer_ptr</a>(Cast&lt;JSArrayBuffer&gt;(buffer), global_object-&gt;offset()));</div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;      trusted_instance_data-&gt;imported_mutable_globals()-&gt;set_sandboxed_pointer(</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;          global.index, address);</div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;    }</div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;    trusted_instance_data-&gt;imported_mutable_globals_buffers()-&gt;set(global.index,</div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;                                                                   *buffer);</div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;  }</div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160; </div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;  WasmValue <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>;</div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;  <span class="keywordflow">switch</span> (global.type.kind()) {</div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#abb767b639fb9b3ebabe15c8e91e99210a0a0ecdb4eded286c722877578774a293">kI32</a>:</div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = WasmValue(global_object-&gt;GetI32());</div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#abb767b639fb9b3ebabe15c8e91e99210a6601e7b0f7c0f03d9ffa9f222c82e6a0">kI64</a>:</div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = WasmValue(global_object-&gt;GetI64());</div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#abb767b639fb9b3ebabe15c8e91e99210a941c992a0e3d2eb28203202730996ba2">kF32</a>:</div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = WasmValue(global_object-&gt;GetF32());</div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#abb767b639fb9b3ebabe15c8e91e99210a5234930e162acb53b17e178221057319">kF64</a>:</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = WasmValue(global_object-&gt;GetF64());</div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#abb767b639fb9b3ebabe15c8e91e99210af99a6cf928bc2257d654d6301969318c">kS128</a>:</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = WasmValue(global_object-&gt;GetS128RawBytes(), <a class="code" href="namespacev8_1_1internal_1_1wasm.html#adef3c09b05397b61ad793d7c0bdf9e3b">kWasmS128</a>);</div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#abb767b639fb9b3ebabe15c8e91e99210ab5b96df89f6d4b5436a728a5a4014d83">kRef</a>:</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#abb767b639fb9b3ebabe15c8e91e99210aafd4fc7d3d7d9d9bc84ef9f0fd3d09c3">kRefNull</a>:</div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = WasmValue(global_object-&gt;GetRef(),</div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;                        <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a72d5b3903dd429c932220d3adee950a8">canonical_type</a>(global.type));</div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;    <span class="keywordflow">case</span> kVoid:</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;    <span class="keywordflow">case</span> kTop:</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;    <span class="keywordflow">case</span> kBottom:</div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#abb767b639fb9b3ebabe15c8e91e99210a6c86e764d5c427a8339c3920a3c08603">kI8</a>:</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#abb767b639fb9b3ebabe15c8e91e99210a1201e21104cbb7ea3a7c362efcb325a3">kI16</a>:</div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;    <span class="keywordflow">case</span> kF16:</div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;  }</div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160; </div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#af5259253e5d559a5833c16076db2900c">WriteGlobalValue</a>(global, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;}</div>
<div class="ttc" id="anamespacev8_1_1internal_html_abb767b639fb9b3ebabe15c8e91e99210a0a0ecdb4eded286c722877578774a293"><div class="ttname"><a href="namespacev8_1_1internal.html#abb767b639fb9b3ebabe15c8e91e99210a0a0ecdb4eded286c722877578774a293">v8::internal::WasmValueType::kI32</a></div><div class="ttdeci">@ kI32</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_abb767b639fb9b3ebabe15c8e91e99210a1201e21104cbb7ea3a7c362efcb325a3"><div class="ttname"><a href="namespacev8_1_1internal.html#abb767b639fb9b3ebabe15c8e91e99210a1201e21104cbb7ea3a7c362efcb325a3">v8::internal::WasmValueType::kI16</a></div><div class="ttdeci">@ kI16</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_abb767b639fb9b3ebabe15c8e91e99210a5234930e162acb53b17e178221057319"><div class="ttname"><a href="namespacev8_1_1internal.html#abb767b639fb9b3ebabe15c8e91e99210a5234930e162acb53b17e178221057319">v8::internal::WasmValueType::kF64</a></div><div class="ttdeci">@ kF64</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_abb767b639fb9b3ebabe15c8e91e99210a6601e7b0f7c0f03d9ffa9f222c82e6a0"><div class="ttname"><a href="namespacev8_1_1internal.html#abb767b639fb9b3ebabe15c8e91e99210a6601e7b0f7c0f03d9ffa9f222c82e6a0">v8::internal::WasmValueType::kI64</a></div><div class="ttdeci">@ kI64</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_abb767b639fb9b3ebabe15c8e91e99210a6c86e764d5c427a8339c3920a3c08603"><div class="ttname"><a href="namespacev8_1_1internal.html#abb767b639fb9b3ebabe15c8e91e99210a6c86e764d5c427a8339c3920a3c08603">v8::internal::WasmValueType::kI8</a></div><div class="ttdeci">@ kI8</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_abb767b639fb9b3ebabe15c8e91e99210a941c992a0e3d2eb28203202730996ba2"><div class="ttname"><a href="namespacev8_1_1internal.html#abb767b639fb9b3ebabe15c8e91e99210a941c992a0e3d2eb28203202730996ba2">v8::internal::WasmValueType::kF32</a></div><div class="ttdeci">@ kF32</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_abb767b639fb9b3ebabe15c8e91e99210aafd4fc7d3d7d9d9bc84ef9f0fd3d09c3"><div class="ttname"><a href="namespacev8_1_1internal.html#abb767b639fb9b3ebabe15c8e91e99210aafd4fc7d3d7d9d9bc84ef9f0fd3d09c3">v8::internal::WasmValueType::kRefNull</a></div><div class="ttdeci">@ kRefNull</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_abb767b639fb9b3ebabe15c8e91e99210ab5b96df89f6d4b5436a728a5a4014d83"><div class="ttname"><a href="namespacev8_1_1internal.html#abb767b639fb9b3ebabe15c8e91e99210ab5b96df89f6d4b5436a728a5a4014d83">v8::internal::WasmValueType::kRef</a></div><div class="ttdeci">@ kRef</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_abb767b639fb9b3ebabe15c8e91e99210af99a6cf928bc2257d654d6301969318c"><div class="ttname"><a href="namespacev8_1_1internal.html#abb767b639fb9b3ebabe15c8e91e99210af99a6cf928bc2257d654d6301969318c">v8::internal::WasmValueType::kS128</a></div><div class="ttdeci">@ kS128</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_af1a711c8d5520dff78858ddefd2ad668"><div class="ttname"><a href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a></div><div class="ttdeci">#define DCHECK_LT(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00488">logging.h:488</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-module_8h_source.html#l00820">v8::internal::wasm::WasmModule::canonical_type()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00488">DCHECK_LT</a>, <a class="el" href="handles-inl_8h_source.html#l00143">v8::internal::direct_handle()</a>, <a class="el" href="wasm-subtyping_8cc_source.html#l00481">v8::internal::wasm::EquivalentTypes()</a>, <a class="el" href="value-type_8h_source.html#l00368">v8::internal::wasm::ValueTypeBase::has_index()</a>, <a class="el" href="wasm-module_8h_source.html#l00797">v8::internal::wasm::WasmModule::has_type()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01257">ImportName()</a>, <a class="el" href="wasm-module_8h_source.html#l00099">v8::internal::wasm::WasmGlobal::index</a>, <a class="el" href="value-type_8h_source.html#l00606">v8::internal::wasm::ValueTypeBase::is_reference()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01227">isolate_</a>, <a class="el" href="wasm-subtyping_8h_source.html#l00068">v8::internal::wasm::IsSubtypeOf()</a>, <a class="el" href="namespacev8_1_1internal.html#abb767b639fb9b3ebabe15c8e91e99210a941c992a0e3d2eb28203202730996ba2">v8::internal::kF32</a>, <a class="el" href="namespacev8_1_1internal.html#abb767b639fb9b3ebabe15c8e91e99210a5234930e162acb53b17e178221057319">v8::internal::kF64</a>, <a class="el" href="namespacev8_1_1internal.html#abb767b639fb9b3ebabe15c8e91e99210a1201e21104cbb7ea3a7c362efcb325a3">v8::internal::kI16</a>, <a class="el" href="namespacev8_1_1internal.html#abb767b639fb9b3ebabe15c8e91e99210a0a0ecdb4eded286c722877578774a293">v8::internal::kI32</a>, <a class="el" href="namespacev8_1_1internal.html#abb767b639fb9b3ebabe15c8e91e99210a6601e7b0f7c0f03d9ffa9f222c82e6a0">v8::internal::kI64</a>, <a class="el" href="namespacev8_1_1internal.html#abb767b639fb9b3ebabe15c8e91e99210a6c86e764d5c427a8339c3920a3c08603">v8::internal::kI8</a>, <a class="el" href="value-type_8h_source.html#l00637">v8::internal::wasm::ValueTypeBase::kind()</a>, <a class="el" href="namespacev8_1_1internal.html#abb767b639fb9b3ebabe15c8e91e99210ab5b96df89f6d4b5436a728a5a4014d83">v8::internal::kRef</a>, <a class="el" href="namespacev8_1_1internal.html#abb767b639fb9b3ebabe15c8e91e99210aafd4fc7d3d7d9d9bc84ef9f0fd3d09c3">v8::internal::kRefNull</a>, <a class="el" href="namespacev8_1_1internal.html#abb767b639fb9b3ebabe15c8e91e99210af99a6cf928bc2257d654d6301969318c">v8::internal::kS128</a>, <a class="el" href="value-type_8h_source.html#l01247">v8::internal::wasm::kWasmS128</a>, <a class="el" href="module-instantiate_8cc_source.html#l01230">module_</a>, <a class="el" href="wasm-module_8h_source.html#l00095">v8::internal::wasm::WasmGlobal::mutability</a>, <a class="el" href="wasm-module_8h_source.html#l00680">v8::internal::wasm::WasmModule::num_imported_mutable_globals</a>, <a class="el" href="module-instantiate_8cc_source.html#l00050">v8::internal::wasm::anonymous_namespace{module-instantiate.cc}::raw_buffer_ptr()</a>, <a class="el" href="value-type_8h_source.html#l01018">v8::internal::wasm::ValueType::ref_index()</a>, <a class="el" href="check_8h_source.html#l00054">SBXCHECK</a>, <a class="el" href="module-instantiate_8cc_source.html#l01231">thrower_</a>, <a class="el" href="wasm-module_8h_source.html#l00094">v8::internal::wasm::WasmGlobal::type</a>, <a class="el" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">v8::internal::UNREACHABLE()</a>, <a class="el" href="map-inl_8h_source.html#l00912">v8::internal::value</a>, and <a class="el" href="module-instantiate_8cc_source.html#l02139">WriteGlobalValue()</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l02586">ProcessImportedGlobal()</a>.</p>
<div id="dynsection-41" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-41-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-41-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-41-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a90f3564ad83fe14d055f99d3d9fff166_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-42" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-42-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-42-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-42-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a90f3564ad83fe14d055f99d3d9fff166_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a1dd661a91a2054913525990d4d6def25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1dd661a91a2054913525990d4d6def25">&#9670;&nbsp;</a></span>ProcessImports()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classint.html">int</a> v8::internal::wasm::InstanceBuilder::ProcessImports </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l02686">2686</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;                                    {</div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;  <span class="keywordtype">int</span> num_imported_functions = 0;</div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;  <span class="keywordtype">int</span> num_imported_tables = 0;</div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160; </div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a4f710e1d1dd945669cbebae2b51835e5">import_table</a>.size(), <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a5dadf45ab32816f8ffdb69a10544a956">sanitized_imports_</a>.size());</div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160; </div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;  <span class="keyword">const</span> WellKnownImportsList&amp; preknown_imports =</div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#aceb39daaf893b7024baceccf7571a97d">type_feedback</a>.<a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeFeedbackStorage.html#a2f59640a40aae70550d8eda5f0f89c5f">well_known_imports</a>;</div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;  <span class="keywordtype">int</span> num_imports = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a4f710e1d1dd945669cbebae2b51835e5">import_table</a>.size());</div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = 0; <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> &lt; num_imports; ++<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>) {</div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;    <span class="keyword">const</span> WasmImport&amp; <span class="keyword">import</span> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a4f710e1d1dd945669cbebae2b51835e5">import_table</a>[<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>];</div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160; </div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;    DirectHandle&lt;Object&gt; <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a5dadf45ab32816f8ffdb69a10544a956">sanitized_imports_</a>[<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>];</div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160; </div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;    <span class="keywordflow">switch</span> (<span class="keyword">import</span>.kind) {</div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#acb10c8534fdb3edc15e3f45d7ee6d547a841c234519f90eb88be0020af3622a4d">kExternalFunction</a>: {</div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;        uint32_t func_index = <span class="keyword">import</span>.index;</div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(num_imported_functions, func_index);</div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;        ModuleTypeIndex sig_index = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a79b743888793de4a17ae53dd93988de6">functions</a>[func_index].sig_index;</div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;        <span class="keywordtype">bool</span> function_is_shared = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a89e37309b6619867746a4cf77adcaa2a">type</a>(sig_index).<a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeDefinition.html#acc6533d7fffb2a411e20b62f7512038e">is_shared</a>;</div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#af8b0f7163912ee8ba7dc6cfaec3c0138">ProcessImportedFunction</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aad6f1251ab50c21c71d213e91b1bbc2e">trusted_data</a>(function_is_shared), <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>,</div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;                                     func_index, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>,</div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;                                     preknown_imports.get(func_index))) {</div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;          <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;        }</div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;        num_imported_functions++;</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;      }</div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#acb10c8534fdb3edc15e3f45d7ee6d547affbe8f8322be98ba205f863ef39fdad5">kExternalTable</a>: {</div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;        uint32_t table_index = <span class="keyword">import</span>.index;</div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(table_index, num_imported_tables);</div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;        <span class="keywordtype">bool</span> table_is_shared = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#af40a46c2d14efc9c68b499d7a459d9b0">tables</a>[table_index].shared;</div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99b1a438d60e812d57059be2103951cc">ProcessImportedTable</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aad6f1251ab50c21c71d213e91b1bbc2e">trusted_data</a>(table_is_shared), <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>,</div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;                                  table_index, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;          <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;        }</div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;        num_imported_tables++;</div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;        <a class="code" href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a>(num_imported_tables);</div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;      }</div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#acb10c8534fdb3edc15e3f45d7ee6d547a9e82a6c120c240d5819852ec01c3bf9b">kExternalMemory</a>:</div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;        <span class="comment">// Imported memories are already handled earlier via</span></div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;        <span class="comment">// {ProcessImportedMemories}.</span></div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#acb10c8534fdb3edc15e3f45d7ee6d547a6f3a1cfcc3386739303f7d10b0075ac5">kExternalGlobal</a>: {</div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;        <span class="keywordtype">bool</span> global_is_shared = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#ac6101242a2a805d0e982fff4ddcc4677">globals</a>[<span class="keyword">import</span>.index].shared;</div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ab312bd78f66545c510a7670c7da5e2ab">ProcessImportedGlobal</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aad6f1251ab50c21c71d213e91b1bbc2e">trusted_data</a>(global_is_shared), <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>,</div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;                                   <span class="keyword">import</span>.<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;          <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;        }</div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;      }</div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#acb10c8534fdb3edc15e3f45d7ee6d547a53e55104d1626728a0b2a5285888ff8e">kExternalTag</a>: {</div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;        <span class="comment">// TODO(14616): Implement shared tags.</span></div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;        <span class="keywordflow">if</span> (!IsWasmTagObject(*<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;          <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>-&gt;LinkError(<span class="stringliteral">&quot;%s: tag import requires a WebAssembly.Tag&quot;</span>,</div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;                              <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ab5cdfd1a6d96ac77038c87b059b4d04e">ImportName</a>(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>).c_str());</div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;          <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;        }</div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;        DirectHandle&lt;WasmTagObject&gt; imported_tag = Cast&lt;WasmTagObject&gt;(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;        <span class="keywordflow">if</span> (!imported_tag-&gt;MatchesSignature(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a80ed14bf76cb65cc93c6c9ba1b56f75c">canonical_sig_id</a>(</div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;                <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#ab543c357d83ca4ab20ea9f13a6656f85">tags</a>[<span class="keyword">import</span>.index].sig_index))) {</div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;          <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>-&gt;LinkError(</div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;              <span class="stringliteral">&quot;%s: imported tag does not match the expected type&quot;</span>,</div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;              <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ab5cdfd1a6d96ac77038c87b059b4d04e">ImportName</a>(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>).c_str());</div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;          <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;        }</div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#a5297fd2c72981b2220e6b9a831570fb3">Tagged&lt;Object&gt;</a> tag = imported_tag-&gt;tag();</div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(IsUndefined(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aea7551d380bf83fce78fac6dae327a78">trusted_data_</a>-&gt;tags_table()-&gt;get(<span class="keyword">import</span>.index)));</div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aea7551d380bf83fce78fac6dae327a78">trusted_data_</a>-&gt;tags_table()-&gt;set(<span class="keyword">import</span>.<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, tag);</div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a725cea88ca63b898d35df6e718bd7b98">tags_wrappers_</a>[<span class="keyword">import</span>.index] = imported_tag;</div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;      }</div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;    }</div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;  }</div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;  <span class="keywordflow">if</span> (num_imported_functions &gt; 0) {</div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ad9acbe63776578c8905fa72206177a2c">module_object_</a>-&gt;native_module()-&gt;UpdateWellKnownImports(</div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;        <a class="code" href="namespacev8_1_1base.html#a5bfc65f27076e49eb7752a4fb4d45acb">base::VectorOf</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a6a6039aec9f6f9486a58ddc7c4f999d2">well_known_imports_</a>));</div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;  }</div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;  <span class="keywordflow">return</span> num_imported_functions;</div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1InstanceBuilder_html_a99b1a438d60e812d57059be2103951cc"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99b1a438d60e812d57059be2103951cc">v8::internal::wasm::InstanceBuilder::ProcessImportedTable</a></div><div class="ttdeci">bool ProcessImportedTable(DirectHandle&lt; WasmTrustedInstanceData &gt; trusted_instance_data, int import_index, int table_index, DirectHandle&lt; Object &gt; value)</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l02406">module-instantiate.cc:2406</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1InstanceBuilder_html_ab312bd78f66545c510a7670c7da5e2ab"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ab312bd78f66545c510a7670c7da5e2ab">v8::internal::wasm::InstanceBuilder::ProcessImportedGlobal</a></div><div class="ttdeci">bool ProcessImportedGlobal(DirectHandle&lt; WasmTrustedInstanceData &gt; trusted_instance_data, int import_index, int global_index, DirectHandle&lt; Object &gt; value)</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l02586">module-instantiate.cc:2586</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1InstanceBuilder_html_af8b0f7163912ee8ba7dc6cfaec3c0138"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#af8b0f7163912ee8ba7dc6cfaec3c0138">v8::internal::wasm::InstanceBuilder::ProcessImportedFunction</a></div><div class="ttdeci">bool ProcessImportedFunction(DirectHandle&lt; WasmTrustedInstanceData &gt; trusted_instance_data, int import_index, int func_index, DirectHandle&lt; Object &gt; value, WellKnownImport preknown_import)</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l02297">module-instantiate.cc:2297</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a5bfc65f27076e49eb7752a4fb4d45acb"><div class="ttname"><a href="namespacev8_1_1base.html#a5bfc65f27076e49eb7752a4fb4d45acb">v8::base::VectorOf</a></div><div class="ttdeci">constexpr Vector&lt; T &gt; VectorOf(T *start, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="vector_8h_source.html#l00359">vector.h:359</a></div></div>
<div class="ttc" id="asrc_2base_2macros_8h_html_a280b0798f270f4b3f361c9ab64832956"><div class="ttname"><a href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a></div><div class="ttdeci">#define USE(...)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2macros_8h_source.html#l00293">macros.h:293</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1TypeFeedbackStorage_html_a2f59640a40aae70550d8eda5f0f89c5f"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1TypeFeedbackStorage.html#a2f59640a40aae70550d8eda5f0f89c5f">v8::internal::wasm::TypeFeedbackStorage::well_known_imports</a></div><div class="ttdeci">WellKnownImportsList well_known_imports</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00644">wasm-module.h:644</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_aceb39daaf893b7024baceccf7571a97d"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#aceb39daaf893b7024baceccf7571a97d">v8::internal::wasm::WasmModule::type_feedback</a></div><div class="ttdeci">TypeFeedbackStorage type_feedback</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00732">wasm-module.h:732</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-module_8h_source.html#l00850">v8::internal::wasm::WasmModule::canonical_sig_id()</a>, <a class="el" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00484">DCHECK_EQ</a>, <a class="el" href="wasm-module_8h_source.html#l00714">v8::internal::wasm::WasmModule::functions</a>, <a class="el" href="well-known-imports_8h_source.html#l00144">v8::internal::wasm::WellKnownImportsList::get()</a>, <a class="el" href="wasm-module_8h_source.html#l00715">v8::internal::wasm::WasmModule::globals</a>, <a class="el" href="wasm-module_8h_source.html#l00719">v8::internal::wasm::WasmModule::import_table</a>, <a class="el" href="module-instantiate_8cc_source.html#l01257">ImportName()</a>, <a class="el" href="heap-snapshot-generator_8cc_source.html#l01698">v8::internal::index</a>, <a class="el" href="wasm-module_8h_source.html#l00481">v8::internal::wasm::TypeDefinition::is_shared</a>, <a class="el" href="wasm-constants_8h_source.html#l00079">v8::internal::wasm::kExternalFunction</a>, <a class="el" href="wasm-constants_8h_source.html#l00082">v8::internal::wasm::kExternalGlobal</a>, <a class="el" href="wasm-constants_8h_source.html#l00081">v8::internal::wasm::kExternalMemory</a>, <a class="el" href="wasm-constants_8h_source.html#l00080">v8::internal::wasm::kExternalTable</a>, <a class="el" href="wasm-constants_8h_source.html#l00083">v8::internal::wasm::kExternalTag</a>, <a class="el" href="module-instantiate_8cc_source.html#l01230">module_</a>, <a class="el" href="module-instantiate_8cc_source.html#l01232">module_object_</a>, <a class="el" href="module-instantiate_8cc_source.html#l02297">ProcessImportedFunction()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02586">ProcessImportedGlobal()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02406">ProcessImportedTable()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01244">sanitized_imports_</a>, <a class="el" href="wasm-module_8h_source.html#l00717">v8::internal::wasm::WasmModule::tables</a>, <a class="el" href="wasm-module_8h_source.html#l00721">v8::internal::wasm::WasmModule::tags</a>, <a class="el" href="module-instantiate_8cc_source.html#l01241">tags_wrappers_</a>, <a class="el" href="module-instantiate_8cc_source.html#l01231">thrower_</a>, <a class="el" href="module-instantiate_8cc_source.html#l01253">trusted_data()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01233">trusted_data_</a>, <a class="el" href="wasm-module_8h_source.html#l00801">v8::internal::wasm::WasmModule::type()</a>, <a class="el" href="wasm-module_8h_source.html#l00732">v8::internal::wasm::WasmModule::type_feedback</a>, <a class="el" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">v8::internal::UNREACHABLE()</a>, <a class="el" href="src_2base_2macros_8h_source.html#l00293">USE</a>, <a class="el" href="map-inl_8h_source.html#l00912">v8::internal::value</a>, <a class="el" href="vector_8h_source.html#l00359">v8::base::VectorOf()</a>, <a class="el" href="wasm-module_8h_source.html#l00644">v8::internal::wasm::TypeFeedbackStorage::well_known_imports</a>, and <a class="el" href="module-instantiate_8cc_source.html#l01245">well_known_imports_</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l01493">Build_Phase1()</a>.</p>
<div id="dynsection-43" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-43-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-43-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-43-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a1dd661a91a2054913525990d4d6def25_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-44" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-44-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-44-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-44-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a1dd661a91a2054913525990d4d6def25_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a1a1ad8fdce6b621e61b911257faf452e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a1ad8fdce6b621e61b911257faf452e">&#9670;&nbsp;</a></span>SanitizeImports()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::InstanceBuilder::SanitizeImports </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l02224">2224</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;                                      {</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;  NativeModule* native_module = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ad9acbe63776578c8905fa72206177a2c">module_object_</a>-&gt;native_module();</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;  base::Vector&lt;const uint8_t&gt; wire_bytes = native_module-&gt;wire_bytes();</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;  <span class="keyword">const</span> WellKnownImportsList&amp; well_known_imports =</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#aceb39daaf893b7024baceccf7571a97d">type_feedback</a>.<a class="code" href="structv8_1_1internal_1_1wasm_1_1TypeFeedbackStorage.html#a2f59640a40aae70550d8eda5f0f89c5f">well_known_imports</a>;</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a>&amp; magic_string_constants =</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;      native_module-&gt;compile_imports().constants_module();</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> has_magic_string_constants =</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;      native_module-&gt;compile_imports().contains(</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;          <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a17aedf25fa2edcefae3f561a222df0e7a487d62cc130443095f31ce193e91fb8c">CompileTimeImport::kStringConstants</a>);</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;  <span class="keyword">const</span> std::vector&lt;WasmImport&gt;&amp; import_table = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a4f710e1d1dd945669cbebae2b51835e5">import_table</a>;</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a5dadf45ab32816f8ffdb69a10544a956">sanitized_imports_</a>.resize(import_table.size());</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160; </div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.experimental_wasm_custom_descriptors &amp;&amp;</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;      !<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a2c4c94aeb69751643127eb705f7e827b">descriptors_section</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1WireBytesRef.html#a45fb66d092f08cdf54005a1ebdfbd901">is_empty</a>()) {</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ae150ecd9dff43cb0c32a10fb3da28731">js_prototypes_setup_</a>.emplace(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, wire_bytes, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>,</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;                                 <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a5dadf45ab32816f8ffdb69a10544a956">sanitized_imports_</a>);</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ae150ecd9dff43cb0c32a10fb3da28731">js_prototypes_setup_</a>-&gt;MaterializeDescriptorOptions(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a13cbcfe18596d4900f82afd2e3f434db">ffi_</a>);</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1ErrorThrower.html#a603a53d1ac3dddd81154744ff36db838">error</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;  }</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160; </div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;  <span class="keywordflow">for</span> (uint32_t <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = 0; <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> &lt; import_table.size(); ++<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>) {</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a5dadf45ab32816f8ffdb69a10544a956">sanitized_imports_</a>[<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>].is_null()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;    <span class="keyword">const</span> WasmImport&amp; <span class="keyword">import</span> = import_table[<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>];</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160; </div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">import</span>.kind == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#acb10c8534fdb3edc15e3f45d7ee6d547a6f3a1cfcc3386739303f7d10b0075ac5">kExternalGlobal</a> &amp;&amp; has_magic_string_constants &amp;&amp;</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;        <span class="keyword">import</span>.module_name.length() == magic_string_constants.size() &amp;&amp;</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a517021b4069b42dd6e6f69d4066e227a">std::equal</a>(magic_string_constants.begin(), magic_string_constants.end(),</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;                   wire_bytes.begin() + <span class="keyword">import</span>.module_name.offset())) {</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;      DirectHandle&lt;String&gt; <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> =</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;          <a class="code" href="classv8_1_1internal_1_1WasmModuleObject.html#aad63556c675d28c5823c6f4ca765c67d">WasmModuleObject::ExtractUtf8StringFromModuleBytes</a>(</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;              <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, wire_bytes, <span class="keyword">import</span>.field_name, <a class="code" href="namespacev8_1_1internal.html#a00e6a81b8b499c814a011d90853897fba81b23a97077ceef0f9633d2041ae1737">kNoInternalize</a>);</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a5dadf45ab32816f8ffdb69a10544a956">sanitized_imports_</a>[<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>] = <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>;</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;    }</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160; </div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">import</span>.kind == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#acb10c8534fdb3edc15e3f45d7ee6d547a841c234519f90eb88be0020af3622a4d">kExternalFunction</a>) {</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1wasm.html#afaaaa7fd7a0bc697a4d91133566c5c6e">WellKnownImport</a> wki = well_known_imports.get(<span class="keyword">import</span>.<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>);</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a015e40bd37e0325b17795e30b6101201">IsCompileTimeImport</a>(wki)) {</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;        DirectHandle&lt;JSFunction&gt; fun =</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;            <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ab965d861f0864392f3486cef73e42103">CreateFunctionForCompileTimeImport</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, wki);</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a5dadf45ab32816f8ffdb69a10544a956">sanitized_imports_</a>[<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>] = fun;</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;      }</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;    }</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160; </div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a13cbcfe18596d4900f82afd2e3f434db">ffi_</a>.is_null()) {</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;      <span class="comment">// No point in continuing if we don&#39;t have an imports object.</span></div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>-&gt;TypeError(</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;          <span class="stringliteral">&quot;Imports argument must be present and must be an object&quot;</span>);</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;    }</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160; </div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;    DirectHandle&lt;String&gt; module_name =</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;        <a class="code" href="classv8_1_1internal_1_1WasmModuleObject.html#aad63556c675d28c5823c6f4ca765c67d">WasmModuleObject::ExtractUtf8StringFromModuleBytes</a>(</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;            <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, wire_bytes, <span class="keyword">import</span>.module_name, <a class="code" href="namespacev8_1_1internal.html#a00e6a81b8b499c814a011d90853897fbaa318ae4b40399d5743b89f5acc1bcc7b">kInternalize</a>);</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160; </div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;    DirectHandle&lt;String&gt; import_name =</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;        <a class="code" href="classv8_1_1internal_1_1WasmModuleObject.html#aad63556c675d28c5823c6f4ca765c67d">WasmModuleObject::ExtractUtf8StringFromModuleBytes</a>(</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;            <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, wire_bytes, <span class="keyword">import</span>.field_name, <a class="code" href="namespacev8_1_1internal.html#a00e6a81b8b499c814a011d90853897fbaa318ae4b40399d5743b89f5acc1bcc7b">kInternalize</a>);</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160; </div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;    MaybeDirectHandle&lt;Object&gt; <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> =</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;        <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a70bbfcab50b20ba5da8696e0373a8af4">is_asmjs_module</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>)</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;            ? <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a45625160696bb8741a820c7cf2a0b5af">LookupImportAsm</a>(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, import_name)</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;            : <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a5267721eb2f9ae3eacdd640338001da9">LookupImport</a>(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, module_name, import_name);</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1ErrorThrower.html#a603a53d1ac3dddd81154744ff36db838">error</a>()) {</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;    }</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;    DirectHandle&lt;Object&gt; <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.ToHandleChecked();</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a5dadf45ab32816f8ffdb69a10544a956">sanitized_imports_</a>[<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>] = <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>;</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;  }</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1InstanceBuilder_html_a45625160696bb8741a820c7cf2a0b5af"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a45625160696bb8741a820c7cf2a0b5af">v8::internal::wasm::InstanceBuilder::LookupImportAsm</a></div><div class="ttdeci">MaybeDirectHandle&lt; Object &gt; LookupImportAsm(uint32_t index, DirectHandle&lt; String &gt; import_name)</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l02048">module-instantiate.cc:2048</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1InstanceBuilder_html_a5267721eb2f9ae3eacdd640338001da9"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a5267721eb2f9ae3eacdd640338001da9">v8::internal::wasm::InstanceBuilder::LookupImport</a></div><div class="ttdeci">MaybeDirectHandle&lt; Object &gt; LookupImport(uint32_t index, DirectHandle&lt; String &gt; module_name, DirectHandle&lt; String &gt; import_name)</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l01971">module-instantiate.cc:1971</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WireBytesRef_html_a45fb66d092f08cdf54005a1ebdfbd901"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WireBytesRef.html#a45fb66d092f08cdf54005a1ebdfbd901">v8::internal::wasm::WireBytesRef::is_empty</a></div><div class="ttdeci">bool is_empty() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00072">wasm-module.h:72</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a015e40bd37e0325b17795e30b6101201"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a015e40bd37e0325b17795e30b6101201">v8::internal::wasm::IsCompileTimeImport</a></div><div class="ttdeci">bool IsCompileTimeImport(WellKnownImport wki)</div><div class="ttdef"><b>Definition:</b> <a href="well-known-imports_8h_source.html#l00111">well-known-imports.h:111</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a17aedf25fa2edcefae3f561a222df0e7a487d62cc130443095f31ce193e91fb8c"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a17aedf25fa2edcefae3f561a222df0e7a487d62cc130443095f31ce193e91fb8c">v8::internal::wasm::CompileTimeImport::kStringConstants</a></div><div class="ttdeci">@ kStringConstants</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ab965d861f0864392f3486cef73e42103"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ab965d861f0864392f3486cef73e42103">v8::internal::wasm::CreateFunctionForCompileTimeImport</a></div><div class="ttdeci">DirectHandle&lt; JSFunction &gt; CreateFunctionForCompileTimeImport(Isolate *isolate, WellKnownImport wki)</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8cc_source.html#l02186">module-instantiate.cc:2186</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_afaaaa7fd7a0bc697a4d91133566c5c6e"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#afaaaa7fd7a0bc697a4d91133566c5c6e">v8::internal::wasm::WellKnownImport</a></div><div class="ttdeci">WellKnownImport</div><div class="ttdef"><b>Definition:</b> <a href="well-known-imports_8h_source.html#l00019">well-known-imports.h:19</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a00e6a81b8b499c814a011d90853897fba81b23a97077ceef0f9633d2041ae1737"><div class="ttname"><a href="namespacev8_1_1internal.html#a00e6a81b8b499c814a011d90853897fba81b23a97077ceef0f9633d2041ae1737">v8::internal::kNoInternalize</a></div><div class="ttdeci">@ kNoInternalize</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8h_source.html#l00161">wasm-objects.h:161</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a271f8ea99b7c0bbd771df015d4e4cf21a517021b4069b42dd6e6f69d4066e227a"><div class="ttname"><a href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a517021b4069b42dd6e6f69d4066e227a">v8::internal::equal</a></div><div class="ttdeci">@ equal</div><div class="ttdef"><b>Definition:</b> <a href="assembler-ia32_8h_source.html#l00063">assembler-ia32.h:63</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_af68b330f02476361ab10f531933b3381"><div class="ttname"><a href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">v8::internal::string</a></div><div class="ttdeci">template const char * string</div><div class="ttdef"><b>Definition:</b> <a href="conversions_8cc_source.html#l01119">conversions.cc:1119</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_a2c4c94aeb69751643127eb705f7e827b"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a2c4c94aeb69751643127eb705f7e827b">v8::internal::wasm::WasmModule::descriptors_section</a></div><div class="ttdeci">WireBytesRef descriptors_section</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00702">wasm-module.h:702</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="vector_8h_source.html#l00096">v8::base::Vector&lt; T &gt;::begin()</a>, <a class="el" href="wasm-code-manager_8h_source.html#l00829">v8::internal::wasm::NativeModule::compile_imports()</a>, <a class="el" href="wasm-features_8h_source.html#l00191">v8::internal::wasm::CompileTimeImports::constants_module()</a>, <a class="el" href="wasm-features_8h_source.html#l00181">v8::internal::wasm::CompileTimeImports::contains()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02186">v8::internal::wasm::CreateFunctionForCompileTimeImport()</a>, <a class="el" href="wasm-module_8h_source.html#l00702">v8::internal::wasm::WasmModule::descriptors_section</a>, <a class="el" href="assembler-ia32_8h_source.html#l00063">v8::internal::equal</a>, <a class="el" href="wasm-result_8h_source.html#l00149">v8::internal::wasm::ErrorThrower::error()</a>, <a class="el" href="wasm-objects_8cc_source.html#l00136">v8::internal::WasmModuleObject::ExtractUtf8StringFromModuleBytes()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01235">ffi_</a>, <a class="el" href="well-known-imports_8h_source.html#l00144">v8::internal::wasm::WellKnownImportsList::get()</a>, <a class="el" href="wasm-module_8h_source.html#l00719">v8::internal::wasm::WasmModule::import_table</a>, <a class="el" href="heap-snapshot-generator_8cc_source.html#l01698">v8::internal::index</a>, <a class="el" href="wasm-module_8h_source.html#l00961">v8::internal::wasm::is_asmjs_module()</a>, <a class="el" href="wasm-module_8h_source.html#l00072">v8::internal::wasm::WireBytesRef::is_empty()</a>, <a class="el" href="well-known-imports_8h_source.html#l00111">v8::internal::wasm::IsCompileTimeImport()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01227">isolate_</a>, <a class="el" href="module-instantiate_8cc_source.html#l01246">js_prototypes_setup_</a>, <a class="el" href="wasm-constants_8h_source.html#l00079">v8::internal::wasm::kExternalFunction</a>, <a class="el" href="wasm-constants_8h_source.html#l00082">v8::internal::wasm::kExternalGlobal</a>, <a class="el" href="wasm-objects_8h_source.html#l00161">v8::internal::kInternalize</a>, <a class="el" href="wasm-objects_8h_source.html#l00161">v8::internal::kNoInternalize</a>, <a class="el" href="namespacev8_1_1internal_1_1wasm.html#a17aedf25fa2edcefae3f561a222df0e7a487d62cc130443095f31ce193e91fb8c">v8::internal::wasm::kStringConstants</a>, <a class="el" href="module-instantiate_8cc_source.html#l01971">LookupImport()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02048">LookupImportAsm()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01230">module_</a>, <a class="el" href="module-instantiate_8cc_source.html#l01232">module_object_</a>, <a class="el" href="clamped__math__impl_8h_source.html#l00082">v8::base::internal::result</a>, <a class="el" href="module-instantiate_8cc_source.html#l01244">sanitized_imports_</a>, <a class="el" href="conversions_8cc_source.html#l01119">v8::internal::string</a>, <a class="el" href="module-instantiate_8cc_source.html#l01231">thrower_</a>, <a class="el" href="wasm-module_8h_source.html#l00732">v8::internal::wasm::WasmModule::type_feedback</a>, <a class="el" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a>, <a class="el" href="map-inl_8h_source.html#l00912">v8::internal::value</a>, <a class="el" href="wasm-module_8h_source.html#l00644">v8::internal::wasm::TypeFeedbackStorage::well_known_imports</a>, and <a class="el" href="wasm-code-manager_8h_source.html#l00763">v8::internal::wasm::NativeModule::wire_bytes()</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l01453">Build()</a>.</p>
<div id="dynsection-45" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-45-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-45-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-45-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a1a1ad8fdce6b621e61b911257faf452e_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-46" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-46-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-46-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-46-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a1a1ad8fdce6b621e61b911257faf452e_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a2d8bc64719afc7f939af91de40590dd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d8bc64719afc7f939af91de40590dd4">&#9670;&nbsp;</a></span>SetTableInitialValues()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::InstanceBuilder::SetTableInitialValues </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l03114">3114</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;                                            {</div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> table_index = 0;</div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;       table_index &lt; static_cast&lt;int&gt;(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#af40a46c2d14efc9c68b499d7a459d9b0">tables</a>.size()); ++table_index) {</div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;    <span class="keyword">const</span> WasmTable&amp; table = <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#af40a46c2d14efc9c68b499d7a459d9b0">tables</a>[table_index];</div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;    DirectHandle&lt;WasmTrustedInstanceData&gt; maybe_shared_data =</div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aad6f1251ab50c21c71d213e91b1bbc2e">trusted_data</a>(table.shared);</div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;    <span class="comment">// We must not modify imported tables yet when this is run, because</span></div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;    <span class="comment">// we can&#39;t know yet whether the new instance can be successfully</span></div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;    <span class="comment">// initialized.</span></div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(table.imported, !table.initial_value.is_set());</div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;    <span class="keywordflow">if</span> (!table.initial_value.is_set()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;    DirectHandle&lt;WasmTableObject&gt; table_object(</div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;        Cast&lt;WasmTableObject&gt;(maybe_shared_data-&gt;tables()-&gt;get(table_index)),</div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>);</div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;    <span class="keywordtype">bool</span> is_function_table = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a3c8e5205c40b2156097780fb9e7d3f7b">IsSubtypeOf</a>(table.type, <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a90941f620285a912a302a3aced092560">kWasmFuncRef</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>);</div>
<div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;    <span class="keywordflow">if</span> (is_function_table &amp;&amp;</div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;        table.initial_value.kind() == <a class="code" href="classv8_1_1internal_1_1wasm_1_1ConstantExpression.html#a5faac3cc6dbe05b9629ccf99ba161455a3cec7a767a7494a831685160b918dfe4">ConstantExpression::Kind::kRefFunc</a>) {</div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;      <span class="keywordflow">for</span> (uint32_t entry_index = 0; entry_index &lt; table.initial_size;</div>
<div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;           entry_index++) {</div>
<div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;        <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03.html#ac7a772dcc24c13b0ad3abf76d4b0a771">SetFunctionTablePlaceholder</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, maybe_shared_data, table_object,</div>
<div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;                                    entry_index, table.initial_value.index());</div>
<div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;      }</div>
<div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (is_function_table &amp;&amp; table.initial_value.kind() ==</div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;                                        <a class="code" href="classv8_1_1internal_1_1wasm_1_1ConstantExpression.html#a5faac3cc6dbe05b9629ccf99ba161455aafd4fc7d3d7d9d9bc84ef9f0fd3d09c3">ConstantExpression::Kind::kRefNull</a>) {</div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;      <span class="keywordflow">for</span> (uint32_t entry_index = 0; entry_index &lt; table.initial_size;</div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;           entry_index++) {</div>
<div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;        <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03.html#a90a4a187461235dd41109b9941366f34">SetFunctionTableNullEntry</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, table_object, entry_index);</div>
<div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;      }</div>
<div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ae996872b27cf7b0b9951c658613a8d20">ValueOrError</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a7444b7caaf83466659a2efde4f77457a">EvaluateConstantExpression</a>(</div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;          &amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ab230138dba8632d53ff8e394a35551ee">init_expr_zone_</a>, table.initial_value, table.type, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>,</div>
<div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;          maybe_shared_data, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ad89c98fe73daab093f44575c4e5c7b4f">shared_trusted_data_</a>);</div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03.html#a22842750d51679c6a85b7ac9487aa008">MaybeMarkError</a>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a12c3565e5c8e45732d8390d8bacf0709">thrower_</a>)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;      <span class="keywordflow">for</span> (uint32_t entry_index = 0; entry_index &lt; table.initial_size;</div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;           entry_index++) {</div>
<div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;        <a class="code" href="classv8_1_1internal_1_1WasmTableObject.html#acfdec070b48fe34a36f7aa7fed63a969">WasmTableObject::Set</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a99f982ddb5d298edcef493207d213159">isolate_</a>, table_object, entry_index,</div>
<div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;                             <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a4a2e42081079a3b383768146a60b9cd8">to_value</a>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>).to_ref());</div>
<div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;      }</div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;    }</div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;  }</div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1ConstantExpression_html_a5faac3cc6dbe05b9629ccf99ba161455a3cec7a767a7494a831685160b918dfe4"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1ConstantExpression.html#a5faac3cc6dbe05b9629ccf99ba161455a3cec7a767a7494a831685160b918dfe4">v8::internal::wasm::ConstantExpression::Kind::kRefFunc</a></div><div class="ttdeci">@ kRefFunc</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1ConstantExpression_html_a5faac3cc6dbe05b9629ccf99ba161455aafd4fc7d3d7d9d9bc84ef9f0fd3d09c3"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1ConstantExpression.html#a5faac3cc6dbe05b9629ccf99ba161455aafd4fc7d3d7d9d9bc84ef9f0fd3d09c3">v8::internal::wasm::ConstantExpression::Kind::kRefNull</a></div><div class="ttdeci">@ kRefNull</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="src_2base_2logging_8h_source.html#l00492">DCHECK_IMPLIES</a>, <a class="el" href="constant-expression_8cc_source.html#l00029">v8::internal::wasm::EvaluateConstantExpression()</a>, <a class="el" href="wasm-module_8h_source.html#l00658">v8::internal::wasm::WasmTable::imported</a>, <a class="el" href="constant-expression_8h_source.html#l00069">v8::internal::wasm::ConstantExpression::index()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01251">init_expr_zone_</a>, <a class="el" href="wasm-module_8h_source.html#l00651">v8::internal::wasm::WasmTable::initial_size</a>, <a class="el" href="wasm-module_8h_source.html#l00660">v8::internal::wasm::WasmTable::initial_value</a>, <a class="el" href="constant-expression_8h_source.html#l00067">v8::internal::wasm::ConstantExpression::is_set()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01227">isolate_</a>, <a class="el" href="wasm-subtyping_8h_source.html#l00068">v8::internal::wasm::IsSubtypeOf()</a>, <a class="el" href="constant-expression_8h_source.html#l00065">v8::internal::wasm::ConstantExpression::kind()</a>, <a class="el" href="classv8_1_1internal_1_1wasm_1_1ConstantExpression.html#a5faac3cc6dbe05b9629ccf99ba161455a3cec7a767a7494a831685160b918dfe4">v8::internal::wasm::ConstantExpression::kRefFunc</a>, <a class="el" href="classv8_1_1internal_1_1wasm_1_1ConstantExpression.html#a5faac3cc6dbe05b9629ccf99ba161455aafd4fc7d3d7d9d9bc84ef9f0fd3d09c3">v8::internal::wasm::ConstantExpression::kRefNull</a>, <a class="el" href="value-type_8h_source.html#l01256">v8::internal::wasm::kWasmFuncRef</a>, <a class="el" href="module-instantiate_8cc_source.html#l02034">v8::internal::wasm::anonymous_namespace{module-instantiate.cc}::MaybeMarkError()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01230">module_</a>, <a class="el" href="clamped__math__impl_8h_source.html#l00082">v8::base::internal::result</a>, <a class="el" href="wasm-objects_8cc_source.html#l00379">v8::internal::WasmTableObject::Set()</a>, <a class="el" href="module-instantiate_8cc_source.html#l03106">v8::internal::wasm::anonymous_namespace{module-instantiate.cc}::SetFunctionTableNullEntry()</a>, <a class="el" href="module-instantiate_8cc_source.html#l03083">v8::internal::wasm::anonymous_namespace{module-instantiate.cc}::SetFunctionTablePlaceholder()</a>, <a class="el" href="wasm-module_8h_source.html#l00657">v8::internal::wasm::WasmTable::shared</a>, <a class="el" href="module-instantiate_8cc_source.html#l01234">shared_trusted_data_</a>, <a class="el" href="wasm-module_8h_source.html#l00717">v8::internal::wasm::WasmModule::tables</a>, <a class="el" href="module-instantiate_8cc_source.html#l01231">thrower_</a>, <a class="el" href="constant-expression_8h_source.html#l00126">v8::internal::wasm::to_value()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01253">trusted_data()</a>, and <a class="el" href="wasm-module_8h_source.html#l00650">v8::internal::wasm::WasmTable::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l01493">Build_Phase1()</a>.</p>
<div id="dynsection-47" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-47-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-47-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-47-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a2d8bc64719afc7f939af91de40590dd4_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-48" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-48-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-48-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-48-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a2d8bc64719afc7f939af91de40590dd4_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="aad6f1251ab50c21c71d213e91b1bbc2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad6f1251ab50c21c71d213e91b1bbc2e">&#9670;&nbsp;</a></span>trusted_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt;<a class="el" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html">WasmTrustedInstanceData</a>&gt; v8::internal::wasm::InstanceBuilder::trusted_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a>&#160;</td>
          <td class="paramname"><em>shared</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l01253">1253</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;                                                                        {</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;    <span class="keywordflow">return</span> shared ? <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#ad89c98fe73daab093f44575c4e5c7b4f">shared_trusted_data_</a> : <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aea7551d380bf83fce78fac6dae327a78">trusted_data_</a>;</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;  }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="module-instantiate_8cc_source.html#l01234">shared_trusted_data_</a>, and <a class="el" href="module-instantiate_8cc_source.html#l01233">trusted_data_</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l01493">Build_Phase1()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01884">Build_Phase1_Infallible()</a>, <a class="el" href="module-instantiate_8cc_source.html#l03290">LoadTableSegments()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02893">ProcessExports()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02686">ProcessImports()</a>, and <a class="el" href="module-instantiate_8cc_source.html#l03114">SetTableInitialValues()</a>.</p>
<div id="dynsection-49" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-49-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-49-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-49-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aad6f1251ab50c21c71d213e91b1bbc2e_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="af5259253e5d559a5833c16076db2900c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5259253e5d559a5833c16076db2900c">&#9670;&nbsp;</a></span>WriteGlobalValue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> v8::internal::wasm::InstanceBuilder::WriteGlobalValue </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structv8_1_1internal_1_1wasm_1_1WasmGlobal.html">WasmGlobal</a> &amp;&#160;</td>
          <td class="paramname"><em>global</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmValue.html">WasmValue</a> &amp;&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l02139">2139</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;                                                               {</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a3762add7a183a4d1750c04e5fa1a6d17">TRACE</a>(<span class="stringliteral">&quot;init [globals_start=%p + %u] = %s, type = %s\n&quot;</span>,</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;        global.type.is_reference()</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;            ? <span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a71497507d2c1ffe7aae80873b0fb2b18">tagged_globals_</a>-&gt;address())</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;            : <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03.html#a7ecac47926023e51ac33a6829d1fa13b">raw_buffer_ptr</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a6388ff7aa2e2e6ba74dce9f0f96167af">untagged_globals_</a>, 0),</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;        global.offset, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>.to_string().c_str(), global.type.name().c_str());</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(global.mutability</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;             ? (<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>.type() == <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a72d5b3903dd429c932220d3adee950a8">canonical_type</a>(global.type))</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;             : <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a3c8e5205c40b2156097780fb9e7d3f7b">IsSubtypeOf</a>(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>.type(), <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#aaa821ccf37abae1e6c809598df32f0fc">module_</a>-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a72d5b3903dd429c932220d3adee950a8">canonical_type</a>(global.type)));</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;  <span class="keywordflow">if</span> (global.type.is_numeric()) {</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>.CopyTo(GetRawUntaggedGlobalPtr&lt;uint8_t&gt;(global));</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html#a71497507d2c1ffe7aae80873b0fb2b18">tagged_globals_</a>-&gt;set(global.offset, *<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>.to_ref());</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;  }</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-module_8h_source.html#l00820">v8::internal::wasm::WasmModule::canonical_type()</a>, <a class="el" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK()</a>, <a class="el" href="value-type_8h_source.html#l00374">v8::internal::wasm::ValueTypeBase::is_numeric()</a>, <a class="el" href="value-type_8h_source.html#l00606">v8::internal::wasm::ValueTypeBase::is_reference()</a>, <a class="el" href="wasm-subtyping_8h_source.html#l00068">v8::internal::wasm::IsSubtypeOf()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01230">module_</a>, <a class="el" href="wasm-module_8h_source.html#l00095">v8::internal::wasm::WasmGlobal::mutability</a>, <a class="el" href="value-type_8cc_source.html#l00116">v8::internal::wasm::ValueTypeBase::name()</a>, <a class="el" href="wasm-module_8h_source.html#l00102">v8::internal::wasm::WasmGlobal::offset</a>, <a class="el" href="module-instantiate_8cc_source.html#l00050">v8::internal::wasm::anonymous_namespace{module-instantiate.cc}::raw_buffer_ptr()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01239">tagged_globals_</a>, <a class="el" href="namespacev8_1_1internal.html#a3762add7a183a4d1750c04e5fa1a6d17">v8::internal::TRACE()</a>, <a class="el" href="wasm-module_8h_source.html#l00094">v8::internal::wasm::WasmGlobal::type</a>, <a class="el" href="module-instantiate_8cc_source.html#l01237">untagged_globals_</a>, and <a class="el" href="map-inl_8h_source.html#l00912">v8::internal::value</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l02586">ProcessImportedGlobal()</a>, and <a class="el" href="module-instantiate_8cc_source.html#l02488">ProcessImportedWasmGlobalObject()</a>.</p>
<div id="dynsection-50" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-50-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-50-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-50-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_af5259253e5d559a5833c16076db2900c_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-51" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-51-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-51-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-51-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1wasm_1_1InstanceBuilder_af5259253e5d559a5833c16076db2900c_icgraph.svg" width="100%" height="374"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ace1391560ef1c60410ba29bb87806c9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace1391560ef1c60410ba29bb87806c9d">&#9670;&nbsp;</a></span>asmjs_memory_buffer_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1MaybeDirectHandle.html">MaybeDirectHandle</a>&lt;<a class="el" href="classv8_1_1internal_1_1JSArrayBuffer.html">JSArrayBuffer</a>&gt; v8::internal::wasm::InstanceBuilder::asmjs_memory_buffer_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l01236">1236</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l01493">Build_Phase1()</a>.</p>

</div>
</div>
<a id="ad3660708cd48a28bc322058d00be48f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3660708cd48a28bc322058d00be48f1">&#9670;&nbsp;</a></span>context_id_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1metrics_1_1Recorder_1_1ContextId.html">v8::metrics::Recorder::ContextId</a> v8::internal::wasm::InstanceBuilder::context_id_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l01228">1228</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l01453">Build()</a>.</p>

</div>
</div>
<a id="a867e1ad3cc7461cb3f89906e30f27b64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a867e1ad3cc7461cb3f89906e30f27b64">&#9670;&nbsp;</a></span>enabled_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classv8_1_1internal_1_1wasm_1_1WasmEnabledFeatures.html">WasmEnabledFeatures</a> v8::internal::wasm::InstanceBuilder::enabled_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l01229">1229</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>

</div>
</div>
<a id="a13cbcfe18596d4900f82afd2e3f434db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13cbcfe18596d4900f82afd2e3f434db">&#9670;&nbsp;</a></span>ffi_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1MaybeDirectHandle.html">MaybeDirectHandle</a>&lt;<a class="el" href="classv8_1_1internal_1_1JSReceiver.html">JSReceiver</a>&gt; v8::internal::wasm::InstanceBuilder::ffi_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l01235">1235</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l01971">LookupImport()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02048">LookupImportAsm()</a>, and <a class="el" href="module-instantiate_8cc_source.html#l02224">SanitizeImports()</a>.</p>

</div>
</div>
<a id="ab230138dba8632d53ff8e394a35551ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab230138dba8632d53ff8e394a35551ee">&#9670;&nbsp;</a></span>init_expr_zone_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1Zone.html">Zone</a> v8::internal::wasm::InstanceBuilder::init_expr_zone_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l01251">1251</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l02851">InitGlobals()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02095">LoadDataSegments()</a>, <a class="el" href="module-instantiate_8cc_source.html#l03290">LoadTableSegments()</a>, and <a class="el" href="module-instantiate_8cc_source.html#l03114">SetTableInitialValues()</a>.</p>

</div>
</div>
<a id="a99f982ddb5d298edcef493207d213159"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99f982ddb5d298edcef493207d213159">&#9670;&nbsp;</a></span>isolate_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* v8::internal::wasm::InstanceBuilder::isolate_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l01227">1227</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l02871">AllocateMemory()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01453">Build()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01493">Build_Phase1()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01884">Build_Phase1_Infallible()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02203">ConfigurePrototypes_Modular()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01942">ExecuteStartFunction()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02210">FinalizeExportsObject()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02851">InitGlobals()</a>, <a class="el" href="module-instantiate_8cc_source.html#l03381">InitializeTags()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02095">LoadDataSegments()</a>, <a class="el" href="module-instantiate_8cc_source.html#l03290">LoadTableSegments()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01971">LookupImport()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02048">LookupImportAsm()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02893">ProcessExports()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02297">ProcessImportedFunction()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02586">ProcessImportedGlobal()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02770">ProcessImportedMemories()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02406">ProcessImportedTable()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02488">ProcessImportedWasmGlobalObject()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02224">SanitizeImports()</a>, and <a class="el" href="module-instantiate_8cc_source.html#l03114">SetTableInitialValues()</a>.</p>

</div>
</div>
<a id="ae150ecd9dff43cb0c32a10fb3da28731"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae150ecd9dff43cb0c32a10fb3da28731">&#9670;&nbsp;</a></span>js_prototypes_setup_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt;<a class="el" href="classv8_1_1internal_1_1wasm_1_1JSPrototypesSetup.html">JSPrototypesSetup</a>&gt; v8::internal::wasm::InstanceBuilder::js_prototypes_setup_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l01246">1246</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l01914">Build_Phase2()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02203">ConfigurePrototypes_Modular()</a>, and <a class="el" href="module-instantiate_8cc_source.html#l02224">SanitizeImports()</a>.</p>

</div>
</div>
<a id="aaa821ccf37abae1e6c809598df32f0fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa821ccf37abae1e6c809598df32f0fc">&#9670;&nbsp;</a></span>module_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html">WasmModule</a>* const v8::internal::wasm::InstanceBuilder::module_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l01230">1230</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l02871">AllocateMemory()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01453">Build()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01493">Build_Phase1()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01884">Build_Phase1_Infallible()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01914">Build_Phase2()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02210">FinalizeExportsObject()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01257">ImportName()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02851">InitGlobals()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01431">InstanceBuilder()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02095">LoadDataSegments()</a>, <a class="el" href="module-instantiate_8cc_source.html#l03290">LoadTableSegments()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02048">LookupImportAsm()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02893">ProcessExports()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02297">ProcessImportedFunction()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02586">ProcessImportedGlobal()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02770">ProcessImportedMemories()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02406">ProcessImportedTable()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02488">ProcessImportedWasmGlobalObject()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02686">ProcessImports()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02224">SanitizeImports()</a>, <a class="el" href="module-instantiate_8cc_source.html#l03114">SetTableInitialValues()</a>, and <a class="el" href="module-instantiate_8cc_source.html#l02139">WriteGlobalValue()</a>.</p>

</div>
</div>
<a id="ad9acbe63776578c8905fa72206177a2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9acbe63776578c8905fa72206177a2c">&#9670;&nbsp;</a></span>module_object_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt;<a class="el" href="classv8_1_1internal_1_1WasmModuleObject.html">WasmModuleObject</a>&gt; v8::internal::wasm::InstanceBuilder::module_object_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l01232">1232</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l01493">Build_Phase1()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01257">ImportName()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02095">LoadDataSegments()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02893">ProcessExports()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02686">ProcessImports()</a>, and <a class="el" href="module-instantiate_8cc_source.html#l02224">SanitizeImports()</a>.</p>

</div>
</div>
<a id="a5dadf45ab32816f8ffdb69a10544a956"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5dadf45ab32816f8ffdb69a10544a956">&#9670;&nbsp;</a></span>sanitized_imports_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1DirectHandleVector.html">DirectHandleVector</a>&lt;<a class="el" href="classv8_1_1internal_1_1Object.html">Object</a>&gt; v8::internal::wasm::InstanceBuilder::sanitized_imports_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l01244">1244</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l01431">InstanceBuilder()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02893">ProcessExports()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02770">ProcessImportedMemories()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02686">ProcessImports()</a>, and <a class="el" href="module-instantiate_8cc_source.html#l02224">SanitizeImports()</a>.</p>

</div>
</div>
<a id="abc2acf18bcb1567e5343dd3af707e089"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc2acf18bcb1567e5343dd3af707e089">&#9670;&nbsp;</a></span>shared_tagged_globals_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt;<a class="el" href="classv8_1_1internal_1_1FixedArray.html">FixedArray</a>&gt; v8::internal::wasm::InstanceBuilder::shared_tagged_globals_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l01240">1240</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l01493">Build_Phase1()</a>, and <a class="el" href="module-instantiate_8cc_source.html#l02851">InitGlobals()</a>.</p>

</div>
</div>
<a id="acf647301763e320d9808ad2d3e6fa8a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf647301763e320d9808ad2d3e6fa8a5">&#9670;&nbsp;</a></span>shared_tags_wrappers_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1DirectHandleVector.html">DirectHandleVector</a>&lt;<a class="el" href="classv8_1_1internal_1_1WasmTagObject.html">WasmTagObject</a>&gt; v8::internal::wasm::InstanceBuilder::shared_tags_wrappers_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l01242">1242</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l01493">Build_Phase1()</a>.</p>

</div>
</div>
<a id="ad89c98fe73daab093f44575c4e5c7b4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad89c98fe73daab093f44575c4e5c7b4f">&#9670;&nbsp;</a></span>shared_trusted_data_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt;<a class="el" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html">WasmTrustedInstanceData</a>&gt; v8::internal::wasm::InstanceBuilder::shared_trusted_data_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l01234">1234</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l01493">Build_Phase1()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01884">Build_Phase1_Infallible()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01914">Build_Phase2()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02851">InitGlobals()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02095">LoadDataSegments()</a>, <a class="el" href="module-instantiate_8cc_source.html#l03290">LoadTableSegments()</a>, <a class="el" href="module-instantiate_8cc_source.html#l03114">SetTableInitialValues()</a>, and <a class="el" href="module-instantiate_8cc_source.html#l01253">trusted_data()</a>.</p>

</div>
</div>
<a id="ae9e7aba8c15908133cd1e48df2e027c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9e7aba8c15908133cd1e48df2e027c1">&#9670;&nbsp;</a></span>shared_untagged_globals_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt;<a class="el" href="classv8_1_1internal_1_1JSArrayBuffer.html">JSArrayBuffer</a>&gt; v8::internal::wasm::InstanceBuilder::shared_untagged_globals_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l01238">1238</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l02844">GetRawUntaggedGlobalPtr()</a>.</p>

</div>
</div>
<a id="a27262cc634c8f7b70f38b76e3a1a4c7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27262cc634c8f7b70f38b76e3a1a4c7c">&#9670;&nbsp;</a></span>start_function_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt;<a class="el" href="classv8_1_1internal_1_1JSFunction.html">JSFunction</a>&gt; v8::internal::wasm::InstanceBuilder::start_function_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l01243">1243</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l01493">Build_Phase1()</a>, and <a class="el" href="module-instantiate_8cc_source.html#l01942">ExecuteStartFunction()</a>.</p>

</div>
</div>
<a id="a71497507d2c1ffe7aae80873b0fb2b18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71497507d2c1ffe7aae80873b0fb2b18">&#9670;&nbsp;</a></span>tagged_globals_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt;<a class="el" href="classv8_1_1internal_1_1FixedArray.html">FixedArray</a>&gt; v8::internal::wasm::InstanceBuilder::tagged_globals_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l01239">1239</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l01493">Build_Phase1()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02851">InitGlobals()</a>, and <a class="el" href="module-instantiate_8cc_source.html#l02139">WriteGlobalValue()</a>.</p>

</div>
</div>
<a id="a725cea88ca63b898d35df6e718bd7b98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a725cea88ca63b898d35df6e718bd7b98">&#9670;&nbsp;</a></span>tags_wrappers_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1DirectHandleVector.html">DirectHandleVector</a>&lt;<a class="el" href="classv8_1_1internal_1_1WasmTagObject.html">WasmTagObject</a>&gt; v8::internal::wasm::InstanceBuilder::tags_wrappers_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l01241">1241</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l01493">Build_Phase1()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02893">ProcessExports()</a>, and <a class="el" href="module-instantiate_8cc_source.html#l02686">ProcessImports()</a>.</p>

</div>
</div>
<a id="a12c3565e5c8e45732d8390d8bacf0709"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12c3565e5c8e45732d8390d8bacf0709">&#9670;&nbsp;</a></span>thrower_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1wasm_1_1ErrorThrower.html">ErrorThrower</a>* v8::internal::wasm::InstanceBuilder::thrower_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l01231">1231</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l02871">AllocateMemory()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01453">Build()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01493">Build_Phase1()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01914">Build_Phase2()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02203">ConfigurePrototypes_Modular()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02851">InitGlobals()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02095">LoadDataSegments()</a>, <a class="el" href="module-instantiate_8cc_source.html#l03290">LoadTableSegments()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01971">LookupImport()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02048">LookupImportAsm()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02297">ProcessImportedFunction()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02586">ProcessImportedGlobal()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02770">ProcessImportedMemories()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02406">ProcessImportedTable()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02488">ProcessImportedWasmGlobalObject()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02686">ProcessImports()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02224">SanitizeImports()</a>, and <a class="el" href="module-instantiate_8cc_source.html#l03114">SetTableInitialValues()</a>.</p>

</div>
</div>
<a id="aea7551d380bf83fce78fac6dae327a78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea7551d380bf83fce78fac6dae327a78">&#9670;&nbsp;</a></span>trusted_data_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt;<a class="el" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html">WasmTrustedInstanceData</a>&gt; v8::internal::wasm::InstanceBuilder::trusted_data_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l01233">1233</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l01453">Build()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01493">Build_Phase1()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01884">Build_Phase1_Infallible()</a>, <a class="el" href="module-instantiate_8cc_source.html#l01914">Build_Phase2()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02851">InitGlobals()</a>, <a class="el" href="module-instantiate_8cc_source.html#l03381">InitializeTags()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02095">LoadDataSegments()</a>, <a class="el" href="module-instantiate_8cc_source.html#l03290">LoadTableSegments()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02893">ProcessExports()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02686">ProcessImports()</a>, and <a class="el" href="module-instantiate_8cc_source.html#l01253">trusted_data()</a>.</p>

</div>
</div>
<a id="a6388ff7aa2e2e6ba74dce9f0f96167af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6388ff7aa2e2e6ba74dce9f0f96167af">&#9670;&nbsp;</a></span>untagged_globals_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle</a>&lt;<a class="el" href="classv8_1_1internal_1_1JSArrayBuffer.html">JSArrayBuffer</a>&gt; v8::internal::wasm::InstanceBuilder::untagged_globals_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l01237">1237</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l01493">Build_Phase1()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02844">GetRawUntaggedGlobalPtr()</a>, and <a class="el" href="module-instantiate_8cc_source.html#l02139">WriteGlobalValue()</a>.</p>

</div>
</div>
<a id="a6a6039aec9f6f9486a58ddc7c4f999d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a6039aec9f6f9486a58ddc7c4f999d2">&#9670;&nbsp;</a></span>well_known_imports_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="namespacev8_1_1internal_1_1wasm.html#afaaaa7fd7a0bc697a4d91133566c5c6e">WellKnownImport</a>&gt; v8::internal::wasm::InstanceBuilder::well_known_imports_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="module-instantiate_8cc_source.html#l01245">1245</a> of file <a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="module-instantiate_8cc_source.html#l01431">InstanceBuilder()</a>, <a class="el" href="module-instantiate_8cc_source.html#l02297">ProcessImportedFunction()</a>, and <a class="el" href="module-instantiate_8cc_source.html#l02686">ProcessImports()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/mnt/V8SourceCode/src/wasm/<a class="el" href="module-instantiate_8cc_source.html">module-instantiate.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacev8.html">v8</a></li><li class="navelem"><a class="el" href="namespacev8_1_1internal.html">internal</a></li><li class="navelem"><a class="el" href="namespacev8_1_1internal_1_1wasm.html">wasm</a></li><li class="navelem"><a class="el" href="classv8_1_1internal_1_1wasm_1_1InstanceBuilder.html">InstanceBuilder</a></li>
    <li class="footer">Generated on Thu Jun 12 2025 16:15:21 for V8 Project by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
