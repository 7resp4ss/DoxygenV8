\hypertarget{classv8_1_1internal_1_1BackgroundMergeTask}{}\doxysection{v8\+::internal\+::Background\+Merge\+Task Class Reference}
\label{classv8_1_1internal_1_1BackgroundMergeTask}\index{v8::internal::BackgroundMergeTask@{v8::internal::BackgroundMergeTask}}


{\ttfamily \#include $<$background-\/merge-\/task.\+h$>$}



Collaboration diagram for v8\+::internal\+::Background\+Merge\+Task\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BackgroundMergeTask__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structv8_1_1internal_1_1BackgroundMergeTask_1_1NewCompiledDataForCachedSfi}{New\+Compiled\+Data\+For\+Cached\+Sfi}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_a6b88ef3c910b53cd92b89024261f5cc5}{Set\+Up\+On\+Main\+Thread}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{classv8_1_1internal_1_1Handle}{Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1String}{String}} $>$ source\+\_\+text, const \mbox{\hyperlink{structv8_1_1internal_1_1ScriptDetails}{Script\+Details}} \&script\+\_\+details, \mbox{\hyperlink{namespacev8_1_1internal_aff2483f817f329c2b4c7c1d7149f858b}{Language\+Mode}} language\+\_\+mode)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_afbeae63566a66dbf4fc5de7db358672f}{Set\+Up\+On\+Main\+Thread}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Script}{Script}} $>$ cached\+\_\+script)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_ab13e1b4c2e84695c91b9db4470db5462}{Begin\+Merge\+In\+Background}} (\mbox{\hyperlink{classv8_1_1internal_1_1LocalIsolate}{Local\+Isolate}} $\ast$isolate, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Script}{Script}} $>$ new\+\_\+script)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1Handle}{Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1SharedFunctionInfo}{Shared\+Function\+Info}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_aca186bd1c822719856e195526777e135}{Complete\+Merge\+In\+Foreground}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Script}{Script}} $>$ new\+\_\+script)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_a670e7cc2e17016cdbb6eb5ff1ee1e394}{Has\+Pending\+Background\+Work}} () const
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_aa4e69cd6462e526b1b19466775b607ef}{Has\+Pending\+Foreground\+Work}} () const
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static void \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_a4fea602daa4c9857ad1244a4b9620711}{Force\+GCDuring\+Next\+Merge\+For\+Testing}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Private Types}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_a8839b7bca923cfb6972793ec0bed53cf}{State}} \{ \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_a8839b7bca923cfb6972793ec0bed53cfab5c7a60a8e4a4ec23aea720fddb1bfbc}{k\+Not\+Started}}
, \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_a8839b7bca923cfb6972793ec0bed53cfaf497a4932cebafb458cbb2ed58249ce7}{k\+Pending\+Background\+Work}}
, \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_a8839b7bca923cfb6972793ec0bed53cfa44d57f829d205dac2e6797bd36a26d73}{k\+Pending\+Foreground\+Work}}
, \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_a8839b7bca923cfb6972793ec0bed53cfaf9d7da601560fc8efe051d68c8c2dc02}{k\+Done}}
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1internal_1_1PersistentHandles}{Persistent\+Handles}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_aa01e4a610202830e4279e25b77631be1}{persistent\+\_\+handles\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1MaybeHandle}{Maybe\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Script}{Script}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_a8aeafe9825cc157e71af48e8ea220815}{cached\+\_\+script\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1MaybeHandle}{Maybe\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1SharedFunctionInfo}{Shared\+Function\+Info}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_affc59020805271ed436f713e496a8c3c}{toplevel\+\_\+sfi\+\_\+from\+\_\+cached\+\_\+script\+\_\+}}
\item 
std\+::vector$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Handle}{Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1SharedFunctionInfo}{Shared\+Function\+Info}} $>$ $>$ \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_aff00c03c1f06e8483b90566359fa94a3}{used\+\_\+new\+\_\+sfis\+\_\+}}
\item 
std\+::vector$<$ \mbox{\hyperlink{structv8_1_1internal_1_1BackgroundMergeTask_1_1NewCompiledDataForCachedSfi}{New\+Compiled\+Data\+For\+Cached\+Sfi}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_a52f3ca844e3b0321d5b69bc50f7518b5}{new\+\_\+compiled\+\_\+data\+\_\+for\+\_\+cached\+\_\+sfis\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_a8839b7bca923cfb6972793ec0bed53cf}{State}} \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_a62baa55e26e15f357d2b0efb6d586510}{state\+\_\+}} = \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_a8839b7bca923cfb6972793ec0bed53cfab5c7a60a8e4a4ec23aea720fddb1bfbc}{k\+Not\+Started}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 26 of file background-\/merge-\/task.\+h.



\doxysubsection{Member Enumeration Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1BackgroundMergeTask_a8839b7bca923cfb6972793ec0bed53cf}\label{classv8_1_1internal_1_1BackgroundMergeTask_a8839b7bca923cfb6972793ec0bed53cf}} 
\index{v8::internal::BackgroundMergeTask@{v8::internal::BackgroundMergeTask}!State@{State}}
\index{State@{State}!v8::internal::BackgroundMergeTask@{v8::internal::BackgroundMergeTask}}
\doxysubsubsection{\texorpdfstring{State}{State}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_a8839b7bca923cfb6972793ec0bed53cf}{v8\+::internal\+::\+Background\+Merge\+Task\+::\+State}}\hspace{0.3cm}{\ttfamily [private]}}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{kNotStarted@{kNotStarted}!v8::internal::BackgroundMergeTask@{v8::internal::BackgroundMergeTask}}\index{v8::internal::BackgroundMergeTask@{v8::internal::BackgroundMergeTask}!kNotStarted@{kNotStarted}}}\mbox{\Hypertarget{classv8_1_1internal_1_1BackgroundMergeTask_a8839b7bca923cfb6972793ec0bed53cfab5c7a60a8e4a4ec23aea720fddb1bfbc}\label{classv8_1_1internal_1_1BackgroundMergeTask_a8839b7bca923cfb6972793ec0bed53cfab5c7a60a8e4a4ec23aea720fddb1bfbc}} 
k\+Not\+Started&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{kPendingBackgroundWork@{kPendingBackgroundWork}!v8::internal::BackgroundMergeTask@{v8::internal::BackgroundMergeTask}}\index{v8::internal::BackgroundMergeTask@{v8::internal::BackgroundMergeTask}!kPendingBackgroundWork@{kPendingBackgroundWork}}}\mbox{\Hypertarget{classv8_1_1internal_1_1BackgroundMergeTask_a8839b7bca923cfb6972793ec0bed53cfaf497a4932cebafb458cbb2ed58249ce7}\label{classv8_1_1internal_1_1BackgroundMergeTask_a8839b7bca923cfb6972793ec0bed53cfaf497a4932cebafb458cbb2ed58249ce7}} 
k\+Pending\+Background\+Work&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{kPendingForegroundWork@{kPendingForegroundWork}!v8::internal::BackgroundMergeTask@{v8::internal::BackgroundMergeTask}}\index{v8::internal::BackgroundMergeTask@{v8::internal::BackgroundMergeTask}!kPendingForegroundWork@{kPendingForegroundWork}}}\mbox{\Hypertarget{classv8_1_1internal_1_1BackgroundMergeTask_a8839b7bca923cfb6972793ec0bed53cfa44d57f829d205dac2e6797bd36a26d73}\label{classv8_1_1internal_1_1BackgroundMergeTask_a8839b7bca923cfb6972793ec0bed53cfa44d57f829d205dac2e6797bd36a26d73}} 
k\+Pending\+Foreground\+Work&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{kDone@{kDone}!v8::internal::BackgroundMergeTask@{v8::internal::BackgroundMergeTask}}\index{v8::internal::BackgroundMergeTask@{v8::internal::BackgroundMergeTask}!kDone@{kDone}}}\mbox{\Hypertarget{classv8_1_1internal_1_1BackgroundMergeTask_a8839b7bca923cfb6972793ec0bed53cfaf9d7da601560fc8efe051d68c8c2dc02}\label{classv8_1_1internal_1_1BackgroundMergeTask_a8839b7bca923cfb6972793ec0bed53cfaf9d7da601560fc8efe051d68c8c2dc02}} 
k\+Done&\\
\hline

\end{DoxyEnumFields}


Definition at line 92 of file background-\/merge-\/task.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{92              \{}
\DoxyCodeLine{93     \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_a8839b7bca923cfb6972793ec0bed53cfab5c7a60a8e4a4ec23aea720fddb1bfbc}{kNotStarted}},}
\DoxyCodeLine{94     \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_a8839b7bca923cfb6972793ec0bed53cfaf497a4932cebafb458cbb2ed58249ce7}{kPendingBackgroundWork}},}
\DoxyCodeLine{95     \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_a8839b7bca923cfb6972793ec0bed53cfa44d57f829d205dac2e6797bd36a26d73}{kPendingForegroundWork}},}
\DoxyCodeLine{96     \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_a8839b7bca923cfb6972793ec0bed53cfaf9d7da601560fc8efe051d68c8c2dc02}{kDone}},}
\DoxyCodeLine{97   \};}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1BackgroundMergeTask_ab13e1b4c2e84695c91b9db4470db5462}\label{classv8_1_1internal_1_1BackgroundMergeTask_ab13e1b4c2e84695c91b9db4470db5462}} 
\index{v8::internal::BackgroundMergeTask@{v8::internal::BackgroundMergeTask}!BeginMergeInBackground@{BeginMergeInBackground}}
\index{BeginMergeInBackground@{BeginMergeInBackground}!v8::internal::BackgroundMergeTask@{v8::internal::BackgroundMergeTask}}
\doxysubsubsection{\texorpdfstring{BeginMergeInBackground()}{BeginMergeInBackground()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Background\+Merge\+Task\+::\+Begin\+Merge\+In\+Background (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1LocalIsolate}{Local\+Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Script}{Script}} $>$}]{new\+\_\+script }\end{DoxyParamCaption})}



Definition at line 2410 of file compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2411                                                             \{}
\DoxyCodeLine{2412   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_a62baa55e26e15f357d2b0efb6d586510}{state\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_a8839b7bca923cfb6972793ec0bed53cfaf497a4932cebafb458cbb2ed58249ce7}{kPendingBackgroundWork}});}
\DoxyCodeLine{2413 }
\DoxyCodeLine{2414   LocalHeap* local\_heap = isolate-\/>heap();}
\DoxyCodeLine{2415   local\_heap-\/>AttachPersistentHandles(std::move(\mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_aa01e4a610202830e4279e25b77631be1}{persistent\_handles\_}}));}
\DoxyCodeLine{2416   LocalHandleScope handle\_scope(local\_heap);}
\DoxyCodeLine{2417   DirectHandle<Script> old\_script = \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_a8aeafe9825cc157e71af48e8ea220815}{cached\_script\_}}.ToHandleChecked();}
\DoxyCodeLine{2418   ConstantPoolPointerForwarder forwarder(isolate, local\_heap, old\_script);}
\DoxyCodeLine{2419 }
\DoxyCodeLine{2420   \{}
\DoxyCodeLine{2421     \mbox{\hyperlink{namespacev8_1_1internal_af2248a427f8ff8f81e68a2a87758e145}{DisallowGarbageCollection}} \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_a63d8eefb47468aa3f816fbe26a59466a}{no\_gc}};}
\DoxyCodeLine{2422     Tagged<MaybeObject> maybe\_old\_toplevel\_sfi =}
\DoxyCodeLine{2423         old\_script-\/>infos()-\/>get(\mbox{\hyperlink{namespacev8_1_1internal_a97b8bea75019a4d1149cce1313576f6f}{kFunctionLiteralIdTopLevel}});}
\DoxyCodeLine{2424     \textcolor{keywordflow}{if} (maybe\_old\_toplevel\_sfi.IsWeak()) \{}
\DoxyCodeLine{2425       Tagged<SharedFunctionInfo> old\_toplevel\_sfi = Cast<SharedFunctionInfo>(}
\DoxyCodeLine{2426           maybe\_old\_toplevel\_sfi.GetHeapObjectAssumeWeak());}
\DoxyCodeLine{2427       \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_affc59020805271ed436f713e496a8c3c}{toplevel\_sfi\_from\_cached\_script\_}} =}
\DoxyCodeLine{2428           local\_heap-\/>NewPersistentHandle(old\_toplevel\_sfi);}
\DoxyCodeLine{2429     \}}
\DoxyCodeLine{2430   \}}
\DoxyCodeLine{2431 }
\DoxyCodeLine{2432   \textcolor{comment}{// Iterate the SFI lists on both Scripts to set up the forwarding table and}}
\DoxyCodeLine{2433   \textcolor{comment}{// follow-\/up worklists for the main thread.}}
\DoxyCodeLine{2434   \mbox{\hyperlink{src_2base_2logging_8h_aca32614b4d2aea7dd9abdeb222bf02f3}{CHECK\_EQ}}(old\_script-\/>infos()-\/>length(), new\_script-\/>infos()-\/>length());}
\DoxyCodeLine{2435   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < old\_script-\/>infos()-\/>\mbox{\hyperlink{namespacev8_1_1internal_afa9ea55d792121fba92b4cfc8ef8c9d7}{length}}(); ++\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}) \{}
\DoxyCodeLine{2436     \mbox{\hyperlink{namespacev8_1_1internal_af2248a427f8ff8f81e68a2a87758e145}{DisallowGarbageCollection}} \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_a63d8eefb47468aa3f816fbe26a59466a}{no\_gc}};}
\DoxyCodeLine{2437     Tagged<MaybeObject> maybe\_new\_sfi = new\_script-\/>infos()-\/>get(\mbox{\hyperlink{namespacev8_1_1internal}{i}});}
\DoxyCodeLine{2438     Tagged<MaybeObject> maybe\_old\_info = old\_script-\/>infos()-\/>get(\mbox{\hyperlink{namespacev8_1_1internal}{i}});}
\DoxyCodeLine{2439     \textcolor{comment}{// We might have scope infos in the table if it's deserialized from a code}}
\DoxyCodeLine{2440     \textcolor{comment}{// cache.}}
\DoxyCodeLine{2441     \textcolor{keywordflow}{if} (maybe\_new\_sfi.IsWeak() \&\&}
\DoxyCodeLine{2442         Is<SharedFunctionInfo>(maybe\_new\_sfi.GetHeapObjectAssumeWeak())) \{}
\DoxyCodeLine{2443       Tagged<SharedFunctionInfo> new\_sfi =}
\DoxyCodeLine{2444           Cast<SharedFunctionInfo>(maybe\_new\_sfi.GetHeapObjectAssumeWeak());}
\DoxyCodeLine{2445       \textcolor{keywordflow}{if} (maybe\_old\_info.IsWeak()) \{}
\DoxyCodeLine{2446         forwarder.set\_has\_shared\_function\_info\_to\_forward();}
\DoxyCodeLine{2447         \textcolor{comment}{// The old script and the new script both have SharedFunctionInfos for}}
\DoxyCodeLine{2448         \textcolor{comment}{// this function literal.}}
\DoxyCodeLine{2449         Tagged<SharedFunctionInfo> old\_sfi =}
\DoxyCodeLine{2450             Cast<SharedFunctionInfo>(maybe\_old\_info.GetHeapObjectAssumeWeak());}
\DoxyCodeLine{2451         \textcolor{comment}{// Make sure to allocate a persistent handle to the old sfi whether or}}
\DoxyCodeLine{2452         \textcolor{comment}{// not it or the new sfi have bytecode -\/-\/ this is necessary to keep the}}
\DoxyCodeLine{2453         \textcolor{comment}{// old sfi reference in the old script list alive, so that pointers to}}
\DoxyCodeLine{2454         \textcolor{comment}{// the new sfi are redirected to the old sfi.}}
\DoxyCodeLine{2455         Handle<SharedFunctionInfo> old\_sfi\_handle =}
\DoxyCodeLine{2456             local\_heap-\/>NewPersistentHandle(old\_sfi);}
\DoxyCodeLine{2457         \textcolor{keywordflow}{if} (old\_sfi-\/>HasBytecodeArray()) \{}
\DoxyCodeLine{2458           \textcolor{comment}{// Reset the old SFI's bytecode age so that it won't likely get}}
\DoxyCodeLine{2459           \textcolor{comment}{// flushed right away. This operation might be racing against}}
\DoxyCodeLine{2460           \textcolor{comment}{// concurrent modification by another thread, but such a race is not}}
\DoxyCodeLine{2461           \textcolor{comment}{// catastrophic.}}
\DoxyCodeLine{2462           old\_sfi-\/>set\_age(0);}
\DoxyCodeLine{2463         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (new\_sfi-\/>HasBytecodeArray()) \{}
\DoxyCodeLine{2464           \textcolor{comment}{// Also push the old\_sfi to make sure it stays alive / isn't replaced.}}
\DoxyCodeLine{2465           \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_a52f3ca844e3b0321d5b69bc50f7518b5}{new\_compiled\_data\_for\_cached\_sfis\_}}.push\_back(}
\DoxyCodeLine{2466               \{old\_sfi\_handle, local\_heap-\/>NewPersistentHandle(new\_sfi)\});}
\DoxyCodeLine{2467           Tagged<ScopeInfo> info = old\_sfi-\/>scope\_info();}
\DoxyCodeLine{2468           \textcolor{keywordflow}{if} (!info-\/>IsEmpty()) \{}
\DoxyCodeLine{2469             new\_sfi-\/>SetScopeInfo(info);}
\DoxyCodeLine{2470           \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (old\_sfi-\/>HasOuterScopeInfo()) \{}
\DoxyCodeLine{2471             new\_sfi-\/>scope\_info()-\/>set\_outer\_scope\_info(}
\DoxyCodeLine{2472                 old\_sfi-\/>GetOuterScopeInfo());}
\DoxyCodeLine{2473           \}}
\DoxyCodeLine{2474           forwarder.AddBytecodeArray(new\_sfi-\/>GetBytecodeArray(isolate));}
\DoxyCodeLine{2475         \}}
\DoxyCodeLine{2476       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{2477         \textcolor{comment}{// The old script didn't have a SharedFunctionInfo for this function}}
\DoxyCodeLine{2478         \textcolor{comment}{// literal, so it can use the new SharedFunctionInfo.}}
\DoxyCodeLine{2479         new\_sfi-\/>set\_script(*old\_script, \mbox{\hyperlink{namespacev8_a13596ed4ca024abd4790ec46b62c2097}{kReleaseStore}});}
\DoxyCodeLine{2480         \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_aff00c03c1f06e8483b90566359fa94a3}{used\_new\_sfis\_}}.push\_back(local\_heap-\/>NewPersistentHandle(new\_sfi));}
\DoxyCodeLine{2481         \textcolor{keywordflow}{if} (new\_sfi-\/>HasBytecodeArray()) \{}
\DoxyCodeLine{2482           forwarder.AddBytecodeArray(new\_sfi-\/>GetBytecodeArray(isolate));}
\DoxyCodeLine{2483         \}}
\DoxyCodeLine{2484       \}}
\DoxyCodeLine{2485     \}}
\DoxyCodeLine{2486 }
\DoxyCodeLine{2487     \textcolor{keywordflow}{if} (maybe\_old\_info.IsWeak()) \{}
\DoxyCodeLine{2488       forwarder.RecordScopeInfos(maybe\_old\_info);}
\DoxyCodeLine{2489       \textcolor{comment}{// If the old script has a SFI, point to it from the new script to}}
\DoxyCodeLine{2490       \textcolor{comment}{// indicate we've already seen it and we'll reuse it if necessary (if}}
\DoxyCodeLine{2491       \textcolor{comment}{// newly compiled bytecode points to it).}}
\DoxyCodeLine{2492       new\_script-\/>infos()-\/>set(\mbox{\hyperlink{namespacev8_1_1internal}{i}}, maybe\_old\_info);}
\DoxyCodeLine{2493     \}}
\DoxyCodeLine{2494   \}}
\DoxyCodeLine{2495 }
\DoxyCodeLine{2496   \textcolor{comment}{// Since we are walking the script infos weak list both when figuring out}}
\DoxyCodeLine{2497   \textcolor{comment}{// which SFIs to merge above, and actually merging them below, make sure that}}
\DoxyCodeLine{2498   \textcolor{comment}{// a GC here which clears any dead weak refs or flushes any bytecode doesn't}}
\DoxyCodeLine{2499   \textcolor{comment}{// break anything.}}
\DoxyCodeLine{2500   \textcolor{keywordflow}{if} (\mbox{\hyperlink{v8config_8h_a67bd29db07c711b0fb11ff1c324ebb60}{V8\_UNLIKELY}}(\mbox{\hyperlink{namespacev8_1_1internal_a0a6548eb8e49b47c065f0573eebaff55}{force\_gc\_during\_next\_merge\_for\_testing\_}})) \{}
\DoxyCodeLine{2501     \textcolor{comment}{// This GC is only synchronous on the main thread at the moment.}}
\DoxyCodeLine{2502     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(isolate-\/>is\_main\_thread());}
\DoxyCodeLine{2503     local\_heap-\/>AsHeap()-\/>CollectAllAvailableGarbage(}
\DoxyCodeLine{2504         \mbox{\hyperlink{namespacev8_1_1internal_a0a2f2571e39a2684be87407899aba748a786985f8ee655e351ca0c798f8e40916}{GarbageCollectionReason::kTesting}});}
\DoxyCodeLine{2505   \}}
\DoxyCodeLine{2506 }
\DoxyCodeLine{2507   \textcolor{keywordflow}{if} (forwarder.HasAnythingToForward()) \{}
\DoxyCodeLine{2508     \textcolor{keywordflow}{for} (DirectHandle<SharedFunctionInfo> new\_sfi : \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_aff00c03c1f06e8483b90566359fa94a3}{used\_new\_sfis\_}}) \{}
\DoxyCodeLine{2509       forwarder.UpdateScopeInfo(*new\_sfi);}
\DoxyCodeLine{2510     \}}
\DoxyCodeLine{2511     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& new\_compiled\_data : \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_a52f3ca844e3b0321d5b69bc50f7518b5}{new\_compiled\_data\_for\_cached\_sfis\_}}) \{}
\DoxyCodeLine{2512       \textcolor{comment}{// It's possible that new\_compiled\_data.cached\_sfi had}}
\DoxyCodeLine{2513       \textcolor{comment}{// scope\_info()-\/>IsEmpty() while an inner function has scope info if the}}
\DoxyCodeLine{2514       \textcolor{comment}{// cached\_sfi was recreated when an outer function was recompiled. If so,}}
\DoxyCodeLine{2515       \textcolor{comment}{// new\_compiled\_data.new\_sfi does not have a reused scope info yet, and}}
\DoxyCodeLine{2516       \textcolor{comment}{// we'll have found it when we visited the inner function. Try to pick it}}
\DoxyCodeLine{2517       \textcolor{comment}{// up here.}}
\DoxyCodeLine{2518       forwarder.InstallOwnScopeInfo(*new\_compiled\_data.new\_sfi);}
\DoxyCodeLine{2519     \}}
\DoxyCodeLine{2520     forwarder.IterateAndForwardPointers();}
\DoxyCodeLine{2521   \}}
\DoxyCodeLine{2522   \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_aa01e4a610202830e4279e25b77631be1}{persistent\_handles\_}} = local\_heap-\/>DetachPersistentHandles();}
\DoxyCodeLine{2523   \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_a62baa55e26e15f357d2b0efb6d586510}{state\_}} = \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_a8839b7bca923cfb6972793ec0bed53cfa44d57f829d205dac2e6797bd36a26d73}{kPendingForegroundWork}};}
\DoxyCodeLine{2524 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Constant\+Pool\+Pointer\+Forwarder\+::\+Add\+Bytecode\+Array(), v8\+::internal\+::\+Local\+Heap\+::\+As\+Heap(), v8\+::internal\+::\+Local\+Heap\+::\+Attach\+Persistent\+Handles(), cached\+\_\+script\+\_\+, CHECK\+\_\+\+EQ, v8\+::internal\+::\+Heap\+::\+Collect\+All\+Available\+Garbage(), v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+EQ, v8\+::internal\+::\+Local\+Heap\+::\+Detach\+Persistent\+Handles(), v8\+::internal\+::force\+\_\+gc\+\_\+during\+\_\+next\+\_\+merge\+\_\+for\+\_\+testing\+\_\+, v8\+::internal\+::\+Tagged\+Impl$<$ k\+Ref\+Type, Storage\+Type $>$\+::\+Get\+Heap\+Object\+Assume\+Weak(), v8\+::internal\+::\+Constant\+Pool\+Pointer\+Forwarder\+::\+Has\+Anything\+To\+Forward(), v8\+::internal\+::\+Local\+Isolate\+::heap(), v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::i, v8\+::internal\+::\+Constant\+Pool\+Pointer\+Forwarder\+::\+Install\+Own\+Scope\+Info(), v8\+::internal\+::\+Local\+Isolate\+::is\+\_\+main\+\_\+thread(), v8\+::internal\+::\+Tagged\+Impl$<$ k\+Ref\+Type, Storage\+Type $>$\+::\+Is\+Weak(), v8\+::internal\+::\+Constant\+Pool\+Pointer\+Forwarder\+::\+Iterate\+And\+Forward\+Pointers(), v8\+::internal\+::k\+Function\+Literal\+Id\+Top\+Level, k\+Pending\+Background\+Work, k\+Pending\+Foreground\+Work, v8\+::k\+Release\+Store, v8\+::internal\+::k\+Testing, v8\+::internal\+::length, new\+\_\+compiled\+\_\+data\+\_\+for\+\_\+cached\+\_\+sfis\+\_\+, v8\+::internal\+::\+Local\+Heap\+::\+New\+Persistent\+Handle(), v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::no\+\_\+gc, persistent\+\_\+handles\+\_\+, v8\+::internal\+::\+Constant\+Pool\+Pointer\+Forwarder\+::\+Record\+Scope\+Infos(), v8\+::internal\+::\+Constant\+Pool\+Pointer\+Forwarder\+::set\+\_\+has\+\_\+shared\+\_\+function\+\_\+info\+\_\+to\+\_\+forward(), state\+\_\+, toplevel\+\_\+sfi\+\_\+from\+\_\+cached\+\_\+script\+\_\+, v8\+::internal\+::\+Constant\+Pool\+Pointer\+Forwarder\+::\+Update\+Scope\+Info(), used\+\_\+new\+\_\+sfis\+\_\+, and V8\+\_\+\+UNLIKELY.



Referenced by v8\+::internal\+::\+Code\+Serializer\+::\+Deserialize(), v8\+::internal\+::\+Background\+Compile\+Task\+::\+Finalize\+Script(), and v8\+::internal\+::\+Background\+Deserialize\+Task\+::\+Merge\+With\+Existing\+Script().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1BackgroundMergeTask_ab13e1b4c2e84695c91b9db4470db5462_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BackgroundMergeTask_ab13e1b4c2e84695c91b9db4470db5462_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1BackgroundMergeTask_aca186bd1c822719856e195526777e135}\label{classv8_1_1internal_1_1BackgroundMergeTask_aca186bd1c822719856e195526777e135}} 
\index{v8::internal::BackgroundMergeTask@{v8::internal::BackgroundMergeTask}!CompleteMergeInForeground@{CompleteMergeInForeground}}
\index{CompleteMergeInForeground@{CompleteMergeInForeground}!v8::internal::BackgroundMergeTask@{v8::internal::BackgroundMergeTask}}
\doxysubsubsection{\texorpdfstring{CompleteMergeInForeground()}{CompleteMergeInForeground()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1Handle}{Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1SharedFunctionInfo}{Shared\+Function\+Info}} $>$ v8\+::internal\+::\+Background\+Merge\+Task\+::\+Complete\+Merge\+In\+Foreground (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Script}{Script}} $>$}]{new\+\_\+script }\end{DoxyParamCaption})}



Definition at line 2526 of file compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2527                                                        \{}
\DoxyCodeLine{2528   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_a62baa55e26e15f357d2b0efb6d586510}{state\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_a8839b7bca923cfb6972793ec0bed53cfa44d57f829d205dac2e6797bd36a26d73}{kPendingForegroundWork}});}
\DoxyCodeLine{2529 }
\DoxyCodeLine{2530   HandleScope handle\_scope(isolate);}
\DoxyCodeLine{2531   DirectHandle<Script> old\_script = \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_a8aeafe9825cc157e71af48e8ea220815}{cached\_script\_}}.ToHandleChecked();}
\DoxyCodeLine{2532   ConstantPoolPointerForwarder forwarder(}
\DoxyCodeLine{2533       isolate, isolate-\/>main\_thread\_local\_heap(), old\_script);}
\DoxyCodeLine{2534 }
\DoxyCodeLine{2535   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& new\_compiled\_data : \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_a52f3ca844e3b0321d5b69bc50f7518b5}{new\_compiled\_data\_for\_cached\_sfis\_}}) \{}
\DoxyCodeLine{2536     Tagged<SharedFunctionInfo> sfi = *new\_compiled\_data.cached\_sfi;}
\DoxyCodeLine{2537     \textcolor{keywordflow}{if} (!sfi-\/>is\_compiled() \&\& new\_compiled\_data.new\_sfi-\/>is\_compiled()) \{}
\DoxyCodeLine{2538       \textcolor{comment}{// Updating existing DebugInfos is not supported, but we don't expect}}
\DoxyCodeLine{2539       \textcolor{comment}{// uncompiled SharedFunctionInfos to contain DebugInfos.}}
\DoxyCodeLine{2540       \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!new\_compiled\_data.cached\_sfi-\/>HasDebugInfo(isolate));}
\DoxyCodeLine{2541       \textcolor{comment}{// The goal here is to copy every field except script from}}
\DoxyCodeLine{2542       \textcolor{comment}{// new\_sfi to cached\_sfi. The safest way to do so (including a DCHECK that}}
\DoxyCodeLine{2543       \textcolor{comment}{// no fields were skipped) is to first copy the script from}}
\DoxyCodeLine{2544       \textcolor{comment}{// cached\_sfi to new\_sfi, and then copy every field using CopyFrom.}}
\DoxyCodeLine{2545       new\_compiled\_data.new\_sfi-\/>set\_script(sfi-\/>script(\mbox{\hyperlink{namespacev8_aee4e677b8d8a86416617b3330778b98a}{kAcquireLoad}}),}
\DoxyCodeLine{2546                                             \mbox{\hyperlink{namespacev8_a13596ed4ca024abd4790ec46b62c2097}{kReleaseStore}});}
\DoxyCodeLine{2547       sfi-\/>CopyFrom(*new\_compiled\_data.new\_sfi, isolate);}
\DoxyCodeLine{2548     \}}
\DoxyCodeLine{2549   \}}
\DoxyCodeLine{2550 }
\DoxyCodeLine{2551   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < old\_script-\/>infos()-\/>\mbox{\hyperlink{namespacev8_1_1internal_afa9ea55d792121fba92b4cfc8ef8c9d7}{length}}(); ++\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}) \{}
\DoxyCodeLine{2552     Tagged<MaybeObject> maybe\_old\_info = old\_script-\/>infos()-\/>get(\mbox{\hyperlink{namespacev8_1_1internal}{i}});}
\DoxyCodeLine{2553     Tagged<MaybeObject> maybe\_new\_info = new\_script-\/>infos()-\/>get(\mbox{\hyperlink{namespacev8_1_1internal}{i}});}
\DoxyCodeLine{2554     \textcolor{keywordflow}{if} (maybe\_new\_info == maybe\_old\_info) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{2555     \mbox{\hyperlink{namespacev8_1_1internal_af2248a427f8ff8f81e68a2a87758e145}{DisallowGarbageCollection}} \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_a63d8eefb47468aa3f816fbe26a59466a}{no\_gc}};}
\DoxyCodeLine{2556     \textcolor{keywordflow}{if} (maybe\_old\_info.IsWeak()) \{}
\DoxyCodeLine{2557       \textcolor{comment}{// The old script's SFI didn't exist during the background work, but does}}
\DoxyCodeLine{2558       \textcolor{comment}{// now. This means a re-\/merge is necessary. Potential references to the}}
\DoxyCodeLine{2559       \textcolor{comment}{// new script's SFI need to be updated to point to the cached script's SFI}}
\DoxyCodeLine{2560       \textcolor{comment}{// instead. The cached script's SFI's outer scope infos need to be used by}}
\DoxyCodeLine{2561       \textcolor{comment}{// the new script's outer SFIs.}}
\DoxyCodeLine{2562       \textcolor{keywordflow}{if} (Is<SharedFunctionInfo>(maybe\_old\_info.GetHeapObjectAssumeWeak())) \{}
\DoxyCodeLine{2563         forwarder.set\_has\_shared\_function\_info\_to\_forward();}
\DoxyCodeLine{2564       \}}
\DoxyCodeLine{2565       forwarder.RecordScopeInfos(maybe\_old\_info);}
\DoxyCodeLine{2566     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{2567       old\_script-\/>infos()-\/>set(\mbox{\hyperlink{namespacev8_1_1internal}{i}}, maybe\_new\_info);}
\DoxyCodeLine{2568     \}}
\DoxyCodeLine{2569   \}}
\DoxyCodeLine{2570 }
\DoxyCodeLine{2571   \textcolor{comment}{// Most of the time, the background merge was sufficient. However, if there}}
\DoxyCodeLine{2572   \textcolor{comment}{// are any new pointers that need forwarding, a new traversal of the constant}}
\DoxyCodeLine{2573   \textcolor{comment}{// pools is required.}}
\DoxyCodeLine{2574   \textcolor{keywordflow}{if} (forwarder.HasAnythingToForward()) \{}
\DoxyCodeLine{2575     \textcolor{keywordflow}{for} (DirectHandle<SharedFunctionInfo> new\_sfi : \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_aff00c03c1f06e8483b90566359fa94a3}{used\_new\_sfis\_}}) \{}
\DoxyCodeLine{2576       forwarder.UpdateScopeInfo(*new\_sfi);}
\DoxyCodeLine{2577       \textcolor{keywordflow}{if} (new\_sfi-\/>HasBytecodeArray(isolate)) \{}
\DoxyCodeLine{2578         forwarder.AddBytecodeArray(new\_sfi-\/>GetBytecodeArray(isolate));}
\DoxyCodeLine{2579       \}}
\DoxyCodeLine{2580     \}}
\DoxyCodeLine{2581     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& new\_compiled\_data : \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_a52f3ca844e3b0321d5b69bc50f7518b5}{new\_compiled\_data\_for\_cached\_sfis\_}}) \{}
\DoxyCodeLine{2582       \textcolor{comment}{// It's possible that cached\_sfi wasn't compiled, but an inner function}}
\DoxyCodeLine{2583       \textcolor{comment}{// existed that didn't exist when be background merged. In that case, pick}}
\DoxyCodeLine{2584       \textcolor{comment}{// up the relevant scope infos.}}
\DoxyCodeLine{2585       Tagged<SharedFunctionInfo> sfi = *new\_compiled\_data.cached\_sfi;}
\DoxyCodeLine{2586       forwarder.InstallOwnScopeInfo(sfi);}
\DoxyCodeLine{2587       \textcolor{keywordflow}{if} (new\_compiled\_data.cached\_sfi-\/>HasBytecodeArray(isolate)) \{}
\DoxyCodeLine{2588         forwarder.AddBytecodeArray(}
\DoxyCodeLine{2589             new\_compiled\_data.cached\_sfi-\/>GetBytecodeArray(isolate));}
\DoxyCodeLine{2590       \}}
\DoxyCodeLine{2591     \}}
\DoxyCodeLine{2592     forwarder.IterateAndForwardPointers();}
\DoxyCodeLine{2593   \}}
\DoxyCodeLine{2594 }
\DoxyCodeLine{2595   Tagged<MaybeObject> maybe\_toplevel\_sfi =}
\DoxyCodeLine{2596       old\_script-\/>infos()-\/>get(\mbox{\hyperlink{namespacev8_1_1internal_a97b8bea75019a4d1149cce1313576f6f}{kFunctionLiteralIdTopLevel}});}
\DoxyCodeLine{2597   \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(maybe\_toplevel\_sfi.IsWeak());}
\DoxyCodeLine{2598   Handle<SharedFunctionInfo> \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} = \mbox{\hyperlink{namespacev8_1_1internal_a8c89f00da07e125218128b9fbf0a321c}{handle}}(}
\DoxyCodeLine{2599       Cast<SharedFunctionInfo>(maybe\_toplevel\_sfi.GetHeapObjectAssumeWeak()),}
\DoxyCodeLine{2600       isolate);}
\DoxyCodeLine{2601 }
\DoxyCodeLine{2602   \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_a62baa55e26e15f357d2b0efb6d586510}{state\_}} = \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_a8839b7bca923cfb6972793ec0bed53cfaf9d7da601560fc8efe051d68c8c2dc02}{kDone}};}
\DoxyCodeLine{2603 }
\DoxyCodeLine{2604   \textcolor{keywordflow}{if} (isolate-\/>NeedsSourcePositions()) \{}
\DoxyCodeLine{2605     \mbox{\hyperlink{classv8_1_1internal_1_1Script_a494a1f7114748b7d012849dd59069123}{Script::InitLineEnds}}(isolate, new\_script);}
\DoxyCodeLine{2606     \mbox{\hyperlink{classv8_1_1internal_1_1SharedFunctionInfo_a3be913553e4b94b747bd0f898a7b02af}{SharedFunctionInfo::EnsureSourcePositionsAvailable}}(isolate, \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}});}
\DoxyCodeLine{2607   \}}
\DoxyCodeLine{2608 }
\DoxyCodeLine{2609 \textcolor{preprocessor}{\#ifdef DEBUG}}
\DoxyCodeLine{2610   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02compiler_8cc_03_ae35744f0d19de3c916c147713226d5d1}{VerifyCodeMerge}}(isolate, old\_script);}
\DoxyCodeLine{2611 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{2612   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.verify\_code\_merge) \{}
\DoxyCodeLine{2613     \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02compiler_8cc_03_ae35744f0d19de3c916c147713226d5d1}{VerifyCodeMerge}}(isolate, old\_script);}
\DoxyCodeLine{2614   \}}
\DoxyCodeLine{2615 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{2616 }
\DoxyCodeLine{2617   \textcolor{keywordflow}{return} handle\_scope.CloseAndEscape(\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}});}
\DoxyCodeLine{2618 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Constant\+Pool\+Pointer\+Forwarder\+::\+Add\+Bytecode\+Array(), cached\+\_\+script\+\_\+, CHECK, v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+EQ, v8\+::internal\+::\+Shared\+Function\+Info\+::\+Ensure\+Source\+Positions\+Available(), v8\+::internal\+::\+Tagged\+Impl$<$ k\+Ref\+Type, Storage\+Type $>$\+::\+Get\+Heap\+Object\+Assume\+Weak(), v8\+::internal\+::handle(), v8\+::internal\+::\+Constant\+Pool\+Pointer\+Forwarder\+::\+Has\+Anything\+To\+Forward(), v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::i, v8\+::internal\+::\+Script\+::\+Init\+Line\+Ends(), v8\+::internal\+::\+Constant\+Pool\+Pointer\+Forwarder\+::\+Install\+Own\+Scope\+Info(), v8\+::internal\+::\+Tagged\+Impl$<$ k\+Ref\+Type, Storage\+Type $>$\+::\+Is\+Weak(), v8\+::internal\+::\+Constant\+Pool\+Pointer\+Forwarder\+::\+Iterate\+And\+Forward\+Pointers(), v8\+::k\+Acquire\+Load, k\+Done, v8\+::internal\+::k\+Function\+Literal\+Id\+Top\+Level, k\+Pending\+Foreground\+Work, v8\+::k\+Release\+Store, v8\+::internal\+::length, v8\+::internal\+::\+Isolate\+::main\+\_\+thread\+\_\+local\+\_\+heap(), v8\+::internal\+::\+Isolate\+::\+Needs\+Source\+Positions(), new\+\_\+compiled\+\_\+data\+\_\+for\+\_\+cached\+\_\+sfis\+\_\+, v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::no\+\_\+gc, v8\+::internal\+::\+Constant\+Pool\+Pointer\+Forwarder\+::\+Record\+Scope\+Infos(), v8\+::base\+::internal\+::result, v8\+::internal\+::\+Constant\+Pool\+Pointer\+Forwarder\+::set\+\_\+has\+\_\+shared\+\_\+function\+\_\+info\+\_\+to\+\_\+forward(), state\+\_\+, v8\+::internal\+::\+Constant\+Pool\+Pointer\+Forwarder\+::\+Update\+Scope\+Info(), used\+\_\+new\+\_\+sfis\+\_\+, v8\+::internal\+::v8\+\_\+flags, and v8\+::internal\+::anonymous\+\_\+namespace\{compiler.\+cc\}\+::\+Verify\+Code\+Merge().



Referenced by v8\+::internal\+::\+Code\+Serializer\+::\+Deserialize(), v8\+::internal\+::\+Background\+Compile\+Task\+::\+Finalize\+Script(), and v8\+::internal\+::\+Code\+Serializer\+::\+Finish\+Off\+Thread\+Deserialize().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1BackgroundMergeTask_aca186bd1c822719856e195526777e135_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BackgroundMergeTask_aca186bd1c822719856e195526777e135_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1BackgroundMergeTask_a4fea602daa4c9857ad1244a4b9620711}\label{classv8_1_1internal_1_1BackgroundMergeTask_a4fea602daa4c9857ad1244a4b9620711}} 
\index{v8::internal::BackgroundMergeTask@{v8::internal::BackgroundMergeTask}!ForceGCDuringNextMergeForTesting@{ForceGCDuringNextMergeForTesting}}
\index{ForceGCDuringNextMergeForTesting@{ForceGCDuringNextMergeForTesting}!v8::internal::BackgroundMergeTask@{v8::internal::BackgroundMergeTask}}
\doxysubsubsection{\texorpdfstring{ForceGCDuringNextMergeForTesting()}{ForceGCDuringNextMergeForTesting()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Background\+Merge\+Task\+::\+Force\+GCDuring\+Next\+Merge\+For\+Testing (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 2406 of file compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2406                                                            \{}
\DoxyCodeLine{2407   \mbox{\hyperlink{namespacev8_1_1internal_a0a6548eb8e49b47c065f0573eebaff55}{force\_gc\_during\_next\_merge\_for\_testing\_}} = \textcolor{keyword}{true};}
\DoxyCodeLine{2408 \}}

\end{DoxyCode}


References v8\+::internal\+::force\+\_\+gc\+\_\+during\+\_\+next\+\_\+merge\+\_\+for\+\_\+testing\+\_\+.

\mbox{\Hypertarget{classv8_1_1internal_1_1BackgroundMergeTask_a670e7cc2e17016cdbb6eb5ff1ee1e394}\label{classv8_1_1internal_1_1BackgroundMergeTask_a670e7cc2e17016cdbb6eb5ff1ee1e394}} 
\index{v8::internal::BackgroundMergeTask@{v8::internal::BackgroundMergeTask}!HasPendingBackgroundWork@{HasPendingBackgroundWork}}
\index{HasPendingBackgroundWork@{HasPendingBackgroundWork}!v8::internal::BackgroundMergeTask@{v8::internal::BackgroundMergeTask}}
\doxysubsubsection{\texorpdfstring{HasPendingBackgroundWork()}{HasPendingBackgroundWork()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Background\+Merge\+Task\+::\+Has\+Pending\+Background\+Work (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 52 of file background-\/merge-\/task.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{52                                         \{}
\DoxyCodeLine{53     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_a62baa55e26e15f357d2b0efb6d586510}{state\_}} == \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_a8839b7bca923cfb6972793ec0bed53cfaf497a4932cebafb458cbb2ed58249ce7}{kPendingBackgroundWork}};}
\DoxyCodeLine{54   \}}

\end{DoxyCode}


Referenced by v8\+::internal\+::\+Code\+Serializer\+::\+Deserialize(), v8\+::internal\+::\+Background\+Compile\+Task\+::\+Finalize\+Script(), and v8\+::internal\+::\+Background\+Deserialize\+Task\+::\+Should\+Merge\+With\+Existing\+Script().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BackgroundMergeTask_a670e7cc2e17016cdbb6eb5ff1ee1e394_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1BackgroundMergeTask_aa4e69cd6462e526b1b19466775b607ef}\label{classv8_1_1internal_1_1BackgroundMergeTask_aa4e69cd6462e526b1b19466775b607ef}} 
\index{v8::internal::BackgroundMergeTask@{v8::internal::BackgroundMergeTask}!HasPendingForegroundWork@{HasPendingForegroundWork}}
\index{HasPendingForegroundWork@{HasPendingForegroundWork}!v8::internal::BackgroundMergeTask@{v8::internal::BackgroundMergeTask}}
\doxysubsubsection{\texorpdfstring{HasPendingForegroundWork()}{HasPendingForegroundWork()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Background\+Merge\+Task\+::\+Has\+Pending\+Foreground\+Work (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 55 of file background-\/merge-\/task.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{55                                         \{}
\DoxyCodeLine{56     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_a62baa55e26e15f357d2b0efb6d586510}{state\_}} == \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_a8839b7bca923cfb6972793ec0bed53cfa44d57f829d205dac2e6797bd36a26d73}{kPendingForegroundWork}};}
\DoxyCodeLine{57   \}}

\end{DoxyCode}


Referenced by v8\+::internal\+::\+Code\+Serializer\+::\+Deserialize(), v8\+::internal\+::\+Background\+Compile\+Task\+::\+Finalize\+Script(), and v8\+::internal\+::\+Code\+Serializer\+::\+Finish\+Off\+Thread\+Deserialize().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BackgroundMergeTask_aa4e69cd6462e526b1b19466775b607ef_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1BackgroundMergeTask_afbeae63566a66dbf4fc5de7db358672f}\label{classv8_1_1internal_1_1BackgroundMergeTask_afbeae63566a66dbf4fc5de7db358672f}} 
\index{v8::internal::BackgroundMergeTask@{v8::internal::BackgroundMergeTask}!SetUpOnMainThread@{SetUpOnMainThread}}
\index{SetUpOnMainThread@{SetUpOnMainThread}!v8::internal::BackgroundMergeTask@{v8::internal::BackgroundMergeTask}}
\doxysubsubsection{\texorpdfstring{SetUpOnMainThread()}{SetUpOnMainThread()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Background\+Merge\+Task\+::\+Set\+Up\+On\+Main\+Thread (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Script}{Script}} $>$}]{cached\+\_\+script }\end{DoxyParamCaption})}



Definition at line 2388 of file compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2389                                                           \{}
\DoxyCodeLine{2390   \textcolor{comment}{// Any data sent to the background thread will need to be a persistent handle.}}
\DoxyCodeLine{2391 \textcolor{preprocessor}{\#ifdef DEBUG}}
\DoxyCodeLine{2392   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02compiler_8cc_03_ae35744f0d19de3c916c147713226d5d1}{VerifyCodeMerge}}(isolate, cached\_script);}
\DoxyCodeLine{2393 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{2394   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.verify\_code\_merge) \{}
\DoxyCodeLine{2395     \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02compiler_8cc_03_ae35744f0d19de3c916c147713226d5d1}{VerifyCodeMerge}}(isolate, cached\_script);}
\DoxyCodeLine{2396   \}}
\DoxyCodeLine{2397 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{2398 }
\DoxyCodeLine{2399   \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_aa01e4a610202830e4279e25b77631be1}{persistent\_handles\_}} = std::make\_unique<PersistentHandles>(isolate);}
\DoxyCodeLine{2400   \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_a62baa55e26e15f357d2b0efb6d586510}{state\_}} = \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_a8839b7bca923cfb6972793ec0bed53cfaf497a4932cebafb458cbb2ed58249ce7}{kPendingBackgroundWork}};}
\DoxyCodeLine{2401   \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_a8aeafe9825cc157e71af48e8ea220815}{cached\_script\_}} = \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_aa01e4a610202830e4279e25b77631be1}{persistent\_handles\_}}-\/>NewHandle(*cached\_script);}
\DoxyCodeLine{2402 \}}

\end{DoxyCode}


References cached\+\_\+script\+\_\+, k\+Pending\+Background\+Work, persistent\+\_\+handles\+\_\+, state\+\_\+, v8\+::internal\+::v8\+\_\+flags, and v8\+::internal\+::anonymous\+\_\+namespace\{compiler.\+cc\}\+::\+Verify\+Code\+Merge().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BackgroundMergeTask_afbeae63566a66dbf4fc5de7db358672f_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1BackgroundMergeTask_a6b88ef3c910b53cd92b89024261f5cc5}\label{classv8_1_1internal_1_1BackgroundMergeTask_a6b88ef3c910b53cd92b89024261f5cc5}} 
\index{v8::internal::BackgroundMergeTask@{v8::internal::BackgroundMergeTask}!SetUpOnMainThread@{SetUpOnMainThread}}
\index{SetUpOnMainThread@{SetUpOnMainThread}!v8::internal::BackgroundMergeTask@{v8::internal::BackgroundMergeTask}}
\doxysubsubsection{\texorpdfstring{SetUpOnMainThread()}{SetUpOnMainThread()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Background\+Merge\+Task\+::\+Set\+Up\+On\+Main\+Thread (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Handle}{Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1String}{String}} $>$}]{source\+\_\+text,  }\item[{const \mbox{\hyperlink{structv8_1_1internal_1_1ScriptDetails}{Script\+Details}} \&}]{script\+\_\+details,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_aff2483f817f329c2b4c7c1d7149f858b}{Language\+Mode}}}]{language\+\_\+mode }\end{DoxyParamCaption})}



Definition at line 2293 of file compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2296                                                                         \{}
\DoxyCodeLine{2297   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_a62baa55e26e15f357d2b0efb6d586510}{state\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_a8839b7bca923cfb6972793ec0bed53cfab5c7a60a8e4a4ec23aea720fddb1bfbc}{kNotStarted}});}
\DoxyCodeLine{2298 }
\DoxyCodeLine{2299   HandleScope handle\_scope(isolate);}
\DoxyCodeLine{2300 }
\DoxyCodeLine{2301   \mbox{\hyperlink{classv8_1_1internal_1_1CompilationCacheScript_afb66a3800587976c8c511ed957d40c43}{CompilationCacheScript::LookupResult}} lookup\_result =}
\DoxyCodeLine{2302       isolate-\/>compilation\_cache()-\/>LookupScript(source\_text, script\_details,}
\DoxyCodeLine{2303                                                  language\_mode);}
\DoxyCodeLine{2304   DirectHandle<Script> \mbox{\hyperlink{namespacev8_1_1internal_afb7e5cd394b9632dddc2e7807b11b2ab}{script}};}
\DoxyCodeLine{2305   \textcolor{keywordflow}{if} (!lookup\_result.script().ToHandle(\&\mbox{\hyperlink{namespacev8_1_1internal_afb7e5cd394b9632dddc2e7807b11b2ab}{script}})) \{}
\DoxyCodeLine{2306     \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_a62baa55e26e15f357d2b0efb6d586510}{state\_}} = \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_a8839b7bca923cfb6972793ec0bed53cfaf9d7da601560fc8efe051d68c8c2dc02}{kDone}};}
\DoxyCodeLine{2307     \textcolor{keywordflow}{return};}
\DoxyCodeLine{2308   \}}
\DoxyCodeLine{2309 }
\DoxyCodeLine{2310   \textcolor{keywordflow}{if} (lookup\_result.is\_compiled\_scope().is\_compiled()) \{}
\DoxyCodeLine{2311     \textcolor{comment}{// There already exists a compiled top-\/level SFI, so the main thread will}}
\DoxyCodeLine{2312     \textcolor{comment}{// discard the background serialization results and use the top-\/level SFI}}
\DoxyCodeLine{2313     \textcolor{comment}{// from the cache, assuming the top-\/level SFI is still compiled by then.}}
\DoxyCodeLine{2314     \textcolor{comment}{// Thus, there is no need to keep the Script pointer for background merging.}}
\DoxyCodeLine{2315     \textcolor{comment}{// Do nothing in this case.}}
\DoxyCodeLine{2316     \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_a62baa55e26e15f357d2b0efb6d586510}{state\_}} = \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_a8839b7bca923cfb6972793ec0bed53cfaf9d7da601560fc8efe051d68c8c2dc02}{kDone}};}
\DoxyCodeLine{2317   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{2318     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(lookup\_result.toplevel\_sfi().is\_null());}
\DoxyCodeLine{2319     \textcolor{comment}{// A background merge is required.}}
\DoxyCodeLine{2320     \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_a6b88ef3c910b53cd92b89024261f5cc5}{SetUpOnMainThread}}(isolate, \mbox{\hyperlink{namespacev8_1_1internal_afb7e5cd394b9632dddc2e7807b11b2ab}{script}});}
\DoxyCodeLine{2321   \}}
\DoxyCodeLine{2322 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Isolate\+::compilation\+\_\+cache(), v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+EQ, v8\+::internal\+::\+Is\+Compiled\+Scope\+::is\+\_\+compiled(), v8\+::internal\+::\+Compilation\+Cache\+Script\+Lookup\+Result\+::is\+\_\+compiled\+\_\+scope(), k\+Done, k\+Not\+Started, v8\+::internal\+::\+Compilation\+Cache\+::\+Lookup\+Script(), v8\+::internal\+::\+Compilation\+Cache\+Script\+Lookup\+Result\+::script(), v8\+::internal\+::script, state\+\_\+, and v8\+::internal\+::\+Compilation\+Cache\+Script\+Lookup\+Result\+::toplevel\+\_\+sfi().



Referenced by v8\+::internal\+::\+Code\+Serializer\+::\+Deserialize(), v8\+::internal\+::\+Background\+Compile\+Task\+::\+Finalize\+Script(), and v8\+::internal\+::\+Background\+Deserialize\+Task\+::\+Source\+Text\+Available().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BackgroundMergeTask_a6b88ef3c910b53cd92b89024261f5cc5_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BackgroundMergeTask_a6b88ef3c910b53cd92b89024261f5cc5_icgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1BackgroundMergeTask_a8aeafe9825cc157e71af48e8ea220815}\label{classv8_1_1internal_1_1BackgroundMergeTask_a8aeafe9825cc157e71af48e8ea220815}} 
\index{v8::internal::BackgroundMergeTask@{v8::internal::BackgroundMergeTask}!cached\_script\_@{cached\_script\_}}
\index{cached\_script\_@{cached\_script\_}!v8::internal::BackgroundMergeTask@{v8::internal::BackgroundMergeTask}}
\doxysubsubsection{\texorpdfstring{cached\_script\_}{cached\_script\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1MaybeHandle}{Maybe\+Handle}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1Script}{Script}}$>$ v8\+::internal\+::\+Background\+Merge\+Task\+::cached\+\_\+script\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 66 of file background-\/merge-\/task.\+h.



Referenced by Begin\+Merge\+In\+Background(), Complete\+Merge\+In\+Foreground(), and Set\+Up\+On\+Main\+Thread().

\mbox{\Hypertarget{classv8_1_1internal_1_1BackgroundMergeTask_a52f3ca844e3b0321d5b69bc50f7518b5}\label{classv8_1_1internal_1_1BackgroundMergeTask_a52f3ca844e3b0321d5b69bc50f7518b5}} 
\index{v8::internal::BackgroundMergeTask@{v8::internal::BackgroundMergeTask}!new\_compiled\_data\_for\_cached\_sfis\_@{new\_compiled\_data\_for\_cached\_sfis\_}}
\index{new\_compiled\_data\_for\_cached\_sfis\_@{new\_compiled\_data\_for\_cached\_sfis\_}!v8::internal::BackgroundMergeTask@{v8::internal::BackgroundMergeTask}}
\doxysubsubsection{\texorpdfstring{new\_compiled\_data\_for\_cached\_sfis\_}{new\_compiled\_data\_for\_cached\_sfis\_}}
{\footnotesize\ttfamily std\+::vector$<$\mbox{\hyperlink{structv8_1_1internal_1_1BackgroundMergeTask_1_1NewCompiledDataForCachedSfi}{New\+Compiled\+Data\+For\+Cached\+Sfi}}$>$ v8\+::internal\+::\+Background\+Merge\+Task\+::new\+\_\+compiled\+\_\+data\+\_\+for\+\_\+cached\+\_\+sfis\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 90 of file background-\/merge-\/task.\+h.



Referenced by Begin\+Merge\+In\+Background(), and Complete\+Merge\+In\+Foreground().

\mbox{\Hypertarget{classv8_1_1internal_1_1BackgroundMergeTask_aa01e4a610202830e4279e25b77631be1}\label{classv8_1_1internal_1_1BackgroundMergeTask_aa01e4a610202830e4279e25b77631be1}} 
\index{v8::internal::BackgroundMergeTask@{v8::internal::BackgroundMergeTask}!persistent\_handles\_@{persistent\_handles\_}}
\index{persistent\_handles\_@{persistent\_handles\_}!v8::internal::BackgroundMergeTask@{v8::internal::BackgroundMergeTask}}
\doxysubsubsection{\texorpdfstring{persistent\_handles\_}{persistent\_handles\_}}
{\footnotesize\ttfamily std\+::unique\+\_\+ptr$<$\mbox{\hyperlink{classv8_1_1internal_1_1PersistentHandles}{Persistent\+Handles}}$>$ v8\+::internal\+::\+Background\+Merge\+Task\+::persistent\+\_\+handles\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 62 of file background-\/merge-\/task.\+h.



Referenced by Begin\+Merge\+In\+Background(), and Set\+Up\+On\+Main\+Thread().

\mbox{\Hypertarget{classv8_1_1internal_1_1BackgroundMergeTask_a62baa55e26e15f357d2b0efb6d586510}\label{classv8_1_1internal_1_1BackgroundMergeTask_a62baa55e26e15f357d2b0efb6d586510}} 
\index{v8::internal::BackgroundMergeTask@{v8::internal::BackgroundMergeTask}!state\_@{state\_}}
\index{state\_@{state\_}!v8::internal::BackgroundMergeTask@{v8::internal::BackgroundMergeTask}}
\doxysubsubsection{\texorpdfstring{state\_}{state\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_a8839b7bca923cfb6972793ec0bed53cf}{State}} v8\+::internal\+::\+Background\+Merge\+Task\+::state\+\_\+ = \mbox{\hyperlink{classv8_1_1internal_1_1BackgroundMergeTask_a8839b7bca923cfb6972793ec0bed53cfab5c7a60a8e4a4ec23aea720fddb1bfbc}{k\+Not\+Started}}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 98 of file background-\/merge-\/task.\+h.



Referenced by Begin\+Merge\+In\+Background(), Complete\+Merge\+In\+Foreground(), and Set\+Up\+On\+Main\+Thread().

\mbox{\Hypertarget{classv8_1_1internal_1_1BackgroundMergeTask_affc59020805271ed436f713e496a8c3c}\label{classv8_1_1internal_1_1BackgroundMergeTask_affc59020805271ed436f713e496a8c3c}} 
\index{v8::internal::BackgroundMergeTask@{v8::internal::BackgroundMergeTask}!toplevel\_sfi\_from\_cached\_script\_@{toplevel\_sfi\_from\_cached\_script\_}}
\index{toplevel\_sfi\_from\_cached\_script\_@{toplevel\_sfi\_from\_cached\_script\_}!v8::internal::BackgroundMergeTask@{v8::internal::BackgroundMergeTask}}
\doxysubsubsection{\texorpdfstring{toplevel\_sfi\_from\_cached\_script\_}{toplevel\_sfi\_from\_cached\_script\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1MaybeHandle}{Maybe\+Handle}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1SharedFunctionInfo}{Shared\+Function\+Info}}$>$ v8\+::internal\+::\+Background\+Merge\+Task\+::toplevel\+\_\+sfi\+\_\+from\+\_\+cached\+\_\+script\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 72 of file background-\/merge-\/task.\+h.



Referenced by Begin\+Merge\+In\+Background().

\mbox{\Hypertarget{classv8_1_1internal_1_1BackgroundMergeTask_aff00c03c1f06e8483b90566359fa94a3}\label{classv8_1_1internal_1_1BackgroundMergeTask_aff00c03c1f06e8483b90566359fa94a3}} 
\index{v8::internal::BackgroundMergeTask@{v8::internal::BackgroundMergeTask}!used\_new\_sfis\_@{used\_new\_sfis\_}}
\index{used\_new\_sfis\_@{used\_new\_sfis\_}!v8::internal::BackgroundMergeTask@{v8::internal::BackgroundMergeTask}}
\doxysubsubsection{\texorpdfstring{used\_new\_sfis\_}{used\_new\_sfis\_}}
{\footnotesize\ttfamily std\+::vector$<$\mbox{\hyperlink{classv8_1_1internal_1_1Handle}{Handle}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1SharedFunctionInfo}{Shared\+Function\+Info}}$>$ $>$ v8\+::internal\+::\+Background\+Merge\+Task\+::used\+\_\+new\+\_\+sfis\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 79 of file background-\/merge-\/task.\+h.



Referenced by Begin\+Merge\+In\+Background(), and Complete\+Merge\+In\+Foreground().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/codegen/\mbox{\hyperlink{background-merge-task_8h}{background-\/merge-\/task.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/codegen/\mbox{\hyperlink{compiler_8cc}{compiler.\+cc}}\end{DoxyCompactItemize}
