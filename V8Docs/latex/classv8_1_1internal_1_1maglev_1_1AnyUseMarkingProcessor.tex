\hypertarget{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor}{}\doxysection{v8\+::internal\+::maglev\+::Any\+Use\+Marking\+Processor Class Reference}
\label{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor}\index{v8::internal::maglev::AnyUseMarkingProcessor@{v8::internal::maglev::AnyUseMarkingProcessor}}


{\ttfamily \#include $<$maglev-\/post-\/hoc-\/optimizations-\/processors.\+h$>$}



Collaboration diagram for v8\+::internal\+::maglev\+::Any\+Use\+Marking\+Processor\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_a0fda1e58337fcb53bfa4be15370f2223}{Pre\+Process\+Graph}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph}{Graph}} $\ast$\mbox{\hyperlink{flag-definitions_8h_a06b2b7e5d08192bb493bba69cb19a7a8}{graph}})
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_adcfc1226f74e33c15662d8e8f0708700}{Post\+Process\+Basic\+Block}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BasicBlock}{Basic\+Block}} $\ast$block)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a7ba0753ed3d436c0a62ce145b59b74df}{Block\+Process\+Result}} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_ae17042615d807c38e54b2bda3c48d340}{Pre\+Process\+Basic\+Block}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BasicBlock}{Basic\+Block}} $\ast$block)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_a093ac9c116523a146f052dc39475ed1b}{Post\+Phi\+Processing}} ()
\item 
{\footnotesize template$<$typename NodeT $>$ }\\\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592}{Process\+Result}} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_a9207752f7f6924702667aa40f7e3794e}{Process}} (\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a30f1fb87d8e46f80374ef637cdb99de0}{NodeT}} $\ast$node, const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ProcessingState}{Processing\+State}} \&state)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_a66f252e298966508f715e2a03a02206f}{Post\+Process\+Graph}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph}{Graph}} $\ast$\mbox{\hyperlink{flag-definitions_8h_a06b2b7e5d08192bb493bba69cb19a7a8}{graph}})
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_a9589e99196e3fef12ea9958550464cca}{Escape\+Allocation}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph}{Graph}} $\ast$\mbox{\hyperlink{flag-definitions_8h_a06b2b7e5d08192bb493bba69cb19a7a8}{graph}}, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1InlinedAllocation}{Inlined\+Allocation}} $\ast$alloc, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph_a4a5e9924d770aee806265843825c83dc}{Graph\+::\+Small\+Allocation\+Vector}} \&deps)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_ac339f6f302b0b78ff67ece20a8910646}{Verify\+Escape\+Analysis}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph}{Graph}} $\ast$\mbox{\hyperlink{flag-definitions_8h_a06b2b7e5d08192bb493bba69cb19a7a8}{graph}})
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_a42c1668f75a4a9985e965912c45f210c}{Run\+Escape\+Analysis}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph}{Graph}} $\ast$\mbox{\hyperlink{flag-definitions_8h_a06b2b7e5d08192bb493bba69cb19a7a8}{graph}})
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_a41b57e57bf18f464e693fab1512113b0}{Drop\+Use\+Of\+Value\+In\+Stores\+To\+Captured\+Allocations}} ()
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_acf3ff3e867b83f5f69e760aae85b5069}{Drop\+Input\+Uses}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Input}{Input}} \&input)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_ad0569c612fdf34433a505dff065b6238}{Drop\+Input\+Uses}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$node)
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::vector$<$ \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Node}{Node}} $\ast$ $>$ \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_a389a675274f9ac7cf46f471d565f184f}{stores\+\_\+to\+\_\+allocations\+\_\+}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 203 of file maglev-\/post-\/hoc-\/optimizations-\/processors.\+h.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_acf3ff3e867b83f5f69e760aae85b5069}\label{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_acf3ff3e867b83f5f69e760aae85b5069}} 
\index{v8::internal::maglev::AnyUseMarkingProcessor@{v8::internal::maglev::AnyUseMarkingProcessor}!DropInputUses@{DropInputUses}}
\index{DropInputUses@{DropInputUses}!v8::internal::maglev::AnyUseMarkingProcessor@{v8::internal::maglev::AnyUseMarkingProcessor}}
\doxysubsubsection{\texorpdfstring{DropInputUses()}{DropInputUses()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Any\+Use\+Marking\+Processor\+::\+Drop\+Input\+Uses (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Input}{Input}} \&}]{input }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 310 of file maglev-\/post-\/hoc-\/optimizations-\/processors.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{310                                    \{}
\DoxyCodeLine{311     ValueNode* input\_node = input.node();}
\DoxyCodeLine{312     \textcolor{keywordflow}{if} (input\_node-\/>properties().is\_required\_when\_unused() \&\&}
\DoxyCodeLine{313         !input\_node-\/>Is<ArgumentsElements>())}
\DoxyCodeLine{314       \textcolor{keywordflow}{return};}
\DoxyCodeLine{315     input\_node-\/>remove\_use();}
\DoxyCodeLine{316     \textcolor{keywordflow}{if} (!input\_node-\/>is\_used() \&\& !input\_node-\/>unused\_inputs\_were\_visited()) \{}
\DoxyCodeLine{317       \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_acf3ff3e867b83f5f69e760aae85b5069}{DropInputUses}}(input\_node);}
\DoxyCodeLine{318     \}}
\DoxyCodeLine{319   \}}

\end{DoxyCode}


References v8\+::internal\+::maglev\+::\+Node\+Base\+::\+Is(), v8\+::internal\+::maglev\+::\+Op\+Properties\+::is\+\_\+required\+\_\+when\+\_\+unused(), v8\+::internal\+::maglev\+::\+Value\+Node\+::is\+\_\+used(), v8\+::internal\+::maglev\+::\+Input\+::node(), v8\+::internal\+::maglev\+::\+Node\+Base\+::properties(), v8\+::internal\+::maglev\+::\+Value\+Node\+::remove\+\_\+use(), and v8\+::internal\+::maglev\+::\+Value\+Node\+::unused\+\_\+inputs\+\_\+were\+\_\+visited().



Referenced by Drop\+Input\+Uses(), Drop\+Use\+Of\+Value\+In\+Stores\+To\+Captured\+Allocations(), and Process().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_acf3ff3e867b83f5f69e760aae85b5069_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_acf3ff3e867b83f5f69e760aae85b5069_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_ad0569c612fdf34433a505dff065b6238}\label{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_ad0569c612fdf34433a505dff065b6238}} 
\index{v8::internal::maglev::AnyUseMarkingProcessor@{v8::internal::maglev::AnyUseMarkingProcessor}!DropInputUses@{DropInputUses}}
\index{DropInputUses@{DropInputUses}!v8::internal::maglev::AnyUseMarkingProcessor@{v8::internal::maglev::AnyUseMarkingProcessor}}
\doxysubsubsection{\texorpdfstring{DropInputUses()}{DropInputUses()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Any\+Use\+Marking\+Processor\+::\+Drop\+Input\+Uses (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$}]{node }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 321 of file maglev-\/post-\/hoc-\/optimizations-\/processors.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{321                                       \{}
\DoxyCodeLine{322     \textcolor{keywordflow}{for} (Input\& input : *node) \{}
\DoxyCodeLine{323       \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_acf3ff3e867b83f5f69e760aae85b5069}{DropInputUses}}(input);}
\DoxyCodeLine{324     \}}
\DoxyCodeLine{325     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!node-\/>properties().can\_eager\_deopt());}
\DoxyCodeLine{326     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!node-\/>properties().can\_lazy\_deopt());}
\DoxyCodeLine{327     node-\/>mark\_unused\_inputs\_visited();}
\DoxyCodeLine{328   \}}

\end{DoxyCode}


References v8\+::internal\+::maglev\+::\+Op\+Properties\+::can\+\_\+eager\+\_\+deopt(), v8\+::internal\+::maglev\+::\+Op\+Properties\+::can\+\_\+lazy\+\_\+deopt(), v8\+::internal\+::\+DCHECK(), Drop\+Input\+Uses(), v8\+::internal\+::maglev\+::\+Value\+Node\+::mark\+\_\+unused\+\_\+inputs\+\_\+visited(), and v8\+::internal\+::maglev\+::\+Node\+Base\+::properties().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_ad0569c612fdf34433a505dff065b6238_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_a41b57e57bf18f464e693fab1512113b0}\label{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_a41b57e57bf18f464e693fab1512113b0}} 
\index{v8::internal::maglev::AnyUseMarkingProcessor@{v8::internal::maglev::AnyUseMarkingProcessor}!DropUseOfValueInStoresToCapturedAllocations@{DropUseOfValueInStoresToCapturedAllocations}}
\index{DropUseOfValueInStoresToCapturedAllocations@{DropUseOfValueInStoresToCapturedAllocations}!v8::internal::maglev::AnyUseMarkingProcessor@{v8::internal::maglev::AnyUseMarkingProcessor}}
\doxysubsubsection{\texorpdfstring{DropUseOfValueInStoresToCapturedAllocations()}{DropUseOfValueInStoresToCapturedAllocations()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Any\+Use\+Marking\+Processor\+::\+Drop\+Use\+Of\+Value\+In\+Stores\+To\+Captured\+Allocations (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 295 of file maglev-\/post-\/hoc-\/optimizations-\/processors.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{295                                                      \{}
\DoxyCodeLine{296     \textcolor{keywordflow}{for} (Node* node : \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_a389a675274f9ac7cf46f471d565f184f}{stores\_to\_allocations\_}}) \{}
\DoxyCodeLine{297       InlinedAllocation* alloc =}
\DoxyCodeLine{298           node-\/>input(0).node()-\/>Cast<InlinedAllocation>();}
\DoxyCodeLine{299       \textcolor{comment}{// Since we don't analyze if allocations will escape until a fixpoint,}}
\DoxyCodeLine{300       \textcolor{comment}{// this could drop an use of an allocation and turn it non-\/escaping.}}
\DoxyCodeLine{301       \textcolor{keywordflow}{if} (alloc-\/>HasBeenElided()) \{}
\DoxyCodeLine{302         \textcolor{comment}{// Skip first input.}}
\DoxyCodeLine{303         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 1; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < node-\/>input\_count(); \mbox{\hyperlink{namespacev8_1_1internal}{i}}++) \{}
\DoxyCodeLine{304           \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_acf3ff3e867b83f5f69e760aae85b5069}{DropInputUses}}(node-\/>input(\mbox{\hyperlink{namespacev8_1_1internal}{i}}));}
\DoxyCodeLine{305         \}}
\DoxyCodeLine{306       \}}
\DoxyCodeLine{307     \}}
\DoxyCodeLine{308   \}}

\end{DoxyCode}


References Drop\+Input\+Uses(), v8\+::internal\+::maglev\+::\+Inlined\+Allocation\+::\+Has\+Been\+Elided(), and stores\+\_\+to\+\_\+allocations\+\_\+.



Referenced by Post\+Process\+Graph().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_a41b57e57bf18f464e693fab1512113b0_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_a41b57e57bf18f464e693fab1512113b0_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_a9589e99196e3fef12ea9958550464cca}\label{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_a9589e99196e3fef12ea9958550464cca}} 
\index{v8::internal::maglev::AnyUseMarkingProcessor@{v8::internal::maglev::AnyUseMarkingProcessor}!EscapeAllocation@{EscapeAllocation}}
\index{EscapeAllocation@{EscapeAllocation}!v8::internal::maglev::AnyUseMarkingProcessor@{v8::internal::maglev::AnyUseMarkingProcessor}}
\doxysubsubsection{\texorpdfstring{EscapeAllocation()}{EscapeAllocation()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Any\+Use\+Marking\+Processor\+::\+Escape\+Allocation (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph}{Graph}} $\ast$}]{graph,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1InlinedAllocation}{Inlined\+Allocation}} $\ast$}]{alloc,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph_a4a5e9924d770aee806265843825c83dc}{Graph\+::\+Small\+Allocation\+Vector}} \&}]{deps }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 253 of file maglev-\/post-\/hoc-\/optimizations-\/processors.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{254                                                           \{}
\DoxyCodeLine{255     \textcolor{keywordflow}{if} (alloc-\/>HasBeenAnalysed() \&\& alloc-\/>HasEscaped()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{256     alloc-\/>SetEscaped();}
\DoxyCodeLine{257     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} dep : deps) \{}
\DoxyCodeLine{258       \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_a9589e99196e3fef12ea9958550464cca}{EscapeAllocation}}(\mbox{\hyperlink{flag-definitions_8h_a06b2b7e5d08192bb493bba69cb19a7a8}{graph}}, dep,}
\DoxyCodeLine{259                        \mbox{\hyperlink{flag-definitions_8h_a06b2b7e5d08192bb493bba69cb19a7a8}{graph}}-\/>allocations\_escape\_map().find(dep)-\/>second);}
\DoxyCodeLine{260     \}}
\DoxyCodeLine{261   \}}

\end{DoxyCode}


References graph(), v8\+::internal\+::maglev\+::\+Inlined\+Allocation\+::\+Has\+Been\+Analysed(), v8\+::internal\+::maglev\+::\+Inlined\+Allocation\+::\+Has\+Escaped(), and v8\+::internal\+::maglev\+::\+Inlined\+Allocation\+::\+Set\+Escaped().



Referenced by Run\+Escape\+Analysis().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_a9589e99196e3fef12ea9958550464cca_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_a9589e99196e3fef12ea9958550464cca_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_a093ac9c116523a146f052dc39475ed1b}\label{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_a093ac9c116523a146f052dc39475ed1b}} 
\index{v8::internal::maglev::AnyUseMarkingProcessor@{v8::internal::maglev::AnyUseMarkingProcessor}!PostPhiProcessing@{PostPhiProcessing}}
\index{PostPhiProcessing@{PostPhiProcessing}!v8::internal::maglev::AnyUseMarkingProcessor@{v8::internal::maglev::AnyUseMarkingProcessor}}
\doxysubsubsection{\texorpdfstring{PostPhiProcessing()}{PostPhiProcessing()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Any\+Use\+Marking\+Processor\+::\+Post\+Phi\+Processing (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 210 of file maglev-\/post-\/hoc-\/optimizations-\/processors.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{210 \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_adcfc1226f74e33c15662d8e8f0708700}\label{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_adcfc1226f74e33c15662d8e8f0708700}} 
\index{v8::internal::maglev::AnyUseMarkingProcessor@{v8::internal::maglev::AnyUseMarkingProcessor}!PostProcessBasicBlock@{PostProcessBasicBlock}}
\index{PostProcessBasicBlock@{PostProcessBasicBlock}!v8::internal::maglev::AnyUseMarkingProcessor@{v8::internal::maglev::AnyUseMarkingProcessor}}
\doxysubsubsection{\texorpdfstring{PostProcessBasicBlock()}{PostProcessBasicBlock()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Any\+Use\+Marking\+Processor\+::\+Post\+Process\+Basic\+Block (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BasicBlock}{Basic\+Block}} $\ast$}]{block }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 206 of file maglev-\/post-\/hoc-\/optimizations-\/processors.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{206 \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_a66f252e298966508f715e2a03a02206f}\label{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_a66f252e298966508f715e2a03a02206f}} 
\index{v8::internal::maglev::AnyUseMarkingProcessor@{v8::internal::maglev::AnyUseMarkingProcessor}!PostProcessGraph@{PostProcessGraph}}
\index{PostProcessGraph@{PostProcessGraph}!v8::internal::maglev::AnyUseMarkingProcessor@{v8::internal::maglev::AnyUseMarkingProcessor}}
\doxysubsubsection{\texorpdfstring{PostProcessGraph()}{PostProcessGraph()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Any\+Use\+Marking\+Processor\+::\+Post\+Process\+Graph (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph}{Graph}} $\ast$}]{graph }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 245 of file maglev-\/post-\/hoc-\/optimizations-\/processors.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{245                                       \{}
\DoxyCodeLine{246     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_a42c1668f75a4a9985e965912c45f210c}{RunEscapeAnalysis}}(\mbox{\hyperlink{flag-definitions_8h_a06b2b7e5d08192bb493bba69cb19a7a8}{graph}});}
\DoxyCodeLine{247     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_a41b57e57bf18f464e693fab1512113b0}{DropUseOfValueInStoresToCapturedAllocations}}();}
\DoxyCodeLine{248   \}}

\end{DoxyCode}


References Drop\+Use\+Of\+Value\+In\+Stores\+To\+Captured\+Allocations(), graph(), and Run\+Escape\+Analysis().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_a66f252e298966508f715e2a03a02206f_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_ae17042615d807c38e54b2bda3c48d340}\label{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_ae17042615d807c38e54b2bda3c48d340}} 
\index{v8::internal::maglev::AnyUseMarkingProcessor@{v8::internal::maglev::AnyUseMarkingProcessor}!PreProcessBasicBlock@{PreProcessBasicBlock}}
\index{PreProcessBasicBlock@{PreProcessBasicBlock}!v8::internal::maglev::AnyUseMarkingProcessor@{v8::internal::maglev::AnyUseMarkingProcessor}}
\doxysubsubsection{\texorpdfstring{PreProcessBasicBlock()}{PreProcessBasicBlock()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a7ba0753ed3d436c0a62ce145b59b74df}{Block\+Process\+Result}} v8\+::internal\+::maglev\+::\+Any\+Use\+Marking\+Processor\+::\+Pre\+Process\+Basic\+Block (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BasicBlock}{Basic\+Block}} $\ast$}]{block }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 207 of file maglev-\/post-\/hoc-\/optimizations-\/processors.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{207                                                              \{}
\DoxyCodeLine{208     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a7ba0753ed3d436c0a62ce145b59b74dfa234b41cc8342dc898d9100f4ca35098d}{BlockProcessResult::kContinue}};}
\DoxyCodeLine{209   \}}

\end{DoxyCode}


References v8\+::internal\+::maglev\+::k\+Continue.

\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_a0fda1e58337fcb53bfa4be15370f2223}\label{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_a0fda1e58337fcb53bfa4be15370f2223}} 
\index{v8::internal::maglev::AnyUseMarkingProcessor@{v8::internal::maglev::AnyUseMarkingProcessor}!PreProcessGraph@{PreProcessGraph}}
\index{PreProcessGraph@{PreProcessGraph}!v8::internal::maglev::AnyUseMarkingProcessor@{v8::internal::maglev::AnyUseMarkingProcessor}}
\doxysubsubsection{\texorpdfstring{PreProcessGraph()}{PreProcessGraph()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Any\+Use\+Marking\+Processor\+::\+Pre\+Process\+Graph (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph}{Graph}} $\ast$}]{graph }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 205 of file maglev-\/post-\/hoc-\/optimizations-\/processors.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{205 \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_a9207752f7f6924702667aa40f7e3794e}\label{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_a9207752f7f6924702667aa40f7e3794e}} 
\index{v8::internal::maglev::AnyUseMarkingProcessor@{v8::internal::maglev::AnyUseMarkingProcessor}!Process@{Process}}
\index{Process@{Process}!v8::internal::maglev::AnyUseMarkingProcessor@{v8::internal::maglev::AnyUseMarkingProcessor}}
\doxysubsubsection{\texorpdfstring{Process()}{Process()}}
{\footnotesize\ttfamily template$<$typename NodeT $>$ \\
\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592}{Process\+Result}} v8\+::internal\+::maglev\+::\+Any\+Use\+Marking\+Processor\+::\+Process (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a30f1fb87d8e46f80374ef637cdb99de0}{NodeT}} $\ast$}]{node,  }\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ProcessingState}{Processing\+State}} \&}]{state }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 213 of file maglev-\/post-\/hoc-\/optimizations-\/processors.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{213                                                                    \{}
\DoxyCodeLine{214     \textcolor{keywordflow}{if} constexpr (\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a8eb04213428c2bda06143850c7a9b669}{IsValueNode}}(Node::opcode\_of<NodeT>) \&\&}
\DoxyCodeLine{215                   (!NodeT::kProperties.is\_required\_when\_unused() ||}
\DoxyCodeLine{216                    std::is\_same\_v<ArgumentsElements, NodeT>)) \{}
\DoxyCodeLine{217       \textcolor{keywordflow}{if} (!node-\/>is\_used()) \{}
\DoxyCodeLine{218         \textcolor{keywordflow}{if} (!node-\/>unused\_inputs\_were\_visited()) \{}
\DoxyCodeLine{219           \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_acf3ff3e867b83f5f69e760aae85b5069}{DropInputUses}}(node);}
\DoxyCodeLine{220         \}}
\DoxyCodeLine{221         \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592a016a4c677dea4af4b6898d79b133c29f}{ProcessResult::kRemove}};}
\DoxyCodeLine{222       \}}
\DoxyCodeLine{223     \}}
\DoxyCodeLine{224 }
\DoxyCodeLine{225     \textcolor{keywordflow}{if} constexpr (CanBeStoreToNonEscapedObject<NodeT>()) \{}
\DoxyCodeLine{226       \textcolor{keywordflow}{if} (node-\/>input(0).node()-\/>template Is<InlinedAllocation>()) \{}
\DoxyCodeLine{227         \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_a389a675274f9ac7cf46f471d565f184f}{stores\_to\_allocations\_}}.push\_back(node);}
\DoxyCodeLine{228       \}}
\DoxyCodeLine{229     \}}
\DoxyCodeLine{230 }
\DoxyCodeLine{231     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592a234b41cc8342dc898d9100f4ca35098d}{ProcessResult::kContinue}};}
\DoxyCodeLine{232   \}}

\end{DoxyCode}


References Drop\+Input\+Uses(), v8\+::internal\+::maglev\+::\+Is\+Value\+Node(), v8\+::internal\+::maglev\+::k\+Continue, v8\+::internal\+::maglev\+::k\+Remove, and stores\+\_\+to\+\_\+allocations\+\_\+.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_a9207752f7f6924702667aa40f7e3794e_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_a42c1668f75a4a9985e965912c45f210c}\label{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_a42c1668f75a4a9985e965912c45f210c}} 
\index{v8::internal::maglev::AnyUseMarkingProcessor@{v8::internal::maglev::AnyUseMarkingProcessor}!RunEscapeAnalysis@{RunEscapeAnalysis}}
\index{RunEscapeAnalysis@{RunEscapeAnalysis}!v8::internal::maglev::AnyUseMarkingProcessor@{v8::internal::maglev::AnyUseMarkingProcessor}}
\doxysubsubsection{\texorpdfstring{RunEscapeAnalysis()}{RunEscapeAnalysis()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Any\+Use\+Marking\+Processor\+::\+Run\+Escape\+Analysis (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph}{Graph}} $\ast$}]{graph }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 277 of file maglev-\/post-\/hoc-\/optimizations-\/processors.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{277                                        \{}
\DoxyCodeLine{278     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}\& it : \mbox{\hyperlink{flag-definitions_8h_a06b2b7e5d08192bb493bba69cb19a7a8}{graph}}-\/>allocations\_escape\_map()) \{}
\DoxyCodeLine{279       \textcolor{keyword}{auto}* alloc = it.first;}
\DoxyCodeLine{280       \textcolor{keywordflow}{if} (alloc-\/>HasBeenAnalysed()) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{281       \textcolor{comment}{// Check if all its uses are non escaping.}}
\DoxyCodeLine{282       \textcolor{keywordflow}{if} (alloc-\/>IsEscaping()) \{}
\DoxyCodeLine{283         \textcolor{comment}{// Escape this allocation and all its dependencies.}}
\DoxyCodeLine{284         \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_a9589e99196e3fef12ea9958550464cca}{EscapeAllocation}}(\mbox{\hyperlink{flag-definitions_8h_a06b2b7e5d08192bb493bba69cb19a7a8}{graph}}, alloc, it.second);}
\DoxyCodeLine{285       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{286         \textcolor{comment}{// Try to capture the allocation. This can still change if a escaped}}
\DoxyCodeLine{287         \textcolor{comment}{// allocation has this value as one of its dependencies.}}
\DoxyCodeLine{288         alloc-\/>SetElided();}
\DoxyCodeLine{289       \}}
\DoxyCodeLine{290     \}}
\DoxyCodeLine{291     \textcolor{comment}{// Check that we've reached a fixpoint.}}
\DoxyCodeLine{292     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_ac339f6f302b0b78ff67ece20a8910646}{VerifyEscapeAnalysis}}(\mbox{\hyperlink{flag-definitions_8h_a06b2b7e5d08192bb493bba69cb19a7a8}{graph}});}
\DoxyCodeLine{293   \}}

\end{DoxyCode}


References Escape\+Allocation(), graph(), and Verify\+Escape\+Analysis().



Referenced by Post\+Process\+Graph().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_a42c1668f75a4a9985e965912c45f210c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_a42c1668f75a4a9985e965912c45f210c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_ac339f6f302b0b78ff67ece20a8910646}\label{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_ac339f6f302b0b78ff67ece20a8910646}} 
\index{v8::internal::maglev::AnyUseMarkingProcessor@{v8::internal::maglev::AnyUseMarkingProcessor}!VerifyEscapeAnalysis@{VerifyEscapeAnalysis}}
\index{VerifyEscapeAnalysis@{VerifyEscapeAnalysis}!v8::internal::maglev::AnyUseMarkingProcessor@{v8::internal::maglev::AnyUseMarkingProcessor}}
\doxysubsubsection{\texorpdfstring{VerifyEscapeAnalysis()}{VerifyEscapeAnalysis()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Any\+Use\+Marking\+Processor\+::\+Verify\+Escape\+Analysis (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph}{Graph}} $\ast$}]{graph }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 263 of file maglev-\/post-\/hoc-\/optimizations-\/processors.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{263                                           \{}
\DoxyCodeLine{264 \textcolor{preprocessor}{\#ifdef DEBUG}}
\DoxyCodeLine{265     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& it : \mbox{\hyperlink{flag-definitions_8h_a06b2b7e5d08192bb493bba69cb19a7a8}{graph}}-\/>allocations\_escape\_map()) \{}
\DoxyCodeLine{266       \textcolor{keyword}{auto}* alloc = it.first;}
\DoxyCodeLine{267       \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(alloc-\/>HasBeenAnalysed());}
\DoxyCodeLine{268       \textcolor{keywordflow}{if} (alloc-\/>HasEscaped()) \{}
\DoxyCodeLine{269         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}* dep : it.second) \{}
\DoxyCodeLine{270           \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(dep-\/>HasEscaped());}
\DoxyCodeLine{271         \}}
\DoxyCodeLine{272       \}}
\DoxyCodeLine{273     \}}
\DoxyCodeLine{274 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// DEBUG}}
\DoxyCodeLine{275   \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), and graph().



Referenced by Run\+Escape\+Analysis().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_ac339f6f302b0b78ff67ece20a8910646_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_ac339f6f302b0b78ff67ece20a8910646_icgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_a389a675274f9ac7cf46f471d565f184f}\label{classv8_1_1internal_1_1maglev_1_1AnyUseMarkingProcessor_a389a675274f9ac7cf46f471d565f184f}} 
\index{v8::internal::maglev::AnyUseMarkingProcessor@{v8::internal::maglev::AnyUseMarkingProcessor}!stores\_to\_allocations\_@{stores\_to\_allocations\_}}
\index{stores\_to\_allocations\_@{stores\_to\_allocations\_}!v8::internal::maglev::AnyUseMarkingProcessor@{v8::internal::maglev::AnyUseMarkingProcessor}}
\doxysubsubsection{\texorpdfstring{stores\_to\_allocations\_}{stores\_to\_allocations\_}}
{\footnotesize\ttfamily std\+::vector$<$\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Node}{Node}}$\ast$$>$ v8\+::internal\+::maglev\+::\+Any\+Use\+Marking\+Processor\+::stores\+\_\+to\+\_\+allocations\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 251 of file maglev-\/post-\/hoc-\/optimizations-\/processors.\+h.



Referenced by Drop\+Use\+Of\+Value\+In\+Stores\+To\+Captured\+Allocations(), and Process().



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/maglev/\mbox{\hyperlink{maglev-post-hoc-optimizations-processors_8h}{maglev-\/post-\/hoc-\/optimizations-\/processors.\+h}}\end{DoxyCompactItemize}
