\hypertarget{classv8_1_1AsyncHooks}{}\doxysection{v8\+::Async\+Hooks Class Reference}
\label{classv8_1_1AsyncHooks}\index{v8::AsyncHooks@{v8::AsyncHooks}}


{\ttfamily \#include $<$async-\/hooks-\/wrapper.\+h$>$}



Collaboration diagram for v8\+::Async\+Hooks\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1AsyncHooks__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1AsyncHooks_abbd3562c0d8cb176e0de48201b390374}{Async\+Hooks}} (\mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$isolate)
\item 
\mbox{\hyperlink{classv8_1_1AsyncHooks_aba36b40fdc4892a6ba446ee9c2a67ca4}{$\sim$\+Async\+Hooks}} ()
\item 
\mbox{\hyperlink{namespacev8_a14d0a730f3043cc395829b2d90b8b9d1}{async\+\_\+id\+\_\+t}} \mbox{\hyperlink{classv8_1_1AsyncHooks_ad0e6836aaf8f85b0a6066622ab4c0bf2}{Get\+Execution\+Async\+Id}} () const
\item 
\mbox{\hyperlink{namespacev8_a14d0a730f3043cc395829b2d90b8b9d1}{async\+\_\+id\+\_\+t}} \mbox{\hyperlink{classv8_1_1AsyncHooks_aa127cae84831c8f8c8bd296e2ea09c2a}{Get\+Trigger\+Async\+Id}} () const
\item 
\mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ \mbox{\hyperlink{classv8_1_1Object}{Object}} $>$ \mbox{\hyperlink{classv8_1_1AsyncHooks_afa0b093ad05424f97f4cc78303573b67}{Create\+Hook}} (const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&info)
\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1Persistent}{Persistent}}$<$ \mbox{\hyperlink{classv8_1_1FunctionTemplate}{Function\+Template}} $>$ \mbox{\hyperlink{classv8_1_1AsyncHooks_a801c22bfdf4da8138d2d5b4ad6af7f4f}{async\+\_\+hook\+\_\+ctor}}
\end{DoxyCompactItemize}
\doxysubsection*{Static Private Member Functions}
\begin{DoxyCompactItemize}
\item 
static void \mbox{\hyperlink{classv8_1_1AsyncHooks_ae391544ad847267fc35b19f2da14cc56}{Shell\+Promise\+Hook}} (\mbox{\hyperlink{namespacev8_afe9d9e16c02074ac8482a8f09e19d5cc}{Promise\+Hook\+Type}} type, \mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ \mbox{\hyperlink{classv8_1_1Promise}{Promise}} $>$ promise, \mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ \mbox{\hyperlink{classv8_1_1Value}{Value}} $>$ parent)
\item 
static void \mbox{\hyperlink{classv8_1_1AsyncHooks_a4bad637d4d78c7b76e3a12faebab641d}{Promise\+Hook\+Dispatch}} (\mbox{\hyperlink{namespacev8_afe9d9e16c02074ac8482a8f09e19d5cc}{Promise\+Hook\+Type}} type, \mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ \mbox{\hyperlink{classv8_1_1Promise}{Promise}} $>$ promise, \mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ \mbox{\hyperlink{classv8_1_1Value}{Value}} $>$ parent, const \mbox{\hyperlink{classv8_1_1AsyncHooksWrap}{Async\+Hooks\+Wrap}} \&wrap, \mbox{\hyperlink{classv8_1_1AsyncHooks}{Async\+Hooks}} $\ast$hooks)
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::vector$<$ std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1AsyncHooksWrap}{Async\+Hooks\+Wrap}} $>$ $>$ \mbox{\hyperlink{classv8_1_1AsyncHooks_a9c5282d0a942903d158567199a2536cf}{async\+\_\+wraps\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1Isolate}{v8\+::\+Isolate}} $\ast$ \mbox{\hyperlink{classv8_1_1AsyncHooks_a74f5eda33b5417a0d664cd937a3a95a7}{v8\+\_\+isolate\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1Persistent}{Persistent}}$<$ \mbox{\hyperlink{classv8_1_1ObjectTemplate}{Object\+Template}} $>$ \mbox{\hyperlink{classv8_1_1AsyncHooks_a58354fa73d54903659980fbe293217fe}{async\+\_\+hooks\+\_\+templ}}
\item 
\mbox{\hyperlink{classv8_1_1Persistent}{Persistent}}$<$ \mbox{\hyperlink{classv8_1_1Private}{Private}} $>$ \mbox{\hyperlink{classv8_1_1AsyncHooks_ae229fecbd74b05401aecdf20cebc0d8a}{async\+\_\+id\+\_\+symbol}}
\item 
\mbox{\hyperlink{classv8_1_1Persistent}{Persistent}}$<$ \mbox{\hyperlink{classv8_1_1Private}{Private}} $>$ \mbox{\hyperlink{classv8_1_1AsyncHooks_a9b57a226162f1ce3ed36c089c11c1cab}{trigger\+\_\+id\+\_\+symbol}}
\item 
std\+::stack$<$ \mbox{\hyperlink{structv8_1_1AsyncContext}{Async\+Context}} $>$ \mbox{\hyperlink{classv8_1_1AsyncHooks_a2a9fe1ca20b63e9ca92a889343e753b0}{async\+Contexts}}
\item 
\mbox{\hyperlink{namespacev8_a14d0a730f3043cc395829b2d90b8b9d1}{async\+\_\+id\+\_\+t}} \mbox{\hyperlink{classv8_1_1AsyncHooks_a811654166c82a3217092bdd911f29d7d}{current\+\_\+async\+\_\+id}}
\item 
bool \mbox{\hyperlink{classv8_1_1AsyncHooks_a76ae20afd8fefd92815254ace8ca8e54}{skip\+\_\+after\+\_\+termination\+\_\+}} = \mbox{\hyperlink{flag-definitions_8h_a3a9beadc89284d3f78a7d4945b1b4d8c}{false}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 60 of file async-\/hooks-\/wrapper.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1AsyncHooks_abbd3562c0d8cb176e0de48201b390374}\label{classv8_1_1AsyncHooks_abbd3562c0d8cb176e0de48201b390374}} 
\index{v8::AsyncHooks@{v8::AsyncHooks}!AsyncHooks@{AsyncHooks}}
\index{AsyncHooks@{AsyncHooks}!v8::AsyncHooks@{v8::AsyncHooks}}
\doxysubsubsection{\texorpdfstring{AsyncHooks()}{AsyncHooks()}}
{\footnotesize\ttfamily v8\+::\+Async\+Hooks\+::\+Async\+Hooks (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1Isolate}{v8\+::\+Isolate}} $\ast$}]{v8\+\_\+isolate }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}



Definition at line 54 of file async-\/hooks-\/wrapper.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{54                                             : \mbox{\hyperlink{classv8_1_1AsyncHooks_a74f5eda33b5417a0d664cd937a3a95a7}{v8\_isolate\_}}(v8\_isolate) \{}
\DoxyCodeLine{55   AsyncContext ctx;}
\DoxyCodeLine{56   ctx.execution\_async\_id = 1;}
\DoxyCodeLine{57   ctx.trigger\_async\_id = 0;}
\DoxyCodeLine{58   \mbox{\hyperlink{classv8_1_1AsyncHooks_a2a9fe1ca20b63e9ca92a889343e753b0}{asyncContexts}}.push(ctx);}
\DoxyCodeLine{59   \mbox{\hyperlink{classv8_1_1AsyncHooks_a811654166c82a3217092bdd911f29d7d}{current\_async\_id}} = 1;}
\DoxyCodeLine{60 }
\DoxyCodeLine{61   HandleScope handle\_scope(\mbox{\hyperlink{classv8_1_1AsyncHooks_a74f5eda33b5417a0d664cd937a3a95a7}{v8\_isolate\_}});}
\DoxyCodeLine{62 }
\DoxyCodeLine{63   \mbox{\hyperlink{classv8_1_1AsyncHooks_a801c22bfdf4da8138d2d5b4ad6af7f4f}{async\_hook\_ctor}}.Reset(\mbox{\hyperlink{classv8_1_1AsyncHooks_a74f5eda33b5417a0d664cd937a3a95a7}{v8\_isolate\_}}, \mbox{\hyperlink{classv8_1_1FunctionTemplate_a41c3051fd8bba064a0de7f2d16488d99}{FunctionTemplate::New}}(\mbox{\hyperlink{classv8_1_1AsyncHooks_a74f5eda33b5417a0d664cd937a3a95a7}{v8\_isolate\_}}));}
\DoxyCodeLine{64   \mbox{\hyperlink{classv8_1_1AsyncHooks_a801c22bfdf4da8138d2d5b4ad6af7f4f}{async\_hook\_ctor}}.Get(\mbox{\hyperlink{classv8_1_1AsyncHooks_a74f5eda33b5417a0d664cd937a3a95a7}{v8\_isolate\_}})}
\DoxyCodeLine{65       -\/>SetClassName(\mbox{\hyperlink{classv8_1_1String_a7173d65b0e50225bf63d98d179b9821c}{String::NewFromUtf8Literal}}(\mbox{\hyperlink{classv8_1_1AsyncHooks_a74f5eda33b5417a0d664cd937a3a95a7}{v8\_isolate\_}}, \textcolor{stringliteral}{"{}AsyncHook"{}}));}
\DoxyCodeLine{66 }
\DoxyCodeLine{67   \mbox{\hyperlink{classv8_1_1AsyncHooks_a58354fa73d54903659980fbe293217fe}{async\_hooks\_templ}}.Reset(\mbox{\hyperlink{classv8_1_1AsyncHooks_a74f5eda33b5417a0d664cd937a3a95a7}{v8\_isolate\_}},}
\DoxyCodeLine{68                           \mbox{\hyperlink{classv8_1_1AsyncHooks_a801c22bfdf4da8138d2d5b4ad6af7f4f}{async\_hook\_ctor}}.Get(\mbox{\hyperlink{classv8_1_1AsyncHooks_a74f5eda33b5417a0d664cd937a3a95a7}{v8\_isolate\_}})-\/>InstanceTemplate());}
\DoxyCodeLine{69   \mbox{\hyperlink{classv8_1_1AsyncHooks_a58354fa73d54903659980fbe293217fe}{async\_hooks\_templ}}.Get(\mbox{\hyperlink{classv8_1_1AsyncHooks_a74f5eda33b5417a0d664cd937a3a95a7}{v8\_isolate\_}})-\/>SetInternalFieldCount(1);}
\DoxyCodeLine{70   \mbox{\hyperlink{classv8_1_1AsyncHooks_a58354fa73d54903659980fbe293217fe}{async\_hooks\_templ}}.Get(\mbox{\hyperlink{classv8_1_1AsyncHooks_a74f5eda33b5417a0d664cd937a3a95a7}{v8\_isolate\_}})}
\DoxyCodeLine{71       -\/>Set(\mbox{\hyperlink{classv8_1_1AsyncHooks_a74f5eda33b5417a0d664cd937a3a95a7}{v8\_isolate\_}}, \textcolor{stringliteral}{"{}enable"{}},}
\DoxyCodeLine{72             \mbox{\hyperlink{classv8_1_1FunctionTemplate_a41c3051fd8bba064a0de7f2d16488d99}{FunctionTemplate::New}}(\mbox{\hyperlink{classv8_1_1AsyncHooks_a74f5eda33b5417a0d664cd937a3a95a7}{v8\_isolate\_}}, \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02async-hooks-wrapper_8cc_03_a3d6a2f8103f78363623d4a0a4b1f46dc}{EnableHook}}));}
\DoxyCodeLine{73   \mbox{\hyperlink{classv8_1_1AsyncHooks_a58354fa73d54903659980fbe293217fe}{async\_hooks\_templ}}.Get(\mbox{\hyperlink{classv8_1_1AsyncHooks_a74f5eda33b5417a0d664cd937a3a95a7}{v8\_isolate\_}})}
\DoxyCodeLine{74       -\/>Set(\mbox{\hyperlink{classv8_1_1AsyncHooks_a74f5eda33b5417a0d664cd937a3a95a7}{v8\_isolate\_}}, \textcolor{stringliteral}{"{}disable"{}},}
\DoxyCodeLine{75             \mbox{\hyperlink{classv8_1_1FunctionTemplate_a41c3051fd8bba064a0de7f2d16488d99}{FunctionTemplate::New}}(\mbox{\hyperlink{classv8_1_1AsyncHooks_a74f5eda33b5417a0d664cd937a3a95a7}{v8\_isolate\_}}, \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02async-hooks-wrapper_8cc_03_a80bf3ecce78a1192f9e5def1a8040126}{DisableHook}}));}
\DoxyCodeLine{76 }
\DoxyCodeLine{77   \mbox{\hyperlink{classv8_1_1AsyncHooks_ae229fecbd74b05401aecdf20cebc0d8a}{async\_id\_symbol}}.Reset(\mbox{\hyperlink{classv8_1_1AsyncHooks_a74f5eda33b5417a0d664cd937a3a95a7}{v8\_isolate\_}}, \mbox{\hyperlink{classv8_1_1Private_ac23e6937de502a4aa3e239e67c6c3c2e}{Private::New}}(\mbox{\hyperlink{classv8_1_1AsyncHooks_a74f5eda33b5417a0d664cd937a3a95a7}{v8\_isolate\_}}));}
\DoxyCodeLine{78   \mbox{\hyperlink{classv8_1_1AsyncHooks_a9b57a226162f1ce3ed36c089c11c1cab}{trigger\_id\_symbol}}.Reset(\mbox{\hyperlink{classv8_1_1AsyncHooks_a74f5eda33b5417a0d664cd937a3a95a7}{v8\_isolate\_}}, \mbox{\hyperlink{classv8_1_1Private_ac23e6937de502a4aa3e239e67c6c3c2e}{Private::New}}(\mbox{\hyperlink{classv8_1_1AsyncHooks_a74f5eda33b5417a0d664cd937a3a95a7}{v8\_isolate\_}}));}
\DoxyCodeLine{79 }
\DoxyCodeLine{80   \mbox{\hyperlink{classv8_1_1AsyncHooks_a74f5eda33b5417a0d664cd937a3a95a7}{v8\_isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1Isolate_a707579804058f6d831fe091682e31274}{SetPromiseHook}}(\mbox{\hyperlink{classv8_1_1AsyncHooks_ae391544ad847267fc35b19f2da14cc56}{ShellPromiseHook}});}
\DoxyCodeLine{81 \}}

\end{DoxyCode}


References async\+\_\+hook\+\_\+ctor, async\+\_\+hooks\+\_\+templ, async\+\_\+id\+\_\+symbol, async\+Contexts, current\+\_\+async\+\_\+id, v8\+::anonymous\+\_\+namespace\{async-\/hooks-\/wrapper.\+cc\}\+::\+Disable\+Hook(), v8\+::anonymous\+\_\+namespace\{async-\/hooks-\/wrapper.\+cc\}\+::\+Enable\+Hook(), v8\+::\+Async\+Context\+::execution\+\_\+async\+\_\+id, v8\+::\+Function\+Template\+::\+New(), v8\+::\+Private\+::\+New(), v8\+::\+String\+::\+New\+From\+Utf8\+Literal(), v8\+::\+Isolate\+::\+Set\+Promise\+Hook(), Shell\+Promise\+Hook(), v8\+::\+Async\+Context\+::trigger\+\_\+async\+\_\+id, trigger\+\_\+id\+\_\+symbol, and v8\+\_\+isolate\+\_\+.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1AsyncHooks_abbd3562c0d8cb176e0de48201b390374_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1AsyncHooks_aba36b40fdc4892a6ba446ee9c2a67ca4}\label{classv8_1_1AsyncHooks_aba36b40fdc4892a6ba446ee9c2a67ca4}} 
\index{v8::AsyncHooks@{v8::AsyncHooks}!````~AsyncHooks@{$\sim$AsyncHooks}}
\index{````~AsyncHooks@{$\sim$AsyncHooks}!v8::AsyncHooks@{v8::AsyncHooks}}
\doxysubsubsection{\texorpdfstring{$\sim$AsyncHooks()}{~AsyncHooks()}}
{\footnotesize\ttfamily v8\+::\+Async\+Hooks\+::$\sim$\+Async\+Hooks (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 83 of file async-\/hooks-\/wrapper.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{83                         \{}
\DoxyCodeLine{84   \mbox{\hyperlink{classv8_1_1AsyncHooks_a74f5eda33b5417a0d664cd937a3a95a7}{v8\_isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1Isolate_a707579804058f6d831fe091682e31274}{SetPromiseHook}}(\textcolor{keyword}{nullptr});}
\DoxyCodeLine{85   \mbox{\hyperlink{classv8_1_1AsyncHooks_a9c5282d0a942903d158567199a2536cf}{async\_wraps\_}}.clear();}
\DoxyCodeLine{86 \}}

\end{DoxyCode}


References async\+\_\+wraps\+\_\+, v8\+::\+Isolate\+::\+Set\+Promise\+Hook(), and v8\+\_\+isolate\+\_\+.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1AsyncHooks_aba36b40fdc4892a6ba446ee9c2a67ca4_cgraph}
\end{center}
\end{figure}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1AsyncHooks_afa0b093ad05424f97f4cc78303573b67}\label{classv8_1_1AsyncHooks_afa0b093ad05424f97f4cc78303573b67}} 
\index{v8::AsyncHooks@{v8::AsyncHooks}!CreateHook@{CreateHook}}
\index{CreateHook@{CreateHook}!v8::AsyncHooks@{v8::AsyncHooks}}
\doxysubsubsection{\texorpdfstring{CreateHook()}{CreateHook()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ \mbox{\hyperlink{classv8_1_1Object}{Object}} $>$ v8\+::\+Async\+Hooks\+::\+Create\+Hook (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&}]{info }\end{DoxyParamCaption})}



Definition at line 126 of file async-\/hooks-\/wrapper.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{127                                                  \{}
\DoxyCodeLine{128   \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(\mbox{\hyperlink{namespacev8_1_1internal_aa0a84af2b2a0cf0453cc75fc22679b28}{i::ValidateCallbackInfo}}(info));}
\DoxyCodeLine{129   \mbox{\hyperlink{classv8_1_1Isolate}{v8::Isolate}}* v8\_isolate = info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_a7eee713a6f95d5707ce788861754682f}{GetIsolate}}();}
\DoxyCodeLine{130   EscapableHandleScope handle\_scope(v8\_isolate);}
\DoxyCodeLine{131 }
\DoxyCodeLine{132   \textcolor{keywordflow}{if} (v8\_isolate-\/>\mbox{\hyperlink{classv8_1_1Isolate_aee57283198c192e83afe5e7d12d42e85}{IsExecutionTerminating}}()) \{}
\DoxyCodeLine{133     \textcolor{keywordflow}{return} Local<Object>();}
\DoxyCodeLine{134   \}}
\DoxyCodeLine{135 }
\DoxyCodeLine{136   Local<Context> currentContext = v8\_isolate-\/>\mbox{\hyperlink{classv8_1_1Isolate_af68803b1b9fb0bf76107f56a7a762fac}{GetCurrentContext}}();}
\DoxyCodeLine{137 }
\DoxyCodeLine{138   \textcolor{keywordflow}{if} (info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_af97dd3f1cb01ed039f9479152ad63a84}{Length}}() != 1 || !info[0]-\/>IsObject()) \{}
\DoxyCodeLine{139     v8\_isolate-\/>\mbox{\hyperlink{classv8_1_1Isolate_a630166a6a770ece436ebcea8f27e8da8}{ThrowError}}(\textcolor{stringliteral}{"{}Invalid arguments passed to createHook"{}});}
\DoxyCodeLine{140     \textcolor{keywordflow}{return} Local<Object>();}
\DoxyCodeLine{141   \}}
\DoxyCodeLine{142 }
\DoxyCodeLine{143   std::shared\_ptr<AsyncHooksWrap> wrap =}
\DoxyCodeLine{144       std::make\_shared<AsyncHooksWrap>(v8\_isolate);}
\DoxyCodeLine{145 }
\DoxyCodeLine{146   Local<Object> fn\_obj = info[0].As<\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_ae40ecf79ba420ba01bc347350bd6176f}{Object}}>();}
\DoxyCodeLine{147 }
\DoxyCodeLine{148   \mbox{\hyperlink{classv8_1_1TryCatch}{v8::TryCatch}} try\_catch(v8\_isolate);}
\DoxyCodeLine{149 \textcolor{preprocessor}{\#define SET\_HOOK\_FN(name)                                                     \(\backslash\)}}
\DoxyCodeLine{150 \textcolor{preprocessor}{  MaybeLocal<Value> name\#\#\_maybe\_func = fn\_obj-\/>Get(                          \(\backslash\)}}
\DoxyCodeLine{151 \textcolor{preprocessor}{      currentContext, String::NewFromUtf8Literal(v8\_isolate, \#name));         \(\backslash\)}}
\DoxyCodeLine{152 \textcolor{preprocessor}{  Local<Value> name\#\#\_func;                                                   \(\backslash\)}}
\DoxyCodeLine{153 \textcolor{preprocessor}{  if (name\#\#\_maybe\_func.ToLocal(\&name\#\#\_func) \&\& name\#\#\_func-\/>IsFunction()) \{ \(\backslash\)}}
\DoxyCodeLine{154 \textcolor{preprocessor}{    wrap-\/>set\_\#\#name\#\#\_function(name\#\#\_func.As<Function>());                  \(\backslash\)}}
\DoxyCodeLine{155 \textcolor{preprocessor}{  \} else \{                                                                    \(\backslash\)}}
\DoxyCodeLine{156 \textcolor{preprocessor}{    try\_catch.ReThrow();                                                      \(\backslash\)}}
\DoxyCodeLine{157 \textcolor{preprocessor}{  \}}}
\DoxyCodeLine{158 }
\DoxyCodeLine{159   \mbox{\hyperlink{async-hooks-wrapper_8cc_aa570d35b9e37d901b8f3c4410aad59bb}{SET\_HOOK\_FN}}(init);}
\DoxyCodeLine{160   \mbox{\hyperlink{async-hooks-wrapper_8cc_aa570d35b9e37d901b8f3c4410aad59bb}{SET\_HOOK\_FN}}(before);}
\DoxyCodeLine{161   \mbox{\hyperlink{async-hooks-wrapper_8cc_aa570d35b9e37d901b8f3c4410aad59bb}{SET\_HOOK\_FN}}(after);}
\DoxyCodeLine{162   \mbox{\hyperlink{async-hooks-wrapper_8cc_aa570d35b9e37d901b8f3c4410aad59bb}{SET\_HOOK\_FN}}(promiseResolve);}
\DoxyCodeLine{163 \textcolor{preprocessor}{\#undef SET\_HOOK\_FN}}
\DoxyCodeLine{164 }
\DoxyCodeLine{165   Local<Object> obj = \mbox{\hyperlink{classv8_1_1AsyncHooks_a58354fa73d54903659980fbe293217fe}{async\_hooks\_templ}}.Get(v8\_isolate)}
\DoxyCodeLine{166                           -\/>NewInstance(currentContext)}
\DoxyCodeLine{167                           .ToLocalChecked();}
\DoxyCodeLine{168   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::Object>}} managed = \mbox{\hyperlink{classv8_1_1internal_1_1Managed_a1c10cb948281b864db32d8af25a7b7d9}{i::Managed<AsyncHooksWrap>::From}}(}
\DoxyCodeLine{169       \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{i::Isolate}}*\textcolor{keyword}{>}(v8\_isolate), \textcolor{keyword}{sizeof}(AsyncHooksWrap), wrap);}
\DoxyCodeLine{170   obj-\/>SetInternalField(0, Utils::ToLocal(managed));}
\DoxyCodeLine{171 }
\DoxyCodeLine{172   \mbox{\hyperlink{classv8_1_1AsyncHooks_a9c5282d0a942903d158567199a2536cf}{async\_wraps\_}}.push\_back(std::move(wrap));}
\DoxyCodeLine{173 }
\DoxyCodeLine{174   \textcolor{keywordflow}{return} handle\_scope.Escape(obj);}
\DoxyCodeLine{175 \}}

\end{DoxyCode}


References async\+\_\+hooks\+\_\+templ, async\+\_\+wraps\+\_\+, DCHECK, v8\+::\+Escapable\+Handle\+Scope\+::\+Escape(), v8\+::internal\+::\+Managed$<$ Cpp\+Type $>$\+::\+From(), v8\+::\+Isolate\+::\+Get\+Current\+Context(), v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Get\+Isolate(), v8\+::\+Isolate\+::\+Is\+Execution\+Terminating(), v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Length(), SET\+\_\+\+HOOK\+\_\+\+FN, v8\+::\+Object\+::\+Set\+Internal\+Field(), v8\+::\+Isolate\+::\+Throw\+Error(), and v8\+::internal\+::\+Validate\+Callback\+Info().



Referenced by v8\+::\+Shell\+::\+Async\+Hooks\+Create\+Hook().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1AsyncHooks_afa0b093ad05424f97f4cc78303573b67_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1AsyncHooks_afa0b093ad05424f97f4cc78303573b67_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1AsyncHooks_ad0e6836aaf8f85b0a6066622ab4c0bf2}\label{classv8_1_1AsyncHooks_ad0e6836aaf8f85b0a6066622ab4c0bf2}} 
\index{v8::AsyncHooks@{v8::AsyncHooks}!GetExecutionAsyncId@{GetExecutionAsyncId}}
\index{GetExecutionAsyncId@{GetExecutionAsyncId}!v8::AsyncHooks@{v8::AsyncHooks}}
\doxysubsubsection{\texorpdfstring{GetExecutionAsyncId()}{GetExecutionAsyncId()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_a14d0a730f3043cc395829b2d90b8b9d1}{async\+\_\+id\+\_\+t}} v8\+::\+Async\+Hooks\+::\+Get\+Execution\+Async\+Id (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Definition at line 118 of file async-\/hooks-\/wrapper.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{118                                                  \{}
\DoxyCodeLine{119   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1AsyncHooks_a2a9fe1ca20b63e9ca92a889343e753b0}{asyncContexts}}.top().execution\_async\_id;}
\DoxyCodeLine{120 \}}

\end{DoxyCode}


References async\+Contexts.

\mbox{\Hypertarget{classv8_1_1AsyncHooks_aa127cae84831c8f8c8bd296e2ea09c2a}\label{classv8_1_1AsyncHooks_aa127cae84831c8f8c8bd296e2ea09c2a}} 
\index{v8::AsyncHooks@{v8::AsyncHooks}!GetTriggerAsyncId@{GetTriggerAsyncId}}
\index{GetTriggerAsyncId@{GetTriggerAsyncId}!v8::AsyncHooks@{v8::AsyncHooks}}
\doxysubsubsection{\texorpdfstring{GetTriggerAsyncId()}{GetTriggerAsyncId()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_a14d0a730f3043cc395829b2d90b8b9d1}{async\+\_\+id\+\_\+t}} v8\+::\+Async\+Hooks\+::\+Get\+Trigger\+Async\+Id (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Definition at line 122 of file async-\/hooks-\/wrapper.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{122                                                \{}
\DoxyCodeLine{123   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1AsyncHooks_a2a9fe1ca20b63e9ca92a889343e753b0}{asyncContexts}}.top().trigger\_async\_id;}
\DoxyCodeLine{124 \}}

\end{DoxyCode}


References async\+Contexts.

\mbox{\Hypertarget{classv8_1_1AsyncHooks_a4bad637d4d78c7b76e3a12faebab641d}\label{classv8_1_1AsyncHooks_a4bad637d4d78c7b76e3a12faebab641d}} 
\index{v8::AsyncHooks@{v8::AsyncHooks}!PromiseHookDispatch@{PromiseHookDispatch}}
\index{PromiseHookDispatch@{PromiseHookDispatch}!v8::AsyncHooks@{v8::AsyncHooks}}
\doxysubsubsection{\texorpdfstring{PromiseHookDispatch()}{PromiseHookDispatch()}}
{\footnotesize\ttfamily void v8\+::\+Async\+Hooks\+::\+Promise\+Hook\+Dispatch (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_afe9d9e16c02074ac8482a8f09e19d5cc}{Promise\+Hook\+Type}}}]{type,  }\item[{\mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ \mbox{\hyperlink{classv8_1_1Promise}{Promise}} $>$}]{promise,  }\item[{\mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ \mbox{\hyperlink{classv8_1_1Value}{Value}} $>$}]{parent,  }\item[{const \mbox{\hyperlink{classv8_1_1AsyncHooksWrap}{Async\+Hooks\+Wrap}} \&}]{wrap,  }\item[{\mbox{\hyperlink{classv8_1_1AsyncHooks}{Async\+Hooks}} $\ast$}]{hooks }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 261 of file async-\/hooks-\/wrapper.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{265                                                         \{}
\DoxyCodeLine{266   \textcolor{keywordflow}{if} (!wrap.IsEnabled()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{267   \mbox{\hyperlink{classv8_1_1Isolate}{v8::Isolate}}* v8\_isolate = hooks-\/>v8\_isolate\_;}
\DoxyCodeLine{268   \textcolor{keywordflow}{if} (v8\_isolate-\/>\mbox{\hyperlink{classv8_1_1Isolate_aee57283198c192e83afe5e7d12d42e85}{IsExecutionTerminating}}()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{269   HandleScope handle\_scope(v8\_isolate);}
\DoxyCodeLine{270 }
\DoxyCodeLine{271   Local<Value> rcv = \mbox{\hyperlink{namespacev8_a2ff3682899e967e165efa3460661c851}{Undefined}}(v8\_isolate);}
\DoxyCodeLine{272   Local<Context> context = v8\_isolate-\/>\mbox{\hyperlink{classv8_1_1Isolate_af68803b1b9fb0bf76107f56a7a762fac}{GetCurrentContext}}();}
\DoxyCodeLine{273   Local<Value> async\_id =}
\DoxyCodeLine{274       promise-\/>GetPrivate(context, hooks-\/>async\_id\_symbol.Get(v8\_isolate))}
\DoxyCodeLine{275           .ToLocalChecked();}
\DoxyCodeLine{276   Local<Value> \mbox{\hyperlink{namespacev8_1_1base_ad03b241da4e98adde3145092fe54be8b}{args}}[1] = \{async\_id\};}
\DoxyCodeLine{277 }
\DoxyCodeLine{278   \textcolor{keywordflow}{switch} (\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}}) \{}
\DoxyCodeLine{279     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_afe9d9e16c02074ac8482a8f09e19d5ccab217b1cb58a6ee4ef35a6c84cf367659}{PromiseHookType::kInit}}:}
\DoxyCodeLine{280       \textcolor{keywordflow}{if} (!wrap.init\_function().IsEmpty()) \{}
\DoxyCodeLine{281         Local<Value> initArgs[4] = \{}
\DoxyCodeLine{282             async\_id, \mbox{\hyperlink{classv8_1_1String_a7173d65b0e50225bf63d98d179b9821c}{String::NewFromUtf8Literal}}(v8\_isolate, \textcolor{stringliteral}{"{}PROMISE"{}}),}
\DoxyCodeLine{283             promise}
\DoxyCodeLine{284                 -\/>GetPrivate(context, hooks-\/>trigger\_id\_symbol.Get(v8\_isolate))}
\DoxyCodeLine{285                 .ToLocalChecked(),}
\DoxyCodeLine{286             promise\};}
\DoxyCodeLine{287         \mbox{\hyperlink{src_2base_2macros_8h_a280b0798f270f4b3f361c9ab64832956}{USE}}(wrap.init\_function()-\/>Call(context, rcv, 4, initArgs));}
\DoxyCodeLine{288       \}}
\DoxyCodeLine{289       \textcolor{keywordflow}{break};}
\DoxyCodeLine{290     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_afe9d9e16c02074ac8482a8f09e19d5cca4e9eada02e7312ba2311abb8453451c6}{PromiseHookType::kBefore}}:}
\DoxyCodeLine{291       \textcolor{keywordflow}{if} (!wrap.before\_function().IsEmpty()) \{}
\DoxyCodeLine{292         \mbox{\hyperlink{src_2base_2macros_8h_a280b0798f270f4b3f361c9ab64832956}{USE}}(wrap.before\_function()-\/>Call(context, rcv, 1, \mbox{\hyperlink{namespacev8_1_1base_ad03b241da4e98adde3145092fe54be8b}{args}}));}
\DoxyCodeLine{293       \}}
\DoxyCodeLine{294       \textcolor{keywordflow}{break};}
\DoxyCodeLine{295     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_afe9d9e16c02074ac8482a8f09e19d5ccac8c795f4a70925da9b965f3fd2c5a5a4}{PromiseHookType::kAfter}}:}
\DoxyCodeLine{296       \textcolor{keywordflow}{if} (!wrap.after\_function().IsEmpty()) \{}
\DoxyCodeLine{297         \mbox{\hyperlink{src_2base_2macros_8h_a280b0798f270f4b3f361c9ab64832956}{USE}}(wrap.after\_function()-\/>Call(context, rcv, 1, \mbox{\hyperlink{namespacev8_1_1base_ad03b241da4e98adde3145092fe54be8b}{args}}));}
\DoxyCodeLine{298       \}}
\DoxyCodeLine{299       \textcolor{keywordflow}{break};}
\DoxyCodeLine{300     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_afe9d9e16c02074ac8482a8f09e19d5cca73ce23530eb7684cd06a6f076acf1d7d}{PromiseHookType::kResolve}}:}
\DoxyCodeLine{301       \textcolor{keywordflow}{if} (!wrap.promiseResolve\_function().IsEmpty()) \{}
\DoxyCodeLine{302         \mbox{\hyperlink{src_2base_2macros_8h_a280b0798f270f4b3f361c9ab64832956}{USE}}(wrap.promiseResolve\_function()-\/>Call(context, rcv, 1, \mbox{\hyperlink{namespacev8_1_1base_ad03b241da4e98adde3145092fe54be8b}{args}}));}
\DoxyCodeLine{303       \}}
\DoxyCodeLine{304   \}}
\DoxyCodeLine{305 \}}

\end{DoxyCode}


References v8\+::\+Async\+Hooks\+Wrap\+::after\+\_\+function(), v8\+::base\+::args, async\+\_\+id\+\_\+symbol, v8\+::\+Async\+Hooks\+Wrap\+::before\+\_\+function(), v8\+::\+Isolate\+::\+Get\+Current\+Context(), v8\+::\+Async\+Hooks\+Wrap\+::init\+\_\+function(), v8\+::\+Async\+Hooks\+Wrap\+::\+Is\+Enabled(), v8\+::\+Isolate\+::\+Is\+Execution\+Terminating(), v8\+::k\+After, v8\+::k\+Before, v8\+::k\+Init, v8\+::k\+Resolve, v8\+::\+String\+::\+New\+From\+Utf8\+Literal(), v8\+::\+Async\+Hooks\+Wrap\+::promise\+Resolve\+\_\+function(), trigger\+\_\+id\+\_\+symbol, v8\+::internal\+::tracing\+::type, v8\+::\+Undefined(), USE, and v8\+\_\+isolate\+\_\+.



Referenced by Shell\+Promise\+Hook().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1AsyncHooks_a4bad637d4d78c7b76e3a12faebab641d_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1AsyncHooks_a4bad637d4d78c7b76e3a12faebab641d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1AsyncHooks_ae391544ad847267fc35b19f2da14cc56}\label{classv8_1_1AsyncHooks_ae391544ad847267fc35b19f2da14cc56}} 
\index{v8::AsyncHooks@{v8::AsyncHooks}!ShellPromiseHook@{ShellPromiseHook}}
\index{ShellPromiseHook@{ShellPromiseHook}!v8::AsyncHooks@{v8::AsyncHooks}}
\doxysubsubsection{\texorpdfstring{ShellPromiseHook()}{ShellPromiseHook()}}
{\footnotesize\ttfamily void v8\+::\+Async\+Hooks\+::\+Shell\+Promise\+Hook (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_afe9d9e16c02074ac8482a8f09e19d5cc}{Promise\+Hook\+Type}}}]{type,  }\item[{\mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ \mbox{\hyperlink{classv8_1_1Promise}{Promise}} $>$}]{promise,  }\item[{\mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ \mbox{\hyperlink{classv8_1_1Value}{Value}} $>$}]{parent }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 177 of file async-\/hooks-\/wrapper.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{178                                                        \{}
\DoxyCodeLine{179   \mbox{\hyperlink{classv8_1_1Isolate}{v8::Isolate}}* v8\_isolate = \mbox{\hyperlink{classv8_1_1Isolate_afd8c10d0f01e2ae43522c3ddf0bb053d}{v8::Isolate::GetCurrent}}();}
\DoxyCodeLine{180   \mbox{\hyperlink{classv8_1_1AsyncHooks_abbd3562c0d8cb176e0de48201b390374}{AsyncHooks}}* hooks = \mbox{\hyperlink{classv8_1_1PerIsolateData_adb0772e04fefdf4c51d199539b5eba5a}{PerIsolateData::Get}}(v8\_isolate)-\/>\mbox{\hyperlink{classv8_1_1PerIsolateData_aa34af1f6db6b32621bad44ef98a2e08e}{GetAsyncHooks}}();}
\DoxyCodeLine{181   \textcolor{keywordflow}{if} (v8\_isolate-\/>\mbox{\hyperlink{classv8_1_1Isolate_aee57283198c192e83afe5e7d12d42e85}{IsExecutionTerminating}}() || hooks-\/>skip\_after\_termination\_) \{}
\DoxyCodeLine{182     hooks-\/>\mbox{\hyperlink{classv8_1_1AsyncHooks_a76ae20afd8fefd92815254ace8ca8e54}{skip\_after\_termination\_}} = \textcolor{keyword}{true};}
\DoxyCodeLine{183     \textcolor{keywordflow}{return};}
\DoxyCodeLine{184   \}}
\DoxyCodeLine{185   \mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{i::Isolate}}* i\_isolate = \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{i::Isolate}}*\textcolor{keyword}{>}(v8\_isolate);}
\DoxyCodeLine{186 }
\DoxyCodeLine{187   HandleScope handle\_scope(v8\_isolate);}
\DoxyCodeLine{188   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::Object>}} exception;}
\DoxyCodeLine{189   \textcolor{comment}{// Keep track of any previously thrown exception.}}
\DoxyCodeLine{190   \textcolor{keywordflow}{if} (i\_isolate-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_aed5dcd4c10242ef0225dfbd02b5dbdd3}{has\_exception}}()) \{}
\DoxyCodeLine{191     exception = \mbox{\hyperlink{namespacev8_1_1internal_a73502f55102d18cb764881bc29f35c05}{direct\_handle}}(i\_isolate-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a7440b084462b9f1a235e83b7c8c72bde}{exception}}(), i\_isolate);}
\DoxyCodeLine{192   \}}
\DoxyCodeLine{193   \{}
\DoxyCodeLine{194     TryCatch try\_catch(v8\_isolate);}
\DoxyCodeLine{195     try\_catch.SetVerbose(\textcolor{keyword}{true});}
\DoxyCodeLine{196 }
\DoxyCodeLine{197     Local<Context> currentContext = v8\_isolate-\/>\mbox{\hyperlink{classv8_1_1Isolate_af68803b1b9fb0bf76107f56a7a762fac}{GetCurrentContext}}();}
\DoxyCodeLine{198     \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(!currentContext.IsEmpty());}
\DoxyCodeLine{199 }
\DoxyCodeLine{200     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}} == \mbox{\hyperlink{namespacev8_afe9d9e16c02074ac8482a8f09e19d5ccab217b1cb58a6ee4ef35a6c84cf367659}{PromiseHookType::kInit}}) \{}
\DoxyCodeLine{201       ++hooks-\/>current\_async\_id;}
\DoxyCodeLine{202       Local<Integer> async\_id =}
\DoxyCodeLine{203           \mbox{\hyperlink{classv8_1_1Integer_acd94a64ebeb75a97c42a20c15738fca4}{Integer::New}}(v8\_isolate, hooks-\/>current\_async\_id);}
\DoxyCodeLine{204       \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(!promise}
\DoxyCodeLine{205                  -\/>HasPrivate(currentContext,}
\DoxyCodeLine{206                               hooks-\/>async\_id\_symbol.Get(v8\_isolate))}
\DoxyCodeLine{207                  .ToChecked());}
\DoxyCodeLine{208       promise-\/>SetPrivate(currentContext,}
\DoxyCodeLine{209                           hooks-\/>async\_id\_symbol.Get(v8\_isolate), async\_id);}
\DoxyCodeLine{210 }
\DoxyCodeLine{211       \textcolor{keywordflow}{if} (parent-\/>IsPromise()) \{}
\DoxyCodeLine{212         Local<Promise> parent\_promise = parent.As<\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ad97a36aa15ff4a0e71c9e8982a5cc460}{Promise}}>();}
\DoxyCodeLine{213         Local<Value> parent\_async\_id =}
\DoxyCodeLine{214             parent\_promise}
\DoxyCodeLine{215                 -\/>GetPrivate(currentContext,}
\DoxyCodeLine{216                              hooks-\/>async\_id\_symbol.Get(v8\_isolate))}
\DoxyCodeLine{217                 .ToLocalChecked();}
\DoxyCodeLine{218         promise-\/>SetPrivate(currentContext,}
\DoxyCodeLine{219                             hooks-\/>trigger\_id\_symbol.Get(v8\_isolate),}
\DoxyCodeLine{220                             parent\_async\_id);}
\DoxyCodeLine{221       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{222         \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(parent-\/>IsUndefined());}
\DoxyCodeLine{223         promise-\/>SetPrivate(currentContext,}
\DoxyCodeLine{224                             hooks-\/>trigger\_id\_symbol.Get(v8\_isolate),}
\DoxyCodeLine{225                             \mbox{\hyperlink{classv8_1_1Integer_acd94a64ebeb75a97c42a20c15738fca4}{Integer::New}}(v8\_isolate, 0));}
\DoxyCodeLine{226       \}}
\DoxyCodeLine{227     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}} == \mbox{\hyperlink{namespacev8_afe9d9e16c02074ac8482a8f09e19d5cca4e9eada02e7312ba2311abb8453451c6}{PromiseHookType::kBefore}}) \{}
\DoxyCodeLine{228       AsyncContext ctx;}
\DoxyCodeLine{229       ctx.execution\_async\_id =}
\DoxyCodeLine{230           promise}
\DoxyCodeLine{231               -\/>GetPrivate(currentContext,}
\DoxyCodeLine{232                            hooks-\/>async\_id\_symbol.Get(v8\_isolate))}
\DoxyCodeLine{233               .ToLocalChecked()}
\DoxyCodeLine{234               .As<Integer>()}
\DoxyCodeLine{235               -\/>Value();}
\DoxyCodeLine{236       ctx.trigger\_async\_id =}
\DoxyCodeLine{237           promise}
\DoxyCodeLine{238               -\/>GetPrivate(currentContext,}
\DoxyCodeLine{239                            hooks-\/>trigger\_id\_symbol.Get(v8\_isolate))}
\DoxyCodeLine{240               .ToLocalChecked()}
\DoxyCodeLine{241               .As<Integer>()}
\DoxyCodeLine{242               -\/>Value();}
\DoxyCodeLine{243       hooks-\/>asyncContexts.push(ctx);}
\DoxyCodeLine{244     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}} == \mbox{\hyperlink{namespacev8_afe9d9e16c02074ac8482a8f09e19d5ccac8c795f4a70925da9b965f3fd2c5a5a4}{PromiseHookType::kAfter}}) \{}
\DoxyCodeLine{245       hooks-\/>asyncContexts.pop();}
\DoxyCodeLine{246     \}}
\DoxyCodeLine{247     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1StackLimitCheck}{i::StackLimitCheck}}\{i\_isolate\}.HasOverflowed()) \{}
\DoxyCodeLine{248       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < hooks-\/>async\_wraps\_.size(); ++\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}) \{}
\DoxyCodeLine{249         std::shared\_ptr<AsyncHooksWrap> wrap = hooks-\/>async\_wraps\_[\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}];}
\DoxyCodeLine{250         \mbox{\hyperlink{classv8_1_1AsyncHooks_a4bad637d4d78c7b76e3a12faebab641d}{PromiseHookDispatch}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}}, promise, parent, *wrap, hooks);}
\DoxyCodeLine{251         \textcolor{keywordflow}{if} (try\_catch.HasCaught()) \textcolor{keywordflow}{break};}
\DoxyCodeLine{252       \}}
\DoxyCodeLine{253       \textcolor{keywordflow}{if} (try\_catch.HasCaught()) \mbox{\hyperlink{classv8_1_1Shell_af0bc6c9ba5af53b1fb4d1863643d3a43}{Shell::ReportException}}(v8\_isolate, try\_catch);}
\DoxyCodeLine{254     \}}
\DoxyCodeLine{255   \}}
\DoxyCodeLine{256   \textcolor{keywordflow}{if} (!exception.\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle_a5c266d7537e00f9125f055cfd0bac808}{is\_null}}()) \{}
\DoxyCodeLine{257     i\_isolate-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_ab87ea0c7f05f312d7a664c2fa2e1d0fe}{set\_exception}}(*exception);}
\DoxyCodeLine{258   \}}
\DoxyCodeLine{259 \}}

\end{DoxyCode}


References v8\+::\+Local$<$ T $>$\+::\+As(), async\+\_\+id\+\_\+symbol, async\+\_\+wraps\+\_\+, async\+Contexts, CHECK, current\+\_\+async\+\_\+id, DCHECK, v8\+::internal\+::direct\+\_\+handle(), v8\+::internal\+::\+Isolate\+::exception(), v8\+::\+Async\+Context\+::execution\+\_\+async\+\_\+id, v8\+::\+Per\+Isolate\+Data\+::\+Get(), v8\+::\+Per\+Isolate\+Data\+::\+Get\+Async\+Hooks(), v8\+::\+Isolate\+::\+Get\+Current(), v8\+::\+Isolate\+::\+Get\+Current\+Context(), v8\+::internal\+::\+Isolate\+::has\+\_\+exception(), v8\+::\+Try\+Catch\+::\+Has\+Caught(), v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::i, v8\+::internal\+::\+Direct\+Handle$<$ T $>$\+::is\+\_\+null(), v8\+::api\+\_\+internal\+::\+Indirect\+Handle\+Base\+::\+Is\+Empty(), v8\+::\+Isolate\+::\+Is\+Execution\+Terminating(), v8\+::k\+After, v8\+::k\+Before, v8\+::k\+Init, v8\+::\+Integer\+::\+New(), Promise\+Hook\+Dispatch(), v8\+::\+Shell\+::\+Report\+Exception(), v8\+::internal\+::\+Isolate\+::set\+\_\+exception(), v8\+::\+Try\+Catch\+::\+Set\+Verbose(), skip\+\_\+after\+\_\+termination\+\_\+, v8\+::\+Async\+Context\+::trigger\+\_\+async\+\_\+id, trigger\+\_\+id\+\_\+symbol, and v8\+::internal\+::tracing\+::type.



Referenced by Async\+Hooks().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1AsyncHooks_ae391544ad847267fc35b19f2da14cc56_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1AsyncHooks_ae391544ad847267fc35b19f2da14cc56_icgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1AsyncHooks_a801c22bfdf4da8138d2d5b4ad6af7f4f}\label{classv8_1_1AsyncHooks_a801c22bfdf4da8138d2d5b4ad6af7f4f}} 
\index{v8::AsyncHooks@{v8::AsyncHooks}!async\_hook\_ctor@{async\_hook\_ctor}}
\index{async\_hook\_ctor@{async\_hook\_ctor}!v8::AsyncHooks@{v8::AsyncHooks}}
\doxysubsubsection{\texorpdfstring{async\_hook\_ctor}{async\_hook\_ctor}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1Persistent}{Persistent}}$<$\mbox{\hyperlink{classv8_1_1FunctionTemplate}{Function\+Template}}$>$ v8\+::\+Async\+Hooks\+::async\+\_\+hook\+\_\+ctor}



Definition at line 70 of file async-\/hooks-\/wrapper.\+h.



Referenced by Async\+Hooks(), and v8\+::anonymous\+\_\+namespace\{async-\/hooks-\/wrapper.\+cc\}\+::\+Unwrap\+Hook().

\mbox{\Hypertarget{classv8_1_1AsyncHooks_a58354fa73d54903659980fbe293217fe}\label{classv8_1_1AsyncHooks_a58354fa73d54903659980fbe293217fe}} 
\index{v8::AsyncHooks@{v8::AsyncHooks}!async\_hooks\_templ@{async\_hooks\_templ}}
\index{async\_hooks\_templ@{async\_hooks\_templ}!v8::AsyncHooks@{v8::AsyncHooks}}
\doxysubsubsection{\texorpdfstring{async\_hooks\_templ}{async\_hooks\_templ}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1Persistent}{Persistent}}$<$\mbox{\hyperlink{classv8_1_1ObjectTemplate}{Object\+Template}}$>$ v8\+::\+Async\+Hooks\+::async\+\_\+hooks\+\_\+templ\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 75 of file async-\/hooks-\/wrapper.\+h.



Referenced by Async\+Hooks(), and Create\+Hook().

\mbox{\Hypertarget{classv8_1_1AsyncHooks_ae229fecbd74b05401aecdf20cebc0d8a}\label{classv8_1_1AsyncHooks_ae229fecbd74b05401aecdf20cebc0d8a}} 
\index{v8::AsyncHooks@{v8::AsyncHooks}!async\_id\_symbol@{async\_id\_symbol}}
\index{async\_id\_symbol@{async\_id\_symbol}!v8::AsyncHooks@{v8::AsyncHooks}}
\doxysubsubsection{\texorpdfstring{async\_id\_symbol}{async\_id\_symbol}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1Persistent}{Persistent}}$<$\mbox{\hyperlink{classv8_1_1Private}{Private}}$>$ v8\+::\+Async\+Hooks\+::async\+\_\+id\+\_\+symbol\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 76 of file async-\/hooks-\/wrapper.\+h.



Referenced by Async\+Hooks(), Promise\+Hook\+Dispatch(), and Shell\+Promise\+Hook().

\mbox{\Hypertarget{classv8_1_1AsyncHooks_a9c5282d0a942903d158567199a2536cf}\label{classv8_1_1AsyncHooks_a9c5282d0a942903d158567199a2536cf}} 
\index{v8::AsyncHooks@{v8::AsyncHooks}!async\_wraps\_@{async\_wraps\_}}
\index{async\_wraps\_@{async\_wraps\_}!v8::AsyncHooks@{v8::AsyncHooks}}
\doxysubsubsection{\texorpdfstring{async\_wraps\_}{async\_wraps\_}}
{\footnotesize\ttfamily std\+::vector$<$std\+::shared\+\_\+ptr$<$\mbox{\hyperlink{classv8_1_1AsyncHooksWrap}{Async\+Hooks\+Wrap}}$>$ $>$ v8\+::\+Async\+Hooks\+::async\+\_\+wraps\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 73 of file async-\/hooks-\/wrapper.\+h.



Referenced by Create\+Hook(), Shell\+Promise\+Hook(), and $\sim$\+Async\+Hooks().

\mbox{\Hypertarget{classv8_1_1AsyncHooks_a2a9fe1ca20b63e9ca92a889343e753b0}\label{classv8_1_1AsyncHooks_a2a9fe1ca20b63e9ca92a889343e753b0}} 
\index{v8::AsyncHooks@{v8::AsyncHooks}!asyncContexts@{asyncContexts}}
\index{asyncContexts@{asyncContexts}!v8::AsyncHooks@{v8::AsyncHooks}}
\doxysubsubsection{\texorpdfstring{asyncContexts}{asyncContexts}}
{\footnotesize\ttfamily std\+::stack$<$\mbox{\hyperlink{structv8_1_1AsyncContext}{Async\+Context}}$>$ v8\+::\+Async\+Hooks\+::async\+Contexts\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 86 of file async-\/hooks-\/wrapper.\+h.



Referenced by Async\+Hooks(), Get\+Execution\+Async\+Id(), Get\+Trigger\+Async\+Id(), and Shell\+Promise\+Hook().

\mbox{\Hypertarget{classv8_1_1AsyncHooks_a811654166c82a3217092bdd911f29d7d}\label{classv8_1_1AsyncHooks_a811654166c82a3217092bdd911f29d7d}} 
\index{v8::AsyncHooks@{v8::AsyncHooks}!current\_async\_id@{current\_async\_id}}
\index{current\_async\_id@{current\_async\_id}!v8::AsyncHooks@{v8::AsyncHooks}}
\doxysubsubsection{\texorpdfstring{current\_async\_id}{current\_async\_id}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_a14d0a730f3043cc395829b2d90b8b9d1}{async\+\_\+id\+\_\+t}} v8\+::\+Async\+Hooks\+::current\+\_\+async\+\_\+id\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 87 of file async-\/hooks-\/wrapper.\+h.



Referenced by Async\+Hooks(), and Shell\+Promise\+Hook().

\mbox{\Hypertarget{classv8_1_1AsyncHooks_a76ae20afd8fefd92815254ace8ca8e54}\label{classv8_1_1AsyncHooks_a76ae20afd8fefd92815254ace8ca8e54}} 
\index{v8::AsyncHooks@{v8::AsyncHooks}!skip\_after\_termination\_@{skip\_after\_termination\_}}
\index{skip\_after\_termination\_@{skip\_after\_termination\_}!v8::AsyncHooks@{v8::AsyncHooks}}
\doxysubsubsection{\texorpdfstring{skip\_after\_termination\_}{skip\_after\_termination\_}}
{\footnotesize\ttfamily bool v8\+::\+Async\+Hooks\+::skip\+\_\+after\+\_\+termination\+\_\+ = \mbox{\hyperlink{flag-definitions_8h_a3a9beadc89284d3f78a7d4945b1b4d8c}{false}}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 90 of file async-\/hooks-\/wrapper.\+h.



Referenced by Shell\+Promise\+Hook().

\mbox{\Hypertarget{classv8_1_1AsyncHooks_a9b57a226162f1ce3ed36c089c11c1cab}\label{classv8_1_1AsyncHooks_a9b57a226162f1ce3ed36c089c11c1cab}} 
\index{v8::AsyncHooks@{v8::AsyncHooks}!trigger\_id\_symbol@{trigger\_id\_symbol}}
\index{trigger\_id\_symbol@{trigger\_id\_symbol}!v8::AsyncHooks@{v8::AsyncHooks}}
\doxysubsubsection{\texorpdfstring{trigger\_id\_symbol}{trigger\_id\_symbol}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1Persistent}{Persistent}}$<$\mbox{\hyperlink{classv8_1_1Private}{Private}}$>$ v8\+::\+Async\+Hooks\+::trigger\+\_\+id\+\_\+symbol\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 77 of file async-\/hooks-\/wrapper.\+h.



Referenced by Async\+Hooks(), Promise\+Hook\+Dispatch(), and Shell\+Promise\+Hook().

\mbox{\Hypertarget{classv8_1_1AsyncHooks_a74f5eda33b5417a0d664cd937a3a95a7}\label{classv8_1_1AsyncHooks_a74f5eda33b5417a0d664cd937a3a95a7}} 
\index{v8::AsyncHooks@{v8::AsyncHooks}!v8\_isolate\_@{v8\_isolate\_}}
\index{v8\_isolate\_@{v8\_isolate\_}!v8::AsyncHooks@{v8::AsyncHooks}}
\doxysubsubsection{\texorpdfstring{v8\_isolate\_}{v8\_isolate\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1Isolate}{v8\+::\+Isolate}}$\ast$ v8\+::\+Async\+Hooks\+::v8\+\_\+isolate\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 74 of file async-\/hooks-\/wrapper.\+h.



Referenced by Async\+Hooks(), Promise\+Hook\+Dispatch(), and $\sim$\+Async\+Hooks().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/d8/\mbox{\hyperlink{async-hooks-wrapper_8h}{async-\/hooks-\/wrapper.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/d8/\mbox{\hyperlink{async-hooks-wrapper_8cc}{async-\/hooks-\/wrapper.\+cc}}\end{DoxyCompactItemize}
