\hypertarget{namespacecppgc_1_1internal_1_1anonymous__namespace_02marker_8cc_03}{}\doxysection{cppgc\+::internal\+::anonymous\+\_\+namespace\{marker.\+cc\} Namespace Reference}
\label{namespacecppgc_1_1internal_1_1anonymous__namespace_02marker_8cc_03}\index{cppgc::internal::anonymous\_namespace\lcurly{}marker.cc\rcurly{}@{cppgc::internal::anonymous\_namespace\lcurly{}marker.cc\rcurly{}}}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{namespacecppgc_1_1internal_1_1anonymous__namespace_02marker_8cc_03_a14facca4b22b13558b524b31d60b78f6}{Enter\+Incremental\+Marking\+If\+Needed}} (\mbox{\hyperlink{structcppgc_1_1internal_1_1MarkingConfig}{Marking\+Config}} config, \mbox{\hyperlink{classcppgc_1_1internal_1_1HeapBase}{Heap\+Base}} \&\mbox{\hyperlink{flag-definitions_8h_a761e4e5929b1553283fd6a532822bb17}{heap}})
\item 
bool \mbox{\hyperlink{namespacecppgc_1_1internal_1_1anonymous__namespace_02marker_8cc_03_ac19866449661f1db2935b32bc30edbe0}{Exit\+Incremental\+Marking\+If\+Needed}} (\mbox{\hyperlink{structcppgc_1_1internal_1_1MarkingConfig}{Marking\+Config}} config, \mbox{\hyperlink{classcppgc_1_1internal_1_1HeapBase}{Heap\+Base}} \&\mbox{\hyperlink{flag-definitions_8h_a761e4e5929b1553283fd6a532822bb17}{heap}})
\item 
{\footnotesize template$<$Stats\+Collector\+::\+Scope\+Id scope\+\_\+id, size\+\_\+t k\+Deadline\+Check\+Interval = k\+Default\+Deadline\+Check\+Interval, typename Worklist\+Local , typename Callback $>$ }\\bool \mbox{\hyperlink{namespacecppgc_1_1internal_1_1anonymous__namespace_02marker_8cc_03_af08b4d6a3d28274fcb3e20dfc4a7dbe2}{Drain\+Worklist\+With\+Bytes\+And\+Time\+Deadline}} (\mbox{\hyperlink{classcppgc_1_1internal_1_1StatsCollector}{Stats\+Collector}} $\ast$stats\+\_\+collector, \mbox{\hyperlink{classcppgc_1_1internal_1_1BasicMarkingState}{Basic\+Marking\+State}} \&marking\+\_\+state, size\+\_\+t marked\+\_\+bytes\+\_\+deadline, \mbox{\hyperlink{classv8_1_1base_1_1TimeTicks}{v8\+::base\+::\+Time\+Ticks}} time\+\_\+deadline, Worklist\+Local \&worklist\+\_\+local, Callback callback)
\item 
size\+\_\+t \mbox{\hyperlink{namespacecppgc_1_1internal_1_1anonymous__namespace_02marker_8cc_03_a7301b7fff4720adb7019847970c84f1c}{Get\+Next\+Incremental\+Step\+Duration}} (\mbox{\hyperlink{classheap_1_1base_1_1IncrementalMarkingSchedule}{heap\+::base\+::\+Incremental\+Marking\+Schedule}} \&schedule, \mbox{\hyperlink{classcppgc_1_1internal_1_1HeapBase}{Heap\+Base}} \&\mbox{\hyperlink{flag-definitions_8h_a761e4e5929b1553283fd6a532822bb17}{heap}})
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static constexpr size\+\_\+t \mbox{\hyperlink{namespacecppgc_1_1internal_1_1anonymous__namespace_02marker_8cc_03_a2487e35645782c195a5be271c72ad35f}{k\+Default\+Deadline\+Check\+Interval}} = 150u
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespacecppgc_1_1internal_1_1anonymous__namespace_02marker_8cc_03_af08b4d6a3d28274fcb3e20dfc4a7dbe2}\label{namespacecppgc_1_1internal_1_1anonymous__namespace_02marker_8cc_03_af08b4d6a3d28274fcb3e20dfc4a7dbe2}} 
\index{cppgc::internal::anonymous\_namespace\lcurly{}marker.cc\rcurly{}@{cppgc::internal::anonymous\_namespace\lcurly{}marker.cc\rcurly{}}!DrainWorklistWithBytesAndTimeDeadline@{DrainWorklistWithBytesAndTimeDeadline}}
\index{DrainWorklistWithBytesAndTimeDeadline@{DrainWorklistWithBytesAndTimeDeadline}!cppgc::internal::anonymous\_namespace\lcurly{}marker.cc\rcurly{}@{cppgc::internal::anonymous\_namespace\lcurly{}marker.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{DrainWorklistWithBytesAndTimeDeadline()}{DrainWorklistWithBytesAndTimeDeadline()}}
{\footnotesize\ttfamily template$<$Stats\+Collector\+::\+Scope\+Id scope\+\_\+id, size\+\_\+t k\+Deadline\+Check\+Interval = k\+Default\+Deadline\+Check\+Interval, typename Worklist\+Local , typename Callback $>$ \\
bool cppgc\+::internal\+::anonymous\+\_\+namespace\{marker.\+cc\}\+::Drain\+Worklist\+With\+Bytes\+And\+Time\+Deadline (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcppgc_1_1internal_1_1StatsCollector}{Stats\+Collector}} $\ast$}]{stats\+\_\+collector,  }\item[{\mbox{\hyperlink{classcppgc_1_1internal_1_1BasicMarkingState}{Basic\+Marking\+State}} \&}]{marking\+\_\+state,  }\item[{size\+\_\+t}]{marked\+\_\+bytes\+\_\+deadline,  }\item[{\mbox{\hyperlink{classv8_1_1base_1_1TimeTicks}{v8\+::base\+::\+Time\+Ticks}}}]{time\+\_\+deadline,  }\item[{Worklist\+Local \&}]{worklist\+\_\+local,  }\item[{Callback}]{callback }\end{DoxyParamCaption})}



Definition at line 65 of file marker.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{70                                                               \{}
\DoxyCodeLine{71   \textcolor{keywordflow}{return} DrainWorklistWithPredicate<kDeadlineCheckInterval>(}
\DoxyCodeLine{72       [\&marking\_state, marked\_bytes\_deadline, time\_deadline]() \{}
\DoxyCodeLine{73         \textcolor{keywordflow}{return} (marked\_bytes\_deadline <= marking\_state.marked\_bytes()) ||}
\DoxyCodeLine{74                (time\_deadline <= \mbox{\hyperlink{classv8_1_1base_1_1TimeTicks_ab0886bf0e84f1e1fcdc101021c2c0775}{v8::base::TimeTicks::Now}}());}
\DoxyCodeLine{75       \},}
\DoxyCodeLine{76       [stats\_collector]() \{}
\DoxyCodeLine{77         \textcolor{keywordflow}{return} StatsCollector::DisabledScope(stats\_collector, scope\_id);}
\DoxyCodeLine{78       \},}
\DoxyCodeLine{79       worklist\_local, callback);}
\DoxyCodeLine{80 \}}

\end{DoxyCode}


References cppgc\+::internal\+::\+Basic\+Marking\+State\+::marked\+\_\+bytes(), and v8\+::base\+::\+Time\+Ticks\+::\+Now().



Referenced by cppgc\+::internal\+::\+Marker\+Base\+::\+Process\+Worklists\+With\+Deadline().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacecppgc_1_1internal_1_1anonymous__namespace_02marker_8cc_03_af08b4d6a3d28274fcb3e20dfc4a7dbe2_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacecppgc_1_1internal_1_1anonymous__namespace_02marker_8cc_03_af08b4d6a3d28274fcb3e20dfc4a7dbe2_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacecppgc_1_1internal_1_1anonymous__namespace_02marker_8cc_03_a14facca4b22b13558b524b31d60b78f6}\label{namespacecppgc_1_1internal_1_1anonymous__namespace_02marker_8cc_03_a14facca4b22b13558b524b31d60b78f6}} 
\index{cppgc::internal::anonymous\_namespace\lcurly{}marker.cc\rcurly{}@{cppgc::internal::anonymous\_namespace\lcurly{}marker.cc\rcurly{}}!EnterIncrementalMarkingIfNeeded@{EnterIncrementalMarkingIfNeeded}}
\index{EnterIncrementalMarkingIfNeeded@{EnterIncrementalMarkingIfNeeded}!cppgc::internal::anonymous\_namespace\lcurly{}marker.cc\rcurly{}@{cppgc::internal::anonymous\_namespace\lcurly{}marker.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{EnterIncrementalMarkingIfNeeded()}{EnterIncrementalMarkingIfNeeded()}}
{\footnotesize\ttfamily bool cppgc\+::internal\+::anonymous\+\_\+namespace\{marker.\+cc\}\+::Enter\+Incremental\+Marking\+If\+Needed (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structcppgc_1_1internal_1_1MarkingConfig}{Marking\+Config}}}]{config,  }\item[{\mbox{\hyperlink{classcppgc_1_1internal_1_1HeapBase}{Heap\+Base}} \&}]{heap }\end{DoxyParamCaption})}



Definition at line 38 of file marker.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{38                                                                            \{}
\DoxyCodeLine{39   \textcolor{keywordflow}{if} (config.marking\_type == MarkingConfig::MarkingType::kIncremental ||}
\DoxyCodeLine{40       config.marking\_type ==}
\DoxyCodeLine{41           MarkingConfig::MarkingType::kIncrementalAndConcurrent) \{}
\DoxyCodeLine{42     WriteBarrier::FlagUpdater::Enter();}
\DoxyCodeLine{43     \mbox{\hyperlink{namespaceheap}{heap}}.set\_incremental\_marking\_in\_progress(\textcolor{keyword}{true});}
\DoxyCodeLine{44     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{45   \}}
\DoxyCodeLine{46   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{47 \}}

\end{DoxyCode}


References cppgc\+::internal\+::\+Write\+Barrier\+::\+Flag\+Updater\+::\+Enter(), cppgc\+::\+Heap\+::k\+Incremental, cppgc\+::\+Heap\+::k\+Incremental\+And\+Concurrent, and cppgc\+::internal\+::\+Marking\+Config\+::marking\+\_\+type.



Referenced by cppgc\+::internal\+::\+Marker\+Base\+::\+Start\+Marking().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacecppgc_1_1internal_1_1anonymous__namespace_02marker_8cc_03_a14facca4b22b13558b524b31d60b78f6_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacecppgc_1_1internal_1_1anonymous__namespace_02marker_8cc_03_a14facca4b22b13558b524b31d60b78f6_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacecppgc_1_1internal_1_1anonymous__namespace_02marker_8cc_03_ac19866449661f1db2935b32bc30edbe0}\label{namespacecppgc_1_1internal_1_1anonymous__namespace_02marker_8cc_03_ac19866449661f1db2935b32bc30edbe0}} 
\index{cppgc::internal::anonymous\_namespace\lcurly{}marker.cc\rcurly{}@{cppgc::internal::anonymous\_namespace\lcurly{}marker.cc\rcurly{}}!ExitIncrementalMarkingIfNeeded@{ExitIncrementalMarkingIfNeeded}}
\index{ExitIncrementalMarkingIfNeeded@{ExitIncrementalMarkingIfNeeded}!cppgc::internal::anonymous\_namespace\lcurly{}marker.cc\rcurly{}@{cppgc::internal::anonymous\_namespace\lcurly{}marker.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{ExitIncrementalMarkingIfNeeded()}{ExitIncrementalMarkingIfNeeded()}}
{\footnotesize\ttfamily bool cppgc\+::internal\+::anonymous\+\_\+namespace\{marker.\+cc\}\+::Exit\+Incremental\+Marking\+If\+Needed (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structcppgc_1_1internal_1_1MarkingConfig}{Marking\+Config}}}]{config,  }\item[{\mbox{\hyperlink{classcppgc_1_1internal_1_1HeapBase}{Heap\+Base}} \&}]{heap }\end{DoxyParamCaption})}



Definition at line 49 of file marker.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{49                                                                           \{}
\DoxyCodeLine{50   \textcolor{keywordflow}{if} (config.marking\_type == MarkingConfig::MarkingType::kIncremental ||}
\DoxyCodeLine{51       config.marking\_type ==}
\DoxyCodeLine{52           MarkingConfig::MarkingType::kIncrementalAndConcurrent) \{}
\DoxyCodeLine{53     WriteBarrier::FlagUpdater::Exit();}
\DoxyCodeLine{54     \mbox{\hyperlink{namespaceheap}{heap}}.set\_incremental\_marking\_in\_progress(\textcolor{keyword}{false});}
\DoxyCodeLine{55     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{56   \}}
\DoxyCodeLine{57   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{58 \}}

\end{DoxyCode}


References cppgc\+::internal\+::\+Write\+Barrier\+::\+Flag\+Updater\+::\+Exit(), cppgc\+::\+Heap\+::k\+Incremental, cppgc\+::\+Heap\+::k\+Incremental\+And\+Concurrent, and cppgc\+::internal\+::\+Marking\+Config\+::marking\+\_\+type.



Referenced by cppgc\+::internal\+::\+Marker\+Base\+::\+Enter\+Atomic\+Pause().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacecppgc_1_1internal_1_1anonymous__namespace_02marker_8cc_03_ac19866449661f1db2935b32bc30edbe0_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacecppgc_1_1internal_1_1anonymous__namespace_02marker_8cc_03_ac19866449661f1db2935b32bc30edbe0_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacecppgc_1_1internal_1_1anonymous__namespace_02marker_8cc_03_a7301b7fff4720adb7019847970c84f1c}\label{namespacecppgc_1_1internal_1_1anonymous__namespace_02marker_8cc_03_a7301b7fff4720adb7019847970c84f1c}} 
\index{cppgc::internal::anonymous\_namespace\lcurly{}marker.cc\rcurly{}@{cppgc::internal::anonymous\_namespace\lcurly{}marker.cc\rcurly{}}!GetNextIncrementalStepDuration@{GetNextIncrementalStepDuration}}
\index{GetNextIncrementalStepDuration@{GetNextIncrementalStepDuration}!cppgc::internal::anonymous\_namespace\lcurly{}marker.cc\rcurly{}@{cppgc::internal::anonymous\_namespace\lcurly{}marker.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{GetNextIncrementalStepDuration()}{GetNextIncrementalStepDuration()}}
{\footnotesize\ttfamily size\+\_\+t cppgc\+::internal\+::anonymous\+\_\+namespace\{marker.\+cc\}\+::Get\+Next\+Incremental\+Step\+Duration (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classheap_1_1base_1_1IncrementalMarkingSchedule}{heap\+::base\+::\+Incremental\+Marking\+Schedule}} \&}]{schedule,  }\item[{\mbox{\hyperlink{classcppgc_1_1internal_1_1HeapBase}{Heap\+Base}} \&}]{heap }\end{DoxyParamCaption})}



Definition at line 82 of file marker.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{83                                                                   \{}
\DoxyCodeLine{84   \textcolor{keywordflow}{return} schedule.\mbox{\hyperlink{classheap_1_1base_1_1IncrementalMarkingSchedule_a55f29655f17561b546ed31dafb40c19f}{GetNextIncrementalStepDuration}}(}
\DoxyCodeLine{85       \mbox{\hyperlink{namespaceheap}{heap}}.stats\_collector()-\/>allocated\_object\_size());}
\DoxyCodeLine{86 \}}

\end{DoxyCode}


References heap\+::base\+::\+Incremental\+Marking\+Schedule\+::\+Get\+Next\+Incremental\+Step\+Duration().



Referenced by cppgc\+::internal\+::\+Marker\+Base\+::\+Advance\+Marking\+With\+Limits().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacecppgc_1_1internal_1_1anonymous__namespace_02marker_8cc_03_a7301b7fff4720adb7019847970c84f1c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacecppgc_1_1internal_1_1anonymous__namespace_02marker_8cc_03_a7301b7fff4720adb7019847970c84f1c_icgraph}
\end{center}
\end{figure}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{namespacecppgc_1_1internal_1_1anonymous__namespace_02marker_8cc_03_a2487e35645782c195a5be271c72ad35f}\label{namespacecppgc_1_1internal_1_1anonymous__namespace_02marker_8cc_03_a2487e35645782c195a5be271c72ad35f}} 
\index{cppgc::internal::anonymous\_namespace\lcurly{}marker.cc\rcurly{}@{cppgc::internal::anonymous\_namespace\lcurly{}marker.cc\rcurly{}}!kDefaultDeadlineCheckInterval@{kDefaultDeadlineCheckInterval}}
\index{kDefaultDeadlineCheckInterval@{kDefaultDeadlineCheckInterval}!cppgc::internal::anonymous\_namespace\lcurly{}marker.cc\rcurly{}@{cppgc::internal::anonymous\_namespace\lcurly{}marker.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{kDefaultDeadlineCheckInterval}{kDefaultDeadlineCheckInterval}}
{\footnotesize\ttfamily constexpr size\+\_\+t cppgc\+::internal\+::anonymous\+\_\+namespace\{marker.\+cc\}\+::k\+Default\+Deadline\+Check\+Interval = 150u\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}}



Definition at line 60 of file marker.\+cc.



Referenced by cppgc\+::internal\+::\+Marker\+Base\+::\+Process\+Worklists\+With\+Deadline().

