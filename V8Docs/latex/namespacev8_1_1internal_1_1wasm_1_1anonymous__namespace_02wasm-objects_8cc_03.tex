\hypertarget{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-objects_8cc_03}{}\doxysection{v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{wasm-\/objects.cc\} Namespace Reference}
\label{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-objects_8cc_03}\index{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/objects.cc\rcurly{}@{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/objects.cc\rcurly{}}}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-objects_8cc_03_a9a5afb7099fbfe7d8ca93bd89e7e1ecf}{Check\+Expected\+Sharedness}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}} $>$ \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1CanonicalValueType}{Canonical\+Value\+Type}} expected, const char $\ast$$\ast$error\+\_\+message)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-objects_8cc_03_a4f50ceeaf443c5da42053153d92f4bdb}{Convert\+To\+Shared\+If\+Expected}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}} $>$ $\ast$\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1CanonicalValueType}{Canonical\+Value\+Type}} expected, const char $\ast$$\ast$error\+\_\+message)
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-objects_8cc_03_a9a5afb7099fbfe7d8ca93bd89e7e1ecf}\label{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-objects_8cc_03_a9a5afb7099fbfe7d8ca93bd89e7e1ecf}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/objects.cc\rcurly{}@{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/objects.cc\rcurly{}}!CheckExpectedSharedness@{CheckExpectedSharedness}}
\index{CheckExpectedSharedness@{CheckExpectedSharedness}!v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/objects.cc\rcurly{}@{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/objects.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{CheckExpectedSharedness()}{CheckExpectedSharedness()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{wasm-\/objects.\+cc\}\+::Check\+Expected\+Sharedness (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}} $>$}]{value,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1CanonicalValueType}{Canonical\+Value\+Type}}}]{expected,  }\item[{const char $\ast$$\ast$}]{error\+\_\+message }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 3372 of file wasm-\/objects.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3375                                                                 \{}
\DoxyCodeLine{3376   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.experimental\_wasm\_shared \&\& (*value).IsHeapObject()) \{}
\DoxyCodeLine{3377     \mbox{\hyperlink{namespacev8_1_1internal_a57f5ecf71b9a2757b0555b2be4c640b8}{Tagged<HeapObject>}} heap\_obj = (*value).cast<HeapObject>();}
\DoxyCodeLine{3378     \textcolor{keywordflow}{if} (expected.is\_shared() != HeapLayout::InWritableSharedSpace(heap\_obj)) \{}
\DoxyCodeLine{3379       *error\_message =}
\DoxyCodeLine{3380           expected.is\_shared()}
\DoxyCodeLine{3381               ? \textcolor{stringliteral}{"{}unshared object is not allowed for shared heap types"{}}}
\DoxyCodeLine{3382               : \textcolor{stringliteral}{"{}shared object is not allowed for unshared heap types"{}};}
\DoxyCodeLine{3383       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{3384     \}}
\DoxyCodeLine{3385   \}}
\DoxyCodeLine{3386   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{3387 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Tagged$<$ Heap\+Object $>$\+::cast(), v8\+::internal\+::\+Heap\+Layout\+::\+In\+Writable\+Shared\+Space(), v8\+::internal\+::wasm\+::\+Value\+Type\+Base\+::is\+\_\+shared(), and v8\+::internal\+::v8\+\_\+flags.



Referenced by v8\+::internal\+::wasm\+::\+JSTo\+Wasm\+Object().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-objects_8cc_03_a9a5afb7099fbfe7d8ca93bd89e7e1ecf_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-objects_8cc_03_a9a5afb7099fbfe7d8ca93bd89e7e1ecf_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-objects_8cc_03_a4f50ceeaf443c5da42053153d92f4bdb}\label{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-objects_8cc_03_a4f50ceeaf443c5da42053153d92f4bdb}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/objects.cc\rcurly{}@{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/objects.cc\rcurly{}}!ConvertToSharedIfExpected@{ConvertToSharedIfExpected}}
\index{ConvertToSharedIfExpected@{ConvertToSharedIfExpected}!v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/objects.cc\rcurly{}@{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/objects.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{ConvertToSharedIfExpected()}{ConvertToSharedIfExpected()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{wasm-\/objects.\+cc\}\+::Convert\+To\+Shared\+If\+Expected (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}} $>$ $\ast$}]{value,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1CanonicalValueType}{Canonical\+Value\+Type}}}]{expected,  }\item[{const char $\ast$$\ast$}]{error\+\_\+message }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 3389 of file wasm-\/objects.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3392                                                                   \{}
\DoxyCodeLine{3393   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.experimental\_wasm\_shared \&\& expected.is\_shared() \&\&}
\DoxyCodeLine{3394       (**value).IsHeapObject()) \{}
\DoxyCodeLine{3395     \mbox{\hyperlink{namespacev8_1_1internal_a57f5ecf71b9a2757b0555b2be4c640b8}{Tagged<HeapObject>}} heap\_obj = (**value).cast<HeapObject>();}
\DoxyCodeLine{3396     \textcolor{keywordflow}{if} (!HeapLayout::InWritableSharedSpace(heap\_obj)) \{}
\DoxyCodeLine{3397       \textcolor{keywordflow}{if} (!Object::Share(isolate, *\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}, \mbox{\hyperlink{namespacev8_1_1internal_adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee}{ShouldThrow::kDontThrow}})}
\DoxyCodeLine{3398                .ToHandle(\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}})) \{}
\DoxyCodeLine{3399         *error\_message = \textcolor{stringliteral}{"{}unshared object is not allowed for shared heap types"{}};}
\DoxyCodeLine{3400         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{3401       \}}
\DoxyCodeLine{3402     \}}
\DoxyCodeLine{3403   \}}
\DoxyCodeLine{3404   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{3405 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Tagged$<$ Heap\+Object $>$\+::cast(), v8\+::internal\+::\+Heap\+Layout\+::\+In\+Writable\+Shared\+Space(), v8\+::internal\+::wasm\+::\+Value\+Type\+Base\+::is\+\_\+shared(), v8\+::internal\+::k\+Dont\+Throw, v8\+::internal\+::v8\+\_\+flags, and v8\+::internal\+::value.



Referenced by v8\+::internal\+::wasm\+::\+JSTo\+Wasm\+Object().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-objects_8cc_03_a4f50ceeaf443c5da42053153d92f4bdb_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-objects_8cc_03_a4f50ceeaf443c5da42053153d92f4bdb_icgraph}
\end{center}
\end{figure}
