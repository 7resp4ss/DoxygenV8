\hypertarget{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck}{}\doxysection{v8\+::internal\+::compiler\+::turboshaft\+::detail\+::Bitfield\+Check Struct Reference}
\label{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck}\index{v8::internal::compiler::turboshaft::detail::BitfieldCheck@{v8::internal::compiler::turboshaft::detail::BitfieldCheck}}


{\ttfamily \#include $<$machine-\/optimization-\/reducer.\+h$>$}



Collaboration diagram for v8\+::internal\+::compiler\+::turboshaft\+::detail\+::Bitfield\+Check\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_ad878b371f1d12fc6f928bdb938c3063a}{Bitfield\+Check}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V}{V}}$<$ \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_a4848dd2d851e70463d6aa0f136a19218}{Word}} $>$ \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a4084c6495b74177ecad11ce2b16bcb64}{source}}, uint32\+\_\+t \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a6d35e0548e9937c6c0078021f62c28d2}{mask}}, uint32\+\_\+t \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a52ade3c673b528fe28cf8d6742f0e575}{masked\+\_\+value}}, \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a28d08f40d5dc488600051ba2ef537284}{bool}} \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a921d90163c6a5e51d7f8756f639cb520}{truncate\+\_\+from\+\_\+64\+\_\+bit}})
\item 
std\+::optional$<$ \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck}{Bitfield\+Check}} $>$ \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a3af6988cf9a9e8c5bde18271f7827efb}{Try\+Combine}} (const \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck}{Bitfield\+Check}} \&other)
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static std\+::optional$<$ \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck}{Bitfield\+Check}} $>$ \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a339b581b8a42eb19e164aae60f0c0fac}{Detect}} (const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1OperationMatcher}{Operation\+Matcher}} \&matcher, const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Graph}{Graph}} \&\mbox{\hyperlink{flag-definitions_8h_a06b2b7e5d08192bb493bba69cb19a7a8}{graph}}, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V}{V}}$<$ \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_a4848dd2d851e70463d6aa0f136a19218}{Word}} $>$ \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}})
\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V}{V}}$<$ \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_a4848dd2d851e70463d6aa0f136a19218}{Word}} $>$ const \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a4084c6495b74177ecad11ce2b16bcb64}{source}}
\item 
uint32\+\_\+t const \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a6d35e0548e9937c6c0078021f62c28d2}{mask}}
\item 
uint32\+\_\+t const \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a52ade3c673b528fe28cf8d6742f0e575}{masked\+\_\+value}}
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a28d08f40d5dc488600051ba2ef537284}{bool}} const \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a921d90163c6a5e51d7f8756f639cb520}{truncate\+\_\+from\+\_\+64\+\_\+bit}}
\end{DoxyCompactItemize}
\doxysubsection*{Static Private Member Functions}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$typename Word\+Type $>$ }\\static std\+::optional$<$ \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck}{Bitfield\+Check}} $>$ \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a56be9999b8af57180206c4de11e622e6}{Try\+Detect\+Shift\+And\+Mask\+One\+Bit}} (const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1OperationMatcher}{Operation\+Matcher}} \&matcher, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V}{V}}$<$ \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_a4848dd2d851e70463d6aa0f136a19218}{Word}} $>$ \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}})
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 80 of file machine-\/optimization-\/reducer.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_ad878b371f1d12fc6f928bdb938c3063a}\label{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_ad878b371f1d12fc6f928bdb938c3063a}} 
\index{v8::internal::compiler::turboshaft::detail::BitfieldCheck@{v8::internal::compiler::turboshaft::detail::BitfieldCheck}!BitfieldCheck@{BitfieldCheck}}
\index{BitfieldCheck@{BitfieldCheck}!v8::internal::compiler::turboshaft::detail::BitfieldCheck@{v8::internal::compiler::turboshaft::detail::BitfieldCheck}}
\doxysubsubsection{\texorpdfstring{BitfieldCheck()}{BitfieldCheck()}}
{\footnotesize\ttfamily v8\+::internal\+::compiler\+::turboshaft\+::detail\+::\+Bitfield\+Check\+::\+Bitfield\+Check (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V}{V}}$<$ \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_a4848dd2d851e70463d6aa0f136a19218}{Word}} $>$}]{source,  }\item[{uint32\+\_\+t}]{mask,  }\item[{uint32\+\_\+t}]{masked\+\_\+value,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a28d08f40d5dc488600051ba2ef537284}{bool}}}]{truncate\+\_\+from\+\_\+64\+\_\+bit }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 86 of file machine-\/optimization-\/reducer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{88       : \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a4084c6495b74177ecad11ce2b16bcb64}{source}}(\mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a4084c6495b74177ecad11ce2b16bcb64}{source}}),}
\DoxyCodeLine{89         \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a6d35e0548e9937c6c0078021f62c28d2}{mask}}(\mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a6d35e0548e9937c6c0078021f62c28d2}{mask}}),}
\DoxyCodeLine{90         \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a52ade3c673b528fe28cf8d6742f0e575}{masked\_value}}(\mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a52ade3c673b528fe28cf8d6742f0e575}{masked\_value}}),}
\DoxyCodeLine{91         \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a921d90163c6a5e51d7f8756f639cb520}{truncate\_from\_64\_bit}}(\mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a921d90163c6a5e51d7f8756f639cb520}{truncate\_from\_64\_bit}}) \{}
\DoxyCodeLine{92     \mbox{\hyperlink{src_2base_2logging_8h_aca32614b4d2aea7dd9abdeb222bf02f3}{CHECK\_EQ}}(\mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a52ade3c673b528fe28cf8d6742f0e575}{masked\_value}} \& \string~\mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a6d35e0548e9937c6c0078021f62c28d2}{mask}}, 0);}
\DoxyCodeLine{93   \}}

\end{DoxyCode}


References CHECK\+\_\+\+EQ, mask, and masked\+\_\+value.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a339b581b8a42eb19e164aae60f0c0fac}\label{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a339b581b8a42eb19e164aae60f0c0fac}} 
\index{v8::internal::compiler::turboshaft::detail::BitfieldCheck@{v8::internal::compiler::turboshaft::detail::BitfieldCheck}!Detect@{Detect}}
\index{Detect@{Detect}!v8::internal::compiler::turboshaft::detail::BitfieldCheck@{v8::internal::compiler::turboshaft::detail::BitfieldCheck}}
\doxysubsubsection{\texorpdfstring{Detect()}{Detect()}}
{\footnotesize\ttfamily static std\+::optional$<$\mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck}{Bitfield\+Check}}$>$ v8\+::internal\+::compiler\+::turboshaft\+::detail\+::\+Bitfield\+Check\+::\+Detect (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1OperationMatcher}{Operation\+Matcher}} \&}]{matcher,  }\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Graph}{Graph}} \&}]{graph,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V}{V}}$<$ \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_a4848dd2d851e70463d6aa0f136a19218}{Word}} $>$}]{index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



Definition at line 95 of file machine-\/optimization-\/reducer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{97                                                             \{}
\DoxyCodeLine{98     \textcolor{comment}{// There are two patterns to check for here:}}
\DoxyCodeLine{99     \textcolor{comment}{// 1. Single-\/bit checks: `(val >> shift) \& 1`, where:}}
\DoxyCodeLine{100     \textcolor{comment}{//    -\/ the shift may be omitted, and/or}}
\DoxyCodeLine{101     \textcolor{comment}{//    -\/ the result may be truncated from 64 to 32}}
\DoxyCodeLine{102     \textcolor{comment}{// 2. Equality checks: `(val \& mask) == expected`, where:}}
\DoxyCodeLine{103     \textcolor{comment}{//    -\/ val may be truncated from 64 to 32 before masking (see}}
\DoxyCodeLine{104     \textcolor{comment}{//      ReduceWordEqualForConstantRhs)}}
\DoxyCodeLine{105     \textcolor{keyword}{const} \mbox{\hyperlink{operation_8h_a06c4955b824eb9d03ace9eca764f59b4}{Operation}}\& op = \mbox{\hyperlink{flag-definitions_8h_a06b2b7e5d08192bb493bba69cb19a7a8}{graph}}.Get(\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}});}
\DoxyCodeLine{106     \textcolor{keywordflow}{if} (\textcolor{keyword}{const} ComparisonOp* \mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a517021b4069b42dd6e6f69d4066e227a}{equal}} = op.TryCast<\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_1_1Opmask_a49447ceff7ef24d0edf6e31e4318768f}{Opmask::kWord32Equal}}>()) \{}
\DoxyCodeLine{107       \textcolor{keywordflow}{if} (\textcolor{keyword}{const} WordBinopOp* left\_and =}
\DoxyCodeLine{108               \mbox{\hyperlink{flag-definitions_8h_a06b2b7e5d08192bb493bba69cb19a7a8}{graph}}.Get(\mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a517021b4069b42dd6e6f69d4066e227a}{equal}}-\/>left<\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_aeccd16378a95dc9d3039f8669648c698}{Word32}}>())}
\DoxyCodeLine{109                   .TryCast<\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_1_1Opmask_ab3c179439bc35a50355568594eab825b}{Opmask::kWord32BitwiseAnd}}>()) \{}
\DoxyCodeLine{110         uint32\_t \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a6d35e0548e9937c6c0078021f62c28d2}{mask}};}
\DoxyCodeLine{111         uint32\_t \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a52ade3c673b528fe28cf8d6742f0e575}{masked\_value}};}
\DoxyCodeLine{112         \textcolor{keywordflow}{if} (matcher.MatchIntegralWord32Constant(left\_and-\/>right(), \&\mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a6d35e0548e9937c6c0078021f62c28d2}{mask}}) \&\&}
\DoxyCodeLine{113             matcher.MatchIntegralWord32Constant(\mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a517021b4069b42dd6e6f69d4066e227a}{equal}}-\/>right<\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_aeccd16378a95dc9d3039f8669648c698}{Word32}}>(),}
\DoxyCodeLine{114                                                 \&\mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a52ade3c673b528fe28cf8d6742f0e575}{masked\_value}})) \{}
\DoxyCodeLine{115           \textcolor{keywordflow}{if} ((\mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a52ade3c673b528fe28cf8d6742f0e575}{masked\_value}} \& \string~\mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a6d35e0548e9937c6c0078021f62c28d2}{mask}}) != 0) \textcolor{keywordflow}{return} std::nullopt;}
\DoxyCodeLine{116           \textcolor{keywordflow}{if} (\textcolor{keyword}{const} ChangeOp* truncate =}
\DoxyCodeLine{117                   \mbox{\hyperlink{flag-definitions_8h_a06b2b7e5d08192bb493bba69cb19a7a8}{graph}}.Get(left\_and-\/>left())}
\DoxyCodeLine{118                       .TryCast<\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_1_1Opmask_ab8ac631a179a02a0d785fd2ce84d5b0e}{Opmask::kTruncateWord64ToWord32}}>()) \{}
\DoxyCodeLine{119             \textcolor{keywordflow}{return} \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_ad878b371f1d12fc6f928bdb938c3063a}{BitfieldCheck}}\{truncate-\/>input<\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_a076987f5ad41c5e0e713687a98805cec}{Word64}}>(), \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a6d35e0548e9937c6c0078021f62c28d2}{mask}}, \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a52ade3c673b528fe28cf8d6742f0e575}{masked\_value}},}
\DoxyCodeLine{120                                  \textcolor{keyword}{true}\};}
\DoxyCodeLine{121           \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{122             \textcolor{keywordflow}{return} \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_ad878b371f1d12fc6f928bdb938c3063a}{BitfieldCheck}}\{left\_and-\/>left(), \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a6d35e0548e9937c6c0078021f62c28d2}{mask}}, \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a52ade3c673b528fe28cf8d6742f0e575}{masked\_value}}, \textcolor{keyword}{false}\};}
\DoxyCodeLine{123           \}}
\DoxyCodeLine{124         \}}
\DoxyCodeLine{125       \}}
\DoxyCodeLine{126     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\textcolor{keyword}{const} ChangeOp* truncate =}
\DoxyCodeLine{127                    op.TryCast<\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_1_1Opmask_ab8ac631a179a02a0d785fd2ce84d5b0e}{Opmask::kTruncateWord64ToWord32}}>()) \{}
\DoxyCodeLine{128       \textcolor{keywordflow}{return} TryDetectShiftAndMaskOneBit<Word64>(matcher,}
\DoxyCodeLine{129                                                  truncate-\/>input<\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_a076987f5ad41c5e0e713687a98805cec}{Word64}}>());}
\DoxyCodeLine{130     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{131       \textcolor{keywordflow}{return} TryDetectShiftAndMaskOneBit<Word32>(matcher, \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}});}
\DoxyCodeLine{132     \}}
\DoxyCodeLine{133     \textcolor{keywordflow}{return} std::nullopt;}
\DoxyCodeLine{134   \}}

\end{DoxyCode}


References v8\+::internal\+::equal, graph(), v8\+::internal\+::index, mask, masked\+\_\+value, v8\+::internal\+::compiler\+::turboshaft\+::\+Operation\+Matcher\+::\+Match\+Integral\+Word32\+Constant(), and v8\+::internal\+::compiler\+::turboshaft\+::\+Operation\+::\+Try\+Cast().



Referenced by v8\+::internal\+::compiler\+::turboshaft\+::\+Machine\+Optimization\+Reducer$<$ Next $>$\+::\+Word\+Binop().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a339b581b8a42eb19e164aae60f0c0fac_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a339b581b8a42eb19e164aae60f0c0fac_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a3af6988cf9a9e8c5bde18271f7827efb}\label{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a3af6988cf9a9e8c5bde18271f7827efb}} 
\index{v8::internal::compiler::turboshaft::detail::BitfieldCheck@{v8::internal::compiler::turboshaft::detail::BitfieldCheck}!TryCombine@{TryCombine}}
\index{TryCombine@{TryCombine}!v8::internal::compiler::turboshaft::detail::BitfieldCheck@{v8::internal::compiler::turboshaft::detail::BitfieldCheck}}
\doxysubsubsection{\texorpdfstring{TryCombine()}{TryCombine()}}
{\footnotesize\ttfamily std\+::optional$<$\mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck}{Bitfield\+Check}}$>$ v8\+::internal\+::compiler\+::turboshaft\+::detail\+::\+Bitfield\+Check\+::\+Try\+Combine (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck}{Bitfield\+Check}} \&}]{other }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 136 of file machine-\/optimization-\/reducer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{136                                                                     \{}
\DoxyCodeLine{137     \textcolor{keywordflow}{if} (\mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a4084c6495b74177ecad11ce2b16bcb64}{source}} != other.source ||}
\DoxyCodeLine{138         \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a921d90163c6a5e51d7f8756f639cb520}{truncate\_from\_64\_bit}} != other.truncate\_from\_64\_bit) \{}
\DoxyCodeLine{139       \textcolor{keywordflow}{return} std::nullopt;}
\DoxyCodeLine{140     \}}
\DoxyCodeLine{141     uint32\_t overlapping\_bits = \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a6d35e0548e9937c6c0078021f62c28d2}{mask}} \& other.mask;}
\DoxyCodeLine{142     \textcolor{comment}{// It would be kind of strange to have any overlapping bits, but they can be}}
\DoxyCodeLine{143     \textcolor{comment}{// allowed as long as they don't require opposite values in the same}}
\DoxyCodeLine{144     \textcolor{comment}{// positions.}}
\DoxyCodeLine{145     \textcolor{keywordflow}{if} ((\mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a52ade3c673b528fe28cf8d6742f0e575}{masked\_value}} \& overlapping\_bits) !=}
\DoxyCodeLine{146         (other.masked\_value \& overlapping\_bits)) \{}
\DoxyCodeLine{147       \textcolor{keywordflow}{return} std::nullopt;}
\DoxyCodeLine{148     \}}
\DoxyCodeLine{149     \textcolor{keywordflow}{return} \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_ad878b371f1d12fc6f928bdb938c3063a}{BitfieldCheck}}\{\mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a4084c6495b74177ecad11ce2b16bcb64}{source}}, \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a6d35e0548e9937c6c0078021f62c28d2}{mask}} | other.mask,}
\DoxyCodeLine{150                          \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a52ade3c673b528fe28cf8d6742f0e575}{masked\_value}} | other.masked\_value,}
\DoxyCodeLine{151                          \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a921d90163c6a5e51d7f8756f639cb520}{truncate\_from\_64\_bit}}\};}
\DoxyCodeLine{152   \}}

\end{DoxyCode}


References mask, masked\+\_\+value, source, and truncate\+\_\+from\+\_\+64\+\_\+bit.

\mbox{\Hypertarget{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a56be9999b8af57180206c4de11e622e6}\label{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a56be9999b8af57180206c4de11e622e6}} 
\index{v8::internal::compiler::turboshaft::detail::BitfieldCheck@{v8::internal::compiler::turboshaft::detail::BitfieldCheck}!TryDetectShiftAndMaskOneBit@{TryDetectShiftAndMaskOneBit}}
\index{TryDetectShiftAndMaskOneBit@{TryDetectShiftAndMaskOneBit}!v8::internal::compiler::turboshaft::detail::BitfieldCheck@{v8::internal::compiler::turboshaft::detail::BitfieldCheck}}
\doxysubsubsection{\texorpdfstring{TryDetectShiftAndMaskOneBit()}{TryDetectShiftAndMaskOneBit()}}
{\footnotesize\ttfamily template$<$typename Word\+Type $>$ \\
static std\+::optional$<$\mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck}{Bitfield\+Check}}$>$ v8\+::internal\+::compiler\+::turboshaft\+::detail\+::\+Bitfield\+Check\+::\+Try\+Detect\+Shift\+And\+Mask\+One\+Bit (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1OperationMatcher}{Operation\+Matcher}} \&}]{matcher,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V}{V}}$<$ \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_a4848dd2d851e70463d6aa0f136a19218}{Word}} $>$}]{index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 156 of file machine-\/optimization-\/reducer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{157                                                       \{}
\DoxyCodeLine{158     constexpr WordRepresentation Rep = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V_a2d7a0dacfba41c87362c3740d4b751f4}{V<WordType>::rep}};}
\DoxyCodeLine{159     \textcolor{comment}{// Look for the pattern `(val >> shift) \& 1`. The shift may be omitted.}}
\DoxyCodeLine{160     V<WordType> \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}};}
\DoxyCodeLine{161     uint64\_t constant;}
\DoxyCodeLine{162     \textcolor{keywordflow}{if} (matcher.MatchBitwiseAndWithConstant(\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}, \&\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}, \&constant, Rep) \&\&}
\DoxyCodeLine{163         constant == 1) \{}
\DoxyCodeLine{164       V<WordType> input;}
\DoxyCodeLine{165       \textcolor{keywordflow}{if} (\textcolor{keywordtype}{int} shift\_amount;}
\DoxyCodeLine{166           matcher.MatchConstantRightShift(\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}, \&input, Rep, \&shift\_amount) \&\&}
\DoxyCodeLine{167           shift\_amount >= 0 \&\& shift\_amount < 32) \{}
\DoxyCodeLine{168         uint32\_t \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a6d35e0548e9937c6c0078021f62c28d2}{mask}} = 1 << shift\_amount;}
\DoxyCodeLine{169         \textcolor{keywordflow}{return} \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_ad878b371f1d12fc6f928bdb938c3063a}{BitfieldCheck}}\{input, \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a6d35e0548e9937c6c0078021f62c28d2}{mask}}, \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a6d35e0548e9937c6c0078021f62c28d2}{mask}},}
\DoxyCodeLine{170                              Rep == \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1WordRepresentation_ae2bfdf68d8864e018348d60f0346fa4d}{WordRepresentation::Word64}}()\};}
\DoxyCodeLine{171       \}}
\DoxyCodeLine{172       \textcolor{keywordflow}{return} \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_ad878b371f1d12fc6f928bdb938c3063a}{BitfieldCheck}}\{\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}, 1, 1, Rep == \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1WordRepresentation_ae2bfdf68d8864e018348d60f0346fa4d}{WordRepresentation::Word64}}()\};}
\DoxyCodeLine{173     \}}
\DoxyCodeLine{174     \textcolor{keywordflow}{return} std::nullopt;}
\DoxyCodeLine{175   \}}

\end{DoxyCode}


References v8\+::internal\+::index, mask, v8\+::internal\+::value, and v8\+::internal\+::compiler\+::turboshaft\+::\+Word\+Representation\+::\+Word64().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a56be9999b8af57180206c4de11e622e6_cgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a6d35e0548e9937c6c0078021f62c28d2}\label{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a6d35e0548e9937c6c0078021f62c28d2}} 
\index{v8::internal::compiler::turboshaft::detail::BitfieldCheck@{v8::internal::compiler::turboshaft::detail::BitfieldCheck}!mask@{mask}}
\index{mask@{mask}!v8::internal::compiler::turboshaft::detail::BitfieldCheck@{v8::internal::compiler::turboshaft::detail::BitfieldCheck}}
\doxysubsubsection{\texorpdfstring{mask}{mask}}
{\footnotesize\ttfamily uint32\+\_\+t const v8\+::internal\+::compiler\+::turboshaft\+::detail\+::\+Bitfield\+Check\+::mask}



Definition at line 82 of file machine-\/optimization-\/reducer.\+h.



Referenced by Bitfield\+Check(), Detect(), Try\+Combine(), and Try\+Detect\+Shift\+And\+Mask\+One\+Bit().

\mbox{\Hypertarget{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a52ade3c673b528fe28cf8d6742f0e575}\label{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a52ade3c673b528fe28cf8d6742f0e575}} 
\index{v8::internal::compiler::turboshaft::detail::BitfieldCheck@{v8::internal::compiler::turboshaft::detail::BitfieldCheck}!masked\_value@{masked\_value}}
\index{masked\_value@{masked\_value}!v8::internal::compiler::turboshaft::detail::BitfieldCheck@{v8::internal::compiler::turboshaft::detail::BitfieldCheck}}
\doxysubsubsection{\texorpdfstring{masked\_value}{masked\_value}}
{\footnotesize\ttfamily uint32\+\_\+t const v8\+::internal\+::compiler\+::turboshaft\+::detail\+::\+Bitfield\+Check\+::masked\+\_\+value}



Definition at line 83 of file machine-\/optimization-\/reducer.\+h.



Referenced by Bitfield\+Check(), Detect(), and Try\+Combine().

\mbox{\Hypertarget{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a4084c6495b74177ecad11ce2b16bcb64}\label{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a4084c6495b74177ecad11ce2b16bcb64}} 
\index{v8::internal::compiler::turboshaft::detail::BitfieldCheck@{v8::internal::compiler::turboshaft::detail::BitfieldCheck}!source@{source}}
\index{source@{source}!v8::internal::compiler::turboshaft::detail::BitfieldCheck@{v8::internal::compiler::turboshaft::detail::BitfieldCheck}}
\doxysubsubsection{\texorpdfstring{source}{source}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V}{V}}$<$\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_a4848dd2d851e70463d6aa0f136a19218}{Word}}$>$ const v8\+::internal\+::compiler\+::turboshaft\+::detail\+::\+Bitfield\+Check\+::source}



Definition at line 81 of file machine-\/optimization-\/reducer.\+h.



Referenced by Try\+Combine().

\mbox{\Hypertarget{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a921d90163c6a5e51d7f8756f639cb520}\label{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1detail_1_1BitfieldCheck_a921d90163c6a5e51d7f8756f639cb520}} 
\index{v8::internal::compiler::turboshaft::detail::BitfieldCheck@{v8::internal::compiler::turboshaft::detail::BitfieldCheck}!truncate\_from\_64\_bit@{truncate\_from\_64\_bit}}
\index{truncate\_from\_64\_bit@{truncate\_from\_64\_bit}!v8::internal::compiler::turboshaft::detail::BitfieldCheck@{v8::internal::compiler::turboshaft::detail::BitfieldCheck}}
\doxysubsubsection{\texorpdfstring{truncate\_from\_64\_bit}{truncate\_from\_64\_bit}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a28d08f40d5dc488600051ba2ef537284}{bool}} const v8\+::internal\+::compiler\+::turboshaft\+::detail\+::\+Bitfield\+Check\+::truncate\+\_\+from\+\_\+64\+\_\+bit}



Definition at line 84 of file machine-\/optimization-\/reducer.\+h.



Referenced by Try\+Combine().



The documentation for this struct was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/compiler/turboshaft/\mbox{\hyperlink{machine-optimization-reducer_8h}{machine-\/optimization-\/reducer.\+h}}\end{DoxyCompactItemize}
