\hypertarget{classcppgc_1_1internal_1_1RootVisitor}{}\doxysection{cppgc\+::internal\+::Root\+Visitor Class Reference}
\label{classcppgc_1_1internal_1_1RootVisitor}\index{cppgc::internal::RootVisitor@{cppgc::internal::RootVisitor}}


{\ttfamily \#include $<$visitor.\+h$>$}



Inheritance diagram for cppgc\+::internal\+::Root\+Visitor\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcppgc_1_1internal_1_1RootVisitor__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for cppgc\+::internal\+::Root\+Visitor\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=229pt]{classcppgc_1_1internal_1_1RootVisitor__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcppgc_1_1internal_1_1RootVisitor_a90d65b76dfdd54e200c1d71cb060e6d7}{Root\+Visitor}} (\mbox{\hyperlink{classcppgc_1_1Visitor_1_1Key}{Visitor\+::\+Key}})
\item 
virtual \mbox{\hyperlink{classcppgc_1_1internal_1_1RootVisitor_a54c3985ada711e6f6497ad5db4819142}{$\sim$\+Root\+Visitor}} ()=default
\item 
{\footnotesize template$<$typename Any\+Strong\+Persistent\+Type , std\+::enable\+\_\+if\+\_\+t$<$ Any\+Strong\+Persistent\+Type\+::\+Is\+Strong\+Persistent\+::value $>$ $\ast$  = nullptr$>$ }\\void \mbox{\hyperlink{classcppgc_1_1internal_1_1RootVisitor_ae21206c7fdad364f30586e824f1fbc51}{Trace}} (const Any\+Strong\+Persistent\+Type \&p)
\item 
{\footnotesize template$<$typename Any\+Weak\+Persistent\+Type , std\+::enable\+\_\+if\+\_\+t$<$ !\+Any\+Weak\+Persistent\+Type\+::\+Is\+Strong\+Persistent\+::value $>$ $\ast$  = nullptr$>$ }\\void \mbox{\hyperlink{classcppgc_1_1internal_1_1RootVisitor_ac488ceea4ae655432bed4c6075bca2d2}{Trace}} (const Any\+Weak\+Persistent\+Type \&p)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \mbox{\hyperlink{classcppgc_1_1internal_1_1RootVisitor_a5029601b4105b3694d62fb21ddbd6f56}{Visit\+Root}} (const void $\ast$, \mbox{\hyperlink{structcppgc_1_1TraceDescriptor}{Trace\+Descriptor}}, const \mbox{\hyperlink{namespacecppgc_a8bec7ea7a0023f9764c903f473c96e88}{Source\+Location}} \&)
\item 
virtual void \mbox{\hyperlink{classcppgc_1_1internal_1_1RootVisitor_aabf0fc91322fdb2a838cafd6b3b7d863}{Visit\+Weak\+Root}} (const void $\ast$self, \mbox{\hyperlink{structcppgc_1_1TraceDescriptor}{Trace\+Descriptor}}, \mbox{\hyperlink{namespacecppgc_a4b906afac52d1ad451065c31124ec72a}{Weak\+Callback}}, const void $\ast$weak\+\_\+root, const \mbox{\hyperlink{namespacecppgc_a8bec7ea7a0023f9764c903f473c96e88}{Source\+Location}} \&)
\end{DoxyCompactItemize}
\doxysubsection*{Static Private Member Functions}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$typename Any\+Persistent\+Type $>$ }\\static const void $\ast$ \mbox{\hyperlink{classcppgc_1_1internal_1_1RootVisitor_afba0e463129e43d9bc663cca8fa3cb48}{Extract}} (Any\+Persistent\+Type \&p)
\item 
{\footnotesize template$<$typename Pointer\+Type $>$ }\\static void \mbox{\hyperlink{classcppgc_1_1internal_1_1RootVisitor_a25504d4953af8c0406c57a17562824a7}{Handle\+Weak}} (const \mbox{\hyperlink{classcppgc_1_1LivenessBroker}{Liveness\+Broker}} \&info, const void $\ast$object)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 470 of file visitor.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classcppgc_1_1internal_1_1RootVisitor_a90d65b76dfdd54e200c1d71cb060e6d7}\label{classcppgc_1_1internal_1_1RootVisitor_a90d65b76dfdd54e200c1d71cb060e6d7}} 
\index{cppgc::internal::RootVisitor@{cppgc::internal::RootVisitor}!RootVisitor@{RootVisitor}}
\index{RootVisitor@{RootVisitor}!cppgc::internal::RootVisitor@{cppgc::internal::RootVisitor}}
\doxysubsubsection{\texorpdfstring{RootVisitor()}{RootVisitor()}}
{\footnotesize\ttfamily cppgc\+::internal\+::\+Root\+Visitor\+::\+Root\+Visitor (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcppgc_1_1Visitor_1_1Key}{Visitor\+::\+Key}}}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}



Definition at line 472 of file visitor.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{472 \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{classcppgc_1_1internal_1_1RootVisitor_a54c3985ada711e6f6497ad5db4819142}\label{classcppgc_1_1internal_1_1RootVisitor_a54c3985ada711e6f6497ad5db4819142}} 
\index{cppgc::internal::RootVisitor@{cppgc::internal::RootVisitor}!````~RootVisitor@{$\sim$RootVisitor}}
\index{````~RootVisitor@{$\sim$RootVisitor}!cppgc::internal::RootVisitor@{cppgc::internal::RootVisitor}}
\doxysubsubsection{\texorpdfstring{$\sim$RootVisitor()}{~RootVisitor()}}
{\footnotesize\ttfamily virtual cppgc\+::internal\+::\+Root\+Visitor\+::$\sim$\+Root\+Visitor (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}, {\ttfamily [default]}}



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classcppgc_1_1internal_1_1RootVisitor_afba0e463129e43d9bc663cca8fa3cb48}\label{classcppgc_1_1internal_1_1RootVisitor_afba0e463129e43d9bc663cca8fa3cb48}} 
\index{cppgc::internal::RootVisitor@{cppgc::internal::RootVisitor}!Extract@{Extract}}
\index{Extract@{Extract}!cppgc::internal::RootVisitor@{cppgc::internal::RootVisitor}}
\doxysubsubsection{\texorpdfstring{Extract()}{Extract()}}
{\footnotesize\ttfamily template$<$typename Any\+Persistent\+Type $>$ \\
static const void$\ast$ cppgc\+::internal\+::\+Root\+Visitor\+::\+Extract (\begin{DoxyParamCaption}\item[{Any\+Persistent\+Type \&}]{p }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 511 of file visitor.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{511                                                    \{}
\DoxyCodeLine{512     \textcolor{keyword}{using} PointeeType = \textcolor{keyword}{typename} AnyPersistentType::PointeeType;}
\DoxyCodeLine{513     static\_assert(\textcolor{keyword}{sizeof}(PointeeType),}
\DoxyCodeLine{514                   \textcolor{stringliteral}{"{}Persistent's pointee type must be fully defined"{}});}
\DoxyCodeLine{515     static\_assert(\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{internal::IsGarbageCollectedOrMixinType<PointeeType>::value}},}
\DoxyCodeLine{516                   \textcolor{stringliteral}{"{}Persistent's pointee type must be GarbageCollected or "{}}}
\DoxyCodeLine{517                   \textcolor{stringliteral}{"{}GarbageCollectedMixin"{}});}
\DoxyCodeLine{518     \textcolor{keywordflow}{return} p.GetFromGC();}
\DoxyCodeLine{519   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classcppgc_1_1internal_1_1RootVisitor_a25504d4953af8c0406c57a17562824a7}\label{classcppgc_1_1internal_1_1RootVisitor_a25504d4953af8c0406c57a17562824a7}} 
\index{cppgc::internal::RootVisitor@{cppgc::internal::RootVisitor}!HandleWeak@{HandleWeak}}
\index{HandleWeak@{HandleWeak}!cppgc::internal::RootVisitor@{cppgc::internal::RootVisitor}}
\doxysubsubsection{\texorpdfstring{HandleWeak()}{HandleWeak()}}
{\footnotesize\ttfamily template$<$typename Pointer\+Type $>$ \\
static void cppgc\+::internal\+::\+Root\+Visitor\+::\+Handle\+Weak (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classcppgc_1_1LivenessBroker}{Liveness\+Broker}} \&}]{info,  }\item[{const void $\ast$}]{object }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 522 of file visitor.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{522                                                                          \{}
\DoxyCodeLine{523     \textcolor{keyword}{const} PointerType* weak = \textcolor{keyword}{static\_cast<}\textcolor{keyword}{const }PointerType*\textcolor{keyword}{>}(object);}
\DoxyCodeLine{524     \textcolor{keywordflow}{if} (!info.IsHeapObjectAlive(weak-\/>GetFromGC())) \{}
\DoxyCodeLine{525       weak-\/>ClearFromGC();}
\DoxyCodeLine{526     \}}
\DoxyCodeLine{527   \}}

\end{DoxyCode}


References cppgc\+::\+Liveness\+Broker\+::\+Is\+Heap\+Object\+Alive().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcppgc_1_1internal_1_1RootVisitor_a25504d4953af8c0406c57a17562824a7_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcppgc_1_1internal_1_1RootVisitor_ae21206c7fdad364f30586e824f1fbc51}\label{classcppgc_1_1internal_1_1RootVisitor_ae21206c7fdad364f30586e824f1fbc51}} 
\index{cppgc::internal::RootVisitor@{cppgc::internal::RootVisitor}!Trace@{Trace}}
\index{Trace@{Trace}!cppgc::internal::RootVisitor@{cppgc::internal::RootVisitor}}
\doxysubsubsection{\texorpdfstring{Trace()}{Trace()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$typename Any\+Strong\+Persistent\+Type , std\+::enable\+\_\+if\+\_\+t$<$ Any\+Strong\+Persistent\+Type\+::\+Is\+Strong\+Persistent\+::value $>$ $\ast$  = nullptr$>$ \\
void cppgc\+::internal\+::\+Root\+Visitor\+::\+Trace (\begin{DoxyParamCaption}\item[{const Any\+Strong\+Persistent\+Type \&}]{p }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 479 of file visitor.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{479                                                \{}
\DoxyCodeLine{480     \textcolor{keyword}{using} PointeeType = \textcolor{keyword}{typename} AnyStrongPersistentType::PointeeType;}
\DoxyCodeLine{481     \textcolor{keyword}{const} \textcolor{keywordtype}{void}* \textcolor{keywordtype}{object} = \mbox{\hyperlink{classcppgc_1_1internal_1_1RootVisitor_afba0e463129e43d9bc663cca8fa3cb48}{Extract}}(p);}
\DoxyCodeLine{482     \textcolor{keywordflow}{if} (!\textcolor{keywordtype}{object}) \{}
\DoxyCodeLine{483       \textcolor{keywordflow}{return};}
\DoxyCodeLine{484     \}}
\DoxyCodeLine{485     \mbox{\hyperlink{classcppgc_1_1internal_1_1RootVisitor_a5029601b4105b3694d62fb21ddbd6f56}{VisitRoot}}(\textcolor{keywordtype}{object}, \mbox{\hyperlink{structcppgc_1_1internal_1_1TraceTraitBase_a4448accd321c29fed3b220237353c8c8}{TraceTrait<PointeeType>::GetTraceDescriptor}}(\textcolor{keywordtype}{object}),}
\DoxyCodeLine{486               p.Location());}
\DoxyCodeLine{487   \}}

\end{DoxyCode}


Referenced by cppgc\+::internal\+::\+Basic\+Cross\+Thread\+Persistent$<$ T, Weakness\+Policy, Location\+Policy, Checking\+Policy $>$\+::\+Trace\+As\+Root(), and cppgc\+::internal\+::\+Basic\+Persistent$<$ T, Weakness\+Policy, Location\+Policy, Checking\+Policy $>$\+::\+Trace\+As\+Root().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcppgc_1_1internal_1_1RootVisitor_ae21206c7fdad364f30586e824f1fbc51_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcppgc_1_1internal_1_1RootVisitor_ac488ceea4ae655432bed4c6075bca2d2}\label{classcppgc_1_1internal_1_1RootVisitor_ac488ceea4ae655432bed4c6075bca2d2}} 
\index{cppgc::internal::RootVisitor@{cppgc::internal::RootVisitor}!Trace@{Trace}}
\index{Trace@{Trace}!cppgc::internal::RootVisitor@{cppgc::internal::RootVisitor}}
\doxysubsubsection{\texorpdfstring{Trace()}{Trace()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$typename Any\+Weak\+Persistent\+Type , std\+::enable\+\_\+if\+\_\+t$<$ !\+Any\+Weak\+Persistent\+Type\+::\+Is\+Strong\+Persistent\+::value $>$ $\ast$  = nullptr$>$ \\
void cppgc\+::internal\+::\+Root\+Visitor\+::\+Trace (\begin{DoxyParamCaption}\item[{const Any\+Weak\+Persistent\+Type \&}]{p }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 492 of file visitor.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{492                                              \{}
\DoxyCodeLine{493     \textcolor{keyword}{using} PointeeType = \textcolor{keyword}{typename} AnyWeakPersistentType::PointeeType;}
\DoxyCodeLine{494     static\_assert(!\mbox{\hyperlink{structcppgc_1_1internal_1_1IsAllocatedOnCompactableSpace_af4970dca32f74c432ca503d88671cfae}{internal::IsAllocatedOnCompactableSpace<PointeeType>::value}},}
\DoxyCodeLine{495                   \textcolor{stringliteral}{"{}Weak references to compactable objects are not allowed"{}});}
\DoxyCodeLine{496     \textcolor{keyword}{const} \textcolor{keywordtype}{void}* \textcolor{keywordtype}{object} = \mbox{\hyperlink{classcppgc_1_1internal_1_1RootVisitor_afba0e463129e43d9bc663cca8fa3cb48}{Extract}}(p);}
\DoxyCodeLine{497     \textcolor{keywordflow}{if} (!\textcolor{keywordtype}{object}) \{}
\DoxyCodeLine{498       \textcolor{keywordflow}{return};}
\DoxyCodeLine{499     \}}
\DoxyCodeLine{500     \mbox{\hyperlink{classcppgc_1_1internal_1_1RootVisitor_aabf0fc91322fdb2a838cafd6b3b7d863}{VisitWeakRoot}}(\textcolor{keywordtype}{object}, \mbox{\hyperlink{structcppgc_1_1internal_1_1TraceTraitBase_a4448accd321c29fed3b220237353c8c8}{TraceTrait<PointeeType>::GetTraceDescriptor}}(\textcolor{keywordtype}{object}),}
\DoxyCodeLine{501                   \&HandleWeak<AnyWeakPersistentType>, \&p, p.Location());}
\DoxyCodeLine{502   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classcppgc_1_1internal_1_1RootVisitor_a5029601b4105b3694d62fb21ddbd6f56}\label{classcppgc_1_1internal_1_1RootVisitor_a5029601b4105b3694d62fb21ddbd6f56}} 
\index{cppgc::internal::RootVisitor@{cppgc::internal::RootVisitor}!VisitRoot@{VisitRoot}}
\index{VisitRoot@{VisitRoot}!cppgc::internal::RootVisitor@{cppgc::internal::RootVisitor}}
\doxysubsubsection{\texorpdfstring{VisitRoot()}{VisitRoot()}}
{\footnotesize\ttfamily virtual void cppgc\+::internal\+::\+Root\+Visitor\+::\+Visit\+Root (\begin{DoxyParamCaption}\item[{const void $\ast$}]{,  }\item[{\mbox{\hyperlink{structcppgc_1_1TraceDescriptor}{Trace\+Descriptor}}}]{,  }\item[{const \mbox{\hyperlink{namespacecppgc_a8bec7ea7a0023f9764c903f473c96e88}{Source\+Location}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}



Reimplemented in \mbox{\hyperlink{classcppgc_1_1internal_1_1RootMarkingVisitor_a6e4726f50ab489237ceaea21e82715e3}{cppgc\+::internal\+::\+Root\+Marking\+Visitor}}, and \mbox{\hyperlink{classv8_1_1internal_1_1GraphBuildingRootVisitor_ab537c6bf63372fc57de2b490578a7098}{v8\+::internal\+::\+Graph\+Building\+Root\+Visitor}}.



Definition at line 505 of file visitor.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{505 \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{classcppgc_1_1internal_1_1RootVisitor_aabf0fc91322fdb2a838cafd6b3b7d863}\label{classcppgc_1_1internal_1_1RootVisitor_aabf0fc91322fdb2a838cafd6b3b7d863}} 
\index{cppgc::internal::RootVisitor@{cppgc::internal::RootVisitor}!VisitWeakRoot@{VisitWeakRoot}}
\index{VisitWeakRoot@{VisitWeakRoot}!cppgc::internal::RootVisitor@{cppgc::internal::RootVisitor}}
\doxysubsubsection{\texorpdfstring{VisitWeakRoot()}{VisitWeakRoot()}}
{\footnotesize\ttfamily virtual void cppgc\+::internal\+::\+Root\+Visitor\+::\+Visit\+Weak\+Root (\begin{DoxyParamCaption}\item[{const void $\ast$}]{self,  }\item[{\mbox{\hyperlink{structcppgc_1_1TraceDescriptor}{Trace\+Descriptor}}}]{,  }\item[{\mbox{\hyperlink{namespacecppgc_a4b906afac52d1ad451065c31124ec72a}{Weak\+Callback}}}]{,  }\item[{const void $\ast$}]{weak\+\_\+root,  }\item[{const \mbox{\hyperlink{namespacecppgc_a8bec7ea7a0023f9764c903f473c96e88}{Source\+Location}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}



Reimplemented in \mbox{\hyperlink{classcppgc_1_1internal_1_1RootMarkingVisitor_a6f1765d202ceacb83e307c5945740d63}{cppgc\+::internal\+::\+Root\+Marking\+Visitor}}.



Definition at line 506 of file visitor.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{507                                                                            \{\}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/include/cppgc/\mbox{\hyperlink{include_2cppgc_2visitor_8h}{visitor.\+h}}\end{DoxyCompactItemize}
