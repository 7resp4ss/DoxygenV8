\hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator}{}\doxysection{v8\+::internal\+::maglev\+::Straight\+Forward\+Register\+Allocator Class Reference}
\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator}\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}


{\ttfamily \#include $<$maglev-\/regalloc.\+h$>$}



Collaboration diagram for v8\+::internal\+::maglev\+::Straight\+Forward\+Register\+Allocator\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_1_1BlockPatch}{Block\+Patch}}
\item 
struct \mbox{\hyperlink{structv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_1_1SpillSlotInfo}{Spill\+Slot\+Info}}
\item 
struct \mbox{\hyperlink{structv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_1_1SpillSlots}{Spill\+Slots}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a26cd581118765612cdd701cb3af08789}{Straight\+Forward\+Register\+Allocator}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevCompilationInfo}{Maglev\+Compilation\+Info}} $\ast$compilation\+\_\+info, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph}{Graph}} $\ast$\mbox{\hyperlink{flag-definitions_8h_a06b2b7e5d08192bb493bba69cb19a7a8}{graph}}, \mbox{\hyperlink{structv8_1_1internal_1_1maglev_1_1RegallocInfo}{Regalloc\+Info}} $\ast$regalloc\+\_\+info)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a7debebfd08736d5fafea33cc32d9dd3b}{$\sim$\+Straight\+Forward\+Register\+Allocator}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a5530bb0f32c52bb4eb592d71a77f960b}{Compute\+Post\+Dominating\+Holes}} ()
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ac480121182714ec62e9e0219c1fb4aa1}{Allocate\+Registers}} ()
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a009a68b04f473b088b7797342dbd4fcd}{Print\+Live\+Regs}} () const
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a8aa7826d195c03e8078109238f87306a}{Update\+Use}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Input}{Input}} $\ast$input)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a0d32cc7db6fefb0b6e07cd678ac0eb89}{Update\+Use}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$node, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1InputLocation}{Input\+Location}} $\ast$input\+\_\+location)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a5e86f69a68eae55ed01f1b0bef3b7daa}{Mark\+As\+Clobbered}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$node, const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1AllocatedOperand}{compiler\+::\+Allocated\+Operand}} \&location)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a5a568515e703280bf6cd8564e373fc87}{Allocate\+Control\+Node}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ControlNode}{Control\+Node}} $\ast$node, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BasicBlock}{Basic\+Block}} $\ast$block)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad0f2acc22289eabf8f64b42fff7b2fdc}{Allocate\+Node}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Node}{Node}} $\ast$node)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a42c6a4d92907795728a37a3ddd3f6e05}{Allocate\+Node\+Result}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$node)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae7148199ae1399ec2911e513718a3240}{Allocate\+Eager\+Deopt}} (const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1EagerDeoptInfo}{Eager\+Deopt\+Info}} \&deopt\+\_\+info)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad283f09d1986a3b424b09b4f2385905f}{Allocate\+Lazy\+Deopt}} (const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1LazyDeoptInfo}{Lazy\+Deopt\+Info}} \&deopt\+\_\+info)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a0fd79a5ffa3efa36c29e06807c002673}{Assign\+Fixed\+Input}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Input}{Input}} \&input)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae47f3523278b5fe4f793bb460008b165}{Assign\+Arbitrary\+Register\+Input}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1NodeBase}{Node\+Base}} $\ast$result\+\_\+node, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Input}{Input}} \&input)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a2a173f875d2497f51e532b288cab889a}{Assign\+Any\+Input}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Input}{Input}} \&input)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae8316f4b58666c1f3edae21b6eb2dfce}{Assign\+Inputs}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1NodeBase}{Node\+Base}} $\ast$node)
\item 
{\footnotesize template$<$typename RegisterT $>$ }\\void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae3e46b8b824cbda6d385e5ab34773413}{Assign\+Fixed\+Temporaries}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1RegisterFrameState}{Register\+Frame\+State}}$<$ RegisterT $>$ \&registers, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1NodeBase}{Node\+Base}} $\ast$node)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a8b253ba7e4c583704fee0d1d9688231d}{Assign\+Fixed\+Temporaries}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1NodeBase}{Node\+Base}} $\ast$node)
\item 
{\footnotesize template$<$typename RegisterT $>$ }\\void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a67e3883db97946b39cd06d9e12a424ee}{Assign\+Arbitrary\+Temporaries}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1RegisterFrameState}{Register\+Frame\+State}}$<$ RegisterT $>$ \&registers, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1NodeBase}{Node\+Base}} $\ast$node)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a3bdb11925801e66911056d28775ed930}{Assign\+Arbitrary\+Temporaries}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1NodeBase}{Node\+Base}} $\ast$node)
\item 
{\footnotesize template$<$typename RegisterT $>$ }\\void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad6946dc846bb4c82c24ab786b960b2f6}{Set\+Loop\+Phi\+Register\+Hint}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Phi}{Phi}} $\ast$phi, RegisterT reg)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a2d142c2936add8573ad2f994ee53718e}{Try\+Allocate\+To\+Input}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Phi}{Phi}} $\ast$phi)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a69b9790efed1973a771224a57d3f1ee2}{Verify\+Inputs}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1NodeBase}{Node\+Base}} $\ast$node)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4aee117ed0ee67a5a265401a6255caa7}{Verify\+Register\+State}} ()
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ab8742bd5bf8bb7f62e5ad347e6bb6c8c}{Add\+Move\+Before\+Current\+Node}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$node, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionOperand}{compiler\+::\+Instruction\+Operand}} source, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1AllocatedOperand}{compiler\+::\+Allocated\+Operand}} target)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_adc630771cce27ef848f70ba989b5444c}{Allocate\+Spill\+Slot}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$node)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_aa08f61a5daa2f87c952d32f3a333d237}{Spill}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$node)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ac2fcb5fdd4372f5ccaa516822fe87058}{Spill\+Registers}} ()
\item 
{\footnotesize template$<$typename RegisterT $>$ }\\void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a70c99fc15ef1a6213e2256e284cbdd5b}{Spill\+And\+Clear\+Registers}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1RegisterFrameState}{Register\+Frame\+State}}$<$ RegisterT $>$ \&registers)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a23b7fc6e6ad48029a3602170c485ea4a}{Spill\+And\+Clear\+Registers}} ()
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a8d48629f28437ad158e0ed14ac120306}{Save\+Register\+Snapshot}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1NodeBase}{Node\+Base}} $\ast$node)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a2e15656b2c14a4f37e8bac2957abdd70}{Free\+Registers\+Used\+By}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$node)
\item 
{\footnotesize template$<$typename RegisterT $>$ }\\RegisterT \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a3a0ca6b42d73bc71d2414b6afcfb0b72}{Free\+Unblocked\+Register}} (\mbox{\hyperlink{classv8_1_1internal_1_1RegListBase}{Reg\+List\+Base}}$<$ RegisterT $>$ reserved=\mbox{\hyperlink{classv8_1_1internal_1_1RegListBase}{Reg\+List\+Base}}$<$ RegisterT $>$())
\item 
{\footnotesize template$<$typename RegisterT $>$ }\\RegisterT \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a1d5b3363511153288ccfc449ce676cd4}{Pick\+Register\+To\+Free}} (\mbox{\hyperlink{classv8_1_1internal_1_1RegListBase}{Reg\+List\+Base}}$<$ RegisterT $>$ reserved)
\item 
{\footnotesize template$<$typename RegisterT $>$ }\\\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1RegisterFrameState}{Register\+Frame\+State}}$<$ RegisterT $>$ \& \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a8e4247f2fa94a763b949d32f2a836d0d}{Get\+Register\+Frame\+State}} ()
\item 
{\footnotesize template$<$typename RegisterT $>$ }\\void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a1773c9b0318bfd1c50db7972dce2c793}{Drop\+Register\+Value\+At\+End}} (RegisterT reg, \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} force\+\_\+spill=\mbox{\hyperlink{flag-definitions_8h_a3a9beadc89284d3f78a7d4945b1b4d8c}{false}})
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a5d1797b1bd24e0ebddc59297d7ad921f}{Is\+Current\+Node\+Last\+Use\+Of}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$node)
\item 
{\footnotesize template$<$typename RegisterT $>$ }\\void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ac150274188b5178e13e0b9b70394445d}{Ensure\+Free\+Register\+At\+End}} (const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionOperand}{compiler\+::\+Instruction\+Operand}} \&hint=\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionOperand}{compiler\+::\+Instruction\+Operand}}())
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1AllocatedOperand}{compiler\+::\+Allocated\+Operand}} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a028fd95207c1ba7d7f4dfb45f0a768a2}{Allocate\+Register\+At\+End}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$node)
\item 
{\footnotesize template$<$typename RegisterT $>$ }\\void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a317d5918d7ed071a17f9c6c000693198}{Drop\+Register\+Value}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1RegisterFrameState}{Register\+Frame\+State}}$<$ RegisterT $>$ \&registers, RegisterT reg, \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} force\+\_\+spill=\mbox{\hyperlink{flag-definitions_8h_a3a9beadc89284d3f78a7d4945b1b4d8c}{false}})
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_aaa2f761b05550b0b74fe7901b74444ee}{Drop\+Register\+Value}} (\mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} reg)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a408dd4d488aebad7fba9d68bb6eb5fec}{Drop\+Register\+Value}} (\mbox{\hyperlink{classv8_1_1internal_1_1DoubleRegister}{Double\+Register}} reg)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1AllocatedOperand}{compiler\+::\+Allocated\+Operand}} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4b0daea33a0df4fb83f33c52bfd89476}{Allocate\+Register}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$node, const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionOperand}{compiler\+::\+Instruction\+Operand}} \&hint=\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionOperand}{compiler\+::\+Instruction\+Operand}}())
\item 
{\footnotesize template$<$typename RegisterT $>$ }\\\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1AllocatedOperand}{compiler\+::\+Allocated\+Operand}} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a6a326398de3c6a5072eea22327c7746d}{Force\+Allocate}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1RegisterFrameState}{Register\+Frame\+State}}$<$ RegisterT $>$ \&registers, RegisterT reg, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$node)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1AllocatedOperand}{compiler\+::\+Allocated\+Operand}} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a749353f9e95b0c4fd8539a889ac70e91}{Force\+Allocate}} (\mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} reg, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$node)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1AllocatedOperand}{compiler\+::\+Allocated\+Operand}} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_abd8c820b14bb3bc46483559d20244bca}{Force\+Allocate}} (\mbox{\hyperlink{classv8_1_1internal_1_1DoubleRegister}{Double\+Register}} reg, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$node)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1AllocatedOperand}{compiler\+::\+Allocated\+Operand}} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a833383ffbe410452bdf67df7a6453a1f}{Force\+Allocate}} (const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Input}{Input}} \&input, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$node)
\item 
{\footnotesize template$<$typename Function $>$ }\\void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a3651e065d28fa22ad855f5b7c7eaa5ce}{For\+Each\+Merge\+Point\+Register\+State}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MergePointRegisterState}{Merge\+Point\+Register\+State}} \&merge\+\_\+point\+\_\+state, \mbox{\hyperlink{classv8_1_1Function}{Function}} \&\&f)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a85e2428a666406afd8a3c6d913021b6d}{Clear\+Register\+Values}} ()
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae14929a40920a1bb43a561d1f7da9ef1}{Initialize\+Register\+Values}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MergePointRegisterState}{Merge\+Point\+Register\+State}} \&target\+\_\+state)
\item 
{\footnotesize template$<$typename RegisterT $>$ }\\void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a8b10716215fd09beb1a70489cd54899d}{Hoist\+Loop\+Reloads}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BasicBlock}{Basic\+Block}} $\ast$target, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1RegisterFrameState}{Register\+Frame\+State}}$<$ RegisterT $>$ \&registers)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_aecdaeb2507958a95bb0f53879a3b6386}{Hoist\+Loop\+Spills}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BasicBlock}{Basic\+Block}} $\ast$target)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a39254d6d56299ed14508926e07d6e92e}{Initialize\+Branch\+Target\+Register\+Values}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ControlNode}{Control\+Node}} $\ast$source, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BasicBlock}{Basic\+Block}} $\ast$target)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a570a04818b0b49be804f5d5141b2c0f9}{Initialize\+Empty\+Block\+Register\+Values}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ControlNode}{Control\+Node}} $\ast$source, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BasicBlock}{Basic\+Block}} $\ast$target)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_aa0175d8f4977449f26f9fe3cf817a17c}{Initialize\+Branch\+Target\+Phis}} (\mbox{\hyperlink{classint}{int}} predecessor\+\_\+id, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BasicBlock}{Basic\+Block}} $\ast$target)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ab15b05347d3161addd984d415a64f379}{Initialize\+Conditional\+Branch\+Target}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ConditionalControlNode}{Conditional\+Control\+Node}} $\ast$source, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BasicBlock}{Basic\+Block}} $\ast$target)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad89ef5232f4b2a001df6e204e43d7a20}{Merge\+Register\+Values}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ControlNode}{Control\+Node}} $\ast$control, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BasicBlock}{Basic\+Block}} $\ast$target, \mbox{\hyperlink{classint}{int}} predecessor\+\_\+id)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ab3a4be23708e5cb031d6dd05867368de}{Apply\+Patches}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BasicBlock}{Basic\+Block}} $\ast$block)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a3571b7824a381a6bd25a50d4618070c4}{has\+\_\+graph\+\_\+labeller}} () const
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevGraphLabeller}{Maglev\+Graph\+Labeller}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae86d029ad577b8c95464c76fe78e5ed4}{graph\+\_\+labeller}} () const
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1RegisterFrameState}{Register\+Frame\+State}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a722303e16e26e329257d54b41b460725}{general\+\_\+registers\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1RegisterFrameState}{Register\+Frame\+State}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1DoubleRegister}{Double\+Register}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4996578e4a68d9cbfee6837d3d1154e4}{double\+\_\+registers\+\_\+}}
\item 
\mbox{\hyperlink{structv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_1_1SpillSlots}{Spill\+Slots}} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_aa9e586d4d110daacc3300195c05fea21}{untagged\+\_\+}}
\item 
\mbox{\hyperlink{structv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_1_1SpillSlots}{Spill\+Slots}} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ac2b88b62a9fe52e59c0ccc6eb0015eda}{tagged\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevCompilationInfo}{Maglev\+Compilation\+Info}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4b887f42994544d0df2da9c591601c9e}{compilation\+\_\+info\+\_\+}}
\item 
std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPrintingVisitor}{Maglev\+Printing\+Visitor}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\+\_\+visitor\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph}{Graph}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad2c21cc858129e86e2e12a4ff38445ee}{graph\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1ZoneVector}{Zone\+Vector}}$<$ \mbox{\hyperlink{structv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_1_1BlockPatch}{Block\+Patch}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a7fbb5ce0a68326f9f011be5a1ee49a97}{patches\+\_\+}}
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ab622fd1b3f07495a1f2c6080196e99cc}{Block\+Const\+Iterator}} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a07f80e3d7f35007da11101e93ebda0d5}{block\+\_\+it\+\_\+}}
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a409f130a1cb4f95f605588ba8487e101}{Node\+Iterator}} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae1d3774a50bdff63954b0fbcea9f18b7}{node\+\_\+it\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1NodeBase}{Node\+Base}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a3422ff65e920a4d86a1729a9bda6919a}{current\+\_\+node\+\_\+}}
\item 
\mbox{\hyperlink{structv8_1_1internal_1_1maglev_1_1RegallocInfo}{Regalloc\+Info}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ab3d2b7972715e6afdc0e55b1a8b02bab}{regalloc\+\_\+info\+\_\+}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 154 of file maglev-\/regalloc.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a26cd581118765612cdd701cb3af08789}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a26cd581118765612cdd701cb3af08789}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!StraightForwardRegisterAllocator@{StraightForwardRegisterAllocator}}
\index{StraightForwardRegisterAllocator@{StraightForwardRegisterAllocator}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{StraightForwardRegisterAllocator()}{StraightForwardRegisterAllocator()}}
{\footnotesize\ttfamily v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Straight\+Forward\+Register\+Allocator (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevCompilationInfo}{Maglev\+Compilation\+Info}} $\ast$}]{compilation\+\_\+info,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph}{Graph}} $\ast$}]{graph,  }\item[{\mbox{\hyperlink{structv8_1_1internal_1_1maglev_1_1RegallocInfo}{Regalloc\+Info}} $\ast$}]{regalloc\+\_\+info }\end{DoxyParamCaption})}



Definition at line 202 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{205     : \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4b887f42994544d0df2da9c591601c9e}{compilation\_info\_}}(compilation\_info),}
\DoxyCodeLine{206       \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad2c21cc858129e86e2e12a4ff38445ee}{graph\_}}(\mbox{\hyperlink{flag-definitions_8h_a06b2b7e5d08192bb493bba69cb19a7a8}{graph}}),}
\DoxyCodeLine{207       \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a7fbb5ce0a68326f9f011be5a1ee49a97}{patches\_}}(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4b887f42994544d0df2da9c591601c9e}{compilation\_info\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevCompilationInfo_aed2ced4ee8e9f34c922029cb4d9f2b75}{zone}}()),}
\DoxyCodeLine{208       \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ab3d2b7972715e6afdc0e55b1a8b02bab}{regalloc\_info\_}}(regalloc\_info) \{}
\DoxyCodeLine{209   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a5530bb0f32c52bb4eb592d71a77f960b}{ComputePostDominatingHoles}}();}
\DoxyCodeLine{210   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ac480121182714ec62e9e0219c1fb4aa1}{AllocateRegisters}}();}
\DoxyCodeLine{211   uint32\_t tagged\_stack\_slots = \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ac2b88b62a9fe52e59c0ccc6eb0015eda}{tagged\_}}.\mbox{\hyperlink{structv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_1_1SpillSlots_a232592367d1ac813c5d334bb36a05069}{top}};}
\DoxyCodeLine{212   uint32\_t untagged\_stack\_slots = \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_aa9e586d4d110daacc3300195c05fea21}{untagged\_}}.\mbox{\hyperlink{structv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_1_1SpillSlots_a232592367d1ac813c5d334bb36a05069}{top}};}
\DoxyCodeLine{213   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad2c21cc858129e86e2e12a4ff38445ee}{graph\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph_ad210626def01e6c44938ac3c5c15aae7}{is\_osr}}()) \{}
\DoxyCodeLine{214     \textcolor{comment}{// Fix our stack frame to be compatible with the source stack frame of this}}
\DoxyCodeLine{215     \textcolor{comment}{// OSR transition:}}
\DoxyCodeLine{216     \textcolor{comment}{// 1) Ensure the section with tagged slots is big enough to receive all}}
\DoxyCodeLine{217     \textcolor{comment}{//    live OSR-\/in values.}}
\DoxyCodeLine{218     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} val : \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad2c21cc858129e86e2e12a4ff38445ee}{graph\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph_a86a1ceab29366d103da690fb9b8c0b98}{osr\_values}}()) \{}
\DoxyCodeLine{219       \textcolor{keywordflow}{if} (val-\/>result().operand().IsAllocated() \&\&}
\DoxyCodeLine{220           val-\/>stack\_slot() >= tagged\_stack\_slots) \{}
\DoxyCodeLine{221         tagged\_stack\_slots = val-\/>stack\_slot() + 1;}
\DoxyCodeLine{222       \}}
\DoxyCodeLine{223     \}}
\DoxyCodeLine{224     \textcolor{comment}{// 2) Ensure we never have to shrink stack frames when OSR'ing into Maglev.}}
\DoxyCodeLine{225     \textcolor{comment}{//    We don't grow tagged slots or they might end up being uninitialized.}}
\DoxyCodeLine{226     uint32\_t source\_frame\_size =}
\DoxyCodeLine{227         \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad2c21cc858129e86e2e12a4ff38445ee}{graph\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph_ac80e9f958e81acda9eb5999a3038f35c}{min\_maglev\_stackslots\_for\_unoptimized\_frame\_size}}();}
\DoxyCodeLine{228     uint32\_t target\_frame\_size = tagged\_stack\_slots + untagged\_stack\_slots;}
\DoxyCodeLine{229     \textcolor{keywordflow}{if} (source\_frame\_size > target\_frame\_size) \{}
\DoxyCodeLine{230       untagged\_stack\_slots += source\_frame\_size -\/ target\_frame\_size;}
\DoxyCodeLine{231     \}}
\DoxyCodeLine{232   \}}
\DoxyCodeLine{233 \textcolor{preprocessor}{\#ifdef V8\_TARGET\_ARCH\_ARM64}}
\DoxyCodeLine{234   \textcolor{comment}{// Due to alignment constraints, we add one untagged slot if}}
\DoxyCodeLine{235   \textcolor{comment}{// stack\_slots + fixed\_slot\_count is odd.}}
\DoxyCodeLine{236   static\_assert(\mbox{\hyperlink{classv8_1_1internal_1_1StandardFrameConstants_a3bd3575cabe8b50d74dfdd77c278746f}{StandardFrameConstants::kFixedSlotCount}} \% 2 == 1);}
\DoxyCodeLine{237   \textcolor{keywordflow}{if} ((tagged\_stack\_slots + untagged\_stack\_slots) \% 2 == 0) \{}
\DoxyCodeLine{238     untagged\_stack\_slots++;}
\DoxyCodeLine{239   \}}
\DoxyCodeLine{240 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// V8\_TARGET\_ARCH\_ARM64}}
\DoxyCodeLine{241   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad2c21cc858129e86e2e12a4ff38445ee}{graph\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph_a6e71b23868fd47b93e4257df750d4dc0}{set\_tagged\_stack\_slots}}(tagged\_stack\_slots);}
\DoxyCodeLine{242   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad2c21cc858129e86e2e12a4ff38445ee}{graph\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph_a5578090fbbaaeec20ba07873bc3e7887}{set\_untagged\_stack\_slots}}(untagged\_stack\_slots);}
\DoxyCodeLine{243 \}}

\end{DoxyCode}


References Allocate\+Registers(), Compute\+Post\+Dominating\+Holes(), graph\+\_\+, v8\+::internal\+::maglev\+::\+Graph\+::is\+\_\+osr(), v8\+::internal\+::\+Standard\+Frame\+Constants\+::k\+Fixed\+Slot\+Count, v8\+::internal\+::maglev\+::\+Graph\+::min\+\_\+maglev\+\_\+stackslots\+\_\+for\+\_\+unoptimized\+\_\+frame\+\_\+size(), v8\+::internal\+::maglev\+::\+Graph\+::osr\+\_\+values(), v8\+::internal\+::maglev\+::\+Graph\+::set\+\_\+tagged\+\_\+stack\+\_\+slots(), v8\+::internal\+::maglev\+::\+Graph\+::set\+\_\+untagged\+\_\+stack\+\_\+slots(), tagged\+\_\+, v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Spill\+Slots\+::top, and untagged\+\_\+.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a26cd581118765612cdd701cb3af08789_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a7debebfd08736d5fafea33cc32d9dd3b}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a7debebfd08736d5fafea33cc32d9dd3b}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!````~StraightForwardRegisterAllocator@{$\sim$StraightForwardRegisterAllocator}}
\index{````~StraightForwardRegisterAllocator@{$\sim$StraightForwardRegisterAllocator}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{$\sim$StraightForwardRegisterAllocator()}{~StraightForwardRegisterAllocator()}}
{\footnotesize\ttfamily v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::$\sim$\+Straight\+Forward\+Register\+Allocator (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [default]}}



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ab8742bd5bf8bb7f62e5ad347e6bb6c8c}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ab8742bd5bf8bb7f62e5ad347e6bb6c8c}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!AddMoveBeforeCurrentNode@{AddMoveBeforeCurrentNode}}
\index{AddMoveBeforeCurrentNode@{AddMoveBeforeCurrentNode}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{AddMoveBeforeCurrentNode()}{AddMoveBeforeCurrentNode()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Add\+Move\+Before\+Current\+Node (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$}]{node,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionOperand}{compiler\+::\+Instruction\+Operand}}}]{source,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1AllocatedOperand}{compiler\+::\+Allocated\+Operand}}}]{target }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1193 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1195                                      \{}
\DoxyCodeLine{1196   Node* gap\_move;}
\DoxyCodeLine{1197   \textcolor{keywordflow}{if} (source.IsConstant()) \{}
\DoxyCodeLine{1198     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a6e60c63e9c4afea01a72683d99a3855e}{IsConstantNode}}(node-\/>opcode()));}
\DoxyCodeLine{1199     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_maglev\_regalloc) \{}
\DoxyCodeLine{1200       \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os()}
\DoxyCodeLine{1201           << \textcolor{stringliteral}{"{}  constant gap move: "{}} << target << \textcolor{stringliteral}{"{} ← "{}}}
\DoxyCodeLine{1202           << PrintNodeLabel(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae86d029ad577b8c95464c76fe78e5ed4}{graph\_labeller}}(), node) << std::endl;}
\DoxyCodeLine{1203     \}}
\DoxyCodeLine{1204     gap\_move =}
\DoxyCodeLine{1205         Node::New<ConstantGapMove>(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4b887f42994544d0df2da9c591601c9e}{compilation\_info\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevCompilationInfo_aed2ced4ee8e9f34c922029cb4d9f2b75}{zone}}(), 0, node, target);}
\DoxyCodeLine{1206   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1207     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_maglev\_regalloc) \{}
\DoxyCodeLine{1208       \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os() << \textcolor{stringliteral}{"{}  gap move: "{}} << target << \textcolor{stringliteral}{"{} ← "{}}}
\DoxyCodeLine{1209                               << PrintNodeLabel(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae86d029ad577b8c95464c76fe78e5ed4}{graph\_labeller}}(), node) << \textcolor{stringliteral}{"{}:"{}}}
\DoxyCodeLine{1210                               << source << std::endl;}
\DoxyCodeLine{1211     \}}
\DoxyCodeLine{1212     gap\_move =}
\DoxyCodeLine{1213         Node::New<GapMove>(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4b887f42994544d0df2da9c591601c9e}{compilation\_info\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevCompilationInfo_aed2ced4ee8e9f34c922029cb4d9f2b75}{zone}}(), 0,}
\DoxyCodeLine{1214                            \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LocationOperand_a14a0a8abb4b6ac796e0fae75948a270e}{compiler::AllocatedOperand::cast}}(source), target);}
\DoxyCodeLine{1215   \}}
\DoxyCodeLine{1216   gap\_move-\/>InitTemporaries();}
\DoxyCodeLine{1217   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4b887f42994544d0df2da9c591601c9e}{compilation\_info\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevCompilationInfo_ad5ab460a0b5300e8fb41bc7505b4e79a}{has\_graph\_labeller}}()) \{}
\DoxyCodeLine{1218     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae86d029ad577b8c95464c76fe78e5ed4}{graph\_labeller}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevGraphLabeller_a2183047d3dc4dfe23f3ad5f908dae230}{RegisterNode}}(gap\_move);}
\DoxyCodeLine{1219   \}}
\DoxyCodeLine{1220   BasicBlock* block = *\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a07f80e3d7f35007da11101e93ebda0d5}{block\_it\_}};}
\DoxyCodeLine{1221   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae1d3774a50bdff63954b0fbcea9f18b7}{node\_it\_}} == block-\/>nodes().end()) \{}
\DoxyCodeLine{1222     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a3422ff65e920a4d86a1729a9bda6919a}{current\_node\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1NodeBase_a317252af8f98deb2e31a8b5b5aee3c2d}{Is}}<ControlNode>());}
\DoxyCodeLine{1223     \textcolor{comment}{// We're at the control node, so append instead.}}
\DoxyCodeLine{1224     block-\/>nodes().push\_back(gap\_move);}
\DoxyCodeLine{1225     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae1d3774a50bdff63954b0fbcea9f18b7}{node\_it\_}} = block-\/>nodes().end();}
\DoxyCodeLine{1226   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1227     \textcolor{comment}{// We should not add any gap move before a GetSecondReturnedValue.}}
\DoxyCodeLine{1228     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a7fbb5ce0a68326f9f011be5a1ee49a97}{patches\_}}.emplace\_back(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae1d3774a50bdff63954b0fbcea9f18b7}{node\_it\_}} -\/ block-\/>nodes().begin(), gap\_move);}
\DoxyCodeLine{1229   \}}
\DoxyCodeLine{1230 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Zone\+Vector$<$ T $>$\+::begin(), block\+\_\+it\+\_\+, v8\+::internal\+::compiler\+::\+Location\+Operand\+::cast(), compilation\+\_\+info\+\_\+, current\+\_\+node\+\_\+, v8\+::internal\+::\+DCHECK(), v8\+::internal\+::\+Zone\+Vector$<$ T $>$\+::end(), graph\+\_\+labeller(), v8\+::internal\+::maglev\+::\+Maglev\+Compilation\+Info\+::has\+\_\+graph\+\_\+labeller(), v8\+::internal\+::maglev\+::\+Node\+Base\+::\+Init\+Temporaries(), v8\+::internal\+::maglev\+::\+Node\+Base\+::\+Is(), v8\+::internal\+::maglev\+::\+Is\+Constant\+Node(), node\+\_\+it\+\_\+, v8\+::internal\+::maglev\+::\+Basic\+Block\+::nodes(), v8\+::internal\+::maglev\+::\+Node\+Base\+::opcode(), patches\+\_\+, printing\+\_\+visitor\+\_\+, v8\+::internal\+::\+Zone\+Vector$<$ T $>$\+::push\+\_\+back(), v8\+::internal\+::maglev\+::\+Maglev\+Graph\+Labeller\+::\+Register\+Node(), v8\+::internal\+::v8\+\_\+flags, and v8\+::internal\+::maglev\+::\+Maglev\+Compilation\+Info\+::zone().



Referenced by Assign\+Arbitrary\+Register\+Input(), Assign\+Fixed\+Input(), and Drop\+Register\+Value().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ab8742bd5bf8bb7f62e5ad347e6bb6c8c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ab8742bd5bf8bb7f62e5ad347e6bb6c8c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a5a568515e703280bf6cd8564e373fc87}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a5a568515e703280bf6cd8564e373fc87}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!AllocateControlNode@{AllocateControlNode}}
\index{AllocateControlNode@{AllocateControlNode}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{AllocateControlNode()}{AllocateControlNode()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Allocate\+Control\+Node (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ControlNode}{Control\+Node}} $\ast$}]{node,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BasicBlock}{Basic\+Block}} $\ast$}]{block }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1031 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1032                                                                               \{}
\DoxyCodeLine{1033   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a3422ff65e920a4d86a1729a9bda6919a}{current\_node\_}} = node;}
\DoxyCodeLine{1034 }
\DoxyCodeLine{1035   \textcolor{comment}{// Control nodes can't lazy deopt at the moment.}}
\DoxyCodeLine{1036   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!node-\/>properties().can\_lazy\_deopt());}
\DoxyCodeLine{1037 }
\DoxyCodeLine{1038   \textcolor{keywordflow}{if} (node-\/>Is<Abort>()) \{}
\DoxyCodeLine{1039     \textcolor{comment}{// Do nothing.}}
\DoxyCodeLine{1040     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(node-\/>general\_temporaries().is\_empty());}
\DoxyCodeLine{1041     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(node-\/>double\_temporaries().is\_empty());}
\DoxyCodeLine{1042     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(node-\/>num\_temporaries\_needed<\mbox{\hyperlink{namespacev8_1_1internal_1_1ETWJITInterface_a6782da00e5166055555c65db3a9ec7eb}{Register}}>(), 0);}
\DoxyCodeLine{1043     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(node-\/>num\_temporaries\_needed<\mbox{\hyperlink{namespacev8_1_1internal_a1c5661c973602b649955ae8c21dca0c5}{DoubleRegister}}>(), 0);}
\DoxyCodeLine{1044     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(node-\/>input\_count(), 0);}
\DoxyCodeLine{1045     \textcolor{comment}{// Either there are no special properties, or there's a call but it doesn't}}
\DoxyCodeLine{1046     \textcolor{comment}{// matter because we'll abort anyway.}}
\DoxyCodeLine{1047     \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(}
\DoxyCodeLine{1048         node-\/>properties() != OpProperties(0),}
\DoxyCodeLine{1049         node-\/>properties() == \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1OpProperties_a815561a6c6452829fadaca4bdb0bf20e}{OpProperties::Call}}() \&\& node-\/>Is<Abort>());}
\DoxyCodeLine{1050 }
\DoxyCodeLine{1051     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_maglev\_regalloc) \{}
\DoxyCodeLine{1052       \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>Process(node, ProcessingState(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a07f80e3d7f35007da11101e93ebda0d5}{block\_it\_}}));}
\DoxyCodeLine{1053     \}}
\DoxyCodeLine{1054   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (node-\/>Is<Deopt>()) \{}
\DoxyCodeLine{1055     \textcolor{comment}{// No temporaries.}}
\DoxyCodeLine{1056     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(node-\/>general\_temporaries().is\_empty());}
\DoxyCodeLine{1057     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(node-\/>double\_temporaries().is\_empty());}
\DoxyCodeLine{1058     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(node-\/>num\_temporaries\_needed<\mbox{\hyperlink{namespacev8_1_1internal_1_1ETWJITInterface_a6782da00e5166055555c65db3a9ec7eb}{Register}}>(), 0);}
\DoxyCodeLine{1059     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(node-\/>num\_temporaries\_needed<\mbox{\hyperlink{namespacev8_1_1internal_a1c5661c973602b649955ae8c21dca0c5}{DoubleRegister}}>(), 0);}
\DoxyCodeLine{1060     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(node-\/>input\_count(), 0);}
\DoxyCodeLine{1061     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(node-\/>properties(), \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1OpProperties_ae320553646fbc605261876ab43718c1f}{OpProperties::EagerDeopt}}());}
\DoxyCodeLine{1062 }
\DoxyCodeLine{1063     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae7148199ae1399ec2911e513718a3240}{AllocateEagerDeopt}}(*node-\/>eager\_deopt\_info());}
\DoxyCodeLine{1064 }
\DoxyCodeLine{1065     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_maglev\_regalloc) \{}
\DoxyCodeLine{1066       \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>Process(node, ProcessingState(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a07f80e3d7f35007da11101e93ebda0d5}{block\_it\_}}));}
\DoxyCodeLine{1067     \}}
\DoxyCodeLine{1068   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\textcolor{keyword}{auto} unconditional = node-\/>TryCast<UnconditionalControlNode>()) \{}
\DoxyCodeLine{1069     \textcolor{comment}{// No temporaries.}}
\DoxyCodeLine{1070     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(node-\/>general\_temporaries().is\_empty());}
\DoxyCodeLine{1071     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(node-\/>double\_temporaries().is\_empty());}
\DoxyCodeLine{1072     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(node-\/>num\_temporaries\_needed<\mbox{\hyperlink{namespacev8_1_1internal_1_1ETWJITInterface_a6782da00e5166055555c65db3a9ec7eb}{Register}}>(), 0);}
\DoxyCodeLine{1073     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(node-\/>num\_temporaries\_needed<\mbox{\hyperlink{namespacev8_1_1internal_a1c5661c973602b649955ae8c21dca0c5}{DoubleRegister}}>(), 0);}
\DoxyCodeLine{1074     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(node-\/>input\_count(), 0);}
\DoxyCodeLine{1075     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!node-\/>properties().can\_eager\_deopt());}
\DoxyCodeLine{1076     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!node-\/>properties().can\_lazy\_deopt());}
\DoxyCodeLine{1077     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!node-\/>properties().needs\_register\_snapshot());}
\DoxyCodeLine{1078     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!node-\/>properties().is\_call());}
\DoxyCodeLine{1079 }
\DoxyCodeLine{1080     \textcolor{keyword}{auto} predecessor\_id = block-\/>predecessor\_id();}
\DoxyCodeLine{1081     \textcolor{keyword}{auto} target = unconditional-\/>target();}
\DoxyCodeLine{1082 }
\DoxyCodeLine{1083     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_aa0175d8f4977449f26f9fe3cf817a17c}{InitializeBranchTargetPhis}}(predecessor\_id, target);}
\DoxyCodeLine{1084     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad89ef5232f4b2a001df6e204e43d7a20}{MergeRegisterValues}}(unconditional, target, predecessor\_id);}
\DoxyCodeLine{1085     \textcolor{keywordflow}{if} (target-\/>has\_phi()) \{}
\DoxyCodeLine{1086       \textcolor{keywordflow}{for} (Phi* phi : *target-\/>phis()) \{}
\DoxyCodeLine{1087         \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a8aa7826d195c03e8078109238f87306a}{UpdateUse}}(\&phi-\/>input(predecessor\_id));}
\DoxyCodeLine{1088       \}}
\DoxyCodeLine{1089     \}}
\DoxyCodeLine{1090 }
\DoxyCodeLine{1091     \textcolor{comment}{// For JumpLoops, now update the uses of any node used in, but not defined}}
\DoxyCodeLine{1092     \textcolor{comment}{// in the loop. This makes sure that such nodes' lifetimes are extended to}}
\DoxyCodeLine{1093     \textcolor{comment}{// the entire body of the loop. This must be after phi initialisation so}}
\DoxyCodeLine{1094     \textcolor{comment}{// that value dropping in the phi initialisation doesn't think these}}
\DoxyCodeLine{1095     \textcolor{comment}{// extended lifetime nodes are dead.}}
\DoxyCodeLine{1096     \textcolor{keywordflow}{if} (\textcolor{keyword}{auto} jump\_loop = node-\/>TryCast<JumpLoop>()) \{}
\DoxyCodeLine{1097       \textcolor{keywordflow}{for} (Input\& input : jump\_loop-\/>used\_nodes()) \{}
\DoxyCodeLine{1098         \textcolor{keywordflow}{if} (!input.node()-\/>has\_register() \&\& !input.node()-\/>is\_loadable()) \{}
\DoxyCodeLine{1099           \textcolor{comment}{// If the value isn't loadable by the end of a loop (this can happen}}
\DoxyCodeLine{1100           \textcolor{comment}{// e.g. when a deferred throw doesn't spill it, and an exception}}
\DoxyCodeLine{1101           \textcolor{comment}{// handler drops the value)}}
\DoxyCodeLine{1102           \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_aa08f61a5daa2f87c952d32f3a333d237}{Spill}}(input.node());}
\DoxyCodeLine{1103         \}}
\DoxyCodeLine{1104         \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a8aa7826d195c03e8078109238f87306a}{UpdateUse}}(\&input);}
\DoxyCodeLine{1105       \}}
\DoxyCodeLine{1106     \}}
\DoxyCodeLine{1107 }
\DoxyCodeLine{1108     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_maglev\_regalloc) \{}
\DoxyCodeLine{1109       \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>Process(node, ProcessingState(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a07f80e3d7f35007da11101e93ebda0d5}{block\_it\_}}));}
\DoxyCodeLine{1110     \}}
\DoxyCodeLine{1111   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1112     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(node-\/>Is<ConditionalControlNode>() || node-\/>Is<Return>());}
\DoxyCodeLine{1113     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae8316f4b58666c1f3edae21b6eb2dfce}{AssignInputs}}(node);}
\DoxyCodeLine{1114     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a69b9790efed1973a771224a57d3f1ee2}{VerifyInputs}}(node);}
\DoxyCodeLine{1115 }
\DoxyCodeLine{1116     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!node-\/>properties().can\_eager\_deopt());}
\DoxyCodeLine{1117     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!node-\/>properties().can\_lazy\_deopt());}
\DoxyCodeLine{1118 }
\DoxyCodeLine{1119     \textcolor{keywordflow}{if} (node-\/>properties().is\_call()) \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a23b7fc6e6ad48029a3602170c485ea4a}{SpillAndClearRegisters}}();}
\DoxyCodeLine{1120 }
\DoxyCodeLine{1121     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!node-\/>properties().needs\_register\_snapshot());}
\DoxyCodeLine{1122 }
\DoxyCodeLine{1123     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a722303e16e26e329257d54b41b460725}{general\_registers\_}}.free() | node-\/>general\_temporaries(),}
\DoxyCodeLine{1124               \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a722303e16e26e329257d54b41b460725}{general\_registers\_}}.free());}
\DoxyCodeLine{1125     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4996578e4a68d9cbfee6837d3d1154e4}{double\_registers\_}}.free() | node-\/>double\_temporaries(),}
\DoxyCodeLine{1126               \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4996578e4a68d9cbfee6837d3d1154e4}{double\_registers\_}}.free());}
\DoxyCodeLine{1127 }
\DoxyCodeLine{1128     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a722303e16e26e329257d54b41b460725}{general\_registers\_}}.clear\_blocked();}
\DoxyCodeLine{1129     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4996578e4a68d9cbfee6837d3d1154e4}{double\_registers\_}}.clear\_blocked();}
\DoxyCodeLine{1130     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4aee117ed0ee67a5a265401a6255caa7}{VerifyRegisterState}}();}
\DoxyCodeLine{1131 }
\DoxyCodeLine{1132     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_maglev\_regalloc) \{}
\DoxyCodeLine{1133       \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>Process(node, ProcessingState(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a07f80e3d7f35007da11101e93ebda0d5}{block\_it\_}}));}
\DoxyCodeLine{1134     \}}
\DoxyCodeLine{1135 }
\DoxyCodeLine{1136     \textcolor{comment}{// Finally, initialize the merge states of branch targets, including the}}
\DoxyCodeLine{1137     \textcolor{comment}{// fallthrough, with the final state after all allocation}}
\DoxyCodeLine{1138     \textcolor{keywordflow}{if} (\textcolor{keyword}{auto} conditional = node-\/>TryCast<BranchControlNode>()) \{}
\DoxyCodeLine{1139       \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ab15b05347d3161addd984d415a64f379}{InitializeConditionalBranchTarget}}(conditional, conditional-\/>if\_true());}
\DoxyCodeLine{1140       \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ab15b05347d3161addd984d415a64f379}{InitializeConditionalBranchTarget}}(conditional, conditional-\/>if\_false());}
\DoxyCodeLine{1141     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (Switch* control\_node = node-\/>TryCast<Switch>()) \{}
\DoxyCodeLine{1142       \textcolor{keyword}{const} BasicBlockRef* targets = control\_node-\/>targets();}
\DoxyCodeLine{1143       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < control\_node-\/>size(); \mbox{\hyperlink{namespacev8_1_1internal}{i}}++) \{}
\DoxyCodeLine{1144         \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ab15b05347d3161addd984d415a64f379}{InitializeConditionalBranchTarget}}(control\_node, targets[\mbox{\hyperlink{namespacev8_1_1internal}{i}}].block\_ptr());}
\DoxyCodeLine{1145       \}}
\DoxyCodeLine{1146       \textcolor{keywordflow}{if} (control\_node-\/>has\_fallthrough()) \{}
\DoxyCodeLine{1147         \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ab15b05347d3161addd984d415a64f379}{InitializeConditionalBranchTarget}}(control\_node,}
\DoxyCodeLine{1148                                           control\_node-\/>fallthrough());}
\DoxyCodeLine{1149       \}}
\DoxyCodeLine{1150     \}}
\DoxyCodeLine{1151   \}}
\DoxyCodeLine{1152 }
\DoxyCodeLine{1153   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4aee117ed0ee67a5a265401a6255caa7}{VerifyRegisterState}}();}
\DoxyCodeLine{1154 \}}

\end{DoxyCode}


References Allocate\+Eager\+Deopt(), Assign\+Inputs(), block\+\_\+it\+\_\+, v8\+::internal\+::maglev\+::\+Op\+Properties\+::\+Call(), v8\+::internal\+::maglev\+::\+Op\+Properties\+::can\+\_\+eager\+\_\+deopt(), v8\+::internal\+::maglev\+::\+Op\+Properties\+::can\+\_\+lazy\+\_\+deopt(), current\+\_\+node\+\_\+, v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+EQ, DCHECK\+\_\+\+IMPLIES, double\+\_\+registers\+\_\+, v8\+::internal\+::maglev\+::\+Node\+Base\+::double\+\_\+temporaries(), v8\+::internal\+::maglev\+::\+Node\+Base\+::eager\+\_\+deopt\+\_\+info(), v8\+::internal\+::maglev\+::\+Op\+Properties\+::\+Eager\+Deopt(), general\+\_\+registers\+\_\+, v8\+::internal\+::maglev\+::\+Node\+Base\+::general\+\_\+temporaries(), Initialize\+Branch\+Target\+Phis(), Initialize\+Conditional\+Branch\+Target(), v8\+::internal\+::maglev\+::\+Node\+Base\+::input\+\_\+count(), v8\+::internal\+::maglev\+::\+Node\+Base\+::\+Is(), v8\+::internal\+::maglev\+::\+Op\+Properties\+::is\+\_\+call(), v8\+::internal\+::\+Reg\+List\+Base$<$ Register\+T $>$\+::is\+\_\+empty(), Merge\+Register\+Values(), v8\+::internal\+::maglev\+::\+Op\+Properties\+::needs\+\_\+register\+\_\+snapshot(), v8\+::internal\+::maglev\+::\+Node\+Base\+::num\+\_\+temporaries\+\_\+needed(), v8\+::internal\+::maglev\+::\+Basic\+Block\+::predecessor\+\_\+id(), printing\+\_\+visitor\+\_\+, v8\+::internal\+::maglev\+::\+Node\+Base\+::properties(), Spill(), Spill\+And\+Clear\+Registers(), v8\+::internal\+::maglev\+::\+Node\+Base\+::\+Try\+Cast(), Update\+Use(), v8\+::internal\+::v8\+\_\+flags, Verify\+Inputs(), and Verify\+Register\+State().



Referenced by Allocate\+Registers().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a5a568515e703280bf6cd8564e373fc87_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a5a568515e703280bf6cd8564e373fc87_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae7148199ae1399ec2911e513718a3240}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae7148199ae1399ec2911e513718a3240}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!AllocateEagerDeopt@{AllocateEagerDeopt}}
\index{AllocateEagerDeopt@{AllocateEagerDeopt}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{AllocateEagerDeopt()}{AllocateEagerDeopt()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Allocate\+Eager\+Deopt (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1EagerDeoptInfo}{Eager\+Deopt\+Info}} \&}]{deopt\+\_\+info }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 673 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{674                                       \{}
\DoxyCodeLine{675   InputLocation* input = deopt\_info.input\_locations();}
\DoxyCodeLine{676   deopt\_info.ForEachInput([\&](ValueNode* node) \{}
\DoxyCodeLine{677     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!node-\/>Is<\mbox{\hyperlink{structIdentity}{Identity}}>());}
\DoxyCodeLine{678     \textcolor{comment}{// We might have dropped this node without spilling it. Spill it now.}}
\DoxyCodeLine{679     \textcolor{keywordflow}{if} (!node-\/>has\_register() \&\& !node-\/>is\_loadable()) \{}
\DoxyCodeLine{680       \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_aa08f61a5daa2f87c952d32f3a333d237}{Spill}}(node);}
\DoxyCodeLine{681     \}}
\DoxyCodeLine{682     input-\/>InjectLocation(node-\/>allocation());}
\DoxyCodeLine{683     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a8aa7826d195c03e8078109238f87306a}{UpdateUse}}(node, input);}
\DoxyCodeLine{684     input++;}
\DoxyCodeLine{685   \});}
\DoxyCodeLine{686 \}}

\end{DoxyCode}


References v8\+::internal\+::maglev\+::\+Value\+Node\+::allocation(), v8\+::internal\+::\+DCHECK(), v8\+::internal\+::maglev\+::\+Eager\+Deopt\+Info\+::\+For\+Each\+Input(), v8\+::internal\+::maglev\+::\+Value\+Node\+::has\+\_\+register(), v8\+::internal\+::maglev\+::\+Value\+Location\+::\+Inject\+Location(), v8\+::internal\+::maglev\+::\+Deopt\+Info\+::input\+\_\+locations(), v8\+::internal\+::maglev\+::\+Node\+Base\+::\+Is(), v8\+::internal\+::maglev\+::\+Value\+Node\+::is\+\_\+loadable(), Spill(), and Update\+Use().



Referenced by Allocate\+Control\+Node(), and Allocate\+Node().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae7148199ae1399ec2911e513718a3240_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae7148199ae1399ec2911e513718a3240_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad283f09d1986a3b424b09b4f2385905f}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad283f09d1986a3b424b09b4f2385905f}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!AllocateLazyDeopt@{AllocateLazyDeopt}}
\index{AllocateLazyDeopt@{AllocateLazyDeopt}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{AllocateLazyDeopt()}{AllocateLazyDeopt()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Allocate\+Lazy\+Deopt (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1LazyDeoptInfo}{Lazy\+Deopt\+Info}} \&}]{deopt\+\_\+info }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 688 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{689                                      \{}
\DoxyCodeLine{690   InputLocation* input = deopt\_info.input\_locations();}
\DoxyCodeLine{691   deopt\_info.ForEachInput([\&](ValueNode* node) \{}
\DoxyCodeLine{692     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!node-\/>Is<\mbox{\hyperlink{structIdentity}{Identity}}>());}
\DoxyCodeLine{693     \textcolor{comment}{// Lazy deopts always need spilling, and should}}
\DoxyCodeLine{694     \textcolor{comment}{// always be loaded from their loadable slot.}}
\DoxyCodeLine{695     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_aa08f61a5daa2f87c952d32f3a333d237}{Spill}}(node);}
\DoxyCodeLine{696     input-\/>InjectLocation(node-\/>loadable\_slot());}
\DoxyCodeLine{697     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a8aa7826d195c03e8078109238f87306a}{UpdateUse}}(node, input);}
\DoxyCodeLine{698     input++;}
\DoxyCodeLine{699   \});}
\DoxyCodeLine{700 \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), v8\+::internal\+::maglev\+::\+Lazy\+Deopt\+Info\+::\+For\+Each\+Input(), v8\+::internal\+::maglev\+::\+Value\+Location\+::\+Inject\+Location(), v8\+::internal\+::maglev\+::\+Deopt\+Info\+::input\+\_\+locations(), v8\+::internal\+::maglev\+::\+Node\+Base\+::\+Is(), v8\+::internal\+::maglev\+::\+Value\+Node\+::loadable\+\_\+slot(), Spill(), and Update\+Use().



Referenced by Allocate\+Node().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad283f09d1986a3b424b09b4f2385905f_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad283f09d1986a3b424b09b4f2385905f_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad0f2acc22289eabf8f64b42fff7b2fdc}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad0f2acc22289eabf8f64b42fff7b2fdc}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!AllocateNode@{AllocateNode}}
\index{AllocateNode@{AllocateNode}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{AllocateNode()}{AllocateNode()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Allocate\+Node (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Node}{Node}} $\ast$}]{node }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 719 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{719                                                               \{}
\DoxyCodeLine{720   \textcolor{comment}{// We shouldn't be visiting any gap moves during allocation, we should only}}
\DoxyCodeLine{721   \textcolor{comment}{// have inserted gap moves in past visits.}}
\DoxyCodeLine{722   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!node-\/>Is<GapMove>());}
\DoxyCodeLine{723   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!node-\/>Is<ConstantGapMove>());}
\DoxyCodeLine{724 }
\DoxyCodeLine{725   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a3422ff65e920a4d86a1729a9bda6919a}{current\_node\_}} = node;}
\DoxyCodeLine{726   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_maglev\_regalloc) \{}
\DoxyCodeLine{727     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os()}
\DoxyCodeLine{728         << \textcolor{stringliteral}{"{}Allocating "{}} << PrintNodeLabel(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae86d029ad577b8c95464c76fe78e5ed4}{graph\_labeller}}(), node)}
\DoxyCodeLine{729         << \textcolor{stringliteral}{"{} inputs...\(\backslash\)n"{}};}
\DoxyCodeLine{730   \}}
\DoxyCodeLine{731   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae8316f4b58666c1f3edae21b6eb2dfce}{AssignInputs}}(node);}
\DoxyCodeLine{732   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a69b9790efed1973a771224a57d3f1ee2}{VerifyInputs}}(node);}
\DoxyCodeLine{733 }
\DoxyCodeLine{734   \textcolor{keywordflow}{if} (node-\/>properties().is\_call()) \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a23b7fc6e6ad48029a3602170c485ea4a}{SpillAndClearRegisters}}();}
\DoxyCodeLine{735 }
\DoxyCodeLine{736   \textcolor{comment}{// Allocate node output.}}
\DoxyCodeLine{737   \textcolor{keywordflow}{if} (node-\/>Is<ValueNode>()) \{}
\DoxyCodeLine{738     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_maglev\_regalloc) \{}
\DoxyCodeLine{739       \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os() << \textcolor{stringliteral}{"{}Allocating result...\(\backslash\)n"{}};}
\DoxyCodeLine{740     \}}
\DoxyCodeLine{741     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a42c6a4d92907795728a37a3ddd3f6e05}{AllocateNodeResult}}(node-\/>Cast<ValueNode>());}
\DoxyCodeLine{742   \}}
\DoxyCodeLine{743 }
\DoxyCodeLine{744   \textcolor{comment}{// Eager deopts might happen after the node result has been set, so allocate}}
\DoxyCodeLine{745   \textcolor{comment}{// them after result allocation.}}
\DoxyCodeLine{746   \textcolor{keywordflow}{if} (node-\/>properties().can\_eager\_deopt()) \{}
\DoxyCodeLine{747     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_maglev\_regalloc) \{}
\DoxyCodeLine{748       \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os() << \textcolor{stringliteral}{"{}Allocating eager deopt inputs...\(\backslash\)n"{}};}
\DoxyCodeLine{749     \}}
\DoxyCodeLine{750     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae7148199ae1399ec2911e513718a3240}{AllocateEagerDeopt}}(*node-\/>eager\_deopt\_info());}
\DoxyCodeLine{751   \}}
\DoxyCodeLine{752 }
\DoxyCodeLine{753   \textcolor{comment}{// Lazy deopts are semantically after the node, so allocate them last.}}
\DoxyCodeLine{754   \textcolor{keywordflow}{if} (node-\/>properties().can\_lazy\_deopt()) \{}
\DoxyCodeLine{755     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_maglev\_regalloc) \{}
\DoxyCodeLine{756       \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os() << \textcolor{stringliteral}{"{}Allocating lazy deopt inputs...\(\backslash\)n"{}};}
\DoxyCodeLine{757     \}}
\DoxyCodeLine{758     \textcolor{comment}{// Ensure all values live from a throwing node across its catch block are}}
\DoxyCodeLine{759     \textcolor{comment}{// spilled so they can properly be merged after the catch block.}}
\DoxyCodeLine{760     \textcolor{keywordflow}{if} (node-\/>properties().can\_throw()) \{}
\DoxyCodeLine{761       ExceptionHandlerInfo* info = node-\/>exception\_handler\_info();}
\DoxyCodeLine{762       \textcolor{keywordflow}{if} (info-\/>HasExceptionHandler() \&\& !info-\/>ShouldLazyDeopt() \&\&}
\DoxyCodeLine{763           !node-\/>properties().is\_call()) \{}
\DoxyCodeLine{764         BasicBlock* block = info-\/>catch\_block();}
\DoxyCodeLine{765         \textcolor{keyword}{auto} spill = [\&](\textcolor{keyword}{auto} reg, ValueNode* node) \{}
\DoxyCodeLine{766           \textcolor{keywordflow}{if} (node-\/>live\_range().end < block-\/>first\_id()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{767           \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_aa08f61a5daa2f87c952d32f3a333d237}{Spill}}(node);}
\DoxyCodeLine{768         \};}
\DoxyCodeLine{769         \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a722303e16e26e329257d54b41b460725}{general\_registers\_}}.ForEachUsedRegister(spill);}
\DoxyCodeLine{770         \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4996578e4a68d9cbfee6837d3d1154e4}{double\_registers\_}}.ForEachUsedRegister(spill);}
\DoxyCodeLine{771       \}}
\DoxyCodeLine{772     \}}
\DoxyCodeLine{773     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad283f09d1986a3b424b09b4f2385905f}{AllocateLazyDeopt}}(*node-\/>lazy\_deopt\_info());}
\DoxyCodeLine{774   \}}
\DoxyCodeLine{775 }
\DoxyCodeLine{776   \textcolor{comment}{// Make sure to save snapshot after allocate eager deopt registers.}}
\DoxyCodeLine{777   \textcolor{keywordflow}{if} (node-\/>properties().needs\_register\_snapshot()) \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a8d48629f28437ad158e0ed14ac120306}{SaveRegisterSnapshot}}(node);}
\DoxyCodeLine{778 }
\DoxyCodeLine{779   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_maglev\_regalloc) \{}
\DoxyCodeLine{780     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>Process(node, ProcessingState(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a07f80e3d7f35007da11101e93ebda0d5}{block\_it\_}}));}
\DoxyCodeLine{781     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os() << \textcolor{stringliteral}{"{}live regs: "{}};}
\DoxyCodeLine{782     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a009a68b04f473b088b7797342dbd4fcd}{PrintLiveRegs}}();}
\DoxyCodeLine{783     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os() << \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{784   \}}
\DoxyCodeLine{785 }
\DoxyCodeLine{786   \textcolor{comment}{// Result register should not be in temporaries.}}
\DoxyCodeLine{787   \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(GetNodeResultRegister(node) != \mbox{\hyperlink{classv8_1_1internal_1_1Register_af72f1656ce6c0186ea16328bbc55ae9c}{Register::no\_reg}}(),}
\DoxyCodeLine{788                  !node-\/>general\_temporaries().has(GetNodeResultRegister(node)));}
\DoxyCodeLine{789   \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(}
\DoxyCodeLine{790       GetNodeResultDoubleRegister(node) != \mbox{\hyperlink{classv8_1_1internal_1_1RegisterBase_a99d34fe5d17363e2c57ab0a3dab22305}{DoubleRegister::no\_reg}}(),}
\DoxyCodeLine{791       !node-\/>double\_temporaries().has(GetNodeResultDoubleRegister(node)));}
\DoxyCodeLine{792 }
\DoxyCodeLine{793   \textcolor{comment}{// All the temporaries should be free by the end.}}
\DoxyCodeLine{794   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a722303e16e26e329257d54b41b460725}{general\_registers\_}}.free() | node-\/>general\_temporaries(),}
\DoxyCodeLine{795             \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a722303e16e26e329257d54b41b460725}{general\_registers\_}}.free());}
\DoxyCodeLine{796   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4996578e4a68d9cbfee6837d3d1154e4}{double\_registers\_}}.free() | node-\/>double\_temporaries(),}
\DoxyCodeLine{797             \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4996578e4a68d9cbfee6837d3d1154e4}{double\_registers\_}}.free());}
\DoxyCodeLine{798   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a722303e16e26e329257d54b41b460725}{general\_registers\_}}.clear\_blocked();}
\DoxyCodeLine{799   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4996578e4a68d9cbfee6837d3d1154e4}{double\_registers\_}}.clear\_blocked();}
\DoxyCodeLine{800   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4aee117ed0ee67a5a265401a6255caa7}{VerifyRegisterState}}();}
\DoxyCodeLine{801 \}}

\end{DoxyCode}


References Allocate\+Eager\+Deopt(), Allocate\+Lazy\+Deopt(), Allocate\+Node\+Result(), Assign\+Inputs(), block\+\_\+it\+\_\+, v8\+::internal\+::maglev\+::\+Op\+Properties\+::can\+\_\+eager\+\_\+deopt(), v8\+::internal\+::maglev\+::\+Op\+Properties\+::can\+\_\+lazy\+\_\+deopt(), v8\+::internal\+::maglev\+::\+Op\+Properties\+::can\+\_\+throw(), v8\+::internal\+::maglev\+::\+Node\+Base\+::\+Cast(), v8\+::internal\+::maglev\+::\+Exception\+Handler\+Info\+::catch\+\_\+block(), current\+\_\+node\+\_\+, v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+EQ, DCHECK\+\_\+\+IMPLIES, double\+\_\+registers\+\_\+, v8\+::internal\+::maglev\+::\+Node\+Base\+::double\+\_\+temporaries(), v8\+::internal\+::maglev\+::\+Node\+Base\+::eager\+\_\+deopt\+\_\+info(), v8\+::internal\+::maglev\+::\+Node\+Base\+::end(), v8\+::internal\+::maglev\+::\+Node\+Base\+::exception\+\_\+handler\+\_\+info(), v8\+::internal\+::maglev\+::\+Basic\+Block\+::first\+\_\+id(), general\+\_\+registers\+\_\+, v8\+::internal\+::maglev\+::\+Node\+Base\+::general\+\_\+temporaries(), graph\+\_\+labeller(), v8\+::internal\+::\+Reg\+List\+Base$<$ Register\+T $>$\+::has(), v8\+::internal\+::maglev\+::\+Exception\+Handler\+Info\+::\+Has\+Exception\+Handler(), v8\+::internal\+::maglev\+::\+Node\+Base\+::\+Is(), v8\+::internal\+::maglev\+::\+Op\+Properties\+::is\+\_\+call(), v8\+::internal\+::maglev\+::\+Node\+Base\+::lazy\+\_\+deopt\+\_\+info(), v8\+::internal\+::maglev\+::\+Op\+Properties\+::needs\+\_\+register\+\_\+snapshot(), v8\+::internal\+::\+Register\+::no\+\_\+reg(), v8\+::internal\+::\+Register\+Base$<$ Double\+Register, k\+Double\+After\+Last $>$\+::no\+\_\+reg(), printing\+\_\+visitor\+\_\+, Print\+Live\+Regs(), v8\+::internal\+::maglev\+::\+Node\+Base\+::properties(), Save\+Register\+Snapshot(), v8\+::internal\+::maglev\+::\+Exception\+Handler\+Info\+::\+Should\+Lazy\+Deopt(), Spill(), Spill\+And\+Clear\+Registers(), v8\+::internal\+::v8\+\_\+flags, Verify\+Inputs(), and Verify\+Register\+State().



Referenced by Allocate\+Registers().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad0f2acc22289eabf8f64b42fff7b2fdc_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad0f2acc22289eabf8f64b42fff7b2fdc_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a42c6a4d92907795728a37a3ddd3f6e05}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a42c6a4d92907795728a37a3ddd3f6e05}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!AllocateNodeResult@{AllocateNodeResult}}
\index{AllocateNodeResult@{AllocateNodeResult}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{AllocateNodeResult()}{AllocateNodeResult()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Allocate\+Node\+Result (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$}]{node }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 821 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{821                                                                          \{}
\DoxyCodeLine{822   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!node-\/>Is<Phi>());}
\DoxyCodeLine{823 }
\DoxyCodeLine{824   node-\/>SetNoSpill();}
\DoxyCodeLine{825 }
\DoxyCodeLine{826   compiler::UnallocatedOperand operand =}
\DoxyCodeLine{827       compiler::UnallocatedOperand::cast(node-\/>result().operand());}
\DoxyCodeLine{828 }
\DoxyCodeLine{829   \textcolor{keywordflow}{if} (operand.basic\_policy() == \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1UnallocatedOperand_a07530491d80058dd15f185f1970014c4ad5a33a233cdee4f20b09e85686da2999}{compiler::UnallocatedOperand::FIXED\_SLOT}}) \{}
\DoxyCodeLine{830     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(node-\/>Is<InitialValue>());}
\DoxyCodeLine{831     \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(!\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad2c21cc858129e86e2e12a4ff38445ee}{graph\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph_ad210626def01e6c44938ac3c5c15aae7}{is\_osr}}(), operand.fixed\_slot\_index() < 0);}
\DoxyCodeLine{832     \textcolor{comment}{// Set the stack slot to exactly where the value is.}}
\DoxyCodeLine{833     compiler::AllocatedOperand location(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LocationOperand_af9e0a334eaf58a05f9ea5b7139221140aff57c8ccb343b8b46f60e18322227df9}{compiler::AllocatedOperand::STACK\_SLOT}},}
\DoxyCodeLine{834                                         node-\/>GetMachineRepresentation(),}
\DoxyCodeLine{835                                         operand.fixed\_slot\_index());}
\DoxyCodeLine{836     node-\/>result().SetAllocated(location);}
\DoxyCodeLine{837     node-\/>Spill(location);}
\DoxyCodeLine{838 }
\DoxyCodeLine{839     \textcolor{keywordtype}{int} idx = operand.fixed\_slot\_index();}
\DoxyCodeLine{840     \textcolor{keywordflow}{if} (idx > 0) \{}
\DoxyCodeLine{841       \textcolor{comment}{// Reserve this slot by increasing the top and also marking slots below as}}
\DoxyCodeLine{842       \textcolor{comment}{// free. Assumes slots are processed in increasing order.}}
\DoxyCodeLine{843       \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(node-\/>is\_tagged());}
\DoxyCodeLine{844       \mbox{\hyperlink{src_2base_2logging_8h_a1c7c9b7f14b9a33ea69cbe4578016a19}{CHECK\_GE}}(idx, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ac2b88b62a9fe52e59c0ccc6eb0015eda}{tagged\_}}.\mbox{\hyperlink{structv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_1_1SpillSlots_a232592367d1ac813c5d334bb36a05069}{top}});}
\DoxyCodeLine{845       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ac2b88b62a9fe52e59c0ccc6eb0015eda}{tagged\_}}.\mbox{\hyperlink{structv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_1_1SpillSlots_a232592367d1ac813c5d334bb36a05069}{top}}; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < idx; ++\mbox{\hyperlink{namespacev8_1_1internal}{i}}) \{}
\DoxyCodeLine{846         \textcolor{keywordtype}{bool} double\_slot =}
\DoxyCodeLine{847             \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_aad2426e234f3604b6298c3ba8d482056}{IsDoubleRepresentation}}(node-\/>properties().value\_representation());}
\DoxyCodeLine{848         \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ac2b88b62a9fe52e59c0ccc6eb0015eda}{tagged\_}}.\mbox{\hyperlink{structv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_1_1SpillSlots_aaf24839b47c6f48017b8cfde988b28e4}{free\_slots}}.emplace\_back(\mbox{\hyperlink{namespacev8_1_1internal}{i}}, node-\/>live\_range().start,}
\DoxyCodeLine{849                                         double\_slot);}
\DoxyCodeLine{850       \}}
\DoxyCodeLine{851       \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ac2b88b62a9fe52e59c0ccc6eb0015eda}{tagged\_}}.\mbox{\hyperlink{structv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_1_1SpillSlots_a232592367d1ac813c5d334bb36a05069}{top}} = idx + 1;}
\DoxyCodeLine{852     \}}
\DoxyCodeLine{853     \textcolor{keywordflow}{return};}
\DoxyCodeLine{854   \}}
\DoxyCodeLine{855 }
\DoxyCodeLine{856   \textcolor{keywordflow}{switch} (operand.extended\_policy()) \{}
\DoxyCodeLine{857     \textcolor{keywordflow}{case} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1UnallocatedOperand_a7bdb03b8ffc2cd9db894dc3f3ded2030a269dfcae7aa411715a3ec08ba3449e53}{compiler::UnallocatedOperand::FIXED\_REGISTER}}: \{}
\DoxyCodeLine{858       \mbox{\hyperlink{namespacev8_1_1internal_1_1ETWJITInterface_a6782da00e5166055555c65db3a9ec7eb}{Register}} r = \mbox{\hyperlink{classv8_1_1internal_1_1Register_a161b31fbba410d1c513ae779df7b9cbb}{Register::from\_code}}(operand.fixed\_register\_index());}
\DoxyCodeLine{859       \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a1773c9b0318bfd1c50db7972dce2c793}{DropRegisterValueAtEnd}}(r);}
\DoxyCodeLine{860       node-\/>result().SetAllocated(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a6a326398de3c6a5072eea22327c7746d}{ForceAllocate}}(r, node));}
\DoxyCodeLine{861       \textcolor{keywordflow}{break};}
\DoxyCodeLine{862     \}}
\DoxyCodeLine{863 }
\DoxyCodeLine{864     \textcolor{keywordflow}{case} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1UnallocatedOperand_a7bdb03b8ffc2cd9db894dc3f3ded2030a3de98ae7e8339fded3184b2f53f77fea}{compiler::UnallocatedOperand::MUST\_HAVE\_REGISTER}}:}
\DoxyCodeLine{865       node-\/>result().SetAllocated(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a028fd95207c1ba7d7f4dfb45f0a768a2}{AllocateRegisterAtEnd}}(node));}
\DoxyCodeLine{866       \textcolor{keywordflow}{break};}
\DoxyCodeLine{867 }
\DoxyCodeLine{868     \textcolor{keywordflow}{case} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1UnallocatedOperand_a7bdb03b8ffc2cd9db894dc3f3ded2030a788e7e33a485a900cc84a730fed7f611}{compiler::UnallocatedOperand::SAME\_AS\_INPUT}}: \{}
\DoxyCodeLine{869       Input\& input = node-\/>input(operand.input\_index());}
\DoxyCodeLine{870       node-\/>result().SetAllocated(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a6a326398de3c6a5072eea22327c7746d}{ForceAllocate}}(input, node));}
\DoxyCodeLine{871       \textcolor{comment}{// Clear any hint that (probably) comes from this constraint.}}
\DoxyCodeLine{872       \textcolor{keywordflow}{if} (node-\/>has\_hint()) input.node()-\/>ClearHint();}
\DoxyCodeLine{873       \textcolor{keywordflow}{break};}
\DoxyCodeLine{874     \}}
\DoxyCodeLine{875 }
\DoxyCodeLine{876     \textcolor{keywordflow}{case} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1UnallocatedOperand_a7bdb03b8ffc2cd9db894dc3f3ded2030a4544caa3bb5c78f8d96a2ddc3476c72d}{compiler::UnallocatedOperand::FIXED\_FP\_REGISTER}}: \{}
\DoxyCodeLine{877       \mbox{\hyperlink{namespacev8_1_1internal_a1c5661c973602b649955ae8c21dca0c5}{DoubleRegister}} r =}
\DoxyCodeLine{878           \mbox{\hyperlink{classv8_1_1internal_1_1RegisterBase_a7b1dbf8b42ce2e2f8ac87134064661b0}{DoubleRegister::from\_code}}(operand.fixed\_register\_index());}
\DoxyCodeLine{879       \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a1773c9b0318bfd1c50db7972dce2c793}{DropRegisterValueAtEnd}}(r);}
\DoxyCodeLine{880       node-\/>result().SetAllocated(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a6a326398de3c6a5072eea22327c7746d}{ForceAllocate}}(r, node));}
\DoxyCodeLine{881       \textcolor{keywordflow}{break};}
\DoxyCodeLine{882     \}}
\DoxyCodeLine{883 }
\DoxyCodeLine{884     \textcolor{keywordflow}{case} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1UnallocatedOperand_a7bdb03b8ffc2cd9db894dc3f3ded2030a2d184d430b14ea53388609c3e9a17500}{compiler::UnallocatedOperand::NONE}}:}
\DoxyCodeLine{885       \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a6e60c63e9c4afea01a72683d99a3855e}{IsConstantNode}}(node-\/>opcode()));}
\DoxyCodeLine{886       \textcolor{keywordflow}{break};}
\DoxyCodeLine{887 }
\DoxyCodeLine{888     \textcolor{keywordflow}{case} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1UnallocatedOperand_a7bdb03b8ffc2cd9db894dc3f3ded2030af4cb2924486171f73065ec6e76eb5267}{compiler::UnallocatedOperand::MUST\_HAVE\_SLOT}}:}
\DoxyCodeLine{889     \textcolor{keywordflow}{case} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1UnallocatedOperand_a7bdb03b8ffc2cd9db894dc3f3ded2030a2dc451434ae3cfd5e08c4a5e629c10c7}{compiler::UnallocatedOperand::REGISTER\_OR\_SLOT}}:}
\DoxyCodeLine{890     \textcolor{keywordflow}{case} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1UnallocatedOperand_a7bdb03b8ffc2cd9db894dc3f3ded2030a7ea04665a6ce29b237bf41036b421c75}{compiler::UnallocatedOperand::REGISTER\_OR\_SLOT\_OR\_CONSTANT}}:}
\DoxyCodeLine{891       \mbox{\hyperlink{namespacev8_1_1internal_acdec713c25068019f935e35976f5b666}{UNREACHABLE}}();}
\DoxyCodeLine{892   \}}
\DoxyCodeLine{893 }
\DoxyCodeLine{894   \textcolor{comment}{// Immediately kill the register use if the node doesn't have a valid}}
\DoxyCodeLine{895   \textcolor{comment}{// live-\/range.}}
\DoxyCodeLine{896   \textcolor{comment}{// TODO(verwaest): Remove once we can avoid allocating such registers.}}
\DoxyCodeLine{897   \textcolor{keywordflow}{if} (!node-\/>has\_valid\_live\_range() \&\&}
\DoxyCodeLine{898       node-\/>result().operand().IsAnyRegister()) \{}
\DoxyCodeLine{899     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(node-\/>has\_register());}
\DoxyCodeLine{900     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a2e15656b2c14a4f37e8bac2957abdd70}{FreeRegistersUsedBy}}(node);}
\DoxyCodeLine{901     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!node-\/>has\_register());}
\DoxyCodeLine{902     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(node-\/>has\_no\_more\_uses());}
\DoxyCodeLine{903   \}}
\DoxyCodeLine{904 \}}

\end{DoxyCode}


References Allocate\+Register\+At\+End(), v8\+::internal\+::compiler\+::\+Unallocated\+Operand\+::basic\+\_\+policy(), CHECK, CHECK\+\_\+\+GE, v8\+::internal\+::maglev\+::\+Value\+Node\+::\+Clear\+Hint(), v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+IMPLIES, Drop\+Register\+Value\+At\+End(), v8\+::internal\+::compiler\+::\+Unallocated\+Operand\+::extended\+\_\+policy(), v8\+::internal\+::compiler\+::\+Unallocated\+Operand\+::\+FIXED\+\_\+\+FP\+\_\+\+REGISTER, v8\+::internal\+::compiler\+::\+Unallocated\+Operand\+::\+FIXED\+\_\+\+REGISTER, v8\+::internal\+::compiler\+::\+Unallocated\+Operand\+::fixed\+\_\+register\+\_\+index(), v8\+::internal\+::compiler\+::\+Unallocated\+Operand\+::\+FIXED\+\_\+\+SLOT, v8\+::internal\+::compiler\+::\+Unallocated\+Operand\+::fixed\+\_\+slot\+\_\+index(), Force\+Allocate(), v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Spill\+Slots\+::free\+\_\+slots, Free\+Registers\+Used\+By(), v8\+::internal\+::\+Register\+::from\+\_\+code(), v8\+::internal\+::\+Register\+Base$<$ Double\+Register, k\+Double\+After\+Last $>$\+::from\+\_\+code(), v8\+::internal\+::maglev\+::\+Value\+Node\+::\+Get\+Machine\+Representation(), graph\+\_\+, v8\+::internal\+::maglev\+::\+Value\+Node\+::has\+\_\+hint(), v8\+::internal\+::maglev\+::\+Value\+Node\+::has\+\_\+no\+\_\+more\+\_\+uses(), v8\+::internal\+::maglev\+::\+Value\+Node\+::has\+\_\+register(), v8\+::internal\+::maglev\+::\+Value\+Node\+::has\+\_\+valid\+\_\+live\+\_\+range(), v8\+::internal\+::maglev\+::\+Node\+Base\+::input(), v8\+::internal\+::compiler\+::\+Unallocated\+Operand\+::input\+\_\+index(), v8\+::internal\+::maglev\+::\+Node\+Base\+::\+Is(), v8\+::internal\+::maglev\+::\+Graph\+::is\+\_\+osr(), v8\+::internal\+::maglev\+::\+Value\+Node\+::is\+\_\+tagged(), v8\+::internal\+::compiler\+::\+Instruction\+Operand\+::\+Is\+Any\+Register(), v8\+::internal\+::maglev\+::\+Is\+Constant\+Node(), v8\+::internal\+::maglev\+::\+Is\+Double\+Representation(), v8\+::internal\+::maglev\+::\+Value\+Node\+::live\+\_\+range(), v8\+::internal\+::compiler\+::\+Unallocated\+Operand\+::\+MUST\+\_\+\+HAVE\+\_\+\+REGISTER, v8\+::internal\+::compiler\+::\+Unallocated\+Operand\+::\+MUST\+\_\+\+HAVE\+\_\+\+SLOT, v8\+::internal\+::maglev\+::\+Input\+::node(), v8\+::internal\+::compiler\+::\+Unallocated\+Operand\+::\+NONE, v8\+::internal\+::maglev\+::\+Node\+Base\+::opcode(), v8\+::internal\+::maglev\+::\+Value\+Location\+::operand(), v8\+::internal\+::maglev\+::\+Node\+Base\+::properties(), v8\+::internal\+::compiler\+::\+Unallocated\+Operand\+::\+REGISTER\+\_\+\+OR\+\_\+\+SLOT, v8\+::internal\+::compiler\+::\+Unallocated\+Operand\+::\+REGISTER\+\_\+\+OR\+\_\+\+SLOT\+\_\+\+OR\+\_\+\+CONSTANT, v8\+::internal\+::maglev\+::\+Value\+Node\+::result(), v8\+::internal\+::compiler\+::\+Unallocated\+Operand\+::\+SAME\+\_\+\+AS\+\_\+\+INPUT, v8\+::internal\+::maglev\+::\+Value\+Location\+::\+Set\+Allocated(), v8\+::internal\+::maglev\+::\+Value\+Node\+::\+Set\+No\+Spill(), v8\+::internal\+::maglev\+::\+Value\+Node\+::\+Spill(), v8\+::internal\+::compiler\+::\+Location\+Operand\+::\+STACK\+\_\+\+SLOT, v8\+::internal\+::maglev\+::\+Value\+Node\+::\+Live\+Range\+::start, tagged\+\_\+, v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Spill\+Slots\+::top, v8\+::internal\+::\+UNREACHABLE(), and v8\+::internal\+::maglev\+::\+Op\+Properties\+::value\+\_\+representation().



Referenced by Allocate\+Node().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a42c6a4d92907795728a37a3ddd3f6e05_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a42c6a4d92907795728a37a3ddd3f6e05_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4b0daea33a0df4fb83f33c52bfd89476}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4b0daea33a0df4fb83f33c52bfd89476}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!AllocateRegister@{AllocateRegister}}
\index{AllocateRegister@{AllocateRegister}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{AllocateRegister()}{AllocateRegister()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1AllocatedOperand}{compiler\+::\+Allocated\+Operand}} v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Allocate\+Register (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$}]{node,  }\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionOperand}{compiler\+::\+Instruction\+Operand}} \&}]{hint = {\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionOperand}{compiler\+::\+Instruction\+Operand}}()} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1758 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1759                                                              \{}
\DoxyCodeLine{1760   compiler::InstructionOperand allocation;}
\DoxyCodeLine{1761   \textcolor{keywordflow}{if} (node-\/>use\_double\_register()) \{}
\DoxyCodeLine{1762     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4996578e4a68d9cbfee6837d3d1154e4}{double\_registers\_}}.UnblockedFreeIsEmpty()) \{}
\DoxyCodeLine{1763       FreeUnblockedRegister<DoubleRegister>();}
\DoxyCodeLine{1764     \}}
\DoxyCodeLine{1765     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4996578e4a68d9cbfee6837d3d1154e4}{double\_registers\_}}.AllocateRegister(node, hint);}
\DoxyCodeLine{1766   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1767     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a722303e16e26e329257d54b41b460725}{general\_registers\_}}.UnblockedFreeIsEmpty()) \{}
\DoxyCodeLine{1768       FreeUnblockedRegister<Register>();}
\DoxyCodeLine{1769     \}}
\DoxyCodeLine{1770     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a722303e16e26e329257d54b41b460725}{general\_registers\_}}.AllocateRegister(node, hint);}
\DoxyCodeLine{1771   \}}
\DoxyCodeLine{1772 \}}

\end{DoxyCode}


References v8\+::internal\+::maglev\+::\+Value\+Node\+::use\+\_\+double\+\_\+register().



Referenced by Assign\+Arbitrary\+Register\+Input().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4b0daea33a0df4fb83f33c52bfd89476_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4b0daea33a0df4fb83f33c52bfd89476_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a028fd95207c1ba7d7f4dfb45f0a768a2}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a028fd95207c1ba7d7f4dfb45f0a768a2}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!AllocateRegisterAtEnd@{AllocateRegisterAtEnd}}
\index{AllocateRegisterAtEnd@{AllocateRegisterAtEnd}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{AllocateRegisterAtEnd()}{AllocateRegisterAtEnd()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1AllocatedOperand}{compiler\+::\+Allocated\+Operand}} v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Allocate\+Register\+At\+End (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$}]{node }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1821 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1821                                                                        \{}
\DoxyCodeLine{1822   \textcolor{keywordflow}{if} (node-\/>use\_double\_register()) \{}
\DoxyCodeLine{1823     EnsureFreeRegisterAtEnd<DoubleRegister>(node-\/>hint());}
\DoxyCodeLine{1824     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4996578e4a68d9cbfee6837d3d1154e4}{double\_registers\_}}.AllocateRegister(node, node-\/>hint());}
\DoxyCodeLine{1825   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1826     EnsureFreeRegisterAtEnd<Register>(node-\/>hint());}
\DoxyCodeLine{1827     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a722303e16e26e329257d54b41b460725}{general\_registers\_}}.AllocateRegister(node, node-\/>hint());}
\DoxyCodeLine{1828   \}}
\DoxyCodeLine{1829 \}}

\end{DoxyCode}


References v8\+::internal\+::maglev\+::\+Value\+Node\+::hint(), and v8\+::internal\+::maglev\+::\+Value\+Node\+::use\+\_\+double\+\_\+register().



Referenced by Allocate\+Node\+Result().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a028fd95207c1ba7d7f4dfb45f0a768a2_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a028fd95207c1ba7d7f4dfb45f0a768a2_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ac480121182714ec62e9e0219c1fb4aa1}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ac480121182714ec62e9e0219c1fb4aa1}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!AllocateRegisters@{AllocateRegisters}}
\index{AllocateRegisters@{AllocateRegisters}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{AllocateRegisters()}{AllocateRegisters()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Allocate\+Registers (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 364 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{364                                                          \{}
\DoxyCodeLine{365   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_maglev\_regalloc) \{}
\DoxyCodeLine{366     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}.reset(}
\DoxyCodeLine{367         \textcolor{keyword}{new} MaglevPrintingVisitor(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae86d029ad577b8c95464c76fe78e5ed4}{graph\_labeller}}(), std::cout));}
\DoxyCodeLine{368     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>PreProcessGraph(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad2c21cc858129e86e2e12a4ff38445ee}{graph\_}});}
\DoxyCodeLine{369   \}}
\DoxyCodeLine{370 }
\DoxyCodeLine{371   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& [ref, constant] : \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad2c21cc858129e86e2e12a4ff38445ee}{graph\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph_ad8875dd2c00fb526dac40b6c3fdf7dda}{constants}}()) \{}
\DoxyCodeLine{372     constant-\/>SetConstantLocation();}
\DoxyCodeLine{373     \mbox{\hyperlink{src_2base_2macros_8h_a280b0798f270f4b3f361c9ab64832956}{USE}}(ref);}
\DoxyCodeLine{374   \}}
\DoxyCodeLine{375   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& [\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}, constant] : \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad2c21cc858129e86e2e12a4ff38445ee}{graph\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph_a4a40616531a7e5891033a28a27be63c0}{root}}()) \{}
\DoxyCodeLine{376     constant-\/>SetConstantLocation();}
\DoxyCodeLine{377     \mbox{\hyperlink{src_2base_2macros_8h_a280b0798f270f4b3f361c9ab64832956}{USE}}(\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}});}
\DoxyCodeLine{378   \}}
\DoxyCodeLine{379   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& [\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}, constant] : \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad2c21cc858129e86e2e12a4ff38445ee}{graph\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph_a0591eddab70ca9e75cc07c218e93b3d6}{smi}}()) \{}
\DoxyCodeLine{380     constant-\/>SetConstantLocation();}
\DoxyCodeLine{381     \mbox{\hyperlink{src_2base_2macros_8h_a280b0798f270f4b3f361c9ab64832956}{USE}}(\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}});}
\DoxyCodeLine{382   \}}
\DoxyCodeLine{383   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& [\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}, constant] : \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad2c21cc858129e86e2e12a4ff38445ee}{graph\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph_ab6b0ea9e9875e5390265c44878ccaa73}{tagged\_index}}()) \{}
\DoxyCodeLine{384     constant-\/>SetConstantLocation();}
\DoxyCodeLine{385     \mbox{\hyperlink{src_2base_2macros_8h_a280b0798f270f4b3f361c9ab64832956}{USE}}(\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}});}
\DoxyCodeLine{386   \}}
\DoxyCodeLine{387   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& [\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}, constant] : \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad2c21cc858129e86e2e12a4ff38445ee}{graph\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph_ad2b1f5e94a5491af908c59cb597041fa}{int32}}()) \{}
\DoxyCodeLine{388     constant-\/>SetConstantLocation();}
\DoxyCodeLine{389     \mbox{\hyperlink{src_2base_2macros_8h_a280b0798f270f4b3f361c9ab64832956}{USE}}(\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}});}
\DoxyCodeLine{390   \}}
\DoxyCodeLine{391   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& [\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}, constant] : \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad2c21cc858129e86e2e12a4ff38445ee}{graph\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph_a95b749cceb78cc2d800cf69e0684f773}{uint32}}()) \{}
\DoxyCodeLine{392     constant-\/>SetConstantLocation();}
\DoxyCodeLine{393     \mbox{\hyperlink{src_2base_2macros_8h_a280b0798f270f4b3f361c9ab64832956}{USE}}(\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}});}
\DoxyCodeLine{394   \}}
\DoxyCodeLine{395   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& [\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}, constant] : \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad2c21cc858129e86e2e12a4ff38445ee}{graph\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph_a4d907bec12d229a961a60e95eaa0e47d}{intptr}}()) \{}
\DoxyCodeLine{396     constant-\/>SetConstantLocation();}
\DoxyCodeLine{397     \mbox{\hyperlink{src_2base_2macros_8h_a280b0798f270f4b3f361c9ab64832956}{USE}}(\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}});}
\DoxyCodeLine{398   \}}
\DoxyCodeLine{399   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& [\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}, constant] : \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad2c21cc858129e86e2e12a4ff38445ee}{graph\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph_a77eea5835507baf4d3b9dc8a8228c50a}{float64}}()) \{}
\DoxyCodeLine{400     constant-\/>SetConstantLocation();}
\DoxyCodeLine{401     \mbox{\hyperlink{src_2base_2macros_8h_a280b0798f270f4b3f361c9ab64832956}{USE}}(\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}});}
\DoxyCodeLine{402   \}}
\DoxyCodeLine{403   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& [ref, constant] : \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad2c21cc858129e86e2e12a4ff38445ee}{graph\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph_a4444caa9eda4a6543133ab94e594f9e9}{trusted\_constants}}()) \{}
\DoxyCodeLine{404     constant-\/>SetConstantLocation();}
\DoxyCodeLine{405     \mbox{\hyperlink{src_2base_2macros_8h_a280b0798f270f4b3f361c9ab64832956}{USE}}(ref);}
\DoxyCodeLine{406   \}}
\DoxyCodeLine{407 }
\DoxyCodeLine{408   \textcolor{keywordflow}{for} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a07f80e3d7f35007da11101e93ebda0d5}{block\_it\_}} = \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad2c21cc858129e86e2e12a4ff38445ee}{graph\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph_a9c06794820a4fbbf28e94b9a548a43bd}{begin}}(); \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a07f80e3d7f35007da11101e93ebda0d5}{block\_it\_}} != \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad2c21cc858129e86e2e12a4ff38445ee}{graph\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph_a2d4d29a9d37c9c795a83aa666c491c2e}{end}}(); ++\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a07f80e3d7f35007da11101e93ebda0d5}{block\_it\_}}) \{}
\DoxyCodeLine{409     BasicBlock* block = *\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a07f80e3d7f35007da11101e93ebda0d5}{block\_it\_}};}
\DoxyCodeLine{410     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!block-\/>is\_dead());}
\DoxyCodeLine{411     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a3422ff65e920a4d86a1729a9bda6919a}{current\_node\_}} = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{412 }
\DoxyCodeLine{413     \textcolor{comment}{// Restore mergepoint state.}}
\DoxyCodeLine{414     \textcolor{keywordflow}{if} (block-\/>has\_state()) \{}
\DoxyCodeLine{415       \textcolor{keywordflow}{if} (block-\/>state()-\/>is\_exception\_handler() ||}
\DoxyCodeLine{416           block-\/>state()-\/>IsUnreachableByForwardEdge()) \{}
\DoxyCodeLine{417         \textcolor{comment}{// Exceptions and loops only reachable from a JumpLoop (i.e., resumable}}
\DoxyCodeLine{418         \textcolor{comment}{// loops with no fall-\/through edge) start with a blank state of register}}
\DoxyCodeLine{419         \textcolor{comment}{// values.}}
\DoxyCodeLine{420         \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a85e2428a666406afd8a3c6d913021b6d}{ClearRegisterValues}}();}
\DoxyCodeLine{421       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{422         \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae14929a40920a1bb43a561d1f7da9ef1}{InitializeRegisterValues}}(block-\/>state()-\/>register\_state());}
\DoxyCodeLine{423       \}}
\DoxyCodeLine{424     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (block-\/>is\_edge\_split\_block()) \{}
\DoxyCodeLine{425       \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae14929a40920a1bb43a561d1f7da9ef1}{InitializeRegisterValues}}(block-\/>edge\_split\_block\_register\_state());}
\DoxyCodeLine{426     \}}
\DoxyCodeLine{427 }
\DoxyCodeLine{428     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_maglev\_regalloc) \{}
\DoxyCodeLine{429       \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>PreProcessBasicBlock(block);}
\DoxyCodeLine{430       \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os() << \textcolor{stringliteral}{"{}live regs: "{}};}
\DoxyCodeLine{431       \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a009a68b04f473b088b7797342dbd4fcd}{PrintLiveRegs}}();}
\DoxyCodeLine{432 }
\DoxyCodeLine{433       ControlNode* control = \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03_a3de33ad8786d517e279abaefe9866f7b}{NearestPostDominatingHole}}(block-\/>control\_node());}
\DoxyCodeLine{434       \textcolor{keywordflow}{if} (!control-\/>Is<JumpLoop>()) \{}
\DoxyCodeLine{435         \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os() << \textcolor{stringliteral}{"{}\(\backslash\)n[holes:"{}};}
\DoxyCodeLine{436         \textcolor{keywordflow}{while} (\textcolor{keyword}{true}) \{}
\DoxyCodeLine{437           \textcolor{keywordflow}{if} (control-\/>Is<JumpLoop>()) \{}
\DoxyCodeLine{438             \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os() << \textcolor{stringliteral}{"{} "{}} << control-\/>id() << \textcolor{stringliteral}{"{}↰"{}};}
\DoxyCodeLine{439             \textcolor{keywordflow}{break};}
\DoxyCodeLine{440           \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (control-\/>Is<UnconditionalControlNode>()) \{}
\DoxyCodeLine{441             BasicBlock* target =}
\DoxyCodeLine{442                 control-\/>Cast<UnconditionalControlNode>()-\/>target();}
\DoxyCodeLine{443             \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os()}
\DoxyCodeLine{444                 << \textcolor{stringliteral}{"{} "{}} << control-\/>id() << \textcolor{stringliteral}{"{}-\/"{}} << target-\/>first\_id();}
\DoxyCodeLine{445             control = control-\/>next\_post\_dominating\_hole();}
\DoxyCodeLine{446             \mbox{\hyperlink{src_2base_2logging_8h_a7b9f9517fedacc2a1a56c2bbb9d03688}{DCHECK\_NOT\_NULL}}(control);}
\DoxyCodeLine{447             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{448           \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (control-\/>Is<Switch>()) \{}
\DoxyCodeLine{449             Switch* \_switch = control-\/>Cast<Switch>();}
\DoxyCodeLine{450             \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!\_switch-\/>has\_fallthrough());}
\DoxyCodeLine{451             \mbox{\hyperlink{src_2base_2logging_8h_aabec5c3b7a8628298a25f044dcf89c25}{DCHECK\_GE}}(\_switch-\/>size(), 1);}
\DoxyCodeLine{452             BasicBlock* first\_target = \_switch-\/>targets()[0].block\_ptr();}
\DoxyCodeLine{453             \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os()}
\DoxyCodeLine{454                 << \textcolor{stringliteral}{"{} "{}} << control-\/>id() << \textcolor{stringliteral}{"{}-\/"{}} << first\_target-\/>first\_id();}
\DoxyCodeLine{455             control = control-\/>next\_post\_dominating\_hole();}
\DoxyCodeLine{456             \mbox{\hyperlink{src_2base_2logging_8h_a7b9f9517fedacc2a1a56c2bbb9d03688}{DCHECK\_NOT\_NULL}}(control);}
\DoxyCodeLine{457             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{458           \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (control-\/>Is<Return>()) \{}
\DoxyCodeLine{459             \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os() << \textcolor{stringliteral}{"{} "{}} << control-\/>id() << \textcolor{stringliteral}{"{}."{}};}
\DoxyCodeLine{460             \textcolor{keywordflow}{break};}
\DoxyCodeLine{461           \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (control-\/>Is<Deopt>() || control-\/>Is<Abort>()) \{}
\DoxyCodeLine{462             \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os() << \textcolor{stringliteral}{"{} "{}} << control-\/>id() << \textcolor{stringliteral}{"{}✖️"{}};}
\DoxyCodeLine{463             \textcolor{keywordflow}{break};}
\DoxyCodeLine{464           \}}
\DoxyCodeLine{465           \mbox{\hyperlink{namespacev8_1_1internal_acdec713c25068019f935e35976f5b666}{UNREACHABLE}}();}
\DoxyCodeLine{466         \}}
\DoxyCodeLine{467         \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os() << \textcolor{stringliteral}{"{}]"{}};}
\DoxyCodeLine{468       \}}
\DoxyCodeLine{469       \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os() << std::endl;}
\DoxyCodeLine{470     \}}
\DoxyCodeLine{471 }
\DoxyCodeLine{472     \textcolor{comment}{// Activate phis.}}
\DoxyCodeLine{473     \textcolor{keywordflow}{if} (block-\/>has\_phi()) \{}
\DoxyCodeLine{474       \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Phi_a27508166cd8ae6970e9c9781d11444db}{Phi::List}}\& phis = *block-\/>phis();}
\DoxyCodeLine{475       \textcolor{comment}{// Firstly, make the phi live, and try to assign it to an input}}
\DoxyCodeLine{476       \textcolor{comment}{// location.}}
\DoxyCodeLine{477       \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} phi\_it = phis.begin(); phi\_it != phis.end();) \{}
\DoxyCodeLine{478         Phi* phi = *phi\_it;}
\DoxyCodeLine{479         \textcolor{keywordflow}{if} (!phi-\/>has\_valid\_live\_range()) \{}
\DoxyCodeLine{480           \textcolor{comment}{// We might still have left over dead Phis, due to phis being kept}}
\DoxyCodeLine{481           \textcolor{comment}{// alive by deopts that the representation analysis dropped. Clear}}
\DoxyCodeLine{482           \textcolor{comment}{// them out now.}}
\DoxyCodeLine{483           phi\_it = phis.RemoveAt(phi\_it);}
\DoxyCodeLine{484         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{485           \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(phi-\/>has\_valid\_live\_range());}
\DoxyCodeLine{486           phi-\/>SetNoSpill();}
\DoxyCodeLine{487           \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a2d142c2936add8573ad2f994ee53718e}{TryAllocateToInput}}(phi);}
\DoxyCodeLine{488           ++phi\_it;}
\DoxyCodeLine{489         \}}
\DoxyCodeLine{490       \}}
\DoxyCodeLine{491       \textcolor{keywordflow}{if} (block-\/>is\_exception\_handler\_block()) \{}
\DoxyCodeLine{492         \textcolor{comment}{// If we are in exception handler block, then we find the ExceptionPhi}}
\DoxyCodeLine{493         \textcolor{comment}{// (the first one by default) that is marked with the}}
\DoxyCodeLine{494         \textcolor{comment}{// virtual\_accumulator and force kReturnRegister0. This corresponds to}}
\DoxyCodeLine{495         \textcolor{comment}{// the exception message object.}}
\DoxyCodeLine{496         \textcolor{keywordflow}{for} (Phi* phi : phis) \{}
\DoxyCodeLine{497           \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(phi-\/>input\_count(), 0);}
\DoxyCodeLine{498           \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(phi-\/>is\_exception\_phi());}
\DoxyCodeLine{499           \textcolor{keywordflow}{if} (phi-\/>owner() == \mbox{\hyperlink{classv8_1_1internal_1_1interpreter_1_1Register_a081ae5930cebb8e207f2981e2b8e6876}{interpreter::Register::virtual\_accumulator}}()) \{}
\DoxyCodeLine{500             \textcolor{keywordflow}{if} (!phi-\/>has\_no\_more\_uses()) \{}
\DoxyCodeLine{501               phi-\/>result().SetAllocated(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a6a326398de3c6a5072eea22327c7746d}{ForceAllocate}}(\mbox{\hyperlink{namespacev8_1_1internal_a8654f2409b96eec341287939ca3cfab0}{kReturnRegister0}}, phi));}
\DoxyCodeLine{502               \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_maglev\_regalloc) \{}
\DoxyCodeLine{503                 \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>Process(phi, ProcessingState(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a07f80e3d7f35007da11101e93ebda0d5}{block\_it\_}}));}
\DoxyCodeLine{504                 \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os() << \textcolor{stringliteral}{"{}phi (exception message object) "{}}}
\DoxyCodeLine{505                                         << phi-\/>result().operand() << std::endl;}
\DoxyCodeLine{506               \}}
\DoxyCodeLine{507             \}}
\DoxyCodeLine{508           \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (phi-\/>owner().is\_parameter() \&\&}
\DoxyCodeLine{509                      phi-\/>owner().is\_receiver()) \{}
\DoxyCodeLine{510             \textcolor{comment}{// The receiver is a special case for a fairly silly reason:}}
\DoxyCodeLine{511             \textcolor{comment}{// OptimizedJSFrame::Summarize requires the receiver (and the}}
\DoxyCodeLine{512             \textcolor{comment}{// function) to be in a stack slot, since its value must be}}
\DoxyCodeLine{513             \textcolor{comment}{// available even though we're not deoptimizing (and thus register}}
\DoxyCodeLine{514             \textcolor{comment}{// states are not available).}}
\DoxyCodeLine{515             \textcolor{comment}{//}}
\DoxyCodeLine{516             \textcolor{comment}{// TODO(leszeks):}}
\DoxyCodeLine{517             \textcolor{comment}{// For inlined functions / nested graph generation, this a) doesn't}}
\DoxyCodeLine{518             \textcolor{comment}{// work (there's no receiver stack slot); and b) isn't necessary}}
\DoxyCodeLine{519             \textcolor{comment}{// (Summarize only looks at noninlined functions).}}
\DoxyCodeLine{520             phi-\/>Spill(compiler::AllocatedOperand(}
\DoxyCodeLine{521                 \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LocationOperand_af9e0a334eaf58a05f9ea5b7139221140aff57c8ccb343b8b46f60e18322227df9}{compiler::AllocatedOperand::STACK\_SLOT}},}
\DoxyCodeLine{522                 \mbox{\hyperlink{namespacev8_1_1internal_abe5419355372f787c28119c509343410a3eee36fbbe00cfed0ef24d756afd1784}{MachineRepresentation::kTagged}},}
\DoxyCodeLine{523                 (\mbox{\hyperlink{classv8_1_1internal_1_1StandardFrameConstants_a16e313ff143f71038776e2ec33169faf}{StandardFrameConstants::kExpressionsOffset}} -\/}
\DoxyCodeLine{524                  \mbox{\hyperlink{classv8_1_1internal_1_1UnoptimizedFrameConstants_afc3edf63903fd9c13335b467c7c1b5a5}{UnoptimizedFrameConstants::kRegisterFileFromFp}}) /}
\DoxyCodeLine{525                         \mbox{\hyperlink{namespacev8_1_1internal_a72cbfdfeabb9a401f279f7b80bcff67a}{kSystemPointerSize}} +}
\DoxyCodeLine{526                     \mbox{\hyperlink{classv8_1_1internal_1_1interpreter_1_1Register_a7ca86fc4b69076af2884db4bbd2911f7}{interpreter::Register::receiver}}().\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}()));}
\DoxyCodeLine{527             phi-\/>result().SetAllocated(phi-\/>spill\_slot());}
\DoxyCodeLine{528             \textcolor{comment}{// Break once both accumulator and receiver have been processed.}}
\DoxyCodeLine{529             \textcolor{keywordflow}{break};}
\DoxyCodeLine{530           \}}
\DoxyCodeLine{531         \}}
\DoxyCodeLine{532       \}}
\DoxyCodeLine{533       \textcolor{comment}{// Secondly try to assign the phi to a free register.}}
\DoxyCodeLine{534       \textcolor{keywordflow}{for} (Phi* phi : phis) \{}
\DoxyCodeLine{535         \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(phi-\/>has\_valid\_live\_range());}
\DoxyCodeLine{536         \textcolor{keywordflow}{if} (phi-\/>result().operand().IsAllocated()) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{537         \textcolor{keywordflow}{if} (phi-\/>use\_double\_register()) \{}
\DoxyCodeLine{538           \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4996578e4a68d9cbfee6837d3d1154e4}{double\_registers\_}}.UnblockedFreeIsEmpty()) \{}
\DoxyCodeLine{539             compiler::AllocatedOperand allocation =}
\DoxyCodeLine{540                 \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4996578e4a68d9cbfee6837d3d1154e4}{double\_registers\_}}.AllocateRegister(phi, phi-\/>hint());}
\DoxyCodeLine{541             phi-\/>result().SetAllocated(allocation);}
\DoxyCodeLine{542             \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad6946dc846bb4c82c24ab786b960b2f6}{SetLoopPhiRegisterHint}}(phi, allocation.GetDoubleRegister());}
\DoxyCodeLine{543             \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_maglev\_regalloc) \{}
\DoxyCodeLine{544               \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>Process(phi, ProcessingState(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a07f80e3d7f35007da11101e93ebda0d5}{block\_it\_}}));}
\DoxyCodeLine{545               \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os()}
\DoxyCodeLine{546                   << \textcolor{stringliteral}{"{}phi (new reg) "{}} << phi-\/>result().operand() << std::endl;}
\DoxyCodeLine{547             \}}
\DoxyCodeLine{548           \}}
\DoxyCodeLine{549         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{550           \textcolor{comment}{// We'll use a general purpose register for this Phi.}}
\DoxyCodeLine{551           \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a722303e16e26e329257d54b41b460725}{general\_registers\_}}.UnblockedFreeIsEmpty()) \{}
\DoxyCodeLine{552             compiler::AllocatedOperand allocation =}
\DoxyCodeLine{553                 \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a722303e16e26e329257d54b41b460725}{general\_registers\_}}.AllocateRegister(phi, phi-\/>hint());}
\DoxyCodeLine{554             phi-\/>result().SetAllocated(allocation);}
\DoxyCodeLine{555             \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad6946dc846bb4c82c24ab786b960b2f6}{SetLoopPhiRegisterHint}}(phi, allocation.GetRegister());}
\DoxyCodeLine{556             \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_maglev\_regalloc) \{}
\DoxyCodeLine{557               \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>Process(phi, ProcessingState(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a07f80e3d7f35007da11101e93ebda0d5}{block\_it\_}}));}
\DoxyCodeLine{558               \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os()}
\DoxyCodeLine{559                   << \textcolor{stringliteral}{"{}phi (new reg) "{}} << phi-\/>result().operand() << std::endl;}
\DoxyCodeLine{560             \}}
\DoxyCodeLine{561           \}}
\DoxyCodeLine{562         \}}
\DoxyCodeLine{563       \}}
\DoxyCodeLine{564       \textcolor{comment}{// Finally just use a stack slot.}}
\DoxyCodeLine{565       \textcolor{keywordflow}{for} (Phi* phi : phis) \{}
\DoxyCodeLine{566         \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(phi-\/>has\_valid\_live\_range());}
\DoxyCodeLine{567         \textcolor{keywordflow}{if} (phi-\/>result().operand().IsAllocated()) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{568         \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_adc630771cce27ef848f70ba989b5444c}{AllocateSpillSlot}}(phi);}
\DoxyCodeLine{569         \textcolor{comment}{// TODO(verwaest): Will this be used at all?}}
\DoxyCodeLine{570         phi-\/>result().SetAllocated(phi-\/>spill\_slot());}
\DoxyCodeLine{571         \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_maglev\_regalloc) \{}
\DoxyCodeLine{572           \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>Process(phi, ProcessingState(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a07f80e3d7f35007da11101e93ebda0d5}{block\_it\_}}));}
\DoxyCodeLine{573           \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os()}
\DoxyCodeLine{574               << \textcolor{stringliteral}{"{}phi (stack) "{}} << phi-\/>result().operand() << std::endl;}
\DoxyCodeLine{575         \}}
\DoxyCodeLine{576       \}}
\DoxyCodeLine{577 }
\DoxyCodeLine{578       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_maglev\_regalloc) \{}
\DoxyCodeLine{579         \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os() << \textcolor{stringliteral}{"{}live regs: "{}};}
\DoxyCodeLine{580         \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a009a68b04f473b088b7797342dbd4fcd}{PrintLiveRegs}}();}
\DoxyCodeLine{581         \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os() << std::endl;}
\DoxyCodeLine{582       \}}
\DoxyCodeLine{583       \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a722303e16e26e329257d54b41b460725}{general\_registers\_}}.clear\_blocked();}
\DoxyCodeLine{584       \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4996578e4a68d9cbfee6837d3d1154e4}{double\_registers\_}}.clear\_blocked();}
\DoxyCodeLine{585     \}}
\DoxyCodeLine{586     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(AllUsedRegistersLiveAt(block));}
\DoxyCodeLine{587     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4aee117ed0ee67a5a265401a6255caa7}{VerifyRegisterState}}();}
\DoxyCodeLine{588 }
\DoxyCodeLine{589     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae1d3774a50bdff63954b0fbcea9f18b7}{node\_it\_}} = block-\/>nodes().begin();}
\DoxyCodeLine{590     \textcolor{keywordflow}{for} (; \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae1d3774a50bdff63954b0fbcea9f18b7}{node\_it\_}} != block-\/>nodes().\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}}(); ++\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae1d3774a50bdff63954b0fbcea9f18b7}{node\_it\_}}) \{}
\DoxyCodeLine{591       Node* node = *\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae1d3774a50bdff63954b0fbcea9f18b7}{node\_it\_}};}
\DoxyCodeLine{592       \textcolor{keywordflow}{if} (node == \textcolor{keyword}{nullptr}) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{593 }
\DoxyCodeLine{594       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03_aae79f305fa7b396dee1a5968db293af2}{IsDeadNodeToSkip}}(node)) \{}
\DoxyCodeLine{595         \textcolor{comment}{// We remove unused pure nodes.}}
\DoxyCodeLine{596         \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_maglev\_regalloc) \{}
\DoxyCodeLine{597           \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os()}
\DoxyCodeLine{598               << \textcolor{stringliteral}{"{}Removing unused node "{}}}
\DoxyCodeLine{599               << PrintNodeLabel(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae86d029ad577b8c95464c76fe78e5ed4}{graph\_labeller}}(), node) << \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{600         \}}
\DoxyCodeLine{601 }
\DoxyCodeLine{602         \textcolor{keywordflow}{if} (!node-\/>Is<\mbox{\hyperlink{structIdentity}{Identity}}>()) \{}
\DoxyCodeLine{603           \textcolor{comment}{// Updating the uses of the inputs in order to free dead input}}
\DoxyCodeLine{604           \textcolor{comment}{// registers. We don't do this for Identity nodes, because they were}}
\DoxyCodeLine{605           \textcolor{comment}{// skipped during use marking, and their inputs are thus not aware}}
\DoxyCodeLine{606           \textcolor{comment}{// that they were used by this node.}}
\DoxyCodeLine{607           \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!node-\/>properties().can\_deopt());}
\DoxyCodeLine{608           node-\/>ForAllInputsInRegallocAssignmentOrder(}
\DoxyCodeLine{609               [\&](\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1NodeBase_a4bec162c7e5322b28964aa8f660c7d56}{NodeBase::InputAllocationPolicy}}, Input* input) \{}
\DoxyCodeLine{610                 \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a8aa7826d195c03e8078109238f87306a}{UpdateUse}}(input);}
\DoxyCodeLine{611               \});}
\DoxyCodeLine{612         \}}
\DoxyCodeLine{613 }
\DoxyCodeLine{614         *\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae1d3774a50bdff63954b0fbcea9f18b7}{node\_it\_}} = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{615         \textcolor{keywordflow}{continue};}
\DoxyCodeLine{616       \}}
\DoxyCodeLine{617 }
\DoxyCodeLine{618       \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad0f2acc22289eabf8f64b42fff7b2fdc}{AllocateNode}}(node);}
\DoxyCodeLine{619     \}}
\DoxyCodeLine{620     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a5a568515e703280bf6cd8564e373fc87}{AllocateControlNode}}(block-\/>control\_node(), block);}
\DoxyCodeLine{621     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ab3a4be23708e5cb031d6dd05867368de}{ApplyPatches}}(block);}
\DoxyCodeLine{622   \}}
\DoxyCodeLine{623 \}}

\end{DoxyCode}


References Allocate\+Control\+Node(), Allocate\+Node(), Allocate\+Spill\+Slot(), Apply\+Patches(), v8\+::base\+::\+Threaded\+List\+Base$<$ T, Base\+Class, TLTraits, k\+Supports\+Unsafe\+Insertion $>$\+::begin(), v8\+::internal\+::maglev\+::\+Graph\+::begin(), v8\+::internal\+::\+Zone\+Vector$<$ T $>$\+::begin(), block\+\_\+it\+\_\+, v8\+::internal\+::maglev\+::\+Basic\+Block\+Ref\+::block\+\_\+ptr(), v8\+::internal\+::maglev\+::\+Op\+Properties\+::can\+\_\+deopt(), v8\+::internal\+::maglev\+::\+Node\+Base\+::\+Cast(), Clear\+Register\+Values(), v8\+::internal\+::maglev\+::\+Graph\+::constants(), v8\+::internal\+::maglev\+::\+Basic\+Block\+::control\+\_\+node(), current\+\_\+node\+\_\+, v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+EQ, DCHECK\+\_\+\+GE, DCHECK\+\_\+\+NOT\+\_\+\+NULL, double\+\_\+registers\+\_\+, v8\+::internal\+::maglev\+::\+Basic\+Block\+::edge\+\_\+split\+\_\+block\+\_\+register\+\_\+state(), v8\+::base\+::\+Threaded\+List\+Base$<$ T, Base\+Class, TLTraits, k\+Supports\+Unsafe\+Insertion $>$\+::end(), v8\+::internal\+::maglev\+::\+Graph\+::end(), v8\+::internal\+::compiler\+::end(), v8\+::internal\+::maglev\+::\+Basic\+Block\+::first\+\_\+id(), v8\+::internal\+::maglev\+::\+Graph\+::float64(), v8\+::internal\+::maglev\+::\+Node\+Base\+::\+For\+All\+Inputs\+In\+Regalloc\+Assignment\+Order(), Force\+Allocate(), general\+\_\+registers\+\_\+, v8\+::internal\+::compiler\+::\+Location\+Operand\+::\+Get\+Double\+Register(), v8\+::internal\+::compiler\+::\+Location\+Operand\+::\+Get\+Register(), graph\+\_\+, graph\+\_\+labeller(), v8\+::internal\+::maglev\+::\+Switch\+::has\+\_\+fallthrough(), v8\+::internal\+::maglev\+::\+Basic\+Block\+::has\+\_\+phi(), v8\+::internal\+::maglev\+::\+Basic\+Block\+::has\+\_\+state(), v8\+::internal\+::maglev\+::\+Node\+Base\+::id(), v8\+::internal\+::index, Initialize\+Register\+Values(), v8\+::internal\+::maglev\+::\+Graph\+::int32(), v8\+::internal\+::maglev\+::\+Graph\+::intptr(), v8\+::internal\+::maglev\+::\+Node\+Base\+::\+Is(), v8\+::internal\+::maglev\+::\+Basic\+Block\+::is\+\_\+dead(), v8\+::internal\+::maglev\+::\+Basic\+Block\+::is\+\_\+edge\+\_\+split\+\_\+block(), v8\+::internal\+::maglev\+::\+Merge\+Point\+Interpreter\+Frame\+State\+::is\+\_\+exception\+\_\+handler(), v8\+::internal\+::maglev\+::\+Basic\+Block\+::is\+\_\+exception\+\_\+handler\+\_\+block(), v8\+::internal\+::maglev\+::anonymous\+\_\+namespace\{maglev-\/regalloc.\+cc\}\+::\+Is\+Dead\+Node\+To\+Skip(), v8\+::internal\+::maglev\+::\+Merge\+Point\+Interpreter\+Frame\+State\+::\+Is\+Unreachable\+By\+Forward\+Edge(), v8\+::internal\+::\+Standard\+Frame\+Constants\+::k\+Expressions\+Offset, v8\+::internal\+::\+Unoptimized\+Frame\+Constants\+::k\+Register\+File\+From\+Fp, v8\+::internal\+::k\+Return\+Register0, v8\+::internal\+::k\+System\+Pointer\+Size, v8\+::internal\+::k\+Tagged, v8\+::internal\+::maglev\+::anonymous\+\_\+namespace\{maglev-\/regalloc.\+cc\}\+::\+Nearest\+Post\+Dominating\+Hole(), v8\+::internal\+::maglev\+::\+Control\+Node\+::next\+\_\+post\+\_\+dominating\+\_\+hole(), node\+\_\+it\+\_\+, v8\+::internal\+::maglev\+::\+Basic\+Block\+::nodes(), v8\+::internal\+::maglev\+::\+Basic\+Block\+::phis(), printing\+\_\+visitor\+\_\+, Print\+Live\+Regs(), v8\+::internal\+::maglev\+::\+Node\+Base\+::properties(), v8\+::internal\+::interpreter\+::\+Register\+::receiver(), v8\+::internal\+::maglev\+::\+Merge\+Point\+Interpreter\+Frame\+State\+::register\+\_\+state(), v8\+::base\+::\+Threaded\+List\+Base$<$ T, Base\+Class, TLTraits, k\+Supports\+Unsafe\+Insertion $>$\+::\+Remove\+At(), v8\+::internal\+::maglev\+::\+Graph\+::root(), Set\+Loop\+Phi\+Register\+Hint(), v8\+::internal\+::maglev\+::\+Switch\+::size(), v8\+::internal\+::maglev\+::\+Graph\+::smi(), v8\+::internal\+::compiler\+::\+Location\+Operand\+::\+STACK\+\_\+\+SLOT, v8\+::internal\+::maglev\+::\+Basic\+Block\+::state(), v8\+::internal\+::maglev\+::\+Graph\+::tagged\+\_\+index(), v8\+::internal\+::maglev\+::\+Switch\+::targets(), v8\+::internal\+::maglev\+::\+Graph\+::trusted\+\_\+constants(), Try\+Allocate\+To\+Input(), v8\+::internal\+::maglev\+::\+Graph\+::uint32(), v8\+::internal\+::\+UNREACHABLE(), Update\+Use(), USE, v8\+::internal\+::v8\+\_\+flags, v8\+::internal\+::value, Verify\+Register\+State(), and v8\+::internal\+::interpreter\+::\+Register\+::virtual\+\_\+accumulator().



Referenced by Straight\+Forward\+Register\+Allocator().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ac480121182714ec62e9e0219c1fb4aa1_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ac480121182714ec62e9e0219c1fb4aa1_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_adc630771cce27ef848f70ba989b5444c}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_adc630771cce27ef848f70ba989b5444c}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!AllocateSpillSlot@{AllocateSpillSlot}}
\index{AllocateSpillSlot@{AllocateSpillSlot}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{AllocateSpillSlot()}{AllocateSpillSlot()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Allocate\+Spill\+Slot (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$}]{node }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1659 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1659                                                                         \{}
\DoxyCodeLine{1660   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!node-\/>is\_loadable());}
\DoxyCodeLine{1661   uint32\_t free\_slot;}
\DoxyCodeLine{1662   \textcolor{keywordtype}{bool} is\_tagged = (node-\/>properties().value\_representation() ==}
\DoxyCodeLine{1663                     \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a3eee36fbbe00cfed0ef24d756afd1784}{ValueRepresentation::kTagged}});}
\DoxyCodeLine{1664   uint32\_t slot\_size = 1;}
\DoxyCodeLine{1665   \textcolor{keywordtype}{bool} double\_slot =}
\DoxyCodeLine{1666       \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_aad2426e234f3604b6298c3ba8d482056}{IsDoubleRepresentation}}(node-\/>properties().value\_representation());}
\DoxyCodeLine{1667   \textcolor{keywordflow}{if} constexpr (\mbox{\hyperlink{namespacev8_1_1internal_ada67458c5a8e8c0ade0017e5d3c56fd3}{kDoubleSize}} != \mbox{\hyperlink{namespacev8_1_1internal_a72cbfdfeabb9a401f279f7b80bcff67a}{kSystemPointerSize}}) \{}
\DoxyCodeLine{1668     \textcolor{keywordflow}{if} (double\_slot) \{}
\DoxyCodeLine{1669       slot\_size = \mbox{\hyperlink{namespacev8_1_1internal_ada67458c5a8e8c0ade0017e5d3c56fd3}{kDoubleSize}} / \mbox{\hyperlink{namespacev8_1_1internal_a72cbfdfeabb9a401f279f7b80bcff67a}{kSystemPointerSize}};}
\DoxyCodeLine{1670     \}}
\DoxyCodeLine{1671   \}}
\DoxyCodeLine{1672   SpillSlots\& slots = is\_tagged ? \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ac2b88b62a9fe52e59c0ccc6eb0015eda}{tagged\_}} : \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_aa9e586d4d110daacc3300195c05fea21}{untagged\_}};}
\DoxyCodeLine{1673   \mbox{\hyperlink{namespacev8_1_1internal_abe5419355372f787c28119c509343410}{MachineRepresentation}} representation = node-\/>GetMachineRepresentation();}
\DoxyCodeLine{1674   \textcolor{comment}{// TODO(victorgomes): We don't currently reuse double slots on arm.}}
\DoxyCodeLine{1675   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.maglev\_reuse\_stack\_slots || slot\_size > 1 ||}
\DoxyCodeLine{1676       slots.free\_slots.empty()) \{}
\DoxyCodeLine{1677     free\_slot = slots.top + slot\_size -\/ 1;}
\DoxyCodeLine{1678     slots.top += slot\_size;}
\DoxyCodeLine{1679   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1680     \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a8b29e11822d68e5cf40a05880c74fd26}{NodeIdT}} start = node-\/>live\_range().start;}
\DoxyCodeLine{1681     \textcolor{keyword}{auto} it =}
\DoxyCodeLine{1682         std::upper\_bound(slots.free\_slots.begin(), slots.free\_slots.end(),}
\DoxyCodeLine{1683                          start, [](\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a8b29e11822d68e5cf40a05880c74fd26}{NodeIdT}} s, \textcolor{keyword}{const} SpillSlotInfo\& slot\_info) \{}
\DoxyCodeLine{1684                            return slot\_info.freed\_at\_position >= s;}
\DoxyCodeLine{1685                          \});}
\DoxyCodeLine{1686     \textcolor{comment}{// \{it\} points to the first invalid slot. Decrement it to get to the last}}
\DoxyCodeLine{1687     \textcolor{comment}{// valid slot freed before \{start\}.}}
\DoxyCodeLine{1688     \textcolor{keywordflow}{if} (it != slots.free\_slots.begin()) \{}
\DoxyCodeLine{1689       -\/-\/it;}
\DoxyCodeLine{1690     \}}
\DoxyCodeLine{1691 }
\DoxyCodeLine{1692     \textcolor{comment}{// TODO(olivf): Currently we cannot mix double and normal stack slots since}}
\DoxyCodeLine{1693     \textcolor{comment}{// the gap resolver treats them independently and cannot detect cycles via}}
\DoxyCodeLine{1694     \textcolor{comment}{// shared slots.}}
\DoxyCodeLine{1695     \textcolor{keywordflow}{while} (it != slots.free\_slots.begin()) \{}
\DoxyCodeLine{1696       \textcolor{keywordflow}{if} (it-\/>double\_slot == double\_slot) \textcolor{keywordflow}{break};}
\DoxyCodeLine{1697       -\/-\/it;}
\DoxyCodeLine{1698     \}}
\DoxyCodeLine{1699 }
\DoxyCodeLine{1700     \textcolor{keywordflow}{if} (it != slots.free\_slots.begin()) \{}
\DoxyCodeLine{1701       \mbox{\hyperlink{src_2base_2logging_8h_aca32614b4d2aea7dd9abdeb222bf02f3}{CHECK\_EQ}}(double\_slot, it-\/>double\_slot);}
\DoxyCodeLine{1702       \mbox{\hyperlink{src_2base_2logging_8h_a43d2df1fb528ff7bee1e873e377e0323}{CHECK\_GT}}(start, it-\/>freed\_at\_position);}
\DoxyCodeLine{1703       free\_slot = it-\/>slot\_index;}
\DoxyCodeLine{1704       slots.free\_slots.erase(it);}
\DoxyCodeLine{1705     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1706       free\_slot = slots.top++;}
\DoxyCodeLine{1707     \}}
\DoxyCodeLine{1708   \}}
\DoxyCodeLine{1709   node-\/>Spill(compiler::AllocatedOperand(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LocationOperand_af9e0a334eaf58a05f9ea5b7139221140aff57c8ccb343b8b46f60e18322227df9}{compiler::AllocatedOperand::STACK\_SLOT}},}
\DoxyCodeLine{1710                                          representation, free\_slot));}
\DoxyCodeLine{1711 \}}

\end{DoxyCode}


References CHECK\+\_\+\+EQ, CHECK\+\_\+\+GT, DCHECK, v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Spill\+Slots\+::free\+\_\+slots, v8\+::internal\+::maglev\+::\+Value\+Node\+::\+Get\+Machine\+Representation(), v8\+::internal\+::maglev\+::\+Value\+Node\+::is\+\_\+loadable(), v8\+::internal\+::maglev\+::\+Is\+Double\+Representation(), v8\+::internal\+::k\+Double\+Size, v8\+::internal\+::k\+System\+Pointer\+Size, v8\+::internal\+::maglev\+::\+Value\+Node\+::live\+\_\+range(), v8\+::internal\+::maglev\+::\+Node\+Base\+::properties(), v8\+::internal\+::maglev\+::\+Value\+Node\+::\+Spill(), v8\+::internal\+::maglev\+::\+Value\+Node\+::\+Live\+Range\+::start, v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Spill\+Slots\+::top, v8\+::internal\+::v8\+\_\+flags, and v8\+::internal\+::maglev\+::\+Op\+Properties\+::value\+\_\+representation().



Referenced by Allocate\+Registers(), and Spill().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_adc630771cce27ef848f70ba989b5444c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_adc630771cce27ef848f70ba989b5444c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ab3a4be23708e5cb031d6dd05867368de}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ab3a4be23708e5cb031d6dd05867368de}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!ApplyPatches@{ApplyPatches}}
\index{ApplyPatches@{ApplyPatches}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{ApplyPatches()}{ApplyPatches()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Apply\+Patches (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BasicBlock}{Basic\+Block}} $\ast$}]{block }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 179 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{179                                                                      \{}
\DoxyCodeLine{180   \textcolor{comment}{// TODO(verwaest): Perhaps don't actually merge these in but let the code}}
\DoxyCodeLine{181   \textcolor{comment}{// generator pick up the gap moves from a separate list.}}
\DoxyCodeLine{182   \textcolor{keywordtype}{size\_t} diff = \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a7fbb5ce0a68326f9f011be5a1ee49a97}{patches\_}}.size();}
\DoxyCodeLine{183   \textcolor{keywordflow}{if} (diff == 0) \textcolor{keywordflow}{return};}
\DoxyCodeLine{184   block-\/>nodes().resize(block-\/>nodes().size() + diff);}
\DoxyCodeLine{185   \textcolor{keyword}{auto} patches\_it = \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a7fbb5ce0a68326f9f011be5a1ee49a97}{patches\_}}.end() -\/ 1;}
\DoxyCodeLine{186   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} node\_it = block-\/>nodes().end() -\/ 1 -\/ diff;}
\DoxyCodeLine{187        node\_it >= block-\/>nodes().begin(); -\/-\/node\_it) \{}
\DoxyCodeLine{188     *(node\_it + diff) = *node\_it;}
\DoxyCodeLine{189     \textcolor{keywordflow}{for} (; patches\_it-\/>diff == (node\_it -\/ block-\/>nodes().begin());}
\DoxyCodeLine{190          -\/-\/patches\_it) \{}
\DoxyCodeLine{191       -\/-\/diff;}
\DoxyCodeLine{192       *(node\_it + diff) = patches\_it-\/>new\_node;}
\DoxyCodeLine{193       \mbox{\hyperlink{namespacev8_1_1internal_aa583abbe977ca41df2196a083796b84a}{if}} (diff == 0) \{}
\DoxyCodeLine{194         \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a7fbb5ce0a68326f9f011be5a1ee49a97}{patches\_}}.resize(0);}
\DoxyCodeLine{195         \textcolor{keywordflow}{return};}
\DoxyCodeLine{196       \}}
\DoxyCodeLine{197     \}}
\DoxyCodeLine{198   \}}
\DoxyCodeLine{199   \mbox{\hyperlink{namespacev8_1_1internal_acdec713c25068019f935e35976f5b666}{UNREACHABLE}}();}
\DoxyCodeLine{200 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Zone\+Vector$<$ T $>$\+::begin(), v8\+::internal\+::\+Zone\+Vector$<$ T $>$\+::end(), v8\+::internal\+::if(), v8\+::internal\+::maglev\+::\+Basic\+Block\+::nodes(), patches\+\_\+, v8\+::internal\+::\+Zone\+Vector$<$ T $>$\+::resize(), v8\+::internal\+::\+Zone\+Vector$<$ T $>$\+::size(), and v8\+::internal\+::\+UNREACHABLE().



Referenced by Allocate\+Registers().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ab3a4be23708e5cb031d6dd05867368de_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ab3a4be23708e5cb031d6dd05867368de_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a2a173f875d2497f51e532b288cab889a}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a2a173f875d2497f51e532b288cab889a}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!AssignAnyInput@{AssignAnyInput}}
\index{AssignAnyInput@{AssignAnyInput}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{AssignAnyInput()}{AssignAnyInput()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Assign\+Any\+Input (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Input}{Input}} \&}]{input }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1436 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1436                                                                   \{}
\DoxyCodeLine{1437   \textcolor{comment}{// Already assigned in AssignFixedInput or AssignArbitraryRegisterInput.}}
\DoxyCodeLine{1438   \textcolor{keywordflow}{if} (!input.operand().IsUnallocated()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{1439 }
\DoxyCodeLine{1440   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(}
\DoxyCodeLine{1441       compiler::UnallocatedOperand::cast(input.operand()).extended\_policy(),}
\DoxyCodeLine{1442       \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1UnallocatedOperand_a7bdb03b8ffc2cd9db894dc3f3ded2030a7ea04665a6ce29b237bf41036b421c75}{compiler::UnallocatedOperand::REGISTER\_OR\_SLOT\_OR\_CONSTANT}});}
\DoxyCodeLine{1443 }
\DoxyCodeLine{1444   ValueNode* node = input.node();}
\DoxyCodeLine{1445   compiler::InstructionOperand location = node-\/>allocation();}
\DoxyCodeLine{1446 }
\DoxyCodeLine{1447   input.InjectLocation(location);}
\DoxyCodeLine{1448   \textcolor{keywordflow}{if} (location.IsAnyRegister()) \{}
\DoxyCodeLine{1449     compiler::AllocatedOperand allocation =}
\DoxyCodeLine{1450         \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LocationOperand_a14a0a8abb4b6ac796e0fae75948a270e}{compiler::AllocatedOperand::cast}}(location);}
\DoxyCodeLine{1451     \textcolor{keywordflow}{if} (allocation.IsDoubleRegister()) \{}
\DoxyCodeLine{1452       \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4996578e4a68d9cbfee6837d3d1154e4}{double\_registers\_}}.block(allocation.GetDoubleRegister());}
\DoxyCodeLine{1453     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1454       \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a722303e16e26e329257d54b41b460725}{general\_registers\_}}.block(allocation.GetRegister());}
\DoxyCodeLine{1455     \}}
\DoxyCodeLine{1456   \}}
\DoxyCodeLine{1457   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_maglev\_regalloc) \{}
\DoxyCodeLine{1458     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os()}
\DoxyCodeLine{1459         << \textcolor{stringliteral}{"{}-\/ "{}} << PrintNodeLabel(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae86d029ad577b8c95464c76fe78e5ed4}{graph\_labeller}}(), input.node())}
\DoxyCodeLine{1460         << \textcolor{stringliteral}{"{} in original "{}} << location << \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{1461   \}}
\DoxyCodeLine{1462   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a8aa7826d195c03e8078109238f87306a}{UpdateUse}}(\&input);}
\DoxyCodeLine{1463 \}}

\end{DoxyCode}


References v8\+::internal\+::maglev\+::\+Value\+Node\+::allocation(), v8\+::internal\+::compiler\+::\+Location\+Operand\+::cast(), DCHECK\+\_\+\+EQ, double\+\_\+registers\+\_\+, general\+\_\+registers\+\_\+, v8\+::internal\+::compiler\+::\+Location\+Operand\+::\+Get\+Double\+Register(), v8\+::internal\+::compiler\+::\+Location\+Operand\+::\+Get\+Register(), graph\+\_\+labeller(), v8\+::internal\+::maglev\+::\+Value\+Location\+::\+Inject\+Location(), v8\+::internal\+::compiler\+::\+Instruction\+Operand\+::\+Is\+Any\+Register(), v8\+::internal\+::compiler\+::\+Instruction\+Operand\+::\+Is\+Double\+Register(), v8\+::internal\+::maglev\+::\+Input\+::node(), v8\+::internal\+::maglev\+::\+Value\+Location\+::operand(), printing\+\_\+visitor\+\_\+, v8\+::internal\+::compiler\+::\+Unallocated\+Operand\+::\+REGISTER\+\_\+\+OR\+\_\+\+SLOT\+\_\+\+OR\+\_\+\+CONSTANT, Update\+Use(), and v8\+::internal\+::v8\+\_\+flags.



Referenced by Assign\+Inputs().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a2a173f875d2497f51e532b288cab889a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a2a173f875d2497f51e532b288cab889a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae47f3523278b5fe4f793bb460008b165}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae47f3523278b5fe4f793bb460008b165}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!AssignArbitraryRegisterInput@{AssignArbitraryRegisterInput}}
\index{AssignArbitraryRegisterInput@{AssignArbitraryRegisterInput}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{AssignArbitraryRegisterInput()}{AssignArbitraryRegisterInput()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Assign\+Arbitrary\+Register\+Input (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1NodeBase}{Node\+Base}} $\ast$}]{result\+\_\+node,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Input}{Input}} \&}]{input }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1354 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1355                                          \{}
\DoxyCodeLine{1356   \textcolor{comment}{// Already assigned in AssignFixedInput}}
\DoxyCodeLine{1357   \textcolor{keywordflow}{if} (!input.operand().IsUnallocated()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{1358 }
\DoxyCodeLine{1359   compiler::UnallocatedOperand operand =}
\DoxyCodeLine{1360       compiler::UnallocatedOperand::cast(input.operand());}
\DoxyCodeLine{1361   \textcolor{keywordflow}{if} (operand.extended\_policy() ==}
\DoxyCodeLine{1362       \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1UnallocatedOperand_a7bdb03b8ffc2cd9db894dc3f3ded2030a7ea04665a6ce29b237bf41036b421c75}{compiler::UnallocatedOperand::REGISTER\_OR\_SLOT\_OR\_CONSTANT}}) \{}
\DoxyCodeLine{1363     \textcolor{comment}{// Allocated in AssignAnyInput.}}
\DoxyCodeLine{1364     \textcolor{keywordflow}{return};}
\DoxyCodeLine{1365   \}}
\DoxyCodeLine{1366 }
\DoxyCodeLine{1367   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(operand.extended\_policy(),}
\DoxyCodeLine{1368             \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1UnallocatedOperand_a7bdb03b8ffc2cd9db894dc3f3ded2030a3de98ae7e8339fded3184b2f53f77fea}{compiler::UnallocatedOperand::MUST\_HAVE\_REGISTER}});}
\DoxyCodeLine{1369 }
\DoxyCodeLine{1370   ValueNode* node = input.node();}
\DoxyCodeLine{1371   \textcolor{keywordtype}{bool} is\_clobbered = input.Cloberred();}
\DoxyCodeLine{1372 }
\DoxyCodeLine{1373   compiler::AllocatedOperand location = ([\&] \{}
\DoxyCodeLine{1374     compiler::InstructionOperand existing\_register\_location;}
\DoxyCodeLine{1375     \textcolor{keyword}{auto} hint = \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03_a2bfdad091cc448769c98862dba853d87}{InputHint}}(result\_node, input);}
\DoxyCodeLine{1376     \textcolor{keywordflow}{if} (is\_clobbered) \{}
\DoxyCodeLine{1377       \textcolor{comment}{// For clobbered inputs, we want to pick a different register than}}
\DoxyCodeLine{1378       \textcolor{comment}{// non-\/clobbered inputs, so that we don't clobber those.}}
\DoxyCodeLine{1379       existing\_register\_location =}
\DoxyCodeLine{1380           node-\/>use\_double\_register()}
\DoxyCodeLine{1381               ? \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4996578e4a68d9cbfee6837d3d1154e4}{double\_registers\_}}.TryChooseUnblockedInputRegister(node)}
\DoxyCodeLine{1382               : \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a722303e16e26e329257d54b41b460725}{general\_registers\_}}.TryChooseUnblockedInputRegister(node);}
\DoxyCodeLine{1383     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1384       ValueNode* value\_node = result\_node-\/>TryCast<ValueNode>();}
\DoxyCodeLine{1385       \textcolor{comment}{// Only use the hint if it helps with the result's allocation due to}}
\DoxyCodeLine{1386       \textcolor{comment}{// same-\/as-\/input policy. Otherwise this doesn't affect regalloc.}}
\DoxyCodeLine{1387       \textcolor{keyword}{auto} result\_hint = value\_node \&\& \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03_a8721b4c694b26f7bfd4ff17ea89e6bbb}{SameAsInput}}(value\_node, input)}
\DoxyCodeLine{1388                              ? value\_node-\/>hint()}
\DoxyCodeLine{1389                              : compiler::InstructionOperand();}
\DoxyCodeLine{1390       existing\_register\_location =}
\DoxyCodeLine{1391           node-\/>use\_double\_register()}
\DoxyCodeLine{1392               ? \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4996578e4a68d9cbfee6837d3d1154e4}{double\_registers\_}}.TryChooseInputRegister(node, result\_hint)}
\DoxyCodeLine{1393               : \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a722303e16e26e329257d54b41b460725}{general\_registers\_}}.TryChooseInputRegister(node, result\_hint);}
\DoxyCodeLine{1394     \}}
\DoxyCodeLine{1395 }
\DoxyCodeLine{1396     \textcolor{comment}{// Reuse an existing register if possible.}}
\DoxyCodeLine{1397     \textcolor{keywordflow}{if} (existing\_register\_location.IsAnyLocationOperand()) \{}
\DoxyCodeLine{1398       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_maglev\_regalloc) \{}
\DoxyCodeLine{1399         \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os()}
\DoxyCodeLine{1400             << \textcolor{stringliteral}{"{}-\/ "{}} << PrintNodeLabel(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae86d029ad577b8c95464c76fe78e5ed4}{graph\_labeller}}(), input.node()) << \textcolor{stringliteral}{"{} in "{}}}
\DoxyCodeLine{1401             << (is\_clobbered ? \textcolor{stringliteral}{"{}clobbered "{}} : \textcolor{stringliteral}{"{}"{}}) << existing\_register\_location}
\DoxyCodeLine{1402             << \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{1403       \}}
\DoxyCodeLine{1404       \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LocationOperand_a14a0a8abb4b6ac796e0fae75948a270e}{compiler::AllocatedOperand::cast}}(existing\_register\_location);}
\DoxyCodeLine{1405     \}}
\DoxyCodeLine{1406 }
\DoxyCodeLine{1407     \textcolor{comment}{// Otherwise, allocate a register for the node and load it in from there.}}
\DoxyCodeLine{1408     compiler::InstructionOperand existing\_location = node-\/>allocation();}
\DoxyCodeLine{1409     compiler::AllocatedOperand allocation = \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4b0daea33a0df4fb83f33c52bfd89476}{AllocateRegister}}(node, hint);}
\DoxyCodeLine{1410     \mbox{\hyperlink{src_2base_2logging_8h_a986dc8f4ec6dcd0644efe205c13f8eb7}{DCHECK\_NE}}(existing\_location, allocation);}
\DoxyCodeLine{1411     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ab8742bd5bf8bb7f62e5ad347e6bb6c8c}{AddMoveBeforeCurrentNode}}(node, existing\_location, allocation);}
\DoxyCodeLine{1412 }
\DoxyCodeLine{1413     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_maglev\_regalloc) \{}
\DoxyCodeLine{1414       \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os()}
\DoxyCodeLine{1415           << \textcolor{stringliteral}{"{}-\/ "{}} << PrintNodeLabel(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae86d029ad577b8c95464c76fe78e5ed4}{graph\_labeller}}(), input.node()) << \textcolor{stringliteral}{"{} in "{}}}
\DoxyCodeLine{1416           << (is\_clobbered ? \textcolor{stringliteral}{"{}clobbered "{}} : \textcolor{stringliteral}{"{}"{}}) << allocation << \textcolor{stringliteral}{"{} ← "{}}}
\DoxyCodeLine{1417           << node-\/>allocation() << \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{1418     \}}
\DoxyCodeLine{1419     \textcolor{keywordflow}{return} allocation;}
\DoxyCodeLine{1420   \})();}
\DoxyCodeLine{1421 }
\DoxyCodeLine{1422   input.SetAllocated(location);}
\DoxyCodeLine{1423 }
\DoxyCodeLine{1424   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a8aa7826d195c03e8078109238f87306a}{UpdateUse}}(\&input);}
\DoxyCodeLine{1425   \textcolor{comment}{// Only need to mark the location as clobbered if the node wasn't already}}
\DoxyCodeLine{1426   \textcolor{comment}{// killed by UpdateUse.}}
\DoxyCodeLine{1427   \textcolor{keywordflow}{if} (is\_clobbered \&\& !node-\/>has\_no\_more\_uses()) \{}
\DoxyCodeLine{1428     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a5e86f69a68eae55ed01f1b0bef3b7daa}{MarkAsClobbered}}(node, location);}
\DoxyCodeLine{1429   \}}
\DoxyCodeLine{1430   \textcolor{comment}{// Clobbered inputs should no longer be in the allocated location, as far as}}
\DoxyCodeLine{1431   \textcolor{comment}{// the register allocator is concerned. This will happen either via}}
\DoxyCodeLine{1432   \textcolor{comment}{// clobbering, or via this being the last use.}}
\DoxyCodeLine{1433   \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(is\_clobbered, !IsInRegisterLocation(node, location));}
\DoxyCodeLine{1434 \}}

\end{DoxyCode}


References Add\+Move\+Before\+Current\+Node(), Allocate\+Register(), v8\+::internal\+::maglev\+::\+Value\+Node\+::allocation(), v8\+::internal\+::compiler\+::\+Location\+Operand\+::cast(), v8\+::internal\+::maglev\+::\+Value\+Location\+::\+Cloberred(), DCHECK\+\_\+\+EQ, DCHECK\+\_\+\+IMPLIES, DCHECK\+\_\+\+NE, double\+\_\+registers\+\_\+, v8\+::internal\+::compiler\+::\+Unallocated\+Operand\+::extended\+\_\+policy(), general\+\_\+registers\+\_\+, graph\+\_\+labeller(), v8\+::internal\+::maglev\+::\+Value\+Node\+::has\+\_\+no\+\_\+more\+\_\+uses(), v8\+::internal\+::maglev\+::\+Value\+Node\+::hint(), v8\+::internal\+::maglev\+::anonymous\+\_\+namespace\{maglev-\/regalloc.\+cc\}\+::\+Input\+Hint(), v8\+::internal\+::compiler\+::\+Instruction\+Operand\+::\+Is\+Any\+Location\+Operand(), Mark\+As\+Clobbered(), v8\+::internal\+::compiler\+::\+Unallocated\+Operand\+::\+MUST\+\_\+\+HAVE\+\_\+\+REGISTER, v8\+::internal\+::maglev\+::\+Input\+::node(), v8\+::internal\+::maglev\+::\+Value\+Location\+::operand(), printing\+\_\+visitor\+\_\+, v8\+::internal\+::compiler\+::\+Unallocated\+Operand\+::\+REGISTER\+\_\+\+OR\+\_\+\+SLOT\+\_\+\+OR\+\_\+\+CONSTANT, v8\+::internal\+::maglev\+::anonymous\+\_\+namespace\{maglev-\/regalloc.\+cc\}\+::\+Same\+As\+Input(), v8\+::internal\+::maglev\+::\+Value\+Location\+::\+Set\+Allocated(), v8\+::internal\+::maglev\+::\+Node\+Base\+::\+Try\+Cast(), Update\+Use(), v8\+::internal\+::maglev\+::\+Value\+Node\+::use\+\_\+double\+\_\+register(), and v8\+::internal\+::v8\+\_\+flags.



Referenced by Assign\+Inputs().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae47f3523278b5fe4f793bb460008b165_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae47f3523278b5fe4f793bb460008b165_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a3bdb11925801e66911056d28775ed930}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a3bdb11925801e66911056d28775ed930}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!AssignArbitraryTemporaries@{AssignArbitraryTemporaries}}
\index{AssignArbitraryTemporaries@{AssignArbitraryTemporaries}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{AssignArbitraryTemporaries()}{AssignArbitraryTemporaries()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Assign\+Arbitrary\+Temporaries (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1NodeBase}{Node\+Base}} $\ast$}]{node }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 2050 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2051                     \{}
\DoxyCodeLine{2052   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a67e3883db97946b39cd06d9e12a424ee}{AssignArbitraryTemporaries}}(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a722303e16e26e329257d54b41b460725}{general\_registers\_}}, node);}
\DoxyCodeLine{2053   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a67e3883db97946b39cd06d9e12a424ee}{AssignArbitraryTemporaries}}(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4996578e4a68d9cbfee6837d3d1154e4}{double\_registers\_}}, node);}
\DoxyCodeLine{2054 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a67e3883db97946b39cd06d9e12a424ee}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a67e3883db97946b39cd06d9e12a424ee}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!AssignArbitraryTemporaries@{AssignArbitraryTemporaries}}
\index{AssignArbitraryTemporaries@{AssignArbitraryTemporaries}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{AssignArbitraryTemporaries()}{AssignArbitraryTemporaries()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$typename RegisterT $>$ \\
void v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Assign\+Arbitrary\+Temporaries (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1RegisterFrameState}{Register\+Frame\+State}}$<$ RegisterT $>$ \&}]{registers,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1NodeBase}{Node\+Base}} $\ast$}]{node }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 2009 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2010                                                               \{}
\DoxyCodeLine{2011   \textcolor{keywordtype}{int} num\_temporaries\_needed = node-\/>num\_temporaries\_needed<RegisterT>();}
\DoxyCodeLine{2012   \textcolor{keywordflow}{if} (num\_temporaries\_needed == 0) \textcolor{keywordflow}{return};}
\DoxyCodeLine{2013 }
\DoxyCodeLine{2014   \mbox{\hyperlink{src_2base_2logging_8h_afd957f297df7e9ee36c46185e961485f}{DCHECK\_GT}}(num\_temporaries\_needed, 0);}
\DoxyCodeLine{2015   RegListBase<RegisterT> temporaries = node-\/>temporaries<RegisterT>();}
\DoxyCodeLine{2016   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(temporaries.is\_empty());}
\DoxyCodeLine{2017   \textcolor{keywordtype}{int} remaining\_temporaries\_needed = num\_temporaries\_needed;}
\DoxyCodeLine{2018 }
\DoxyCodeLine{2019   \textcolor{comment}{// If the node is a ValueNode with a fixed result register, we should not}}
\DoxyCodeLine{2020   \textcolor{comment}{// assign a temporary to the result register, nor its hint.}}
\DoxyCodeLine{2021   RegListBase<RegisterT> reserved = GetReservedRegisters<RegisterT>(node);}
\DoxyCodeLine{2022   \textcolor{keywordflow}{for} (RegisterT reg : (registers.unblocked\_free() -\/ reserved)) \{}
\DoxyCodeLine{2023     registers.block(reg);}
\DoxyCodeLine{2024     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!temporaries.has(reg));}
\DoxyCodeLine{2025     temporaries.set(reg);}
\DoxyCodeLine{2026     \textcolor{keywordflow}{if} (-\/-\/remaining\_temporaries\_needed == 0) \textcolor{keywordflow}{break};}
\DoxyCodeLine{2027   \}}
\DoxyCodeLine{2028 }
\DoxyCodeLine{2029   \textcolor{comment}{// Free extra registers if necessary.}}
\DoxyCodeLine{2030   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < remaining\_temporaries\_needed; ++\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}) \{}
\DoxyCodeLine{2031     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}((registers.unblocked\_free() -\/ reserved).is\_empty());}
\DoxyCodeLine{2032     RegisterT reg = FreeUnblockedRegister<RegisterT>(reserved);}
\DoxyCodeLine{2033     registers.block(reg);}
\DoxyCodeLine{2034     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!temporaries.has(reg));}
\DoxyCodeLine{2035     temporaries.set(reg);}
\DoxyCodeLine{2036   \}}
\DoxyCodeLine{2037 }
\DoxyCodeLine{2038   \mbox{\hyperlink{src_2base_2logging_8h_aabec5c3b7a8628298a25f044dcf89c25}{DCHECK\_GE}}(temporaries.Count(), num\_temporaries\_needed);}
\DoxyCodeLine{2039 }
\DoxyCodeLine{2040   node-\/>assign\_temporaries(temporaries);}
\DoxyCodeLine{2041   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_maglev\_regalloc) \{}
\DoxyCodeLine{2042     \textcolor{keywordflow}{if} constexpr (std::is\_same\_v<RegisterT, Register>) \{}
\DoxyCodeLine{2043       \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os() << \textcolor{stringliteral}{"{}Temporaries: "{}} << temporaries << \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{2044     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{2045       \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os() << \textcolor{stringliteral}{"{}Double Temporaries: "{}} << temporaries << \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{2046     \}}
\DoxyCodeLine{2047   \}}
\DoxyCodeLine{2048 \}}

\end{DoxyCode}


References v8\+::internal\+::maglev\+::\+Node\+Base\+::assign\+\_\+temporaries(), v8\+::internal\+::maglev\+::\+Register\+Frame\+State$<$ Register\+T $>$\+::block(), v8\+::internal\+::\+Reg\+List\+Base$<$ Register\+T $>$\+::\+Count(), DCHECK, DCHECK\+\_\+\+GE, DCHECK\+\_\+\+GT, v8\+::internal\+::\+Reg\+List\+Base$<$ Register\+T $>$\+::has(), v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::i, v8\+::internal\+::\+Reg\+List\+Base$<$ Register\+T $>$\+::is\+\_\+empty(), v8\+::internal\+::maglev\+::\+Node\+Base\+::num\+\_\+temporaries\+\_\+needed(), v8\+::internal\+::\+Reg\+List\+Base$<$ Register\+T $>$\+::set(), v8\+::internal\+::maglev\+::\+Node\+Base\+::temporaries(), v8\+::internal\+::maglev\+::\+Register\+Frame\+State$<$ Register\+T $>$\+::unblocked\+\_\+free(), and v8\+::internal\+::v8\+\_\+flags.



Referenced by Assign\+Inputs().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a67e3883db97946b39cd06d9e12a424ee_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a67e3883db97946b39cd06d9e12a424ee_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a0fd79a5ffa3efa36c29e06807c002673}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a0fd79a5ffa3efa36c29e06807c002673}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!AssignFixedInput@{AssignFixedInput}}
\index{AssignFixedInput@{AssignFixedInput}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{AssignFixedInput()}{AssignFixedInput()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Assign\+Fixed\+Input (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Input}{Input}} \&}]{input }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1242 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1242                                                                     \{}
\DoxyCodeLine{1243   compiler::UnallocatedOperand operand =}
\DoxyCodeLine{1244       compiler::UnallocatedOperand::cast(input.operand());}
\DoxyCodeLine{1245   ValueNode* node = input.node();}
\DoxyCodeLine{1246   compiler::InstructionOperand location = node-\/>allocation();}
\DoxyCodeLine{1247 }
\DoxyCodeLine{1248   \textcolor{keywordflow}{switch} (operand.extended\_policy()) \{}
\DoxyCodeLine{1249     \textcolor{keywordflow}{case} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1UnallocatedOperand_a7bdb03b8ffc2cd9db894dc3f3ded2030a3de98ae7e8339fded3184b2f53f77fea}{compiler::UnallocatedOperand::MUST\_HAVE\_REGISTER}}:}
\DoxyCodeLine{1250       \textcolor{comment}{// Allocated in AssignArbitraryRegisterInput.}}
\DoxyCodeLine{1251       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_maglev\_regalloc) \{}
\DoxyCodeLine{1252         \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os()}
\DoxyCodeLine{1253             << \textcolor{stringliteral}{"{}-\/ "{}} << PrintNodeLabel(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae86d029ad577b8c95464c76fe78e5ed4}{graph\_labeller}}(), input.node())}
\DoxyCodeLine{1254             << \textcolor{stringliteral}{"{} has arbitrary register\(\backslash\)n"{}};}
\DoxyCodeLine{1255       \}}
\DoxyCodeLine{1256       \textcolor{keywordflow}{return};}
\DoxyCodeLine{1257 }
\DoxyCodeLine{1258     \textcolor{keywordflow}{case} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1UnallocatedOperand_a7bdb03b8ffc2cd9db894dc3f3ded2030a7ea04665a6ce29b237bf41036b421c75}{compiler::UnallocatedOperand::REGISTER\_OR\_SLOT\_OR\_CONSTANT}}:}
\DoxyCodeLine{1259       \textcolor{comment}{// Allocated in AssignAnyInput.}}
\DoxyCodeLine{1260       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_maglev\_regalloc) \{}
\DoxyCodeLine{1261         \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os()}
\DoxyCodeLine{1262             << \textcolor{stringliteral}{"{}-\/ "{}} << PrintNodeLabel(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae86d029ad577b8c95464c76fe78e5ed4}{graph\_labeller}}(), input.node())}
\DoxyCodeLine{1263             << \textcolor{stringliteral}{"{} has arbitrary location\(\backslash\)n"{}};}
\DoxyCodeLine{1264       \}}
\DoxyCodeLine{1265       \textcolor{keywordflow}{return};}
\DoxyCodeLine{1266 }
\DoxyCodeLine{1267     \textcolor{keywordflow}{case} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1UnallocatedOperand_a7bdb03b8ffc2cd9db894dc3f3ded2030a269dfcae7aa411715a3ec08ba3449e53}{compiler::UnallocatedOperand::FIXED\_REGISTER}}: \{}
\DoxyCodeLine{1268       \mbox{\hyperlink{namespacev8_1_1internal_1_1ETWJITInterface_a6782da00e5166055555c65db3a9ec7eb}{Register}} reg = \mbox{\hyperlink{classv8_1_1internal_1_1Register_a161b31fbba410d1c513ae779df7b9cbb}{Register::from\_code}}(operand.fixed\_register\_index());}
\DoxyCodeLine{1269       input.SetAllocated(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a6a326398de3c6a5072eea22327c7746d}{ForceAllocate}}(reg, node));}
\DoxyCodeLine{1270       \textcolor{keywordflow}{break};}
\DoxyCodeLine{1271     \}}
\DoxyCodeLine{1272 }
\DoxyCodeLine{1273     \textcolor{keywordflow}{case} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1UnallocatedOperand_a7bdb03b8ffc2cd9db894dc3f3ded2030a4544caa3bb5c78f8d96a2ddc3476c72d}{compiler::UnallocatedOperand::FIXED\_FP\_REGISTER}}: \{}
\DoxyCodeLine{1274       \mbox{\hyperlink{namespacev8_1_1internal_a1c5661c973602b649955ae8c21dca0c5}{DoubleRegister}} reg =}
\DoxyCodeLine{1275           \mbox{\hyperlink{classv8_1_1internal_1_1RegisterBase_a7b1dbf8b42ce2e2f8ac87134064661b0}{DoubleRegister::from\_code}}(operand.fixed\_register\_index());}
\DoxyCodeLine{1276       input.SetAllocated(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a6a326398de3c6a5072eea22327c7746d}{ForceAllocate}}(reg, node));}
\DoxyCodeLine{1277       \textcolor{keywordflow}{break};}
\DoxyCodeLine{1278     \}}
\DoxyCodeLine{1279 }
\DoxyCodeLine{1280     \textcolor{keywordflow}{case} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1UnallocatedOperand_a7bdb03b8ffc2cd9db894dc3f3ded2030a2dc451434ae3cfd5e08c4a5e629c10c7}{compiler::UnallocatedOperand::REGISTER\_OR\_SLOT}}:}
\DoxyCodeLine{1281     \textcolor{keywordflow}{case} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1UnallocatedOperand_a7bdb03b8ffc2cd9db894dc3f3ded2030a788e7e33a485a900cc84a730fed7f611}{compiler::UnallocatedOperand::SAME\_AS\_INPUT}}:}
\DoxyCodeLine{1282     \textcolor{keywordflow}{case} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1UnallocatedOperand_a7bdb03b8ffc2cd9db894dc3f3ded2030a2d184d430b14ea53388609c3e9a17500}{compiler::UnallocatedOperand::NONE}}:}
\DoxyCodeLine{1283     \textcolor{keywordflow}{case} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1UnallocatedOperand_a7bdb03b8ffc2cd9db894dc3f3ded2030af4cb2924486171f73065ec6e76eb5267}{compiler::UnallocatedOperand::MUST\_HAVE\_SLOT}}:}
\DoxyCodeLine{1284       \mbox{\hyperlink{namespacev8_1_1internal_acdec713c25068019f935e35976f5b666}{UNREACHABLE}}();}
\DoxyCodeLine{1285   \}}
\DoxyCodeLine{1286   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_maglev\_regalloc) \{}
\DoxyCodeLine{1287     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os()}
\DoxyCodeLine{1288         << \textcolor{stringliteral}{"{}-\/ "{}} << PrintNodeLabel(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae86d029ad577b8c95464c76fe78e5ed4}{graph\_labeller}}(), input.node())}
\DoxyCodeLine{1289         << \textcolor{stringliteral}{"{} in forced "{}} << input.operand() << \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{1290   \}}
\DoxyCodeLine{1291 }
\DoxyCodeLine{1292   compiler::AllocatedOperand allocated =}
\DoxyCodeLine{1293       \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LocationOperand_a14a0a8abb4b6ac796e0fae75948a270e}{compiler::AllocatedOperand::cast}}(input.operand());}
\DoxyCodeLine{1294   \textcolor{keywordflow}{if} (location != allocated) \{}
\DoxyCodeLine{1295     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ab8742bd5bf8bb7f62e5ad347e6bb6c8c}{AddMoveBeforeCurrentNode}}(node, location, allocated);}
\DoxyCodeLine{1296   \}}
\DoxyCodeLine{1297   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a8aa7826d195c03e8078109238f87306a}{UpdateUse}}(\&input);}
\DoxyCodeLine{1298   \textcolor{comment}{// Clear any hint that (probably) comes from this fixed use.}}
\DoxyCodeLine{1299   input.node()-\/>ClearHint();}
\DoxyCodeLine{1300 \}}

\end{DoxyCode}


References Add\+Move\+Before\+Current\+Node(), v8\+::internal\+::maglev\+::\+Value\+Node\+::allocation(), v8\+::internal\+::compiler\+::\+Location\+Operand\+::cast(), v8\+::internal\+::maglev\+::\+Value\+Node\+::\+Clear\+Hint(), v8\+::internal\+::compiler\+::\+Unallocated\+Operand\+::extended\+\_\+policy(), v8\+::internal\+::compiler\+::\+Unallocated\+Operand\+::\+FIXED\+\_\+\+FP\+\_\+\+REGISTER, v8\+::internal\+::compiler\+::\+Unallocated\+Operand\+::\+FIXED\+\_\+\+REGISTER, v8\+::internal\+::compiler\+::\+Unallocated\+Operand\+::fixed\+\_\+register\+\_\+index(), Force\+Allocate(), v8\+::internal\+::\+Register\+::from\+\_\+code(), v8\+::internal\+::\+Register\+Base$<$ Double\+Register, k\+Double\+After\+Last $>$\+::from\+\_\+code(), graph\+\_\+labeller(), v8\+::internal\+::compiler\+::\+Unallocated\+Operand\+::\+MUST\+\_\+\+HAVE\+\_\+\+REGISTER, v8\+::internal\+::compiler\+::\+Unallocated\+Operand\+::\+MUST\+\_\+\+HAVE\+\_\+\+SLOT, v8\+::internal\+::maglev\+::\+Input\+::node(), v8\+::internal\+::compiler\+::\+Unallocated\+Operand\+::\+NONE, v8\+::internal\+::maglev\+::\+Value\+Location\+::operand(), printing\+\_\+visitor\+\_\+, v8\+::internal\+::compiler\+::\+Unallocated\+Operand\+::\+REGISTER\+\_\+\+OR\+\_\+\+SLOT, v8\+::internal\+::compiler\+::\+Unallocated\+Operand\+::\+REGISTER\+\_\+\+OR\+\_\+\+SLOT\+\_\+\+OR\+\_\+\+CONSTANT, v8\+::internal\+::compiler\+::\+Unallocated\+Operand\+::\+SAME\+\_\+\+AS\+\_\+\+INPUT, v8\+::internal\+::maglev\+::\+Value\+Location\+::\+Set\+Allocated(), v8\+::internal\+::\+UNREACHABLE(), Update\+Use(), and v8\+::internal\+::v8\+\_\+flags.



Referenced by Assign\+Inputs().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a0fd79a5ffa3efa36c29e06807c002673_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a0fd79a5ffa3efa36c29e06807c002673_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a8b253ba7e4c583704fee0d1d9688231d}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a8b253ba7e4c583704fee0d1d9688231d}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!AssignFixedTemporaries@{AssignFixedTemporaries}}
\index{AssignFixedTemporaries@{AssignFixedTemporaries}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{AssignFixedTemporaries()}{AssignFixedTemporaries()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Assign\+Fixed\+Temporaries (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1NodeBase}{Node\+Base}} $\ast$}]{node }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1975 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1975                                                                             \{}
\DoxyCodeLine{1976   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae3e46b8b824cbda6d385e5ab34773413}{AssignFixedTemporaries}}(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a722303e16e26e329257d54b41b460725}{general\_registers\_}}, node);}
\DoxyCodeLine{1977   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae3e46b8b824cbda6d385e5ab34773413}{AssignFixedTemporaries}}(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4996578e4a68d9cbfee6837d3d1154e4}{double\_registers\_}}, node);}
\DoxyCodeLine{1978 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae3e46b8b824cbda6d385e5ab34773413}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae3e46b8b824cbda6d385e5ab34773413}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!AssignFixedTemporaries@{AssignFixedTemporaries}}
\index{AssignFixedTemporaries@{AssignFixedTemporaries}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{AssignFixedTemporaries()}{AssignFixedTemporaries()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$typename RegisterT $>$ \\
void v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Assign\+Fixed\+Temporaries (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1RegisterFrameState}{Register\+Frame\+State}}$<$ RegisterT $>$ \&}]{registers,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1NodeBase}{Node\+Base}} $\ast$}]{node }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1945 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1946                                                               \{}
\DoxyCodeLine{1947   RegListBase<RegisterT> fixed\_temporaries = node-\/>temporaries<RegisterT>();}
\DoxyCodeLine{1948 }
\DoxyCodeLine{1949   \textcolor{comment}{// Make sure that any initially set temporaries are definitely free.}}
\DoxyCodeLine{1950   \textcolor{keywordflow}{for} (RegisterT reg : fixed\_temporaries) \{}
\DoxyCodeLine{1951     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!registers.is\_blocked(reg));}
\DoxyCodeLine{1952     \textcolor{keywordflow}{if} (!registers.free().has(reg)) \{}
\DoxyCodeLine{1953       \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a317d5918d7ed071a17f9c6c000693198}{DropRegisterValue}}(registers, reg);}
\DoxyCodeLine{1954       registers.AddToFree(reg);}
\DoxyCodeLine{1955     \}}
\DoxyCodeLine{1956     registers.block(reg);}
\DoxyCodeLine{1957   \}}
\DoxyCodeLine{1958 }
\DoxyCodeLine{1959   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_maglev\_regalloc \&\& !fixed\_temporaries.is\_empty()) \{}
\DoxyCodeLine{1960     \textcolor{keywordflow}{if} constexpr (std::is\_same\_v<RegisterT, Register>) \{}
\DoxyCodeLine{1961       \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os()}
\DoxyCodeLine{1962           << \textcolor{stringliteral}{"{}Fixed Temporaries: "{}} << fixed\_temporaries << \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{1963     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1964       \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os()}
\DoxyCodeLine{1965           << \textcolor{stringliteral}{"{}Fixed Double Temporaries: "{}} << fixed\_temporaries << \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{1966     \}}
\DoxyCodeLine{1967   \}}
\DoxyCodeLine{1968 }
\DoxyCodeLine{1969   \textcolor{comment}{// After allocating the specific/fixed temporary registers, we empty the node}}
\DoxyCodeLine{1970   \textcolor{comment}{// set, so that it is used to allocate only the arbitrary/available temporary}}
\DoxyCodeLine{1971   \textcolor{comment}{// register that is going to be inserted in the scratch scope.}}
\DoxyCodeLine{1972   node-\/>temporaries<RegisterT>() = \{\};}
\DoxyCodeLine{1973 \}}

\end{DoxyCode}


References v8\+::internal\+::maglev\+::\+Register\+Frame\+State$<$ Register\+T $>$\+::\+Add\+To\+Free(), v8\+::internal\+::maglev\+::\+Register\+Frame\+State$<$ Register\+T $>$\+::block(), DCHECK, v8\+::internal\+::maglev\+::\+Register\+Frame\+State$<$ Register\+T $>$\+::free(), v8\+::internal\+::maglev\+::\+Register\+Frame\+State$<$ Register\+T $>$\+::is\+\_\+blocked(), v8\+::internal\+::\+Reg\+List\+Base$<$ Register\+T $>$\+::is\+\_\+empty(), v8\+::internal\+::maglev\+::\+Node\+Base\+::temporaries(), and v8\+::internal\+::v8\+\_\+flags.



Referenced by Assign\+Inputs().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae3e46b8b824cbda6d385e5ab34773413_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae3e46b8b824cbda6d385e5ab34773413_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae8316f4b58666c1f3edae21b6eb2dfce}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae8316f4b58666c1f3edae21b6eb2dfce}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!AssignInputs@{AssignInputs}}
\index{AssignInputs@{AssignInputs}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{AssignInputs()}{AssignInputs()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Assign\+Inputs (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1NodeBase}{Node\+Base}} $\ast$}]{node }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1465 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1465                                                                   \{}
\DoxyCodeLine{1466   \textcolor{comment}{// We allocate arbitrary register inputs after fixed inputs, since the fixed}}
\DoxyCodeLine{1467   \textcolor{comment}{// inputs may clobber the arbitrarily chosen ones. Finally we assign the}}
\DoxyCodeLine{1468   \textcolor{comment}{// location for the remaining inputs. Since inputs can alias a node, one of}}
\DoxyCodeLine{1469   \textcolor{comment}{// the inputs could be assigned a register in AssignArbitraryRegisterInput}}
\DoxyCodeLine{1470   \textcolor{comment}{// (and respectivelly its node location), therefore we wait until all}}
\DoxyCodeLine{1471   \textcolor{comment}{// registers are allocated before assigning any location for these inputs.}}
\DoxyCodeLine{1472   \textcolor{comment}{// TODO(dmercadier): consider using `ForAllInputsInRegallocAssignmentOrder` to}}
\DoxyCodeLine{1473   \textcolor{comment}{// iterate the inputs. Since UseMarkingProcessor uses this helper to iterate}}
\DoxyCodeLine{1474   \textcolor{comment}{// inputs, and it has to iterate them in the same order as this function,}}
\DoxyCodeLine{1475   \textcolor{comment}{// using the iteration helper in both places would be better.}}
\DoxyCodeLine{1476   \textcolor{keywordflow}{for} (Input\& input : *node) \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a0fd79a5ffa3efa36c29e06807c002673}{AssignFixedInput}}(input);}
\DoxyCodeLine{1477   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae3e46b8b824cbda6d385e5ab34773413}{AssignFixedTemporaries}}(node);}
\DoxyCodeLine{1478   \textcolor{keywordflow}{for} (Input\& input : *node) \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae47f3523278b5fe4f793bb460008b165}{AssignArbitraryRegisterInput}}(node, input);}
\DoxyCodeLine{1479   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a67e3883db97946b39cd06d9e12a424ee}{AssignArbitraryTemporaries}}(node);}
\DoxyCodeLine{1480   \textcolor{keywordflow}{for} (Input\& input : *node) \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a2a173f875d2497f51e532b288cab889a}{AssignAnyInput}}(input);}
\DoxyCodeLine{1481 \}}

\end{DoxyCode}


References Assign\+Any\+Input(), Assign\+Arbitrary\+Register\+Input(), Assign\+Arbitrary\+Temporaries(), Assign\+Fixed\+Input(), and Assign\+Fixed\+Temporaries().



Referenced by Allocate\+Control\+Node(), and Allocate\+Node().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae8316f4b58666c1f3edae21b6eb2dfce_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae8316f4b58666c1f3edae21b6eb2dfce_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a85e2428a666406afd8a3c6d913021b6d}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a85e2428a666406afd8a3c6d913021b6d}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!ClearRegisterValues@{ClearRegisterValues}}
\index{ClearRegisterValues@{ClearRegisterValues}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{ClearRegisterValues()}{ClearRegisterValues()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Clear\+Register\+Values (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 2069 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2069                                                            \{}
\DoxyCodeLine{2070   \textcolor{keyword}{auto} ClearRegisterState = [\&](\textcolor{keyword}{auto}\& registers) \{}
\DoxyCodeLine{2071     \textcolor{keywordflow}{while} (!registers.used().is\_empty()) \{}
\DoxyCodeLine{2072       \textcolor{keyword}{auto} reg = registers.used().first();}
\DoxyCodeLine{2073       ValueNode* node = registers.GetValue(reg);}
\DoxyCodeLine{2074       registers.FreeRegistersUsedBy(node);}
\DoxyCodeLine{2075       \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!registers.used().has(reg));}
\DoxyCodeLine{2076     \}}
\DoxyCodeLine{2077   \};}
\DoxyCodeLine{2078 }
\DoxyCodeLine{2079   ClearRegisterState(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a722303e16e26e329257d54b41b460725}{general\_registers\_}});}
\DoxyCodeLine{2080   ClearRegisterState(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4996578e4a68d9cbfee6837d3d1154e4}{double\_registers\_}});}
\DoxyCodeLine{2081 }
\DoxyCodeLine{2082   \textcolor{comment}{// All registers should be free by now.}}
\DoxyCodeLine{2083   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a722303e16e26e329257d54b41b460725}{general\_registers\_}}.unblocked\_free(),}
\DoxyCodeLine{2084             \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevAssembler_acc2548b7e39e351c78942521abfd6ef5}{MaglevAssembler::GetAllocatableRegisters}}());}
\DoxyCodeLine{2085   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4996578e4a68d9cbfee6837d3d1154e4}{double\_registers\_}}.unblocked\_free(),}
\DoxyCodeLine{2086             \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevAssembler_a9f458fc48ce93d5a271126205260f232}{MaglevAssembler::GetAllocatableDoubleRegisters}}());}
\DoxyCodeLine{2087 \}}

\end{DoxyCode}


References DCHECK, and DCHECK\+\_\+\+EQ.



Referenced by Allocate\+Registers().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a85e2428a666406afd8a3c6d913021b6d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a5530bb0f32c52bb4eb592d71a77f960b}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a5530bb0f32c52bb4eb592d71a77f960b}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!ComputePostDominatingHoles@{ComputePostDominatingHoles}}
\index{ComputePostDominatingHoles@{ComputePostDominatingHoles}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{ComputePostDominatingHoles()}{ComputePostDominatingHoles()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Compute\+Post\+Dominating\+Holes (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 306 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{306                                                                   \{}
\DoxyCodeLine{307   \textcolor{comment}{// For all blocks, find the list of jumps that jump over code unreachable from}}
\DoxyCodeLine{308   \textcolor{comment}{// the block. Such a list of jumps terminates in return or jumploop.}}
\DoxyCodeLine{309   \textcolor{keywordflow}{for} (BasicBlock* block : \mbox{\hyperlink{namespacev8_1_1base_a7364bf7dcb822d07f7380aeff8d2a77b}{base::Reversed}}(*\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad2c21cc858129e86e2e12a4ff38445ee}{graph\_}})) \{}
\DoxyCodeLine{310     ControlNode* control = block-\/>control\_node();}
\DoxyCodeLine{311     \textcolor{keywordflow}{if} (\textcolor{keyword}{auto} unconditional\_control =}
\DoxyCodeLine{312             control-\/>TryCast<UnconditionalControlNode>()) \{}
\DoxyCodeLine{313       \textcolor{comment}{// If the current control node is a jump, prepend it to the list of jumps}}
\DoxyCodeLine{314       \textcolor{comment}{// at the target.}}
\DoxyCodeLine{315       control-\/>set\_next\_post\_dominating\_hole(\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03_a3de33ad8786d517e279abaefe9866f7b}{NearestPostDominatingHole}}(}
\DoxyCodeLine{316           unconditional\_control-\/>target()-\/>control\_node()));}
\DoxyCodeLine{317     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\textcolor{keyword}{auto} branch = control-\/>TryCast<BranchControlNode>()) \{}
\DoxyCodeLine{318       ControlNode* first =}
\DoxyCodeLine{319           \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03_a3de33ad8786d517e279abaefe9866f7b}{NearestPostDominatingHole}}(branch-\/>if\_true()-\/>control\_node());}
\DoxyCodeLine{320       ControlNode* second =}
\DoxyCodeLine{321           \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03_a3de33ad8786d517e279abaefe9866f7b}{NearestPostDominatingHole}}(branch-\/>if\_false()-\/>control\_node());}
\DoxyCodeLine{322       control-\/>set\_next\_post\_dominating\_hole(}
\DoxyCodeLine{323           \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03_a2a3f6842356c01d8195564f3787e3aac}{HighestPostDominatingHole}}(first, second));}
\DoxyCodeLine{324     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\textcolor{keyword}{auto} switch\_node = control-\/>TryCast<Switch>()) \{}
\DoxyCodeLine{325       \textcolor{keywordtype}{int} num\_targets =}
\DoxyCodeLine{326           switch\_node-\/>size() + (switch\_node-\/>has\_fallthrough() ? 1 : 0);}
\DoxyCodeLine{327       \textcolor{keywordflow}{if} (num\_targets == 1) \{}
\DoxyCodeLine{328         \textcolor{comment}{// If we have a single target, the next post dominating hole}}
\DoxyCodeLine{329         \textcolor{comment}{// is the same one as the target.}}
\DoxyCodeLine{330         \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!switch\_node-\/>has\_fallthrough());}
\DoxyCodeLine{331         control-\/>set\_next\_post\_dominating\_hole(\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03_a3de33ad8786d517e279abaefe9866f7b}{NearestPostDominatingHole}}(}
\DoxyCodeLine{332             switch\_node-\/>targets()[0].block\_ptr()-\/>control\_node()));}
\DoxyCodeLine{333         \textcolor{keywordflow}{continue};}
\DoxyCodeLine{334       \}}
\DoxyCodeLine{335       \textcolor{comment}{// Calculate the post dominating hole for each target.}}
\DoxyCodeLine{336       base::SmallVector<ControlNode*, 16> holes(num\_targets);}
\DoxyCodeLine{337       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < switch\_node-\/>size(); \mbox{\hyperlink{namespacev8_1_1internal}{i}}++) \{}
\DoxyCodeLine{338         holes[\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}] = \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03_a3de33ad8786d517e279abaefe9866f7b}{NearestPostDominatingHole}}(}
\DoxyCodeLine{339             switch\_node-\/>targets()[\mbox{\hyperlink{namespacev8_1_1internal}{i}}].block\_ptr()-\/>control\_node());}
\DoxyCodeLine{340       \}}
\DoxyCodeLine{341       \textcolor{keywordflow}{if} (switch\_node-\/>has\_fallthrough()) \{}
\DoxyCodeLine{342         holes[switch\_node-\/>size()] = \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03_a3de33ad8786d517e279abaefe9866f7b}{NearestPostDominatingHole}}(}
\DoxyCodeLine{343             switch\_node-\/>fallthrough()-\/>control\_node());}
\DoxyCodeLine{344       \}}
\DoxyCodeLine{345       control-\/>set\_next\_post\_dominating\_hole(\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03_a2a3f6842356c01d8195564f3787e3aac}{HighestPostDominatingHole}}(holes));}
\DoxyCodeLine{346     \}}
\DoxyCodeLine{347   \}}
\DoxyCodeLine{348 \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), graph\+\_\+, v8\+::internal\+::maglev\+::anonymous\+\_\+namespace\{maglev-\/regalloc.\+cc\}\+::\+Highest\+Post\+Dominating\+Hole(), v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::i, v8\+::internal\+::maglev\+::anonymous\+\_\+namespace\{maglev-\/regalloc.\+cc\}\+::\+Nearest\+Post\+Dominating\+Hole(), v8\+::base\+::\+Reversed(), v8\+::internal\+::maglev\+::\+Control\+Node\+::set\+\_\+next\+\_\+post\+\_\+dominating\+\_\+hole(), and v8\+::internal\+::maglev\+::\+Node\+Base\+::\+Try\+Cast().



Referenced by Straight\+Forward\+Register\+Allocator().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a5530bb0f32c52bb4eb592d71a77f960b_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a5530bb0f32c52bb4eb592d71a77f960b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a408dd4d488aebad7fba9d68bb6eb5fec}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a408dd4d488aebad7fba9d68bb6eb5fec}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!DropRegisterValue@{DropRegisterValue}}
\index{DropRegisterValue@{DropRegisterValue}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{DropRegisterValue()}{DropRegisterValue()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Drop\+Register\+Value (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DoubleRegister}{Double\+Register}}}]{reg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 953 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{953                                                                            \{}
\DoxyCodeLine{954   DropRegisterValue<DoubleRegister>(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4996578e4a68d9cbfee6837d3d1154e4}{double\_registers\_}}, reg);}
\DoxyCodeLine{955 \}}

\end{DoxyCode}


References double\+\_\+registers\+\_\+.

\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_aaa2f761b05550b0b74fe7901b74444ee}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_aaa2f761b05550b0b74fe7901b74444ee}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!DropRegisterValue@{DropRegisterValue}}
\index{DropRegisterValue@{DropRegisterValue}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{DropRegisterValue()}{DropRegisterValue()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Drop\+Register\+Value (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}}}]{reg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 949 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{949                                                                      \{}
\DoxyCodeLine{950   DropRegisterValue<Register>(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a722303e16e26e329257d54b41b460725}{general\_registers\_}}, reg);}
\DoxyCodeLine{951 \}}

\end{DoxyCode}


References general\+\_\+registers\+\_\+.

\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a317d5918d7ed071a17f9c6c000693198}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a317d5918d7ed071a17f9c6c000693198}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!DropRegisterValue@{DropRegisterValue}}
\index{DropRegisterValue@{DropRegisterValue}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{DropRegisterValue()}{DropRegisterValue()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily template$<$typename RegisterT $>$ \\
void v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Drop\+Register\+Value (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1RegisterFrameState}{Register\+Frame\+State}}$<$ RegisterT $>$ \&}]{registers,  }\item[{RegisterT}]{reg,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}}}]{force\+\_\+spill = {\ttfamily \mbox{\hyperlink{flag-definitions_8h_a3a9beadc89284d3f78a7d4945b1b4d8c}{false}}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 907 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{908                                                                                \{}
\DoxyCodeLine{909   \textcolor{comment}{// The register should not already be free.}}
\DoxyCodeLine{910   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!registers.free().has(reg));}
\DoxyCodeLine{911 }
\DoxyCodeLine{912   ValueNode* node = registers.GetValue(reg);}
\DoxyCodeLine{913 }
\DoxyCodeLine{914   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_maglev\_regalloc) \{}
\DoxyCodeLine{915     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os() << \textcolor{stringliteral}{"{}  dropping "{}} << reg << \textcolor{stringliteral}{"{} value "{}}}
\DoxyCodeLine{916                             << PrintNodeLabel(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae86d029ad577b8c95464c76fe78e5ed4}{graph\_labeller}}(), node) << \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{917   \}}
\DoxyCodeLine{918 }
\DoxyCodeLine{919   \mbox{\hyperlink{namespacev8_1_1internal_abe5419355372f787c28119c509343410}{MachineRepresentation}} mach\_repr = node-\/>GetMachineRepresentation();}
\DoxyCodeLine{920 }
\DoxyCodeLine{921   \textcolor{comment}{// Remove the register from the node's list.}}
\DoxyCodeLine{922   node-\/>RemoveRegister(reg);}
\DoxyCodeLine{923   \textcolor{comment}{// Return if the removed value already has another register or is loadable}}
\DoxyCodeLine{924   \textcolor{comment}{// from memory.}}
\DoxyCodeLine{925   \textcolor{keywordflow}{if} (node-\/>has\_register() || node-\/>is\_loadable()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{926   \textcolor{comment}{// Try to move the value to another register. Do so without blocking that}}
\DoxyCodeLine{927   \textcolor{comment}{// register, as we may still want to use it elsewhere.}}
\DoxyCodeLine{928   \textcolor{keywordflow}{if} (!registers.UnblockedFreeIsEmpty() \&\& !force\_spill) \{}
\DoxyCodeLine{929     RegisterT target\_reg = registers.unblocked\_free().first();}
\DoxyCodeLine{930     RegisterT hint\_reg = node-\/>GetRegisterHint<RegisterT>();}
\DoxyCodeLine{931     \textcolor{keywordflow}{if} (hint\_reg.is\_valid() \&\& registers.unblocked\_free().has(hint\_reg)) \{}
\DoxyCodeLine{932       target\_reg = hint\_reg;}
\DoxyCodeLine{933     \}}
\DoxyCodeLine{934     registers.RemoveFromFree(target\_reg);}
\DoxyCodeLine{935     registers.SetValueWithoutBlocking(target\_reg, node);}
\DoxyCodeLine{936     \textcolor{comment}{// Emit a gapmove.}}
\DoxyCodeLine{937     compiler::AllocatedOperand source(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LocationOperand_af9e0a334eaf58a05f9ea5b7139221140aafe479edbb7a04d078220746abc95b19}{compiler::LocationOperand::REGISTER}},}
\DoxyCodeLine{938                                       mach\_repr, reg.code());}
\DoxyCodeLine{939     compiler::AllocatedOperand target(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LocationOperand_af9e0a334eaf58a05f9ea5b7139221140aafe479edbb7a04d078220746abc95b19}{compiler::LocationOperand::REGISTER}},}
\DoxyCodeLine{940                                       mach\_repr, target\_reg.code());}
\DoxyCodeLine{941     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ab8742bd5bf8bb7f62e5ad347e6bb6c8c}{AddMoveBeforeCurrentNode}}(node, source, target);}
\DoxyCodeLine{942     \textcolor{keywordflow}{return};}
\DoxyCodeLine{943   \}}
\DoxyCodeLine{944 }
\DoxyCodeLine{945   \textcolor{comment}{// If all else fails, spill the value.}}
\DoxyCodeLine{946   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_aa08f61a5daa2f87c952d32f3a333d237}{Spill}}(node);}
\DoxyCodeLine{947 \}}

\end{DoxyCode}


References Add\+Move\+Before\+Current\+Node(), v8\+::internal\+::\+DCHECK(), v8\+::internal\+::maglev\+::\+Register\+Frame\+State$<$ Register\+T $>$\+::free(), v8\+::internal\+::maglev\+::\+Value\+Node\+::\+Get\+Machine\+Representation(), v8\+::internal\+::maglev\+::\+Value\+Node\+::\+Get\+Register\+Hint(), v8\+::internal\+::maglev\+::\+Register\+Frame\+State$<$ Register\+T $>$\+::\+Get\+Value(), graph\+\_\+labeller(), v8\+::internal\+::maglev\+::\+Value\+Node\+::has\+\_\+register(), v8\+::internal\+::maglev\+::\+Value\+Node\+::is\+\_\+loadable(), printing\+\_\+visitor\+\_\+, v8\+::internal\+::compiler\+::\+Location\+Operand\+::\+REGISTER, v8\+::internal\+::maglev\+::\+Register\+Frame\+State$<$ Register\+T $>$\+::\+Remove\+From\+Free(), v8\+::internal\+::maglev\+::\+Value\+Node\+::\+Remove\+Register(), v8\+::internal\+::maglev\+::\+Register\+Frame\+State$<$ Register\+T $>$\+::\+Set\+Value\+Without\+Blocking(), Spill(), v8\+::internal\+::maglev\+::\+Register\+Frame\+State$<$ Register\+T $>$\+::unblocked\+\_\+free(), v8\+::internal\+::maglev\+::\+Register\+Frame\+State$<$ Register\+T $>$\+::\+Unblocked\+Free\+Is\+Empty(), and v8\+::internal\+::v8\+\_\+flags.



Referenced by Drop\+Register\+Value\+At\+End(), and Mark\+As\+Clobbered().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a317d5918d7ed071a17f9c6c000693198_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a317d5918d7ed071a17f9c6c000693198_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a1773c9b0318bfd1c50db7972dce2c793}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a1773c9b0318bfd1c50db7972dce2c793}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!DropRegisterValueAtEnd@{DropRegisterValueAtEnd}}
\index{DropRegisterValueAtEnd@{DropRegisterValueAtEnd}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{DropRegisterValueAtEnd()}{DropRegisterValueAtEnd()}}
{\footnotesize\ttfamily template$<$typename RegisterT $>$ \\
void v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Drop\+Register\+Value\+At\+End (\begin{DoxyParamCaption}\item[{RegisterT}]{reg,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}}}]{force\+\_\+spill = {\ttfamily \mbox{\hyperlink{flag-definitions_8h_a3a9beadc89284d3f78a7d4945b1b4d8c}{false}}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 804 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{805                                      \{}
\DoxyCodeLine{806   RegisterFrameState<RegisterT>\& list = GetRegisterFrameState<RegisterT>();}
\DoxyCodeLine{807   list.unblock(reg);}
\DoxyCodeLine{808   \textcolor{keywordflow}{if} (!list.free().has(reg)) \{}
\DoxyCodeLine{809     ValueNode* node = list.GetValue(reg);}
\DoxyCodeLine{810     \textcolor{comment}{// If the register is not live after the current node, just remove its}}
\DoxyCodeLine{811     \textcolor{comment}{// value.}}
\DoxyCodeLine{812     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a5d1797b1bd24e0ebddc59297d7ad921f}{IsCurrentNodeLastUseOf}}(node)) \{}
\DoxyCodeLine{813       node-\/>RemoveRegister(reg);}
\DoxyCodeLine{814     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{815       \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a317d5918d7ed071a17f9c6c000693198}{DropRegisterValue}}(list, reg, force\_spill);}
\DoxyCodeLine{816     \}}
\DoxyCodeLine{817     list.AddToFree(reg);}
\DoxyCodeLine{818   \}}
\DoxyCodeLine{819 \}}

\end{DoxyCode}


References v8\+::internal\+::maglev\+::\+Register\+Frame\+State$<$ Register\+T $>$\+::\+Add\+To\+Free(), Drop\+Register\+Value(), v8\+::internal\+::maglev\+::\+Register\+Frame\+State$<$ Register\+T $>$\+::free(), v8\+::internal\+::maglev\+::\+Register\+Frame\+State$<$ Register\+T $>$\+::\+Get\+Value(), Is\+Current\+Node\+Last\+Use\+Of(), v8\+::internal\+::maglev\+::\+Value\+Node\+::\+Remove\+Register(), and v8\+::internal\+::maglev\+::\+Register\+Frame\+State$<$ Register\+T $>$\+::unblock().



Referenced by Allocate\+Node\+Result().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a1773c9b0318bfd1c50db7972dce2c793_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a1773c9b0318bfd1c50db7972dce2c793_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ac150274188b5178e13e0b9b70394445d}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ac150274188b5178e13e0b9b70394445d}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!EnsureFreeRegisterAtEnd@{EnsureFreeRegisterAtEnd}}
\index{EnsureFreeRegisterAtEnd@{EnsureFreeRegisterAtEnd}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{EnsureFreeRegisterAtEnd()}{EnsureFreeRegisterAtEnd()}}
{\footnotesize\ttfamily template$<$typename RegisterT $>$ \\
void v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Ensure\+Free\+Register\+At\+End (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionOperand}{compiler\+::\+Instruction\+Operand}} \&}]{hint = {\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionOperand}{compiler\+::\+Instruction\+Operand}}()} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1790 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1791                                             \{}
\DoxyCodeLine{1792   RegisterFrameState<RegisterT>\& registers = GetRegisterFrameState<RegisterT>();}
\DoxyCodeLine{1793   \textcolor{comment}{// If we still have free registers, pick one of those.}}
\DoxyCodeLine{1794   \textcolor{keywordflow}{if} (!registers.unblocked\_free().is\_empty()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{1795 }
\DoxyCodeLine{1796   \textcolor{comment}{// If the current node is a last use of an input, pick a register containing}}
\DoxyCodeLine{1797   \textcolor{comment}{// the input. Prefer the hint register if available.}}
\DoxyCodeLine{1798   RegisterT hint\_reg = GetRegisterHint<RegisterT>(hint);}
\DoxyCodeLine{1799   \textcolor{keywordflow}{if} (!registers.free().has(hint\_reg) \&\& registers.blocked().has(hint\_reg) \&\&}
\DoxyCodeLine{1800       \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a5d1797b1bd24e0ebddc59297d7ad921f}{IsCurrentNodeLastUseOf}}(registers.GetValue(hint\_reg))) \{}
\DoxyCodeLine{1801     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a1773c9b0318bfd1c50db7972dce2c793}{DropRegisterValueAtEnd}}(hint\_reg);}
\DoxyCodeLine{1802     \textcolor{keywordflow}{return};}
\DoxyCodeLine{1803   \}}
\DoxyCodeLine{1804   \textcolor{comment}{// Only search in the used-\/blocked list, since we don't want to assign the}}
\DoxyCodeLine{1805   \textcolor{comment}{// result register to a temporary (free + blocked).}}
\DoxyCodeLine{1806   \textcolor{keywordflow}{for} (RegisterT reg : (registers.blocked() -\/ registers.free())) \{}
\DoxyCodeLine{1807     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a5d1797b1bd24e0ebddc59297d7ad921f}{IsCurrentNodeLastUseOf}}(registers.GetValue(reg))) \{}
\DoxyCodeLine{1808       \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a1773c9b0318bfd1c50db7972dce2c793}{DropRegisterValueAtEnd}}(reg);}
\DoxyCodeLine{1809       \textcolor{keywordflow}{return};}
\DoxyCodeLine{1810     \}}
\DoxyCodeLine{1811   \}}
\DoxyCodeLine{1812 }
\DoxyCodeLine{1813   \textcolor{comment}{// Pick any input-\/blocked register based on regular heuristics.}}
\DoxyCodeLine{1814   RegisterT reg = hint.IsInvalid()}
\DoxyCodeLine{1815                       ? PickRegisterToFree<RegisterT>(registers.empty())}
\DoxyCodeLine{1816                       : \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03_ae90a8369aef39b40004ca0fd912bb9f1}{GetRegisterHint}}<RegisterT>(hint);}
\DoxyCodeLine{1817   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a1773c9b0318bfd1c50db7972dce2c793}{DropRegisterValueAtEnd}}(reg);}
\DoxyCodeLine{1818 \}}

\end{DoxyCode}


References v8\+::internal\+::maglev\+::\+Register\+Frame\+State$<$ Register\+T $>$\+::blocked(), v8\+::internal\+::maglev\+::\+Register\+Frame\+State$<$ Register\+T $>$\+::empty(), v8\+::internal\+::maglev\+::\+Register\+Frame\+State$<$ Register\+T $>$\+::free(), v8\+::internal\+::maglev\+::\+Register\+Frame\+State$<$ Register\+T $>$\+::\+Get\+Value(), and v8\+::internal\+::maglev\+::\+Register\+Frame\+State$<$ Register\+T $>$\+::unblocked\+\_\+free().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ac150274188b5178e13e0b9b70394445d_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a833383ffbe410452bdf67df7a6453a1f}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a833383ffbe410452bdf67df7a6453a1f}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!ForceAllocate@{ForceAllocate}}
\index{ForceAllocate@{ForceAllocate}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{ForceAllocate()}{ForceAllocate()}\hspace{0.1cm}{\footnotesize\ttfamily [1/4]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1AllocatedOperand}{compiler\+::\+Allocated\+Operand}} v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Force\+Allocate (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Input}{Input}} \&}]{input,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$}]{node }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1872 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1873                                          \{}
\DoxyCodeLine{1874   \textcolor{keywordflow}{if} (input.IsDoubleRegister()) \{}
\DoxyCodeLine{1875     \mbox{\hyperlink{namespacev8_1_1internal_a1c5661c973602b649955ae8c21dca0c5}{DoubleRegister}} reg = input.AssignedDoubleRegister();}
\DoxyCodeLine{1876     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a1773c9b0318bfd1c50db7972dce2c793}{DropRegisterValueAtEnd}}(reg);}
\DoxyCodeLine{1877     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a6a326398de3c6a5072eea22327c7746d}{ForceAllocate}}(reg, node);}
\DoxyCodeLine{1878   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1879     \mbox{\hyperlink{namespacev8_1_1internal_1_1ETWJITInterface_a6782da00e5166055555c65db3a9ec7eb}{Register}} reg = input.AssignedGeneralRegister();}
\DoxyCodeLine{1880     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a1773c9b0318bfd1c50db7972dce2c793}{DropRegisterValueAtEnd}}(reg);}
\DoxyCodeLine{1881     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a6a326398de3c6a5072eea22327c7746d}{ForceAllocate}}(reg, node);}
\DoxyCodeLine{1882   \}}
\DoxyCodeLine{1883 \}}

\end{DoxyCode}


References v8\+::internal\+::maglev\+::\+Value\+Location\+::\+Assigned\+Double\+Register(), v8\+::internal\+::maglev\+::\+Value\+Location\+::\+Assigned\+General\+Register(), and v8\+::internal\+::maglev\+::\+Value\+Location\+::\+Is\+Double\+Register().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a833383ffbe410452bdf67df7a6453a1f_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_abd8c820b14bb3bc46483559d20244bca}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_abd8c820b14bb3bc46483559d20244bca}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!ForceAllocate@{ForceAllocate}}
\index{ForceAllocate@{ForceAllocate}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{ForceAllocate()}{ForceAllocate()}\hspace{0.1cm}{\footnotesize\ttfamily [2/4]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1AllocatedOperand}{compiler\+::\+Allocated\+Operand}} v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Force\+Allocate (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DoubleRegister}{Double\+Register}}}]{reg,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$}]{node }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1866 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1867                                          \{}
\DoxyCodeLine{1868   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(node-\/>use\_double\_register());}
\DoxyCodeLine{1869   \textcolor{keywordflow}{return} ForceAllocate<DoubleRegister>(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4996578e4a68d9cbfee6837d3d1154e4}{double\_registers\_}}, reg, node);}
\DoxyCodeLine{1870 \}}

\end{DoxyCode}


References DCHECK, and v8\+::internal\+::maglev\+::\+Value\+Node\+::use\+\_\+double\+\_\+register().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_abd8c820b14bb3bc46483559d20244bca_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a749353f9e95b0c4fd8539a889ac70e91}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a749353f9e95b0c4fd8539a889ac70e91}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!ForceAllocate@{ForceAllocate}}
\index{ForceAllocate@{ForceAllocate}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{ForceAllocate()}{ForceAllocate()}\hspace{0.1cm}{\footnotesize\ttfamily [3/4]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1AllocatedOperand}{compiler\+::\+Allocated\+Operand}} v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Force\+Allocate (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}}}]{reg,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$}]{node }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1860 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1861                                    \{}
\DoxyCodeLine{1862   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!node-\/>use\_double\_register());}
\DoxyCodeLine{1863   \textcolor{keywordflow}{return} ForceAllocate<Register>(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a722303e16e26e329257d54b41b460725}{general\_registers\_}}, reg, node);}
\DoxyCodeLine{1864 \}}

\end{DoxyCode}


References DCHECK, and v8\+::internal\+::maglev\+::\+Value\+Node\+::use\+\_\+double\+\_\+register().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a749353f9e95b0c4fd8539a889ac70e91_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a6a326398de3c6a5072eea22327c7746d}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a6a326398de3c6a5072eea22327c7746d}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!ForceAllocate@{ForceAllocate}}
\index{ForceAllocate@{ForceAllocate}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{ForceAllocate()}{ForceAllocate()}\hspace{0.1cm}{\footnotesize\ttfamily [4/4]}}
{\footnotesize\ttfamily template$<$typename RegisterT $>$ \\
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1AllocatedOperand}{compiler\+::\+Allocated\+Operand}} v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Force\+Allocate (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1RegisterFrameState}{Register\+Frame\+State}}$<$ RegisterT $>$ \&}]{registers,  }\item[{RegisterT}]{reg,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$}]{node }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1832 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1833                                                                               \{}
\DoxyCodeLine{1834   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!registers.is\_blocked(reg));}
\DoxyCodeLine{1835   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_maglev\_regalloc) \{}
\DoxyCodeLine{1836     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os()}
\DoxyCodeLine{1837         << \textcolor{stringliteral}{"{}  forcing "{}} << reg << \textcolor{stringliteral}{"{} to "{}}}
\DoxyCodeLine{1838         << PrintNodeLabel(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae86d029ad577b8c95464c76fe78e5ed4}{graph\_labeller}}(), node) << \textcolor{stringliteral}{"{}...\(\backslash\)n"{}};}
\DoxyCodeLine{1839   \}}
\DoxyCodeLine{1840   \textcolor{keywordflow}{if} (registers.free().has(reg)) \{}
\DoxyCodeLine{1841     \textcolor{comment}{// If it's already free, remove it from the free list.}}
\DoxyCodeLine{1842     registers.RemoveFromFree(reg);}
\DoxyCodeLine{1843   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (registers.GetValue(reg) == node) \{}
\DoxyCodeLine{1844     registers.block(reg);}
\DoxyCodeLine{1845     \textcolor{keywordflow}{return} compiler::AllocatedOperand(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LocationOperand_af9e0a334eaf58a05f9ea5b7139221140aafe479edbb7a04d078220746abc95b19}{compiler::LocationOperand::REGISTER}},}
\DoxyCodeLine{1846                                       node-\/>GetMachineRepresentation(),}
\DoxyCodeLine{1847                                       reg.code());}
\DoxyCodeLine{1848   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1849     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!registers.is\_blocked(reg));}
\DoxyCodeLine{1850     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a317d5918d7ed071a17f9c6c000693198}{DropRegisterValue}}(registers, reg);}
\DoxyCodeLine{1851   \}}
\DoxyCodeLine{1852   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!registers.free().has(reg));}
\DoxyCodeLine{1853   registers.unblock(reg);}
\DoxyCodeLine{1854   registers.SetValue(reg, node);}
\DoxyCodeLine{1855   \textcolor{keywordflow}{return} compiler::AllocatedOperand(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LocationOperand_af9e0a334eaf58a05f9ea5b7139221140aafe479edbb7a04d078220746abc95b19}{compiler::LocationOperand::REGISTER}},}
\DoxyCodeLine{1856                                     node-\/>GetMachineRepresentation(),}
\DoxyCodeLine{1857                                     reg.code());}
\DoxyCodeLine{1858 \}}

\end{DoxyCode}


References v8\+::internal\+::maglev\+::\+Register\+Frame\+State$<$ Register\+T $>$\+::block(), DCHECK, v8\+::internal\+::maglev\+::\+Register\+Frame\+State$<$ Register\+T $>$\+::free(), v8\+::internal\+::maglev\+::\+Value\+Node\+::\+Get\+Machine\+Representation(), v8\+::internal\+::maglev\+::\+Register\+Frame\+State$<$ Register\+T $>$\+::\+Get\+Value(), v8\+::internal\+::maglev\+::\+Register\+Frame\+State$<$ Register\+T $>$\+::is\+\_\+blocked(), v8\+::internal\+::maglev\+::\+Register\+Frame\+State$<$ Register\+T $>$\+::\+Remove\+From\+Free(), v8\+::internal\+::maglev\+::\+Register\+Frame\+State$<$ Register\+T $>$\+::\+Set\+Value(), v8\+::internal\+::maglev\+::\+Register\+Frame\+State$<$ Register\+T $>$\+::unblock(), and v8\+::internal\+::v8\+\_\+flags.



Referenced by Allocate\+Node\+Result(), Allocate\+Registers(), Assign\+Fixed\+Input(), and Try\+Allocate\+To\+Input().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a6a326398de3c6a5072eea22327c7746d_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a6a326398de3c6a5072eea22327c7746d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a3651e065d28fa22ad855f5b7c7eaa5ce}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a3651e065d28fa22ad855f5b7c7eaa5ce}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!ForEachMergePointRegisterState@{ForEachMergePointRegisterState}}
\index{ForEachMergePointRegisterState@{ForEachMergePointRegisterState}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{ForEachMergePointRegisterState()}{ForEachMergePointRegisterState()}}
{\footnotesize\ttfamily template$<$typename Function $>$ \\
void v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+For\+Each\+Merge\+Point\+Register\+State (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MergePointRegisterState}{Merge\+Point\+Register\+State}} \&}]{merge\+\_\+point\+\_\+state,  }\item[{\mbox{\hyperlink{classv8_1_1Function}{Function}} \&\&}]{f }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 2057 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2058                                                               \{}
\DoxyCodeLine{2059   merge\_point\_state.ForEachGeneralRegister(}
\DoxyCodeLine{2060       [\&](\mbox{\hyperlink{namespacev8_1_1internal_1_1ETWJITInterface_a6782da00e5166055555c65db3a9ec7eb}{Register}} reg, \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a731e3ec24b7928dd9959cb6ce1d8950c}{RegisterState}}\& state) \{}
\DoxyCodeLine{2061         f(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a722303e16e26e329257d54b41b460725}{general\_registers\_}}, reg, state);}
\DoxyCodeLine{2062       \});}
\DoxyCodeLine{2063   merge\_point\_state.ForEachDoubleRegister(}
\DoxyCodeLine{2064       [\&](\mbox{\hyperlink{namespacev8_1_1internal_a1c5661c973602b649955ae8c21dca0c5}{DoubleRegister}} reg, \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a731e3ec24b7928dd9959cb6ce1d8950c}{RegisterState}}\& state) \{}
\DoxyCodeLine{2065         f(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4996578e4a68d9cbfee6837d3d1154e4}{double\_registers\_}}, reg, state);}
\DoxyCodeLine{2066       \});}
\DoxyCodeLine{2067 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a2e15656b2c14a4f37e8bac2957abdd70}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a2e15656b2c14a4f37e8bac2957abdd70}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!FreeRegistersUsedBy@{FreeRegistersUsedBy}}
\index{FreeRegistersUsedBy@{FreeRegistersUsedBy}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{FreeRegistersUsedBy()}{FreeRegistersUsedBy()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Free\+Registers\+Used\+By (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$}]{node }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 625 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{625                                                                           \{}
\DoxyCodeLine{626   \textcolor{keywordflow}{if} (node-\/>use\_double\_register()) \{}
\DoxyCodeLine{627     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4996578e4a68d9cbfee6837d3d1154e4}{double\_registers\_}}.FreeRegistersUsedBy(node);}
\DoxyCodeLine{628   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{629     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a722303e16e26e329257d54b41b460725}{general\_registers\_}}.FreeRegistersUsedBy(node);}
\DoxyCodeLine{630   \}}
\DoxyCodeLine{631 \}}

\end{DoxyCode}


References double\+\_\+registers\+\_\+, general\+\_\+registers\+\_\+, and v8\+::internal\+::maglev\+::\+Value\+Node\+::use\+\_\+double\+\_\+register().



Referenced by Allocate\+Node\+Result(), and Update\+Use().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a2e15656b2c14a4f37e8bac2957abdd70_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a2e15656b2c14a4f37e8bac2957abdd70_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a3a0ca6b42d73bc71d2414b6afcfb0b72}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a3a0ca6b42d73bc71d2414b6afcfb0b72}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!FreeUnblockedRegister@{FreeUnblockedRegister}}
\index{FreeUnblockedRegister@{FreeUnblockedRegister}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{FreeUnblockedRegister()}{FreeUnblockedRegister()}}
{\footnotesize\ttfamily template$<$typename RegisterT $>$ \\
RegisterT v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Free\+Unblocked\+Register (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1RegListBase}{Reg\+List\+Base}}$<$ RegisterT $>$}]{reserved = {\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1RegListBase}{Reg\+List\+Base}}$<$RegisterT$>$()} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1746 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1747                                      \{}
\DoxyCodeLine{1748   RegisterFrameState<RegisterT>\& registers = GetRegisterFrameState<RegisterT>();}
\DoxyCodeLine{1749   RegisterT best =}
\DoxyCodeLine{1750       PickRegisterToFree<RegisterT>(registers.blocked() | reserved);}
\DoxyCodeLine{1751   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(best.is\_valid());}
\DoxyCodeLine{1752   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!registers.is\_blocked(best));}
\DoxyCodeLine{1753   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a317d5918d7ed071a17f9c6c000693198}{DropRegisterValue}}(registers, best);}
\DoxyCodeLine{1754   registers.AddToFree(best);}
\DoxyCodeLine{1755   \textcolor{keywordflow}{return} best;}
\DoxyCodeLine{1756 \}}

\end{DoxyCode}


References v8\+::internal\+::maglev\+::\+Register\+Frame\+State$<$ Register\+T $>$\+::\+Add\+To\+Free(), v8\+::internal\+::maglev\+::\+Register\+Frame\+State$<$ Register\+T $>$\+::blocked(), DCHECK, and v8\+::internal\+::maglev\+::\+Register\+Frame\+State$<$ Register\+T $>$\+::is\+\_\+blocked().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a3a0ca6b42d73bc71d2414b6afcfb0b72_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a8e4247f2fa94a763b949d32f2a836d0d}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a8e4247f2fa94a763b949d32f2a836d0d}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!GetRegisterFrameState@{GetRegisterFrameState}}
\index{GetRegisterFrameState@{GetRegisterFrameState}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{GetRegisterFrameState()}{GetRegisterFrameState()}}
{\footnotesize\ttfamily template$<$typename RegisterT $>$ \\
\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1RegisterFrameState}{Register\+Frame\+State}}$<$RegisterT$>$\& v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Get\+Register\+Frame\+State (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 240 of file maglev-\/regalloc.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{240                                                          \{}
\DoxyCodeLine{241     \textcolor{keywordflow}{if} constexpr (std::is\_same\_v<RegisterT, Register>) \{}
\DoxyCodeLine{242       \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a722303e16e26e329257d54b41b460725}{general\_registers\_}};}
\DoxyCodeLine{243     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{244       \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4996578e4a68d9cbfee6837d3d1154e4}{double\_registers\_}};}
\DoxyCodeLine{245     \}}
\DoxyCodeLine{246   \}}

\end{DoxyCode}


References double\+\_\+registers\+\_\+, and general\+\_\+registers\+\_\+.

\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae86d029ad577b8c95464c76fe78e5ed4}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae86d029ad577b8c95464c76fe78e5ed4}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!graph\_labeller@{graph\_labeller}}
\index{graph\_labeller@{graph\_labeller}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{graph\_labeller()}{graph\_labeller()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevGraphLabeller}{Maglev\+Graph\+Labeller}}$\ast$ v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::graph\+\_\+labeller (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 306 of file maglev-\/regalloc.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{306                                               \{}
\DoxyCodeLine{307     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad2c21cc858129e86e2e12a4ff38445ee}{graph\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph_ae1ebea836a84749a1136bdde43da3727}{graph\_labeller}}();}
\DoxyCodeLine{308   \}}

\end{DoxyCode}


References graph\+\_\+, and v8\+::internal\+::maglev\+::\+Graph\+::graph\+\_\+labeller().



Referenced by Add\+Move\+Before\+Current\+Node(), Allocate\+Node(), Allocate\+Registers(), Assign\+Any\+Input(), Assign\+Arbitrary\+Register\+Input(), Assign\+Fixed\+Input(), Drop\+Register\+Value(), Spill(), Spill\+And\+Clear\+Registers(), Update\+Use(), Verify\+Inputs(), and Verify\+Register\+State().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae86d029ad577b8c95464c76fe78e5ed4_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae86d029ad577b8c95464c76fe78e5ed4_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a3571b7824a381a6bd25a50d4618070c4}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a3571b7824a381a6bd25a50d4618070c4}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!has\_graph\_labeller@{has\_graph\_labeller}}
\index{has\_graph\_labeller@{has\_graph\_labeller}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{has\_graph\_labeller()}{has\_graph\_labeller()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::has\+\_\+graph\+\_\+labeller (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 304 of file maglev-\/regalloc.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{304 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad2c21cc858129e86e2e12a4ff38445ee}{graph\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph_a5f4ebd6e4599377cf87f6c146d51a85d}{has\_graph\_labeller}}(); \}}

\end{DoxyCode}


References graph\+\_\+, and v8\+::internal\+::maglev\+::\+Graph\+::has\+\_\+graph\+\_\+labeller().



Referenced by Verify\+Register\+State().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a3571b7824a381a6bd25a50d4618070c4_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a3571b7824a381a6bd25a50d4618070c4_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a8b10716215fd09beb1a70489cd54899d}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a8b10716215fd09beb1a70489cd54899d}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!HoistLoopReloads@{HoistLoopReloads}}
\index{HoistLoopReloads@{HoistLoopReloads}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{HoistLoopReloads()}{HoistLoopReloads()}}
{\footnotesize\ttfamily template$<$typename RegisterT $>$ \\
void v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Hoist\+Loop\+Reloads (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BasicBlock}{Basic\+Block}} $\ast$}]{target,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1RegisterFrameState}{Register\+Frame\+State}}$<$ RegisterT $>$ \&}]{registers }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 2169 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2170                                                                   \{}
\DoxyCodeLine{2171   \textcolor{keyword}{auto} info = \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ab3d2b7972715e6afdc0e55b1a8b02bab}{regalloc\_info\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1maglev_1_1RegallocInfo_a9f95a9e78ae6d3b791924d62d91548fb}{loop\_info\_}}.find(target-\/>id());}
\DoxyCodeLine{2172   \textcolor{keywordflow}{if} (info == \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ab3d2b7972715e6afdc0e55b1a8b02bab}{regalloc\_info\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1maglev_1_1RegallocInfo_a9f95a9e78ae6d3b791924d62d91548fb}{loop\_info\_}}.end()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{2173   \textcolor{keywordflow}{for} (ValueNode* node : info-\/>second.reload\_hints\_) \{}
\DoxyCodeLine{2174     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a722303e16e26e329257d54b41b460725}{general\_registers\_}}.blocked().is\_empty());}
\DoxyCodeLine{2175     \textcolor{keywordflow}{if} (registers.free().is\_empty()) \textcolor{keywordflow}{break};}
\DoxyCodeLine{2176     \textcolor{keywordflow}{if} (node-\/>has\_register()) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{2177     \textcolor{comment}{// The value is in a liveness hole, don't try to reload it.}}
\DoxyCodeLine{2178     \textcolor{keywordflow}{if} (!node-\/>is\_loadable()) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{2179     \textcolor{keywordflow}{if} ((node-\/>use\_double\_register() \&\& std::is\_same\_v<RegisterT, Register>) ||}
\DoxyCodeLine{2180         (!node-\/>use\_double\_register() \&\&}
\DoxyCodeLine{2181          std::is\_same\_v<RegisterT, DoubleRegister>)) \{}
\DoxyCodeLine{2182       \textcolor{keywordflow}{continue};}
\DoxyCodeLine{2183     \}}
\DoxyCodeLine{2184     RegisterT target\_reg = node-\/>GetRegisterHint<RegisterT>();}
\DoxyCodeLine{2185     \textcolor{keywordflow}{if} (!registers.free().has(target\_reg)) \{}
\DoxyCodeLine{2186       target\_reg = registers.free().first();}
\DoxyCodeLine{2187     \}}
\DoxyCodeLine{2188     compiler::AllocatedOperand target\_operand(}
\DoxyCodeLine{2189         \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LocationOperand_af9e0a334eaf58a05f9ea5b7139221140aafe479edbb7a04d078220746abc95b19}{compiler::LocationOperand::REGISTER}}, node-\/>GetMachineRepresentation(),}
\DoxyCodeLine{2190         target\_reg.code());}
\DoxyCodeLine{2191     registers.RemoveFromFree(target\_reg);}
\DoxyCodeLine{2192     registers.SetValueWithoutBlocking(target\_reg, node);}
\DoxyCodeLine{2193     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ab8742bd5bf8bb7f62e5ad347e6bb6c8c}{AddMoveBeforeCurrentNode}}(node, node-\/>loadable\_slot(), target\_operand);}
\DoxyCodeLine{2194   \}}
\DoxyCodeLine{2195 \}}

\end{DoxyCode}


References DCHECK, v8\+::internal\+::maglev\+::\+Register\+Frame\+State$<$ Register\+T $>$\+::free(), v8\+::internal\+::maglev\+::\+Value\+Node\+::\+Get\+Machine\+Representation(), v8\+::internal\+::maglev\+::\+Value\+Node\+::\+Get\+Register\+Hint(), v8\+::internal\+::maglev\+::\+Value\+Node\+::has\+\_\+register(), v8\+::internal\+::maglev\+::\+Basic\+Block\+::id(), v8\+::internal\+::maglev\+::\+Value\+Node\+::is\+\_\+loadable(), v8\+::internal\+::maglev\+::\+Value\+Node\+::loadable\+\_\+slot(), v8\+::internal\+::maglev\+::\+Register\+Frame\+State$<$ Register\+T $>$\+::\+Remove\+From\+Free(), v8\+::internal\+::maglev\+::\+Register\+Frame\+State$<$ Register\+T $>$\+::\+Set\+Value\+Without\+Blocking(), and v8\+::internal\+::maglev\+::\+Value\+Node\+::use\+\_\+double\+\_\+register().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a8b10716215fd09beb1a70489cd54899d_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_aecdaeb2507958a95bb0f53879a3b6386}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_aecdaeb2507958a95bb0f53879a3b6386}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!HoistLoopSpills@{HoistLoopSpills}}
\index{HoistLoopSpills@{HoistLoopSpills}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{HoistLoopSpills()}{HoistLoopSpills()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Hoist\+Loop\+Spills (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BasicBlock}{Basic\+Block}} $\ast$}]{target }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 2200 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2200                                                                          \{}
\DoxyCodeLine{2201   \textcolor{keyword}{auto} info = \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ab3d2b7972715e6afdc0e55b1a8b02bab}{regalloc\_info\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1maglev_1_1RegallocInfo_a9f95a9e78ae6d3b791924d62d91548fb}{loop\_info\_}}.find(target-\/>id());}
\DoxyCodeLine{2202   \textcolor{keywordflow}{if} (info == \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ab3d2b7972715e6afdc0e55b1a8b02bab}{regalloc\_info\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1maglev_1_1RegallocInfo_a9f95a9e78ae6d3b791924d62d91548fb}{loop\_info\_}}.end()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{2203   \textcolor{keywordflow}{for} (ValueNode* node : info-\/>second.spill\_hints\_) \{}
\DoxyCodeLine{2204     \textcolor{keywordflow}{if} (!node-\/>has\_register()) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{2205     \textcolor{comment}{// Do not move to a different register, the goal is to keep the value}}
\DoxyCodeLine{2206     \textcolor{comment}{// spilled on the back-\/edge.}}
\DoxyCodeLine{2207     \textcolor{keyword}{const} \textcolor{keywordtype}{bool} kForceSpill = \textcolor{keyword}{true};}
\DoxyCodeLine{2208     \textcolor{keywordflow}{if} (node-\/>use\_double\_register()) \{}
\DoxyCodeLine{2209       \textcolor{keywordflow}{for} (\mbox{\hyperlink{namespacev8_1_1internal_a1c5661c973602b649955ae8c21dca0c5}{DoubleRegister}} reg : node-\/>result\_registers<\mbox{\hyperlink{namespacev8_1_1internal_a1c5661c973602b649955ae8c21dca0c5}{DoubleRegister}}>()) \{}
\DoxyCodeLine{2210         \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a1773c9b0318bfd1c50db7972dce2c793}{DropRegisterValueAtEnd}}(reg, kForceSpill);}
\DoxyCodeLine{2211       \}}
\DoxyCodeLine{2212     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{2213       \textcolor{keywordflow}{for} (\mbox{\hyperlink{namespacev8_1_1internal_1_1ETWJITInterface_a6782da00e5166055555c65db3a9ec7eb}{Register}} reg : node-\/>result\_registers<\mbox{\hyperlink{namespacev8_1_1internal_1_1ETWJITInterface_a6782da00e5166055555c65db3a9ec7eb}{Register}}>()) \{}
\DoxyCodeLine{2214         \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a1773c9b0318bfd1c50db7972dce2c793}{DropRegisterValueAtEnd}}(reg, kForceSpill);}
\DoxyCodeLine{2215       \}}
\DoxyCodeLine{2216     \}}
\DoxyCodeLine{2217   \}}
\DoxyCodeLine{2218 \}}

\end{DoxyCode}


References v8\+::internal\+::maglev\+::\+Value\+Node\+::has\+\_\+register(), v8\+::internal\+::maglev\+::\+Basic\+Block\+::id(), v8\+::internal\+::maglev\+::\+Value\+Node\+::result\+\_\+registers(), and v8\+::internal\+::maglev\+::\+Value\+Node\+::use\+\_\+double\+\_\+register().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_aecdaeb2507958a95bb0f53879a3b6386_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_aa0175d8f4977449f26f9fe3cf817a17c}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_aa0175d8f4977449f26f9fe3cf817a17c}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!InitializeBranchTargetPhis@{InitializeBranchTargetPhis}}
\index{InitializeBranchTargetPhis@{InitializeBranchTargetPhis}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{InitializeBranchTargetPhis()}{InitializeBranchTargetPhis()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Initialize\+Branch\+Target\+Phis (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classint}{int}}}]{predecessor\+\_\+id,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BasicBlock}{Basic\+Block}} $\ast$}]{target }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 957 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{958                                             \{}
\DoxyCodeLine{959   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!target-\/>is\_edge\_split\_block());}
\DoxyCodeLine{960 }
\DoxyCodeLine{961   \textcolor{keywordflow}{if} (!target-\/>has\_phi()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{962 }
\DoxyCodeLine{963   \textcolor{comment}{// Phi moves are emitted by resolving all phi moves as a single parallel move,}}
\DoxyCodeLine{964   \textcolor{comment}{// which means we shouldn't update register state as we go (as if we were}}
\DoxyCodeLine{965   \textcolor{comment}{// emitting a series of serialised moves) but rather take 'old' register}}
\DoxyCodeLine{966   \textcolor{comment}{// state as the phi input.}}
\DoxyCodeLine{967   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Phi_a27508166cd8ae6970e9c9781d11444db}{Phi::List}}\& phis = *target-\/>phis();}
\DoxyCodeLine{968   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} phi\_it = phis.begin(); phi\_it != phis.end();) \{}
\DoxyCodeLine{969     Phi* phi = *phi\_it;}
\DoxyCodeLine{970     \textcolor{keywordflow}{if} (!phi-\/>has\_valid\_live\_range()) \{}
\DoxyCodeLine{971       \textcolor{comment}{// We might still have left over dead Phis, due to phis being kept}}
\DoxyCodeLine{972       \textcolor{comment}{// alive by deopts that the representation analysis dropped. Clear}}
\DoxyCodeLine{973       \textcolor{comment}{// them out now.}}
\DoxyCodeLine{974       phi\_it = phis.RemoveAt(phi\_it);}
\DoxyCodeLine{975     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{976       Input\& input = phi-\/>input(predecessor\_id);}
\DoxyCodeLine{977       input.InjectLocation(input.node()-\/>allocation());}
\DoxyCodeLine{978       ++phi\_it;}
\DoxyCodeLine{979     \}}
\DoxyCodeLine{980   \}}
\DoxyCodeLine{981 \}}

\end{DoxyCode}


References v8\+::internal\+::maglev\+::\+Value\+Node\+::allocation(), v8\+::base\+::\+Threaded\+List\+Base$<$ T, Base\+Class, TLTraits, k\+Supports\+Unsafe\+Insertion $>$\+::begin(), v8\+::internal\+::\+DCHECK(), v8\+::base\+::\+Threaded\+List\+Base$<$ T, Base\+Class, TLTraits, k\+Supports\+Unsafe\+Insertion $>$\+::end(), v8\+::internal\+::maglev\+::\+Basic\+Block\+::has\+\_\+phi(), v8\+::internal\+::maglev\+::\+Value\+Location\+::\+Inject\+Location(), v8\+::internal\+::maglev\+::\+Basic\+Block\+::is\+\_\+edge\+\_\+split\+\_\+block(), v8\+::internal\+::maglev\+::\+Input\+::node(), v8\+::internal\+::maglev\+::\+Basic\+Block\+::phis(), and v8\+::base\+::\+Threaded\+List\+Base$<$ T, Base\+Class, TLTraits, k\+Supports\+Unsafe\+Insertion $>$\+::\+Remove\+At().



Referenced by Allocate\+Control\+Node().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_aa0175d8f4977449f26f9fe3cf817a17c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_aa0175d8f4977449f26f9fe3cf817a17c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a39254d6d56299ed14508926e07d6e92e}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a39254d6d56299ed14508926e07d6e92e}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!InitializeBranchTargetRegisterValues@{InitializeBranchTargetRegisterValues}}
\index{InitializeBranchTargetRegisterValues@{InitializeBranchTargetRegisterValues}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{InitializeBranchTargetRegisterValues()}{InitializeBranchTargetRegisterValues()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Initialize\+Branch\+Target\+Register\+Values (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ControlNode}{Control\+Node}} $\ast$}]{source,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BasicBlock}{Basic\+Block}} $\ast$}]{target }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 2220 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2221                                              \{}
\DoxyCodeLine{2222   MergePointRegisterState\& target\_state = target-\/>state()-\/>register\_state();}
\DoxyCodeLine{2223   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!target\_state.is\_initialized());}
\DoxyCodeLine{2224   \textcolor{keyword}{auto} init = [\&](\textcolor{keyword}{auto}\& registers, \textcolor{keyword}{auto} reg, \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a731e3ec24b7928dd9959cb6ce1d8950c}{RegisterState}}\& state) \{}
\DoxyCodeLine{2225     ValueNode* node = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{2226     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(registers.blocked().is\_empty());}
\DoxyCodeLine{2227     \textcolor{keywordflow}{if} (!registers.free().has(reg)) \{}
\DoxyCodeLine{2228       node = registers.GetValue(reg);}
\DoxyCodeLine{2229       \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03_a1734b81a6e299f173861ed10ff9eef67}{IsLiveAtTarget}}(node, source, target)) node = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{2230     \}}
\DoxyCodeLine{2231     state = \{node, \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03_adc4a4e4d34f19a4cb5ebe5a10dfc166d}{initialized\_node}}\};}
\DoxyCodeLine{2232   \};}
\DoxyCodeLine{2233   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a8b10716215fd09beb1a70489cd54899d}{HoistLoopReloads}}(target, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a722303e16e26e329257d54b41b460725}{general\_registers\_}});}
\DoxyCodeLine{2234   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a8b10716215fd09beb1a70489cd54899d}{HoistLoopReloads}}(target, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4996578e4a68d9cbfee6837d3d1154e4}{double\_registers\_}});}
\DoxyCodeLine{2235   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_aecdaeb2507958a95bb0f53879a3b6386}{HoistLoopSpills}}(target);}
\DoxyCodeLine{2236   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a3651e065d28fa22ad855f5b7c7eaa5ce}{ForEachMergePointRegisterState}}(target\_state, init);}
\DoxyCodeLine{2237 \}}

\end{DoxyCode}


References DCHECK, v8\+::internal\+::maglev\+::anonymous\+\_\+namespace\{maglev-\/regalloc.\+cc\}\+::initialized\+\_\+node, v8\+::internal\+::maglev\+::anonymous\+\_\+namespace\{maglev-\/regalloc.\+cc\}\+::\+Is\+Live\+At\+Target(), v8\+::internal\+::maglev\+::\+Merge\+Point\+Interpreter\+Frame\+State\+::register\+\_\+state(), and v8\+::internal\+::maglev\+::\+Basic\+Block\+::state().



Referenced by Initialize\+Conditional\+Branch\+Target().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a39254d6d56299ed14508926e07d6e92e_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a39254d6d56299ed14508926e07d6e92e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ab15b05347d3161addd984d415a64f379}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ab15b05347d3161addd984d415a64f379}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!InitializeConditionalBranchTarget@{InitializeConditionalBranchTarget}}
\index{InitializeConditionalBranchTarget@{InitializeConditionalBranchTarget}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{InitializeConditionalBranchTarget()}{InitializeConditionalBranchTarget()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Initialize\+Conditional\+Branch\+Target (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ConditionalControlNode}{Conditional\+Control\+Node}} $\ast$}]{source,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BasicBlock}{Basic\+Block}} $\ast$}]{target }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1015 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1016                                                               \{}
\DoxyCodeLine{1017   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!target-\/>has\_phi());}
\DoxyCodeLine{1018 }
\DoxyCodeLine{1019   \textcolor{keywordflow}{if} (target-\/>has\_state()) \{}
\DoxyCodeLine{1020     \textcolor{comment}{// Not a fall-\/through branch, copy the state over.}}
\DoxyCodeLine{1021     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a39254d6d56299ed14508926e07d6e92e}{InitializeBranchTargetRegisterValues}}(control\_node, target);}
\DoxyCodeLine{1022   \}}
\DoxyCodeLine{1023   \textcolor{keywordflow}{if} (target-\/>is\_edge\_split\_block()) \{}
\DoxyCodeLine{1024     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a570a04818b0b49be804f5d5141b2c0f9}{InitializeEmptyBlockRegisterValues}}(control\_node, target);}
\DoxyCodeLine{1025   \}}
\DoxyCodeLine{1026 }
\DoxyCodeLine{1027   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(control\_node-\/>id() + 1, target-\/>first\_id());}
\DoxyCodeLine{1028   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(AllUsedRegistersLiveAt(control\_node, target));}
\DoxyCodeLine{1029 \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+EQ, v8\+::internal\+::maglev\+::\+Basic\+Block\+::first\+\_\+id(), v8\+::internal\+::maglev\+::\+Basic\+Block\+::has\+\_\+phi(), v8\+::internal\+::maglev\+::\+Basic\+Block\+::has\+\_\+state(), v8\+::internal\+::maglev\+::\+Node\+Base\+::id(), Initialize\+Branch\+Target\+Register\+Values(), Initialize\+Empty\+Block\+Register\+Values(), and v8\+::internal\+::maglev\+::\+Basic\+Block\+::is\+\_\+edge\+\_\+split\+\_\+block().



Referenced by Allocate\+Control\+Node().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ab15b05347d3161addd984d415a64f379_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ab15b05347d3161addd984d415a64f379_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a570a04818b0b49be804f5d5141b2c0f9}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a570a04818b0b49be804f5d5141b2c0f9}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!InitializeEmptyBlockRegisterValues@{InitializeEmptyBlockRegisterValues}}
\index{InitializeEmptyBlockRegisterValues@{InitializeEmptyBlockRegisterValues}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{InitializeEmptyBlockRegisterValues()}{InitializeEmptyBlockRegisterValues()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Initialize\+Empty\+Block\+Register\+Values (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ControlNode}{Control\+Node}} $\ast$}]{source,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BasicBlock}{Basic\+Block}} $\ast$}]{target }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 2239 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2240                                              \{}
\DoxyCodeLine{2241   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(target-\/>is\_edge\_split\_block());}
\DoxyCodeLine{2242   MergePointRegisterState* register\_state =}
\DoxyCodeLine{2243       \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4b887f42994544d0df2da9c591601c9e}{compilation\_info\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevCompilationInfo_aed2ced4ee8e9f34c922029cb4d9f2b75}{zone}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Zone_a619ca7387e66c82e86240c2af8f3f10f}{New}}<MergePointRegisterState>();}
\DoxyCodeLine{2244 }
\DoxyCodeLine{2245   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!register\_state-\/>is\_initialized());}
\DoxyCodeLine{2246   \textcolor{keyword}{auto} init = [\&](\textcolor{keyword}{auto}\& registers, \textcolor{keyword}{auto} reg, \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a731e3ec24b7928dd9959cb6ce1d8950c}{RegisterState}}\& state) \{}
\DoxyCodeLine{2247     ValueNode* node = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{2248     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(registers.blocked().is\_empty());}
\DoxyCodeLine{2249     \textcolor{keywordflow}{if} (!registers.free().has(reg)) \{}
\DoxyCodeLine{2250       node = registers.GetValue(reg);}
\DoxyCodeLine{2251       \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03_a1734b81a6e299f173861ed10ff9eef67}{IsLiveAtTarget}}(node, source, target)) node = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{2252     \}}
\DoxyCodeLine{2253     state = \{node, \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03_adc4a4e4d34f19a4cb5ebe5a10dfc166d}{initialized\_node}}\};}
\DoxyCodeLine{2254   \};}
\DoxyCodeLine{2255   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a3651e065d28fa22ad855f5b7c7eaa5ce}{ForEachMergePointRegisterState}}(*register\_state, init);}
\DoxyCodeLine{2256 }
\DoxyCodeLine{2257   target-\/>set\_edge\_split\_block\_register\_state(register\_state);}
\DoxyCodeLine{2258 \}}

\end{DoxyCode}


References DCHECK, v8\+::internal\+::maglev\+::anonymous\+\_\+namespace\{maglev-\/regalloc.\+cc\}\+::initialized\+\_\+node, v8\+::internal\+::maglev\+::\+Basic\+Block\+::is\+\_\+edge\+\_\+split\+\_\+block(), v8\+::internal\+::maglev\+::anonymous\+\_\+namespace\{maglev-\/regalloc.\+cc\}\+::\+Is\+Live\+At\+Target(), and v8\+::internal\+::maglev\+::\+Basic\+Block\+::set\+\_\+edge\+\_\+split\+\_\+block\+\_\+register\+\_\+state().



Referenced by Initialize\+Conditional\+Branch\+Target().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a570a04818b0b49be804f5d5141b2c0f9_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a570a04818b0b49be804f5d5141b2c0f9_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae14929a40920a1bb43a561d1f7da9ef1}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae14929a40920a1bb43a561d1f7da9ef1}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!InitializeRegisterValues@{InitializeRegisterValues}}
\index{InitializeRegisterValues@{InitializeRegisterValues}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{InitializeRegisterValues()}{InitializeRegisterValues()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Initialize\+Register\+Values (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MergePointRegisterState}{Merge\+Point\+Register\+State}} \&}]{target\+\_\+state }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 2089 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2090                                            \{}
\DoxyCodeLine{2091   \textcolor{comment}{// First clear the register state.}}
\DoxyCodeLine{2092   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a85e2428a666406afd8a3c6d913021b6d}{ClearRegisterValues}}();}
\DoxyCodeLine{2093 }
\DoxyCodeLine{2094   \textcolor{comment}{// Then fill it in with target information.}}
\DoxyCodeLine{2095   \textcolor{keyword}{auto} fill = [\&](\textcolor{keyword}{auto}\& registers, \textcolor{keyword}{auto} reg, \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a731e3ec24b7928dd9959cb6ce1d8950c}{RegisterState}}\& state) \{}
\DoxyCodeLine{2096     ValueNode* node;}
\DoxyCodeLine{2097     RegisterMerge* merge;}
\DoxyCodeLine{2098     \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_aabd8b744a56d0d325e265221865d5efa}{LoadMergeState}}(state, \&node, \&merge);}
\DoxyCodeLine{2099     \textcolor{keywordflow}{if} (node != \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{2100       registers.RemoveFromFree(reg);}
\DoxyCodeLine{2101       registers.SetValue(reg, node);}
\DoxyCodeLine{2102     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{2103       \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!state.GetPayload().is\_merge);}
\DoxyCodeLine{2104     \}}
\DoxyCodeLine{2105   \};}
\DoxyCodeLine{2106   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a3651e065d28fa22ad855f5b7c7eaa5ce}{ForEachMergePointRegisterState}}(target\_state, fill);}
\DoxyCodeLine{2107 }
\DoxyCodeLine{2108   \textcolor{comment}{// SetValue will have blocked registers, unblock them.}}
\DoxyCodeLine{2109   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a722303e16e26e329257d54b41b460725}{general\_registers\_}}.clear\_blocked();}
\DoxyCodeLine{2110   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4996578e4a68d9cbfee6837d3d1154e4}{double\_registers\_}}.clear\_blocked();}
\DoxyCodeLine{2111 \}}

\end{DoxyCode}


References DCHECK, and v8\+::internal\+::maglev\+::\+Load\+Merge\+State().



Referenced by Allocate\+Registers().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae14929a40920a1bb43a561d1f7da9ef1_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae14929a40920a1bb43a561d1f7da9ef1_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a5d1797b1bd24e0ebddc59297d7ad921f}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a5d1797b1bd24e0ebddc59297d7ad921f}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!IsCurrentNodeLastUseOf@{IsCurrentNodeLastUseOf}}
\index{IsCurrentNodeLastUseOf@{IsCurrentNodeLastUseOf}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{IsCurrentNodeLastUseOf()}{IsCurrentNodeLastUseOf()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Is\+Current\+Node\+Last\+Use\+Of (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$}]{node }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1785 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1785                                                                              \{}
\DoxyCodeLine{1786   \textcolor{keywordflow}{return} node-\/>live\_range().end == \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a3422ff65e920a4d86a1729a9bda6919a}{current\_node\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1NodeBase_a6f6b3d7f22a0a34aecd6b463a32f4311}{id}}();}
\DoxyCodeLine{1787 \}}

\end{DoxyCode}


References v8\+::internal\+::maglev\+::\+Value\+Node\+::\+Live\+Range\+::end, and v8\+::internal\+::maglev\+::\+Value\+Node\+::live\+\_\+range().



Referenced by Drop\+Register\+Value\+At\+End().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a5d1797b1bd24e0ebddc59297d7ad921f_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a5d1797b1bd24e0ebddc59297d7ad921f_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a5e86f69a68eae55ed01f1b0bef3b7daa}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a5e86f69a68eae55ed01f1b0bef3b7daa}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!MarkAsClobbered@{MarkAsClobbered}}
\index{MarkAsClobbered@{MarkAsClobbered}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{MarkAsClobbered()}{MarkAsClobbered()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Mark\+As\+Clobbered (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$}]{node,  }\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1AllocatedOperand}{compiler\+::\+Allocated\+Operand}} \&}]{location }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1302 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1303                                                                \{}
\DoxyCodeLine{1304   \textcolor{keywordflow}{if} (node-\/>use\_double\_register()) \{}
\DoxyCodeLine{1305     \mbox{\hyperlink{namespacev8_1_1internal_a1c5661c973602b649955ae8c21dca0c5}{DoubleRegister}} reg = location.GetDoubleRegister();}
\DoxyCodeLine{1306     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4996578e4a68d9cbfee6837d3d1154e4}{double\_registers\_}}.is\_blocked(reg));}
\DoxyCodeLine{1307     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a317d5918d7ed071a17f9c6c000693198}{DropRegisterValue}}(reg);}
\DoxyCodeLine{1308     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4996578e4a68d9cbfee6837d3d1154e4}{double\_registers\_}}.AddToFree(reg);}
\DoxyCodeLine{1309   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1310     \mbox{\hyperlink{namespacev8_1_1internal_1_1ETWJITInterface_a6782da00e5166055555c65db3a9ec7eb}{Register}} reg = location.GetRegister();}
\DoxyCodeLine{1311     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a722303e16e26e329257d54b41b460725}{general\_registers\_}}.is\_blocked(reg));}
\DoxyCodeLine{1312     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a317d5918d7ed071a17f9c6c000693198}{DropRegisterValue}}(reg);}
\DoxyCodeLine{1313     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a722303e16e26e329257d54b41b460725}{general\_registers\_}}.AddToFree(reg);}
\DoxyCodeLine{1314   \}}
\DoxyCodeLine{1315 \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), double\+\_\+registers\+\_\+, Drop\+Register\+Value(), general\+\_\+registers\+\_\+, v8\+::internal\+::compiler\+::\+Location\+Operand\+::\+Get\+Double\+Register(), v8\+::internal\+::compiler\+::\+Location\+Operand\+::\+Get\+Register(), and v8\+::internal\+::maglev\+::\+Value\+Node\+::use\+\_\+double\+\_\+register().



Referenced by Assign\+Arbitrary\+Register\+Input().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a5e86f69a68eae55ed01f1b0bef3b7daa_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a5e86f69a68eae55ed01f1b0bef3b7daa_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad89ef5232f4b2a001df6e204e43d7a20}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad89ef5232f4b2a001df6e204e43d7a20}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!MergeRegisterValues@{MergeRegisterValues}}
\index{MergeRegisterValues@{MergeRegisterValues}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{MergeRegisterValues()}{MergeRegisterValues()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Merge\+Register\+Values (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ControlNode}{Control\+Node}} $\ast$}]{control,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BasicBlock}{Basic\+Block}} $\ast$}]{target,  }\item[{\mbox{\hyperlink{classint}{int}}}]{predecessor\+\_\+id }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 2260 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2262                                                                                \{}
\DoxyCodeLine{2263   \textcolor{keywordflow}{if} (target-\/>is\_edge\_split\_block()) \{}
\DoxyCodeLine{2264     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a570a04818b0b49be804f5d5141b2c0f9}{InitializeEmptyBlockRegisterValues}}(control, target);}
\DoxyCodeLine{2265   \}}
\DoxyCodeLine{2266 }
\DoxyCodeLine{2267   MergePointRegisterState\& target\_state = target-\/>state()-\/>register\_state();}
\DoxyCodeLine{2268   \textcolor{keywordflow}{if} (!target\_state.is\_initialized()) \{}
\DoxyCodeLine{2269     \textcolor{comment}{// This is the first block we're merging, initialize the values.}}
\DoxyCodeLine{2270     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a39254d6d56299ed14508926e07d6e92e}{InitializeBranchTargetRegisterValues}}(control, target);}
\DoxyCodeLine{2271   \}}
\DoxyCodeLine{2272 }
\DoxyCodeLine{2273   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_maglev\_regalloc) \{}
\DoxyCodeLine{2274     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os() << \textcolor{stringliteral}{"{}Merging registers...\(\backslash\)n"{}};}
\DoxyCodeLine{2275   \}}
\DoxyCodeLine{2276 }
\DoxyCodeLine{2277   \textcolor{keywordtype}{int} predecessor\_count = target-\/>state()-\/>predecessor\_count();}
\DoxyCodeLine{2278   \textcolor{keyword}{auto} merge = [\&](\textcolor{keyword}{auto}\& registers, \textcolor{keyword}{auto} reg, \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a731e3ec24b7928dd9959cb6ce1d8950c}{RegisterState}}\& state) \{}
\DoxyCodeLine{2279     ValueNode* node;}
\DoxyCodeLine{2280     RegisterMerge* merge;}
\DoxyCodeLine{2281     \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_aabd8b744a56d0d325e265221865d5efa}{LoadMergeState}}(state, \&node, \&merge);}
\DoxyCodeLine{2282 }
\DoxyCodeLine{2283     \textcolor{comment}{// This isn't quite the right machine representation for Int32 nodes, but}}
\DoxyCodeLine{2284     \textcolor{comment}{// those are stored in the same registers as Tagged nodes so in this case it}}
\DoxyCodeLine{2285     \textcolor{comment}{// doesn't matter.}}
\DoxyCodeLine{2286     \mbox{\hyperlink{namespacev8_1_1internal_abe5419355372f787c28119c509343410}{MachineRepresentation}} mach\_repr = std::is\_same\_v<decltype(reg), \mbox{\hyperlink{namespacev8_1_1internal_1_1ETWJITInterface_a6782da00e5166055555c65db3a9ec7eb}{Register}}>}
\DoxyCodeLine{2287                                           ? \mbox{\hyperlink{namespacev8_1_1internal_abe5419355372f787c28119c509343410a3eee36fbbe00cfed0ef24d756afd1784}{MachineRepresentation::kTagged}}}
\DoxyCodeLine{2288                                           : \mbox{\hyperlink{namespacev8_1_1internal_abe5419355372f787c28119c509343410a78f9bf284cc7269efe0093b7c505feaa}{MachineRepresentation::kFloat64}};}
\DoxyCodeLine{2289     compiler::AllocatedOperand register\_info = \{}
\DoxyCodeLine{2290         \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LocationOperand_af9e0a334eaf58a05f9ea5b7139221140aafe479edbb7a04d078220746abc95b19}{compiler::LocationOperand::REGISTER}}, mach\_repr, reg.code()\};}
\DoxyCodeLine{2291 }
\DoxyCodeLine{2292     ValueNode* incoming = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{2293     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(registers.blocked().is\_empty());}
\DoxyCodeLine{2294     \textcolor{keywordflow}{if} (!registers.free().has(reg)) \{}
\DoxyCodeLine{2295       incoming = registers.GetValue(reg);}
\DoxyCodeLine{2296       \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03_a1734b81a6e299f173861ed10ff9eef67}{IsLiveAtTarget}}(incoming, control, target)) \{}
\DoxyCodeLine{2297         \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_maglev\_regalloc) \{}
\DoxyCodeLine{2298           \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os() << \textcolor{stringliteral}{"{}  "{}} << reg << \textcolor{stringliteral}{"{} -\/ incoming node "{}}}
\DoxyCodeLine{2299                                   << PrintNodeLabel(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae86d029ad577b8c95464c76fe78e5ed4}{graph\_labeller}}(), incoming)}
\DoxyCodeLine{2300                                   << \textcolor{stringliteral}{"{} dead at target\(\backslash\)n"{}};}
\DoxyCodeLine{2301         \}}
\DoxyCodeLine{2302         incoming = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{2303       \}}
\DoxyCodeLine{2304     \}}
\DoxyCodeLine{2305 }
\DoxyCodeLine{2306     \textcolor{keywordflow}{if} (incoming == node) \{}
\DoxyCodeLine{2307       \textcolor{comment}{// We're using the same register as the target already has. If registers}}
\DoxyCodeLine{2308       \textcolor{comment}{// are merged, add input information.}}
\DoxyCodeLine{2309       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_maglev\_regalloc) \{}
\DoxyCodeLine{2310         \textcolor{keywordflow}{if} (node) \{}
\DoxyCodeLine{2311           \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os()}
\DoxyCodeLine{2312               << \textcolor{stringliteral}{"{}  "{}} << reg << \textcolor{stringliteral}{"{} -\/ incoming node same as node: "{}}}
\DoxyCodeLine{2313               << PrintNodeLabel(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae86d029ad577b8c95464c76fe78e5ed4}{graph\_labeller}}(), node) << \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{2314         \}}
\DoxyCodeLine{2315       \}}
\DoxyCodeLine{2316       \textcolor{keywordflow}{if} (merge) merge-\/>operand(predecessor\_id) = register\_info;}
\DoxyCodeLine{2317       \textcolor{keywordflow}{return};}
\DoxyCodeLine{2318     \}}
\DoxyCodeLine{2319 }
\DoxyCodeLine{2320     \textcolor{keywordflow}{if} (node == \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{2321       \textcolor{comment}{// Don't load new nodes at loop headers.}}
\DoxyCodeLine{2322       \textcolor{keywordflow}{if} (control-\/>Is<JumpLoop>()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{2323     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!node-\/>is\_loadable() \&\& !node-\/>has\_register()) \{}
\DoxyCodeLine{2324       \textcolor{comment}{// If we have a node already, but can't load it here, we must be in a}}
\DoxyCodeLine{2325       \textcolor{comment}{// liveness hole for it, so nuke the merge state.}}
\DoxyCodeLine{2326       \textcolor{comment}{// This can only happen for conversion nodes, as they can split and take}}
\DoxyCodeLine{2327       \textcolor{comment}{// over the liveness of the node they are converting.}}
\DoxyCodeLine{2328       \textcolor{comment}{// TODO(v8:7700): Overeager DCHECK.}}
\DoxyCodeLine{2329       \textcolor{comment}{// DCHECK(node-\/>properties().is\_conversion());}}
\DoxyCodeLine{2330       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_maglev\_regalloc) \{}
\DoxyCodeLine{2331         \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os() << \textcolor{stringliteral}{"{}  "{}} << reg << \textcolor{stringliteral}{"{} -\/ can't load "{}}}
\DoxyCodeLine{2332                                 << PrintNodeLabel(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae86d029ad577b8c95464c76fe78e5ed4}{graph\_labeller}}(), node)}
\DoxyCodeLine{2333                                 << \textcolor{stringliteral}{"{}, dropping the merge\(\backslash\)n"{}};}
\DoxyCodeLine{2334       \}}
\DoxyCodeLine{2335       \textcolor{comment}{// We always need to be able to restore values on JumpLoop since the value}}
\DoxyCodeLine{2336       \textcolor{comment}{// is definitely live at the loop header.}}
\DoxyCodeLine{2337       \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(!control-\/>Is<JumpLoop>());}
\DoxyCodeLine{2338       state = \{\textcolor{keyword}{nullptr}, \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03_adc4a4e4d34f19a4cb5ebe5a10dfc166d}{initialized\_node}}\};}
\DoxyCodeLine{2339       \textcolor{keywordflow}{return};}
\DoxyCodeLine{2340     \}}
\DoxyCodeLine{2341 }
\DoxyCodeLine{2342     \textcolor{keywordflow}{if} (merge) \{}
\DoxyCodeLine{2343       \textcolor{comment}{// The register is already occupied with a different node. Figure out}}
\DoxyCodeLine{2344       \textcolor{comment}{// where that node is allocated on the incoming branch.}}
\DoxyCodeLine{2345       merge-\/>operand(predecessor\_id) = node-\/>allocation();}
\DoxyCodeLine{2346       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_maglev\_regalloc) \{}
\DoxyCodeLine{2347         \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os() << \textcolor{stringliteral}{"{}  "{}} << reg << \textcolor{stringliteral}{"{} -\/ merge: loading "{}}}
\DoxyCodeLine{2348                                 << PrintNodeLabel(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae86d029ad577b8c95464c76fe78e5ed4}{graph\_labeller}}(), node)}
\DoxyCodeLine{2349                                 << \textcolor{stringliteral}{"{} from "{}} << node-\/>allocation() << \textcolor{stringliteral}{"{} \(\backslash\)n"{}};}
\DoxyCodeLine{2350       \}}
\DoxyCodeLine{2351 }
\DoxyCodeLine{2352       \textcolor{keywordflow}{if} (incoming != \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{2353         \textcolor{comment}{// If \{incoming\} isn't loadable or available in a register, then we are}}
\DoxyCodeLine{2354         \textcolor{comment}{// in a liveness hole, and none of its uses should be reachable from}}
\DoxyCodeLine{2355         \textcolor{comment}{// \{target\} (for simplicity/speed, we only check the first and last use}}
\DoxyCodeLine{2356         \textcolor{comment}{// though).}}
\DoxyCodeLine{2357         \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(}
\DoxyCodeLine{2358             !incoming-\/>is\_loadable() \&\& !IsInRegister(target\_state, incoming),}
\DoxyCodeLine{2359             !IsForwardReachable(target, incoming-\/>current\_next\_use(),}
\DoxyCodeLine{2360                                 incoming-\/>live\_range().end));}
\DoxyCodeLine{2361       \}}
\DoxyCodeLine{2362 }
\DoxyCodeLine{2363       \textcolor{keywordflow}{return};}
\DoxyCodeLine{2364     \}}
\DoxyCodeLine{2365 }
\DoxyCodeLine{2366     \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(node == \textcolor{keyword}{nullptr}, incoming != \textcolor{keyword}{nullptr});}
\DoxyCodeLine{2367     \textcolor{keywordflow}{if} (node == \textcolor{keyword}{nullptr} \&\& !incoming-\/>is\_loadable()) \{}
\DoxyCodeLine{2368       \textcolor{comment}{// If the register is unallocated at the merge point, and the incoming}}
\DoxyCodeLine{2369       \textcolor{comment}{// value isn't spilled, that means we must have seen it already in a}}
\DoxyCodeLine{2370       \textcolor{comment}{// different register.}}
\DoxyCodeLine{2371       \textcolor{comment}{// This maybe not be true for conversion nodes, as they can split and take}}
\DoxyCodeLine{2372       \textcolor{comment}{// over the liveness of the node they are converting.}}
\DoxyCodeLine{2373       \textcolor{comment}{// TODO(v8:7700): This DCHECK is overeager, \{incoming\} can be a Phi node}}
\DoxyCodeLine{2374       \textcolor{comment}{// containing conversion nodes.}}
\DoxyCodeLine{2375       \textcolor{comment}{// DCHECK\_IMPLIES(!IsInRegister(target\_state, incoming),}}
\DoxyCodeLine{2376       \textcolor{comment}{//                incoming-\/>properties().is\_conversion());}}
\DoxyCodeLine{2377       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_maglev\_regalloc) \{}
\DoxyCodeLine{2378         \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os()}
\DoxyCodeLine{2379             << \textcolor{stringliteral}{"{}  "{}} << reg << \textcolor{stringliteral}{"{} -\/ can't load incoming "{}}}
\DoxyCodeLine{2380             << PrintNodeLabel(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae86d029ad577b8c95464c76fe78e5ed4}{graph\_labeller}}(), incoming) << \textcolor{stringliteral}{"{}, bailing out\(\backslash\)n"{}};}
\DoxyCodeLine{2381       \}}
\DoxyCodeLine{2382       \textcolor{keywordflow}{return};}
\DoxyCodeLine{2383     \}}
\DoxyCodeLine{2384 }
\DoxyCodeLine{2385     \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}} = \textcolor{keyword}{sizeof}(RegisterMerge) +}
\DoxyCodeLine{2386                         predecessor\_count * \textcolor{keyword}{sizeof}(compiler::AllocatedOperand);}
\DoxyCodeLine{2387     \textcolor{keywordtype}{void}* buffer = \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4b887f42994544d0df2da9c591601c9e}{compilation\_info\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevCompilationInfo_aed2ced4ee8e9f34c922029cb4d9f2b75}{zone}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Zone_afd293548d0a603c2af3d082ca78db81d}{Allocate}}<\textcolor{keywordtype}{void}*>(\mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}});}
\DoxyCodeLine{2388     merge = \textcolor{keyword}{new} (buffer) RegisterMerge();}
\DoxyCodeLine{2389     merge-\/>node = node == \textcolor{keyword}{nullptr} ? incoming : node;}
\DoxyCodeLine{2390 }
\DoxyCodeLine{2391     \textcolor{comment}{// If the register is unallocated at the merge point, allocation so far}}
\DoxyCodeLine{2392     \textcolor{comment}{// is the loadable slot for the incoming value. Otherwise all incoming}}
\DoxyCodeLine{2393     \textcolor{comment}{// branches agree that the current node is in the register info.}}
\DoxyCodeLine{2394     compiler::InstructionOperand info\_so\_far =}
\DoxyCodeLine{2395         node == \textcolor{keyword}{nullptr} ? incoming-\/>loadable\_slot() : register\_info;}
\DoxyCodeLine{2396 }
\DoxyCodeLine{2397     \textcolor{comment}{// Initialize the entire array with info\_so\_far since we don't know in}}
\DoxyCodeLine{2398     \textcolor{comment}{// which order we've seen the predecessors so far. Predecessors we}}
\DoxyCodeLine{2399     \textcolor{comment}{// haven't seen yet will simply overwrite their entry later.}}
\DoxyCodeLine{2400     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < predecessor\_count; \mbox{\hyperlink{namespacev8_1_1internal}{i}}++) \{}
\DoxyCodeLine{2401       merge-\/>operand(\mbox{\hyperlink{namespacev8_1_1internal}{i}}) = info\_so\_far;}
\DoxyCodeLine{2402     \}}
\DoxyCodeLine{2403     \textcolor{comment}{// If the register is unallocated at the merge point, fill in the}}
\DoxyCodeLine{2404     \textcolor{comment}{// incoming value. Otherwise find the merge-\/point node in the incoming}}
\DoxyCodeLine{2405     \textcolor{comment}{// state.}}
\DoxyCodeLine{2406     \textcolor{keywordflow}{if} (node == \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{2407       merge-\/>operand(predecessor\_id) = register\_info;}
\DoxyCodeLine{2408       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_maglev\_regalloc) \{}
\DoxyCodeLine{2409         \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os() << \textcolor{stringliteral}{"{}  "{}} << reg << \textcolor{stringliteral}{"{} -\/ new merge: loading new "{}}}
\DoxyCodeLine{2410                                 << PrintNodeLabel(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae86d029ad577b8c95464c76fe78e5ed4}{graph\_labeller}}(), incoming)}
\DoxyCodeLine{2411                                 << \textcolor{stringliteral}{"{} from "{}} << register\_info << \textcolor{stringliteral}{"{} \(\backslash\)n"{}};}
\DoxyCodeLine{2412       \}}
\DoxyCodeLine{2413     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{2414       merge-\/>operand(predecessor\_id) = node-\/>allocation();}
\DoxyCodeLine{2415       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_maglev\_regalloc) \{}
\DoxyCodeLine{2416         \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os() << \textcolor{stringliteral}{"{}  "{}} << reg << \textcolor{stringliteral}{"{} -\/ new merge: loading "{}}}
\DoxyCodeLine{2417                                 << PrintNodeLabel(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae86d029ad577b8c95464c76fe78e5ed4}{graph\_labeller}}(), node)}
\DoxyCodeLine{2418                                 << \textcolor{stringliteral}{"{} from "{}} << node-\/>allocation() << \textcolor{stringliteral}{"{} \(\backslash\)n"{}};}
\DoxyCodeLine{2419       \}}
\DoxyCodeLine{2420     \}}
\DoxyCodeLine{2421     state = \{merge, \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-regalloc_8cc_03_a4be9602b1b9cfa13463380f584b81177}{initialized\_merge}}\};}
\DoxyCodeLine{2422   \};}
\DoxyCodeLine{2423   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a3651e065d28fa22ad855f5b7c7eaa5ce}{ForEachMergePointRegisterState}}(target\_state, merge);}
\DoxyCodeLine{2424 \}}

\end{DoxyCode}


References v8\+::internal\+::maglev\+::\+Value\+Node\+::allocation(), CHECK, v8\+::internal\+::maglev\+::\+Value\+Node\+::current\+\_\+next\+\_\+use(), DCHECK, DCHECK\+\_\+\+IMPLIES, v8\+::internal\+::maglev\+::\+Value\+Node\+::\+Live\+Range\+::end, v8\+::internal\+::maglev\+::\+Value\+Node\+::has\+\_\+register(), v8\+::internal\+::maglev\+::anonymous\+\_\+namespace\{maglev-\/regalloc.\+cc\}\+::initialized\+\_\+merge, v8\+::internal\+::maglev\+::anonymous\+\_\+namespace\{maglev-\/regalloc.\+cc\}\+::initialized\+\_\+node, v8\+::internal\+::maglev\+::\+Node\+Base\+::\+Is(), v8\+::internal\+::maglev\+::\+Basic\+Block\+::is\+\_\+edge\+\_\+split\+\_\+block(), v8\+::internal\+::maglev\+::\+Value\+Node\+::is\+\_\+loadable(), v8\+::internal\+::maglev\+::anonymous\+\_\+namespace\{maglev-\/regalloc.\+cc\}\+::\+Is\+Live\+At\+Target(), v8\+::internal\+::maglev\+::\+Value\+Node\+::live\+\_\+range(), v8\+::internal\+::maglev\+::\+Value\+Node\+::loadable\+\_\+slot(), v8\+::internal\+::maglev\+::\+Load\+Merge\+State(), v8\+::internal\+::maglev\+::\+Register\+Merge\+::node, v8\+::internal\+::maglev\+::\+Register\+Merge\+::operand(), v8\+::internal\+::maglev\+::\+Merge\+Point\+Interpreter\+Frame\+State\+::predecessor\+\_\+count(), v8\+::internal\+::maglev\+::\+Merge\+Point\+Interpreter\+Frame\+State\+::register\+\_\+state(), size(), v8\+::internal\+::maglev\+::\+Basic\+Block\+::state(), and v8\+::internal\+::v8\+\_\+flags.



Referenced by Allocate\+Control\+Node().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad89ef5232f4b2a001df6e204e43d7a20_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad89ef5232f4b2a001df6e204e43d7a20_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a1d5b3363511153288ccfc449ce676cd4}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a1d5b3363511153288ccfc449ce676cd4}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!PickRegisterToFree@{PickRegisterToFree}}
\index{PickRegisterToFree@{PickRegisterToFree}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{PickRegisterToFree()}{PickRegisterToFree()}}
{\footnotesize\ttfamily template$<$typename RegisterT $>$ \\
RegisterT v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Pick\+Register\+To\+Free (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1RegListBase}{Reg\+List\+Base}}$<$ RegisterT $>$}]{reserved }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1714 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1715                                      \{}
\DoxyCodeLine{1716   RegisterFrameState<RegisterT>\& registers = GetRegisterFrameState<RegisterT>();}
\DoxyCodeLine{1717   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_maglev\_regalloc) \{}
\DoxyCodeLine{1718     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os() << \textcolor{stringliteral}{"{}  need to free a register... "{}};}
\DoxyCodeLine{1719   \}}
\DoxyCodeLine{1720   \textcolor{keywordtype}{int} furthest\_use = 0;}
\DoxyCodeLine{1721   RegisterT best = \mbox{\hyperlink{namespacev8_1_1internal_a00a63531b1853ad102a9dcd7636d385a}{RegisterT::no\_reg}}();}
\DoxyCodeLine{1722   \textcolor{keywordflow}{for} (RegisterT reg : (registers.used() -\/ reserved)) \{}
\DoxyCodeLine{1723     ValueNode* \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} = registers.GetValue(reg);}
\DoxyCodeLine{1724 }
\DoxyCodeLine{1725     \textcolor{comment}{// The cheapest register to clear is a register containing a value that's}}
\DoxyCodeLine{1726     \textcolor{comment}{// contained in another register as well. Since we found the register while}}
\DoxyCodeLine{1727     \textcolor{comment}{// looping over unblocked registers, we can simply use this register.}}
\DoxyCodeLine{1728     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}-\/>num\_registers() > 1) \{}
\DoxyCodeLine{1729       best = reg;}
\DoxyCodeLine{1730       \textcolor{keywordflow}{break};}
\DoxyCodeLine{1731     \}}
\DoxyCodeLine{1732     \textcolor{keywordtype}{int} \mbox{\hyperlink{flag-definitions_8h_a2e89dcc15f540da766f7767b13e377e1}{use}} = \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}-\/>current\_next\_use();}
\DoxyCodeLine{1733     \textcolor{keywordflow}{if} (\mbox{\hyperlink{flag-definitions_8h_a2e89dcc15f540da766f7767b13e377e1}{use}} > furthest\_use) \{}
\DoxyCodeLine{1734       furthest\_use = \mbox{\hyperlink{flag-definitions_8h_a2e89dcc15f540da766f7767b13e377e1}{use}};}
\DoxyCodeLine{1735       best = reg;}
\DoxyCodeLine{1736     \}}
\DoxyCodeLine{1737   \}}
\DoxyCodeLine{1738   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_maglev\_regalloc) \{}
\DoxyCodeLine{1739     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os()}
\DoxyCodeLine{1740         << \textcolor{stringliteral}{"{}  chose "{}} << best << \textcolor{stringliteral}{"{} with next use "{}} << furthest\_use << \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{1741   \}}
\DoxyCodeLine{1742   \textcolor{keywordflow}{return} best;}
\DoxyCodeLine{1743 \}}

\end{DoxyCode}


References v8\+::internal\+::maglev\+::\+Register\+Frame\+State$<$ Register\+T $>$\+::\+Get\+Value(), v8\+::internal\+::no\+\_\+reg, use(), v8\+::internal\+::maglev\+::\+Register\+Frame\+State$<$ Register\+T $>$\+::used(), v8\+::internal\+::v8\+\_\+flags, and v8\+::internal\+::value.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a1d5b3363511153288ccfc449ce676cd4_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a009a68b04f473b088b7797342dbd4fcd}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a009a68b04f473b088b7797342dbd4fcd}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!PrintLiveRegs@{PrintLiveRegs}}
\index{PrintLiveRegs@{PrintLiveRegs}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{PrintLiveRegs()}{PrintLiveRegs()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Print\+Live\+Regs (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 350 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{350                                                            \{}
\DoxyCodeLine{351   \textcolor{keywordtype}{bool} first = \textcolor{keyword}{true};}
\DoxyCodeLine{352   \textcolor{keyword}{auto} print = [\&](\textcolor{keyword}{auto} reg, ValueNode* node) \{}
\DoxyCodeLine{353     \textcolor{keywordflow}{if} (first) \{}
\DoxyCodeLine{354       first = \textcolor{keyword}{false};}
\DoxyCodeLine{355     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{356       \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os() << \textcolor{stringliteral}{"{}, "{}};}
\DoxyCodeLine{357     \}}
\DoxyCodeLine{358     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os() << reg << \textcolor{stringliteral}{"{}=v"{}} << node-\/>id();}
\DoxyCodeLine{359   \};}
\DoxyCodeLine{360   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a722303e16e26e329257d54b41b460725}{general\_registers\_}}.ForEachUsedRegister(print);}
\DoxyCodeLine{361   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4996578e4a68d9cbfee6837d3d1154e4}{double\_registers\_}}.ForEachUsedRegister(print);}
\DoxyCodeLine{362 \}}

\end{DoxyCode}


References double\+\_\+registers\+\_\+, general\+\_\+registers\+\_\+, and printing\+\_\+visitor\+\_\+.



Referenced by Allocate\+Node(), and Allocate\+Registers().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a009a68b04f473b088b7797342dbd4fcd_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a8d48629f28437ad158e0ed14ac120306}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a8d48629f28437ad158e0ed14ac120306}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!SaveRegisterSnapshot@{SaveRegisterSnapshot}}
\index{SaveRegisterSnapshot@{SaveRegisterSnapshot}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{SaveRegisterSnapshot()}{SaveRegisterSnapshot()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Save\+Register\+Snapshot (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1NodeBase}{Node\+Base}} $\ast$}]{node }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1614 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1614                                                                           \{}
\DoxyCodeLine{1615   RegisterSnapshot snapshot;}
\DoxyCodeLine{1616   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a722303e16e26e329257d54b41b460725}{general\_registers\_}}.ForEachUsedRegister([\&](\mbox{\hyperlink{namespacev8_1_1internal_1_1ETWJITInterface_a6782da00e5166055555c65db3a9ec7eb}{Register}} reg, ValueNode* node) \{}
\DoxyCodeLine{1617     \textcolor{keywordflow}{if} (node-\/>properties().value\_representation() ==}
\DoxyCodeLine{1618         \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a3eee36fbbe00cfed0ef24d756afd1784}{ValueRepresentation::kTagged}}) \{}
\DoxyCodeLine{1619       snapshot.live\_tagged\_registers.set(reg);}
\DoxyCodeLine{1620     \}}
\DoxyCodeLine{1621   \});}
\DoxyCodeLine{1622   snapshot.live\_registers = \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a722303e16e26e329257d54b41b460725}{general\_registers\_}}.used();}
\DoxyCodeLine{1623   snapshot.live\_double\_registers = \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4996578e4a68d9cbfee6837d3d1154e4}{double\_registers\_}}.used();}
\DoxyCodeLine{1624   \textcolor{comment}{// If a value node, then the result register is removed from the snapshot.}}
\DoxyCodeLine{1625   \textcolor{keywordflow}{if} (ValueNode* value\_node = node-\/>TryCast<ValueNode>()) \{}
\DoxyCodeLine{1626     \textcolor{keywordflow}{if} (value\_node-\/>use\_double\_register()) \{}
\DoxyCodeLine{1627       snapshot.live\_double\_registers.clear(}
\DoxyCodeLine{1628           \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a4b4b2553fa2780280e3c45557932d346}{ToDoubleRegister}}(value\_node-\/>result()));}
\DoxyCodeLine{1629     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1630       \mbox{\hyperlink{namespacev8_1_1internal_1_1ETWJITInterface_a6782da00e5166055555c65db3a9ec7eb}{Register}} reg = \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a700520f203ccbba356ef257455abc3e9}{ToRegister}}(value\_node-\/>result());}
\DoxyCodeLine{1631       snapshot.live\_registers.clear(reg);}
\DoxyCodeLine{1632       snapshot.live\_tagged\_registers.clear(reg);}
\DoxyCodeLine{1633     \}}
\DoxyCodeLine{1634   \}}
\DoxyCodeLine{1635   \textcolor{keywordflow}{if} (node-\/>properties().can\_eager\_deopt()) \{}
\DoxyCodeLine{1636     \textcolor{comment}{// If we eagerly deopt after a deferred call, the registers saved by the}}
\DoxyCodeLine{1637     \textcolor{comment}{// runtime call might not include the inputs into the eager deopt. Here, we}}
\DoxyCodeLine{1638     \textcolor{comment}{// make sure that all the eager deopt registers are included in the}}
\DoxyCodeLine{1639     \textcolor{comment}{// snapshot.}}
\DoxyCodeLine{1640     InputLocation* input = node-\/>eager\_deopt\_info()-\/>input\_locations();}
\DoxyCodeLine{1641     node-\/>eager\_deopt\_info()-\/>ForEachInput([\&](ValueNode* node) \{}
\DoxyCodeLine{1642       \textcolor{keywordflow}{if} (input-\/>IsAnyRegister()) \{}
\DoxyCodeLine{1643         if (input-\/>IsDoubleRegister()) \{}
\DoxyCodeLine{1644           snapshot.live\_double\_registers.set(input-\/>AssignedDoubleRegister());}
\DoxyCodeLine{1645         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1646           snapshot.live\_registers.set(input-\/>AssignedGeneralRegister());}
\DoxyCodeLine{1647           if (node-\/>is\_tagged()) \{}
\DoxyCodeLine{1648             snapshot.live\_tagged\_registers.set(}
\DoxyCodeLine{1649                 input-\/>AssignedGeneralRegister());}
\DoxyCodeLine{1650           \}}
\DoxyCodeLine{1651         \}}
\DoxyCodeLine{1652       \}}
\DoxyCodeLine{1653       input++;}
\DoxyCodeLine{1654     \});}
\DoxyCodeLine{1655   \}}
\DoxyCodeLine{1656   node-\/>set\_register\_snapshot(snapshot);}
\DoxyCodeLine{1657 \}}

\end{DoxyCode}


References v8\+::internal\+::maglev\+::\+Op\+Properties\+::can\+\_\+eager\+\_\+deopt(), v8\+::internal\+::\+Reg\+List\+Base$<$ Register\+T $>$\+::clear(), double\+\_\+registers\+\_\+, v8\+::internal\+::maglev\+::\+Node\+Base\+::eager\+\_\+deopt\+\_\+info(), v8\+::internal\+::maglev\+::\+Eager\+Deopt\+Info\+::\+For\+Each\+Input(), general\+\_\+registers\+\_\+, v8\+::internal\+::maglev\+::\+Deopt\+Info\+::input\+\_\+locations(), v8\+::internal\+::maglev\+::\+Value\+Location\+::\+Is\+Any\+Register(), v8\+::internal\+::maglev\+::k\+Tagged, v8\+::internal\+::maglev\+::\+Register\+Snapshot\+::live\+\_\+double\+\_\+registers, v8\+::internal\+::maglev\+::\+Register\+Snapshot\+::live\+\_\+registers, v8\+::internal\+::maglev\+::\+Register\+Snapshot\+::live\+\_\+tagged\+\_\+registers, v8\+::internal\+::maglev\+::\+Node\+Base\+::properties(), v8\+::internal\+::maglev\+::\+To\+Double\+Register(), v8\+::internal\+::maglev\+::\+To\+Register(), v8\+::internal\+::maglev\+::\+Node\+Base\+::\+Try\+Cast(), and v8\+::internal\+::maglev\+::\+Op\+Properties\+::value\+\_\+representation().



Referenced by Allocate\+Node().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a8d48629f28437ad158e0ed14ac120306_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a8d48629f28437ad158e0ed14ac120306_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad6946dc846bb4c82c24ab786b960b2f6}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad6946dc846bb4c82c24ab786b960b2f6}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!SetLoopPhiRegisterHint@{SetLoopPhiRegisterHint}}
\index{SetLoopPhiRegisterHint@{SetLoopPhiRegisterHint}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{SetLoopPhiRegisterHint()}{SetLoopPhiRegisterHint()}}
{\footnotesize\ttfamily template$<$typename RegisterT $>$ \\
void v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Set\+Loop\+Phi\+Register\+Hint (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Phi}{Phi}} $\ast$}]{phi,  }\item[{RegisterT}]{reg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1157 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1158                                                                              \{}
\DoxyCodeLine{1159   compiler::UnallocatedOperand hint(}
\DoxyCodeLine{1160       std::is\_same\_v<RegisterT, Register>}
\DoxyCodeLine{1161           ? \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1UnallocatedOperand_a7bdb03b8ffc2cd9db894dc3f3ded2030a269dfcae7aa411715a3ec08ba3449e53}{compiler::UnallocatedOperand::FIXED\_REGISTER}}}
\DoxyCodeLine{1162           : \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1UnallocatedOperand_a7bdb03b8ffc2cd9db894dc3f3ded2030a4544caa3bb5c78f8d96a2ddc3476c72d}{compiler::UnallocatedOperand::FIXED\_FP\_REGISTER}},}
\DoxyCodeLine{1163       reg.code(), \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_aa43cf0651586da94be8d1801deb0d30f}{kNoVreg}});}
\DoxyCodeLine{1164   \textcolor{keywordflow}{for} (Input\& input : *phi) \{}
\DoxyCodeLine{1165     \textcolor{keywordflow}{if} (input.node()-\/>id() > phi-\/>id()) \{}
\DoxyCodeLine{1166       input.node()-\/>SetHint(hint);}
\DoxyCodeLine{1167     \}}
\DoxyCodeLine{1168   \}}
\DoxyCodeLine{1169 \}}

\end{DoxyCode}


References v8\+::internal\+::compiler\+::\+Unallocated\+Operand\+::\+FIXED\+\_\+\+FP\+\_\+\+REGISTER, v8\+::internal\+::compiler\+::\+Unallocated\+Operand\+::\+FIXED\+\_\+\+REGISTER, and v8\+::internal\+::maglev\+::k\+No\+Vreg.



Referenced by Allocate\+Registers(), and Try\+Allocate\+To\+Input().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad6946dc846bb4c82c24ab786b960b2f6_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_aa08f61a5daa2f87c952d32f3a333d237}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_aa08f61a5daa2f87c952d32f3a333d237}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!Spill@{Spill}}
\index{Spill@{Spill}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{Spill()}{Spill()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Spill (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$}]{node }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1232 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1232                                                             \{}
\DoxyCodeLine{1233   \textcolor{keywordflow}{if} (node-\/>is\_loadable()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{1234   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_adc630771cce27ef848f70ba989b5444c}{AllocateSpillSlot}}(node);}
\DoxyCodeLine{1235   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_maglev\_regalloc) \{}
\DoxyCodeLine{1236     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os()}
\DoxyCodeLine{1237         << \textcolor{stringliteral}{"{}  spill: "{}} << node-\/>spill\_slot() << \textcolor{stringliteral}{"{} ← "{}}}
\DoxyCodeLine{1238         << PrintNodeLabel(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae86d029ad577b8c95464c76fe78e5ed4}{graph\_labeller}}(), node) << std::endl;}
\DoxyCodeLine{1239   \}}
\DoxyCodeLine{1240 \}}

\end{DoxyCode}


References Allocate\+Spill\+Slot(), graph\+\_\+labeller(), v8\+::internal\+::maglev\+::\+Value\+Node\+::is\+\_\+loadable(), printing\+\_\+visitor\+\_\+, v8\+::internal\+::maglev\+::\+Value\+Node\+::spill\+\_\+slot(), and v8\+::internal\+::v8\+\_\+flags.



Referenced by Allocate\+Control\+Node(), Allocate\+Eager\+Deopt(), Allocate\+Lazy\+Deopt(), Allocate\+Node(), Drop\+Register\+Value(), Spill\+And\+Clear\+Registers(), and Spill\+Registers().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_aa08f61a5daa2f87c952d32f3a333d237_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_aa08f61a5daa2f87c952d32f3a333d237_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a23b7fc6e6ad48029a3602170c485ea4a}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a23b7fc6e6ad48029a3602170c485ea4a}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!SpillAndClearRegisters@{SpillAndClearRegisters}}
\index{SpillAndClearRegisters@{SpillAndClearRegisters}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{SpillAndClearRegisters()}{SpillAndClearRegisters()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Spill\+And\+Clear\+Registers (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1609 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1609                                                               \{}
\DoxyCodeLine{1610   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a23b7fc6e6ad48029a3602170c485ea4a}{SpillAndClearRegisters}}(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a722303e16e26e329257d54b41b460725}{general\_registers\_}});}
\DoxyCodeLine{1611   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a23b7fc6e6ad48029a3602170c485ea4a}{SpillAndClearRegisters}}(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4996578e4a68d9cbfee6837d3d1154e4}{double\_registers\_}});}
\DoxyCodeLine{1612 \}}

\end{DoxyCode}


References double\+\_\+registers\+\_\+, and general\+\_\+registers\+\_\+.



Referenced by Allocate\+Control\+Node(), and Allocate\+Node().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a23b7fc6e6ad48029a3602170c485ea4a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a70c99fc15ef1a6213e2256e284cbdd5b}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a70c99fc15ef1a6213e2256e284cbdd5b}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!SpillAndClearRegisters@{SpillAndClearRegisters}}
\index{SpillAndClearRegisters@{SpillAndClearRegisters}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{SpillAndClearRegisters()}{SpillAndClearRegisters()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$typename RegisterT $>$ \\
void v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Spill\+And\+Clear\+Registers (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1RegisterFrameState}{Register\+Frame\+State}}$<$ RegisterT $>$ \&}]{registers }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1594 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1595                                               \{}
\DoxyCodeLine{1596   \textcolor{keywordflow}{while} (registers.used() != registers.empty()) \{}
\DoxyCodeLine{1597     RegisterT reg = registers.used().first();}
\DoxyCodeLine{1598     ValueNode* node = registers.GetValue(reg);}
\DoxyCodeLine{1599     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_maglev\_regalloc) \{}
\DoxyCodeLine{1600       \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os() << \textcolor{stringliteral}{"{}  clearing registers with "{}}}
\DoxyCodeLine{1601                               << PrintNodeLabel(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae86d029ad577b8c95464c76fe78e5ed4}{graph\_labeller}}(), node) << \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{1602     \}}
\DoxyCodeLine{1603     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_aa08f61a5daa2f87c952d32f3a333d237}{Spill}}(node);}
\DoxyCodeLine{1604     registers.FreeRegistersUsedBy(node);}
\DoxyCodeLine{1605     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!registers.used().has(reg));}
\DoxyCodeLine{1606   \}}
\DoxyCodeLine{1607 \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), v8\+::internal\+::maglev\+::\+Register\+Frame\+State$<$ Register\+T $>$\+::empty(), v8\+::internal\+::maglev\+::\+Register\+Frame\+State$<$ Register\+T $>$\+::\+Free\+Registers\+Used\+By(), v8\+::internal\+::maglev\+::\+Register\+Frame\+State$<$ Register\+T $>$\+::\+Get\+Value(), graph\+\_\+labeller(), printing\+\_\+visitor\+\_\+, Spill(), v8\+::internal\+::maglev\+::\+Register\+Frame\+State$<$ Register\+T $>$\+::used(), and v8\+::internal\+::v8\+\_\+flags.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a70c99fc15ef1a6213e2256e284cbdd5b_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ac2fcb5fdd4372f5ccaa516822fe87058}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ac2fcb5fdd4372f5ccaa516822fe87058}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!SpillRegisters@{SpillRegisters}}
\index{SpillRegisters@{SpillRegisters}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{SpillRegisters()}{SpillRegisters()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Spill\+Registers (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1587 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1587                                                       \{}
\DoxyCodeLine{1588   \textcolor{keyword}{auto} spill = [\&](\textcolor{keyword}{auto} reg, ValueNode* node) \{ \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_aa08f61a5daa2f87c952d32f3a333d237}{Spill}}(node); \};}
\DoxyCodeLine{1589   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a722303e16e26e329257d54b41b460725}{general\_registers\_}}.ForEachUsedRegister(spill);}
\DoxyCodeLine{1590   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4996578e4a68d9cbfee6837d3d1154e4}{double\_registers\_}}.ForEachUsedRegister(spill);}
\DoxyCodeLine{1591 \}}

\end{DoxyCode}


References double\+\_\+registers\+\_\+, general\+\_\+registers\+\_\+, and Spill().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ac2fcb5fdd4372f5ccaa516822fe87058_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a2d142c2936add8573ad2f994ee53718e}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a2d142c2936add8573ad2f994ee53718e}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!TryAllocateToInput@{TryAllocateToInput}}
\index{TryAllocateToInput@{TryAllocateToInput}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{TryAllocateToInput()}{TryAllocateToInput()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Try\+Allocate\+To\+Input (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Phi}{Phi}} $\ast$}]{phi }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1171 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1171                                                                   \{}
\DoxyCodeLine{1172   \textcolor{comment}{// Try allocate phis to a register used by any of the inputs.}}
\DoxyCodeLine{1173   \textcolor{keywordflow}{for} (Input\& input : *phi) \{}
\DoxyCodeLine{1174     \textcolor{keywordflow}{if} (input.operand().IsRegister()) \{}
\DoxyCodeLine{1175       \textcolor{comment}{// We assume Phi nodes only point to tagged values, and so they use a}}
\DoxyCodeLine{1176       \textcolor{comment}{// general register.}}
\DoxyCodeLine{1177       \mbox{\hyperlink{namespacev8_1_1internal_1_1ETWJITInterface_a6782da00e5166055555c65db3a9ec7eb}{Register}} reg = input.AssignedGeneralRegister();}
\DoxyCodeLine{1178       \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a722303e16e26e329257d54b41b460725}{general\_registers\_}}.unblocked\_free().has(reg)) \{}
\DoxyCodeLine{1179         phi-\/>result().SetAllocated(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a6a326398de3c6a5072eea22327c7746d}{ForceAllocate}}(reg, phi));}
\DoxyCodeLine{1180         \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad6946dc846bb4c82c24ab786b960b2f6}{SetLoopPhiRegisterHint}}(phi, reg);}
\DoxyCodeLine{1181         \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a722303e16e26e329257d54b41b460725}{general\_registers\_}}.GetValue(reg), phi);}
\DoxyCodeLine{1182         \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_maglev\_regalloc) \{}
\DoxyCodeLine{1183           \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>Process(phi, ProcessingState(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a07f80e3d7f35007da11101e93ebda0d5}{block\_it\_}}));}
\DoxyCodeLine{1184           \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os()}
\DoxyCodeLine{1185               << \textcolor{stringliteral}{"{}phi (reuse) "{}} << input.operand() << std::endl;}
\DoxyCodeLine{1186         \}}
\DoxyCodeLine{1187         \textcolor{keywordflow}{return};}
\DoxyCodeLine{1188       \}}
\DoxyCodeLine{1189     \}}
\DoxyCodeLine{1190   \}}
\DoxyCodeLine{1191 \}}

\end{DoxyCode}


References block\+\_\+it\+\_\+, DCHECK\+\_\+\+EQ, Force\+Allocate(), general\+\_\+registers\+\_\+, printing\+\_\+visitor\+\_\+, Set\+Loop\+Phi\+Register\+Hint(), and v8\+::internal\+::v8\+\_\+flags.



Referenced by Allocate\+Registers().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a2d142c2936add8573ad2f994ee53718e_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a2d142c2936add8573ad2f994ee53718e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a8aa7826d195c03e8078109238f87306a}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a8aa7826d195c03e8078109238f87306a}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!UpdateUse@{UpdateUse}}
\index{UpdateUse@{UpdateUse}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{UpdateUse()}{UpdateUse()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Update\+Use (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Input}{Input}} $\ast$}]{input }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 188 of file maglev-\/regalloc.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{188 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a8aa7826d195c03e8078109238f87306a}{UpdateUse}}(input-\/>node(), input); \}}

\end{DoxyCode}


References v8\+::internal\+::maglev\+::\+Input\+::node(), and Update\+Use().



Referenced by Allocate\+Control\+Node(), Allocate\+Eager\+Deopt(), Allocate\+Lazy\+Deopt(), Allocate\+Registers(), Assign\+Any\+Input(), Assign\+Arbitrary\+Register\+Input(), Assign\+Fixed\+Input(), and Update\+Use().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a8aa7826d195c03e8078109238f87306a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a8aa7826d195c03e8078109238f87306a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a0d32cc7db6fefb0b6e07cd678ac0eb89}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a0d32cc7db6fefb0b6e07cd678ac0eb89}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!UpdateUse@{UpdateUse}}
\index{UpdateUse@{UpdateUse}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{UpdateUse()}{UpdateUse()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Update\+Use (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$}]{node,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1InputLocation}{Input\+Location}} $\ast$}]{input\+\_\+location }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 633 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{634                                                     \{}
\DoxyCodeLine{635   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_maglev\_regalloc) \{}
\DoxyCodeLine{636     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os()}
\DoxyCodeLine{637         << \textcolor{stringliteral}{"{}Using "{}} << PrintNodeLabel(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae86d029ad577b8c95464c76fe78e5ed4}{graph\_labeller}}(), node) << \textcolor{stringliteral}{"{}...\(\backslash\)n"{}};}
\DoxyCodeLine{638   \}}
\DoxyCodeLine{639 }
\DoxyCodeLine{640   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!node-\/>has\_no\_more\_uses());}
\DoxyCodeLine{641 }
\DoxyCodeLine{642   \textcolor{comment}{// Update the next use.}}
\DoxyCodeLine{643   node-\/>advance\_next\_use(input\_location-\/>next\_use\_id());}
\DoxyCodeLine{644 }
\DoxyCodeLine{645   \textcolor{keywordflow}{if} (!node-\/>has\_no\_more\_uses()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{646 }
\DoxyCodeLine{647   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_maglev\_regalloc) \{}
\DoxyCodeLine{648     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}{printing\_visitor\_}}-\/>os()}
\DoxyCodeLine{649         << \textcolor{stringliteral}{"{}  freeing "{}} << PrintNodeLabel(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae86d029ad577b8c95464c76fe78e5ed4}{graph\_labeller}}(), node) << \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{650   \}}
\DoxyCodeLine{651 }
\DoxyCodeLine{652   \textcolor{comment}{// If a value is dead, make sure it's cleared.}}
\DoxyCodeLine{653   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a2e15656b2c14a4f37e8bac2957abdd70}{FreeRegistersUsedBy}}(node);}
\DoxyCodeLine{654 }
\DoxyCodeLine{655   \textcolor{comment}{// If the stack slot is a local slot, free it so it can be reused.}}
\DoxyCodeLine{656   \textcolor{keywordflow}{if} (node-\/>is\_spilled()) \{}
\DoxyCodeLine{657     compiler::AllocatedOperand slot = node-\/>spill\_slot();}
\DoxyCodeLine{658     \textcolor{keywordflow}{if} (slot.index() > 0) \{}
\DoxyCodeLine{659       SpillSlots\& slots =}
\DoxyCodeLine{660           slot.representation() == \mbox{\hyperlink{namespacev8_1_1internal_abe5419355372f787c28119c509343410a3eee36fbbe00cfed0ef24d756afd1784}{MachineRepresentation::kTagged}} ? \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ac2b88b62a9fe52e59c0ccc6eb0015eda}{tagged\_}}}
\DoxyCodeLine{661                                                                   : \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_aa9e586d4d110daacc3300195c05fea21}{untagged\_}};}
\DoxyCodeLine{662       \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(}
\DoxyCodeLine{663           slots.free\_slots.size() > 0,}
\DoxyCodeLine{664           slots.free\_slots.back().freed\_at\_position <= node-\/>live\_range().end);}
\DoxyCodeLine{665       \textcolor{keywordtype}{bool} double\_slot =}
\DoxyCodeLine{666           \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_aad2426e234f3604b6298c3ba8d482056}{IsDoubleRepresentation}}(node-\/>properties().value\_representation());}
\DoxyCodeLine{667       slots.free\_slots.emplace\_back(slot.index(), node-\/>live\_range().end,}
\DoxyCodeLine{668                                     double\_slot);}
\DoxyCodeLine{669     \}}
\DoxyCodeLine{670   \}}
\DoxyCodeLine{671 \}}

\end{DoxyCode}


References v8\+::internal\+::maglev\+::\+Value\+Node\+::advance\+\_\+next\+\_\+use(), v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+IMPLIES, v8\+::internal\+::maglev\+::\+Value\+Node\+::\+Live\+Range\+::end, v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Spill\+Slots\+::free\+\_\+slots, Free\+Registers\+Used\+By(), graph\+\_\+labeller(), v8\+::internal\+::maglev\+::\+Value\+Node\+::has\+\_\+no\+\_\+more\+\_\+uses(), v8\+::internal\+::compiler\+::\+Location\+Operand\+::index(), v8\+::internal\+::maglev\+::\+Value\+Node\+::is\+\_\+spilled(), v8\+::internal\+::maglev\+::\+Is\+Double\+Representation(), v8\+::internal\+::k\+Tagged, v8\+::internal\+::maglev\+::\+Value\+Node\+::live\+\_\+range(), v8\+::internal\+::maglev\+::\+Input\+Location\+::next\+\_\+use\+\_\+id(), printing\+\_\+visitor\+\_\+, v8\+::internal\+::maglev\+::\+Node\+Base\+::properties(), v8\+::internal\+::compiler\+::\+Location\+Operand\+::representation(), v8\+::internal\+::maglev\+::\+Value\+Node\+::spill\+\_\+slot(), tagged\+\_\+, untagged\+\_\+, v8\+::internal\+::v8\+\_\+flags, and v8\+::internal\+::maglev\+::\+Op\+Properties\+::value\+\_\+representation().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a0d32cc7db6fefb0b6e07cd678ac0eb89_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a69b9790efed1973a771224a57d3f1ee2}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a69b9790efed1973a771224a57d3f1ee2}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!VerifyInputs@{VerifyInputs}}
\index{VerifyInputs@{VerifyInputs}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{VerifyInputs()}{VerifyInputs()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Verify\+Inputs (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1NodeBase}{Node\+Base}} $\ast$}]{node }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1483 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1483                                                                   \{}
\DoxyCodeLine{1484 \textcolor{preprocessor}{\#ifdef DEBUG}}
\DoxyCodeLine{1485   \textcolor{keywordflow}{for} (Input\& input : *node) \{}
\DoxyCodeLine{1486     \textcolor{keywordflow}{if} (input.operand().IsRegister()) \{}
\DoxyCodeLine{1487       \mbox{\hyperlink{namespacev8_1_1internal_1_1ETWJITInterface_a6782da00e5166055555c65db3a9ec7eb}{Register}} reg =}
\DoxyCodeLine{1488           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LocationOperand_a14a0a8abb4b6ac796e0fae75948a270e}{compiler::AllocatedOperand::cast}}(input.operand()).\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LocationOperand_a4d0fbceae25211d1d46526546eb53c0b}{GetRegister}}();}
\DoxyCodeLine{1489       \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a722303e16e26e329257d54b41b460725}{general\_registers\_}}.GetValueMaybeFreeButBlocked(reg) != input.node()) \{}
\DoxyCodeLine{1490         \mbox{\hyperlink{src_2base_2logging_8h_a0d093cb749cfc7ab5993726392df681f}{FATAL}}(\textcolor{stringliteral}{"{}Input node n\%d is not in expected register \%s"{}},}
\DoxyCodeLine{1491               \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae86d029ad577b8c95464c76fe78e5ed4}{graph\_labeller}}()-\/>\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_aa5fc9a1f19d4871c5e3570ae0e5507a6}{NodeId}}(input.node()), RegisterName(reg));}
\DoxyCodeLine{1492       \}}
\DoxyCodeLine{1493     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (input.operand().IsDoubleRegister()) \{}
\DoxyCodeLine{1494       \mbox{\hyperlink{namespacev8_1_1internal_a1c5661c973602b649955ae8c21dca0c5}{DoubleRegister}} reg =}
\DoxyCodeLine{1495           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LocationOperand_a14a0a8abb4b6ac796e0fae75948a270e}{compiler::AllocatedOperand::cast}}(input.operand()).\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LocationOperand_ab1e52ef65a34122d28d5c75d064f82bc}{GetDoubleRegister}}();}
\DoxyCodeLine{1496       \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4996578e4a68d9cbfee6837d3d1154e4}{double\_registers\_}}.GetValueMaybeFreeButBlocked(reg) != input.node()) \{}
\DoxyCodeLine{1497         \mbox{\hyperlink{src_2base_2logging_8h_a0d093cb749cfc7ab5993726392df681f}{FATAL}}(\textcolor{stringliteral}{"{}Input node n\%d is not in expected register \%s"{}},}
\DoxyCodeLine{1498               \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae86d029ad577b8c95464c76fe78e5ed4}{graph\_labeller}}()-\/>\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_aa5fc9a1f19d4871c5e3570ae0e5507a6}{NodeId}}(input.node()), RegisterName(reg));}
\DoxyCodeLine{1499       \}}
\DoxyCodeLine{1500     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1501       \textcolor{keywordflow}{if} (input.operand() != input.node()-\/>allocation()) \{}
\DoxyCodeLine{1502         std::stringstream ss;}
\DoxyCodeLine{1503         ss << input.operand();}
\DoxyCodeLine{1504         \mbox{\hyperlink{src_2base_2logging_8h_a0d093cb749cfc7ab5993726392df681f}{FATAL}}(\textcolor{stringliteral}{"{}Input node n\%d is not in operand \%s"{}},}
\DoxyCodeLine{1505               \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae86d029ad577b8c95464c76fe78e5ed4}{graph\_labeller}}()-\/>\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_aa5fc9a1f19d4871c5e3570ae0e5507a6}{NodeId}}(input.node()), ss.str().c\_str());}
\DoxyCodeLine{1506       \}}
\DoxyCodeLine{1507     \}}
\DoxyCodeLine{1508   \}}
\DoxyCodeLine{1509 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{1510 \}}

\end{DoxyCode}


References v8\+::internal\+::compiler\+::\+Location\+Operand\+::cast(), double\+\_\+registers\+\_\+, FATAL, general\+\_\+registers\+\_\+, v8\+::internal\+::compiler\+::\+Location\+Operand\+::\+Get\+Double\+Register(), v8\+::internal\+::compiler\+::\+Location\+Operand\+::\+Get\+Register(), and graph\+\_\+labeller().



Referenced by Allocate\+Control\+Node(), and Allocate\+Node().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a69b9790efed1973a771224a57d3f1ee2_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a69b9790efed1973a771224a57d3f1ee2_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4aee117ed0ee67a5a265401a6255caa7}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4aee117ed0ee67a5a265401a6255caa7}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!VerifyRegisterState@{VerifyRegisterState}}
\index{VerifyRegisterState@{VerifyRegisterState}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{VerifyRegisterState()}{VerifyRegisterState()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::\+Verify\+Register\+State (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1512 of file maglev-\/regalloc.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1512                                                            \{}
\DoxyCodeLine{1513 \textcolor{preprocessor}{\#ifdef DEBUG}}
\DoxyCodeLine{1514   \textcolor{comment}{// We shouldn't have any blocked registers by now.}}
\DoxyCodeLine{1515   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a722303e16e26e329257d54b41b460725}{general\_registers\_}}.blocked().is\_empty());}
\DoxyCodeLine{1516   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4996578e4a68d9cbfee6837d3d1154e4}{double\_registers\_}}.blocked().is\_empty());}
\DoxyCodeLine{1517 }
\DoxyCodeLine{1518   \textcolor{keyword}{auto} NodeNameForFatal = [\&](ValueNode* node) \{}
\DoxyCodeLine{1519     std::stringstream ss;}
\DoxyCodeLine{1520     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a3571b7824a381a6bd25a50d4618070c4}{has\_graph\_labeller}}()) \{}
\DoxyCodeLine{1521       ss << PrintNodeLabel(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae86d029ad577b8c95464c76fe78e5ed4}{graph\_labeller}}(), node);}
\DoxyCodeLine{1522     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1523       ss << \textcolor{stringliteral}{"{}<"{}} << node << \textcolor{stringliteral}{"{}>"{}};}
\DoxyCodeLine{1524     \}}
\DoxyCodeLine{1525     \textcolor{keywordflow}{return} ss.str();}
\DoxyCodeLine{1526   \};}
\DoxyCodeLine{1527 }
\DoxyCodeLine{1528   \textcolor{keywordflow}{for} (\mbox{\hyperlink{namespacev8_1_1internal_1_1ETWJITInterface_a6782da00e5166055555c65db3a9ec7eb}{Register}} reg : \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a722303e16e26e329257d54b41b460725}{general\_registers\_}}.used()) \{}
\DoxyCodeLine{1529     ValueNode* node = \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a722303e16e26e329257d54b41b460725}{general\_registers\_}}.GetValue(reg);}
\DoxyCodeLine{1530     \textcolor{keywordflow}{if} (!node-\/>is\_in\_register(reg)) \{}
\DoxyCodeLine{1531       \mbox{\hyperlink{src_2base_2logging_8h_a0d093cb749cfc7ab5993726392df681f}{FATAL}}(\textcolor{stringliteral}{"{}Node \%s doesn't think it is in register \%s"{}},}
\DoxyCodeLine{1532             NodeNameForFatal(node).c\_str(), RegisterName(reg));}
\DoxyCodeLine{1533     \}}
\DoxyCodeLine{1534   \}}
\DoxyCodeLine{1535   \textcolor{keywordflow}{for} (\mbox{\hyperlink{namespacev8_1_1internal_a1c5661c973602b649955ae8c21dca0c5}{DoubleRegister}} reg : \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4996578e4a68d9cbfee6837d3d1154e4}{double\_registers\_}}.used()) \{}
\DoxyCodeLine{1536     ValueNode* node = \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4996578e4a68d9cbfee6837d3d1154e4}{double\_registers\_}}.GetValue(reg);}
\DoxyCodeLine{1537     \textcolor{keywordflow}{if} (!node-\/>is\_in\_register(reg)) \{}
\DoxyCodeLine{1538       \mbox{\hyperlink{src_2base_2logging_8h_a0d093cb749cfc7ab5993726392df681f}{FATAL}}(\textcolor{stringliteral}{"{}Node \%s doesn't think it is in register \%s"{}},}
\DoxyCodeLine{1539             NodeNameForFatal(node).c\_str(), RegisterName(reg));}
\DoxyCodeLine{1540     \}}
\DoxyCodeLine{1541   \}}
\DoxyCodeLine{1542 }
\DoxyCodeLine{1543   \textcolor{keyword}{auto} ValidateValueNode = [\textcolor{keyword}{this}, NodeNameForFatal](ValueNode* node) \{}
\DoxyCodeLine{1544     \textcolor{keywordflow}{if} (node-\/>use\_double\_register()) \{}
\DoxyCodeLine{1545       \textcolor{keywordflow}{for} (\mbox{\hyperlink{namespacev8_1_1internal_a1c5661c973602b649955ae8c21dca0c5}{DoubleRegister}} reg : node-\/>result\_registers<\mbox{\hyperlink{namespacev8_1_1internal_a1c5661c973602b649955ae8c21dca0c5}{DoubleRegister}}>()) \{}
\DoxyCodeLine{1546         \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4996578e4a68d9cbfee6837d3d1154e4}{double\_registers\_}}.unblocked\_free().has(reg)) \{}
\DoxyCodeLine{1547           \mbox{\hyperlink{src_2base_2logging_8h_a0d093cb749cfc7ab5993726392df681f}{FATAL}}(\textcolor{stringliteral}{"{}Node \%s thinks it's in register \%s but it's free"{}},}
\DoxyCodeLine{1548                 NodeNameForFatal(node).c\_str(), RegisterName(reg));}
\DoxyCodeLine{1549         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4996578e4a68d9cbfee6837d3d1154e4}{double\_registers\_}}.GetValue(reg) != node) \{}
\DoxyCodeLine{1550           \mbox{\hyperlink{src_2base_2logging_8h_a0d093cb749cfc7ab5993726392df681f}{FATAL}}(\textcolor{stringliteral}{"{}Node \%s thinks it's in register \%s but it contains \%s"{}},}
\DoxyCodeLine{1551                 NodeNameForFatal(node).c\_str(), RegisterName(reg),}
\DoxyCodeLine{1552                 NodeNameForFatal(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4996578e4a68d9cbfee6837d3d1154e4}{double\_registers\_}}.GetValue(reg)).c\_str());}
\DoxyCodeLine{1553         \}}
\DoxyCodeLine{1554       \}}
\DoxyCodeLine{1555     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1556       \textcolor{keywordflow}{for} (\mbox{\hyperlink{namespacev8_1_1internal_1_1ETWJITInterface_a6782da00e5166055555c65db3a9ec7eb}{Register}} reg : node-\/>result\_registers<\mbox{\hyperlink{namespacev8_1_1internal_1_1ETWJITInterface_a6782da00e5166055555c65db3a9ec7eb}{Register}}>()) \{}
\DoxyCodeLine{1557         \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a722303e16e26e329257d54b41b460725}{general\_registers\_}}.unblocked\_free().has(reg)) \{}
\DoxyCodeLine{1558           \mbox{\hyperlink{src_2base_2logging_8h_a0d093cb749cfc7ab5993726392df681f}{FATAL}}(\textcolor{stringliteral}{"{}Node \%s thinks it's in register \%s but it's free"{}},}
\DoxyCodeLine{1559                 NodeNameForFatal(node).c\_str(), RegisterName(reg));}
\DoxyCodeLine{1560         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a722303e16e26e329257d54b41b460725}{general\_registers\_}}.GetValue(reg) != node) \{}
\DoxyCodeLine{1561           \mbox{\hyperlink{src_2base_2logging_8h_a0d093cb749cfc7ab5993726392df681f}{FATAL}}(\textcolor{stringliteral}{"{}Node \%s thinks it's in register \%s but it contains \%s"{}},}
\DoxyCodeLine{1562                 NodeNameForFatal(node).c\_str(), RegisterName(reg),}
\DoxyCodeLine{1563                 NodeNameForFatal(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a722303e16e26e329257d54b41b460725}{general\_registers\_}}.GetValue(reg)).c\_str());}
\DoxyCodeLine{1564         \}}
\DoxyCodeLine{1565       \}}
\DoxyCodeLine{1566     \}}
\DoxyCodeLine{1567   \};}
\DoxyCodeLine{1568 }
\DoxyCodeLine{1569   \textcolor{keywordflow}{for} (BasicBlock* block : *\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad2c21cc858129e86e2e12a4ff38445ee}{graph\_}}) \{}
\DoxyCodeLine{1570     \textcolor{keywordflow}{if} (block-\/>has\_phi()) \{}
\DoxyCodeLine{1571       \textcolor{keywordflow}{for} (Phi* phi : *block-\/>phis()) \{}
\DoxyCodeLine{1572         ValidateValueNode(phi);}
\DoxyCodeLine{1573       \}}
\DoxyCodeLine{1574     \}}
\DoxyCodeLine{1575     \textcolor{keywordflow}{for} (Node* node : block-\/>nodes()) \{}
\DoxyCodeLine{1576       \textcolor{keywordflow}{if} (node == \textcolor{keyword}{nullptr}) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{1577       \textcolor{keywordflow}{if} (ValueNode* value\_node = node-\/>TryCast<ValueNode>()) \{}
\DoxyCodeLine{1578         \textcolor{keywordflow}{if} (node-\/>Is<\mbox{\hyperlink{structIdentity}{Identity}}>()) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{1579         ValidateValueNode(value\_node);}
\DoxyCodeLine{1580       \}}
\DoxyCodeLine{1581     \}}
\DoxyCodeLine{1582   \}}
\DoxyCodeLine{1583 }
\DoxyCodeLine{1584 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{1585 \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), double\+\_\+registers\+\_\+, FATAL, general\+\_\+registers\+\_\+, graph\+\_\+, graph\+\_\+labeller(), has\+\_\+graph\+\_\+labeller(), v8\+::internal\+::maglev\+::\+Node\+Base\+::\+Is(), v8\+::internal\+::maglev\+::\+Value\+Node\+::is\+\_\+in\+\_\+register(), v8\+::internal\+::maglev\+::\+Value\+Node\+::result\+\_\+registers(), v8\+::internal\+::maglev\+::\+Node\+Base\+::\+Try\+Cast(), and v8\+::internal\+::maglev\+::\+Value\+Node\+::use\+\_\+double\+\_\+register().



Referenced by Allocate\+Control\+Node(), Allocate\+Node(), and Allocate\+Registers().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4aee117ed0ee67a5a265401a6255caa7_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4aee117ed0ee67a5a265401a6255caa7_icgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a07f80e3d7f35007da11101e93ebda0d5}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a07f80e3d7f35007da11101e93ebda0d5}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!block\_it\_@{block\_it\_}}
\index{block\_it\_@{block\_it\_}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{block\_it\_}{block\_it\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ab622fd1b3f07495a1f2c6080196e99cc}{Block\+Const\+Iterator}} v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::block\+\_\+it\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 319 of file maglev-\/regalloc.\+h.



Referenced by Add\+Move\+Before\+Current\+Node(), Allocate\+Control\+Node(), Allocate\+Node(), Allocate\+Registers(), and Try\+Allocate\+To\+Input().

\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4b887f42994544d0df2da9c591601c9e}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4b887f42994544d0df2da9c591601c9e}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!compilation\_info\_@{compilation\_info\_}}
\index{compilation\_info\_@{compilation\_info\_}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{compilation\_info\_}{compilation\_info\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevCompilationInfo}{Maglev\+Compilation\+Info}}$\ast$ v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::compilation\+\_\+info\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 310 of file maglev-\/regalloc.\+h.



Referenced by Add\+Move\+Before\+Current\+Node().

\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a3422ff65e920a4d86a1729a9bda6919a}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a3422ff65e920a4d86a1729a9bda6919a}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!current\_node\_@{current\_node\_}}
\index{current\_node\_@{current\_node\_}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{current\_node\_}{current\_node\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1NodeBase}{Node\+Base}}$\ast$ v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::current\+\_\+node\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 322 of file maglev-\/regalloc.\+h.



Referenced by Add\+Move\+Before\+Current\+Node(), Allocate\+Control\+Node(), Allocate\+Node(), and Allocate\+Registers().

\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4996578e4a68d9cbfee6837d3d1154e4}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a4996578e4a68d9cbfee6837d3d1154e4}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!double\_registers\_@{double\_registers\_}}
\index{double\_registers\_@{double\_registers\_}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{double\_registers\_}{double\_registers\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1RegisterFrameState}{Register\+Frame\+State}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1DoubleRegister}{Double\+Register}}$>$ v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::double\+\_\+registers\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 162 of file maglev-\/regalloc.\+h.



Referenced by Allocate\+Control\+Node(), Allocate\+Node(), Allocate\+Registers(), Assign\+Any\+Input(), Assign\+Arbitrary\+Register\+Input(), Drop\+Register\+Value(), Free\+Registers\+Used\+By(), Get\+Register\+Frame\+State(), Mark\+As\+Clobbered(), Print\+Live\+Regs(), Save\+Register\+Snapshot(), Spill\+And\+Clear\+Registers(), Spill\+Registers(), Verify\+Inputs(), and Verify\+Register\+State().

\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a722303e16e26e329257d54b41b460725}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a722303e16e26e329257d54b41b460725}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!general\_registers\_@{general\_registers\_}}
\index{general\_registers\_@{general\_registers\_}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{general\_registers\_}{general\_registers\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1RegisterFrameState}{Register\+Frame\+State}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}}$>$ v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::general\+\_\+registers\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 161 of file maglev-\/regalloc.\+h.



Referenced by Allocate\+Control\+Node(), Allocate\+Node(), Allocate\+Registers(), Assign\+Any\+Input(), Assign\+Arbitrary\+Register\+Input(), Drop\+Register\+Value(), Free\+Registers\+Used\+By(), Get\+Register\+Frame\+State(), Mark\+As\+Clobbered(), Print\+Live\+Regs(), Save\+Register\+Snapshot(), Spill\+And\+Clear\+Registers(), Spill\+Registers(), Try\+Allocate\+To\+Input(), Verify\+Inputs(), and Verify\+Register\+State().

\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad2c21cc858129e86e2e12a4ff38445ee}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ad2c21cc858129e86e2e12a4ff38445ee}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!graph\_@{graph\_}}
\index{graph\_@{graph\_}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{graph\_}{graph\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph}{Graph}}$\ast$ v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::graph\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 312 of file maglev-\/regalloc.\+h.



Referenced by Allocate\+Node\+Result(), Allocate\+Registers(), Compute\+Post\+Dominating\+Holes(), graph\+\_\+labeller(), has\+\_\+graph\+\_\+labeller(), Straight\+Forward\+Register\+Allocator(), and Verify\+Register\+State().

\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae1d3774a50bdff63954b0fbcea9f18b7}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ae1d3774a50bdff63954b0fbcea9f18b7}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!node\_it\_@{node\_it\_}}
\index{node\_it\_@{node\_it\_}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{node\_it\_}{node\_it\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a409f130a1cb4f95f605588ba8487e101}{Node\+Iterator}} v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::node\+\_\+it\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 320 of file maglev-\/regalloc.\+h.



Referenced by Add\+Move\+Before\+Current\+Node(), and Allocate\+Registers().

\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a7fbb5ce0a68326f9f011be5a1ee49a97}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a7fbb5ce0a68326f9f011be5a1ee49a97}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!patches\_@{patches\_}}
\index{patches\_@{patches\_}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{patches\_}{patches\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1ZoneVector}{Zone\+Vector}}$<$\mbox{\hyperlink{structv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_1_1BlockPatch}{Block\+Patch}}$>$ v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::patches\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 317 of file maglev-\/regalloc.\+h.



Referenced by Add\+Move\+Before\+Current\+Node(), and Apply\+Patches().

\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_a52450436d4649d30700281d547a8b530}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!printing\_visitor\_@{printing\_visitor\_}}
\index{printing\_visitor\_@{printing\_visitor\_}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{printing\_visitor\_}{printing\_visitor\_}}
{\footnotesize\ttfamily std\+::unique\+\_\+ptr$<$\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPrintingVisitor}{Maglev\+Printing\+Visitor}}$>$ v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::printing\+\_\+visitor\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 311 of file maglev-\/regalloc.\+h.



Referenced by Add\+Move\+Before\+Current\+Node(), Allocate\+Control\+Node(), Allocate\+Node(), Allocate\+Registers(), Assign\+Any\+Input(), Assign\+Arbitrary\+Register\+Input(), Assign\+Fixed\+Input(), Drop\+Register\+Value(), Print\+Live\+Regs(), Spill(), Spill\+And\+Clear\+Registers(), Try\+Allocate\+To\+Input(), and Update\+Use().

\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ab3d2b7972715e6afdc0e55b1a8b02bab}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ab3d2b7972715e6afdc0e55b1a8b02bab}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!regalloc\_info\_@{regalloc\_info\_}}
\index{regalloc\_info\_@{regalloc\_info\_}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{regalloc\_info\_}{regalloc\_info\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{structv8_1_1internal_1_1maglev_1_1RegallocInfo}{Regalloc\+Info}}$\ast$ v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::regalloc\+\_\+info\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 323 of file maglev-\/regalloc.\+h.

\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ac2b88b62a9fe52e59c0ccc6eb0015eda}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_ac2b88b62a9fe52e59c0ccc6eb0015eda}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!tagged\_@{tagged\_}}
\index{tagged\_@{tagged\_}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{tagged\_}{tagged\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{structv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_1_1SpillSlots}{Spill\+Slots}} v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::tagged\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 181 of file maglev-\/regalloc.\+h.



Referenced by Allocate\+Node\+Result(), Straight\+Forward\+Register\+Allocator(), and Update\+Use().

\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_aa9e586d4d110daacc3300195c05fea21}\label{classv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_aa9e586d4d110daacc3300195c05fea21}} 
\index{v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}!untagged\_@{untagged\_}}
\index{untagged\_@{untagged\_}!v8::internal::maglev::StraightForwardRegisterAllocator@{v8::internal::maglev::StraightForwardRegisterAllocator}}
\doxysubsubsection{\texorpdfstring{untagged\_}{untagged\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{structv8_1_1internal_1_1maglev_1_1StraightForwardRegisterAllocator_1_1SpillSlots}{Spill\+Slots}} v8\+::internal\+::maglev\+::\+Straight\+Forward\+Register\+Allocator\+::untagged\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 180 of file maglev-\/regalloc.\+h.



Referenced by Straight\+Forward\+Register\+Allocator(), and Update\+Use().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/maglev/\mbox{\hyperlink{maglev-regalloc_8h}{maglev-\/regalloc.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/maglev/\mbox{\hyperlink{maglev-regalloc_8cc}{maglev-\/regalloc.\+cc}}\end{DoxyCompactItemize}
