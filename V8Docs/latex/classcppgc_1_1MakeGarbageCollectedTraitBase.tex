\hypertarget{classcppgc_1_1MakeGarbageCollectedTraitBase}{}\doxysection{cppgc\+::Make\+Garbage\+Collected\+Trait\+Base$<$ T $>$ Class Template Reference}
\label{classcppgc_1_1MakeGarbageCollectedTraitBase}\index{cppgc::MakeGarbageCollectedTraitBase$<$ T $>$@{cppgc::MakeGarbageCollectedTraitBase$<$ T $>$}}


Base trait that provides utilities for advancers users that have custom allocation needs (e.\+g., overriding size).  




{\ttfamily \#include $<$allocation.\+h$>$}



Inheritance diagram for cppgc\+::Make\+Garbage\+Collected\+Trait\+Base$<$ T $>$\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=265pt]{classcppgc_1_1MakeGarbageCollectedTraitBase__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for cppgc\+::Make\+Garbage\+Collected\+Trait\+Base$<$ T $>$\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=265pt]{classcppgc_1_1MakeGarbageCollectedTraitBase__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Static Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
static void $\ast$ \mbox{\hyperlink{classcppgc_1_1MakeGarbageCollectedTraitBase_ab68f8a381088df7c073d8655d733fb98}{Allocate}} (\mbox{\hyperlink{classcppgc_1_1AllocationHandle}{Allocation\+Handle}} \&handle, size\+\_\+t \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}})
\begin{DoxyCompactList}\small\item\em Allocates memory for an object of type \mbox{\hyperlink{classT}{T}}. \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{classcppgc_1_1MakeGarbageCollectedTraitBase_abf4c708d0ab67598b320f05e5ff0b6e1}{Mark\+Object\+As\+Fully\+Constructed}} (const void $\ast$payload)
\begin{DoxyCompactList}\small\item\em Marks an object as fully constructed, resulting in precise handling by the garbage collector. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$typename T$>$\newline
class cppgc\+::\+Make\+Garbage\+Collected\+Trait\+Base$<$ T $>$}

Base trait that provides utilities for advancers users that have custom allocation needs (e.\+g., overriding size). 

It\textquotesingle{}s expected that users override \mbox{\hyperlink{classcppgc_1_1MakeGarbageCollectedTrait}{Make\+Garbage\+Collected\+Trait}} (see below) and inherit from \mbox{\hyperlink{classcppgc_1_1MakeGarbageCollectedTraitBase}{Make\+Garbage\+Collected\+Trait\+Base}} and make use of the low-\/level primitives offered to allocate and construct an object. 

Definition at line 146 of file allocation.\+h.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classcppgc_1_1MakeGarbageCollectedTraitBase_ab68f8a381088df7c073d8655d733fb98}\label{classcppgc_1_1MakeGarbageCollectedTraitBase_ab68f8a381088df7c073d8655d733fb98}} 
\index{cppgc::MakeGarbageCollectedTraitBase$<$ T $>$@{cppgc::MakeGarbageCollectedTraitBase$<$ T $>$}!Allocate@{Allocate}}
\index{Allocate@{Allocate}!cppgc::MakeGarbageCollectedTraitBase$<$ T $>$@{cppgc::MakeGarbageCollectedTraitBase$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{Allocate()}{Allocate()}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
static void$\ast$ \mbox{\hyperlink{classcppgc_1_1MakeGarbageCollectedTraitBase}{cppgc\+::\+Make\+Garbage\+Collected\+Trait\+Base}}$<$ \mbox{\hyperlink{classT}{T}} $>$\+::Allocate (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcppgc_1_1AllocationHandle}{Allocation\+Handle}} \&}]{handle,  }\item[{size\+\_\+t}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}, {\ttfamily [protected]}}



Allocates memory for an object of type \mbox{\hyperlink{classT}{T}}. 


\begin{DoxyParams}{Parameters}
{\em handle} & \mbox{\hyperlink{classcppgc_1_1AllocationHandle}{Allocation\+Handle}} identifying the heap to allocate the object on. \\
\hline
{\em size} & The size that should be reserved for the object. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the memory to construct an object of type \mbox{\hyperlink{classT}{T}} on. 
\end{DoxyReturn}


Definition at line 165 of file allocation.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{165                                                                          \{}
\DoxyCodeLine{166     static\_assert(}
\DoxyCodeLine{167         std::is\_base\_of\_v<typename T::ParentMostGarbageCollectedType, T>,}
\DoxyCodeLine{168         \textcolor{stringliteral}{"{}U of GarbageCollected<U> must be a base of T. Check "{}}}
\DoxyCodeLine{169         \textcolor{stringliteral}{"{}GarbageCollected<T> base class inheritance."{}});}
\DoxyCodeLine{170     \textcolor{keyword}{static} constexpr \textcolor{keywordtype}{size\_t} kWantedAlignment =}
\DoxyCodeLine{171         \textcolor{keyword}{alignof}(\mbox{\hyperlink{base_2ieee754_8cc_a0acb682b8260ab1c60b918599864e2e5}{T}}) < \mbox{\hyperlink{namespacecppgc_1_1internal_1_1api__constants_a656673cd6211bae46700fe524a290ae3}{internal::api\_constants::kDefaultAlignment}}}
\DoxyCodeLine{172             ? \mbox{\hyperlink{namespacecppgc_1_1internal_1_1api__constants_a656673cd6211bae46700fe524a290ae3}{internal::api\_constants::kDefaultAlignment}}}
\DoxyCodeLine{173             : \textcolor{keyword}{alignof}(\mbox{\hyperlink{classT}{T}});}
\DoxyCodeLine{174     static\_assert(}
\DoxyCodeLine{175         kWantedAlignment <= \mbox{\hyperlink{namespacecppgc_1_1internal_1_1api__constants_a78ec6c64142e415c2ac4dfb38173d8ef}{internal::api\_constants::kMaxSupportedAlignment}},}
\DoxyCodeLine{176         \textcolor{stringliteral}{"{}Requested alignment larger than alignof(std::max\_align\_t) bytes. "{}}}
\DoxyCodeLine{177         \textcolor{stringliteral}{"{}Please file a bug to possibly get this restriction lifted."{}});}
\DoxyCodeLine{178     \textcolor{keywordflow}{return} AllocationDispatcher<}
\DoxyCodeLine{179         \textcolor{keyword}{typename} internal::GCInfoFolding<}
\DoxyCodeLine{180             \mbox{\hyperlink{base_2ieee754_8cc_a0acb682b8260ab1c60b918599864e2e5}{T}}, \textcolor{keyword}{typename} T::ParentMostGarbageCollectedType>::ResultType,}
\DoxyCodeLine{181         \textcolor{keyword}{typename} \mbox{\hyperlink{structcppgc_1_1SpaceTrait_acbd7d27affe806b3872901505a11e1c1}{SpaceTrait<T>::Space}}, kWantedAlignment>\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02execution_8cc_03_a69fd8bb1b53f805979b16aff615070f9}{::Invoke}}(\mbox{\hyperlink{namespacev8_1_1internal_a8c89f00da07e125218128b9fbf0a321c}{handle}}, \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}});}
\DoxyCodeLine{182   \}}

\end{DoxyCode}


References v8\+::internal\+::handle(), v8\+::internal\+::anonymous\+\_\+namespace\{execution.\+cc\}\+::\+Invoke(), cppgc\+::internal\+::api\+\_\+constants\+::k\+Default\+Alignment, cppgc\+::internal\+::api\+\_\+constants\+::k\+Max\+Supported\+Alignment, size(), and T.



Referenced by cppgc\+::\+Make\+Garbage\+Collected\+Trait$<$ T $>$\+::\+Call().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcppgc_1_1MakeGarbageCollectedTraitBase_ab68f8a381088df7c073d8655d733fb98_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcppgc_1_1MakeGarbageCollectedTraitBase_ab68f8a381088df7c073d8655d733fb98_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcppgc_1_1MakeGarbageCollectedTraitBase_abf4c708d0ab67598b320f05e5ff0b6e1}\label{classcppgc_1_1MakeGarbageCollectedTraitBase_abf4c708d0ab67598b320f05e5ff0b6e1}} 
\index{cppgc::MakeGarbageCollectedTraitBase$<$ T $>$@{cppgc::MakeGarbageCollectedTraitBase$<$ T $>$}!MarkObjectAsFullyConstructed@{MarkObjectAsFullyConstructed}}
\index{MarkObjectAsFullyConstructed@{MarkObjectAsFullyConstructed}!cppgc::MakeGarbageCollectedTraitBase$<$ T $>$@{cppgc::MakeGarbageCollectedTraitBase$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{MarkObjectAsFullyConstructed()}{MarkObjectAsFullyConstructed()}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
static void \mbox{\hyperlink{classcppgc_1_1MakeGarbageCollectedTraitBase}{cppgc\+::\+Make\+Garbage\+Collected\+Trait\+Base}}$<$ \mbox{\hyperlink{classT}{T}} $>$\+::Mark\+Object\+As\+Fully\+Constructed (\begin{DoxyParamCaption}\item[{const void $\ast$}]{payload }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}, {\ttfamily [protected]}}



Marks an object as fully constructed, resulting in precise handling by the garbage collector. 


\begin{DoxyParams}{Parameters}
{\em payload} & The base pointer the object is allocated at. \\
\hline
\end{DoxyParams}


Definition at line 190 of file allocation.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{190                                                                           \{}
\DoxyCodeLine{191     \mbox{\hyperlink{classcppgc_1_1internal_1_1MakeGarbageCollectedTraitInternal_af0b49ea167f0710a3d4260bdeed1bf46}{internal::MakeGarbageCollectedTraitInternal::MarkObjectAsFullyConstructed}}(}
\DoxyCodeLine{192         payload);}
\DoxyCodeLine{193   \}}

\end{DoxyCode}


References cppgc\+::internal\+::\+Make\+Garbage\+Collected\+Trait\+Internal\+::\+Mark\+Object\+As\+Fully\+Constructed().



Referenced by cppgc\+::\+Make\+Garbage\+Collected\+Trait$<$ T $>$\+::\+Call().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcppgc_1_1MakeGarbageCollectedTraitBase_abf4c708d0ab67598b320f05e5ff0b6e1_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcppgc_1_1MakeGarbageCollectedTraitBase_abf4c708d0ab67598b320f05e5ff0b6e1_icgraph}
\end{center}
\end{figure}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/include/cppgc/\mbox{\hyperlink{include_2cppgc_2allocation_8h}{allocation.\+h}}\end{DoxyCompactItemize}
