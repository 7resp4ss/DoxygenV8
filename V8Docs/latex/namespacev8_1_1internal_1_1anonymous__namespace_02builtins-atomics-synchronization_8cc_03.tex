\hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-atomics-synchronization_8cc_03}{}\doxysection{v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/atomics-\/synchronization.cc\} Namespace Reference}
\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-atomics-synchronization_8cc_03}\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/atomics-\/synchronization.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/atomics-\/synchronization.cc\rcurly{}}}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
std\+::optional$<$ \mbox{\hyperlink{classv8_1_1base_1_1TimeDelta}{base\+::\+Time\+Delta}} $>$ \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-atomics-synchronization_8cc_03_a1602db6b479a6aef5f3b55971dbde5d6}{Get\+Timeout\+Delta}} (\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}} $>$ timeout\+\_\+obj)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSPromise}{JSPromise}} $>$ \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-atomics-synchronization_8cc_03_a70582aee11ef108997391dbd21aae440}{Unlock\+Async\+Locked\+Mutex\+From\+Promise\+Handler}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate)
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-atomics-synchronization_8cc_03_a1602db6b479a6aef5f3b55971dbde5d6}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-atomics-synchronization_8cc_03_a1602db6b479a6aef5f3b55971dbde5d6}} 
\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/atomics-\/synchronization.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/atomics-\/synchronization.cc\rcurly{}}!GetTimeoutDelta@{GetTimeoutDelta}}
\index{GetTimeoutDelta@{GetTimeoutDelta}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/atomics-\/synchronization.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/atomics-\/synchronization.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{GetTimeoutDelta()}{GetTimeoutDelta()}}
{\footnotesize\ttfamily std\+::optional$<$\mbox{\hyperlink{classv8_1_1base_1_1TimeDelta}{base\+::\+Time\+Delta}}$>$ v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/atomics-\/synchronization.\+cc\}\+::Get\+Timeout\+Delta (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}} $>$}]{timeout\+\_\+obj }\end{DoxyParamCaption})}



Definition at line 13 of file builtins-\/atomics-\/synchronization.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{14                                       \{}
\DoxyCodeLine{15   \textcolor{keywordtype}{double} ms = Object::NumberValue(*timeout\_obj);}
\DoxyCodeLine{16   \textcolor{keywordflow}{if} (!std::isnan(ms)) \{}
\DoxyCodeLine{17     \textcolor{keywordflow}{if} (ms < 0) ms = 0;}
\DoxyCodeLine{18     \textcolor{keywordflow}{if} (ms <= \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(std::numeric\_limits<int64\_t>::max())) \{}
\DoxyCodeLine{19       \textcolor{keywordflow}{return} base::TimeDelta::FromMilliseconds(\textcolor{keyword}{static\_cast<}int64\_t\textcolor{keyword}{>}(ms));}
\DoxyCodeLine{20     \}}
\DoxyCodeLine{21   \}}
\DoxyCodeLine{22   \textcolor{keywordflow}{return} std::nullopt;}
\DoxyCodeLine{23 \}}

\end{DoxyCode}


References v8\+::base\+::\+Time\+Delta\+::\+From\+Milliseconds(), and v8\+::internal\+::\+Object\+::\+Number\+Value().



Referenced by v8\+::internal\+::\+BUILTIN().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-atomics-synchronization_8cc_03_a1602db6b479a6aef5f3b55971dbde5d6_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-atomics-synchronization_8cc_03_a1602db6b479a6aef5f3b55971dbde5d6_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-atomics-synchronization_8cc_03_a70582aee11ef108997391dbd21aae440}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-atomics-synchronization_8cc_03_a70582aee11ef108997391dbd21aae440}} 
\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/atomics-\/synchronization.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/atomics-\/synchronization.cc\rcurly{}}!UnlockAsyncLockedMutexFromPromiseHandler@{UnlockAsyncLockedMutexFromPromiseHandler}}
\index{UnlockAsyncLockedMutexFromPromiseHandler@{UnlockAsyncLockedMutexFromPromiseHandler}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/atomics-\/synchronization.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/atomics-\/synchronization.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{UnlockAsyncLockedMutexFromPromiseHandler()}{UnlockAsyncLockedMutexFromPromiseHandler()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1JSPromise}{JSPromise}}$>$ v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/atomics-\/synchronization.\+cc\}\+::Unlock\+Async\+Locked\+Mutex\+From\+Promise\+Handler (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate }\end{DoxyParamCaption})}



Definition at line 25 of file builtins-\/atomics-\/synchronization.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{26                       \{}
\DoxyCodeLine{27   DirectHandle<Context> context(isolate-\/>context(), isolate);}
\DoxyCodeLine{28   DirectHandle<Object> mutex(}
\DoxyCodeLine{29       context-\/>GetNoCell(JSAtomicsMutex::kMutexAsyncContextSlot), isolate);}
\DoxyCodeLine{30   DirectHandle<Object> unlock\_promise(}
\DoxyCodeLine{31       context-\/>GetNoCell(JSAtomicsMutex::kUnlockedPromiseAsyncContextSlot),}
\DoxyCodeLine{32       isolate);}
\DoxyCodeLine{33   DirectHandle<Object> waiter\_wrapper\_obj(}
\DoxyCodeLine{34       context-\/>GetNoCell(JSAtomicsMutex::kAsyncLockedWaiterAsyncContextSlot),}
\DoxyCodeLine{35       isolate);}
\DoxyCodeLine{36 }
\DoxyCodeLine{37   \textcolor{keyword}{auto} js\_mutex = Cast<JSAtomicsMutex>(mutex);}
\DoxyCodeLine{38   \textcolor{keyword}{auto} js\_unlock\_promise = Cast<JSPromise>(unlock\_promise);}
\DoxyCodeLine{39   \textcolor{keyword}{auto} async\_locked\_waiter\_wrapper = Cast<Foreign>(waiter\_wrapper\_obj);}
\DoxyCodeLine{40   js\_mutex-\/>UnlockAsyncLockedMutex(isolate, async\_locked\_waiter\_wrapper);}
\DoxyCodeLine{41   \textcolor{keywordflow}{return} js\_unlock\_promise;}
\DoxyCodeLine{42 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Isolate\+::context(), v8\+::internal\+::\+JSAtomics\+Mutex\+::k\+Async\+Locked\+Waiter\+Async\+Context\+Slot, v8\+::internal\+::\+JSAtomics\+Mutex\+::k\+Mutex\+Async\+Context\+Slot, and v8\+::internal\+::\+JSAtomics\+Mutex\+::k\+Unlocked\+Promise\+Async\+Context\+Slot.



Referenced by v8\+::internal\+::\+BUILTIN().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-atomics-synchronization_8cc_03_a70582aee11ef108997391dbd21aae440_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-atomics-synchronization_8cc_03_a70582aee11ef108997391dbd21aae440_icgraph}
\end{center}
\end{figure}
