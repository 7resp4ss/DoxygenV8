\hypertarget{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor}{}\doxysection{cppgc\+::internal\+::anonymous\+\_\+namespace\{sweeper.\+cc\}\+::Prepare\+For\+Sweep\+Visitor Class Reference}
\label{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor}\index{cppgc::internal::anonymous\_namespace\lcurly{}sweeper.cc\rcurly{}::PrepareForSweepVisitor@{cppgc::internal::anonymous\_namespace\lcurly{}sweeper.cc\rcurly{}::PrepareForSweepVisitor}}


Inheritance diagram for cppgc\+::internal\+::anonymous\+\_\+namespace\{sweeper.\+cc\}\+::Prepare\+For\+Sweep\+Visitor\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for cppgc\+::internal\+::anonymous\+\_\+namespace\{sweeper.\+cc\}\+::Prepare\+For\+Sweep\+Visitor\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_a39963738f1543ff9b95ea453573cc7f3}{Prepare\+For\+Sweep\+Visitor}} (\mbox{\hyperlink{classcppgc_1_1internal_1_1HeapBase}{Heap\+Base}} $\ast$\mbox{\hyperlink{flag-definitions_8h_a761e4e5929b1553283fd6a532822bb17}{heap}}, \mbox{\hyperlink{namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_a0a8e019d14ec387ab28d58adeba58710}{Space\+States}} $\ast$space\+\_\+states, \mbox{\hyperlink{structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState}{Sweeping\+State}} $\ast$empty\+\_\+normal\+\_\+pages, \mbox{\hyperlink{structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState}{Sweeping\+State}} $\ast$empty\+\_\+large\+\_\+pages, \mbox{\hyperlink{structcppgc_1_1internal_1_1SweepingConfig_a2523f1fec7c4b756d00f3d8c5d658077}{Compactable\+Space\+Handling}} compactable\+\_\+space\+\_\+handling)
\item 
void \mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_a8f0842e33338e268bcf3f16785bb4fc1}{Run}} (\mbox{\hyperlink{classcppgc_1_1internal_1_1RawHeap}{Raw\+Heap}} \&raw\+\_\+heap)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_a58e058767db31de871ecac3430aab7da}{Visit\+Normal\+Page\+Space}} (\mbox{\hyperlink{classcppgc_1_1internal_1_1NormalPageSpace}{Normal\+Page\+Space}} \&\mbox{\hyperlink{flag-definitions_8h_a1d8cf0775c94df78b63812966a84395c}{space}})
\item 
bool \mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_aae5bacdbb3c550f4bfecc116dbacbf65}{Visit\+Large\+Page\+Space}} (\mbox{\hyperlink{classcppgc_1_1internal_1_1LargePageSpace}{Large\+Page\+Space}} \&\mbox{\hyperlink{flag-definitions_8h_a1d8cf0775c94df78b63812966a84395c}{space}})
\end{DoxyCompactItemize}
\doxysubsection*{Private Types}
\begin{DoxyCompactItemize}
\item 
using \mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_a9b9b0fcc133dc8d2b27b76e950c21fa4}{Compactable\+Space\+Handling}} = \mbox{\hyperlink{structcppgc_1_1internal_1_1SweepingConfig_a2523f1fec7c4b756d00f3d8c5d658077}{Sweeping\+Config\+::\+Compactable\+Space\+Handling}}
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcppgc_1_1internal_1_1HeapBase}{Heap\+Base}} $\ast$const \mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_a9e097e2cc47cb67c7666724a0477bbf2}{heap\+\_\+}}
\item 
\mbox{\hyperlink{namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_a0a8e019d14ec387ab28d58adeba58710}{Space\+States}} $\ast$const \mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_a75851852ef5d1f8d19395585fb5fac60}{space\+\_\+states\+\_\+}}
\item 
\mbox{\hyperlink{structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState}{Sweeping\+State}} $\ast$const \mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_aca2a46cea4b0a9c3ed2a939a71c6021a}{empty\+\_\+normal\+\_\+pages\+\_\+}}
\item 
\mbox{\hyperlink{structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState}{Sweeping\+State}} $\ast$const \mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_a940ad18b8736f35a376a490865b97d65}{empty\+\_\+large\+\_\+pages\+\_\+}}
\item 
\mbox{\hyperlink{structcppgc_1_1internal_1_1SweepingConfig_a2523f1fec7c4b756d00f3d8c5d658077}{Compactable\+Space\+Handling}} \mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_a70c5c0fe422b6ff1552b378f59acbf70}{compactable\+\_\+space\+\_\+handling\+\_\+}}
\end{DoxyCompactItemize}
\doxysubsection*{Friends}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_a2d9a8158ccbd21a0e3cf0c294a7100fb}{Heap\+Visitor$<$ Prepare\+For\+Sweep\+Visitor $>$}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 878 of file sweeper.\+cc.



\doxysubsection{Member Typedef Documentation}
\mbox{\Hypertarget{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_a9b9b0fcc133dc8d2b27b76e950c21fa4}\label{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_a9b9b0fcc133dc8d2b27b76e950c21fa4}} 
\index{cppgc::internal::anonymous\_namespace\lcurly{}sweeper.cc\rcurly{}::PrepareForSweepVisitor@{cppgc::internal::anonymous\_namespace\lcurly{}sweeper.cc\rcurly{}::PrepareForSweepVisitor}!CompactableSpaceHandling@{CompactableSpaceHandling}}
\index{CompactableSpaceHandling@{CompactableSpaceHandling}!cppgc::internal::anonymous\_namespace\lcurly{}sweeper.cc\rcurly{}::PrepareForSweepVisitor@{cppgc::internal::anonymous\_namespace\lcurly{}sweeper.cc\rcurly{}::PrepareForSweepVisitor}}
\doxysubsubsection{\texorpdfstring{CompactableSpaceHandling}{CompactableSpaceHandling}}
{\footnotesize\ttfamily using cppgc\+::internal\+::anonymous\+\_\+namespace\{sweeper.\+cc\}\+::\mbox{\hyperlink{structcppgc_1_1internal_1_1SweepingConfig_a2523f1fec7c4b756d00f3d8c5d658077}{Prepare\+For\+Sweep\+Visitor\+::\+Compactable\+Space\+Handling}} =  \mbox{\hyperlink{structcppgc_1_1internal_1_1SweepingConfig_a2523f1fec7c4b756d00f3d8c5d658077}{Sweeping\+Config\+::\+Compactable\+Space\+Handling}}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 881 of file sweeper.\+cc.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_a39963738f1543ff9b95ea453573cc7f3}\label{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_a39963738f1543ff9b95ea453573cc7f3}} 
\index{cppgc::internal::anonymous\_namespace\lcurly{}sweeper.cc\rcurly{}::PrepareForSweepVisitor@{cppgc::internal::anonymous\_namespace\lcurly{}sweeper.cc\rcurly{}::PrepareForSweepVisitor}!PrepareForSweepVisitor@{PrepareForSweepVisitor}}
\index{PrepareForSweepVisitor@{PrepareForSweepVisitor}!cppgc::internal::anonymous\_namespace\lcurly{}sweeper.cc\rcurly{}::PrepareForSweepVisitor@{cppgc::internal::anonymous\_namespace\lcurly{}sweeper.cc\rcurly{}::PrepareForSweepVisitor}}
\doxysubsubsection{\texorpdfstring{PrepareForSweepVisitor()}{PrepareForSweepVisitor()}}
{\footnotesize\ttfamily cppgc\+::internal\+::anonymous\+\_\+namespace\{sweeper.\+cc\}\+::Prepare\+For\+Sweep\+Visitor\+::\+Prepare\+For\+Sweep\+Visitor (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcppgc_1_1internal_1_1HeapBase}{Heap\+Base}} $\ast$}]{heap,  }\item[{\mbox{\hyperlink{namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_a0a8e019d14ec387ab28d58adeba58710}{Space\+States}} $\ast$}]{space\+\_\+states,  }\item[{\mbox{\hyperlink{structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState}{Sweeping\+State}} $\ast$}]{empty\+\_\+normal\+\_\+pages,  }\item[{\mbox{\hyperlink{structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState}{Sweeping\+State}} $\ast$}]{empty\+\_\+large\+\_\+pages,  }\item[{\mbox{\hyperlink{structcppgc_1_1internal_1_1SweepingConfig_a2523f1fec7c4b756d00f3d8c5d658077}{Compactable\+Space\+Handling}}}]{compactable\+\_\+space\+\_\+handling }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 884 of file sweeper.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{888       : \mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_a9e097e2cc47cb67c7666724a0477bbf2}{heap\_}}(\mbox{\hyperlink{namespaceheap}{heap}}),}
\DoxyCodeLine{889         \mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_a75851852ef5d1f8d19395585fb5fac60}{space\_states\_}}(space\_states),}
\DoxyCodeLine{890         \mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_aca2a46cea4b0a9c3ed2a939a71c6021a}{empty\_normal\_pages\_}}(empty\_normal\_pages),}
\DoxyCodeLine{891         \mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_a940ad18b8736f35a376a490865b97d65}{empty\_large\_pages\_}}(empty\_large\_pages),}
\DoxyCodeLine{892         \mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_a70c5c0fe422b6ff1552b378f59acbf70}{compactable\_space\_handling\_}}(compactable\_space\_handling) \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_a8f0842e33338e268bcf3f16785bb4fc1}\label{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_a8f0842e33338e268bcf3f16785bb4fc1}} 
\index{cppgc::internal::anonymous\_namespace\lcurly{}sweeper.cc\rcurly{}::PrepareForSweepVisitor@{cppgc::internal::anonymous\_namespace\lcurly{}sweeper.cc\rcurly{}::PrepareForSweepVisitor}!Run@{Run}}
\index{Run@{Run}!cppgc::internal::anonymous\_namespace\lcurly{}sweeper.cc\rcurly{}::PrepareForSweepVisitor@{cppgc::internal::anonymous\_namespace\lcurly{}sweeper.cc\rcurly{}::PrepareForSweepVisitor}}
\doxysubsubsection{\texorpdfstring{Run()}{Run()}}
{\footnotesize\ttfamily void cppgc\+::internal\+::anonymous\+\_\+namespace\{sweeper.\+cc\}\+::Prepare\+For\+Sweep\+Visitor\+::\+Run (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcppgc_1_1internal_1_1RawHeap}{Raw\+Heap}} \&}]{raw\+\_\+heap }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 894 of file sweeper.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{894                               \{}
\DoxyCodeLine{895     *\mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_a75851852ef5d1f8d19395585fb5fac60}{space\_states\_}} = \mbox{\hyperlink{namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_a0a8e019d14ec387ab28d58adeba58710}{SpaceStates}}(raw\_heap.size());}
\DoxyCodeLine{896     \mbox{\hyperlink{classcppgc_1_1internal_1_1HeapVisitor_a0842117e90f4cf61574711ad5afbc272}{Traverse}}(raw\_heap);}
\DoxyCodeLine{897   \}}

\end{DoxyCode}


References cppgc\+::internal\+::\+Raw\+Heap\+::size().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_a8f0842e33338e268bcf3f16785bb4fc1_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_aae5bacdbb3c550f4bfecc116dbacbf65}\label{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_aae5bacdbb3c550f4bfecc116dbacbf65}} 
\index{cppgc::internal::anonymous\_namespace\lcurly{}sweeper.cc\rcurly{}::PrepareForSweepVisitor@{cppgc::internal::anonymous\_namespace\lcurly{}sweeper.cc\rcurly{}::PrepareForSweepVisitor}!VisitLargePageSpace@{VisitLargePageSpace}}
\index{VisitLargePageSpace@{VisitLargePageSpace}!cppgc::internal::anonymous\_namespace\lcurly{}sweeper.cc\rcurly{}::PrepareForSweepVisitor@{cppgc::internal::anonymous\_namespace\lcurly{}sweeper.cc\rcurly{}::PrepareForSweepVisitor}}
\doxysubsubsection{\texorpdfstring{VisitLargePageSpace()}{VisitLargePageSpace()}}
{\footnotesize\ttfamily bool cppgc\+::internal\+::anonymous\+\_\+namespace\{sweeper.\+cc\}\+::Prepare\+For\+Sweep\+Visitor\+::\+Visit\+Large\+Page\+Space (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcppgc_1_1internal_1_1LargePageSpace}{Large\+Page\+Space}} \&}]{space }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}



Definition at line 928 of file sweeper.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{928                                                   \{}
\DoxyCodeLine{929 \textcolor{preprocessor}{\#ifdef V8\_USE\_ADDRESS\_SANITIZER}}
\DoxyCodeLine{930     UnmarkedObjectsPoisoner().Traverse(\mbox{\hyperlink{flag-definitions_8h_a087fd0337c14e102a4a2abccd41a39ad}{space}});}
\DoxyCodeLine{931 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// V8\_USE\_ADDRESS\_SANITIZER}}
\DoxyCodeLine{932 }
\DoxyCodeLine{933     \mbox{\hyperlink{classcppgc_1_1internal_1_1BaseSpace_a36011a180a5b41ce16581de1e04099b2}{BaseSpace::Pages}} space\_pages = \mbox{\hyperlink{flag-definitions_8h_a087fd0337c14e102a4a2abccd41a39ad}{space}}.RemoveAllPages();}
\DoxyCodeLine{934     \textcolor{keywordflow}{for} (BasePage* page : space\_pages) \{}
\DoxyCodeLine{935 \textcolor{preprocessor}{\#ifdef DEBUG}}
\DoxyCodeLine{936       \textcolor{keyword}{const} \textcolor{keyword}{auto}* header = \mbox{\hyperlink{classcppgc_1_1internal_1_1LargePage_a7a697254df2533750e5727ff4a885d11}{LargePage::From}}(page)-\/>\mbox{\hyperlink{classcppgc_1_1internal_1_1LargePage_a82820bcccb50f43005ee2d404ff0c57f}{ObjectHeader}}();}
\DoxyCodeLine{937       \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(page-\/>marked\_bytes() == 0, !header-\/>IsMarked());}
\DoxyCodeLine{938       \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(page-\/>marked\_bytes() != 0, header-\/>IsMarked());}
\DoxyCodeLine{939 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// DEBUG}}
\DoxyCodeLine{940       \textcolor{keywordflow}{if} (page-\/>marked\_bytes() != 0) \{}
\DoxyCodeLine{941         \mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper_a021c72fe0b75700f23d791f2a4400511}{MutatorThreadSweeper::SweepLiveLargePage}}(*\mbox{\hyperlink{classcppgc_1_1internal_1_1LargePage_a7a697254df2533750e5727ff4a885d11}{LargePage::From}}(page),}
\DoxyCodeLine{942                                                  \mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_a9e097e2cc47cb67c7666724a0477bbf2}{heap\_}}-\/>\mbox{\hyperlink{classcppgc_1_1internal_1_1HeapBase_ad4bf071b2be08e234e6063e8d331eede}{sticky\_bits}}());}
\DoxyCodeLine{943       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{944         \mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_a940ad18b8736f35a376a490865b97d65}{empty\_large\_pages\_}}-\/>\mbox{\hyperlink{structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_ab8654b93fc54d88448cda92d2370039e}{unswept\_pages}}.Push(page);}
\DoxyCodeLine{945       \}}
\DoxyCodeLine{946     \}}
\DoxyCodeLine{947 }
\DoxyCodeLine{948     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{949   \}}

\end{DoxyCode}


References DCHECK\+\_\+\+IMPLIES, cppgc\+::internal\+::\+Large\+Page\+::\+From(), cppgc\+::internal\+::\+Large\+Page\+::\+Object\+Header(), and space.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_aae5bacdbb3c550f4bfecc116dbacbf65_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_a58e058767db31de871ecac3430aab7da}\label{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_a58e058767db31de871ecac3430aab7da}} 
\index{cppgc::internal::anonymous\_namespace\lcurly{}sweeper.cc\rcurly{}::PrepareForSweepVisitor@{cppgc::internal::anonymous\_namespace\lcurly{}sweeper.cc\rcurly{}::PrepareForSweepVisitor}!VisitNormalPageSpace@{VisitNormalPageSpace}}
\index{VisitNormalPageSpace@{VisitNormalPageSpace}!cppgc::internal::anonymous\_namespace\lcurly{}sweeper.cc\rcurly{}::PrepareForSweepVisitor@{cppgc::internal::anonymous\_namespace\lcurly{}sweeper.cc\rcurly{}::PrepareForSweepVisitor}}
\doxysubsubsection{\texorpdfstring{VisitNormalPageSpace()}{VisitNormalPageSpace()}}
{\footnotesize\ttfamily bool cppgc\+::internal\+::anonymous\+\_\+namespace\{sweeper.\+cc\}\+::Prepare\+For\+Sweep\+Visitor\+::\+Visit\+Normal\+Page\+Space (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcppgc_1_1internal_1_1NormalPageSpace}{Normal\+Page\+Space}} \&}]{space }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}



Definition at line 900 of file sweeper.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{900                                                     \{}
\DoxyCodeLine{901     \textcolor{keywordflow}{if} ((\mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_a70c5c0fe422b6ff1552b378f59acbf70}{compactable\_space\_handling\_}} == \mbox{\hyperlink{structcppgc_1_1internal_1_1SweepingConfig_a2523f1fec7c4b756d00f3d8c5d658077aa7c4e68b845afc4ee4dcaf41b0b503e4}{CompactableSpaceHandling::kIgnore}}) \&\&}
\DoxyCodeLine{902         \mbox{\hyperlink{flag-definitions_8h_a087fd0337c14e102a4a2abccd41a39ad}{space}}.is\_compactable()) \{}
\DoxyCodeLine{903       \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{904     \}}
\DoxyCodeLine{905 }
\DoxyCodeLine{906     \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(!\mbox{\hyperlink{flag-definitions_8h_a087fd0337c14e102a4a2abccd41a39ad}{space}}.linear\_allocation\_buffer().size());}
\DoxyCodeLine{907     \mbox{\hyperlink{flag-definitions_8h_a087fd0337c14e102a4a2abccd41a39ad}{space}}.free\_list().Clear();}
\DoxyCodeLine{908 \textcolor{preprocessor}{\#ifdef V8\_USE\_ADDRESS\_SANITIZER}}
\DoxyCodeLine{909     UnmarkedObjectsPoisoner().Traverse(\mbox{\hyperlink{flag-definitions_8h_a087fd0337c14e102a4a2abccd41a39ad}{space}});}
\DoxyCodeLine{910 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// V8\_USE\_ADDRESS\_SANITIZER}}
\DoxyCodeLine{911 }
\DoxyCodeLine{912     \mbox{\hyperlink{classcppgc_1_1internal_1_1BaseSpace_a36011a180a5b41ce16581de1e04099b2}{BaseSpace::Pages}} space\_pages = \mbox{\hyperlink{flag-definitions_8h_a087fd0337c14e102a4a2abccd41a39ad}{space}}.RemoveAllPages();}
\DoxyCodeLine{913     \mbox{\hyperlink{namespacev8_1_1base_ae8575343c68d7ad91cf7aaf24cd6643f}{std::sort}}(space\_pages.begin(), space\_pages.end(),}
\DoxyCodeLine{914               [](\textcolor{keyword}{const} BasePage* a, \textcolor{keyword}{const} BasePage* b) \{}
\DoxyCodeLine{915                 return a-\/>marked\_bytes() < b-\/>marked\_bytes();}
\DoxyCodeLine{916               \});}
\DoxyCodeLine{917     \textcolor{keyword}{auto} first\_non\_empty\_page = std::find\_if(}
\DoxyCodeLine{918         space\_pages.begin(), space\_pages.end(),}
\DoxyCodeLine{919         [](\textcolor{keyword}{const} BasePage* page) \{ return page-\/>marked\_bytes() != 0; \});}
\DoxyCodeLine{920     \mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_aca2a46cea4b0a9c3ed2a939a71c6021a}{empty\_normal\_pages\_}}-\/>\mbox{\hyperlink{structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_ab8654b93fc54d88448cda92d2370039e}{unswept\_pages}}.Insert(space\_pages.begin(),}
\DoxyCodeLine{921                                               first\_non\_empty\_page);}
\DoxyCodeLine{922     (*space\_states\_)[\mbox{\hyperlink{flag-definitions_8h_a087fd0337c14e102a4a2abccd41a39ad}{space}}.index()].unswept\_pages.Insert(first\_non\_empty\_page,}
\DoxyCodeLine{923                                                          space\_pages.end());}
\DoxyCodeLine{924 }
\DoxyCodeLine{925     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{926   \}}

\end{DoxyCode}


References CHECK, v8\+::base\+::sort(), and space.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_a58e058767db31de871ecac3430aab7da_cgraph}
\end{center}
\end{figure}


\doxysubsection{Friends And Related Function Documentation}
\mbox{\Hypertarget{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_a2d9a8158ccbd21a0e3cf0c294a7100fb}\label{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_a2d9a8158ccbd21a0e3cf0c294a7100fb}} 
\index{cppgc::internal::anonymous\_namespace\lcurly{}sweeper.cc\rcurly{}::PrepareForSweepVisitor@{cppgc::internal::anonymous\_namespace\lcurly{}sweeper.cc\rcurly{}::PrepareForSweepVisitor}!HeapVisitor$<$ PrepareForSweepVisitor $>$@{HeapVisitor$<$ PrepareForSweepVisitor $>$}}
\index{HeapVisitor$<$ PrepareForSweepVisitor $>$@{HeapVisitor$<$ PrepareForSweepVisitor $>$}!cppgc::internal::anonymous\_namespace\lcurly{}sweeper.cc\rcurly{}::PrepareForSweepVisitor@{cppgc::internal::anonymous\_namespace\lcurly{}sweeper.cc\rcurly{}::PrepareForSweepVisitor}}
\doxysubsubsection{\texorpdfstring{HeapVisitor$<$ PrepareForSweepVisitor $>$}{HeapVisitor< PrepareForSweepVisitor >}}
{\footnotesize\ttfamily friend class \mbox{\hyperlink{classcppgc_1_1internal_1_1HeapVisitor}{Heap\+Visitor}}$<$ \mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor}{Prepare\+For\+Sweep\+Visitor}} $>$\hspace{0.3cm}{\ttfamily [friend]}}



Definition at line 864 of file sweeper.\+cc.



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_a70c5c0fe422b6ff1552b378f59acbf70}\label{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_a70c5c0fe422b6ff1552b378f59acbf70}} 
\index{cppgc::internal::anonymous\_namespace\lcurly{}sweeper.cc\rcurly{}::PrepareForSweepVisitor@{cppgc::internal::anonymous\_namespace\lcurly{}sweeper.cc\rcurly{}::PrepareForSweepVisitor}!compactable\_space\_handling\_@{compactable\_space\_handling\_}}
\index{compactable\_space\_handling\_@{compactable\_space\_handling\_}!cppgc::internal::anonymous\_namespace\lcurly{}sweeper.cc\rcurly{}::PrepareForSweepVisitor@{cppgc::internal::anonymous\_namespace\lcurly{}sweeper.cc\rcurly{}::PrepareForSweepVisitor}}
\doxysubsubsection{\texorpdfstring{compactable\_space\_handling\_}{compactable\_space\_handling\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{structcppgc_1_1internal_1_1SweepingConfig_a2523f1fec7c4b756d00f3d8c5d658077}{Compactable\+Space\+Handling}} cppgc\+::internal\+::anonymous\+\_\+namespace\{sweeper.\+cc\}\+::Prepare\+For\+Sweep\+Visitor\+::compactable\+\_\+space\+\_\+handling\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 956 of file sweeper.\+cc.

\mbox{\Hypertarget{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_a940ad18b8736f35a376a490865b97d65}\label{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_a940ad18b8736f35a376a490865b97d65}} 
\index{cppgc::internal::anonymous\_namespace\lcurly{}sweeper.cc\rcurly{}::PrepareForSweepVisitor@{cppgc::internal::anonymous\_namespace\lcurly{}sweeper.cc\rcurly{}::PrepareForSweepVisitor}!empty\_large\_pages\_@{empty\_large\_pages\_}}
\index{empty\_large\_pages\_@{empty\_large\_pages\_}!cppgc::internal::anonymous\_namespace\lcurly{}sweeper.cc\rcurly{}::PrepareForSweepVisitor@{cppgc::internal::anonymous\_namespace\lcurly{}sweeper.cc\rcurly{}::PrepareForSweepVisitor}}
\doxysubsubsection{\texorpdfstring{empty\_large\_pages\_}{empty\_large\_pages\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState}{Sweeping\+State}}$\ast$ const cppgc\+::internal\+::anonymous\+\_\+namespace\{sweeper.\+cc\}\+::Prepare\+For\+Sweep\+Visitor\+::empty\+\_\+large\+\_\+pages\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 955 of file sweeper.\+cc.

\mbox{\Hypertarget{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_aca2a46cea4b0a9c3ed2a939a71c6021a}\label{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_aca2a46cea4b0a9c3ed2a939a71c6021a}} 
\index{cppgc::internal::anonymous\_namespace\lcurly{}sweeper.cc\rcurly{}::PrepareForSweepVisitor@{cppgc::internal::anonymous\_namespace\lcurly{}sweeper.cc\rcurly{}::PrepareForSweepVisitor}!empty\_normal\_pages\_@{empty\_normal\_pages\_}}
\index{empty\_normal\_pages\_@{empty\_normal\_pages\_}!cppgc::internal::anonymous\_namespace\lcurly{}sweeper.cc\rcurly{}::PrepareForSweepVisitor@{cppgc::internal::anonymous\_namespace\lcurly{}sweeper.cc\rcurly{}::PrepareForSweepVisitor}}
\doxysubsubsection{\texorpdfstring{empty\_normal\_pages\_}{empty\_normal\_pages\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState}{Sweeping\+State}}$\ast$ const cppgc\+::internal\+::anonymous\+\_\+namespace\{sweeper.\+cc\}\+::Prepare\+For\+Sweep\+Visitor\+::empty\+\_\+normal\+\_\+pages\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 954 of file sweeper.\+cc.

\mbox{\Hypertarget{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_a9e097e2cc47cb67c7666724a0477bbf2}\label{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_a9e097e2cc47cb67c7666724a0477bbf2}} 
\index{cppgc::internal::anonymous\_namespace\lcurly{}sweeper.cc\rcurly{}::PrepareForSweepVisitor@{cppgc::internal::anonymous\_namespace\lcurly{}sweeper.cc\rcurly{}::PrepareForSweepVisitor}!heap\_@{heap\_}}
\index{heap\_@{heap\_}!cppgc::internal::anonymous\_namespace\lcurly{}sweeper.cc\rcurly{}::PrepareForSweepVisitor@{cppgc::internal::anonymous\_namespace\lcurly{}sweeper.cc\rcurly{}::PrepareForSweepVisitor}}
\doxysubsubsection{\texorpdfstring{heap\_}{heap\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classcppgc_1_1internal_1_1HeapBase}{Heap\+Base}}$\ast$ const cppgc\+::internal\+::anonymous\+\_\+namespace\{sweeper.\+cc\}\+::Prepare\+For\+Sweep\+Visitor\+::heap\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 952 of file sweeper.\+cc.

\mbox{\Hypertarget{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_a75851852ef5d1f8d19395585fb5fac60}\label{classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_a75851852ef5d1f8d19395585fb5fac60}} 
\index{cppgc::internal::anonymous\_namespace\lcurly{}sweeper.cc\rcurly{}::PrepareForSweepVisitor@{cppgc::internal::anonymous\_namespace\lcurly{}sweeper.cc\rcurly{}::PrepareForSweepVisitor}!space\_states\_@{space\_states\_}}
\index{space\_states\_@{space\_states\_}!cppgc::internal::anonymous\_namespace\lcurly{}sweeper.cc\rcurly{}::PrepareForSweepVisitor@{cppgc::internal::anonymous\_namespace\lcurly{}sweeper.cc\rcurly{}::PrepareForSweepVisitor}}
\doxysubsubsection{\texorpdfstring{space\_states\_}{space\_states\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_a0a8e019d14ec387ab28d58adeba58710}{Space\+States}}$\ast$ const cppgc\+::internal\+::anonymous\+\_\+namespace\{sweeper.\+cc\}\+::Prepare\+For\+Sweep\+Visitor\+::space\+\_\+states\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 953 of file sweeper.\+cc.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/heap/cppgc/\mbox{\hyperlink{cppgc_2sweeper_8cc}{sweeper.\+cc}}\end{DoxyCompactItemize}
