\hypertarget{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap}{}\doxysection{v8\+::internal\+::wasm\+::Wasm\+Interpreter\+::Code\+Map Class Reference}
\label{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap}\index{v8::internal::wasm::WasmInterpreter::CodeMap@{v8::internal::wasm::WasmInterpreter::CodeMap}}


{\ttfamily \#include $<$wasm-\/interpreter.\+h$>$}



Collaboration diagram for v8\+::internal\+::wasm\+::Wasm\+Interpreter\+::Code\+Map\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_afd7a5cb0219bf414d0432054a1635005}{Code\+Map}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, const \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule}{Wasm\+Module}} $\ast$\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_a6baf43500c06a4dd5a10374d7ebb08c0}{module}}, const uint8\+\_\+t $\ast$module\+\_\+start, \mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}} $\ast$zone)
\item 
const \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule}{Wasm\+Module}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_a6baf43500c06a4dd5a10374d7ebb08c0}{module}} () const
\item 
\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1InterpreterCode}{Interpreter\+Code}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_a18b2864191973b9a22f85c9a54175de9}{Get\+Code}} (uint32\+\_\+t function\+\_\+index)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmBytecode}{Wasm\+Bytecode}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_a8184a2be89d5dbbafd10325b9103b40d}{Get\+Function\+Bytecode}} (uint32\+\_\+t func\+\_\+index)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_ae86cb10aeba7c6d84e4dc1ac911c99cb}{Add\+Function}} (const \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmFunction}{Wasm\+Function}} $\ast$function, const uint8\+\_\+t $\ast$code\+\_\+start, const uint8\+\_\+t $\ast$code\+\_\+end)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_a15821158b44e278e6212421730b5fa2f}{Total\+Bytecode\+Size}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_acac09e8c1200deab6086a2ff1982140a}{Preprocess}} (uint32\+\_\+t function\+\_\+index)
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_ae303d4429edb6659f52d1f3e11e6bd41}{zone\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_a85c13ddfbac20a4124835aff5c39a424}{isolate\+\_\+}}
\item 
const \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule}{Wasm\+Module}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_ace05d158522a2cf543e6be1e84c5f64f}{module\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1ZoneVector}{Zone\+Vector}}$<$ \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1InterpreterCode}{Interpreter\+Code}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_af300bd1e1502bed3fe90eb69ca87b99b}{interpreter\+\_\+code\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1base_1_1TimeDelta}{base\+::\+Time\+Delta}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_ac1cae46720bfd390a69a806e38ba7fec}{bytecode\+\_\+generation\+\_\+time\+\_\+}}
\item 
std\+::atomic$<$ \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_a8fb7a6b8a1b3f04ce3bbf3adf82599a8}{generated\+\_\+code\+\_\+size\+\_\+}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 589 of file wasm-\/interpreter.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_afd7a5cb0219bf414d0432054a1635005}\label{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_afd7a5cb0219bf414d0432054a1635005}} 
\index{v8::internal::wasm::WasmInterpreter::CodeMap@{v8::internal::wasm::WasmInterpreter::CodeMap}!CodeMap@{CodeMap}}
\index{CodeMap@{CodeMap}!v8::internal::wasm::WasmInterpreter::CodeMap@{v8::internal::wasm::WasmInterpreter::CodeMap}}
\doxysubsubsection{\texorpdfstring{CodeMap()}{CodeMap()}}
{\footnotesize\ttfamily v8\+::internal\+::wasm\+::\+Wasm\+Interpreter\+::\+Code\+Map\+::\+Code\+Map (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{const \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule}{Wasm\+Module}} $\ast$}]{module,  }\item[{const uint8\+\_\+t $\ast$}]{module\+\_\+start,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}} $\ast$}]{zone }\end{DoxyParamCaption})}



Definition at line 92 of file wasm-\/interpreter.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{94     : \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_ae303d4429edb6659f52d1f3e11e6bd41}{zone\_}}(zone),}
\DoxyCodeLine{95       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_a85c13ddfbac20a4124835aff5c39a424}{isolate\_}}(isolate),}
\DoxyCodeLine{96       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_ace05d158522a2cf543e6be1e84c5f64f}{module\_}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_a6baf43500c06a4dd5a10374d7ebb08c0}{module}}),}
\DoxyCodeLine{97       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_af300bd1e1502bed3fe90eb69ca87b99b}{interpreter\_code\_}}(zone),}
\DoxyCodeLine{98       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_ac1cae46720bfd390a69a806e38ba7fec}{bytecode\_generation\_time\_}}(),}
\DoxyCodeLine{99       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_a8fb7a6b8a1b3f04ce3bbf3adf82599a8}{generated\_code\_size\_}}(0) \{}
\DoxyCodeLine{100   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_a6baf43500c06a4dd5a10374d7ebb08c0}{module}} == \textcolor{keyword}{nullptr}) \textcolor{keywordflow}{return};}
\DoxyCodeLine{101   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_af300bd1e1502bed3fe90eb69ca87b99b}{interpreter\_code\_}}.reserve(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_a6baf43500c06a4dd5a10374d7ebb08c0}{module}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a79b743888793de4a17ae53dd93988de6}{functions}}.size());}
\DoxyCodeLine{102   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \mbox{\hyperlink{namespacev8_1_1internal_aee315e6fdfed61d0c5a8b4d88d9e85b6}{WasmFunction}}\& \textcolor{keyword}{function} : \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_a6baf43500c06a4dd5a10374d7ebb08c0}{module}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a79b743888793de4a17ae53dd93988de6}{functions}}) \{}
\DoxyCodeLine{103     \textcolor{keywordflow}{if} (\textcolor{keyword}{function}.imported) \{}
\DoxyCodeLine{104       \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!\textcolor{keyword}{function}.\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}.is\_set());}
\DoxyCodeLine{105       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_ae86cb10aeba7c6d84e4dc1ac911c99cb}{AddFunction}}(\&\textcolor{keyword}{function}, \textcolor{keyword}{nullptr}, \textcolor{keyword}{nullptr});}
\DoxyCodeLine{106     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{107       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_ae86cb10aeba7c6d84e4dc1ac911c99cb}{AddFunction}}(\&\textcolor{keyword}{function}, module\_start + \textcolor{keyword}{function}.\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}.offset(),}
\DoxyCodeLine{108                   module\_start + \textcolor{keyword}{function}.code.end\_offset());}
\DoxyCodeLine{109     \}}
\DoxyCodeLine{110   \}}
\DoxyCodeLine{111 \}}

\end{DoxyCode}


References Add\+Function(), code, v8\+::internal\+::\+DCHECK(), v8\+::internal\+::wasm\+::\+Wasm\+Module\+::functions, interpreter\+\_\+code\+\_\+, and module().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_afd7a5cb0219bf414d0432054a1635005_cgraph}
\end{center}
\end{figure}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_ae86cb10aeba7c6d84e4dc1ac911c99cb}\label{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_ae86cb10aeba7c6d84e4dc1ac911c99cb}} 
\index{v8::internal::wasm::WasmInterpreter::CodeMap@{v8::internal::wasm::WasmInterpreter::CodeMap}!AddFunction@{AddFunction}}
\index{AddFunction@{AddFunction}!v8::internal::wasm::WasmInterpreter::CodeMap@{v8::internal::wasm::WasmInterpreter::CodeMap}}
\doxysubsubsection{\texorpdfstring{AddFunction()}{AddFunction()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Wasm\+Interpreter\+::\+Code\+Map\+::\+Add\+Function (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmFunction}{Wasm\+Function}} $\ast$}]{function,  }\item[{const uint8\+\_\+t $\ast$}]{code\+\_\+start,  }\item[{const uint8\+\_\+t $\ast$}]{code\+\_\+end }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 40 of file wasm-\/interpreter-\/inl.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{42                                                                            \{}
\DoxyCodeLine{43   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_af300bd1e1502bed3fe90eb69ca87b99b}{interpreter\_code\_}}.size(), function-\/>func\_index);}
\DoxyCodeLine{44   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_af300bd1e1502bed3fe90eb69ca87b99b}{interpreter\_code\_}}.emplace\_back(\textcolor{keyword}{function}, BodyLocalDecls(),}
\DoxyCodeLine{45                                  \textcolor{keyword}{const\_cast<}uint8\_t*\textcolor{keyword}{>}(code\_start),}
\DoxyCodeLine{46                                  \textcolor{keyword}{const\_cast<}uint8\_t*\textcolor{keyword}{>}(code\_end));}
\DoxyCodeLine{47 \}}

\end{DoxyCode}


References DCHECK\+\_\+\+EQ.



Referenced by Code\+Map().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_ae86cb10aeba7c6d84e4dc1ac911c99cb_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_a18b2864191973b9a22f85c9a54175de9}\label{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_a18b2864191973b9a22f85c9a54175de9}} 
\index{v8::internal::wasm::WasmInterpreter::CodeMap@{v8::internal::wasm::WasmInterpreter::CodeMap}!GetCode@{GetCode}}
\index{GetCode@{GetCode}!v8::internal::wasm::WasmInterpreter::CodeMap@{v8::internal::wasm::WasmInterpreter::CodeMap}}
\doxysubsubsection{\texorpdfstring{GetCode()}{GetCode()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1InterpreterCode}{Interpreter\+Code}} $\ast$ v8\+::internal\+::wasm\+::\+Wasm\+Interpreter\+::\+Code\+Map\+::\+Get\+Code (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{function\+\_\+index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 21 of file wasm-\/interpreter-\/inl.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{22                              \{}
\DoxyCodeLine{23   \mbox{\hyperlink{src_2base_2logging_8h_af1a711c8d5520dff78858ddefd2ad668}{DCHECK\_LT}}(function\_index, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_af300bd1e1502bed3fe90eb69ca87b99b}{interpreter\_code\_}}.size());}
\DoxyCodeLine{24   InterpreterCode* \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}} = \&\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_af300bd1e1502bed3fe90eb69ca87b99b}{interpreter\_code\_}}[function\_index];}
\DoxyCodeLine{25   \textcolor{keywordflow}{if} (\mbox{\hyperlink{v8config_8h_a67bd29db07c711b0fb11ff1c324ebb60}{V8\_UNLIKELY}}(!\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>bytecode \&\& \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>start)) \{}
\DoxyCodeLine{26     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_acac09e8c1200deab6086a2ff1982140a}{Preprocess}}(function\_index);}
\DoxyCodeLine{27   \}}
\DoxyCodeLine{28   \textcolor{keywordflow}{return} \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}};}
\DoxyCodeLine{29 \}}

\end{DoxyCode}


References code, DCHECK\+\_\+\+LT, interpreter\+\_\+code\+\_\+, Preprocess(), and V8\+\_\+\+UNLIKELY.



Referenced by v8\+::internal\+::wasm\+::\+Wasm\+Interpreter\+::\+Begin\+Execution().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_a18b2864191973b9a22f85c9a54175de9_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_a18b2864191973b9a22f85c9a54175de9_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_a8184a2be89d5dbbafd10325b9103b40d}\label{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_a8184a2be89d5dbbafd10325b9103b40d}} 
\index{v8::internal::wasm::WasmInterpreter::CodeMap@{v8::internal::wasm::WasmInterpreter::CodeMap}!GetFunctionBytecode@{GetFunctionBytecode}}
\index{GetFunctionBytecode@{GetFunctionBytecode}!v8::internal::wasm::WasmInterpreter::CodeMap@{v8::internal::wasm::WasmInterpreter::CodeMap}}
\doxysubsubsection{\texorpdfstring{GetFunctionBytecode()}{GetFunctionBytecode()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmBytecode}{Wasm\+Bytecode}} $\ast$ v8\+::internal\+::wasm\+::\+Wasm\+Interpreter\+::\+Code\+Map\+::\+Get\+Function\+Bytecode (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{func\+\_\+index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 31 of file wasm-\/interpreter-\/inl.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{32                          \{}
\DoxyCodeLine{33   \mbox{\hyperlink{src_2base_2logging_8h_af1a711c8d5520dff78858ddefd2ad668}{DCHECK\_LT}}(func\_index, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_af300bd1e1502bed3fe90eb69ca87b99b}{interpreter\_code\_}}.size());}
\DoxyCodeLine{34 }
\DoxyCodeLine{35   \textcolor{comment}{// This precompiles the target function.}}
\DoxyCodeLine{36   InterpreterCode* \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}} = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_a18b2864191973b9a22f85c9a54175de9}{GetCode}}(func\_index);}
\DoxyCodeLine{37   \textcolor{keywordflow}{return} \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>bytecode.get();}
\DoxyCodeLine{38 \}}

\end{DoxyCode}


References code, and DCHECK\+\_\+\+LT.



Referenced by v8\+::internal\+::wasm\+::\+Wasm\+Interpreter\+Runtime\+::\+Get\+Function\+Bytecode().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_a8184a2be89d5dbbafd10325b9103b40d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_a6baf43500c06a4dd5a10374d7ebb08c0}\label{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_a6baf43500c06a4dd5a10374d7ebb08c0}} 
\index{v8::internal::wasm::WasmInterpreter::CodeMap@{v8::internal::wasm::WasmInterpreter::CodeMap}!module@{module}}
\index{module@{module}!v8::internal::wasm::WasmInterpreter::CodeMap@{v8::internal::wasm::WasmInterpreter::CodeMap}}
\doxysubsubsection{\texorpdfstring{module()}{module()}}
{\footnotesize\ttfamily const \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule}{Wasm\+Module}}$\ast$ v8\+::internal\+::wasm\+::\+Wasm\+Interpreter\+::\+Code\+Map\+::module (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 594 of file wasm-\/interpreter.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{594 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_ace05d158522a2cf543e6be1e84c5f64f}{module\_}}; \}}

\end{DoxyCode}


Referenced by Code\+Map().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_a6baf43500c06a4dd5a10374d7ebb08c0_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_acac09e8c1200deab6086a2ff1982140a}\label{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_acac09e8c1200deab6086a2ff1982140a}} 
\index{v8::internal::wasm::WasmInterpreter::CodeMap@{v8::internal::wasm::WasmInterpreter::CodeMap}!Preprocess@{Preprocess}}
\index{Preprocess@{Preprocess}!v8::internal::wasm::WasmInterpreter::CodeMap@{v8::internal::wasm::WasmInterpreter::CodeMap}}
\doxysubsubsection{\texorpdfstring{Preprocess()}{Preprocess()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Wasm\+Interpreter\+::\+Code\+Map\+::\+Preprocess (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{function\+\_\+index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 113 of file wasm-\/interpreter.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{113                                                                \{}
\DoxyCodeLine{114   InterpreterCode* \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}} = \&\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_af300bd1e1502bed3fe90eb69ca87b99b}{interpreter\_code\_}}[function\_index];}
\DoxyCodeLine{115   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>function-\/>imported, \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>start == \textcolor{keyword}{nullptr});}
\DoxyCodeLine{116   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>bytecode \&\& \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>start);}
\DoxyCodeLine{117 }
\DoxyCodeLine{118   base::TimeTicks start\_time = \mbox{\hyperlink{classv8_1_1base_1_1TimeTicks_ab0886bf0e84f1e1fcdc101021c2c0775}{base::TimeTicks::Now}}();}
\DoxyCodeLine{119 }
\DoxyCodeLine{120   \textcolor{comment}{// Compute the control targets map and the local declarations.}}
\DoxyCodeLine{121   BytecodeIterator it(\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>start, \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>end, \&\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>locals, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_ae303d4429edb6659f52d1f3e11e6bd41}{zone\_}});}
\DoxyCodeLine{122 }
\DoxyCodeLine{123   WasmBytecodeGenerator bytecode\_generator(function\_index, \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_ace05d158522a2cf543e6be1e84c5f64f}{module\_}});}
\DoxyCodeLine{124   \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>bytecode = bytecode\_generator.GenerateBytecode();}
\DoxyCodeLine{125 }
\DoxyCodeLine{126   \textcolor{comment}{// Generate histogram sample to measure the time spent generating the}}
\DoxyCodeLine{127   \textcolor{comment}{// bytecode. Reuse the WasmCompileModuleMicroSeconds.wasm that is currently}}
\DoxyCodeLine{128   \textcolor{comment}{// obsolete.}}
\DoxyCodeLine{129   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1base_1_1TimeTicks_acdd9f8482c321164c58f46bc65372c9b}{base::TimeTicks::IsHighResolution}}()) \{}
\DoxyCodeLine{130     base::TimeDelta \mbox{\hyperlink{namespacev8_1_1internal_aae0d674c07aba6028b4ee683cb1e760d}{duration}} = \mbox{\hyperlink{classv8_1_1base_1_1TimeTicks_ab0886bf0e84f1e1fcdc101021c2c0775}{base::TimeTicks::Now}}() -\/ start\_time;}
\DoxyCodeLine{131     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_ac1cae46720bfd390a69a806e38ba7fec}{bytecode\_generation\_time\_}} += \mbox{\hyperlink{namespacev8_1_1internal_aae0d674c07aba6028b4ee683cb1e760d}{duration}};}
\DoxyCodeLine{132     \textcolor{keywordtype}{int} bytecode\_generation\_time\_usecs =}
\DoxyCodeLine{133         \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_ac1cae46720bfd390a69a806e38ba7fec}{bytecode\_generation\_time\_}}.\mbox{\hyperlink{classv8_1_1base_1_1TimeDelta_ad9006b332aa15e66f2ddb8e8ba910892}{InMicroseconds}}());}
\DoxyCodeLine{134 }
\DoxyCodeLine{135     \textcolor{comment}{// TODO(paolosev@microsoft.com) Do not add a sample for each function!}}
\DoxyCodeLine{136     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_a85c13ddfbac20a4124835aff5c39a424}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a9690b82e4f9b4c8a9160630396cde0b3}{counters}}()-\/>wasm\_compile\_wasm\_module\_time()-\/>AddSample(}
\DoxyCodeLine{137         bytecode\_generation\_time\_usecs);}
\DoxyCodeLine{138   \}}
\DoxyCodeLine{139 }
\DoxyCodeLine{140   \textcolor{comment}{// Generate histogram sample to measure the bytecode size. Reuse the}}
\DoxyCodeLine{141   \textcolor{comment}{// V8.WasmModuleCodeSizeMiB (see \{NativeModule::SampleCodeSize\}).}}
\DoxyCodeLine{142   \textcolor{keywordtype}{int} prev\_code\_size\_mb = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_a8fb7a6b8a1b3f04ce3bbf3adf82599a8}{generated\_code\_size\_}} == 0}
\DoxyCodeLine{143                               ? -\/1}
\DoxyCodeLine{144                               : \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_a8fb7a6b8a1b3f04ce3bbf3adf82599a8}{generated\_code\_size\_}} / \mbox{\hyperlink{namespacev8_1_1internal_af46551c5713d2a3a1be4dca973e521e0}{MB}});}
\DoxyCodeLine{145   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_a8fb7a6b8a1b3f04ce3bbf3adf82599a8}{generated\_code\_size\_}}.fetch\_add(\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>bytecode-\/>GetCodeSize());}
\DoxyCodeLine{146   \textcolor{keywordtype}{int} code\_size\_mb = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_a8fb7a6b8a1b3f04ce3bbf3adf82599a8}{generated\_code\_size\_}} / \mbox{\hyperlink{namespacev8_1_1internal_af46551c5713d2a3a1be4dca973e521e0}{MB}});}
\DoxyCodeLine{147   \textcolor{keywordflow}{if} (prev\_code\_size\_mb < code\_size\_mb) \{}
\DoxyCodeLine{148     Histogram* histogram = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_a85c13ddfbac20a4124835aff5c39a424}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a9690b82e4f9b4c8a9160630396cde0b3}{counters}}()-\/>wasm\_module\_code\_size\_mb();}
\DoxyCodeLine{149     histogram-\/>AddSample(code\_size\_mb);}
\DoxyCodeLine{150   \}}
\DoxyCodeLine{151 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Histogram\+::\+Add\+Sample(), code, v8\+::internal\+::\+Histogram\+::counters(), v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+EQ, v8\+::internal\+::duration, v8\+::internal\+::wasm\+::\+Wasm\+Bytecode\+Generator\+::\+Generate\+Bytecode(), v8\+::base\+::\+Time\+Ticks\+::\+Is\+High\+Resolution(), v8\+::internal\+::\+MB, v8\+::base\+::\+Time\+Ticks\+::\+Now(), and v8\+::internal\+::wasm\+::\+Wasm\+Interpreter\+::zone\+\_\+.



Referenced by Get\+Code().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_acac09e8c1200deab6086a2ff1982140a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_acac09e8c1200deab6086a2ff1982140a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_a15821158b44e278e6212421730b5fa2f}\label{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_a15821158b44e278e6212421730b5fa2f}} 
\index{v8::internal::wasm::WasmInterpreter::CodeMap@{v8::internal::wasm::WasmInterpreter::CodeMap}!TotalBytecodeSize@{TotalBytecodeSize}}
\index{TotalBytecodeSize@{TotalBytecodeSize}!v8::internal::wasm::WasmInterpreter::CodeMap@{v8::internal::wasm::WasmInterpreter::CodeMap}}
\doxysubsubsection{\texorpdfstring{TotalBytecodeSize()}{TotalBytecodeSize()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::wasm\+::\+Wasm\+Interpreter\+::\+Code\+Map\+::\+Total\+Bytecode\+Size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 603 of file wasm-\/interpreter.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{603                                \{}
\DoxyCodeLine{604       \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_a8fb7a6b8a1b3f04ce3bbf3adf82599a8}{generated\_code\_size\_}}.load(std::memory\_order\_relaxed);}
\DoxyCodeLine{605     \}}

\end{DoxyCode}


Referenced by v8\+::internal\+::wasm\+::\+Wasm\+Interpreter\+Runtime\+::\+Total\+Bytecode\+Size().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_a15821158b44e278e6212421730b5fa2f_icgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_ac1cae46720bfd390a69a806e38ba7fec}\label{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_ac1cae46720bfd390a69a806e38ba7fec}} 
\index{v8::internal::wasm::WasmInterpreter::CodeMap@{v8::internal::wasm::WasmInterpreter::CodeMap}!bytecode\_generation\_time\_@{bytecode\_generation\_time\_}}
\index{bytecode\_generation\_time\_@{bytecode\_generation\_time\_}!v8::internal::wasm::WasmInterpreter::CodeMap@{v8::internal::wasm::WasmInterpreter::CodeMap}}
\doxysubsubsection{\texorpdfstring{bytecode\_generation\_time\_}{bytecode\_generation\_time\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1base_1_1TimeDelta}{base\+::\+Time\+Delta}} v8\+::internal\+::wasm\+::\+Wasm\+Interpreter\+::\+Code\+Map\+::bytecode\+\_\+generation\+\_\+time\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 615 of file wasm-\/interpreter.\+h.

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_a8fb7a6b8a1b3f04ce3bbf3adf82599a8}\label{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_a8fb7a6b8a1b3f04ce3bbf3adf82599a8}} 
\index{v8::internal::wasm::WasmInterpreter::CodeMap@{v8::internal::wasm::WasmInterpreter::CodeMap}!generated\_code\_size\_@{generated\_code\_size\_}}
\index{generated\_code\_size\_@{generated\_code\_size\_}!v8::internal::wasm::WasmInterpreter::CodeMap@{v8::internal::wasm::WasmInterpreter::CodeMap}}
\doxysubsubsection{\texorpdfstring{generated\_code\_size\_}{generated\_code\_size\_}}
{\footnotesize\ttfamily std\+::atomic$<$\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}$>$ v8\+::internal\+::wasm\+::\+Wasm\+Interpreter\+::\+Code\+Map\+::generated\+\_\+code\+\_\+size\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 616 of file wasm-\/interpreter.\+h.

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_af300bd1e1502bed3fe90eb69ca87b99b}\label{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_af300bd1e1502bed3fe90eb69ca87b99b}} 
\index{v8::internal::wasm::WasmInterpreter::CodeMap@{v8::internal::wasm::WasmInterpreter::CodeMap}!interpreter\_code\_@{interpreter\_code\_}}
\index{interpreter\_code\_@{interpreter\_code\_}!v8::internal::wasm::WasmInterpreter::CodeMap@{v8::internal::wasm::WasmInterpreter::CodeMap}}
\doxysubsubsection{\texorpdfstring{interpreter\_code\_}{interpreter\_code\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1ZoneVector}{Zone\+Vector}}$<$\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1InterpreterCode}{Interpreter\+Code}}$>$ v8\+::internal\+::wasm\+::\+Wasm\+Interpreter\+::\+Code\+Map\+::interpreter\+\_\+code\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 613 of file wasm-\/interpreter.\+h.



Referenced by Code\+Map(), and Get\+Code().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_a85c13ddfbac20a4124835aff5c39a424}\label{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_a85c13ddfbac20a4124835aff5c39a424}} 
\index{v8::internal::wasm::WasmInterpreter::CodeMap@{v8::internal::wasm::WasmInterpreter::CodeMap}!isolate\_@{isolate\_}}
\index{isolate\_@{isolate\_}!v8::internal::wasm::WasmInterpreter::CodeMap@{v8::internal::wasm::WasmInterpreter::CodeMap}}
\doxysubsubsection{\texorpdfstring{isolate\_}{isolate\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}}$\ast$ v8\+::internal\+::wasm\+::\+Wasm\+Interpreter\+::\+Code\+Map\+::isolate\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 611 of file wasm-\/interpreter.\+h.

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_ace05d158522a2cf543e6be1e84c5f64f}\label{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_ace05d158522a2cf543e6be1e84c5f64f}} 
\index{v8::internal::wasm::WasmInterpreter::CodeMap@{v8::internal::wasm::WasmInterpreter::CodeMap}!module\_@{module\_}}
\index{module\_@{module\_}!v8::internal::wasm::WasmInterpreter::CodeMap@{v8::internal::wasm::WasmInterpreter::CodeMap}}
\doxysubsubsection{\texorpdfstring{module\_}{module\_}}
{\footnotesize\ttfamily const \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule}{Wasm\+Module}}$\ast$ v8\+::internal\+::wasm\+::\+Wasm\+Interpreter\+::\+Code\+Map\+::module\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 612 of file wasm-\/interpreter.\+h.

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_ae303d4429edb6659f52d1f3e11e6bd41}\label{classv8_1_1internal_1_1wasm_1_1WasmInterpreter_1_1CodeMap_ae303d4429edb6659f52d1f3e11e6bd41}} 
\index{v8::internal::wasm::WasmInterpreter::CodeMap@{v8::internal::wasm::WasmInterpreter::CodeMap}!zone\_@{zone\_}}
\index{zone\_@{zone\_}!v8::internal::wasm::WasmInterpreter::CodeMap@{v8::internal::wasm::WasmInterpreter::CodeMap}}
\doxysubsubsection{\texorpdfstring{zone\_}{zone\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}}$\ast$ v8\+::internal\+::wasm\+::\+Wasm\+Interpreter\+::\+Code\+Map\+::zone\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 610 of file wasm-\/interpreter.\+h.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/wasm/interpreter/\mbox{\hyperlink{wasm-interpreter_8h}{wasm-\/interpreter.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/wasm/interpreter/\mbox{\hyperlink{wasm-interpreter-inl_8h}{wasm-\/interpreter-\/inl.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/wasm/interpreter/\mbox{\hyperlink{wasm-interpreter_8cc}{wasm-\/interpreter.\+cc}}\end{DoxyCompactItemize}
