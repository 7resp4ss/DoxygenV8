\hypertarget{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03}{}\doxysection{v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{wasm-\/code-\/manager.cc\} Namespace Reference}
\label{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03}\index{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}@{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}}}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1CoverageFileWriter}{Coverage\+File\+Writer}}
\item 
class \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1NativeModuleWireBytesStorage}{Native\+Module\+Wire\+Bytes\+Storage}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_a08e0030ca5b0ab15720168dafe9c5c0d}{Protected\+Instruction\+Data\+Compare}} (const \mbox{\hyperlink{structv8_1_1internal_1_1trap__handler_1_1ProtectedInstructionData}{Protected\+Instruction\+Data}} \&left, const \mbox{\hyperlink{structv8_1_1internal_1_1trap__handler_1_1ProtectedInstructionData}{Protected\+Instruction\+Data}} \&right)
\item 
\mbox{\hyperlink{classv8_1_1base_1_1SmallVector}{base\+::\+Small\+Vector}}$<$ \mbox{\hyperlink{classv8_1_1base_1_1AddressRegion}{base\+::\+Address\+Region}}, 1 $>$ \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_a6b9409414ed9e23ba58f7fd48c6f7937}{Split\+Range\+By\+Reservations\+If\+Needed}} (\mbox{\hyperlink{classv8_1_1base_1_1AddressRegion}{base\+::\+Address\+Region}} range, const std\+::vector$<$ \mbox{\hyperlink{classv8_1_1internal_1_1VirtualMemory}{Virtual\+Memory}} $>$ \&owned\+\_\+code\+\_\+space)
\item 
\mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_a20eca43d1fce6cfb2a372f61af3c754f}{Num\+Wasm\+Functions\+In\+Far\+Jump\+Table}} (uint32\+\_\+t num\+\_\+declared\+\_\+functions)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_aaf0913fdb4fd2cac1a727020988a3cc8}{Overhead\+Per\+Code\+Space}} (uint32\+\_\+t num\+\_\+declared\+\_\+functions)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_af740a9a06db337429beba5125b64f657}{Reservation\+Size\+For\+Wasm\+Code}} (\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} needed\+\_\+size, \mbox{\hyperlink{classint}{int}} num\+\_\+declared\+\_\+functions, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} total\+\_\+reserved\+\_\+so\+\_\+far)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_a4a8acae24d59564ce8ce9890d59852ee}{Reservation\+Size\+For\+Wrappers}} (\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} needed\+\_\+size, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} total\+\_\+reserved\+\_\+so\+\_\+far)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_affba95694ddfc3cdf2e345f8ed110b0e}{Thread\+Isolation\+::\+Jit\+Allocation\+Type}} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_a2badb95b32597d70458151d3b6a474ad}{To\+Allocation\+Type}} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule_a8125eaffd4b01d09e3e172cab5f94d12}{v8\+::internal\+::wasm\+::\+Native\+Module\+::\+Jump\+Table\+Type}} type)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_acc4a1ad690326b2dec4450f288512cd0}{Should\+Remove\+Code}} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCode}{Wasm\+Code}} $\ast$\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule_addb6002d53e166907484bf3715ff599c}{Native\+Module\+::\+Remove\+Filter}} filter)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
constexpr \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_ad801d53720b44441bc58d091080c84ff}{k\+Needs\+To\+Split\+Range\+By\+Reservations}} = \mbox{\hyperlink{flag-definitions_8h_a3a9beadc89284d3f78a7d4945b1b4d8c}{false}}
\item 
constexpr \mbox{\hyperlink{classv8_1_1base_1_1AddressRegion}{base\+::\+Address\+Region}} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_a8461a4bc3623a7968bca9f25f17474f3}{k\+Unrestricted\+Region}}
\item 
constexpr \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_a93d8640192430c5aa311574383d61852}{k\+Turbofan\+Function\+Overhead}} = 44
\item 
constexpr \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_ac6aa19bf8c4fd80552e4c824e68487e7}{k\+Turbofan\+Code\+Size\+Multiplier}} = 4
\item 
constexpr \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_aec9c68fab0e549d2a7e8c7c55f76508f}{k\+Liftoff\+Function\+Overhead}} = 96
\item 
constexpr \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_ae77bb61bd9be7313c88b369cec892fe4}{k\+Liftoff\+Code\+Size\+Multiplier}} = 5
\item 
thread\+\_\+local \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope}{Wasm\+Code\+Ref\+Scope}} $\ast$ \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_aae00925142424a92d32f60d97f20a0f7}{current\+\_\+code\+\_\+refs\+\_\+scope}} = \mbox{\hyperlink{flag-definitions_8h_aca14fbede0905858c819226fce3678cc}{nullptr}}
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_a20eca43d1fce6cfb2a372f61af3c754f}\label{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_a20eca43d1fce6cfb2a372f61af3c754f}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}@{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}}!NumWasmFunctionsInFarJumpTable@{NumWasmFunctionsInFarJumpTable}}
\index{NumWasmFunctionsInFarJumpTable@{NumWasmFunctionsInFarJumpTable}!v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}@{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{NumWasmFunctionsInFarJumpTable()}{NumWasmFunctionsInFarJumpTable()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classint}{int}} v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{wasm-\/\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/manager.\+cc\}\+::Num\+Wasm\+Functions\+In\+Far\+Jump\+Table (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{num\+\_\+declared\+\_\+functions }\end{DoxyParamCaption})}



Definition at line 697 of file wasm-\/code-\/manager.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{697                                                                     \{}
\DoxyCodeLine{698   \textcolor{keywordflow}{return} NativeModule::kNeedsFarJumpsBetweenCodeSpaces}
\DoxyCodeLine{699              ? \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(num\_declared\_functions)}
\DoxyCodeLine{700              : 0;}
\DoxyCodeLine{701 \}}

\end{DoxyCode}


References v8\+::internal\+::wasm\+::\+Native\+Module\+::k\+Needs\+Far\+Jumps\+Between\+Code\+Spaces.



Referenced by v8\+::internal\+::wasm\+::\+Native\+Module\+::\+Add\+Code\+Space\+Locked(), v8\+::internal\+::wasm\+::\+Wasm\+Code\+Manager\+::\+Estimate\+Native\+Module\+Meta\+Data\+Size(), and Overhead\+Per\+Code\+Space().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_a20eca43d1fce6cfb2a372f61af3c754f_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_aaf0913fdb4fd2cac1a727020988a3cc8}\label{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_aaf0913fdb4fd2cac1a727020988a3cc8}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}@{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}}!OverheadPerCodeSpace@{OverheadPerCodeSpace}}
\index{OverheadPerCodeSpace@{OverheadPerCodeSpace}!v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}@{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{OverheadPerCodeSpace()}{OverheadPerCodeSpace()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{wasm-\/\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/manager.\+cc\}\+::Overhead\+Per\+Code\+Space (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{num\+\_\+declared\+\_\+functions }\end{DoxyParamCaption})}



Definition at line 705 of file wasm-\/code-\/manager.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{705                                                              \{}
\DoxyCodeLine{706   \textcolor{comment}{// Overhead for the jump table.}}
\DoxyCodeLine{707   \textcolor{keywordtype}{size\_t} overhead = RoundUp<kCodeAlignment>(}
\DoxyCodeLine{708       JumpTableAssembler::SizeForNumberOfSlots(num\_declared\_functions));}
\DoxyCodeLine{709 }
\DoxyCodeLine{710 \textcolor{preprocessor}{\#if defined(V8\_OS\_WIN64)}}
\DoxyCodeLine{711   \textcolor{comment}{// On Win64, we need to reserve some pages at the beginning of an executable}}
\DoxyCodeLine{712   \textcolor{comment}{// space. See \{AddCodeSpace\}.}}
\DoxyCodeLine{713   overhead += Heap::GetCodeRangeReservedAreaSize();}
\DoxyCodeLine{714 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// V8\_OS\_WIN64}}
\DoxyCodeLine{715 }
\DoxyCodeLine{716   \textcolor{comment}{// Overhead for the far jump table.}}
\DoxyCodeLine{717   \textcolor{keywordflow}{if} constexpr (NativeModule::kNeedsFarJumpsBetweenCodeSpaces) \{}
\DoxyCodeLine{718     overhead +=}
\DoxyCodeLine{719         RoundUp<kCodeAlignment>(JumpTableAssembler::SizeForNumberOfFarJumpSlots(}
\DoxyCodeLine{720             BuiltinLookup::BuiltinCount(),}
\DoxyCodeLine{721             \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_a20eca43d1fce6cfb2a372f61af3c754f}{NumWasmFunctionsInFarJumpTable}}(num\_declared\_functions)));}
\DoxyCodeLine{722   \}}
\DoxyCodeLine{723 }
\DoxyCodeLine{724   \textcolor{keywordflow}{return} overhead;}
\DoxyCodeLine{725 \}}

\end{DoxyCode}


References v8\+::internal\+::wasm\+::\+Builtin\+Lookup\+::\+Builtin\+Count(), v8\+::internal\+::\+Heap\+::\+Get\+Code\+Range\+Reserved\+Area\+Size(), v8\+::internal\+::wasm\+::\+Native\+Module\+::k\+Needs\+Far\+Jumps\+Between\+Code\+Spaces, Num\+Wasm\+Functions\+In\+Far\+Jump\+Table(), v8\+::internal\+::wasm\+::\+Jump\+Table\+Assembler\+::\+Size\+For\+Number\+Of\+Far\+Jump\+Slots(), and v8\+::internal\+::wasm\+::\+Jump\+Table\+Assembler\+::\+Size\+For\+Number\+Of\+Slots().



Referenced by v8\+::internal\+::wasm\+::\+Native\+Module\+::\+Add\+Code\+Space\+Locked(), and Reservation\+Size\+For\+Wasm\+Code().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_aaf0913fdb4fd2cac1a727020988a3cc8_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_aaf0913fdb4fd2cac1a727020988a3cc8_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_a08e0030ca5b0ab15720168dafe9c5c0d}\label{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_a08e0030ca5b0ab15720168dafe9c5c0d}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}@{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}}!ProtectedInstructionDataCompare@{ProtectedInstructionDataCompare}}
\index{ProtectedInstructionDataCompare@{ProtectedInstructionDataCompare}!v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}@{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{ProtectedInstructionDataCompare()}{ProtectedInstructionDataCompare()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{wasm-\/\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/manager.\+cc\}\+::Protected\+Instruction\+Data\+Compare (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structv8_1_1internal_1_1trap__handler_1_1ProtectedInstructionData}{Protected\+Instruction\+Data}} \&}]{left,  }\item[{const \mbox{\hyperlink{structv8_1_1internal_1_1trap__handler_1_1ProtectedInstructionData}{Protected\+Instruction\+Data}} \&}]{right }\end{DoxyParamCaption})}



Definition at line 330 of file wasm-\/code-\/manager.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{331                                                                             \{}
\DoxyCodeLine{332   \textcolor{keywordflow}{return} left.instr\_offset < right.instr\_offset;}
\DoxyCodeLine{333 \}}

\end{DoxyCode}


References v8\+::internal\+::trap\+\_\+handler\+::\+Protected\+Instruction\+Data\+::instr\+\_\+offset.



Referenced by v8\+::internal\+::wasm\+::\+Wasm\+Code\+::\+Is\+Protected\+Instruction().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_a08e0030ca5b0ab15720168dafe9c5c0d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_af740a9a06db337429beba5125b64f657}\label{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_af740a9a06db337429beba5125b64f657}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}@{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}}!ReservationSizeForWasmCode@{ReservationSizeForWasmCode}}
\index{ReservationSizeForWasmCode@{ReservationSizeForWasmCode}!v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}@{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{ReservationSizeForWasmCode()}{ReservationSizeForWasmCode()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{wasm-\/\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/manager.\+cc\}\+::Reservation\+Size\+For\+Wasm\+Code (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{needed\+\_\+size,  }\item[{\mbox{\hyperlink{classint}{int}}}]{num\+\_\+declared\+\_\+functions,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{total\+\_\+reserved\+\_\+so\+\_\+far }\end{DoxyParamCaption})}



Definition at line 730 of file wasm-\/code-\/manager.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{732                                                                 \{}
\DoxyCodeLine{733   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(needed\_size == 0, num\_declared\_functions == 0);}
\DoxyCodeLine{734   \textcolor{keywordflow}{if} (needed\_size == 0) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{735 }
\DoxyCodeLine{736   \textcolor{keywordtype}{size\_t} overhead = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_aaf0913fdb4fd2cac1a727020988a3cc8}{OverheadPerCodeSpace}}(num\_declared\_functions);}
\DoxyCodeLine{737 }
\DoxyCodeLine{738   \textcolor{comment}{// Reserve the maximum of}}
\DoxyCodeLine{739   \textcolor{comment}{//   a) needed size + overhead (this is the minimum needed)}}
\DoxyCodeLine{740   \textcolor{comment}{//   b) 2 * overhead (to not waste too much space by overhead)}}
\DoxyCodeLine{741   \textcolor{comment}{//   c) 1/4 of current total reservation size (to grow exponentially)}}
\DoxyCodeLine{742   \textcolor{comment}{// For the minimum size we only take the overhead into account and not the}}
\DoxyCodeLine{743   \textcolor{comment}{// code space estimate, for two reasons:}}
\DoxyCodeLine{744   \textcolor{comment}{//  -\/ The code space estimate is only an estimate; we might actually need less}}
\DoxyCodeLine{745   \textcolor{comment}{//    space later.}}
\DoxyCodeLine{746   \textcolor{comment}{//  -\/ When called at module construction time we pass the estimate for all}}
\DoxyCodeLine{747   \textcolor{comment}{//    code in the module; this can still be split up into multiple spaces}}
\DoxyCodeLine{748   \textcolor{comment}{//    later.}}
\DoxyCodeLine{749   \textcolor{keywordtype}{size\_t} minimum\_size = 2 * overhead;}
\DoxyCodeLine{750   \textcolor{keywordtype}{size\_t} suggested\_size = std::max(}
\DoxyCodeLine{751       std::max(RoundUp<kCodeAlignment>(needed\_size) + overhead, minimum\_size),}
\DoxyCodeLine{752       total\_reserved\_so\_far / 4);}
\DoxyCodeLine{753 }
\DoxyCodeLine{754   \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} max\_code\_space\_size =}
\DoxyCodeLine{755       \textcolor{keywordtype}{size\_t}\{\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.wasm\_max\_code\_space\_size\_mb\} * \mbox{\hyperlink{flag-definitions_8h_a67f6e75911a1c9e16076ff4db599e681}{MB}};}
\DoxyCodeLine{756   \textcolor{keywordflow}{if} (\mbox{\hyperlink{v8config_8h_a67bd29db07c711b0fb11ff1c324ebb60}{V8\_UNLIKELY}}(minimum\_size > max\_code\_space\_size)) \{}
\DoxyCodeLine{757     \textcolor{keyword}{auto} oom\_detail = \mbox{\hyperlink{namespacev8_1_1base_a8a96976677371a5201af88b56be08915}{base::FormattedString}}\{\}}
\DoxyCodeLine{758                       << \textcolor{stringliteral}{"{}required reservation minimum ("{}} << minimum\_size}
\DoxyCodeLine{759                       << \textcolor{stringliteral}{"{}) is bigger than supported maximum ("{}}}
\DoxyCodeLine{760                       << max\_code\_space\_size << \textcolor{stringliteral}{"{})"{}};}
\DoxyCodeLine{761     V8::FatalProcessOutOfMemory(\textcolor{keyword}{nullptr},}
\DoxyCodeLine{762                                 \textcolor{stringliteral}{"{}Exceeding maximum wasm code space size"{}},}
\DoxyCodeLine{763                                 oom\_detail.PrintToArray().data());}
\DoxyCodeLine{764     \mbox{\hyperlink{src_2base_2logging_8h_a0bc63b24b654ca433be7b97a3edde132}{UNREACHABLE}}();}
\DoxyCodeLine{765   \}}
\DoxyCodeLine{766 }
\DoxyCodeLine{767   \textcolor{comment}{// Limit by the maximum code space size.}}
\DoxyCodeLine{768   \textcolor{keywordflow}{return} std::min(max\_code\_space\_size, suggested\_size);}
\DoxyCodeLine{769 \}}

\end{DoxyCode}


References DCHECK\+\_\+\+EQ, v8\+::internal\+::\+V8\+::\+Fatal\+Process\+Out\+Of\+Memory(), v8\+::internal\+::\+MB, Overhead\+Per\+Code\+Space(), v8\+::internal\+::\+UNREACHABLE(), v8\+::internal\+::v8\+\_\+flags, and V8\+\_\+\+UNLIKELY.



Referenced by v8\+::internal\+::wasm\+::\+Wasm\+Code\+Allocator\+::\+Allocate\+For\+Code\+In\+Region(), and v8\+::internal\+::wasm\+::\+Wasm\+Code\+Manager\+::\+New\+Native\+Module().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_af740a9a06db337429beba5125b64f657_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_af740a9a06db337429beba5125b64f657_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_a4a8acae24d59564ce8ce9890d59852ee}\label{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_a4a8acae24d59564ce8ce9890d59852ee}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}@{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}}!ReservationSizeForWrappers@{ReservationSizeForWrappers}}
\index{ReservationSizeForWrappers@{ReservationSizeForWrappers}!v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}@{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{ReservationSizeForWrappers()}{ReservationSizeForWrappers()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{wasm-\/\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/manager.\+cc\}\+::Reservation\+Size\+For\+Wrappers (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{needed\+\_\+size,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{total\+\_\+reserved\+\_\+so\+\_\+far }\end{DoxyParamCaption})}



Definition at line 772 of file wasm-\/code-\/manager.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{773                                                                 \{}
\DoxyCodeLine{774   needed\_size = RoundUp<kCodeAlignment>(needed\_size);}
\DoxyCodeLine{775   \textcolor{comment}{// Reserve the maximum of}}
\DoxyCodeLine{776   \textcolor{comment}{//   a) needed size}}
\DoxyCodeLine{777   \textcolor{comment}{//   c) 1/4 of current total reservation size (to grow exponentially)}}
\DoxyCodeLine{778   \textcolor{keywordtype}{size\_t} suggested\_size = std::max(needed\_size, total\_reserved\_so\_far / 4);}
\DoxyCodeLine{779 }
\DoxyCodeLine{780   \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} max\_code\_space\_size =}
\DoxyCodeLine{781       \textcolor{keywordtype}{size\_t}\{\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.wasm\_max\_code\_space\_size\_mb\} * \mbox{\hyperlink{flag-definitions_8h_a67f6e75911a1c9e16076ff4db599e681}{MB}};}
\DoxyCodeLine{782   \textcolor{keywordflow}{if} (\mbox{\hyperlink{v8config_8h_a67bd29db07c711b0fb11ff1c324ebb60}{V8\_UNLIKELY}}(needed\_size > max\_code\_space\_size)) \{}
\DoxyCodeLine{783     \textcolor{keyword}{auto} oom\_detail = \mbox{\hyperlink{namespacev8_1_1base_a8a96976677371a5201af88b56be08915}{base::FormattedString}}\{\}}
\DoxyCodeLine{784                       << \textcolor{stringliteral}{"{}required reservation minimum ("{}} << needed\_size}
\DoxyCodeLine{785                       << \textcolor{stringliteral}{"{}) is bigger than supported maximum ("{}}}
\DoxyCodeLine{786                       << max\_code\_space\_size << \textcolor{stringliteral}{"{})"{}};}
\DoxyCodeLine{787     V8::FatalProcessOutOfMemory(\textcolor{keyword}{nullptr},}
\DoxyCodeLine{788                                 \textcolor{stringliteral}{"{}Exceeding maximum wasm code space size"{}},}
\DoxyCodeLine{789                                 oom\_detail.PrintToArray().data());}
\DoxyCodeLine{790     \mbox{\hyperlink{src_2base_2logging_8h_a0bc63b24b654ca433be7b97a3edde132}{UNREACHABLE}}();}
\DoxyCodeLine{791   \}}
\DoxyCodeLine{792 }
\DoxyCodeLine{793   \textcolor{comment}{// Limit by the maximum code space size.}}
\DoxyCodeLine{794   \textcolor{keywordflow}{return} std::min(max\_code\_space\_size, suggested\_size);}
\DoxyCodeLine{795 \}}

\end{DoxyCode}


References v8\+::internal\+::\+V8\+::\+Fatal\+Process\+Out\+Of\+Memory(), v8\+::internal\+::\+MB, v8\+::internal\+::\+UNREACHABLE(), v8\+::internal\+::v8\+\_\+flags, and V8\+\_\+\+UNLIKELY.



Referenced by v8\+::internal\+::wasm\+::\+Wasm\+Code\+Allocator\+::\+Allocate\+For\+Code\+In\+Region().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_a4a8acae24d59564ce8ce9890d59852ee_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_a4a8acae24d59564ce8ce9890d59852ee_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_acc4a1ad690326b2dec4450f288512cd0}\label{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_acc4a1ad690326b2dec4450f288512cd0}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}@{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}}!ShouldRemoveCode@{ShouldRemoveCode}}
\index{ShouldRemoveCode@{ShouldRemoveCode}!v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}@{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{ShouldRemoveCode()}{ShouldRemoveCode()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{wasm-\/\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/manager.\+cc\}\+::Should\+Remove\+Code (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCode}{Wasm\+Code}} $\ast$}]{code,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule_addb6002d53e166907484bf3715ff599c}{Native\+Module\+::\+Remove\+Filter}}}]{filter }\end{DoxyParamCaption})}



Definition at line 2757 of file wasm-\/code-\/manager.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2757                                                                        \{}
\DoxyCodeLine{2758   \textcolor{keywordflow}{if} (filter == NativeModule::RemoveFilter::kRemoveDebugCode \&\&}
\DoxyCodeLine{2759       !\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>for\_debugging()) \{}
\DoxyCodeLine{2760     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{2761   \}}
\DoxyCodeLine{2762   \textcolor{keywordflow}{if} (filter == NativeModule::RemoveFilter::kRemoveNonDebugCode \&\&}
\DoxyCodeLine{2763       \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>for\_debugging()) \{}
\DoxyCodeLine{2764     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{2765   \}}
\DoxyCodeLine{2766   \textcolor{keywordflow}{if} (filter == NativeModule::RemoveFilter::kRemoveLiftoffCode \&\&}
\DoxyCodeLine{2767       !\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>is\_liftoff()) \{}
\DoxyCodeLine{2768     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{2769   \}}
\DoxyCodeLine{2770   \textcolor{keywordflow}{if} (filter == NativeModule::RemoveFilter::kRemoveTurbofanCode \&\&}
\DoxyCodeLine{2771       !\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>is\_turbofan()) \{}
\DoxyCodeLine{2772     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{2773   \}}
\DoxyCodeLine{2774   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{2775 \}}

\end{DoxyCode}


References code, v8\+::internal\+::wasm\+::\+Native\+Module\+::k\+Remove\+Debug\+Code, v8\+::internal\+::wasm\+::\+Native\+Module\+::k\+Remove\+Liftoff\+Code, v8\+::internal\+::wasm\+::\+Native\+Module\+::k\+Remove\+Non\+Debug\+Code, and v8\+::internal\+::wasm\+::\+Native\+Module\+::k\+Remove\+Turbofan\+Code.



Referenced by v8\+::internal\+::wasm\+::\+Native\+Module\+::\+Remove\+Compiled\+Code().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_acc4a1ad690326b2dec4450f288512cd0_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_a6b9409414ed9e23ba58f7fd48c6f7937}\label{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_a6b9409414ed9e23ba58f7fd48c6f7937}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}@{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}}!SplitRangeByReservationsIfNeeded@{SplitRangeByReservationsIfNeeded}}
\index{SplitRangeByReservationsIfNeeded@{SplitRangeByReservationsIfNeeded}!v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}@{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{SplitRangeByReservationsIfNeeded()}{SplitRangeByReservationsIfNeeded()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1base_1_1SmallVector}{base\+::\+Small\+Vector}}$<$\mbox{\hyperlink{classv8_1_1base_1_1AddressRegion}{base\+::\+Address\+Region}}, 1$>$ v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{wasm-\/\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/manager.\+cc\}\+::Split\+Range\+By\+Reservations\+If\+Needed (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1base_1_1AddressRegion}{base\+::\+Address\+Region}}}]{range,  }\item[{const std\+::vector$<$ \mbox{\hyperlink{classv8_1_1internal_1_1VirtualMemory}{Virtual\+Memory}} $>$ \&}]{owned\+\_\+code\+\_\+space }\end{DoxyParamCaption})}



Definition at line 669 of file wasm-\/code-\/manager.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{671                                                       \{}
\DoxyCodeLine{672   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_ad801d53720b44441bc58d091080c84ff}{kNeedsToSplitRangeByReservations}}) \textcolor{keywordflow}{return} \{range\};}
\DoxyCodeLine{673 }
\DoxyCodeLine{674   base::SmallVector<base::AddressRegion, 1> split\_ranges;}
\DoxyCodeLine{675   \textcolor{keywordtype}{size\_t} missing\_begin = range.begin();}
\DoxyCodeLine{676   \textcolor{keywordtype}{size\_t} missing\_end = range.end();}
\DoxyCodeLine{677   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}\& vmem : \mbox{\hyperlink{namespacev8_1_1base_a7364bf7dcb822d07f7380aeff8d2a77b}{base::Reversed}}(owned\_code\_space)) \{}
\DoxyCodeLine{678     \mbox{\hyperlink{namespacev8_1_1base_aed4219b45684a3840c8b930b5df90ea9}{Address}} overlap\_begin = std::max(missing\_begin, vmem.address());}
\DoxyCodeLine{679     \mbox{\hyperlink{namespacev8_1_1base_aed4219b45684a3840c8b930b5df90ea9}{Address}} overlap\_end = std::min(missing\_end, vmem.end());}
\DoxyCodeLine{680     \textcolor{keywordflow}{if} (overlap\_begin >= overlap\_end) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{681     split\_ranges.emplace\_back(overlap\_begin, overlap\_end -\/ overlap\_begin);}
\DoxyCodeLine{682     \textcolor{comment}{// Opportunistically reduce the missing range. This might terminate the loop}}
\DoxyCodeLine{683     \textcolor{comment}{// early.}}
\DoxyCodeLine{684     \textcolor{keywordflow}{if} (missing\_begin == overlap\_begin) missing\_begin = overlap\_end;}
\DoxyCodeLine{685     \textcolor{keywordflow}{if} (missing\_end == overlap\_end) missing\_end = overlap\_begin;}
\DoxyCodeLine{686     \textcolor{keywordflow}{if} (missing\_begin >= missing\_end) \textcolor{keywordflow}{break};}
\DoxyCodeLine{687   \}}
\DoxyCodeLine{688 \textcolor{preprocessor}{\#ifdef ENABLE\_SLOW\_DCHECKS}}
\DoxyCodeLine{689   \textcolor{comment}{// The returned vector should cover the full range.}}
\DoxyCodeLine{690   \textcolor{keywordtype}{size\_t} total\_split\_size = 0;}
\DoxyCodeLine{691   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \mbox{\hyperlink{namespacev8_1_1internal_1_1libvtune_a85908a2ac6abdcec9ee9c4f7e51e795f}{split}} : split\_ranges) total\_split\_size += \mbox{\hyperlink{namespacev8_1_1internal_1_1libvtune_a85908a2ac6abdcec9ee9c4f7e51e795f}{split}}.size();}
\DoxyCodeLine{692   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(range.size(), total\_split\_size);}
\DoxyCodeLine{693 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{694   \textcolor{keywordflow}{return} split\_ranges;}
\DoxyCodeLine{695 \}}

\end{DoxyCode}


References v8\+::base\+::\+Address\+Region\+::begin(), DCHECK\+\_\+\+EQ, v8\+::base\+::\+Small\+Vector$<$ T, k\+Size, Allocator $>$\+::emplace\+\_\+back(), v8\+::base\+::\+Address\+Region\+::end(), k\+Needs\+To\+Split\+Range\+By\+Reservations, v8\+::base\+::\+Reversed(), v8\+::base\+::\+Address\+Region\+::size(), and v8\+::internal\+::libvtune\+::split().



Referenced by v8\+::internal\+::wasm\+::\+Wasm\+Code\+Allocator\+::\+Allocate\+For\+Code\+In\+Region(), and v8\+::internal\+::wasm\+::\+Wasm\+Code\+Allocator\+::\+Free\+Code().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_a6b9409414ed9e23ba58f7fd48c6f7937_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_a6b9409414ed9e23ba58f7fd48c6f7937_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_a2badb95b32597d70458151d3b6a474ad}\label{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_a2badb95b32597d70458151d3b6a474ad}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}@{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}}!ToAllocationType@{ToAllocationType}}
\index{ToAllocationType@{ToAllocationType}!v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}@{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{ToAllocationType()}{ToAllocationType()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_affba95694ddfc3cdf2e345f8ed110b0e}{Thread\+Isolation\+::\+Jit\+Allocation\+Type}} v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{wasm-\/\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/manager.\+cc\}\+::To\+Allocation\+Type (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule_a8125eaffd4b01d09e3e172cab5f94d12}{v8\+::internal\+::wasm\+::\+Native\+Module\+::\+Jump\+Table\+Type}}}]{type }\end{DoxyParamCaption})}



Definition at line 1726 of file wasm-\/code-\/manager.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1727                                                   \{}
\DoxyCodeLine{1728   \textcolor{keywordflow}{switch} (\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}}) \{}
\DoxyCodeLine{1729     \textcolor{keywordflow}{case} NativeModule::JumpTableType::kJumpTable:}
\DoxyCodeLine{1730       \textcolor{keywordflow}{return} ThreadIsolation::JitAllocationType::kWasmJumpTable;}
\DoxyCodeLine{1731     \textcolor{keywordflow}{case} NativeModule::JumpTableType::kFarJumpTable:}
\DoxyCodeLine{1732       \textcolor{keywordflow}{return} ThreadIsolation::JitAllocationType::kWasmFarJumpTable;}
\DoxyCodeLine{1733     \textcolor{keywordflow}{case} NativeModule::JumpTableType::kLazyCompileTable:}
\DoxyCodeLine{1734       \textcolor{keywordflow}{return} ThreadIsolation::JitAllocationType::kWasmLazyCompileTable;}
\DoxyCodeLine{1735   \}}
\DoxyCodeLine{1736 \}}

\end{DoxyCode}


References v8\+::internal\+::wasm\+::\+Native\+Module\+::k\+Far\+Jump\+Table, v8\+::internal\+::wasm\+::\+Native\+Module\+::k\+Jump\+Table, v8\+::internal\+::wasm\+::\+Native\+Module\+::k\+Lazy\+Compile\+Table, v8\+::internal\+::\+Thread\+Isolation\+::k\+Wasm\+Far\+Jump\+Table, v8\+::internal\+::\+Thread\+Isolation\+::k\+Wasm\+Jump\+Table, v8\+::internal\+::\+Thread\+Isolation\+::k\+Wasm\+Lazy\+Compile\+Table, and v8\+::internal\+::tracing\+::type.



Referenced by v8\+::internal\+::wasm\+::\+Native\+Module\+::\+Create\+Empty\+Jump\+Table\+In\+Region\+Locked().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_a2badb95b32597d70458151d3b6a474ad_icgraph}
\end{center}
\end{figure}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_aae00925142424a92d32f60d97f20a0f7}\label{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_aae00925142424a92d32f60d97f20a0f7}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}@{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}}!current\_code\_refs\_scope@{current\_code\_refs\_scope}}
\index{current\_code\_refs\_scope@{current\_code\_refs\_scope}!v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}@{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{current\_code\_refs\_scope}{current\_code\_refs\_scope}}
{\footnotesize\ttfamily thread\+\_\+local \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope}{Wasm\+Code\+Ref\+Scope}}$\ast$ v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{wasm-\/\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/manager.\+cc\}\+::current\+\_\+code\+\_\+refs\+\_\+scope = \mbox{\hyperlink{flag-definitions_8h_aca14fbede0905858c819226fce3678cc}{nullptr}}}



Definition at line 3030 of file wasm-\/code-\/manager.\+cc.



Referenced by v8\+::internal\+::wasm\+::\+Wasm\+Code\+Ref\+Scope\+::\+Add\+Ref(), v8\+::internal\+::wasm\+::\+Wasm\+Code\+Ref\+Scope\+::\+Add\+Ref\+If\+Not\+Dying(), v8\+::internal\+::wasm\+::\+Wasm\+Code\+Ref\+Scope\+::\+Wasm\+Code\+Ref\+Scope(), and v8\+::internal\+::wasm\+::\+Wasm\+Code\+Ref\+Scope\+::$\sim$\+Wasm\+Code\+Ref\+Scope().

\mbox{\Hypertarget{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_ae77bb61bd9be7313c88b369cec892fe4}\label{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_ae77bb61bd9be7313c88b369cec892fe4}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}@{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}}!kLiftoffCodeSizeMultiplier@{kLiftoffCodeSizeMultiplier}}
\index{kLiftoffCodeSizeMultiplier@{kLiftoffCodeSizeMultiplier}!v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}@{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{kLiftoffCodeSizeMultiplier}{kLiftoffCodeSizeMultiplier}}
{\footnotesize\ttfamily constexpr \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{wasm-\/\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/manager.\+cc\}\+::k\+Liftoff\+Code\+Size\+Multiplier = 5\hspace{0.3cm}{\ttfamily [constexpr]}}



Definition at line 2375 of file wasm-\/code-\/manager.\+cc.



Referenced by v8\+::internal\+::wasm\+::\+Wasm\+Code\+Manager\+::\+Estimate\+Liftoff\+Code\+Size(), and v8\+::internal\+::wasm\+::\+Wasm\+Code\+Manager\+::\+Estimate\+Native\+Module\+Code\+Size().

\mbox{\Hypertarget{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_aec9c68fab0e549d2a7e8c7c55f76508f}\label{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_aec9c68fab0e549d2a7e8c7c55f76508f}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}@{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}}!kLiftoffFunctionOverhead@{kLiftoffFunctionOverhead}}
\index{kLiftoffFunctionOverhead@{kLiftoffFunctionOverhead}!v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}@{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{kLiftoffFunctionOverhead}{kLiftoffFunctionOverhead}}
{\footnotesize\ttfamily constexpr \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{wasm-\/\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/manager.\+cc\}\+::k\+Liftoff\+Function\+Overhead = 96\hspace{0.3cm}{\ttfamily [constexpr]}}



Definition at line 2374 of file wasm-\/code-\/manager.\+cc.



Referenced by v8\+::internal\+::wasm\+::\+Wasm\+Code\+Manager\+::\+Estimate\+Liftoff\+Code\+Size(), and v8\+::internal\+::wasm\+::\+Wasm\+Code\+Manager\+::\+Estimate\+Native\+Module\+Code\+Size().

\mbox{\Hypertarget{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_ad801d53720b44441bc58d091080c84ff}\label{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_ad801d53720b44441bc58d091080c84ff}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}@{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}}!kNeedsToSplitRangeByReservations@{kNeedsToSplitRangeByReservations}}
\index{kNeedsToSplitRangeByReservations@{kNeedsToSplitRangeByReservations}!v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}@{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{kNeedsToSplitRangeByReservations}{kNeedsToSplitRangeByReservations}}
{\footnotesize\ttfamily constexpr \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{wasm-\/\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/manager.\+cc\}\+::k\+Needs\+To\+Split\+Range\+By\+Reservations = \mbox{\hyperlink{flag-definitions_8h_a3a9beadc89284d3f78a7d4945b1b4d8c}{false}}\hspace{0.3cm}{\ttfamily [constexpr]}}



Definition at line 666 of file wasm-\/code-\/manager.\+cc.



Referenced by Split\+Range\+By\+Reservations\+If\+Needed().

\mbox{\Hypertarget{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_ac6aa19bf8c4fd80552e4c824e68487e7}\label{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_ac6aa19bf8c4fd80552e4c824e68487e7}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}@{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}}!kTurbofanCodeSizeMultiplier@{kTurbofanCodeSizeMultiplier}}
\index{kTurbofanCodeSizeMultiplier@{kTurbofanCodeSizeMultiplier}!v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}@{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{kTurbofanCodeSizeMultiplier}{kTurbofanCodeSizeMultiplier}}
{\footnotesize\ttfamily constexpr \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{wasm-\/\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/manager.\+cc\}\+::k\+Turbofan\+Code\+Size\+Multiplier = 4\hspace{0.3cm}{\ttfamily [constexpr]}}



Definition at line 2373 of file wasm-\/code-\/manager.\+cc.



Referenced by v8\+::internal\+::wasm\+::\+Wasm\+Code\+Manager\+::\+Estimate\+Native\+Module\+Code\+Size().

\mbox{\Hypertarget{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_a93d8640192430c5aa311574383d61852}\label{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_a93d8640192430c5aa311574383d61852}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}@{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}}!kTurbofanFunctionOverhead@{kTurbofanFunctionOverhead}}
\index{kTurbofanFunctionOverhead@{kTurbofanFunctionOverhead}!v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}@{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{kTurbofanFunctionOverhead}{kTurbofanFunctionOverhead}}
{\footnotesize\ttfamily constexpr \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{wasm-\/\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/manager.\+cc\}\+::k\+Turbofan\+Function\+Overhead = 44\hspace{0.3cm}{\ttfamily [constexpr]}}



Definition at line 2372 of file wasm-\/code-\/manager.\+cc.



Referenced by v8\+::internal\+::wasm\+::\+Wasm\+Code\+Manager\+::\+Estimate\+Native\+Module\+Code\+Size().

\mbox{\Hypertarget{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_a8461a4bc3623a7968bca9f25f17474f3}\label{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_a8461a4bc3623a7968bca9f25f17474f3}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}@{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}}!kUnrestrictedRegion@{kUnrestrictedRegion}}
\index{kUnrestrictedRegion@{kUnrestrictedRegion}!v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}@{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/code-\/manager.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{kUnrestrictedRegion}{kUnrestrictedRegion}}
{\footnotesize\ttfamily constexpr \mbox{\hyperlink{classv8_1_1base_1_1AddressRegion}{base\+::\+Address\+Region}} v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{wasm-\/\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/manager.\+cc\}\+::k\+Unrestricted\+Region\hspace{0.3cm}{\ttfamily [constexpr]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\{}
\DoxyCodeLine{    \mbox{\hyperlink{namespacev8_1_1base_ae714b233e65334e0104cda752fc559c5}{kNullAddress}}, std::numeric\_limits<size\_t>::max()\}}

\end{DoxyCode}


Definition at line 799 of file wasm-\/code-\/manager.\+cc.



Referenced by v8\+::internal\+::wasm\+::\+Wasm\+Code\+Allocator\+::\+Allocate\+For\+Code(), v8\+::internal\+::wasm\+::\+Wasm\+Code\+Allocator\+::\+Allocate\+For\+Code\+In\+Region(), v8\+::internal\+::wasm\+::\+Wasm\+Code\+Allocator\+::\+Allocate\+For\+Wrapper(), and v8\+::internal\+::wasm\+::\+Native\+Module\+::\+Create\+Empty\+Jump\+Table\+Locked().

