\hypertarget{classcppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_1_1ConcurrentMarkingTask}{}\doxysection{cppgc\+::internal\+::anonymous\+\_\+namespace\{concurrent-\/marker.cc\}\+::Concurrent\+Marking\+Task Class Reference}
\label{classcppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_1_1ConcurrentMarkingTask}\index{cppgc::internal::anonymous\_namespace\lcurly{}concurrent-\/marker.cc\rcurly{}::ConcurrentMarkingTask@{cppgc::internal::anonymous\_namespace\lcurly{}concurrent-\/marker.cc\rcurly{}::ConcurrentMarkingTask}}


Inheritance diagram for cppgc\+::internal\+::anonymous\+\_\+namespace\{concurrent-\/marker.cc\}\+::Concurrent\+Marking\+Task\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=273pt]{classcppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_1_1ConcurrentMarkingTask__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for cppgc\+::internal\+::anonymous\+\_\+namespace\{concurrent-\/marker.cc\}\+::Concurrent\+Marking\+Task\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_1_1ConcurrentMarkingTask__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_1_1ConcurrentMarkingTask_af78f75ba8123ca2719495bfec667f1fa}{Concurrent\+Marking\+Task}} (\mbox{\hyperlink{classcppgc_1_1internal_1_1ConcurrentMarkerBase}{Concurrent\+Marker\+Base}} \&)
\item 
void \mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_1_1ConcurrentMarkingTask_a375803ed7291e9f4b1fab874872a2efd}{Run}} (\mbox{\hyperlink{namespacecppgc_a74aa606ef974ec10b401c6538a239245}{Job\+Delegate}} $\ast$delegate) final
\item 
size\+\_\+t \mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_1_1ConcurrentMarkingTask_a693566072eaef1e3edf77e0996681a17}{Get\+Max\+Concurrency}} (size\+\_\+t) const final
\begin{DoxyCompactList}\small\item\em Controls the maximum number of threads calling \mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_1_1ConcurrentMarkingTask_a375803ed7291e9f4b1fab874872a2efd}{Run()}} concurrently, given the number of threads currently assigned to this job and executing \mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_1_1ConcurrentMarkingTask_a375803ed7291e9f4b1fab874872a2efd}{Run()}}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_1_1ConcurrentMarkingTask_ad2248568a4cda771cfcabaae7721996e}{Process\+Worklists}} (\mbox{\hyperlink{namespacecppgc_a74aa606ef974ec10b401c6538a239245}{Job\+Delegate}} $\ast$, \mbox{\hyperlink{classcppgc_1_1internal_1_1ConcurrentMarkingState}{Concurrent\+Marking\+State}} \&, \mbox{\hyperlink{classcppgc_1_1Visitor}{Visitor}} \&)
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcppgc_1_1internal_1_1ConcurrentMarkerBase}{Concurrent\+Marker\+Base}} \& \mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_1_1ConcurrentMarkingTask_ad85e461cfe4adc921200ac80da49d211}{concurrent\+\_\+marker\+\_\+}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 62 of file concurrent-\/marker.\+cc.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classcppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_1_1ConcurrentMarkingTask_af78f75ba8123ca2719495bfec667f1fa}\label{classcppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_1_1ConcurrentMarkingTask_af78f75ba8123ca2719495bfec667f1fa}} 
\index{cppgc::internal::anonymous\_namespace\lcurly{}concurrent-\/marker.cc\rcurly{}::ConcurrentMarkingTask@{cppgc::internal::anonymous\_namespace\lcurly{}concurrent-\/marker.cc\rcurly{}::ConcurrentMarkingTask}!ConcurrentMarkingTask@{ConcurrentMarkingTask}}
\index{ConcurrentMarkingTask@{ConcurrentMarkingTask}!cppgc::internal::anonymous\_namespace\lcurly{}concurrent-\/marker.cc\rcurly{}::ConcurrentMarkingTask@{cppgc::internal::anonymous\_namespace\lcurly{}concurrent-\/marker.cc\rcurly{}::ConcurrentMarkingTask}}
\doxysubsubsection{\texorpdfstring{ConcurrentMarkingTask()}{ConcurrentMarkingTask()}}
{\footnotesize\ttfamily cppgc\+::internal\+::anonymous\+\_\+namespace\{concurrent-\/marker.\+cc\}\+::Concurrent\+Marking\+Task\+::\+Concurrent\+Marking\+Task (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcppgc_1_1internal_1_1ConcurrentMarkerBase}{Concurrent\+Marker\+Base}} \&}]{concurrent\+\_\+marker }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}



Definition at line 76 of file concurrent-\/marker.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{78     : \mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_1_1ConcurrentMarkingTask_ad85e461cfe4adc921200ac80da49d211}{concurrent\_marker\_}}(concurrent\_marker) \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classcppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_1_1ConcurrentMarkingTask_a693566072eaef1e3edf77e0996681a17}\label{classcppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_1_1ConcurrentMarkingTask_a693566072eaef1e3edf77e0996681a17}} 
\index{cppgc::internal::anonymous\_namespace\lcurly{}concurrent-\/marker.cc\rcurly{}::ConcurrentMarkingTask@{cppgc::internal::anonymous\_namespace\lcurly{}concurrent-\/marker.cc\rcurly{}::ConcurrentMarkingTask}!GetMaxConcurrency@{GetMaxConcurrency}}
\index{GetMaxConcurrency@{GetMaxConcurrency}!cppgc::internal::anonymous\_namespace\lcurly{}concurrent-\/marker.cc\rcurly{}::ConcurrentMarkingTask@{cppgc::internal::anonymous\_namespace\lcurly{}concurrent-\/marker.cc\rcurly{}::ConcurrentMarkingTask}}
\doxysubsubsection{\texorpdfstring{GetMaxConcurrency()}{GetMaxConcurrency()}}
{\footnotesize\ttfamily size\+\_\+t cppgc\+::internal\+::anonymous\+\_\+namespace\{concurrent-\/marker.\+cc\}\+::Concurrent\+Marking\+Task\+::\+Get\+Max\+Concurrency (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{worker\+\_\+count }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [final]}, {\ttfamily [virtual]}}



Controls the maximum number of threads calling \mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_1_1ConcurrentMarkingTask_a375803ed7291e9f4b1fab874872a2efd}{Run()}} concurrently, given the number of threads currently assigned to this job and executing \mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_1_1ConcurrentMarkingTask_a375803ed7291e9f4b1fab874872a2efd}{Run()}}. 

\mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_1_1ConcurrentMarkingTask_a375803ed7291e9f4b1fab874872a2efd}{Run()}} is only invoked if the number of threads previously running \mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_1_1ConcurrentMarkingTask_a375803ed7291e9f4b1fab874872a2efd}{Run()}} was less than the value returned. In general, this should return the latest number of incomplete work items (smallest unit of work) left to process, including items that are currently in progress. $\vert$worker\+\_\+count$\vert$ is the number of threads currently assigned to this job which some callers may need to determine their return value. Since \mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_1_1ConcurrentMarkingTask_a693566072eaef1e3edf77e0996681a17}{Get\+Max\+Concurrency()}} is a leaf function, it must not call back any Job\+Handle methods. 

Implements \mbox{\hyperlink{classv8_1_1JobTask_a9f1505551639903b327baecbeb38f6f7}{v8\+::\+Job\+Task}}.



Definition at line 99 of file concurrent-\/marker.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{100                                        \{}
\DoxyCodeLine{101   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacecppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_aea7fd112d48395b8f30aa2135faa0ab2}{WorkSizeForConcurrentMarking}}(\mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_1_1ConcurrentMarkingTask_ad85e461cfe4adc921200ac80da49d211}{concurrent\_marker\_}}.\mbox{\hyperlink{classcppgc_1_1internal_1_1ConcurrentMarkerBase_a669438d912df471aee84b47a39e66f0a}{marking\_worklists}}()) +}
\DoxyCodeLine{102          current\_worker\_count;}
\DoxyCodeLine{103 \}}

\end{DoxyCode}


References concurrent\+\_\+marker\+\_\+, cppgc\+::internal\+::\+Concurrent\+Marker\+Base\+::marking\+\_\+worklists(), and cppgc\+::internal\+::anonymous\+\_\+namespace\{concurrent-\/marker.\+cc\}\+::\+Work\+Size\+For\+Concurrent\+Marking().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_1_1ConcurrentMarkingTask_a693566072eaef1e3edf77e0996681a17_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_1_1ConcurrentMarkingTask_ad2248568a4cda771cfcabaae7721996e}\label{classcppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_1_1ConcurrentMarkingTask_ad2248568a4cda771cfcabaae7721996e}} 
\index{cppgc::internal::anonymous\_namespace\lcurly{}concurrent-\/marker.cc\rcurly{}::ConcurrentMarkingTask@{cppgc::internal::anonymous\_namespace\lcurly{}concurrent-\/marker.cc\rcurly{}::ConcurrentMarkingTask}!ProcessWorklists@{ProcessWorklists}}
\index{ProcessWorklists@{ProcessWorklists}!cppgc::internal::anonymous\_namespace\lcurly{}concurrent-\/marker.cc\rcurly{}::ConcurrentMarkingTask@{cppgc::internal::anonymous\_namespace\lcurly{}concurrent-\/marker.cc\rcurly{}::ConcurrentMarkingTask}}
\doxysubsubsection{\texorpdfstring{ProcessWorklists()}{ProcessWorklists()}}
{\footnotesize\ttfamily void cppgc\+::internal\+::anonymous\+\_\+namespace\{concurrent-\/marker.\+cc\}\+::Concurrent\+Marking\+Task\+::\+Process\+Worklists (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacecppgc_a74aa606ef974ec10b401c6538a239245}{Job\+Delegate}} $\ast$}]{job\+\_\+delegate,  }\item[{\mbox{\hyperlink{classcppgc_1_1internal_1_1ConcurrentMarkingState}{Concurrent\+Marking\+State}} \&}]{concurrent\+\_\+marking\+\_\+state,  }\item[{\mbox{\hyperlink{classcppgc_1_1Visitor}{Visitor}} \&}]{concurrent\+\_\+marking\+\_\+visitor }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 105 of file concurrent-\/marker.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{107                                          \{}
\DoxyCodeLine{108   StatsCollector* stats\_collector = \mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_1_1ConcurrentMarkingTask_ad85e461cfe4adc921200ac80da49d211}{concurrent\_marker\_}}.\mbox{\hyperlink{classcppgc_1_1internal_1_1ConcurrentMarkerBase_ad3d739631ec35624058e5a3e6877c345}{heap}}().\mbox{\hyperlink{classcppgc_1_1internal_1_1HeapBase_a2b71dc778a025435fa06a9129f05bb6e}{stats\_collector}}();}
\DoxyCodeLine{109   \textcolor{keywordflow}{do} \{}
\DoxyCodeLine{110     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacecppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_a6bed7f84966ec4d415c76e073dd48b13}{DrainWorklistWithYielding}}<}
\DoxyCodeLine{111             StatsCollector::kConcurrentMarkProcessNotFullyconstructedWorklist>(}
\DoxyCodeLine{112             job\_delegate, stats\_collector, concurrent\_marking\_state,}
\DoxyCodeLine{113             \mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_1_1ConcurrentMarkingTask_ad85e461cfe4adc921200ac80da49d211}{concurrent\_marker\_}},}
\DoxyCodeLine{114             concurrent\_marking\_state}
\DoxyCodeLine{115                 .previously\_not\_fully\_constructed\_worklist(),}
\DoxyCodeLine{116             [\&concurrent\_marking\_state,}
\DoxyCodeLine{117              \&concurrent\_marking\_visitor](HeapObjectHeader* header) \{}
\DoxyCodeLine{118               \mbox{\hyperlink{classcppgc_1_1internal_1_1BasePage_aad13cafeed6c2ea494b7423b9c527b7a}{BasePage::FromPayload}}(header)-\/>\mbox{\hyperlink{classcppgc_1_1internal_1_1BasePage_ab9bebea6af5128927c2ae53ed869de3b}{SynchronizedLoad}}();}
\DoxyCodeLine{119               concurrent\_marking\_state.AccountMarkedBytes(*header);}
\DoxyCodeLine{120               DynamicallyTraceMarkedObject<AccessMode::kAtomic>(}
\DoxyCodeLine{121                   concurrent\_marking\_visitor, *header);}
\DoxyCodeLine{122             \})) \{}
\DoxyCodeLine{123       \textcolor{keywordflow}{return};}
\DoxyCodeLine{124     \}}
\DoxyCodeLine{125     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacecppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_a6bed7f84966ec4d415c76e073dd48b13}{DrainWorklistWithYielding}}<}
\DoxyCodeLine{126             StatsCollector::kConcurrentMarkProcessMarkingWorklist>(}
\DoxyCodeLine{127             job\_delegate, stats\_collector, concurrent\_marking\_state,}
\DoxyCodeLine{128             \mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_1_1ConcurrentMarkingTask_ad85e461cfe4adc921200ac80da49d211}{concurrent\_marker\_}}, concurrent\_marking\_state.marking\_worklist(),}
\DoxyCodeLine{129             [\&concurrent\_marking\_state, \&concurrent\_marking\_visitor](}
\DoxyCodeLine{130                 \textcolor{keyword}{const} \mbox{\hyperlink{classcppgc_1_1internal_1_1MarkingWorklists_ab091df8916ffee6f61d06a6cc190506a}{MarkingWorklists::MarkingItem}}\& item) \{}
\DoxyCodeLine{131               \mbox{\hyperlink{classcppgc_1_1internal_1_1BasePage_aad13cafeed6c2ea494b7423b9c527b7a}{BasePage::FromPayload}}(item.base\_object\_payload)}
\DoxyCodeLine{132                   -\/>\mbox{\hyperlink{classcppgc_1_1internal_1_1BasePage_ab9bebea6af5128927c2ae53ed869de3b}{SynchronizedLoad}}();}
\DoxyCodeLine{133               \textcolor{keyword}{const} HeapObjectHeader\& header =}
\DoxyCodeLine{134                   \mbox{\hyperlink{classcppgc_1_1internal_1_1HeapObjectHeader_a04b955c04b80d2a431dc2b96e4a85028}{HeapObjectHeader::FromObject}}(item.base\_object\_payload);}
\DoxyCodeLine{135               \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(!header.IsInConstruction<\mbox{\hyperlink{namespacecppgc_1_1internal_ac0b40b7e4ac65024fbfcf57d01fa808ea726d9cf5163c50b3cf8e05800e3cef71}{AccessMode::kAtomic}}>());}
\DoxyCodeLine{136               \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(header.IsMarked<\mbox{\hyperlink{namespacecppgc_1_1internal_ac0b40b7e4ac65024fbfcf57d01fa808ea726d9cf5163c50b3cf8e05800e3cef71}{AccessMode::kAtomic}}>());}
\DoxyCodeLine{137               concurrent\_marking\_state.AccountMarkedBytes(header);}
\DoxyCodeLine{138               item.callback(\&concurrent\_marking\_visitor,}
\DoxyCodeLine{139                             item.base\_object\_payload);}
\DoxyCodeLine{140             \})) \{}
\DoxyCodeLine{141       \textcolor{keywordflow}{return};}
\DoxyCodeLine{142     \}}
\DoxyCodeLine{143     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacecppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_a6bed7f84966ec4d415c76e073dd48b13}{DrainWorklistWithYielding}}<}
\DoxyCodeLine{144             StatsCollector::kConcurrentMarkProcessWriteBarrierWorklist>(}
\DoxyCodeLine{145             job\_delegate, stats\_collector, concurrent\_marking\_state,}
\DoxyCodeLine{146             \mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_1_1ConcurrentMarkingTask_ad85e461cfe4adc921200ac80da49d211}{concurrent\_marker\_}},}
\DoxyCodeLine{147             concurrent\_marking\_state.write\_barrier\_worklist(),}
\DoxyCodeLine{148             [\&concurrent\_marking\_state,}
\DoxyCodeLine{149              \&concurrent\_marking\_visitor](HeapObjectHeader* header) \{}
\DoxyCodeLine{150               \mbox{\hyperlink{classcppgc_1_1internal_1_1BasePage_aad13cafeed6c2ea494b7423b9c527b7a}{BasePage::FromPayload}}(header)-\/>\mbox{\hyperlink{classcppgc_1_1internal_1_1BasePage_ab9bebea6af5128927c2ae53ed869de3b}{SynchronizedLoad}}();}
\DoxyCodeLine{151               concurrent\_marking\_state.AccountMarkedBytes(*header);}
\DoxyCodeLine{152               DynamicallyTraceMarkedObject<AccessMode::kAtomic>(}
\DoxyCodeLine{153                   concurrent\_marking\_visitor, *header);}
\DoxyCodeLine{154             \})) \{}
\DoxyCodeLine{155       \textcolor{keywordflow}{return};}
\DoxyCodeLine{156     \}}
\DoxyCodeLine{157     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacecppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_a6bed7f84966ec4d415c76e073dd48b13}{DrainWorklistWithYielding}}<}
\DoxyCodeLine{158             StatsCollector::kConcurrentMarkProcessEphemeronWorklist>(}
\DoxyCodeLine{159             job\_delegate, stats\_collector, concurrent\_marking\_state,}
\DoxyCodeLine{160             \mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_1_1ConcurrentMarkingTask_ad85e461cfe4adc921200ac80da49d211}{concurrent\_marker\_}},}
\DoxyCodeLine{161             concurrent\_marking\_state.ephemeron\_pairs\_for\_processing\_worklist(),}
\DoxyCodeLine{162             [\&concurrent\_marking\_state, \&concurrent\_marking\_visitor](}
\DoxyCodeLine{163                 \textcolor{keyword}{const} MarkingWorklists::EphemeronPairItem\& item) \{}
\DoxyCodeLine{164               concurrent\_marking\_state.ProcessEphemeron(}
\DoxyCodeLine{165                   item.key, item.value, item.value\_desc,}
\DoxyCodeLine{166                   concurrent\_marking\_visitor);}
\DoxyCodeLine{167             \})) \{}
\DoxyCodeLine{168       \textcolor{keywordflow}{return};}
\DoxyCodeLine{169     \}}
\DoxyCodeLine{170   \} \textcolor{keywordflow}{while} (}
\DoxyCodeLine{171       !concurrent\_marking\_state.marking\_worklist().IsLocalAndGlobalEmpty());}
\DoxyCodeLine{172 \}}

\end{DoxyCode}


References cppgc\+::internal\+::\+Basic\+Marking\+State\+::\+Account\+Marked\+Bytes(), concurrent\+\_\+marker\+\_\+, DCHECK, cppgc\+::internal\+::anonymous\+\_\+namespace\{concurrent-\/marker.\+cc\}\+::\+Drain\+Worklist\+With\+Yielding(), cppgc\+::internal\+::\+Basic\+Marking\+State\+::ephemeron\+\_\+pairs\+\_\+for\+\_\+processing\+\_\+worklist(), cppgc\+::internal\+::\+Heap\+Object\+Header\+::\+From\+Object(), cppgc\+::internal\+::\+Base\+Page\+::\+From\+Payload(), cppgc\+::internal\+::\+Concurrent\+Marker\+Base\+::heap(), cppgc\+::internal\+::\+Heap\+Object\+Header\+::\+Is\+In\+Construction(), cppgc\+::internal\+::\+Heap\+Object\+Header\+::\+Is\+Marked(), cppgc\+::internal\+::k\+Atomic, cppgc\+::internal\+::\+Marking\+State\+Base\+::marking\+\_\+worklist(), cppgc\+::internal\+::\+Basic\+Marking\+State\+::\+Process\+Ephemeron(), cppgc\+::internal\+::\+Heap\+Base\+::stats\+\_\+collector(), cppgc\+::internal\+::\+Base\+Page\+::\+Synchronized\+Load(), and cppgc\+::internal\+::\+Basic\+Marking\+State\+::write\+\_\+barrier\+\_\+worklist().



Referenced by Run().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_1_1ConcurrentMarkingTask_ad2248568a4cda771cfcabaae7721996e_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_1_1ConcurrentMarkingTask_ad2248568a4cda771cfcabaae7721996e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_1_1ConcurrentMarkingTask_a375803ed7291e9f4b1fab874872a2efd}\label{classcppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_1_1ConcurrentMarkingTask_a375803ed7291e9f4b1fab874872a2efd}} 
\index{cppgc::internal::anonymous\_namespace\lcurly{}concurrent-\/marker.cc\rcurly{}::ConcurrentMarkingTask@{cppgc::internal::anonymous\_namespace\lcurly{}concurrent-\/marker.cc\rcurly{}::ConcurrentMarkingTask}!Run@{Run}}
\index{Run@{Run}!cppgc::internal::anonymous\_namespace\lcurly{}concurrent-\/marker.cc\rcurly{}::ConcurrentMarkingTask@{cppgc::internal::anonymous\_namespace\lcurly{}concurrent-\/marker.cc\rcurly{}::ConcurrentMarkingTask}}
\doxysubsubsection{\texorpdfstring{Run()}{Run()}}
{\footnotesize\ttfamily void cppgc\+::internal\+::anonymous\+\_\+namespace\{concurrent-\/marker.\+cc\}\+::Concurrent\+Marking\+Task\+::\+Run (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacecppgc_a74aa606ef974ec10b401c6538a239245}{Job\+Delegate}} $\ast$}]{delegate }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [final]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classv8_1_1JobTask_a9b6d0cee5615420f30b0db8a4c5e8c3b}{v8\+::\+Job\+Task}}.



Definition at line 80 of file concurrent-\/marker.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{80                                                          \{}
\DoxyCodeLine{81   \mbox{\hyperlink{classcppgc_1_1internal_1_1StatsCollector_a14b64b4a2b16d3eb1e5e5be64792d06a}{StatsCollector::EnabledConcurrentScope}} stats\_scope(}
\DoxyCodeLine{82       \mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_1_1ConcurrentMarkingTask_ad85e461cfe4adc921200ac80da49d211}{concurrent\_marker\_}}.\mbox{\hyperlink{classcppgc_1_1internal_1_1ConcurrentMarkerBase_ad3d739631ec35624058e5a3e6877c345}{heap}}().\mbox{\hyperlink{classcppgc_1_1internal_1_1HeapBase_a2b71dc778a025435fa06a9129f05bb6e}{stats\_collector}}(),}
\DoxyCodeLine{83       StatsCollector::kConcurrentMark);}
\DoxyCodeLine{84   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacecppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_acc676f4d55fdf4d7a38dc51dea1bd2b4}{HasWorkForConcurrentMarking}}(\mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_1_1ConcurrentMarkingTask_ad85e461cfe4adc921200ac80da49d211}{concurrent\_marker\_}}.\mbox{\hyperlink{classcppgc_1_1internal_1_1ConcurrentMarkerBase_a669438d912df471aee84b47a39e66f0a}{marking\_worklists}}()))}
\DoxyCodeLine{85     \textcolor{keywordflow}{return};}
\DoxyCodeLine{86   ConcurrentMarkingState concurrent\_marking\_state(}
\DoxyCodeLine{87       \mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_1_1ConcurrentMarkingTask_ad85e461cfe4adc921200ac80da49d211}{concurrent\_marker\_}}.\mbox{\hyperlink{classcppgc_1_1internal_1_1ConcurrentMarkerBase_ad3d739631ec35624058e5a3e6877c345}{heap}}(), \mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_1_1ConcurrentMarkingTask_ad85e461cfe4adc921200ac80da49d211}{concurrent\_marker\_}}.\mbox{\hyperlink{classcppgc_1_1internal_1_1ConcurrentMarkerBase_a669438d912df471aee84b47a39e66f0a}{marking\_worklists}}(),}
\DoxyCodeLine{88       \mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_1_1ConcurrentMarkingTask_ad85e461cfe4adc921200ac80da49d211}{concurrent\_marker\_}}.\mbox{\hyperlink{classcppgc_1_1internal_1_1ConcurrentMarkerBase_ad3d739631ec35624058e5a3e6877c345}{heap}}().\mbox{\hyperlink{classcppgc_1_1internal_1_1HeapBase_a324a8c481e3a08d54ce6eaf41e5ae262}{compactor}}().\mbox{\hyperlink{classcppgc_1_1internal_1_1Compactor_a772a0173b2600df8ec6a8c366f21039c}{compaction\_worklists}}());}
\DoxyCodeLine{89   std::unique\_ptr<Visitor> concurrent\_marking\_visitor =}
\DoxyCodeLine{90       \mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_1_1ConcurrentMarkingTask_ad85e461cfe4adc921200ac80da49d211}{concurrent\_marker\_}}.\mbox{\hyperlink{classcppgc_1_1internal_1_1ConcurrentMarkerBase_a4a05e80760c98add3571570fb3092f5a}{CreateConcurrentMarkingVisitor}}(}
\DoxyCodeLine{91           concurrent\_marking\_state);}
\DoxyCodeLine{92   \mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_1_1ConcurrentMarkingTask_ad2248568a4cda771cfcabaae7721996e}{ProcessWorklists}}(job\_delegate, concurrent\_marking\_state,}
\DoxyCodeLine{93                    *concurrent\_marking\_visitor);}
\DoxyCodeLine{94   \mbox{\hyperlink{classcppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_1_1ConcurrentMarkingTask_ad85e461cfe4adc921200ac80da49d211}{concurrent\_marker\_}}.\mbox{\hyperlink{classcppgc_1_1internal_1_1ConcurrentMarkerBase_a3c87ade86028795796b7aacb51158fbd}{AddConcurrentlyMarkedBytes}}(}
\DoxyCodeLine{95       concurrent\_marking\_state.RecentlyMarkedBytes());}
\DoxyCodeLine{96   concurrent\_marking\_state.Publish();}
\DoxyCodeLine{97 \}}

\end{DoxyCode}


References cppgc\+::internal\+::\+Concurrent\+Marker\+Base\+::\+Add\+Concurrently\+Marked\+Bytes(), cppgc\+::internal\+::\+Compactor\+::compaction\+\_\+worklists(), cppgc\+::internal\+::\+Heap\+Base\+::compactor(), concurrent\+\_\+marker\+\_\+, cppgc\+::internal\+::\+Concurrent\+Marker\+Base\+::\+Create\+Concurrent\+Marking\+Visitor(), cppgc\+::internal\+::anonymous\+\_\+namespace\{concurrent-\/marker.\+cc\}\+::\+Has\+Work\+For\+Concurrent\+Marking(), cppgc\+::internal\+::\+Concurrent\+Marker\+Base\+::heap(), cppgc\+::internal\+::\+Concurrent\+Marker\+Base\+::marking\+\_\+worklists(), Process\+Worklists(), cppgc\+::internal\+::\+Basic\+Marking\+State\+::\+Publish(), cppgc\+::internal\+::\+Basic\+Marking\+State\+::\+Recently\+Marked\+Bytes(), and cppgc\+::internal\+::\+Heap\+Base\+::stats\+\_\+collector().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_1_1ConcurrentMarkingTask_a375803ed7291e9f4b1fab874872a2efd_cgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classcppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_1_1ConcurrentMarkingTask_ad85e461cfe4adc921200ac80da49d211}\label{classcppgc_1_1internal_1_1anonymous__namespace_02concurrent-marker_8cc_03_1_1ConcurrentMarkingTask_ad85e461cfe4adc921200ac80da49d211}} 
\index{cppgc::internal::anonymous\_namespace\lcurly{}concurrent-\/marker.cc\rcurly{}::ConcurrentMarkingTask@{cppgc::internal::anonymous\_namespace\lcurly{}concurrent-\/marker.cc\rcurly{}::ConcurrentMarkingTask}!concurrent\_marker\_@{concurrent\_marker\_}}
\index{concurrent\_marker\_@{concurrent\_marker\_}!cppgc::internal::anonymous\_namespace\lcurly{}concurrent-\/marker.cc\rcurly{}::ConcurrentMarkingTask@{cppgc::internal::anonymous\_namespace\lcurly{}concurrent-\/marker.cc\rcurly{}::ConcurrentMarkingTask}}
\doxysubsubsection{\texorpdfstring{concurrent\_marker\_}{concurrent\_marker\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classcppgc_1_1internal_1_1ConcurrentMarkerBase}{Concurrent\+Marker\+Base}}\& cppgc\+::internal\+::anonymous\+\_\+namespace\{concurrent-\/marker.\+cc\}\+::Concurrent\+Marking\+Task\+::concurrent\+\_\+marker\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 73 of file concurrent-\/marker.\+cc.



Referenced by Get\+Max\+Concurrency(), Process\+Worklists(), and Run().



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/heap/cppgc/\mbox{\hyperlink{concurrent-marker_8cc}{concurrent-\/marker.\+cc}}\end{DoxyCompactItemize}
