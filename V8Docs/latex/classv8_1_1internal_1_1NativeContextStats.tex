\hypertarget{classv8_1_1internal_1_1NativeContextStats}{}\doxysection{v8\+::internal\+::Native\+Context\+Stats Class Reference}
\label{classv8_1_1internal_1_1NativeContextStats}\index{v8::internal::NativeContextStats@{v8::internal::NativeContextStats}}


{\ttfamily \#include $<$memory-\/measurement.\+h$>$}



Collaboration diagram for v8\+::internal\+::Native\+Context\+Stats\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1NativeContextStats__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1NativeContextStats_aa5379cd60bbd4871363334edcf7ef566}{Increment\+Size}} (\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} context, \mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$ map, \mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1HeapObject}{Heap\+Object}} $>$ object, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}})
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{classv8_1_1internal_1_1NativeContextStats_a502cb03246796ef37ee89640e049a67c}{Get}} (\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} context) const
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1NativeContextStats_af295a45eb3605b4771e84ae2aa4a7f48}{Clear}} ()
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1NativeContextStats_aa7755995d5890f7dc875e98cc0171272}{Merge}} (const \mbox{\hyperlink{classv8_1_1internal_1_1NativeContextStats}{Native\+Context\+Stats}} \&other)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1NativeContextStats_a5458260856865cd311ae17f04327bd2b}{Empty}} () const
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1NativeContextStats_ad21777761556be0b2ec717c45f4db60b}{Has\+External\+Bytes}} (\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$ map)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1NativeContextStats_a5a37d26391b08003f3230c3ae93fea7c}{Increment\+External\+Size}} (\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} context, \mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$ map, \mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1HeapObject}{Heap\+Object}} $>$ object)
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::unordered\+\_\+map$<$ \mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1NativeContextStats_a1e358040e6bbe57ef8ec047c43f308ea}{size\+\_\+by\+\_\+context\+\_\+}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 81 of file memory-\/measurement.\+h.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1NativeContextStats_af295a45eb3605b4771e84ae2aa4a7f48}\label{classv8_1_1internal_1_1NativeContextStats_af295a45eb3605b4771e84ae2aa4a7f48}} 
\index{v8::internal::NativeContextStats@{v8::internal::NativeContextStats}!Clear@{Clear}}
\index{Clear@{Clear}!v8::internal::NativeContextStats@{v8::internal::NativeContextStats}}
\doxysubsubsection{\texorpdfstring{Clear()}{Clear()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Native\+Context\+Stats\+::\+Clear (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 375 of file memory-\/measurement.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{375 \{ \mbox{\hyperlink{classv8_1_1internal_1_1NativeContextStats_a1e358040e6bbe57ef8ec047c43f308ea}{size\_by\_context\_}}.clear(); \}}

\end{DoxyCode}


References size\+\_\+by\+\_\+context\+\_\+.



Referenced by v8\+::internal\+::\+Mark\+Compact\+Collector\+::\+Finish().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1NativeContextStats_af295a45eb3605b4771e84ae2aa4a7f48_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1NativeContextStats_a5458260856865cd311ae17f04327bd2b}\label{classv8_1_1internal_1_1NativeContextStats_a5458260856865cd311ae17f04327bd2b}} 
\index{v8::internal::NativeContextStats@{v8::internal::NativeContextStats}!Empty@{Empty}}
\index{Empty@{Empty}!v8::internal::NativeContextStats@{v8::internal::NativeContextStats}}
\doxysubsubsection{\texorpdfstring{Empty()}{Empty()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Native\+Context\+Stats\+::\+Empty (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 94 of file memory-\/measurement.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{94 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1NativeContextStats_a1e358040e6bbe57ef8ec047c43f308ea}{size\_by\_context\_}}.empty(); \}}

\end{DoxyCode}
\mbox{\Hypertarget{classv8_1_1internal_1_1NativeContextStats_a502cb03246796ef37ee89640e049a67c}\label{classv8_1_1internal_1_1NativeContextStats_a502cb03246796ef37ee89640e049a67c}} 
\index{v8::internal::NativeContextStats@{v8::internal::NativeContextStats}!Get@{Get}}
\index{Get@{Get}!v8::internal::NativeContextStats@{v8::internal::NativeContextStats}}
\doxysubsubsection{\texorpdfstring{Get()}{Get()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::\+Native\+Context\+Stats\+::\+Get (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}}]{context }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 86 of file memory-\/measurement.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{86                                     \{}
\DoxyCodeLine{87     \textcolor{keyword}{const} \textcolor{keyword}{auto} it = \mbox{\hyperlink{classv8_1_1internal_1_1NativeContextStats_a1e358040e6bbe57ef8ec047c43f308ea}{size\_by\_context\_}}.find(context);}
\DoxyCodeLine{88     \textcolor{keywordflow}{if} (it == \mbox{\hyperlink{classv8_1_1internal_1_1NativeContextStats_a1e358040e6bbe57ef8ec047c43f308ea}{size\_by\_context\_}}.end()) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{89     \textcolor{keywordflow}{return} it-\/>second;}
\DoxyCodeLine{90   \}}

\end{DoxyCode}


Referenced by v8\+::internal\+::\+Memory\+Measurement\+::\+Finish\+Processing().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1NativeContextStats_a502cb03246796ef37ee89640e049a67c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1NativeContextStats_ad21777761556be0b2ec717c45f4db60b}\label{classv8_1_1internal_1_1NativeContextStats_ad21777761556be0b2ec717c45f4db60b}} 
\index{v8::internal::NativeContextStats@{v8::internal::NativeContextStats}!HasExternalBytes@{HasExternalBytes}}
\index{HasExternalBytes@{HasExternalBytes}!v8::internal::NativeContextStats@{v8::internal::NativeContextStats}}
\doxysubsubsection{\texorpdfstring{HasExternalBytes()}{HasExternalBytes()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Native\+Context\+Stats\+::\+Has\+External\+Bytes (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$}]{map }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 32 of file memory-\/measurement-\/inl.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{32                                                                    \{}
\DoxyCodeLine{33   \mbox{\hyperlink{namespacev8_1_1internal_a9312a9fc987dba9376a530956f94e8fe}{InstanceType}} instance\_type = map-\/>instance\_type();}
\DoxyCodeLine{34   \textcolor{keywordflow}{return} (instance\_type == JS\_ARRAY\_BUFFER\_TYPE ||}
\DoxyCodeLine{35           \mbox{\hyperlink{namespacev8_1_1internal_1_1InstanceTypeChecker_a4dd27cf9309273fdf5e136ba0bc57b08}{InstanceTypeChecker::IsExternalString}}(instance\_type));}
\DoxyCodeLine{36 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Instance\+Type\+Checker\+::\+Is\+External\+String().



Referenced by Increment\+Size().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1NativeContextStats_ad21777761556be0b2ec717c45f4db60b_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1NativeContextStats_ad21777761556be0b2ec717c45f4db60b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1NativeContextStats_a5a37d26391b08003f3230c3ae93fea7c}\label{classv8_1_1internal_1_1NativeContextStats_a5a37d26391b08003f3230c3ae93fea7c}} 
\index{v8::internal::NativeContextStats@{v8::internal::NativeContextStats}!IncrementExternalSize@{IncrementExternalSize}}
\index{IncrementExternalSize@{IncrementExternalSize}!v8::internal::NativeContextStats@{v8::internal::NativeContextStats}}
\doxysubsubsection{\texorpdfstring{IncrementExternalSize()}{IncrementExternalSize()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Native\+Context\+Stats\+::\+Increment\+External\+Size (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}}]{context,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$}]{map,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1HeapObject}{Heap\+Object}} $>$}]{object }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 383 of file memory-\/measurement.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{384                                                                           \{}
\DoxyCodeLine{385   \mbox{\hyperlink{namespacev8_1_1internal_a9312a9fc987dba9376a530956f94e8fe}{InstanceType}} instance\_type = map-\/>instance\_type();}
\DoxyCodeLine{386   \textcolor{keywordtype}{size\_t} external\_size = 0;}
\DoxyCodeLine{387   \textcolor{keywordflow}{if} (instance\_type == JS\_ARRAY\_BUFFER\_TYPE) \{}
\DoxyCodeLine{388     external\_size = Cast<JSArrayBuffer>(\textcolor{keywordtype}{object})-\/>GetByteLength();}
\DoxyCodeLine{389   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{390     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1InstanceTypeChecker_a4dd27cf9309273fdf5e136ba0bc57b08}{InstanceTypeChecker::IsExternalString}}(instance\_type));}
\DoxyCodeLine{391     external\_size = Cast<ExternalString>(\textcolor{keywordtype}{object})-\/>ExternalPayloadSize();}
\DoxyCodeLine{392   \}}
\DoxyCodeLine{393   \mbox{\hyperlink{classv8_1_1internal_1_1NativeContextStats_a1e358040e6bbe57ef8ec047c43f308ea}{size\_by\_context\_}}[context] += external\_size;}
\DoxyCodeLine{394 \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), v8\+::internal\+::\+Instance\+Type\+Checker\+::\+Is\+External\+String(), and size\+\_\+by\+\_\+context\+\_\+.



Referenced by Increment\+Size().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1NativeContextStats_a5a37d26391b08003f3230c3ae93fea7c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1NativeContextStats_a5a37d26391b08003f3230c3ae93fea7c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1NativeContextStats_aa5379cd60bbd4871363334edcf7ef566}\label{classv8_1_1internal_1_1NativeContextStats_aa5379cd60bbd4871363334edcf7ef566}} 
\index{v8::internal::NativeContextStats@{v8::internal::NativeContextStats}!IncrementSize@{IncrementSize}}
\index{IncrementSize@{IncrementSize}!v8::internal::NativeContextStats@{v8::internal::NativeContextStats}}
\doxysubsubsection{\texorpdfstring{IncrementSize()}{IncrementSize()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Native\+Context\+Stats\+::\+Increment\+Size (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}}]{context,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$}]{map,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1HeapObject}{Heap\+Object}} $>$}]{object,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 38 of file memory-\/measurement-\/inl.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{41                                                               \{}
\DoxyCodeLine{42   \mbox{\hyperlink{classv8_1_1internal_1_1NativeContextStats_a1e358040e6bbe57ef8ec047c43f308ea}{size\_by\_context\_}}[context] += \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}};}
\DoxyCodeLine{43   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1NativeContextStats_ad21777761556be0b2ec717c45f4db60b}{HasExternalBytes}}(map)) \{}
\DoxyCodeLine{44     \mbox{\hyperlink{classv8_1_1internal_1_1NativeContextStats_a5a37d26391b08003f3230c3ae93fea7c}{IncrementExternalSize}}(context, map, \textcolor{keywordtype}{object});}
\DoxyCodeLine{45   \}}
\DoxyCodeLine{46 \}}

\end{DoxyCode}


References Has\+External\+Bytes(), Increment\+External\+Size(), size(), and size\+\_\+by\+\_\+context\+\_\+.



Referenced by v8\+::internal\+::\+Concurrent\+Marking\+::\+Run\+Major().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1NativeContextStats_aa5379cd60bbd4871363334edcf7ef566_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1NativeContextStats_aa5379cd60bbd4871363334edcf7ef566_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1NativeContextStats_aa7755995d5890f7dc875e98cc0171272}\label{classv8_1_1internal_1_1NativeContextStats_aa7755995d5890f7dc875e98cc0171272}} 
\index{v8::internal::NativeContextStats@{v8::internal::NativeContextStats}!Merge@{Merge}}
\index{Merge@{Merge}!v8::internal::NativeContextStats@{v8::internal::NativeContextStats}}
\doxysubsubsection{\texorpdfstring{Merge()}{Merge()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Native\+Context\+Stats\+::\+Merge (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1NativeContextStats}{Native\+Context\+Stats}} \&}]{other }\end{DoxyParamCaption})}



Definition at line 377 of file memory-\/measurement.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{377                                                               \{}
\DoxyCodeLine{378   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& it : other.size\_by\_context\_) \{}
\DoxyCodeLine{379     \mbox{\hyperlink{classv8_1_1internal_1_1NativeContextStats_a1e358040e6bbe57ef8ec047c43f308ea}{size\_by\_context\_}}[it.first] += it.second;}
\DoxyCodeLine{380   \}}
\DoxyCodeLine{381 \}}

\end{DoxyCode}


References size\+\_\+by\+\_\+context\+\_\+.



Referenced by v8\+::internal\+::\+Concurrent\+Marking\+::\+Flush\+Native\+Contexts().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1NativeContextStats_aa7755995d5890f7dc875e98cc0171272_icgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1NativeContextStats_a1e358040e6bbe57ef8ec047c43f308ea}\label{classv8_1_1internal_1_1NativeContextStats_a1e358040e6bbe57ef8ec047c43f308ea}} 
\index{v8::internal::NativeContextStats@{v8::internal::NativeContextStats}!size\_by\_context\_@{size\_by\_context\_}}
\index{size\_by\_context\_@{size\_by\_context\_}!v8::internal::NativeContextStats@{v8::internal::NativeContextStats}}
\doxysubsubsection{\texorpdfstring{size\_by\_context\_}{size\_by\_context\_}}
{\footnotesize\ttfamily std\+::unordered\+\_\+map$<$\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}$>$ v8\+::internal\+::\+Native\+Context\+Stats\+::size\+\_\+by\+\_\+context\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 100 of file memory-\/measurement.\+h.



Referenced by Clear(), Increment\+External\+Size(), Increment\+Size(), and Merge().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/heap/\mbox{\hyperlink{memory-measurement_8h}{memory-\/measurement.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/heap/\mbox{\hyperlink{memory-measurement-inl_8h}{memory-\/measurement-\/inl.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/heap/\mbox{\hyperlink{memory-measurement_8cc}{memory-\/measurement.\+cc}}\end{DoxyCompactItemize}
