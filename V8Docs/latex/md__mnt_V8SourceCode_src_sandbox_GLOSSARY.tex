This glossary explains the technical terms used in the context of the V8 Sandbox. For a general overview of the sandbox see the \href{https://docs.google.com/document/d/1FM4fQmIhEqPG8uGp5o9A-mnPB5BOeScZYpkHjo0KKA8/edit?usp=sharing}{\texttt{ high-\/level design document}}.\hypertarget{md__mnt_V8SourceCode_src_sandbox_GLOSSARY_autotoc_md27}{}\doxysection{General}\label{md__mnt_V8SourceCode_src_sandbox_GLOSSARY_autotoc_md27}
\hypertarget{md__mnt_V8SourceCode_src_sandbox_GLOSSARY_autotoc_md28}{}\doxysubsection{Sandbox}\label{md__mnt_V8SourceCode_src_sandbox_GLOSSARY_autotoc_md28}
{\bfseries{Summary}}\+: A region of virtual address space (typically 1TB) containing all untrusted V8 objects.~\newline
 {\bfseries{Implementation}}\+: This is implemented as a large, contiguous virtual address space reservation using the appropriate operating system primitives. Address space reservations are cheap on all modern OSes.~\newline
 {\bfseries{Security Properties\+:}} It is assumed that an attacker can arbitrarily read and write memory inside the sandbox address space due to a typical security bug in V8. The mechanisms described in this document, in particular the various pointer types, then attempt to prevent an attacker from corrupting other memory inside the process running V8.~\newline
 {\bfseries{Design Document}}\+: \href{https://docs.google.com/document/d/1PM4Zqmlt8ac5O8UNQfY7fOsem-6MhbsB-vjFI-9XK6w/edit?usp=sharing}{\texttt{ V8 Sandbox -\/ Address Space}}\hypertarget{md__mnt_V8SourceCode_src_sandbox_GLOSSARY_autotoc_md29}{}\doxysection{Objects}\label{md__mnt_V8SourceCode_src_sandbox_GLOSSARY_autotoc_md29}
This section gives an overview of the different object types related to the sandbox.\hypertarget{md__mnt_V8SourceCode_src_sandbox_GLOSSARY_autotoc_md30}{}\doxysubsection{Trusted\+Object}\label{md__mnt_V8SourceCode_src_sandbox_GLOSSARY_autotoc_md30}
{\bfseries{Summary}}\+: A V8 Heap\+Object containing sensitive data or code, located outside of the sandbox.~\newline
 {\bfseries{Implementation}}\+: These are regular Heap\+Objects with a special instance type and which are allocated in one of the trusted heap spaces, located outside of the sandbox.~\newline
 {\bfseries{Security Properties}}\+: As these objects live outside of the sandbox, it can be assumed that they have not been manipulated by an attacker. As such, they can safely be read from, but one must be particularly careful when writing to them to avoid any memory corruption in trusted space.~\newline
 {\bfseries{Design Document}}\+: \href{https://docs.google.com/document/d/1IrvzL4uX_Zv0k2Iakdp_q_z33bj-qlYF5IesGpXW0fM/edit?usp=sharing}{\texttt{ V8 Sandbox -\/ Trusted Space}}\hypertarget{md__mnt_V8SourceCode_src_sandbox_GLOSSARY_autotoc_md31}{}\doxysubsection{Exposed\+Trusted\+Object}\label{md__mnt_V8SourceCode_src_sandbox_GLOSSARY_autotoc_md31}
{\bfseries{Summary}}\+: A trusted object directly exposed to objects inside the sandbox.~\newline
 {\bfseries{Implementation}}\+: These objects own an entry in one of the trusted pointer tables and therefore can be referenced from inside the sandbox in a memory-\/safe way via a trusted pointer (see below).~\newline
 {\bfseries{Security Properties}}\+: Same as Trusted\+Object.~\newline
 {\bfseries{Design Document}}\+: \href{https://docs.google.com/document/d/1IrvzL4uX_Zv0k2Iakdp_q_z33bj-qlYF5IesGpXW0fM/edit?usp=sharing}{\texttt{ V8 Sandbox -\/ Trusted Space}}\hypertarget{md__mnt_V8SourceCode_src_sandbox_GLOSSARY_autotoc_md32}{}\doxysection{Pointers}\label{md__mnt_V8SourceCode_src_sandbox_GLOSSARY_autotoc_md32}
This section gives an overview of the different pointer types used by the sandbox.\hypertarget{md__mnt_V8SourceCode_src_sandbox_GLOSSARY_autotoc_md33}{}\doxysubsection{Compressed Pointer}\label{md__mnt_V8SourceCode_src_sandbox_GLOSSARY_autotoc_md33}
{\bfseries{Summary}}\+: A pointer that is guaranteed to point into V8’s 4GB heap area, inside the sandbox.~\newline
 {\bfseries{Implementation}}\+: These are stored as 32-\/bit offsets from the start of the heap area. They were originally developed to reduce V8’s memory footprint.~\newline
 {\bfseries{Security Properties}}\+: As this pointer always points into the sandbox, it can always safely be written to, but when reading from it, it must be assumed that the data has been corrupted by an attacker.~\newline
 {\bfseries{Design Document}}\+: \href{https://docs.google.com/document/d/10qh2-b4C5OtSg-xLwyZpEI5ZihVBPtn1xwKBbQC26yI/edit?usp=sharing}{\texttt{ Compressed pointers in V8}}\hypertarget{md__mnt_V8SourceCode_src_sandbox_GLOSSARY_autotoc_md34}{}\doxysubsection{Uncompressed/\+Full Pointer}\label{md__mnt_V8SourceCode_src_sandbox_GLOSSARY_autotoc_md34}
{\bfseries{Summary}}\+: A full (64-\/bit) pointer to a V8 Heap\+Object.~\newline
 {\bfseries{Implementation}}\+: These are regular (“raw”) pointers to Heap\+Objects. They appear for example after decompressing a compressed pointer when loading it into a register or onto the stack, or as fields in objects located outside of the sandbox, for example tracking data structures used by the GC or the compilers, or objects created by the Embedder. ~\newline
 {\bfseries{Security Properties}}\+: As these are raw pointers, they must not be corrupted by an attacker and so must only be used outside of the sandbox. As they also point into the sandbox, the same considerations as for Compressed Pointers apply, namely that it must be assumed that what they point to has been corrupted.~\newline
\hypertarget{md__mnt_V8SourceCode_src_sandbox_GLOSSARY_autotoc_md35}{}\doxysubsection{Sandboxed Pointer}\label{md__mnt_V8SourceCode_src_sandbox_GLOSSARY_autotoc_md35}
{\bfseries{Summary}}\+: A pointer that is guaranteed to point into the sandbox.~\newline
 {\bfseries{Implementation}}\+: A sandboxed pointer is a 40-\/bit offset (when the sandbox is 1TB large) that is added to the base of the sandbox when loaded. When the sandbox is disabled, they are regular full pointers.~\newline
 {\bfseries{Security Properties}}\+: As this pointer always points into the sandbox, it can always safely be written to, but when reading from it, it must be assumed that the data has been corrupted by an attacker.~\newline
 {\bfseries{Design Document}}\+: \href{https://docs.google.com/document/d/1HSap8-J3HcrZvT7-5NsbYWcjfc0BVoops5TDHZNsnko/edit?usp=sharing}{\texttt{ V8 Sandbox -\/ Sandboxed Pointers}}\hypertarget{md__mnt_V8SourceCode_src_sandbox_GLOSSARY_autotoc_md36}{}\doxysubsection{Protected Pointer}\label{md__mnt_V8SourceCode_src_sandbox_GLOSSARY_autotoc_md36}
{\bfseries{Summary}}\+: A pointer that cannot be modified by an attacker. Only used between Trusted\+Objects.~\newline
 {\bfseries{Implementation}}\+: These are implemented as compressed pointers but use the trusted space base instead of the in-\/sandbox heap base. It’s therefore guaranteed that they will always point into trusted space. As the pointer itself is also located in trusted space, it cannot directly be modified by an attacker. When the sandbox is disabled, they are regular tagged pointers.~\newline
 {\bfseries{Security Properties}}\+: Neither the pointer itself nor the pointed-\/to object can be modified by an attacker as both live in trusted space. These pointers therefore have the strongest security guarantees.~\newline
 {\bfseries{Design Document}}\+: \href{https://docs.google.com/document/d/1IrvzL4uX_Zv0k2Iakdp_q_z33bj-qlYF5IesGpXW0fM/edit?usp=sharing}{\texttt{ V8 Sandbox -\/ Trusted Space}}\hypertarget{md__mnt_V8SourceCode_src_sandbox_GLOSSARY_autotoc_md37}{}\doxysubsection{External Pointer}\label{md__mnt_V8SourceCode_src_sandbox_GLOSSARY_autotoc_md37}
{\bfseries{Summary}}\+: A pointer to an object external to V8, outside of the sandbox and not managed by V8’s GC.~\newline
 {\bfseries{Implementation}}\+: These are implemented as indices into the External\+Pointer\+Table (EPT), which is located outside of the sandbox. The EPT performs type checks on every access to a pointer. Conceptually, they are very similar to file descriptors in Unix. When the sandbox is disabled, they are regular full pointers.~\newline
 {\bfseries{Security Properties}}\+: The pointer will point to a valid object of the expected type. However, an attacker can swap these pointers as long as the type of the referenced object is the same.~\newline
 {\bfseries{Design Document}}\+: \href{https://docs.google.com/document/d/1HSap8-J3HcrZvT7-5NsbYWcjfc0BVoops5TDHZNsnko/edit?usp=sharing}{\texttt{ V8 Sandbox -\/ External Pointer Sandboxing}}\hypertarget{md__mnt_V8SourceCode_src_sandbox_GLOSSARY_autotoc_md38}{}\doxysubsection{Indirect Pointer}\label{md__mnt_V8SourceCode_src_sandbox_GLOSSARY_autotoc_md38}
{\bfseries{Summary}}\+: A pointer to a V8 Heap\+Object that goes through a pointer table indirection on access.~\newline
 {\bfseries{Implementation}}\+: The “under-\/the-\/hood” implementation of Trusted Pointers and Code Pointers (see below) when the sandbox is enabled. Similar to External Pointers, these are indices into a pointer table and perform type checks on access. These pointers are only available when the sandbox is enabled.~\newline
 {\bfseries{Security Properties}}\+: See Trusted Pointer.~\newline
 {\bfseries{Design Document}}\+: \href{https://docs.google.com/document/d/1IrvzL4uX_Zv0k2Iakdp_q_z33bj-qlYF5IesGpXW0fM/edit?usp=sharing}{\texttt{ V8 Sandbox -\/ Trusted Space}}\hypertarget{md__mnt_V8SourceCode_src_sandbox_GLOSSARY_autotoc_md39}{}\doxysubsection{Trusted Pointer}\label{md__mnt_V8SourceCode_src_sandbox_GLOSSARY_autotoc_md39}
{\bfseries{Summary}}\+: A pointer that is guaranteed to point to a valid Trusted\+Object in trusted space.~\newline
 {\bfseries{Implementation}}\+: These are implemented as Indirect Pointers using the Trusted\+Pointer\+Table (TPT) when the sandbox is enabled. Otherwise they are regular tagged pointers.~\newline
 {\bfseries{Security Properties}}\+: The pointer will point to a Trusted\+Object in trusted space of the expected type. However, as with External Pointers an attacker can perform “pointer swap attacks” so it is not guaranteed that the pointer still points to the “original” object.~\newline
 {\bfseries{Design Document}}\+: \href{https://docs.google.com/document/d/1IrvzL4uX_Zv0k2Iakdp_q_z33bj-qlYF5IesGpXW0fM/edit?usp=sharing}{\texttt{ V8 Sandbox -\/ Trusted Space}}\hypertarget{md__mnt_V8SourceCode_src_sandbox_GLOSSARY_autotoc_md40}{}\doxysubsection{Code Pointer}\label{md__mnt_V8SourceCode_src_sandbox_GLOSSARY_autotoc_md40}
{\bfseries{Summary}}\+: A special kind of Trusted Pointer that always points to a Code object.~\newline
 {\bfseries{Implementation}}\+: Similar to Trusted Pointers, but these use the Code\+Pointer\+Table (CPT) instead of the TPT. They are essentially a performance optimization as the CPT also directly points to the code’s entrypoint.~\newline
 {\bfseries{Security Properties}}\+: Same as Trusted Pointers, but will always point to a Code object.~\newline
 {\bfseries{Design Document}}\+: \href{https://docs.google.com/document/d/1CPs5PutbnmI-c5g7e_Td9CNGh5BvpLleKCqUnqmD82k/edit?usp=sharing}{\texttt{ V8 Sandbox -\/ Code Pointer Sandboxing}} 