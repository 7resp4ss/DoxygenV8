\hypertarget{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02escape-analysis_8cc_03}{}\doxysection{v8\+::internal\+::compiler\+::anonymous\+\_\+namespace\{escape-\/analysis.cc\} Namespace Reference}
\label{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02escape-analysis_8cc_03}\index{v8::internal::compiler::anonymous\_namespace\lcurly{}escape-\/analysis.cc\rcurly{}@{v8::internal::compiler::anonymous\_namespace\lcurly{}escape-\/analysis.cc\rcurly{}}}
\doxysubsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
 \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02escape-analysis_8cc_03_1_1anonymouedcf60e7adb4afd13df1e27e93ea1233}{anonymous\+\_\+namespace\{escape-\/analysis.\+cc\}}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02escape-analysis_8cc_03_a5f977834ad450b3c2f8b81cb0e05fcae}{Offset\+Of\+Field\+Access}} (const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Operator}{Operator}} $\ast$op)
\item 
\mbox{\hyperlink{classv8_1_1Maybe}{Maybe}}$<$ \mbox{\hyperlink{classint}{int}} $>$ \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02escape-analysis_8cc_03_a5f5e19ef76d2c2d72d84187ee53b0b51}{Offset\+Of\+Element\+At}} (\mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1ElementAccess}{Element\+Access}} const \&access, \mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}})
\item 
\mbox{\hyperlink{classv8_1_1Maybe}{Maybe}}$<$ \mbox{\hyperlink{classint}{int}} $>$ \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02escape-analysis_8cc_03_a38575cc5a37239b9dc0fc4d654341acf}{Offset\+Of\+Elements\+Access}} (const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Operator}{Operator}} $\ast$op, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$index\+\_\+node)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$ \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02escape-analysis_8cc_03_af921a27375026c41721ccd505400d1f4}{Lower\+Compare\+Maps\+Without\+Load}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$checked\+\_\+map, \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_ae61b4cdc86fc0fc35648c45d73936c20}{Zone\+Ref\+Set}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$ const \&checked\+\_\+against, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1JSGraph}{JSGraph}} $\ast$jsgraph)
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02escape-analysis_8cc_03_a7989fcd3640262be6b16e020c452df82}{Reduce\+Node}} (const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Operator}{Operator}} $\ast$op, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1EscapeAnalysisTracker_1_1Scope}{Escape\+Analysis\+Tracker\+::\+Scope}} $\ast$current, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1JSGraph}{JSGraph}} $\ast$jsgraph)
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02escape-analysis_8cc_03_af921a27375026c41721ccd505400d1f4}\label{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02escape-analysis_8cc_03_af921a27375026c41721ccd505400d1f4}} 
\index{v8::internal::compiler::anonymous\_namespace\lcurly{}escape-\/analysis.cc\rcurly{}@{v8::internal::compiler::anonymous\_namespace\lcurly{}escape-\/analysis.cc\rcurly{}}!LowerCompareMapsWithoutLoad@{LowerCompareMapsWithoutLoad}}
\index{LowerCompareMapsWithoutLoad@{LowerCompareMapsWithoutLoad}!v8::internal::compiler::anonymous\_namespace\lcurly{}escape-\/analysis.cc\rcurly{}@{v8::internal::compiler::anonymous\_namespace\lcurly{}escape-\/analysis.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{LowerCompareMapsWithoutLoad()}{LowerCompareMapsWithoutLoad()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}}$\ast$ v8\+::internal\+::compiler\+::anonymous\+\_\+namespace\{escape-\/analysis.\+cc\}\+::Lower\+Compare\+Maps\+Without\+Load (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$}]{checked\+\_\+map,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_ae61b4cdc86fc0fc35648c45d73936c20}{Zone\+Ref\+Set}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$ const \&}]{checked\+\_\+against,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1JSGraph}{JSGraph}} $\ast$}]{jsgraph }\end{DoxyParamCaption})}



Definition at line 578 of file escape-\/analysis.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{580                                                     \{}
\DoxyCodeLine{581   Node* true\_node = jsgraph-\/>TrueConstant();}
\DoxyCodeLine{582   Node* false\_node = jsgraph-\/>FalseConstant();}
\DoxyCodeLine{583   Node* replacement = false\_node;}
\DoxyCodeLine{584   \textcolor{keywordflow}{for} (MapRef map : checked\_against) \{}
\DoxyCodeLine{585     \textcolor{comment}{// We are using HeapConstantMaybeHole here instead of HeapConstantNoHole}}
\DoxyCodeLine{586     \textcolor{comment}{// as we cannot do the CHECK(object is hole) here as the compile thread is}}
\DoxyCodeLine{587     \textcolor{comment}{// parked during EscapeAnalysis for performance reasons, see pipeline.cc.}}
\DoxyCodeLine{588     \textcolor{comment}{// TODO(cffsmith): do manual checking against hole values here.}}
\DoxyCodeLine{589     Node* map\_node = jsgraph-\/>HeapConstantMaybeHole(map.object());}
\DoxyCodeLine{590     \textcolor{comment}{// We cannot create a HeapConstant type here as we are off-\/thread.}}
\DoxyCodeLine{591     NodeProperties::SetType(map\_node, Type::Internal());}
\DoxyCodeLine{592     Node* comparison = jsgraph-\/>graph()-\/>NewNode(}
\DoxyCodeLine{593         jsgraph-\/>simplified()-\/>ReferenceEqual(), checked\_map, map\_node);}
\DoxyCodeLine{594     NodeProperties::SetType(comparison, Type::Boolean());}
\DoxyCodeLine{595     \textcolor{keywordflow}{if} (replacement == false\_node) \{}
\DoxyCodeLine{596       replacement = comparison;}
\DoxyCodeLine{597     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{598       replacement = jsgraph-\/>graph()-\/>NewNode(}
\DoxyCodeLine{599           jsgraph-\/>common()-\/>Select(MachineRepresentation::kTaggedPointer),}
\DoxyCodeLine{600           comparison, true\_node, replacement);}
\DoxyCodeLine{601       NodeProperties::SetType(replacement, Type::Boolean());}
\DoxyCodeLine{602     \}}
\DoxyCodeLine{603   \}}
\DoxyCodeLine{604   \textcolor{keywordflow}{return} replacement;}
\DoxyCodeLine{605 \}}

\end{DoxyCode}


References v8\+::internal\+::compiler\+::\+Machine\+Graph\+::common(), v8\+::internal\+::compiler\+::\+Machine\+Graph\+::graph(), v8\+::internal\+::compiler\+::\+JSGraph\+::\+Heap\+Constant\+Maybe\+Hole(), v8\+::internal\+::k\+Tagged\+Pointer, v8\+::internal\+::compiler\+::\+TFGraph\+::\+New\+Node(), v8\+::internal\+::compiler\+::\+Simplified\+Operator\+Builder\+::\+Reference\+Equal(), v8\+::internal\+::compiler\+::\+Common\+Operator\+Builder\+::\+Select(), v8\+::internal\+::compiler\+::\+Node\+Properties\+::\+Set\+Type(), and v8\+::internal\+::compiler\+::\+JSGraph\+::simplified().



Referenced by Reduce\+Node().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02escape-analysis_8cc_03_af921a27375026c41721ccd505400d1f4_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02escape-analysis_8cc_03_af921a27375026c41721ccd505400d1f4_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02escape-analysis_8cc_03_a5f5e19ef76d2c2d72d84187ee53b0b51}\label{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02escape-analysis_8cc_03_a5f5e19ef76d2c2d72d84187ee53b0b51}} 
\index{v8::internal::compiler::anonymous\_namespace\lcurly{}escape-\/analysis.cc\rcurly{}@{v8::internal::compiler::anonymous\_namespace\lcurly{}escape-\/analysis.cc\rcurly{}}!OffsetOfElementAt@{OffsetOfElementAt}}
\index{OffsetOfElementAt@{OffsetOfElementAt}!v8::internal::compiler::anonymous\_namespace\lcurly{}escape-\/analysis.cc\rcurly{}@{v8::internal::compiler::anonymous\_namespace\lcurly{}escape-\/analysis.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{OffsetOfElementAt()}{OffsetOfElementAt()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1Maybe}{Maybe}}$<$\mbox{\hyperlink{classint}{int}}$>$ v8\+::internal\+::compiler\+::anonymous\+\_\+namespace\{escape-\/analysis.\+cc\}\+::Offset\+Of\+Element\+At (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1ElementAccess}{Element\+Access}} const \&}]{access,  }\item[{\mbox{\hyperlink{classint}{int}}}]{index }\end{DoxyParamCaption})}



Definition at line 555 of file escape-\/analysis.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{555                                                                      \{}
\DoxyCodeLine{556   \mbox{\hyperlink{namespacev8_1_1internal_abe5419355372f787c28119c509343410}{MachineRepresentation}} representation = access.machine\_type.representation();}
\DoxyCodeLine{557   \textcolor{comment}{// Double elements accesses are not yet supported. See chromium:1237821.}}
\DoxyCodeLine{558   \textcolor{keywordflow}{if} (representation == MachineRepresentation::kFloat64) \textcolor{keywordflow}{return} Nothing<int>();}
\DoxyCodeLine{559 }
\DoxyCodeLine{560   \mbox{\hyperlink{src_2base_2logging_8h_aabec5c3b7a8628298a25f044dcf89c25}{DCHECK\_GE}}(\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}, 0);}
\DoxyCodeLine{561   \mbox{\hyperlink{src_2base_2logging_8h_aabec5c3b7a8628298a25f044dcf89c25}{DCHECK\_GE}}(\mbox{\hyperlink{namespacev8_1_1internal_a6faf4fb681df462e0ff5dd779c1485d5}{ElementSizeLog2Of}}(representation), \mbox{\hyperlink{namespacev8_1_1internal_a7b94dc2dd5250e9341c12941db8e9595}{kTaggedSizeLog2}});}
\DoxyCodeLine{562   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_a41f0e280eadfba6ac9afd833fdd540cf}{Just}}(access.header\_size +}
\DoxyCodeLine{563               (\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}} << \mbox{\hyperlink{namespacev8_1_1internal_a6faf4fb681df462e0ff5dd779c1485d5}{ElementSizeLog2Of}}(representation)));}
\DoxyCodeLine{564 \}}

\end{DoxyCode}


References DCHECK\+\_\+\+GE, v8\+::internal\+::\+Element\+Size\+Log2\+Of(), v8\+::internal\+::compiler\+::\+Element\+Access\+::header\+\_\+size, v8\+::internal\+::index, v8\+::\+Just(), v8\+::internal\+::k\+Float64, v8\+::internal\+::k\+Tagged\+Size\+Log2, v8\+::internal\+::compiler\+::\+Element\+Access\+::machine\+\_\+type, and v8\+::internal\+::\+Machine\+Type\+::representation().



Referenced by v8\+::internal\+::\+Code\+Stub\+Assembler\+::\+Allocate\+Name\+Dictionary\+With\+Capacity(), v8\+::internal\+::\+Code\+Stub\+Assembler\+::\+Allocate\+Simple\+Name\+Dictionary\+With\+Capacity(), v8\+::internal\+::\+Ephemeron\+Hash\+Table\+::\+Body\+Descriptor\+::\+Iterate\+Body(), v8\+::internal\+::maglev\+::\+Store\+Context\+Slot\+With\+Write\+Barrier\+::offset(), Offset\+Of\+Elements\+Access(), Reduce\+Node(), v8\+::internal\+::\+Embedder\+Data\+Array\+::slots\+\_\+start(), and v8\+::internal\+::\+Code\+Stub\+Assembler\+::\+Unsafe\+Store\+Array\+Element().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02escape-analysis_8cc_03_a5f5e19ef76d2c2d72d84187ee53b0b51_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02escape-analysis_8cc_03_a5f5e19ef76d2c2d72d84187ee53b0b51_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02escape-analysis_8cc_03_a38575cc5a37239b9dc0fc4d654341acf}\label{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02escape-analysis_8cc_03_a38575cc5a37239b9dc0fc4d654341acf}} 
\index{v8::internal::compiler::anonymous\_namespace\lcurly{}escape-\/analysis.cc\rcurly{}@{v8::internal::compiler::anonymous\_namespace\lcurly{}escape-\/analysis.cc\rcurly{}}!OffsetOfElementsAccess@{OffsetOfElementsAccess}}
\index{OffsetOfElementsAccess@{OffsetOfElementsAccess}!v8::internal::compiler::anonymous\_namespace\lcurly{}escape-\/analysis.cc\rcurly{}@{v8::internal::compiler::anonymous\_namespace\lcurly{}escape-\/analysis.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{OffsetOfElementsAccess()}{OffsetOfElementsAccess()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1Maybe}{Maybe}}$<$\mbox{\hyperlink{classint}{int}}$>$ v8\+::internal\+::compiler\+::anonymous\+\_\+namespace\{escape-\/analysis.\+cc\}\+::Offset\+Of\+Elements\+Access (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Operator}{Operator}} $\ast$}]{op,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$}]{index\+\_\+node }\end{DoxyParamCaption})}



Definition at line 566 of file escape-\/analysis.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{566                                                                         \{}
\DoxyCodeLine{567   \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(op-\/>opcode() == IrOpcode::kLoadElement ||}
\DoxyCodeLine{568          op-\/>opcode() == IrOpcode::kStoreElement);}
\DoxyCodeLine{569   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02js-display-names_8cc_03_a169d0b07e82f46d628050c890a0dacbe}{Type}} index\_type = NodeProperties::GetType(index\_node);}
\DoxyCodeLine{570   \textcolor{keywordflow}{if} (!index\_type.Is(Type::OrderedNumber())) \textcolor{keywordflow}{return} Nothing<int>();}
\DoxyCodeLine{571   \textcolor{keywordtype}{double} max = index\_type.Max();}
\DoxyCodeLine{572   \textcolor{keywordtype}{double} min = index\_type.Min();}
\DoxyCodeLine{573   \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}} = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(min);}
\DoxyCodeLine{574   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}} < 0 || \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}} != min || \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}} != max) \textcolor{keywordflow}{return} Nothing<int>();}
\DoxyCodeLine{575   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02escape-analysis_8cc_03_a5f5e19ef76d2c2d72d84187ee53b0b51}{OffsetOfElementAt}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a5f1a972525a189ec8b097e5a4257a2c2}{ElementAccessOf}}(op), \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}});}
\DoxyCodeLine{576 \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), v8\+::internal\+::compiler\+::\+Element\+Access\+Of(), v8\+::internal\+::compiler\+::\+Node\+Properties\+::\+Get\+Type(), v8\+::internal\+::index, v8\+::internal\+::compiler\+::\+Type\+::\+Is(), v8\+::internal\+::compiler\+::\+Type\+::\+Max(), v8\+::internal\+::compiler\+::\+Type\+::\+Min(), Offset\+Of\+Element\+At(), and v8\+::internal\+::compiler\+::\+Operator\+::opcode().



Referenced by Reduce\+Node().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02escape-analysis_8cc_03_a38575cc5a37239b9dc0fc4d654341acf_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02escape-analysis_8cc_03_a38575cc5a37239b9dc0fc4d654341acf_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02escape-analysis_8cc_03_a5f977834ad450b3c2f8b81cb0e05fcae}\label{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02escape-analysis_8cc_03_a5f977834ad450b3c2f8b81cb0e05fcae}} 
\index{v8::internal::compiler::anonymous\_namespace\lcurly{}escape-\/analysis.cc\rcurly{}@{v8::internal::compiler::anonymous\_namespace\lcurly{}escape-\/analysis.cc\rcurly{}}!OffsetOfFieldAccess@{OffsetOfFieldAccess}}
\index{OffsetOfFieldAccess@{OffsetOfFieldAccess}!v8::internal::compiler::anonymous\_namespace\lcurly{}escape-\/analysis.cc\rcurly{}@{v8::internal::compiler::anonymous\_namespace\lcurly{}escape-\/analysis.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{OffsetOfFieldAccess()}{OffsetOfFieldAccess()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classint}{int}} v8\+::internal\+::compiler\+::anonymous\+\_\+namespace\{escape-\/analysis.\+cc\}\+::Offset\+Of\+Field\+Access (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Operator}{Operator}} $\ast$}]{op }\end{DoxyParamCaption})}



Definition at line 548 of file escape-\/analysis.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{548                                             \{}
\DoxyCodeLine{549   \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(op-\/>opcode() == IrOpcode::kLoadField ||}
\DoxyCodeLine{550          op-\/>opcode() == IrOpcode::kStoreField);}
\DoxyCodeLine{551   FieldAccess access = \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a5e0fb7c4acc0c6304145ab85ce0807bd}{FieldAccessOf}}(op);}
\DoxyCodeLine{552   \textcolor{keywordflow}{return} access.offset;}
\DoxyCodeLine{553 \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), v8\+::internal\+::compiler\+::\+Field\+Access\+Of(), v8\+::internal\+::compiler\+::\+Field\+Access\+::offset, and v8\+::internal\+::compiler\+::\+Operator\+::opcode().



Referenced by Reduce\+Node().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02escape-analysis_8cc_03_a5f977834ad450b3c2f8b81cb0e05fcae_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02escape-analysis_8cc_03_a5f977834ad450b3c2f8b81cb0e05fcae_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02escape-analysis_8cc_03_a7989fcd3640262be6b16e020c452df82}\label{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02escape-analysis_8cc_03_a7989fcd3640262be6b16e020c452df82}} 
\index{v8::internal::compiler::anonymous\_namespace\lcurly{}escape-\/analysis.cc\rcurly{}@{v8::internal::compiler::anonymous\_namespace\lcurly{}escape-\/analysis.cc\rcurly{}}!ReduceNode@{ReduceNode}}
\index{ReduceNode@{ReduceNode}!v8::internal::compiler::anonymous\_namespace\lcurly{}escape-\/analysis.cc\rcurly{}@{v8::internal::compiler::anonymous\_namespace\lcurly{}escape-\/analysis.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{ReduceNode()}{ReduceNode()}}
{\footnotesize\ttfamily void v8\+::internal\+::compiler\+::anonymous\+\_\+namespace\{escape-\/analysis.\+cc\}\+::Reduce\+Node (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Operator}{Operator}} $\ast$}]{op,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1EscapeAnalysisTracker_1_1Scope}{Escape\+Analysis\+Tracker\+::\+Scope}} $\ast$}]{current,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1JSGraph}{JSGraph}} $\ast$}]{jsgraph }\end{DoxyParamCaption})}



Definition at line 633 of file escape-\/analysis.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{634                                   \{}
\DoxyCodeLine{635   \textcolor{keywordflow}{switch} (op-\/>opcode()) \{}
\DoxyCodeLine{636     \textcolor{keywordflow}{case} IrOpcode::kAllocate: \{}
\DoxyCodeLine{637       \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a91b013ace4a37c8f3a22972a99e8b817}{NumberMatcher}} \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}(current-\/>ValueInput(0));}
\DoxyCodeLine{638       \textcolor{keywordflow}{if} (!\mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}.HasResolvedValue()) \textcolor{keywordflow}{break};}
\DoxyCodeLine{639       \textcolor{keywordtype}{int} size\_int = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}.ResolvedValue());}
\DoxyCodeLine{640       \textcolor{keywordflow}{if} (size\_int != \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}.ResolvedValue()) \textcolor{keywordflow}{break};}
\DoxyCodeLine{641       \textcolor{keywordflow}{if} (\textcolor{keyword}{const} VirtualObject* vobject = current-\/>InitVirtualObject(size\_int)) \{}
\DoxyCodeLine{642         \textcolor{comment}{// Initialize with dead nodes as a sentinel for uninitialized memory.}}
\DoxyCodeLine{643         \textcolor{keywordflow}{for} (\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_a360e859ecd2f20a4868a17f0a7ec8a57}{Variable}} field : *vobject) \{}
\DoxyCodeLine{644           current-\/>Set(field, jsgraph-\/>Dead());}
\DoxyCodeLine{645         \}}
\DoxyCodeLine{646       \}}
\DoxyCodeLine{647       \textcolor{keywordflow}{break};}
\DoxyCodeLine{648     \}}
\DoxyCodeLine{649     \textcolor{keywordflow}{case} IrOpcode::kFinishRegion:}
\DoxyCodeLine{650       current-\/>SetVirtualObject(current-\/>ValueInput(0));}
\DoxyCodeLine{651       \textcolor{keywordflow}{break};}
\DoxyCodeLine{652     \textcolor{keywordflow}{case} IrOpcode::kStoreField: \{}
\DoxyCodeLine{653       Node* \textcolor{keywordtype}{object} = current-\/>ValueInput(0);}
\DoxyCodeLine{654       Node* \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} = current-\/>ValueInput(1);}
\DoxyCodeLine{655       \textcolor{keyword}{const} VirtualObject* vobject = current-\/>GetVirtualObject(\textcolor{keywordtype}{object});}
\DoxyCodeLine{656       \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_a360e859ecd2f20a4868a17f0a7ec8a57}{Variable}} var;}
\DoxyCodeLine{657       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}-\/>opcode() == IrOpcode::kTrustedHeapConstant) \{}
\DoxyCodeLine{658         \textcolor{comment}{// TODO(dmercadier): enable escaping objects containing}}
\DoxyCodeLine{659         \textcolor{comment}{// TrustedHeapConstants. This is currently disabled because it leads to}}
\DoxyCodeLine{660         \textcolor{comment}{// bugs when Trusted HeapConstant and regular HeapConstant flow into the}}
\DoxyCodeLine{661         \textcolor{comment}{// same Phi, which can then be marked as Compressed, messing up the}}
\DoxyCodeLine{662         \textcolor{comment}{// tagging of the Trusted HeapConstant.}}
\DoxyCodeLine{663         current-\/>SetEscaped(\textcolor{keywordtype}{object});}
\DoxyCodeLine{664         current-\/>SetEscaped(\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}});}
\DoxyCodeLine{665         \textcolor{keywordflow}{break};}
\DoxyCodeLine{666       \}}
\DoxyCodeLine{667       \textcolor{comment}{// BoundedSize fields cannot currently be materialized by the deoptimizer,}}
\DoxyCodeLine{668       \textcolor{comment}{// so we must not dematerialze them.}}
\DoxyCodeLine{669       \textcolor{keywordflow}{if} (vobject \&\& !vobject-\/>HasEscaped() \&\&}
\DoxyCodeLine{670           vobject-\/>FieldAt(\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02escape-analysis_8cc_03_a5f977834ad450b3c2f8b81cb0e05fcae}{OffsetOfFieldAccess}}(op)).To(\&var) \&\&}
\DoxyCodeLine{671           !\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a5e0fb7c4acc0c6304145ab85ce0807bd}{FieldAccessOf}}(op).\mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1FieldAccess_aff13f565f11074a2c70dd0459b270179}{is\_bounded\_size\_access}}) \{}
\DoxyCodeLine{672         current-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1SnapshotTable_ad390981ba9efdd6e4d3e3f71dafdf062}{Set}}(var, \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}});}
\DoxyCodeLine{673         current-\/>MarkForDeletion();}
\DoxyCodeLine{674       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{675         current-\/>SetEscaped(\textcolor{keywordtype}{object});}
\DoxyCodeLine{676         current-\/>SetEscaped(\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}});}
\DoxyCodeLine{677       \}}
\DoxyCodeLine{678       \textcolor{keywordflow}{break};}
\DoxyCodeLine{679     \}}
\DoxyCodeLine{680     \textcolor{keywordflow}{case} IrOpcode::kStoreElement: \{}
\DoxyCodeLine{681       Node* \textcolor{keywordtype}{object} = current-\/>ValueInput(0);}
\DoxyCodeLine{682       Node* \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}} = current-\/>ValueInput(1);}
\DoxyCodeLine{683       Node* \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} = current-\/>ValueInput(2);}
\DoxyCodeLine{684       \textcolor{keyword}{const} VirtualObject* vobject = current-\/>GetVirtualObject(\textcolor{keywordtype}{object});}
\DoxyCodeLine{685       \textcolor{keywordtype}{int} offset;}
\DoxyCodeLine{686       \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_a360e859ecd2f20a4868a17f0a7ec8a57}{Variable}} var;}
\DoxyCodeLine{687       \textcolor{keywordflow}{if} (vobject \&\& !vobject-\/>HasEscaped() \&\&}
\DoxyCodeLine{688           \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02escape-analysis_8cc_03_a38575cc5a37239b9dc0fc4d654341acf}{OffsetOfElementsAccess}}(op, \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}).To(\&offset) \&\&}
\DoxyCodeLine{689           vobject-\/>FieldAt(offset).To(\&var)) \{}
\DoxyCodeLine{690         current-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1SnapshotTable_ad390981ba9efdd6e4d3e3f71dafdf062}{Set}}(var, \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}});}
\DoxyCodeLine{691         current-\/>MarkForDeletion();}
\DoxyCodeLine{692       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{693         current-\/>SetEscaped(\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}});}
\DoxyCodeLine{694         current-\/>SetEscaped(\textcolor{keywordtype}{object});}
\DoxyCodeLine{695       \}}
\DoxyCodeLine{696       \textcolor{keywordflow}{break};}
\DoxyCodeLine{697     \}}
\DoxyCodeLine{698     \textcolor{keywordflow}{case} IrOpcode::kLoadField: \{}
\DoxyCodeLine{699       Node* \textcolor{keywordtype}{object} = current-\/>ValueInput(0);}
\DoxyCodeLine{700       \textcolor{keyword}{const} VirtualObject* vobject = current-\/>GetVirtualObject(\textcolor{keywordtype}{object});}
\DoxyCodeLine{701       \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_a360e859ecd2f20a4868a17f0a7ec8a57}{Variable}} var;}
\DoxyCodeLine{702       Node* \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}};}
\DoxyCodeLine{703       \textcolor{keywordflow}{if} (vobject \&\& !vobject-\/>HasEscaped() \&\&}
\DoxyCodeLine{704           vobject-\/>FieldAt(\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02escape-analysis_8cc_03_a5f977834ad450b3c2f8b81cb0e05fcae}{OffsetOfFieldAccess}}(op)).To(\&var) \&\&}
\DoxyCodeLine{705           current-\/>Get(var).To(\&\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}})) \{}
\DoxyCodeLine{706         current-\/>SetReplacement(\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}});}
\DoxyCodeLine{707       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{708         current-\/>SetEscaped(\textcolor{keywordtype}{object});}
\DoxyCodeLine{709       \}}
\DoxyCodeLine{710       \textcolor{keywordflow}{break};}
\DoxyCodeLine{711     \}}
\DoxyCodeLine{712     \textcolor{keywordflow}{case} IrOpcode::kLoadElement: \{}
\DoxyCodeLine{713       Node* \textcolor{keywordtype}{object} = current-\/>ValueInput(0);}
\DoxyCodeLine{714       Node* \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}} = current-\/>ValueInput(1);}
\DoxyCodeLine{715       \textcolor{keyword}{const} VirtualObject* vobject = current-\/>GetVirtualObject(\textcolor{keywordtype}{object});}
\DoxyCodeLine{716       \textcolor{keywordtype}{int} offset;}
\DoxyCodeLine{717       \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_a360e859ecd2f20a4868a17f0a7ec8a57}{Variable}} var;}
\DoxyCodeLine{718       Node* \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}};}
\DoxyCodeLine{719       \textcolor{keywordflow}{if} (vobject \&\& !vobject-\/>HasEscaped() \&\&}
\DoxyCodeLine{720           \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02escape-analysis_8cc_03_a38575cc5a37239b9dc0fc4d654341acf}{OffsetOfElementsAccess}}(op, \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}).To(\&offset) \&\&}
\DoxyCodeLine{721           vobject-\/>FieldAt(offset).To(\&var) \&\& current-\/>Get(var).To(\&\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}})) \{}
\DoxyCodeLine{722         current-\/>SetReplacement(\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}});}
\DoxyCodeLine{723         \textcolor{keywordflow}{break};}
\DoxyCodeLine{724       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (vobject \&\& !vobject-\/>HasEscaped()) \{}
\DoxyCodeLine{725         \textcolor{comment}{// Compute the known length (aka the number of elements) of \{object\}}}
\DoxyCodeLine{726         \textcolor{comment}{// based on the virtual object information.}}
\DoxyCodeLine{727         ElementAccess \textcolor{keyword}{const}\& access = \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a5f1a972525a189ec8b097e5a4257a2c2}{ElementAccessOf}}(op);}
\DoxyCodeLine{728         \textcolor{keywordtype}{int} \textcolor{keyword}{const} \mbox{\hyperlink{namespacev8_1_1internal_afa9ea55d792121fba92b4cfc8ef8c9d7}{length}} =}
\DoxyCodeLine{729             (vobject-\/>size() -\/ access.header\_size) >>}
\DoxyCodeLine{730             \mbox{\hyperlink{namespacev8_1_1internal_a6faf4fb681df462e0ff5dd779c1485d5}{ElementSizeLog2Of}}(access.machine\_type.representation());}
\DoxyCodeLine{731         \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_a360e859ecd2f20a4868a17f0a7ec8a57}{Variable}} var0, var1;}
\DoxyCodeLine{732         Node* value0;}
\DoxyCodeLine{733         Node* value1;}
\DoxyCodeLine{734         \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_afa9ea55d792121fba92b4cfc8ef8c9d7}{length}} == 1 \&\&}
\DoxyCodeLine{735             vobject-\/>FieldAt(\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02escape-analysis_8cc_03_a5f5e19ef76d2c2d72d84187ee53b0b51}{OffsetOfElementAt}}(access, 0)).To(\&var) \&\&}
\DoxyCodeLine{736             current-\/>Get(var).To(\&\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}) \&\&}
\DoxyCodeLine{737             (\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} == \textcolor{keyword}{nullptr} ||}
\DoxyCodeLine{738              NodeProperties::GetType(\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}).Is(access.type))) \{}
\DoxyCodeLine{739           \textcolor{comment}{// The \{object\} has no elements, and we know that the LoadElement}}
\DoxyCodeLine{740           \textcolor{comment}{// \{index\} must be within bounds, thus it must always yield this}}
\DoxyCodeLine{741           \textcolor{comment}{// one element of \{object\}.}}
\DoxyCodeLine{742           current-\/>SetReplacement(\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}});}
\DoxyCodeLine{743           \textcolor{keywordflow}{break};}
\DoxyCodeLine{744         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_afa9ea55d792121fba92b4cfc8ef8c9d7}{length}} == 2 \&\&}
\DoxyCodeLine{745                    vobject-\/>FieldAt(\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02escape-analysis_8cc_03_a5f5e19ef76d2c2d72d84187ee53b0b51}{OffsetOfElementAt}}(access, 0)).To(\&var0) \&\&}
\DoxyCodeLine{746                    current-\/>Get(var0).To(\&value0) \&\&}
\DoxyCodeLine{747                    (value0 == \textcolor{keyword}{nullptr} ||}
\DoxyCodeLine{748                     NodeProperties::GetType(value0).Is(access.type)) \&\&}
\DoxyCodeLine{749                    vobject-\/>FieldAt(\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02escape-analysis_8cc_03_a5f5e19ef76d2c2d72d84187ee53b0b51}{OffsetOfElementAt}}(access, 1)).To(\&var1) \&\&}
\DoxyCodeLine{750                    current-\/>Get(var1).To(\&value1) \&\&}
\DoxyCodeLine{751                    (value1 == \textcolor{keyword}{nullptr} ||}
\DoxyCodeLine{752                     NodeProperties::GetType(value1).Is(access.type))) \{}
\DoxyCodeLine{753           \textcolor{keywordflow}{if} (value0 \&\& value1) \{}
\DoxyCodeLine{754             \textcolor{comment}{// The \{object\} has exactly two elements, so the LoadElement}}
\DoxyCodeLine{755             \textcolor{comment}{// must return one of them (i.e. either the element at index}}
\DoxyCodeLine{756             \textcolor{comment}{// 0 or the one at index 1). So we can turn the LoadElement}}
\DoxyCodeLine{757             \textcolor{comment}{// into a Select operation instead (still allowing the \{object\}}}
\DoxyCodeLine{758             \textcolor{comment}{// to be scalar replaced). We must however mark the elements}}
\DoxyCodeLine{759             \textcolor{comment}{// of the \{object\} itself as escaping.}}
\DoxyCodeLine{760             Node* check =}
\DoxyCodeLine{761                 jsgraph-\/>graph()-\/>NewNode(jsgraph-\/>simplified()-\/>NumberEqual(),}
\DoxyCodeLine{762                                           \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}, jsgraph-\/>ZeroConstant());}
\DoxyCodeLine{763             NodeProperties::SetType(check, Type::Boolean());}
\DoxyCodeLine{764             Node* select = jsgraph-\/>graph()-\/>NewNode(}
\DoxyCodeLine{765                 jsgraph-\/>common()-\/>Select(access.machine\_type.representation()),}
\DoxyCodeLine{766                 check, value0, value1);}
\DoxyCodeLine{767             NodeProperties::SetType(select, access.type);}
\DoxyCodeLine{768             current-\/>SetReplacement(select);}
\DoxyCodeLine{769             current-\/>SetEscaped(value0);}
\DoxyCodeLine{770             current-\/>SetEscaped(value1);}
\DoxyCodeLine{771             \textcolor{keywordflow}{break};}
\DoxyCodeLine{772           \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{773             \textcolor{comment}{// If the variables have no values, we have}}
\DoxyCodeLine{774             \textcolor{comment}{// not reached the fixed-\/point yet.}}
\DoxyCodeLine{775             \textcolor{keywordflow}{break};}
\DoxyCodeLine{776           \}}
\DoxyCodeLine{777         \}}
\DoxyCodeLine{778       \}}
\DoxyCodeLine{779       current-\/>SetEscaped(\textcolor{keywordtype}{object});}
\DoxyCodeLine{780       \textcolor{keywordflow}{break};}
\DoxyCodeLine{781     \}}
\DoxyCodeLine{782     \textcolor{keywordflow}{case} IrOpcode::kTypeGuard: \{}
\DoxyCodeLine{783       current-\/>SetVirtualObject(current-\/>ValueInput(0));}
\DoxyCodeLine{784       \textcolor{keywordflow}{break};}
\DoxyCodeLine{785     \}}
\DoxyCodeLine{786     \textcolor{keywordflow}{case} IrOpcode::kReferenceEqual: \{}
\DoxyCodeLine{787       Node* left = current-\/>ValueInput(0);}
\DoxyCodeLine{788       Node* right = current-\/>ValueInput(1);}
\DoxyCodeLine{789       \textcolor{keyword}{const} VirtualObject* left\_object = current-\/>GetVirtualObject(left);}
\DoxyCodeLine{790       \textcolor{keyword}{const} VirtualObject* right\_object = current-\/>GetVirtualObject(right);}
\DoxyCodeLine{791       Node* replacement = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{792       \textcolor{keywordflow}{if} (left\_object \&\& !left\_object-\/>HasEscaped()) \{}
\DoxyCodeLine{793         \textcolor{keywordflow}{if} (right\_object \&\& !right\_object-\/>HasEscaped() \&\&}
\DoxyCodeLine{794             left\_object-\/>id() == right\_object-\/>id()) \{}
\DoxyCodeLine{795           replacement = jsgraph-\/>TrueConstant();}
\DoxyCodeLine{796         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{797           replacement = jsgraph-\/>FalseConstant();}
\DoxyCodeLine{798         \}}
\DoxyCodeLine{799       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (right\_object \&\& !right\_object-\/>HasEscaped()) \{}
\DoxyCodeLine{800         replacement = jsgraph-\/>FalseConstant();}
\DoxyCodeLine{801       \}}
\DoxyCodeLine{802       \textcolor{comment}{// TODO(turbofan) This is a workaround for uninhabited types. If we}}
\DoxyCodeLine{803       \textcolor{comment}{// replaced a value of uninhabited type with a constant, we would}}
\DoxyCodeLine{804       \textcolor{comment}{// widen the type of the node. This could produce inconsistent}}
\DoxyCodeLine{805       \textcolor{comment}{// types (which might confuse representation selection). We get}}
\DoxyCodeLine{806       \textcolor{comment}{// around this by refusing to constant-\/fold and escape-\/analyze}}
\DoxyCodeLine{807       \textcolor{comment}{// if the type is not inhabited.}}
\DoxyCodeLine{808       \textcolor{keywordflow}{if} (replacement \&\& !NodeProperties::GetType(left).\mbox{\hyperlink{namespacev8_1_1internal_a1f4bac926335cd67e2480bbf3a8634f5}{IsNone}}() \&\&}
\DoxyCodeLine{809           !NodeProperties::GetType(right).\mbox{\hyperlink{namespacev8_1_1internal_a1f4bac926335cd67e2480bbf3a8634f5}{IsNone}}()) \{}
\DoxyCodeLine{810         current-\/>SetReplacement(replacement);}
\DoxyCodeLine{811         \textcolor{keywordflow}{break};}
\DoxyCodeLine{812       \}}
\DoxyCodeLine{813       current-\/>SetEscaped(left);}
\DoxyCodeLine{814       current-\/>SetEscaped(right);}
\DoxyCodeLine{815       \textcolor{keywordflow}{break};}
\DoxyCodeLine{816     \}}
\DoxyCodeLine{817     \textcolor{keywordflow}{case} IrOpcode::kCheckMaps: \{}
\DoxyCodeLine{818       CheckMapsParameters params = \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a3f5fc10ff7ce6eea93a43baf289f4dc8}{CheckMapsParametersOf}}(op);}
\DoxyCodeLine{819       Node* checked = current-\/>ValueInput(0);}
\DoxyCodeLine{820       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02escape-analysis_8cc_03_1_1anonymouedcf60e7adb4afd13df1e27e93ea1233_ae2dbc44c0f01692346e5f9eb47848a5d}{CheckMapsHelper}}(current, checked, params.maps())) \{}
\DoxyCodeLine{821         \textcolor{keywordflow}{break};}
\DoxyCodeLine{822       \}}
\DoxyCodeLine{823       current-\/>SetEscaped(checked);}
\DoxyCodeLine{824       \textcolor{keywordflow}{break};}
\DoxyCodeLine{825     \}}
\DoxyCodeLine{826     \textcolor{keywordflow}{case} IrOpcode::kTransitionElementsKindOrCheckMap: \{}
\DoxyCodeLine{827       ElementsTransitionWithMultipleSources params =}
\DoxyCodeLine{828           \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_ad0a4d810a0db4ef0c5b75b852b10ab73}{ElementsTransitionWithMultipleSourcesOf}}(op);}
\DoxyCodeLine{829       Node* checked = current-\/>ValueInput(0);}
\DoxyCodeLine{830       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02escape-analysis_8cc_03_1_1anonymouedcf60e7adb4afd13df1e27e93ea1233_ae2dbc44c0f01692346e5f9eb47848a5d}{CheckMapsHelper}}(current, checked, ZoneRefSet<Map>(params.target()))) \{}
\DoxyCodeLine{831         \textcolor{keywordflow}{break};}
\DoxyCodeLine{832       \}}
\DoxyCodeLine{833       current-\/>SetEscaped(checked);}
\DoxyCodeLine{834       \textcolor{keywordflow}{break};}
\DoxyCodeLine{835     \}}
\DoxyCodeLine{836     \textcolor{keywordflow}{case} IrOpcode::kCompareMaps: \{}
\DoxyCodeLine{837       Node* \textcolor{keywordtype}{object} = current-\/>ValueInput(0);}
\DoxyCodeLine{838       \textcolor{keyword}{const} VirtualObject* vobject = current-\/>GetVirtualObject(\textcolor{keywordtype}{object});}
\DoxyCodeLine{839       \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_a360e859ecd2f20a4868a17f0a7ec8a57}{Variable}} map\_field;}
\DoxyCodeLine{840       Node* object\_map;}
\DoxyCodeLine{841       \textcolor{keywordflow}{if} (vobject \&\& !vobject-\/>HasEscaped() \&\&}
\DoxyCodeLine{842           vobject-\/>FieldAt(HeapObject::kMapOffset).To(\&map\_field) \&\&}
\DoxyCodeLine{843           current-\/>Get(map\_field).To(\&object\_map)) \{}
\DoxyCodeLine{844         \textcolor{keywordflow}{if} (object\_map) \{}
\DoxyCodeLine{845           current-\/>SetReplacement(\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02escape-analysis_8cc_03_af921a27375026c41721ccd505400d1f4}{LowerCompareMapsWithoutLoad}}(}
\DoxyCodeLine{846               object\_map, \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a6dd60cbfd8644e6abe1d2305d1f28b59}{CompareMapsParametersOf}}(op), jsgraph));}
\DoxyCodeLine{847           \textcolor{keywordflow}{break};}
\DoxyCodeLine{848         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{849           \textcolor{comment}{// If the variable has no value, we have not reached the fixed-\/point}}
\DoxyCodeLine{850           \textcolor{comment}{// yet.}}
\DoxyCodeLine{851           \textcolor{keywordflow}{break};}
\DoxyCodeLine{852         \}}
\DoxyCodeLine{853       \}}
\DoxyCodeLine{854       current-\/>SetEscaped(\textcolor{keywordtype}{object});}
\DoxyCodeLine{855       \textcolor{keywordflow}{break};}
\DoxyCodeLine{856     \}}
\DoxyCodeLine{857     \textcolor{keywordflow}{case} IrOpcode::kCheckHeapObject: \{}
\DoxyCodeLine{858       Node* checked = current-\/>ValueInput(0);}
\DoxyCodeLine{859       \textcolor{keywordflow}{switch} (checked-\/>opcode()) \{}
\DoxyCodeLine{860         \textcolor{keywordflow}{case} IrOpcode::kAllocate:}
\DoxyCodeLine{861         \textcolor{keywordflow}{case} IrOpcode::kFinishRegion:}
\DoxyCodeLine{862         \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_1_1Opmask_a0ada1f75f62be73dabab73507ca7bc14}{IrOpcode::kHeapConstant}}:}
\DoxyCodeLine{863           current-\/>SetReplacement(checked);}
\DoxyCodeLine{864           \textcolor{keywordflow}{break};}
\DoxyCodeLine{865         \textcolor{keywordflow}{default}:}
\DoxyCodeLine{866           current-\/>SetEscaped(checked);}
\DoxyCodeLine{867           \textcolor{keywordflow}{break};}
\DoxyCodeLine{868       \}}
\DoxyCodeLine{869       \textcolor{keywordflow}{break};}
\DoxyCodeLine{870     \}}
\DoxyCodeLine{871     \textcolor{keywordflow}{case} IrOpcode::kMapGuard: \{}
\DoxyCodeLine{872       Node* \textcolor{keywordtype}{object} = current-\/>ValueInput(0);}
\DoxyCodeLine{873       \textcolor{keyword}{const} VirtualObject* vobject = current-\/>GetVirtualObject(\textcolor{keywordtype}{object});}
\DoxyCodeLine{874       \textcolor{keywordflow}{if} (vobject \&\& !vobject-\/>HasEscaped()) \{}
\DoxyCodeLine{875         current-\/>MarkForDeletion();}
\DoxyCodeLine{876       \}}
\DoxyCodeLine{877       \textcolor{keywordflow}{break};}
\DoxyCodeLine{878     \}}
\DoxyCodeLine{879     \textcolor{keywordflow}{case} IrOpcode::kStateValues:}
\DoxyCodeLine{880       \textcolor{comment}{// We visit StateValue nodes through their correpsonding FrameState node,}}
\DoxyCodeLine{881       \textcolor{comment}{// so we need to make sure we revisit the FrameState.}}
\DoxyCodeLine{882       current-\/>SetValueChanged();}
\DoxyCodeLine{883       \textcolor{keywordflow}{break};}
\DoxyCodeLine{884     \textcolor{keywordflow}{case} IrOpcode::kFrameState: \{}
\DoxyCodeLine{885       \textcolor{comment}{// We mark the receiver as escaping due to the non-\/standard `.getThis`}}
\DoxyCodeLine{886       \textcolor{comment}{// API.}}
\DoxyCodeLine{887       FrameState frame\_state\{current-\/>CurrentNode()\};}
\DoxyCodeLine{888       \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a0b661e720e788f8b28a0e2aee2ce8fab}{FrameStateType}} \mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}} = frame\_state.frame\_state\_info().type();}
\DoxyCodeLine{889       \textcolor{comment}{// This needs to be kept in sync with the frame types supported in}}
\DoxyCodeLine{890       \textcolor{comment}{// `OptimizedJSFrame::Summarize`.}}
\DoxyCodeLine{891       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}} != FrameStateType::kUnoptimizedFunction \&\&}
\DoxyCodeLine{892           \mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}} != FrameStateType::kJavaScriptBuiltinContinuation \&\&}
\DoxyCodeLine{893           \mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}} != FrameStateType::kJavaScriptBuiltinContinuationWithCatch) \{}
\DoxyCodeLine{894         \textcolor{keywordflow}{break};}
\DoxyCodeLine{895       \}}
\DoxyCodeLine{896       \textcolor{keywordflow}{if} (!current-\/>FrameStateMightLazyDeopt(current-\/>CurrentNode())) \{}
\DoxyCodeLine{897         \textcolor{comment}{// Only lazy deopt frame states are used to generate stack traces.}}
\DoxyCodeLine{898         \textcolor{keywordflow}{break};}
\DoxyCodeLine{899       \}}
\DoxyCodeLine{900       StateValuesAccess::iterator it =}
\DoxyCodeLine{901           StateValuesAccess(frame\_state.parameters()).begin();}
\DoxyCodeLine{902       \textcolor{keywordflow}{if} (!it.done()) \{}
\DoxyCodeLine{903         \textcolor{keywordflow}{if} (Node* receiver = it.node()) \{}
\DoxyCodeLine{904           current-\/>SetEscaped(receiver);}
\DoxyCodeLine{905         \}}
\DoxyCodeLine{906         current-\/>SetEscaped(frame\_state.function());}
\DoxyCodeLine{907       \}}
\DoxyCodeLine{908       \textcolor{keywordflow}{break};}
\DoxyCodeLine{909     \}}
\DoxyCodeLine{910     \textcolor{keywordflow}{default}: \{}
\DoxyCodeLine{911       \textcolor{comment}{// For unknown nodes, treat all value inputs as escaping.}}
\DoxyCodeLine{912       \textcolor{keywordtype}{int} value\_input\_count = op-\/>ValueInputCount();}
\DoxyCodeLine{913       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < value\_input\_count; ++\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}) \{}
\DoxyCodeLine{914         Node* input = current-\/>ValueInput(\mbox{\hyperlink{namespacev8_1_1internal}{i}});}
\DoxyCodeLine{915         current-\/>SetEscaped(input);}
\DoxyCodeLine{916       \}}
\DoxyCodeLine{917       \textcolor{keywordflow}{if} (OperatorProperties::HasContextInput(op)) \{}
\DoxyCodeLine{918         current-\/>SetEscaped(current-\/>ContextInput());}
\DoxyCodeLine{919       \}}
\DoxyCodeLine{920       \textcolor{keywordflow}{break};}
\DoxyCodeLine{921     \}}
\DoxyCodeLine{922   \}}
\DoxyCodeLine{923 \}}

\end{DoxyCode}


References v8\+::internal\+::compiler\+::\+State\+Values\+Access\+::begin(), v8\+::internal\+::compiler\+::anonymous\+\_\+namespace\{escape-\/analysis.\+cc\}\+::anonymous\+\_\+namespace\{escape-\/analysis.\+cc\}\+::\+Check\+Maps\+Helper(), v8\+::internal\+::compiler\+::\+Check\+Maps\+Parameters\+Of(), v8\+::internal\+::compiler\+::\+Machine\+Graph\+::common(), v8\+::internal\+::compiler\+::\+Compare\+Maps\+Parameters\+Of(), v8\+::internal\+::compiler\+::\+Escape\+Analysis\+Tracker\+::\+Scope\+::\+Context\+Input(), v8\+::internal\+::compiler\+::\+Escape\+Analysis\+Tracker\+::\+Scope\+::\+Current\+Node(), v8\+::internal\+::compiler\+::\+Machine\+Graph\+::\+Dead(), v8\+::internal\+::compiler\+::\+State\+Values\+Access\+::iterator\+::done(), v8\+::internal\+::compiler\+::\+Element\+Access\+Of(), v8\+::internal\+::\+Element\+Size\+Log2\+Of(), v8\+::internal\+::compiler\+::\+Elements\+Transition\+With\+Multiple\+Sources\+Of(), v8\+::internal\+::compiler\+::\+Field\+Access\+Of(), v8\+::internal\+::compiler\+::\+Virtual\+Object\+::\+Field\+At(), v8\+::internal\+::compiler\+::\+Escape\+Analysis\+Tracker\+::\+Scope\+::\+Frame\+State\+Might\+Lazy\+Deopt(), v8\+::internal\+::compiler\+::\+Variable\+Tracker\+::\+Scope\+::\+Get(), v8\+::internal\+::compiler\+::\+Node\+Properties\+::\+Get\+Type(), v8\+::internal\+::compiler\+::\+Escape\+Analysis\+Tracker\+::\+Scope\+::\+Get\+Virtual\+Object(), v8\+::internal\+::compiler\+::\+Machine\+Graph\+::graph(), v8\+::internal\+::compiler\+::\+Operator\+Properties\+::\+Has\+Context\+Input(), v8\+::internal\+::compiler\+::\+Virtual\+Object\+::\+Has\+Escaped(), v8\+::internal\+::compiler\+::\+Element\+Access\+::header\+\_\+size, v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::i, v8\+::internal\+::compiler\+::\+Virtual\+Object\+::id(), v8\+::internal\+::index, v8\+::internal\+::compiler\+::\+Escape\+Analysis\+Tracker\+::\+Scope\+::\+Init\+Virtual\+Object(), v8\+::internal\+::compiler\+::\+Type\+::\+Is(), v8\+::internal\+::compiler\+::\+Field\+Access\+::is\+\_\+bounded\+\_\+size\+\_\+access, v8\+::internal\+::\+Is\+None(), v8\+::internal\+::compiler\+::k\+Java\+Script\+Builtin\+Continuation, v8\+::internal\+::compiler\+::k\+Java\+Script\+Builtin\+Continuation\+With\+Catch, v8\+::internal\+::\+Heap\+Object\+::k\+Map\+Offset, v8\+::internal\+::compiler\+::k\+Unoptimized\+Function, v8\+::internal\+::length, Lower\+Compare\+Maps\+Without\+Load(), v8\+::internal\+::compiler\+::\+Element\+Access\+::machine\+\_\+type, v8\+::internal\+::compiler\+::\+Check\+Maps\+Parameters\+::maps(), v8\+::internal\+::compiler\+::\+Escape\+Analysis\+Tracker\+::\+Scope\+::\+Mark\+For\+Deletion(), v8\+::internal\+::compiler\+::\+TFGraph\+::\+New\+Node(), v8\+::internal\+::compiler\+::\+State\+Values\+Access\+::iterator\+::node(), v8\+::internal\+::compiler\+::\+Simplified\+Operator\+Builder\+::\+Number\+Equal(), Offset\+Of\+Element\+At(), Offset\+Of\+Elements\+Access(), Offset\+Of\+Field\+Access(), v8\+::internal\+::compiler\+::\+Node\+::opcode(), v8\+::internal\+::compiler\+::\+Operator\+::opcode(), v8\+::internal\+::\+Machine\+Type\+::representation(), v8\+::internal\+::compiler\+::\+Common\+Operator\+Builder\+::\+Select(), v8\+::internal\+::compiler\+::\+Variable\+Tracker\+::\+Scope\+::\+Set(), v8\+::internal\+::compiler\+::\+Escape\+Analysis\+Tracker\+::\+Scope\+::\+Set\+Escaped(), v8\+::internal\+::compiler\+::\+Escape\+Analysis\+Tracker\+::\+Scope\+::\+Set\+Replacement(), v8\+::internal\+::compiler\+::\+Node\+Properties\+::\+Set\+Type(), v8\+::internal\+::compiler\+::\+Reduce\+Scope\+::\+Set\+Value\+Changed(), v8\+::internal\+::compiler\+::\+Escape\+Analysis\+Tracker\+::\+Scope\+::\+Set\+Virtual\+Object(), v8\+::internal\+::compiler\+::\+JSGraph\+::simplified(), v8\+::internal\+::compiler\+::\+Virtual\+Object\+::size(), size(), v8\+::internal\+::compiler\+::\+Elements\+Transition\+With\+Multiple\+Sources\+::target(), v8\+::internal\+::compiler\+::\+Element\+Access\+::type, v8\+::internal\+::tracing\+::type, v8\+::internal\+::value, v8\+::internal\+::compiler\+::\+Escape\+Analysis\+Tracker\+::\+Scope\+::\+Value\+Input(), and v8\+::internal\+::compiler\+::\+Operator\+::\+Value\+Input\+Count().



Referenced by v8\+::internal\+::compiler\+::\+Escape\+Analysis\+::\+Reduce().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02escape-analysis_8cc_03_a7989fcd3640262be6b16e020c452df82_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02escape-analysis_8cc_03_a7989fcd3640262be6b16e020c452df82_icgraph}
\end{center}
\end{figure}
