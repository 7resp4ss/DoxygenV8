\hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-intl_8cc_03}{}\doxysection{v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/intl.cc\} Namespace Reference}
\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-intl_8cc_03}\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/intl.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/intl.cc\rcurly{}}}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSFunction}{JSFunction}} $>$ \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-intl_8cc_03_a3cd84733458ca650d1b54676c88643ce}{Create\+Bound\+Function}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSObject}{JSObject}} $>$ object, \mbox{\hyperlink{namespacev8_1_1internal_acc2e164143496f18b5ec68f8ab70af52}{Builtin}} builtin, \mbox{\hyperlink{classint}{int}} len)
\item 
{\footnotesize template$<$class T $>$ }\\\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}} $>$ \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-intl_8cc_03_a4009bd48595c366b438549091cb79747}{Legacy\+Format\+Constructor}} (\mbox{\hyperlink{classv8_1_1internal_1_1BuiltinArguments}{Builtin\+Arguments}} args, \mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{classv8_1_1Isolate_aed6909379c3f2820cb3084710b73385d}{v8\+::\+Isolate\+::\+Use\+Counter\+Feature}} feature, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{namespacev8_1_1internal_a03f078cfc6f1c8041efc00c7fcc7a39d}{JSAny}} $>$ constructor, const char $\ast$method\+\_\+name)
\begin{DoxyCompactList}\small\item\em Common code shared between Date\+Time\+Format\+Constructor and Number\+Format\+Constructor. \end{DoxyCompactList}\item 
{\footnotesize template$<$class T $>$ }\\\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}} $>$ \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-intl_8cc_03_a18307cc20cc8fb59c664fb040a7d61d7}{Disallow\+Call\+Constructor}} (\mbox{\hyperlink{classv8_1_1internal_1_1BuiltinArguments}{Builtin\+Arguments}} args, \mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{classv8_1_1Isolate_aed6909379c3f2820cb3084710b73385d}{v8\+::\+Isolate\+::\+Use\+Counter\+Feature}} feature, const char $\ast$method\+\_\+name)
\begin{DoxyCompactList}\small\item\em Common code shared by List\+Format, Relative\+Time\+Format, Plural\+Rules, and Segmenter. \end{DoxyCompactList}\item 
{\footnotesize template$<$class T $>$ }\\\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}} $>$ \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-intl_8cc_03_a6b0fddac71a9940bc24a7ca9145406dd}{Call\+Or\+Construct\+Constructor}} (\mbox{\hyperlink{classv8_1_1internal_1_1BuiltinArguments}{Builtin\+Arguments}} args, \mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, const char $\ast$method\+\_\+name)
\begin{DoxyCompactList}\small\item\em Common code shared by Collator and V8\+Break\+Iterator. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-intl_8cc_03_a6b0fddac71a9940bc24a7ca9145406dd}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-intl_8cc_03_a6b0fddac71a9940bc24a7ca9145406dd}} 
\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/intl.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/intl.cc\rcurly{}}!CallOrConstructConstructor@{CallOrConstructConstructor}}
\index{CallOrConstructConstructor@{CallOrConstructConstructor}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/intl.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/intl.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{CallOrConstructConstructor()}{CallOrConstructConstructor()}}
{\footnotesize\ttfamily template$<$class T $>$ \\
\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}}$>$ v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/intl.\+cc\}\+::Call\+Or\+Construct\+Constructor (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1BuiltinArguments}{Builtin\+Arguments}}}]{args,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{const char $\ast$}]{method\+\_\+name }\end{DoxyParamCaption})}



Common code shared by Collator and V8\+Break\+Iterator. 



Definition at line 346 of file builtins-\/intl.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{348                                                                    \{}
\DoxyCodeLine{349   DirectHandle<JSReceiver> new\_target;}
\DoxyCodeLine{350 }
\DoxyCodeLine{351   \textcolor{keywordflow}{if} (IsUndefined(*\mbox{\hyperlink{namespacev8_1_1base_ad03b241da4e98adde3145092fe54be8b}{args}}.new\_target(), isolate)) \{}
\DoxyCodeLine{352     new\_target = \mbox{\hyperlink{namespacev8_1_1base_ad03b241da4e98adde3145092fe54be8b}{args}}.target();}
\DoxyCodeLine{353   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{354     new\_target = Cast<JSReceiver>(\mbox{\hyperlink{namespacev8_1_1base_ad03b241da4e98adde3145092fe54be8b}{args}}.new\_target());}
\DoxyCodeLine{355   \}}
\DoxyCodeLine{356 }
\DoxyCodeLine{357   \textcolor{comment}{// [[Construct]]}}
\DoxyCodeLine{358   DirectHandle<JSFunction> target = \mbox{\hyperlink{namespacev8_1_1base_ad03b241da4e98adde3145092fe54be8b}{args}}.target();}
\DoxyCodeLine{359 }
\DoxyCodeLine{360   DirectHandle<Object> locales = \mbox{\hyperlink{namespacev8_1_1base_ad03b241da4e98adde3145092fe54be8b}{args}}.atOrUndefined(isolate, 1);}
\DoxyCodeLine{361   DirectHandle<Object> options = \mbox{\hyperlink{namespacev8_1_1base_ad03b241da4e98adde3145092fe54be8b}{args}}.atOrUndefined(isolate, 2);}
\DoxyCodeLine{362 }
\DoxyCodeLine{363   DirectHandle<Map> map;}
\DoxyCodeLine{364   \mbox{\hyperlink{execution_2isolate_8h_a2ff064a43911dd1ec71bcb23989bd9d8}{ASSIGN\_RETURN\_FAILURE\_ON\_EXCEPTION}}(}
\DoxyCodeLine{365       isolate, map, JSFunction::GetDerivedMap(isolate, target, new\_target));}
\DoxyCodeLine{366 }
\DoxyCodeLine{367   \mbox{\hyperlink{execution_2isolate_8h_aca79e1963c131c77c0a496bac97c078d}{RETURN\_RESULT\_OR\_FAILURE}}(isolate,}
\DoxyCodeLine{368                            \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02intl-objects_8cc_03_aea46070627c9c116b8f1be4a25840e66}{T::New}}(isolate, map, locales, options, method\_name));}
\DoxyCodeLine{369 \}}

\end{DoxyCode}


References v8\+::base\+::args, ASSIGN\+\_\+\+RETURN\+\_\+\+FAILURE\+\_\+\+ON\+\_\+\+EXCEPTION, v8\+::internal\+::\+JSFunction\+::\+Get\+Derived\+Map(), v8\+::internal\+::anonymous\+\_\+namespace\{intl-\/objects.\+cc\}\+::\+New(), and RETURN\+\_\+\+RESULT\+\_\+\+OR\+\_\+\+FAILURE.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-intl_8cc_03_a6b0fddac71a9940bc24a7ca9145406dd_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-intl_8cc_03_a3cd84733458ca650d1b54676c88643ce}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-intl_8cc_03_a3cd84733458ca650d1b54676c88643ce}} 
\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/intl.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/intl.cc\rcurly{}}!CreateBoundFunction@{CreateBoundFunction}}
\index{CreateBoundFunction@{CreateBoundFunction}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/intl.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/intl.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{CreateBoundFunction()}{CreateBoundFunction()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1JSFunction}{JSFunction}}$>$ v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/intl.\+cc\}\+::Create\+Bound\+Function (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSObject}{JSObject}} $>$}]{object,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_acc2e164143496f18b5ec68f8ab70af52}{Builtin}}}]{builtin,  }\item[{\mbox{\hyperlink{classint}{int}}}]{len }\end{DoxyParamCaption})}



Definition at line 212 of file builtins-\/intl.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{214                                                                        \{}
\DoxyCodeLine{215   DirectHandle<NativeContext> \mbox{\hyperlink{namespacev8_1_1internal_afe601ad9b4b4c61d8a6a700e7db12c2a}{native\_context}}(}
\DoxyCodeLine{216       isolate-\/>context()-\/>native\_context(), isolate);}
\DoxyCodeLine{217   DirectHandle<Context> context = isolate-\/>factory()-\/>NewBuiltinContext(}
\DoxyCodeLine{218       \mbox{\hyperlink{namespacev8_1_1internal_afe601ad9b4b4c61d8a6a700e7db12c2a}{native\_context}},}
\DoxyCodeLine{219       \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(Intl::BoundFunctionContextSlot::kLength));}
\DoxyCodeLine{220 }
\DoxyCodeLine{221   context-\/>SetNoCell(}
\DoxyCodeLine{222       \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(Intl::BoundFunctionContextSlot::kBoundFunction),}
\DoxyCodeLine{223       *\textcolor{keywordtype}{object});}
\DoxyCodeLine{224 }
\DoxyCodeLine{225   DirectHandle<SharedFunctionInfo> info =}
\DoxyCodeLine{226       isolate-\/>factory()-\/>NewSharedFunctionInfoForBuiltin(}
\DoxyCodeLine{227           isolate-\/>factory()-\/>empty\_string(), builtin, len, kAdapt);}
\DoxyCodeLine{228 }
\DoxyCodeLine{229   \textcolor{keywordflow}{return} Factory::JSFunctionBuilder\{isolate, info, context\}}
\DoxyCodeLine{230       .set\_map(isolate-\/>strict\_function\_without\_prototype\_map())}
\DoxyCodeLine{231       .Build();}
\DoxyCodeLine{232 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Isolate\+::context(), v8\+::internal\+::\+Isolate\+::factory(), v8\+::internal\+::k\+Adapt, v8\+::internal\+::\+Intl\+::k\+Bound\+Function, v8\+::internal\+::\+Intl\+::k\+Length, v8\+::internal\+::native\+\_\+context, v8\+::internal\+::\+Factory\+::\+New\+Builtin\+Context(), and v8\+::internal\+::\+Factory\+::\+New\+Shared\+Function\+Info\+For\+Builtin().



Referenced by v8\+::internal\+::\+BUILTIN(), and v8\+::internal\+::compiler\+::\+JSCall\+Reducer\+::\+Reduce\+Function\+Prototype\+Bind().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-intl_8cc_03_a3cd84733458ca650d1b54676c88643ce_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-intl_8cc_03_a3cd84733458ca650d1b54676c88643ce_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-intl_8cc_03_a18307cc20cc8fb59c664fb040a7d61d7}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-intl_8cc_03_a18307cc20cc8fb59c664fb040a7d61d7}} 
\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/intl.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/intl.cc\rcurly{}}!DisallowCallConstructor@{DisallowCallConstructor}}
\index{DisallowCallConstructor@{DisallowCallConstructor}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/intl.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/intl.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{DisallowCallConstructor()}{DisallowCallConstructor()}}
{\footnotesize\ttfamily template$<$class T $>$ \\
\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}}$>$ v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/intl.\+cc\}\+::Disallow\+Call\+Constructor (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1BuiltinArguments}{Builtin\+Arguments}}}]{args,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1Isolate_aed6909379c3f2820cb3084710b73385d}{v8\+::\+Isolate\+::\+Use\+Counter\+Feature}}}]{feature,  }\item[{const char $\ast$}]{method\+\_\+name }\end{DoxyParamCaption})}



Common code shared by List\+Format, Relative\+Time\+Format, Plural\+Rules, and Segmenter. 



Definition at line 313 of file builtins-\/intl.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{315                                                                 \{}
\DoxyCodeLine{316   isolate-\/>CountUsage(feature);}
\DoxyCodeLine{317 }
\DoxyCodeLine{318   \textcolor{comment}{// 1. If NewTarget is undefined, throw a TypeError exception.}}
\DoxyCodeLine{319   \textcolor{keywordflow}{if} (IsUndefined(*\mbox{\hyperlink{namespacev8_1_1base_ad03b241da4e98adde3145092fe54be8b}{args}}.new\_target(), isolate)) \{  \textcolor{comment}{// [[Call]]}}
\DoxyCodeLine{320     \mbox{\hyperlink{execution_2isolate_8h_a7fc5aec5f967fb5b39c24c8b0348634d}{THROW\_NEW\_ERROR\_RETURN\_FAILURE}}(}
\DoxyCodeLine{321         isolate, NewTypeError(MessageTemplate::kConstructorNotFunction,}
\DoxyCodeLine{322                               isolate-\/>factory()-\/>NewStringFromAsciiChecked(}
\DoxyCodeLine{323                                   method\_name)));}
\DoxyCodeLine{324   \}}
\DoxyCodeLine{325   \textcolor{comment}{// [[Construct]]}}
\DoxyCodeLine{326   DirectHandle<JSFunction> target = \mbox{\hyperlink{namespacev8_1_1base_ad03b241da4e98adde3145092fe54be8b}{args}}.target();}
\DoxyCodeLine{327   DirectHandle<JSReceiver> new\_target = Cast<JSReceiver>(\mbox{\hyperlink{namespacev8_1_1base_ad03b241da4e98adde3145092fe54be8b}{args}}.new\_target());}
\DoxyCodeLine{328 }
\DoxyCodeLine{329   DirectHandle<Map> map;}
\DoxyCodeLine{330   \textcolor{comment}{// 2. Let result be OrdinaryCreateFromConstructor(NewTarget,}}
\DoxyCodeLine{331   \textcolor{comment}{//    "{}\%<T>Prototype\%"{}).}}
\DoxyCodeLine{332   \mbox{\hyperlink{execution_2isolate_8h_a2ff064a43911dd1ec71bcb23989bd9d8}{ASSIGN\_RETURN\_FAILURE\_ON\_EXCEPTION}}(}
\DoxyCodeLine{333       isolate, map, JSFunction::GetDerivedMap(isolate, target, new\_target));}
\DoxyCodeLine{334 }
\DoxyCodeLine{335   DirectHandle<Object> locales = \mbox{\hyperlink{namespacev8_1_1base_ad03b241da4e98adde3145092fe54be8b}{args}}.atOrUndefined(isolate, 1);}
\DoxyCodeLine{336   DirectHandle<Object> options = \mbox{\hyperlink{namespacev8_1_1base_ad03b241da4e98adde3145092fe54be8b}{args}}.atOrUndefined(isolate, 2);}
\DoxyCodeLine{337 }
\DoxyCodeLine{338   \textcolor{comment}{// 3. Return New<T>(t, locales, options).}}
\DoxyCodeLine{339   \mbox{\hyperlink{execution_2isolate_8h_aca79e1963c131c77c0a496bac97c078d}{RETURN\_RESULT\_OR\_FAILURE}}(isolate, \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02intl-objects_8cc_03_aea46070627c9c116b8f1be4a25840e66}{T::New}}(isolate, map, locales, options));}
\DoxyCodeLine{340 \}}

\end{DoxyCode}


References v8\+::base\+::args, ASSIGN\+\_\+\+RETURN\+\_\+\+FAILURE\+\_\+\+ON\+\_\+\+EXCEPTION, v8\+::internal\+::\+Isolate\+::\+Count\+Usage(), v8\+::internal\+::\+Isolate\+::factory(), v8\+::internal\+::\+JSFunction\+::\+Get\+Derived\+Map(), v8\+::internal\+::anonymous\+\_\+namespace\{intl-\/objects.\+cc\}\+::\+New(), v8\+::internal\+::\+Factory\+Base$<$ Impl $>$\+::\+New\+String\+From\+Ascii\+Checked(), RETURN\+\_\+\+RESULT\+\_\+\+OR\+\_\+\+FAILURE, and THROW\+\_\+\+NEW\+\_\+\+ERROR\+\_\+\+RETURN\+\_\+\+FAILURE.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-intl_8cc_03_a18307cc20cc8fb59c664fb040a7d61d7_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-intl_8cc_03_a4009bd48595c366b438549091cb79747}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-intl_8cc_03_a4009bd48595c366b438549091cb79747}} 
\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/intl.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/intl.cc\rcurly{}}!LegacyFormatConstructor@{LegacyFormatConstructor}}
\index{LegacyFormatConstructor@{LegacyFormatConstructor}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/intl.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/intl.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{LegacyFormatConstructor()}{LegacyFormatConstructor()}}
{\footnotesize\ttfamily template$<$class T $>$ \\
\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}}$>$ v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/intl.\+cc\}\+::Legacy\+Format\+Constructor (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1BuiltinArguments}{Builtin\+Arguments}}}]{args,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1Isolate_aed6909379c3f2820cb3084710b73385d}{v8\+::\+Isolate\+::\+Use\+Counter\+Feature}}}]{feature,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{namespacev8_1_1internal_a03f078cfc6f1c8041efc00c7fcc7a39d}{JSAny}} $>$}]{constructor,  }\item[{const char $\ast$}]{method\+\_\+name }\end{DoxyParamCaption})}



Common code shared between Date\+Time\+Format\+Constructor and Number\+Format\+Constructor. 



Definition at line 239 of file builtins-\/intl.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{242                                                                 \{}
\DoxyCodeLine{243   isolate-\/>CountUsage(feature);}
\DoxyCodeLine{244   DirectHandle<JSReceiver> new\_target;}
\DoxyCodeLine{245   \textcolor{comment}{// 1. If NewTarget is undefined, let newTarget be the active}}
\DoxyCodeLine{246   \textcolor{comment}{// function object, else let newTarget be NewTarget.}}
\DoxyCodeLine{247   \textcolor{keywordflow}{if} (IsUndefined(*\mbox{\hyperlink{namespacev8_1_1base_ad03b241da4e98adde3145092fe54be8b}{args}}.new\_target(), isolate)) \{}
\DoxyCodeLine{248     new\_target = \mbox{\hyperlink{namespacev8_1_1base_ad03b241da4e98adde3145092fe54be8b}{args}}.target();}
\DoxyCodeLine{249   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{250     new\_target = Cast<JSReceiver>(\mbox{\hyperlink{namespacev8_1_1base_ad03b241da4e98adde3145092fe54be8b}{args}}.new\_target());}
\DoxyCodeLine{251   \}}
\DoxyCodeLine{252 }
\DoxyCodeLine{253   \textcolor{comment}{// [[Construct]]}}
\DoxyCodeLine{254   DirectHandle<JSFunction> target = \mbox{\hyperlink{namespacev8_1_1base_ad03b241da4e98adde3145092fe54be8b}{args}}.target();}
\DoxyCodeLine{255   DirectHandle<Object> locales = \mbox{\hyperlink{namespacev8_1_1base_ad03b241da4e98adde3145092fe54be8b}{args}}.atOrUndefined(isolate, 1);}
\DoxyCodeLine{256   DirectHandle<Object> options = \mbox{\hyperlink{namespacev8_1_1base_ad03b241da4e98adde3145092fe54be8b}{args}}.atOrUndefined(isolate, 2);}
\DoxyCodeLine{257 }
\DoxyCodeLine{258   \textcolor{comment}{// 2. Let format be ? OrdinaryCreateFromConstructor(newTarget,}}
\DoxyCodeLine{259   \textcolor{comment}{// "{}\%<T>Prototype\%"{}, ...).}}
\DoxyCodeLine{260   DirectHandle<Map> map;}
\DoxyCodeLine{261   \mbox{\hyperlink{execution_2isolate_8h_a2ff064a43911dd1ec71bcb23989bd9d8}{ASSIGN\_RETURN\_FAILURE\_ON\_EXCEPTION}}(}
\DoxyCodeLine{262       isolate, map, JSFunction::GetDerivedMap(isolate, target, new\_target));}
\DoxyCodeLine{263 }
\DoxyCodeLine{264   \textcolor{comment}{// 3. Perform ? Initialize<T>(Format, locales, options).}}
\DoxyCodeLine{265   DirectHandle<T> \mbox{\hyperlink{namespacev8_1_1base_a1164c4a4843f31b51527e1661ff36565}{format}};}
\DoxyCodeLine{266   \mbox{\hyperlink{execution_2isolate_8h_a2ff064a43911dd1ec71bcb23989bd9d8}{ASSIGN\_RETURN\_FAILURE\_ON\_EXCEPTION}}(}
\DoxyCodeLine{267       isolate, \mbox{\hyperlink{namespacev8_1_1base_a1164c4a4843f31b51527e1661ff36565}{format}}, \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02intl-objects_8cc_03_aea46070627c9c116b8f1be4a25840e66}{T::New}}(isolate, map, locales, options, method\_name));}
\DoxyCodeLine{268   \textcolor{comment}{// 4. Let this be the this value.}}
\DoxyCodeLine{269   \textcolor{keywordflow}{if} (IsUndefined(*\mbox{\hyperlink{namespacev8_1_1base_ad03b241da4e98adde3145092fe54be8b}{args}}.new\_target(), isolate)) \{}
\DoxyCodeLine{270     DirectHandle<JSAny> receiver = \mbox{\hyperlink{namespacev8_1_1base_ad03b241da4e98adde3145092fe54be8b}{args}}.receiver();}
\DoxyCodeLine{271     \textcolor{comment}{// 5. If NewTarget is undefined and ? OrdinaryHasInstance(\%<T>\%, this)}}
\DoxyCodeLine{272     \textcolor{comment}{// is true, then Look up the intrinsic value that has been stored on}}
\DoxyCodeLine{273     \textcolor{comment}{// the context.}}
\DoxyCodeLine{274     DirectHandle<Object> ordinary\_has\_instance\_obj;}
\DoxyCodeLine{275     \mbox{\hyperlink{execution_2isolate_8h_a2ff064a43911dd1ec71bcb23989bd9d8}{ASSIGN\_RETURN\_FAILURE\_ON\_EXCEPTION}}(}
\DoxyCodeLine{276         isolate, ordinary\_has\_instance\_obj,}
\DoxyCodeLine{277         Object::OrdinaryHasInstance(isolate, constructor, receiver));}
\DoxyCodeLine{278     \textcolor{keywordflow}{if} (Object::BooleanValue(*ordinary\_has\_instance\_obj, isolate)) \{}
\DoxyCodeLine{279       \textcolor{keywordflow}{if} (!IsJSReceiver(*receiver)) \{}
\DoxyCodeLine{280         \mbox{\hyperlink{execution_2isolate_8h_a7fc5aec5f967fb5b39c24c8b0348634d}{THROW\_NEW\_ERROR\_RETURN\_FAILURE}}(}
\DoxyCodeLine{281             isolate, NewTypeError(MessageTemplate::kIncompatibleMethodReceiver,}
\DoxyCodeLine{282                                   isolate-\/>factory()-\/>NewStringFromAsciiChecked(}
\DoxyCodeLine{283                                       method\_name),}
\DoxyCodeLine{284                                   receiver));}
\DoxyCodeLine{285       \}}
\DoxyCodeLine{286       DirectHandle<JSReceiver> rec = Cast<JSReceiver>(receiver);}
\DoxyCodeLine{287       \textcolor{comment}{// a. Perform ? DefinePropertyOrThrow(this,}}
\DoxyCodeLine{288       \textcolor{comment}{// \%Intl\%.[[FallbackSymbol]], PropertyDescriptor\{ [[Value]]: format,}}
\DoxyCodeLine{289       \textcolor{comment}{// [[Writable]]: false, [[Enumerable]]: false, [[Configurable]]: false \}).}}
\DoxyCodeLine{290       PropertyDescriptor desc;}
\DoxyCodeLine{291       desc.set\_value(\mbox{\hyperlink{namespacev8_1_1base_a1164c4a4843f31b51527e1661ff36565}{format}});}
\DoxyCodeLine{292       desc.set\_writable(\textcolor{keyword}{false});}
\DoxyCodeLine{293       desc.set\_enumerable(\textcolor{keyword}{false});}
\DoxyCodeLine{294       desc.set\_configurable(\textcolor{keyword}{false});}
\DoxyCodeLine{295       Maybe<bool> success = JSReceiver::DefineOwnProperty(}
\DoxyCodeLine{296           isolate, rec, isolate-\/>factory()-\/>intl\_fallback\_symbol(), \&desc,}
\DoxyCodeLine{297           \mbox{\hyperlink{namespacev8_a41f0e280eadfba6ac9afd833fdd540cf}{Just}}(\mbox{\hyperlink{namespacev8_1_1internal_adbf2c933630f2f4bb419ce1ba04ce760ac8c06c0e5cdd46711981e472881756de}{kThrowOnError}}));}
\DoxyCodeLine{298       \mbox{\hyperlink{execution_2isolate_8h_ab9c5f988388c2c537b8b161438e4ed31}{MAYBE\_RETURN}}(success, ReadOnlyRoots(isolate).exception());}
\DoxyCodeLine{299       \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(success.FromJust());}
\DoxyCodeLine{300       \textcolor{comment}{// b. b. Return this.}}
\DoxyCodeLine{301       \textcolor{keywordflow}{return} *receiver;}
\DoxyCodeLine{302     \}}
\DoxyCodeLine{303   \}}
\DoxyCodeLine{304   \textcolor{comment}{// 6. Return format.}}
\DoxyCodeLine{305   \textcolor{keywordflow}{return} *\mbox{\hyperlink{namespacev8_1_1base_a1164c4a4843f31b51527e1661ff36565}{format}};}
\DoxyCodeLine{306 \}}

\end{DoxyCode}


References v8\+::base\+::args, ASSIGN\+\_\+\+RETURN\+\_\+\+FAILURE\+\_\+\+ON\+\_\+\+EXCEPTION, v8\+::internal\+::\+Object\+::\+Boolean\+Value(), CHECK, v8\+::internal\+::\+Isolate\+::\+Count\+Usage(), v8\+::internal\+::\+JSReceiver\+::\+Define\+Own\+Property(), v8\+::internal\+::\+Isolate\+::factory(), v8\+::internal\+::format, v8\+::\+Maybe$<$ T $>$\+::\+From\+Just(), v8\+::internal\+::\+JSFunction\+::\+Get\+Derived\+Map(), v8\+::\+Just(), v8\+::internal\+::k\+Throw\+On\+Error, MAYBE\+\_\+\+RETURN, v8\+::internal\+::anonymous\+\_\+namespace\{intl-\/objects.\+cc\}\+::\+New(), v8\+::internal\+::\+Factory\+Base$<$ Impl $>$\+::\+New\+String\+From\+Ascii\+Checked(), v8\+::internal\+::\+Object\+::\+Ordinary\+Has\+Instance(), v8\+::internal\+::\+Property\+Descriptor\+::set\+\_\+configurable(), v8\+::internal\+::\+Property\+Descriptor\+::set\+\_\+enumerable(), v8\+::internal\+::\+Property\+Descriptor\+::set\+\_\+value(), v8\+::internal\+::\+Property\+Descriptor\+::set\+\_\+writable(), and THROW\+\_\+\+NEW\+\_\+\+ERROR\+\_\+\+RETURN\+\_\+\+FAILURE.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-intl_8cc_03_a4009bd48595c366b438549091cb79747_cgraph}
\end{center}
\end{figure}
