\hypertarget{classv8_1_1internal_1_1MaglevSafepointTableBuilder}{}\doxysection{v8\+::internal\+::Maglev\+Safepoint\+Table\+Builder Class Reference}
\label{classv8_1_1internal_1_1MaglevSafepointTableBuilder}\index{v8::internal::MaglevSafepointTableBuilder@{v8::internal::MaglevSafepointTableBuilder}}


{\ttfamily \#include $<$maglev-\/safepoint-\/table.\+h$>$}



Inheritance diagram for v8\+::internal\+::Maglev\+Safepoint\+Table\+Builder\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=258pt]{classv8_1_1internal_1_1MaglevSafepointTableBuilder__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for v8\+::internal\+::Maglev\+Safepoint\+Table\+Builder\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MaglevSafepointTableBuilder__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structv8_1_1internal_1_1MaglevSafepointTableBuilder_1_1EntryBuilder}{Entry\+Builder}}
\item 
class \mbox{\hyperlink{classv8_1_1internal_1_1MaglevSafepointTableBuilder_1_1Safepoint}{Safepoint}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1MaglevSafepointTableBuilder_a42dc9ffccceb84b8c2c92a31fa1b45ff}{Maglev\+Safepoint\+Table\+Builder}} (\mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}} $\ast$zone, uint32\+\_\+t num\+\_\+tagged\+\_\+slots)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1MaglevSafepointTableBuilder_ac568a63704ef777ea3754187ed545218}{Maglev\+Safepoint\+Table\+Builder}} (const \mbox{\hyperlink{classv8_1_1internal_1_1MaglevSafepointTableBuilder}{Maglev\+Safepoint\+Table\+Builder}} \&)=delete
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1MaglevSafepointTableBuilder}{Maglev\+Safepoint\+Table\+Builder}} \& \mbox{\hyperlink{classv8_1_1internal_1_1MaglevSafepointTableBuilder_add31e35ae29f89bfeb4ba3831fc9bb42}{operator=}} (const \mbox{\hyperlink{classv8_1_1internal_1_1MaglevSafepointTableBuilder}{Maglev\+Safepoint\+Table\+Builder}} \&)=delete
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1MaglevSafepointTableBuilder_1_1Safepoint}{Safepoint}} \mbox{\hyperlink{classv8_1_1internal_1_1MaglevSafepointTableBuilder_aaf1eb7a8107dee4fd646761ce37039b2}{Define\+Safepoint}} (\mbox{\hyperlink{classv8_1_1internal_1_1Assembler}{Assembler}} $\ast$assembler)
\item 
\mbox{\hyperlink{src_2base_2macros_8h_ab08e353943a53678ac6baafc678f2d81}{V8\+\_\+\+EXPORT\+\_\+\+PRIVATE}} void \mbox{\hyperlink{classv8_1_1internal_1_1MaglevSafepointTableBuilder_a59a67b9f5fe462991fa3b946c77b08a2}{Emit}} (\mbox{\hyperlink{classv8_1_1internal_1_1Assembler}{Assembler}} $\ast$assembler, \mbox{\hyperlink{classint}{int}} stack\+\_\+slots)
\item 
\mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{classv8_1_1internal_1_1MaglevSafepointTableBuilder_a2cea93d2dbc0d2d48f2485de6d62ba1a}{Update\+Deoptimization\+Info}} (\mbox{\hyperlink{classint}{int}} pc, \mbox{\hyperlink{classint}{int}} trampoline, \mbox{\hyperlink{classint}{int}} start, \mbox{\hyperlink{classint}{int}} deopt\+\_\+index)
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
const uint32\+\_\+t \mbox{\hyperlink{classv8_1_1internal_1_1MaglevSafepointTableBuilder_aea36a03fd0ec3f09c69506897a6d6853}{num\+\_\+tagged\+\_\+slots\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1ZoneChunkList}{Zone\+Chunk\+List}}$<$ \mbox{\hyperlink{structv8_1_1internal_1_1MaglevSafepointTableBuilder_1_1EntryBuilder}{Entry\+Builder}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1MaglevSafepointTableBuilder_a23e18980f0d6a0938bb5de21899f4f20}{entries\+\_\+}}
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


Definition at line 185 of file maglev-\/safepoint-\/table.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1MaglevSafepointTableBuilder_a42dc9ffccceb84b8c2c92a31fa1b45ff}\label{classv8_1_1internal_1_1MaglevSafepointTableBuilder_a42dc9ffccceb84b8c2c92a31fa1b45ff}} 
\index{v8::internal::MaglevSafepointTableBuilder@{v8::internal::MaglevSafepointTableBuilder}!MaglevSafepointTableBuilder@{MaglevSafepointTableBuilder}}
\index{MaglevSafepointTableBuilder@{MaglevSafepointTableBuilder}!v8::internal::MaglevSafepointTableBuilder@{v8::internal::MaglevSafepointTableBuilder}}
\doxysubsubsection{\texorpdfstring{MaglevSafepointTableBuilder()}{MaglevSafepointTableBuilder()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily v8\+::internal\+::\+Maglev\+Safepoint\+Table\+Builder\+::\+Maglev\+Safepoint\+Table\+Builder (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}} $\ast$}]{zone,  }\item[{uint32\+\_\+t}]{num\+\_\+tagged\+\_\+slots }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}



Definition at line 197 of file maglev-\/safepoint-\/table.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{197        :}
\DoxyCodeLine{198   \textcolor{keyword}{explicit} \mbox{\hyperlink{classv8_1_1internal_1_1MaglevSafepointTableBuilder_a42dc9ffccceb84b8c2c92a31fa1b45ff}{MaglevSafepointTableBuilder}}(Zone* zone, uint32\_t num\_tagged\_slots)}

\end{DoxyCode}
\mbox{\Hypertarget{classv8_1_1internal_1_1MaglevSafepointTableBuilder_ac568a63704ef777ea3754187ed545218}\label{classv8_1_1internal_1_1MaglevSafepointTableBuilder_ac568a63704ef777ea3754187ed545218}} 
\index{v8::internal::MaglevSafepointTableBuilder@{v8::internal::MaglevSafepointTableBuilder}!MaglevSafepointTableBuilder@{MaglevSafepointTableBuilder}}
\index{MaglevSafepointTableBuilder@{MaglevSafepointTableBuilder}!v8::internal::MaglevSafepointTableBuilder@{v8::internal::MaglevSafepointTableBuilder}}
\doxysubsubsection{\texorpdfstring{MaglevSafepointTableBuilder()}{MaglevSafepointTableBuilder()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily v8\+::internal\+::\+Maglev\+Safepoint\+Table\+Builder\+::\+Maglev\+Safepoint\+Table\+Builder (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1MaglevSafepointTableBuilder}{Maglev\+Safepoint\+Table\+Builder}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1MaglevSafepointTableBuilder_aaf1eb7a8107dee4fd646761ce37039b2}\label{classv8_1_1internal_1_1MaglevSafepointTableBuilder_aaf1eb7a8107dee4fd646761ce37039b2}} 
\index{v8::internal::MaglevSafepointTableBuilder@{v8::internal::MaglevSafepointTableBuilder}!DefineSafepoint@{DefineSafepoint}}
\index{DefineSafepoint@{DefineSafepoint}!v8::internal::MaglevSafepointTableBuilder@{v8::internal::MaglevSafepointTableBuilder}}
\doxysubsubsection{\texorpdfstring{DefineSafepoint()}{DefineSafepoint()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1MaglevSafepointTableBuilder_1_1Safepoint}{Maglev\+Safepoint\+Table\+Builder\+::\+Safepoint}} v8\+::internal\+::\+Maglev\+Safepoint\+Table\+Builder\+::\+Define\+Safepoint (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Assembler}{Assembler}} $\ast$}]{assembler }\end{DoxyParamCaption})}



Definition at line 124 of file maglev-\/safepoint-\/table.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{124                                                                  \{}
\DoxyCodeLine{125   \mbox{\hyperlink{classv8_1_1internal_1_1MaglevSafepointTableBuilder_a23e18980f0d6a0938bb5de21899f4f20}{entries\_}}.push\_back(EntryBuilder(assembler-\/>pc\_offset\_for\_safepoint()));}
\DoxyCodeLine{126   \textcolor{keywordflow}{return} MaglevSafepointTableBuilder::Safepoint(\&\mbox{\hyperlink{classv8_1_1internal_1_1MaglevSafepointTableBuilder_a23e18980f0d6a0938bb5de21899f4f20}{entries\_}}.back());}
\DoxyCodeLine{127 \}}

\end{DoxyCode}


References entries\+\_\+, and v8\+::internal\+::\+Assembler\+::pc\+\_\+offset\+\_\+for\+\_\+safepoint().



Referenced by v8\+::internal\+::maglev\+::\+Maglev\+Assembler\+::\+Define\+Lazy\+Deopt\+Point(), and v8\+::internal\+::maglev\+::\+Save\+Register\+State\+For\+Call\+::\+Define\+Safepoint().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MaglevSafepointTableBuilder_aaf1eb7a8107dee4fd646761ce37039b2_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MaglevSafepointTableBuilder_aaf1eb7a8107dee4fd646761ce37039b2_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1MaglevSafepointTableBuilder_a59a67b9f5fe462991fa3b946c77b08a2}\label{classv8_1_1internal_1_1MaglevSafepointTableBuilder_a59a67b9f5fe462991fa3b946c77b08a2}} 
\index{v8::internal::MaglevSafepointTableBuilder@{v8::internal::MaglevSafepointTableBuilder}!Emit@{Emit}}
\index{Emit@{Emit}!v8::internal::MaglevSafepointTableBuilder@{v8::internal::MaglevSafepointTableBuilder}}
\doxysubsubsection{\texorpdfstring{Emit()}{Emit()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Maglev\+Safepoint\+Table\+Builder\+::\+Emit (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Assembler}{Assembler}} $\ast$}]{assembler,  }\item[{\mbox{\hyperlink{classint}{int}}}]{stack\+\_\+slots }\end{DoxyParamCaption})}



Definition at line 145 of file maglev-\/safepoint-\/table.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{145                                                                             \{}
\DoxyCodeLine{146 \textcolor{preprocessor}{\#ifdef DEBUG}}
\DoxyCodeLine{147   \textcolor{keywordtype}{int} last\_pc = -\/1;}
\DoxyCodeLine{148   \textcolor{keywordtype}{int} last\_trampoline = -\/1;}
\DoxyCodeLine{149   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} EntryBuilder\& entry : \mbox{\hyperlink{classv8_1_1internal_1_1MaglevSafepointTableBuilder_a23e18980f0d6a0938bb5de21899f4f20}{entries\_}}) \{}
\DoxyCodeLine{150     \textcolor{comment}{// Entries are ordered by PC.}}
\DoxyCodeLine{151     \mbox{\hyperlink{src_2base_2logging_8h_af1a711c8d5520dff78858ddefd2ad668}{DCHECK\_LT}}(last\_pc, entry.pc);}
\DoxyCodeLine{152     last\_pc = entry.pc;}
\DoxyCodeLine{153     \textcolor{comment}{// Trampoline PCs are increasing, and larger than regular PCs.}}
\DoxyCodeLine{154     \textcolor{keywordflow}{if} (entry.trampoline != \mbox{\hyperlink{classv8_1_1internal_1_1MaglevSafepointEntry_aef33bc175e749e977256c1486a7cc0a5}{MaglevSafepointEntry::kNoTrampolinePC}}) \{}
\DoxyCodeLine{155       \mbox{\hyperlink{src_2base_2logging_8h_af1a711c8d5520dff78858ddefd2ad668}{DCHECK\_LT}}(last\_trampoline, entry.trampoline);}
\DoxyCodeLine{156       \mbox{\hyperlink{src_2base_2logging_8h_af1a711c8d5520dff78858ddefd2ad668}{DCHECK\_LT}}(\mbox{\hyperlink{classv8_1_1internal_1_1MaglevSafepointTableBuilder_a23e18980f0d6a0938bb5de21899f4f20}{entries\_}}.back().pc, entry.trampoline);}
\DoxyCodeLine{157       last\_trampoline = entry.trampoline;}
\DoxyCodeLine{158     \}}
\DoxyCodeLine{159     \textcolor{comment}{// An entry either has trampoline and deopt index, or none of the two.}}
\DoxyCodeLine{160     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(entry.trampoline == \mbox{\hyperlink{classv8_1_1internal_1_1MaglevSafepointEntry_aef33bc175e749e977256c1486a7cc0a5}{MaglevSafepointEntry::kNoTrampolinePC}},}
\DoxyCodeLine{161               entry.deopt\_index == \mbox{\hyperlink{classv8_1_1internal_1_1MaglevSafepointEntry_a6f5ca8508fecb84a75836747fd7e6e58}{MaglevSafepointEntry::kNoDeoptIndex}});}
\DoxyCodeLine{162   \}}
\DoxyCodeLine{163 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// DEBUG}}
\DoxyCodeLine{164 }
\DoxyCodeLine{165 \textcolor{preprocessor}{\#if V8\_TARGET\_ARCH\_ARM || V8\_TARGET\_ARCH\_ARM64}}
\DoxyCodeLine{166   \textcolor{comment}{// We cannot emit a const pool within the safepoint table.}}
\DoxyCodeLine{167   \mbox{\hyperlink{classv8_1_1internal_1_1Assembler_a7d251096d2cf49e5efbfeb25a40bcc0b}{Assembler::BlockConstPoolScope}} block\_const\_pool(assembler);}
\DoxyCodeLine{168 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{169 }
\DoxyCodeLine{170   \textcolor{comment}{// Make sure the safepoint table is properly aligned. Pad with nops.}}
\DoxyCodeLine{171   assembler-\/>Align(\mbox{\hyperlink{classv8_1_1internal_1_1InstructionStream_a57722be8f781df748d156a9b35a305b8}{InstructionStream::kMetadataAlignment}});}
\DoxyCodeLine{172   assembler-\/>RecordComment(\textcolor{stringliteral}{"{};;; Maglev safepoint table."{}});}
\DoxyCodeLine{173   \mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilderBase_a24650c811b77dad5e636fd0ca15f6b2c}{set\_safepoint\_table\_offset}}(assembler-\/>pc\_offset());}
\DoxyCodeLine{174 }
\DoxyCodeLine{175   \textcolor{comment}{// Compute the required sizes of the fields.}}
\DoxyCodeLine{176   \textcolor{keywordtype}{int} used\_register\_indexes = 0;}
\DoxyCodeLine{177   static\_assert(\mbox{\hyperlink{classv8_1_1internal_1_1MaglevSafepointEntry_aef33bc175e749e977256c1486a7cc0a5}{MaglevSafepointEntry::kNoTrampolinePC}} == -\/1);}
\DoxyCodeLine{178   \textcolor{keywordtype}{int} max\_pc = \mbox{\hyperlink{classv8_1_1internal_1_1MaglevSafepointEntry_aef33bc175e749e977256c1486a7cc0a5}{MaglevSafepointEntry::kNoTrampolinePC}};}
\DoxyCodeLine{179   static\_assert(\mbox{\hyperlink{classv8_1_1internal_1_1MaglevSafepointEntry_a6f5ca8508fecb84a75836747fd7e6e58}{MaglevSafepointEntry::kNoDeoptIndex}} == -\/1);}
\DoxyCodeLine{180   \textcolor{keywordtype}{int} max\_deopt\_index = \mbox{\hyperlink{classv8_1_1internal_1_1MaglevSafepointEntry_a6f5ca8508fecb84a75836747fd7e6e58}{MaglevSafepointEntry::kNoDeoptIndex}};}
\DoxyCodeLine{181   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} EntryBuilder\& entry : \mbox{\hyperlink{classv8_1_1internal_1_1MaglevSafepointTableBuilder_a23e18980f0d6a0938bb5de21899f4f20}{entries\_}}) \{}
\DoxyCodeLine{182     used\_register\_indexes |= entry.tagged\_register\_indexes;}
\DoxyCodeLine{183     max\_pc = std::max(max\_pc, std::max(entry.pc, entry.trampoline));}
\DoxyCodeLine{184     max\_deopt\_index = std::max(max\_deopt\_index, entry.deopt\_index);}
\DoxyCodeLine{185   \}}
\DoxyCodeLine{186 }
\DoxyCodeLine{187   \textcolor{comment}{// Derive the bytes and bools for the entry configuration from the values.}}
\DoxyCodeLine{188   \textcolor{keyword}{auto} value\_to\_bytes = [](\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}) \{}
\DoxyCodeLine{189     \mbox{\hyperlink{src_2base_2logging_8h_a16b382527f19b805fc8f856668f2270b}{DCHECK\_LE}}(0, \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}});}
\DoxyCodeLine{190     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} == 0) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{191     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} <= 0xff) \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{192     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} <= 0xffff) \textcolor{keywordflow}{return} 2;}
\DoxyCodeLine{193     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} <= 0xffffff) \textcolor{keywordflow}{return} 3;}
\DoxyCodeLine{194     \textcolor{keywordflow}{return} 4;}
\DoxyCodeLine{195   \};}
\DoxyCodeLine{196   \textcolor{keywordtype}{bool} has\_deopt\_data = max\_deopt\_index != -\/1;}
\DoxyCodeLine{197   \textcolor{keywordtype}{int} register\_indexes\_size = value\_to\_bytes(used\_register\_indexes);}
\DoxyCodeLine{198   \textcolor{comment}{// Add 1 so all values (including kNoDeoptIndex and kNoTrampolinePC) are}}
\DoxyCodeLine{199   \textcolor{comment}{// non-\/negative.}}
\DoxyCodeLine{200   static\_assert(\mbox{\hyperlink{classv8_1_1internal_1_1MaglevSafepointEntry_a6f5ca8508fecb84a75836747fd7e6e58}{MaglevSafepointEntry::kNoDeoptIndex}} == -\/1);}
\DoxyCodeLine{201   static\_assert(\mbox{\hyperlink{classv8_1_1internal_1_1MaglevSafepointEntry_aef33bc175e749e977256c1486a7cc0a5}{MaglevSafepointEntry::kNoTrampolinePC}} == -\/1);}
\DoxyCodeLine{202   \textcolor{keywordtype}{int} pc\_size = value\_to\_bytes(max\_pc + 1);}
\DoxyCodeLine{203   \textcolor{keywordtype}{int} deopt\_index\_size = value\_to\_bytes(max\_deopt\_index + 1);}
\DoxyCodeLine{204 }
\DoxyCodeLine{205   \textcolor{comment}{// Add a CHECK to ensure we never overflow the space in the bitfield, even for}}
\DoxyCodeLine{206   \textcolor{comment}{// huge functions which might not be covered by tests.}}
\DoxyCodeLine{207   \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(\mbox{\hyperlink{classv8_1_1base_1_1BitField_a634dcf9bf5eb402dea1ec28d543bc55c}{MaglevSafepointTable::RegisterIndexesSizeField::is\_valid}}(}
\DoxyCodeLine{208       register\_indexes\_size));}
\DoxyCodeLine{209   \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(\mbox{\hyperlink{classv8_1_1base_1_1BitField_a634dcf9bf5eb402dea1ec28d543bc55c}{MaglevSafepointTable::PcSizeField::is\_valid}}(pc\_size));}
\DoxyCodeLine{210   \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(\mbox{\hyperlink{classv8_1_1base_1_1BitField_a634dcf9bf5eb402dea1ec28d543bc55c}{MaglevSafepointTable::DeoptIndexSizeField::is\_valid}}(deopt\_index\_size));}
\DoxyCodeLine{211 }
\DoxyCodeLine{212   uint32\_t entry\_configuration =}
\DoxyCodeLine{213       \mbox{\hyperlink{classv8_1_1base_1_1BitField_a70718344d8a4df6c20b3cf9c9b14d0d4}{MaglevSafepointTable::HasDeoptDataField::encode}}(has\_deopt\_data) |}
\DoxyCodeLine{214       \mbox{\hyperlink{classv8_1_1base_1_1BitField_a70718344d8a4df6c20b3cf9c9b14d0d4}{MaglevSafepointTable::RegisterIndexesSizeField::encode}}(}
\DoxyCodeLine{215           register\_indexes\_size) |}
\DoxyCodeLine{216       \mbox{\hyperlink{classv8_1_1base_1_1BitField_a70718344d8a4df6c20b3cf9c9b14d0d4}{MaglevSafepointTable::PcSizeField::encode}}(pc\_size) |}
\DoxyCodeLine{217       \mbox{\hyperlink{classv8_1_1base_1_1BitField_a70718344d8a4df6c20b3cf9c9b14d0d4}{MaglevSafepointTable::DeoptIndexSizeField::encode}}(deopt\_index\_size);}
\DoxyCodeLine{218 }
\DoxyCodeLine{219   \textcolor{comment}{// Emit the table header.}}
\DoxyCodeLine{220   static\_assert(MaglevSafepointTable::kStackSlotsOffset == 0 * \mbox{\hyperlink{namespacev8_1_1internal_a0d861fe0fc98861bc356ec102d698706}{kIntSize}});}
\DoxyCodeLine{221   static\_assert(MaglevSafepointTable::kLengthOffset == 1 * \mbox{\hyperlink{namespacev8_1_1internal_a0d861fe0fc98861bc356ec102d698706}{kIntSize}});}
\DoxyCodeLine{222   static\_assert(MaglevSafepointTable::kEntryConfigurationOffset ==}
\DoxyCodeLine{223                 2 * \mbox{\hyperlink{namespacev8_1_1internal_a0d861fe0fc98861bc356ec102d698706}{kIntSize}});}
\DoxyCodeLine{224   static\_assert(MaglevSafepointTable::kNumTaggedSlotsOffset == 3 * \mbox{\hyperlink{namespacev8_1_1internal_a0d861fe0fc98861bc356ec102d698706}{kIntSize}});}
\DoxyCodeLine{225   static\_assert(MaglevSafepointTable::kHeaderSize == 4 * \mbox{\hyperlink{namespacev8_1_1internal_a0d861fe0fc98861bc356ec102d698706}{kIntSize}});}
\DoxyCodeLine{226   \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal_afa9ea55d792121fba92b4cfc8ef8c9d7}{length}} = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{classv8_1_1internal_1_1MaglevSafepointTableBuilder_a23e18980f0d6a0938bb5de21899f4f20}{entries\_}}.size());}
\DoxyCodeLine{227   assembler-\/>dd(stack\_slots);}
\DoxyCodeLine{228   assembler-\/>dd(\mbox{\hyperlink{namespacev8_1_1internal_afa9ea55d792121fba92b4cfc8ef8c9d7}{length}});}
\DoxyCodeLine{229   assembler-\/>dd(entry\_configuration);}
\DoxyCodeLine{230   assembler-\/>dd(\mbox{\hyperlink{classv8_1_1internal_1_1MaglevSafepointTableBuilder_aea36a03fd0ec3f09c69506897a6d6853}{num\_tagged\_slots\_}});}
\DoxyCodeLine{231 }
\DoxyCodeLine{232   \textcolor{keyword}{auto} emit\_bytes = [assembler](\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}, \textcolor{keywordtype}{int} bytes) \{}
\DoxyCodeLine{233     \mbox{\hyperlink{src_2base_2logging_8h_a16b382527f19b805fc8f856668f2270b}{DCHECK\_LE}}(0, \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}});}
\DoxyCodeLine{234     \textcolor{keywordflow}{for} (; bytes > 0; -\/-\/bytes, \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} >>= 8) assembler-\/>db(\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}});}
\DoxyCodeLine{235     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(0, \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}});}
\DoxyCodeLine{236   \};}
\DoxyCodeLine{237   \textcolor{comment}{// Emit entries, sorted by pc offsets.}}
\DoxyCodeLine{238   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} EntryBuilder\& entry : \mbox{\hyperlink{classv8_1_1internal_1_1MaglevSafepointTableBuilder_a23e18980f0d6a0938bb5de21899f4f20}{entries\_}}) \{}
\DoxyCodeLine{239     emit\_bytes(entry.pc, pc\_size);}
\DoxyCodeLine{240     \textcolor{keywordflow}{if} (has\_deopt\_data) \{}
\DoxyCodeLine{241       \textcolor{comment}{// Add 1 so all values (including kNoDeoptIndex and kNoTrampolinePC) are}}
\DoxyCodeLine{242       \textcolor{comment}{// non-\/negative.}}
\DoxyCodeLine{243       static\_assert(\mbox{\hyperlink{classv8_1_1internal_1_1MaglevSafepointEntry_a6f5ca8508fecb84a75836747fd7e6e58}{MaglevSafepointEntry::kNoDeoptIndex}} == -\/1);}
\DoxyCodeLine{244       static\_assert(\mbox{\hyperlink{classv8_1_1internal_1_1MaglevSafepointEntry_aef33bc175e749e977256c1486a7cc0a5}{MaglevSafepointEntry::kNoTrampolinePC}} == -\/1);}
\DoxyCodeLine{245       emit\_bytes(entry.deopt\_index + 1, deopt\_index\_size);}
\DoxyCodeLine{246       emit\_bytes(entry.trampoline + 1, pc\_size);}
\DoxyCodeLine{247     \}}
\DoxyCodeLine{248     assembler-\/>db(entry.num\_extra\_spill\_slots);}
\DoxyCodeLine{249     emit\_bytes(entry.tagged\_register\_indexes, register\_indexes\_size);}
\DoxyCodeLine{250   \}}
\DoxyCodeLine{251 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Assembler\+::\+Align(), CHECK, v8\+::internal\+::\+Assembler\+::db(), DCHECK\+\_\+\+EQ, DCHECK\+\_\+\+LE, DCHECK\+\_\+\+LT, v8\+::internal\+::\+Assembler\+::dd(), v8\+::base\+::\+Bit\+Field$<$ T, shift, size, U $>$\+::encode(), entries\+\_\+, v8\+::base\+::\+Bit\+Field$<$ T, shift, size, U $>$\+::is\+\_\+valid(), v8\+::internal\+::k\+Int\+Size, v8\+::internal\+::\+Instruction\+Stream\+::k\+Metadata\+Alignment, v8\+::internal\+::\+Maglev\+Safepoint\+Entry\+::k\+No\+Deopt\+Index, v8\+::internal\+::\+Maglev\+Safepoint\+Entry\+::k\+No\+Trampoline\+PC, v8\+::internal\+::length, num\+\_\+tagged\+\_\+slots\+\_\+, v8\+::internal\+::\+Assembler\+Base\+::pc\+\_\+offset(), v8\+::internal\+::\+Assembler\+Base\+::\+Record\+Comment(), v8\+::internal\+::\+Safepoint\+Table\+Builder\+Base\+::set\+\_\+safepoint\+\_\+table\+\_\+offset(), and v8\+::internal\+::value.



Referenced by v8\+::internal\+::maglev\+::\+Maglev\+Code\+Generator\+::\+Emit\+Metadata().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MaglevSafepointTableBuilder_a59a67b9f5fe462991fa3b946c77b08a2_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MaglevSafepointTableBuilder_a59a67b9f5fe462991fa3b946c77b08a2_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1MaglevSafepointTableBuilder_add31e35ae29f89bfeb4ba3831fc9bb42}\label{classv8_1_1internal_1_1MaglevSafepointTableBuilder_add31e35ae29f89bfeb4ba3831fc9bb42}} 
\index{v8::internal::MaglevSafepointTableBuilder@{v8::internal::MaglevSafepointTableBuilder}!operator=@{operator=}}
\index{operator=@{operator=}!v8::internal::MaglevSafepointTableBuilder@{v8::internal::MaglevSafepointTableBuilder}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1MaglevSafepointTableBuilder}{Maglev\+Safepoint\+Table\+Builder}}\& v8\+::internal\+::\+Maglev\+Safepoint\+Table\+Builder\+::operator= (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1MaglevSafepointTableBuilder}{Maglev\+Safepoint\+Table\+Builder}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}

\mbox{\Hypertarget{classv8_1_1internal_1_1MaglevSafepointTableBuilder_a2cea93d2dbc0d2d48f2485de6d62ba1a}\label{classv8_1_1internal_1_1MaglevSafepointTableBuilder_a2cea93d2dbc0d2d48f2485de6d62ba1a}} 
\index{v8::internal::MaglevSafepointTableBuilder@{v8::internal::MaglevSafepointTableBuilder}!UpdateDeoptimizationInfo@{UpdateDeoptimizationInfo}}
\index{UpdateDeoptimizationInfo@{UpdateDeoptimizationInfo}!v8::internal::MaglevSafepointTableBuilder@{v8::internal::MaglevSafepointTableBuilder}}
\doxysubsubsection{\texorpdfstring{UpdateDeoptimizationInfo()}{UpdateDeoptimizationInfo()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classint}{int}} v8\+::internal\+::\+Maglev\+Safepoint\+Table\+Builder\+::\+Update\+Deoptimization\+Info (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classint}{int}}}]{pc,  }\item[{\mbox{\hyperlink{classint}{int}}}]{trampoline,  }\item[{\mbox{\hyperlink{classint}{int}}}]{start,  }\item[{\mbox{\hyperlink{classint}{int}}}]{deopt\+\_\+index }\end{DoxyParamCaption})}



Definition at line 129 of file maglev-\/safepoint-\/table.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{132                                                                            \{}
\DoxyCodeLine{133   \mbox{\hyperlink{src_2base_2logging_8h_a986dc8f4ec6dcd0644efe205c13f8eb7}{DCHECK\_NE}}(\mbox{\hyperlink{classv8_1_1internal_1_1MaglevSafepointEntry_aef33bc175e749e977256c1486a7cc0a5}{MaglevSafepointEntry::kNoTrampolinePC}}, trampoline);}
\DoxyCodeLine{134   \mbox{\hyperlink{src_2base_2logging_8h_a986dc8f4ec6dcd0644efe205c13f8eb7}{DCHECK\_NE}}(\mbox{\hyperlink{classv8_1_1internal_1_1MaglevSafepointEntry_a6f5ca8508fecb84a75836747fd7e6e58}{MaglevSafepointEntry::kNoDeoptIndex}}, deopt\_index);}
\DoxyCodeLine{135   \textcolor{keyword}{auto} it = \mbox{\hyperlink{classv8_1_1internal_1_1MaglevSafepointTableBuilder_a23e18980f0d6a0938bb5de21899f4f20}{entries\_}}.Find(start);}
\DoxyCodeLine{136   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{namespacev8_1_1base_a0e542246e39cb25a93193a080e0e1148}{std::any\_of}}(it, \mbox{\hyperlink{classv8_1_1internal_1_1MaglevSafepointTableBuilder_a23e18980f0d6a0938bb5de21899f4f20}{entries\_}}.end(),}
\DoxyCodeLine{137                      [pc](\textcolor{keyword}{auto}\& entry) \{ return entry.pc == pc; \}));}
\DoxyCodeLine{138   \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}} = start;}
\DoxyCodeLine{139   \textcolor{keywordflow}{while} (it-\/>pc != pc) ++it, ++\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}};}
\DoxyCodeLine{140   it-\/>trampoline = trampoline;}
\DoxyCodeLine{141   it-\/>deopt\_index = deopt\_index;}
\DoxyCodeLine{142   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}};}
\DoxyCodeLine{143 \}}

\end{DoxyCode}


References v8\+::base\+::any\+\_\+of(), v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+NE, entries\+\_\+, v8\+::internal\+::index, v8\+::internal\+::\+Maglev\+Safepoint\+Entry\+::k\+No\+Deopt\+Index, and v8\+::internal\+::\+Maglev\+Safepoint\+Entry\+::k\+No\+Trampoline\+PC.



Referenced by v8\+::internal\+::maglev\+::\+Maglev\+Code\+Generator\+::\+Emit\+Deopts().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MaglevSafepointTableBuilder_a2cea93d2dbc0d2d48f2485de6d62ba1a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MaglevSafepointTableBuilder_a2cea93d2dbc0d2d48f2485de6d62ba1a_icgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1MaglevSafepointTableBuilder_a23e18980f0d6a0938bb5de21899f4f20}\label{classv8_1_1internal_1_1MaglevSafepointTableBuilder_a23e18980f0d6a0938bb5de21899f4f20}} 
\index{v8::internal::MaglevSafepointTableBuilder@{v8::internal::MaglevSafepointTableBuilder}!entries\_@{entries\_}}
\index{entries\_@{entries\_}!v8::internal::MaglevSafepointTableBuilder@{v8::internal::MaglevSafepointTableBuilder}}
\doxysubsubsection{\texorpdfstring{entries\_}{entries\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1ZoneChunkList}{Zone\+Chunk\+List}}$<$\mbox{\hyperlink{structv8_1_1internal_1_1MaglevSafepointTableBuilder_1_1EntryBuilder}{Entry\+Builder}}$>$ v8\+::internal\+::\+Maglev\+Safepoint\+Table\+Builder\+::entries\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 236 of file maglev-\/safepoint-\/table.\+h.



Referenced by Define\+Safepoint(), Emit(), and Update\+Deoptimization\+Info().

\mbox{\Hypertarget{classv8_1_1internal_1_1MaglevSafepointTableBuilder_aea36a03fd0ec3f09c69506897a6d6853}\label{classv8_1_1internal_1_1MaglevSafepointTableBuilder_aea36a03fd0ec3f09c69506897a6d6853}} 
\index{v8::internal::MaglevSafepointTableBuilder@{v8::internal::MaglevSafepointTableBuilder}!num\_tagged\_slots\_@{num\_tagged\_slots\_}}
\index{num\_tagged\_slots\_@{num\_tagged\_slots\_}!v8::internal::MaglevSafepointTableBuilder@{v8::internal::MaglevSafepointTableBuilder}}
\doxysubsubsection{\texorpdfstring{num\_tagged\_slots\_}{num\_tagged\_slots\_}}
{\footnotesize\ttfamily const uint32\+\_\+t v8\+::internal\+::\+Maglev\+Safepoint\+Table\+Builder\+::num\+\_\+tagged\+\_\+slots\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 235 of file maglev-\/safepoint-\/table.\+h.



Referenced by Emit().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/codegen/\mbox{\hyperlink{maglev-safepoint-table_8h}{maglev-\/safepoint-\/table.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/codegen/\mbox{\hyperlink{maglev-safepoint-table_8cc}{maglev-\/safepoint-\/table.\+cc}}\end{DoxyCompactItemize}
