\hypertarget{classv8_1_1GlobalValueMap}{}\doxysection{v8\+::Global\+Value\+Map$<$ K, V, Traits $>$ Class Template Reference}
\label{classv8_1_1GlobalValueMap}\index{v8::GlobalValueMap$<$ K, V, Traits $>$@{v8::GlobalValueMap$<$ K, V, Traits $>$}}


{\ttfamily \#include $<$v8-\/util.\+h$>$}



Inheritance diagram for v8\+::Global\+Value\+Map$<$ K, V, Traits $>$\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1GlobalValueMap__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for v8\+::Global\+Value\+Map$<$ K, V, Traits $>$\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1GlobalValueMap__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
typedef \mbox{\hyperlink{classv8_1_1PersistentValueMapBase}{Persistent\+Value\+Map\+Base}}$<$ K, V, Traits $>$\+::\mbox{\hyperlink{classv8_1_1GlobalValueMap_ac01835ce1863e1c577882e31b60efc35}{Persistent\+Value\+Reference}} \mbox{\hyperlink{classv8_1_1GlobalValueMap_ac01835ce1863e1c577882e31b60efc35}{Persistent\+Value\+Reference}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1GlobalValueMap_a60018c72fdae03d51b687d2a941140f4}{Global\+Value\+Map}} (\mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$\mbox{\hyperlink{classv8_1_1PersistentValueMapBase_af2e83791955c6027213dd979eebeb8f4}{isolate}})
\item 
\mbox{\hyperlink{classv8_1_1GlobalValueMap_a15bf7b41188a8bbd775cf6e7ea26577b}{Global\+Value\+Map}} (\mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$\mbox{\hyperlink{classv8_1_1PersistentValueMapBase_af2e83791955c6027213dd979eebeb8f4}{isolate}}, const char $\ast$label)
\item 
\mbox{\hyperlink{classv8_1_1Global}{Global}}$<$ V $>$ \mbox{\hyperlink{classv8_1_1GlobalValueMap_aa13f7914642c705b8e96824747ea115a}{Set}} (const K \&key, \mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ V $>$ value)
\begin{DoxyCompactList}\small\item\em Put value into map. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classv8_1_1Global}{Global}}$<$ V $>$ \mbox{\hyperlink{classv8_1_1GlobalValueMap_ac2b02a0105393e6e3ab7e0aeeed9a294}{Set}} (const K \&key, \mbox{\hyperlink{classv8_1_1Global}{Global}}$<$ V $>$ value)
\begin{DoxyCompactList}\small\item\em Put value into map, like \mbox{\hyperlink{classv8_1_1GlobalValueMap_aa13f7914642c705b8e96824747ea115a}{Set(const K\&, Local$<$\+V$>$)}}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classv8_1_1Global}{Global}}$<$ V $>$ \mbox{\hyperlink{classv8_1_1GlobalValueMap_aad73de3912571a2f245454d3edea4a41}{Set\+Unique}} (const K \&key, \mbox{\hyperlink{classv8_1_1Global}{Global}}$<$ V $>$ $\ast$persistent)
\begin{DoxyCompactList}\small\item\em Put the value into the map, and set the \textquotesingle{}weak\textquotesingle{} callback when demanded by the Traits class. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classv8_1_1Global}{Global}}$<$ V $>$ \mbox{\hyperlink{classv8_1_1GlobalValueMap_aaa5fa26f751c8608716ad5578cd6c1d0}{Set}} (const K \&key, \mbox{\hyperlink{classv8_1_1Global}{Global}}$<$ V $>$ value, \mbox{\hyperlink{classv8_1_1GlobalValueMap_ac01835ce1863e1c577882e31b60efc35}{Persistent\+Value\+Reference}} $\ast$reference)
\begin{DoxyCompactList}\small\item\em Put a value into the map and update the reference. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Static Private Member Functions}
\begin{DoxyCompactItemize}
\item 
static void \mbox{\hyperlink{classv8_1_1GlobalValueMap_af56bf560957d616f34543a2e9d14ca60}{On\+Weak\+Callback}} (const \mbox{\hyperlink{classv8_1_1WeakCallbackInfo}{Weak\+Callback\+Info}}$<$ typename Traits\+::\+Weak\+Callback\+Data\+Type $>$ \&data)
\item 
static void \mbox{\hyperlink{classv8_1_1GlobalValueMap_ae01469ad24dd4bd95c02ee0eac68542f}{Second\+Weak\+Callback}} (const \mbox{\hyperlink{classv8_1_1WeakCallbackInfo}{Weak\+Callback\+Info}}$<$ typename Traits\+::\+Weak\+Callback\+Data\+Type $>$ \&data)
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$typename K, typename V, typename Traits$>$\newline
class v8\+::\+Global\+Value\+Map$<$ K, V, Traits $>$}



Definition at line 437 of file v8-\/util.\+h.



\doxysubsection{Member Typedef Documentation}
\mbox{\Hypertarget{classv8_1_1GlobalValueMap_ac01835ce1863e1c577882e31b60efc35}\label{classv8_1_1GlobalValueMap_ac01835ce1863e1c577882e31b60efc35}} 
\index{v8::GlobalValueMap$<$ K, V, Traits $>$@{v8::GlobalValueMap$<$ K, V, Traits $>$}!PersistentValueReference@{PersistentValueReference}}
\index{PersistentValueReference@{PersistentValueReference}!v8::GlobalValueMap$<$ K, V, Traits $>$@{v8::GlobalValueMap$<$ K, V, Traits $>$}}
\doxysubsubsection{\texorpdfstring{PersistentValueReference}{PersistentValueReference}}
{\footnotesize\ttfamily template$<$typename K , typename V , typename Traits $>$ \\
typedef \mbox{\hyperlink{classv8_1_1PersistentValueMapBase}{Persistent\+Value\+Map\+Base}}$<$K, V, Traits$>$\+::\mbox{\hyperlink{classv8_1_1GlobalValueMap_ac01835ce1863e1c577882e31b60efc35}{Persistent\+Value\+Reference}} \mbox{\hyperlink{classv8_1_1GlobalValueMap}{v8\+::\+Global\+Value\+Map}}$<$ K, V, Traits $>$\+::\mbox{\hyperlink{classv8_1_1GlobalValueMap_ac01835ce1863e1c577882e31b60efc35}{Persistent\+Value\+Reference}}}



Definition at line 446 of file v8-\/util.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1GlobalValueMap_a60018c72fdae03d51b687d2a941140f4}\label{classv8_1_1GlobalValueMap_a60018c72fdae03d51b687d2a941140f4}} 
\index{v8::GlobalValueMap$<$ K, V, Traits $>$@{v8::GlobalValueMap$<$ K, V, Traits $>$}!GlobalValueMap@{GlobalValueMap}}
\index{GlobalValueMap@{GlobalValueMap}!v8::GlobalValueMap$<$ K, V, Traits $>$@{v8::GlobalValueMap$<$ K, V, Traits $>$}}
\doxysubsubsection{\texorpdfstring{GlobalValueMap()}{GlobalValueMap()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$typename K , typename V , typename Traits $>$ \\
\mbox{\hyperlink{classv8_1_1GlobalValueMap}{v8\+::\+Global\+Value\+Map}}$<$ K, V, Traits $>$\+::\mbox{\hyperlink{classv8_1_1GlobalValueMap}{Global\+Value\+Map}} (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$}]{isolate }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}



Definition at line 439 of file v8-\/util.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{440       : PersistentValueMapBase<K, V, Traits>(\mbox{\hyperlink{classv8_1_1PersistentValueMapBase_af2e83791955c6027213dd979eebeb8f4}{isolate}}) \{\}}

\end{DoxyCode}


References V.

\mbox{\Hypertarget{classv8_1_1GlobalValueMap_a15bf7b41188a8bbd775cf6e7ea26577b}\label{classv8_1_1GlobalValueMap_a15bf7b41188a8bbd775cf6e7ea26577b}} 
\index{v8::GlobalValueMap$<$ K, V, Traits $>$@{v8::GlobalValueMap$<$ K, V, Traits $>$}!GlobalValueMap@{GlobalValueMap}}
\index{GlobalValueMap@{GlobalValueMap}!v8::GlobalValueMap$<$ K, V, Traits $>$@{v8::GlobalValueMap$<$ K, V, Traits $>$}}
\doxysubsubsection{\texorpdfstring{GlobalValueMap()}{GlobalValueMap()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$typename K , typename V , typename Traits $>$ \\
\mbox{\hyperlink{classv8_1_1GlobalValueMap}{v8\+::\+Global\+Value\+Map}}$<$ K, V, Traits $>$\+::\mbox{\hyperlink{classv8_1_1GlobalValueMap}{Global\+Value\+Map}} (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{const char $\ast$}]{label }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 441 of file v8-\/util.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{442       : PersistentValueMapBase<K, V, Traits>(\mbox{\hyperlink{classv8_1_1PersistentValueMapBase_af2e83791955c6027213dd979eebeb8f4}{isolate}}, label) \{\}}

\end{DoxyCode}


References V.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1GlobalValueMap_af56bf560957d616f34543a2e9d14ca60}\label{classv8_1_1GlobalValueMap_af56bf560957d616f34543a2e9d14ca60}} 
\index{v8::GlobalValueMap$<$ K, V, Traits $>$@{v8::GlobalValueMap$<$ K, V, Traits $>$}!OnWeakCallback@{OnWeakCallback}}
\index{OnWeakCallback@{OnWeakCallback}!v8::GlobalValueMap$<$ K, V, Traits $>$@{v8::GlobalValueMap$<$ K, V, Traits $>$}}
\doxysubsubsection{\texorpdfstring{OnWeakCallback()}{OnWeakCallback()}}
{\footnotesize\ttfamily template$<$typename K , typename V , typename Traits $>$ \\
static void \mbox{\hyperlink{classv8_1_1GlobalValueMap}{v8\+::\+Global\+Value\+Map}}$<$ K, V, Traits $>$\+::On\+Weak\+Callback (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1WeakCallbackInfo}{Weak\+Callback\+Info}}$<$ typename Traits\+::\+Weak\+Callback\+Data\+Type $>$ \&}]{data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 498 of file v8-\/util.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{499                                                                          \{}
\DoxyCodeLine{500     \textcolor{keywordflow}{if} (Traits::kCallbackType != \mbox{\hyperlink{namespacev8_ad2a33b8f8a1701a800a691dd025f7ddeae9e4356adeb3f5514e14eab4bdbe7c82}{kNotWeak}}) \{}
\DoxyCodeLine{501       \textcolor{keyword}{auto} map = Traits::MapFromWeakCallbackInfo(data);}
\DoxyCodeLine{502       \mbox{\hyperlink{namespacev8_1_1internal_a64191cdcde25dc019822f35676eaff01}{K}} \mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}} = Traits::KeyFromWeakCallbackInfo(data);}
\DoxyCodeLine{503       map-\/>RemoveWeak(\mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}});}
\DoxyCodeLine{504       Traits::OnWeakCallback(data);}
\DoxyCodeLine{505       data.SetSecondPassCallback(\mbox{\hyperlink{classv8_1_1GlobalValueMap_ae01469ad24dd4bd95c02ee0eac68542f}{SecondWeakCallback}});}
\DoxyCodeLine{506     \}}
\DoxyCodeLine{507   \}}

\end{DoxyCode}


References v8\+::internal\+::K, v8\+::internal\+::key, v8\+::k\+Not\+Weak, v8\+::\+Global\+Value\+Map$<$ K, V, Traits $>$\+::\+Second\+Weak\+Callback(), and v8\+::\+Weak\+Callback\+Info$<$ T $>$\+::\+Set\+Second\+Pass\+Callback().



Referenced by v8\+::\+Global\+Value\+Map$<$ K, V, Traits $>$\+::\+Set\+Unique().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1GlobalValueMap_af56bf560957d616f34543a2e9d14ca60_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1GlobalValueMap_af56bf560957d616f34543a2e9d14ca60_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1GlobalValueMap_ae01469ad24dd4bd95c02ee0eac68542f}\label{classv8_1_1GlobalValueMap_ae01469ad24dd4bd95c02ee0eac68542f}} 
\index{v8::GlobalValueMap$<$ K, V, Traits $>$@{v8::GlobalValueMap$<$ K, V, Traits $>$}!SecondWeakCallback@{SecondWeakCallback}}
\index{SecondWeakCallback@{SecondWeakCallback}!v8::GlobalValueMap$<$ K, V, Traits $>$@{v8::GlobalValueMap$<$ K, V, Traits $>$}}
\doxysubsubsection{\texorpdfstring{SecondWeakCallback()}{SecondWeakCallback()}}
{\footnotesize\ttfamily template$<$typename K , typename V , typename Traits $>$ \\
static void \mbox{\hyperlink{classv8_1_1GlobalValueMap}{v8\+::\+Global\+Value\+Map}}$<$ K, V, Traits $>$\+::Second\+Weak\+Callback (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1WeakCallbackInfo}{Weak\+Callback\+Info}}$<$ typename Traits\+::\+Weak\+Callback\+Data\+Type $>$ \&}]{data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 509 of file v8-\/util.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{510                                                                          \{}
\DoxyCodeLine{511     Traits::DisposeWeak(data);}
\DoxyCodeLine{512   \}}

\end{DoxyCode}


Referenced by v8\+::\+Global\+Value\+Map$<$ K, V, Traits $>$\+::\+On\+Weak\+Callback().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1GlobalValueMap_ae01469ad24dd4bd95c02ee0eac68542f_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1GlobalValueMap_ac2b02a0105393e6e3ab7e0aeeed9a294}\label{classv8_1_1GlobalValueMap_ac2b02a0105393e6e3ab7e0aeeed9a294}} 
\index{v8::GlobalValueMap$<$ K, V, Traits $>$@{v8::GlobalValueMap$<$ K, V, Traits $>$}!Set@{Set}}
\index{Set@{Set}!v8::GlobalValueMap$<$ K, V, Traits $>$@{v8::GlobalValueMap$<$ K, V, Traits $>$}}
\doxysubsubsection{\texorpdfstring{Set()}{Set()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily template$<$typename K , typename V , typename Traits $>$ \\
\mbox{\hyperlink{classv8_1_1Global}{Global}}$<$V$>$ \mbox{\hyperlink{classv8_1_1GlobalValueMap}{v8\+::\+Global\+Value\+Map}}$<$ K, V, Traits $>$\+::\mbox{\hyperlink{classv8_1_1Set}{Set}} (\begin{DoxyParamCaption}\item[{const K \&}]{key,  }\item[{\mbox{\hyperlink{classv8_1_1Global}{Global}}$<$ V $>$}]{value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Put value into map, like \mbox{\hyperlink{classv8_1_1GlobalValueMap_aa13f7914642c705b8e96824747ea115a}{Set(const K\&, Local$<$\+V$>$)}}. 



Definition at line 461 of file v8-\/util.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{461                                                \{}
\DoxyCodeLine{462     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1GlobalValueMap_aad73de3912571a2f245454d3edea4a41}{SetUnique}}(\mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}}, \&\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}});}
\DoxyCodeLine{463   \}}

\end{DoxyCode}


References v8\+::internal\+::key, v8\+::\+Global\+Value\+Map$<$ K, V, Traits $>$\+::\+Set\+Unique(), and v8\+::internal\+::value.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1GlobalValueMap_ac2b02a0105393e6e3ab7e0aeeed9a294_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1GlobalValueMap_aaa5fa26f751c8608716ad5578cd6c1d0}\label{classv8_1_1GlobalValueMap_aaa5fa26f751c8608716ad5578cd6c1d0}} 
\index{v8::GlobalValueMap$<$ K, V, Traits $>$@{v8::GlobalValueMap$<$ K, V, Traits $>$}!Set@{Set}}
\index{Set@{Set}!v8::GlobalValueMap$<$ K, V, Traits $>$@{v8::GlobalValueMap$<$ K, V, Traits $>$}}
\doxysubsubsection{\texorpdfstring{Set()}{Set()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily template$<$typename K , typename V , typename Traits $>$ \\
\mbox{\hyperlink{classv8_1_1Global}{Global}}$<$V$>$ \mbox{\hyperlink{classv8_1_1GlobalValueMap}{v8\+::\+Global\+Value\+Map}}$<$ K, V, Traits $>$\+::\mbox{\hyperlink{classv8_1_1Set}{Set}} (\begin{DoxyParamCaption}\item[{const K \&}]{key,  }\item[{\mbox{\hyperlink{classv8_1_1Global}{Global}}$<$ V $>$}]{value,  }\item[{\mbox{\hyperlink{classv8_1_1GlobalValueMap_ac01835ce1863e1c577882e31b60efc35}{Persistent\+Value\+Reference}} $\ast$}]{reference }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Put a value into the map and update the reference. 

Restrictions of Get\+Reference apply here as well. 

Definition at line 491 of file v8-\/util.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{492                                                      \{}
\DoxyCodeLine{493     *reference = this-\/>\mbox{\hyperlink{classv8_1_1PersistentValueMapBase_adacf68ca7b9fb19deab68711a70a8313}{Leak}}(\&\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}});}
\DoxyCodeLine{494     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1GlobalValueMap_aad73de3912571a2f245454d3edea4a41}{SetUnique}}(\mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}}, \&\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}});}
\DoxyCodeLine{495   \}}

\end{DoxyCode}


References v8\+::internal\+::key, v8\+::\+Persistent\+Value\+Map\+Base$<$ K, V, Traits $>$\+::\+Leak(), v8\+::\+Global\+Value\+Map$<$ K, V, Traits $>$\+::\+Set\+Unique(), and v8\+::internal\+::value.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1GlobalValueMap_aaa5fa26f751c8608716ad5578cd6c1d0_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1GlobalValueMap_aa13f7914642c705b8e96824747ea115a}\label{classv8_1_1GlobalValueMap_aa13f7914642c705b8e96824747ea115a}} 
\index{v8::GlobalValueMap$<$ K, V, Traits $>$@{v8::GlobalValueMap$<$ K, V, Traits $>$}!Set@{Set}}
\index{Set@{Set}!v8::GlobalValueMap$<$ K, V, Traits $>$@{v8::GlobalValueMap$<$ K, V, Traits $>$}}
\doxysubsubsection{\texorpdfstring{Set()}{Set()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily template$<$typename K , typename V , typename Traits $>$ \\
\mbox{\hyperlink{classv8_1_1Global}{Global}}$<$V$>$ \mbox{\hyperlink{classv8_1_1GlobalValueMap}{v8\+::\+Global\+Value\+Map}}$<$ K, V, Traits $>$\+::\mbox{\hyperlink{classv8_1_1Set}{Set}} (\begin{DoxyParamCaption}\item[{const K \&}]{key,  }\item[{\mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ V $>$}]{value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Put value into map. 

Depending on Traits\+::k\+Is\+Weak, the value will be held by the map strongly or weakly. Returns old value as \mbox{\hyperlink{classv8_1_1Global}{Global}}. 

Definition at line 453 of file v8-\/util.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{453                                               \{}
\DoxyCodeLine{454     Global<V> persistent(this-\/>\mbox{\hyperlink{classv8_1_1PersistentValueMapBase_af2e83791955c6027213dd979eebeb8f4}{isolate}}(), \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}});}
\DoxyCodeLine{455     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1GlobalValueMap_aad73de3912571a2f245454d3edea4a41}{SetUnique}}(\mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}}, \&persistent);}
\DoxyCodeLine{456   \}}

\end{DoxyCode}


References v8\+::\+Persistent\+Value\+Map\+Base$<$ K, V, Traits $>$\+::isolate(), v8\+::internal\+::key, and v8\+::\+Global\+Value\+Map$<$ K, V, Traits $>$\+::\+Set\+Unique().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1GlobalValueMap_aa13f7914642c705b8e96824747ea115a_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1GlobalValueMap_aad73de3912571a2f245454d3edea4a41}\label{classv8_1_1GlobalValueMap_aad73de3912571a2f245454d3edea4a41}} 
\index{v8::GlobalValueMap$<$ K, V, Traits $>$@{v8::GlobalValueMap$<$ K, V, Traits $>$}!SetUnique@{SetUnique}}
\index{SetUnique@{SetUnique}!v8::GlobalValueMap$<$ K, V, Traits $>$@{v8::GlobalValueMap$<$ K, V, Traits $>$}}
\doxysubsubsection{\texorpdfstring{SetUnique()}{SetUnique()}}
{\footnotesize\ttfamily template$<$typename K , typename V , typename Traits $>$ \\
\mbox{\hyperlink{classv8_1_1Global}{Global}}$<$V$>$ \mbox{\hyperlink{classv8_1_1GlobalValueMap}{v8\+::\+Global\+Value\+Map}}$<$ K, V, Traits $>$\+::Set\+Unique (\begin{DoxyParamCaption}\item[{const K \&}]{key,  }\item[{\mbox{\hyperlink{classv8_1_1Global}{Global}}$<$ V $>$ $\ast$}]{persistent }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Put the value into the map, and set the \textquotesingle{}weak\textquotesingle{} callback when demanded by the Traits class. 



Definition at line 469 of file v8-\/util.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{469                                                            \{}
\DoxyCodeLine{470     \textcolor{keywordflow}{if} (Traits::kCallbackType == \mbox{\hyperlink{namespacev8_ad2a33b8f8a1701a800a691dd025f7ddeae9e4356adeb3f5514e14eab4bdbe7c82}{kNotWeak}}) \{}
\DoxyCodeLine{471       this-\/>\mbox{\hyperlink{classv8_1_1PersistentValueMapBase_a243dfaf4ef5f9aa7bc178a660b14235a}{AnnotateStrongRetainer}}(persistent);}
\DoxyCodeLine{472     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{473       \mbox{\hyperlink{namespacev8_a68b2b90003e18980bc0b438c95be1005}{WeakCallbackType}} callback\_type =}
\DoxyCodeLine{474           Traits::kCallbackType == \mbox{\hyperlink{namespacev8_ad2a33b8f8a1701a800a691dd025f7ddea845493879ca56b3017d8c4ea7e0410e5}{kWeakWithInternalFields}}}
\DoxyCodeLine{475               ? \mbox{\hyperlink{namespacev8_a68b2b90003e18980bc0b438c95be1005a384001812e334192a0928168356666c4}{WeakCallbackType::kInternalFields}}}
\DoxyCodeLine{476               : \mbox{\hyperlink{namespacev8_a68b2b90003e18980bc0b438c95be1005ad51e5151617cc9541b52f510b30610e2}{WeakCallbackType::kParameter}};}
\DoxyCodeLine{477       \textcolor{keyword}{auto} \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} = \mbox{\hyperlink{classv8_1_1Local_a8362e3ec202364df44711f87da64215c}{Local<V>::New}}(this-\/>\mbox{\hyperlink{classv8_1_1PersistentValueMapBase_af2e83791955c6027213dd979eebeb8f4}{isolate}}(), *persistent);}
\DoxyCodeLine{478       persistent-\/>template SetWeak<typename Traits::WeakCallbackDataType>(}
\DoxyCodeLine{479           Traits::WeakCallbackParameter(\textcolor{keyword}{this}, \mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}}, \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}), \mbox{\hyperlink{classv8_1_1GlobalValueMap_af56bf560957d616f34543a2e9d14ca60}{OnWeakCallback}},}
\DoxyCodeLine{480           callback\_type);}
\DoxyCodeLine{481     \}}
\DoxyCodeLine{482     \mbox{\hyperlink{namespacev8_af40bc0395e06dd22c3bb1328deb94869}{PersistentContainerValue}} old\_value =}
\DoxyCodeLine{483         Traits::Set(this-\/>\mbox{\hyperlink{classv8_1_1PersistentValueMapBase_aacd576258fbffaf366436a6ecdd8cdf5}{impl}}(), \mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}}, this-\/>\mbox{\hyperlink{classv8_1_1PersistentValueMapBase_a7b083c75829bbc4177729ffe9827c4ac}{ClearAndLeak}}(persistent));}
\DoxyCodeLine{484     \textcolor{keywordflow}{return} this-\/>\mbox{\hyperlink{classv8_1_1PersistentValueMapBase_a9ffa7a4e0c59121c0471d71c04112966}{Release}}(old\_value).Pass();}
\DoxyCodeLine{485   \}}

\end{DoxyCode}


References v8\+::\+Persistent\+Value\+Map\+Base$<$ K, V, Traits $>$\+::\+Annotate\+Strong\+Retainer(), v8\+::\+Persistent\+Value\+Map\+Base$<$ K, V, Traits $>$\+::\+Clear\+And\+Leak(), v8\+::\+Persistent\+Value\+Map\+Base$<$ K, V, Traits $>$\+::impl(), v8\+::\+Persistent\+Value\+Map\+Base$<$ K, V, Traits $>$\+::isolate(), v8\+::internal\+::key, v8\+::k\+Internal\+Fields, v8\+::k\+Not\+Weak, v8\+::k\+Parameter, v8\+::k\+Weak\+With\+Internal\+Fields, v8\+::\+Local$<$ T $>$\+::\+New(), v8\+::\+Global\+Value\+Map$<$ K, V, Traits $>$\+::\+On\+Weak\+Callback(), v8\+::\+Persistent\+Value\+Map\+Base$<$ K, V, Traits $>$\+::\+Release(), and v8\+::internal\+::value.



Referenced by v8\+::\+Global\+Value\+Map$<$ K, V, Traits $>$\+::\+Set().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1GlobalValueMap_aad73de3912571a2f245454d3edea4a41_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1GlobalValueMap_aad73de3912571a2f245454d3edea4a41_icgraph}
\end{center}
\end{figure}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/include/\mbox{\hyperlink{v8-util_8h}{v8-\/util.\+h}}\end{DoxyCompactItemize}
