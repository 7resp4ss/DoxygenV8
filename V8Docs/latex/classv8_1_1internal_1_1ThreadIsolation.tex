\hypertarget{classv8_1_1internal_1_1ThreadIsolation}{}\doxysection{v8\+::internal\+::Thread\+Isolation Class Reference}
\label{classv8_1_1internal_1_1ThreadIsolation}\index{v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}}


{\ttfamily \#include $<$code-\/memory-\/access.\+h$>$}



Collaboration diagram for v8\+::internal\+::Thread\+Isolation\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ThreadIsolation__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_1_1JitAllocation}{Jit\+Allocation}}
\item 
class \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_1_1JitPage}{Jit\+Page}}
\item 
class \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_1_1JitPageReference}{Jit\+Page\+Reference}}
\item 
struct \mbox{\hyperlink{structv8_1_1internal_1_1ThreadIsolation_1_1StlAllocator}{Stl\+Allocator}}
\item 
struct \mbox{\hyperlink{structv8_1_1internal_1_1ThreadIsolation_1_1TrustedData}{Trusted\+Data}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum class \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_affba95694ddfc3cdf2e345f8ed110b0e}{Jit\+Allocation\+Type}} \{ \newline
\mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_affba95694ddfc3cdf2e345f8ed110b0ea3e941a35f2fce796d32e0826819c24f1}{k\+Instruction\+Stream}}
, \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_affba95694ddfc3cdf2e345f8ed110b0ea3d2a650902eeb3540a581b2abbb17bb8}{k\+Wasm\+Code}}
, \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_affba95694ddfc3cdf2e345f8ed110b0ea91a8fed74b604f7e84b3036af763ee8b}{k\+Wasm\+Jump\+Table}}
, \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_affba95694ddfc3cdf2e345f8ed110b0eac2316abd3338b7d2e92c44dfde6164c5}{k\+Wasm\+Far\+Jump\+Table}}
, \newline
\mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_affba95694ddfc3cdf2e345f8ed110b0eadae8f9a2ade7ec362cbf97c727cb233c}{k\+Wasm\+Lazy\+Compile\+Table}}
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a42ebfac4aa3bcade2327daf0cf5efb7f}{Enabled}} ()
\item 
static void \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a133b458abd67d1cc6fd1997eacc3911d}{Initialize}} (\mbox{\hyperlink{classv8_1_1ThreadIsolatedAllocator}{Thread\+Isolated\+Allocator}} $\ast$\mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_aa866700e6ddeb310e75c23526fca49d9}{allocator}})
\item 
static void \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a9fff9d0a2fb22b0853a69400bea0f618}{Register\+Jit\+Page}} (\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} address, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}})
\item 
static void \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a6a523c13e4e0f1cd5dc4a57a754a616a}{Unregister\+Jit\+Page}} (\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} address, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}})
\item 
static \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_ad690ad6c8189d648d7cc8ec987d882c1}{Make\+Executable}} (\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} address, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}})
\item 
static \mbox{\hyperlink{classv8_1_1internal_1_1WritableJitAllocation}{Writable\+Jit\+Allocation}} \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_ae2e342788fbcd47076ccce4a1996c464}{Register\+Jit\+Allocation}} (\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} addr, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}, \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_affba95694ddfc3cdf2e345f8ed110b0e}{Jit\+Allocation\+Type}} type, \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} enforce\+\_\+write\+\_\+api=\mbox{\hyperlink{flag-definitions_8h_a3a9beadc89284d3f78a7d4945b1b4d8c}{false}})
\item 
static \mbox{\hyperlink{classv8_1_1internal_1_1WritableJitAllocation}{Writable\+Jit\+Allocation}} \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_abca61cf418b5bae301d7572fdc494d02}{Register\+Instruction\+Stream\+Allocation}} (\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} addr, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}, \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} enforce\+\_\+write\+\_\+api=\mbox{\hyperlink{flag-definitions_8h_a3a9beadc89284d3f78a7d4945b1b4d8c}{false}})
\item 
static void \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a647c86b788456e7ec80f0bc1d365561a}{Register\+Jit\+Allocations}} (\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} start, const std\+::vector$<$ \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} $>$ \&sizes, \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_affba95694ddfc3cdf2e345f8ed110b0e}{Jit\+Allocation\+Type}} type)
\item 
static \mbox{\hyperlink{classv8_1_1internal_1_1WritableJitAllocation}{Writable\+Jit\+Allocation}} \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_ad005e4948f48131f0f8727020bd52b68}{Lookup\+Jit\+Allocation}} (\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} addr, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}, \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_affba95694ddfc3cdf2e345f8ed110b0e}{Jit\+Allocation\+Type}} type, \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} enforce\+\_\+write\+\_\+api=\mbox{\hyperlink{flag-definitions_8h_a3a9beadc89284d3f78a7d4945b1b4d8c}{false}})
\item 
static \mbox{\hyperlink{classv8_1_1internal_1_1WritableJitPage}{Writable\+Jit\+Page}} \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a3dea4a5ba1f46f7a9f0f26ae04b68082}{Lookup\+Writable\+Jit\+Page}} (\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} addr, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}})
\item 
static void \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_ae13414c0ae7d8ac16347aa93bf7b5771}{Unregister\+Wasm\+Allocation}} (\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} addr, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}})
\item 
static \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a81c5b86ee05cd5ba9185531719d0ddea}{Can\+Lookup\+Start\+Of\+Jit\+Allocation\+At}} (\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} inner\+\_\+pointer)
\item 
static std\+::optional$<$ \mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_aff6b11b3036159f7f606cd106633dc79}{Start\+Of\+Jit\+Allocation\+At}} (\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} inner\+\_\+pointer)
\item 
static \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a1d9e4c7b02f557093bf373b0a4e93fc4}{Write\+Protect\+Memory}} (\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} addr, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}, \mbox{\hyperlink{classv8_1_1PageAllocator_a88f74b164fe97e053259f67a95758415}{Page\+Allocator\+::\+Permission}} page\+\_\+permissions)
\item 
static void \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_af7cfe19bbc145c8500559fe955269ebc}{Register\+Jit\+Allocation\+For\+Testing}} (\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} obj, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}})
\item 
static void \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_aa4e848538c981333fe2b1d57cf6401e7}{Unregister\+Jit\+Allocation\+For\+Testing}} (\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} addr, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}})
\end{DoxyCompactItemize}
\doxysubsection*{Private Types}
\begin{DoxyCompactItemize}
\item 
typedef std\+::map$<$ \mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}, \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_1_1JitPage}{Jit\+Page}} $\ast$, std\+::less$<$ \mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} $>$, \mbox{\hyperlink{structv8_1_1internal_1_1ThreadIsolation_1_1StlAllocator}{Stl\+Allocator}}$<$ std\+::pair$<$ const \mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}, \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_1_1JitPage}{Jit\+Page}} $\ast$ $>$ $>$ $>$ \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_abccb7ae912d87cb34e0cdc00480ffcc8}{Jit\+Page\+Map}}
\end{DoxyCompactItemize}
\doxysubsection*{Static Private Member Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{classv8_1_1ThreadIsolatedAllocator}{Thread\+Isolated\+Allocator}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_aa866700e6ddeb310e75c23526fca49d9}{allocator}} ()
\item 
{\footnotesize template$<$typename T , typename... Args$>$ }\\static void \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_aa0757e31aadaa9fb07c1c836fe58aa23}{Construct\+New}} (\mbox{\hyperlink{classT}{T}} $\ast$$\ast$ptr, Args \&\&... args)
\item 
{\footnotesize template$<$typename T $>$ }\\static void \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a75a436f021f3bb6edcfe36ca918a48d7}{Delete}} (\mbox{\hyperlink{classT}{T}} $\ast$ptr)
\item 
static \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_1_1JitPageReference}{Jit\+Page\+Reference}} \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a233a41f996a4fe6e9e76c6106ef4a2c4}{Lookup\+Jit\+Page}} (\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} addr, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}})
\item 
static \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_1_1JitPageReference}{Jit\+Page\+Reference}} \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a5351717c2ea7a1b1d3af1e42c67cbf4c}{Lookup\+Jit\+Page\+Locked}} (\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} addr, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}})
\item 
static std\+::optional$<$ \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_1_1JitPageReference}{Jit\+Page\+Reference}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a1a6b847fbed8ea03d831acda9ace41ff}{Try\+Lookup\+Jit\+Page}} (\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} addr, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}})
\item 
static std\+::optional$<$ \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_1_1JitPageReference}{Jit\+Page\+Reference}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_adb11712024679b4900f968d2b181f3ba}{Try\+Lookup\+Jit\+Page\+Locked}} (\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} addr, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}})
\item 
static \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_1_1JitPageReference}{Jit\+Page\+Reference}} \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a804b9786b6400417d76f815b956d91db}{Split\+Jit\+Page\+Locked}} (\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} addr, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}})
\item 
static \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_1_1JitPageReference}{Jit\+Page\+Reference}} \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a522463c87284740d3883ffa8617be5c6}{Split\+Jit\+Page}} (\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} addr, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}})
\item 
static std\+::pair$<$ \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_1_1JitPageReference}{Jit\+Page\+Reference}}, \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_1_1JitPageReference}{Jit\+Page\+Reference}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a5a9b78a97d1621139d29ef2a1efd5a62}{Split\+Jit\+Pages}} (\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} addr1, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} size1, \mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} addr2, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} size2)
\end{DoxyCompactItemize}
\doxysubsection*{Static Private Attributes}
\begin{DoxyCompactItemize}
\item 
static struct \mbox{\hyperlink{structv8_1_1internal_1_1ThreadIsolation_1_1TrustedData}{Trusted\+Data}} \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a23de1d543f14efa96737998f6181bc5e}{trusted\+\_\+data\+\_\+}}
\end{DoxyCompactItemize}
\doxysubsection*{Friends}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$class T $>$ }\\struct \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a727eae901c0c6bf92ab8800a11ae0ded}{Stl\+Allocator}}
\item 
class \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a0631888469a05acf1546ffd04e10b2d3}{Writable\+Jit\+Page}}
\item 
class \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a01f18b8e58212dbe4189fa29fadcd669}{Writable\+Jit\+Allocation}}
\item 
class \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a03cd4c0456737af97e1f30731913f74b}{Writable\+Jump\+Table\+Pair}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 137 of file code-\/memory-\/access.\+h.



\doxysubsection{Member Typedef Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1ThreadIsolation_abccb7ae912d87cb34e0cdc00480ffcc8}\label{classv8_1_1internal_1_1ThreadIsolation_abccb7ae912d87cb34e0cdc00480ffcc8}} 
\index{v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}!JitPageMap@{JitPageMap}}
\index{JitPageMap@{JitPageMap}!v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}}
\doxysubsubsection{\texorpdfstring{JitPageMap}{JitPageMap}}
{\footnotesize\ttfamily typedef std\+::map$<$\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}, \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_1_1JitPage}{Jit\+Page}}$\ast$, std\+::less$<$\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}$>$, \mbox{\hyperlink{structv8_1_1internal_1_1ThreadIsolation_1_1StlAllocator}{Stl\+Allocator}}$<$std\+::pair$<$const \mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}, \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_1_1JitPage}{Jit\+Page}}$\ast$$>$ $>$ $>$ \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_abccb7ae912d87cb34e0cdc00480ffcc8}{v8\+::internal\+::\+Thread\+Isolation\+::\+Jit\+Page\+Map}}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 329 of file code-\/memory-\/access.\+h.



\doxysubsection{Member Enumeration Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1ThreadIsolation_affba95694ddfc3cdf2e345f8ed110b0e}\label{classv8_1_1internal_1_1ThreadIsolation_affba95694ddfc3cdf2e345f8ed110b0e}} 
\index{v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}!JitAllocationType@{JitAllocationType}}
\index{JitAllocationType@{JitAllocationType}!v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}}
\doxysubsubsection{\texorpdfstring{JitAllocationType}{JitAllocationType}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_affba95694ddfc3cdf2e345f8ed110b0e}{v8\+::internal\+::\+Thread\+Isolation\+::\+Jit\+Allocation\+Type}}\hspace{0.3cm}{\ttfamily [strong]}}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{kInstructionStream@{kInstructionStream}!v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}}\index{v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}!kInstructionStream@{kInstructionStream}}}\mbox{\Hypertarget{classv8_1_1internal_1_1ThreadIsolation_affba95694ddfc3cdf2e345f8ed110b0ea3e941a35f2fce796d32e0826819c24f1}\label{classv8_1_1internal_1_1ThreadIsolation_affba95694ddfc3cdf2e345f8ed110b0ea3e941a35f2fce796d32e0826819c24f1}} 
k\+Instruction\+Stream&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{kWasmCode@{kWasmCode}!v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}}\index{v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}!kWasmCode@{kWasmCode}}}\mbox{\Hypertarget{classv8_1_1internal_1_1ThreadIsolation_affba95694ddfc3cdf2e345f8ed110b0ea3d2a650902eeb3540a581b2abbb17bb8}\label{classv8_1_1internal_1_1ThreadIsolation_affba95694ddfc3cdf2e345f8ed110b0ea3d2a650902eeb3540a581b2abbb17bb8}} 
k\+Wasm\+Code&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{kWasmJumpTable@{kWasmJumpTable}!v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}}\index{v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}!kWasmJumpTable@{kWasmJumpTable}}}\mbox{\Hypertarget{classv8_1_1internal_1_1ThreadIsolation_affba95694ddfc3cdf2e345f8ed110b0ea91a8fed74b604f7e84b3036af763ee8b}\label{classv8_1_1internal_1_1ThreadIsolation_affba95694ddfc3cdf2e345f8ed110b0ea91a8fed74b604f7e84b3036af763ee8b}} 
k\+Wasm\+Jump\+Table&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{kWasmFarJumpTable@{kWasmFarJumpTable}!v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}}\index{v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}!kWasmFarJumpTable@{kWasmFarJumpTable}}}\mbox{\Hypertarget{classv8_1_1internal_1_1ThreadIsolation_affba95694ddfc3cdf2e345f8ed110b0eac2316abd3338b7d2e92c44dfde6164c5}\label{classv8_1_1internal_1_1ThreadIsolation_affba95694ddfc3cdf2e345f8ed110b0eac2316abd3338b7d2e92c44dfde6164c5}} 
k\+Wasm\+Far\+Jump\+Table&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{kWasmLazyCompileTable@{kWasmLazyCompileTable}!v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}}\index{v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}!kWasmLazyCompileTable@{kWasmLazyCompileTable}}}\mbox{\Hypertarget{classv8_1_1internal_1_1ThreadIsolation_affba95694ddfc3cdf2e345f8ed110b0eadae8f9a2ade7ec362cbf97c727cb233c}\label{classv8_1_1internal_1_1ThreadIsolation_affba95694ddfc3cdf2e345f8ed110b0eadae8f9a2ade7ec362cbf97c727cb233c}} 
k\+Wasm\+Lazy\+Compile\+Table&\\
\hline

\end{DoxyEnumFields}


Definition at line 142 of file code-\/memory-\/access.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{142                                \{}
\DoxyCodeLine{143     kInstructionStream,}
\DoxyCodeLine{144     kWasmCode,}
\DoxyCodeLine{145     kWasmJumpTable,}
\DoxyCodeLine{146     kWasmFarJumpTable,}
\DoxyCodeLine{147     kWasmLazyCompileTable,}
\DoxyCodeLine{148   \};}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1ThreadIsolation_aa866700e6ddeb310e75c23526fca49d9}\label{classv8_1_1internal_1_1ThreadIsolation_aa866700e6ddeb310e75c23526fca49d9}} 
\index{v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}!allocator@{allocator}}
\index{allocator@{allocator}!v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}}
\doxysubsubsection{\texorpdfstring{allocator()}{allocator()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{classv8_1_1ThreadIsolatedAllocator}{Thread\+Isolated\+Allocator}}$\ast$ v8\+::internal\+::\+Thread\+Isolation\+::allocator (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 321 of file code-\/memory-\/access.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{321                                               \{}
\DoxyCodeLine{322     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a23de1d543f14efa96737998f6181bc5e}{trusted\_data\_}}.\mbox{\hyperlink{structv8_1_1internal_1_1ThreadIsolation_1_1TrustedData_ab20cfcf7b632aa7ff830df4a048ed322}{allocator}};}
\DoxyCodeLine{323   \}}

\end{DoxyCode}


Referenced by v8\+::internal\+::\+Thread\+Isolation\+::\+Stl\+Allocator$<$ T $>$\+::allocate(), v8\+::internal\+::\+Thread\+Isolation\+::\+Stl\+Allocator$<$ T $>$\+::deallocate(), and Enabled().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ThreadIsolation_aa866700e6ddeb310e75c23526fca49d9_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ThreadIsolation_a81c5b86ee05cd5ba9185531719d0ddea}\label{classv8_1_1internal_1_1ThreadIsolation_a81c5b86ee05cd5ba9185531719d0ddea}} 
\index{v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}!CanLookupStartOfJitAllocationAt@{CanLookupStartOfJitAllocationAt}}
\index{CanLookupStartOfJitAllocationAt@{CanLookupStartOfJitAllocationAt}!v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}}
\doxysubsubsection{\texorpdfstring{CanLookupStartOfJitAllocationAt()}{CanLookupStartOfJitAllocationAt()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Thread\+Isolation\+::\+Can\+Lookup\+Start\+Of\+Jit\+Allocation\+At (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}}]{inner\+\_\+pointer }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 643 of file code-\/memory-\/access.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{643                                                                            \{}
\DoxyCodeLine{644   \mbox{\hyperlink{namespacev8_1_1internal_ae25b6f0e106fb2dffecbfa47926f0225}{CFIMetadataWriteScope}} write\_scope(\textcolor{stringliteral}{"{}CanLookupStartOfJitAllocationAt"{}});}
\DoxyCodeLine{645 }
\DoxyCodeLine{646   \textcolor{comment}{// Try to lock the pages mutex and the mutex of the page itself to prevent}}
\DoxyCodeLine{647   \textcolor{comment}{// potential dead locks. The profiler can try to do a lookup from a signal}}
\DoxyCodeLine{648   \textcolor{comment}{// handler. If that signal handler runs while the thread locked one of these}}
\DoxyCodeLine{649   \textcolor{comment}{// mutexes, it would result in a dead lock.}}
\DoxyCodeLine{650   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a23de1d543f14efa96737998f6181bc5e}{trusted\_data\_}}.\mbox{\hyperlink{structv8_1_1internal_1_1ThreadIsolation_1_1TrustedData_a48492f53886b7b5b85cf7dcb1ec1bbb8}{jit\_pages\_mutex\_}}-\/>\mbox{\hyperlink{classv8_1_1base_1_1Mutex_a10d761f0e177ba88dd2810cf296d15de}{TryLock}}()) \{}
\DoxyCodeLine{651     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{652   \}}
\DoxyCodeLine{653   MutexUnlocker pages\_mutex\_unlocker(*\mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a23de1d543f14efa96737998f6181bc5e}{trusted\_data\_}}.\mbox{\hyperlink{structv8_1_1internal_1_1ThreadIsolation_1_1TrustedData_a48492f53886b7b5b85cf7dcb1ec1bbb8}{jit\_pages\_mutex\_}});}
\DoxyCodeLine{654 }
\DoxyCodeLine{655   \textcolor{comment}{// upper\_bound gives us an iterator to the position after address.}}
\DoxyCodeLine{656   \textcolor{keyword}{auto} it = \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a23de1d543f14efa96737998f6181bc5e}{trusted\_data\_}}.\mbox{\hyperlink{structv8_1_1internal_1_1ThreadIsolation_1_1TrustedData_a4473432f203589839088f8598861ca0a}{jit\_pages\_}}-\/>upper\_bound(inner\_pointer);}
\DoxyCodeLine{657 }
\DoxyCodeLine{658   \textcolor{comment}{// The previous page should be the one we're looking for.}}
\DoxyCodeLine{659   \textcolor{keywordflow}{if} (it == \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a23de1d543f14efa96737998f6181bc5e}{trusted\_data\_}}.\mbox{\hyperlink{structv8_1_1internal_1_1ThreadIsolation_1_1TrustedData_a4473432f203589839088f8598861ca0a}{jit\_pages\_}}-\/>begin()) \{}
\DoxyCodeLine{660     \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{661   \}}
\DoxyCodeLine{662   it-\/-\/;}
\DoxyCodeLine{663 }
\DoxyCodeLine{664   JitPage* jit\_page = it-\/>second;}
\DoxyCodeLine{665   \textcolor{keywordflow}{if} (jit\_page-\/>mutex\_.TryLock()) \{}
\DoxyCodeLine{666     jit\_page-\/>mutex\_.Unlock();}
\DoxyCodeLine{667     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{668   \}}
\DoxyCodeLine{669   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{670 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Thread\+Isolation\+::\+Trusted\+Data\+::jit\+\_\+pages\+\_\+, v8\+::internal\+::\+Thread\+Isolation\+::\+Trusted\+Data\+::jit\+\_\+pages\+\_\+mutex\+\_\+, v8\+::internal\+::\+Thread\+Isolation\+::\+Jit\+Page\+::mutex\+\_\+, trusted\+\_\+data\+\_\+, v8\+::base\+::\+Mutex\+::\+Try\+Lock(), and v8\+::base\+::\+Mutex\+::\+Unlock().



Referenced by v8\+::internal\+::anonymous\+\_\+namespace\{frames.\+cc\}\+::\+Is\+Interpreter\+Frame\+Pc().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ThreadIsolation_a81c5b86ee05cd5ba9185531719d0ddea_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ThreadIsolation_a81c5b86ee05cd5ba9185531719d0ddea_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ThreadIsolation_aa0757e31aadaa9fb07c1c836fe58aa23}\label{classv8_1_1internal_1_1ThreadIsolation_aa0757e31aadaa9fb07c1c836fe58aa23}} 
\index{v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}!ConstructNew@{ConstructNew}}
\index{ConstructNew@{ConstructNew}!v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}}
\doxysubsubsection{\texorpdfstring{ConstructNew()}{ConstructNew()}}
{\footnotesize\ttfamily template$<$typename T , typename... Args$>$ \\
void v8\+::internal\+::\+Thread\+Isolation\+::\+Construct\+New (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classT}{T}} $\ast$$\ast$}]{ptr,  }\item[{Args \&\&...}]{args }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 52 of file code-\/memory-\/access.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{52                                                           \{}
\DoxyCodeLine{53   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a42ebfac4aa3bcade2327daf0cf5efb7f}{Enabled}}()) \{}
\DoxyCodeLine{54     *ptr = \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classT}{T}}*\textcolor{keyword}{>}(\mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a23de1d543f14efa96737998f6181bc5e}{trusted\_data\_}}.\mbox{\hyperlink{structv8_1_1internal_1_1ThreadIsolation_1_1TrustedData_ab20cfcf7b632aa7ff830df4a048ed322}{allocator}}-\/>\mbox{\hyperlink{classv8_1_1ThreadIsolatedAllocator_afe9f8aaba035134aaca622b86d9a38c7}{Allocate}}(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{classT}{T}})));}
\DoxyCodeLine{55     \textcolor{keywordflow}{if} (!*ptr) \textcolor{keywordflow}{return};}
\DoxyCodeLine{56     \textcolor{keyword}{new} (*ptr) \mbox{\hyperlink{base_2ieee754_8cc_a0acb682b8260ab1c60b918599864e2e5}{T}}(std::forward<Args>(\mbox{\hyperlink{namespacev8_1_1base_ad03b241da4e98adde3145092fe54be8b}{args}})...);}
\DoxyCodeLine{57   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{58     *ptr = \textcolor{keyword}{new} \mbox{\hyperlink{base_2ieee754_8cc_a0acb682b8260ab1c60b918599864e2e5}{T}}(std::forward<Args>(\mbox{\hyperlink{namespacev8_1_1base_ad03b241da4e98adde3145092fe54be8b}{args}})...);}
\DoxyCodeLine{59   \}}
\DoxyCodeLine{60 \}}

\end{DoxyCode}


References v8\+::\+Thread\+Isolated\+Allocator\+::\+Allocate(), v8\+::internal\+::\+Thread\+Isolation\+::\+Trusted\+Data\+::allocator, v8\+::base\+::args, Enabled(), T, and trusted\+\_\+data\+\_\+.



Referenced by Initialize(), Register\+Jit\+Page(), Split\+Jit\+Page\+Locked(), and Unregister\+Jit\+Page().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ThreadIsolation_aa0757e31aadaa9fb07c1c836fe58aa23_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ThreadIsolation_aa0757e31aadaa9fb07c1c836fe58aa23_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ThreadIsolation_a75a436f021f3bb6edcfe36ca918a48d7}\label{classv8_1_1internal_1_1ThreadIsolation_a75a436f021f3bb6edcfe36ca918a48d7}} 
\index{v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}!Delete@{Delete}}
\index{Delete@{Delete}!v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}}
\doxysubsubsection{\texorpdfstring{Delete()}{Delete()}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
void v8\+::internal\+::\+Thread\+Isolation\+::\+Delete (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classT}{T}} $\ast$}]{ptr }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 64 of file code-\/memory-\/access.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{64                                    \{}
\DoxyCodeLine{65   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a42ebfac4aa3bcade2327daf0cf5efb7f}{Enabled}}()) \{}
\DoxyCodeLine{66     ptr-\/>\string~T();}
\DoxyCodeLine{67     \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a23de1d543f14efa96737998f6181bc5e}{trusted\_data\_}}.\mbox{\hyperlink{structv8_1_1internal_1_1ThreadIsolation_1_1TrustedData_ab20cfcf7b632aa7ff830df4a048ed322}{allocator}}-\/>\mbox{\hyperlink{classv8_1_1ThreadIsolatedAllocator_a7f50f10698da7d30275decd8ece47e0d}{Free}}(ptr);}
\DoxyCodeLine{68   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{69     \textcolor{keyword}{delete} ptr;}
\DoxyCodeLine{70   \}}
\DoxyCodeLine{71 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Thread\+Isolation\+::\+Trusted\+Data\+::allocator, Enabled(), v8\+::\+Thread\+Isolated\+Allocator\+::\+Free(), and trusted\+\_\+data\+\_\+.



Referenced by Try\+Lookup\+Jit\+Page\+Locked(), and Unregister\+Jit\+Page().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ThreadIsolation_a75a436f021f3bb6edcfe36ca918a48d7_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ThreadIsolation_a75a436f021f3bb6edcfe36ca918a48d7_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ThreadIsolation_a42ebfac4aa3bcade2327daf0cf5efb7f}\label{classv8_1_1internal_1_1ThreadIsolation_a42ebfac4aa3bcade2327daf0cf5efb7f}} 
\index{v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}!Enabled@{Enabled}}
\index{Enabled@{Enabled}!v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}}
\doxysubsubsection{\texorpdfstring{Enabled()}{Enabled()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Thread\+Isolation\+::\+Enabled (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 42 of file code-\/memory-\/access.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{42                               \{}
\DoxyCodeLine{43 \textcolor{preprocessor}{\#if V8\_HEAP\_USE\_PKU\_JIT\_WRITE\_PROTECT}}
\DoxyCodeLine{44   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_aa866700e6ddeb310e75c23526fca49d9}{allocator}}() != \textcolor{keyword}{nullptr};}
\DoxyCodeLine{45 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{46   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{47 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{48 \}}

\end{DoxyCode}


References allocator().



Referenced by Construct\+New(), Delete(), v8\+::internal\+::\+Code\+Range\+::\+Init\+Reservation(), Make\+Executable(), v8\+::internal\+::\+Code\+Range\+::\+Remap\+Embedded\+Builtins(), v8\+::internal\+::wasm\+::\+Wasm\+Code\+Manager\+::\+Try\+Allocate(), and Write\+Protect\+Memory().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ThreadIsolation_a42ebfac4aa3bcade2327daf0cf5efb7f_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ThreadIsolation_a42ebfac4aa3bcade2327daf0cf5efb7f_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ThreadIsolation_a133b458abd67d1cc6fd1997eacc3911d}\label{classv8_1_1internal_1_1ThreadIsolation_a133b458abd67d1cc6fd1997eacc3911d}} 
\index{v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}!Initialize@{Initialize}}
\index{Initialize@{Initialize}!v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}}
\doxysubsubsection{\texorpdfstring{Initialize()}{Initialize()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Thread\+Isolation\+::\+Initialize (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1ThreadIsolatedAllocator}{Thread\+Isolated\+Allocator}} $\ast$}]{allocator }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 74 of file code-\/memory-\/access.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{75                                                         \{}
\DoxyCodeLine{76 \textcolor{preprocessor}{\#if DEBUG}}
\DoxyCodeLine{77   \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a23de1d543f14efa96737998f6181bc5e}{trusted\_data\_}}.initialized = \textcolor{keyword}{true};}
\DoxyCodeLine{78 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{79 }
\DoxyCodeLine{80   \textcolor{keywordtype}{bool} enable = thread\_isolated\_allocator != \textcolor{keyword}{nullptr};}
\DoxyCodeLine{81 }
\DoxyCodeLine{82   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.jitless) \{}
\DoxyCodeLine{83     enable = \mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.force\_memory\_protection\_keys;}
\DoxyCodeLine{84   \}}
\DoxyCodeLine{85 }
\DoxyCodeLine{86   \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.force\_memory\_protection\_keys,}
\DoxyCodeLine{87                  thread\_isolated\_allocator != \textcolor{keyword}{nullptr});}
\DoxyCodeLine{88 }
\DoxyCodeLine{89 \textcolor{preprocessor}{\#ifdef THREAD\_SANITIZER}}
\DoxyCodeLine{90   \textcolor{comment}{// TODO(sroettger): with TSAN enabled, we get crashes because}}
\DoxyCodeLine{91   \textcolor{comment}{// SetDefaultPermissionsForAllKeysInSignalHandler gets called while a}}
\DoxyCodeLine{92   \textcolor{comment}{// RwxMemoryWriteScope is active. It seems that tsan's ProcessPendingSignals}}
\DoxyCodeLine{93   \textcolor{comment}{// doesn't restore the pkru value after executing the signal handler.}}
\DoxyCodeLine{94   enable = \textcolor{keyword}{false};}
\DoxyCodeLine{95 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{96 }
\DoxyCodeLine{97 \textcolor{preprocessor}{\#if V8\_HAS\_PKU\_JIT\_WRITE\_PROTECT}}
\DoxyCodeLine{98   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.memory\_protection\_keys ||}
\DoxyCodeLine{99       !base::MemoryProtectionKey::HasMemoryProtectionKeyAPIs()) \{}
\DoxyCodeLine{100     \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.force\_memory\_protection\_keys,}
\DoxyCodeLine{101                    \mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.memory\_protection\_keys);}
\DoxyCodeLine{102     \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.force\_memory\_protection\_keys,}
\DoxyCodeLine{103                    base::MemoryProtectionKey::HasMemoryProtectionKeyAPIs());}
\DoxyCodeLine{104     enable = \textcolor{keyword}{false};}
\DoxyCodeLine{105   \}}
\DoxyCodeLine{106 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{107 }
\DoxyCodeLine{108   \textcolor{keywordflow}{if} (enable) \{}
\DoxyCodeLine{109     \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a23de1d543f14efa96737998f6181bc5e}{trusted\_data\_}}.\mbox{\hyperlink{structv8_1_1internal_1_1ThreadIsolation_1_1TrustedData_ab20cfcf7b632aa7ff830df4a048ed322}{allocator}} = thread\_isolated\_allocator;}
\DoxyCodeLine{110 \textcolor{preprocessor}{\#if V8\_HAS\_PKU\_JIT\_WRITE\_PROTECT}}
\DoxyCodeLine{111     \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a23de1d543f14efa96737998f6181bc5e}{trusted\_data\_}}.pkey = \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a23de1d543f14efa96737998f6181bc5e}{trusted\_data\_}}.\mbox{\hyperlink{structv8_1_1internal_1_1ThreadIsolation_1_1TrustedData_ab20cfcf7b632aa7ff830df4a048ed322}{allocator}}-\/>\mbox{\hyperlink{classv8_1_1ThreadIsolatedAllocator_a119b43c3e5cc16b0aca6c5269684ba0f}{Pkey}}();}
\DoxyCodeLine{112 }
\DoxyCodeLine{113     \textcolor{comment}{// We need to inform our MemoryProtectionKey class that there was an}}
\DoxyCodeLine{114     \textcolor{comment}{// externally-\/allocated pkey that we will be using. This is necessary for}}
\DoxyCodeLine{115     \textcolor{comment}{// signal handlers to have access to memory protected with this key. For}}
\DoxyCodeLine{116     \textcolor{comment}{// more details see https://crbug.com/416209124.}}
\DoxyCodeLine{117     base::MemoryProtectionKey::RegisterExternallyAllocatedKey(}
\DoxyCodeLine{118         \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a23de1d543f14efa96737998f6181bc5e}{trusted\_data\_}}.pkey);}
\DoxyCodeLine{119 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{120   \}}
\DoxyCodeLine{121 }
\DoxyCodeLine{122   \{}
\DoxyCodeLine{123     \textcolor{comment}{// We need to allocate the memory for jit page tracking even if we don't}}
\DoxyCodeLine{124     \textcolor{comment}{// enable the ThreadIsolation protections.}}
\DoxyCodeLine{125     \mbox{\hyperlink{namespacev8_1_1internal_ae25b6f0e106fb2dffecbfa47926f0225}{CFIMetadataWriteScope}} write\_scope(\textcolor{stringliteral}{"{}Initialize thread isolation."{}});}
\DoxyCodeLine{126     \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_aa0757e31aadaa9fb07c1c836fe58aa23}{ConstructNew}}(\&\mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a23de1d543f14efa96737998f6181bc5e}{trusted\_data\_}}.\mbox{\hyperlink{structv8_1_1internal_1_1ThreadIsolation_1_1TrustedData_a48492f53886b7b5b85cf7dcb1ec1bbb8}{jit\_pages\_mutex\_}});}
\DoxyCodeLine{127     \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_aa0757e31aadaa9fb07c1c836fe58aa23}{ConstructNew}}(\&\mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a23de1d543f14efa96737998f6181bc5e}{trusted\_data\_}}.\mbox{\hyperlink{structv8_1_1internal_1_1ThreadIsolation_1_1TrustedData_a4473432f203589839088f8598861ca0a}{jit\_pages\_}});}
\DoxyCodeLine{128   \}}
\DoxyCodeLine{129 }
\DoxyCodeLine{130   \mbox{\hyperlink{src_2base_2logging_8h_a2c0c4cea27d0690467662bb05131b2af}{CHECK\_IMPLIES}}(\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.force\_memory\_protection\_keys, enable);}
\DoxyCodeLine{131 }
\DoxyCodeLine{132   \textcolor{keywordflow}{if} (!enable) \{}
\DoxyCodeLine{133     \textcolor{keywordflow}{return};}
\DoxyCodeLine{134   \}}
\DoxyCodeLine{135 }
\DoxyCodeLine{136 \textcolor{preprocessor}{\#if V8\_HAS\_PKU\_JIT\_WRITE\_PROTECT}}
\DoxyCodeLine{137   \textcolor{comment}{// Check that our compile time assumed page size that we use for padding was}}
\DoxyCodeLine{138   \textcolor{comment}{// large enough.}}
\DoxyCodeLine{139   \mbox{\hyperlink{src_2base_2logging_8h_a1c7c9b7f14b9a33ea69cbe4578016a19}{CHECK\_GE}}(\mbox{\hyperlink{code-memory-access_8h_a5c4e4fdbad229faa6c6dc188e5445619}{THREAD\_ISOLATION\_ALIGN\_SZ}},}
\DoxyCodeLine{140            \mbox{\hyperlink{namespacev8_1_1internal_a1b38d6a01927e639b91b6a039899ac1a}{GetPlatformPageAllocator}}()-\/>\mbox{\hyperlink{namespacev8_1_1internal_a6a5f128ae031000011e13ca7534dfc91}{CommitPageSize}}());}
\DoxyCodeLine{141 }
\DoxyCodeLine{142   \textcolor{comment}{// TODO(sroettger): make this immutable once there's OS support.}}
\DoxyCodeLine{143   \textcolor{keywordtype}{bool} success = base::MemoryProtectionKey::SetPermissionsAndKey(}
\DoxyCodeLine{144       \{\textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}\textcolor{keyword}{>}(\&\mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a23de1d543f14efa96737998f6181bc5e}{trusted\_data\_}}), \textcolor{keyword}{sizeof}(\mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a23de1d543f14efa96737998f6181bc5e}{trusted\_data\_}})\},}
\DoxyCodeLine{145       v8::PageAllocator::Permission::kRead,}
\DoxyCodeLine{146       base::MemoryProtectionKey::kDefaultProtectionKey);}
\DoxyCodeLine{147   \mbox{\hyperlink{src_2base_2logging_8h_a2c0c4cea27d0690467662bb05131b2af}{CHECK\_IMPLIES}}(\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.force\_memory\_protection\_keys, success);}
\DoxyCodeLine{148 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{149 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Thread\+Isolation\+::\+Trusted\+Data\+::allocator, CHECK\+\_\+\+GE, CHECK\+\_\+\+IMPLIES, v8\+::internal\+::\+Commit\+Page\+Size(), Construct\+New(), DCHECK\+\_\+\+IMPLIES, v8\+::internal\+::\+Get\+Platform\+Page\+Allocator(), v8\+::internal\+::\+Thread\+Isolation\+::\+Trusted\+Data\+::jit\+\_\+pages\+\_\+, v8\+::internal\+::\+Thread\+Isolation\+::\+Trusted\+Data\+::jit\+\_\+pages\+\_\+mutex\+\_\+, v8\+::\+Thread\+Isolated\+Allocator\+::\+Pkey(), THREAD\+\_\+\+ISOLATION\+\_\+\+ALIGN\+\_\+\+SZ, trusted\+\_\+data\+\_\+, and v8\+::internal\+::v8\+\_\+flags.



Referenced by v8\+::internal\+::\+V8\+::\+Initialize().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ThreadIsolation_a133b458abd67d1cc6fd1997eacc3911d_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ThreadIsolation_a133b458abd67d1cc6fd1997eacc3911d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ThreadIsolation_ad005e4948f48131f0f8727020bd52b68}\label{classv8_1_1internal_1_1ThreadIsolation_ad005e4948f48131f0f8727020bd52b68}} 
\index{v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}!LookupJitAllocation@{LookupJitAllocation}}
\index{LookupJitAllocation@{LookupJitAllocation}!v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}}
\doxysubsubsection{\texorpdfstring{LookupJitAllocation()}{LookupJitAllocation()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1WritableJitAllocation}{Writable\+Jit\+Allocation}} v8\+::internal\+::\+Thread\+Isolation\+::\+Lookup\+Jit\+Allocation (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}}]{addr,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{size,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_affba95694ddfc3cdf2e345f8ed110b0e}{Jit\+Allocation\+Type}}}]{type,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}}}]{enforce\+\_\+write\+\_\+api = {\ttfamily \mbox{\hyperlink{flag-definitions_8h_a3a9beadc89284d3f78a7d4945b1b4d8c}{false}}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 503 of file code-\/memory-\/access.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{504                                                                                \{}
\DoxyCodeLine{505   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a01f18b8e58212dbe4189fa29fadcd669}{WritableJitAllocation}}(}
\DoxyCodeLine{506       addr, \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}, \mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}}, \mbox{\hyperlink{classv8_1_1internal_1_1WritableJitAllocation_abd266d1fda0994c9f4bbe55d5e188d18a0c2a5cdacf8be7c37db4d51c1ef9566b}{WritableJitAllocation::JitAllocationSource::kLookup}},}
\DoxyCodeLine{507       enforce\_write\_api);}
\DoxyCodeLine{508 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Writable\+Jit\+Allocation\+::k\+Lookup, size(), v8\+::internal\+::tracing\+::type, and Writable\+Jit\+Allocation.



Referenced by v8\+::internal\+::wasm\+::\+Native\+Module\+::\+Add\+Code\+Space\+Locked(), v8\+::internal\+::wasm\+::\+Native\+Module\+::\+Add\+Code\+With\+Code\+Space(), v8\+::internal\+::\+Code\+::\+Clear\+Embedded\+Objects\+And\+JSDispatch\+Handles(), v8\+::internal\+::\+Instruction\+Stream\+::\+Finalize(), v8\+::internal\+::wasm\+::\+Jump\+Table\+Assembler\+::\+Generate\+Lazy\+Compile\+Table(), v8\+::internal\+::wasm\+::\+Jump\+Table\+Assembler\+::\+Initialize\+Jumps\+To\+Lazy\+Compile\+Table(), and v8\+::internal\+::\+Setup\+Isolate\+Delegate\+::\+Replace\+Placeholders().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=306pt]{classv8_1_1internal_1_1ThreadIsolation_ad005e4948f48131f0f8727020bd52b68_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ThreadIsolation_ad005e4948f48131f0f8727020bd52b68_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ThreadIsolation_a233a41f996a4fe6e9e76c6106ef4a2c4}\label{classv8_1_1internal_1_1ThreadIsolation_a233a41f996a4fe6e9e76c6106ef4a2c4}} 
\index{v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}!LookupJitPage@{LookupJitPage}}
\index{LookupJitPage@{LookupJitPage}!v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}}
\doxysubsubsection{\texorpdfstring{LookupJitPage()}{LookupJitPage()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_1_1JitPageReference}{Thread\+Isolation\+::\+Jit\+Page\+Reference}} v8\+::internal\+::\+Thread\+Isolation\+::\+Lookup\+Jit\+Page (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}}]{addr,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 161 of file code-\/memory-\/access.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{162                                                                               \{}
\DoxyCodeLine{163   \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{base::MutexGuard}} guard(\mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a23de1d543f14efa96737998f6181bc5e}{trusted\_data\_}}.\mbox{\hyperlink{structv8_1_1internal_1_1ThreadIsolation_1_1TrustedData_a48492f53886b7b5b85cf7dcb1ec1bbb8}{jit\_pages\_mutex\_}});}
\DoxyCodeLine{164   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a5351717c2ea7a1b1d3af1e42c67cbf4c}{LookupJitPageLocked}}(addr, \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}});}
\DoxyCodeLine{165 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Thread\+Isolation\+::\+Trusted\+Data\+::jit\+\_\+pages\+\_\+mutex\+\_\+, Lookup\+Jit\+Page\+Locked(), size(), and trusted\+\_\+data\+\_\+.



Referenced by Register\+Jit\+Allocations(), Unregister\+Jit\+Allocation\+For\+Testing(), and Unregister\+Wasm\+Allocation().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ThreadIsolation_a233a41f996a4fe6e9e76c6106ef4a2c4_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ThreadIsolation_a233a41f996a4fe6e9e76c6106ef4a2c4_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ThreadIsolation_a5351717c2ea7a1b1d3af1e42c67cbf4c}\label{classv8_1_1internal_1_1ThreadIsolation_a5351717c2ea7a1b1d3af1e42c67cbf4c}} 
\index{v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}!LookupJitPageLocked@{LookupJitPageLocked}}
\index{LookupJitPageLocked@{LookupJitPageLocked}!v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}}
\doxysubsubsection{\texorpdfstring{LookupJitPageLocked()}{LookupJitPageLocked()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_1_1JitPageReference}{Thread\+Isolation\+::\+Jit\+Page\+Reference}} v8\+::internal\+::\+Thread\+Isolation\+::\+Lookup\+Jit\+Page\+Locked (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}}]{addr,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 152 of file code-\/memory-\/access.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{153                                \{}
\DoxyCodeLine{154   \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a23de1d543f14efa96737998f6181bc5e}{trusted\_data\_}}.\mbox{\hyperlink{structv8_1_1internal_1_1ThreadIsolation_1_1TrustedData_a48492f53886b7b5b85cf7dcb1ec1bbb8}{jit\_pages\_mutex\_}}-\/>\mbox{\hyperlink{classv8_1_1base_1_1Mutex_a281097589e7088f5af211349cac0ef9d}{AssertHeld}}();}
\DoxyCodeLine{155   std::optional<JitPageReference> jit\_page = \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_adb11712024679b4900f968d2b181f3ba}{TryLookupJitPageLocked}}(addr, \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}});}
\DoxyCodeLine{156   \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(jit\_page.has\_value());}
\DoxyCodeLine{157   \textcolor{keywordflow}{return} std::move(jit\_page.value());}
\DoxyCodeLine{158 \}}

\end{DoxyCode}


References v8\+::base\+::\+Mutex\+::\+Assert\+Held(), CHECK, v8\+::internal\+::\+Thread\+Isolation\+::\+Trusted\+Data\+::jit\+\_\+pages\+\_\+mutex\+\_\+, size(), trusted\+\_\+data\+\_\+, and Try\+Lookup\+Jit\+Page\+Locked().



Referenced by Lookup\+Jit\+Page(), Split\+Jit\+Page\+Locked(), and Unregister\+Jit\+Page().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ThreadIsolation_a5351717c2ea7a1b1d3af1e42c67cbf4c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ThreadIsolation_a5351717c2ea7a1b1d3af1e42c67cbf4c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ThreadIsolation_a3dea4a5ba1f46f7a9f0f26ae04b68082}\label{classv8_1_1internal_1_1ThreadIsolation_a3dea4a5ba1f46f7a9f0f26ae04b68082}} 
\index{v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}!LookupWritableJitPage@{LookupWritableJitPage}}
\index{LookupWritableJitPage@{LookupWritableJitPage}!v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}}
\doxysubsubsection{\texorpdfstring{LookupWritableJitPage()}{LookupWritableJitPage()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1WritableJitPage}{Writable\+Jit\+Page}} v8\+::internal\+::\+Thread\+Isolation\+::\+Lookup\+Writable\+Jit\+Page (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}}]{addr,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 168 of file code-\/memory-\/access.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{169                                                                     \{}
\DoxyCodeLine{170   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a0631888469a05acf1546ffd04e10b2d3}{WritableJitPage}}(addr, \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}});}
\DoxyCodeLine{171 \}}

\end{DoxyCode}


References size(), and Writable\+Jit\+Page.



Referenced by v8\+::internal\+::\+Scavenger\+::\+Scavenge\+Page().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=306pt]{classv8_1_1internal_1_1ThreadIsolation_a3dea4a5ba1f46f7a9f0f26ae04b68082_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ThreadIsolation_a3dea4a5ba1f46f7a9f0f26ae04b68082_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ThreadIsolation_ad690ad6c8189d648d7cc8ec987d882c1}\label{classv8_1_1internal_1_1ThreadIsolation_ad690ad6c8189d648d7cc8ec987d882c1}} 
\index{v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}!MakeExecutable@{MakeExecutable}}
\index{MakeExecutable@{MakeExecutable}!v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}}
\doxysubsubsection{\texorpdfstring{MakeExecutable()}{MakeExecutable()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Thread\+Isolation\+::\+Make\+Executable (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}}]{address,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 474 of file code-\/memory-\/access.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{474                                                                  \{}
\DoxyCodeLine{475   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a42ebfac4aa3bcade2327daf0cf5efb7f}{Enabled}}());}
\DoxyCodeLine{476 }
\DoxyCodeLine{477   \textcolor{comment}{// TODO(sroettger): ensure that this can only happen at prcoess startup.}}
\DoxyCodeLine{478 }
\DoxyCodeLine{479 \textcolor{preprocessor}{\#if V8\_HAS\_PKU\_JIT\_WRITE\_PROTECT}}
\DoxyCodeLine{480   \textcolor{keywordflow}{return} base::MemoryProtectionKey::SetPermissionsAndKey(}
\DoxyCodeLine{481       \{address, \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}\}, PageAllocator::Permission::kReadWriteExecute, pkey());}
\DoxyCodeLine{482 \textcolor{preprocessor}{\#else   }\textcolor{comment}{// V8\_HAS\_PKU\_JIT\_WRITE\_PROTECT}}
\DoxyCodeLine{483   \mbox{\hyperlink{namespacev8_1_1internal_acdec713c25068019f935e35976f5b666}{UNREACHABLE}}();}
\DoxyCodeLine{484 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// V8\_HAS\_PKU\_JIT\_WRITE\_PROTECT}}
\DoxyCodeLine{485 \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), Enabled(), size(), and v8\+::internal\+::\+UNREACHABLE().



Referenced by v8\+::internal\+::\+Code\+Range\+::\+Init\+Reservation(), and v8\+::internal\+::wasm\+::\+Wasm\+Code\+Manager\+::\+Try\+Allocate().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ThreadIsolation_ad690ad6c8189d648d7cc8ec987d882c1_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ThreadIsolation_ad690ad6c8189d648d7cc8ec987d882c1_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ThreadIsolation_abca61cf418b5bae301d7572fdc494d02}\label{classv8_1_1internal_1_1ThreadIsolation_abca61cf418b5bae301d7572fdc494d02}} 
\index{v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}!RegisterInstructionStreamAllocation@{RegisterInstructionStreamAllocation}}
\index{RegisterInstructionStreamAllocation@{RegisterInstructionStreamAllocation}!v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}}
\doxysubsubsection{\texorpdfstring{RegisterInstructionStreamAllocation()}{RegisterInstructionStreamAllocation()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1WritableJitAllocation}{Writable\+Jit\+Allocation}} v8\+::internal\+::\+Thread\+Isolation\+::\+Register\+Instruction\+Stream\+Allocation (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}}]{addr,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{size,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}}}]{enforce\+\_\+write\+\_\+api = {\ttfamily \mbox{\hyperlink{flag-definitions_8h_a3a9beadc89284d3f78a7d4945b1b4d8c}{false}}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 496 of file code-\/memory-\/access.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{497                                                        \{}
\DoxyCodeLine{498   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_ae2e342788fbcd47076ccce4a1996c464}{RegisterJitAllocation}}(}
\DoxyCodeLine{499       addr, \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}, \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_affba95694ddfc3cdf2e345f8ed110b0ea3e941a35f2fce796d32e0826819c24f1}{JitAllocationType::kInstructionStream}}, enforce\_write\_api);}
\DoxyCodeLine{500 \}}

\end{DoxyCode}


References k\+Instruction\+Stream, Register\+Jit\+Allocation(), and size().



Referenced by v8\+::internal\+::\+Instruction\+Stream\+::\+Initialize(), and v8\+::internal\+::\+Evacuate\+Visitor\+Base\+::\+Raw\+Migrate\+Object().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ThreadIsolation_abca61cf418b5bae301d7572fdc494d02_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ThreadIsolation_abca61cf418b5bae301d7572fdc494d02_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ThreadIsolation_ae2e342788fbcd47076ccce4a1996c464}\label{classv8_1_1internal_1_1ThreadIsolation_ae2e342788fbcd47076ccce4a1996c464}} 
\index{v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}!RegisterJitAllocation@{RegisterJitAllocation}}
\index{RegisterJitAllocation@{RegisterJitAllocation}!v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}}
\doxysubsubsection{\texorpdfstring{RegisterJitAllocation()}{RegisterJitAllocation()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1WritableJitAllocation}{Writable\+Jit\+Allocation}} v8\+::internal\+::\+Thread\+Isolation\+::\+Register\+Jit\+Allocation (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}}]{addr,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{size,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_affba95694ddfc3cdf2e345f8ed110b0e}{Jit\+Allocation\+Type}}}]{type,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}}}]{enforce\+\_\+write\+\_\+api = {\ttfamily \mbox{\hyperlink{flag-definitions_8h_a3a9beadc89284d3f78a7d4945b1b4d8c}{false}}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 488 of file code-\/memory-\/access.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{489                                                                               \{}
\DoxyCodeLine{490   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a01f18b8e58212dbe4189fa29fadcd669}{WritableJitAllocation}}(}
\DoxyCodeLine{491       obj, \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}, \mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}}, \mbox{\hyperlink{classv8_1_1internal_1_1WritableJitAllocation_abd266d1fda0994c9f4bbe55d5e188d18a31b4285f9ab9bdef6c8ca2b268509e83}{WritableJitAllocation::JitAllocationSource::kRegister}},}
\DoxyCodeLine{492       enforce\_write\_api);}
\DoxyCodeLine{493 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Writable\+Jit\+Allocation\+::k\+Register, size(), v8\+::internal\+::tracing\+::type, and Writable\+Jit\+Allocation.



Referenced by v8\+::internal\+::wasm\+::\+Native\+Module\+::\+Add\+Code(), v8\+::internal\+::wasm\+::\+Native\+Module\+::\+Add\+Code\+For\+Testing(), v8\+::internal\+::wasm\+::\+Wasm\+Import\+Wrapper\+Cache\+::\+Modification\+Scope\+::\+Add\+Wrapper(), v8\+::internal\+::wasm\+::\+Native\+Module\+Deserializer\+::\+Copy\+And\+Relocate(), v8\+::internal\+::wasm\+::\+Native\+Module\+::\+Create\+Empty\+Jump\+Table\+In\+Region\+Locked(), Register\+Instruction\+Stream\+Allocation(), and Register\+Jit\+Allocation\+For\+Testing().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=306pt]{classv8_1_1internal_1_1ThreadIsolation_ae2e342788fbcd47076ccce4a1996c464_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ThreadIsolation_ae2e342788fbcd47076ccce4a1996c464_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ThreadIsolation_af7cfe19bbc145c8500559fe955269ebc}\label{classv8_1_1internal_1_1ThreadIsolation_af7cfe19bbc145c8500559fe955269ebc}} 
\index{v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}!RegisterJitAllocationForTesting@{RegisterJitAllocationForTesting}}
\index{RegisterJitAllocationForTesting@{RegisterJitAllocationForTesting}!v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}}
\doxysubsubsection{\texorpdfstring{RegisterJitAllocationForTesting()}{RegisterJitAllocationForTesting()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Thread\+Isolation\+::\+Register\+Jit\+Allocation\+For\+Testing (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}}]{obj,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 532 of file code-\/memory-\/access.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{533                                                                    \{}
\DoxyCodeLine{534   \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_ae2e342788fbcd47076ccce4a1996c464}{RegisterJitAllocation}}(obj, \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}, \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_affba95694ddfc3cdf2e345f8ed110b0ea3e941a35f2fce796d32e0826819c24f1}{JitAllocationType::kInstructionStream}});}
\DoxyCodeLine{535 \}}

\end{DoxyCode}


References k\+Instruction\+Stream, Register\+Jit\+Allocation(), and size().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ThreadIsolation_af7cfe19bbc145c8500559fe955269ebc_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ThreadIsolation_a647c86b788456e7ec80f0bc1d365561a}\label{classv8_1_1internal_1_1ThreadIsolation_a647c86b788456e7ec80f0bc1d365561a}} 
\index{v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}!RegisterJitAllocations@{RegisterJitAllocations}}
\index{RegisterJitAllocations@{RegisterJitAllocations}!v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}}
\doxysubsubsection{\texorpdfstring{RegisterJitAllocations()}{RegisterJitAllocations()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Thread\+Isolation\+::\+Register\+Jit\+Allocations (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}}]{start,  }\item[{const std\+::vector$<$ \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} $>$ \&}]{sizes,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_affba95694ddfc3cdf2e345f8ed110b0e}{Jit\+Allocation\+Type}}}]{type }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 511 of file code-\/memory-\/access.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{513                                                                      \{}
\DoxyCodeLine{514   \mbox{\hyperlink{namespacev8_1_1internal_ae25b6f0e106fb2dffecbfa47926f0225}{CFIMetadataWriteScope}} write\_scope(\textcolor{stringliteral}{"{}Register bulk allocations."{}});}
\DoxyCodeLine{515 }
\DoxyCodeLine{516   \textcolor{keywordtype}{size\_t} total\_size = 0;}
\DoxyCodeLine{517   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}} : sizes) \{}
\DoxyCodeLine{518     total\_size += \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}};}
\DoxyCodeLine{519   \}}
\DoxyCodeLine{520 }
\DoxyCodeLine{521   constexpr \textcolor{keywordtype}{size\_t} kSplitThreshold = 0x40000;}
\DoxyCodeLine{522   JitPageReference page\_ref = total\_size >= kSplitThreshold}
\DoxyCodeLine{523                                   ? \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a522463c87284740d3883ffa8617be5c6}{SplitJitPage}}(start, total\_size)}
\DoxyCodeLine{524                                   : \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a233a41f996a4fe6e9e76c6106ef4a2c4}{LookupJitPage}}(start, total\_size);}
\DoxyCodeLine{525 }
\DoxyCodeLine{526   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}} : sizes) \{}
\DoxyCodeLine{527     page\_ref.\mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_1_1JitPageReference_a01c7ce87c561baef5a70e7611109292c}{RegisterAllocation}}(start, \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}, \mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}});}
\DoxyCodeLine{528     start += \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}};}
\DoxyCodeLine{529   \}}
\DoxyCodeLine{530 \}}

\end{DoxyCode}


References Lookup\+Jit\+Page(), v8\+::internal\+::\+Thread\+Isolation\+::\+Jit\+Page\+Reference\+::\+Register\+Allocation(), size(), Split\+Jit\+Page(), and v8\+::internal\+::tracing\+::type.



Referenced by v8\+::internal\+::wasm\+::\+Native\+Module\+::\+Add\+Compiled\+Code().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ThreadIsolation_a647c86b788456e7ec80f0bc1d365561a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ThreadIsolation_a647c86b788456e7ec80f0bc1d365561a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ThreadIsolation_a9fff9d0a2fb22b0853a69400bea0f618}\label{classv8_1_1internal_1_1ThreadIsolation_a9fff9d0a2fb22b0853a69400bea0f618}} 
\index{v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}!RegisterJitPage@{RegisterJitPage}}
\index{RegisterJitPage@{RegisterJitPage}!v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}}
\doxysubsubsection{\texorpdfstring{RegisterJitPage()}{RegisterJitPage()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Thread\+Isolation\+::\+Register\+Jit\+Page (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}}]{address,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 420 of file code-\/memory-\/access.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{420                                                                   \{}
\DoxyCodeLine{421   \mbox{\hyperlink{namespacev8_1_1internal_ae25b6f0e106fb2dffecbfa47926f0225}{CFIMetadataWriteScope}} write\_scope(\textcolor{stringliteral}{"{}Adding new executable memory."{}});}
\DoxyCodeLine{422 }
\DoxyCodeLine{423   \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{base::MutexGuard}} guard(\mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a23de1d543f14efa96737998f6181bc5e}{trusted\_data\_}}.\mbox{\hyperlink{structv8_1_1internal_1_1ThreadIsolation_1_1TrustedData_a48492f53886b7b5b85cf7dcb1ec1bbb8}{jit\_pages\_mutex\_}});}
\DoxyCodeLine{424   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02code-memory-access_8cc_03_a2556a3643293fd17fb9cdb3b503531bf}{CheckForRegionOverlap}}(*\mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a23de1d543f14efa96737998f6181bc5e}{trusted\_data\_}}.\mbox{\hyperlink{structv8_1_1internal_1_1ThreadIsolation_1_1TrustedData_a4473432f203589839088f8598861ca0a}{jit\_pages\_}}, address, \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}});}
\DoxyCodeLine{425   JitPage* jit\_page;}
\DoxyCodeLine{426   \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_aa0757e31aadaa9fb07c1c836fe58aa23}{ConstructNew}}(\&jit\_page, \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}});}
\DoxyCodeLine{427   \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a23de1d543f14efa96737998f6181bc5e}{trusted\_data\_}}.\mbox{\hyperlink{structv8_1_1internal_1_1ThreadIsolation_1_1TrustedData_a4473432f203589839088f8598861ca0a}{jit\_pages\_}}-\/>emplace(address, jit\_page);}
\DoxyCodeLine{428 \}}

\end{DoxyCode}


References v8\+::internal\+::anonymous\+\_\+namespace\{code-\/memory-\/access.\+cc\}\+::\+Check\+For\+Region\+Overlap(), Construct\+New(), v8\+::internal\+::\+Thread\+Isolation\+::\+Trusted\+Data\+::jit\+\_\+pages\+\_\+, v8\+::internal\+::\+Thread\+Isolation\+::\+Trusted\+Data\+::jit\+\_\+pages\+\_\+mutex\+\_\+, size(), and trusted\+\_\+data\+\_\+.



Referenced by v8\+::internal\+::\+Memory\+Allocator\+::\+Allocate\+Aligned\+Memory(), and v8\+::internal\+::wasm\+::\+Wasm\+Code\+Manager\+::\+Try\+Allocate().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ThreadIsolation_a9fff9d0a2fb22b0853a69400bea0f618_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ThreadIsolation_a9fff9d0a2fb22b0853a69400bea0f618_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ThreadIsolation_a522463c87284740d3883ffa8617be5c6}\label{classv8_1_1internal_1_1ThreadIsolation_a522463c87284740d3883ffa8617be5c6}} 
\index{v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}!SplitJitPage@{SplitJitPage}}
\index{SplitJitPage@{SplitJitPage}!v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}}
\doxysubsubsection{\texorpdfstring{SplitJitPage()}{SplitJitPage()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_1_1JitPageReference}{Thread\+Isolation\+::\+Jit\+Page\+Reference}} v8\+::internal\+::\+Thread\+Isolation\+::\+Split\+Jit\+Page (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}}]{addr,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 549 of file code-\/memory-\/access.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{550                                                                              \{}
\DoxyCodeLine{551   \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{base::MutexGuard}} guard(\mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a23de1d543f14efa96737998f6181bc5e}{trusted\_data\_}}.\mbox{\hyperlink{structv8_1_1internal_1_1ThreadIsolation_1_1TrustedData_a48492f53886b7b5b85cf7dcb1ec1bbb8}{jit\_pages\_mutex\_}});}
\DoxyCodeLine{552   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a804b9786b6400417d76f815b956d91db}{SplitJitPageLocked}}(addr, \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}});}
\DoxyCodeLine{553 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Thread\+Isolation\+::\+Trusted\+Data\+::jit\+\_\+pages\+\_\+mutex\+\_\+, size(), Split\+Jit\+Page\+Locked(), and trusted\+\_\+data\+\_\+.



Referenced by Register\+Jit\+Allocations().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ThreadIsolation_a522463c87284740d3883ffa8617be5c6_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ThreadIsolation_a522463c87284740d3883ffa8617be5c6_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ThreadIsolation_a804b9786b6400417d76f815b956d91db}\label{classv8_1_1internal_1_1ThreadIsolation_a804b9786b6400417d76f815b956d91db}} 
\index{v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}!SplitJitPageLocked@{SplitJitPageLocked}}
\index{SplitJitPageLocked@{SplitJitPageLocked}!v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}}
\doxysubsubsection{\texorpdfstring{SplitJitPageLocked()}{SplitJitPageLocked()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_1_1JitPageReference}{Thread\+Isolation\+::\+Jit\+Page\+Reference}} v8\+::internal\+::\+Thread\+Isolation\+::\+Split\+Jit\+Page\+Locked (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}}]{addr,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 555 of file code-\/memory-\/access.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{556                                \{}
\DoxyCodeLine{557   \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a23de1d543f14efa96737998f6181bc5e}{trusted\_data\_}}.\mbox{\hyperlink{structv8_1_1internal_1_1ThreadIsolation_1_1TrustedData_a48492f53886b7b5b85cf7dcb1ec1bbb8}{jit\_pages\_mutex\_}}-\/>\mbox{\hyperlink{classv8_1_1base_1_1Mutex_a281097589e7088f5af211349cac0ef9d}{AssertHeld}}();}
\DoxyCodeLine{558 }
\DoxyCodeLine{559   JitPageReference jit\_page = \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a5351717c2ea7a1b1d3af1e42c67cbf4c}{LookupJitPageLocked}}(addr, \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}});}
\DoxyCodeLine{560 }
\DoxyCodeLine{561   \textcolor{comment}{// Split the JitPage into upto three pages.}}
\DoxyCodeLine{562   \textcolor{keywordtype}{size\_t} head\_size = addr -\/ jit\_page.Address();}
\DoxyCodeLine{563   \textcolor{keywordtype}{size\_t} tail\_size = jit\_page.Size() -\/ \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}} -\/ head\_size;}
\DoxyCodeLine{564   \textcolor{keywordflow}{if} (tail\_size > 0) \{}
\DoxyCodeLine{565     JitPage* tail;}
\DoxyCodeLine{566     \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_aa0757e31aadaa9fb07c1c836fe58aa23}{ConstructNew}}(\&tail, tail\_size);}
\DoxyCodeLine{567     jit\_page.Shrink(tail);}
\DoxyCodeLine{568     \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a23de1d543f14efa96737998f6181bc5e}{trusted\_data\_}}.\mbox{\hyperlink{structv8_1_1internal_1_1ThreadIsolation_1_1TrustedData_a4473432f203589839088f8598861ca0a}{jit\_pages\_}}-\/>emplace(addr + \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}, tail);}
\DoxyCodeLine{569   \}}
\DoxyCodeLine{570   \textcolor{keywordflow}{if} (head\_size > 0) \{}
\DoxyCodeLine{571     JitPage* mid;}
\DoxyCodeLine{572     \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_aa0757e31aadaa9fb07c1c836fe58aa23}{ConstructNew}}(\&mid, \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}});}
\DoxyCodeLine{573     jit\_page.Shrink(mid);}
\DoxyCodeLine{574     \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a23de1d543f14efa96737998f6181bc5e}{trusted\_data\_}}.\mbox{\hyperlink{structv8_1_1internal_1_1ThreadIsolation_1_1TrustedData_a4473432f203589839088f8598861ca0a}{jit\_pages\_}}-\/>emplace(addr, mid);}
\DoxyCodeLine{575     \textcolor{keywordflow}{return} JitPageReference(mid, addr);}
\DoxyCodeLine{576   \}}
\DoxyCodeLine{577 }
\DoxyCodeLine{578   \textcolor{keywordflow}{return} jit\_page;}
\DoxyCodeLine{579 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Thread\+Isolation\+::\+Jit\+Page\+Reference\+::\+Address(), v8\+::base\+::\+Mutex\+::\+Assert\+Held(), Construct\+New(), v8\+::internal\+::\+Thread\+Isolation\+::\+Trusted\+Data\+::jit\+\_\+pages\+\_\+, v8\+::internal\+::\+Thread\+Isolation\+::\+Trusted\+Data\+::jit\+\_\+pages\+\_\+mutex\+\_\+, Lookup\+Jit\+Page\+Locked(), v8\+::internal\+::\+Thread\+Isolation\+::\+Jit\+Page\+Reference\+::\+Shrink(), v8\+::internal\+::\+Thread\+Isolation\+::\+Jit\+Page\+Reference\+::\+Size(), size(), and trusted\+\_\+data\+\_\+.



Referenced by Split\+Jit\+Page(), and Split\+Jit\+Pages().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ThreadIsolation_a804b9786b6400417d76f815b956d91db_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ThreadIsolation_a804b9786b6400417d76f815b956d91db_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ThreadIsolation_a5a9b78a97d1621139d29ef2a1efd5a62}\label{classv8_1_1internal_1_1ThreadIsolation_a5a9b78a97d1621139d29ef2a1efd5a62}} 
\index{v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}!SplitJitPages@{SplitJitPages}}
\index{SplitJitPages@{SplitJitPages}!v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}}
\doxysubsubsection{\texorpdfstring{SplitJitPages()}{SplitJitPages()}}
{\footnotesize\ttfamily std\+::pair$<$ \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_1_1JitPageReference}{Thread\+Isolation\+::\+Jit\+Page\+Reference}}, \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_1_1JitPageReference}{Thread\+Isolation\+::\+Jit\+Page\+Reference}} $>$ v8\+::internal\+::\+Thread\+Isolation\+::\+Split\+Jit\+Pages (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}}]{addr1,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{size1,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}}]{addr2,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{size2 }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 582 of file code-\/memory-\/access.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{583                                              \{}
\DoxyCodeLine{584   \textcolor{keywordflow}{if} (addr1 > addr2) \{}
\DoxyCodeLine{585     \textcolor{keyword}{auto} reversed\_pair = \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a5a9b78a97d1621139d29ef2a1efd5a62}{SplitJitPages}}(addr2, size2, addr1, size1);}
\DoxyCodeLine{586     \textcolor{keywordflow}{return} \{std::move(reversed\_pair.second), std::move(reversed\_pair.first)\};}
\DoxyCodeLine{587   \}}
\DoxyCodeLine{588   \textcolor{comment}{// Make sure there's no overlap. SplitJitPageLocked will do additional checks}}
\DoxyCodeLine{589   \textcolor{comment}{// that the sizes don't overflow.}}
\DoxyCodeLine{590   \mbox{\hyperlink{src_2base_2logging_8h_a56e883b55c80205b4d1727679c68b2bd}{CHECK\_LE}}(addr1 + size1, addr2);}
\DoxyCodeLine{591 }
\DoxyCodeLine{592   \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{base::MutexGuard}} guard(\mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a23de1d543f14efa96737998f6181bc5e}{trusted\_data\_}}.\mbox{\hyperlink{structv8_1_1internal_1_1ThreadIsolation_1_1TrustedData_a48492f53886b7b5b85cf7dcb1ec1bbb8}{jit\_pages\_mutex\_}});}
\DoxyCodeLine{593   \textcolor{keywordflow}{return} \{\mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a804b9786b6400417d76f815b956d91db}{SplitJitPageLocked}}(addr1, size1), \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a804b9786b6400417d76f815b956d91db}{SplitJitPageLocked}}(addr2, size2)\};}
\DoxyCodeLine{594 \}}

\end{DoxyCode}


References CHECK\+\_\+\+LE, v8\+::internal\+::\+Thread\+Isolation\+::\+Trusted\+Data\+::jit\+\_\+pages\+\_\+mutex\+\_\+, Split\+Jit\+Page\+Locked(), and trusted\+\_\+data\+\_\+.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ThreadIsolation_a5a9b78a97d1621139d29ef2a1efd5a62_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ThreadIsolation_aff6b11b3036159f7f606cd106633dc79}\label{classv8_1_1internal_1_1ThreadIsolation_aff6b11b3036159f7f606cd106633dc79}} 
\index{v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}!StartOfJitAllocationAt@{StartOfJitAllocationAt}}
\index{StartOfJitAllocationAt@{StartOfJitAllocationAt}!v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}}
\doxysubsubsection{\texorpdfstring{StartOfJitAllocationAt()}{StartOfJitAllocationAt()}}
{\footnotesize\ttfamily std\+::optional$<$ \mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} $>$ v8\+::internal\+::\+Thread\+Isolation\+::\+Start\+Of\+Jit\+Allocation\+At (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}}]{inner\+\_\+pointer }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 597 of file code-\/memory-\/access.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{598                            \{}
\DoxyCodeLine{599   \mbox{\hyperlink{namespacev8_1_1internal_ae25b6f0e106fb2dffecbfa47926f0225}{CFIMetadataWriteScope}} write\_scope(\textcolor{stringliteral}{"{}StartOfJitAllocationAt"{}});}
\DoxyCodeLine{600   std::optional<JitPageReference> page = \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a1a6b847fbed8ea03d831acda9ace41ff}{TryLookupJitPage}}(inner\_pointer, 1);}
\DoxyCodeLine{601   \textcolor{keywordflow}{if} (!page) \{}
\DoxyCodeLine{602     \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{603   \}}
\DoxyCodeLine{604   \textcolor{keywordflow}{return} page-\/>StartOfAllocationAt(inner\_pointer);}
\DoxyCodeLine{605 \}}

\end{DoxyCode}


References Try\+Lookup\+Jit\+Page().



Referenced by v8\+::internal\+::\+Heap\+::\+Gc\+Safe\+Try\+Find\+Instruction\+Stream\+For\+Inner\+Pointer().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ThreadIsolation_aff6b11b3036159f7f606cd106633dc79_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ThreadIsolation_aff6b11b3036159f7f606cd106633dc79_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ThreadIsolation_a1a6b847fbed8ea03d831acda9ace41ff}\label{classv8_1_1internal_1_1ThreadIsolation_a1a6b847fbed8ea03d831acda9ace41ff}} 
\index{v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}!TryLookupJitPage@{TryLookupJitPage}}
\index{TryLookupJitPage@{TryLookupJitPage}!v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}}
\doxysubsubsection{\texorpdfstring{TryLookupJitPage()}{TryLookupJitPage()}}
{\footnotesize\ttfamily std\+::optional$<$ \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_1_1JitPageReference}{Thread\+Isolation\+::\+Jit\+Page\+Reference}} $>$ v8\+::internal\+::\+Thread\+Isolation\+::\+Try\+Lookup\+Jit\+Page (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}}]{addr,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 175 of file code-\/memory-\/access.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{175                                                            \{}
\DoxyCodeLine{176   \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{base::MutexGuard}} guard(\mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a23de1d543f14efa96737998f6181bc5e}{trusted\_data\_}}.\mbox{\hyperlink{structv8_1_1internal_1_1ThreadIsolation_1_1TrustedData_a48492f53886b7b5b85cf7dcb1ec1bbb8}{jit\_pages\_mutex\_}});}
\DoxyCodeLine{177   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_adb11712024679b4900f968d2b181f3ba}{TryLookupJitPageLocked}}(addr, \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}});}
\DoxyCodeLine{178 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Thread\+Isolation\+::\+Trusted\+Data\+::jit\+\_\+pages\+\_\+mutex\+\_\+, size(), trusted\+\_\+data\+\_\+, and Try\+Lookup\+Jit\+Page\+Locked().



Referenced by Start\+Of\+Jit\+Allocation\+At().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ThreadIsolation_a1a6b847fbed8ea03d831acda9ace41ff_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ThreadIsolation_a1a6b847fbed8ea03d831acda9ace41ff_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ThreadIsolation_adb11712024679b4900f968d2b181f3ba}\label{classv8_1_1internal_1_1ThreadIsolation_adb11712024679b4900f968d2b181f3ba}} 
\index{v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}!TryLookupJitPageLocked@{TryLookupJitPageLocked}}
\index{TryLookupJitPageLocked@{TryLookupJitPageLocked}!v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}}
\doxysubsubsection{\texorpdfstring{TryLookupJitPageLocked()}{TryLookupJitPageLocked()}}
{\footnotesize\ttfamily std\+::optional$<$ \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_1_1JitPageReference}{Thread\+Isolation\+::\+Jit\+Page\+Reference}} $>$ v8\+::internal\+::\+Thread\+Isolation\+::\+Try\+Lookup\+Jit\+Page\+Locked (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}}]{addr,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 182 of file code-\/memory-\/access.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{182                                                                  \{}
\DoxyCodeLine{183   \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a23de1d543f14efa96737998f6181bc5e}{trusted\_data\_}}.\mbox{\hyperlink{structv8_1_1internal_1_1ThreadIsolation_1_1TrustedData_a48492f53886b7b5b85cf7dcb1ec1bbb8}{jit\_pages\_mutex\_}}-\/>\mbox{\hyperlink{classv8_1_1base_1_1Mutex_a281097589e7088f5af211349cac0ef9d}{AssertHeld}}();}
\DoxyCodeLine{184 }
\DoxyCodeLine{185   \mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}} = addr + \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}};}
\DoxyCodeLine{186   \mbox{\hyperlink{src_2base_2logging_8h_a43d2df1fb528ff7bee1e873e377e0323}{CHECK\_GT}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}}, addr);}
\DoxyCodeLine{187 }
\DoxyCodeLine{188   \textcolor{comment}{// upper\_bound gives us an iterator to the position after address.}}
\DoxyCodeLine{189   \textcolor{keyword}{auto} it = \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a23de1d543f14efa96737998f6181bc5e}{trusted\_data\_}}.\mbox{\hyperlink{structv8_1_1internal_1_1ThreadIsolation_1_1TrustedData_a4473432f203589839088f8598861ca0a}{jit\_pages\_}}-\/>upper\_bound(addr);}
\DoxyCodeLine{190 }
\DoxyCodeLine{191   \textcolor{comment}{// The previous page should be the one we're looking for.}}
\DoxyCodeLine{192   \textcolor{keywordflow}{if} (it == \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a23de1d543f14efa96737998f6181bc5e}{trusted\_data\_}}.\mbox{\hyperlink{structv8_1_1internal_1_1ThreadIsolation_1_1TrustedData_a4473432f203589839088f8598861ca0a}{jit\_pages\_}}-\/>begin()) \{}
\DoxyCodeLine{193     \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{194   \}}
\DoxyCodeLine{195 }
\DoxyCodeLine{196   it-\/-\/;}
\DoxyCodeLine{197 }
\DoxyCodeLine{198   JitPageReference jit\_page(it-\/>second, it-\/>first);}
\DoxyCodeLine{199 }
\DoxyCodeLine{200   \textcolor{comment}{// If the address is not in the range of the jit page, return.}}
\DoxyCodeLine{201   \textcolor{keywordflow}{if} (jit\_page.End() <= addr) \{}
\DoxyCodeLine{202     \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{203   \}}
\DoxyCodeLine{204 }
\DoxyCodeLine{205   \textcolor{keywordflow}{if} (jit\_page.End() >= \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}}) \{}
\DoxyCodeLine{206     \textcolor{keywordflow}{return} jit\_page;}
\DoxyCodeLine{207   \}}
\DoxyCodeLine{208 }
\DoxyCodeLine{209   \textcolor{comment}{// It's possible that the allocation spans multiple pages, merge them.}}
\DoxyCodeLine{210   \textcolor{keyword}{auto} to\_delete\_start = ++it;}
\DoxyCodeLine{211   \textcolor{keywordflow}{for} (; jit\_page.End() < \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}} \&\& it != \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a23de1d543f14efa96737998f6181bc5e}{trusted\_data\_}}.\mbox{\hyperlink{structv8_1_1internal_1_1ThreadIsolation_1_1TrustedData_a4473432f203589839088f8598861ca0a}{jit\_pages\_}}-\/>end(); it++) \{}
\DoxyCodeLine{212     \{}
\DoxyCodeLine{213       JitPageReference next\_page(it-\/>second, it-\/>first);}
\DoxyCodeLine{214       \mbox{\hyperlink{src_2base_2logging_8h_aca32614b4d2aea7dd9abdeb222bf02f3}{CHECK\_EQ}}(next\_page.Address(), jit\_page.End());}
\DoxyCodeLine{215       jit\_page.Merge(next\_page);}
\DoxyCodeLine{216     \}}
\DoxyCodeLine{217     \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a75a436f021f3bb6edcfe36ca918a48d7}{Delete}}(it-\/>second);}
\DoxyCodeLine{218   \}}
\DoxyCodeLine{219 }
\DoxyCodeLine{220   \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a23de1d543f14efa96737998f6181bc5e}{trusted\_data\_}}.\mbox{\hyperlink{structv8_1_1internal_1_1ThreadIsolation_1_1TrustedData_a4473432f203589839088f8598861ca0a}{jit\_pages\_}}-\/>erase(to\_delete\_start, it);}
\DoxyCodeLine{221 }
\DoxyCodeLine{222   \textcolor{keywordflow}{if} (jit\_page.End() < \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}}) \{}
\DoxyCodeLine{223     \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{224   \}}
\DoxyCodeLine{225 }
\DoxyCodeLine{226   \textcolor{keywordflow}{return} jit\_page;}
\DoxyCodeLine{227 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Thread\+Isolation\+::\+Jit\+Page\+Reference\+::\+Address(), v8\+::base\+::\+Mutex\+::\+Assert\+Held(), CHECK\+\_\+\+EQ, CHECK\+\_\+\+GT, Delete(), v8\+::internal\+::\+Thread\+Isolation\+::\+Jit\+Page\+Reference\+::\+End(), v8\+::internal\+::compiler\+::end(), v8\+::internal\+::\+Thread\+Isolation\+::\+Trusted\+Data\+::jit\+\_\+pages\+\_\+, v8\+::internal\+::\+Thread\+Isolation\+::\+Trusted\+Data\+::jit\+\_\+pages\+\_\+mutex\+\_\+, v8\+::internal\+::\+Thread\+Isolation\+::\+Jit\+Page\+Reference\+::\+Merge(), size(), and trusted\+\_\+data\+\_\+.



Referenced by Lookup\+Jit\+Page\+Locked(), and Try\+Lookup\+Jit\+Page().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ThreadIsolation_adb11712024679b4900f968d2b181f3ba_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ThreadIsolation_adb11712024679b4900f968d2b181f3ba_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ThreadIsolation_aa4e848538c981333fe2b1d57cf6401e7}\label{classv8_1_1internal_1_1ThreadIsolation_aa4e848538c981333fe2b1d57cf6401e7}} 
\index{v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}!UnregisterJitAllocationForTesting@{UnregisterJitAllocationForTesting}}
\index{UnregisterJitAllocationForTesting@{UnregisterJitAllocationForTesting}!v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}}
\doxysubsubsection{\texorpdfstring{UnregisterJitAllocationForTesting()}{UnregisterJitAllocationForTesting()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Thread\+Isolation\+::\+Unregister\+Jit\+Allocation\+For\+Testing (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}}]{addr,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 538 of file code-\/memory-\/access.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{539                                                                      \{}
\DoxyCodeLine{540   \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a233a41f996a4fe6e9e76c6106ef4a2c4}{LookupJitPage}}(addr, \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}).\mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_1_1JitPageReference_a64a7f94f65914367ef065f6c4cbbc78a}{UnregisterAllocation}}(addr);}
\DoxyCodeLine{541 \}}

\end{DoxyCode}


References Lookup\+Jit\+Page(), size(), and v8\+::internal\+::\+Thread\+Isolation\+::\+Jit\+Page\+Reference\+::\+Unregister\+Allocation().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ThreadIsolation_aa4e848538c981333fe2b1d57cf6401e7_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ThreadIsolation_a6a523c13e4e0f1cd5dc4a57a754a616a}\label{classv8_1_1internal_1_1ThreadIsolation_a6a523c13e4e0f1cd5dc4a57a754a616a}} 
\index{v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}!UnregisterJitPage@{UnregisterJitPage}}
\index{UnregisterJitPage@{UnregisterJitPage}!v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}}
\doxysubsubsection{\texorpdfstring{UnregisterJitPage()}{UnregisterJitPage()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Thread\+Isolation\+::\+Unregister\+Jit\+Page (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}}]{address,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 430 of file code-\/memory-\/access.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{430                                                                     \{}
\DoxyCodeLine{431   \textcolor{comment}{// TODO(sroettger): merge the write scopes higher up.}}
\DoxyCodeLine{432   \mbox{\hyperlink{namespacev8_1_1internal_ae25b6f0e106fb2dffecbfa47926f0225}{CFIMetadataWriteScope}} write\_scope(\textcolor{stringliteral}{"{}Removing executable memory."{}});}
\DoxyCodeLine{433 }
\DoxyCodeLine{434   JitPage* to\_delete;}
\DoxyCodeLine{435   \{}
\DoxyCodeLine{436     \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{base::MutexGuard}} guard(\mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a23de1d543f14efa96737998f6181bc5e}{trusted\_data\_}}.\mbox{\hyperlink{structv8_1_1internal_1_1ThreadIsolation_1_1TrustedData_a48492f53886b7b5b85cf7dcb1ec1bbb8}{jit\_pages\_mutex\_}});}
\DoxyCodeLine{437     JitPageReference jit\_page = \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a5351717c2ea7a1b1d3af1e42c67cbf4c}{LookupJitPageLocked}}(address, \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}});}
\DoxyCodeLine{438 }
\DoxyCodeLine{439     \textcolor{comment}{// We're merging jit pages together, so potentially split them back up}}
\DoxyCodeLine{440     \textcolor{comment}{// if we're only freeing a subrange.}}
\DoxyCodeLine{441 }
\DoxyCodeLine{442     \mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} to\_free\_end = address + \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}};}
\DoxyCodeLine{443     \mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} jit\_page\_end = jit\_page.Address() + jit\_page.Size();}
\DoxyCodeLine{444 }
\DoxyCodeLine{445     \textcolor{keywordflow}{if} (to\_free\_end < jit\_page\_end) \{}
\DoxyCodeLine{446       \textcolor{comment}{// There's a tail after the page that we release. Shrink the page and}}
\DoxyCodeLine{447       \textcolor{comment}{// add the tail to the map.}}
\DoxyCodeLine{448       \textcolor{keywordtype}{size\_t} tail\_size = jit\_page\_end -\/ to\_free\_end;}
\DoxyCodeLine{449       JitPage* tail;}
\DoxyCodeLine{450       \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_aa0757e31aadaa9fb07c1c836fe58aa23}{ConstructNew}}(\&tail, tail\_size);}
\DoxyCodeLine{451       jit\_page.Shrink(tail);}
\DoxyCodeLine{452       \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a23de1d543f14efa96737998f6181bc5e}{trusted\_data\_}}.\mbox{\hyperlink{structv8_1_1internal_1_1ThreadIsolation_1_1TrustedData_a4473432f203589839088f8598861ca0a}{jit\_pages\_}}-\/>emplace(to\_free\_end, tail);}
\DoxyCodeLine{453     \}}
\DoxyCodeLine{454 }
\DoxyCodeLine{455     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(to\_free\_end, jit\_page.Address() + jit\_page.Size());}
\DoxyCodeLine{456 }
\DoxyCodeLine{457     \textcolor{keywordflow}{if} (address == jit\_page.Address()) \{}
\DoxyCodeLine{458       \textcolor{comment}{// We remove the start of the region, just remove it from the map.}}
\DoxyCodeLine{459       to\_delete = jit\_page.JitPage();}
\DoxyCodeLine{460       \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a23de1d543f14efa96737998f6181bc5e}{trusted\_data\_}}.\mbox{\hyperlink{structv8_1_1internal_1_1ThreadIsolation_1_1TrustedData_a4473432f203589839088f8598861ca0a}{jit\_pages\_}}-\/>erase(address);}
\DoxyCodeLine{461     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{462       \textcolor{comment}{// Otherwise, we need to shrink the region.}}
\DoxyCodeLine{463       \mbox{\hyperlink{src_2base_2logging_8h_afd957f297df7e9ee36c46185e961485f}{DCHECK\_GT}}(address, jit\_page.Address());}
\DoxyCodeLine{464       JitPage* tail;}
\DoxyCodeLine{465       \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_aa0757e31aadaa9fb07c1c836fe58aa23}{ConstructNew}}(\&tail, \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}});}
\DoxyCodeLine{466       jit\_page.Shrink(tail);}
\DoxyCodeLine{467       to\_delete = tail;}
\DoxyCodeLine{468     \}}
\DoxyCodeLine{469   \}}
\DoxyCodeLine{470   \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a75a436f021f3bb6edcfe36ca918a48d7}{Delete}}(to\_delete);}
\DoxyCodeLine{471 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Thread\+Isolation\+::\+Jit\+Page\+Reference\+::\+Address(), Construct\+New(), DCHECK\+\_\+\+EQ, DCHECK\+\_\+\+GT, Delete(), v8\+::internal\+::\+Thread\+Isolation\+::\+Trusted\+Data\+::jit\+\_\+pages\+\_\+, v8\+::internal\+::\+Thread\+Isolation\+::\+Trusted\+Data\+::jit\+\_\+pages\+\_\+mutex\+\_\+, v8\+::internal\+::\+Thread\+Isolation\+::\+Jit\+Page\+Reference\+::\+Jit\+Page(), Lookup\+Jit\+Page\+Locked(), v8\+::internal\+::\+Thread\+Isolation\+::\+Jit\+Page\+Reference\+::\+Shrink(), v8\+::internal\+::\+Thread\+Isolation\+::\+Jit\+Page\+Reference\+::\+Size(), size(), and trusted\+\_\+data\+\_\+.



Referenced by v8\+::internal\+::wasm\+::\+Wasm\+Code\+Manager\+::\+Free\+Native\+Module(), and v8\+::internal\+::\+Memory\+Allocator\+::\+Unregister\+Memory\+Chunk().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ThreadIsolation_a6a523c13e4e0f1cd5dc4a57a754a616a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ThreadIsolation_a6a523c13e4e0f1cd5dc4a57a754a616a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ThreadIsolation_ae13414c0ae7d8ac16347aa93bf7b5771}\label{classv8_1_1internal_1_1ThreadIsolation_ae13414c0ae7d8ac16347aa93bf7b5771}} 
\index{v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}!UnregisterWasmAllocation@{UnregisterWasmAllocation}}
\index{UnregisterWasmAllocation@{UnregisterWasmAllocation}!v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}}
\doxysubsubsection{\texorpdfstring{UnregisterWasmAllocation()}{UnregisterWasmAllocation()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Thread\+Isolation\+::\+Unregister\+Wasm\+Allocation (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}}]{addr,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 544 of file code-\/memory-\/access.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{544                                                                         \{}
\DoxyCodeLine{545   \mbox{\hyperlink{namespacev8_1_1internal_ae25b6f0e106fb2dffecbfa47926f0225}{CFIMetadataWriteScope}} write\_scope(\textcolor{stringliteral}{"{}UnregisterWasmAllocation"{}});}
\DoxyCodeLine{546   \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a233a41f996a4fe6e9e76c6106ef4a2c4}{LookupJitPage}}(addr, \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}).\mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_1_1JitPageReference_a64a7f94f65914367ef065f6c4cbbc78a}{UnregisterAllocation}}(addr);}
\DoxyCodeLine{547 \}}

\end{DoxyCode}


References Lookup\+Jit\+Page(), size(), and v8\+::internal\+::\+Thread\+Isolation\+::\+Jit\+Page\+Reference\+::\+Unregister\+Allocation().



Referenced by v8\+::internal\+::wasm\+::\+Wasm\+Code\+Allocator\+::\+Free\+Code().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ThreadIsolation_ae13414c0ae7d8ac16347aa93bf7b5771_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ThreadIsolation_ae13414c0ae7d8ac16347aa93bf7b5771_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ThreadIsolation_a1d9e4c7b02f557093bf373b0a4e93fc4}\label{classv8_1_1internal_1_1ThreadIsolation_a1d9e4c7b02f557093bf373b0a4e93fc4}} 
\index{v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}!WriteProtectMemory@{WriteProtectMemory}}
\index{WriteProtectMemory@{WriteProtectMemory}!v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}}
\doxysubsubsection{\texorpdfstring{WriteProtectMemory()}{WriteProtectMemory()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Thread\+Isolation\+::\+Write\+Protect\+Memory (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}}]{addr,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{size,  }\item[{\mbox{\hyperlink{classv8_1_1PageAllocator_a88f74b164fe97e053259f67a95758415}{Page\+Allocator\+::\+Permission}}}]{page\+\_\+permissions }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 608 of file code-\/memory-\/access.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{609                                                                          \{}
\DoxyCodeLine{610   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a42ebfac4aa3bcade2327daf0cf5efb7f}{Enabled}}()) \{}
\DoxyCodeLine{611     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{612   \}}
\DoxyCodeLine{613 }
\DoxyCodeLine{614 \textcolor{preprocessor}{\#if V8\_HEAP\_USE\_PKU\_JIT\_WRITE\_PROTECT}}
\DoxyCodeLine{615   \textcolor{keywordflow}{return} base::MemoryProtectionKey::SetPermissionsAndKey(}
\DoxyCodeLine{616       \{addr, \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}\}, PageAllocator::Permission::kNoAccess,}
\DoxyCodeLine{617       ThreadIsolation::pkey());}
\DoxyCodeLine{618 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{619   \mbox{\hyperlink{namespacev8_1_1internal_acdec713c25068019f935e35976f5b666}{UNREACHABLE}}();}
\DoxyCodeLine{620 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{621 \}}

\end{DoxyCode}


References Enabled(), size(), and v8\+::internal\+::\+UNREACHABLE().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ThreadIsolation_a1d9e4c7b02f557093bf373b0a4e93fc4_cgraph}
\end{center}
\end{figure}


\doxysubsection{Friends And Related Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1ThreadIsolation_a727eae901c0c6bf92ab8800a11ae0ded}\label{classv8_1_1internal_1_1ThreadIsolation_a727eae901c0c6bf92ab8800a11ae0ded}} 
\index{v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}!StlAllocator@{StlAllocator}}
\index{StlAllocator@{StlAllocator}!v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}}
\doxysubsubsection{\texorpdfstring{StlAllocator}{StlAllocator}}
{\footnotesize\ttfamily template$<$class T $>$ \\
friend struct \mbox{\hyperlink{structv8_1_1internal_1_1ThreadIsolation_1_1StlAllocator}{Stl\+Allocator}}\hspace{0.3cm}{\ttfamily [friend]}}



Definition at line 378 of file code-\/memory-\/access.\+h.

\mbox{\Hypertarget{classv8_1_1internal_1_1ThreadIsolation_a01f18b8e58212dbe4189fa29fadcd669}\label{classv8_1_1internal_1_1ThreadIsolation_a01f18b8e58212dbe4189fa29fadcd669}} 
\index{v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}!WritableJitAllocation@{WritableJitAllocation}}
\index{WritableJitAllocation@{WritableJitAllocation}!v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}}
\doxysubsubsection{\texorpdfstring{WritableJitAllocation}{WritableJitAllocation}}
{\footnotesize\ttfamily friend class \mbox{\hyperlink{classv8_1_1internal_1_1WritableJitAllocation}{Writable\+Jit\+Allocation}}\hspace{0.3cm}{\ttfamily [friend]}}



Definition at line 380 of file code-\/memory-\/access.\+h.



Referenced by v8\+::internal\+::\+Writable\+Jit\+Allocation\+::\+For\+Instruction\+Stream(), Lookup\+Jit\+Allocation(), and Register\+Jit\+Allocation().

\mbox{\Hypertarget{classv8_1_1internal_1_1ThreadIsolation_a0631888469a05acf1546ffd04e10b2d3}\label{classv8_1_1internal_1_1ThreadIsolation_a0631888469a05acf1546ffd04e10b2d3}} 
\index{v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}!WritableJitPage@{WritableJitPage}}
\index{WritableJitPage@{WritableJitPage}!v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}}
\doxysubsubsection{\texorpdfstring{WritableJitPage}{WritableJitPage}}
{\footnotesize\ttfamily friend class \mbox{\hyperlink{classv8_1_1internal_1_1WritableJitPage}{Writable\+Jit\+Page}}\hspace{0.3cm}{\ttfamily [friend]}}



Definition at line 379 of file code-\/memory-\/access.\+h.



Referenced by Lookup\+Writable\+Jit\+Page().

\mbox{\Hypertarget{classv8_1_1internal_1_1ThreadIsolation_a03cd4c0456737af97e1f30731913f74b}\label{classv8_1_1internal_1_1ThreadIsolation_a03cd4c0456737af97e1f30731913f74b}} 
\index{v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}!WritableJumpTablePair@{WritableJumpTablePair}}
\index{WritableJumpTablePair@{WritableJumpTablePair}!v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}}
\doxysubsubsection{\texorpdfstring{WritableJumpTablePair}{WritableJumpTablePair}}
{\footnotesize\ttfamily friend class Writable\+Jump\+Table\+Pair\hspace{0.3cm}{\ttfamily [friend]}}



Definition at line 381 of file code-\/memory-\/access.\+h.



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1ThreadIsolation_a23de1d543f14efa96737998f6181bc5e}\label{classv8_1_1internal_1_1ThreadIsolation_a23de1d543f14efa96737998f6181bc5e}} 
\index{v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}!trusted\_data\_@{trusted\_data\_}}
\index{trusted\_data\_@{trusted\_data\_}!v8::internal::ThreadIsolation@{v8::internal::ThreadIsolation}}
\doxysubsubsection{\texorpdfstring{trusted\_data\_}{trusted\_data\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{structv8_1_1internal_1_1ThreadIsolation_1_1TrustedData}{Thread\+Isolation\+::\+Trusted\+Data}} v8\+::internal\+::\+Thread\+Isolation\+::trusted\+\_\+data\+\_\+\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 329 of file code-\/memory-\/access.\+h.



Referenced by Can\+Lookup\+Start\+Of\+Jit\+Allocation\+At(), Construct\+New(), Delete(), Initialize(), Lookup\+Jit\+Page(), Lookup\+Jit\+Page\+Locked(), Register\+Jit\+Page(), Split\+Jit\+Page(), Split\+Jit\+Page\+Locked(), Split\+Jit\+Pages(), Try\+Lookup\+Jit\+Page(), Try\+Lookup\+Jit\+Page\+Locked(), and Unregister\+Jit\+Page().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/common/\mbox{\hyperlink{code-memory-access_8h}{code-\/memory-\/access.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/common/\mbox{\hyperlink{code-memory-access_8cc}{code-\/memory-\/access.\+cc}}\end{DoxyCompactItemize}
