\hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02execution_8cc_03}{}\doxysection{v8\+::internal\+::anonymous\+\_\+namespace\{execution.\+cc\} Namespace Reference}
\label{namespacev8_1_1internal_1_1anonymous__namespace_02execution_8cc_03}\index{v8::internal::anonymous\_namespace\lcurly{}execution.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}execution.cc\rcurly{}}}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structv8_1_1internal_1_1anonymous__namespace_02execution_8cc_03_1_1InvokeParams}{Invoke\+Params}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}} $>$ \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02execution_8cc_03_a5205461833d0bcbdedcb131c1d30b919}{Normalize\+Receiver}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}} $>$ receiver)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Code}{Code}} $>$ \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02execution_8cc_03_a8c1e813ef7117392107d28d2d7045bcf}{JSEntry}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{classv8_1_1internal_1_1Execution_abd0a3c50fee78c49442197402e6cec28}{Execution\+::\+Target}} execution\+\_\+target, \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} is\+\_\+construct)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle}{Maybe\+Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Context}{Context}} $>$ \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02execution_8cc_03_a84c2a1ee9a4c1487e2af2343a9d076a7}{New\+Script\+Context}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSFunction}{JSFunction}} $>$ function, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1FixedArray}{Fixed\+Array}} $>$ host\+\_\+defined\+\_\+options)
\item 
\mbox{\hyperlink{v8config_8h_a63258e4bf5dc9fb8c78f881c8405d83b}{V8\+\_\+\+WARN\+\_\+\+UNUSED\+\_\+\+RESULT}} \mbox{\hyperlink{classv8_1_1internal_1_1MaybeHandle}{Maybe\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}} $>$ \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02execution_8cc_03_a69fd8bb1b53f805979b16aff615070f9}{Invoke}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, const \mbox{\hyperlink{structv8_1_1internal_1_1anonymous__namespace_02execution_8cc_03_1_1InvokeParams}{Invoke\+Params}} \&params)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle}{Maybe\+Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}} $>$ \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02execution_8cc_03_a3018707cde08173a03e844ca40223a4e}{Invoke\+With\+Try\+Catch}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, const \mbox{\hyperlink{structv8_1_1internal_1_1anonymous__namespace_02execution_8cc_03_1_1InvokeParams}{Invoke\+Params}} \&params)
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02execution_8cc_03_a69fd8bb1b53f805979b16aff615070f9}\label{namespacev8_1_1internal_1_1anonymous__namespace_02execution_8cc_03_a69fd8bb1b53f805979b16aff615070f9}} 
\index{v8::internal::anonymous\_namespace\lcurly{}execution.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}execution.cc\rcurly{}}!Invoke@{Invoke}}
\index{Invoke@{Invoke}!v8::internal::anonymous\_namespace\lcurly{}execution.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}execution.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{Invoke()}{Invoke()}}
{\footnotesize\ttfamily \mbox{\hyperlink{v8config_8h_a63258e4bf5dc9fb8c78f881c8405d83b}{V8\+\_\+\+WARN\+\_\+\+UNUSED\+\_\+\+RESULT}} \mbox{\hyperlink{classv8_1_1internal_1_1MaybeHandle}{Maybe\+Handle}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}}$>$ v8\+::internal\+::anonymous\+\_\+namespace\{execution.\+cc\}\+::Invoke (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{const \mbox{\hyperlink{structv8_1_1internal_1_1anonymous__namespace_02execution_8cc_03_1_1InvokeParams}{Invoke\+Params}} \&}]{params }\end{DoxyParamCaption})}



Definition at line 272 of file execution.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{273                                                                              \{}
\DoxyCodeLine{274   \mbox{\hyperlink{runtime-call-stats-scope_8h_ae2e0b4aff109545657aba76d78cbf764}{RCS\_SCOPE}}(isolate, RuntimeCallCounterId::kInvoke);}
\DoxyCodeLine{275   \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(!IsJSGlobalObject(*params.receiver));}
\DoxyCodeLine{276   \mbox{\hyperlink{src_2base_2logging_8h_a16b382527f19b805fc8f856668f2270b}{DCHECK\_LE}}(params.args.size(), FixedArray::kMaxLength);}
\DoxyCodeLine{277   \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(!isolate-\/>has\_exception());}
\DoxyCodeLine{278   \textcolor{comment}{// Runtime code must be able to get the "{}current"{} isolate from TLS, and this}}
\DoxyCodeLine{279   \textcolor{comment}{// must equal the isolate we execute in.}}
\DoxyCodeLine{280   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(isolate, Isolate::TryGetCurrent());}
\DoxyCodeLine{281 }
\DoxyCodeLine{282 \textcolor{preprocessor}{\#if V8\_ENABLE\_WEBASSEMBLY}}
\DoxyCodeLine{283   \textcolor{comment}{// If we have PKU support for Wasm, ensure that code is currently write}}
\DoxyCodeLine{284   \textcolor{comment}{// protected for this thread.}}
\DoxyCodeLine{285   \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a55a717894f5d005ae86062dd4647a3b2}{wasm::GetWasmCodeManager}}()-\/>HasMemoryProtectionKeySupport(),}
\DoxyCodeLine{286                  !\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a55a717894f5d005ae86062dd4647a3b2}{wasm::GetWasmCodeManager}}()-\/>MemoryProtectionKeyWritable());}
\DoxyCodeLine{287 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// V8\_ENABLE\_WEBASSEMBLY}}
\DoxyCodeLine{288 }
\DoxyCodeLine{289 \textcolor{preprocessor}{\#ifdef USE\_SIMULATOR}}
\DoxyCodeLine{290   \textcolor{comment}{// Simulators use separate stacks for C++ and JS. JS stack overflow checks}}
\DoxyCodeLine{291   \textcolor{comment}{// are performed whenever a JS function is called. However, it can be the case}}
\DoxyCodeLine{292   \textcolor{comment}{// that the C++ stack grows faster than the JS stack, resulting in an overflow}}
\DoxyCodeLine{293   \textcolor{comment}{// there. Add a check here to make that less likely.}}
\DoxyCodeLine{294   StackLimitCheck check(isolate);}
\DoxyCodeLine{295   \textcolor{keywordflow}{if} (check.HasOverflowed()) \{}
\DoxyCodeLine{296     isolate-\/>StackOverflow();}
\DoxyCodeLine{297     isolate-\/>ReportPendingMessages(params.message\_handling ==}
\DoxyCodeLine{298                                    Execution::MessageHandling::kReport);}
\DoxyCodeLine{299     \textcolor{keywordflow}{return} MaybeHandle<Object>();}
\DoxyCodeLine{300   \}}
\DoxyCodeLine{301 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{302 }
\DoxyCodeLine{303   \textcolor{comment}{// api callbacks can be called directly, unless we want to take the detour}}
\DoxyCodeLine{304   \textcolor{comment}{// through JS to set up a frame for break-\/at-\/entry.}}
\DoxyCodeLine{305   \textcolor{keywordflow}{if} (IsJSFunction(*params.target)) \{}
\DoxyCodeLine{306     \textcolor{keyword}{auto} \textcolor{keyword}{function} = Cast<JSFunction>(params.target);}
\DoxyCodeLine{307     \textcolor{keywordflow}{if} ((!params.is\_construct || IsConstructor(*\textcolor{keyword}{function})) \&\&}
\DoxyCodeLine{308         function-\/>shared()-\/>IsApiFunction() \&\&}
\DoxyCodeLine{309         !function-\/>shared()-\/>BreakAtEntry(isolate)) \{}
\DoxyCodeLine{310       SaveAndSwitchContext save(isolate, function-\/>context());}
\DoxyCodeLine{311       \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(IsJSGlobalObject(function-\/>context()-\/>global\_object()));}
\DoxyCodeLine{312 }
\DoxyCodeLine{313       DirectHandle<Object> receiver = params.is\_construct}
\DoxyCodeLine{314                                           ? isolate-\/>factory()-\/>the\_hole\_value()}
\DoxyCodeLine{315                                           : params.receiver;}
\DoxyCodeLine{316       DirectHandle<FunctionTemplateInfo> fun\_data(}
\DoxyCodeLine{317           function-\/>shared()-\/>api\_func\_data(), isolate);}
\DoxyCodeLine{318       \textcolor{keyword}{auto} \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} = Builtins::InvokeApiFunction(}
\DoxyCodeLine{319           isolate, params.is\_construct, fun\_data, receiver, params.args,}
\DoxyCodeLine{320           Cast<HeapObject>(params.new\_target));}
\DoxyCodeLine{321       \textcolor{keywordtype}{bool} has\_exception = \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}.is\_null();}
\DoxyCodeLine{322       \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(has\_exception, isolate-\/>has\_exception());}
\DoxyCodeLine{323       \textcolor{keywordflow}{if} (has\_exception) \{}
\DoxyCodeLine{324         isolate-\/>ReportPendingMessages(params.message\_handling ==}
\DoxyCodeLine{325                                        Execution::MessageHandling::kReport);}
\DoxyCodeLine{326         \textcolor{keywordflow}{return} MaybeHandle<Object>();}
\DoxyCodeLine{327       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{328         isolate-\/>clear\_pending\_message();}
\DoxyCodeLine{329       \}}
\DoxyCodeLine{330       \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}};}
\DoxyCodeLine{331     \}}
\DoxyCodeLine{332 \textcolor{preprocessor}{\#ifdef DEBUG}}
\DoxyCodeLine{333     \textcolor{keywordflow}{if} (function-\/>shared()-\/>is\_script()) \{}
\DoxyCodeLine{334       \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(params.IsScript());}
\DoxyCodeLine{335       \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(IsJSGlobalProxy(*params.receiver));}
\DoxyCodeLine{336       \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(params.args.size(), 1);}
\DoxyCodeLine{337       \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(IsFixedArray(*params.args[0]));}
\DoxyCodeLine{338     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{339       \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(!params.IsScript());}
\DoxyCodeLine{340     \}}
\DoxyCodeLine{341 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{342     \textcolor{comment}{// Set up a ScriptContext when running scripts that need it.}}
\DoxyCodeLine{343     \textcolor{keywordflow}{if} (function-\/>shared()-\/>needs\_script\_context()) \{}
\DoxyCodeLine{344       DirectHandle<Context> context;}
\DoxyCodeLine{345       DirectHandle<FixedArray> host\_defined\_options =}
\DoxyCodeLine{346           \textcolor{keyword}{const\_cast<}InvokeParams\&\textcolor{keyword}{>}(params).GetAndResetHostDefinedOptions();}
\DoxyCodeLine{347       \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02execution_8cc_03_a84c2a1ee9a4c1487e2af2343a9d076a7}{NewScriptContext}}(isolate, \textcolor{keyword}{function}, host\_defined\_options)}
\DoxyCodeLine{348                .ToHandle(\&context)) \{}
\DoxyCodeLine{349         isolate-\/>ReportPendingMessages(params.message\_handling ==}
\DoxyCodeLine{350                                        Execution::MessageHandling::kReport);}
\DoxyCodeLine{351         \textcolor{keywordflow}{return} MaybeHandle<Object>();}
\DoxyCodeLine{352       \}}
\DoxyCodeLine{353 }
\DoxyCodeLine{354       \textcolor{comment}{// We mutate the context if we allocate a script context. This is}}
\DoxyCodeLine{355       \textcolor{comment}{// guaranteed to only happen once in a native context since scripts will}}
\DoxyCodeLine{356       \textcolor{comment}{// always produce name clashes with themselves.}}
\DoxyCodeLine{357       \textcolor{keyword}{function}-\/>set\_context(*context);}
\DoxyCodeLine{358     \}}
\DoxyCodeLine{359   \}}
\DoxyCodeLine{360 }
\DoxyCodeLine{361   \textcolor{comment}{// Entering JavaScript.}}
\DoxyCodeLine{362   VMState<JS> state(isolate);}
\DoxyCodeLine{363   \textcolor{keywordflow}{if} (!AllowJavascriptExecution::IsAllowed(isolate)) \{}
\DoxyCodeLine{364     \mbox{\hyperlink{src_2base_2logging_8h_a130f571b622018a72b9b0a444ec7f5d0}{GRACEFUL\_FATAL}}(\textcolor{stringliteral}{"{}Invoke in DisallowJavascriptExecutionScope"{}});}
\DoxyCodeLine{365   \}}
\DoxyCodeLine{366   \textcolor{keywordflow}{if} (!ThrowOnJavascriptExecution::IsAllowed(isolate)) \{}
\DoxyCodeLine{367     isolate-\/>ThrowIllegalOperation();}
\DoxyCodeLine{368     isolate-\/>ReportPendingMessages(params.message\_handling ==}
\DoxyCodeLine{369                                    Execution::MessageHandling::kReport);}
\DoxyCodeLine{370     \textcolor{keywordflow}{return} MaybeHandle<Object>();}
\DoxyCodeLine{371   \}}
\DoxyCodeLine{372   \textcolor{keywordflow}{if} (!DumpOnJavascriptExecution::IsAllowed(isolate)) \{}
\DoxyCodeLine{373     \mbox{\hyperlink{namespacev8_1_1debug_ac6a287af2e49ee034b98f9d77db40314}{V8::GetCurrentPlatform}}()-\/>\mbox{\hyperlink{classv8_1_1Platform_abcbf846fdfc791569f64de675d522cac}{DumpWithoutCrashing}}();}
\DoxyCodeLine{374     \textcolor{keywordflow}{return} isolate-\/>factory()-\/>undefined\_value();}
\DoxyCodeLine{375   \}}
\DoxyCodeLine{376   isolate-\/>IncrementJavascriptExecutionCounter();}
\DoxyCodeLine{377 }
\DoxyCodeLine{378   \textcolor{keywordflow}{if} (params.execution\_target == Execution::Target::kCallable) \{}
\DoxyCodeLine{379     DirectHandle<NativeContext> context = isolate-\/>native\_context();}
\DoxyCodeLine{380     \textcolor{keywordflow}{if} (!IsUndefined(context-\/>script\_execution\_callback(), isolate)) \{}
\DoxyCodeLine{381       \mbox{\hyperlink{classv8_1_1Context_ab98e33dcbd88ae478e059b6bcee2725c}{v8::Context::AbortScriptExecutionCallback}} callback =}
\DoxyCodeLine{382           \mbox{\hyperlink{namespacev8_a23e3554e42c1196b69ff992c5dbe12cb}{v8::ToCData}}<\mbox{\hyperlink{classv8_1_1Context_ab98e33dcbd88ae478e059b6bcee2725c}{v8::Context::AbortScriptExecutionCallback}},}
\DoxyCodeLine{383                       \mbox{\hyperlink{namespacev8_1_1internal_aa5178998e7ae493acf744bc92b1fbdbca70cae8c3ddcd290e404b2d254085ba81}{kApiAbortScriptExecutionCallbackTag}}>(}
\DoxyCodeLine{384               isolate, context-\/>script\_execution\_callback());}
\DoxyCodeLine{385       \mbox{\hyperlink{classv8_1_1Isolate}{v8::Isolate}}* api\_isolate = \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classv8_1_1Isolate}{v8::Isolate}}*\textcolor{keyword}{>}(isolate);}
\DoxyCodeLine{386       \mbox{\hyperlink{classv8_1_1Local}{v8::Local<v8::Context>}} api\_context = v8::Utils::ToLocal(context);}
\DoxyCodeLine{387       callback(api\_isolate, api\_context);}
\DoxyCodeLine{388       \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(!isolate-\/>has\_exception());}
\DoxyCodeLine{389       \textcolor{comment}{// Always throw an exception to abort execution, if callback exists.}}
\DoxyCodeLine{390       isolate-\/>ThrowIllegalOperation();}
\DoxyCodeLine{391       \textcolor{keywordflow}{return} MaybeHandle<Object>();}
\DoxyCodeLine{392     \}}
\DoxyCodeLine{393   \}}
\DoxyCodeLine{394 }
\DoxyCodeLine{395   \textcolor{comment}{// Placeholder for return value.}}
\DoxyCodeLine{396   \mbox{\hyperlink{namespacev8_1_1internal_a5297fd2c72981b2220e6b9a831570fb3}{Tagged<Object>}} \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}};}
\DoxyCodeLine{397   DirectHandle<Code> \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}} =}
\DoxyCodeLine{398       \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02execution_8cc_03_a8c1e813ef7117392107d28d2d7045bcf}{JSEntry}}(isolate, params.execution\_target, params.is\_construct);}
\DoxyCodeLine{399   \{}
\DoxyCodeLine{400     \textcolor{comment}{// Save and restore context around invocation.}}
\DoxyCodeLine{401     SaveContext save(isolate);}
\DoxyCodeLine{402 }
\DoxyCodeLine{403     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.clear\_exceptions\_on\_js\_entry) isolate-\/>clear\_exception();}
\DoxyCodeLine{404 }
\DoxyCodeLine{405     \textcolor{keywordflow}{if} (params.execution\_target == Execution::Target::kCallable) \{}
\DoxyCodeLine{406       \textcolor{comment}{// clang-\/format off}}
\DoxyCodeLine{407       \textcolor{comment}{// \{new\_target\}, \{target\}, \{receiver\}, return value: tagged pointers}}
\DoxyCodeLine{408       \textcolor{comment}{// \{argv\}: pointer to array of tagged pointers}}
\DoxyCodeLine{409       \textcolor{keyword}{using} JSEntryFunction = GeneratedCode<\mbox{\hyperlink{namespacev8_1_1base_aed4219b45684a3840c8b930b5df90ea9}{Address}}(}
\DoxyCodeLine{410           \mbox{\hyperlink{namespacev8_1_1base_aed4219b45684a3840c8b930b5df90ea9}{Address}} root\_register\_value, \mbox{\hyperlink{namespacev8_1_1base_aed4219b45684a3840c8b930b5df90ea9}{Address}} new\_target, \mbox{\hyperlink{namespacev8_1_1base_aed4219b45684a3840c8b930b5df90ea9}{Address}} target,}
\DoxyCodeLine{411           \mbox{\hyperlink{namespacev8_1_1base_aed4219b45684a3840c8b930b5df90ea9}{Address}} receiver, intptr\_t argc, \mbox{\hyperlink{namespacev8_1_1base_aed4219b45684a3840c8b930b5df90ea9}{Address}}** argv)>;}
\DoxyCodeLine{412       \textcolor{comment}{// clang-\/format on}}
\DoxyCodeLine{413       JSEntryFunction stub\_entry =}
\DoxyCodeLine{414           JSEntryFunction::FromAddress(isolate, \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>instruction\_start());}
\DoxyCodeLine{415 }
\DoxyCodeLine{416       \mbox{\hyperlink{namespacev8_1_1base_aed4219b45684a3840c8b930b5df90ea9}{Address}} orig\_func = (*params.new\_target).ptr();}
\DoxyCodeLine{417       \mbox{\hyperlink{namespacev8_1_1base_aed4219b45684a3840c8b930b5df90ea9}{Address}} func = (*params.target).ptr();}
\DoxyCodeLine{418       \mbox{\hyperlink{namespacev8_1_1base_aed4219b45684a3840c8b930b5df90ea9}{Address}} recv = (*params.receiver).ptr();}
\DoxyCodeLine{419 }
\DoxyCodeLine{420       \textcolor{keywordtype}{int} argc = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(params.args.size());}
\DoxyCodeLine{421 \textcolor{preprocessor}{\#ifdef V8\_ENABLE\_DIRECT\_HANDLE}}
\DoxyCodeLine{422       \textcolor{comment}{// TODO(42203211): Store the arguments to indirect handles because}}
\DoxyCodeLine{423       \textcolor{comment}{// generated code still expects them in indirect handles. A fresh handle}}
\DoxyCodeLine{424       \textcolor{comment}{// scope is introduced for these handles, which is then sealed. When this}}
\DoxyCodeLine{425       \textcolor{comment}{// is eventually removed, sealing can go back together with saving the}}
\DoxyCodeLine{426       \textcolor{comment}{// context for both branches.}}
\DoxyCodeLine{427       HandleScope scope\_for\_conversion(isolate);}
\DoxyCodeLine{428       std::vector<IndirectHandle<Object>> \mbox{\hyperlink{namespacev8_1_1base_ad03b241da4e98adde3145092fe54be8b}{args}}(argc);}
\DoxyCodeLine{429       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < argc; ++\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}})}
\DoxyCodeLine{430         \mbox{\hyperlink{namespacev8_1_1base_ad03b241da4e98adde3145092fe54be8b}{args}}[\mbox{\hyperlink{namespacev8_1_1internal}{i}}] = \mbox{\hyperlink{namespacev8_1_1internal_a15cafb1d1ed1ac577609eb5e764384e8}{indirect\_handle}}(params.args[\mbox{\hyperlink{namespacev8_1_1internal}{i}}], isolate);}
\DoxyCodeLine{431       \mbox{\hyperlink{namespacev8_1_1base_aed4219b45684a3840c8b930b5df90ea9}{Address}}** argv = \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{namespacev8_1_1base_aed4219b45684a3840c8b930b5df90ea9}{Address}}**\textcolor{keyword}{>}(\mbox{\hyperlink{namespacev8_1_1base_ad03b241da4e98adde3145092fe54be8b}{args}}.data());}
\DoxyCodeLine{432 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{433       \mbox{\hyperlink{namespacev8_1_1base_aed4219b45684a3840c8b930b5df90ea9}{Address}}** argv = \textcolor{keyword}{const\_cast<}\mbox{\hyperlink{namespacev8_1_1base_aed4219b45684a3840c8b930b5df90ea9}{Address}}**\textcolor{keyword}{>}(}
\DoxyCodeLine{434           \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{namespacev8_1_1base_aed4219b45684a3840c8b930b5df90ea9}{Address}}* const*\textcolor{keyword}{>}(params.args.data()));}
\DoxyCodeLine{435 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{436 }
\DoxyCodeLine{437       \textcolor{comment}{// Block the allocation of handles without explicit handle scopes.}}
\DoxyCodeLine{438       SealHandleScope shs(isolate);}
\DoxyCodeLine{439 }
\DoxyCodeLine{440       \mbox{\hyperlink{runtime-call-stats-scope_8h_ae2e0b4aff109545657aba76d78cbf764}{RCS\_SCOPE}}(isolate, RuntimeCallCounterId::kJS\_Execution);}
\DoxyCodeLine{441       \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} = \mbox{\hyperlink{namespacev8_1_1internal_a5297fd2c72981b2220e6b9a831570fb3}{Tagged<Object>}}(}
\DoxyCodeLine{442           stub\_entry.Call(isolate-\/>isolate\_data()-\/>isolate\_root(), orig\_func,}
\DoxyCodeLine{443                           func, recv, \mbox{\hyperlink{namespacev8_1_1internal_aad3893fccd0a1a6e0ddcdf0a940428c7}{JSParameterCount}}(argc), argv));}
\DoxyCodeLine{444     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{445       \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(Execution::Target::kRunMicrotasks, params.execution\_target);}
\DoxyCodeLine{446 }
\DoxyCodeLine{447       \textcolor{comment}{// clang-\/format off}}
\DoxyCodeLine{448       \textcolor{comment}{// return value: tagged pointers}}
\DoxyCodeLine{449       \textcolor{comment}{// \{microtask\_queue\}: pointer to a C++ object}}
\DoxyCodeLine{450       \textcolor{keyword}{using} JSEntryFunction = GeneratedCode<\mbox{\hyperlink{namespacev8_1_1base_aed4219b45684a3840c8b930b5df90ea9}{Address}}(}
\DoxyCodeLine{451           \mbox{\hyperlink{namespacev8_1_1base_aed4219b45684a3840c8b930b5df90ea9}{Address}} root\_register\_value, MicrotaskQueue* microtask\_queue)>;}
\DoxyCodeLine{452       \textcolor{comment}{// clang-\/format on}}
\DoxyCodeLine{453       JSEntryFunction stub\_entry =}
\DoxyCodeLine{454           JSEntryFunction::FromAddress(isolate, \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>instruction\_start());}
\DoxyCodeLine{455 }
\DoxyCodeLine{456       \textcolor{comment}{// Block the allocation of handles without explicit handle scopes.}}
\DoxyCodeLine{457       SealHandleScope shs(isolate);}
\DoxyCodeLine{458 }
\DoxyCodeLine{459       \mbox{\hyperlink{runtime-call-stats-scope_8h_ae2e0b4aff109545657aba76d78cbf764}{RCS\_SCOPE}}(isolate, RuntimeCallCounterId::kJS\_Execution);}
\DoxyCodeLine{460       \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} = \mbox{\hyperlink{namespacev8_1_1internal_a5297fd2c72981b2220e6b9a831570fb3}{Tagged<Object>}}(stub\_entry.Call(}
\DoxyCodeLine{461           isolate-\/>isolate\_data()-\/>isolate\_root(), params.microtask\_queue));}
\DoxyCodeLine{462     \}}
\DoxyCodeLine{463   \}}
\DoxyCodeLine{464 }
\DoxyCodeLine{465 \textcolor{preprocessor}{\#ifdef VERIFY\_HEAP}}
\DoxyCodeLine{466   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.verify\_heap) \{}
\DoxyCodeLine{467     Object::ObjectVerify(\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}, isolate);}
\DoxyCodeLine{468   \}}
\DoxyCodeLine{469 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{470 }
\DoxyCodeLine{471   \textcolor{comment}{// Update the pending exception flag and return the value.}}
\DoxyCodeLine{472   \textcolor{keywordtype}{bool} has\_exception = IsException(\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}, isolate);}
\DoxyCodeLine{473   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(has\_exception, isolate-\/>has\_exception());}
\DoxyCodeLine{474   \textcolor{keywordflow}{if} (has\_exception) \{}
\DoxyCodeLine{475     isolate-\/>ReportPendingMessages(params.message\_handling ==}
\DoxyCodeLine{476                                    Execution::MessageHandling::kReport);}
\DoxyCodeLine{477     \textcolor{keywordflow}{return} MaybeHandle<Object>();}
\DoxyCodeLine{478   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{479     isolate-\/>clear\_pending\_message();}
\DoxyCodeLine{480   \}}
\DoxyCodeLine{481 }
\DoxyCodeLine{482   \textcolor{keywordflow}{return} Handle<Object>(\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}, isolate);}
\DoxyCodeLine{483 \}}

\end{DoxyCode}


References v8\+::base\+::args, v8\+::internal\+::anonymous\+\_\+namespace\{execution.\+cc\}\+::\+Invoke\+Params\+::args, v8\+::internal\+::\+Isolate\+::clear\+\_\+exception(), v8\+::internal\+::\+Isolate\+::clear\+\_\+pending\+\_\+message(), code, v8\+::internal\+::\+Isolate\+::context(), v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+EQ, DCHECK\+\_\+\+IMPLIES, DCHECK\+\_\+\+LE, v8\+::\+Platform\+::\+Dump\+Without\+Crashing(), v8\+::internal\+::anonymous\+\_\+namespace\{execution.\+cc\}\+::\+Invoke\+Params\+::execution\+\_\+target, v8\+::internal\+::\+Isolate\+::factory(), v8\+::internal\+::\+V8\+::\+Get\+Current\+Platform(), v8\+::internal\+::wasm\+::\+Get\+Wasm\+Code\+Manager(), GRACEFUL\+\_\+\+FATAL, v8\+::internal\+::\+Isolate\+::has\+\_\+exception(), v8\+::internal\+::\+Stack\+Limit\+Check\+::\+Has\+Overflowed(), v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::i, v8\+::internal\+::\+Isolate\+::\+Increment\+Javascript\+Execution\+Counter(), v8\+::internal\+::indirect\+\_\+handle(), v8\+::internal\+::\+Builtins\+::\+Invoke\+Api\+Function(), v8\+::internal\+::anonymous\+\_\+namespace\{execution.\+cc\}\+::\+Invoke\+Params\+::is\+\_\+construct, v8\+::internal\+::\+Isolate\+::isolate\+\_\+data(), v8\+::internal\+::\+Isolate\+Data\+::isolate\+\_\+root(), v8\+::internal\+::anonymous\+\_\+namespace\{execution.\+cc\}\+::\+Invoke\+Params\+::\+Is\+Script(), JSEntry(), v8\+::internal\+::\+JSParameter\+Count(), v8\+::internal\+::k\+Api\+Abort\+Script\+Execution\+Callback\+Tag, v8\+::internal\+::\+Execution\+::k\+Callable, v8\+::internal\+::\+Fixed\+Array\+::k\+Max\+Length, v8\+::internal\+::\+Execution\+::k\+Report, v8\+::internal\+::\+Execution\+::k\+Run\+Microtasks, v8\+::internal\+::anonymous\+\_\+namespace\{execution.\+cc\}\+::\+Invoke\+Params\+::message\+\_\+handling, v8\+::internal\+::anonymous\+\_\+namespace\{execution.\+cc\}\+::\+Invoke\+Params\+::microtask\+\_\+queue, v8\+::internal\+::\+Isolate\+::native\+\_\+context(), v8\+::internal\+::anonymous\+\_\+namespace\{execution.\+cc\}\+::\+Invoke\+Params\+::new\+\_\+target, New\+Script\+Context(), RCS\+\_\+\+SCOPE, v8\+::internal\+::anonymous\+\_\+namespace\{execution.\+cc\}\+::\+Invoke\+Params\+::receiver, v8\+::internal\+::\+Isolate\+::\+Report\+Pending\+Messages(), v8\+::internal\+::\+Isolate\+::\+Stack\+Overflow(), v8\+::internal\+::\+Tagged$<$ Object $>$, v8\+::internal\+::anonymous\+\_\+namespace\{execution.\+cc\}\+::\+Invoke\+Params\+::target, v8\+::internal\+::\+Isolate\+::\+Throw\+Illegal\+Operation(), v8\+::\+To\+CData(), v8\+::\+Isolate\+::\+Try\+Get\+Current(), v8\+::internal\+::v8\+\_\+flags, and v8\+::internal\+::value.



Referenced by cppgc\+::\+Make\+Garbage\+Collected\+Trait\+Base$<$ T $>$\+::\+Allocate(), v8\+::internal\+::\+Execution\+::\+Call(), v8\+::internal\+::\+Execution\+::\+Call\+Builtin(), v8\+::internal\+::\+Execution\+::\+Call\+Script(), Invoke\+With\+Try\+Catch(), and v8\+::internal\+::\+Execution\+::\+New().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{namespacev8_1_1internal_1_1anonymous__namespace_02execution_8cc_03_a69fd8bb1b53f805979b16aff615070f9_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{namespacev8_1_1internal_1_1anonymous__namespace_02execution_8cc_03_a69fd8bb1b53f805979b16aff615070f9_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02execution_8cc_03_a3018707cde08173a03e844ca40223a4e}\label{namespacev8_1_1internal_1_1anonymous__namespace_02execution_8cc_03_a3018707cde08173a03e844ca40223a4e}} 
\index{v8::internal::anonymous\_namespace\lcurly{}execution.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}execution.cc\rcurly{}}!InvokeWithTryCatch@{InvokeWithTryCatch}}
\index{InvokeWithTryCatch@{InvokeWithTryCatch}!v8::internal::anonymous\_namespace\lcurly{}execution.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}execution.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{InvokeWithTryCatch()}{InvokeWithTryCatch()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle}{Maybe\+Direct\+Handle}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}}$>$ v8\+::internal\+::anonymous\+\_\+namespace\{execution.\+cc\}\+::Invoke\+With\+Try\+Catch (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{const \mbox{\hyperlink{structv8_1_1internal_1_1anonymous__namespace_02execution_8cc_03_1_1InvokeParams}{Invoke\+Params}} \&}]{params }\end{DoxyParamCaption})}



Definition at line 485 of file execution.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{486                                                                          \{}
\DoxyCodeLine{487   \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.strict\_termination\_checks,}
\DoxyCodeLine{488                  !isolate-\/>is\_execution\_terminating());}
\DoxyCodeLine{489   MaybeDirectHandle<Object> maybe\_result;}
\DoxyCodeLine{490   \textcolor{keywordflow}{if} (params.exception\_out != \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{491     *params.exception\_out = \{\};}
\DoxyCodeLine{492   \}}
\DoxyCodeLine{493 }
\DoxyCodeLine{494   \textcolor{comment}{// Enter a try-\/block while executing the JavaScript code. To avoid}}
\DoxyCodeLine{495   \textcolor{comment}{// duplicate error printing it must be non-\/verbose.  Also, to avoid}}
\DoxyCodeLine{496   \textcolor{comment}{// creating message objects during stack overflow we shouldn't}}
\DoxyCodeLine{497   \textcolor{comment}{// capture messages.}}
\DoxyCodeLine{498   \mbox{\hyperlink{classv8_1_1TryCatch}{v8::TryCatch}} catcher(\textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classv8_1_1Isolate}{v8::Isolate}}*\textcolor{keyword}{>}(isolate));}
\DoxyCodeLine{499   catcher.SetVerbose(\textcolor{keyword}{false});}
\DoxyCodeLine{500   catcher.SetCaptureMessage(\textcolor{keyword}{false});}
\DoxyCodeLine{501 }
\DoxyCodeLine{502   maybe\_result = \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02execution_8cc_03_a69fd8bb1b53f805979b16aff615070f9}{Invoke}}(isolate, params);}
\DoxyCodeLine{503 }
\DoxyCodeLine{504   \textcolor{keywordflow}{if} (\mbox{\hyperlink{v8config_8h_a4f489f1b838163ab33f251c9e470d938}{V8\_LIKELY}}(!maybe\_result.is\_null())) \{}
\DoxyCodeLine{505     \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(!isolate-\/>has\_exception());}
\DoxyCodeLine{506     \textcolor{keywordflow}{return} maybe\_result;}
\DoxyCodeLine{507   \}}
\DoxyCodeLine{508 }
\DoxyCodeLine{509   \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(isolate-\/>has\_exception());}
\DoxyCodeLine{510   \textcolor{keywordflow}{if} (isolate-\/>is\_execution\_terminating()) \{}
\DoxyCodeLine{511     \textcolor{keywordflow}{return} maybe\_result;}
\DoxyCodeLine{512   \}}
\DoxyCodeLine{513 }
\DoxyCodeLine{514   \textcolor{keywordflow}{if} (params.exception\_out != \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{515     \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(catcher.HasCaught());}
\DoxyCodeLine{516     *params.exception\_out = \mbox{\hyperlink{classv8_1_1Utils_a9d3ed89b4ca4e995ba472f8091ea424f}{v8::Utils::OpenDirectHandle}}(*catcher.Exception());}
\DoxyCodeLine{517   \}}
\DoxyCodeLine{518 }
\DoxyCodeLine{519   \textcolor{keywordflow}{return} maybe\_result;}
\DoxyCodeLine{520 \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+IMPLIES, v8\+::\+Try\+Catch\+::\+Exception(), v8\+::internal\+::anonymous\+\_\+namespace\{execution.\+cc\}\+::\+Invoke\+Params\+::exception\+\_\+out, v8\+::internal\+::\+Isolate\+::has\+\_\+exception(), v8\+::\+Try\+Catch\+::\+Has\+Caught(), Invoke(), v8\+::internal\+::\+Isolate\+::is\+\_\+execution\+\_\+terminating(), v8\+::internal\+::\+Maybe\+Direct\+Handle$<$ T $>$\+::is\+\_\+null(), v8\+::\+Utils\+::\+Open\+Direct\+Handle(), v8\+::\+Try\+Catch\+::\+Set\+Capture\+Message(), v8\+::\+Try\+Catch\+::\+Set\+Verbose(), v8\+::internal\+::v8\+\_\+flags, and V8\+\_\+\+LIKELY.



Referenced by v8\+::internal\+::\+Execution\+::\+Try\+Call(), v8\+::internal\+::\+Execution\+::\+Try\+Call\+Script(), and v8\+::internal\+::\+Execution\+::\+Try\+Run\+Microtasks().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02execution_8cc_03_a3018707cde08173a03e844ca40223a4e_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02execution_8cc_03_a3018707cde08173a03e844ca40223a4e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02execution_8cc_03_a8c1e813ef7117392107d28d2d7045bcf}\label{namespacev8_1_1internal_1_1anonymous__namespace_02execution_8cc_03_a8c1e813ef7117392107d28d2d7045bcf}} 
\index{v8::internal::anonymous\_namespace\lcurly{}execution.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}execution.cc\rcurly{}}!JSEntry@{JSEntry}}
\index{JSEntry@{JSEntry}!v8::internal::anonymous\_namespace\lcurly{}execution.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}execution.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{JSEntry()}{JSEntry()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1Code}{Code}}$>$ v8\+::internal\+::anonymous\+\_\+namespace\{execution.\+cc\}\+::JSEntry (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Execution_abd0a3c50fee78c49442197402e6cec28}{Execution\+::\+Target}}}]{execution\+\_\+target,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}}}]{is\+\_\+construct }\end{DoxyParamCaption})}



Definition at line 166 of file execution.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{167                                               \{}
\DoxyCodeLine{168   \textcolor{keywordflow}{if} (is\_construct) \{}
\DoxyCodeLine{169     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(Execution::Target::kCallable, execution\_target);}
\DoxyCodeLine{170     \textcolor{keywordflow}{return} \mbox{\hyperlink{builtins_8h_af33bd0f259d8e6a511fd018115e0d62c}{BUILTIN\_CODE}}(isolate, JSConstructEntry);}
\DoxyCodeLine{171   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (execution\_target == Execution::Target::kCallable) \{}
\DoxyCodeLine{172     \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(!is\_construct);}
\DoxyCodeLine{173     \textcolor{keywordflow}{return} \mbox{\hyperlink{builtins_8h_af33bd0f259d8e6a511fd018115e0d62c}{BUILTIN\_CODE}}(isolate, \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02execution_8cc_03_a8c1e813ef7117392107d28d2d7045bcf}{JSEntry}});}
\DoxyCodeLine{174   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (execution\_target == Execution::Target::kRunMicrotasks) \{}
\DoxyCodeLine{175     \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(!is\_construct);}
\DoxyCodeLine{176     \textcolor{keywordflow}{return} \mbox{\hyperlink{builtins_8h_af33bd0f259d8e6a511fd018115e0d62c}{BUILTIN\_CODE}}(isolate, JSRunMicrotasksEntry);}
\DoxyCodeLine{177   \}}
\DoxyCodeLine{178   \mbox{\hyperlink{src_2base_2logging_8h_a0bc63b24b654ca433be7b97a3edde132}{UNREACHABLE}}();}
\DoxyCodeLine{179 \}}

\end{DoxyCode}


References BUILTIN\+\_\+\+CODE, v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+EQ, v8\+::internal\+::\+Execution\+::k\+Callable, v8\+::internal\+::\+Execution\+::k\+Run\+Microtasks, and v8\+::internal\+::\+UNREACHABLE().



Referenced by Invoke().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02execution_8cc_03_a8c1e813ef7117392107d28d2d7045bcf_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{namespacev8_1_1internal_1_1anonymous__namespace_02execution_8cc_03_a8c1e813ef7117392107d28d2d7045bcf_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02execution_8cc_03_a84c2a1ee9a4c1487e2af2343a9d076a7}\label{namespacev8_1_1internal_1_1anonymous__namespace_02execution_8cc_03_a84c2a1ee9a4c1487e2af2343a9d076a7}} 
\index{v8::internal::anonymous\_namespace\lcurly{}execution.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}execution.cc\rcurly{}}!NewScriptContext@{NewScriptContext}}
\index{NewScriptContext@{NewScriptContext}!v8::internal::anonymous\_namespace\lcurly{}execution.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}execution.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{NewScriptContext()}{NewScriptContext()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle}{Maybe\+Direct\+Handle}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1Context}{Context}}$>$ v8\+::internal\+::anonymous\+\_\+namespace\{execution.\+cc\}\+::New\+Script\+Context (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSFunction}{JSFunction}} $>$}]{function,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1FixedArray}{Fixed\+Array}} $>$}]{host\+\_\+defined\+\_\+options }\end{DoxyParamCaption})}



Definition at line 181 of file execution.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{183                                                    \{}
\DoxyCodeLine{184   \textcolor{comment}{// TODO(cbruni, 1244145): Use passed in host\_defined\_options.}}
\DoxyCodeLine{185   \textcolor{comment}{// Creating a script context is a side effect, so abort if that's not}}
\DoxyCodeLine{186   \textcolor{comment}{// allowed.}}
\DoxyCodeLine{187   \textcolor{keywordflow}{if} (isolate-\/>should\_check\_side\_effects()) \{}
\DoxyCodeLine{188     isolate-\/>Throw(*isolate-\/>factory()-\/>NewEvalError(}
\DoxyCodeLine{189         MessageTemplate::kNoSideEffectDebugEvaluate));}
\DoxyCodeLine{190     \textcolor{keywordflow}{return} MaybeDirectHandle<Context>();}
\DoxyCodeLine{191   \}}
\DoxyCodeLine{192   SaveAndSwitchContext save(isolate, function-\/>context());}
\DoxyCodeLine{193   Tagged<SharedFunctionInfo> sfi = \textcolor{keyword}{function}-\/>shared();}
\DoxyCodeLine{194   Handle<Script> \mbox{\hyperlink{namespacev8_1_1internal_afb7e5cd394b9632dddc2e7807b11b2ab}{script}}(Cast<Script>(sfi-\/>script()), isolate);}
\DoxyCodeLine{195   DirectHandle<ScopeInfo> scope\_info(sfi-\/>scope\_info(), isolate);}
\DoxyCodeLine{196   \textcolor{comment}{// Make sure this is the first time we're running this function.}}
\DoxyCodeLine{197   \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(IsNativeContext(function-\/>context()));}
\DoxyCodeLine{198   DirectHandle<NativeContext> \mbox{\hyperlink{namespacev8_1_1internal_afe601ad9b4b4c61d8a6a700e7db12c2a}{native\_context}}(}
\DoxyCodeLine{199       Cast<NativeContext>(function-\/>context()), isolate);}
\DoxyCodeLine{200   DirectHandle<JSGlobalObject> global\_object(\mbox{\hyperlink{namespacev8_1_1internal_afe601ad9b4b4c61d8a6a700e7db12c2a}{native\_context}}-\/>global\_object(),}
\DoxyCodeLine{201                                              isolate);}
\DoxyCodeLine{202   Handle<ScriptContextTable> script\_context(}
\DoxyCodeLine{203       \mbox{\hyperlink{namespacev8_1_1internal_afe601ad9b4b4c61d8a6a700e7db12c2a}{native\_context}}-\/>script\_context\_table(), isolate);}
\DoxyCodeLine{204 }
\DoxyCodeLine{205   \textcolor{comment}{// Find name clashes.}}
\DoxyCodeLine{206   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} name\_it : ScopeInfo::IterateLocalNames(scope\_info)) \{}
\DoxyCodeLine{207     Handle<String> \mbox{\hyperlink{flag-definitions_8h_a3ced3697c19e78b3fb4994a89f46945e}{name}}(name\_it-\/>name(), isolate);}
\DoxyCodeLine{208     \mbox{\hyperlink{namespacev8_1_1internal_a485f6a11285b43e34688e316b858e6e7}{VariableMode}} \mbox{\hyperlink{flag-definitions_8h_adaf90f045d5cd2710edd625b8685472a}{mode}} = scope\_info-\/>ContextLocalMode(name\_it-\/>index());}
\DoxyCodeLine{209     VariableLookupResult lookup;}
\DoxyCodeLine{210     \textcolor{keywordflow}{if} (script\_context-\/>Lookup(\mbox{\hyperlink{flag-definitions_8h_a3ced3697c19e78b3fb4994a89f46945e}{name}}, \&lookup)) \{}
\DoxyCodeLine{211       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_a2dcc8fdad115890143437f76839010c3}{IsLexicalVariableMode}}(\mbox{\hyperlink{flag-definitions_8h_adaf90f045d5cd2710edd625b8685472a}{mode}}) || \mbox{\hyperlink{namespacev8_1_1internal_a2dcc8fdad115890143437f76839010c3}{IsLexicalVariableMode}}(lookup.mode)) \{}
\DoxyCodeLine{212         DirectHandle<Context> context(script\_context-\/>get(lookup.context\_index),}
\DoxyCodeLine{213                                       isolate);}
\DoxyCodeLine{214         \textcolor{comment}{// If we are trying to redeclare a REPL-\/mode let as a let, REPL-\/mode}}
\DoxyCodeLine{215         \textcolor{comment}{// const as a const, REPL-\/mode using as a using and REPL-\/mode await}}
\DoxyCodeLine{216         \textcolor{comment}{// using as an await using allow it.}}
\DoxyCodeLine{217         \textcolor{keywordflow}{if} (!((\mbox{\hyperlink{flag-definitions_8h_adaf90f045d5cd2710edd625b8685472a}{mode}} == lookup.mode \&\& \mbox{\hyperlink{namespacev8_1_1internal_a2dcc8fdad115890143437f76839010c3}{IsLexicalVariableMode}}(\mbox{\hyperlink{flag-definitions_8h_adaf90f045d5cd2710edd625b8685472a}{mode}})) \&\&}
\DoxyCodeLine{218               scope\_info-\/>IsReplModeScope() \&\&}
\DoxyCodeLine{219               context-\/>scope\_info()-\/>IsReplModeScope())) \{}
\DoxyCodeLine{220           \textcolor{comment}{// ES\#sec-\/globaldeclarationinstantiation 5.b:}}
\DoxyCodeLine{221           \textcolor{comment}{// If envRec.HasLexicalDeclaration(name) is true, throw a SyntaxError}}
\DoxyCodeLine{222           \textcolor{comment}{// exception.}}
\DoxyCodeLine{223           MessageLocation location(\mbox{\hyperlink{namespacev8_1_1internal_afb7e5cd394b9632dddc2e7807b11b2ab}{script}}, 0, 1);}
\DoxyCodeLine{224           isolate-\/>ThrowAt(isolate-\/>factory()-\/>NewSyntaxError(}
\DoxyCodeLine{225                                MessageTemplate::kVarRedeclaration, \mbox{\hyperlink{flag-definitions_8h_a3ced3697c19e78b3fb4994a89f46945e}{name}}),}
\DoxyCodeLine{226                            \&location);}
\DoxyCodeLine{227           \textcolor{keywordflow}{return} MaybeDirectHandle<Context>();}
\DoxyCodeLine{228         \}}
\DoxyCodeLine{229       \}}
\DoxyCodeLine{230     \}}
\DoxyCodeLine{231 }
\DoxyCodeLine{232     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_a2dcc8fdad115890143437f76839010c3}{IsLexicalVariableMode}}(\mbox{\hyperlink{flag-definitions_8h_adaf90f045d5cd2710edd625b8685472a}{mode}})) \{}
\DoxyCodeLine{233       LookupIterator lookup\_it(isolate, global\_object, \mbox{\hyperlink{flag-definitions_8h_a3ced3697c19e78b3fb4994a89f46945e}{name}}, global\_object,}
\DoxyCodeLine{234                                LookupIterator::OWN\_SKIP\_INTERCEPTOR);}
\DoxyCodeLine{235       Maybe<PropertyAttributes> maybe =}
\DoxyCodeLine{236           JSReceiver::GetPropertyAttributes(\&lookup\_it);}
\DoxyCodeLine{237       \textcolor{comment}{// Can't fail since the we looking up own properties on the global object}}
\DoxyCodeLine{238       \textcolor{comment}{// skipping interceptors.}}
\DoxyCodeLine{239       \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(!maybe.IsNothing());}
\DoxyCodeLine{240       \textcolor{keywordflow}{if} ((maybe.FromJust() \& \mbox{\hyperlink{namespacev8_1_1internal_a352f65439007f2f1b85c997c1ba11436ab677707446fd22a1a13247d483c5d9ed}{DONT\_DELETE}}) != 0) \{}
\DoxyCodeLine{241         \textcolor{comment}{// ES\#sec-\/globaldeclarationinstantiation 5.a:}}
\DoxyCodeLine{242         \textcolor{comment}{// If envRec.HasVarDeclaration(name) is true, throw a SyntaxError}}
\DoxyCodeLine{243         \textcolor{comment}{// exception.}}
\DoxyCodeLine{244         \textcolor{comment}{// ES\#sec-\/globaldeclarationinstantiation 5.d:}}
\DoxyCodeLine{245         \textcolor{comment}{// If hasRestrictedGlobal is true, throw a SyntaxError exception.}}
\DoxyCodeLine{246         MessageLocation location(\mbox{\hyperlink{namespacev8_1_1internal_afb7e5cd394b9632dddc2e7807b11b2ab}{script}}, 0, 1);}
\DoxyCodeLine{247         isolate-\/>ThrowAt(isolate-\/>factory()-\/>NewSyntaxError(}
\DoxyCodeLine{248                              MessageTemplate::kVarRedeclaration, \mbox{\hyperlink{flag-definitions_8h_a3ced3697c19e78b3fb4994a89f46945e}{name}}),}
\DoxyCodeLine{249                          \&location);}
\DoxyCodeLine{250         \textcolor{keywordflow}{return} MaybeDirectHandle<Context>();}
\DoxyCodeLine{251       \}}
\DoxyCodeLine{252 }
\DoxyCodeLine{253       JSGlobalObject::InvalidatePropertyCell(global\_object, \mbox{\hyperlink{flag-definitions_8h_a3ced3697c19e78b3fb4994a89f46945e}{name}});}
\DoxyCodeLine{254     \}}
\DoxyCodeLine{255   \}}
\DoxyCodeLine{256 }
\DoxyCodeLine{257   DirectHandle<Context> \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} =}
\DoxyCodeLine{258       isolate-\/>factory()-\/>NewScriptContext(\mbox{\hyperlink{namespacev8_1_1internal_afe601ad9b4b4c61d8a6a700e7db12c2a}{native\_context}}, scope\_info);}
\DoxyCodeLine{259 }
\DoxyCodeLine{260   \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}}-\/>Initialize(isolate);}
\DoxyCodeLine{261   \textcolor{comment}{// In REPL mode, we are allowed to add/modify let/const/using/await using}}
\DoxyCodeLine{262   \textcolor{comment}{// variables. We use the previous defined script context for those.}}
\DoxyCodeLine{263   \textcolor{keyword}{const} \textcolor{keywordtype}{bool} ignore\_duplicates = scope\_info-\/>IsReplModeScope();}
\DoxyCodeLine{264   DirectHandle<ScriptContextTable> new\_script\_context\_table =}
\DoxyCodeLine{265       \mbox{\hyperlink{namespacev8_1_1bigint_a6d4d2ce18897aba0f90b3208eca29a5b}{ScriptContextTable::Add}}(isolate, script\_context, \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}},}
\DoxyCodeLine{266                               ignore\_duplicates);}
\DoxyCodeLine{267   \mbox{\hyperlink{namespacev8_1_1internal_afe601ad9b4b4c61d8a6a700e7db12c2a}{native\_context}}-\/>synchronized\_set\_script\_context\_table(}
\DoxyCodeLine{268       *new\_script\_context\_table);}
\DoxyCodeLine{269   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}};}
\DoxyCodeLine{270 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Script\+Context\+Table\+::\+Add(), CHECK, v8\+::internal\+::\+Isolate\+::context(), v8\+::internal\+::\+Variable\+Lookup\+Result\+::context\+\_\+index, v8\+::internal\+::\+DONT\+\_\+\+DELETE, v8\+::internal\+::\+Isolate\+::factory(), v8\+::\+Maybe$<$ T $>$\+::\+From\+Just(), v8\+::internal\+::\+JSReceiver\+::\+Get\+Property\+Attributes(), v8\+::internal\+::\+JSGlobal\+Object\+::\+Invalidate\+Property\+Cell(), v8\+::internal\+::\+Is\+Lexical\+Variable\+Mode(), v8\+::\+Maybe$<$ T $>$\+::\+Is\+Nothing(), v8\+::internal\+::\+Scope\+Info\+::\+Iterate\+Local\+Names(), mode(), v8\+::internal\+::\+Variable\+Lookup\+Result\+::mode, v8\+::internal\+::name, v8\+::internal\+::native\+\_\+context, v8\+::internal\+::\+Factory\+::\+New\+Script\+Context(), v8\+::internal\+::\+Lookup\+Iterator\+::\+OWN\+\_\+\+SKIP\+\_\+\+INTERCEPTOR, v8\+::base\+::internal\+::result, v8\+::internal\+::script, v8\+::internal\+::\+Isolate\+::should\+\_\+check\+\_\+side\+\_\+effects(), v8\+::internal\+::\+Isolate\+::\+Throw(), and v8\+::internal\+::\+Isolate\+::\+Throw\+At().



Referenced by Invoke().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02execution_8cc_03_a84c2a1ee9a4c1487e2af2343a9d076a7_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{namespacev8_1_1internal_1_1anonymous__namespace_02execution_8cc_03_a84c2a1ee9a4c1487e2af2343a9d076a7_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02execution_8cc_03_a5205461833d0bcbdedcb131c1d30b919}\label{namespacev8_1_1internal_1_1anonymous__namespace_02execution_8cc_03_a5205461833d0bcbdedcb131c1d30b919}} 
\index{v8::internal::anonymous\_namespace\lcurly{}execution.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}execution.cc\rcurly{}}!NormalizeReceiver@{NormalizeReceiver}}
\index{NormalizeReceiver@{NormalizeReceiver}!v8::internal::anonymous\_namespace\lcurly{}execution.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}execution.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{NormalizeReceiver()}{NormalizeReceiver()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}}$>$ v8\+::internal\+::anonymous\+\_\+namespace\{execution.\+cc\}\+::Normalize\+Receiver (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}} $>$}]{receiver }\end{DoxyParamCaption})}



Definition at line 25 of file execution.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{26                                                                       \{}
\DoxyCodeLine{27   \textcolor{comment}{// Convert calls on global objects to be calls on the global}}
\DoxyCodeLine{28   \textcolor{comment}{// receiver instead to avoid having a 'this' pointer which refers}}
\DoxyCodeLine{29   \textcolor{comment}{// directly to a global object.}}
\DoxyCodeLine{30   \textcolor{keywordflow}{if} (IsJSGlobalObject(*receiver)) \{}
\DoxyCodeLine{31     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_a73502f55102d18cb764881bc29f35c05}{direct\_handle}}(Cast<JSGlobalObject>(receiver)-\/>global\_proxy(),}
\DoxyCodeLine{32                          isolate);}
\DoxyCodeLine{33   \}}
\DoxyCodeLine{34   \textcolor{keywordflow}{return} receiver;}
\DoxyCodeLine{35 \}}

\end{DoxyCode}


References v8\+::internal\+::direct\+\_\+handle().



Referenced by v8\+::internal\+::anonymous\+\_\+namespace\{execution.\+cc\}\+::\+Invoke\+Params\+::\+Set\+Up\+For\+Call(), and v8\+::internal\+::anonymous\+\_\+namespace\{execution.\+cc\}\+::\+Invoke\+Params\+::\+Set\+Up\+For\+Try\+Call().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02execution_8cc_03_a5205461833d0bcbdedcb131c1d30b919_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02execution_8cc_03_a5205461833d0bcbdedcb131c1d30b919_icgraph}
\end{center}
\end{figure}
