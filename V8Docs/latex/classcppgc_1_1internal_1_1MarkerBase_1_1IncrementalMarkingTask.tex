\hypertarget{classcppgc_1_1internal_1_1MarkerBase_1_1IncrementalMarkingTask}{}\doxysection{cppgc\+::internal\+::Marker\+Base\+::Incremental\+Marking\+Task Class Reference}
\label{classcppgc_1_1internal_1_1MarkerBase_1_1IncrementalMarkingTask}\index{cppgc::internal::MarkerBase::IncrementalMarkingTask@{cppgc::internal::MarkerBase::IncrementalMarkingTask}}


Inheritance diagram for cppgc\+::internal\+::Marker\+Base\+::Incremental\+Marking\+Task\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=235pt]{classcppgc_1_1internal_1_1MarkerBase_1_1IncrementalMarkingTask__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for cppgc\+::internal\+::Marker\+Base\+::Incremental\+Marking\+Task\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcppgc_1_1internal_1_1MarkerBase_1_1IncrementalMarkingTask__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
using \mbox{\hyperlink{classcppgc_1_1internal_1_1MarkerBase_1_1IncrementalMarkingTask_ab7d52b620336746211a7bf1c66b24e2c}{Handle}} = \mbox{\hyperlink{structcppgc_1_1internal_1_1SingleThreadedHandle}{Single\+Threaded\+Handle}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcppgc_1_1internal_1_1MarkerBase_1_1IncrementalMarkingTask_af53fe59087bbefc4b17a69b9b2ed4742}{Incremental\+Marking\+Task}} (\mbox{\hyperlink{classcppgc_1_1internal_1_1MarkerBase}{Marker\+Base}} $\ast$, \mbox{\hyperlink{namespacecppgc_a91b484d5d6eea7664c25f4050c0d6eb8}{Stack\+State}})
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{classcppgc_1_1internal_1_1MarkerBase_1_1IncrementalMarkingTask_ab7d52b620336746211a7bf1c66b24e2c}{Handle}} \mbox{\hyperlink{classcppgc_1_1internal_1_1MarkerBase_1_1IncrementalMarkingTask_a101587f0701aa584ab0ba4472f9e667e}{Post}} (\mbox{\hyperlink{namespacecppgc_a3c2b2bee060b35e6507a2d25c5e5abc7}{cppgc\+::\+Task\+Runner}} $\ast$, \mbox{\hyperlink{classcppgc_1_1internal_1_1MarkerBase}{Marker\+Base}} $\ast$)
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classcppgc_1_1internal_1_1MarkerBase_1_1IncrementalMarkingTask_a050f9223c713cec84a10ec532220ed72}{Run}} () final
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcppgc_1_1internal_1_1MarkerBase}{Marker\+Base}} $\ast$const \mbox{\hyperlink{classcppgc_1_1internal_1_1MarkerBase_1_1IncrementalMarkingTask_a54b1baa1e42f99ea8b667acdc83807ed}{marker\+\_\+}}
\item 
\mbox{\hyperlink{namespacecppgc_a91b484d5d6eea7664c25f4050c0d6eb8}{Stack\+State}} \mbox{\hyperlink{classcppgc_1_1internal_1_1MarkerBase_1_1IncrementalMarkingTask_ad8a71849fe306295ed228dafb0e38f23}{stack\+\_\+state\+\_\+}}
\item 
\mbox{\hyperlink{classcppgc_1_1internal_1_1MarkerBase_1_1IncrementalMarkingTask_ab7d52b620336746211a7bf1c66b24e2c}{Handle}} \mbox{\hyperlink{classcppgc_1_1internal_1_1MarkerBase_1_1IncrementalMarkingTask_a78da65fc6bb9bf6186c88363674816f4}{handle\+\_\+}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 92 of file marker.\+cc.



\doxysubsection{Member Typedef Documentation}
\mbox{\Hypertarget{classcppgc_1_1internal_1_1MarkerBase_1_1IncrementalMarkingTask_ab7d52b620336746211a7bf1c66b24e2c}\label{classcppgc_1_1internal_1_1MarkerBase_1_1IncrementalMarkingTask_ab7d52b620336746211a7bf1c66b24e2c}} 
\index{cppgc::internal::MarkerBase::IncrementalMarkingTask@{cppgc::internal::MarkerBase::IncrementalMarkingTask}!Handle@{Handle}}
\index{Handle@{Handle}!cppgc::internal::MarkerBase::IncrementalMarkingTask@{cppgc::internal::MarkerBase::IncrementalMarkingTask}}
\doxysubsubsection{\texorpdfstring{Handle}{Handle}}
{\footnotesize\ttfamily using \mbox{\hyperlink{classcppgc_1_1internal_1_1MarkerBase_1_1IncrementalMarkingTask_ab7d52b620336746211a7bf1c66b24e2c}{cppgc\+::internal\+::\+Marker\+Base\+::\+Incremental\+Marking\+Task\+::\+Handle}} =  \mbox{\hyperlink{structcppgc_1_1internal_1_1SingleThreadedHandle}{Single\+Threaded\+Handle}}}



Definition at line 94 of file marker.\+cc.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classcppgc_1_1internal_1_1MarkerBase_1_1IncrementalMarkingTask_af53fe59087bbefc4b17a69b9b2ed4742}\label{classcppgc_1_1internal_1_1MarkerBase_1_1IncrementalMarkingTask_af53fe59087bbefc4b17a69b9b2ed4742}} 
\index{cppgc::internal::MarkerBase::IncrementalMarkingTask@{cppgc::internal::MarkerBase::IncrementalMarkingTask}!IncrementalMarkingTask@{IncrementalMarkingTask}}
\index{IncrementalMarkingTask@{IncrementalMarkingTask}!cppgc::internal::MarkerBase::IncrementalMarkingTask@{cppgc::internal::MarkerBase::IncrementalMarkingTask}}
\doxysubsubsection{\texorpdfstring{IncrementalMarkingTask()}{IncrementalMarkingTask()}}
{\footnotesize\ttfamily cppgc\+::internal\+::\+Marker\+Base\+::\+Incremental\+Marking\+Task\+::\+Incremental\+Marking\+Task (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcppgc_1_1internal_1_1MarkerBase}{Marker\+Base}} $\ast$}]{marker,  }\item[{\mbox{\hyperlink{namespacecppgc_a91b484d5d6eea7664c25f4050c0d6eb8}{Stack\+State}}}]{stack\+\_\+state }\end{DoxyParamCaption})}



Definition at line 109 of file marker.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{111     : \mbox{\hyperlink{classcppgc_1_1internal_1_1MarkerBase_1_1IncrementalMarkingTask_a54b1baa1e42f99ea8b667acdc83807ed}{marker\_}}(marker),}
\DoxyCodeLine{112       \mbox{\hyperlink{classcppgc_1_1internal_1_1MarkerBase_1_1IncrementalMarkingTask_ad8a71849fe306295ed228dafb0e38f23}{stack\_state\_}}(stack\_state),}
\DoxyCodeLine{113       \mbox{\hyperlink{classcppgc_1_1internal_1_1MarkerBase_1_1IncrementalMarkingTask_a78da65fc6bb9bf6186c88363674816f4}{handle\_}}(Handle::NonEmptyTag\{\}) \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classcppgc_1_1internal_1_1MarkerBase_1_1IncrementalMarkingTask_a101587f0701aa584ab0ba4472f9e667e}\label{classcppgc_1_1internal_1_1MarkerBase_1_1IncrementalMarkingTask_a101587f0701aa584ab0ba4472f9e667e}} 
\index{cppgc::internal::MarkerBase::IncrementalMarkingTask@{cppgc::internal::MarkerBase::IncrementalMarkingTask}!Post@{Post}}
\index{Post@{Post}!cppgc::internal::MarkerBase::IncrementalMarkingTask@{cppgc::internal::MarkerBase::IncrementalMarkingTask}}
\doxysubsubsection{\texorpdfstring{Post()}{Post()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classcppgc_1_1internal_1_1MarkerBase_1_1IncrementalMarkingTask_ab7d52b620336746211a7bf1c66b24e2c}{Marker\+Base\+::\+Incremental\+Marking\+Task\+::\+Handle}} cppgc\+::internal\+::\+Marker\+Base\+::\+Incremental\+Marking\+Task\+::\+Post (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacecppgc_a3c2b2bee060b35e6507a2d25c5e5abc7}{cppgc\+::\+Task\+Runner}} $\ast$}]{runner,  }\item[{\mbox{\hyperlink{classcppgc_1_1internal_1_1MarkerBase}{Marker\+Base}} $\ast$}]{marker }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 117 of file marker.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{118                                                              \{}
\DoxyCodeLine{119   \textcolor{comment}{// Incremental GC is possible only via the GCInvoker, so getting here}}
\DoxyCodeLine{120   \textcolor{comment}{// guarantees that either non-\/nestable tasks or conservative stack}}
\DoxyCodeLine{121   \textcolor{comment}{// scanning are supported. This is required so that the incremental}}
\DoxyCodeLine{122   \textcolor{comment}{// task can safely finalize GC if needed.}}
\DoxyCodeLine{123   \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(marker-\/>heap().stack\_support() !=}
\DoxyCodeLine{124                      \mbox{\hyperlink{classcppgc_1_1Heap_a4be1c0d603f8273f64e771f60e22bb27a59c6cb8f57b8d83710b7cf293a08d820}{HeapBase::StackSupport::kSupportsConservativeStackScan}},}
\DoxyCodeLine{125                  runner-\/>\mbox{\hyperlink{classv8_1_1TaskRunner_a7042a9967ddaaf1f995e568c3dd7ce64}{NonNestableTasksEnabled}}());}
\DoxyCodeLine{126 }
\DoxyCodeLine{127   \textcolor{keyword}{const} \textcolor{keywordtype}{bool} non\_nestable\_tasks\_enabled = runner-\/>\mbox{\hyperlink{classv8_1_1TaskRunner_a7042a9967ddaaf1f995e568c3dd7ce64}{NonNestableTasksEnabled}}();}
\DoxyCodeLine{128 }
\DoxyCodeLine{129   \textcolor{keyword}{auto} task = std::make\_unique<IncrementalMarkingTask>(}
\DoxyCodeLine{130       marker, non\_nestable\_tasks\_enabled ? StackState::kNoHeapPointers}
\DoxyCodeLine{131                                          : StackState::kMayContainHeapPointers);}
\DoxyCodeLine{132   \textcolor{keyword}{auto} \mbox{\hyperlink{namespacev8_1_1internal_a8c89f00da07e125218128b9fbf0a321c}{handle}} = task-\/>handle\_;}
\DoxyCodeLine{133   \textcolor{keywordflow}{if} (non\_nestable\_tasks\_enabled) \{}
\DoxyCodeLine{134     runner-\/>\mbox{\hyperlink{classv8_1_1TaskRunner_abbd03eca8491a45cf0a6cf1c441cd410}{PostNonNestableTask}}(std::move(task));}
\DoxyCodeLine{135   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{136     runner-\/>\mbox{\hyperlink{classv8_1_1TaskRunner_a6873e0f1b38b28a4e6e98651b0fe8509}{PostTask}}(std::move(task));}
\DoxyCodeLine{137   \}}
\DoxyCodeLine{138   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_a8c89f00da07e125218128b9fbf0a321c}{handle}};}
\DoxyCodeLine{139 \}}

\end{DoxyCode}


References DCHECK\+\_\+\+IMPLIES, v8\+::internal\+::handle(), cppgc\+::internal\+::\+Marker\+Base\+::heap(), cppgc\+::\+Heap\+::k\+Supports\+Conservative\+Stack\+Scan, v8\+::\+Task\+Runner\+::\+Non\+Nestable\+Tasks\+Enabled(), v8\+::\+Task\+Runner\+::\+Post\+Non\+Nestable\+Task(), v8\+::\+Task\+Runner\+::\+Post\+Task(), and cppgc\+::internal\+::\+Heap\+Base\+::stack\+\_\+support().



Referenced by cppgc\+::internal\+::\+Marker\+Base\+::\+Schedule\+Incremental\+Marking\+Task().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcppgc_1_1internal_1_1MarkerBase_1_1IncrementalMarkingTask_a101587f0701aa584ab0ba4472f9e667e_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcppgc_1_1internal_1_1MarkerBase_1_1IncrementalMarkingTask_a101587f0701aa584ab0ba4472f9e667e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcppgc_1_1internal_1_1MarkerBase_1_1IncrementalMarkingTask_a050f9223c713cec84a10ec532220ed72}\label{classcppgc_1_1internal_1_1MarkerBase_1_1IncrementalMarkingTask_a050f9223c713cec84a10ec532220ed72}} 
\index{cppgc::internal::MarkerBase::IncrementalMarkingTask@{cppgc::internal::MarkerBase::IncrementalMarkingTask}!Run@{Run}}
\index{Run@{Run}!cppgc::internal::MarkerBase::IncrementalMarkingTask@{cppgc::internal::MarkerBase::IncrementalMarkingTask}}
\doxysubsubsection{\texorpdfstring{Run()}{Run()}}
{\footnotesize\ttfamily void cppgc\+::internal\+::\+Marker\+Base\+::\+Incremental\+Marking\+Task\+::\+Run (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [final]}, {\ttfamily [private]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classv8_1_1Task_a6bd5bda0e357fcc2e727bf7b0170f99a}{v8\+::\+Task}}.



Definition at line 141 of file marker.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{141                                            \{}
\DoxyCodeLine{142   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classcppgc_1_1internal_1_1MarkerBase_1_1IncrementalMarkingTask_a78da65fc6bb9bf6186c88363674816f4}{handle\_}}.\mbox{\hyperlink{structcppgc_1_1internal_1_1SingleThreadedHandle_a1a77e0d9c749d6abfca0693fa84016af}{IsCanceled}}()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{143 }
\DoxyCodeLine{144   \mbox{\hyperlink{classcppgc_1_1internal_1_1StatsCollector_a84f776d47ac0f9fb8a4cbb0dd5a86037}{StatsCollector::EnabledScope}} stats\_scope(\mbox{\hyperlink{classcppgc_1_1internal_1_1MarkerBase_1_1IncrementalMarkingTask_a54b1baa1e42f99ea8b667acdc83807ed}{marker\_}}-\/>\mbox{\hyperlink{classcppgc_1_1internal_1_1MarkerBase_ad4c054518558321eca9ba15b28f1d88a}{heap}}().\mbox{\hyperlink{classcppgc_1_1internal_1_1HeapBase_a2b71dc778a025435fa06a9129f05bb6e}{stats\_collector}}(),}
\DoxyCodeLine{145                                            StatsCollector::kIncrementalMark);}
\DoxyCodeLine{146 }
\DoxyCodeLine{147   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classcppgc_1_1internal_1_1MarkerBase_1_1IncrementalMarkingTask_a54b1baa1e42f99ea8b667acdc83807ed}{marker\_}}-\/>\mbox{\hyperlink{classcppgc_1_1internal_1_1MarkerBase_a81249571d350ce05e77d207365ab0cd7}{IncrementalMarkingStep}}(\mbox{\hyperlink{classcppgc_1_1internal_1_1MarkerBase_1_1IncrementalMarkingTask_ad8a71849fe306295ed228dafb0e38f23}{stack\_state\_}})) \{}
\DoxyCodeLine{148     \textcolor{comment}{// Incremental marking is done so should finalize GC.}}
\DoxyCodeLine{149     \mbox{\hyperlink{classcppgc_1_1internal_1_1MarkerBase_1_1IncrementalMarkingTask_a54b1baa1e42f99ea8b667acdc83807ed}{marker\_}}-\/>\mbox{\hyperlink{classcppgc_1_1internal_1_1MarkerBase_ad4c054518558321eca9ba15b28f1d88a}{heap}}().\mbox{\hyperlink{classcppgc_1_1internal_1_1HeapBase_a0d1582d91f3a54fbb72c4cd84ada223f}{FinalizeIncrementalGarbageCollectionIfNeeded}}(\mbox{\hyperlink{classcppgc_1_1internal_1_1MarkerBase_1_1IncrementalMarkingTask_ad8a71849fe306295ed228dafb0e38f23}{stack\_state\_}});}
\DoxyCodeLine{150   \}}
\DoxyCodeLine{151 \}}

\end{DoxyCode}


References cppgc\+::internal\+::\+Heap\+Base\+::\+Finalize\+Incremental\+Garbage\+Collection\+If\+Needed(), handle\+\_\+, cppgc\+::internal\+::\+Marker\+Base\+::heap(), cppgc\+::internal\+::\+Marker\+Base\+::\+Incremental\+Marking\+Step(), cppgc\+::internal\+::\+Single\+Threaded\+Handle\+::\+Is\+Canceled(), marker\+\_\+, stack\+\_\+state\+\_\+, and cppgc\+::internal\+::\+Heap\+Base\+::stats\+\_\+collector().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcppgc_1_1internal_1_1MarkerBase_1_1IncrementalMarkingTask_a050f9223c713cec84a10ec532220ed72_cgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classcppgc_1_1internal_1_1MarkerBase_1_1IncrementalMarkingTask_a78da65fc6bb9bf6186c88363674816f4}\label{classcppgc_1_1internal_1_1MarkerBase_1_1IncrementalMarkingTask_a78da65fc6bb9bf6186c88363674816f4}} 
\index{cppgc::internal::MarkerBase::IncrementalMarkingTask@{cppgc::internal::MarkerBase::IncrementalMarkingTask}!handle\_@{handle\_}}
\index{handle\_@{handle\_}!cppgc::internal::MarkerBase::IncrementalMarkingTask@{cppgc::internal::MarkerBase::IncrementalMarkingTask}}
\doxysubsubsection{\texorpdfstring{handle\_}{handle\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classcppgc_1_1internal_1_1MarkerBase_1_1IncrementalMarkingTask_ab7d52b620336746211a7bf1c66b24e2c}{Handle}} cppgc\+::internal\+::\+Marker\+Base\+::\+Incremental\+Marking\+Task\+::handle\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 106 of file marker.\+cc.



Referenced by Run().

\mbox{\Hypertarget{classcppgc_1_1internal_1_1MarkerBase_1_1IncrementalMarkingTask_a54b1baa1e42f99ea8b667acdc83807ed}\label{classcppgc_1_1internal_1_1MarkerBase_1_1IncrementalMarkingTask_a54b1baa1e42f99ea8b667acdc83807ed}} 
\index{cppgc::internal::MarkerBase::IncrementalMarkingTask@{cppgc::internal::MarkerBase::IncrementalMarkingTask}!marker\_@{marker\_}}
\index{marker\_@{marker\_}!cppgc::internal::MarkerBase::IncrementalMarkingTask@{cppgc::internal::MarkerBase::IncrementalMarkingTask}}
\doxysubsubsection{\texorpdfstring{marker\_}{marker\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classcppgc_1_1internal_1_1MarkerBase}{Marker\+Base}}$\ast$ const cppgc\+::internal\+::\+Marker\+Base\+::\+Incremental\+Marking\+Task\+::marker\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 103 of file marker.\+cc.



Referenced by Run().

\mbox{\Hypertarget{classcppgc_1_1internal_1_1MarkerBase_1_1IncrementalMarkingTask_ad8a71849fe306295ed228dafb0e38f23}\label{classcppgc_1_1internal_1_1MarkerBase_1_1IncrementalMarkingTask_ad8a71849fe306295ed228dafb0e38f23}} 
\index{cppgc::internal::MarkerBase::IncrementalMarkingTask@{cppgc::internal::MarkerBase::IncrementalMarkingTask}!stack\_state\_@{stack\_state\_}}
\index{stack\_state\_@{stack\_state\_}!cppgc::internal::MarkerBase::IncrementalMarkingTask@{cppgc::internal::MarkerBase::IncrementalMarkingTask}}
\doxysubsubsection{\texorpdfstring{stack\_state\_}{stack\_state\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacecppgc_a91b484d5d6eea7664c25f4050c0d6eb8}{Stack\+State}} cppgc\+::internal\+::\+Marker\+Base\+::\+Incremental\+Marking\+Task\+::stack\+\_\+state\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 104 of file marker.\+cc.



Referenced by Run().



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/heap/cppgc/\mbox{\hyperlink{marker_8cc}{marker.\+cc}}\end{DoxyCompactItemize}
