\hypertarget{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator}{}\doxysection{v8\+::internal\+::compiler\+::Reference\+Map\+Populator Class Reference}
\label{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator}\index{v8::internal::compiler::ReferenceMapPopulator@{v8::internal::compiler::ReferenceMapPopulator}}


{\ttfamily \#include $<$register-\/allocator.\+h$>$}



Inheritance diagram for v8\+::internal\+::compiler\+::Reference\+Map\+Populator\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=234pt]{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for v8\+::internal\+::compiler\+::Reference\+Map\+Populator\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator_aa2bab56c73daa6fb0ef0d1aa17356177}{Reference\+Map\+Populator}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData}{Register\+Allocation\+Data}} $\ast$\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator_afa15065e0cdfd783197efb7834a27683}{data}})
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator_af5aa5db571fdf772ec8b7ace1e876f4c}{Reference\+Map\+Populator}} (const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator}{Reference\+Map\+Populator}} \&)=delete
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator}{Reference\+Map\+Populator}} \& \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator_a3b5b8b728ff907bdb4381e989556a9b5}{operator=}} (const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator}{Reference\+Map\+Populator}} \&)=delete
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator_aa5b8cd9b9b7b7ce4b30f775a6f1c3cf6}{Populate\+Reference\+Maps}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData}{Register\+Allocation\+Data}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator_afa15065e0cdfd783197efb7834a27683}{data}} () const
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a28d08f40d5dc488600051ba2ef537284}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator_acfa337badd7dd7844b7ce1fb7e15b76c}{Safe\+Points\+Are\+In\+Order}} () const
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData}{Register\+Allocation\+Data}} $\ast$const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator_adadfb70c540f8ef81765d8e9f8d786ad}{data\+\_\+}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 1717 of file register-\/allocator.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator_aa2bab56c73daa6fb0ef0d1aa17356177}\label{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator_aa2bab56c73daa6fb0ef0d1aa17356177}} 
\index{v8::internal::compiler::ReferenceMapPopulator@{v8::internal::compiler::ReferenceMapPopulator}!ReferenceMapPopulator@{ReferenceMapPopulator}}
\index{ReferenceMapPopulator@{ReferenceMapPopulator}!v8::internal::compiler::ReferenceMapPopulator@{v8::internal::compiler::ReferenceMapPopulator}}
\doxysubsubsection{\texorpdfstring{ReferenceMapPopulator()}{ReferenceMapPopulator()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily v8\+::internal\+::compiler\+::\+Reference\+Map\+Populator\+::\+Reference\+Map\+Populator (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData}{Register\+Allocation\+Data}} $\ast$}]{data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}



Definition at line 4758 of file register-\/allocator.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4759     : \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator_adadfb70c540f8ef81765d8e9f8d786ad}{data\_}}(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator_afa15065e0cdfd783197efb7834a27683}{data}}) \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator_af5aa5db571fdf772ec8b7ace1e876f4c}\label{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator_af5aa5db571fdf772ec8b7ace1e876f4c}} 
\index{v8::internal::compiler::ReferenceMapPopulator@{v8::internal::compiler::ReferenceMapPopulator}!ReferenceMapPopulator@{ReferenceMapPopulator}}
\index{ReferenceMapPopulator@{ReferenceMapPopulator}!v8::internal::compiler::ReferenceMapPopulator@{v8::internal::compiler::ReferenceMapPopulator}}
\doxysubsubsection{\texorpdfstring{ReferenceMapPopulator()}{ReferenceMapPopulator()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily v8\+::internal\+::compiler\+::\+Reference\+Map\+Populator\+::\+Reference\+Map\+Populator (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator}{Reference\+Map\+Populator}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator_afa15065e0cdfd783197efb7834a27683}\label{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator_afa15065e0cdfd783197efb7834a27683}} 
\index{v8::internal::compiler::ReferenceMapPopulator@{v8::internal::compiler::ReferenceMapPopulator}!data@{data}}
\index{data@{data}!v8::internal::compiler::ReferenceMapPopulator@{v8::internal::compiler::ReferenceMapPopulator}}
\doxysubsubsection{\texorpdfstring{data()}{data()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData}{Register\+Allocation\+Data}}$\ast$ v8\+::internal\+::compiler\+::\+Reference\+Map\+Populator\+::data (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 1727 of file register-\/allocator.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{1727 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator_adadfb70c540f8ef81765d8e9f8d786ad}{data\_}}; \}}

\end{DoxyCode}


References data\+\_\+.



Referenced by Populate\+Reference\+Maps(), and Safe\+Points\+Are\+In\+Order().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator_afa15065e0cdfd783197efb7834a27683_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator_a3b5b8b728ff907bdb4381e989556a9b5}\label{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator_a3b5b8b728ff907bdb4381e989556a9b5}} 
\index{v8::internal::compiler::ReferenceMapPopulator@{v8::internal::compiler::ReferenceMapPopulator}!operator=@{operator=}}
\index{operator=@{operator=}!v8::internal::compiler::ReferenceMapPopulator@{v8::internal::compiler::ReferenceMapPopulator}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator}{Reference\+Map\+Populator}}\& v8\+::internal\+::compiler\+::\+Reference\+Map\+Populator\+::operator= (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator}{Reference\+Map\+Populator}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}

\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator_aa5b8cd9b9b7b7ce4b30f775a6f1c3cf6}\label{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator_aa5b8cd9b9b7b7ce4b30f775a6f1c3cf6}} 
\index{v8::internal::compiler::ReferenceMapPopulator@{v8::internal::compiler::ReferenceMapPopulator}!PopulateReferenceMaps@{PopulateReferenceMaps}}
\index{PopulateReferenceMaps@{PopulateReferenceMaps}!v8::internal::compiler::ReferenceMapPopulator@{v8::internal::compiler::ReferenceMapPopulator}}
\doxysubsubsection{\texorpdfstring{PopulateReferenceMaps()}{PopulateReferenceMaps()}}
{\footnotesize\ttfamily void v8\+::internal\+::compiler\+::\+Reference\+Map\+Populator\+::\+Populate\+Reference\+Maps (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 4770 of file register-\/allocator.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4770                                                   \{}
\DoxyCodeLine{4771   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator_acfa337badd7dd7844b7ce1fb7e15b76c}{SafePointsAreInOrder}}());}
\DoxyCodeLine{4772   \textcolor{comment}{// Map all delayed references.}}
\DoxyCodeLine{4773   \textcolor{keywordflow}{for} (RegisterAllocationData::DelayedReference\& delayed\_reference :}
\DoxyCodeLine{4774        \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator_afa15065e0cdfd783197efb7834a27683}{data}}()-\/>delayed\_references()) \{}
\DoxyCodeLine{4775     delayed\_reference.map-\/>RecordReference(}
\DoxyCodeLine{4776         \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LocationOperand_a14a0a8abb4b6ac796e0fae75948a270e}{AllocatedOperand::cast}}(*delayed\_reference.operand));}
\DoxyCodeLine{4777   \}}
\DoxyCodeLine{4778   \textcolor{comment}{// Iterate over all safe point positions and record a pointer}}
\DoxyCodeLine{4779   \textcolor{comment}{// for all spilled live ranges at this point.}}
\DoxyCodeLine{4780   \textcolor{keywordtype}{int} last\_range\_start = 0;}
\DoxyCodeLine{4781   \textcolor{keyword}{const} \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a31158142b24f9d0eb023e166dcdca435}{ReferenceMaps}}* reference\_maps = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator_afa15065e0cdfd783197efb7834a27683}{data}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData_a1630a04f46aa84989f4b07c24e0ab067}{code}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionSequence_a0c2622ece08501c325267c661f16c578}{reference\_maps}}();}
\DoxyCodeLine{4782   \mbox{\hyperlink{classv8_1_1internal_1_1ZoneVector_a9ee44e697f9822b57268e34e402c3594}{ReferenceMaps::const\_iterator}} first\_it = reference\_maps-\/>begin();}
\DoxyCodeLine{4783   \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} live\_ranges\_size = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator_afa15065e0cdfd783197efb7834a27683}{data}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData_afc8a4b3c66832eb2ee286f35aa13b963}{live\_ranges}}().size();}
\DoxyCodeLine{4784   \textcolor{comment}{// Select subset of `TopLevelLiveRange`s to process, sort them by their start.}}
\DoxyCodeLine{4785   ZoneVector<TopLevelLiveRange*> candidate\_ranges(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator_afa15065e0cdfd783197efb7834a27683}{data}}()-\/>allocation\_zone());}
\DoxyCodeLine{4786   candidate\_ranges.reserve(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator_afa15065e0cdfd783197efb7834a27683}{data}}()-\/>live\_ranges().\mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}());}
\DoxyCodeLine{4787   \textcolor{keywordflow}{for} (TopLevelLiveRange* range : \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator_afa15065e0cdfd783197efb7834a27683}{data}}()-\/>live\_ranges()) \{}
\DoxyCodeLine{4788     \mbox{\hyperlink{src_2base_2logging_8h_aca32614b4d2aea7dd9abdeb222bf02f3}{CHECK\_EQ}}(live\_ranges\_size,}
\DoxyCodeLine{4789              \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator_afa15065e0cdfd783197efb7834a27683}{data}}()-\/>live\_ranges().\mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}());  \textcolor{comment}{// TODO(neis): crbug.com/831822}}
\DoxyCodeLine{4790     \mbox{\hyperlink{src_2base_2logging_8h_a7b9f9517fedacc2a1a56c2bbb9d03688}{DCHECK\_NOT\_NULL}}(range);}
\DoxyCodeLine{4791     \textcolor{comment}{// Skip non-\/reference values.}}
\DoxyCodeLine{4792     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator_afa15065e0cdfd783197efb7834a27683}{data}}()-\/>\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}()-\/>IsReference(range-\/>vreg())) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{4793     \textcolor{comment}{// Skip empty live ranges.}}
\DoxyCodeLine{4794     \textcolor{keywordflow}{if} (range-\/>IsEmpty()) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{4795     \textcolor{keywordflow}{if} (range-\/>has\_preassigned\_slot()) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{4796     candidate\_ranges.push\_back(range);}
\DoxyCodeLine{4797   \}}
\DoxyCodeLine{4798   \mbox{\hyperlink{namespacev8_1_1base_ae8575343c68d7ad91cf7aaf24cd6643f}{std::sort}}(candidate\_ranges.begin(), candidate\_ranges.end(),}
\DoxyCodeLine{4799             LiveRangeOrdering());}
\DoxyCodeLine{4800   \textcolor{keywordflow}{for} (TopLevelLiveRange* range : candidate\_ranges) \{}
\DoxyCodeLine{4801     \textcolor{comment}{// Find the extent of the range and its children.}}
\DoxyCodeLine{4802     \textcolor{keywordtype}{int} start = range-\/>Start().ToInstructionIndex();}
\DoxyCodeLine{4803     \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}} = range-\/>Children().back()-\/>End().ToInstructionIndex();}
\DoxyCodeLine{4804 }
\DoxyCodeLine{4805     \textcolor{comment}{// Ranges should be sorted, so that the first reference map in the current}}
\DoxyCodeLine{4806     \textcolor{comment}{// live range has to be after \{first\_it\}.}}
\DoxyCodeLine{4807     \mbox{\hyperlink{src_2base_2logging_8h_a16b382527f19b805fc8f856668f2270b}{DCHECK\_LE}}(last\_range\_start, start);}
\DoxyCodeLine{4808     last\_range\_start = start;}
\DoxyCodeLine{4809     \mbox{\hyperlink{src_2base_2macros_8h_a280b0798f270f4b3f361c9ab64832956}{USE}}(last\_range\_start);}
\DoxyCodeLine{4810 }
\DoxyCodeLine{4811     \textcolor{comment}{// Step across all the safe points that are before the start of this range,}}
\DoxyCodeLine{4812     \textcolor{comment}{// recording how far we step in order to save doing this for the next range.}}
\DoxyCodeLine{4813     \textcolor{keywordflow}{for} (; first\_it != reference\_maps-\/>end(); ++first\_it) \{}
\DoxyCodeLine{4814       ReferenceMap* map = *first\_it;}
\DoxyCodeLine{4815       \textcolor{keywordflow}{if} (map-\/>instruction\_position() >= start) \textcolor{keywordflow}{break};}
\DoxyCodeLine{4816     \}}
\DoxyCodeLine{4817 }
\DoxyCodeLine{4818     InstructionOperand spill\_operand;}
\DoxyCodeLine{4819     \textcolor{keywordflow}{if} (((range-\/>HasSpillOperand() \&\&}
\DoxyCodeLine{4820           !range-\/>GetSpillOperand()-\/>IsConstant()) ||}
\DoxyCodeLine{4821          range-\/>HasSpillRange())) \{}
\DoxyCodeLine{4822       \textcolor{keywordflow}{if} (range-\/>HasSpillOperand()) \{}
\DoxyCodeLine{4823         spill\_operand = *range-\/>GetSpillOperand();}
\DoxyCodeLine{4824       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{4825         spill\_operand = range-\/>GetSpillRangeOperand();}
\DoxyCodeLine{4826       \}}
\DoxyCodeLine{4827       \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(spill\_operand.IsStackSlot());}
\DoxyCodeLine{4828       \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{namespacev8_1_1internal_a46754c57901c164398d984eeff6b891b}{CanBeTaggedOrCompressedPointer}}(}
\DoxyCodeLine{4829           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LocationOperand_a14a0a8abb4b6ac796e0fae75948a270e}{AllocatedOperand::cast}}(spill\_operand).representation()));}
\DoxyCodeLine{4830     \}}
\DoxyCodeLine{4831 }
\DoxyCodeLine{4832     LiveRange* cur = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{4833     \textcolor{comment}{// Step through the safe points to see whether they are in the range.}}
\DoxyCodeLine{4834     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} it = first\_it; it != reference\_maps-\/>end(); ++it) \{}
\DoxyCodeLine{4835       ReferenceMap* map = *it;}
\DoxyCodeLine{4836       \textcolor{keywordtype}{int} safe\_point = map-\/>instruction\_position();}
\DoxyCodeLine{4837 }
\DoxyCodeLine{4838       \textcolor{comment}{// The safe points are sorted so we can stop searching here.}}
\DoxyCodeLine{4839       \textcolor{keywordflow}{if} (safe\_point -\/ 1 > \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}}) \textcolor{keywordflow}{break};}
\DoxyCodeLine{4840 }
\DoxyCodeLine{4841       \textcolor{comment}{// Advance to the next active range that covers the current}}
\DoxyCodeLine{4842       \textcolor{comment}{// safe point position.}}
\DoxyCodeLine{4843       LifetimePosition safe\_point\_pos =}
\DoxyCodeLine{4844           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LifetimePosition_a32d9eb60b66b5eddb94c8a8bd69a877c}{LifetimePosition::InstructionFromInstructionIndex}}(safe\_point);}
\DoxyCodeLine{4845 }
\DoxyCodeLine{4846       \textcolor{comment}{// Search for the child range (cur) that covers safe\_point\_pos. If we}}
\DoxyCodeLine{4847       \textcolor{comment}{// don't find it before the children pass safe\_point\_pos, keep cur at}}
\DoxyCodeLine{4848       \textcolor{comment}{// the last child, because the next safe\_point\_pos may be covered by cur.}}
\DoxyCodeLine{4849       \textcolor{comment}{// This may happen if cur has more than one interval, and the current}}
\DoxyCodeLine{4850       \textcolor{comment}{// safe\_point\_pos is in between intervals.}}
\DoxyCodeLine{4851       \textcolor{comment}{// For that reason, cur may be at most the last child.}}
\DoxyCodeLine{4852       \textcolor{comment}{// Use binary search for the first iteration, then linear search after.}}
\DoxyCodeLine{4853       \textcolor{keywordtype}{bool} found = \textcolor{keyword}{false};}
\DoxyCodeLine{4854       \textcolor{keywordflow}{if} (cur == \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{4855         cur = range-\/>GetChildCovers(safe\_point\_pos);}
\DoxyCodeLine{4856         found = cur != \textcolor{keyword}{nullptr};}
\DoxyCodeLine{4857       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{4858         \textcolor{keywordflow}{while} (!found) \{}
\DoxyCodeLine{4859           \textcolor{keywordflow}{if} (cur-\/>Covers(safe\_point\_pos)) \{}
\DoxyCodeLine{4860             found = \textcolor{keyword}{true};}
\DoxyCodeLine{4861           \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{4862             LiveRange* next = cur-\/>next();}
\DoxyCodeLine{4863             \textcolor{keywordflow}{if} (next == \textcolor{keyword}{nullptr} || next-\/>Start() > safe\_point\_pos) \{}
\DoxyCodeLine{4864               \textcolor{keywordflow}{break};}
\DoxyCodeLine{4865             \}}
\DoxyCodeLine{4866             cur = next;}
\DoxyCodeLine{4867           \}}
\DoxyCodeLine{4868         \}}
\DoxyCodeLine{4869       \}}
\DoxyCodeLine{4870 }
\DoxyCodeLine{4871       \textcolor{keywordflow}{if} (!found) \{}
\DoxyCodeLine{4872         \textcolor{keywordflow}{continue};}
\DoxyCodeLine{4873       \}}
\DoxyCodeLine{4874 }
\DoxyCodeLine{4875       \textcolor{comment}{// Check if the live range is spilled and the safe point is after}}
\DoxyCodeLine{4876       \textcolor{comment}{// the spill position.}}
\DoxyCodeLine{4877       \textcolor{keywordtype}{int} spill\_index = range-\/>IsSpilledOnlyInDeferredBlocks(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator_afa15065e0cdfd783197efb7834a27683}{data}}()) ||}
\DoxyCodeLine{4878                                 range-\/>LateSpillingSelected()}
\DoxyCodeLine{4879                             ? cur-\/>Start().ToInstructionIndex()}
\DoxyCodeLine{4880                             : range-\/>spill\_start\_index();}
\DoxyCodeLine{4881 }
\DoxyCodeLine{4882       \textcolor{keywordflow}{if} (!spill\_operand.IsInvalid() \&\& safe\_point >= spill\_index) \{}
\DoxyCodeLine{4883         \mbox{\hyperlink{namespacev8_1_1internal_a3762add7a183a4d1750c04e5fa1a6d17}{TRACE}}(\textcolor{stringliteral}{"{}Pointer for range \%d (spilled at \%d) at safe point \%d\(\backslash\)n"{}},}
\DoxyCodeLine{4884               range-\/>vreg(), spill\_index, safe\_point);}
\DoxyCodeLine{4885         map-\/>RecordReference(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LocationOperand_a14a0a8abb4b6ac796e0fae75948a270e}{AllocatedOperand::cast}}(spill\_operand));}
\DoxyCodeLine{4886       \}}
\DoxyCodeLine{4887 }
\DoxyCodeLine{4888       \textcolor{keywordflow}{if} (!cur-\/>spilled()) \{}
\DoxyCodeLine{4889         \mbox{\hyperlink{namespacev8_1_1internal_a3762add7a183a4d1750c04e5fa1a6d17}{TRACE}}(}
\DoxyCodeLine{4890             \textcolor{stringliteral}{"{}Pointer in register for range \%d:\%d (start at \%d) "{}}}
\DoxyCodeLine{4891             \textcolor{stringliteral}{"{}at safe point \%d\(\backslash\)n"{}},}
\DoxyCodeLine{4892             range-\/>vreg(), cur-\/>relative\_id(), cur-\/>Start().value(),}
\DoxyCodeLine{4893             safe\_point);}
\DoxyCodeLine{4894         InstructionOperand operand = cur-\/>GetAssignedOperand();}
\DoxyCodeLine{4895         \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!operand.IsStackSlot());}
\DoxyCodeLine{4896         \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{namespacev8_1_1internal_a46754c57901c164398d984eeff6b891b}{CanBeTaggedOrCompressedPointer}}(}
\DoxyCodeLine{4897             \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LocationOperand_a14a0a8abb4b6ac796e0fae75948a270e}{AllocatedOperand::cast}}(operand).representation()));}
\DoxyCodeLine{4898         map-\/>RecordReference(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LocationOperand_a14a0a8abb4b6ac796e0fae75948a270e}{AllocatedOperand::cast}}(operand));}
\DoxyCodeLine{4899       \}}
\DoxyCodeLine{4900     \}}
\DoxyCodeLine{4901   \}}
\DoxyCodeLine{4902 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Zone\+Vector$<$ T $>$\+::begin(), v8\+::internal\+::\+Can\+Be\+Tagged\+Or\+Compressed\+Pointer(), v8\+::internal\+::compiler\+::\+Location\+Operand\+::cast(), CHECK\+\_\+\+EQ, v8\+::internal\+::compiler\+::\+Register\+Allocation\+Data\+::code(), code, v8\+::internal\+::compiler\+::\+Live\+Range\+::\+Covers(), data(), v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+LE, DCHECK\+\_\+\+NOT\+\_\+\+NULL, v8\+::internal\+::\+Zone\+Vector$<$ T $>$\+::end(), v8\+::internal\+::compiler\+::end(), v8\+::internal\+::compiler\+::\+Live\+Range\+::\+Get\+Assigned\+Operand(), v8\+::internal\+::compiler\+::\+Reference\+Map\+::instruction\+\_\+position(), v8\+::internal\+::compiler\+::\+Lifetime\+Position\+::\+Instruction\+From\+Instruction\+Index(), v8\+::internal\+::compiler\+::\+Instruction\+Operand\+::\+Is\+Stack\+Slot(), v8\+::internal\+::compiler\+::\+Register\+Allocation\+Data\+::live\+\_\+ranges(), v8\+::internal\+::compiler\+::\+Live\+Range\+::next(), v8\+::internal\+::\+Zone\+Vector$<$ T $>$\+::push\+\_\+back(), v8\+::internal\+::compiler\+::\+Reference\+Map\+::\+Record\+Reference(), v8\+::internal\+::compiler\+::\+Instruction\+Sequence\+::reference\+\_\+maps(), v8\+::internal\+::compiler\+::\+Live\+Range\+::relative\+\_\+id(), v8\+::internal\+::\+Zone\+Vector$<$ T $>$\+::reserve(), Safe\+Points\+Are\+In\+Order(), size(), v8\+::base\+::sort(), v8\+::internal\+::compiler\+::\+Live\+Range\+::spilled(), v8\+::internal\+::compiler\+::\+Live\+Range\+::\+Start(), v8\+::internal\+::compiler\+::\+Lifetime\+Position\+::\+To\+Instruction\+Index(), v8\+::internal\+::\+TRACE(), USE, and v8\+::internal\+::compiler\+::\+Lifetime\+Position\+::value().



Referenced by v8\+::internal\+::compiler\+::turboshaft\+::\+Populate\+Reference\+Maps\+Phase\+::\+Run().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator_aa5b8cd9b9b7b7ce4b30f775a6f1c3cf6_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator_aa5b8cd9b9b7b7ce4b30f775a6f1c3cf6_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator_acfa337badd7dd7844b7ce1fb7e15b76c}\label{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator_acfa337badd7dd7844b7ce1fb7e15b76c}} 
\index{v8::internal::compiler::ReferenceMapPopulator@{v8::internal::compiler::ReferenceMapPopulator}!SafePointsAreInOrder@{SafePointsAreInOrder}}
\index{SafePointsAreInOrder@{SafePointsAreInOrder}!v8::internal::compiler::ReferenceMapPopulator@{v8::internal::compiler::ReferenceMapPopulator}}
\doxysubsubsection{\texorpdfstring{SafePointsAreInOrder()}{SafePointsAreInOrder()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a28d08f40d5dc488600051ba2ef537284}{bool}} v8\+::internal\+::compiler\+::\+Reference\+Map\+Populator\+::\+Safe\+Points\+Are\+In\+Order (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 4761 of file register-\/allocator.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4761                                                        \{}
\DoxyCodeLine{4762   \textcolor{keywordtype}{int} safe\_point = 0;}
\DoxyCodeLine{4763   \textcolor{keywordflow}{for} (ReferenceMap* map : *\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator_afa15065e0cdfd783197efb7834a27683}{data}}()-\/>\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}()-\/>reference\_maps()) \{}
\DoxyCodeLine{4764     \textcolor{keywordflow}{if} (safe\_point > map-\/>instruction\_position()) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{4765     safe\_point = map-\/>instruction\_position();}
\DoxyCodeLine{4766   \}}
\DoxyCodeLine{4767   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{4768 \}}

\end{DoxyCode}


References code, and data().



Referenced by Populate\+Reference\+Maps().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator_acfa337badd7dd7844b7ce1fb7e15b76c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator_acfa337badd7dd7844b7ce1fb7e15b76c_icgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator_adadfb70c540f8ef81765d8e9f8d786ad}\label{classv8_1_1internal_1_1compiler_1_1ReferenceMapPopulator_adadfb70c540f8ef81765d8e9f8d786ad}} 
\index{v8::internal::compiler::ReferenceMapPopulator@{v8::internal::compiler::ReferenceMapPopulator}!data\_@{data\_}}
\index{data\_@{data\_}!v8::internal::compiler::ReferenceMapPopulator@{v8::internal::compiler::ReferenceMapPopulator}}
\doxysubsubsection{\texorpdfstring{data\_}{data\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData}{Register\+Allocation\+Data}}$\ast$ const v8\+::internal\+::compiler\+::\+Reference\+Map\+Populator\+::data\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1731 of file register-\/allocator.\+h.



Referenced by data().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/compiler/backend/\mbox{\hyperlink{register-allocator_8h}{register-\/allocator.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/compiler/backend/\mbox{\hyperlink{register-allocator_8cc}{register-\/allocator.\+cc}}\end{DoxyCompactItemize}
