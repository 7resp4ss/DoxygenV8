\hypertarget{classv8_1_1internal_1_1WasmInternalFunction}{}\doxysection{v8\+::internal\+::Wasm\+Internal\+Function Class Reference}
\label{classv8_1_1internal_1_1WasmInternalFunction}\index{v8::internal::WasmInternalFunction@{v8::internal::WasmInternalFunction}}


{\ttfamily \#include $<$wasm-\/objects.\+h$>$}



Inheritance diagram for v8\+::internal\+::Wasm\+Internal\+Function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=261pt]{classv8_1_1internal_1_1WasmInternalFunction__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for v8\+::internal\+::Wasm\+Internal\+Function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=261pt]{classv8_1_1internal_1_1WasmInternalFunction__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
using \mbox{\hyperlink{classv8_1_1internal_1_1WasmInternalFunction_adc85e0e1f3276d05b6e23fb15286c43b}{Body\+Descriptor}} = \mbox{\hyperlink{classv8_1_1internal_1_1StackedBodyDescriptor}{Stacked\+Body\+Descriptor}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1FixedExposedTrustedObjectBodyDescriptor}{Fixed\+Exposed\+Trusted\+Object\+Body\+Descriptor}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmInternalFunction}{Wasm\+Internal\+Function}}, k\+Wasm\+Internal\+Function\+Indirect\+Pointer\+Tag $>$, \mbox{\hyperlink{structv8_1_1internal_1_1WithProtectedPointer}{With\+Protected\+Pointer}}$<$ k\+Protected\+Implicit\+Arg\+Offset $>$ $>$
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1WasmInternalFunction_afc61f955fff63212f4ae19ee110cf978}{try\+\_\+get\+\_\+external}} (\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSFunction}{JSFunction}} $>$ $\ast$result)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1WasmCodePointer}{Wasm\+Code\+Pointer}} \mbox{\hyperlink{classv8_1_1internal_1_1WasmInternalFunction_a7821adf343cfad334f693c613530c258}{call\+\_\+target}} ()
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1WasmInternalFunction_a057a17d9bf8108911bc0b29468e4e083}{set\+\_\+call\+\_\+target}} (\mbox{\hyperlink{classv8_1_1internal_1_1WasmCodePointer}{Wasm\+Code\+Pointer}} code\+\_\+pointer)
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{src_2base_2macros_8h_ab08e353943a53678ac6baafc678f2d81}{V8\+\_\+\+EXPORT\+\_\+\+PRIVATE}} \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSFunction}{JSFunction}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmInternalFunction_aa01e2244c83b9a4ca24d4bfd2cb0d78a}{Get\+Or\+Create\+External}} (\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmInternalFunction}{Wasm\+Internal\+Function}} $>$ \mbox{\hyperlink{namespacev8_1_1internal_a5031451934208565c827c86d9eb86c5a}{internal}})
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 1165 of file wasm-\/objects.\+h.



\doxysubsection{Member Typedef Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1WasmInternalFunction_adc85e0e1f3276d05b6e23fb15286c43b}\label{classv8_1_1internal_1_1WasmInternalFunction_adc85e0e1f3276d05b6e23fb15286c43b}} 
\index{v8::internal::WasmInternalFunction@{v8::internal::WasmInternalFunction}!BodyDescriptor@{BodyDescriptor}}
\index{BodyDescriptor@{BodyDescriptor}!v8::internal::WasmInternalFunction@{v8::internal::WasmInternalFunction}}
\doxysubsubsection{\texorpdfstring{BodyDescriptor}{BodyDescriptor}}
{\footnotesize\ttfamily using \mbox{\hyperlink{classv8_1_1internal_1_1WasmInternalFunction_adc85e0e1f3276d05b6e23fb15286c43b}{v8\+::internal\+::\+Wasm\+Internal\+Function\+::\+Body\+Descriptor}} =  \mbox{\hyperlink{classv8_1_1internal_1_1StackedBodyDescriptor}{Stacked\+Body\+Descriptor}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1FixedExposedTrustedObjectBodyDescriptor}{Fixed\+Exposed\+Trusted\+Object\+Body\+Descriptor}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmInternalFunction}{Wasm\+Internal\+Function}}, k\+Wasm\+Internal\+Function\+Indirect\+Pointer\+Tag$>$, \mbox{\hyperlink{structv8_1_1internal_1_1WithProtectedPointer}{With\+Protected\+Pointer}}$<$k\+Protected\+Implicit\+Arg\+Offset$>$ $>$}



Definition at line 1184 of file wasm-\/objects.\+h.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1WasmInternalFunction_a7821adf343cfad334f693c613530c258}\label{classv8_1_1internal_1_1WasmInternalFunction_a7821adf343cfad334f693c613530c258}} 
\index{v8::internal::WasmInternalFunction@{v8::internal::WasmInternalFunction}!call\_target@{call\_target}}
\index{call\_target@{call\_target}!v8::internal::WasmInternalFunction@{v8::internal::WasmInternalFunction}}
\doxysubsubsection{\texorpdfstring{call\_target()}{call\_target()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1WasmCodePointer}{Wasm\+Code\+Pointer}} v8\+::internal\+::\+Wasm\+Internal\+Function\+::call\+\_\+target (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 484 of file wasm-\/objects-\/inl.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{484                                                   \{}
\DoxyCodeLine{485   \textcolor{keywordflow}{return} WasmCodePointer\{raw\_call\_target()\};}
\DoxyCodeLine{486 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classv8_1_1internal_1_1WasmInternalFunction_aa01e2244c83b9a4ca24d4bfd2cb0d78a}\label{classv8_1_1internal_1_1WasmInternalFunction_aa01e2244c83b9a4ca24d4bfd2cb0d78a}} 
\index{v8::internal::WasmInternalFunction@{v8::internal::WasmInternalFunction}!GetOrCreateExternal@{GetOrCreateExternal}}
\index{GetOrCreateExternal@{GetOrCreateExternal}!v8::internal::WasmInternalFunction@{v8::internal::WasmInternalFunction}}
\doxysubsubsection{\texorpdfstring{GetOrCreateExternal()}{GetOrCreateExternal()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSFunction}{JSFunction}} $>$ v8\+::internal\+::\+Wasm\+Internal\+Function\+::\+Get\+Or\+Create\+External (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmInternalFunction}{Wasm\+Internal\+Function}} $>$}]{internal }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 2045 of file wasm-\/objects.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2046                                                  \{}
\DoxyCodeLine{2047   Isolate* isolate = \mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a05a2b08b2b0f2d5aef8dc053e2ea3d9b}{Isolate::Current}}();}
\DoxyCodeLine{2048 }
\DoxyCodeLine{2049   Tagged<JSFunction> existing\_external;}
\DoxyCodeLine{2050   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_a5031451934208565c827c86d9eb86c5a}{internal}}-\/>try\_get\_external(\&existing\_external)) \{}
\DoxyCodeLine{2051     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_a73502f55102d18cb764881bc29f35c05}{direct\_handle}}(existing\_external, isolate);}
\DoxyCodeLine{2052   \}}
\DoxyCodeLine{2053 }
\DoxyCodeLine{2054   \textcolor{comment}{// \{this\} can either be:}}
\DoxyCodeLine{2055   \textcolor{comment}{// -\/ a declared function, i.e. \{implicit\_arg()\} is a WasmTrustedInstanceData,}}
\DoxyCodeLine{2056   \textcolor{comment}{// -\/ or an imported callable, i.e. \{implicit\_arg()\} is a WasmImportData which}}
\DoxyCodeLine{2057   \textcolor{comment}{//   refers to the imported instance.}}
\DoxyCodeLine{2058   \textcolor{comment}{// It cannot be a JS/C API function as for those, the external function is set}}
\DoxyCodeLine{2059   \textcolor{comment}{// at creation.}}
\DoxyCodeLine{2060   DirectHandle<TrustedObject> implicit\_arg\{\textcolor{keyword}{internal}-\/>implicit\_arg(), isolate\};}
\DoxyCodeLine{2061   DirectHandle<WasmTrustedInstanceData> \mbox{\hyperlink{namespacev8_1_1internal_a4bf21ee96580042a8262a8300dca514c}{instance\_data}} =}
\DoxyCodeLine{2062       IsWasmTrustedInstanceData(*implicit\_arg)}
\DoxyCodeLine{2063           ? Cast<WasmTrustedInstanceData>(implicit\_arg)}
\DoxyCodeLine{2064           : \mbox{\hyperlink{namespacev8_1_1internal_a73502f55102d18cb764881bc29f35c05}{direct\_handle}}(\mbox{\hyperlink{namespacev8_1_1internal_a94c4a6c4ad3993b5e0e43bc2191c084b}{Cast}}<WasmImportData>(*implicit\_arg)-\/>\mbox{\hyperlink{namespacev8_1_1internal_a4bf21ee96580042a8262a8300dca514c}{instance\_data}}(),}
\DoxyCodeLine{2065                           isolate);}
\DoxyCodeLine{2066   \textcolor{keyword}{const} \mbox{\hyperlink{namespacev8_1_1internal_a09dbf9baefb793fd78912d6ef89f9dde}{WasmModule}}* module = \mbox{\hyperlink{namespacev8_1_1internal_a4bf21ee96580042a8262a8300dca514c}{instance\_data}}-\/>module();}
\DoxyCodeLine{2067   \textcolor{keyword}{const} \mbox{\hyperlink{namespacev8_1_1internal_aee315e6fdfed61d0c5a8b4d88d9e85b6}{WasmFunction}}\& \textcolor{keyword}{function} = module-\/>functions[\textcolor{keyword}{internal}-\/>function\_index()];}
\DoxyCodeLine{2068   wasm::CanonicalTypeIndex sig\_id =}
\DoxyCodeLine{2069       module-\/>canonical\_sig\_id(\textcolor{keyword}{function}.sig\_index);}
\DoxyCodeLine{2070   \textcolor{keyword}{const} wasm::CanonicalSig* \mbox{\hyperlink{namespacev8_1_1internal_a6135f0ef57de8d381e3225f6659c617a}{sig}} =}
\DoxyCodeLine{2071       \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a6feb413448e84daf9201bd8a2381a718}{wasm::GetTypeCanonicalizer}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_aa1f36fc3851ba2316d47223fa2b6e155}{LookupFunctionSignature}}(sig\_id);}
\DoxyCodeLine{2072   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_aac1117f1918f3c8580be0e192a1c7307}{wasm::TypeCanonicalizer::PrepareForCanonicalTypeId}}(isolate, sig\_id);}
\DoxyCodeLine{2073 }
\DoxyCodeLine{2074   \textcolor{comment}{// For now, we assume traditional behavior where the receiver is ignored.}}
\DoxyCodeLine{2075   \textcolor{comment}{// If the corresponding bit in the WasmExportedFunctionData is flipped later,}}
\DoxyCodeLine{2076   \textcolor{comment}{// we'll have to reset any existing compiled wrapper.}}
\DoxyCodeLine{2077   \textcolor{keywordtype}{bool} receiver\_is\_first\_param = \textcolor{keyword}{false};}
\DoxyCodeLine{2078 }
\DoxyCodeLine{2079   DirectHandle<Code> wrapper\_code = \mbox{\hyperlink{classv8_1_1internal_1_1WasmExportedFunction_aa4ad9d9842d4f60c0411e95936f9d6d0}{WasmExportedFunction::GetWrapper}}(}
\DoxyCodeLine{2080       isolate, \mbox{\hyperlink{namespacev8_1_1internal_a6135f0ef57de8d381e3225f6659c617a}{sig}}, sig\_id, receiver\_is\_first\_param, module);}
\DoxyCodeLine{2081   DirectHandle<WasmFuncRef> func\_ref\{}
\DoxyCodeLine{2082       Cast<WasmFuncRef>(}
\DoxyCodeLine{2083           \mbox{\hyperlink{namespacev8_1_1internal_a4bf21ee96580042a8262a8300dca514c}{instance\_data}}-\/>func\_refs()-\/>get(\mbox{\hyperlink{namespacev8_1_1internal_a5031451934208565c827c86d9eb86c5a}{internal}}-\/>function\_index())),}
\DoxyCodeLine{2084       isolate\};}
\DoxyCodeLine{2085   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(func\_ref-\/>internal(isolate), *\textcolor{keyword}{internal});}
\DoxyCodeLine{2086   \textcolor{keyword}{auto} \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} = \mbox{\hyperlink{classv8_1_1internal_1_1WasmExportedFunction_ac6583fa41f78a2543566f9812e57146b}{WasmExportedFunction::New}}(}
\DoxyCodeLine{2087       isolate, \mbox{\hyperlink{namespacev8_1_1internal_a4bf21ee96580042a8262a8300dca514c}{instance\_data}}, func\_ref, \textcolor{keyword}{internal},}
\DoxyCodeLine{2088       \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{namespacev8_1_1internal_a6135f0ef57de8d381e3225f6659c617a}{sig}}-\/>parameter\_count()), wrapper\_code);}
\DoxyCodeLine{2089 }
\DoxyCodeLine{2090   \textcolor{keyword}{internal}-\/>set\_external(*\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}});}
\DoxyCodeLine{2091   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}};}
\DoxyCodeLine{2092 \}}

\end{DoxyCode}


References v8\+::internal\+::wasm\+::\+Wasm\+Module\+::canonical\+\_\+sig\+\_\+id(), v8\+::internal\+::\+Isolate\+::\+Current(), DCHECK\+\_\+\+EQ, v8\+::internal\+::direct\+\_\+handle(), v8\+::internal\+::wasm\+::\+Wasm\+Module\+::functions, v8\+::internal\+::wasm\+::\+Get\+Type\+Canonicalizer(), v8\+::internal\+::\+Wasm\+Exported\+Function\+::\+Get\+Wrapper(), v8\+::internal\+::instance\+\_\+data, v8\+::internal\+::internal, v8\+::internal\+::wasm\+::\+Type\+Canonicalizer\+::\+Lookup\+Function\+Signature(), v8\+::internal\+::\+Wasm\+Exported\+Function\+::\+New(), v8\+::internal\+::wasm\+::\+Type\+Canonicalizer\+::\+Prepare\+For\+Canonical\+Type\+Id(), v8\+::base\+::internal\+::result, and v8\+::internal\+::sig.



Referenced by v8\+::internal\+::wasm\+::\+Instance\+Builder\+::\+Build\+\_\+\+Phase1(), v8\+::internal\+::wasm\+::\+Wasm\+Interpreter\+Runtime\+::\+Execute\+Call\+Ref(), v8\+::internal\+::anonymous\+\_\+namespace\{debug-\/wasm-\/objects.\+cc\}\+::\+Functions\+Proxy\+::\+Get(), v8\+::internal\+::wasm\+::\+JSPrototypes\+Setup\+::\+Get\+Function(), v8\+::internal\+::\+Wasm\+Table\+Object\+::\+Get\+Function\+Table\+Entry(), v8\+::internal\+::\+Wasm\+Value\+Object\+::\+New(), v8\+::internal\+::wasm\+::\+Instance\+Builder\+::\+Process\+Exports(), v8\+::internal\+::\+RUNTIME\+\_\+\+FUNCTION(), v8\+::internal\+::\+Wasm\+Table\+Object\+::\+Set\+Function\+Table\+Entry(), v8\+::internal\+::wasm\+::\+Wasm\+To\+JSObject(), and v8\+::internal\+::wasm\+::\+Wasm\+Interpreter\+Runtime\+::\+Wasm\+To\+JSObject().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1WasmInternalFunction_aa01e2244c83b9a4ca24d4bfd2cb0d78a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1WasmInternalFunction_aa01e2244c83b9a4ca24d4bfd2cb0d78a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1WasmInternalFunction_a057a17d9bf8108911bc0b29468e4e083}\label{classv8_1_1internal_1_1WasmInternalFunction_a057a17d9bf8108911bc0b29468e4e083}} 
\index{v8::internal::WasmInternalFunction@{v8::internal::WasmInternalFunction}!set\_call\_target@{set\_call\_target}}
\index{set\_call\_target@{set\_call\_target}!v8::internal::WasmInternalFunction@{v8::internal::WasmInternalFunction}}
\doxysubsubsection{\texorpdfstring{set\_call\_target()}{set\_call\_target()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Wasm\+Internal\+Function\+::set\+\_\+call\+\_\+target (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1WasmCodePointer}{Wasm\+Code\+Pointer}}}]{code\+\_\+pointer }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 487 of file wasm-\/objects-\/inl.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{487                                                                        \{}
\DoxyCodeLine{488   set\_raw\_call\_target(code\_pointer.value());}
\DoxyCodeLine{489 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Wasm\+Code\+Pointer\+::value().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1WasmInternalFunction_a057a17d9bf8108911bc0b29468e4e083_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1WasmInternalFunction_afc61f955fff63212f4ae19ee110cf978}\label{classv8_1_1internal_1_1WasmInternalFunction_afc61f955fff63212f4ae19ee110cf978}} 
\index{v8::internal::WasmInternalFunction@{v8::internal::WasmInternalFunction}!try\_get\_external@{try\_get\_external}}
\index{try\_get\_external@{try\_get\_external}!v8::internal::WasmInternalFunction@{v8::internal::WasmInternalFunction}}
\doxysubsubsection{\texorpdfstring{try\_get\_external()}{try\_get\_external()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Wasm\+Internal\+Function\+::try\+\_\+get\+\_\+external (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSFunction}{JSFunction}} $>$ $\ast$}]{result }\end{DoxyParamCaption})}



Definition at line 2038 of file wasm-\/objects.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2038                                                                       \{}
\DoxyCodeLine{2039   \textcolor{keywordflow}{if} (IsUndefined(external())) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{2040   *\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} = Cast<JSFunction>(external());}
\DoxyCodeLine{2041   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{2042 \}}

\end{DoxyCode}


References v8\+::base\+::internal\+::result.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/wasm/\mbox{\hyperlink{wasm-objects_8h}{wasm-\/objects.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/wasm/\mbox{\hyperlink{wasm-objects-inl_8h}{wasm-\/objects-\/inl.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/wasm/\mbox{\hyperlink{wasm-objects_8cc}{wasm-\/objects.\+cc}}\end{DoxyCompactItemize}
