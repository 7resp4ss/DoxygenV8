\hypertarget{classv8_1_1ExternalMemoryAccounter}{}\doxysection{v8\+::External\+Memory\+Accounter Class Reference}
\label{classv8_1_1ExternalMemoryAccounter}\index{v8::ExternalMemoryAccounter@{v8::ExternalMemoryAccounter}}


This class is used to give \mbox{\hyperlink{classv8_1_1V8}{V8}} an indication of the amount of externally allocated memory that is kept alive by Java\+Script objects.  




{\ttfamily \#include $<$v8-\/external-\/memory-\/accounter.\+h$>$}



Collaboration diagram for v8\+::External\+Memory\+Accounter\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=253pt]{classv8_1_1ExternalMemoryAccounter__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1ExternalMemoryAccounter_a10ccfc1fa822cbaeda300797714a5ea3}{External\+Memory\+Accounter}} ()=default
\item 
\mbox{\hyperlink{classv8_1_1ExternalMemoryAccounter_ad0346628f12ff5c2bf1b66101fa20cea}{$\sim$\+External\+Memory\+Accounter}} ()
\item 
\mbox{\hyperlink{classv8_1_1ExternalMemoryAccounter_a369e29fccb9c0905c524a0a2c199275f}{External\+Memory\+Accounter}} (\mbox{\hyperlink{classv8_1_1ExternalMemoryAccounter}{External\+Memory\+Accounter}} \&\&)
\item 
\mbox{\hyperlink{classv8_1_1ExternalMemoryAccounter}{External\+Memory\+Accounter}} \& \mbox{\hyperlink{classv8_1_1ExternalMemoryAccounter_aa5020366ef1a8cbada84d0fc89f941d6}{operator=}} (\mbox{\hyperlink{classv8_1_1ExternalMemoryAccounter}{External\+Memory\+Accounter}} \&\&)
\item 
\mbox{\hyperlink{classv8_1_1ExternalMemoryAccounter_a699cb104111e82b64f60d6e283d4e92e}{External\+Memory\+Accounter}} (const \mbox{\hyperlink{classv8_1_1ExternalMemoryAccounter}{External\+Memory\+Accounter}} \&)=delete
\item 
\mbox{\hyperlink{classv8_1_1ExternalMemoryAccounter}{External\+Memory\+Accounter}} \& \mbox{\hyperlink{classv8_1_1ExternalMemoryAccounter_aaa0f495b522e58e24d7dc112166bb977}{operator=}} (const \mbox{\hyperlink{classv8_1_1ExternalMemoryAccounter}{External\+Memory\+Accounter}} \&)=delete
\item 
void \mbox{\hyperlink{classv8_1_1ExternalMemoryAccounter_add7460aad2ef2e6eefd7251bd8defd80}{Increase}} (\mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$isolate, size\+\_\+t \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}})
\begin{DoxyCompactList}\small\item\em Reports an increase of {\ttfamily size} bytes of external memory. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classv8_1_1ExternalMemoryAccounter_a6018de54770f4ae02ebf4ca85ddb760e}{Update}} (\mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$isolate, int64\+\_\+t delta)
\begin{DoxyCompactList}\small\item\em Reports an update of {\ttfamily delta} bytes of external memory. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classv8_1_1ExternalMemoryAccounter_a00ab7a09dc61b893eb59172e6f37e9e2}{Decrease}} (\mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$isolate, size\+\_\+t \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}})
\begin{DoxyCompactList}\small\item\em Reports an decrease of {\ttfamily size} bytes of external memory. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static int64\+\_\+t \mbox{\hyperlink{classv8_1_1ExternalMemoryAccounter_a8d8b68a5c1c1ee148165af5f303af52c}{Get\+Total\+Amount\+Of\+External\+Allocated\+Memory\+For\+Testing}} (const \mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$isolate)
\begin{DoxyCompactList}\small\item\em Returns the amount of external memory registered for {\ttfamily isolate}. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This class is used to give \mbox{\hyperlink{classv8_1_1V8}{V8}} an indication of the amount of externally allocated memory that is kept alive by Java\+Script objects. 

\mbox{\hyperlink{classv8_1_1V8}{V8}} uses this to decide when to perform garbage collections. Registering externally allocated memory will trigger garbage collections more often than it would otherwise in an attempt to garbage collect the Java\+Script objects that keep the externally allocated memory alive. Instances of \mbox{\hyperlink{classv8_1_1ExternalMemoryAccounter}{External\+Memory\+Accounter}} check that the reported external memory is back to 0 on destruction. 

Definition at line 23 of file v8-\/external-\/memory-\/accounter.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1ExternalMemoryAccounter_a10ccfc1fa822cbaeda300797714a5ea3}\label{classv8_1_1ExternalMemoryAccounter_a10ccfc1fa822cbaeda300797714a5ea3}} 
\index{v8::ExternalMemoryAccounter@{v8::ExternalMemoryAccounter}!ExternalMemoryAccounter@{ExternalMemoryAccounter}}
\index{ExternalMemoryAccounter@{ExternalMemoryAccounter}!v8::ExternalMemoryAccounter@{v8::ExternalMemoryAccounter}}
\doxysubsubsection{\texorpdfstring{ExternalMemoryAccounter()}{ExternalMemoryAccounter()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily v8\+::\+External\+Memory\+Accounter\+::\+External\+Memory\+Accounter (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [default]}}

\mbox{\Hypertarget{classv8_1_1ExternalMemoryAccounter_ad0346628f12ff5c2bf1b66101fa20cea}\label{classv8_1_1ExternalMemoryAccounter_ad0346628f12ff5c2bf1b66101fa20cea}} 
\index{v8::ExternalMemoryAccounter@{v8::ExternalMemoryAccounter}!````~ExternalMemoryAccounter@{$\sim$ExternalMemoryAccounter}}
\index{````~ExternalMemoryAccounter@{$\sim$ExternalMemoryAccounter}!v8::ExternalMemoryAccounter@{v8::ExternalMemoryAccounter}}
\doxysubsubsection{\texorpdfstring{$\sim$ExternalMemoryAccounter()}{~ExternalMemoryAccounter()}}
{\footnotesize\ttfamily v8\+::\+External\+Memory\+Accounter\+::$\sim$\+External\+Memory\+Accounter (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 12361 of file api.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{12361                                                   \{}
\DoxyCodeLine{12362 \textcolor{preprocessor}{\#ifdef V8\_ENABLE\_MEMORY\_ACCOUNTING\_CHECKS}}
\DoxyCodeLine{12363   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(amount\_of\_external\_memory\_, 0\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a709d6f30f1192434c1eb74d0f8a3bc3a}{U}});}
\DoxyCodeLine{12364 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{12365 \}}

\end{DoxyCode}


References DCHECK\+\_\+\+EQ, and v8\+::base\+::internal\+::U.

\mbox{\Hypertarget{classv8_1_1ExternalMemoryAccounter_a369e29fccb9c0905c524a0a2c199275f}\label{classv8_1_1ExternalMemoryAccounter_a369e29fccb9c0905c524a0a2c199275f}} 
\index{v8::ExternalMemoryAccounter@{v8::ExternalMemoryAccounter}!ExternalMemoryAccounter@{ExternalMemoryAccounter}}
\index{ExternalMemoryAccounter@{ExternalMemoryAccounter}!v8::ExternalMemoryAccounter@{v8::ExternalMemoryAccounter}}
\doxysubsubsection{\texorpdfstring{ExternalMemoryAccounter()}{ExternalMemoryAccounter()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily v8\+::\+External\+Memory\+Accounter\+::\+External\+Memory\+Accounter (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1ExternalMemoryAccounter}{External\+Memory\+Accounter}} \&\&}]{other }\end{DoxyParamCaption})}



Definition at line 12367 of file api.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{12368                                      \{}
\DoxyCodeLine{12369 \textcolor{preprocessor}{\#if V8\_ENABLE\_MEMORY\_ACCOUNTING\_CHECKS}}
\DoxyCodeLine{12370   amount\_of\_external\_memory\_ =}
\DoxyCodeLine{12371       std::exchange(other.amount\_of\_external\_memory\_, 0\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a709d6f30f1192434c1eb74d0f8a3bc3a}{U}});}
\DoxyCodeLine{12372   isolate\_ = std::exchange(other.isolate\_, \textcolor{keyword}{nullptr});}
\DoxyCodeLine{12373 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{12374 \}}

\end{DoxyCode}


References v8\+::base\+::internal\+::U.

\mbox{\Hypertarget{classv8_1_1ExternalMemoryAccounter_a699cb104111e82b64f60d6e283d4e92e}\label{classv8_1_1ExternalMemoryAccounter_a699cb104111e82b64f60d6e283d4e92e}} 
\index{v8::ExternalMemoryAccounter@{v8::ExternalMemoryAccounter}!ExternalMemoryAccounter@{ExternalMemoryAccounter}}
\index{ExternalMemoryAccounter@{ExternalMemoryAccounter}!v8::ExternalMemoryAccounter@{v8::ExternalMemoryAccounter}}
\doxysubsubsection{\texorpdfstring{ExternalMemoryAccounter()}{ExternalMemoryAccounter()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily v8\+::\+External\+Memory\+Accounter\+::\+External\+Memory\+Accounter (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1ExternalMemoryAccounter}{External\+Memory\+Accounter}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1ExternalMemoryAccounter_a00ab7a09dc61b893eb59172e6f37e9e2}\label{classv8_1_1ExternalMemoryAccounter_a00ab7a09dc61b893eb59172e6f37e9e2}} 
\index{v8::ExternalMemoryAccounter@{v8::ExternalMemoryAccounter}!Decrease@{Decrease}}
\index{Decrease@{Decrease}!v8::ExternalMemoryAccounter@{v8::ExternalMemoryAccounter}}
\doxysubsubsection{\texorpdfstring{Decrease()}{Decrease()}}
{\footnotesize\ttfamily void v8\+::\+External\+Memory\+Accounter\+::\+Decrease (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{size\+\_\+t}]{size }\end{DoxyParamCaption})}



Reports an decrease of {\ttfamily size} bytes of external memory. 



Definition at line 12410 of file api.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{12410                                                                     \{}
\DoxyCodeLine{12411   \mbox{\hyperlink{namespacev8_1_1internal_af2248a427f8ff8f81e68a2a87758e145}{internal::DisallowGarbageCollection}} \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_a63d8eefb47468aa3f816fbe26a59466a}{no\_gc}};}
\DoxyCodeLine{12412   \textcolor{keywordflow}{if} (\mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}} == 0) \{}
\DoxyCodeLine{12413     \textcolor{keywordflow}{return};}
\DoxyCodeLine{12414   \}}
\DoxyCodeLine{12415 \textcolor{preprocessor}{\#ifdef V8\_ENABLE\_MEMORY\_ACCOUNTING\_CHECKS}}
\DoxyCodeLine{12416   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(isolate, isolate\_);}
\DoxyCodeLine{12417   \mbox{\hyperlink{src_2base_2logging_8h_aabec5c3b7a8628298a25f044dcf89c25}{DCHECK\_GE}}(amount\_of\_external\_memory\_, \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}});}
\DoxyCodeLine{12418   amount\_of\_external\_memory\_ -\/= \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}};}
\DoxyCodeLine{12419 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{12420   \mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{i::Isolate}}* i\_isolate = \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{i::Isolate}}*\textcolor{keyword}{>}(isolate);}
\DoxyCodeLine{12421   i\_isolate-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_ac74a11613906581a9989b1cb7f7b3275}{heap}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a7459349bfbb6fe6d20c5f4a42433760e}{UpdateExternalMemory}}(-\/\textcolor{keyword}{static\_cast<}int64\_t\textcolor{keyword}{>}(\mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}));}
\DoxyCodeLine{12422 \}}

\end{DoxyCode}


References DCHECK\+\_\+\+EQ, DCHECK\+\_\+\+GE, v8\+::internal\+::\+Isolate\+::heap(), v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::no\+\_\+gc, size(), and v8\+::internal\+::\+Heap\+::\+Update\+External\+Memory().



Referenced by v8\+::internal\+::\+Array\+Buffer\+Sweeper\+::\+Decrement\+External\+Memory\+Counters().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1ExternalMemoryAccounter_a00ab7a09dc61b893eb59172e6f37e9e2_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1ExternalMemoryAccounter_a00ab7a09dc61b893eb59172e6f37e9e2_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1ExternalMemoryAccounter_a8d8b68a5c1c1ee148165af5f303af52c}\label{classv8_1_1ExternalMemoryAccounter_a8d8b68a5c1c1ee148165af5f303af52c}} 
\index{v8::ExternalMemoryAccounter@{v8::ExternalMemoryAccounter}!GetTotalAmountOfExternalAllocatedMemoryForTesting@{GetTotalAmountOfExternalAllocatedMemoryForTesting}}
\index{GetTotalAmountOfExternalAllocatedMemoryForTesting@{GetTotalAmountOfExternalAllocatedMemoryForTesting}!v8::ExternalMemoryAccounter@{v8::ExternalMemoryAccounter}}
\doxysubsubsection{\texorpdfstring{GetTotalAmountOfExternalAllocatedMemoryForTesting()}{GetTotalAmountOfExternalAllocatedMemoryForTesting()}}
{\footnotesize\ttfamily int64\+\_\+t v8\+::\+External\+Memory\+Accounter\+::\+Get\+Total\+Amount\+Of\+External\+Allocated\+Memory\+For\+Testing (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$}]{isolate }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Returns the amount of external memory registered for {\ttfamily isolate}. 



Definition at line 12425 of file api.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{12426                             \{}
\DoxyCodeLine{12427   \textcolor{keyword}{const} \mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{i::Isolate}}* i\_isolate = \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{i::Isolate}}*\textcolor{keyword}{>}(isolate);}
\DoxyCodeLine{12428   \textcolor{keywordflow}{return} i\_isolate-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_ac74a11613906581a9989b1cb7f7b3275}{heap}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a15e1f61b8fbaa231def2a79b5a48d057}{external\_memory}}();}
\DoxyCodeLine{12429 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Heap\+::external\+\_\+memory(), and v8\+::internal\+::\+Isolate\+::heap().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1ExternalMemoryAccounter_a8d8b68a5c1c1ee148165af5f303af52c_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1ExternalMemoryAccounter_add7460aad2ef2e6eefd7251bd8defd80}\label{classv8_1_1ExternalMemoryAccounter_add7460aad2ef2e6eefd7251bd8defd80}} 
\index{v8::ExternalMemoryAccounter@{v8::ExternalMemoryAccounter}!Increase@{Increase}}
\index{Increase@{Increase}!v8::ExternalMemoryAccounter@{v8::ExternalMemoryAccounter}}
\doxysubsubsection{\texorpdfstring{Increase()}{Increase()}}
{\footnotesize\ttfamily void v8\+::\+External\+Memory\+Accounter\+::\+Increase (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{size\+\_\+t}]{size }\end{DoxyParamCaption})}



Reports an increase of {\ttfamily size} bytes of external memory. 



Definition at line 12390 of file api.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{12390                                                                     \{}
\DoxyCodeLine{12391 \textcolor{preprocessor}{\#ifdef V8\_ENABLE\_MEMORY\_ACCOUNTING\_CHECKS}}
\DoxyCodeLine{12392   \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(isolate == isolate\_ || isolate\_ == \textcolor{keyword}{nullptr});}
\DoxyCodeLine{12393   isolate\_ = isolate;}
\DoxyCodeLine{12394   amount\_of\_external\_memory\_ += \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}};}
\DoxyCodeLine{12395 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{12396   isolate-\/>AdjustAmountOfExternalAllocatedMemoryImpl(}
\DoxyCodeLine{12397       \textcolor{keyword}{static\_cast<}int64\_t\textcolor{keyword}{>}(\mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}));}
\DoxyCodeLine{12398 \}}

\end{DoxyCode}


References v8\+::\+Isolate\+::\+Adjust\+Amount\+Of\+External\+Allocated\+Memory\+Impl(), DCHECK, and size().



Referenced by v8\+::internal\+::\+Managed$<$ Cpp\+Type $>$\+::\+From(), v8\+::internal\+::\+Trusted\+Managed$<$ Cpp\+Type $>$\+::\+From(), and v8\+::internal\+::\+Array\+Buffer\+Sweeper\+::\+Increment\+External\+Memory\+Counters().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1ExternalMemoryAccounter_add7460aad2ef2e6eefd7251bd8defd80_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1ExternalMemoryAccounter_add7460aad2ef2e6eefd7251bd8defd80_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1ExternalMemoryAccounter_aaa0f495b522e58e24d7dc112166bb977}\label{classv8_1_1ExternalMemoryAccounter_aaa0f495b522e58e24d7dc112166bb977}} 
\index{v8::ExternalMemoryAccounter@{v8::ExternalMemoryAccounter}!operator=@{operator=}}
\index{operator=@{operator=}!v8::ExternalMemoryAccounter@{v8::ExternalMemoryAccounter}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1ExternalMemoryAccounter}{External\+Memory\+Accounter}}\& v8\+::\+External\+Memory\+Accounter\+::operator= (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1ExternalMemoryAccounter}{External\+Memory\+Accounter}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}

\mbox{\Hypertarget{classv8_1_1ExternalMemoryAccounter_aa5020366ef1a8cbada84d0fc89f941d6}\label{classv8_1_1ExternalMemoryAccounter_aa5020366ef1a8cbada84d0fc89f941d6}} 
\index{v8::ExternalMemoryAccounter@{v8::ExternalMemoryAccounter}!operator=@{operator=}}
\index{operator=@{operator=}!v8::ExternalMemoryAccounter@{v8::ExternalMemoryAccounter}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1ExternalMemoryAccounter}{External\+Memory\+Accounter}} \& v8\+::\+External\+Memory\+Accounter\+::operator= (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1ExternalMemoryAccounter}{External\+Memory\+Accounter}} \&\&}]{other }\end{DoxyParamCaption})}



Definition at line 12376 of file api.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{12377                                      \{}
\DoxyCodeLine{12378 \textcolor{preprocessor}{\#if V8\_ENABLE\_MEMORY\_ACCOUNTING\_CHECKS}}
\DoxyCodeLine{12379   \textcolor{keywordflow}{if} (\textcolor{keyword}{this} == \&other) \{}
\DoxyCodeLine{12380     \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{12381   \}}
\DoxyCodeLine{12382   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(amount\_of\_external\_memory\_, 0\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a709d6f30f1192434c1eb74d0f8a3bc3a}{U}});}
\DoxyCodeLine{12383   amount\_of\_external\_memory\_ =}
\DoxyCodeLine{12384       std::exchange(other.amount\_of\_external\_memory\_, 0\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a709d6f30f1192434c1eb74d0f8a3bc3a}{U}});}
\DoxyCodeLine{12385   isolate\_ = std::exchange(other.isolate\_, \textcolor{keyword}{nullptr});}
\DoxyCodeLine{12386 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{12387   \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{12388 \}}

\end{DoxyCode}


References DCHECK\+\_\+\+EQ, and v8\+::base\+::internal\+::U.

\mbox{\Hypertarget{classv8_1_1ExternalMemoryAccounter_a6018de54770f4ae02ebf4ca85ddb760e}\label{classv8_1_1ExternalMemoryAccounter_a6018de54770f4ae02ebf4ca85ddb760e}} 
\index{v8::ExternalMemoryAccounter@{v8::ExternalMemoryAccounter}!Update@{Update}}
\index{Update@{Update}!v8::ExternalMemoryAccounter@{v8::ExternalMemoryAccounter}}
\doxysubsubsection{\texorpdfstring{Update()}{Update()}}
{\footnotesize\ttfamily void v8\+::\+External\+Memory\+Accounter\+::\+Update (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{int64\+\_\+t}]{delta }\end{DoxyParamCaption})}



Reports an update of {\ttfamily delta} bytes of external memory. 



Definition at line 12400 of file api.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{12400                                                                     \{}
\DoxyCodeLine{12401 \textcolor{preprocessor}{\#ifdef V8\_ENABLE\_MEMORY\_ACCOUNTING\_CHECKS}}
\DoxyCodeLine{12402   \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(isolate == isolate\_ || isolate\_ == \textcolor{keyword}{nullptr});}
\DoxyCodeLine{12403   \mbox{\hyperlink{src_2base_2logging_8h_aabec5c3b7a8628298a25f044dcf89c25}{DCHECK\_GE}}(\textcolor{keyword}{static\_cast<}int64\_t\textcolor{keyword}{>}(amount\_of\_external\_memory\_), -\/delta);}
\DoxyCodeLine{12404   isolate\_ = isolate;}
\DoxyCodeLine{12405   amount\_of\_external\_memory\_ += delta;}
\DoxyCodeLine{12406 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{12407   isolate-\/>AdjustAmountOfExternalAllocatedMemoryImpl(delta);}
\DoxyCodeLine{12408 \}}

\end{DoxyCode}


References v8\+::\+Isolate\+::\+Adjust\+Amount\+Of\+External\+Allocated\+Memory\+Impl(), DCHECK, and DCHECK\+\_\+\+GE.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1ExternalMemoryAccounter_a6018de54770f4ae02ebf4ca85ddb760e_cgraph}
\end{center}
\end{figure}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/include/\mbox{\hyperlink{v8-external-memory-accounter_8h}{v8-\/external-\/memory-\/accounter.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/api/\mbox{\hyperlink{api_8cc}{api.\+cc}}\end{DoxyCompactItemize}
