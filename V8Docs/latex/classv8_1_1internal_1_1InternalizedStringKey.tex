\hypertarget{classv8_1_1internal_1_1InternalizedStringKey}{}\doxysection{v8\+::internal\+::Internalized\+String\+Key Class Reference}
\label{classv8_1_1internal_1_1InternalizedStringKey}\index{v8::internal::InternalizedStringKey@{v8::internal::InternalizedStringKey}}


Inheritance diagram for v8\+::internal\+::Internalized\+String\+Key\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=232pt]{classv8_1_1internal_1_1InternalizedStringKey__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for v8\+::internal\+::Internalized\+String\+Key\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1InternalizedStringKey__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1InternalizedStringKey_a2f633e4523779215d2727b7c428f7d4a}{Internalized\+String\+Key}} (\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1String}{String}} $>$ \mbox{\hyperlink{namespacev8_1_1internal_af68b330f02476361ab10f531933b3381}{string}}, uint32\+\_\+t \mbox{\hyperlink{classv8_1_1internal_1_1StringTableKey_a3e6ae49911326864aaba479a9146dd55}{hash}})
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1InternalizedStringKey_ad1b7de5b1330704fe89d19228c9666c5}{Is\+Match}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1String}{String}} $>$ \mbox{\hyperlink{namespacev8_1_1internal_af68b330f02476361ab10f531933b3381}{string}})
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1InternalizedStringKey_a045d0a9b99f7509213717dfe28c0bd2a}{Prepare\+For\+Insertion}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1String}{String}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1InternalizedStringKey_a47dd737dc2011eebcc99edc6a6222704}{Get\+Handle\+For\+Insertion}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate)
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1String}{String}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1InternalizedStringKey_a409f1c486e407837bcb926d8e3737535}{string\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle}{Maybe\+Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1String}{String}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1InternalizedStringKey_a2389c191c2ae9f7b2a4ebf1095f5ff12}{internalized\+\_\+string\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle}{Maybe\+Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1InternalizedStringKey_afd6936af71426778774f583f1ca809a2}{maybe\+\_\+internalized\+\_\+map\+\_\+}}
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


Definition at line 181 of file string-\/table.\+cc.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1InternalizedStringKey_a2f633e4523779215d2727b7c428f7d4a}\label{classv8_1_1internal_1_1InternalizedStringKey_a2f633e4523779215d2727b7c428f7d4a}} 
\index{v8::internal::InternalizedStringKey@{v8::internal::InternalizedStringKey}!InternalizedStringKey@{InternalizedStringKey}}
\index{InternalizedStringKey@{InternalizedStringKey}!v8::internal::InternalizedStringKey@{v8::internal::InternalizedStringKey}}
\doxysubsubsection{\texorpdfstring{InternalizedStringKey()}{InternalizedStringKey()}}
{\footnotesize\ttfamily v8\+::internal\+::\+Internalized\+String\+Key\+::\+Internalized\+String\+Key (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1String}{String}} $>$}]{string,  }\item[{uint32\+\_\+t}]{hash }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}



Definition at line 183 of file string-\/table.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{184       : \mbox{\hyperlink{classv8_1_1internal_1_1StringTableKey_a95ff6392e21b0ad6b6a1807a66cb34ae}{StringTableKey}}(\mbox{\hyperlink{classv8_1_1internal_1_1StringTableKey_a3e6ae49911326864aaba479a9146dd55}{hash}}, \mbox{\hyperlink{namespacev8_1_1internal_af68b330f02476361ab10f531933b3381}{string}}-\/>length()), \mbox{\hyperlink{classv8_1_1internal_1_1InternalizedStringKey_a409f1c486e407837bcb926d8e3737535}{string\_}}(\textcolor{keywordtype}{string}) \{}
\DoxyCodeLine{185     \textcolor{comment}{// When sharing the string table, it's possible that another thread already}}
\DoxyCodeLine{186     \textcolor{comment}{// internalized the key, in which case StringTable::LookupKey will perform a}}
\DoxyCodeLine{187     \textcolor{comment}{// redundant lookup and return the already internalized copy.}}
\DoxyCodeLine{188     \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(!\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.shared\_string\_table,}
\DoxyCodeLine{189                    !\mbox{\hyperlink{namespacev8_1_1internal_1_1InstanceTypeChecker_aa50b8d8a7e8d5da47c21d36be5b2a14d}{IsInternalizedString}}(*\textcolor{keywordtype}{string}));}
\DoxyCodeLine{190     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{namespacev8_1_1internal_af68b330f02476361ab10f531933b3381}{string}}-\/>IsFlat());}
\DoxyCodeLine{191     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1Name_aeb272fbcfe70ac82684b5e995fa5bd87}{String::IsHashFieldComputed}}(\mbox{\hyperlink{classv8_1_1internal_1_1StringTableKey_a3e6ae49911326864aaba479a9146dd55}{hash}}));}
\DoxyCodeLine{192   \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+IMPLIES, v8\+::internal\+::\+String\+Table\+Key\+::hash(), v8\+::internal\+::\+Name\+::\+Is\+Hash\+Field\+Computed(), v8\+::internal\+::\+Instance\+Type\+Checker\+::\+Is\+Internalized\+String(), v8\+::internal\+::string, and v8\+::internal\+::v8\+\_\+flags.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1InternalizedStringKey_a2f633e4523779215d2727b7c428f7d4a_cgraph}
\end{center}
\end{figure}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1InternalizedStringKey_a47dd737dc2011eebcc99edc6a6222704}\label{classv8_1_1internal_1_1InternalizedStringKey_a47dd737dc2011eebcc99edc6a6222704}} 
\index{v8::internal::InternalizedStringKey@{v8::internal::InternalizedStringKey}!GetHandleForInsertion@{GetHandleForInsertion}}
\index{GetHandleForInsertion@{GetHandleForInsertion}!v8::internal::InternalizedStringKey@{v8::internal::InternalizedStringKey}}
\doxysubsubsection{\texorpdfstring{GetHandleForInsertion()}{GetHandleForInsertion()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1String}{String}}$>$ v8\+::internal\+::\+Internalized\+String\+Key\+::\+Get\+Handle\+For\+Insertion (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 256 of file string-\/table.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{256                                                                \{}
\DoxyCodeLine{257     DirectHandle<Map> internalized\_map;}
\DoxyCodeLine{258     \textcolor{comment}{// When preparing the string, the strategy was to in-\/place migrate it.}}
\DoxyCodeLine{259     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1InternalizedStringKey_afd6936af71426778774f583f1ca809a2}{maybe\_internalized\_map\_}}.ToHandle(\&internalized\_map)) \{}
\DoxyCodeLine{260       \textcolor{comment}{// It is always safe to overwrite the map. The only transition possible}}
\DoxyCodeLine{261       \textcolor{comment}{// is another thread migrated the string to internalized already.}}
\DoxyCodeLine{262       \textcolor{comment}{// Migrations to thin are impossible, as we only call this method on table}}
\DoxyCodeLine{263       \textcolor{comment}{// misses inside the critical section.}}
\DoxyCodeLine{264       \mbox{\hyperlink{classv8_1_1internal_1_1InternalizedStringKey_a409f1c486e407837bcb926d8e3737535}{string\_}}-\/>set\_map\_safe\_transition\_no\_write\_barrier(isolate,}
\DoxyCodeLine{265                                                         *internalized\_map);}
\DoxyCodeLine{266       \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1InstanceTypeChecker_aa50b8d8a7e8d5da47c21d36be5b2a14d}{IsInternalizedString}}(*\mbox{\hyperlink{classv8_1_1internal_1_1InternalizedStringKey_a409f1c486e407837bcb926d8e3737535}{string\_}}));}
\DoxyCodeLine{267       \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1InternalizedStringKey_a409f1c486e407837bcb926d8e3737535}{string\_}};}
\DoxyCodeLine{268     \}}
\DoxyCodeLine{269     \textcolor{comment}{// We prepared an internalized copy for the string or the string was already}}
\DoxyCodeLine{270     \textcolor{comment}{// internalized.}}
\DoxyCodeLine{271     \textcolor{comment}{// In theory we could have created a copy of a SeqString in young generation}}
\DoxyCodeLine{272     \textcolor{comment}{// that has been promoted to old space by now. In that case we could}}
\DoxyCodeLine{273     \textcolor{comment}{// in-\/place migrate the original string instead of internalizing the copy}}
\DoxyCodeLine{274     \textcolor{comment}{// and migrating the original string to a ThinString. This scenario doesn't}}
\DoxyCodeLine{275     \textcolor{comment}{// seem to be common enough to justify re-\/computing the strategy here.}}
\DoxyCodeLine{276     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1InternalizedStringKey_a2389c191c2ae9f7b2a4ebf1095f5ff12}{internalized\_string\_}}.ToHandleChecked();}
\DoxyCodeLine{277   \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), internalized\+\_\+string\+\_\+, v8\+::internal\+::\+Instance\+Type\+Checker\+::\+Is\+Internalized\+String(), maybe\+\_\+internalized\+\_\+map\+\_\+, and string\+\_\+.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1InternalizedStringKey_a47dd737dc2011eebcc99edc6a6222704_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1InternalizedStringKey_ad1b7de5b1330704fe89d19228c9666c5}\label{classv8_1_1internal_1_1InternalizedStringKey_ad1b7de5b1330704fe89d19228c9666c5}} 
\index{v8::internal::InternalizedStringKey@{v8::internal::InternalizedStringKey}!IsMatch@{IsMatch}}
\index{IsMatch@{IsMatch}!v8::internal::InternalizedStringKey@{v8::internal::InternalizedStringKey}}
\doxysubsubsection{\texorpdfstring{IsMatch()}{IsMatch()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Internalized\+String\+Key\+::\+Is\+Match (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1String}{String}} $>$}]{string }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 194 of file string-\/table.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{194                                                         \{}
\DoxyCodeLine{195     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!\mbox{\hyperlink{classv8_1_1internal_1_1SharedStringAccessGuardIfNeeded_a90c21c7e3cfb4babbfa1a35bf606d364}{SharedStringAccessGuardIfNeeded::IsNeeded}}(\textcolor{keywordtype}{string}));}
\DoxyCodeLine{196     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1InternalizedStringKey_a409f1c486e407837bcb926d8e3737535}{string\_}}-\/>SlowEquals(\textcolor{keywordtype}{string});}
\DoxyCodeLine{197   \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), v8\+::internal\+::\+Shared\+String\+Access\+Guard\+If\+Needed\+::\+Is\+Needed(), and string\+\_\+.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1InternalizedStringKey_ad1b7de5b1330704fe89d19228c9666c5_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1InternalizedStringKey_a045d0a9b99f7509213717dfe28c0bd2a}\label{classv8_1_1internal_1_1InternalizedStringKey_a045d0a9b99f7509213717dfe28c0bd2a}} 
\index{v8::internal::InternalizedStringKey@{v8::internal::InternalizedStringKey}!PrepareForInsertion@{PrepareForInsertion}}
\index{PrepareForInsertion@{PrepareForInsertion}!v8::internal::InternalizedStringKey@{v8::internal::InternalizedStringKey}}
\doxysubsubsection{\texorpdfstring{PrepareForInsertion()}{PrepareForInsertion()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Internalized\+String\+Key\+::\+Prepare\+For\+Insertion (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 199 of file string-\/table.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{199                                              \{}
\DoxyCodeLine{200     \mbox{\hyperlink{namespacev8_1_1internal_a6ec49fbf8885b3f0cbddf0979e9bcf51}{StringTransitionStrategy}} strategy =}
\DoxyCodeLine{201         isolate-\/>factory()-\/>ComputeInternalizationStrategyForString(}
\DoxyCodeLine{202             \mbox{\hyperlink{classv8_1_1internal_1_1InternalizedStringKey_a409f1c486e407837bcb926d8e3737535}{string\_}}, \&\mbox{\hyperlink{classv8_1_1internal_1_1InternalizedStringKey_afd6936af71426778774f583f1ca809a2}{maybe\_internalized\_map\_}});}
\DoxyCodeLine{203     \textcolor{keywordflow}{switch} (strategy) \{}
\DoxyCodeLine{204       \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_a6ec49fbf8885b3f0cbddf0979e9bcf51a70055f8d83bee0a0075607b549829299}{StringTransitionStrategy::kCopy}}:}
\DoxyCodeLine{205         \textcolor{keywordflow}{break};}
\DoxyCodeLine{206       \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_a6ec49fbf8885b3f0cbddf0979e9bcf51a1d63af61d3d549bac224294313be875d}{StringTransitionStrategy::kInPlace}}:}
\DoxyCodeLine{207         \textcolor{comment}{// In-\/place transition will be done in GetHandleForInsertion, when we}}
\DoxyCodeLine{208         \textcolor{comment}{// are sure that we are going to insert the string into the table.}}
\DoxyCodeLine{209         \textcolor{keywordflow}{return};}
\DoxyCodeLine{210       \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_a6ec49fbf8885b3f0cbddf0979e9bcf51ab09c84187453e15235dd97a6bd563f20}{StringTransitionStrategy::kAlreadyTransitioned}}:}
\DoxyCodeLine{211         \textcolor{comment}{// We can see already internalized strings here only when sharing the}}
\DoxyCodeLine{212         \textcolor{comment}{// string table and allowing concurrent internalization.}}
\DoxyCodeLine{213         \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.shared\_string\_table);}
\DoxyCodeLine{214         \mbox{\hyperlink{classv8_1_1internal_1_1InternalizedStringKey_a2389c191c2ae9f7b2a4ebf1095f5ff12}{internalized\_string\_}} = \mbox{\hyperlink{classv8_1_1internal_1_1InternalizedStringKey_a409f1c486e407837bcb926d8e3737535}{string\_}};}
\DoxyCodeLine{215         \textcolor{keywordflow}{return};}
\DoxyCodeLine{216     \}}
\DoxyCodeLine{217 }
\DoxyCodeLine{218     \textcolor{comment}{// Copying the string here is always threadsafe, as no instance type}}
\DoxyCodeLine{219     \textcolor{comment}{// requiring a copy can transition any further.}}
\DoxyCodeLine{220     StringShape shape(*\mbox{\hyperlink{classv8_1_1internal_1_1InternalizedStringKey_a409f1c486e407837bcb926d8e3737535}{string\_}});}
\DoxyCodeLine{221     \textcolor{comment}{// External strings get special treatment, to avoid copying their}}
\DoxyCodeLine{222     \textcolor{comment}{// contents as long as they are not uncached or the string table is shared.}}
\DoxyCodeLine{223     \textcolor{comment}{// If the string table is shared, another thread could lookup a string with}}
\DoxyCodeLine{224     \textcolor{comment}{// the same content before this thread completes MakeThin (which sets the}}
\DoxyCodeLine{225     \textcolor{comment}{// resource), resulting in a string table hit returning the string we just}}
\DoxyCodeLine{226     \textcolor{comment}{// created that is not correctly initialized.}}
\DoxyCodeLine{227     \textcolor{keyword}{const} \textcolor{keywordtype}{bool} can\_move\_resource =}
\DoxyCodeLine{228         !\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.shared\_string\_table \&\& !shape.IsUncachedExternal();}
\DoxyCodeLine{229     \textcolor{keywordflow}{if} (can\_move\_resource \&\& shape.IsExternalOneByte()) \{}
\DoxyCodeLine{230       \textcolor{comment}{// Shared external strings are always in-\/place internalizable.}}
\DoxyCodeLine{231       \textcolor{comment}{// If this assumption is invalidated in the future, make sure that we}}
\DoxyCodeLine{232       \textcolor{comment}{// fully initialize (copy contents) for shared external strings, as the}}
\DoxyCodeLine{233       \textcolor{comment}{// original string is not transitioned to a ThinString (setting the}}
\DoxyCodeLine{234       \textcolor{comment}{// resource) immediately.}}
\DoxyCodeLine{235       \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!shape.IsShared());}
\DoxyCodeLine{236       \mbox{\hyperlink{classv8_1_1internal_1_1InternalizedStringKey_a2389c191c2ae9f7b2a4ebf1095f5ff12}{internalized\_string\_}} =}
\DoxyCodeLine{237           isolate-\/>factory()-\/>InternalizeExternalString<ExternalOneByteString>(}
\DoxyCodeLine{238               \mbox{\hyperlink{classv8_1_1internal_1_1InternalizedStringKey_a409f1c486e407837bcb926d8e3737535}{string\_}});}
\DoxyCodeLine{239     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (can\_move\_resource \&\& shape.IsExternalTwoByte()) \{}
\DoxyCodeLine{240       \textcolor{comment}{// Shared external strings are always in-\/place internalizable.}}
\DoxyCodeLine{241       \textcolor{comment}{// If this assumption is invalidated in the future, make sure that we}}
\DoxyCodeLine{242       \textcolor{comment}{// fully initialize (copy contents) for shared external strings, as the}}
\DoxyCodeLine{243       \textcolor{comment}{// original string is not transitioned to a ThinString (setting the}}
\DoxyCodeLine{244       \textcolor{comment}{// resource) immediately.}}
\DoxyCodeLine{245       \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!shape.IsShared());}
\DoxyCodeLine{246       \mbox{\hyperlink{classv8_1_1internal_1_1InternalizedStringKey_a2389c191c2ae9f7b2a4ebf1095f5ff12}{internalized\_string\_}} =}
\DoxyCodeLine{247           isolate-\/>factory()-\/>InternalizeExternalString<ExternalTwoByteString>(}
\DoxyCodeLine{248               \mbox{\hyperlink{classv8_1_1internal_1_1InternalizedStringKey_a409f1c486e407837bcb926d8e3737535}{string\_}});}
\DoxyCodeLine{249     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{250       \textcolor{comment}{// Otherwise allocate a new internalized string.}}
\DoxyCodeLine{251       \mbox{\hyperlink{classv8_1_1internal_1_1InternalizedStringKey_a2389c191c2ae9f7b2a4ebf1095f5ff12}{internalized\_string\_}} = isolate-\/>factory()-\/>NewInternalizedStringImpl(}
\DoxyCodeLine{252           \mbox{\hyperlink{classv8_1_1internal_1_1InternalizedStringKey_a409f1c486e407837bcb926d8e3737535}{string\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1StringTableKey_aaaf2dafad89891b33229f4c900140486}{length}}(), \mbox{\hyperlink{classv8_1_1internal_1_1StringTableKey_a5e3f8387baa8b92ffd0c63e198c5aaa5}{raw\_hash\_field}}());}
\DoxyCodeLine{253     \}}
\DoxyCodeLine{254   \}}

\end{DoxyCode}


References v8\+::internal\+::\+Factory\+::\+Compute\+Internalization\+Strategy\+For\+String(), v8\+::internal\+::\+DCHECK(), v8\+::internal\+::\+Isolate\+::factory(), internalized\+\_\+string\+\_\+, v8\+::internal\+::\+Factory\+::\+Internalize\+External\+String(), v8\+::internal\+::\+String\+Shape\+::\+Is\+External\+One\+Byte(), v8\+::internal\+::\+String\+Shape\+::\+Is\+External\+Two\+Byte(), v8\+::internal\+::\+String\+Shape\+::\+Is\+Shared(), v8\+::internal\+::\+String\+Shape\+::\+Is\+Uncached\+External(), v8\+::internal\+::k\+Already\+Transitioned, v8\+::internal\+::k\+Copy, v8\+::internal\+::k\+In\+Place, v8\+::internal\+::\+String\+Table\+Key\+::length(), maybe\+\_\+internalized\+\_\+map\+\_\+, v8\+::internal\+::\+Factory\+::\+New\+Internalized\+String\+Impl(), v8\+::internal\+::\+String\+Table\+Key\+::raw\+\_\+hash\+\_\+field(), string\+\_\+, and v8\+::internal\+::v8\+\_\+flags.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1InternalizedStringKey_a045d0a9b99f7509213717dfe28c0bd2a_cgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1InternalizedStringKey_a2389c191c2ae9f7b2a4ebf1095f5ff12}\label{classv8_1_1internal_1_1InternalizedStringKey_a2389c191c2ae9f7b2a4ebf1095f5ff12}} 
\index{v8::internal::InternalizedStringKey@{v8::internal::InternalizedStringKey}!internalized\_string\_@{internalized\_string\_}}
\index{internalized\_string\_@{internalized\_string\_}!v8::internal::InternalizedStringKey@{v8::internal::InternalizedStringKey}}
\doxysubsubsection{\texorpdfstring{internalized\_string\_}{internalized\_string\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle}{Maybe\+Direct\+Handle}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1String}{String}}$>$ v8\+::internal\+::\+Internalized\+String\+Key\+::internalized\+\_\+string\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 286 of file string-\/table.\+cc.



Referenced by Get\+Handle\+For\+Insertion(), and Prepare\+For\+Insertion().

\mbox{\Hypertarget{classv8_1_1internal_1_1InternalizedStringKey_afd6936af71426778774f583f1ca809a2}\label{classv8_1_1internal_1_1InternalizedStringKey_afd6936af71426778774f583f1ca809a2}} 
\index{v8::internal::InternalizedStringKey@{v8::internal::InternalizedStringKey}!maybe\_internalized\_map\_@{maybe\_internalized\_map\_}}
\index{maybe\_internalized\_map\_@{maybe\_internalized\_map\_}!v8::internal::InternalizedStringKey@{v8::internal::InternalizedStringKey}}
\doxysubsubsection{\texorpdfstring{maybe\_internalized\_map\_}{maybe\_internalized\_map\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle}{Maybe\+Direct\+Handle}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}}$>$ v8\+::internal\+::\+Internalized\+String\+Key\+::maybe\+\_\+internalized\+\_\+map\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 287 of file string-\/table.\+cc.



Referenced by Get\+Handle\+For\+Insertion(), and Prepare\+For\+Insertion().

\mbox{\Hypertarget{classv8_1_1internal_1_1InternalizedStringKey_a409f1c486e407837bcb926d8e3737535}\label{classv8_1_1internal_1_1InternalizedStringKey_a409f1c486e407837bcb926d8e3737535}} 
\index{v8::internal::InternalizedStringKey@{v8::internal::InternalizedStringKey}!string\_@{string\_}}
\index{string\_@{string\_}!v8::internal::InternalizedStringKey@{v8::internal::InternalizedStringKey}}
\doxysubsubsection{\texorpdfstring{string\_}{string\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1String}{String}}$>$ v8\+::internal\+::\+Internalized\+String\+Key\+::string\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 280 of file string-\/table.\+cc.



Referenced by Get\+Handle\+For\+Insertion(), Is\+Match(), and Prepare\+For\+Insertion().



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/objects/\mbox{\hyperlink{string-table_8cc}{string-\/table.\+cc}}\end{DoxyCompactItemize}
