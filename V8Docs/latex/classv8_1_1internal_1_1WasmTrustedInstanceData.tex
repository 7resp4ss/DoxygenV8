\hypertarget{classv8_1_1internal_1_1WasmTrustedInstanceData}{}\doxysection{v8\+::internal\+::Wasm\+Trusted\+Instance\+Data Class Reference}
\label{classv8_1_1internal_1_1WasmTrustedInstanceData}\index{v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}}


{\ttfamily \#include $<$wasm-\/objects.\+h$>$}



Inheritance diagram for v8\+::internal\+::Wasm\+Trusted\+Instance\+Data\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1WasmTrustedInstanceData__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for v8\+::internal\+::Wasm\+Trusted\+Instance\+Data\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1WasmTrustedInstanceData__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_a616539ac75427d425f851a66a78fa910}{DECL\+\_\+\+PROTECTED\+\_\+\+POINTER\+\_\+\+ACCESSORS}} (\mbox{\hyperlink{namespacev8_1_1internal_ad255146ba1429764e1e53305b0f4f1fe}{dispatch\+\_\+table\+\_\+for\+\_\+imports}}, \mbox{\hyperlink{classv8_1_1internal_1_1WasmDispatchTable}{Wasm\+Dispatch\+Table}}) DECL\+\_\+\+PROTECTED\+\_\+\+POINTER\+\_\+\+ACCESSORS(managed\+\_\+native\+\_\+module
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1TrustedManaged}{Trusted\+Managed}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule}{wasm\+::\+Native\+Module}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_aa60411cb48a2f75ee46ec643e56dbd51}{DECL\+\_\+\+PROTECTED\+\_\+\+POINTER\+\_\+\+ACCESSORS}} (memory\+\_\+bases\+\_\+and\+\_\+sizes, \mbox{\hyperlink{namespacev8_1_1internal_a860e60f59cb6aab1609c46f106a2febc}{Trusted\+Fixed\+Address\+Array}}) inline void clear\+\_\+padding()
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmMemoryObject}{Wasm\+Memory\+Object}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_ad5a80cd6f0317dfbd5ccf63c79482450}{memory\+\_\+object}} (\mbox{\hyperlink{classint}{int}} memory\+\_\+index) const
\item 
uint8\+\_\+t $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_a675ac2c9a20e5ca6de5690461423a07a}{memory\+\_\+base}} (\mbox{\hyperlink{classint}{int}} memory\+\_\+index) const
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_a5ffd9de7f743ceb78a03c461ee247b30}{memory\+\_\+size}} (\mbox{\hyperlink{classint}{int}} memory\+\_\+index) const
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule}{wasm\+::\+Native\+Module}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_a1712b5e555cfe7c555c1167b74a0c81a}{native\+\_\+module}} () const
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmModuleObject}{Wasm\+Module\+Object}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_a50285bb0cb1b1cf4b3c6cb146f73eecb}{module\+\_\+object}} () const
\item 
const \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule}{wasm\+::\+Wasm\+Module}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_abe17aad860c7790fe78f65cae8e64d29}{module}} () const
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_a3b10b49e542f346ba14702828af547c0}{Set\+Raw\+Memory}} (\mbox{\hyperlink{classint}{int}} memory\+\_\+index, uint8\+\_\+t $\ast$mem\+\_\+start, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} mem\+\_\+size)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1WasmCodePointer}{Wasm\+Code\+Pointer}} \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_ad7aa4c4d7b3be1343889e872863e2982}{Get\+Call\+Target}} (uint32\+\_\+t func\+\_\+index)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmDispatchTable}{Wasm\+Dispatch\+Table}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_aa77b539327db808a03509190170d5404}{dispatch\+\_\+table}} (uint32\+\_\+t table\+\_\+index)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_af9e47a0955857d9d480d508239791c6b}{has\+\_\+dispatch\+\_\+table}} (uint32\+\_\+t table\+\_\+index)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_a6a3c772c7795f345d71f35b3cac43d45}{try\+\_\+get\+\_\+func\+\_\+ref}} (\mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}, \mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmFuncRef}{Wasm\+Func\+Ref}} $>$ $\ast$result)
\item 
uint8\+\_\+t $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_a7558971c5572009784c8a45e25033bdc}{Get\+Global\+Storage}} (const \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmGlobal}{wasm\+::\+Wasm\+Global}} \&)
\item 
std\+::pair$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1FixedArray}{Fixed\+Array}} $>$, uint32\+\_\+t $>$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_a2b52a6afd836b6b563383e787d3131e7}{Get\+Global\+Buffer\+And\+Index}} (const \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmGlobal}{wasm\+::\+Wasm\+Global}} \&)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmValue}{wasm\+::\+Wasm\+Value}} \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_abc9dc826c0283941be4d1e6cfa9371d3}{Get\+Global\+Value}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$, const \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmGlobal}{wasm\+::\+Wasm\+Global}} \&)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_ad79a7583df5d47e3daf85c19a2012986}{OBJECT\+\_\+\+CONSTRUCTORS}} (\mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData}{Wasm\+Trusted\+Instance\+Data}}, \mbox{\hyperlink{classv8_1_1internal_1_1ExposedTrustedObject}{Exposed\+Trusted\+Object}})
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData}{Wasm\+Trusted\+Instance\+Data}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_a046bdad8a33dfd81561292116a4dbcec}{New}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmModuleObject}{Wasm\+Module\+Object}} $>$, \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} shared)
\item 
static \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_ad5fa0df8fba113e186afd8a1b10b8161}{Copy\+Table\+Entries}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData}{Wasm\+Trusted\+Instance\+Data}} $>$ trusted\+\_\+instance\+\_\+data, uint32\+\_\+t table\+\_\+dst\+\_\+index, uint32\+\_\+t table\+\_\+src\+\_\+index, uint32\+\_\+t dst, uint32\+\_\+t src, uint32\+\_\+t \mbox{\hyperlink{structv8_1_1internal_1_1count}{count}}) \mbox{\hyperlink{v8config_8h_a63258e4bf5dc9fb8c78f881c8405d83b}{V8\+\_\+\+WARN\+\_\+\+UNUSED\+\_\+\+RESULT}}
\item 
static std\+::optional$<$ \mbox{\hyperlink{namespacev8_1_1internal_a1c7888272df599e45fcab531e38f9523}{Message\+Template}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_a77178e357a3856cdbbeb238b075f45e4}{Init\+Table\+Entries}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData}{Wasm\+Trusted\+Instance\+Data}} $>$ trusted\+\_\+instance\+\_\+data, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData}{Wasm\+Trusted\+Instance\+Data}} $>$ shared\+\_\+trusted\+\_\+instance\+\_\+data, uint32\+\_\+t table\+\_\+index, uint32\+\_\+t segment\+\_\+index, uint32\+\_\+t dst, uint32\+\_\+t src, uint32\+\_\+t \mbox{\hyperlink{structv8_1_1internal_1_1count}{count}}) \mbox{\hyperlink{v8config_8h_a63258e4bf5dc9fb8c78f881c8405d83b}{V8\+\_\+\+WARN\+\_\+\+UNUSED\+\_\+\+RESULT}}
\item 
static \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmFuncRef}{Wasm\+Func\+Ref}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_a27d1f1a3201baec4b9103b3bb27888b6}{Get\+Or\+Create\+Func\+Ref}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData}{Wasm\+Trusted\+Instance\+Data}} $>$ trusted\+\_\+instance\+\_\+data, \mbox{\hyperlink{classint}{int}} function\+\_\+index)
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
static constexpr \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_ad169caebc15b6c65ab08d8c6a087831d}{k\+Wasm\+Interpreter\+Additional\+Fields}} = 0
\item 
static constexpr \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_aaedf2ec93418f82037ad7ef660b9f0a5}{k\+Tagged\+Fields\+Count}}
\item 
static constexpr std\+::array$<$ uint16\+\_\+t, \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_aaedf2ec93418f82037ad7ef660b9f0a5}{k\+Tagged\+Fields\+Count}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_aabf57a672c88fe7c988311cd560a37d1}{k\+Tagged\+Field\+Offsets}}
\item 
static constexpr std\+::array$<$ const char $\ast$, \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_aaedf2ec93418f82037ad7ef660b9f0a5}{k\+Tagged\+Fields\+Count}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_a82e0d67b495b3d12886e1491a43cdb24}{k\+Tagged\+Field\+Names}}
\item 
static constexpr std\+::array$<$ uint16\+\_\+t, 6 $>$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_a6d40ff595b69eb36026f3ec8d1a35fac}{k\+Protected\+Field\+Offsets}}
\item 
static constexpr std\+::array$<$ const char $\ast$, 6 $>$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_a570376cd95bb723fb0a30b9e1e0ebc0d}{k\+Protected\+Field\+Names}}
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_a74e85e919dddc266cc1d846849aec50a}{Init\+Data\+Segment\+Arrays}} (const \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule}{wasm\+::\+Native\+Module}} $\ast$)
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


Definition at line 479 of file wasm-\/objects.\+h.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1WasmTrustedInstanceData_ad5fa0df8fba113e186afd8a1b10b8161}\label{classv8_1_1internal_1_1WasmTrustedInstanceData_ad5fa0df8fba113e186afd8a1b10b8161}} 
\index{v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}!CopyTableEntries@{CopyTableEntries}}
\index{CopyTableEntries@{CopyTableEntries}!v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}}
\doxysubsubsection{\texorpdfstring{CopyTableEntries()}{CopyTableEntries()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Wasm\+Trusted\+Instance\+Data\+::\+Copy\+Table\+Entries (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData}{Wasm\+Trusted\+Instance\+Data}} $>$}]{trusted\+\_\+instance\+\_\+data,  }\item[{uint32\+\_\+t}]{table\+\_\+dst\+\_\+index,  }\item[{uint32\+\_\+t}]{table\+\_\+src\+\_\+index,  }\item[{uint32\+\_\+t}]{dst,  }\item[{uint32\+\_\+t}]{src,  }\item[{uint32\+\_\+t}]{count }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 1897 of file wasm-\/objects.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1901                                   \{}
\DoxyCodeLine{1902   \mbox{\hyperlink{src_2base_2logging_8h_a45a0717f39b7011dc823c1fe7b83e6fc}{CHECK\_LT}}(table\_dst\_index, trusted\_instance\_data-\/>tables()-\/>length());}
\DoxyCodeLine{1903   \mbox{\hyperlink{src_2base_2logging_8h_a45a0717f39b7011dc823c1fe7b83e6fc}{CHECK\_LT}}(table\_src\_index, trusted\_instance\_data-\/>tables()-\/>length());}
\DoxyCodeLine{1904   \textcolor{keyword}{auto} table\_dst =}
\DoxyCodeLine{1905       \mbox{\hyperlink{namespacev8_1_1internal_a73502f55102d18cb764881bc29f35c05}{direct\_handle}}(Cast<WasmTableObject>(}
\DoxyCodeLine{1906                         trusted\_instance\_data-\/>tables()-\/>get(table\_dst\_index)),}
\DoxyCodeLine{1907                     isolate);}
\DoxyCodeLine{1908   \textcolor{keyword}{auto} table\_src =}
\DoxyCodeLine{1909       \mbox{\hyperlink{namespacev8_1_1internal_a73502f55102d18cb764881bc29f35c05}{direct\_handle}}(Cast<WasmTableObject>(}
\DoxyCodeLine{1910                         trusted\_instance\_data-\/>tables()-\/>get(table\_src\_index)),}
\DoxyCodeLine{1911                     isolate);}
\DoxyCodeLine{1912   uint32\_t max\_dst = table\_dst-\/>current\_length();}
\DoxyCodeLine{1913   uint32\_t max\_src = table\_src-\/>current\_length();}
\DoxyCodeLine{1914   \textcolor{keywordtype}{bool} copy\_backward = src < dst;}
\DoxyCodeLine{1915   \textcolor{keywordflow}{if} (!base::IsInBounds(dst, count, max\_dst) ||}
\DoxyCodeLine{1916       !base::IsInBounds(src, count, max\_src)) \{}
\DoxyCodeLine{1917     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{1918   \}}
\DoxyCodeLine{1919 }
\DoxyCodeLine{1920   \textcolor{comment}{// no-\/op}}
\DoxyCodeLine{1921   \textcolor{keywordflow}{if} ((dst == src \&\& table\_dst\_index == table\_src\_index) || count == 0) \{}
\DoxyCodeLine{1922     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{1923   \}}
\DoxyCodeLine{1924 }
\DoxyCodeLine{1925   \textcolor{keywordflow}{for} (uint32\_t \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < count; ++\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}) \{}
\DoxyCodeLine{1926     uint32\_t src\_index = copy\_backward ? (src + count -\/ \mbox{\hyperlink{namespacev8_1_1internal}{i}} -\/ 1) : src + \mbox{\hyperlink{namespacev8_1_1internal}{i}};}
\DoxyCodeLine{1927     uint32\_t dst\_index = copy\_backward ? (dst + count -\/ \mbox{\hyperlink{namespacev8_1_1internal}{i}} -\/ 1) : dst + \mbox{\hyperlink{namespacev8_1_1internal}{i}};}
\DoxyCodeLine{1928     \textcolor{keyword}{auto} \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} = \mbox{\hyperlink{classv8_1_1internal_1_1WasmTableObject_aa5e3c6d5c308301194a5fd89e6dd9e59}{WasmTableObject::Get}}(isolate, table\_src, src\_index);}
\DoxyCodeLine{1929     \mbox{\hyperlink{classv8_1_1internal_1_1WasmTableObject_acfdec070b48fe34a36f7aa7fed63a969}{WasmTableObject::Set}}(isolate, table\_dst, dst\_index, \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}});}
\DoxyCodeLine{1930   \}}
\DoxyCodeLine{1931   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{1932 \}}

\end{DoxyCode}


References CHECK\+\_\+\+LT, v8\+::internal\+::direct\+\_\+handle(), v8\+::internal\+::\+Wasm\+Table\+Object\+::\+Get(), v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::i, v8\+::internal\+::\+Wasm\+Table\+Object\+::\+Set(), and v8\+::internal\+::value.



Referenced by v8\+::internal\+::\+RUNTIME\+\_\+\+FUNCTION(), and v8\+::internal\+::wasm\+::\+Wasm\+Interpreter\+Runtime\+::\+Table\+Copy().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1WasmTrustedInstanceData_ad5fa0df8fba113e186afd8a1b10b8161_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1WasmTrustedInstanceData_ad5fa0df8fba113e186afd8a1b10b8161_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1WasmTrustedInstanceData_a616539ac75427d425f851a66a78fa910}\label{classv8_1_1internal_1_1WasmTrustedInstanceData_a616539ac75427d425f851a66a78fa910}} 
\index{v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}!DECL\_PROTECTED\_POINTER\_ACCESSORS@{DECL\_PROTECTED\_POINTER\_ACCESSORS}}
\index{DECL\_PROTECTED\_POINTER\_ACCESSORS@{DECL\_PROTECTED\_POINTER\_ACCESSORS}!v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}}
\doxysubsubsection{\texorpdfstring{DECL\_PROTECTED\_POINTER\_ACCESSORS()}{DECL\_PROTECTED\_POINTER\_ACCESSORS()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily v8\+::internal\+::\+Wasm\+Trusted\+Instance\+Data\+::\+DECL\+\_\+\+PROTECTED\+\_\+\+POINTER\+\_\+\+ACCESSORS (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_ad255146ba1429764e1e53305b0f4f1fe}{dispatch\+\_\+table\+\_\+for\+\_\+imports}}}]{,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1WasmDispatchTable}{Wasm\+Dispatch\+Table}}}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{classv8_1_1internal_1_1WasmTrustedInstanceData_aa60411cb48a2f75ee46ec643e56dbd51}\label{classv8_1_1internal_1_1WasmTrustedInstanceData_aa60411cb48a2f75ee46ec643e56dbd51}} 
\index{v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}!DECL\_PROTECTED\_POINTER\_ACCESSORS@{DECL\_PROTECTED\_POINTER\_ACCESSORS}}
\index{DECL\_PROTECTED\_POINTER\_ACCESSORS@{DECL\_PROTECTED\_POINTER\_ACCESSORS}!v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}}
\doxysubsubsection{\texorpdfstring{DECL\_PROTECTED\_POINTER\_ACCESSORS()}{DECL\_PROTECTED\_POINTER\_ACCESSORS()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1TrustedManaged}{Trusted\+Managed}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule}{wasm\+::\+Native\+Module}}$>$ v8\+::internal\+::\+Wasm\+Trusted\+Instance\+Data\+::\+DECL\+\_\+\+PROTECTED\+\_\+\+POINTER\+\_\+\+ACCESSORS (\begin{DoxyParamCaption}\item[{memory\+\_\+bases\+\_\+and\+\_\+sizes}]{,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a860e60f59cb6aab1609c46f106a2febc}{Trusted\+Fixed\+Address\+Array}}}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{classv8_1_1internal_1_1WasmTrustedInstanceData_aa77b539327db808a03509190170d5404}\label{classv8_1_1internal_1_1WasmTrustedInstanceData_aa77b539327db808a03509190170d5404}} 
\index{v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}!dispatch\_table@{dispatch\_table}}
\index{dispatch\_table@{dispatch\_table}!v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}}
\doxysubsubsection{\texorpdfstring{dispatch\_table()}{dispatch\_table()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmDispatchTable}{Wasm\+Dispatch\+Table}} $>$ v8\+::internal\+::\+Wasm\+Trusted\+Instance\+Data\+::dispatch\+\_\+table (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{table\+\_\+index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 297 of file wasm-\/objects-\/inl.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{298                           \{}
\DoxyCodeLine{299   \mbox{\hyperlink{namespacev8_1_1internal_a5297fd2c72981b2220e6b9a831570fb3}{Tagged<Object>}} table = dispatch\_tables()-\/>get(table\_index);}
\DoxyCodeLine{300   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(IsWasmDispatchTable(table));}
\DoxyCodeLine{301   \textcolor{keywordflow}{return} Cast<WasmDispatchTable>(table);}
\DoxyCodeLine{302 \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1WasmTrustedInstanceData_aa77b539327db808a03509190170d5404_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1WasmTrustedInstanceData_ad7aa4c4d7b3be1343889e872863e2982}\label{classv8_1_1internal_1_1WasmTrustedInstanceData_ad7aa4c4d7b3be1343889e872863e2982}} 
\index{v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}!GetCallTarget@{GetCallTarget}}
\index{GetCallTarget@{GetCallTarget}!v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}}
\doxysubsubsection{\texorpdfstring{GetCallTarget()}{GetCallTarget()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1WasmCodePointer}{Wasm\+Code\+Pointer}} v8\+::internal\+::\+Wasm\+Trusted\+Instance\+Data\+::\+Get\+Call\+Target (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{func\+\_\+index }\end{DoxyParamCaption})}



Definition at line 1882 of file wasm-\/objects.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1882                                                                           \{}
\DoxyCodeLine{1883   wasm::NativeModule* \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_a1712b5e555cfe7c555c1167b74a0c81a}{native\_module}} = this-\/>\mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_a1712b5e555cfe7c555c1167b74a0c81a}{native\_module}}();}
\DoxyCodeLine{1884   \mbox{\hyperlink{check_8h_aa48820509053e4a2ad5061bae4fb9c40}{SBXCHECK\_BOUNDS}}(func\_index, \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_a1712b5e555cfe7c555c1167b74a0c81a}{native\_module}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule_a4210dcf60ee0c22b95de93af93f17f86}{num\_functions}}());}
\DoxyCodeLine{1885   \textcolor{keywordflow}{if} (func\_index < native\_module-\/>num\_imported\_functions()) \{}
\DoxyCodeLine{1886     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_ad255146ba1429764e1e53305b0f4f1fe}{dispatch\_table\_for\_imports}}()-\/>target(func\_index);}
\DoxyCodeLine{1887   \}}
\DoxyCodeLine{1888 }
\DoxyCodeLine{1889   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.wasm\_jitless) \{}
\DoxyCodeLine{1890     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a7d41c6d12091165e18a14f58ae8b1b91}{wasm::kInvalidWasmCodePointer}};}
\DoxyCodeLine{1891   \}}
\DoxyCodeLine{1892 }
\DoxyCodeLine{1893   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_a1712b5e555cfe7c555c1167b74a0c81a}{native\_module}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule_a63657aff1b54d8355c88d671645a62fd}{GetCodePointerHandle}}(func\_index);}
\DoxyCodeLine{1894 \}}

\end{DoxyCode}


References v8\+::internal\+::dispatch\+\_\+table\+\_\+for\+\_\+imports, v8\+::internal\+::wasm\+::\+Native\+Module\+::\+Get\+Code\+Pointer\+Handle(), v8\+::internal\+::wasm\+::k\+Invalid\+Wasm\+Code\+Pointer, native\+\_\+module(), v8\+::internal\+::wasm\+::\+Native\+Module\+::num\+\_\+functions(), SBXCHECK\+\_\+\+BOUNDS, and v8\+::internal\+::v8\+\_\+flags.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1WasmTrustedInstanceData_ad7aa4c4d7b3be1343889e872863e2982_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1WasmTrustedInstanceData_a2b52a6afd836b6b563383e787d3131e7}\label{classv8_1_1internal_1_1WasmTrustedInstanceData_a2b52a6afd836b6b563383e787d3131e7}} 
\index{v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}!GetGlobalBufferAndIndex@{GetGlobalBufferAndIndex}}
\index{GetGlobalBufferAndIndex@{GetGlobalBufferAndIndex}!v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}}
\doxysubsubsection{\texorpdfstring{GetGlobalBufferAndIndex()}{GetGlobalBufferAndIndex()}}
{\footnotesize\ttfamily std\+::pair$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1FixedArray}{Fixed\+Array}} $>$, uint32\+\_\+t $>$ v8\+::internal\+::\+Wasm\+Trusted\+Instance\+Data\+::\+Get\+Global\+Buffer\+And\+Index (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmGlobal}{wasm\+::\+Wasm\+Global}} \&}]{global }\end{DoxyParamCaption})}



Definition at line 2165 of file wasm-\/objects.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2166                                   \{}
\DoxyCodeLine{2167   \mbox{\hyperlink{namespacev8_1_1internal_af2248a427f8ff8f81e68a2a87758e145}{DisallowGarbageCollection}} \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_a63d8eefb47468aa3f816fbe26a59466a}{no\_gc}};}
\DoxyCodeLine{2168   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(global.type.is\_reference());}
\DoxyCodeLine{2169   \textcolor{keywordflow}{if} (global.mutability \&\& global.imported) \{}
\DoxyCodeLine{2170     \mbox{\hyperlink{namespacev8_1_1internal_a5aa5f5d8cabe2dbba29d92ffdf16e9fc}{Tagged<FixedArray>}} buffer =}
\DoxyCodeLine{2171         Cast<FixedArray>(imported\_mutable\_globals\_buffers()-\/>get(global.index));}
\DoxyCodeLine{2172     \mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} idx = imported\_mutable\_globals()-\/>get(global.index);}
\DoxyCodeLine{2173     \mbox{\hyperlink{src_2base_2logging_8h_a16b382527f19b805fc8f856668f2270b}{DCHECK\_LE}}(idx, std::numeric\_limits<uint32\_t>::max());}
\DoxyCodeLine{2174     \textcolor{keywordflow}{return} \{buffer, \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(idx)\};}
\DoxyCodeLine{2175   \}}
\DoxyCodeLine{2176   \textcolor{keywordflow}{return} \{\mbox{\hyperlink{namespacev8_1_1internal_a910dba0d1f94fc1784f2a389925b59af}{tagged\_globals\_buffer}}(), global.offset\};}
\DoxyCodeLine{2177 \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+LE, v8\+::internal\+::wasm\+::\+Wasm\+Global\+::imported, v8\+::internal\+::wasm\+::\+Wasm\+Global\+::index, v8\+::internal\+::wasm\+::\+Value\+Type\+Base\+::is\+\_\+reference(), v8\+::internal\+::wasm\+::\+Wasm\+Global\+::mutability, v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::no\+\_\+gc, v8\+::internal\+::wasm\+::\+Wasm\+Global\+::offset, v8\+::internal\+::tagged\+\_\+globals\+\_\+buffer, and v8\+::internal\+::wasm\+::\+Wasm\+Global\+::type.



Referenced by Get\+Global\+Value().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1WasmTrustedInstanceData_a2b52a6afd836b6b563383e787d3131e7_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1WasmTrustedInstanceData_a2b52a6afd836b6b563383e787d3131e7_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1WasmTrustedInstanceData_a7558971c5572009784c8a45e25033bdc}\label{classv8_1_1internal_1_1WasmTrustedInstanceData_a7558971c5572009784c8a45e25033bdc}} 
\index{v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}!GetGlobalStorage@{GetGlobalStorage}}
\index{GetGlobalStorage@{GetGlobalStorage}!v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}}
\doxysubsubsection{\texorpdfstring{GetGlobalStorage()}{GetGlobalStorage()}}
{\footnotesize\ttfamily uint8\+\_\+t $\ast$ v8\+::internal\+::\+Wasm\+Trusted\+Instance\+Data\+::\+Get\+Global\+Storage (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmGlobal}{wasm\+::\+Wasm\+Global}} \&}]{global }\end{DoxyParamCaption})}



Definition at line 2154 of file wasm-\/objects.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2155                                   \{}
\DoxyCodeLine{2156   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!global.type.is\_reference());}
\DoxyCodeLine{2157   \textcolor{keywordflow}{if} (global.mutability \&\& global.imported) \{}
\DoxyCodeLine{2158     \textcolor{keywordflow}{return} \textcolor{keyword}{reinterpret\_cast<}uint8\_t*\textcolor{keyword}{>}(}
\DoxyCodeLine{2159         imported\_mutable\_globals()-\/>get\_sandboxed\_pointer(global.index));}
\DoxyCodeLine{2160   \}}
\DoxyCodeLine{2161   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_a67a321483bf059e8447957a469e2896b}{globals\_start}}() + global.offset;}
\DoxyCodeLine{2162 \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), v8\+::internal\+::globals\+\_\+start, v8\+::internal\+::wasm\+::\+Wasm\+Global\+::imported, v8\+::internal\+::wasm\+::\+Wasm\+Global\+::index, v8\+::internal\+::wasm\+::\+Value\+Type\+Base\+::is\+\_\+reference(), v8\+::internal\+::wasm\+::\+Wasm\+Global\+::mutability, v8\+::internal\+::wasm\+::\+Wasm\+Global\+::offset, and v8\+::internal\+::wasm\+::\+Wasm\+Global\+::type.



Referenced by Get\+Global\+Value().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1WasmTrustedInstanceData_a7558971c5572009784c8a45e25033bdc_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1WasmTrustedInstanceData_a7558971c5572009784c8a45e25033bdc_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1WasmTrustedInstanceData_abc9dc826c0283941be4d1e6cfa9371d3}\label{classv8_1_1internal_1_1WasmTrustedInstanceData_abc9dc826c0283941be4d1e6cfa9371d3}} 
\index{v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}!GetGlobalValue@{GetGlobalValue}}
\index{GetGlobalValue@{GetGlobalValue}!v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}}
\doxysubsubsection{\texorpdfstring{GetGlobalValue()}{GetGlobalValue()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmValue}{wasm\+::\+Wasm\+Value}} v8\+::internal\+::\+Wasm\+Trusted\+Instance\+Data\+::\+Get\+Global\+Value (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{const \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmGlobal}{wasm\+::\+Wasm\+Global}} \&}]{global }\end{DoxyParamCaption})}



Definition at line 2179 of file wasm-\/objects.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2180                                                     \{}
\DoxyCodeLine{2181   \mbox{\hyperlink{namespacev8_1_1internal_af2248a427f8ff8f81e68a2a87758e145}{DisallowGarbageCollection}} \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_a63d8eefb47468aa3f816fbe26a59466a}{no\_gc}};}
\DoxyCodeLine{2182   \textcolor{keywordflow}{if} (global.type.is\_reference()) \{}
\DoxyCodeLine{2183     \mbox{\hyperlink{namespacev8_1_1internal_a5aa5f5d8cabe2dbba29d92ffdf16e9fc}{Tagged<FixedArray>}} global\_buffer;  \textcolor{comment}{// The buffer of the global.}}
\DoxyCodeLine{2184     uint32\_t global\_index = 0;         \textcolor{comment}{// The index into the buffer.}}
\DoxyCodeLine{2185     std::tie(global\_buffer, global\_index) = \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_a2b52a6afd836b6b563383e787d3131e7}{GetGlobalBufferAndIndex}}(global);}
\DoxyCodeLine{2186     \textcolor{keywordflow}{return} wasm::WasmValue(}
\DoxyCodeLine{2187         \mbox{\hyperlink{namespacev8_1_1internal_a73502f55102d18cb764881bc29f35c05}{direct\_handle}}(global\_buffer-\/>get(global\_index), isolate),}
\DoxyCodeLine{2188         \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_abe17aad860c7790fe78f65cae8e64d29}{module}}()-\/>canonical\_type(global.type));}
\DoxyCodeLine{2189   \}}
\DoxyCodeLine{2190   \mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} \mbox{\hyperlink{classv8_1_1internal_1_1TaggedImpl_a4dba1b2eafcf7a414910966f950540c9}{ptr}} = \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}\textcolor{keyword}{>}(\mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_a7558971c5572009784c8a45e25033bdc}{GetGlobalStorage}}(global));}
\DoxyCodeLine{2191   \textcolor{keywordflow}{switch} (global.type.kind()) \{}
\DoxyCodeLine{2192 \textcolor{preprocessor}{\#define CASE\_TYPE(valuetype, ctype) \(\backslash\)}}
\DoxyCodeLine{2193 \textcolor{preprocessor}{  case wasm::valuetype:             \(\backslash\)}}
\DoxyCodeLine{2194 \textcolor{preprocessor}{    return wasm::WasmValue(base::ReadUnalignedValue<ctype>(ptr));}}
\DoxyCodeLine{2195     \mbox{\hyperlink{value-type_8h_adf86c65c5ba682f447bce7040a35a995}{FOREACH\_WASMVALUE\_CTYPES}}(\mbox{\hyperlink{wasm-objects_8cc_a0979779f556ee0d06534c86c91092716}{CASE\_TYPE}})}
\DoxyCodeLine{2196 \textcolor{preprocessor}{\#undef CASE\_TYPE}}
\DoxyCodeLine{2197     \textcolor{keywordflow}{default}:}
\DoxyCodeLine{2198       \mbox{\hyperlink{namespacev8_1_1internal_acdec713c25068019f935e35976f5b666}{UNREACHABLE}}();}
\DoxyCodeLine{2199   \}}
\DoxyCodeLine{2200 \}}

\end{DoxyCode}


References CASE\+\_\+\+TYPE, v8\+::internal\+::direct\+\_\+handle(), FOREACH\+\_\+\+WASMVALUE\+\_\+\+CTYPES, Get\+Global\+Buffer\+And\+Index(), Get\+Global\+Storage(), v8\+::internal\+::wasm\+::\+Value\+Type\+Base\+::is\+\_\+reference(), v8\+::internal\+::wasm\+::\+Value\+Type\+Base\+::kind(), module(), v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::no\+\_\+gc, v8\+::internal\+::\+Tagged\+Impl$<$ Heap\+Object\+Reference\+Type\+::\+STRONG, Address $>$\+::ptr(), v8\+::internal\+::wasm\+::\+Wasm\+Global\+::type, and v8\+::internal\+::\+UNREACHABLE().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1WasmTrustedInstanceData_abc9dc826c0283941be4d1e6cfa9371d3_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1WasmTrustedInstanceData_a27d1f1a3201baec4b9103b3bb27888b6}\label{classv8_1_1internal_1_1WasmTrustedInstanceData_a27d1f1a3201baec4b9103b3bb27888b6}} 
\index{v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}!GetOrCreateFuncRef@{GetOrCreateFuncRef}}
\index{GetOrCreateFuncRef@{GetOrCreateFuncRef}!v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}}
\doxysubsubsection{\texorpdfstring{GetOrCreateFuncRef()}{GetOrCreateFuncRef()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmFuncRef}{Wasm\+Func\+Ref}} $>$ v8\+::internal\+::\+Wasm\+Trusted\+Instance\+Data\+::\+Get\+Or\+Create\+Func\+Ref (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData}{Wasm\+Trusted\+Instance\+Data}} $>$}]{trusted\+\_\+instance\+\_\+data,  }\item[{\mbox{\hyperlink{classint}{int}}}]{function\+\_\+index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 1995 of file wasm-\/objects.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1998                         \{}
\DoxyCodeLine{1999   \textcolor{keywordtype}{bool} shared = \mbox{\hyperlink{classv8_1_1internal_1_1HeapLayout_ae77bf0d1f0e1b86681fb29101ecd527a}{HeapLayout::InAnySharedSpace}}(*trusted\_instance\_data);}
\DoxyCodeLine{2000   Tagged<WasmFuncRef> existing\_func\_ref;}
\DoxyCodeLine{2001   \textcolor{keywordflow}{if} (trusted\_instance\_data-\/>try\_get\_func\_ref(function\_index,}
\DoxyCodeLine{2002                                               \&existing\_func\_ref)) \{}
\DoxyCodeLine{2003     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_a73502f55102d18cb764881bc29f35c05}{direct\_handle}}(existing\_func\_ref, isolate);}
\DoxyCodeLine{2004   \}}
\DoxyCodeLine{2005 }
\DoxyCodeLine{2006   \textcolor{keyword}{const} \mbox{\hyperlink{namespacev8_1_1internal_a09dbf9baefb793fd78912d6ef89f9dde}{WasmModule}}* \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_abe17aad860c7790fe78f65cae8e64d29}{module}} = trusted\_instance\_data-\/>module();}
\DoxyCodeLine{2007   \textcolor{keywordtype}{bool} is\_import =}
\DoxyCodeLine{2008       function\_index < static\_cast<int>(\mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_abe17aad860c7790fe78f65cae8e64d29}{module}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a81b4b2b056e744758f875acafe4c909a}{num\_imported\_functions}});}
\DoxyCodeLine{2009   wasm::ModuleTypeIndex sig\_index = \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_abe17aad860c7790fe78f65cae8e64d29}{module}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a79b743888793de4a17ae53dd93988de6}{functions}}[function\_index].sig\_index;}
\DoxyCodeLine{2010   DirectHandle<TrustedObject> implicit\_arg =}
\DoxyCodeLine{2011       is\_import ? \mbox{\hyperlink{namespacev8_1_1internal_a73502f55102d18cb764881bc29f35c05}{direct\_handle}}(}
\DoxyCodeLine{2012                       Cast<TrustedObject>(}
\DoxyCodeLine{2013                           trusted\_instance\_data-\/>dispatch\_table\_for\_imports()}
\DoxyCodeLine{2014                               -\/>implicit\_arg(function\_index)),}
\DoxyCodeLine{2015                       isolate)}
\DoxyCodeLine{2016                 : trusted\_instance\_data;}
\DoxyCodeLine{2017 }
\DoxyCodeLine{2018   \textcolor{comment}{// TODO(14034): Create funcref RTTs lazily?}}
\DoxyCodeLine{2019   DirectHandle<Map> rtt\{}
\DoxyCodeLine{2020       Cast<Map>(}
\DoxyCodeLine{2021           trusted\_instance\_data-\/>managed\_object\_maps()-\/>get(sig\_index.index)),}
\DoxyCodeLine{2022       isolate\};}
\DoxyCodeLine{2023 }
\DoxyCodeLine{2024   \textcolor{comment}{// Reuse the call target of the instance. In case of import wrappers, the}}
\DoxyCodeLine{2025   \textcolor{comment}{// wrapper will automatically get tiered up together since it will use the}}
\DoxyCodeLine{2026   \textcolor{comment}{// same CPT entry.}}
\DoxyCodeLine{2027   DirectHandle<WasmInternalFunction> internal\_function =}
\DoxyCodeLine{2028       isolate-\/>factory()-\/>NewWasmInternalFunction(}
\DoxyCodeLine{2029           implicit\_arg, function\_index, shared,}
\DoxyCodeLine{2030           trusted\_instance\_data-\/>GetCallTarget(function\_index));}
\DoxyCodeLine{2031   DirectHandle<WasmFuncRef> func\_ref =}
\DoxyCodeLine{2032       isolate-\/>factory()-\/>NewWasmFuncRef(internal\_function, rtt, shared);}
\DoxyCodeLine{2033   trusted\_instance\_data-\/>func\_refs()-\/>set(function\_index, *func\_ref);}
\DoxyCodeLine{2034 }
\DoxyCodeLine{2035   \textcolor{keywordflow}{return} func\_ref;}
\DoxyCodeLine{2036 \}}

\end{DoxyCode}


References v8\+::internal\+::direct\+\_\+handle(), v8\+::internal\+::\+Isolate\+::factory(), v8\+::internal\+::wasm\+::\+Wasm\+Module\+::functions, v8\+::internal\+::\+Heap\+Layout\+::\+In\+Any\+Shared\+Space(), v8\+::internal\+::wasm\+::\+Type\+Index\+::index, module(), and v8\+::internal\+::wasm\+::\+Wasm\+Module\+::num\+\_\+imported\+\_\+functions.



Referenced by v8\+::internal\+::wasm\+::\+Instance\+Builder\+::\+Build\+\_\+\+Phase1(), v8\+::internal\+::wasm\+::\+Evaluate\+Constant\+Expression(), v8\+::internal\+::anonymous\+\_\+namespace\{debug-\/wasm-\/objects.\+cc\}\+::\+Functions\+Proxy\+::\+Get(), v8\+::internal\+::\+Wasm\+Table\+Object\+::\+Get(), v8\+::internal\+::wasm\+::\+JSPrototypes\+Setup\+::\+Get\+Function(), v8\+::internal\+::wasm\+::\+Wasm\+Interpreter\+Runtime\+::\+Get\+Function\+Ref(), v8\+::internal\+::wasm\+::\+Instance\+Builder\+::\+Process\+Exports(), and v8\+::internal\+::\+RUNTIME\+\_\+\+FUNCTION().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1WasmTrustedInstanceData_a27d1f1a3201baec4b9103b3bb27888b6_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1WasmTrustedInstanceData_a27d1f1a3201baec4b9103b3bb27888b6_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1WasmTrustedInstanceData_af9e47a0955857d9d480d508239791c6b}\label{classv8_1_1internal_1_1WasmTrustedInstanceData_af9e47a0955857d9d480d508239791c6b}} 
\index{v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}!has\_dispatch\_table@{has\_dispatch\_table}}
\index{has\_dispatch\_table@{has\_dispatch\_table}!v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}}
\doxysubsubsection{\texorpdfstring{has\_dispatch\_table()}{has\_dispatch\_table()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Wasm\+Trusted\+Instance\+Data\+::has\+\_\+dispatch\+\_\+table (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{table\+\_\+index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 304 of file wasm-\/objects-\/inl.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{304                                                                      \{}
\DoxyCodeLine{305   \mbox{\hyperlink{namespacev8_1_1internal_a5297fd2c72981b2220e6b9a831570fb3}{Tagged<Object>}} maybe\_table = dispatch\_tables()-\/>get(table\_index);}
\DoxyCodeLine{306   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(maybe\_table == \mbox{\hyperlink{classv8_1_1internal_1_1Smi_a5386e0cc44bcfd6a13c8481b95f5652f}{Smi::zero}}() || IsWasmDispatchTable(maybe\_table));}
\DoxyCodeLine{307   \textcolor{keywordflow}{return} maybe\_table != \mbox{\hyperlink{classv8_1_1internal_1_1Smi_a5386e0cc44bcfd6a13c8481b95f5652f}{Smi::zero}}();}
\DoxyCodeLine{308 \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), and v8\+::internal\+::\+Smi\+::zero().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1WasmTrustedInstanceData_af9e47a0955857d9d480d508239791c6b_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1WasmTrustedInstanceData_a74e85e919dddc266cc1d846849aec50a}\label{classv8_1_1internal_1_1WasmTrustedInstanceData_a74e85e919dddc266cc1d846849aec50a}} 
\index{v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}!InitDataSegmentArrays@{InitDataSegmentArrays}}
\index{InitDataSegmentArrays@{InitDataSegmentArrays}!v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}}
\doxysubsubsection{\texorpdfstring{InitDataSegmentArrays()}{InitDataSegmentArrays()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Wasm\+Trusted\+Instance\+Data\+::\+Init\+Data\+Segment\+Arrays (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule}{wasm\+::\+Native\+Module}} $\ast$}]{native\+\_\+module }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1855 of file wasm-\/objects.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1856                                            \{}
\DoxyCodeLine{1857   \textcolor{keyword}{const} \mbox{\hyperlink{namespacev8_1_1internal_a09dbf9baefb793fd78912d6ef89f9dde}{WasmModule}}* \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_abe17aad860c7790fe78f65cae8e64d29}{module}} = \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_a1712b5e555cfe7c555c1167b74a0c81a}{native\_module}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule_a04f2f50aa9d1cbc1dc28e60dbe687f74}{module}}();}
\DoxyCodeLine{1858   base::Vector<const uint8\_t> wire\_bytes = \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_a1712b5e555cfe7c555c1167b74a0c81a}{native\_module}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule_a957b590c391c9dc0949cdaff8c94cf05}{wire\_bytes}}();}
\DoxyCodeLine{1859   uint32\_t num\_data\_segments = \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_abe17aad860c7790fe78f65cae8e64d29}{module}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_ad79d08b44791f2a0e0d573330a5e14d7}{num\_declared\_data\_segments}};}
\DoxyCodeLine{1860   \textcolor{comment}{// The number of declared data segments will be zero if there is no DataCount}}
\DoxyCodeLine{1861   \textcolor{comment}{// section. These arrays will not be allocated nor initialized in that case,}}
\DoxyCodeLine{1862   \textcolor{comment}{// since they cannot be used (since the validator checks that number of}}
\DoxyCodeLine{1863   \textcolor{comment}{// declared data segments when validating the memory.init and memory.drop}}
\DoxyCodeLine{1864   \textcolor{comment}{// instructions).}}
\DoxyCodeLine{1865   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(num\_data\_segments == 0 ||}
\DoxyCodeLine{1866          num\_data\_segments == \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_abe17aad860c7790fe78f65cae8e64d29}{module}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_adc0a70e660a7112df858945f38616edc}{data\_segments}}.size());}
\DoxyCodeLine{1867   \textcolor{keywordflow}{for} (uint32\_t \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < num\_data\_segments; ++\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}) \{}
\DoxyCodeLine{1868     \textcolor{keyword}{const} wasm::WasmDataSegment\& segment = \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_abe17aad860c7790fe78f65cae8e64d29}{module}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_adc0a70e660a7112df858945f38616edc}{data\_segments}}[\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}];}
\DoxyCodeLine{1869     \textcolor{comment}{// Initialize the pointer and size of passive segments.}}
\DoxyCodeLine{1870     \textcolor{keyword}{auto} source\_bytes = wire\_bytes.SubVector(segment.source.offset(),}
\DoxyCodeLine{1871                                              segment.source.end\_offset());}
\DoxyCodeLine{1872     \mbox{\hyperlink{namespacev8_1_1internal_a29244e5018f095691fb102a39c82f5f5}{data\_segment\_starts}}()-\/>set(\mbox{\hyperlink{namespacev8_1_1internal}{i}},}
\DoxyCodeLine{1873                                \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}\textcolor{keyword}{>}(source\_bytes.begin()));}
\DoxyCodeLine{1874     \textcolor{comment}{// Set the active segments to being already dropped, since memory.init on}}
\DoxyCodeLine{1875     \textcolor{comment}{// a dropped passive segment and an active segment have the same}}
\DoxyCodeLine{1876     \textcolor{comment}{// behavior.}}
\DoxyCodeLine{1877     data\_segment\_sizes()-\/>set(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{namespacev8_1_1internal}{i}}),}
\DoxyCodeLine{1878                               segment.active ? 0 : source\_bytes.length());}
\DoxyCodeLine{1879   \}}
\DoxyCodeLine{1880 \}}

\end{DoxyCode}


References v8\+::internal\+::wasm\+::\+Wasm\+Data\+Segment\+::active, v8\+::internal\+::data\+\_\+segment\+\_\+starts, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::data\+\_\+segments, v8\+::internal\+::\+DCHECK(), v8\+::internal\+::wasm\+::\+Wire\+Bytes\+Ref\+::end\+\_\+offset(), v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::i, v8\+::internal\+::wasm\+::\+Native\+Module\+::module(), module(), native\+\_\+module(), v8\+::internal\+::wasm\+::\+Wasm\+Module\+::num\+\_\+declared\+\_\+data\+\_\+segments, v8\+::internal\+::wasm\+::\+Wire\+Bytes\+Ref\+::offset(), v8\+::internal\+::wasm\+::\+Wasm\+Data\+Segment\+::source, v8\+::base\+::\+Vector$<$ T $>$\+::\+Sub\+Vector(), and v8\+::internal\+::wasm\+::\+Native\+Module\+::wire\+\_\+bytes().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1WasmTrustedInstanceData_a74e85e919dddc266cc1d846849aec50a_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1WasmTrustedInstanceData_a77178e357a3856cdbbeb238b075f45e4}\label{classv8_1_1internal_1_1WasmTrustedInstanceData_a77178e357a3856cdbbeb238b075f45e4}} 
\index{v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}!InitTableEntries@{InitTableEntries}}
\index{InitTableEntries@{InitTableEntries}!v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}}
\doxysubsubsection{\texorpdfstring{InitTableEntries()}{InitTableEntries()}}
{\footnotesize\ttfamily std\+::optional$<$ \mbox{\hyperlink{namespacev8_1_1internal_a1c7888272df599e45fcab531e38f9523}{Message\+Template}} $>$ v8\+::internal\+::\+Wasm\+Trusted\+Instance\+Data\+::\+Init\+Table\+Entries (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData}{Wasm\+Trusted\+Instance\+Data}} $>$}]{trusted\+\_\+instance\+\_\+data,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData}{Wasm\+Trusted\+Instance\+Data}} $>$}]{shared\+\_\+trusted\+\_\+instance\+\_\+data,  }\item[{uint32\+\_\+t}]{table\+\_\+index,  }\item[{uint32\+\_\+t}]{segment\+\_\+index,  }\item[{uint32\+\_\+t}]{dst,  }\item[{uint32\+\_\+t}]{src,  }\item[{uint32\+\_\+t}]{count }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 1935 of file wasm-\/objects.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1940                     \{}
\DoxyCodeLine{1941   AccountingAllocator allocator;}
\DoxyCodeLine{1942   \textcolor{comment}{// This \{Zone\} will be used only by the temporary WasmFullDecoder allocated}}
\DoxyCodeLine{1943   \textcolor{comment}{// down the line from this call. Therefore it is safe to stack-\/allocate it}}
\DoxyCodeLine{1944   \textcolor{comment}{// here.}}
\DoxyCodeLine{1945   Zone zone(\&allocator, \textcolor{stringliteral}{"{}LoadElemSegment"{}});}
\DoxyCodeLine{1946 }
\DoxyCodeLine{1947   \textcolor{keyword}{const} \mbox{\hyperlink{namespacev8_1_1internal_a09dbf9baefb793fd78912d6ef89f9dde}{WasmModule}}* \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_abe17aad860c7790fe78f65cae8e64d29}{module}} = trusted\_instance\_data-\/>module();}
\DoxyCodeLine{1948 }
\DoxyCodeLine{1949   \textcolor{keywordtype}{bool} table\_is\_shared = \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_abe17aad860c7790fe78f65cae8e64d29}{module}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_af40a46c2d14efc9c68b499d7a459d9b0}{tables}}[table\_index].shared;}
\DoxyCodeLine{1950   \textcolor{keywordtype}{bool} segment\_is\_shared = \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_abe17aad860c7790fe78f65cae8e64d29}{module}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a4e531b388f3b2edb6a515b3a454ed49a}{elem\_segments}}[segment\_index].shared;}
\DoxyCodeLine{1951 }
\DoxyCodeLine{1952   DirectHandle<WasmTableObject> table\_object(}
\DoxyCodeLine{1953       Cast<WasmTableObject>((table\_is\_shared ? shared\_trusted\_instance\_data}
\DoxyCodeLine{1954                                              : trusted\_instance\_data)}
\DoxyCodeLine{1955                                 -\/>\mbox{\hyperlink{namespacev8_1_1internal_a484d41a2d1f12b77b5cf3953276c1efb}{tables}}()}
\DoxyCodeLine{1956                                 -\/>get(table\_index)),}
\DoxyCodeLine{1957       isolate);}
\DoxyCodeLine{1958 }
\DoxyCodeLine{1959   \textcolor{comment}{// If needed, try to lazily initialize the element segment.}}
\DoxyCodeLine{1960   std::optional<MessageTemplate> opt\_error = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a44100d6c17be0db51b00a9f4fdb9d678}{wasm::InitializeElementSegment}}(}
\DoxyCodeLine{1961       \&zone, isolate, trusted\_instance\_data, shared\_trusted\_instance\_data,}
\DoxyCodeLine{1962       segment\_index);}
\DoxyCodeLine{1963   \textcolor{keywordflow}{if} (opt\_error.has\_value()) \textcolor{keywordflow}{return} opt\_error;}
\DoxyCodeLine{1964 }
\DoxyCodeLine{1965   DirectHandle<FixedArray> elem\_segment(}
\DoxyCodeLine{1966       Cast<FixedArray>((segment\_is\_shared ? shared\_trusted\_instance\_data}
\DoxyCodeLine{1967                                           : trusted\_instance\_data)}
\DoxyCodeLine{1968                            -\/>\mbox{\hyperlink{namespacev8_1_1internal_afb2de75dc052e06de22749c47f93d0d4}{element\_segments}}()}
\DoxyCodeLine{1969                            -\/>get(segment\_index)),}
\DoxyCodeLine{1970       isolate);}
\DoxyCodeLine{1971   \textcolor{keywordflow}{if} (!base::IsInBounds<uint64\_t>(dst, count, table\_object-\/>current\_length())) \{}
\DoxyCodeLine{1972     \textcolor{keywordflow}{return} \{MessageTemplate::kWasmTrapTableOutOfBounds\};}
\DoxyCodeLine{1973   \}}
\DoxyCodeLine{1974   \textcolor{keywordflow}{if} (!base::IsInBounds<uint64\_t>(src, count, elem\_segment-\/>length())) \{}
\DoxyCodeLine{1975     \textcolor{keywordflow}{return} \{MessageTemplate::kWasmTrapElementSegmentOutOfBounds\};}
\DoxyCodeLine{1976   \}}
\DoxyCodeLine{1977 }
\DoxyCodeLine{1978   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < count; \mbox{\hyperlink{namespacev8_1_1internal}{i}}++) \{}
\DoxyCodeLine{1979     \mbox{\hyperlink{classv8_1_1internal_1_1WasmTableObject_acfdec070b48fe34a36f7aa7fed63a969}{WasmTableObject::Set}}(}
\DoxyCodeLine{1980         isolate, table\_object, \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(dst + \mbox{\hyperlink{namespacev8_1_1internal}{i}}),}
\DoxyCodeLine{1981         \mbox{\hyperlink{namespacev8_1_1internal_a73502f55102d18cb764881bc29f35c05}{direct\_handle}}(elem\_segment-\/>get(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(src + \mbox{\hyperlink{namespacev8_1_1internal}{i}})), isolate));}
\DoxyCodeLine{1982   \}}
\DoxyCodeLine{1983 }
\DoxyCodeLine{1984   \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{1985 \}}

\end{DoxyCode}


References v8\+::internal\+::direct\+\_\+handle(), v8\+::internal\+::wasm\+::\+Wasm\+Module\+::elem\+\_\+segments, v8\+::internal\+::element\+\_\+segments, v8\+::internal\+::wasm\+::\+Initialize\+Element\+Segment(), module(), v8\+::internal\+::\+Wasm\+Table\+Object\+::\+Set(), v8\+::internal\+::wasm\+::\+Wasm\+Module\+::tables, and v8\+::internal\+::tables.



Referenced by v8\+::internal\+::\+RUNTIME\+\_\+\+FUNCTION(), and v8\+::internal\+::wasm\+::\+Wasm\+Interpreter\+Runtime\+::\+Table\+Init().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1WasmTrustedInstanceData_a77178e357a3856cdbbeb238b075f45e4_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1WasmTrustedInstanceData_a77178e357a3856cdbbeb238b075f45e4_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1WasmTrustedInstanceData_a675ac2c9a20e5ca6de5690461423a07a}\label{classv8_1_1internal_1_1WasmTrustedInstanceData_a675ac2c9a20e5ca6de5690461423a07a}} 
\index{v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}!memory\_base@{memory\_base}}
\index{memory\_base@{memory\_base}!v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}}
\doxysubsubsection{\texorpdfstring{memory\_base()}{memory\_base()}}
{\footnotesize\ttfamily uint8\+\_\+t $\ast$ v8\+::internal\+::\+Wasm\+Trusted\+Instance\+Data\+::memory\+\_\+base (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classint}{int}}}]{memory\+\_\+index }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 285 of file wasm-\/objects-\/inl.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{285                                                                     \{}
\DoxyCodeLine{286   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(memory0\_start(),}
\DoxyCodeLine{287             \textcolor{keyword}{reinterpret\_cast<}uint8\_t*\textcolor{keyword}{>}(memory\_bases\_and\_sizes()-\/>get(0)));}
\DoxyCodeLine{288   \textcolor{keywordflow}{return} \textcolor{keyword}{reinterpret\_cast<}uint8\_t*\textcolor{keyword}{>}(}
\DoxyCodeLine{289       memory\_bases\_and\_sizes()-\/>get(2 * memory\_index));}
\DoxyCodeLine{290 \}}

\end{DoxyCode}


References DCHECK\+\_\+\+EQ.

\mbox{\Hypertarget{classv8_1_1internal_1_1WasmTrustedInstanceData_ad5a80cd6f0317dfbd5ccf63c79482450}\label{classv8_1_1internal_1_1WasmTrustedInstanceData_ad5a80cd6f0317dfbd5ccf63c79482450}} 
\index{v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}!memory\_object@{memory\_object}}
\index{memory\_object@{memory\_object}!v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}}
\doxysubsubsection{\texorpdfstring{memory\_object()}{memory\_object()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmMemoryObject}{Wasm\+Memory\+Object}} $>$ v8\+::internal\+::\+Wasm\+Trusted\+Instance\+Data\+::memory\+\_\+object (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classint}{int}}}]{memory\+\_\+index }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 280 of file wasm-\/objects-\/inl.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{281                             \{}
\DoxyCodeLine{282   \textcolor{keywordflow}{return} Cast<WasmMemoryObject>(\mbox{\hyperlink{namespacev8_1_1internal_a932143dd77f3ffbd83a1186db64c0c8f}{memory\_objects}}()-\/>get(memory\_index));}
\DoxyCodeLine{283 \}}

\end{DoxyCode}


References v8\+::internal\+::memory\+\_\+objects.

\mbox{\Hypertarget{classv8_1_1internal_1_1WasmTrustedInstanceData_a5ffd9de7f743ceb78a03c461ee247b30}\label{classv8_1_1internal_1_1WasmTrustedInstanceData_a5ffd9de7f743ceb78a03c461ee247b30}} 
\index{v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}!memory\_size@{memory\_size}}
\index{memory\_size@{memory\_size}!v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}}
\doxysubsubsection{\texorpdfstring{memory\_size()}{memory\_size()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::\+Wasm\+Trusted\+Instance\+Data\+::memory\+\_\+size (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classint}{int}}}]{memory\+\_\+index }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 292 of file wasm-\/objects-\/inl.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{292                                                                   \{}
\DoxyCodeLine{293   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{namespacev8_1_1internal_a8838675c93d6cd531ba1f8760e299c2a}{memory0\_size}}(), memory\_bases\_and\_sizes()-\/>get(1));}
\DoxyCodeLine{294   \textcolor{keywordflow}{return} memory\_bases\_and\_sizes()-\/>get(2 * memory\_index + 1);}
\DoxyCodeLine{295 \}}

\end{DoxyCode}


References DCHECK\+\_\+\+EQ, and v8\+::internal\+::memory0\+\_\+size.

\mbox{\Hypertarget{classv8_1_1internal_1_1WasmTrustedInstanceData_abe17aad860c7790fe78f65cae8e64d29}\label{classv8_1_1internal_1_1WasmTrustedInstanceData_abe17aad860c7790fe78f65cae8e64d29}} 
\index{v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}!module@{module}}
\index{module@{module}!v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}}
\doxysubsubsection{\texorpdfstring{module()}{module()}}
{\footnotesize\ttfamily const \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule}{wasm\+::\+Wasm\+Module}} $\ast$ v8\+::internal\+::\+Wasm\+Trusted\+Instance\+Data\+::module (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 318 of file wasm-\/objects-\/inl.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{318                                                             \{}
\DoxyCodeLine{319   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_a1712b5e555cfe7c555c1167b74a0c81a}{native\_module}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule_a04f2f50aa9d1cbc1dc28e60dbe687f74}{module}}();}
\DoxyCodeLine{320 \}}

\end{DoxyCode}


References v8\+::internal\+::wasm\+::\+Native\+Module\+::module(), and native\+\_\+module().



Referenced by Get\+Global\+Value(), Get\+Or\+Create\+Func\+Ref(), Init\+Data\+Segment\+Arrays(), Init\+Table\+Entries(), New(), and Set\+Raw\+Memory().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1WasmTrustedInstanceData_abe17aad860c7790fe78f65cae8e64d29_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1WasmTrustedInstanceData_abe17aad860c7790fe78f65cae8e64d29_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1WasmTrustedInstanceData_a50285bb0cb1b1cf4b3c6cb146f73eecb}\label{classv8_1_1internal_1_1WasmTrustedInstanceData_a50285bb0cb1b1cf4b3c6cb146f73eecb}} 
\index{v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}!module\_object@{module\_object}}
\index{module\_object@{module\_object}!v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}}
\doxysubsubsection{\texorpdfstring{module\_object()}{module\_object()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmModuleObject}{Wasm\+Module\+Object}} $>$ v8\+::internal\+::\+Wasm\+Trusted\+Instance\+Data\+::module\+\_\+object (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 314 of file wasm-\/objects-\/inl.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{314                                                                       \{}
\DoxyCodeLine{315   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_a58e3fb6c5ada1d544715988b7a735333}{instance\_object}}()-\/>module\_object();}
\DoxyCodeLine{316 \}}

\end{DoxyCode}


References v8\+::internal\+::instance\+\_\+object.



Referenced by New().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1WasmTrustedInstanceData_a50285bb0cb1b1cf4b3c6cb146f73eecb_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1WasmTrustedInstanceData_a1712b5e555cfe7c555c1167b74a0c81a}\label{classv8_1_1internal_1_1WasmTrustedInstanceData_a1712b5e555cfe7c555c1167b74a0c81a}} 
\index{v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}!native\_module@{native\_module}}
\index{native\_module@{native\_module}!v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}}
\doxysubsubsection{\texorpdfstring{native\_module()}{native\_module()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule}{wasm\+::\+Native\+Module}} $\ast$ v8\+::internal\+::\+Wasm\+Trusted\+Instance\+Data\+::native\+\_\+module (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 310 of file wasm-\/objects-\/inl.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{310                                                                \{}
\DoxyCodeLine{311   \textcolor{keywordflow}{return} managed\_native\_module()-\/>get().get();}
\DoxyCodeLine{312 \}}

\end{DoxyCode}


Referenced by Get\+Call\+Target(), Init\+Data\+Segment\+Arrays(), module(), and New().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1WasmTrustedInstanceData_a1712b5e555cfe7c555c1167b74a0c81a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1WasmTrustedInstanceData_a046bdad8a33dfd81561292116a4dbcec}\label{classv8_1_1internal_1_1WasmTrustedInstanceData_a046bdad8a33dfd81561292116a4dbcec}} 
\index{v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}!New@{New}}
\index{New@{New}!v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}}
\doxysubsubsection{\texorpdfstring{New()}{New()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData}{Wasm\+Trusted\+Instance\+Data}} $>$ v8\+::internal\+::\+Wasm\+Trusted\+Instance\+Data\+::\+New (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmModuleObject}{Wasm\+Module\+Object}} $>$}]{module\+\_\+object,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}}}]{shared }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 1686 of file wasm-\/objects.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1688                  \{}
\DoxyCodeLine{1689   \textcolor{comment}{// Read the link to the \{std::shared\_ptr<NativeModule>\} once from the}}
\DoxyCodeLine{1690   \textcolor{comment}{// `module\_object` and use it to initialize the fields of the}}
\DoxyCodeLine{1691   \textcolor{comment}{// `WasmTrustedInstanceData`. It will then be stored in a `TrustedManaged` in}}
\DoxyCodeLine{1692   \textcolor{comment}{// the `WasmTrustedInstanceData` where it is safe from manipulation.}}
\DoxyCodeLine{1693   std::shared\_ptr<wasm::NativeModule> \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_a1712b5e555cfe7c555c1167b74a0c81a}{native\_module}} =}
\DoxyCodeLine{1694       \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_a50285bb0cb1b1cf4b3c6cb146f73eecb}{module\_object}}-\/>shared\_native\_module();}
\DoxyCodeLine{1695 }
\DoxyCodeLine{1696   \textcolor{comment}{// Do first allocate all objects that will be stored in instance fields,}}
\DoxyCodeLine{1697   \textcolor{comment}{// because otherwise we would have to allocate when the instance is not fully}}
\DoxyCodeLine{1698   \textcolor{comment}{// initialized yet, which can lead to heap verification errors.}}
\DoxyCodeLine{1699   \textcolor{keyword}{const} \mbox{\hyperlink{namespacev8_1_1internal_a09dbf9baefb793fd78912d6ef89f9dde}{WasmModule}}* \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_abe17aad860c7790fe78f65cae8e64d29}{module}} = \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_a1712b5e555cfe7c555c1167b74a0c81a}{native\_module}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule_a04f2f50aa9d1cbc1dc28e60dbe687f74}{module}}();}
\DoxyCodeLine{1700 }
\DoxyCodeLine{1701   \mbox{\hyperlink{namespacev8_1_1internal_a604d5beeb6fc8639670f737ed201e20a}{AllocationType}} allocation =}
\DoxyCodeLine{1702       shared ? \mbox{\hyperlink{namespacev8_1_1internal_a604d5beeb6fc8639670f737ed201e20aa420fc4b93a98a0b612db8f2f69463514}{AllocationType::kSharedOld}} : \mbox{\hyperlink{namespacev8_1_1internal_a604d5beeb6fc8639670f737ed201e20aa492ef7cfa083cd677493179d45c9961e}{AllocationType::kYoung}};}
\DoxyCodeLine{1703 }
\DoxyCodeLine{1704   \textcolor{keywordtype}{int} num\_imported\_functions = \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_abe17aad860c7790fe78f65cae8e64d29}{module}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a81b4b2b056e744758f875acafe4c909a}{num\_imported\_functions}};}
\DoxyCodeLine{1705   DirectHandle<WasmDispatchTable> \mbox{\hyperlink{namespacev8_1_1internal_ad255146ba1429764e1e53305b0f4f1fe}{dispatch\_table\_for\_imports}} =}
\DoxyCodeLine{1706       isolate-\/>factory()-\/>NewWasmDispatchTable(num\_imported\_functions,}
\DoxyCodeLine{1707                                                \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a90941f620285a912a302a3aced092560}{wasm::kWasmFuncRef}}, shared);}
\DoxyCodeLine{1708   DirectHandle<FixedArray> well\_known\_imports =}
\DoxyCodeLine{1709       isolate-\/>factory()-\/>NewFixedArray(num\_imported\_functions, allocation);}
\DoxyCodeLine{1710 }
\DoxyCodeLine{1711   DirectHandle<FixedArray> \mbox{\hyperlink{namespacev8_1_1internal_a11f7e5d645f7820437ee9433162fc433}{func\_refs}} =}
\DoxyCodeLine{1712       isolate-\/>factory()-\/>NewFixedArrayWithZeroes(}
\DoxyCodeLine{1713           \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_abe17aad860c7790fe78f65cae8e64d29}{module}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a79b743888793de4a17ae53dd93988de6}{functions}}.size()), allocation);}
\DoxyCodeLine{1714 }
\DoxyCodeLine{1715   \textcolor{keywordtype}{int} num\_imported\_mutable\_globals = \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_abe17aad860c7790fe78f65cae8e64d29}{module}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a56f32c556f3ad6b75e11d3d0733cb2a5}{num\_imported\_mutable\_globals}};}
\DoxyCodeLine{1716   \textcolor{comment}{// The imported\_mutable\_globals is essentially a FixedAddressArray (storing}}
\DoxyCodeLine{1717   \textcolor{comment}{// sandboxed pointers), but some entries (the indices for reference-\/type}}
\DoxyCodeLine{1718   \textcolor{comment}{// globals) are accessed as 32-\/bit integers which is more convenient with a}}
\DoxyCodeLine{1719   \textcolor{comment}{// raw ByteArray.}}
\DoxyCodeLine{1720   DirectHandle<FixedAddressArray> imported\_mutable\_globals =}
\DoxyCodeLine{1721       \mbox{\hyperlink{classv8_1_1internal_1_1FixedAddressArrayBase_a9a841198f5470650b41517ca5c1a27d0}{FixedAddressArray::New}}(isolate, num\_imported\_mutable\_globals, allocation);}
\DoxyCodeLine{1722 }
\DoxyCodeLine{1723   \textcolor{keywordtype}{int} num\_data\_segments = \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_abe17aad860c7790fe78f65cae8e64d29}{module}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_ad79d08b44791f2a0e0d573330a5e14d7}{num\_declared\_data\_segments}};}
\DoxyCodeLine{1724   DirectHandle<FixedAddressArray> \mbox{\hyperlink{namespacev8_1_1internal_a29244e5018f095691fb102a39c82f5f5}{data\_segment\_starts}} =}
\DoxyCodeLine{1725       \mbox{\hyperlink{classv8_1_1internal_1_1FixedAddressArrayBase_a9a841198f5470650b41517ca5c1a27d0}{FixedAddressArray::New}}(isolate, num\_data\_segments, allocation);}
\DoxyCodeLine{1726   DirectHandle<FixedUInt32Array> data\_segment\_sizes =}
\DoxyCodeLine{1727       \mbox{\hyperlink{classv8_1_1internal_1_1FixedIntegerArrayBase_ab977d693c069b16770327672f8a9ae8e}{FixedUInt32Array::New}}(isolate, num\_data\_segments, allocation);}
\DoxyCodeLine{1728 }
\DoxyCodeLine{1729 \textcolor{preprocessor}{\#if V8\_ENABLE\_DRUMBRAKE}}
\DoxyCodeLine{1730   DirectHandle<FixedInt32Array> imported\_function\_indices =}
\DoxyCodeLine{1731       \mbox{\hyperlink{classv8_1_1internal_1_1FixedIntegerArrayBase_ab977d693c069b16770327672f8a9ae8e}{FixedInt32Array::New}}(isolate, num\_imported\_functions);}
\DoxyCodeLine{1732 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// V8\_ENABLE\_DRUMBRAKE}}
\DoxyCodeLine{1733 }
\DoxyCodeLine{1734   static\_assert(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ab89f70ccd3d4626bef2224d6496f7feb}{wasm::kV8MaxWasmMemories}} < \mbox{\hyperlink{namespacev8_1_1internal_ad03e50e4d15ee0da6a722254f350e7eb}{kMaxInt}} / 2);}
\DoxyCodeLine{1735   \textcolor{keywordtype}{int} num\_memories = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_abe17aad860c7790fe78f65cae8e64d29}{module}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a2db4294c50e9d81d12819ce61ababaec}{memories}}.size());}
\DoxyCodeLine{1736   DirectHandle<FixedArray> \mbox{\hyperlink{namespacev8_1_1internal_a932143dd77f3ffbd83a1186db64c0c8f}{memory\_objects}} =}
\DoxyCodeLine{1737       isolate-\/>factory()-\/>NewFixedArray(num\_memories, allocation);}
\DoxyCodeLine{1738   DirectHandle<TrustedFixedAddressArray> memory\_bases\_and\_sizes =}
\DoxyCodeLine{1739       \mbox{\hyperlink{classv8_1_1internal_1_1FixedAddressArrayBase_a9a841198f5470650b41517ca5c1a27d0}{TrustedFixedAddressArray::New}}(}
\DoxyCodeLine{1740           isolate, 2 * num\_memories,}
\DoxyCodeLine{1741           shared ? \mbox{\hyperlink{namespacev8_1_1internal_a604d5beeb6fc8639670f737ed201e20aa01a215f41271b4552d8e37930de95706}{AllocationType::kSharedTrusted}} : \mbox{\hyperlink{namespacev8_1_1internal_a604d5beeb6fc8639670f737ed201e20aaea89848074d781cbd54fcacbdca3f826}{AllocationType::kTrusted}});}
\DoxyCodeLine{1742 }
\DoxyCodeLine{1743   \textcolor{comment}{// TODO(clemensb): Should we have singleton empty dispatch table in the}}
\DoxyCodeLine{1744   \textcolor{comment}{// trusted space?}}
\DoxyCodeLine{1745   DirectHandle<WasmDispatchTable> empty\_dispatch\_table =}
\DoxyCodeLine{1746       isolate-\/>factory()-\/>NewWasmDispatchTable(0, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a90941f620285a912a302a3aced092560}{wasm::kWasmFuncRef}}, shared);}
\DoxyCodeLine{1747   DirectHandle<ProtectedFixedArray> empty\_protected\_fixed\_array =}
\DoxyCodeLine{1748       isolate-\/>factory()-\/>empty\_protected\_fixed\_array();}
\DoxyCodeLine{1749 }
\DoxyCodeLine{1750   \textcolor{comment}{// Use the same memory estimate as the (untrusted) Managed in}}
\DoxyCodeLine{1751   \textcolor{comment}{// WasmModuleObject. This is not security critical, and we at least always}}
\DoxyCodeLine{1752   \textcolor{comment}{// read the memory estimation of *some* NativeModule here.}}
\DoxyCodeLine{1753   \textcolor{keywordtype}{size\_t} estimated\_size =}
\DoxyCodeLine{1754       \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_a50285bb0cb1b1cf4b3c6cb146f73eecb}{module\_object}}-\/>managed\_native\_module()-\/>estimated\_size();}
\DoxyCodeLine{1755   DirectHandle<TrustedManaged<wasm::NativeModule>>}
\DoxyCodeLine{1756       trusted\_managed\_native\_module = \mbox{\hyperlink{classv8_1_1internal_1_1TrustedManaged_a73ea83d3adfbe4b1dfe34d6bf865e90c}{TrustedManaged<wasm::NativeModule>::From}}(}
\DoxyCodeLine{1757           isolate, estimated\_size, \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_a1712b5e555cfe7c555c1167b74a0c81a}{native\_module}}, shared);}
\DoxyCodeLine{1758 }
\DoxyCodeLine{1759   \textcolor{comment}{// Now allocate the WasmTrustedInstanceData.}}
\DoxyCodeLine{1760   \textcolor{comment}{// During this step, no more allocations should happen because the instance is}}
\DoxyCodeLine{1761   \textcolor{comment}{// incomplete yet, so we should not trigger heap verification at this point.}}
\DoxyCodeLine{1762   DirectHandle<WasmTrustedInstanceData> trusted\_data =}
\DoxyCodeLine{1763       isolate-\/>factory()-\/>NewWasmTrustedInstanceData(shared);}
\DoxyCodeLine{1764   \{}
\DoxyCodeLine{1765     \mbox{\hyperlink{namespacev8_1_1internal_ae70d08ee31e0546f018d5ec0fcd3f457}{DisallowHeapAllocation}} \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_a63d8eefb47468aa3f816fbe26a59466a}{no\_gc}};}
\DoxyCodeLine{1766 }
\DoxyCodeLine{1767     \textcolor{comment}{// Some constants:}}
\DoxyCodeLine{1768     uint8\_t* empty\_backing\_store\_buffer =}
\DoxyCodeLine{1769         \textcolor{keyword}{reinterpret\_cast<}uint8\_t*\textcolor{keyword}{>}(\mbox{\hyperlink{namespacev8_1_1internal_a274585e1c399e58d90a0ed65a3900084}{EmptyBackingStoreBuffer}}());}
\DoxyCodeLine{1770     ReadOnlyRoots ro\_roots\{isolate\};}
\DoxyCodeLine{1771     \mbox{\hyperlink{namespacev8_1_1internal_a5aa5f5d8cabe2dbba29d92ffdf16e9fc}{Tagged<FixedArray>}} empty\_fixed\_array = ro\_roots.empty\_fixed\_array();}
\DoxyCodeLine{1772 }
\DoxyCodeLine{1773     trusted\_data-\/>set\_dispatch\_table\_for\_imports(*\mbox{\hyperlink{namespacev8_1_1internal_ad255146ba1429764e1e53305b0f4f1fe}{dispatch\_table\_for\_imports}});}
\DoxyCodeLine{1774     trusted\_data-\/>set\_imported\_mutable\_globals(*imported\_mutable\_globals);}
\DoxyCodeLine{1775     trusted\_data-\/>set\_dispatch\_table0(*empty\_dispatch\_table);}
\DoxyCodeLine{1776     trusted\_data-\/>set\_dispatch\_tables(*empty\_protected\_fixed\_array);}
\DoxyCodeLine{1777     trusted\_data-\/>set\_shared\_part(*trusted\_data);  \textcolor{comment}{// TODO(14616): Good enough?}}
\DoxyCodeLine{1778     trusted\_data-\/>set\_data\_segment\_starts(*\mbox{\hyperlink{namespacev8_1_1internal_a29244e5018f095691fb102a39c82f5f5}{data\_segment\_starts}});}
\DoxyCodeLine{1779     trusted\_data-\/>set\_data\_segment\_sizes(*data\_segment\_sizes);}
\DoxyCodeLine{1780     trusted\_data-\/>set\_element\_segments(empty\_fixed\_array);}
\DoxyCodeLine{1781     trusted\_data-\/>set\_managed\_native\_module(*trusted\_managed\_native\_module);}
\DoxyCodeLine{1782     trusted\_data-\/>set\_new\_allocation\_limit\_address(}
\DoxyCodeLine{1783         isolate-\/>heap()-\/>NewSpaceAllocationLimitAddress());}
\DoxyCodeLine{1784     trusted\_data-\/>set\_new\_allocation\_top\_address(}
\DoxyCodeLine{1785         isolate-\/>heap()-\/>NewSpaceAllocationTopAddress());}
\DoxyCodeLine{1786     trusted\_data-\/>set\_old\_allocation\_limit\_address(}
\DoxyCodeLine{1787         isolate-\/>heap()-\/>OldSpaceAllocationLimitAddress());}
\DoxyCodeLine{1788     trusted\_data-\/>set\_old\_allocation\_top\_address(}
\DoxyCodeLine{1789         isolate-\/>heap()-\/>OldSpaceAllocationTopAddress());}
\DoxyCodeLine{1790     trusted\_data-\/>set\_globals\_start(empty\_backing\_store\_buffer);}
\DoxyCodeLine{1791 \textcolor{preprocessor}{\#if V8\_ENABLE\_DRUMBRAKE}}
\DoxyCodeLine{1792     trusted\_data-\/>set\_imported\_function\_indices(*imported\_function\_indices);}
\DoxyCodeLine{1793 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// V8\_ENABLE\_DRUMBRAKE}}
\DoxyCodeLine{1794     \textcolor{keywordflow}{if} (!shared) trusted\_data-\/>set\_native\_context(*isolate-\/>native\_context());}
\DoxyCodeLine{1795     trusted\_data-\/>set\_jump\_table\_start(\mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_a1712b5e555cfe7c555c1167b74a0c81a}{native\_module}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule_aad381026fba28fc729be46402fef86e7}{jump\_table\_start}}());}
\DoxyCodeLine{1796     trusted\_data-\/>set\_hook\_on\_function\_call\_address(}
\DoxyCodeLine{1797         isolate-\/>debug()-\/>hook\_on\_function\_call\_address());}
\DoxyCodeLine{1798     trusted\_data-\/>set\_managed\_object\_maps(}
\DoxyCodeLine{1799         *isolate-\/>factory()-\/>empty\_fixed\_array());}
\DoxyCodeLine{1800     trusted\_data-\/>set\_well\_known\_imports(*well\_known\_imports);}
\DoxyCodeLine{1801     trusted\_data-\/>set\_func\_refs(*\mbox{\hyperlink{namespacev8_1_1internal_a11f7e5d645f7820437ee9433162fc433}{func\_refs}});}
\DoxyCodeLine{1802     trusted\_data-\/>set\_feedback\_vectors(}
\DoxyCodeLine{1803         *isolate-\/>factory()-\/>empty\_fixed\_array());}
\DoxyCodeLine{1804     trusted\_data-\/>set\_tiering\_budget\_array(}
\DoxyCodeLine{1805         \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_a1712b5e555cfe7c555c1167b74a0c81a}{native\_module}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule_a23ef76714c5b5dc6571cba072eb3dae1}{tiering\_budget\_array}}());}
\DoxyCodeLine{1806     trusted\_data-\/>set\_break\_on\_entry(\mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_a50285bb0cb1b1cf4b3c6cb146f73eecb}{module\_object}}-\/>script()-\/>break\_on\_entry());}
\DoxyCodeLine{1807     trusted\_data-\/>InitDataSegmentArrays(\mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_a1712b5e555cfe7c555c1167b74a0c81a}{native\_module}}.get());}
\DoxyCodeLine{1808     trusted\_data-\/>set\_memory0\_start(empty\_backing\_store\_buffer);}
\DoxyCodeLine{1809     trusted\_data-\/>set\_memory0\_size(0);}
\DoxyCodeLine{1810     trusted\_data-\/>set\_memory\_objects(*\mbox{\hyperlink{namespacev8_1_1internal_a932143dd77f3ffbd83a1186db64c0c8f}{memory\_objects}});}
\DoxyCodeLine{1811     trusted\_data-\/>set\_memory\_bases\_and\_sizes(*memory\_bases\_and\_sizes);}
\DoxyCodeLine{1812     trusted\_data-\/>set\_stress\_deopt\_counter\_address(}
\DoxyCodeLine{1813         ExternalReference::stress\_deopt\_count(isolate).address());}
\DoxyCodeLine{1814 }
\DoxyCodeLine{1815     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < num\_memories; ++\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}) \{}
\DoxyCodeLine{1816       memory\_bases\_and\_sizes-\/>set(}
\DoxyCodeLine{1817           2 * \mbox{\hyperlink{namespacev8_1_1internal}{i}}, \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}\textcolor{keyword}{>}(empty\_backing\_store\_buffer));}
\DoxyCodeLine{1818       memory\_bases\_and\_sizes-\/>set(2 * \mbox{\hyperlink{namespacev8_1_1internal}{i}} + 1, 0);}
\DoxyCodeLine{1819     \}}
\DoxyCodeLine{1820   \}}
\DoxyCodeLine{1821 }
\DoxyCodeLine{1822   \textcolor{comment}{// Allocate the exports object, to be store in the instance object.}}
\DoxyCodeLine{1823   DirectHandle<JSObject> exports\_object =}
\DoxyCodeLine{1824       isolate-\/>factory()-\/>NewJSObjectWithNullProto();}
\DoxyCodeLine{1825 }
\DoxyCodeLine{1826   DirectHandle<WasmInstanceObject> \mbox{\hyperlink{namespacev8_1_1internal_a58e3fb6c5ada1d544715988b7a735333}{instance\_object}};}
\DoxyCodeLine{1827 }
\DoxyCodeLine{1828   \textcolor{keywordflow}{if} (!shared) \{}
\DoxyCodeLine{1829     \textcolor{comment}{// Allocate the WasmInstanceObject (JS wrapper).}}
\DoxyCodeLine{1830     DirectHandle<JSFunction> instance\_cons(}
\DoxyCodeLine{1831         isolate-\/>native\_context()-\/>wasm\_instance\_constructor(), isolate);}
\DoxyCodeLine{1832     \mbox{\hyperlink{namespacev8_1_1internal_a58e3fb6c5ada1d544715988b7a735333}{instance\_object}} = Cast<WasmInstanceObject>(}
\DoxyCodeLine{1833         isolate-\/>factory()-\/>NewJSObject(instance\_cons, \mbox{\hyperlink{namespacev8_1_1internal_a604d5beeb6fc8639670f737ed201e20aa0aa38c28f349d65a6819e03844b73dff}{AllocationType::kOld}}));}
\DoxyCodeLine{1834     \mbox{\hyperlink{namespacev8_1_1internal_a58e3fb6c5ada1d544715988b7a735333}{instance\_object}}-\/>set\_trusted\_data(*trusted\_data);}
\DoxyCodeLine{1835     \mbox{\hyperlink{namespacev8_1_1internal_a58e3fb6c5ada1d544715988b7a735333}{instance\_object}}-\/>set\_module\_object(*\mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_a50285bb0cb1b1cf4b3c6cb146f73eecb}{module\_object}});}
\DoxyCodeLine{1836     \mbox{\hyperlink{namespacev8_1_1internal_a58e3fb6c5ada1d544715988b7a735333}{instance\_object}}-\/>set\_exports\_object(*exports\_object);}
\DoxyCodeLine{1837     trusted\_data-\/>set\_instance\_object(*\mbox{\hyperlink{namespacev8_1_1internal_a58e3fb6c5ada1d544715988b7a735333}{instance\_object}});}
\DoxyCodeLine{1838   \}}
\DoxyCodeLine{1839 }
\DoxyCodeLine{1840   \textcolor{comment}{// Insert the new instance into the scripts weak list of instances. This list}}
\DoxyCodeLine{1841   \textcolor{comment}{// is used for breakpoints affecting all instances belonging to the script.}}
\DoxyCodeLine{1842   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_a50285bb0cb1b1cf4b3c6cb146f73eecb}{module\_object}}-\/>script()-\/>type() == Script::Type::kWasm \&\&}
\DoxyCodeLine{1843       !\mbox{\hyperlink{namespacev8_1_1internal_a58e3fb6c5ada1d544715988b7a735333}{instance\_object}}.is\_null()) \{}
\DoxyCodeLine{1844     DirectHandle<WeakArrayList> weak\_instance\_list(}
\DoxyCodeLine{1845         \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_a50285bb0cb1b1cf4b3c6cb146f73eecb}{module\_object}}-\/>script()-\/>wasm\_weak\_instance\_list(), isolate);}
\DoxyCodeLine{1846     weak\_instance\_list =}
\DoxyCodeLine{1847         \mbox{\hyperlink{classv8_1_1internal_1_1WeakArrayList_aa986929cdb53581c4198099a06376487}{WeakArrayList::Append}}(isolate, weak\_instance\_list,}
\DoxyCodeLine{1848                               \mbox{\hyperlink{classv8_1_1internal_1_1MaybeObjectDirectHandle_af39f668bdaaf25432eb7cdbc4066f4d6}{MaybeObjectDirectHandle::Weak}}(\mbox{\hyperlink{namespacev8_1_1internal_a58e3fb6c5ada1d544715988b7a735333}{instance\_object}}));}
\DoxyCodeLine{1849     \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_a50285bb0cb1b1cf4b3c6cb146f73eecb}{module\_object}}-\/>script()-\/>set\_wasm\_weak\_instance\_list(*weak\_instance\_list);}
\DoxyCodeLine{1850   \}}
\DoxyCodeLine{1851 }
\DoxyCodeLine{1852   \textcolor{keywordflow}{return} trusted\_data;}
\DoxyCodeLine{1853 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Weak\+Array\+List\+::\+Append(), v8\+::internal\+::data\+\_\+segment\+\_\+starts, v8\+::internal\+::\+Isolate\+::debug(), v8\+::internal\+::dispatch\+\_\+table\+\_\+for\+\_\+imports, v8\+::internal\+::\+Empty\+Backing\+Store\+Buffer(), v8\+::internal\+::\+Isolate\+::factory(), v8\+::internal\+::\+Trusted\+Managed$<$ Cpp\+Type $>$\+::\+From(), v8\+::internal\+::func\+\_\+refs, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::functions, v8\+::internal\+::\+Isolate\+::heap(), v8\+::internal\+::\+Debug\+::hook\+\_\+on\+\_\+function\+\_\+call\+\_\+address(), v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::i, v8\+::internal\+::instance\+\_\+object, v8\+::internal\+::wasm\+::\+Native\+Module\+::jump\+\_\+table\+\_\+start(), v8\+::internal\+::k\+Max\+Int, v8\+::internal\+::k\+Old, v8\+::internal\+::k\+Shared\+Old, v8\+::internal\+::k\+Shared\+Trusted, v8\+::internal\+::k\+Trusted, v8\+::internal\+::wasm\+::k\+V8\+Max\+Wasm\+Memories, v8\+::internal\+::wasm\+::k\+Wasm\+Func\+Ref, v8\+::internal\+::k\+Young, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::memories, v8\+::internal\+::memory\+\_\+objects, v8\+::internal\+::wasm\+::\+Native\+Module\+::module(), module(), module\+\_\+object(), v8\+::internal\+::\+Isolate\+::native\+\_\+context(), native\+\_\+module(), v8\+::internal\+::\+Fixed\+Integer\+Array\+Base$<$ T, Base $>$\+::\+New(), v8\+::internal\+::\+Fixed\+Address\+Array\+Base$<$ Base $>$\+::\+New(), v8\+::internal\+::\+Factory\+Base$<$ Impl $>$\+::\+New\+Fixed\+Array(), v8\+::internal\+::\+Factory\+Base$<$ Impl $>$\+::\+New\+Fixed\+Array\+With\+Zeroes(), v8\+::internal\+::\+Factory\+::\+New\+JSObject(), v8\+::internal\+::\+Factory\+::\+New\+JSObject\+With\+Null\+Proto(), v8\+::internal\+::\+Heap\+::\+New\+Space\+Allocation\+Limit\+Address(), v8\+::internal\+::\+Heap\+::\+New\+Space\+Allocation\+Top\+Address(), v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::no\+\_\+gc, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::num\+\_\+declared\+\_\+data\+\_\+segments, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::num\+\_\+imported\+\_\+functions, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::num\+\_\+imported\+\_\+mutable\+\_\+globals, v8\+::internal\+::\+Heap\+::\+Old\+Space\+Allocation\+Limit\+Address(), v8\+::internal\+::\+Heap\+::\+Old\+Space\+Allocation\+Top\+Address(), v8\+::internal\+::wasm\+::\+Native\+Module\+::tiering\+\_\+budget\+\_\+array(), and v8\+::internal\+::\+Maybe\+Object\+Direct\+Handle\+::\+Weak().



Referenced by v8\+::internal\+::wasm\+::\+Instance\+Builder\+::\+Build\+\_\+\+Phase1().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1WasmTrustedInstanceData_a046bdad8a33dfd81561292116a4dbcec_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1WasmTrustedInstanceData_a046bdad8a33dfd81561292116a4dbcec_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1WasmTrustedInstanceData_ad79a7583df5d47e3daf85c19a2012986}\label{classv8_1_1internal_1_1WasmTrustedInstanceData_ad79a7583df5d47e3daf85c19a2012986}} 
\index{v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}!OBJECT\_CONSTRUCTORS@{OBJECT\_CONSTRUCTORS}}
\index{OBJECT\_CONSTRUCTORS@{OBJECT\_CONSTRUCTORS}!v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}}
\doxysubsubsection{\texorpdfstring{OBJECT\_CONSTRUCTORS()}{OBJECT\_CONSTRUCTORS()}}
{\footnotesize\ttfamily v8\+::internal\+::\+Wasm\+Trusted\+Instance\+Data\+::\+OBJECT\+\_\+\+CONSTRUCTORS (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData}{Wasm\+Trusted\+Instance\+Data}}}]{,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1ExposedTrustedObject}{Exposed\+Trusted\+Object}}}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{classv8_1_1internal_1_1WasmTrustedInstanceData_a3b10b49e542f346ba14702828af547c0}\label{classv8_1_1internal_1_1WasmTrustedInstanceData_a3b10b49e542f346ba14702828af547c0}} 
\index{v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}!SetRawMemory@{SetRawMemory}}
\index{SetRawMemory@{SetRawMemory}!v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}}
\doxysubsubsection{\texorpdfstring{SetRawMemory()}{SetRawMemory()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Wasm\+Trusted\+Instance\+Data\+::\+Set\+Raw\+Memory (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classint}{int}}}]{memory\+\_\+index,  }\item[{uint8\+\_\+t $\ast$}]{mem\+\_\+start,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{mem\+\_\+size }\end{DoxyParamCaption})}



Definition at line 1642 of file wasm-\/objects.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1643                                                             \{}
\DoxyCodeLine{1644   \mbox{\hyperlink{src_2base_2logging_8h_a45a0717f39b7011dc823c1fe7b83e6fc}{CHECK\_LT}}(memory\_index, \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_abe17aad860c7790fe78f65cae8e64d29}{module}}()-\/>memories.size());}
\DoxyCodeLine{1645 }
\DoxyCodeLine{1646   \mbox{\hyperlink{src_2base_2logging_8h_a56e883b55c80205b4d1727679c68b2bd}{CHECK\_LE}}(mem\_size, \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_abe17aad860c7790fe78f65cae8e64d29}{module}}()-\/>memories[memory\_index].is\_memory64()}
\DoxyCodeLine{1647                          ? \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_adce8d2d1fb7219dada0f8cb31b9ba0ce}{wasm::max\_mem64\_bytes}}()}
\DoxyCodeLine{1648                          : \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ab2ccdd8f6263889b55561cb1aa7b566e}{wasm::max\_mem32\_bytes}}());}
\DoxyCodeLine{1649   \textcolor{comment}{// All memory bases and sizes are stored in a TrustedFixedAddressArray.}}
\DoxyCodeLine{1650   Tagged<TrustedFixedAddressArray> bases\_and\_sizes = memory\_bases\_and\_sizes();}
\DoxyCodeLine{1651   bases\_and\_sizes-\/>set(memory\_index * 2, \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}\textcolor{keyword}{>}(mem\_start));}
\DoxyCodeLine{1652   bases\_and\_sizes-\/>set(memory\_index * 2 + 1, mem\_size);}
\DoxyCodeLine{1653   \textcolor{comment}{// Memory 0 has fast-\/access fields.}}
\DoxyCodeLine{1654   \textcolor{keywordflow}{if} (memory\_index == 0) \{}
\DoxyCodeLine{1655     set\_memory0\_start(mem\_start);}
\DoxyCodeLine{1656     set\_memory0\_size(mem\_size);}
\DoxyCodeLine{1657   \}}
\DoxyCodeLine{1658 \}}

\end{DoxyCode}


References CHECK\+\_\+\+LE, CHECK\+\_\+\+LT, v8\+::internal\+::wasm\+::max\+\_\+mem32\+\_\+bytes(), v8\+::internal\+::wasm\+::max\+\_\+mem64\+\_\+bytes(), and module().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1WasmTrustedInstanceData_a3b10b49e542f346ba14702828af547c0_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1WasmTrustedInstanceData_a6a3c772c7795f345d71f35b3cac43d45}\label{classv8_1_1internal_1_1WasmTrustedInstanceData_a6a3c772c7795f345d71f35b3cac43d45}} 
\index{v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}!try\_get\_func\_ref@{try\_get\_func\_ref}}
\index{try\_get\_func\_ref@{try\_get\_func\_ref}!v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}}
\doxysubsubsection{\texorpdfstring{try\_get\_func\_ref()}{try\_get\_func\_ref()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Wasm\+Trusted\+Instance\+Data\+::try\+\_\+get\+\_\+func\+\_\+ref (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classint}{int}}}]{index,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmFuncRef}{Wasm\+Func\+Ref}} $>$ $\ast$}]{result }\end{DoxyParamCaption})}



Definition at line 1987 of file wasm-\/objects.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1988                                                                             \{}
\DoxyCodeLine{1989   \mbox{\hyperlink{namespacev8_1_1internal_a5297fd2c72981b2220e6b9a831570fb3}{Tagged<Object>}} val = \mbox{\hyperlink{namespacev8_1_1internal_a11f7e5d645f7820437ee9433162fc433}{func\_refs}}()-\/>get(\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}});}
\DoxyCodeLine{1990   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1TaggedImpl_ac581f955a852851b751735177af20efa}{IsSmi}}(val)) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{1991   *\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} = Cast<WasmFuncRef>(val);}
\DoxyCodeLine{1992   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{1993 \}}

\end{DoxyCode}


References v8\+::internal\+::func\+\_\+refs, v8\+::internal\+::index, v8\+::internal\+::\+Tagged\+Impl$<$ Heap\+Object\+Reference\+Type\+::\+STRONG, Address $>$\+::\+Is\+Smi(), and v8\+::base\+::internal\+::result.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1WasmTrustedInstanceData_a6a3c772c7795f345d71f35b3cac43d45_cgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1WasmTrustedInstanceData_a570376cd95bb723fb0a30b9e1e0ebc0d}\label{classv8_1_1internal_1_1WasmTrustedInstanceData_a570376cd95bb723fb0a30b9e1e0ebc0d}} 
\index{v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}!kProtectedFieldNames@{kProtectedFieldNames}}
\index{kProtectedFieldNames@{kProtectedFieldNames}!v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}}
\doxysubsubsection{\texorpdfstring{kProtectedFieldNames}{kProtectedFieldNames}}
{\footnotesize\ttfamily constexpr std\+::array$<$ const char $\ast$, 6 $>$ v8\+::internal\+::\+Wasm\+Trusted\+Instance\+Data\+::k\+Protected\+Field\+Names\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{= \{}
\DoxyCodeLine{      \mbox{\hyperlink{wasm-objects_8h_a61579e82fb215ced04c048ca37786768}{WASM\_PROTECTED\_INSTANCE\_DATA\_FIELDS}}(\mbox{\hyperlink{wasm-objects_8h_a9315a89613309f19ffbfa07481e91062}{WASM\_INSTANCE\_FIELD\_NAME}})\}}

\end{DoxyCode}


Definition at line 659 of file wasm-\/objects.\+h.

\mbox{\Hypertarget{classv8_1_1internal_1_1WasmTrustedInstanceData_a6d40ff595b69eb36026f3ec8d1a35fac}\label{classv8_1_1internal_1_1WasmTrustedInstanceData_a6d40ff595b69eb36026f3ec8d1a35fac}} 
\index{v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}!kProtectedFieldOffsets@{kProtectedFieldOffsets}}
\index{kProtectedFieldOffsets@{kProtectedFieldOffsets}!v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}}
\doxysubsubsection{\texorpdfstring{kProtectedFieldOffsets}{kProtectedFieldOffsets}}
{\footnotesize\ttfamily constexpr std\+::array$<$ uint16\+\_\+t, 6 $>$ v8\+::internal\+::\+Wasm\+Trusted\+Instance\+Data\+::k\+Protected\+Field\+Offsets\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{= \{}
\DoxyCodeLine{      \mbox{\hyperlink{wasm-objects_8h_a61579e82fb215ced04c048ca37786768}{WASM\_PROTECTED\_INSTANCE\_DATA\_FIELDS}}(\mbox{\hyperlink{wasm-objects_8h_abdccbab1a67a0dde88344c018c39809e}{WASM\_INSTANCE\_FIELD\_OFFSET}})\}}

\end{DoxyCode}


Definition at line 657 of file wasm-\/objects.\+h.

\mbox{\Hypertarget{classv8_1_1internal_1_1WasmTrustedInstanceData_a82e0d67b495b3d12886e1491a43cdb24}\label{classv8_1_1internal_1_1WasmTrustedInstanceData_a82e0d67b495b3d12886e1491a43cdb24}} 
\index{v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}!kTaggedFieldNames@{kTaggedFieldNames}}
\index{kTaggedFieldNames@{kTaggedFieldNames}!v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}}
\doxysubsubsection{\texorpdfstring{kTaggedFieldNames}{kTaggedFieldNames}}
{\footnotesize\ttfamily constexpr std\+::array$<$ const char $\ast$, \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_aaedf2ec93418f82037ad7ef660b9f0a5}{Wasm\+Trusted\+Instance\+Data\+::k\+Tagged\+Fields\+Count}} $>$ v8\+::internal\+::\+Wasm\+Trusted\+Instance\+Data\+::k\+Tagged\+Field\+Names\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{= \{}
\DoxyCodeLine{          \mbox{\hyperlink{wasm-objects_8h_a5e8644b05a5f2b6cbac77b8577e59d4a}{WASM\_TAGGED\_INSTANCE\_DATA\_FIELDS}}(\mbox{\hyperlink{wasm-objects_8h_a9315a89613309f19ffbfa07481e91062}{WASM\_INSTANCE\_FIELD\_NAME}})\}}

\end{DoxyCode}


Definition at line 655 of file wasm-\/objects.\+h.

\mbox{\Hypertarget{classv8_1_1internal_1_1WasmTrustedInstanceData_aabf57a672c88fe7c988311cd560a37d1}\label{classv8_1_1internal_1_1WasmTrustedInstanceData_aabf57a672c88fe7c988311cd560a37d1}} 
\index{v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}!kTaggedFieldOffsets@{kTaggedFieldOffsets}}
\index{kTaggedFieldOffsets@{kTaggedFieldOffsets}!v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}}
\doxysubsubsection{\texorpdfstring{kTaggedFieldOffsets}{kTaggedFieldOffsets}}
{\footnotesize\ttfamily constexpr std\+::array$<$ uint16\+\_\+t, \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_aaedf2ec93418f82037ad7ef660b9f0a5}{Wasm\+Trusted\+Instance\+Data\+::k\+Tagged\+Fields\+Count}} $>$ v8\+::internal\+::\+Wasm\+Trusted\+Instance\+Data\+::k\+Tagged\+Field\+Offsets\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{= \{}
\DoxyCodeLine{          \mbox{\hyperlink{wasm-objects_8h_a5e8644b05a5f2b6cbac77b8577e59d4a}{WASM\_TAGGED\_INSTANCE\_DATA\_FIELDS}}(\mbox{\hyperlink{wasm-objects_8h_abdccbab1a67a0dde88344c018c39809e}{WASM\_INSTANCE\_FIELD\_OFFSET}})\}}

\end{DoxyCode}


Definition at line 652 of file wasm-\/objects.\+h.

\mbox{\Hypertarget{classv8_1_1internal_1_1WasmTrustedInstanceData_aaedf2ec93418f82037ad7ef660b9f0a5}\label{classv8_1_1internal_1_1WasmTrustedInstanceData_aaedf2ec93418f82037ad7ef660b9f0a5}} 
\index{v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}!kTaggedFieldsCount@{kTaggedFieldsCount}}
\index{kTaggedFieldsCount@{kTaggedFieldsCount}!v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}}
\doxysubsubsection{\texorpdfstring{kTaggedFieldsCount}{kTaggedFieldsCount}}
{\footnotesize\ttfamily constexpr \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::\+Wasm\+Trusted\+Instance\+Data\+::k\+Tagged\+Fields\+Count\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=}
\DoxyCodeLine{      16 + \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_ad169caebc15b6c65ab08d8c6a087831d}{kWasmInterpreterAdditionalFields}}}

\end{DoxyCode}


Definition at line 648 of file wasm-\/objects.\+h.

\mbox{\Hypertarget{classv8_1_1internal_1_1WasmTrustedInstanceData_ad169caebc15b6c65ab08d8c6a087831d}\label{classv8_1_1internal_1_1WasmTrustedInstanceData_ad169caebc15b6c65ab08d8c6a087831d}} 
\index{v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}!kWasmInterpreterAdditionalFields@{kWasmInterpreterAdditionalFields}}
\index{kWasmInterpreterAdditionalFields@{kWasmInterpreterAdditionalFields}!v8::internal::WasmTrustedInstanceData@{v8::internal::WasmTrustedInstanceData}}
\doxysubsubsection{\texorpdfstring{kWasmInterpreterAdditionalFields}{kWasmInterpreterAdditionalFields}}
{\footnotesize\ttfamily constexpr \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::\+Wasm\+Trusted\+Instance\+Data\+::k\+Wasm\+Interpreter\+Additional\+Fields = 0\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}}



Definition at line 646 of file wasm-\/objects.\+h.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/wasm/\mbox{\hyperlink{wasm-objects_8h}{wasm-\/objects.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/wasm/\mbox{\hyperlink{wasm-objects-inl_8h}{wasm-\/objects-\/inl.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/wasm/\mbox{\hyperlink{wasm-objects_8cc}{wasm-\/objects.\+cc}}\end{DoxyCompactItemize}
