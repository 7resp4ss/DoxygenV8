\hypertarget{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector}{}\doxysection{v8\+::internal\+::compiler\+::Live\+Range\+Connector Class Reference}
\label{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector}\index{v8::internal::compiler::LiveRangeConnector@{v8::internal::compiler::LiveRangeConnector}}


{\ttfamily \#include $<$register-\/allocator.\+h$>$}



Inheritance diagram for v8\+::internal\+::compiler\+::Live\+Range\+Connector\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=260pt]{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for v8\+::internal\+::compiler\+::Live\+Range\+Connector\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_af87fa672971c6bfb118f9c3b5e0db0e5}{Live\+Range\+Connector}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData}{Register\+Allocation\+Data}} $\ast$\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_afba6cbe501cc6551dfb3800e38a220da}{data}})
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a5366a26c25abfac5236d2b445bc0eb7a}{Live\+Range\+Connector}} (const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector}{Live\+Range\+Connector}} \&)=delete
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector}{Live\+Range\+Connector}} \& \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a29ec8e54d9c92dcc31468518ab8edbb8}{operator=}} (const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector}{Live\+Range\+Connector}} \&)=delete
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_ae335542bcf27f1fcbb39e1a8701242e3}{Connect\+Ranges}} (\mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}} $\ast$local\+\_\+zone)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a86f4fccf715c6230a3e0ceb373f60776}{Resolve\+Control\+Flow}} (\mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}} $\ast$local\+\_\+zone)
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData}{Register\+Allocation\+Data}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_afba6cbe501cc6551dfb3800e38a220da}{data}} () const
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionSequence}{Instruction\+Sequence}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a8e5c605927b9da4e4e66bfeddebd7b81}{code}} () const
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a19931bdeaa952653f7e75ad800889c8d}{code\+\_\+zone}} () const
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a28d08f40d5dc488600051ba2ef537284}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a4227c9142f7c79b5979a4ff2ea80e689}{Can\+Eagerly\+Resolve\+Control\+Flow}} (const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionBlock}{Instruction\+Block}} $\ast$block) const
\item 
\mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_acc9f5b5e8193608eb8b634b8c567f76c}{Resolve\+Control\+Flow}} (const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionBlock}{Instruction\+Block}} $\ast$block, const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionOperand}{Instruction\+Operand}} \&cur\+\_\+op, const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionBlock}{Instruction\+Block}} $\ast$pred, const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionOperand}{Instruction\+Operand}} \&pred\+\_\+op)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_afaebc67111f0c9674525a320306dd50b}{Commit\+Spills\+In\+Deferred\+Blocks}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1TopLevelLiveRange}{Top\+Level\+Live\+Range}} $\ast$range, \mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}} $\ast$temp\+\_\+zone)
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData}{Register\+Allocation\+Data}} $\ast$const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a0d4fb72a725e46dd1c56cb0dc01ace2a}{data\+\_\+}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 1742 of file register-\/allocator.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_af87fa672971c6bfb118f9c3b5e0db0e5}\label{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_af87fa672971c6bfb118f9c3b5e0db0e5}} 
\index{v8::internal::compiler::LiveRangeConnector@{v8::internal::compiler::LiveRangeConnector}!LiveRangeConnector@{LiveRangeConnector}}
\index{LiveRangeConnector@{LiveRangeConnector}!v8::internal::compiler::LiveRangeConnector@{v8::internal::compiler::LiveRangeConnector}}
\doxysubsubsection{\texorpdfstring{LiveRangeConnector()}{LiveRangeConnector()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily v8\+::internal\+::compiler\+::\+Live\+Range\+Connector\+::\+Live\+Range\+Connector (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData}{Register\+Allocation\+Data}} $\ast$}]{data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}



Definition at line 4904 of file register-\/allocator.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4905     : \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a0d4fb72a725e46dd1c56cb0dc01ace2a}{data\_}}(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_afba6cbe501cc6551dfb3800e38a220da}{data}}) \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a5366a26c25abfac5236d2b445bc0eb7a}\label{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a5366a26c25abfac5236d2b445bc0eb7a}} 
\index{v8::internal::compiler::LiveRangeConnector@{v8::internal::compiler::LiveRangeConnector}!LiveRangeConnector@{LiveRangeConnector}}
\index{LiveRangeConnector@{LiveRangeConnector}!v8::internal::compiler::LiveRangeConnector@{v8::internal::compiler::LiveRangeConnector}}
\doxysubsubsection{\texorpdfstring{LiveRangeConnector()}{LiveRangeConnector()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily v8\+::internal\+::compiler\+::\+Live\+Range\+Connector\+::\+Live\+Range\+Connector (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector}{Live\+Range\+Connector}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a4227c9142f7c79b5979a4ff2ea80e689}\label{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a4227c9142f7c79b5979a4ff2ea80e689}} 
\index{v8::internal::compiler::LiveRangeConnector@{v8::internal::compiler::LiveRangeConnector}!CanEagerlyResolveControlFlow@{CanEagerlyResolveControlFlow}}
\index{CanEagerlyResolveControlFlow@{CanEagerlyResolveControlFlow}!v8::internal::compiler::LiveRangeConnector@{v8::internal::compiler::LiveRangeConnector}}
\doxysubsubsection{\texorpdfstring{CanEagerlyResolveControlFlow()}{CanEagerlyResolveControlFlow()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a28d08f40d5dc488600051ba2ef537284}{bool}} v8\+::internal\+::compiler\+::\+Live\+Range\+Connector\+::\+Can\+Eagerly\+Resolve\+Control\+Flow (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionBlock}{Instruction\+Block}} $\ast$}]{block }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 4907 of file register-\/allocator.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4908                                          \{}
\DoxyCodeLine{4909   \textcolor{keywordflow}{if} (block-\/>PredecessorCount() != 1) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{4910   \textcolor{keywordflow}{return} block-\/>predecessors()[0].IsNext(block-\/>rpo\_number());}
\DoxyCodeLine{4911 \}}

\end{DoxyCode}


References v8\+::internal\+::compiler\+::\+Instruction\+Block\+::\+Predecessor\+Count(), v8\+::internal\+::compiler\+::\+Instruction\+Block\+::predecessors(), and v8\+::internal\+::compiler\+::\+Instruction\+Block\+::rpo\+\_\+number().



Referenced by Connect\+Ranges(), and Resolve\+Control\+Flow().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a4227c9142f7c79b5979a4ff2ea80e689_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a4227c9142f7c79b5979a4ff2ea80e689_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a8e5c605927b9da4e4e66bfeddebd7b81}\label{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a8e5c605927b9da4e4e66bfeddebd7b81}} 
\index{v8::internal::compiler::LiveRangeConnector@{v8::internal::compiler::LiveRangeConnector}!code@{code}}
\index{code@{code}!v8::internal::compiler::LiveRangeConnector@{v8::internal::compiler::LiveRangeConnector}}
\doxysubsubsection{\texorpdfstring{code()}{code()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionSequence}{Instruction\+Sequence}}$\ast$ v8\+::internal\+::compiler\+::\+Live\+Range\+Connector\+::code (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 1760 of file register-\/allocator.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{1760 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_afba6cbe501cc6551dfb3800e38a220da}{data}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData_a1630a04f46aa84989f4b07c24e0ab067}{code}}(); \}}

\end{DoxyCode}


References v8\+::internal\+::compiler\+::\+Register\+Allocation\+Data\+::code(), and data().



Referenced by code\+\_\+zone(), Commit\+Spills\+In\+Deferred\+Blocks(), Connect\+Ranges(), and Resolve\+Control\+Flow().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a8e5c605927b9da4e4e66bfeddebd7b81_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a8e5c605927b9da4e4e66bfeddebd7b81_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a19931bdeaa952653f7e75ad800889c8d}\label{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a19931bdeaa952653f7e75ad800889c8d}} 
\index{v8::internal::compiler::LiveRangeConnector@{v8::internal::compiler::LiveRangeConnector}!code\_zone@{code\_zone}}
\index{code\_zone@{code\_zone}!v8::internal::compiler::LiveRangeConnector@{v8::internal::compiler::LiveRangeConnector}}
\doxysubsubsection{\texorpdfstring{code\_zone()}{code\_zone()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}}$\ast$ v8\+::internal\+::compiler\+::\+Live\+Range\+Connector\+::code\+\_\+zone (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 1761 of file register-\/allocator.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{1761 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a8e5c605927b9da4e4e66bfeddebd7b81}{code}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionSequence_a5749a22c101c776c60cbe099e49cc03a}{zone}}(); \}}

\end{DoxyCode}


References code(), and v8\+::internal\+::compiler\+::\+Instruction\+Sequence\+::zone().



Referenced by Connect\+Ranges().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a19931bdeaa952653f7e75ad800889c8d_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a19931bdeaa952653f7e75ad800889c8d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_afaebc67111f0c9674525a320306dd50b}\label{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_afaebc67111f0c9674525a320306dd50b}} 
\index{v8::internal::compiler::LiveRangeConnector@{v8::internal::compiler::LiveRangeConnector}!CommitSpillsInDeferredBlocks@{CommitSpillsInDeferredBlocks}}
\index{CommitSpillsInDeferredBlocks@{CommitSpillsInDeferredBlocks}!v8::internal::compiler::LiveRangeConnector@{v8::internal::compiler::LiveRangeConnector}}
\doxysubsubsection{\texorpdfstring{CommitSpillsInDeferredBlocks()}{CommitSpillsInDeferredBlocks()}}
{\footnotesize\ttfamily void v8\+::internal\+::compiler\+::\+Live\+Range\+Connector\+::\+Commit\+Spills\+In\+Deferred\+Blocks (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1TopLevelLiveRange}{Top\+Level\+Live\+Range}} $\ast$}]{range,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}} $\ast$}]{temp\+\_\+zone }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 5149 of file register-\/allocator.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{5150                                                                        \{}
\DoxyCodeLine{5151   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(range-\/>IsSpilledOnlyInDeferredBlocks(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_afba6cbe501cc6551dfb3800e38a220da}{data}}()));}
\DoxyCodeLine{5152   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!range-\/>spilled());}
\DoxyCodeLine{5153 }
\DoxyCodeLine{5154   InstructionSequence* \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a8e5c605927b9da4e4e66bfeddebd7b81}{code}} = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_afba6cbe501cc6551dfb3800e38a220da}{data}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData_a1630a04f46aa84989f4b07c24e0ab067}{code}}();}
\DoxyCodeLine{5155   InstructionOperand spill\_operand = range-\/>GetSpillRangeOperand();}
\DoxyCodeLine{5156 }
\DoxyCodeLine{5157   \mbox{\hyperlink{namespacev8_1_1internal_a3762add7a183a4d1750c04e5fa1a6d17}{TRACE}}(\textcolor{stringliteral}{"{}Live Range \%d will be spilled only in deferred blocks.\(\backslash\)n"{}},}
\DoxyCodeLine{5158         range-\/>vreg());}
\DoxyCodeLine{5159   \textcolor{comment}{// If we have ranges that aren't spilled but require the operand on the stack,}}
\DoxyCodeLine{5160   \textcolor{comment}{// make sure we insert the spill.}}
\DoxyCodeLine{5161   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} LiveRange* child = range; child != \textcolor{keyword}{nullptr};}
\DoxyCodeLine{5162        child = child-\/>next()) \{}
\DoxyCodeLine{5163     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} UsePosition* pos : child-\/>positions()) \{}
\DoxyCodeLine{5164       \textcolor{keywordflow}{if} (pos-\/>type() != \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a7b6df401819d405afa63acd8f105c5e2a52ab9859ec308dbd0d198cce409b209d}{UsePositionType::kRequiresSlot}} \&\& !child-\/>spilled())}
\DoxyCodeLine{5165         \textcolor{keywordflow}{continue};}
\DoxyCodeLine{5166       range-\/>AddBlockRequiringSpillOperand(}
\DoxyCodeLine{5167           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a8e5c605927b9da4e4e66bfeddebd7b81}{code}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionSequence_a7449916f968378b02e1ed87b9e152966}{GetInstructionBlock}}(pos-\/>pos().ToInstructionIndex())}
\DoxyCodeLine{5168               -\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionBlock_a71823e30cc46729867516c3e825d4953}{rpo\_number}}(),}
\DoxyCodeLine{5169           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_afba6cbe501cc6551dfb3800e38a220da}{data}}());}
\DoxyCodeLine{5170     \}}
\DoxyCodeLine{5171   \}}
\DoxyCodeLine{5172 }
\DoxyCodeLine{5173   ZoneQueue<int> worklist(temp\_zone);}
\DoxyCodeLine{5174 }
\DoxyCodeLine{5175   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} block\_id : *range-\/>GetListOfBlocksRequiringSpillOperands(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_afba6cbe501cc6551dfb3800e38a220da}{data}}())) \{}
\DoxyCodeLine{5176     worklist.push(block\_id);}
\DoxyCodeLine{5177   \}}
\DoxyCodeLine{5178 }
\DoxyCodeLine{5179   ZoneSet<std::pair<RpoNumber, int>> done\_moves(temp\_zone);}
\DoxyCodeLine{5180   \textcolor{comment}{// Seek the deferred blocks that dominate locations requiring spill operands,}}
\DoxyCodeLine{5181   \textcolor{comment}{// and spill there. We only need to spill at the start of such blocks.}}
\DoxyCodeLine{5182   SparseBitVector done\_blocks(temp\_zone);}
\DoxyCodeLine{5183   \textcolor{keywordflow}{while} (!worklist.empty()) \{}
\DoxyCodeLine{5184     \textcolor{keywordtype}{int} block\_id = worklist.front();}
\DoxyCodeLine{5185     worklist.pop();}
\DoxyCodeLine{5186     \textcolor{keywordflow}{if} (done\_blocks.Contains(block\_id)) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{5187     done\_blocks.Add(block\_id);}
\DoxyCodeLine{5188     InstructionBlock* spill\_block =}
\DoxyCodeLine{5189         \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a8e5c605927b9da4e4e66bfeddebd7b81}{code}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionSequence_a9c3aecd79b289855c043cc27c2749b35}{InstructionBlockAt}}(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RpoNumber_abb38c79e5fbf770062dfb5dc116b4495}{RpoNumber::FromInt}}(block\_id));}
\DoxyCodeLine{5190 }
\DoxyCodeLine{5191     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} RpoNumber\& pred : spill\_block-\/>predecessors()) \{}
\DoxyCodeLine{5192       \textcolor{keyword}{const} InstructionBlock* pred\_block = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a8e5c605927b9da4e4e66bfeddebd7b81}{code}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionSequence_a9c3aecd79b289855c043cc27c2749b35}{InstructionBlockAt}}(pred);}
\DoxyCodeLine{5193 }
\DoxyCodeLine{5194       \textcolor{keywordflow}{if} (pred\_block-\/>IsDeferred()) \{}
\DoxyCodeLine{5195         worklist.push(pred\_block-\/>rpo\_number().ToInt());}
\DoxyCodeLine{5196       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{5197         LifetimePosition pred\_end =}
\DoxyCodeLine{5198             \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LifetimePosition_a32d9eb60b66b5eddb94c8a8bd69a877c}{LifetimePosition::InstructionFromInstructionIndex}}(}
\DoxyCodeLine{5199                 pred\_block-\/>last\_instruction\_index());}
\DoxyCodeLine{5200 }
\DoxyCodeLine{5201         LiveRange* child\_range = range-\/>GetChildCovers(pred\_end);}
\DoxyCodeLine{5202         \mbox{\hyperlink{src_2base_2logging_8h_a7b9f9517fedacc2a1a56c2bbb9d03688}{DCHECK\_NOT\_NULL}}(child\_range);}
\DoxyCodeLine{5203 }
\DoxyCodeLine{5204         InstructionOperand pred\_op = child\_range-\/>GetAssignedOperand();}
\DoxyCodeLine{5205 }
\DoxyCodeLine{5206         RpoNumber spill\_block\_number = spill\_block-\/>rpo\_number();}
\DoxyCodeLine{5207         \textcolor{keywordflow}{if} (done\_moves.find(std::make\_pair(}
\DoxyCodeLine{5208                 spill\_block\_number, range-\/>vreg())) == done\_moves.end()) \{}
\DoxyCodeLine{5209           \mbox{\hyperlink{namespacev8_1_1internal_a3762add7a183a4d1750c04e5fa1a6d17}{TRACE}}(\textcolor{stringliteral}{"{}Spilling deferred spill for range \%d at B\%d\(\backslash\)n"{}}, range-\/>vreg(),}
\DoxyCodeLine{5210                 spill\_block\_number.ToInt());}
\DoxyCodeLine{5211           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_afba6cbe501cc6551dfb3800e38a220da}{data}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData_a64b0910107365e638623261ee2910b04}{AddGapMove}}(spill\_block-\/>first\_instruction\_index(),}
\DoxyCodeLine{5212                              Instruction::GapPosition::START, pred\_op,}
\DoxyCodeLine{5213                              spill\_operand);}
\DoxyCodeLine{5214           done\_moves.insert(std::make\_pair(spill\_block\_number, range-\/>vreg()));}
\DoxyCodeLine{5215           spill\_block-\/>mark\_needs\_frame();}
\DoxyCodeLine{5216         \}}
\DoxyCodeLine{5217       \}}
\DoxyCodeLine{5218     \}}
\DoxyCodeLine{5219   \}}
\DoxyCodeLine{5220 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Sparse\+Bit\+Vector\+::\+Add(), v8\+::internal\+::compiler\+::\+Top\+Level\+Live\+Range\+::\+Add\+Block\+Requiring\+Spill\+Operand(), v8\+::internal\+::compiler\+::\+Register\+Allocation\+Data\+::\+Add\+Gap\+Move(), v8\+::internal\+::compiler\+::\+Register\+Allocation\+Data\+::code(), code(), v8\+::internal\+::\+Sparse\+Bit\+Vector\+::\+Contains(), data(), v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+NOT\+\_\+\+NULL, v8\+::internal\+::compiler\+::\+Instruction\+Block\+::first\+\_\+instruction\+\_\+index(), v8\+::internal\+::compiler\+::\+Rpo\+Number\+::\+From\+Int(), v8\+::internal\+::compiler\+::\+Live\+Range\+::\+Get\+Assigned\+Operand(), v8\+::internal\+::compiler\+::\+Top\+Level\+Live\+Range\+::\+Get\+Child\+Covers(), v8\+::internal\+::compiler\+::\+Instruction\+Sequence\+::\+Get\+Instruction\+Block(), v8\+::internal\+::compiler\+::\+Top\+Level\+Live\+Range\+::\+Get\+List\+Of\+Blocks\+Requiring\+Spill\+Operands(), v8\+::internal\+::compiler\+::\+Top\+Level\+Live\+Range\+::\+Get\+Spill\+Range\+Operand(), v8\+::internal\+::compiler\+::\+Instruction\+Sequence\+::\+Instruction\+Block\+At(), v8\+::internal\+::compiler\+::\+Lifetime\+Position\+::\+Instruction\+From\+Instruction\+Index(), v8\+::internal\+::compiler\+::\+Instruction\+Block\+::\+Is\+Deferred(), v8\+::internal\+::compiler\+::\+Top\+Level\+Live\+Range\+::\+Is\+Spilled\+Only\+In\+Deferred\+Blocks(), v8\+::internal\+::compiler\+::k\+Requires\+Slot, v8\+::internal\+::compiler\+::\+Instruction\+Block\+::last\+\_\+instruction\+\_\+index(), v8\+::internal\+::compiler\+::\+Instruction\+Block\+::mark\+\_\+needs\+\_\+frame(), v8\+::internal\+::compiler\+::\+Live\+Range\+::next(), v8\+::internal\+::compiler\+::\+Instruction\+Block\+::predecessors(), v8\+::internal\+::compiler\+::\+Instruction\+Block\+::rpo\+\_\+number(), v8\+::internal\+::compiler\+::\+Live\+Range\+::spilled(), v8\+::internal\+::compiler\+::\+Rpo\+Number\+::\+To\+Int(), v8\+::internal\+::\+TRACE(), and v8\+::internal\+::compiler\+::\+Top\+Level\+Live\+Range\+::vreg().



Referenced by Resolve\+Control\+Flow().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_afaebc67111f0c9674525a320306dd50b_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_afaebc67111f0c9674525a320306dd50b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_ae335542bcf27f1fcbb39e1a8701242e3}\label{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_ae335542bcf27f1fcbb39e1a8701242e3}} 
\index{v8::internal::compiler::LiveRangeConnector@{v8::internal::compiler::LiveRangeConnector}!ConnectRanges@{ConnectRanges}}
\index{ConnectRanges@{ConnectRanges}!v8::internal::compiler::LiveRangeConnector@{v8::internal::compiler::LiveRangeConnector}}
\doxysubsubsection{\texorpdfstring{ConnectRanges()}{ConnectRanges()}}
{\footnotesize\ttfamily void v8\+::internal\+::compiler\+::\+Live\+Range\+Connector\+::\+Connect\+Ranges (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}} $\ast$}]{local\+\_\+zone }\end{DoxyParamCaption})}



Definition at line 5055 of file register-\/allocator.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{5055                                                        \{}
\DoxyCodeLine{5056   \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a2c8bc02b3f68e0bc17fd87bade6f921e}{DelayedInsertionMap}} delayed\_insertion\_map(local\_zone);}
\DoxyCodeLine{5057   \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} live\_ranges\_size = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_afba6cbe501cc6551dfb3800e38a220da}{data}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData_afc8a4b3c66832eb2ee286f35aa13b963}{live\_ranges}}().size();}
\DoxyCodeLine{5058   \textcolor{keywordflow}{for} (TopLevelLiveRange* top\_range : \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_afba6cbe501cc6551dfb3800e38a220da}{data}}()-\/>live\_ranges()) \{}
\DoxyCodeLine{5059     \mbox{\hyperlink{src_2base_2logging_8h_aca32614b4d2aea7dd9abdeb222bf02f3}{CHECK\_EQ}}(live\_ranges\_size,}
\DoxyCodeLine{5060              \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_afba6cbe501cc6551dfb3800e38a220da}{data}}()-\/>live\_ranges().\mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}());  \textcolor{comment}{// TODO(neis): crbug.com/831822}}
\DoxyCodeLine{5061     \mbox{\hyperlink{src_2base_2logging_8h_a7b9f9517fedacc2a1a56c2bbb9d03688}{DCHECK\_NOT\_NULL}}(top\_range);}
\DoxyCodeLine{5062     \textcolor{keywordtype}{bool} connect\_spilled = top\_range-\/>IsSpilledOnlyInDeferredBlocks(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_afba6cbe501cc6551dfb3800e38a220da}{data}}());}
\DoxyCodeLine{5063     LiveRange* first\_range = top\_range;}
\DoxyCodeLine{5064     \textcolor{keywordflow}{for} (LiveRange *second\_range = first\_range-\/>next(); second\_range != \textcolor{keyword}{nullptr};}
\DoxyCodeLine{5065          first\_range = second\_range, second\_range = second\_range-\/>next()) \{}
\DoxyCodeLine{5066       LifetimePosition pos = second\_range-\/>Start();}
\DoxyCodeLine{5067       \textcolor{comment}{// Add gap move if the two live ranges touch and there is no block}}
\DoxyCodeLine{5068       \textcolor{comment}{// boundary.}}
\DoxyCodeLine{5069       \textcolor{keywordflow}{if} (second\_range-\/>spilled()) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{5070       \textcolor{keywordflow}{if} (first\_range-\/>End() != pos) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{5071       \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_afba6cbe501cc6551dfb3800e38a220da}{data}}()-\/>IsBlockBoundary(pos) \&\&}
\DoxyCodeLine{5072           !\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a4227c9142f7c79b5979a4ff2ea80e689}{CanEagerlyResolveControlFlow}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02register-allocator_8cc_03_aa42ccf01201b3daa51cd0699352d8991}{GetInstructionBlock}}(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a8e5c605927b9da4e4e66bfeddebd7b81}{code}}(), pos))) \{}
\DoxyCodeLine{5073         \textcolor{keywordflow}{continue};}
\DoxyCodeLine{5074       \}}
\DoxyCodeLine{5075       InstructionOperand prev\_operand = first\_range-\/>GetAssignedOperand();}
\DoxyCodeLine{5076       InstructionOperand cur\_operand = second\_range-\/>GetAssignedOperand();}
\DoxyCodeLine{5077       \textcolor{keywordflow}{if} (prev\_operand.Equals(cur\_operand)) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{5078       \textcolor{keywordtype}{bool} delay\_insertion = \textcolor{keyword}{false};}
\DoxyCodeLine{5079       \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Instruction_ac16ebb6b4b65e5787eebc6ddeb3ed53a}{Instruction::GapPosition}} gap\_pos;}
\DoxyCodeLine{5080       \textcolor{keywordtype}{int} gap\_index = pos.ToInstructionIndex();}
\DoxyCodeLine{5081       \textcolor{keywordflow}{if} (connect\_spilled \&\& !prev\_operand.IsAnyRegister() \&\&}
\DoxyCodeLine{5082           cur\_operand.IsAnyRegister()) \{}
\DoxyCodeLine{5083         \textcolor{keyword}{const} InstructionBlock* block = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a8e5c605927b9da4e4e66bfeddebd7b81}{code}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionSequence_a7449916f968378b02e1ed87b9e152966}{GetInstructionBlock}}(gap\_index);}
\DoxyCodeLine{5084         \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(block-\/>IsDeferred());}
\DoxyCodeLine{5085         \textcolor{comment}{// Performing a reload in this block, meaning the spill operand must}}
\DoxyCodeLine{5086         \textcolor{comment}{// be defined here.}}
\DoxyCodeLine{5087         top\_range-\/>GetListOfBlocksRequiringSpillOperands(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_afba6cbe501cc6551dfb3800e38a220da}{data}}())-\/>Add(}
\DoxyCodeLine{5088             block-\/>rpo\_number().ToInt());}
\DoxyCodeLine{5089       \}}
\DoxyCodeLine{5090 }
\DoxyCodeLine{5091       \textcolor{keywordflow}{if} (pos.IsGapPosition()) \{}
\DoxyCodeLine{5092         gap\_pos = pos.IsStart() ? \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Instruction_ac16ebb6b4b65e5787eebc6ddeb3ed53aa8c9ab8994753986fef8c266fa05355cd}{Instruction::START}} : \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Instruction_ac16ebb6b4b65e5787eebc6ddeb3ed53aaea7623d8cb2122c5bba8917cb1287f3b}{Instruction::END}};}
\DoxyCodeLine{5093       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{5094         \textcolor{keywordflow}{if} (pos.IsStart()) \{}
\DoxyCodeLine{5095           delay\_insertion = \textcolor{keyword}{true};}
\DoxyCodeLine{5096         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{5097           gap\_index++;}
\DoxyCodeLine{5098         \}}
\DoxyCodeLine{5099         gap\_pos = delay\_insertion ? \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Instruction_ac16ebb6b4b65e5787eebc6ddeb3ed53aaea7623d8cb2122c5bba8917cb1287f3b}{Instruction::END}} : \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Instruction_ac16ebb6b4b65e5787eebc6ddeb3ed53aa8c9ab8994753986fef8c266fa05355cd}{Instruction::START}};}
\DoxyCodeLine{5100       \}}
\DoxyCodeLine{5101       \textcolor{comment}{// Reloads or spills for spilled in deferred blocks ranges must happen}}
\DoxyCodeLine{5102       \textcolor{comment}{// only in deferred blocks.}}
\DoxyCodeLine{5103       \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(connect\_spilled \&\& !(prev\_operand.IsAnyRegister() \&\&}
\DoxyCodeLine{5104                                           cur\_operand.IsAnyRegister()),}
\DoxyCodeLine{5105                      \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a8e5c605927b9da4e4e66bfeddebd7b81}{code}}()-\/>\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02register-allocator_8cc_03_aa42ccf01201b3daa51cd0699352d8991}{GetInstructionBlock}}(gap\_index)-\/>\mbox{\hyperlink{namespacev8_1_1internal_1_1torque_a992eed0ce9e8f4b2bc810b56e48dfc6f}{IsDeferred}}());}
\DoxyCodeLine{5106 }
\DoxyCodeLine{5107       ParallelMove* move =}
\DoxyCodeLine{5108           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a8e5c605927b9da4e4e66bfeddebd7b81}{code}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionSequence_aa22bf34954aefdb2a4e0af0f7061dd56}{InstructionAt}}(gap\_index)-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Instruction_a5965a0a4c7e6c4f31d51593f41eda19c}{GetOrCreateParallelMove}}(}
\DoxyCodeLine{5109               gap\_pos, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a19931bdeaa952653f7e75ad800889c8d}{code\_zone}}());}
\DoxyCodeLine{5110       \textcolor{keywordflow}{if} (!delay\_insertion) \{}
\DoxyCodeLine{5111         move-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ParallelMove_aaf0c874d2238b471f1fdfd94ff8b7245}{AddMove}}(prev\_operand, cur\_operand);}
\DoxyCodeLine{5112       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{5113         delayed\_insertion\_map.insert(}
\DoxyCodeLine{5114             std::make\_pair(std::make\_pair(move, prev\_operand), cur\_operand));}
\DoxyCodeLine{5115       \}}
\DoxyCodeLine{5116     \}}
\DoxyCodeLine{5117   \}}
\DoxyCodeLine{5118   \textcolor{keywordflow}{if} (delayed\_insertion\_map.empty()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{5119   \textcolor{comment}{// Insert all the moves which should occur after the stored move.}}
\DoxyCodeLine{5120   ZoneVector<MoveOperands*> to\_insert(local\_zone);}
\DoxyCodeLine{5121   ZoneVector<MoveOperands*> to\_eliminate(local\_zone);}
\DoxyCodeLine{5122   to\_insert.reserve(4);}
\DoxyCodeLine{5123   to\_eliminate.reserve(4);}
\DoxyCodeLine{5124   ParallelMove* moves = delayed\_insertion\_map.begin()-\/>first.first;}
\DoxyCodeLine{5125   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} it = delayed\_insertion\_map.begin();; ++it) \{}
\DoxyCodeLine{5126     \textcolor{keywordtype}{bool} done = it == delayed\_insertion\_map.end();}
\DoxyCodeLine{5127     \textcolor{keywordflow}{if} (done || it-\/>first.first != moves) \{}
\DoxyCodeLine{5128       \textcolor{comment}{// Commit the MoveOperands for current ParallelMove.}}
\DoxyCodeLine{5129       \textcolor{keywordflow}{for} (MoveOperands* move : to\_eliminate) \{}
\DoxyCodeLine{5130         move-\/>Eliminate();}
\DoxyCodeLine{5131       \}}
\DoxyCodeLine{5132       \textcolor{keywordflow}{for} (MoveOperands* move : to\_insert) \{}
\DoxyCodeLine{5133         moves-\/>push\_back(move);}
\DoxyCodeLine{5134       \}}
\DoxyCodeLine{5135       \textcolor{keywordflow}{if} (done) \textcolor{keywordflow}{break};}
\DoxyCodeLine{5136       \textcolor{comment}{// Reset state.}}
\DoxyCodeLine{5137       to\_eliminate.clear();}
\DoxyCodeLine{5138       to\_insert.clear();}
\DoxyCodeLine{5139       moves = it-\/>first.first;}
\DoxyCodeLine{5140     \}}
\DoxyCodeLine{5141     \textcolor{comment}{// Gather all MoveOperands for a single ParallelMove.}}
\DoxyCodeLine{5142     MoveOperands* move =}
\DoxyCodeLine{5143         \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a19931bdeaa952653f7e75ad800889c8d}{code\_zone}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Zone_a619ca7387e66c82e86240c2af8f3f10f}{New}}<MoveOperands>(it-\/>first.second, it-\/>second);}
\DoxyCodeLine{5144     moves-\/>PrepareInsertAfter(move, \&to\_eliminate);}
\DoxyCodeLine{5145     to\_insert.push\_back(move);}
\DoxyCodeLine{5146   \}}
\DoxyCodeLine{5147 \}}

\end{DoxyCode}


References v8\+::internal\+::compiler\+::\+Parallel\+Move\+::\+Add\+Move(), Can\+Eagerly\+Resolve\+Control\+Flow(), CHECK\+\_\+\+EQ, code(), code\+\_\+zone(), data(), v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+IMPLIES, DCHECK\+\_\+\+NOT\+\_\+\+NULL, v8\+::internal\+::compiler\+::\+Instruction\+::\+END, v8\+::internal\+::compiler\+::\+Live\+Range\+::\+End(), v8\+::internal\+::compiler\+::\+Instruction\+Operand\+::\+Equals(), v8\+::internal\+::compiler\+::\+Live\+Range\+::\+Get\+Assigned\+Operand(), v8\+::internal\+::compiler\+::anonymous\+\_\+namespace\{register-\/allocator.\+cc\}\+::\+Get\+Instruction\+Block(), v8\+::internal\+::compiler\+::\+Instruction\+Sequence\+::\+Get\+Instruction\+Block(), v8\+::internal\+::compiler\+::\+Instruction\+::\+Get\+Or\+Create\+Parallel\+Move(), v8\+::internal\+::compiler\+::\+Instruction\+Sequence\+::\+Instruction\+At(), v8\+::internal\+::compiler\+::\+Instruction\+Operand\+::\+Is\+Any\+Register(), v8\+::internal\+::compiler\+::\+Instruction\+Block\+::\+Is\+Deferred(), v8\+::internal\+::torque\+::\+Is\+Deferred(), v8\+::internal\+::compiler\+::\+Lifetime\+Position\+::\+Is\+Gap\+Position(), v8\+::internal\+::compiler\+::\+Lifetime\+Position\+::\+Is\+Start(), v8\+::internal\+::compiler\+::\+Register\+Allocation\+Data\+::live\+\_\+ranges(), v8\+::internal\+::\+Zone\+::\+New(), v8\+::internal\+::compiler\+::\+Live\+Range\+::next(), v8\+::internal\+::compiler\+::\+Parallel\+Move\+::\+Prepare\+Insert\+After(), v8\+::internal\+::\+Zone\+Vector$<$ T $>$\+::push\+\_\+back(), v8\+::internal\+::\+Zone\+Vector$<$ T $>$\+::reserve(), v8\+::internal\+::compiler\+::\+Instruction\+Block\+::rpo\+\_\+number(), size(), v8\+::internal\+::compiler\+::\+Instruction\+::\+START, v8\+::internal\+::compiler\+::\+Lifetime\+Position\+::\+Start(), v8\+::internal\+::compiler\+::\+Lifetime\+Position\+::\+To\+Instruction\+Index(), and v8\+::internal\+::compiler\+::\+Rpo\+Number\+::\+To\+Int().



Referenced by v8\+::internal\+::compiler\+::turboshaft\+::\+Connect\+Ranges\+Phase\+::\+Run().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_ae335542bcf27f1fcbb39e1a8701242e3_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_ae335542bcf27f1fcbb39e1a8701242e3_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_afba6cbe501cc6551dfb3800e38a220da}\label{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_afba6cbe501cc6551dfb3800e38a220da}} 
\index{v8::internal::compiler::LiveRangeConnector@{v8::internal::compiler::LiveRangeConnector}!data@{data}}
\index{data@{data}!v8::internal::compiler::LiveRangeConnector@{v8::internal::compiler::LiveRangeConnector}}
\doxysubsubsection{\texorpdfstring{data()}{data()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData}{Register\+Allocation\+Data}}$\ast$ v8\+::internal\+::compiler\+::\+Live\+Range\+Connector\+::data (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 1759 of file register-\/allocator.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{1759 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a0d4fb72a725e46dd1c56cb0dc01ace2a}{data\_}}; \}}

\end{DoxyCode}


References data\+\_\+.



Referenced by code(), Commit\+Spills\+In\+Deferred\+Blocks(), Connect\+Ranges(), and Resolve\+Control\+Flow().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_afba6cbe501cc6551dfb3800e38a220da_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a29ec8e54d9c92dcc31468518ab8edbb8}\label{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a29ec8e54d9c92dcc31468518ab8edbb8}} 
\index{v8::internal::compiler::LiveRangeConnector@{v8::internal::compiler::LiveRangeConnector}!operator=@{operator=}}
\index{operator=@{operator=}!v8::internal::compiler::LiveRangeConnector@{v8::internal::compiler::LiveRangeConnector}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector}{Live\+Range\+Connector}}\& v8\+::internal\+::compiler\+::\+Live\+Range\+Connector\+::operator= (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector}{Live\+Range\+Connector}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}

\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_acc9f5b5e8193608eb8b634b8c567f76c}\label{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_acc9f5b5e8193608eb8b634b8c567f76c}} 
\index{v8::internal::compiler::LiveRangeConnector@{v8::internal::compiler::LiveRangeConnector}!ResolveControlFlow@{ResolveControlFlow}}
\index{ResolveControlFlow@{ResolveControlFlow}!v8::internal::compiler::LiveRangeConnector@{v8::internal::compiler::LiveRangeConnector}}
\doxysubsubsection{\texorpdfstring{ResolveControlFlow()}{ResolveControlFlow()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classint}{int}} v8\+::internal\+::compiler\+::\+Live\+Range\+Connector\+::\+Resolve\+Control\+Flow (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionBlock}{Instruction\+Block}} $\ast$}]{block,  }\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionOperand}{Instruction\+Operand}} \&}]{cur\+\_\+op,  }\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionBlock}{Instruction\+Block}} $\ast$}]{pred,  }\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionOperand}{Instruction\+Operand}} \&}]{pred\+\_\+op }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 5021 of file register-\/allocator.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{5024                                                                               \{}
\DoxyCodeLine{5025   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!pred\_op.Equals(cur\_op));}
\DoxyCodeLine{5026   \textcolor{keywordtype}{int} gap\_index;}
\DoxyCodeLine{5027   \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Instruction_ac16ebb6b4b65e5787eebc6ddeb3ed53a}{Instruction::GapPosition}} position;}
\DoxyCodeLine{5028   \textcolor{keywordflow}{if} (block-\/>PredecessorCount() == 1) \{}
\DoxyCodeLine{5029     gap\_index = block-\/>first\_instruction\_index();}
\DoxyCodeLine{5030     position = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Instruction_ac16ebb6b4b65e5787eebc6ddeb3ed53aa8c9ab8994753986fef8c266fa05355cd}{Instruction::START}};}
\DoxyCodeLine{5031   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{5032     Instruction* last = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a8e5c605927b9da4e4e66bfeddebd7b81}{code}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionSequence_aa22bf34954aefdb2a4e0af0f7061dd56}{InstructionAt}}(pred-\/>last\_instruction\_index());}
\DoxyCodeLine{5033     \textcolor{comment}{// The connecting move might invalidate uses of the destination operand in}}
\DoxyCodeLine{5034     \textcolor{comment}{// the deoptimization call. See crbug.com/v8/12218. Omitting the move is}}
\DoxyCodeLine{5035     \textcolor{comment}{// safe since the deopt call exits the current code.}}
\DoxyCodeLine{5036     \textcolor{keywordflow}{if} (last-\/>IsDeoptimizeCall()) \{}
\DoxyCodeLine{5037       \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{5038     \}}
\DoxyCodeLine{5039     \textcolor{comment}{// In every other case the last instruction should not participate in}}
\DoxyCodeLine{5040     \textcolor{comment}{// register allocation, or it could interfere with the connecting move.}}
\DoxyCodeLine{5041     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < last-\/>InputCount(); ++\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}) \{}
\DoxyCodeLine{5042       \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(last-\/>InputAt(\mbox{\hyperlink{namespacev8_1_1internal}{i}})-\/>IsImmediate());}
\DoxyCodeLine{5043     \}}
\DoxyCodeLine{5044     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(1, pred-\/>SuccessorCount());}
\DoxyCodeLine{5045     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a8e5c605927b9da4e4e66bfeddebd7b81}{code}}()}
\DoxyCodeLine{5046                 -\/>InstructionAt(pred-\/>last\_instruction\_index())}
\DoxyCodeLine{5047                 -\/>HasReferenceMap());}
\DoxyCodeLine{5048     gap\_index = pred-\/>last\_instruction\_index();}
\DoxyCodeLine{5049     position = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Instruction_ac16ebb6b4b65e5787eebc6ddeb3ed53aaea7623d8cb2122c5bba8917cb1287f3b}{Instruction::END}};}
\DoxyCodeLine{5050   \}}
\DoxyCodeLine{5051   \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_afba6cbe501cc6551dfb3800e38a220da}{data}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData_a64b0910107365e638623261ee2910b04}{AddGapMove}}(gap\_index, position, pred\_op, cur\_op);}
\DoxyCodeLine{5052   \textcolor{keywordflow}{return} gap\_index;}
\DoxyCodeLine{5053 \}}

\end{DoxyCode}


References v8\+::internal\+::compiler\+::\+Register\+Allocation\+Data\+::\+Add\+Gap\+Move(), code(), data(), v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+EQ, v8\+::internal\+::compiler\+::\+Instruction\+::\+END, v8\+::internal\+::compiler\+::\+Instruction\+Operand\+::\+Equals(), v8\+::internal\+::compiler\+::\+Instruction\+Block\+::first\+\_\+instruction\+\_\+index(), v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::i, v8\+::internal\+::compiler\+::\+Instruction\+::\+Input\+At(), v8\+::internal\+::compiler\+::\+Instruction\+::\+Input\+Count(), v8\+::internal\+::compiler\+::\+Instruction\+Sequence\+::\+Instruction\+At(), v8\+::internal\+::compiler\+::\+Instruction\+::\+Is\+Deoptimize\+Call(), v8\+::internal\+::compiler\+::\+Instruction\+Block\+::last\+\_\+instruction\+\_\+index(), v8\+::internal\+::compiler\+::\+Instruction\+Block\+::\+Predecessor\+Count(), v8\+::internal\+::compiler\+::\+Instruction\+::\+START, and v8\+::internal\+::compiler\+::\+Instruction\+Block\+::\+Successor\+Count().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_acc9f5b5e8193608eb8b634b8c567f76c_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a86f4fccf715c6230a3e0ceb373f60776}\label{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a86f4fccf715c6230a3e0ceb373f60776}} 
\index{v8::internal::compiler::LiveRangeConnector@{v8::internal::compiler::LiveRangeConnector}!ResolveControlFlow@{ResolveControlFlow}}
\index{ResolveControlFlow@{ResolveControlFlow}!v8::internal::compiler::LiveRangeConnector@{v8::internal::compiler::LiveRangeConnector}}
\doxysubsubsection{\texorpdfstring{ResolveControlFlow()}{ResolveControlFlow()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void v8\+::internal\+::compiler\+::\+Live\+Range\+Connector\+::\+Resolve\+Control\+Flow (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}} $\ast$}]{local\+\_\+zone }\end{DoxyParamCaption})}



Definition at line 4913 of file register-\/allocator.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4913                                                             \{}
\DoxyCodeLine{4914   ZoneVector<SparseBitVector*>\& live\_in\_sets = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_afba6cbe501cc6551dfb3800e38a220da}{data}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData_a2f8540d31453bc3fb5939396be9a2a49}{live\_in\_sets}}();}
\DoxyCodeLine{4915   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} InstructionBlock* block : \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a8e5c605927b9da4e4e66bfeddebd7b81}{code}}()-\/>instruction\_blocks()) \{}
\DoxyCodeLine{4916     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a4227c9142f7c79b5979a4ff2ea80e689}{CanEagerlyResolveControlFlow}}(block)) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{4917     SparseBitVector* live = live\_in\_sets[block-\/>rpo\_number().ToInt()];}
\DoxyCodeLine{4918     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} vreg : *live) \{}
\DoxyCodeLine{4919       \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_afba6cbe501cc6551dfb3800e38a220da}{data}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData_a2855322291fd8fb6b75704b0020e9889}{tick\_counter}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1TickCounter_a381d61714a1f0ec47afea6b5f3bacb22}{TickAndMaybeEnterSafepoint}}();}
\DoxyCodeLine{4920       TopLevelLiveRange* live\_range = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_afba6cbe501cc6551dfb3800e38a220da}{data}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData_afc8a4b3c66832eb2ee286f35aa13b963}{live\_ranges}}()[vreg];}
\DoxyCodeLine{4921       LifetimePosition cur\_start = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LifetimePosition_a99d5d744a757b2795d0fc42a315406a9}{LifetimePosition::GapFromInstructionIndex}}(}
\DoxyCodeLine{4922           block-\/>first\_instruction\_index());}
\DoxyCodeLine{4923       LiveRange* cur\_range = live\_range-\/>GetChildCovers(cur\_start);}
\DoxyCodeLine{4924       \mbox{\hyperlink{src_2base_2logging_8h_a7b9f9517fedacc2a1a56c2bbb9d03688}{DCHECK\_NOT\_NULL}}(cur\_range);}
\DoxyCodeLine{4925       \textcolor{keywordflow}{if} (cur\_range-\/>spilled()) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{4926 }
\DoxyCodeLine{4927       \textcolor{keywordflow}{for} (\textcolor{keyword}{const} RpoNumber\& pred : block-\/>predecessors()) \{}
\DoxyCodeLine{4928         \textcolor{comment}{// Find ranges that may need to be connected.}}
\DoxyCodeLine{4929         \textcolor{keyword}{const} InstructionBlock* pred\_block = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a8e5c605927b9da4e4e66bfeddebd7b81}{code}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionSequence_a9c3aecd79b289855c043cc27c2749b35}{InstructionBlockAt}}(pred);}
\DoxyCodeLine{4930         LifetimePosition pred\_end =}
\DoxyCodeLine{4931             \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LifetimePosition_a32d9eb60b66b5eddb94c8a8bd69a877c}{LifetimePosition::InstructionFromInstructionIndex}}(}
\DoxyCodeLine{4932                 pred\_block-\/>last\_instruction\_index());}
\DoxyCodeLine{4933         \textcolor{comment}{// We don't need to perform the O(log n) search if we already know it}}
\DoxyCodeLine{4934         \textcolor{comment}{// will be the same range.}}
\DoxyCodeLine{4935         \textcolor{keywordflow}{if} (cur\_range-\/>CanCover(pred\_end)) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{4936         LiveRange* pred\_range = live\_range-\/>GetChildCovers(pred\_end);}
\DoxyCodeLine{4937         \textcolor{comment}{// This search should always succeed because the `vreg` associated to}}
\DoxyCodeLine{4938         \textcolor{comment}{// this `live\_range` must be live out in all predecessor blocks.}}
\DoxyCodeLine{4939         \mbox{\hyperlink{src_2base_2logging_8h_a7b9f9517fedacc2a1a56c2bbb9d03688}{DCHECK\_NOT\_NULL}}(pred\_range);}
\DoxyCodeLine{4940         \textcolor{comment}{// Since the `cur\_range` did not cover `pred\_end` earlier, the found}}
\DoxyCodeLine{4941         \textcolor{comment}{// `pred\_range` must be different.}}
\DoxyCodeLine{4942         \mbox{\hyperlink{src_2base_2logging_8h_a986dc8f4ec6dcd0644efe205c13f8eb7}{DCHECK\_NE}}(cur\_range, pred\_range);}
\DoxyCodeLine{4943 }
\DoxyCodeLine{4944         InstructionOperand pred\_op = pred\_range-\/>GetAssignedOperand();}
\DoxyCodeLine{4945         InstructionOperand cur\_op = cur\_range-\/>GetAssignedOperand();}
\DoxyCodeLine{4946         \textcolor{keywordflow}{if} (pred\_op.Equals(cur\_op)) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{4947 }
\DoxyCodeLine{4948         \textcolor{keywordflow}{if} (!pred\_op.IsAnyRegister() \&\& cur\_op.IsAnyRegister()) \{}
\DoxyCodeLine{4949           \textcolor{comment}{// We're doing a reload.}}
\DoxyCodeLine{4950           \textcolor{comment}{// We don't need to, if:}}
\DoxyCodeLine{4951           \textcolor{comment}{// 1) there's no register use in this block, and}}
\DoxyCodeLine{4952           \textcolor{comment}{// 2) the range ends before the block does, and}}
\DoxyCodeLine{4953           \textcolor{comment}{// 3) we don't have a successor, or the successor is spilled.}}
\DoxyCodeLine{4954           LifetimePosition block\_start =}
\DoxyCodeLine{4955               \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LifetimePosition_a99d5d744a757b2795d0fc42a315406a9}{LifetimePosition::GapFromInstructionIndex}}(block-\/>code\_start());}
\DoxyCodeLine{4956           LifetimePosition block\_end =}
\DoxyCodeLine{4957               \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LifetimePosition_a99d5d744a757b2795d0fc42a315406a9}{LifetimePosition::GapFromInstructionIndex}}(block-\/>code\_end());}
\DoxyCodeLine{4958           \textcolor{comment}{// Note that this is not the successor if we have control flow!}}
\DoxyCodeLine{4959           \textcolor{comment}{// However, in the following condition, we only refer to it if it}}
\DoxyCodeLine{4960           \textcolor{comment}{// begins in the current block, in which case we can safely declare it}}
\DoxyCodeLine{4961           \textcolor{comment}{// to be the successor.}}
\DoxyCodeLine{4962           \textcolor{keyword}{const} LiveRange* successor = cur\_range-\/>next();}
\DoxyCodeLine{4963           \textcolor{keywordflow}{if} (cur\_range-\/>End() < block\_end \&\&}
\DoxyCodeLine{4964               (successor == \textcolor{keyword}{nullptr} || successor-\/>spilled())) \{}
\DoxyCodeLine{4965             \textcolor{comment}{// verify point 1: no register use. We can go to the end of the}}
\DoxyCodeLine{4966             \textcolor{comment}{// range, since it's all within the block.}}
\DoxyCodeLine{4967 }
\DoxyCodeLine{4968             \textcolor{keywordtype}{bool} uses\_reg = \textcolor{keyword}{false};}
\DoxyCodeLine{4969             \textcolor{keywordflow}{for} (UsePosition* \textcolor{keyword}{const}* use\_pos\_it =}
\DoxyCodeLine{4970                      cur\_range-\/>NextUsePosition(block\_start);}
\DoxyCodeLine{4971                  use\_pos\_it != cur\_range-\/>positions().end(); ++use\_pos\_it) \{}
\DoxyCodeLine{4972               \textcolor{keywordflow}{if} ((*use\_pos\_it)-\/>operand()-\/>IsAnyRegister()) \{}
\DoxyCodeLine{4973                 uses\_reg = \textcolor{keyword}{true};}
\DoxyCodeLine{4974                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{4975               \}}
\DoxyCodeLine{4976             \}}
\DoxyCodeLine{4977             \textcolor{keywordflow}{if} (!uses\_reg) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{4978           \}}
\DoxyCodeLine{4979           \textcolor{keywordflow}{if} (cur\_range-\/>TopLevel()-\/>IsSpilledOnlyInDeferredBlocks(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_afba6cbe501cc6551dfb3800e38a220da}{data}}()) \&\&}
\DoxyCodeLine{4980               pred\_block-\/>IsDeferred()) \{}
\DoxyCodeLine{4981             \textcolor{comment}{// The spill location should be defined in pred\_block, so add}}
\DoxyCodeLine{4982             \textcolor{comment}{// pred\_block to the list of blocks requiring a spill operand.}}
\DoxyCodeLine{4983             \mbox{\hyperlink{namespacev8_1_1internal_a3762add7a183a4d1750c04e5fa1a6d17}{TRACE}}(\textcolor{stringliteral}{"{}Adding B\%d to list of spill blocks for \%d\(\backslash\)n"{}},}
\DoxyCodeLine{4984                   pred\_block-\/>rpo\_number().ToInt(),}
\DoxyCodeLine{4985                   cur\_range-\/>TopLevel()-\/>vreg());}
\DoxyCodeLine{4986             cur\_range-\/>TopLevel()}
\DoxyCodeLine{4987                 -\/>GetListOfBlocksRequiringSpillOperands(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_afba6cbe501cc6551dfb3800e38a220da}{data}}())}
\DoxyCodeLine{4988                 -\/>Add(pred\_block-\/>rpo\_number().ToInt());}
\DoxyCodeLine{4989           \}}
\DoxyCodeLine{4990         \}}
\DoxyCodeLine{4991         \textcolor{keywordtype}{int} move\_loc = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a86f4fccf715c6230a3e0ceb373f60776}{ResolveControlFlow}}(block, cur\_op, pred\_block, pred\_op);}
\DoxyCodeLine{4992         \mbox{\hyperlink{src_2base_2macros_8h_a280b0798f270f4b3f361c9ab64832956}{USE}}(move\_loc);}
\DoxyCodeLine{4993         \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(}
\DoxyCodeLine{4994             cur\_range-\/>TopLevel()-\/>IsSpilledOnlyInDeferredBlocks(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_afba6cbe501cc6551dfb3800e38a220da}{data}}()) \&\&}
\DoxyCodeLine{4995                 !(pred\_op.IsAnyRegister() \&\& cur\_op.IsAnyRegister()) \&\&}
\DoxyCodeLine{4996                 move\_loc != -\/1,}
\DoxyCodeLine{4997             \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a8e5c605927b9da4e4e66bfeddebd7b81}{code}}()-\/>\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02register-allocator_8cc_03_aa42ccf01201b3daa51cd0699352d8991}{GetInstructionBlock}}(move\_loc)-\/>\mbox{\hyperlink{namespacev8_1_1internal_1_1torque_a992eed0ce9e8f4b2bc810b56e48dfc6f}{IsDeferred}}());}
\DoxyCodeLine{4998       \}}
\DoxyCodeLine{4999     \}}
\DoxyCodeLine{5000   \}}
\DoxyCodeLine{5001 }
\DoxyCodeLine{5002   \textcolor{comment}{// At this stage, we collected blocks needing a spill operand due to reloads}}
\DoxyCodeLine{5003   \textcolor{comment}{// from ConnectRanges and from ResolveControlFlow. Time to commit the spills}}
\DoxyCodeLine{5004   \textcolor{comment}{// for deferred blocks. This is a convenient time to commit spills for general}}
\DoxyCodeLine{5005   \textcolor{comment}{// spill ranges also, because they need to use the LiveRangeFinder.}}
\DoxyCodeLine{5006   \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} live\_ranges\_size = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_afba6cbe501cc6551dfb3800e38a220da}{data}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData_afc8a4b3c66832eb2ee286f35aa13b963}{live\_ranges}}().size();}
\DoxyCodeLine{5007   SpillPlacer spill\_placer(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_afba6cbe501cc6551dfb3800e38a220da}{data}}(), local\_zone);}
\DoxyCodeLine{5008   \textcolor{keywordflow}{for} (TopLevelLiveRange* top : \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_afba6cbe501cc6551dfb3800e38a220da}{data}}()-\/>live\_ranges()) \{}
\DoxyCodeLine{5009     \mbox{\hyperlink{src_2base_2logging_8h_aca32614b4d2aea7dd9abdeb222bf02f3}{CHECK\_EQ}}(live\_ranges\_size,}
\DoxyCodeLine{5010              \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_afba6cbe501cc6551dfb3800e38a220da}{data}}()-\/>live\_ranges().\mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}());  \textcolor{comment}{// TODO(neis): crbug.com/831822}}
\DoxyCodeLine{5011     \mbox{\hyperlink{src_2base_2logging_8h_a7b9f9517fedacc2a1a56c2bbb9d03688}{DCHECK\_NOT\_NULL}}(top);}
\DoxyCodeLine{5012     \textcolor{keywordflow}{if} (top-\/>IsEmpty()) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{5013     \textcolor{keywordflow}{if} (top-\/>IsSpilledOnlyInDeferredBlocks(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_afba6cbe501cc6551dfb3800e38a220da}{data}}())) \{}
\DoxyCodeLine{5014       \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_afaebc67111f0c9674525a320306dd50b}{CommitSpillsInDeferredBlocks}}(top, local\_zone);}
\DoxyCodeLine{5015     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (top-\/>HasGeneralSpillRange()) \{}
\DoxyCodeLine{5016       spill\_placer.Add(top);}
\DoxyCodeLine{5017     \}}
\DoxyCodeLine{5018   \}}
\DoxyCodeLine{5019 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Sparse\+Bit\+Vector\+::\+Add(), v8\+::internal\+::compiler\+::\+Spill\+Placer\+::\+Add(), v8\+::internal\+::compiler\+::\+Live\+Range\+::\+Can\+Cover(), Can\+Eagerly\+Resolve\+Control\+Flow(), CHECK\+\_\+\+EQ, code(), Commit\+Spills\+In\+Deferred\+Blocks(), data(), DCHECK\+\_\+\+IMPLIES, DCHECK\+\_\+\+NE, DCHECK\+\_\+\+NOT\+\_\+\+NULL, v8\+::internal\+::compiler\+::\+Live\+Range\+::\+End(), v8\+::internal\+::compiler\+::\+Instruction\+Operand\+::\+Equals(), v8\+::internal\+::compiler\+::\+Lifetime\+Position\+::\+Gap\+From\+Instruction\+Index(), v8\+::internal\+::compiler\+::\+Live\+Range\+::\+Get\+Assigned\+Operand(), v8\+::internal\+::compiler\+::\+Top\+Level\+Live\+Range\+::\+Get\+Child\+Covers(), v8\+::internal\+::compiler\+::anonymous\+\_\+namespace\{register-\/allocator.\+cc\}\+::\+Get\+Instruction\+Block(), v8\+::internal\+::compiler\+::\+Top\+Level\+Live\+Range\+::\+Get\+List\+Of\+Blocks\+Requiring\+Spill\+Operands(), v8\+::internal\+::compiler\+::\+Instruction\+Sequence\+::\+Instruction\+Block\+At(), v8\+::internal\+::compiler\+::\+Lifetime\+Position\+::\+Instruction\+From\+Instruction\+Index(), v8\+::internal\+::compiler\+::\+Instruction\+Operand\+::\+Is\+Any\+Register(), v8\+::internal\+::compiler\+::\+Instruction\+Block\+::\+Is\+Deferred(), v8\+::internal\+::torque\+::\+Is\+Deferred(), v8\+::internal\+::compiler\+::\+Top\+Level\+Live\+Range\+::\+Is\+Spilled\+Only\+In\+Deferred\+Blocks(), v8\+::internal\+::compiler\+::\+Instruction\+Block\+::last\+\_\+instruction\+\_\+index(), v8\+::internal\+::compiler\+::\+Register\+Allocation\+Data\+::live\+\_\+in\+\_\+sets(), v8\+::internal\+::compiler\+::\+Register\+Allocation\+Data\+::live\+\_\+ranges(), v8\+::internal\+::compiler\+::\+Live\+Range\+::next(), v8\+::internal\+::compiler\+::\+Live\+Range\+::\+Next\+Use\+Position(), v8\+::internal\+::compiler\+::\+Live\+Range\+::positions(), v8\+::internal\+::compiler\+::\+Instruction\+Block\+::rpo\+\_\+number(), size(), v8\+::internal\+::compiler\+::\+Live\+Range\+::spilled(), v8\+::internal\+::compiler\+::\+Register\+Allocation\+Data\+::tick\+\_\+counter(), v8\+::internal\+::\+Tick\+Counter\+::\+Tick\+And\+Maybe\+Enter\+Safepoint(), v8\+::internal\+::compiler\+::\+Rpo\+Number\+::\+To\+Int(), v8\+::internal\+::compiler\+::\+Live\+Range\+::\+Top\+Level(), v8\+::internal\+::\+TRACE(), USE, and v8\+::internal\+::compiler\+::\+Top\+Level\+Live\+Range\+::vreg().



Referenced by v8\+::internal\+::compiler\+::turboshaft\+::\+Resolve\+Control\+Flow\+Phase\+::\+Run().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a86f4fccf715c6230a3e0ceb373f60776_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a86f4fccf715c6230a3e0ceb373f60776_icgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a0d4fb72a725e46dd1c56cb0dc01ace2a}\label{classv8_1_1internal_1_1compiler_1_1LiveRangeConnector_a0d4fb72a725e46dd1c56cb0dc01ace2a}} 
\index{v8::internal::compiler::LiveRangeConnector@{v8::internal::compiler::LiveRangeConnector}!data\_@{data\_}}
\index{data\_@{data\_}!v8::internal::compiler::LiveRangeConnector@{v8::internal::compiler::LiveRangeConnector}}
\doxysubsubsection{\texorpdfstring{data\_}{data\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData}{Register\+Allocation\+Data}}$\ast$ const v8\+::internal\+::compiler\+::\+Live\+Range\+Connector\+::data\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1771 of file register-\/allocator.\+h.



Referenced by data().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/compiler/backend/\mbox{\hyperlink{register-allocator_8h}{register-\/allocator.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/compiler/backend/\mbox{\hyperlink{register-allocator_8cc}{register-\/allocator.\+cc}}\end{DoxyCompactItemize}
