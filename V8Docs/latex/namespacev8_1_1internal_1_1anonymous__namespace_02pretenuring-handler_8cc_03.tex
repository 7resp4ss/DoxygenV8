\hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02pretenuring-handler_8cc_03}{}\doxysection{v8\+::internal\+::anonymous\+\_\+namespace\{pretenuring-\/handler.cc\} Namespace Reference}
\label{namespacev8_1_1internal_1_1anonymous__namespace_02pretenuring-handler_8cc_03}\index{v8::internal::anonymous\_namespace\lcurly{}pretenuring-\/handler.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}pretenuring-\/handler.cc\rcurly{}}}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
double \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02pretenuring-handler_8cc_03_a964be9530ee6fe050cc9ed8a499e4d6e}{Get\+Pretenuring\+Ratio\+Threshold}} (\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} new\+\_\+space\+\_\+capacity)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02pretenuring-handler_8cc_03_a6b7b57c0c5a8d4423a29a3b60526377a}{Make\+Pretenure\+Decision}} (\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1AllocationSite}{Allocation\+Site}} $>$ site, \mbox{\hyperlink{classv8_1_1internal_1_1AllocationSite_a90e0736002b73f20d96abede63a5395b}{Allocation\+Site\+::\+Pretenure\+Decision}} current\+\_\+decision, double ratio, \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} new\+\_\+space\+\_\+capacity\+\_\+was\+\_\+above\+\_\+pretenuring\+\_\+threshold, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} new\+\_\+space\+\_\+capacity)
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02pretenuring-handler_8cc_03_addc6264df8e745691a03c63cab735ff4}{Reset\+Pretenuring\+Feedback}} (\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1AllocationSite}{Allocation\+Site}} $>$ site)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02pretenuring-handler_8cc_03_af3c2fcc875e84c3b1998ac896eec4ca8}{Digest\+Pretenuring\+Feedback}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1AllocationSite}{Allocation\+Site}} $>$ site, \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} new\+\_\+space\+\_\+capacity\+\_\+was\+\_\+above\+\_\+pretenuring\+\_\+threshold, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} new\+\_\+space\+\_\+capacity)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02pretenuring-handler_8cc_03_a9750d30db138bca0b35729e132746103}{Pretenure\+Allocation\+Site\+Manually}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1AllocationSite}{Allocation\+Site}} $>$ site)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static constexpr \mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02pretenuring-handler_8cc_03_a1cbb4e9cc878fbfc4511ee6e92146009}{k\+Min\+Memento\+Count}} = 100
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02pretenuring-handler_8cc_03_af3c2fcc875e84c3b1998ac896eec4ca8}\label{namespacev8_1_1internal_1_1anonymous__namespace_02pretenuring-handler_8cc_03_af3c2fcc875e84c3b1998ac896eec4ca8}} 
\index{v8::internal::anonymous\_namespace\lcurly{}pretenuring-\/handler.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}pretenuring-\/handler.cc\rcurly{}}!DigestPretenuringFeedback@{DigestPretenuringFeedback}}
\index{DigestPretenuringFeedback@{DigestPretenuringFeedback}!v8::internal::anonymous\_namespace\lcurly{}pretenuring-\/handler.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}pretenuring-\/handler.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{DigestPretenuringFeedback()}{DigestPretenuringFeedback()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::anonymous\+\_\+namespace\{pretenuring-\/handler.\+cc\}\+::Digest\+Pretenuring\+Feedback (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1AllocationSite}{Allocation\+Site}} $>$}]{site,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}}}]{new\+\_\+space\+\_\+capacity\+\_\+was\+\_\+above\+\_\+pretenuring\+\_\+threshold,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{new\+\_\+space\+\_\+capacity }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 74 of file pretenuring-\/handler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{77                                \{}
\DoxyCodeLine{78   \textcolor{keywordtype}{bool} deopt = \textcolor{keyword}{false};}
\DoxyCodeLine{79   \textcolor{keywordtype}{int} create\_count = site-\/>memento\_create\_count();}
\DoxyCodeLine{80   \textcolor{keywordtype}{int} found\_count = site-\/>memento\_found\_count();}
\DoxyCodeLine{81   \textcolor{keywordtype}{bool} minimum\_mementos\_created = create\_count >= \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02pretenuring-handler_8cc_03_a1cbb4e9cc878fbfc4511ee6e92146009}{kMinMementoCount}};}
\DoxyCodeLine{82   \textcolor{keywordtype}{double} ratio =}
\DoxyCodeLine{83       minimum\_mementos\_created || \mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_pretenuring\_statistics}
\DoxyCodeLine{84           ? \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(found\_count) / create\_count}
\DoxyCodeLine{85           : 0.0;}
\DoxyCodeLine{86   AllocationSite::PretenureDecision current\_decision =}
\DoxyCodeLine{87       site-\/>pretenure\_decision();}
\DoxyCodeLine{88 }
\DoxyCodeLine{89   \textcolor{keywordflow}{if} (minimum\_mementos\_created) \{}
\DoxyCodeLine{90     deopt = \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02pretenuring-handler_8cc_03_a6b7b57c0c5a8d4423a29a3b60526377a}{MakePretenureDecision}}(}
\DoxyCodeLine{91         site, current\_decision, ratio,}
\DoxyCodeLine{92         new\_space\_capacity\_was\_above\_pretenuring\_threshold, new\_space\_capacity);}
\DoxyCodeLine{93   \}}
\DoxyCodeLine{94 }
\DoxyCodeLine{95   \textcolor{keywordflow}{if} (\mbox{\hyperlink{v8config_8h_a67bd29db07c711b0fb11ff1c324ebb60}{V8\_UNLIKELY}}(\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_pretenuring\_statistics)) \{}
\DoxyCodeLine{96     \mbox{\hyperlink{namespacev8_1_1internal_ada9f491dce0173d9e92b0dfaeaf8b64c}{PrintIsolate}}(isolate,}
\DoxyCodeLine{97                  \textcolor{stringliteral}{"{}pretenuring: AllocationSite(\%p): (created, found, ratio) "{}}}
\DoxyCodeLine{98                  \textcolor{stringliteral}{"{}(\%d, \%d, \%f) \%s => \%s\(\backslash\)n"{}},}
\DoxyCodeLine{99                  \textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{void}*\textcolor{keyword}{>}(site.\mbox{\hyperlink{classv8_1_1internal_1_1TaggedImpl_a4dba1b2eafcf7a414910966f950540c9}{ptr}}()), create\_count, found\_count,}
\DoxyCodeLine{100                  ratio, site-\/>PretenureDecisionName(current\_decision),}
\DoxyCodeLine{101                  site-\/>PretenureDecisionName(site-\/>pretenure\_decision()));}
\DoxyCodeLine{102   \}}
\DoxyCodeLine{103 }
\DoxyCodeLine{104   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02pretenuring-handler_8cc_03_addc6264df8e745691a03c63cab735ff4}{ResetPretenuringFeedback}}(site);}
\DoxyCodeLine{105   \textcolor{keywordflow}{return} deopt;}
\DoxyCodeLine{106 \}}

\end{DoxyCode}


References k\+Min\+Memento\+Count, Make\+Pretenure\+Decision(), v8\+::internal\+::\+Print\+Isolate(), v8\+::internal\+::\+Tagged\+Impl$<$ k\+Ref\+Type, Storage\+Type $>$\+::ptr(), Reset\+Pretenuring\+Feedback(), v8\+::internal\+::v8\+\_\+flags, and V8\+\_\+\+UNLIKELY.



Referenced by v8\+::internal\+::\+Pretenuring\+Handler\+::\+Process\+Pretenuring\+Feedback().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02pretenuring-handler_8cc_03_af3c2fcc875e84c3b1998ac896eec4ca8_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02pretenuring-handler_8cc_03_af3c2fcc875e84c3b1998ac896eec4ca8_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02pretenuring-handler_8cc_03_a964be9530ee6fe050cc9ed8a499e4d6e}\label{namespacev8_1_1internal_1_1anonymous__namespace_02pretenuring-handler_8cc_03_a964be9530ee6fe050cc9ed8a499e4d6e}} 
\index{v8::internal::anonymous\_namespace\lcurly{}pretenuring-\/handler.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}pretenuring-\/handler.cc\rcurly{}}!GetPretenuringRatioThreshold@{GetPretenuringRatioThreshold}}
\index{GetPretenuringRatioThreshold@{GetPretenuringRatioThreshold}!v8::internal::anonymous\_namespace\lcurly{}pretenuring-\/handler.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}pretenuring-\/handler.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{GetPretenuringRatioThreshold()}{GetPretenuringRatioThreshold()}}
{\footnotesize\ttfamily double v8\+::internal\+::anonymous\+\_\+namespace\{pretenuring-\/handler.\+cc\}\+::Get\+Pretenuring\+Ratio\+Threshold (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{new\+\_\+space\+\_\+capacity }\end{DoxyParamCaption})}



Definition at line 28 of file pretenuring-\/handler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{28                                                                \{}
\DoxyCodeLine{29   \textcolor{keyword}{static} constexpr \textcolor{keywordtype}{double} kScavengerPretenureRatio = 0.85;}
\DoxyCodeLine{30   \textcolor{comment}{// MinorMS allows for a much larger new space, thus we require a lower}}
\DoxyCodeLine{31   \textcolor{comment}{// survival rate for pretenuring.}}
\DoxyCodeLine{32   \textcolor{keyword}{static} constexpr \textcolor{keywordtype}{double} kMinorMSPretenureMaxRatio = 0.8;}
\DoxyCodeLine{33   \textcolor{keyword}{static} constexpr \textcolor{keywordtype}{double} kMinorMSMinCapacity = 16 * \mbox{\hyperlink{flag-definitions_8h_a67f6e75911a1c9e16076ff4db599e681}{MB}};}
\DoxyCodeLine{34   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.minor\_ms) \textcolor{keywordflow}{return} kScavengerPretenureRatio;}
\DoxyCodeLine{35   \textcolor{keywordflow}{if} (new\_space\_capacity <= kMinorMSMinCapacity)}
\DoxyCodeLine{36     \textcolor{keywordflow}{return} kMinorMSPretenureMaxRatio;}
\DoxyCodeLine{37   \textcolor{comment}{// When capacity is 64MB, the pretenuring ratio would be 0.2.}}
\DoxyCodeLine{38   \textcolor{keywordflow}{return} kMinorMSPretenureMaxRatio * kMinorMSMinCapacity / new\_space\_capacity;}
\DoxyCodeLine{39 \}}

\end{DoxyCode}


References v8\+::internal\+::\+MB, and v8\+::internal\+::v8\+\_\+flags.



Referenced by Make\+Pretenure\+Decision(), and v8\+::internal\+::\+Pretenuring\+Handler\+::\+Process\+Pretenuring\+Feedback().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02pretenuring-handler_8cc_03_a964be9530ee6fe050cc9ed8a499e4d6e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02pretenuring-handler_8cc_03_a6b7b57c0c5a8d4423a29a3b60526377a}\label{namespacev8_1_1internal_1_1anonymous__namespace_02pretenuring-handler_8cc_03_a6b7b57c0c5a8d4423a29a3b60526377a}} 
\index{v8::internal::anonymous\_namespace\lcurly{}pretenuring-\/handler.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}pretenuring-\/handler.cc\rcurly{}}!MakePretenureDecision@{MakePretenureDecision}}
\index{MakePretenureDecision@{MakePretenureDecision}!v8::internal::anonymous\_namespace\lcurly{}pretenuring-\/handler.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}pretenuring-\/handler.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{MakePretenureDecision()}{MakePretenureDecision()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::anonymous\+\_\+namespace\{pretenuring-\/handler.\+cc\}\+::Make\+Pretenure\+Decision (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1AllocationSite}{Allocation\+Site}} $>$}]{site,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1AllocationSite_a90e0736002b73f20d96abede63a5395b}{Allocation\+Site\+::\+Pretenure\+Decision}}}]{current\+\_\+decision,  }\item[{double}]{ratio,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}}}]{new\+\_\+space\+\_\+capacity\+\_\+was\+\_\+above\+\_\+pretenuring\+\_\+threshold,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{new\+\_\+space\+\_\+capacity }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 41 of file pretenuring-\/handler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{45                                \{}
\DoxyCodeLine{46   \textcolor{comment}{// Here we just allow state transitions from undecided or maybe tenure}}
\DoxyCodeLine{47   \textcolor{comment}{// to don't tenure, maybe tenure, or tenure.}}
\DoxyCodeLine{48   \textcolor{keywordflow}{if} ((current\_decision == AllocationSite::kUndecided ||}
\DoxyCodeLine{49        current\_decision == AllocationSite::kMaybeTenure)) \{}
\DoxyCodeLine{50     \textcolor{keywordflow}{if} (ratio >= \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02pretenuring-handler_8cc_03_a964be9530ee6fe050cc9ed8a499e4d6e}{GetPretenuringRatioThreshold}}(new\_space\_capacity)) \{}
\DoxyCodeLine{51       \textcolor{comment}{// We just transition into tenure state when the semi-\/space was at}}
\DoxyCodeLine{52       \textcolor{comment}{// maximum capacity.}}
\DoxyCodeLine{53       \textcolor{keywordflow}{if} (new\_space\_capacity\_was\_above\_pretenuring\_threshold) \{}
\DoxyCodeLine{54         site-\/>set\_deopt\_dependent\_code(\textcolor{keyword}{true});}
\DoxyCodeLine{55         site-\/>set\_pretenure\_decision(AllocationSite::kTenure);}
\DoxyCodeLine{56         \textcolor{comment}{// Currently we just need to deopt when we make a state transition to}}
\DoxyCodeLine{57         \textcolor{comment}{// tenure.}}
\DoxyCodeLine{58         \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{59       \}}
\DoxyCodeLine{60       site-\/>set\_pretenure\_decision(AllocationSite::kMaybeTenure);}
\DoxyCodeLine{61     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{62       site-\/>set\_pretenure\_decision(AllocationSite::kDontTenure);}
\DoxyCodeLine{63     \}}
\DoxyCodeLine{64   \}}
\DoxyCodeLine{65   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{66 \}}

\end{DoxyCode}


References Get\+Pretenuring\+Ratio\+Threshold(), v8\+::internal\+::\+Allocation\+Site\+::k\+Dont\+Tenure, v8\+::internal\+::\+Allocation\+Site\+::k\+Maybe\+Tenure, v8\+::internal\+::\+Allocation\+Site\+::k\+Tenure, and v8\+::internal\+::\+Allocation\+Site\+::k\+Undecided.



Referenced by Digest\+Pretenuring\+Feedback().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02pretenuring-handler_8cc_03_a6b7b57c0c5a8d4423a29a3b60526377a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02pretenuring-handler_8cc_03_a6b7b57c0c5a8d4423a29a3b60526377a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02pretenuring-handler_8cc_03_a9750d30db138bca0b35729e132746103}\label{namespacev8_1_1internal_1_1anonymous__namespace_02pretenuring-handler_8cc_03_a9750d30db138bca0b35729e132746103}} 
\index{v8::internal::anonymous\_namespace\lcurly{}pretenuring-\/handler.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}pretenuring-\/handler.cc\rcurly{}}!PretenureAllocationSiteManually@{PretenureAllocationSiteManually}}
\index{PretenureAllocationSiteManually@{PretenureAllocationSiteManually}!v8::internal::anonymous\_namespace\lcurly{}pretenuring-\/handler.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}pretenuring-\/handler.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{PretenureAllocationSiteManually()}{PretenureAllocationSiteManually()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::anonymous\+\_\+namespace\{pretenuring-\/handler.\+cc\}\+::Pretenure\+Allocation\+Site\+Manually (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1AllocationSite}{Allocation\+Site}} $>$}]{site }\end{DoxyParamCaption})}



Definition at line 108 of file pretenuring-\/handler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{109                                                                   \{}
\DoxyCodeLine{110   AllocationSite::PretenureDecision current\_decision =}
\DoxyCodeLine{111       site-\/>pretenure\_decision();}
\DoxyCodeLine{112   \textcolor{keywordtype}{bool} deopt = \textcolor{keyword}{true};}
\DoxyCodeLine{113   \textcolor{keywordflow}{if} (current\_decision == AllocationSite::kUndecided ||}
\DoxyCodeLine{114       current\_decision == AllocationSite::kMaybeTenure) \{}
\DoxyCodeLine{115     site-\/>set\_deopt\_dependent\_code(\textcolor{keyword}{true});}
\DoxyCodeLine{116     site-\/>set\_pretenure\_decision(AllocationSite::kTenure);}
\DoxyCodeLine{117   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{118     deopt = \textcolor{keyword}{false};}
\DoxyCodeLine{119   \}}
\DoxyCodeLine{120   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_pretenuring\_statistics) \{}
\DoxyCodeLine{121     \mbox{\hyperlink{namespacev8_1_1internal_ada9f491dce0173d9e92b0dfaeaf8b64c}{PrintIsolate}}(isolate,}
\DoxyCodeLine{122                  \textcolor{stringliteral}{"{}pretenuring manually requested: AllocationSite(\%p): "{}}}
\DoxyCodeLine{123                  \textcolor{stringliteral}{"{}\%s => \%s\(\backslash\)n"{}},}
\DoxyCodeLine{124                  \textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{void}*\textcolor{keyword}{>}(site.\mbox{\hyperlink{classv8_1_1internal_1_1TaggedImpl_a4dba1b2eafcf7a414910966f950540c9}{ptr}}()),}
\DoxyCodeLine{125                  site-\/>PretenureDecisionName(current\_decision),}
\DoxyCodeLine{126                  site-\/>PretenureDecisionName(site-\/>pretenure\_decision()));}
\DoxyCodeLine{127   \}}
\DoxyCodeLine{128 }
\DoxyCodeLine{129   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02pretenuring-handler_8cc_03_addc6264df8e745691a03c63cab735ff4}{ResetPretenuringFeedback}}(site);}
\DoxyCodeLine{130   \textcolor{keywordflow}{return} deopt;}
\DoxyCodeLine{131 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Allocation\+Site\+::k\+Maybe\+Tenure, v8\+::internal\+::\+Allocation\+Site\+::k\+Tenure, v8\+::internal\+::\+Allocation\+Site\+::k\+Undecided, v8\+::internal\+::\+Print\+Isolate(), v8\+::internal\+::\+Tagged\+Impl$<$ k\+Ref\+Type, Storage\+Type $>$\+::ptr(), Reset\+Pretenuring\+Feedback(), and v8\+::internal\+::v8\+\_\+flags.



Referenced by v8\+::internal\+::\+Pretenuring\+Handler\+::\+Process\+Pretenuring\+Feedback().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02pretenuring-handler_8cc_03_a9750d30db138bca0b35729e132746103_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02pretenuring-handler_8cc_03_a9750d30db138bca0b35729e132746103_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02pretenuring-handler_8cc_03_addc6264df8e745691a03c63cab735ff4}\label{namespacev8_1_1internal_1_1anonymous__namespace_02pretenuring-handler_8cc_03_addc6264df8e745691a03c63cab735ff4}} 
\index{v8::internal::anonymous\_namespace\lcurly{}pretenuring-\/handler.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}pretenuring-\/handler.cc\rcurly{}}!ResetPretenuringFeedback@{ResetPretenuringFeedback}}
\index{ResetPretenuringFeedback@{ResetPretenuringFeedback}!v8::internal::anonymous\_namespace\lcurly{}pretenuring-\/handler.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}pretenuring-\/handler.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{ResetPretenuringFeedback()}{ResetPretenuringFeedback()}}
{\footnotesize\ttfamily void v8\+::internal\+::anonymous\+\_\+namespace\{pretenuring-\/handler.\+cc\}\+::Reset\+Pretenuring\+Feedback (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1AllocationSite}{Allocation\+Site}} $>$}]{site }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 69 of file pretenuring-\/handler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{69                                                                   \{}
\DoxyCodeLine{70   site-\/>set\_memento\_found\_count(0);}
\DoxyCodeLine{71   site-\/>set\_memento\_create\_count(0);}
\DoxyCodeLine{72 \}}

\end{DoxyCode}


Referenced by Digest\+Pretenuring\+Feedback(), and Pretenure\+Allocation\+Site\+Manually().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02pretenuring-handler_8cc_03_addc6264df8e745691a03c63cab735ff4_icgraph}
\end{center}
\end{figure}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02pretenuring-handler_8cc_03_a1cbb4e9cc878fbfc4511ee6e92146009}\label{namespacev8_1_1internal_1_1anonymous__namespace_02pretenuring-handler_8cc_03_a1cbb4e9cc878fbfc4511ee6e92146009}} 
\index{v8::internal::anonymous\_namespace\lcurly{}pretenuring-\/handler.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}pretenuring-\/handler.cc\rcurly{}}!kMinMementoCount@{kMinMementoCount}}
\index{kMinMementoCount@{kMinMementoCount}!v8::internal::anonymous\_namespace\lcurly{}pretenuring-\/handler.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}pretenuring-\/handler.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{kMinMementoCount}{kMinMementoCount}}
{\footnotesize\ttfamily constexpr \mbox{\hyperlink{classint}{int}} v8\+::internal\+::anonymous\+\_\+namespace\{pretenuring-\/handler.\+cc\}\+::k\+Min\+Memento\+Count = 100\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}}



Definition at line 26 of file pretenuring-\/handler.\+cc.



Referenced by Digest\+Pretenuring\+Feedback(), v8\+::internal\+::\+Pretenuring\+Handler\+::\+Get\+Min\+Memento\+Count\+For\+Testing(), and v8\+::internal\+::\+Pretenuring\+Handler\+::\+Merge\+Allocation\+Site\+Pretenuring\+Feedback().

