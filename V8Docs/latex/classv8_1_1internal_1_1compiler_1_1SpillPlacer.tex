\hypertarget{classv8_1_1internal_1_1compiler_1_1SpillPlacer}{}\doxysection{v8\+::internal\+::compiler\+::Spill\+Placer Class Reference}
\label{classv8_1_1internal_1_1compiler_1_1SpillPlacer}\index{v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}}


{\ttfamily \#include $<$spill-\/placer.\+h$>$}



Collaboration diagram for v8\+::internal\+::compiler\+::Spill\+Placer\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1SpillPlacer__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_1_1Entry}{Entry}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_abd56d1f141e048fb3092ed0329b3ddef}{Spill\+Placer}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData}{Register\+Allocation\+Data}} $\ast$\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_ae3fb533edab15ea4e53a2bb0315ea4e4}{data}}, \mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}} $\ast$zone)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a39a9ff617deef78a7da014371616a473}{$\sim$\+Spill\+Placer}} ()
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a78dc8009d2fa81f9a671285937807747}{Spill\+Placer}} (const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer}{Spill\+Placer}} \&)=delete
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer}{Spill\+Placer}} \& \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a8ababf94ae7ef2ba5f883837c4bf6a75}{operator=}} (const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer}{Spill\+Placer}} \&)=delete
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a99e2914f8a6e0dcfb8eb331fa0477109}{Add}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1TopLevelLiveRange}{Top\+Level\+Live\+Range}} $\ast$range)
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData}{Register\+Allocation\+Data}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_ae3fb533edab15ea4e53a2bb0315ea4e4}{data}} () const
\item 
\mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a755fd24ba5ee28714613fb7564fe2c4e}{Get\+Or\+Create\+Index\+For\+Latest\+Vreg}} (\mbox{\hyperlink{classint}{int}} vreg)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a28d08f40d5dc488600051ba2ef537284}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a8a8c1e14be71845c00eefa637bd77d04}{Is\+Latest\+Vreg}} (\mbox{\hyperlink{classint}{int}} vreg) const
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_abfae008e66e0d3788a9f42a4134b048c}{Commit\+Spills}} ()
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a45beff97e85386672ed567c82e198df9}{Clear\+Data}} ()
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a3acb9d223b0a0b2c752e5d2a5c1d3923}{Expand\+Bounds\+To\+Include}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RpoNumber}{Rpo\+Number}} block)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a5ddfe78af52bbb2a4b71c88cc8834f3d}{Set\+Spill\+Required}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionBlock}{Instruction\+Block}} $\ast$block, \mbox{\hyperlink{classint}{int}} vreg, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RpoNumber}{Rpo\+Number}} top\+\_\+start\+\_\+block)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a4d67322e8a7417ada32dc6f73bc35231}{Set\+Definition}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RpoNumber}{Rpo\+Number}} block, \mbox{\hyperlink{classint}{int}} vreg)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a32dc9e213d6f21f06c48548778ba9cbf}{First\+Backward\+Pass}} ()
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_aca246c79b124fb282b516f403ed8f6c8}{Forward\+Pass}} ()
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a018999053a4492f4bd236828b85e204b}{Second\+Backward\+Pass}} ()
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a8bf738ea6e1c0bc4fd376b2e517cccfc}{Commit\+Spill}} (\mbox{\hyperlink{classint}{int}} vreg, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionBlock}{Instruction\+Block}} $\ast$predecessor, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionBlock}{Instruction\+Block}} $\ast$successor)
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData}{Register\+Allocation\+Data}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a9ee29748904fdc8c72cc177d02ae9d59}{data\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_af33a2fdc64b10d0daea772496342709f}{zone\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_1_1Entry}{Entry}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a0f2cf6337265e8ed2308331920296b24}{entries\+\_\+}} = \mbox{\hyperlink{flag-definitions_8h_aca14fbede0905858c819226fce3678cc}{nullptr}}
\item 
\mbox{\hyperlink{classint}{int}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a83dd165d999912a5cc2530a1384d293a}{vreg\+\_\+numbers\+\_\+}} = \mbox{\hyperlink{flag-definitions_8h_aca14fbede0905858c819226fce3678cc}{nullptr}}
\item 
\mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_af869af31a0df5687c35ab570e3833f29}{assigned\+\_\+indices\+\_\+}} = 0
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RpoNumber}{Rpo\+Number}} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a96770b611360fa12bf3241a30104be3c}{first\+\_\+block\+\_\+}} = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RpoNumber_a743434cf5bbb839ad8944ac91274ada1}{Rpo\+Number\+::\+Invalid}}()
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RpoNumber}{Rpo\+Number}} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_ae1df3578580ff1c10e2333c35456f160}{last\+\_\+block\+\_\+}} = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RpoNumber_a743434cf5bbb839ad8944ac91274ada1}{Rpo\+Number\+::\+Invalid}}()
\end{DoxyCompactItemize}
\doxysubsection*{Static Private Attributes}
\begin{DoxyCompactItemize}
\item 
static constexpr \mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_af9bce18c5576993d4f72b88b8b8181f6}{k\+Value\+Indices\+Per\+Entry}} = 64
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 76 of file spill-\/placer.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1SpillPlacer_abd56d1f141e048fb3092ed0329b3ddef}\label{classv8_1_1internal_1_1compiler_1_1SpillPlacer_abd56d1f141e048fb3092ed0329b3ddef}} 
\index{v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}!SpillPlacer@{SpillPlacer}}
\index{SpillPlacer@{SpillPlacer}!v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}}
\doxysubsubsection{\texorpdfstring{SpillPlacer()}{SpillPlacer()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily v8\+::internal\+::compiler\+::\+Spill\+Placer\+::\+Spill\+Placer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData}{Register\+Allocation\+Data}} $\ast$}]{data,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}} $\ast$}]{zone }\end{DoxyParamCaption})}



Definition at line 14 of file spill-\/placer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{15     : \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a9ee29748904fdc8c72cc177d02ae9d59}{data\_}}(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_ae3fb533edab15ea4e53a2bb0315ea4e4}{data}}), \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_af33a2fdc64b10d0daea772496342709f}{zone\_}}(zone) \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a39a9ff617deef78a7da014371616a473}\label{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a39a9ff617deef78a7da014371616a473}} 
\index{v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}!````~SpillPlacer@{$\sim$SpillPlacer}}
\index{````~SpillPlacer@{$\sim$SpillPlacer}!v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}}
\doxysubsubsection{\texorpdfstring{$\sim$SpillPlacer()}{~SpillPlacer()}}
{\footnotesize\ttfamily v8\+::internal\+::compiler\+::\+Spill\+Placer\+::$\sim$\+Spill\+Placer (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 17 of file spill-\/placer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{17                           \{}
\DoxyCodeLine{18   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_af869af31a0df5687c35ab570e3833f29}{assigned\_indices\_}} > 0) \{}
\DoxyCodeLine{19     \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_abfae008e66e0d3788a9f42a4134b048c}{CommitSpills}}();}
\DoxyCodeLine{20   \}}
\DoxyCodeLine{21 \}}

\end{DoxyCode}


References assigned\+\_\+indices\+\_\+, and Commit\+Spills().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a39a9ff617deef78a7da014371616a473_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a78dc8009d2fa81f9a671285937807747}\label{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a78dc8009d2fa81f9a671285937807747}} 
\index{v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}!SpillPlacer@{SpillPlacer}}
\index{SpillPlacer@{SpillPlacer}!v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}}
\doxysubsubsection{\texorpdfstring{SpillPlacer()}{SpillPlacer()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily v8\+::internal\+::compiler\+::\+Spill\+Placer\+::\+Spill\+Placer (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer}{Spill\+Placer}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a99e2914f8a6e0dcfb8eb331fa0477109}\label{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a99e2914f8a6e0dcfb8eb331fa0477109}} 
\index{v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}!Add@{Add}}
\index{Add@{Add}!v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}}
\doxysubsubsection{\texorpdfstring{Add()}{Add()}}
{\footnotesize\ttfamily void v8\+::internal\+::compiler\+::\+Spill\+Placer\+::\+Add (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1TopLevelLiveRange}{Top\+Level\+Live\+Range}} $\ast$}]{range }\end{DoxyParamCaption})}



Definition at line 23 of file spill-\/placer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{23                                               \{}
\DoxyCodeLine{24   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(range-\/>HasGeneralSpillRange());}
\DoxyCodeLine{25   InstructionOperand spill\_operand = range-\/>GetSpillRangeOperand();}
\DoxyCodeLine{26   range-\/>FilterSpillMoves(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_ae3fb533edab15ea4e53a2bb0315ea4e4}{data}}(), spill\_operand);}
\DoxyCodeLine{27 }
\DoxyCodeLine{28   InstructionSequence* \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}} = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a9ee29748904fdc8c72cc177d02ae9d59}{data\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData_a1630a04f46aa84989f4b07c24e0ab067}{code}}();}
\DoxyCodeLine{29   InstructionBlock* top\_start\_block =}
\DoxyCodeLine{30       \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>GetInstructionBlock(range-\/>Start().ToInstructionIndex());}
\DoxyCodeLine{31   RpoNumber top\_start\_block\_number = top\_start\_block-\/>rpo\_number();}
\DoxyCodeLine{32 }
\DoxyCodeLine{33   \textcolor{comment}{// Check for several cases where spilling at the definition is best.}}
\DoxyCodeLine{34   \textcolor{comment}{// -\/ The value is already moved on-\/stack somehow so the list of insertion}}
\DoxyCodeLine{35   \textcolor{comment}{//   locations for spilling at the definition is empty.}}
\DoxyCodeLine{36   \textcolor{comment}{// -\/ If the first LiveRange is spilled, then there's no sense in doing}}
\DoxyCodeLine{37   \textcolor{comment}{//   anything other than spilling at the definition.}}
\DoxyCodeLine{38   \textcolor{comment}{// -\/ If the value is defined in a deferred block, then the logic to select}}
\DoxyCodeLine{39   \textcolor{comment}{//   the earliest deferred block as the insertion point would cause}}
\DoxyCodeLine{40   \textcolor{comment}{//   incorrect behavior, so the value must be spilled at the definition.}}
\DoxyCodeLine{41   \textcolor{comment}{// -\/ We haven't seen any indication of performance improvements from seeking}}
\DoxyCodeLine{42   \textcolor{comment}{//   optimal spilling positions except on loop-\/top phi values, so spill}}
\DoxyCodeLine{43   \textcolor{comment}{//   any value that isn't a loop-\/top phi at the definition to avoid}}
\DoxyCodeLine{44   \textcolor{comment}{//   increasing the code size for no benefit.}}
\DoxyCodeLine{45   \textcolor{keywordflow}{if} (range-\/>GetSpillMoveInsertionLocations(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_ae3fb533edab15ea4e53a2bb0315ea4e4}{data}}()) == \textcolor{keyword}{nullptr} ||}
\DoxyCodeLine{46       range-\/>spilled() || top\_start\_block-\/>IsDeferred() ||}
\DoxyCodeLine{47       (!\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.stress\_turbo\_late\_spilling \&\& !range-\/>is\_loop\_phi())) \{}
\DoxyCodeLine{48     range-\/>CommitSpillMoves(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_ae3fb533edab15ea4e53a2bb0315ea4e4}{data}}(), spill\_operand);}
\DoxyCodeLine{49     \textcolor{keywordflow}{return};}
\DoxyCodeLine{50   \}}
\DoxyCodeLine{51 }
\DoxyCodeLine{52   \textcolor{comment}{// Iterate through the range and mark every block that needs the value to be}}
\DoxyCodeLine{53   \textcolor{comment}{// spilled.}}
\DoxyCodeLine{54   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} LiveRange* child = range; child != \textcolor{keyword}{nullptr};}
\DoxyCodeLine{55        child = child-\/>next()) \{}
\DoxyCodeLine{56     \textcolor{keywordflow}{if} (child-\/>spilled()) \{}
\DoxyCodeLine{57       \textcolor{comment}{// Add every block that contains part of this live range.}}
\DoxyCodeLine{58       \textcolor{keywordflow}{for} (\textcolor{keyword}{const} UseInterval\& interval : child-\/>intervals()) \{}
\DoxyCodeLine{59         RpoNumber start\_block =}
\DoxyCodeLine{60             \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>GetInstructionBlock(interval.start().ToInstructionIndex())}
\DoxyCodeLine{61                 -\/>rpo\_number();}
\DoxyCodeLine{62         \textcolor{keywordflow}{if} (start\_block == top\_start\_block\_number) \{}
\DoxyCodeLine{63           \textcolor{comment}{// Can't do late spilling if the first spill is within the}}
\DoxyCodeLine{64           \textcolor{comment}{// definition block.}}
\DoxyCodeLine{65           range-\/>CommitSpillMoves(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_ae3fb533edab15ea4e53a2bb0315ea4e4}{data}}(), spill\_operand);}
\DoxyCodeLine{66           \textcolor{comment}{// Verify that we never added any data for this range to the table.}}
\DoxyCodeLine{67           \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a8a8c1e14be71845c00eefa637bd77d04}{IsLatestVreg}}(range-\/>vreg()));}
\DoxyCodeLine{68           \textcolor{keywordflow}{return};}
\DoxyCodeLine{69         \}}
\DoxyCodeLine{70         LifetimePosition \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}} = interval.end();}
\DoxyCodeLine{71         \textcolor{keywordtype}{int} end\_instruction = \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}}.ToInstructionIndex();}
\DoxyCodeLine{72         \textcolor{comment}{// The end position is exclusive, so an end position exactly on a block}}
\DoxyCodeLine{73         \textcolor{comment}{// boundary indicates that the range applies only to the prior block.}}
\DoxyCodeLine{74         \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_ae3fb533edab15ea4e53a2bb0315ea4e4}{data}}()-\/>IsBlockBoundary(\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}})) \{}
\DoxyCodeLine{75           -\/-\/end\_instruction;}
\DoxyCodeLine{76         \}}
\DoxyCodeLine{77         RpoNumber end\_block =}
\DoxyCodeLine{78             \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>GetInstructionBlock(end\_instruction)-\/>rpo\_number();}
\DoxyCodeLine{79         \textcolor{keywordflow}{while} (start\_block <= end\_block) \{}
\DoxyCodeLine{80           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a5ddfe78af52bbb2a4b71c88cc8834f3d}{SetSpillRequired}}(\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>InstructionBlockAt(start\_block), range-\/>vreg(),}
\DoxyCodeLine{81                            top\_start\_block\_number);}
\DoxyCodeLine{82           start\_block = start\_block.Next();}
\DoxyCodeLine{83         \}}
\DoxyCodeLine{84       \}}
\DoxyCodeLine{85     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{86       \textcolor{comment}{// Add every block that contains a use which requires the on-\/stack value.}}
\DoxyCodeLine{87       \textcolor{keywordflow}{for} (\textcolor{keyword}{const} UsePosition* pos : child-\/>positions()) \{}
\DoxyCodeLine{88         \textcolor{keywordflow}{if} (pos-\/>type() != \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a7b6df401819d405afa63acd8f105c5e2a52ab9859ec308dbd0d198cce409b209d}{UsePositionType::kRequiresSlot}}) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{89         InstructionBlock* block =}
\DoxyCodeLine{90             \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>GetInstructionBlock(pos-\/>pos().ToInstructionIndex());}
\DoxyCodeLine{91         RpoNumber block\_number = block-\/>rpo\_number();}
\DoxyCodeLine{92         \textcolor{keywordflow}{if} (block\_number == top\_start\_block\_number) \{}
\DoxyCodeLine{93           \textcolor{comment}{// Can't do late spilling if the first spill is within the}}
\DoxyCodeLine{94           \textcolor{comment}{// definition block.}}
\DoxyCodeLine{95           range-\/>CommitSpillMoves(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_ae3fb533edab15ea4e53a2bb0315ea4e4}{data}}(), spill\_operand);}
\DoxyCodeLine{96           \textcolor{comment}{// Verify that we never added any data for this range to the table.}}
\DoxyCodeLine{97           \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a8a8c1e14be71845c00eefa637bd77d04}{IsLatestVreg}}(range-\/>vreg()));}
\DoxyCodeLine{98           \textcolor{keywordflow}{return};}
\DoxyCodeLine{99         \}}
\DoxyCodeLine{100         \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a5ddfe78af52bbb2a4b71c88cc8834f3d}{SetSpillRequired}}(block, range-\/>vreg(), top\_start\_block\_number);}
\DoxyCodeLine{101       \}}
\DoxyCodeLine{102     \}}
\DoxyCodeLine{103   \}}
\DoxyCodeLine{104 }
\DoxyCodeLine{105   \textcolor{comment}{// If we haven't yet marked anything for this range, then it never needs to}}
\DoxyCodeLine{106   \textcolor{comment}{// spill at all.}}
\DoxyCodeLine{107   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a8a8c1e14be71845c00eefa637bd77d04}{IsLatestVreg}}(range-\/>vreg())) \{}
\DoxyCodeLine{108     range-\/>SetLateSpillingSelected(\textcolor{keyword}{true});}
\DoxyCodeLine{109     \textcolor{keywordflow}{return};}
\DoxyCodeLine{110   \}}
\DoxyCodeLine{111 }
\DoxyCodeLine{112   \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a4d67322e8a7417ada32dc6f73bc35231}{SetDefinition}}(top\_start\_block\_number, range-\/>vreg());}
\DoxyCodeLine{113 \}}

\end{DoxyCode}


References v8\+::internal\+::compiler\+::\+Register\+Allocation\+Data\+::code(), code, v8\+::internal\+::compiler\+::\+Top\+Level\+Live\+Range\+::\+Commit\+Spill\+Moves(), data(), data\+\_\+, v8\+::internal\+::\+DCHECK(), v8\+::internal\+::compiler\+::end(), v8\+::internal\+::compiler\+::\+Top\+Level\+Live\+Range\+::\+Filter\+Spill\+Moves(), v8\+::internal\+::compiler\+::\+Top\+Level\+Live\+Range\+::\+Get\+Spill\+Move\+Insertion\+Locations(), v8\+::internal\+::compiler\+::\+Top\+Level\+Live\+Range\+::\+Get\+Spill\+Range\+Operand(), v8\+::internal\+::compiler\+::\+Top\+Level\+Live\+Range\+::\+Has\+General\+Spill\+Range(), v8\+::internal\+::compiler\+::\+Top\+Level\+Live\+Range\+::is\+\_\+loop\+\_\+phi(), v8\+::internal\+::compiler\+::\+Instruction\+Block\+::\+Is\+Deferred(), Is\+Latest\+Vreg(), v8\+::internal\+::compiler\+::k\+Requires\+Slot, v8\+::internal\+::compiler\+::\+Rpo\+Number\+::\+Next(), v8\+::internal\+::compiler\+::\+Live\+Range\+::next(), v8\+::internal\+::compiler\+::\+Instruction\+Block\+::rpo\+\_\+number(), Set\+Definition(), v8\+::internal\+::compiler\+::\+Top\+Level\+Live\+Range\+::\+Set\+Late\+Spilling\+Selected(), Set\+Spill\+Required(), v8\+::internal\+::compiler\+::\+Live\+Range\+::spilled(), v8\+::internal\+::compiler\+::\+Live\+Range\+::\+Start(), v8\+::internal\+::compiler\+::\+Lifetime\+Position\+::\+To\+Instruction\+Index(), v8\+::internal\+::v8\+\_\+flags, and v8\+::internal\+::compiler\+::\+Top\+Level\+Live\+Range\+::vreg().



Referenced by v8\+::internal\+::compiler\+::\+Live\+Range\+Connector\+::\+Resolve\+Control\+Flow().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a99e2914f8a6e0dcfb8eb331fa0477109_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a99e2914f8a6e0dcfb8eb331fa0477109_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a45beff97e85386672ed567c82e198df9}\label{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a45beff97e85386672ed567c82e198df9}} 
\index{v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}!ClearData@{ClearData}}
\index{ClearData@{ClearData}!v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}}
\doxysubsubsection{\texorpdfstring{ClearData()}{ClearData()}}
{\footnotesize\ttfamily void v8\+::internal\+::compiler\+::\+Spill\+Placer\+::\+Clear\+Data (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 237 of file spill-\/placer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{237                             \{}
\DoxyCodeLine{238   \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_af869af31a0df5687c35ab570e3833f29}{assigned\_indices\_}} = 0;}
\DoxyCodeLine{239   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_ae3fb533edab15ea4e53a2bb0315ea4e4}{data}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData_a1630a04f46aa84989f4b07c24e0ab067}{code}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionSequence_a290f73b7103077a4963979d30c773e48}{InstructionBlockCount}}(); ++\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}) \{}
\DoxyCodeLine{240     \textcolor{keyword}{new} (\&\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a0f2cf6337265e8ed2308331920296b24}{entries\_}}[\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}]) Entry();}
\DoxyCodeLine{241   \}}
\DoxyCodeLine{242   \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a96770b611360fa12bf3241a30104be3c}{first\_block\_}} = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RpoNumber_a743434cf5bbb839ad8944ac91274ada1}{RpoNumber::Invalid}}();}
\DoxyCodeLine{243   \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_ae1df3578580ff1c10e2333c35456f160}{last\_block\_}} = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RpoNumber_a743434cf5bbb839ad8944ac91274ada1}{RpoNumber::Invalid}}();}
\DoxyCodeLine{244 \}}

\end{DoxyCode}


References assigned\+\_\+indices\+\_\+, v8\+::internal\+::compiler\+::\+Register\+Allocation\+Data\+::code(), data(), entries\+\_\+, first\+\_\+block\+\_\+, v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::i, v8\+::internal\+::compiler\+::\+Instruction\+Sequence\+::\+Instruction\+Block\+Count(), v8\+::internal\+::compiler\+::\+Rpo\+Number\+::\+Invalid(), and last\+\_\+block\+\_\+.



Referenced by Get\+Or\+Create\+Index\+For\+Latest\+Vreg().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a45beff97e85386672ed567c82e198df9_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a45beff97e85386672ed567c82e198df9_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a8bf738ea6e1c0bc4fd376b2e517cccfc}\label{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a8bf738ea6e1c0bc4fd376b2e517cccfc}} 
\index{v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}!CommitSpill@{CommitSpill}}
\index{CommitSpill@{CommitSpill}!v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}}
\doxysubsubsection{\texorpdfstring{CommitSpill()}{CommitSpill()}}
{\footnotesize\ttfamily void v8\+::internal\+::compiler\+::\+Spill\+Placer\+::\+Commit\+Spill (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classint}{int}}}]{vreg,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionBlock}{Instruction\+Block}} $\ast$}]{predecessor,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionBlock}{Instruction\+Block}} $\ast$}]{successor }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 462 of file spill-\/placer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{463                                                            \{}
\DoxyCodeLine{464   TopLevelLiveRange* live\_range = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_ae3fb533edab15ea4e53a2bb0315ea4e4}{data}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData_afc8a4b3c66832eb2ee286f35aa13b963}{live\_ranges}}()[vreg];}
\DoxyCodeLine{465   LifetimePosition pred\_end = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LifetimePosition_a32d9eb60b66b5eddb94c8a8bd69a877c}{LifetimePosition::InstructionFromInstructionIndex}}(}
\DoxyCodeLine{466       predecessor-\/>last\_instruction\_index());}
\DoxyCodeLine{467   LiveRange* child\_range = live\_range-\/>GetChildCovers(pred\_end);}
\DoxyCodeLine{468   \mbox{\hyperlink{src_2base_2logging_8h_a7b9f9517fedacc2a1a56c2bbb9d03688}{DCHECK\_NOT\_NULL}}(child\_range);}
\DoxyCodeLine{469   InstructionOperand pred\_op = child\_range-\/>GetAssignedOperand();}
\DoxyCodeLine{470   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(pred\_op.IsAnyRegister());}
\DoxyCodeLine{471   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(successor-\/>PredecessorCount(), 1);}
\DoxyCodeLine{472   \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_ae3fb533edab15ea4e53a2bb0315ea4e4}{data}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData_a64b0910107365e638623261ee2910b04}{AddGapMove}}(successor-\/>first\_instruction\_index(),}
\DoxyCodeLine{473                      Instruction::GapPosition::START, pred\_op,}
\DoxyCodeLine{474                      live\_range-\/>GetSpillRangeOperand());}
\DoxyCodeLine{475   successor-\/>mark\_needs\_frame();}
\DoxyCodeLine{476   live\_range-\/>SetLateSpillingSelected(\textcolor{keyword}{true});}
\DoxyCodeLine{477 \}}

\end{DoxyCode}


References v8\+::internal\+::compiler\+::\+Register\+Allocation\+Data\+::\+Add\+Gap\+Move(), data(), v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+EQ, DCHECK\+\_\+\+NOT\+\_\+\+NULL, v8\+::internal\+::compiler\+::\+Instruction\+Block\+::first\+\_\+instruction\+\_\+index(), v8\+::internal\+::compiler\+::\+Live\+Range\+::\+Get\+Assigned\+Operand(), v8\+::internal\+::compiler\+::\+Top\+Level\+Live\+Range\+::\+Get\+Child\+Covers(), v8\+::internal\+::compiler\+::\+Top\+Level\+Live\+Range\+::\+Get\+Spill\+Range\+Operand(), v8\+::internal\+::compiler\+::\+Lifetime\+Position\+::\+Instruction\+From\+Instruction\+Index(), v8\+::internal\+::compiler\+::\+Instruction\+Operand\+::\+Is\+Any\+Register(), v8\+::internal\+::compiler\+::\+Instruction\+Block\+::last\+\_\+instruction\+\_\+index(), v8\+::internal\+::compiler\+::\+Register\+Allocation\+Data\+::live\+\_\+ranges(), v8\+::internal\+::compiler\+::\+Instruction\+Block\+::mark\+\_\+needs\+\_\+frame(), v8\+::internal\+::compiler\+::\+Instruction\+Block\+::\+Predecessor\+Count(), and v8\+::internal\+::compiler\+::\+Top\+Level\+Live\+Range\+::\+Set\+Late\+Spilling\+Selected().



Referenced by Second\+Backward\+Pass().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a8bf738ea6e1c0bc4fd376b2e517cccfc_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a8bf738ea6e1c0bc4fd376b2e517cccfc_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1SpillPlacer_abfae008e66e0d3788a9f42a4134b048c}\label{classv8_1_1internal_1_1compiler_1_1SpillPlacer_abfae008e66e0d3788a9f42a4134b048c}} 
\index{v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}!CommitSpills@{CommitSpills}}
\index{CommitSpills@{CommitSpills}!v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}}
\doxysubsubsection{\texorpdfstring{CommitSpills()}{CommitSpills()}}
{\footnotesize\ttfamily void v8\+::internal\+::compiler\+::\+Spill\+Placer\+::\+Commit\+Spills (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 231 of file spill-\/placer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{231                                \{}
\DoxyCodeLine{232   \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a32dc9e213d6f21f06c48548778ba9cbf}{FirstBackwardPass}}();}
\DoxyCodeLine{233   \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_aca246c79b124fb282b516f403ed8f6c8}{ForwardPass}}();}
\DoxyCodeLine{234   \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a018999053a4492f4bd236828b85e204b}{SecondBackwardPass}}();}
\DoxyCodeLine{235 \}}

\end{DoxyCode}


References First\+Backward\+Pass(), Forward\+Pass(), and Second\+Backward\+Pass().



Referenced by Get\+Or\+Create\+Index\+For\+Latest\+Vreg(), and $\sim$\+Spill\+Placer().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1compiler_1_1SpillPlacer_abfae008e66e0d3788a9f42a4134b048c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1SpillPlacer_abfae008e66e0d3788a9f42a4134b048c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1SpillPlacer_ae3fb533edab15ea4e53a2bb0315ea4e4}\label{classv8_1_1internal_1_1compiler_1_1SpillPlacer_ae3fb533edab15ea4e53a2bb0315ea4e4}} 
\index{v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}!data@{data}}
\index{data@{data}!v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}}
\doxysubsubsection{\texorpdfstring{data()}{data()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData}{Register\+Allocation\+Data}}$\ast$ v8\+::internal\+::compiler\+::\+Spill\+Placer\+::data (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 94 of file spill-\/placer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{94 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a9ee29748904fdc8c72cc177d02ae9d59}{data\_}}; \}}

\end{DoxyCode}


References data\+\_\+.



Referenced by Add(), Clear\+Data(), Commit\+Spill(), First\+Backward\+Pass(), Forward\+Pass(), Get\+Or\+Create\+Index\+For\+Latest\+Vreg(), Second\+Backward\+Pass(), Set\+Spill\+Required(), and v8\+::internal\+::compiler\+::\+Spill\+Placer\+::\+Entry\+::\+Update\+Bit\+Data\+With\+Mask().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1SpillPlacer_ae3fb533edab15ea4e53a2bb0315ea4e4_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a3acb9d223b0a0b2c752e5d2a5c1d3923}\label{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a3acb9d223b0a0b2c752e5d2a5c1d3923}} 
\index{v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}!ExpandBoundsToInclude@{ExpandBoundsToInclude}}
\index{ExpandBoundsToInclude@{ExpandBoundsToInclude}!v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}}
\doxysubsubsection{\texorpdfstring{ExpandBoundsToInclude()}{ExpandBoundsToInclude()}}
{\footnotesize\ttfamily void v8\+::internal\+::compiler\+::\+Spill\+Placer\+::\+Expand\+Bounds\+To\+Include (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RpoNumber}{Rpo\+Number}}}]{block }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 246 of file spill-\/placer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{246                                                        \{}
\DoxyCodeLine{247   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a96770b611360fa12bf3241a30104be3c}{first\_block\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RpoNumber_abdd1a3691d792d96e338d2fdb9963d11}{IsValid}}()) \{}
\DoxyCodeLine{248     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_ae1df3578580ff1c10e2333c35456f160}{last\_block\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RpoNumber_abdd1a3691d792d96e338d2fdb9963d11}{IsValid}}());}
\DoxyCodeLine{249     \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a96770b611360fa12bf3241a30104be3c}{first\_block\_}} = block;}
\DoxyCodeLine{250     \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_ae1df3578580ff1c10e2333c35456f160}{last\_block\_}} = block;}
\DoxyCodeLine{251   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{252     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a96770b611360fa12bf3241a30104be3c}{first\_block\_}} > block) \{}
\DoxyCodeLine{253       \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a96770b611360fa12bf3241a30104be3c}{first\_block\_}} = block;}
\DoxyCodeLine{254     \}}
\DoxyCodeLine{255     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_ae1df3578580ff1c10e2333c35456f160}{last\_block\_}} < block) \{}
\DoxyCodeLine{256       \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_ae1df3578580ff1c10e2333c35456f160}{last\_block\_}} = block;}
\DoxyCodeLine{257     \}}
\DoxyCodeLine{258   \}}
\DoxyCodeLine{259 \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), first\+\_\+block\+\_\+, v8\+::internal\+::compiler\+::\+Rpo\+Number\+::\+Is\+Valid(), and last\+\_\+block\+\_\+.



Referenced by Set\+Definition(), and Set\+Spill\+Required().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a3acb9d223b0a0b2c752e5d2a5c1d3923_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a3acb9d223b0a0b2c752e5d2a5c1d3923_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a32dc9e213d6f21f06c48548778ba9cbf}\label{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a32dc9e213d6f21f06c48548778ba9cbf}} 
\index{v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}!FirstBackwardPass@{FirstBackwardPass}}
\index{FirstBackwardPass@{FirstBackwardPass}!v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}}
\doxysubsubsection{\texorpdfstring{FirstBackwardPass()}{FirstBackwardPass()}}
{\footnotesize\ttfamily void v8\+::internal\+::compiler\+::\+Spill\+Placer\+::\+First\+Backward\+Pass (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 285 of file spill-\/placer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{285                                     \{}
\DoxyCodeLine{286   InstructionSequence* \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}} = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_ae3fb533edab15ea4e53a2bb0315ea4e4}{data}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData_a1630a04f46aa84989f4b07c24e0ab067}{code}}();}
\DoxyCodeLine{287 }
\DoxyCodeLine{288   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_ae1df3578580ff1c10e2333c35456f160}{last\_block\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RpoNumber_a6a8b2057a765857c6f6f966f391677f2}{ToInt}}(); \mbox{\hyperlink{namespacev8_1_1internal}{i}} >= \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a96770b611360fa12bf3241a30104be3c}{first\_block\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RpoNumber_a6a8b2057a765857c6f6f966f391677f2}{ToInt}}(); -\/-\/\mbox{\hyperlink{namespacev8_1_1internal}{i}}) \{}
\DoxyCodeLine{289     RpoNumber block\_id = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RpoNumber_abb38c79e5fbf770062dfb5dc116b4495}{RpoNumber::FromInt}}(\mbox{\hyperlink{namespacev8_1_1internal}{i}});}
\DoxyCodeLine{290     InstructionBlock* block = \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>instruction\_blocks()[\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}];}
\DoxyCodeLine{291 }
\DoxyCodeLine{292     Entry\& entry = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a0f2cf6337265e8ed2308331920296b24}{entries\_}}[\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}];}
\DoxyCodeLine{293 }
\DoxyCodeLine{294     \textcolor{comment}{// State that will be accumulated from successors.}}
\DoxyCodeLine{295     uint64\_t spill\_required\_in\_non\_deferred\_successor = 0;}
\DoxyCodeLine{296     uint64\_t spill\_required\_in\_deferred\_successor = 0;}
\DoxyCodeLine{297 }
\DoxyCodeLine{298     \textcolor{keywordflow}{for} (RpoNumber successor\_id : block-\/>successors()) \{}
\DoxyCodeLine{299       \textcolor{comment}{// Ignore loop back-\/edges.}}
\DoxyCodeLine{300       \textcolor{keywordflow}{if} (successor\_id <= block\_id) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{301 }
\DoxyCodeLine{302       InstructionBlock* successor = \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>InstructionBlockAt(successor\_id);}
\DoxyCodeLine{303       \textcolor{keyword}{const} Entry\& successor\_entry = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a0f2cf6337265e8ed2308331920296b24}{entries\_}}[successor\_id.ToSize()];}
\DoxyCodeLine{304       \textcolor{keywordflow}{if} (successor-\/>IsDeferred()) \{}
\DoxyCodeLine{305         spill\_required\_in\_deferred\_successor |= successor\_entry.\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_1_1Entry_aaaa03eaddcb93a2b13f38cd8240e5890}{SpillRequired}}();}
\DoxyCodeLine{306       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{307         spill\_required\_in\_non\_deferred\_successor |=}
\DoxyCodeLine{308             successor\_entry.SpillRequired();}
\DoxyCodeLine{309       \}}
\DoxyCodeLine{310       spill\_required\_in\_deferred\_successor |=}
\DoxyCodeLine{311           successor\_entry.SpillRequiredInDeferredSuccessor();}
\DoxyCodeLine{312       spill\_required\_in\_non\_deferred\_successor |=}
\DoxyCodeLine{313           successor\_entry.SpillRequiredInNonDeferredSuccessor();}
\DoxyCodeLine{314     \}}
\DoxyCodeLine{315 }
\DoxyCodeLine{316     \textcolor{comment}{// Starting state of the current block.}}
\DoxyCodeLine{317     uint64\_t defs = entry.Definition();}
\DoxyCodeLine{318     uint64\_t needs\_spill = entry.SpillRequired();}
\DoxyCodeLine{319 }
\DoxyCodeLine{320     \textcolor{comment}{// Info about successors doesn't get to override existing info about}}
\DoxyCodeLine{321     \textcolor{comment}{// definitions and spills required by this block itself.}}
\DoxyCodeLine{322     spill\_required\_in\_deferred\_successor \&= \string~(defs | needs\_spill);}
\DoxyCodeLine{323     spill\_required\_in\_non\_deferred\_successor \&= \string~(defs | needs\_spill);}
\DoxyCodeLine{324 }
\DoxyCodeLine{325     entry.SetSpillRequiredInDeferredSuccessor(}
\DoxyCodeLine{326         spill\_required\_in\_deferred\_successor);}
\DoxyCodeLine{327     entry.SetSpillRequiredInNonDeferredSuccessor(}
\DoxyCodeLine{328         spill\_required\_in\_non\_deferred\_successor);}
\DoxyCodeLine{329   \}}
\DoxyCodeLine{330 \}}

\end{DoxyCode}


References v8\+::internal\+::compiler\+::\+Register\+Allocation\+Data\+::code(), code, data(), v8\+::internal\+::compiler\+::\+Spill\+Placer\+::\+Entry\+::\+Definition(), entries\+\_\+, first\+\_\+block\+\_\+, v8\+::internal\+::compiler\+::\+Rpo\+Number\+::\+From\+Int(), v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::i, v8\+::internal\+::compiler\+::\+Instruction\+Block\+::\+Is\+Deferred(), last\+\_\+block\+\_\+, v8\+::internal\+::compiler\+::\+Spill\+Placer\+::\+Entry\+::\+Set\+Spill\+Required\+In\+Deferred\+Successor(), v8\+::internal\+::compiler\+::\+Spill\+Placer\+::\+Entry\+::\+Set\+Spill\+Required\+In\+Non\+Deferred\+Successor(), v8\+::internal\+::compiler\+::\+Spill\+Placer\+::\+Entry\+::\+Spill\+Required(), v8\+::internal\+::compiler\+::\+Spill\+Placer\+::\+Entry\+::\+Spill\+Required\+In\+Deferred\+Successor(), v8\+::internal\+::compiler\+::\+Spill\+Placer\+::\+Entry\+::\+Spill\+Required\+In\+Non\+Deferred\+Successor(), v8\+::internal\+::compiler\+::\+Instruction\+Block\+::successors(), and v8\+::internal\+::compiler\+::\+Rpo\+Number\+::\+To\+Int().



Referenced by Commit\+Spills().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a32dc9e213d6f21f06c48548778ba9cbf_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a32dc9e213d6f21f06c48548778ba9cbf_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1SpillPlacer_aca246c79b124fb282b516f403ed8f6c8}\label{classv8_1_1internal_1_1compiler_1_1SpillPlacer_aca246c79b124fb282b516f403ed8f6c8}} 
\index{v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}!ForwardPass@{ForwardPass}}
\index{ForwardPass@{ForwardPass}!v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}}
\doxysubsubsection{\texorpdfstring{ForwardPass()}{ForwardPass()}}
{\footnotesize\ttfamily void v8\+::internal\+::compiler\+::\+Spill\+Placer\+::\+Forward\+Pass (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 332 of file spill-\/placer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{332                               \{}
\DoxyCodeLine{333   InstructionSequence* \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}} = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_ae3fb533edab15ea4e53a2bb0315ea4e4}{data}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData_a1630a04f46aa84989f4b07c24e0ab067}{code}}();}
\DoxyCodeLine{334   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a96770b611360fa12bf3241a30104be3c}{first\_block\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RpoNumber_a6a8b2057a765857c6f6f966f391677f2}{ToInt}}(); \mbox{\hyperlink{namespacev8_1_1internal}{i}} <= \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_ae1df3578580ff1c10e2333c35456f160}{last\_block\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RpoNumber_a6a8b2057a765857c6f6f966f391677f2}{ToInt}}(); ++\mbox{\hyperlink{namespacev8_1_1internal}{i}}) \{}
\DoxyCodeLine{335     RpoNumber block\_id = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RpoNumber_abb38c79e5fbf770062dfb5dc116b4495}{RpoNumber::FromInt}}(\mbox{\hyperlink{namespacev8_1_1internal}{i}});}
\DoxyCodeLine{336     InstructionBlock* block = \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>instruction\_blocks()[\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}];}
\DoxyCodeLine{337 }
\DoxyCodeLine{338     \textcolor{comment}{// Deferred blocks don't need to participate in the forward pass, because}}
\DoxyCodeLine{339     \textcolor{comment}{// their spills all get pulled forward to the earliest possible deferred}}
\DoxyCodeLine{340     \textcolor{comment}{// block (where a non-\/deferred block jumps to a deferred block), and}}
\DoxyCodeLine{341     \textcolor{comment}{// decisions about spill requirements for non-\/deferred blocks don't take}}
\DoxyCodeLine{342     \textcolor{comment}{// deferred blocks into account.}}
\DoxyCodeLine{343     \textcolor{keywordflow}{if} (block-\/>IsDeferred()) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{344 }
\DoxyCodeLine{345     Entry\& entry = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a0f2cf6337265e8ed2308331920296b24}{entries\_}}[\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}];}
\DoxyCodeLine{346 }
\DoxyCodeLine{347     \textcolor{comment}{// State that will be accumulated from predecessors.}}
\DoxyCodeLine{348     uint64\_t spill\_required\_in\_non\_deferred\_predecessor = 0;}
\DoxyCodeLine{349     uint64\_t spill\_required\_in\_all\_non\_deferred\_predecessors =}
\DoxyCodeLine{350         \textcolor{keyword}{static\_cast<}uint64\_t\textcolor{keyword}{>}(int64\_t\{-\/1\});}
\DoxyCodeLine{351 }
\DoxyCodeLine{352     \textcolor{keywordflow}{for} (RpoNumber predecessor\_id : block-\/>predecessors()) \{}
\DoxyCodeLine{353       \textcolor{comment}{// Ignore loop back-\/edges.}}
\DoxyCodeLine{354       \textcolor{keywordflow}{if} (predecessor\_id >= block\_id) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{355 }
\DoxyCodeLine{356       InstructionBlock* predecessor = \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>InstructionBlockAt(predecessor\_id);}
\DoxyCodeLine{357       \textcolor{keywordflow}{if} (predecessor-\/>IsDeferred()) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{358       \textcolor{keyword}{const} Entry\& predecessor\_entry = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a0f2cf6337265e8ed2308331920296b24}{entries\_}}[predecessor\_id.ToSize()];}
\DoxyCodeLine{359       spill\_required\_in\_non\_deferred\_predecessor |=}
\DoxyCodeLine{360           predecessor\_entry.\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_1_1Entry_aaaa03eaddcb93a2b13f38cd8240e5890}{SpillRequired}}();}
\DoxyCodeLine{361       spill\_required\_in\_all\_non\_deferred\_predecessors \&=}
\DoxyCodeLine{362           predecessor\_entry.SpillRequired();}
\DoxyCodeLine{363     \}}
\DoxyCodeLine{364 }
\DoxyCodeLine{365     \textcolor{comment}{// Starting state of the current block.}}
\DoxyCodeLine{366     uint64\_t spill\_required\_in\_non\_deferred\_successor =}
\DoxyCodeLine{367         entry.SpillRequiredInNonDeferredSuccessor();}
\DoxyCodeLine{368     uint64\_t spill\_required\_in\_any\_successor =}
\DoxyCodeLine{369         spill\_required\_in\_non\_deferred\_successor |}
\DoxyCodeLine{370         entry.SpillRequiredInDeferredSuccessor();}
\DoxyCodeLine{371 }
\DoxyCodeLine{372     \textcolor{comment}{// If all of the predecessors agree that a spill is required, then a}}
\DoxyCodeLine{373     \textcolor{comment}{// spill is required. Note that we don't set anything for values that}}
\DoxyCodeLine{374     \textcolor{comment}{// currently have no markings in this block, to avoid pushing data too}}
\DoxyCodeLine{375     \textcolor{comment}{// far down the graph and confusing the next backward pass.}}
\DoxyCodeLine{376     entry.SetSpillRequired(spill\_required\_in\_any\_successor \&}
\DoxyCodeLine{377                            spill\_required\_in\_non\_deferred\_predecessor \&}
\DoxyCodeLine{378                            spill\_required\_in\_all\_non\_deferred\_predecessors);}
\DoxyCodeLine{379 }
\DoxyCodeLine{380     \textcolor{comment}{// If only some of the predecessors require a spill, but some successor}}
\DoxyCodeLine{381     \textcolor{comment}{// of this block also requires a spill, then this merge point requires a}}
\DoxyCodeLine{382     \textcolor{comment}{// spill. This ensures that no control-\/flow path through non-\/deferred}}
\DoxyCodeLine{383     \textcolor{comment}{// blocks ever has to spill twice.}}
\DoxyCodeLine{384     entry.SetSpillRequired(spill\_required\_in\_non\_deferred\_successor \&}
\DoxyCodeLine{385                            spill\_required\_in\_non\_deferred\_predecessor);}
\DoxyCodeLine{386   \}}
\DoxyCodeLine{387 \}}

\end{DoxyCode}


References v8\+::internal\+::compiler\+::\+Register\+Allocation\+Data\+::code(), code, data(), entries\+\_\+, first\+\_\+block\+\_\+, v8\+::internal\+::compiler\+::\+Rpo\+Number\+::\+From\+Int(), v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::i, v8\+::internal\+::compiler\+::\+Instruction\+Block\+::\+Is\+Deferred(), last\+\_\+block\+\_\+, v8\+::internal\+::compiler\+::\+Instruction\+Block\+::predecessors(), v8\+::internal\+::compiler\+::\+Spill\+Placer\+::\+Entry\+::\+Set\+Spill\+Required(), v8\+::internal\+::compiler\+::\+Spill\+Placer\+::\+Entry\+::\+Spill\+Required(), v8\+::internal\+::compiler\+::\+Spill\+Placer\+::\+Entry\+::\+Spill\+Required\+In\+Deferred\+Successor(), v8\+::internal\+::compiler\+::\+Spill\+Placer\+::\+Entry\+::\+Spill\+Required\+In\+Non\+Deferred\+Successor(), and v8\+::internal\+::compiler\+::\+Rpo\+Number\+::\+To\+Int().



Referenced by Commit\+Spills().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1SpillPlacer_aca246c79b124fb282b516f403ed8f6c8_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1SpillPlacer_aca246c79b124fb282b516f403ed8f6c8_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a755fd24ba5ee28714613fb7564fe2c4e}\label{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a755fd24ba5ee28714613fb7564fe2c4e}} 
\index{v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}!GetOrCreateIndexForLatestVreg@{GetOrCreateIndexForLatestVreg}}
\index{GetOrCreateIndexForLatestVreg@{GetOrCreateIndexForLatestVreg}!v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}}
\doxysubsubsection{\texorpdfstring{GetOrCreateIndexForLatestVreg()}{GetOrCreateIndexForLatestVreg()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classint}{int}} v8\+::internal\+::compiler\+::\+Spill\+Placer\+::\+Get\+Or\+Create\+Index\+For\+Latest\+Vreg (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classint}{int}}}]{vreg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 202 of file spill-\/placer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{202                                                        \{}
\DoxyCodeLine{203   \mbox{\hyperlink{src_2base_2logging_8h_a16b382527f19b805fc8f856668f2270b}{DCHECK\_LE}}(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_af869af31a0df5687c35ab570e3833f29}{assigned\_indices\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_af9bce18c5576993d4f72b88b8b8181f6}{kValueIndicesPerEntry}});}
\DoxyCodeLine{204   \textcolor{comment}{// If this vreg isn't yet the last one in the list, then add it.}}
\DoxyCodeLine{205   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a8a8c1e14be71845c00eefa637bd77d04}{IsLatestVreg}}(vreg)) \{}
\DoxyCodeLine{206     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a83dd165d999912a5cc2530a1384d293a}{vreg\_numbers\_}} == \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{207       \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_af869af31a0df5687c35ab570e3833f29}{assigned\_indices\_}}, 0);}
\DoxyCodeLine{208       \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a0f2cf6337265e8ed2308331920296b24}{entries\_}}, \textcolor{keyword}{nullptr});}
\DoxyCodeLine{209       \textcolor{comment}{// We lazily allocate these arrays because many functions don't have any}}
\DoxyCodeLine{210       \textcolor{comment}{// values that use SpillPlacer.}}
\DoxyCodeLine{211       \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a0f2cf6337265e8ed2308331920296b24}{entries\_}} = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_af33a2fdc64b10d0daea772496342709f}{zone\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Zone_aa056022b5bde5c0847ab5a35075d0f50}{AllocateArray}}<Entry>(}
\DoxyCodeLine{212           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_ae3fb533edab15ea4e53a2bb0315ea4e4}{data}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData_a1630a04f46aa84989f4b07c24e0ab067}{code}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionSequence_ac2275233b0810699e6c49be347dbaaed}{instruction\_blocks}}().\mbox{\hyperlink{classv8_1_1internal_1_1ZoneVector_a60320a4772cc860e5b2b858c0ce7f8ad}{size}}());}
\DoxyCodeLine{213       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_ae3fb533edab15ea4e53a2bb0315ea4e4}{data}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData_a1630a04f46aa84989f4b07c24e0ab067}{code}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionSequence_ac2275233b0810699e6c49be347dbaaed}{instruction\_blocks}}().\mbox{\hyperlink{classv8_1_1internal_1_1ZoneVector_a60320a4772cc860e5b2b858c0ce7f8ad}{size}}(); ++\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}) \{}
\DoxyCodeLine{214         \textcolor{keyword}{new} (\&\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a0f2cf6337265e8ed2308331920296b24}{entries\_}}[\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}]) Entry();}
\DoxyCodeLine{215       \}}
\DoxyCodeLine{216       \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a83dd165d999912a5cc2530a1384d293a}{vreg\_numbers\_}} = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_af33a2fdc64b10d0daea772496342709f}{zone\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Zone_aa056022b5bde5c0847ab5a35075d0f50}{AllocateArray}}<\textcolor{keywordtype}{int}>(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_af9bce18c5576993d4f72b88b8b8181f6}{kValueIndicesPerEntry}});}
\DoxyCodeLine{217     \}}
\DoxyCodeLine{218 }
\DoxyCodeLine{219     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_af869af31a0df5687c35ab570e3833f29}{assigned\_indices\_}} == \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_af9bce18c5576993d4f72b88b8b8181f6}{kValueIndicesPerEntry}}) \{}
\DoxyCodeLine{220       \textcolor{comment}{// The table is full; commit the current set of values and clear it.}}
\DoxyCodeLine{221       \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_abfae008e66e0d3788a9f42a4134b048c}{CommitSpills}}();}
\DoxyCodeLine{222       \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a45beff97e85386672ed567c82e198df9}{ClearData}}();}
\DoxyCodeLine{223     \}}
\DoxyCodeLine{224 }
\DoxyCodeLine{225     \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a83dd165d999912a5cc2530a1384d293a}{vreg\_numbers\_}}[\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_af869af31a0df5687c35ab570e3833f29}{assigned\_indices\_}}] = vreg;}
\DoxyCodeLine{226     ++\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_af869af31a0df5687c35ab570e3833f29}{assigned\_indices\_}};}
\DoxyCodeLine{227   \}}
\DoxyCodeLine{228   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_af869af31a0df5687c35ab570e3833f29}{assigned\_indices\_}} -\/ 1;}
\DoxyCodeLine{229 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Zone\+::\+Allocate\+Array(), assigned\+\_\+indices\+\_\+, Clear\+Data(), v8\+::internal\+::compiler\+::\+Register\+Allocation\+Data\+::code(), Commit\+Spills(), data(), DCHECK\+\_\+\+EQ, DCHECK\+\_\+\+LE, entries\+\_\+, v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::i, v8\+::internal\+::compiler\+::\+Instruction\+Sequence\+::instruction\+\_\+blocks(), Is\+Latest\+Vreg(), k\+Value\+Indices\+Per\+Entry, v8\+::internal\+::\+Zone\+Vector$<$ T $>$\+::size(), vreg\+\_\+numbers\+\_\+, and zone\+\_\+.



Referenced by Set\+Definition(), and Set\+Spill\+Required().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a755fd24ba5ee28714613fb7564fe2c4e_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a755fd24ba5ee28714613fb7564fe2c4e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a8a8c1e14be71845c00eefa637bd77d04}\label{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a8a8c1e14be71845c00eefa637bd77d04}} 
\index{v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}!IsLatestVreg@{IsLatestVreg}}
\index{IsLatestVreg@{IsLatestVreg}!v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}}
\doxysubsubsection{\texorpdfstring{IsLatestVreg()}{IsLatestVreg()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a28d08f40d5dc488600051ba2ef537284}{bool}} v8\+::internal\+::compiler\+::\+Spill\+Placer\+::\+Is\+Latest\+Vreg (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classint}{int}}}]{vreg }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 101 of file spill-\/placer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{101                                     \{}
\DoxyCodeLine{102     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_af869af31a0df5687c35ab570e3833f29}{assigned\_indices\_}} > 0 \&\&}
\DoxyCodeLine{103            \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a83dd165d999912a5cc2530a1384d293a}{vreg\_numbers\_}}[\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_af869af31a0df5687c35ab570e3833f29}{assigned\_indices\_}} -\/ 1] == vreg;}
\DoxyCodeLine{104   \}}

\end{DoxyCode}


References assigned\+\_\+indices\+\_\+, and vreg\+\_\+numbers\+\_\+.



Referenced by Add(), and Get\+Or\+Create\+Index\+For\+Latest\+Vreg().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a8a8c1e14be71845c00eefa637bd77d04_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a8ababf94ae7ef2ba5f883837c4bf6a75}\label{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a8ababf94ae7ef2ba5f883837c4bf6a75}} 
\index{v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}!operator=@{operator=}}
\index{operator=@{operator=}!v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer}{Spill\+Placer}}\& v8\+::internal\+::compiler\+::\+Spill\+Placer\+::operator= (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer}{Spill\+Placer}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}

\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a018999053a4492f4bd236828b85e204b}\label{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a018999053a4492f4bd236828b85e204b}} 
\index{v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}!SecondBackwardPass@{SecondBackwardPass}}
\index{SecondBackwardPass@{SecondBackwardPass}!v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}}
\doxysubsubsection{\texorpdfstring{SecondBackwardPass()}{SecondBackwardPass()}}
{\footnotesize\ttfamily void v8\+::internal\+::compiler\+::\+Spill\+Placer\+::\+Second\+Backward\+Pass (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 389 of file spill-\/placer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{389                                      \{}
\DoxyCodeLine{390   InstructionSequence* \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}} = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_ae3fb533edab15ea4e53a2bb0315ea4e4}{data}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData_a1630a04f46aa84989f4b07c24e0ab067}{code}}();}
\DoxyCodeLine{391   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_ae1df3578580ff1c10e2333c35456f160}{last\_block\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RpoNumber_a6a8b2057a765857c6f6f966f391677f2}{ToInt}}(); \mbox{\hyperlink{namespacev8_1_1internal}{i}} >= \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a96770b611360fa12bf3241a30104be3c}{first\_block\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RpoNumber_a6a8b2057a765857c6f6f966f391677f2}{ToInt}}(); -\/-\/\mbox{\hyperlink{namespacev8_1_1internal}{i}}) \{}
\DoxyCodeLine{392     RpoNumber block\_id = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RpoNumber_abb38c79e5fbf770062dfb5dc116b4495}{RpoNumber::FromInt}}(\mbox{\hyperlink{namespacev8_1_1internal}{i}});}
\DoxyCodeLine{393     InstructionBlock* block = \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>instruction\_blocks()[\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}];}
\DoxyCodeLine{394 }
\DoxyCodeLine{395     Entry\& entry = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a0f2cf6337265e8ed2308331920296b24}{entries\_}}[\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}];}
\DoxyCodeLine{396 }
\DoxyCodeLine{397     \textcolor{comment}{// State that will be accumulated from successors.}}
\DoxyCodeLine{398     uint64\_t spill\_required\_in\_non\_deferred\_successor = 0;}
\DoxyCodeLine{399     uint64\_t spill\_required\_in\_deferred\_successor = 0;}
\DoxyCodeLine{400     uint64\_t spill\_required\_in\_all\_non\_deferred\_successors =}
\DoxyCodeLine{401         \textcolor{keyword}{static\_cast<}uint64\_t\textcolor{keyword}{>}(int64\_t\{-\/1\});}
\DoxyCodeLine{402 }
\DoxyCodeLine{403     \textcolor{keywordflow}{for} (RpoNumber successor\_id : block-\/>successors()) \{}
\DoxyCodeLine{404       \textcolor{comment}{// Ignore loop back-\/edges.}}
\DoxyCodeLine{405       \textcolor{keywordflow}{if} (successor\_id <= block\_id) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{406 }
\DoxyCodeLine{407       InstructionBlock* successor = \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>InstructionBlockAt(successor\_id);}
\DoxyCodeLine{408       \textcolor{keyword}{const} Entry\& successor\_entry = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a0f2cf6337265e8ed2308331920296b24}{entries\_}}[successor\_id.ToSize()];}
\DoxyCodeLine{409       \textcolor{keywordflow}{if} (successor-\/>IsDeferred()) \{}
\DoxyCodeLine{410         spill\_required\_in\_deferred\_successor |= successor\_entry.\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_1_1Entry_aaaa03eaddcb93a2b13f38cd8240e5890}{SpillRequired}}();}
\DoxyCodeLine{411       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{412         spill\_required\_in\_non\_deferred\_successor |=}
\DoxyCodeLine{413             successor\_entry.SpillRequired();}
\DoxyCodeLine{414         spill\_required\_in\_all\_non\_deferred\_successors \&=}
\DoxyCodeLine{415             successor\_entry.SpillRequired();}
\DoxyCodeLine{416       \}}
\DoxyCodeLine{417     \}}
\DoxyCodeLine{418 }
\DoxyCodeLine{419     \textcolor{comment}{// Starting state of the current block.}}
\DoxyCodeLine{420     uint64\_t defs = entry.Definition();}
\DoxyCodeLine{421 }
\DoxyCodeLine{422     \textcolor{comment}{// If all of the successors of a definition need the value to be}}
\DoxyCodeLine{423     \textcolor{comment}{// spilled, then the value should be spilled at the definition.}}
\DoxyCodeLine{424     uint64\_t spill\_at\_def = defs \& spill\_required\_in\_non\_deferred\_successor \&}
\DoxyCodeLine{425                             spill\_required\_in\_all\_non\_deferred\_successors;}
\DoxyCodeLine{426     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} index\_to\_spill : \mbox{\hyperlink{namespacev8_1_1base_1_1bits_ac302e71fc2bda10017e4d678d0773200}{base::bits::IterateBits}}(spill\_at\_def)) \{}
\DoxyCodeLine{427       \textcolor{keywordtype}{int} vreg\_to\_spill = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a83dd165d999912a5cc2530a1384d293a}{vreg\_numbers\_}}[index\_to\_spill];}
\DoxyCodeLine{428       TopLevelLiveRange* top = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_ae3fb533edab15ea4e53a2bb0315ea4e4}{data}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData_afc8a4b3c66832eb2ee286f35aa13b963}{live\_ranges}}()[vreg\_to\_spill];}
\DoxyCodeLine{429       top-\/>CommitSpillMoves(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_ae3fb533edab15ea4e53a2bb0315ea4e4}{data}}(), top-\/>GetSpillRangeOperand());}
\DoxyCodeLine{430     \}}
\DoxyCodeLine{431 }
\DoxyCodeLine{432     \textcolor{keywordflow}{if} (block-\/>IsDeferred()) \{}
\DoxyCodeLine{433       \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(defs, 0);}
\DoxyCodeLine{434       \textcolor{comment}{// Any deferred successor needing a spill is sufficient to make the}}
\DoxyCodeLine{435       \textcolor{comment}{// current block need a spill.}}
\DoxyCodeLine{436       entry.SetSpillRequired(spill\_required\_in\_deferred\_successor);}
\DoxyCodeLine{437     \}}
\DoxyCodeLine{438 }
\DoxyCodeLine{439     \textcolor{comment}{// Propagate data upward if there are non-\/deferred successors and they}}
\DoxyCodeLine{440     \textcolor{comment}{// all need a spill, regardless of whether the current block is}}
\DoxyCodeLine{441     \textcolor{comment}{// deferred.}}
\DoxyCodeLine{442     entry.SetSpillRequired(\string~defs \& spill\_required\_in\_non\_deferred\_successor \&}
\DoxyCodeLine{443                            spill\_required\_in\_all\_non\_deferred\_successors);}
\DoxyCodeLine{444 }
\DoxyCodeLine{445     \textcolor{comment}{// Iterate the successors again to find out which ones require spills at}}
\DoxyCodeLine{446     \textcolor{comment}{// their beginnings, and insert those spills.}}
\DoxyCodeLine{447     \textcolor{keywordflow}{for} (RpoNumber successor\_id : block-\/>successors()) \{}
\DoxyCodeLine{448       \textcolor{comment}{// Ignore loop back-\/edges.}}
\DoxyCodeLine{449       \textcolor{keywordflow}{if} (successor\_id <= block\_id) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{450 }
\DoxyCodeLine{451       InstructionBlock* successor = \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>InstructionBlockAt(successor\_id);}
\DoxyCodeLine{452       \textcolor{keyword}{const} Entry\& successor\_entry = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a0f2cf6337265e8ed2308331920296b24}{entries\_}}[successor\_id.ToSize()];}
\DoxyCodeLine{453       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} index\_to\_spill :}
\DoxyCodeLine{454            \mbox{\hyperlink{namespacev8_1_1base_1_1bits_ac302e71fc2bda10017e4d678d0773200}{base::bits::IterateBits}}(successor\_entry.SpillRequired() \&}
\DoxyCodeLine{455                                    \string~entry.SpillRequired() \& \string~spill\_at\_def)) \{}
\DoxyCodeLine{456         \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a8bf738ea6e1c0bc4fd376b2e517cccfc}{CommitSpill}}(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a83dd165d999912a5cc2530a1384d293a}{vreg\_numbers\_}}[index\_to\_spill], block, successor);}
\DoxyCodeLine{457       \}}
\DoxyCodeLine{458     \}}
\DoxyCodeLine{459   \}}
\DoxyCodeLine{460 \}}

\end{DoxyCode}


References v8\+::internal\+::compiler\+::\+Register\+Allocation\+Data\+::code(), code, Commit\+Spill(), v8\+::internal\+::compiler\+::\+Top\+Level\+Live\+Range\+::\+Commit\+Spill\+Moves(), data(), DCHECK\+\_\+\+EQ, v8\+::internal\+::compiler\+::\+Spill\+Placer\+::\+Entry\+::\+Definition(), entries\+\_\+, first\+\_\+block\+\_\+, v8\+::internal\+::compiler\+::\+Rpo\+Number\+::\+From\+Int(), v8\+::internal\+::compiler\+::\+Top\+Level\+Live\+Range\+::\+Get\+Spill\+Range\+Operand(), v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::i, v8\+::internal\+::compiler\+::\+Instruction\+Block\+::\+Is\+Deferred(), v8\+::base\+::bits\+::\+Iterate\+Bits(), last\+\_\+block\+\_\+, v8\+::internal\+::compiler\+::\+Register\+Allocation\+Data\+::live\+\_\+ranges(), v8\+::internal\+::compiler\+::\+Spill\+Placer\+::\+Entry\+::\+Set\+Spill\+Required(), v8\+::internal\+::compiler\+::\+Spill\+Placer\+::\+Entry\+::\+Spill\+Required(), v8\+::internal\+::compiler\+::\+Instruction\+Block\+::successors(), v8\+::internal\+::compiler\+::\+Rpo\+Number\+::\+To\+Int(), and vreg\+\_\+numbers\+\_\+.



Referenced by Commit\+Spills().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a018999053a4492f4bd236828b85e204b_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a018999053a4492f4bd236828b85e204b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a4d67322e8a7417ada32dc6f73bc35231}\label{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a4d67322e8a7417ada32dc6f73bc35231}} 
\index{v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}!SetDefinition@{SetDefinition}}
\index{SetDefinition@{SetDefinition}!v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}}
\doxysubsubsection{\texorpdfstring{SetDefinition()}{SetDefinition()}}
{\footnotesize\ttfamily void v8\+::internal\+::compiler\+::\+Spill\+Placer\+::\+Set\+Definition (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RpoNumber}{Rpo\+Number}}}]{block,  }\item[{\mbox{\hyperlink{classint}{int}}}]{vreg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 279 of file spill-\/placer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{279                                                          \{}
\DoxyCodeLine{280   \textcolor{keywordtype}{int} value\_index = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a755fd24ba5ee28714613fb7564fe2c4e}{GetOrCreateIndexForLatestVreg}}(vreg);}
\DoxyCodeLine{281   \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a0f2cf6337265e8ed2308331920296b24}{entries\_}}[block.ToSize()].\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_1_1Entry_a0ec9e2b83a09e5d24a1a7f578b3da06b}{SetDefinitionSingleValue}}(value\_index);}
\DoxyCodeLine{282   \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a3acb9d223b0a0b2c752e5d2a5c1d3923}{ExpandBoundsToInclude}}(block);}
\DoxyCodeLine{283 \}}

\end{DoxyCode}


References entries\+\_\+, Expand\+Bounds\+To\+Include(), Get\+Or\+Create\+Index\+For\+Latest\+Vreg(), v8\+::internal\+::compiler\+::\+Spill\+Placer\+::\+Entry\+::\+Set\+Definition\+Single\+Value(), and v8\+::internal\+::compiler\+::\+Rpo\+Number\+::\+To\+Size().



Referenced by Add().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a4d67322e8a7417ada32dc6f73bc35231_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a4d67322e8a7417ada32dc6f73bc35231_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a5ddfe78af52bbb2a4b71c88cc8834f3d}\label{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a5ddfe78af52bbb2a4b71c88cc8834f3d}} 
\index{v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}!SetSpillRequired@{SetSpillRequired}}
\index{SetSpillRequired@{SetSpillRequired}!v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}}
\doxysubsubsection{\texorpdfstring{SetSpillRequired()}{SetSpillRequired()}}
{\footnotesize\ttfamily void v8\+::internal\+::compiler\+::\+Spill\+Placer\+::\+Set\+Spill\+Required (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionBlock}{Instruction\+Block}} $\ast$}]{block,  }\item[{\mbox{\hyperlink{classint}{int}}}]{vreg,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RpoNumber}{Rpo\+Number}}}]{top\+\_\+start\+\_\+block }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 261 of file spill-\/placer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{262                                                               \{}
\DoxyCodeLine{263   \textcolor{comment}{// Spilling in loops is bad, so if the block is non-\/deferred and nested}}
\DoxyCodeLine{264   \textcolor{comment}{// within a loop, and the definition is before that loop, then mark the loop}}
\DoxyCodeLine{265   \textcolor{comment}{// top instead. Of course we must find the outermost such loop.}}
\DoxyCodeLine{266   \textcolor{keywordflow}{if} (!block-\/>IsDeferred()) \{}
\DoxyCodeLine{267     \textcolor{keywordflow}{while} (block-\/>loop\_header().IsValid() \&\&}
\DoxyCodeLine{268            block-\/>loop\_header() > top\_start\_block) \{}
\DoxyCodeLine{269       block = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_ae3fb533edab15ea4e53a2bb0315ea4e4}{data}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData_a1630a04f46aa84989f4b07c24e0ab067}{code}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionSequence_a9c3aecd79b289855c043cc27c2749b35}{InstructionBlockAt}}(block-\/>loop\_header());}
\DoxyCodeLine{270     \}}
\DoxyCodeLine{271   \}}
\DoxyCodeLine{272 }
\DoxyCodeLine{273   \textcolor{keywordtype}{int} value\_index = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a755fd24ba5ee28714613fb7564fe2c4e}{GetOrCreateIndexForLatestVreg}}(vreg);}
\DoxyCodeLine{274   \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a0f2cf6337265e8ed2308331920296b24}{entries\_}}[block-\/>rpo\_number().ToSize()].\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_1_1Entry_aac88b22de69b257b4d148901fdef3d9c}{SetSpillRequiredSingleValue}}(}
\DoxyCodeLine{275       value\_index);}
\DoxyCodeLine{276   \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a3acb9d223b0a0b2c752e5d2a5c1d3923}{ExpandBoundsToInclude}}(block-\/>rpo\_number());}
\DoxyCodeLine{277 \}}

\end{DoxyCode}


References v8\+::internal\+::compiler\+::\+Register\+Allocation\+Data\+::code(), data(), entries\+\_\+, Expand\+Bounds\+To\+Include(), Get\+Or\+Create\+Index\+For\+Latest\+Vreg(), v8\+::internal\+::compiler\+::\+Instruction\+Sequence\+::\+Instruction\+Block\+At(), v8\+::internal\+::compiler\+::\+Instruction\+Block\+::\+Is\+Deferred(), v8\+::internal\+::compiler\+::\+Rpo\+Number\+::\+Is\+Valid(), v8\+::internal\+::compiler\+::\+Instruction\+Block\+::loop\+\_\+header(), v8\+::internal\+::compiler\+::\+Instruction\+Block\+::rpo\+\_\+number(), v8\+::internal\+::compiler\+::\+Spill\+Placer\+::\+Entry\+::\+Set\+Spill\+Required\+Single\+Value(), and v8\+::internal\+::compiler\+::\+Rpo\+Number\+::\+To\+Size().



Referenced by Add().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a5ddfe78af52bbb2a4b71c88cc8834f3d_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a5ddfe78af52bbb2a4b71c88cc8834f3d_icgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1SpillPlacer_af869af31a0df5687c35ab570e3833f29}\label{classv8_1_1internal_1_1compiler_1_1SpillPlacer_af869af31a0df5687c35ab570e3833f29}} 
\index{v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}!assigned\_indices\_@{assigned\_indices\_}}
\index{assigned\_indices\_@{assigned\_indices\_}!v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}}
\doxysubsubsection{\texorpdfstring{assigned\_indices\_}{assigned\_indices\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classint}{int}} v8\+::internal\+::compiler\+::\+Spill\+Placer\+::assigned\+\_\+indices\+\_\+ = 0\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 155 of file spill-\/placer.\+h.



Referenced by Clear\+Data(), Get\+Or\+Create\+Index\+For\+Latest\+Vreg(), Is\+Latest\+Vreg(), and $\sim$\+Spill\+Placer().

\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a9ee29748904fdc8c72cc177d02ae9d59}\label{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a9ee29748904fdc8c72cc177d02ae9d59}} 
\index{v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}!data\_@{data\_}}
\index{data\_@{data\_}!v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}}
\doxysubsubsection{\texorpdfstring{data\_}{data\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData}{Register\+Allocation\+Data}}$\ast$ v8\+::internal\+::compiler\+::\+Spill\+Placer\+::data\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 145 of file spill-\/placer.\+h.



Referenced by Add(), and data().

\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a0f2cf6337265e8ed2308331920296b24}\label{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a0f2cf6337265e8ed2308331920296b24}} 
\index{v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}!entries\_@{entries\_}}
\index{entries\_@{entries\_}!v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}}
\doxysubsubsection{\texorpdfstring{entries\_}{entries\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1SpillPlacer_1_1Entry}{Entry}}$\ast$ v8\+::internal\+::compiler\+::\+Spill\+Placer\+::entries\+\_\+ = \mbox{\hyperlink{flag-definitions_8h_aca14fbede0905858c819226fce3678cc}{nullptr}}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 149 of file spill-\/placer.\+h.



Referenced by Clear\+Data(), First\+Backward\+Pass(), Forward\+Pass(), Get\+Or\+Create\+Index\+For\+Latest\+Vreg(), Second\+Backward\+Pass(), Set\+Definition(), and Set\+Spill\+Required().

\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a96770b611360fa12bf3241a30104be3c}\label{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a96770b611360fa12bf3241a30104be3c}} 
\index{v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}!first\_block\_@{first\_block\_}}
\index{first\_block\_@{first\_block\_}!v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}}
\doxysubsubsection{\texorpdfstring{first\_block\_}{first\_block\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RpoNumber}{Rpo\+Number}} v8\+::internal\+::compiler\+::\+Spill\+Placer\+::first\+\_\+block\+\_\+ = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RpoNumber_a743434cf5bbb839ad8944ac91274ada1}{Rpo\+Number\+::\+Invalid}}()\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 160 of file spill-\/placer.\+h.



Referenced by Clear\+Data(), Expand\+Bounds\+To\+Include(), First\+Backward\+Pass(), Forward\+Pass(), and Second\+Backward\+Pass().

\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1SpillPlacer_af9bce18c5576993d4f72b88b8b8181f6}\label{classv8_1_1internal_1_1compiler_1_1SpillPlacer_af9bce18c5576993d4f72b88b8b8181f6}} 
\index{v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}!kValueIndicesPerEntry@{kValueIndicesPerEntry}}
\index{kValueIndicesPerEntry@{kValueIndicesPerEntry}!v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}}
\doxysubsubsection{\texorpdfstring{kValueIndicesPerEntry}{kValueIndicesPerEntry}}
{\footnotesize\ttfamily constexpr \mbox{\hyperlink{classint}{int}} v8\+::internal\+::compiler\+::\+Spill\+Placer\+::k\+Value\+Indices\+Per\+Entry = 64\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}, {\ttfamily [private]}}



Definition at line 142 of file spill-\/placer.\+h.



Referenced by Get\+Or\+Create\+Index\+For\+Latest\+Vreg(), v8\+::internal\+::compiler\+::\+Spill\+Placer\+::\+Entry\+::\+Set\+Definition\+Single\+Value(), and v8\+::internal\+::compiler\+::\+Spill\+Placer\+::\+Entry\+::\+Set\+Spill\+Required\+Single\+Value().

\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1SpillPlacer_ae1df3578580ff1c10e2333c35456f160}\label{classv8_1_1internal_1_1compiler_1_1SpillPlacer_ae1df3578580ff1c10e2333c35456f160}} 
\index{v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}!last\_block\_@{last\_block\_}}
\index{last\_block\_@{last\_block\_}!v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}}
\doxysubsubsection{\texorpdfstring{last\_block\_}{last\_block\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RpoNumber}{Rpo\+Number}} v8\+::internal\+::compiler\+::\+Spill\+Placer\+::last\+\_\+block\+\_\+ = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RpoNumber_a743434cf5bbb839ad8944ac91274ada1}{Rpo\+Number\+::\+Invalid}}()\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 161 of file spill-\/placer.\+h.



Referenced by Clear\+Data(), Expand\+Bounds\+To\+Include(), First\+Backward\+Pass(), Forward\+Pass(), and Second\+Backward\+Pass().

\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a83dd165d999912a5cc2530a1384d293a}\label{classv8_1_1internal_1_1compiler_1_1SpillPlacer_a83dd165d999912a5cc2530a1384d293a}} 
\index{v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}!vreg\_numbers\_@{vreg\_numbers\_}}
\index{vreg\_numbers\_@{vreg\_numbers\_}!v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}}
\doxysubsubsection{\texorpdfstring{vreg\_numbers\_}{vreg\_numbers\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classint}{int}}$\ast$ v8\+::internal\+::compiler\+::\+Spill\+Placer\+::vreg\+\_\+numbers\+\_\+ = \mbox{\hyperlink{flag-definitions_8h_aca14fbede0905858c819226fce3678cc}{nullptr}}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 152 of file spill-\/placer.\+h.



Referenced by Get\+Or\+Create\+Index\+For\+Latest\+Vreg(), Is\+Latest\+Vreg(), and Second\+Backward\+Pass().

\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1SpillPlacer_af33a2fdc64b10d0daea772496342709f}\label{classv8_1_1internal_1_1compiler_1_1SpillPlacer_af33a2fdc64b10d0daea772496342709f}} 
\index{v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}!zone\_@{zone\_}}
\index{zone\_@{zone\_}!v8::internal::compiler::SpillPlacer@{v8::internal::compiler::SpillPlacer}}
\doxysubsubsection{\texorpdfstring{zone\_}{zone\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}}$\ast$ v8\+::internal\+::compiler\+::\+Spill\+Placer\+::zone\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 146 of file spill-\/placer.\+h.



Referenced by Get\+Or\+Create\+Index\+For\+Latest\+Vreg().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/compiler/backend/\mbox{\hyperlink{spill-placer_8h}{spill-\/placer.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/compiler/backend/\mbox{\hyperlink{spill-placer_8cc}{spill-\/placer.\+cc}}\end{DoxyCompactItemize}
