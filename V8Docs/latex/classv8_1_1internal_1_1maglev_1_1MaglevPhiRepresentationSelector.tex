\hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector}{}\doxysection{v8\+::internal\+::maglev\+::Maglev\+Phi\+Representation\+Selector Class Reference}
\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector}\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}


{\ttfamily \#include $<$maglev-\/phi-\/representation-\/selector.\+h$>$}



Collaboration diagram for v8\+::internal\+::maglev\+::Maglev\+Phi\+Representation\+Selector\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a13c6851b1d8269b5de114f66387d6324}{Process\+Phi\+Result}} \{ \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a13c6851b1d8269b5de114f66387d6324a6ba87a47347eacc720b702902c18308a}{k\+None}}
, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a13c6851b1d8269b5de114f66387d6324a6d9538ca67ccd79e1986ff074e095eb4}{k\+Retry\+On\+Change}}
, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a13c6851b1d8269b5de114f66387d6324ad8dc86ff8347c2cef5aeebce0788dd47}{k\+Changed}}
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_adafb9a37ff045052145b7b25a45452d4}{Maglev\+Phi\+Representation\+Selector}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph}{Graph}} $\ast$\mbox{\hyperlink{flag-definitions_8h_a06b2b7e5d08192bb493bba69cb19a7a8}{graph}})
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_ae73206ad251bec910d09138bcb86d70f}{Pre\+Process\+Graph}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph}{Graph}} $\ast$\mbox{\hyperlink{flag-definitions_8h_a06b2b7e5d08192bb493bba69cb19a7a8}{graph}})
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a20fe020eb00a33abe11b167ff7f2517a}{Post\+Process\+Graph}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph}{Graph}} $\ast$\mbox{\hyperlink{flag-definitions_8h_a06b2b7e5d08192bb493bba69cb19a7a8}{graph}})
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a7ba0753ed3d436c0a62ce145b59b74df}{Block\+Process\+Result}} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa72ec2b01dd20e0900d0dad7629fd744}{Pre\+Process\+Basic\+Block}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BasicBlock}{Basic\+Block}} $\ast$block)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa81c32f07aa0bf1f542f915fbf91211a}{Post\+Process\+Basic\+Block}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BasicBlock}{Basic\+Block}} $\ast$block)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_abb6c4fb2a7d120fc1e1b076598a66273}{Post\+Phi\+Processing}} ()
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a13c6851b1d8269b5de114f66387d6324}{Process\+Phi\+Result}} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa36f0d8abcc6d544cc43c367622e49be}{Process\+Phi}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Phi}{Phi}} $\ast$node)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592}{Process\+Result}} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa5256599482f764514b001365691162d}{Process}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Phi}{Phi}} $\ast$node, const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ProcessingState}{Processing\+State}} \&)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592}{Process\+Result}} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a91f2a2e6820b467db501220887be2a9b}{Process}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1JumpLoop}{Jump\+Loop}} $\ast$node, const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ProcessingState}{Processing\+State}} \&)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592}{Process\+Result}} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a96c09dddc32ee4b3ef21fe5d5725bf6a}{Process}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Dead}{Dead}} $\ast$node, const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ProcessingState}{Processing\+State}} \&)
\item 
{\footnotesize template$<$class NodeT $>$ }\\\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592}{Process\+Result}} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a248d5e04e1469cd3d66de24da4ebaa5a}{Process}} (\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a30f1fb87d8e46f80374ef637cdb99de0}{NodeT}} $\ast$node, const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ProcessingState}{Processing\+State}} \&state)
\end{DoxyCompactItemize}
\doxysubsection*{Private Types}
\begin{DoxyCompactItemize}
\item 
enum class \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa988ff3862889cd903996cf98c3fb4a9}{Hoist\+Type}} \+: uint8\+\_\+t \{ \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa988ff3862889cd903996cf98c3fb4a9a35c3ace1970663a16e5c65baa5941b13}{k\+None}}
, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa988ff3862889cd903996cf98c3fb4a9aa6ac8096e9e9b45f9bd89fc1cbc7af34}{k\+Loop\+Entry}}
, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa988ff3862889cd903996cf98c3fb4a9a737e423eae8fce2e0bdf86e0b26e8af0}{k\+Loop\+Entry\+Unchecked}}
, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa988ff3862889cd903996cf98c3fb4a9aafe77346975634583a26d409ec0752c0}{k\+Prologue}}
 \}
\item 
enum class \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a8fc64505413ea38361fc9f83f66c8af9}{New\+Node\+Position}} \{ \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a8fc64505413ea38361fc9f83f66c8af9a66453ffa00f459519af19480d2d5be82}{k\+Begining\+Of\+Current\+Block}}
, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a8fc64505413ea38361fc9f83f66c8af9a80008467dddaca1679eb05b79e924793}{k\+End\+Of\+Block}}
 \}
\item 
{\footnotesize template$<$class Value $>$ }\\using \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a549e09aa1ed91df7bf491d9537936dbc}{Snapshot\+Table}} = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1SnapshotTable}{compiler\+::turboshaft\+::\+Snapshot\+Table}}$<$ \mbox{\hyperlink{classv8_1_1Value}{Value}} $>$
\item 
using \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_ae975baa2d578e89b6796abc9aa10617b}{Key}} = \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a549e09aa1ed91df7bf491d9537936dbc}{Snapshot\+Table}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$ $>$\+::\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_ae975baa2d578e89b6796abc9aa10617b}{Key}}
\item 
using \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a3b568db4fa336aa8e9679a3a859b132d}{Snapshot}} = \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a549e09aa1ed91df7bf491d9537936dbc}{Snapshot\+Table}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$ $>$\+::\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a3b568db4fa336aa8e9679a3a859b132d}{Snapshot}}
\item 
using \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aaf450f1a55bd81acbb20eb985f41fe53}{Hoist\+Type\+List}} = \mbox{\hyperlink{classv8_1_1base_1_1SmallVector}{base\+::\+Small\+Vector}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa988ff3862889cd903996cf98c3fb4a9}{Hoist\+Type}}, 8 $>$
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a4fb3b23b553b531653f6699ae18fe299}{Convert\+Tagged\+Phi\+To}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Phi}{Phi}} $\ast$phi, \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9}{Value\+Representation}} repr, const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aaf450f1a55bd81acbb20eb985f41fe53}{Hoist\+Type\+List}} \&hoist\+\_\+untagging)
\item 
{\footnotesize template$<$class NodeT $>$ }\\\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_ae22ebfef44ca96bc76f0ad5ee00ba36c}{Get\+Replacement\+For\+Phi\+Input\+Conversion}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$conversion\+\_\+node, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Phi}{Phi}} $\ast$phi, uint32\+\_\+t input\+\_\+index)
\item 
{\footnotesize template$<$class NodeT $>$ }\\\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592}{Process\+Result}} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aabd57b817c1c86b8d0684f7745637325}{Update\+Node\+Inputs}} (\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a30f1fb87d8e46f80374ef637cdb99de0}{NodeT}} $\ast$n, const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ProcessingState}{Processing\+State}} $\ast$state)
\item 
{\footnotesize template$<$class NodeT $>$ }\\\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592}{Process\+Result}} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_ae7d688c6fac360bd2969aaeb18ebe8d8}{Update\+Non\+Untagging\+Node\+Inputs}} (\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a30f1fb87d8e46f80374ef637cdb99de0}{NodeT}} $\ast$n, const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ProcessingState}{Processing\+State}} $\ast$state)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592}{Process\+Result}} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa1452617ef61ec6ba5d7cb4ec84993c9}{Update\+Node\+Phi\+Input}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1CheckSmi}{Check\+Smi}} $\ast$node, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Phi}{Phi}} $\ast$phi, \mbox{\hyperlink{classint}{int}} input\+\_\+index, const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ProcessingState}{Processing\+State}} $\ast$state)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592}{Process\+Result}} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_abef2895c4eae6890bd7be68aec1f1559}{Update\+Node\+Phi\+Input}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1CheckNumber}{Check\+Number}} $\ast$node, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Phi}{Phi}} $\ast$phi, \mbox{\hyperlink{classint}{int}} input\+\_\+index, const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ProcessingState}{Processing\+State}} $\ast$state)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592}{Process\+Result}} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a15d0863522fdca92ad35c2e488236f76}{Update\+Node\+Phi\+Input}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StoreTaggedFieldNoWriteBarrier}{Store\+Tagged\+Field\+No\+Write\+Barrier}} $\ast$node, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Phi}{Phi}} $\ast$phi, \mbox{\hyperlink{classint}{int}} input\+\_\+index, const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ProcessingState}{Processing\+State}} $\ast$state)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592}{Process\+Result}} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a4b1ad84dd75e94d5370e554caf80d24b}{Update\+Node\+Phi\+Input}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StoreFixedArrayElementNoWriteBarrier}{Store\+Fixed\+Array\+Element\+No\+Write\+Barrier}} $\ast$node, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Phi}{Phi}} $\ast$phi, \mbox{\hyperlink{classint}{int}} input\+\_\+index, const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ProcessingState}{Processing\+State}} $\ast$state)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592}{Process\+Result}} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a58c9fc2df225acf9736ce4b8c59de3f2}{Update\+Node\+Phi\+Input}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BranchIfToBooleanTrue}{Branch\+If\+To\+Boolean\+True}} $\ast$node, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Phi}{Phi}} $\ast$phi, \mbox{\hyperlink{classint}{int}} input\+\_\+index, const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ProcessingState}{Processing\+State}} $\ast$state)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592}{Process\+Result}} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aca708f33490104431b247290ab5267c0}{Update\+Node\+Phi\+Input}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1NodeBase}{Node\+Base}} $\ast$node, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Phi}{Phi}} $\ast$phi, \mbox{\hyperlink{classint}{int}} input\+\_\+index, const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ProcessingState}{Processing\+State}} $\ast$state)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a3cda9d06ef5315b251f995ca97759e6c}{Ensure\+Phi\+Inputs\+Tagged}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Phi}{Phi}} $\ast$phi)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_af22631d9ed0d01adcabe754970ec684f}{Is\+Untagging}} (\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a1f79cb46bd5bd0041c0a54358b3d2cec}{Opcode}} op)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a2cbcee01c520c52410023dd8a7d742b9}{Update\+Untagging\+Of\+Phi}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Phi}{Phi}} $\ast$phi, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$old\+\_\+untagging)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a474a21dc2fbb4fffd8e968253af8d739}{Ensure\+Phi\+Tagged}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Phi}{Phi}} $\ast$phi, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BasicBlock}{Basic\+Block}} $\ast$block, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a8fc64505413ea38361fc9f83f66c8af9}{New\+Node\+Position}} pos, const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ProcessingState}{Processing\+State}} $\ast$state, std\+::optional$<$ \mbox{\hyperlink{classint}{int}} $>$ predecessor\+\_\+index=std\+::nullopt)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_abd9a1409affd00a538817d11578569a9}{Add\+Node\+At\+Block\+End}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$new\+\_\+node, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BasicBlock}{Basic\+Block}} $\ast$block, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1DeoptFrame}{Deopt\+Frame}} $\ast$deopt\+\_\+frame=\mbox{\hyperlink{flag-definitions_8h_aca14fbede0905858c819226fce3678cc}{nullptr}})
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a518548d6aafdacffeae342bcec275140}{Add\+Node}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$node, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BasicBlock}{Basic\+Block}} $\ast$block, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a8fc64505413ea38361fc9f83f66c8af9}{New\+Node\+Position}} pos, const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ProcessingState}{Processing\+State}} $\ast$state, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1DeoptFrame}{Deopt\+Frame}} $\ast$deopt\+\_\+frame=\mbox{\hyperlink{flag-definitions_8h_aca14fbede0905858c819226fce3678cc}{nullptr}})
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a48669c6574fa828f27fe839599edca70}{Register\+New\+Node}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$node)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a633bc5df30456f233a94731051ffec44}{Fix\+Loop\+Phis\+Backedge}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BasicBlock}{Basic\+Block}} $\ast$block)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a6bc2051ae6719b455d1b3b0c8302d61e}{Prepare\+Phi\+Taggings}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BasicBlock}{Basic\+Block}} $\ast$old\+\_\+block, const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BasicBlock}{Basic\+Block}} $\ast$new\+\_\+block)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevGraphLabeller}{Maglev\+Graph\+Labeller}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a728c4c6378ed9a96073b5efdd9b53f59}{graph\+\_\+labeller}} () const
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa7d06913b62d87e853c009cd00a14a01}{Can\+Hoist\+Untagging\+To}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BasicBlock}{Basic\+Block}} $\ast$block)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a4543e9c3aa970f10bad2cba594bc5905}{zone}} () const
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph}{Graph}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a608a3c5465a84d13dccaf14c7a3f8db5}{graph\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BasicBlock}{Basic\+Block}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a44ce1683e9a4dfdaceace00195ac06ff}{current\+\_\+block\+\_\+}} = \mbox{\hyperlink{flag-definitions_8h_aca14fbede0905858c819226fce3678cc}{nullptr}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a549e09aa1ed91df7bf491d9537936dbc}{Snapshot\+Table}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$ $>$ \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a31e44b957112afe3c0d0b127a2bf3597}{phi\+\_\+taggings\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1ZoneVector}{Zone\+Vector}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a3b568db4fa336aa8e9679a3a859b132d}{Snapshot}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a64ce39a55f3c2d6c33fad6a0ea04c1ce}{predecessors\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1ZoneVector}{Zone\+Vector}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Node}{Node}} $\ast$ $>$ \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a918a57faf34a73b2ce1fd37bc5d8bb7c}{new\+\_\+nodes\+\_\+at\+\_\+start\+\_\+}}
\item 
absl\+::flat\+\_\+hash\+\_\+map$<$ \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BasicBlock_a731aa64fa2c2c661e02be10096fc9596}{Basic\+Block\+::\+Id}}, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a3b568db4fa336aa8e9679a3a859b132d}{Snapshot}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_abc07b3a77b2cd923b9204fd8355a0558}{snapshots\+\_\+}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 23 of file maglev-\/phi-\/representation-\/selector.\+h.



\doxysubsection{Member Typedef Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aaf450f1a55bd81acbb20eb985f41fe53}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aaf450f1a55bd81acbb20eb985f41fe53}} 
\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!HoistTypeList@{HoistTypeList}}
\index{HoistTypeList@{HoistTypeList}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}
\doxysubsubsection{\texorpdfstring{HoistTypeList}{HoistTypeList}}
{\footnotesize\ttfamily using \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aaf450f1a55bd81acbb20eb985f41fe53}{v8\+::internal\+::maglev\+::\+Maglev\+Phi\+Representation\+Selector\+::\+Hoist\+Type\+List}} =  \mbox{\hyperlink{classv8_1_1base_1_1SmallVector}{base\+::\+Small\+Vector}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa988ff3862889cd903996cf98c3fb4a9}{Hoist\+Type}}, 8$>$\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 81 of file maglev-\/phi-\/representation-\/selector.\+h.

\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_ae975baa2d578e89b6796abc9aa10617b}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_ae975baa2d578e89b6796abc9aa10617b}} 
\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!Key@{Key}}
\index{Key@{Key}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}
\doxysubsubsection{\texorpdfstring{Key}{Key}}
{\footnotesize\ttfamily using \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_ae975baa2d578e89b6796abc9aa10617b}{v8\+::internal\+::maglev\+::\+Maglev\+Phi\+Representation\+Selector\+::\+Key}} =  \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a549e09aa1ed91df7bf491d9537936dbc}{Snapshot\+Table}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}}$\ast$$>$\+::\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_ae975baa2d578e89b6796abc9aa10617b}{Key}}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 26 of file maglev-\/phi-\/representation-\/selector.\+h.

\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a3b568db4fa336aa8e9679a3a859b132d}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a3b568db4fa336aa8e9679a3a859b132d}} 
\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!Snapshot@{Snapshot}}
\index{Snapshot@{Snapshot}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}
\doxysubsubsection{\texorpdfstring{Snapshot}{Snapshot}}
{\footnotesize\ttfamily using \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a3b568db4fa336aa8e9679a3a859b132d}{v8\+::internal\+::maglev\+::\+Maglev\+Phi\+Representation\+Selector\+::\+Snapshot}} =  \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a549e09aa1ed91df7bf491d9537936dbc}{Snapshot\+Table}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}}$\ast$$>$\+::\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a3b568db4fa336aa8e9679a3a859b132d}{Snapshot}}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 27 of file maglev-\/phi-\/representation-\/selector.\+h.

\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a549e09aa1ed91df7bf491d9537936dbc}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a549e09aa1ed91df7bf491d9537936dbc}} 
\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!SnapshotTable@{SnapshotTable}}
\index{SnapshotTable@{SnapshotTable}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}
\doxysubsubsection{\texorpdfstring{SnapshotTable}{SnapshotTable}}
{\footnotesize\ttfamily template$<$class Value $>$ \\
using \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a549e09aa1ed91df7bf491d9537936dbc}{v8\+::internal\+::maglev\+::\+Maglev\+Phi\+Representation\+Selector\+::\+Snapshot\+Table}} =  \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1SnapshotTable}{compiler\+::turboshaft\+::\+Snapshot\+Table}}$<$\mbox{\hyperlink{classv8_1_1Value}{Value}}$>$\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 25 of file maglev-\/phi-\/representation-\/selector.\+h.



\doxysubsection{Member Enumeration Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa988ff3862889cd903996cf98c3fb4a9}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa988ff3862889cd903996cf98c3fb4a9}} 
\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!HoistType@{HoistType}}
\index{HoistType@{HoistType}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}
\doxysubsubsection{\texorpdfstring{HoistType}{HoistType}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa988ff3862889cd903996cf98c3fb4a9}{v8\+::internal\+::maglev\+::\+Maglev\+Phi\+Representation\+Selector\+::\+Hoist\+Type}} \+: uint8\+\_\+t\hspace{0.3cm}{\ttfamily [strong]}, {\ttfamily [private]}}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{kNone@{kNone}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!kNone@{kNone}}}\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa988ff3862889cd903996cf98c3fb4a9a35c3ace1970663a16e5c65baa5941b13}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa988ff3862889cd903996cf98c3fb4a9a35c3ace1970663a16e5c65baa5941b13}} 
k\+None&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{kLoopEntry@{kLoopEntry}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!kLoopEntry@{kLoopEntry}}}\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa988ff3862889cd903996cf98c3fb4a9aa6ac8096e9e9b45f9bd89fc1cbc7af34}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa988ff3862889cd903996cf98c3fb4a9aa6ac8096e9e9b45f9bd89fc1cbc7af34}} 
k\+Loop\+Entry&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{kLoopEntryUnchecked@{kLoopEntryUnchecked}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!kLoopEntryUnchecked@{kLoopEntryUnchecked}}}\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa988ff3862889cd903996cf98c3fb4a9a737e423eae8fce2e0bdf86e0b26e8af0}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa988ff3862889cd903996cf98c3fb4a9a737e423eae8fce2e0bdf86e0b26e8af0}} 
k\+Loop\+Entry\+Unchecked&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{kPrologue@{kPrologue}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!kPrologue@{kPrologue}}}\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa988ff3862889cd903996cf98c3fb4a9aafe77346975634583a26d409ec0752c0}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa988ff3862889cd903996cf98c3fb4a9aafe77346975634583a26d409ec0752c0}} 
k\+Prologue&\\
\hline

\end{DoxyEnumFields}


Definition at line 75 of file maglev-\/phi-\/representation-\/selector.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{75                        : uint8\_t \{}
\DoxyCodeLine{76     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a13c6851b1d8269b5de114f66387d6324a6ba87a47347eacc720b702902c18308a}{kNone}},}
\DoxyCodeLine{77     kLoopEntry,}
\DoxyCodeLine{78     kLoopEntryUnchecked,}
\DoxyCodeLine{79     kPrologue,}
\DoxyCodeLine{80   \};}

\end{DoxyCode}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a8fc64505413ea38361fc9f83f66c8af9}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a8fc64505413ea38361fc9f83f66c8af9}} 
\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!NewNodePosition@{NewNodePosition}}
\index{NewNodePosition@{NewNodePosition}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}
\doxysubsubsection{\texorpdfstring{NewNodePosition}{NewNodePosition}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a8fc64505413ea38361fc9f83f66c8af9}{v8\+::internal\+::maglev\+::\+Maglev\+Phi\+Representation\+Selector\+::\+New\+Node\+Position}}\hspace{0.3cm}{\ttfamily [strong]}, {\ttfamily [private]}}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{kBeginingOfCurrentBlock@{kBeginingOfCurrentBlock}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!kBeginingOfCurrentBlock@{kBeginingOfCurrentBlock}}}\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a8fc64505413ea38361fc9f83f66c8af9a66453ffa00f459519af19480d2d5be82}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a8fc64505413ea38361fc9f83f66c8af9a66453ffa00f459519af19480d2d5be82}} 
k\+Begining\+Of\+Current\+Block&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{kEndOfBlock@{kEndOfBlock}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!kEndOfBlock@{kEndOfBlock}}}\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a8fc64505413ea38361fc9f83f66c8af9a80008467dddaca1679eb05b79e924793}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a8fc64505413ea38361fc9f83f66c8af9a80008467dddaca1679eb05b79e924793}} 
k\+End\+Of\+Block&\\
\hline

\end{DoxyEnumFields}


Definition at line 174 of file maglev-\/phi-\/representation-\/selector.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{174 \{ kBeginingOfCurrentBlock, kEndOfBlock \};}

\end{DoxyCode}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a13c6851b1d8269b5de114f66387d6324}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a13c6851b1d8269b5de114f66387d6324}} 
\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!ProcessPhiResult@{ProcessPhiResult}}
\index{ProcessPhiResult@{ProcessPhiResult}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}
\doxysubsubsection{\texorpdfstring{ProcessPhiResult}{ProcessPhiResult}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a13c6851b1d8269b5de114f66387d6324}{v8\+::internal\+::maglev\+::\+Maglev\+Phi\+Representation\+Selector\+::\+Process\+Phi\+Result}}}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{kNone@{kNone}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!kNone@{kNone}}}\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a13c6851b1d8269b5de114f66387d6324a6ba87a47347eacc720b702902c18308a}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a13c6851b1d8269b5de114f66387d6324a6ba87a47347eacc720b702902c18308a}} 
k\+None&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{kRetryOnChange@{kRetryOnChange}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!kRetryOnChange@{kRetryOnChange}}}\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a13c6851b1d8269b5de114f66387d6324a6d9538ca67ccd79e1986ff074e095eb4}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a13c6851b1d8269b5de114f66387d6324a6d9538ca67ccd79e1986ff074e095eb4}} 
k\+Retry\+On\+Change&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{kChanged@{kChanged}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!kChanged@{kChanged}}}\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a13c6851b1d8269b5de114f66387d6324ad8dc86ff8347c2cef5aeebce0788dd47}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a13c6851b1d8269b5de114f66387d6324ad8dc86ff8347c2cef5aeebce0788dd47}} 
k\+Changed&\\
\hline

\end{DoxyEnumFields}


Definition at line 51 of file maglev-\/phi-\/representation-\/selector.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{51 \{ \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a13c6851b1d8269b5de114f66387d6324a6ba87a47347eacc720b702902c18308a}{kNone}}, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a13c6851b1d8269b5de114f66387d6324a6d9538ca67ccd79e1986ff074e095eb4}{kRetryOnChange}}, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a13c6851b1d8269b5de114f66387d6324ad8dc86ff8347c2cef5aeebce0788dd47}{kChanged}} \};}

\end{DoxyCode}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_adafb9a37ff045052145b7b25a45452d4}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_adafb9a37ff045052145b7b25a45452d4}} 
\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!MaglevPhiRepresentationSelector@{MaglevPhiRepresentationSelector}}
\index{MaglevPhiRepresentationSelector@{MaglevPhiRepresentationSelector}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}
\doxysubsubsection{\texorpdfstring{MaglevPhiRepresentationSelector()}{MaglevPhiRepresentationSelector()}}
{\footnotesize\ttfamily v8\+::internal\+::maglev\+::\+Maglev\+Phi\+Representation\+Selector\+::\+Maglev\+Phi\+Representation\+Selector (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph}{Graph}} $\ast$}]{graph }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}



Definition at line 30 of file maglev-\/phi-\/representation-\/selector.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{31       : \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a608a3c5465a84d13dccaf14c7a3f8db5}{graph\_}}(\mbox{\hyperlink{flag-definitions_8h_a06b2b7e5d08192bb493bba69cb19a7a8}{graph}}),}
\DoxyCodeLine{32         \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a31e44b957112afe3c0d0b127a2bf3597}{phi\_taggings\_}}(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a4543e9c3aa970f10bad2cba594bc5905}{zone}}()),}
\DoxyCodeLine{33         \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a64ce39a55f3c2d6c33fad6a0ea04c1ce}{predecessors\_}}(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a4543e9c3aa970f10bad2cba594bc5905}{zone}}()),}
\DoxyCodeLine{34         \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a918a57faf34a73b2ce1fd37bc5d8bb7c}{new\_nodes\_at\_start\_}}(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a4543e9c3aa970f10bad2cba594bc5905}{zone}}()) \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a518548d6aafdacffeae342bcec275140}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a518548d6aafdacffeae342bcec275140}} 
\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!AddNode@{AddNode}}
\index{AddNode@{AddNode}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}
\doxysubsubsection{\texorpdfstring{AddNode()}{AddNode()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$ v8\+::internal\+::maglev\+::\+Maglev\+Phi\+Representation\+Selector\+::\+Add\+Node (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$}]{node,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BasicBlock}{Basic\+Block}} $\ast$}]{block,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a8fc64505413ea38361fc9f83f66c8af9}{New\+Node\+Position}}}]{pos,  }\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ProcessingState}{Processing\+State}} $\ast$}]{state,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1DeoptFrame}{Deopt\+Frame}} $\ast$}]{deopt\+\_\+frame = {\ttfamily \mbox{\hyperlink{flag-definitions_8h_aca14fbede0905858c819226fce3678cc}{nullptr}}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1118 of file maglev-\/phi-\/representation-\/selector.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1120                                                            \{}
\DoxyCodeLine{1121   \textcolor{keywordflow}{if} (node-\/>properties().can\_eager\_deopt()) \{}
\DoxyCodeLine{1122     \mbox{\hyperlink{src_2base_2logging_8h_a7b9f9517fedacc2a1a56c2bbb9d03688}{DCHECK\_NOT\_NULL}}(deopt\_frame);}
\DoxyCodeLine{1123     node-\/>SetEagerDeoptInfo(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a4543e9c3aa970f10bad2cba594bc5905}{zone}}(), *deopt\_frame);}
\DoxyCodeLine{1124   \}}
\DoxyCodeLine{1125 }
\DoxyCodeLine{1126   \textcolor{keywordflow}{if} (pos == \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a8fc64505413ea38361fc9f83f66c8af9a66453ffa00f459519af19480d2d5be82}{NewNodePosition::kBeginingOfCurrentBlock}}) \{}
\DoxyCodeLine{1127     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(block, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a44ce1683e9a4dfdaceace00195ac06ff}{current\_block\_}});}
\DoxyCodeLine{1128     \mbox{\hyperlink{src_2base_2logging_8h_a7b9f9517fedacc2a1a56c2bbb9d03688}{DCHECK\_NOT\_NULL}}(state);}
\DoxyCodeLine{1129     \textcolor{comment}{// If the node iterator is currently on the 1st node of the block, we need}}
\DoxyCodeLine{1130     \textcolor{comment}{// to use `InsertBefore` to insert a new node. Otherwise, we can use}}
\DoxyCodeLine{1131     \textcolor{comment}{// `AddFront`.}}
\DoxyCodeLine{1132     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a918a57faf34a73b2ce1fd37bc5d8bb7c}{new\_nodes\_at\_start\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1ZoneVector_af4d3701d605c7c9ed301a2ef3880784f}{push\_back}}(node);}
\DoxyCodeLine{1133   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1134     block-\/>nodes().push\_back(node);}
\DoxyCodeLine{1135   \}}
\DoxyCodeLine{1136 }
\DoxyCodeLine{1137   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a48669c6574fa828f27fe839599edca70}{RegisterNewNode}}(node);}
\DoxyCodeLine{1138   \textcolor{keywordflow}{return} node;}
\DoxyCodeLine{1139 \}}

\end{DoxyCode}


References v8\+::internal\+::maglev\+::\+Op\+Properties\+::can\+\_\+eager\+\_\+deopt(), current\+\_\+block\+\_\+, DCHECK\+\_\+\+EQ, DCHECK\+\_\+\+NOT\+\_\+\+NULL, k\+Begining\+Of\+Current\+Block, new\+\_\+nodes\+\_\+at\+\_\+start\+\_\+, v8\+::internal\+::maglev\+::\+Basic\+Block\+::nodes(), v8\+::internal\+::maglev\+::\+Node\+Base\+::properties(), v8\+::internal\+::\+Zone\+Vector$<$ T $>$\+::push\+\_\+back(), Register\+New\+Node(), v8\+::internal\+::maglev\+::\+Node\+Base\+::\+Set\+Eager\+Deopt\+Info(), and zone().



Referenced by Add\+Node\+At\+Block\+End(), and Ensure\+Phi\+Tagged().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a518548d6aafdacffeae342bcec275140_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a518548d6aafdacffeae342bcec275140_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_abd9a1409affd00a538817d11578569a9}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_abd9a1409affd00a538817d11578569a9}} 
\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!AddNodeAtBlockEnd@{AddNodeAtBlockEnd}}
\index{AddNodeAtBlockEnd@{AddNodeAtBlockEnd}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}
\doxysubsubsection{\texorpdfstring{AddNodeAtBlockEnd()}{AddNodeAtBlockEnd()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$ v8\+::internal\+::maglev\+::\+Maglev\+Phi\+Representation\+Selector\+::\+Add\+Node\+At\+Block\+End (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$}]{new\+\_\+node,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BasicBlock}{Basic\+Block}} $\ast$}]{block,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1DeoptFrame}{Deopt\+Frame}} $\ast$}]{deopt\+\_\+frame = {\ttfamily \mbox{\hyperlink{flag-definitions_8h_aca14fbede0905858c819226fce3678cc}{nullptr}}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1112 of file maglev-\/phi-\/representation-\/selector.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1113                                                                  \{}
\DoxyCodeLine{1114   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a518548d6aafdacffeae342bcec275140}{AddNode}}(node, block, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a8fc64505413ea38361fc9f83f66c8af9a80008467dddaca1679eb05b79e924793}{NewNodePosition::kEndOfBlock}}, \textcolor{keyword}{nullptr},}
\DoxyCodeLine{1115                  deopt\_frame);}
\DoxyCodeLine{1116 \}}

\end{DoxyCode}


References Add\+Node(), and k\+End\+Of\+Block.



Referenced by Convert\+Tagged\+Phi\+To(), and Get\+Replacement\+For\+Phi\+Input\+Conversion().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_abd9a1409affd00a538817d11578569a9_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_abd9a1409affd00a538817d11578569a9_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa7d06913b62d87e853c009cd00a14a01}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa7d06913b62d87e853c009cd00a14a01}} 
\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!CanHoistUntaggingTo@{CanHoistUntaggingTo}}
\index{CanHoistUntaggingTo@{CanHoistUntaggingTo}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}
\doxysubsubsection{\texorpdfstring{CanHoistUntaggingTo()}{CanHoistUntaggingTo()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::maglev\+::\+Maglev\+Phi\+Representation\+Selector\+::\+Can\+Hoist\+Untagging\+To (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BasicBlock}{Basic\+Block}} $\ast$}]{block }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 70 of file maglev-\/phi-\/representation-\/selector.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{70                                                                            \{}
\DoxyCodeLine{71   \textcolor{keywordflow}{if} (block-\/>successors().size() != 1) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{72   BasicBlock* next = block-\/>successors()[0];}
\DoxyCodeLine{73   \textcolor{comment}{// To be able to hoist above resumable loops we would have to be able to}}
\DoxyCodeLine{74   \textcolor{comment}{// convert during resumption.}}
\DoxyCodeLine{75   \textcolor{keywordflow}{return} !next-\/>state()-\/>is\_resumable\_loop();}
\DoxyCodeLine{76 \}}

\end{DoxyCode}


References v8\+::internal\+::maglev\+::\+Merge\+Point\+Interpreter\+Frame\+State\+::is\+\_\+resumable\+\_\+loop(), v8\+::internal\+::maglev\+::\+Basic\+Block\+::state(), and v8\+::internal\+::maglev\+::\+Basic\+Block\+::successors().



Referenced by Process\+Phi().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa7d06913b62d87e853c009cd00a14a01_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa7d06913b62d87e853c009cd00a14a01_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a4fb3b23b553b531653f6699ae18fe299}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a4fb3b23b553b531653f6699ae18fe299}} 
\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!ConvertTaggedPhiTo@{ConvertTaggedPhiTo}}
\index{ConvertTaggedPhiTo@{ConvertTaggedPhiTo}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}
\doxysubsubsection{\texorpdfstring{ConvertTaggedPhiTo()}{ConvertTaggedPhiTo()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Maglev\+Phi\+Representation\+Selector\+::\+Convert\+Tagged\+Phi\+To (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Phi}{Phi}} $\ast$}]{phi,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9}{Value\+Representation}}}]{repr,  }\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aaf450f1a55bd81acbb20eb985f41fe53}{Hoist\+Type\+List}} \&}]{hoist\+\_\+untagging }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 449 of file maglev-\/phi-\/representation-\/selector.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{450                                                                               \{}
\DoxyCodeLine{451   \textcolor{comment}{// We currently only support Int32, Float64, and HoleyFloat64 untagged phis.}}
\DoxyCodeLine{452   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(repr == \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a10c09f8bff3c372f21cd8a13e01ae941}{ValueRepresentation::kInt32}} ||}
\DoxyCodeLine{453          repr == \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a78f9bf284cc7269efe0093b7c505feaa}{ValueRepresentation::kFloat64}} ||}
\DoxyCodeLine{454          repr == \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9ad244468d79bbe6bb65b6133a5f0f3ee4}{ValueRepresentation::kHoleyFloat64}});}
\DoxyCodeLine{455   phi-\/>change\_representation(repr);}
\DoxyCodeLine{456   \textcolor{comment}{// Re-\/initialise register data, since we might have changed from integer}}
\DoxyCodeLine{457   \textcolor{comment}{// registers to floating registers.}}
\DoxyCodeLine{458   phi-\/>InitializeRegisterData();}
\DoxyCodeLine{459 }
\DoxyCodeLine{460   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} input\_index = 0; input\_index < phi-\/>input\_count(); input\_index++) \{}
\DoxyCodeLine{461     ValueNode* input = phi-\/>input(input\_index).node();}
\DoxyCodeLine{462 \textcolor{preprocessor}{\#define TRACE\_INPUT\_LABEL               \(\backslash\)}}
\DoxyCodeLine{463 \textcolor{preprocessor}{  "{}    @ Input "{}} << input\_index << "{} ("{} \(\backslash\)}
\DoxyCodeLine{464                  << PrintNodeLabel(graph\_labeller(), input) << "{})"{}}
\DoxyCodeLine{465 }
\DoxyCodeLine{466     \textcolor{keywordflow}{if} (input-\/>Is<SmiConstant>()) \{}
\DoxyCodeLine{467       \textcolor{keywordflow}{switch} (repr) \{}
\DoxyCodeLine{468         \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a10c09f8bff3c372f21cd8a13e01ae941}{ValueRepresentation::kInt32}}:}
\DoxyCodeLine{469           \mbox{\hyperlink{maglev-phi-representation-selector_8cc_a9cdc13bcf4b6a55b561768da4658ae30}{TRACE\_UNTAGGING}}(\mbox{\hyperlink{maglev-phi-representation-selector_8cc_a4eeeb4258c579f69f84d21b246581b50}{TRACE\_INPUT\_LABEL}} << \textcolor{stringliteral}{"{}: Making Int32 instead of Smi"{}});}
\DoxyCodeLine{470           phi-\/>change\_input(input\_index,}
\DoxyCodeLine{471                             \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a608a3c5465a84d13dccaf14c7a3f8db5}{graph\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph_a8e8f80db7b875dbde631b88ecb506f8c}{GetInt32Constant}}(}
\DoxyCodeLine{472                                 input-\/>Cast<SmiConstant>()-\/>value().value()));}
\DoxyCodeLine{473           \textcolor{keywordflow}{break};}
\DoxyCodeLine{474         \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a78f9bf284cc7269efe0093b7c505feaa}{ValueRepresentation::kFloat64}}:}
\DoxyCodeLine{475         \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9ad244468d79bbe6bb65b6133a5f0f3ee4}{ValueRepresentation::kHoleyFloat64}}:}
\DoxyCodeLine{476           \mbox{\hyperlink{maglev-phi-representation-selector_8cc_a9cdc13bcf4b6a55b561768da4658ae30}{TRACE\_UNTAGGING}}(\mbox{\hyperlink{maglev-phi-representation-selector_8cc_a4eeeb4258c579f69f84d21b246581b50}{TRACE\_INPUT\_LABEL}}}
\DoxyCodeLine{477                           << \textcolor{stringliteral}{"{}: Making Float64 instead of Smi"{}});}
\DoxyCodeLine{478           phi-\/>change\_input(input\_index,}
\DoxyCodeLine{479                             \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a608a3c5465a84d13dccaf14c7a3f8db5}{graph\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph_a01168a474d586bff0a41ef4876af2ee0}{GetFloat64Constant}}(}
\DoxyCodeLine{480                                 input-\/>Cast<SmiConstant>()-\/>value().value()));}
\DoxyCodeLine{481           \textcolor{keywordflow}{break};}
\DoxyCodeLine{482         \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9af5fca11a36e986e3623193c5cccc4f39}{ValueRepresentation::kUint32}}:}
\DoxyCodeLine{483           \mbox{\hyperlink{namespacev8_1_1internal_a538499d2a66bf6e9d3182a57104edec9}{UNIMPLEMENTED}}();}
\DoxyCodeLine{484         \textcolor{keywordflow}{default}:}
\DoxyCodeLine{485           \mbox{\hyperlink{namespacev8_1_1internal_acdec713c25068019f935e35976f5b666}{UNREACHABLE}}();}
\DoxyCodeLine{486       \}}
\DoxyCodeLine{487     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (Constant* constant = input-\/>TryCast<Constant>()) \{}
\DoxyCodeLine{488       \mbox{\hyperlink{maglev-phi-representation-selector_8cc_a9cdc13bcf4b6a55b561768da4658ae30}{TRACE\_UNTAGGING}}(\mbox{\hyperlink{maglev-phi-representation-selector_8cc_a4eeeb4258c579f69f84d21b246581b50}{TRACE\_INPUT\_LABEL}}}
\DoxyCodeLine{489                       << \textcolor{stringliteral}{"{}: Making Float64 instead of Constant"{}});}
\DoxyCodeLine{490       \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(constant-\/>object().IsHeapNumber());}
\DoxyCodeLine{491       \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(repr == \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a78f9bf284cc7269efe0093b7c505feaa}{ValueRepresentation::kFloat64}} ||}
\DoxyCodeLine{492              repr == \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9ad244468d79bbe6bb65b6133a5f0f3ee4}{ValueRepresentation::kHoleyFloat64}});}
\DoxyCodeLine{493       phi-\/>change\_input(input\_index,}
\DoxyCodeLine{494                         \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a608a3c5465a84d13dccaf14c7a3f8db5}{graph\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph_a01168a474d586bff0a41ef4876af2ee0}{GetFloat64Constant}}(}
\DoxyCodeLine{495                             constant-\/>object().AsHeapNumber().value()));}
\DoxyCodeLine{496     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (input-\/>properties().is\_conversion()) \{}
\DoxyCodeLine{497       \textcolor{comment}{// Unwrapping the conversion.}}
\DoxyCodeLine{498       \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(input-\/>value\_representation(), \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a3eee36fbbe00cfed0ef24d756afd1784}{ValueRepresentation::kTagged}});}
\DoxyCodeLine{499       \textcolor{comment}{// Needs to insert a new conversion.}}
\DoxyCodeLine{500       ValueNode* bypassed\_input = input-\/>input(0).node();}
\DoxyCodeLine{501       \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9}{ValueRepresentation}} from\_repr = bypassed\_input-\/>value\_representation();}
\DoxyCodeLine{502       ValueNode* new\_input;}
\DoxyCodeLine{503       \textcolor{keywordflow}{if} (from\_repr == repr) \{}
\DoxyCodeLine{504         \mbox{\hyperlink{maglev-phi-representation-selector_8cc_a9cdc13bcf4b6a55b561768da4658ae30}{TRACE\_UNTAGGING}}(\mbox{\hyperlink{maglev-phi-representation-selector_8cc_a4eeeb4258c579f69f84d21b246581b50}{TRACE\_INPUT\_LABEL}} << \textcolor{stringliteral}{"{}: Bypassing conversion"{}});}
\DoxyCodeLine{505         new\_input = bypassed\_input;}
\DoxyCodeLine{506       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{507         \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a1f79cb46bd5bd0041c0a54358b3d2cec}{Opcode}} conv\_opcode =}
\DoxyCodeLine{508             \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-phi-representation-selector_8cc_03_a39b3710e558defb8210e6320e3c98e07}{GetOpcodeForConversion}}(from\_repr, repr, \textcolor{comment}{/*truncating*/} \textcolor{keyword}{false});}
\DoxyCodeLine{509         \textcolor{keywordflow}{switch} (conv\_opcode) \{}
\DoxyCodeLine{510           \textcolor{keywordflow}{case} Opcode::kChangeInt32ToFloat64: \{}
\DoxyCodeLine{511             new\_input =}
\DoxyCodeLine{512                 GetReplacementForPhiInputConversion<ChangeInt32ToFloat64>(}
\DoxyCodeLine{513                     input, phi, input\_index);}
\DoxyCodeLine{514             \textcolor{keywordflow}{break};}
\DoxyCodeLine{515           \}}
\DoxyCodeLine{516           \textcolor{keywordflow}{case} Opcode::kChangeUint32ToFloat64: \{}
\DoxyCodeLine{517             new\_input =}
\DoxyCodeLine{518                 GetReplacementForPhiInputConversion<ChangeUint32ToFloat64>(}
\DoxyCodeLine{519                     input, phi, input\_index);}
\DoxyCodeLine{520             \textcolor{keywordflow}{break};}
\DoxyCodeLine{521           \}}
\DoxyCodeLine{522 \textcolor{preprocessor}{\#ifdef V8\_ENABLE\_EXPERIMENTAL\_UNDEFINED\_DOUBLE}}
\DoxyCodeLine{523           \textcolor{keywordflow}{case} Opcode::kFloat64ToHoleyFloat64: \{}
\DoxyCodeLine{524             new\_input =}
\DoxyCodeLine{525                 GetReplacementForPhiInputConversion<Float64ToHoleyFloat64>(}
\DoxyCodeLine{526                     input, phi, input\_index);}
\DoxyCodeLine{527             \textcolor{keywordflow}{break};}
\DoxyCodeLine{528           \}}
\DoxyCodeLine{529 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// V8\_ENABLE\_EXPERIMENTAL\_UNDEFINED\_DOUBLE}}
\DoxyCodeLine{530           \textcolor{keywordflow}{case} Opcode::kIdentity:}
\DoxyCodeLine{531             \mbox{\hyperlink{maglev-phi-representation-selector_8cc_a9cdc13bcf4b6a55b561768da4658ae30}{TRACE\_UNTAGGING}}(\mbox{\hyperlink{maglev-phi-representation-selector_8cc_a4eeeb4258c579f69f84d21b246581b50}{TRACE\_INPUT\_LABEL}} << \textcolor{stringliteral}{"{}: Bypassing conversion"{}});}
\DoxyCodeLine{532             new\_input = bypassed\_input;}
\DoxyCodeLine{533             \textcolor{keywordflow}{break};}
\DoxyCodeLine{534           \textcolor{keywordflow}{default}:}
\DoxyCodeLine{535             \mbox{\hyperlink{namespacev8_1_1internal_acdec713c25068019f935e35976f5b666}{UNREACHABLE}}();}
\DoxyCodeLine{536         \}}
\DoxyCodeLine{537       \}}
\DoxyCodeLine{538       phi-\/>change\_input(input\_index, new\_input);}
\DoxyCodeLine{539     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (Phi* input\_phi = input-\/>TryCast<Phi>()) \{}
\DoxyCodeLine{540       \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9}{ValueRepresentation}} from\_repr = input\_phi-\/>value\_representation();}
\DoxyCodeLine{541       \textcolor{keywordflow}{if} (from\_repr == \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a3eee36fbbe00cfed0ef24d756afd1784}{ValueRepresentation::kTagged}}) \{}
\DoxyCodeLine{542         \textcolor{comment}{// We allow speculative untagging of the backedge for loop phis from}}
\DoxyCodeLine{543         \textcolor{comment}{// loops that have been peeled.}}
\DoxyCodeLine{544         \textcolor{comment}{// This can lead to deopt loops (eg, if after the last iteration of a}}
\DoxyCodeLine{545         \textcolor{comment}{// loop, a loop Phi has a specific representation that it never has in}}
\DoxyCodeLine{546         \textcolor{comment}{// the loop), but this case should (hopefully) be rare.}}
\DoxyCodeLine{547 }
\DoxyCodeLine{548         \textcolor{comment}{// We know that we are on the backedge input of a peeled loop, because}}
\DoxyCodeLine{549         \textcolor{comment}{// if it wasn't the case, then Process(Phi*) would not have decided to}}
\DoxyCodeLine{550         \textcolor{comment}{// untag this Phi, and this function would not have been called (because}}
\DoxyCodeLine{551         \textcolor{comment}{// except for backedges of peeled loops, tagged inputs prevent phi}}
\DoxyCodeLine{552         \textcolor{comment}{// untagging).}}
\DoxyCodeLine{553         \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(phi-\/>merge\_state()-\/>is\_loop\_with\_peeled\_iteration());}
\DoxyCodeLine{554         \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(phi-\/>is\_backedge\_offset(input\_index));}
\DoxyCodeLine{555 }
\DoxyCodeLine{556         DeoptFrame* deopt\_frame = phi-\/>merge\_state()-\/>backedge\_deopt\_frame();}
\DoxyCodeLine{557         \textcolor{keywordflow}{switch} (repr) \{}
\DoxyCodeLine{558           \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a10c09f8bff3c372f21cd8a13e01ae941}{ValueRepresentation::kInt32}}: \{}
\DoxyCodeLine{559             phi-\/>change\_input(}
\DoxyCodeLine{560                 input\_index,}
\DoxyCodeLine{561                 \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_abd9a1409affd00a538817d11578569a9}{AddNodeAtBlockEnd}}(}
\DoxyCodeLine{562                     NodeBase::New<CheckedSmiUntag>(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a4543e9c3aa970f10bad2cba594bc5905}{zone}}(), \{input\_phi\}),}
\DoxyCodeLine{563                     phi-\/>predecessor\_at(input\_index), deopt\_frame));}
\DoxyCodeLine{564             \textcolor{keywordflow}{break};}
\DoxyCodeLine{565           \}}
\DoxyCodeLine{566           \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a78f9bf284cc7269efe0093b7c505feaa}{ValueRepresentation::kFloat64}}: \{}
\DoxyCodeLine{567             phi-\/>change\_input(}
\DoxyCodeLine{568                 input\_index,}
\DoxyCodeLine{569                 \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_abd9a1409affd00a538817d11578569a9}{AddNodeAtBlockEnd}}(}
\DoxyCodeLine{570                     NodeBase::New<CheckedNumberOrOddballToFloat64>(}
\DoxyCodeLine{571                         \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a4543e9c3aa970f10bad2cba594bc5905}{zone}}(), \{input\_phi\},}
\DoxyCodeLine{572                         \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_aba9aaca181deb02c08993f5df29a9126a8b0f0c0179dc58d61179524247726ce6}{TaggedToFloat64ConversionType::kOnlyNumber}}),}
\DoxyCodeLine{573                     phi-\/>predecessor\_at(input\_index), deopt\_frame));}
\DoxyCodeLine{574             \textcolor{keywordflow}{break};}
\DoxyCodeLine{575           \}}
\DoxyCodeLine{576           \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9ad244468d79bbe6bb65b6133a5f0f3ee4}{ValueRepresentation::kHoleyFloat64}}: \{}
\DoxyCodeLine{577             phi-\/>change\_input(}
\DoxyCodeLine{578                 input\_index,}
\DoxyCodeLine{579                 \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_abd9a1409affd00a538817d11578569a9}{AddNodeAtBlockEnd}}(}
\DoxyCodeLine{580                     NodeBase::New<CheckedNumberOrOddballToHoleyFloat64>(}
\DoxyCodeLine{581                         \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a4543e9c3aa970f10bad2cba594bc5905}{zone}}(), \{input\_phi\}),}
\DoxyCodeLine{582                     phi-\/>predecessor\_at(input\_index), deopt\_frame));}
\DoxyCodeLine{583             \textcolor{keywordflow}{break};}
\DoxyCodeLine{584           \}}
\DoxyCodeLine{585           \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a3eee36fbbe00cfed0ef24d756afd1784}{ValueRepresentation::kTagged}}:}
\DoxyCodeLine{586           \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9ab9beefa74bd44b3a0829534370d1194a}{ValueRepresentation::kIntPtr}}:}
\DoxyCodeLine{587           \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9af5fca11a36e986e3623193c5cccc4f39}{ValueRepresentation::kUint32}}:}
\DoxyCodeLine{588             \mbox{\hyperlink{namespacev8_1_1internal_acdec713c25068019f935e35976f5b666}{UNREACHABLE}}();}
\DoxyCodeLine{589         \}}
\DoxyCodeLine{590         \mbox{\hyperlink{maglev-phi-representation-selector_8cc_a9cdc13bcf4b6a55b561768da4658ae30}{TRACE\_UNTAGGING}}(\mbox{\hyperlink{maglev-phi-representation-selector_8cc_a4eeeb4258c579f69f84d21b246581b50}{TRACE\_INPUT\_LABEL}}}
\DoxyCodeLine{591                         << \textcolor{stringliteral}{"{}: Eagerly untagging Phi on backedge"{}});}
\DoxyCodeLine{592       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (from\_repr != repr \&\&}
\DoxyCodeLine{593                  from\_repr == \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a10c09f8bff3c372f21cd8a13e01ae941}{ValueRepresentation::kInt32}}) \{}
\DoxyCodeLine{594         \textcolor{comment}{// We allow widening of Int32 inputs to Float64, which can lead to the}}
\DoxyCodeLine{595         \textcolor{comment}{// current Phi having a Float64 representation but having some Int32}}
\DoxyCodeLine{596         \textcolor{comment}{// inputs, which will require an Int32ToFloat64 conversion.}}
\DoxyCodeLine{597         \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(repr == \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a78f9bf284cc7269efe0093b7c505feaa}{ValueRepresentation::kFloat64}} ||}
\DoxyCodeLine{598                repr == \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9ad244468d79bbe6bb65b6133a5f0f3ee4}{ValueRepresentation::kHoleyFloat64}});}
\DoxyCodeLine{599         phi-\/>change\_input(input\_index,}
\DoxyCodeLine{600                           \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_abd9a1409affd00a538817d11578569a9}{AddNodeAtBlockEnd}}(NodeBase::New<ChangeInt32ToFloat64>(}
\DoxyCodeLine{601                                                 \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a4543e9c3aa970f10bad2cba594bc5905}{zone}}(), \{input\_phi\}),}
\DoxyCodeLine{602                                             phi-\/>predecessor\_at(input\_index)));}
\DoxyCodeLine{603         \mbox{\hyperlink{maglev-phi-representation-selector_8cc_a9cdc13bcf4b6a55b561768da4658ae30}{TRACE\_UNTAGGING}}(}
\DoxyCodeLine{604             \mbox{\hyperlink{maglev-phi-representation-selector_8cc_a4eeeb4258c579f69f84d21b246581b50}{TRACE\_INPUT\_LABEL}}}
\DoxyCodeLine{605             << \textcolor{stringliteral}{"{}: Converting phi input with a ChangeInt32ToFloat64"{}});}
\DoxyCodeLine{606       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{607         \textcolor{comment}{// We allow Float64 to silently be used as HoleyFloat64.}}
\DoxyCodeLine{608         \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(from\_repr != repr,}
\DoxyCodeLine{609                        from\_repr == \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a78f9bf284cc7269efe0093b7c505feaa}{ValueRepresentation::kFloat64}} \&\&}
\DoxyCodeLine{610                            repr == \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9ad244468d79bbe6bb65b6133a5f0f3ee4}{ValueRepresentation::kHoleyFloat64}});}
\DoxyCodeLine{611         \mbox{\hyperlink{maglev-phi-representation-selector_8cc_a9cdc13bcf4b6a55b561768da4658ae30}{TRACE\_UNTAGGING}}(\mbox{\hyperlink{maglev-phi-representation-selector_8cc_a4eeeb4258c579f69f84d21b246581b50}{TRACE\_INPUT\_LABEL}}}
\DoxyCodeLine{612                         << \textcolor{stringliteral}{"{}: Keeping untagged Phi input as-\/is"{}});}
\DoxyCodeLine{613       \}}
\DoxyCodeLine{614     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (hoist\_untagging[input\_index] != \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa988ff3862889cd903996cf98c3fb4a9a35c3ace1970663a16e5c65baa5941b13}{HoistType::kNone}}) \{}
\DoxyCodeLine{615       \mbox{\hyperlink{src_2base_2logging_8h_aca32614b4d2aea7dd9abdeb222bf02f3}{CHECK\_EQ}}(input-\/>value\_representation(), \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a3eee36fbbe00cfed0ef24d756afd1784}{ValueRepresentation::kTagged}});}
\DoxyCodeLine{616       BasicBlock* block;}
\DoxyCodeLine{617       DeoptFrame* deopt\_frame;}
\DoxyCodeLine{618       \textcolor{keyword}{auto} GetDeoptFrame = [](BasicBlock* block) \{}
\DoxyCodeLine{619         \textcolor{keywordflow}{return} \&block-\/>control\_node()}
\DoxyCodeLine{620                     -\/>Cast<CheckpointedJump>()}
\DoxyCodeLine{621                     -\/>eager\_deopt\_info()}
\DoxyCodeLine{622                     -\/>top\_frame();}
\DoxyCodeLine{623       \};}
\DoxyCodeLine{624       \textcolor{keywordflow}{switch} (hoist\_untagging[input\_index]) \{}
\DoxyCodeLine{625         \textcolor{keywordflow}{case} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa988ff3862889cd903996cf98c3fb4a9a737e423eae8fce2e0bdf86e0b26e8af0}{HoistType::kLoopEntryUnchecked}}:}
\DoxyCodeLine{626           block = phi-\/>merge\_state()-\/>predecessor\_at(input\_index);}
\DoxyCodeLine{627           deopt\_frame = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{628           \textcolor{keywordflow}{break};}
\DoxyCodeLine{629         \textcolor{keywordflow}{case} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa988ff3862889cd903996cf98c3fb4a9aa6ac8096e9e9b45f9bd89fc1cbc7af34}{HoistType::kLoopEntry}}:}
\DoxyCodeLine{630           block = phi-\/>merge\_state()-\/>predecessor\_at(input\_index);}
\DoxyCodeLine{631           deopt\_frame = GetDeoptFrame(block);}
\DoxyCodeLine{632           \textcolor{keywordflow}{break};}
\DoxyCodeLine{633         \textcolor{keywordflow}{case} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa988ff3862889cd903996cf98c3fb4a9aafe77346975634583a26d409ec0752c0}{HoistType::kPrologue}}:}
\DoxyCodeLine{634           block = *\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a608a3c5465a84d13dccaf14c7a3f8db5}{graph\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph_a9c06794820a4fbbf28e94b9a548a43bd}{begin}}();}
\DoxyCodeLine{635           deopt\_frame = GetDeoptFrame(block);}
\DoxyCodeLine{636           \textcolor{keywordflow}{break};}
\DoxyCodeLine{637         \textcolor{keywordflow}{case} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa988ff3862889cd903996cf98c3fb4a9a35c3ace1970663a16e5c65baa5941b13}{HoistType::kNone}}:}
\DoxyCodeLine{638           \mbox{\hyperlink{namespacev8_1_1internal_acdec713c25068019f935e35976f5b666}{UNREACHABLE}}();}
\DoxyCodeLine{639       \}}
\DoxyCodeLine{640       \textcolor{comment}{// Ensure the hoisted value is actually live at the hoist location.}}
\DoxyCodeLine{641       \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(input-\/>Is<InitialValue>() ||}
\DoxyCodeLine{642             (phi-\/>is\_loop\_phi() \&\& !phi-\/>is\_backedge\_offset(input\_index)));}
\DoxyCodeLine{643       ValueNode* untagged;}
\DoxyCodeLine{644       \textcolor{keywordflow}{switch} (repr) \{}
\DoxyCodeLine{645         \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a10c09f8bff3c372f21cd8a13e01ae941}{ValueRepresentation::kInt32}}:}
\DoxyCodeLine{646           \textcolor{keywordflow}{if} (!deopt\_frame) \{}
\DoxyCodeLine{647             \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a4ef3bd33f4b7e932bc7d71f08ce48380}{NodeTypeIs}}(input-\/>GetStaticType(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a608a3c5465a84d13dccaf14c7a3f8db5}{graph\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph_a8a91a67b6f81414b1d2f6bdbad77ba2b}{broker}}()),}
\DoxyCodeLine{648                               \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_ae130e68a58845a321b0b68f8c46dd5c3a02ead3bbbca0d8eb6e6a88100c156f67}{NodeType::kSmi}}));}
\DoxyCodeLine{649             untagged = \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_abd9a1409affd00a538817d11578569a9}{AddNodeAtBlockEnd}}(}
\DoxyCodeLine{650                 NodeBase::New<UnsafeSmiUntag>(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a4543e9c3aa970f10bad2cba594bc5905}{zone}}(), \{input\}), block);}
\DoxyCodeLine{651 }
\DoxyCodeLine{652           \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{653             untagged = \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_abd9a1409affd00a538817d11578569a9}{AddNodeAtBlockEnd}}(}
\DoxyCodeLine{654                 NodeBase::New<CheckedNumberOrOddballToFloat64>(}
\DoxyCodeLine{655                     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a4543e9c3aa970f10bad2cba594bc5905}{zone}}(), \{input\},}
\DoxyCodeLine{656                     \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_aba9aaca181deb02c08993f5df29a9126a8b0f0c0179dc58d61179524247726ce6}{TaggedToFloat64ConversionType::kOnlyNumber}}),}
\DoxyCodeLine{657                 block, deopt\_frame);}
\DoxyCodeLine{658             untagged =}
\DoxyCodeLine{659                 \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_abd9a1409affd00a538817d11578569a9}{AddNodeAtBlockEnd}}(NodeBase::New<CheckedTruncateFloat64ToInt32>(}
\DoxyCodeLine{660                                       \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a4543e9c3aa970f10bad2cba594bc5905}{zone}}(), \{untagged\}),}
\DoxyCodeLine{661                                   block, deopt\_frame);}
\DoxyCodeLine{662           \}}
\DoxyCodeLine{663           \textcolor{keywordflow}{break};}
\DoxyCodeLine{664         \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a78f9bf284cc7269efe0093b7c505feaa}{ValueRepresentation::kFloat64}}:}
\DoxyCodeLine{665         \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9ad244468d79bbe6bb65b6133a5f0f3ee4}{ValueRepresentation::kHoleyFloat64}}:}
\DoxyCodeLine{666           \textcolor{keywordflow}{if} (!deopt\_frame) \{}
\DoxyCodeLine{667             \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a4ef3bd33f4b7e932bc7d71f08ce48380}{NodeTypeIs}}(input-\/>GetStaticType(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a608a3c5465a84d13dccaf14c7a3f8db5}{graph\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph_a8a91a67b6f81414b1d2f6bdbad77ba2b}{broker}}()),}
\DoxyCodeLine{668                               NodeType::kNumber));}
\DoxyCodeLine{669             untagged = \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_abd9a1409affd00a538817d11578569a9}{AddNodeAtBlockEnd}}(}
\DoxyCodeLine{670                 NodeBase::New<UncheckedNumberOrOddballToFloat64>(}
\DoxyCodeLine{671                     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a4543e9c3aa970f10bad2cba594bc5905}{zone}}(), \{input\},}
\DoxyCodeLine{672                     \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_aba9aaca181deb02c08993f5df29a9126a8b0f0c0179dc58d61179524247726ce6}{TaggedToFloat64ConversionType::kOnlyNumber}}),}
\DoxyCodeLine{673                 block);}
\DoxyCodeLine{674           \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{675             \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!phi-\/>uses\_require\_31\_bit\_value());}
\DoxyCodeLine{676             untagged = \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_abd9a1409affd00a538817d11578569a9}{AddNodeAtBlockEnd}}(}
\DoxyCodeLine{677                 NodeBase::New<CheckedNumberOrOddballToFloat64>(}
\DoxyCodeLine{678                     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a4543e9c3aa970f10bad2cba594bc5905}{zone}}(), \{input\},}
\DoxyCodeLine{679                     \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_aba9aaca181deb02c08993f5df29a9126a8b0f0c0179dc58d61179524247726ce6}{TaggedToFloat64ConversionType::kOnlyNumber}}),}
\DoxyCodeLine{680                 block, deopt\_frame);}
\DoxyCodeLine{681             \textcolor{keywordflow}{if} (repr != \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9ad244468d79bbe6bb65b6133a5f0f3ee4}{ValueRepresentation::kHoleyFloat64}}) \{}
\DoxyCodeLine{682               untagged =}
\DoxyCodeLine{683                   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_abd9a1409affd00a538817d11578569a9}{AddNodeAtBlockEnd}}(NodeBase::New<CheckedHoleyFloat64ToFloat64>(}
\DoxyCodeLine{684                                         \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a4543e9c3aa970f10bad2cba594bc5905}{zone}}(), \{untagged\}),}
\DoxyCodeLine{685                                     block, deopt\_frame);}
\DoxyCodeLine{686             \}}
\DoxyCodeLine{687           \}}
\DoxyCodeLine{688           \textcolor{keywordflow}{break};}
\DoxyCodeLine{689         \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a3eee36fbbe00cfed0ef24d756afd1784}{ValueRepresentation::kTagged}}:}
\DoxyCodeLine{690         \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9af5fca11a36e986e3623193c5cccc4f39}{ValueRepresentation::kUint32}}:}
\DoxyCodeLine{691         \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9ab9beefa74bd44b3a0829534370d1194a}{ValueRepresentation::kIntPtr}}:}
\DoxyCodeLine{692           \mbox{\hyperlink{namespacev8_1_1internal_acdec713c25068019f935e35976f5b666}{UNREACHABLE}}();}
\DoxyCodeLine{693       \}}
\DoxyCodeLine{694       phi-\/>change\_input(input\_index, untagged);}
\DoxyCodeLine{695     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{696       \mbox{\hyperlink{maglev-phi-representation-selector_8cc_a9cdc13bcf4b6a55b561768da4658ae30}{TRACE\_UNTAGGING}}(\mbox{\hyperlink{maglev-phi-representation-selector_8cc_a4eeeb4258c579f69f84d21b246581b50}{TRACE\_INPUT\_LABEL}} << \textcolor{stringliteral}{"{}: Invalid input for untagged phi"{}});}
\DoxyCodeLine{697       \mbox{\hyperlink{namespacev8_1_1internal_acdec713c25068019f935e35976f5b666}{UNREACHABLE}}();}
\DoxyCodeLine{698     \}}
\DoxyCodeLine{699   \}}
\DoxyCodeLine{700 \}}

\end{DoxyCode}


References Add\+Node\+At\+Block\+End(), v8\+::internal\+::maglev\+::\+Merge\+Point\+Interpreter\+Frame\+State\+::backedge\+\_\+deopt\+\_\+frame(), v8\+::internal\+::maglev\+::\+Graph\+::begin(), v8\+::internal\+::maglev\+::\+Graph\+::broker(), v8\+::internal\+::maglev\+::\+Node\+Base\+::\+Cast(), CHECK, CHECK\+\_\+\+EQ, v8\+::internal\+::maglev\+::\+Basic\+Block\+::control\+\_\+node(), v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+EQ, DCHECK\+\_\+\+IMPLIES, v8\+::internal\+::maglev\+::\+Graph\+::\+Get\+Float64\+Constant(), v8\+::internal\+::maglev\+::\+Graph\+::\+Get\+Int32\+Constant(), v8\+::internal\+::maglev\+::anonymous\+\_\+namespace\{maglev-\/phi-\/representation-\/selector.\+cc\}\+::\+Get\+Opcode\+For\+Conversion(), v8\+::internal\+::maglev\+::\+Value\+Node\+::\+Get\+Static\+Type(), graph\+\_\+, v8\+::internal\+::maglev\+::\+Node\+Base\+::input(), v8\+::internal\+::maglev\+::\+Node\+Base\+::\+Is(), v8\+::internal\+::maglev\+::\+Phi\+::is\+\_\+backedge\+\_\+offset(), v8\+::internal\+::maglev\+::\+Op\+Properties\+::is\+\_\+conversion(), v8\+::internal\+::maglev\+::\+Phi\+::is\+\_\+loop\+\_\+phi(), v8\+::internal\+::maglev\+::\+Merge\+Point\+Interpreter\+Frame\+State\+::is\+\_\+loop\+\_\+with\+\_\+peeled\+\_\+iteration(), v8\+::internal\+::maglev\+::k\+Float64, v8\+::internal\+::maglev\+::k\+Holey\+Float64, v8\+::internal\+::maglev\+::k\+Int32, v8\+::internal\+::maglev\+::k\+Int\+Ptr, k\+Loop\+Entry, k\+Loop\+Entry\+Unchecked, k\+None, v8\+::internal\+::maglev\+::k\+Only\+Number, k\+Prologue, v8\+::internal\+::compiler\+::k\+Smi, v8\+::internal\+::maglev\+::k\+Tagged, v8\+::internal\+::maglev\+::k\+Uint32, v8\+::internal\+::maglev\+::\+Phi\+::merge\+\_\+state(), v8\+::internal\+::maglev\+::\+Input\+::node(), v8\+::internal\+::maglev\+::\+Node\+Type\+Is(), v8\+::internal\+::maglev\+::\+Phi\+::predecessor\+\_\+at(), v8\+::internal\+::maglev\+::\+Merge\+Point\+Interpreter\+Frame\+State\+::predecessor\+\_\+at(), v8\+::internal\+::maglev\+::\+Node\+Base\+::properties(), TRACE\+\_\+\+INPUT\+\_\+\+LABEL, TRACE\+\_\+\+UNTAGGING, v8\+::internal\+::maglev\+::\+Node\+Base\+::\+Try\+Cast(), v8\+::internal\+::\+UNIMPLEMENTED(), v8\+::internal\+::\+UNREACHABLE(), v8\+::internal\+::maglev\+::\+Phi\+::uses\+\_\+require\+\_\+31\+\_\+bit\+\_\+value(), v8\+::internal\+::maglev\+::\+Smi\+Constant\+::value(), v8\+::internal\+::\+Tagged$<$ Smi $>$\+::value(), v8\+::internal\+::maglev\+::\+Value\+Node\+::value\+\_\+representation(), and zone().



Referenced by Process\+Phi().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a4fb3b23b553b531653f6699ae18fe299_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a4fb3b23b553b531653f6699ae18fe299_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a3cda9d06ef5315b251f995ca97759e6c}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a3cda9d06ef5315b251f995ca97759e6c}} 
\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!EnsurePhiInputsTagged@{EnsurePhiInputsTagged}}
\index{EnsurePhiInputsTagged@{EnsurePhiInputsTagged}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}
\doxysubsubsection{\texorpdfstring{EnsurePhiInputsTagged()}{EnsurePhiInputsTagged()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Maglev\+Phi\+Representation\+Selector\+::\+Ensure\+Phi\+Inputs\+Tagged (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Phi}{Phi}} $\ast$}]{phi }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 335 of file maglev-\/phi-\/representation-\/selector.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{335                                                                     \{}
\DoxyCodeLine{336   \textcolor{comment}{// Since we are untagging some Phis, it's possible that one of the inputs of}}
\DoxyCodeLine{337   \textcolor{comment}{// \{phi\} is an untagged Phi. However, if this function is called, then we've}}
\DoxyCodeLine{338   \textcolor{comment}{// decided that \{phi\} is going to stay tagged, and thus, all of its inputs}}
\DoxyCodeLine{339   \textcolor{comment}{// should be tagged. We'll thus insert tagging operation on the untagged phi}}
\DoxyCodeLine{340   \textcolor{comment}{// inputs of \{phi\}.}}
\DoxyCodeLine{341 }
\DoxyCodeLine{342   \textcolor{keyword}{const} \textcolor{keywordtype}{int} skip\_backedge = phi-\/>is\_loop\_phi() ? 1 : 0;}
\DoxyCodeLine{343   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < phi-\/>input\_count() -\/ skip\_backedge; \mbox{\hyperlink{namespacev8_1_1internal}{i}}++) \{}
\DoxyCodeLine{344     ValueNode* input = phi-\/>input(\mbox{\hyperlink{namespacev8_1_1internal}{i}}).node();}
\DoxyCodeLine{345     \textcolor{keywordflow}{if} (Phi* phi\_input = input-\/>TryCast<Phi>()) \{}
\DoxyCodeLine{346       phi-\/>change\_input(}
\DoxyCodeLine{347           \mbox{\hyperlink{namespacev8_1_1internal}{i}}, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a474a21dc2fbb4fffd8e968253af8d739}{EnsurePhiTagged}}(phi\_input, phi-\/>predecessor\_at(\mbox{\hyperlink{namespacev8_1_1internal}{i}}),}
\DoxyCodeLine{348                              \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a8fc64505413ea38361fc9f83f66c8af9a80008467dddaca1679eb05b79e924793}{NewNodePosition::kEndOfBlock}}, \textcolor{keyword}{nullptr}, \mbox{\hyperlink{namespacev8_1_1internal}{i}}));}
\DoxyCodeLine{349     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{350       \textcolor{comment}{// Inputs of Phis that aren't Phi should always be tagged (except for the}}
\DoxyCodeLine{351       \textcolor{comment}{// phis untagged by this class, but \{phi\} isn't one of them).}}
\DoxyCodeLine{352       \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(input-\/>is\_tagged());}
\DoxyCodeLine{353     \}}
\DoxyCodeLine{354   \}}
\DoxyCodeLine{355 \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), Ensure\+Phi\+Tagged(), v8\+::internal\+::maglev\+::\+Phi\+::is\+\_\+loop\+\_\+phi(), v8\+::internal\+::maglev\+::\+Value\+Node\+::is\+\_\+tagged(), k\+End\+Of\+Block, v8\+::internal\+::maglev\+::\+Phi\+::predecessor\+\_\+at(), and v8\+::internal\+::maglev\+::\+Node\+Base\+::\+Try\+Cast().



Referenced by Process\+Phi().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a3cda9d06ef5315b251f995ca97759e6c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a3cda9d06ef5315b251f995ca97759e6c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a474a21dc2fbb4fffd8e968253af8d739}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a474a21dc2fbb4fffd8e968253af8d739}} 
\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!EnsurePhiTagged@{EnsurePhiTagged}}
\index{EnsurePhiTagged@{EnsurePhiTagged}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}
\doxysubsubsection{\texorpdfstring{EnsurePhiTagged()}{EnsurePhiTagged()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$ v8\+::internal\+::maglev\+::\+Maglev\+Phi\+Representation\+Selector\+::\+Ensure\+Phi\+Tagged (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Phi}{Phi}} $\ast$}]{phi,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BasicBlock}{Basic\+Block}} $\ast$}]{block,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a8fc64505413ea38361fc9f83f66c8af9}{New\+Node\+Position}}}]{pos,  }\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ProcessingState}{Processing\+State}} $\ast$}]{state,  }\item[{std\+::optional$<$ \mbox{\hyperlink{classint}{int}} $>$}]{predecessor\+\_\+index = {\ttfamily std\+:\+:nullopt} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 987 of file maglev-\/phi-\/representation-\/selector.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{989                                                                       \{}
\DoxyCodeLine{990   \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(state == \textcolor{keyword}{nullptr}, pos == \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a8fc64505413ea38361fc9f83f66c8af9a80008467dddaca1679eb05b79e924793}{NewNodePosition::kEndOfBlock}});}
\DoxyCodeLine{991 }
\DoxyCodeLine{992   \textcolor{keywordflow}{if} (phi-\/>value\_representation() == \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a3eee36fbbe00cfed0ef24d756afd1784}{ValueRepresentation::kTagged}}) \{}
\DoxyCodeLine{993     \textcolor{keywordflow}{return} phi;}
\DoxyCodeLine{994   \}}
\DoxyCodeLine{995 }
\DoxyCodeLine{996   \textcolor{comment}{// Try to find an existing Tagged conversion for \{phi\} in \{phi\_taggings\_\}.}}
\DoxyCodeLine{997   \textcolor{keywordflow}{if} (phi-\/>has\_key()) \{}
\DoxyCodeLine{998     \textcolor{keywordflow}{if} (predecessor\_index.has\_value()) \{}
\DoxyCodeLine{999       \textcolor{keywordflow}{if} (ValueNode* tagging = \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a31e44b957112afe3c0d0b127a2bf3597}{phi\_taggings\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1SnapshotTable_a924aaae072356ca832279ee3361e473a}{GetPredecessorValue}}(}
\DoxyCodeLine{1000               phi-\/>key(), predecessor\_index.value())) \{}
\DoxyCodeLine{1001         \textcolor{keywordflow}{return} tagging;}
\DoxyCodeLine{1002       \}}
\DoxyCodeLine{1003     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1004       \textcolor{keywordflow}{if} (ValueNode* tagging = \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a31e44b957112afe3c0d0b127a2bf3597}{phi\_taggings\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1SnapshotTable_a238c3dce77468919fbd5da613e6ca784}{Get}}(phi-\/>key())) \{}
\DoxyCodeLine{1005         \textcolor{keywordflow}{return} tagging;}
\DoxyCodeLine{1006       \}}
\DoxyCodeLine{1007     \}}
\DoxyCodeLine{1008   \}}
\DoxyCodeLine{1009 }
\DoxyCodeLine{1010   \textcolor{comment}{// We didn't already Tag \{phi\} on the current path; creating this tagging now.}}
\DoxyCodeLine{1011   ValueNode* tagged = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{1012   \textcolor{keywordflow}{switch} (phi-\/>value\_representation()) \{}
\DoxyCodeLine{1013     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a78f9bf284cc7269efe0093b7c505feaa}{ValueRepresentation::kFloat64}}:}
\DoxyCodeLine{1014       \textcolor{comment}{// It's important to use kCanonicalizeSmi for Float64ToTagged, as}}
\DoxyCodeLine{1015       \textcolor{comment}{// otherwise, we could end up storing HeapNumbers in Smi fields.}}
\DoxyCodeLine{1016       tagged = \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a518548d6aafdacffeae342bcec275140}{AddNode}}(}
\DoxyCodeLine{1017           NodeBase::New<Float64ToTagged>(}
\DoxyCodeLine{1018               \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a4543e9c3aa970f10bad2cba594bc5905}{zone}}(), \{phi\}, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Float64ToTagged_aad1228b5b2369b93afc9d97287110312a9b3cbd472a7a150ba8dda29dfa897ef1}{Float64ToTagged::ConversionMode::kCanonicalizeSmi}}),}
\DoxyCodeLine{1019           block, pos, state);}
\DoxyCodeLine{1020       \textcolor{keywordflow}{break};}
\DoxyCodeLine{1021     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9ad244468d79bbe6bb65b6133a5f0f3ee4}{ValueRepresentation::kHoleyFloat64}}:}
\DoxyCodeLine{1022       \textcolor{comment}{// It's important to use kCanonicalizeSmi for HoleyFloat64ToTagged, as}}
\DoxyCodeLine{1023       \textcolor{comment}{// otherwise, we could end up storing HeapNumbers in Smi fields.}}
\DoxyCodeLine{1024       tagged =}
\DoxyCodeLine{1025           \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a518548d6aafdacffeae342bcec275140}{AddNode}}(NodeBase::New<HoleyFloat64ToTagged>(}
\DoxyCodeLine{1026                       \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a4543e9c3aa970f10bad2cba594bc5905}{zone}}(), \{phi\},}
\DoxyCodeLine{1027                       \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1HoleyFloat64ToTagged_a89591ae73b29102cd136e816af362fc3a9b3cbd472a7a150ba8dda29dfa897ef1}{HoleyFloat64ToTagged::ConversionMode::kCanonicalizeSmi}}),}
\DoxyCodeLine{1028                   block, pos, state);}
\DoxyCodeLine{1029       \textcolor{keywordflow}{break};}
\DoxyCodeLine{1030     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a10c09f8bff3c372f21cd8a13e01ae941}{ValueRepresentation::kInt32}}:}
\DoxyCodeLine{1031       tagged = \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a518548d6aafdacffeae342bcec275140}{AddNode}}(NodeBase::New<Int32ToNumber>(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a4543e9c3aa970f10bad2cba594bc5905}{zone}}(), \{phi\}), block, pos,}
\DoxyCodeLine{1032                        state);}
\DoxyCodeLine{1033       \textcolor{keywordflow}{break};}
\DoxyCodeLine{1034     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9af5fca11a36e986e3623193c5cccc4f39}{ValueRepresentation::kUint32}}:}
\DoxyCodeLine{1035       tagged = \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a518548d6aafdacffeae342bcec275140}{AddNode}}(NodeBase::New<Uint32ToNumber>(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a4543e9c3aa970f10bad2cba594bc5905}{zone}}(), \{phi\}), block, pos,}
\DoxyCodeLine{1036                        state);}
\DoxyCodeLine{1037       \textcolor{keywordflow}{break};}
\DoxyCodeLine{1038     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a3eee36fbbe00cfed0ef24d756afd1784}{ValueRepresentation::kTagged}}:}
\DoxyCodeLine{1039       \textcolor{comment}{// Already handled at the begining of this function.}}
\DoxyCodeLine{1040     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9ab9beefa74bd44b3a0829534370d1194a}{ValueRepresentation::kIntPtr}}:}
\DoxyCodeLine{1041       \mbox{\hyperlink{namespacev8_1_1internal_acdec713c25068019f935e35976f5b666}{UNREACHABLE}}();}
\DoxyCodeLine{1042   \}}
\DoxyCodeLine{1043 }
\DoxyCodeLine{1044   \textcolor{keywordflow}{if} (predecessor\_index.has\_value()) \{}
\DoxyCodeLine{1045     \textcolor{comment}{// We inserted the new tagging node in a predecessor of the current block,}}
\DoxyCodeLine{1046     \textcolor{comment}{// so we shouldn't update the snapshot table for the current block (and we}}
\DoxyCodeLine{1047     \textcolor{comment}{// can't update it for the predecessor either since its snapshot is sealed).}}
\DoxyCodeLine{1048     \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(block == \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a44ce1683e9a4dfdaceace00195ac06ff}{current\_block\_}},}
\DoxyCodeLine{1049                    block-\/>\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BasicBlock_a701a0b56cb0beded425efcd838d49cc3}{is\_loop}}() \&\& block-\/>successors().size() == 1 \&\&}
\DoxyCodeLine{1050                        block-\/>successors().at(0) == block);}
\DoxyCodeLine{1051     \textcolor{keywordflow}{return} tagged;}
\DoxyCodeLine{1052   \}}
\DoxyCodeLine{1053 }
\DoxyCodeLine{1054   \textcolor{keywordflow}{if} (phi-\/>has\_key()) \{}
\DoxyCodeLine{1055     \textcolor{comment}{// The Key already existed, but wasn't set on the current path.}}
\DoxyCodeLine{1056     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a31e44b957112afe3c0d0b127a2bf3597}{phi\_taggings\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1SnapshotTable_ad390981ba9efdd6e4d3e3f71dafdf062}{Set}}(phi-\/>key(), tagged);}
\DoxyCodeLine{1057   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1058     \textcolor{comment}{// The Key didn't already exist, so we create it now.}}
\DoxyCodeLine{1059     \textcolor{keyword}{auto} \mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}} = \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a31e44b957112afe3c0d0b127a2bf3597}{phi\_taggings\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1SnapshotTable_a4af8d05785e1a5831b11057848b906cd}{NewKey}}();}
\DoxyCodeLine{1060     phi-\/>set\_key(\mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}});}
\DoxyCodeLine{1061     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a31e44b957112afe3c0d0b127a2bf3597}{phi\_taggings\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1SnapshotTable_ad390981ba9efdd6e4d3e3f71dafdf062}{Set}}(\mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}}, tagged);}
\DoxyCodeLine{1062   \}}
\DoxyCodeLine{1063   \textcolor{keywordflow}{return} tagged;}
\DoxyCodeLine{1064 \}}

\end{DoxyCode}


References Add\+Node(), current\+\_\+block\+\_\+, DCHECK\+\_\+\+IMPLIES, v8\+::internal\+::compiler\+::turboshaft\+::\+Snapshot\+Table$<$ Value, Key\+Data $>$\+::\+Get(), v8\+::internal\+::compiler\+::turboshaft\+::\+Snapshot\+Table$<$ Value, Key\+Data $>$\+::\+Get\+Predecessor\+Value(), v8\+::internal\+::maglev\+::\+Phi\+::has\+\_\+key(), v8\+::internal\+::maglev\+::\+Basic\+Block\+::is\+\_\+loop(), v8\+::internal\+::maglev\+::\+Float64\+To\+Tagged\+::k\+Canonicalize\+Smi, v8\+::internal\+::maglev\+::\+Holey\+Float64\+To\+Tagged\+::k\+Canonicalize\+Smi, k\+End\+Of\+Block, v8\+::internal\+::key, v8\+::internal\+::maglev\+::\+Phi\+::key(), v8\+::internal\+::maglev\+::k\+Float64, v8\+::internal\+::maglev\+::k\+Holey\+Float64, v8\+::internal\+::maglev\+::k\+Int32, v8\+::internal\+::maglev\+::k\+Int\+Ptr, v8\+::internal\+::maglev\+::k\+Tagged, v8\+::internal\+::maglev\+::k\+Uint32, v8\+::internal\+::compiler\+::turboshaft\+::\+Snapshot\+Table$<$ Value, Key\+Data $>$\+::\+New\+Key(), phi\+\_\+taggings\+\_\+, v8\+::internal\+::compiler\+::turboshaft\+::\+Snapshot\+Table$<$ Value, Key\+Data $>$\+::\+Set(), v8\+::internal\+::maglev\+::\+Phi\+::set\+\_\+key(), v8\+::internal\+::maglev\+::\+Basic\+Block\+::successors(), v8\+::internal\+::\+UNREACHABLE(), and zone().



Referenced by Ensure\+Phi\+Inputs\+Tagged(), Fix\+Loop\+Phis\+Backedge(), and Update\+Node\+Phi\+Input().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a474a21dc2fbb4fffd8e968253af8d739_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a474a21dc2fbb4fffd8e968253af8d739_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a633bc5df30456f233a94731051ffec44}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a633bc5df30456f233a94731051ffec44}} 
\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!FixLoopPhisBackedge@{FixLoopPhisBackedge}}
\index{FixLoopPhisBackedge@{FixLoopPhisBackedge}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}
\doxysubsubsection{\texorpdfstring{FixLoopPhisBackedge()}{FixLoopPhisBackedge()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Maglev\+Phi\+Representation\+Selector\+::\+Fix\+Loop\+Phis\+Backedge (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BasicBlock}{Basic\+Block}} $\ast$}]{block }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1066 of file maglev-\/phi-\/representation-\/selector.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1066                                                                            \{}
\DoxyCodeLine{1067   \textcolor{comment}{// TODO(dmercadier): it would be interesting to compute a fix point for loop}}
\DoxyCodeLine{1068   \textcolor{comment}{// phis, or at least to go over the loop header twice.}}
\DoxyCodeLine{1069   \textcolor{keywordflow}{if} (!block-\/>has\_phi()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{1070   \textcolor{keywordflow}{for} (Phi* phi : *block-\/>phis()) \{}
\DoxyCodeLine{1071     \textcolor{keywordtype}{int} last\_input\_idx = phi-\/>input\_count() -\/ 1;}
\DoxyCodeLine{1072     ValueNode* backedge = phi-\/>input(last\_input\_idx).node();}
\DoxyCodeLine{1073     \textcolor{keywordflow}{if} (phi-\/>value\_representation() == \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a3eee36fbbe00cfed0ef24d756afd1784}{ValueRepresentation::kTagged}}) \{}
\DoxyCodeLine{1074       \textcolor{comment}{// If the backedge is a Phi that was untagged, but \{phi\} is tagged, then}}
\DoxyCodeLine{1075       \textcolor{comment}{// we need to retag the backedge.}}
\DoxyCodeLine{1076 }
\DoxyCodeLine{1077       \textcolor{comment}{// Identity nodes are used to replace outdated untagging nodes after a phi}}
\DoxyCodeLine{1078       \textcolor{comment}{// has been untagged. Here, since the backedge was initially tagged, it}}
\DoxyCodeLine{1079       \textcolor{comment}{// couldn't have been such an untagging node, so it shouldn't be an}}
\DoxyCodeLine{1080       \textcolor{comment}{// Identity node now.}}
\DoxyCodeLine{1081       \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!backedge-\/>Is<\mbox{\hyperlink{structIdentity}{Identity}}>());}
\DoxyCodeLine{1082 }
\DoxyCodeLine{1083       \textcolor{keywordflow}{if} (backedge-\/>value\_representation() != \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a3eee36fbbe00cfed0ef24d756afd1784}{ValueRepresentation::kTagged}}) \{}
\DoxyCodeLine{1084         \textcolor{comment}{// Since all Phi inputs are initially tagged, the fact that the backedge}}
\DoxyCodeLine{1085         \textcolor{comment}{// is not tagged means that it's a Phi that we recently untagged.}}
\DoxyCodeLine{1086         \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(backedge-\/>Is<Phi>());}
\DoxyCodeLine{1087         phi-\/>change\_input(}
\DoxyCodeLine{1088             last\_input\_idx,}
\DoxyCodeLine{1089             \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a474a21dc2fbb4fffd8e968253af8d739}{EnsurePhiTagged}}(backedge-\/>Cast<Phi>(), \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a44ce1683e9a4dfdaceace00195ac06ff}{current\_block\_}},}
\DoxyCodeLine{1090                             \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a8fc64505413ea38361fc9f83f66c8af9a80008467dddaca1679eb05b79e924793}{NewNodePosition::kEndOfBlock}}, \textcolor{comment}{/*state*/} \textcolor{keyword}{nullptr}));}
\DoxyCodeLine{1091       \}}
\DoxyCodeLine{1092     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1093       \textcolor{comment}{// If \{phi\} was untagged and its backedge became Identity, then we need to}}
\DoxyCodeLine{1094       \textcolor{comment}{// unwrap it.}}
\DoxyCodeLine{1095       \mbox{\hyperlink{src_2base_2logging_8h_a986dc8f4ec6dcd0644efe205c13f8eb7}{DCHECK\_NE}}(phi-\/>value\_representation(), \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a3eee36fbbe00cfed0ef24d756afd1784}{ValueRepresentation::kTagged}});}
\DoxyCodeLine{1096       \textcolor{keywordflow}{if} (backedge-\/>Is<\mbox{\hyperlink{structIdentity}{Identity}}>()) \{}
\DoxyCodeLine{1097         \textcolor{comment}{// \{backedge\} should have the same representation as \{phi\}, although if}}
\DoxyCodeLine{1098         \textcolor{comment}{// \{phi\} has HoleyFloat64 representation, the backedge is allowed to}}
\DoxyCodeLine{1099         \textcolor{comment}{// have Float64 representation rather than HoleyFloat64.}}
\DoxyCodeLine{1100         \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}((backedge-\/>input(0).node()-\/>value\_representation() ==}
\DoxyCodeLine{1101                 phi-\/>value\_representation()) ||}
\DoxyCodeLine{1102                (backedge-\/>input(0).node()-\/>value\_representation() ==}
\DoxyCodeLine{1103                     \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a78f9bf284cc7269efe0093b7c505feaa}{ValueRepresentation::kFloat64}} \&\&}
\DoxyCodeLine{1104                 phi-\/>value\_representation() ==}
\DoxyCodeLine{1105                     \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9ad244468d79bbe6bb65b6133a5f0f3ee4}{ValueRepresentation::kHoleyFloat64}}));}
\DoxyCodeLine{1106         phi-\/>change\_input(last\_input\_idx, backedge-\/>input(0).node());}
\DoxyCodeLine{1107       \}}
\DoxyCodeLine{1108     \}}
\DoxyCodeLine{1109   \}}
\DoxyCodeLine{1110 \}}

\end{DoxyCode}


References v8\+::internal\+::maglev\+::\+Node\+Base\+::\+Cast(), current\+\_\+block\+\_\+, v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+NE, Ensure\+Phi\+Tagged(), v8\+::internal\+::maglev\+::\+Basic\+Block\+::has\+\_\+phi(), v8\+::internal\+::maglev\+::\+Node\+Base\+::input(), v8\+::internal\+::maglev\+::\+Node\+Base\+::\+Is(), k\+End\+Of\+Block, v8\+::internal\+::maglev\+::k\+Float64, v8\+::internal\+::maglev\+::k\+Holey\+Float64, v8\+::internal\+::maglev\+::k\+Tagged, v8\+::internal\+::maglev\+::\+Input\+::node(), v8\+::internal\+::maglev\+::\+Basic\+Block\+::phis(), and v8\+::internal\+::maglev\+::\+Value\+Node\+::value\+\_\+representation().



Referenced by Process().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a633bc5df30456f233a94731051ffec44_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a633bc5df30456f233a94731051ffec44_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_ae22ebfef44ca96bc76f0ad5ee00ba36c}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_ae22ebfef44ca96bc76f0ad5ee00ba36c}} 
\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!GetReplacementForPhiInputConversion@{GetReplacementForPhiInputConversion}}
\index{GetReplacementForPhiInputConversion@{GetReplacementForPhiInputConversion}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}
\doxysubsubsection{\texorpdfstring{GetReplacementForPhiInputConversion()}{GetReplacementForPhiInputConversion()}}
{\footnotesize\ttfamily template$<$class NodeT $>$ \\
\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$ v8\+::internal\+::maglev\+::\+Maglev\+Phi\+Representation\+Selector\+::\+Get\+Replacement\+For\+Phi\+Input\+Conversion (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$}]{conversion\+\_\+node,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Phi}{Phi}} $\ast$}]{phi,  }\item[{uint32\+\_\+t}]{input\+\_\+index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 703 of file maglev-\/phi-\/representation-\/selector.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{704                                                       \{}
\DoxyCodeLine{705   \mbox{\hyperlink{maglev-phi-representation-selector_8cc_a9cdc13bcf4b6a55b561768da4658ae30}{TRACE\_UNTAGGING}}(\mbox{\hyperlink{maglev-phi-representation-selector_8cc_a4eeeb4258c579f69f84d21b246581b50}{TRACE\_INPUT\_LABEL}}}
\DoxyCodeLine{706                   << \textcolor{stringliteral}{"{}: Replacing old conversion with a "{}}}
\DoxyCodeLine{707                   << \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a6871f78cb8caf3155622f51a7fbf22f0}{OpcodeToString}}(NodeBase::opcode\_of<NodeT>));}
\DoxyCodeLine{708   ValueNode* new\_node = NodeBase::New<NodeT>(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a4543e9c3aa970f10bad2cba594bc5905}{zone}}(), \{input-\/>input(0).node()\});}
\DoxyCodeLine{709   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_abd9a1409affd00a538817d11578569a9}{AddNodeAtBlockEnd}}(new\_node, phi-\/>predecessor\_at(input\_index));}
\DoxyCodeLine{710 \}}

\end{DoxyCode}


References Add\+Node\+At\+Block\+End(), v8\+::internal\+::maglev\+::\+Node\+Base\+::input(), v8\+::internal\+::maglev\+::\+Opcode\+To\+String(), v8\+::internal\+::maglev\+::\+Phi\+::predecessor\+\_\+at(), TRACE\+\_\+\+INPUT\+\_\+\+LABEL, TRACE\+\_\+\+UNTAGGING, and zone().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_ae22ebfef44ca96bc76f0ad5ee00ba36c_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a728c4c6378ed9a96073b5efdd9b53f59}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a728c4c6378ed9a96073b5efdd9b53f59}} 
\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!graph\_labeller@{graph\_labeller}}
\index{graph\_labeller@{graph\_labeller}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}
\doxysubsubsection{\texorpdfstring{graph\_labeller()}{graph\_labeller()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevGraphLabeller}{Maglev\+Graph\+Labeller}}$\ast$ v8\+::internal\+::maglev\+::\+Maglev\+Phi\+Representation\+Selector\+::graph\+\_\+labeller (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 203 of file maglev-\/phi-\/representation-\/selector.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{203                                               \{}
\DoxyCodeLine{204     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a608a3c5465a84d13dccaf14c7a3f8db5}{graph\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph_ae1ebea836a84749a1136bdde43da3727}{graph\_labeller}}();}
\DoxyCodeLine{205   \}}

\end{DoxyCode}


References graph\+\_\+, and v8\+::internal\+::maglev\+::\+Graph\+::graph\+\_\+labeller().



Referenced by Process\+Phi().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a728c4c6378ed9a96073b5efdd9b53f59_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a728c4c6378ed9a96073b5efdd9b53f59_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_af22631d9ed0d01adcabe754970ec684f}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_af22631d9ed0d01adcabe754970ec684f}} 
\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!IsUntagging@{IsUntagging}}
\index{IsUntagging@{IsUntagging}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}
\doxysubsubsection{\texorpdfstring{IsUntagging()}{IsUntagging()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::maglev\+::\+Maglev\+Phi\+Representation\+Selector\+::\+Is\+Untagging (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a1f79cb46bd5bd0041c0a54358b3d2cec}{Opcode}}}]{op }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 712 of file maglev-\/phi-\/representation-\/selector.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{712                                                            \{}
\DoxyCodeLine{713   \textcolor{keywordflow}{switch} (op) \{}
\DoxyCodeLine{714     \textcolor{keywordflow}{case} Opcode::kCheckedSmiUntag:}
\DoxyCodeLine{715     \textcolor{keywordflow}{case} Opcode::kUnsafeSmiUntag:}
\DoxyCodeLine{716     \textcolor{keywordflow}{case} Opcode::kCheckedNumberToInt32:}
\DoxyCodeLine{717     \textcolor{keywordflow}{case} Opcode::kCheckedObjectToIndex:}
\DoxyCodeLine{718     \textcolor{keywordflow}{case} Opcode::kCheckedTruncateNumberOrOddballToInt32:}
\DoxyCodeLine{719     \textcolor{keywordflow}{case} Opcode::kTruncateNumberOrOddballToInt32:}
\DoxyCodeLine{720     \textcolor{keywordflow}{case} Opcode::kCheckedNumberOrOddballToFloat64:}
\DoxyCodeLine{721     \textcolor{keywordflow}{case} Opcode::kUncheckedNumberOrOddballToFloat64:}
\DoxyCodeLine{722     \textcolor{keywordflow}{case} Opcode::kCheckedNumberOrOddballToHoleyFloat64:}
\DoxyCodeLine{723       \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{724     \textcolor{keywordflow}{default}:}
\DoxyCodeLine{725       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{726   \}}
\DoxyCodeLine{727 \}}

\end{DoxyCode}


Referenced by Update\+Node\+Inputs(), Update\+Node\+Phi\+Input(), and Update\+Non\+Untagging\+Node\+Inputs().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_af22631d9ed0d01adcabe754970ec684f_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_abb6c4fb2a7d120fc1e1b076598a66273}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_abb6c4fb2a7d120fc1e1b076598a66273}} 
\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!PostPhiProcessing@{PostPhiProcessing}}
\index{PostPhiProcessing@{PostPhiProcessing}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}
\doxysubsubsection{\texorpdfstring{PostPhiProcessing()}{PostPhiProcessing()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Maglev\+Phi\+Representation\+Selector\+::\+Post\+Phi\+Processing (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 49 of file maglev-\/phi-\/representation-\/selector.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{49 \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa81c32f07aa0bf1f542f915fbf91211a}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa81c32f07aa0bf1f542f915fbf91211a}} 
\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!PostProcessBasicBlock@{PostProcessBasicBlock}}
\index{PostProcessBasicBlock@{PostProcessBasicBlock}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}
\doxysubsubsection{\texorpdfstring{PostProcessBasicBlock()}{PostProcessBasicBlock()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Maglev\+Phi\+Representation\+Selector\+::\+Post\+Process\+Basic\+Block (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BasicBlock}{Basic\+Block}} $\ast$}]{block }\end{DoxyParamCaption})}



Definition at line 858 of file maglev-\/phi-\/representation-\/selector.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{858                                                                              \{}
\DoxyCodeLine{859   \textcolor{keywordtype}{size\_t} diff = \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a918a57faf34a73b2ce1fd37bc5d8bb7c}{new\_nodes\_at\_start\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1ZoneVector_a60320a4772cc860e5b2b858c0ce7f8ad}{size}}();}
\DoxyCodeLine{860   \textcolor{keywordflow}{if} (diff == 0) \textcolor{keywordflow}{return};}
\DoxyCodeLine{861   \textcolor{keywordtype}{size\_t} old\_size = block-\/>nodes().size();}
\DoxyCodeLine{862   block-\/>nodes().resize(old\_size + \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a918a57faf34a73b2ce1fd37bc5d8bb7c}{new\_nodes\_at\_start\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1ZoneVector_a60320a4772cc860e5b2b858c0ce7f8ad}{size}}());}
\DoxyCodeLine{863   \textcolor{keyword}{auto} \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_ae72af9053b45630a01be9a6140820b5a}{begin}} = block-\/>nodes().begin();}
\DoxyCodeLine{864   std::copy\_backward(\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_ae72af9053b45630a01be9a6140820b5a}{begin}}, \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_ae72af9053b45630a01be9a6140820b5a}{begin}} + old\_size, block-\/>nodes().end());}
\DoxyCodeLine{865   std::copy(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a918a57faf34a73b2ce1fd37bc5d8bb7c}{new\_nodes\_at\_start\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1ZoneVector_adc2a3ab5562b5a2ca9201af92225ee47}{begin}}(), \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a918a57faf34a73b2ce1fd37bc5d8bb7c}{new\_nodes\_at\_start\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1ZoneVector_aafcc5efeba17a85b82dc9ad4d2547442}{end}}(), \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_ae72af9053b45630a01be9a6140820b5a}{begin}});}
\DoxyCodeLine{866   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a918a57faf34a73b2ce1fd37bc5d8bb7c}{new\_nodes\_at\_start\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1ZoneVector_a409e56e9c9b699c6698c149114ef94eb}{resize}}(0);}
\DoxyCodeLine{867 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Zone\+Vector$<$ T $>$\+::begin(), v8\+::internal\+::compiler\+::begin(), v8\+::internal\+::\+Zone\+Vector$<$ T $>$\+::end(), new\+\_\+nodes\+\_\+at\+\_\+start\+\_\+, v8\+::internal\+::maglev\+::\+Basic\+Block\+::nodes(), v8\+::internal\+::\+Zone\+Vector$<$ T $>$\+::resize(), and v8\+::internal\+::\+Zone\+Vector$<$ T $>$\+::size().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa81c32f07aa0bf1f542f915fbf91211a_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a20fe020eb00a33abe11b167ff7f2517a}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a20fe020eb00a33abe11b167ff7f2517a}} 
\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!PostProcessGraph@{PostProcessGraph}}
\index{PostProcessGraph@{PostProcessGraph}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}
\doxysubsubsection{\texorpdfstring{PostProcessGraph()}{PostProcessGraph()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Maglev\+Phi\+Representation\+Selector\+::\+Post\+Process\+Graph (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph}{Graph}} $\ast$}]{graph }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 42 of file maglev-\/phi-\/representation-\/selector.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{42                                       \{}
\DoxyCodeLine{43     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_maglev\_phi\_untagging) \{}
\DoxyCodeLine{44       StdoutStream\{\} << \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{45     \}}
\DoxyCodeLine{46   \}}

\end{DoxyCode}


References v8\+::internal\+::v8\+\_\+flags.

\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a6bc2051ae6719b455d1b3b0c8302d61e}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a6bc2051ae6719b455d1b3b0c8302d61e}} 
\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!PreparePhiTaggings@{PreparePhiTaggings}}
\index{PreparePhiTaggings@{PreparePhiTaggings}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}
\doxysubsubsection{\texorpdfstring{PreparePhiTaggings()}{PreparePhiTaggings()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Maglev\+Phi\+Representation\+Selector\+::\+Prepare\+Phi\+Taggings (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BasicBlock}{Basic\+Block}} $\ast$}]{old\+\_\+block,  }\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BasicBlock}{Basic\+Block}} $\ast$}]{new\+\_\+block }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1150 of file maglev-\/phi-\/representation-\/selector.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1151                                                         \{}
\DoxyCodeLine{1152   \textcolor{comment}{// Sealing and saving current snapshot}}
\DoxyCodeLine{1153   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a31e44b957112afe3c0d0b127a2bf3597}{phi\_taggings\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1SnapshotTable_a30b904280e476a95d2c4023e78b6df34}{IsSealed}}()) \{}
\DoxyCodeLine{1154     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a31e44b957112afe3c0d0b127a2bf3597}{phi\_taggings\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1SnapshotTable_aca7834a01d79a97428072b86ed344afe}{StartNewSnapshot}}();}
\DoxyCodeLine{1155     \textcolor{keywordflow}{return};}
\DoxyCodeLine{1156   \}}
\DoxyCodeLine{1157   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_abc07b3a77b2cd923b9204fd8355a0558}{snapshots\_}}.emplace(old\_block-\/>id(), \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a31e44b957112afe3c0d0b127a2bf3597}{phi\_taggings\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1SnapshotTable_ab199226a59658c849f293f60a45dba42}{Seal}}());}
\DoxyCodeLine{1158 }
\DoxyCodeLine{1159   \textcolor{comment}{// Setting up new snapshot}}
\DoxyCodeLine{1160   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a64ce39a55f3c2d6c33fad6a0ea04c1ce}{predecessors\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1ZoneVector_ad6915e7dc3166e620124772a3b9adce1}{clear}}();}
\DoxyCodeLine{1161 }
\DoxyCodeLine{1162   \textcolor{keywordflow}{if} (!new\_block-\/>is\_merge\_block()) \{}
\DoxyCodeLine{1163     BasicBlock* pred = new\_block-\/>predecessor();}
\DoxyCodeLine{1164     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a64ce39a55f3c2d6c33fad6a0ea04c1ce}{predecessors\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1ZoneVector_af4d3701d605c7c9ed301a2ef3880784f}{push\_back}}(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_abc07b3a77b2cd923b9204fd8355a0558}{snapshots\_}}.at(pred-\/>id()));}
\DoxyCodeLine{1165   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1166     \textcolor{keywordtype}{int} skip\_backedge = new\_block-\/>is\_loop();}
\DoxyCodeLine{1167     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < new\_block-\/>predecessor\_count() -\/ skip\_backedge; \mbox{\hyperlink{namespacev8_1_1internal}{i}}++) \{}
\DoxyCodeLine{1168       BasicBlock* pred = new\_block-\/>predecessor\_at(\mbox{\hyperlink{namespacev8_1_1internal}{i}});}
\DoxyCodeLine{1169       \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a64ce39a55f3c2d6c33fad6a0ea04c1ce}{predecessors\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1ZoneVector_af4d3701d605c7c9ed301a2ef3880784f}{push\_back}}(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_abc07b3a77b2cd923b9204fd8355a0558}{snapshots\_}}.at(pred-\/>id()));}
\DoxyCodeLine{1170     \}}
\DoxyCodeLine{1171   \}}
\DoxyCodeLine{1172 }
\DoxyCodeLine{1173   \textcolor{keyword}{auto} merge\_taggings =}
\DoxyCodeLine{1174       [\&](\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_ae975baa2d578e89b6796abc9aa10617b}{Key}} \mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}}, base::Vector<ValueNode* const> predecessors) -\/> ValueNode* \{}
\DoxyCodeLine{1175     \textcolor{keywordflow}{for} (ValueNode* node : predecessors) \{}
\DoxyCodeLine{1176       \textcolor{keywordflow}{if} (node == \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{1177         \textcolor{comment}{// There is a predecessor that doesn't have this Tagging, so we'll}}
\DoxyCodeLine{1178         \textcolor{comment}{// return nullptr, and if we need it in the future, we'll have to}}
\DoxyCodeLine{1179         \textcolor{comment}{// recreate it. An alternative would be to eagerly insert this Tagging}}
\DoxyCodeLine{1180         \textcolor{comment}{// in all of the other predecesors, but it's possible that it's not used}}
\DoxyCodeLine{1181         \textcolor{comment}{// anymore or not on all future path, so this could also introduce}}
\DoxyCodeLine{1182         \textcolor{comment}{// unnecessary tagging.}}
\DoxyCodeLine{1183         \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}Phi*\textcolor{keyword}{>}(\textcolor{keyword}{nullptr});}
\DoxyCodeLine{1184       \}}
\DoxyCodeLine{1185     \}}
\DoxyCodeLine{1186 }
\DoxyCodeLine{1187     \textcolor{comment}{// Only merge blocks should require Phis.}}
\DoxyCodeLine{1188     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(new\_block-\/>is\_merge\_block());}
\DoxyCodeLine{1189 }
\DoxyCodeLine{1190     \textcolor{comment}{// We create a Phi to merge all of the existing taggings.}}
\DoxyCodeLine{1191     \textcolor{keywordtype}{int} predecessor\_count = new\_block-\/>predecessor\_count();}
\DoxyCodeLine{1192     Phi* phi = Node::New<Phi>(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a4543e9c3aa970f10bad2cba594bc5905}{zone}}(), predecessor\_count, new\_block-\/>state(),}
\DoxyCodeLine{1193                               \mbox{\hyperlink{namespacev8_1_1internal_1_1ETWJITInterface_a6782da00e5166055555c65db3a9ec7eb}{interpreter::Register}}());}
\DoxyCodeLine{1194     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}) < predecessors.size(); \mbox{\hyperlink{namespacev8_1_1internal}{i}}++) \{}
\DoxyCodeLine{1195       phi-\/>set\_input(\mbox{\hyperlink{namespacev8_1_1internal}{i}}, predecessors[\mbox{\hyperlink{namespacev8_1_1internal}{i}}]);}
\DoxyCodeLine{1196     \}}
\DoxyCodeLine{1197     \textcolor{keywordflow}{if} (predecessors.size() != \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(predecessor\_count)) \{}
\DoxyCodeLine{1198       \textcolor{comment}{// The backedge is omitted from \{predecessors\}. With set the Phi as its}}
\DoxyCodeLine{1199       \textcolor{comment}{// own backedge.}}
\DoxyCodeLine{1200       \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(new\_block-\/>is\_loop());}
\DoxyCodeLine{1201       phi-\/>set\_input(predecessor\_count -\/ 1, phi);}
\DoxyCodeLine{1202     \}}
\DoxyCodeLine{1203     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a48669c6574fa828f27fe839599edca70}{RegisterNewNode}}(phi);}
\DoxyCodeLine{1204     new\_block-\/>AddPhi(phi);}
\DoxyCodeLine{1205 }
\DoxyCodeLine{1206     \textcolor{keywordflow}{return} phi;}
\DoxyCodeLine{1207   \};}
\DoxyCodeLine{1208 }
\DoxyCodeLine{1209   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a31e44b957112afe3c0d0b127a2bf3597}{phi\_taggings\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1SnapshotTable_aca7834a01d79a97428072b86ed344afe}{StartNewSnapshot}}(\mbox{\hyperlink{namespacev8_1_1base_a5bfc65f27076e49eb7752a4fb4d45acb}{base::VectorOf}}(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a64ce39a55f3c2d6c33fad6a0ea04c1ce}{predecessors\_}}), merge\_taggings);}
\DoxyCodeLine{1210 \}}

\end{DoxyCode}


References v8\+::internal\+::maglev\+::\+Basic\+Block\+::\+Add\+Phi(), v8\+::internal\+::\+Zone\+Vector$<$ T $>$\+::clear(), v8\+::internal\+::\+DCHECK(), v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::i, v8\+::internal\+::maglev\+::\+Basic\+Block\+::id(), v8\+::internal\+::maglev\+::\+Basic\+Block\+::is\+\_\+loop(), v8\+::internal\+::maglev\+::\+Basic\+Block\+::is\+\_\+merge\+\_\+block(), v8\+::internal\+::compiler\+::turboshaft\+::\+Snapshot\+Table$<$ Value, Key\+Data $>$\+::\+Is\+Sealed(), v8\+::internal\+::key, phi\+\_\+taggings\+\_\+, v8\+::internal\+::maglev\+::\+Basic\+Block\+::predecessor(), v8\+::internal\+::maglev\+::\+Basic\+Block\+::predecessor\+\_\+at(), v8\+::internal\+::maglev\+::\+Basic\+Block\+::predecessor\+\_\+count(), predecessors\+\_\+, v8\+::internal\+::\+Zone\+Vector$<$ T $>$\+::push\+\_\+back(), Register\+New\+Node(), v8\+::internal\+::compiler\+::turboshaft\+::\+Snapshot\+Table$<$ Value, Key\+Data $>$\+::\+Seal(), snapshots\+\_\+, v8\+::internal\+::compiler\+::turboshaft\+::\+Snapshot\+Table$<$ Value, Key\+Data $>$\+::\+Start\+New\+Snapshot(), v8\+::internal\+::maglev\+::\+Basic\+Block\+::state(), v8\+::base\+::\+Vector\+Of(), and zone().



Referenced by Pre\+Process\+Basic\+Block().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a6bc2051ae6719b455d1b3b0c8302d61e_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a6bc2051ae6719b455d1b3b0c8302d61e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa72ec2b01dd20e0900d0dad7629fd744}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa72ec2b01dd20e0900d0dad7629fd744}} 
\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!PreProcessBasicBlock@{PreProcessBasicBlock}}
\index{PreProcessBasicBlock@{PreProcessBasicBlock}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}
\doxysubsubsection{\texorpdfstring{PreProcessBasicBlock()}{PreProcessBasicBlock()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a7ba0753ed3d436c0a62ce145b59b74df}{Block\+Process\+Result}} v8\+::internal\+::maglev\+::\+Maglev\+Phi\+Representation\+Selector\+::\+Pre\+Process\+Basic\+Block (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BasicBlock}{Basic\+Block}} $\ast$}]{block }\end{DoxyParamCaption})}



Definition at line 30 of file maglev-\/phi-\/representation-\/selector.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{31                        \{}
\DoxyCodeLine{32   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a6bc2051ae6719b455d1b3b0c8302d61e}{PreparePhiTaggings}}(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a44ce1683e9a4dfdaceace00195ac06ff}{current\_block\_}}, block);}
\DoxyCodeLine{33   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a44ce1683e9a4dfdaceace00195ac06ff}{current\_block\_}} = block;}
\DoxyCodeLine{34 }
\DoxyCodeLine{35   \textcolor{keywordflow}{if} (block-\/>has\_phi()) \{}
\DoxyCodeLine{36     \textcolor{keyword}{auto}\& phis = *block-\/>\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BasicBlock_a4c653b6e3f390cef7b7fa229b4602609}{phis}}();}
\DoxyCodeLine{37 }
\DoxyCodeLine{38     \textcolor{keyword}{auto} first\_retry = phis.\mbox{\hyperlink{classv8_1_1base_1_1ThreadedListBase_ac64e5ee0d3680e57549ceaa4eff5a668}{begin}}();}
\DoxyCodeLine{39     \textcolor{keyword}{auto} end\_retry = first\_retry;}
\DoxyCodeLine{40     \textcolor{keywordtype}{bool} any\_change = \textcolor{keyword}{false};}
\DoxyCodeLine{41 }
\DoxyCodeLine{42     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} it = phis.begin(); it != phis.end(); ++it) \{}
\DoxyCodeLine{43       Phi* phi = *it;}
\DoxyCodeLine{44       \textcolor{keywordflow}{switch} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa36f0d8abcc6d544cc43c367622e49be}{ProcessPhi}}(phi)) \{}
\DoxyCodeLine{45         \textcolor{keywordflow}{case} ProcessPhiResult::kNone:}
\DoxyCodeLine{46           \textcolor{keywordflow}{break};}
\DoxyCodeLine{47         \textcolor{keywordflow}{case} ProcessPhiResult::kChanged:}
\DoxyCodeLine{48           any\_change = \textcolor{keyword}{true};}
\DoxyCodeLine{49           \textcolor{keywordflow}{break};}
\DoxyCodeLine{50         \textcolor{keywordflow}{case} ProcessPhiResult::kRetryOnChange:}
\DoxyCodeLine{51           \textcolor{keywordflow}{if} (end\_retry == first\_retry) \{}
\DoxyCodeLine{52             first\_retry = it;}
\DoxyCodeLine{53           \}}
\DoxyCodeLine{54           end\_retry = it;}
\DoxyCodeLine{55           ++end\_retry;}
\DoxyCodeLine{56           \textcolor{keywordflow}{break};}
\DoxyCodeLine{57       \}}
\DoxyCodeLine{58     \}}
\DoxyCodeLine{59     \textcolor{comment}{// Give it one more shot in case an earlier phi has a later one as input.}}
\DoxyCodeLine{60     \textcolor{keywordflow}{if} (any\_change) \{}
\DoxyCodeLine{61       \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} it = first\_retry; it != end\_retry; ++it) \{}
\DoxyCodeLine{62         \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa36f0d8abcc6d544cc43c367622e49be}{ProcessPhi}}(*it);}
\DoxyCodeLine{63       \}}
\DoxyCodeLine{64     \}}
\DoxyCodeLine{65   \}}
\DoxyCodeLine{66 }
\DoxyCodeLine{67   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a7ba0753ed3d436c0a62ce145b59b74dfa234b41cc8342dc898d9100f4ca35098d}{BlockProcessResult::kContinue}};}
\DoxyCodeLine{68 \}}

\end{DoxyCode}


References v8\+::base\+::\+Threaded\+List\+Base$<$ T, Base\+Class, TLTraits, k\+Supports\+Unsafe\+Insertion $>$\+::begin(), current\+\_\+block\+\_\+, v8\+::internal\+::maglev\+::\+Basic\+Block\+::has\+\_\+phi(), v8\+::internal\+::maglev\+::k\+Continue, v8\+::internal\+::maglev\+::\+Basic\+Block\+::phis(), Prepare\+Phi\+Taggings(), and Process\+Phi().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa72ec2b01dd20e0900d0dad7629fd744_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_ae73206ad251bec910d09138bcb86d70f}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_ae73206ad251bec910d09138bcb86d70f}} 
\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!PreProcessGraph@{PreProcessGraph}}
\index{PreProcessGraph@{PreProcessGraph}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}
\doxysubsubsection{\texorpdfstring{PreProcessGraph()}{PreProcessGraph()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Maglev\+Phi\+Representation\+Selector\+::\+Pre\+Process\+Graph (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph}{Graph}} $\ast$}]{graph }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 36 of file maglev-\/phi-\/representation-\/selector.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{36                                      \{}
\DoxyCodeLine{37     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_maglev\_phi\_untagging) \{}
\DoxyCodeLine{38       StdoutStream\{\} << \textcolor{stringliteral}{"{}\(\backslash\)nMaglevPhiRepresentationSelector\(\backslash\)n"{}};}
\DoxyCodeLine{39     \}}
\DoxyCodeLine{40     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a608a3c5465a84d13dccaf14c7a3f8db5}{graph\_}} = \mbox{\hyperlink{flag-definitions_8h_a06b2b7e5d08192bb493bba69cb19a7a8}{graph}};}
\DoxyCodeLine{41   \}}

\end{DoxyCode}


References graph(), graph\+\_\+, and v8\+::internal\+::v8\+\_\+flags.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=348pt]{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_ae73206ad251bec910d09138bcb86d70f_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a96c09dddc32ee4b3ef21fe5d5725bf6a}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a96c09dddc32ee4b3ef21fe5d5725bf6a}} 
\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!Process@{Process}}
\index{Process@{Process}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}
\doxysubsubsection{\texorpdfstring{Process()}{Process()}\hspace{0.1cm}{\footnotesize\ttfamily [1/4]}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592}{Process\+Result}} v8\+::internal\+::maglev\+::\+Maglev\+Phi\+Representation\+Selector\+::\+Process (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Dead}{Dead}} $\ast$}]{node,  }\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ProcessingState}{Processing\+State}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 65 of file maglev-\/phi-\/representation-\/selector.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{65                                                             \{}
\DoxyCodeLine{66     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592a016a4c677dea4af4b6898d79b133c29f}{ProcessResult::kRemove}};}
\DoxyCodeLine{67   \}}

\end{DoxyCode}


References v8\+::internal\+::maglev\+::k\+Remove.

\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a91f2a2e6820b467db501220887be2a9b}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a91f2a2e6820b467db501220887be2a9b}} 
\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!Process@{Process}}
\index{Process@{Process}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}
\doxysubsubsection{\texorpdfstring{Process()}{Process()}\hspace{0.1cm}{\footnotesize\ttfamily [2/4]}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592}{Process\+Result}} v8\+::internal\+::maglev\+::\+Maglev\+Phi\+Representation\+Selector\+::\+Process (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1JumpLoop}{Jump\+Loop}} $\ast$}]{node,  }\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ProcessingState}{Processing\+State}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 60 of file maglev-\/phi-\/representation-\/selector.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{60                                                                 \{}
\DoxyCodeLine{61     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a633bc5df30456f233a94731051ffec44}{FixLoopPhisBackedge}}(node-\/>target());}
\DoxyCodeLine{62     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592a234b41cc8342dc898d9100f4ca35098d}{ProcessResult::kContinue}};}
\DoxyCodeLine{63   \}}

\end{DoxyCode}


References Fix\+Loop\+Phis\+Backedge(), and v8\+::internal\+::maglev\+::k\+Continue.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a91f2a2e6820b467db501220887be2a9b_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a248d5e04e1469cd3d66de24da4ebaa5a}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a248d5e04e1469cd3d66de24da4ebaa5a}} 
\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!Process@{Process}}
\index{Process@{Process}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}
\doxysubsubsection{\texorpdfstring{Process()}{Process()}\hspace{0.1cm}{\footnotesize\ttfamily [3/4]}}
{\footnotesize\ttfamily template$<$class NodeT $>$ \\
\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592}{Process\+Result}} v8\+::internal\+::maglev\+::\+Maglev\+Phi\+Representation\+Selector\+::\+Process (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a30f1fb87d8e46f80374ef637cdb99de0}{NodeT}} $\ast$}]{node,  }\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ProcessingState}{Processing\+State}} \&}]{state }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 70 of file maglev-\/phi-\/representation-\/selector.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{70                                                                    \{}
\DoxyCodeLine{71     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aabd57b817c1c86b8d0684f7745637325}{UpdateNodeInputs}}(node, \&state);}
\DoxyCodeLine{72   \}}

\end{DoxyCode}


References Update\+Node\+Inputs().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a248d5e04e1469cd3d66de24da4ebaa5a_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa5256599482f764514b001365691162d}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa5256599482f764514b001365691162d}} 
\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!Process@{Process}}
\index{Process@{Process}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}
\doxysubsubsection{\texorpdfstring{Process()}{Process()}\hspace{0.1cm}{\footnotesize\ttfamily [4/4]}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592}{Process\+Result}} v8\+::internal\+::maglev\+::\+Maglev\+Phi\+Representation\+Selector\+::\+Process (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Phi}{Phi}} $\ast$}]{node,  }\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ProcessingState}{Processing\+State}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 56 of file maglev-\/phi-\/representation-\/selector.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{56                                                            \{}
\DoxyCodeLine{57     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592a234b41cc8342dc898d9100f4ca35098d}{ProcessResult::kContinue}};}
\DoxyCodeLine{58   \}}

\end{DoxyCode}


References v8\+::internal\+::maglev\+::k\+Continue.

\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa36f0d8abcc6d544cc43c367622e49be}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa36f0d8abcc6d544cc43c367622e49be}} 
\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!ProcessPhi@{ProcessPhi}}
\index{ProcessPhi@{ProcessPhi}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}
\doxysubsubsection{\texorpdfstring{ProcessPhi()}{ProcessPhi()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a13c6851b1d8269b5de114f66387d6324}{Maglev\+Phi\+Representation\+Selector\+::\+Process\+Phi\+Result}} v8\+::internal\+::maglev\+::\+Maglev\+Phi\+Representation\+Selector\+::\+Process\+Phi (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Phi}{Phi}} $\ast$}]{node }\end{DoxyParamCaption})}



Definition at line 79 of file maglev-\/phi-\/representation-\/selector.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{79                                                      \{}
\DoxyCodeLine{80   \textcolor{keywordflow}{if} (node-\/>value\_representation() != \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a3eee36fbbe00cfed0ef24d756afd1784}{ValueRepresentation::kTagged}}) \{}
\DoxyCodeLine{81     \textcolor{keywordflow}{return} ProcessPhiResult::kNone;}
\DoxyCodeLine{82   \}}
\DoxyCodeLine{83 }
\DoxyCodeLine{84   \textcolor{keywordflow}{if} (node-\/>is\_exception\_phi()) \{}
\DoxyCodeLine{85     \textcolor{comment}{// Exception phis have no inputs (or, at least, none accessible through}}
\DoxyCodeLine{86     \textcolor{comment}{// `node-\/>input(...)`), so we don't know if the inputs could be untagged or}}
\DoxyCodeLine{87     \textcolor{comment}{// not, so we just keep those Phis tagged.}}
\DoxyCodeLine{88     \textcolor{keywordflow}{return} ProcessPhiResult::kNone;}
\DoxyCodeLine{89   \}}
\DoxyCodeLine{90 }
\DoxyCodeLine{91   \mbox{\hyperlink{maglev-phi-representation-selector_8cc_a9cdc13bcf4b6a55b561768da4658ae30}{TRACE\_UNTAGGING}}(}
\DoxyCodeLine{92       \textcolor{stringliteral}{"{}Considering for untagging: "{}} << PrintNodeLabel(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a728c4c6378ed9a96073b5efdd9b53f59}{graph\_labeller}}(), node));}
\DoxyCodeLine{93 }
\DoxyCodeLine{94   \textcolor{comment}{// \{input\_mask\} represents the ValueRepresentation that \{node\} could have,}}
\DoxyCodeLine{95   \textcolor{comment}{// based on the ValueRepresentation of its inputs.}}
\DoxyCodeLine{96   \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a20ddba9f9262f9d3038cd7e628cfc5d5}{ValueRepresentationSet}} input\_reprs;}
\DoxyCodeLine{97   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aaf450f1a55bd81acbb20eb985f41fe53}{HoistTypeList}} hoist\_untagging;}
\DoxyCodeLine{98   hoist\_untagging.resize(node-\/>input\_count(), \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa988ff3862889cd903996cf98c3fb4a9a35c3ace1970663a16e5c65baa5941b13}{HoistType::kNone}});}
\DoxyCodeLine{99 }
\DoxyCodeLine{100   \textcolor{keywordtype}{bool} has\_tagged\_phi\_input = \textcolor{keyword}{false};}
\DoxyCodeLine{101   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < node-\/>input\_count(); \mbox{\hyperlink{namespacev8_1_1internal}{i}}++) \{}
\DoxyCodeLine{102     ValueNode* input = node-\/>input(\mbox{\hyperlink{namespacev8_1_1internal}{i}}).node();}
\DoxyCodeLine{103     \textcolor{keywordflow}{if} (input-\/>Is<SmiConstant>()) \{}
\DoxyCodeLine{104       \textcolor{comment}{// Could be any representation. We treat such inputs as Int32, since we}}
\DoxyCodeLine{105       \textcolor{comment}{// later allow ourselves to promote Int32 to Float64 if needed (but we}}
\DoxyCodeLine{106       \textcolor{comment}{// never downgrade Float64 to Int32, as it could cause deopt loops).}}
\DoxyCodeLine{107       input\_reprs.Add(\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a10c09f8bff3c372f21cd8a13e01ae941}{ValueRepresentation::kInt32}});}
\DoxyCodeLine{108     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (Constant* constant = input-\/>TryCast<Constant>()) \{}
\DoxyCodeLine{109       \textcolor{keywordflow}{if} (constant-\/>object().IsHeapNumber()) \{}
\DoxyCodeLine{110         input\_reprs.Add(\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a78f9bf284cc7269efe0093b7c505feaa}{ValueRepresentation::kFloat64}});}
\DoxyCodeLine{111       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{112         \textcolor{comment}{// Not a Constant that we can untag.}}
\DoxyCodeLine{113         \textcolor{comment}{// TODO(leszeks): Consider treating 'undefined' as a potential}}
\DoxyCodeLine{114         \textcolor{comment}{// HoleyFloat64.}}
\DoxyCodeLine{115         input\_reprs.RemoveAll();}
\DoxyCodeLine{116         \textcolor{keywordflow}{break};}
\DoxyCodeLine{117       \}}
\DoxyCodeLine{118     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (input-\/>properties().is\_conversion()) \{}
\DoxyCodeLine{119       \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(input-\/>input\_count(), 1);}
\DoxyCodeLine{120       \textcolor{comment}{// The graph builder tags all Phi inputs, so this conversion should}}
\DoxyCodeLine{121       \textcolor{comment}{// produce a tagged value.}}
\DoxyCodeLine{122       \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(input-\/>value\_representation(), \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a3eee36fbbe00cfed0ef24d756afd1784}{ValueRepresentation::kTagged}});}
\DoxyCodeLine{123       \textcolor{comment}{// If we want to untag \{node\}, then we'll drop the conversion and use its}}
\DoxyCodeLine{124       \textcolor{comment}{// input instead.}}
\DoxyCodeLine{125       input\_reprs.Add(}
\DoxyCodeLine{126           input-\/>input(0).node()-\/>properties().value\_representation());}
\DoxyCodeLine{127     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (Phi* input\_phi = input-\/>TryCast<Phi>()) \{}
\DoxyCodeLine{128       \textcolor{keywordflow}{if} (input\_phi-\/>value\_representation() != \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a3eee36fbbe00cfed0ef24d756afd1784}{ValueRepresentation::kTagged}}) \{}
\DoxyCodeLine{129         input\_reprs.Add(input\_phi-\/>value\_representation());}
\DoxyCodeLine{130       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{131         \textcolor{comment}{// An untagged phi is an input of the current phi.}}
\DoxyCodeLine{132         \textcolor{keywordflow}{if} (node-\/>is\_backedge\_offset(\mbox{\hyperlink{namespacev8_1_1internal}{i}}) \&\&}
\DoxyCodeLine{133             node-\/>merge\_state()-\/>is\_loop\_with\_peeled\_iteration()) \{}
\DoxyCodeLine{134           \textcolor{comment}{// This is the backedge of a loop that has a peeled iteration. We}}
\DoxyCodeLine{135           \textcolor{comment}{// ignore it and speculatively assume that it will be the same as the}}
\DoxyCodeLine{136           \textcolor{comment}{// 1st input.}}
\DoxyCodeLine{137           \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(node-\/>input\_count(), 2);}
\DoxyCodeLine{138           \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{namespacev8_1_1internal}{i}}, 1);}
\DoxyCodeLine{139           \textcolor{keywordflow}{break};}
\DoxyCodeLine{140         \}}
\DoxyCodeLine{141         has\_tagged\_phi\_input = \textcolor{keyword}{true};}
\DoxyCodeLine{142         input\_reprs.RemoveAll();}
\DoxyCodeLine{143         \textcolor{keywordflow}{break};}
\DoxyCodeLine{144       \}}
\DoxyCodeLine{145     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{146       \textcolor{comment}{// This is the case where we don't have an existing conversion to attach}}
\DoxyCodeLine{147       \textcolor{comment}{// the untagging to. In the general case we give up, however in the}}
\DoxyCodeLine{148       \textcolor{comment}{// special case of the value originating from the loop entry branch, we}}
\DoxyCodeLine{149       \textcolor{comment}{// can try to hoist untagging out of the loop.}}
\DoxyCodeLine{150       \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a608a3c5465a84d13dccaf14c7a3f8db5}{graph\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph_ad210626def01e6c44938ac3c5c15aae7}{is\_osr}}() \&\& \mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.maglev\_hoist\_osr\_value\_phi\_untagging \&\&}
\DoxyCodeLine{151           input-\/>Is<InitialValue>() \&\& \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa7d06913b62d87e853c009cd00a14a01}{CanHoistUntaggingTo}}(*\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a608a3c5465a84d13dccaf14c7a3f8db5}{graph\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph_a9c06794820a4fbbf28e94b9a548a43bd}{begin}}())) \{}
\DoxyCodeLine{152         hoist\_untagging[\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}] = \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa988ff3862889cd903996cf98c3fb4a9aafe77346975634583a26d409ec0752c0}{HoistType::kPrologue}};}
\DoxyCodeLine{153         \textcolor{keywordflow}{continue};}
\DoxyCodeLine{154       \}}
\DoxyCodeLine{155       \textcolor{keywordflow}{if} (node-\/>is\_loop\_phi() \&\& !node-\/>is\_backedge\_offset(\mbox{\hyperlink{namespacev8_1_1internal}{i}})) \{}
\DoxyCodeLine{156         BasicBlock* pred = node-\/>merge\_state()-\/>predecessor\_at(\mbox{\hyperlink{namespacev8_1_1internal}{i}});}
\DoxyCodeLine{157         \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa7d06913b62d87e853c009cd00a14a01}{CanHoistUntaggingTo}}(pred)) \{}
\DoxyCodeLine{158           \textcolor{keyword}{auto} static\_type = input-\/>GetStaticType(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a608a3c5465a84d13dccaf14c7a3f8db5}{graph\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph_a8a91a67b6f81414b1d2f6bdbad77ba2b}{broker}}());}
\DoxyCodeLine{159           \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a4ef3bd33f4b7e932bc7d71f08ce48380}{NodeTypeIs}}(static\_type, \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_ae130e68a58845a321b0b68f8c46dd5c3a02ead3bbbca0d8eb6e6a88100c156f67}{NodeType::kSmi}})) \{}
\DoxyCodeLine{160             input\_reprs.Add(\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a10c09f8bff3c372f21cd8a13e01ae941}{ValueRepresentation::kInt32}});}
\DoxyCodeLine{161             hoist\_untagging[\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}] = \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa988ff3862889cd903996cf98c3fb4a9a737e423eae8fce2e0bdf86e0b26e8af0}{HoistType::kLoopEntryUnchecked}};}
\DoxyCodeLine{162             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{163           \}}
\DoxyCodeLine{164           \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a4ef3bd33f4b7e932bc7d71f08ce48380}{NodeTypeIs}}(static\_type, NodeType::kNumber)) \{}
\DoxyCodeLine{165             input\_reprs.Add(\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a78f9bf284cc7269efe0093b7c505feaa}{ValueRepresentation::kFloat64}});}
\DoxyCodeLine{166             hoist\_untagging[\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}] = \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa988ff3862889cd903996cf98c3fb4a9a737e423eae8fce2e0bdf86e0b26e8af0}{HoistType::kLoopEntryUnchecked}};}
\DoxyCodeLine{167             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{168           \}}
\DoxyCodeLine{169 }
\DoxyCodeLine{170           \textcolor{comment}{// TODO(olivf): Unless we untag OSR values, speculatively untagging}}
\DoxyCodeLine{171           \textcolor{comment}{// could end us in deopt loops. To enable this by default we need to}}
\DoxyCodeLine{172           \textcolor{comment}{// add some feedback to be able to back off. Or, ideally find the}}
\DoxyCodeLine{173           \textcolor{comment}{// respective checked conversion from within the loop to wire up the}}
\DoxyCodeLine{174           \textcolor{comment}{// feedback collection.}}
\DoxyCodeLine{175           \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.maglev\_speculative\_hoist\_phi\_untagging) \{}
\DoxyCodeLine{176             \textcolor{comment}{// TODO(olivf): Currently there is no hard guarantee that the phi}}
\DoxyCodeLine{177             \textcolor{comment}{// merge state has a checkpointed jump.}}
\DoxyCodeLine{178             \textcolor{keywordflow}{if} (pred-\/>control\_node()-\/>Is<CheckpointedJump>()) \{}
\DoxyCodeLine{179               \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!node-\/>merge\_state()-\/>is\_resumable\_loop());}
\DoxyCodeLine{180               hoist\_untagging[\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}] = \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa988ff3862889cd903996cf98c3fb4a9aa6ac8096e9e9b45f9bd89fc1cbc7af34}{HoistType::kLoopEntry}};}
\DoxyCodeLine{181               \textcolor{keywordflow}{continue};}
\DoxyCodeLine{182             \}}
\DoxyCodeLine{183           \}}
\DoxyCodeLine{184         \}}
\DoxyCodeLine{185       \}}
\DoxyCodeLine{186 }
\DoxyCodeLine{187       \textcolor{comment}{// This input is tagged, didn't require a tagging operation to be}}
\DoxyCodeLine{188       \textcolor{comment}{// tagged and we decided not to hosit; we won't untag \{node\}.}}
\DoxyCodeLine{189       \textcolor{comment}{// TODO(dmercadier): this is a bit suboptimal, because some nodes start}}
\DoxyCodeLine{190       \textcolor{comment}{// tagged, and later become untagged (parameters for instance). Such nodes}}
\DoxyCodeLine{191       \textcolor{comment}{// will have their untagged alternative passed to \{node\} without any}}
\DoxyCodeLine{192       \textcolor{comment}{// explicit conversion, and we thus won't untag \{node\} even though we}}
\DoxyCodeLine{193       \textcolor{comment}{// could have.}}
\DoxyCodeLine{194       input\_reprs.RemoveAll();}
\DoxyCodeLine{195       \textcolor{keywordflow}{break};}
\DoxyCodeLine{196     \}}
\DoxyCodeLine{197   \}}
\DoxyCodeLine{198   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a13c6851b1d8269b5de114f66387d6324}{ProcessPhiResult}} default\_result = has\_tagged\_phi\_input}
\DoxyCodeLine{199                                         ? ProcessPhiResult::kRetryOnChange}
\DoxyCodeLine{200                                         : ProcessPhiResult::kNone;}
\DoxyCodeLine{201 }
\DoxyCodeLine{202   \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a1e262065707a06b6551b32bcb4720d6c}{UseRepresentationSet}} use\_reprs;}
\DoxyCodeLine{203   \textcolor{keywordflow}{if} (node-\/>is\_loop\_phi() \&\& !node-\/>get\_same\_loop\_uses\_repr\_hints().empty()) \{}
\DoxyCodeLine{204     \textcolor{comment}{// \{node\} is a loop phi that has uses inside the loop; we will tag/untag}}
\DoxyCodeLine{205     \textcolor{comment}{// based on those uses, ignoring uses after the loop.}}
\DoxyCodeLine{206     use\_reprs = node-\/>get\_same\_loop\_uses\_repr\_hints();}
\DoxyCodeLine{207     \mbox{\hyperlink{maglev-phi-representation-selector_8cc_a9cdc13bcf4b6a55b561768da4658ae30}{TRACE\_UNTAGGING}}(\textcolor{stringliteral}{"{}  + use\_reprs : "{}} << use\_reprs << \textcolor{stringliteral}{"{} (same loop only)"{}});}
\DoxyCodeLine{208   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{209     use\_reprs = node-\/>get\_uses\_repr\_hints();}
\DoxyCodeLine{210     \mbox{\hyperlink{maglev-phi-representation-selector_8cc_a9cdc13bcf4b6a55b561768da4658ae30}{TRACE\_UNTAGGING}}(\textcolor{stringliteral}{"{}  + use\_reprs  : "{}} << use\_reprs << \textcolor{stringliteral}{"{} (all uses)"{}});}
\DoxyCodeLine{211   \}}
\DoxyCodeLine{212 }
\DoxyCodeLine{213   \mbox{\hyperlink{maglev-phi-representation-selector_8cc_a9cdc13bcf4b6a55b561768da4658ae30}{TRACE\_UNTAGGING}}(\textcolor{stringliteral}{"{}  + input\_reprs: "{}} << input\_reprs);}
\DoxyCodeLine{214 }
\DoxyCodeLine{215   \textcolor{keywordflow}{if} (use\_reprs.contains(\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a0425864e84f870e93993b43b730a4cc7a3eee36fbbe00cfed0ef24d756afd1784}{UseRepresentation::kTagged}}) ||}
\DoxyCodeLine{216       use\_reprs.contains(\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a0425864e84f870e93993b43b730a4cc7af5fca11a36e986e3623193c5cccc4f39}{UseRepresentation::kUint32}}) || use\_reprs.empty()) \{}
\DoxyCodeLine{217     \textcolor{comment}{// We don't untag phis that are used as tagged (because we'd have to retag}}
\DoxyCodeLine{218     \textcolor{comment}{// them later). We also ignore phis that are used as Uint32, because this is}}
\DoxyCodeLine{219     \textcolor{comment}{// a fairly rare case and supporting it doesn't improve performance all that}}
\DoxyCodeLine{220     \textcolor{comment}{// much but will increase code complexity.}}
\DoxyCodeLine{221     \textcolor{comment}{// TODO(dmercadier): consider taking into account where those Tagged uses}}
\DoxyCodeLine{222     \textcolor{comment}{// are: Tagged uses outside of a loop or for a Return could probably be}}
\DoxyCodeLine{223     \textcolor{comment}{// ignored.}}
\DoxyCodeLine{224     \mbox{\hyperlink{maglev-phi-representation-selector_8cc_a9cdc13bcf4b6a55b561768da4658ae30}{TRACE\_UNTAGGING}}(\textcolor{stringliteral}{"{}  => Leaving tagged [incompatible uses]"{}});}
\DoxyCodeLine{225     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a3cda9d06ef5315b251f995ca97759e6c}{EnsurePhiInputsTagged}}(node);}
\DoxyCodeLine{226     \textcolor{keywordflow}{return} default\_result;}
\DoxyCodeLine{227   \}}
\DoxyCodeLine{228 }
\DoxyCodeLine{229   \textcolor{keywordflow}{if} (input\_reprs.contains(\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a3eee36fbbe00cfed0ef24d756afd1784}{ValueRepresentation::kTagged}}) ||}
\DoxyCodeLine{230       input\_reprs.contains(\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9ab9beefa74bd44b3a0829534370d1194a}{ValueRepresentation::kIntPtr}}) ||}
\DoxyCodeLine{231       input\_reprs.empty()) \{}
\DoxyCodeLine{232     \mbox{\hyperlink{maglev-phi-representation-selector_8cc_a9cdc13bcf4b6a55b561768da4658ae30}{TRACE\_UNTAGGING}}(\textcolor{stringliteral}{"{}  => Leaving tagged [tagged or intptr inputs]"{}});}
\DoxyCodeLine{233     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a3cda9d06ef5315b251f995ca97759e6c}{EnsurePhiInputsTagged}}(node);}
\DoxyCodeLine{234     \textcolor{keywordflow}{return} default\_result;}
\DoxyCodeLine{235   \}}
\DoxyCodeLine{236 }
\DoxyCodeLine{237   \textcolor{comment}{// Only allowed to have Uint32, Int32, Float64 and HoleyFloat64 inputs from}}
\DoxyCodeLine{238   \textcolor{comment}{// here.}}
\DoxyCodeLine{239   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(input\_reprs -\/}
\DoxyCodeLine{240                 \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a20ddba9f9262f9d3038cd7e628cfc5d5}{ValueRepresentationSet}}(\{\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a10c09f8bff3c372f21cd8a13e01ae941}{ValueRepresentation::kInt32}},}
\DoxyCodeLine{241                                         \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9af5fca11a36e986e3623193c5cccc4f39}{ValueRepresentation::kUint32}},}
\DoxyCodeLine{242                                         \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a78f9bf284cc7269efe0093b7c505feaa}{ValueRepresentation::kFloat64}},}
\DoxyCodeLine{243                                         \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9ad244468d79bbe6bb65b6133a5f0f3ee4}{ValueRepresentation::kHoleyFloat64}}\}),}
\DoxyCodeLine{244             \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a20ddba9f9262f9d3038cd7e628cfc5d5}{ValueRepresentationSet}}());}
\DoxyCodeLine{245 }
\DoxyCodeLine{246   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(}
\DoxyCodeLine{247       use\_reprs -\/ \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a1e262065707a06b6551b32bcb4720d6c}{UseRepresentationSet}}(\{\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a0425864e84f870e93993b43b730a4cc7a10c09f8bff3c372f21cd8a13e01ae941}{UseRepresentation::kInt32}},}
\DoxyCodeLine{248                                         \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a0425864e84f870e93993b43b730a4cc7a683876e616b3238045ab9adf3ab7cd3e}{UseRepresentation::kTruncatedInt32}},}
\DoxyCodeLine{249                                         \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a0425864e84f870e93993b43b730a4cc7a78f9bf284cc7269efe0093b7c505feaa}{UseRepresentation::kFloat64}},}
\DoxyCodeLine{250                                         \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a0425864e84f870e93993b43b730a4cc7ad244468d79bbe6bb65b6133a5f0f3ee4}{UseRepresentation::kHoleyFloat64}}\}),}
\DoxyCodeLine{251       \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a1e262065707a06b6551b32bcb4720d6c}{UseRepresentationSet}}());}
\DoxyCodeLine{252 }
\DoxyCodeLine{253   \textcolor{comment}{// The rules for untagging are that we can only widen input representations,}}
\DoxyCodeLine{254   \textcolor{comment}{// i.e. promote Int32 -\/> Float64 -\/> HoleyFloat64. We cannot convert from Int32}}
\DoxyCodeLine{255   \textcolor{comment}{// to Uint32 and vise versa, but both can be converted to Float64.}}
\DoxyCodeLine{256   \textcolor{comment}{//}}
\DoxyCodeLine{257   \textcolor{comment}{// Inputs can always be used as more generic uses, and tighter uses always}}
\DoxyCodeLine{258   \textcolor{comment}{// block more generic inputs. So, we can find the minimum generic use and}}
\DoxyCodeLine{259   \textcolor{comment}{// maximum generic input, extend inputs upwards, uses downwards, and convert}}
\DoxyCodeLine{260   \textcolor{comment}{// to the least generic use in the intersection.}}
\DoxyCodeLine{261   \textcolor{comment}{//}}
\DoxyCodeLine{262   \textcolor{comment}{// Of interest is the fact that we don't want to insert conversions which}}
\DoxyCodeLine{263   \textcolor{comment}{// reduce genericity, e.g. Float64-\/>Int32 conversions, since they could deopt}}
\DoxyCodeLine{264   \textcolor{comment}{// and lead to deopt loops. The above logic ensures that if a Phi has Float64}}
\DoxyCodeLine{265   \textcolor{comment}{// inputs and Int32 uses, we simply don't untag it.}}
\DoxyCodeLine{266   \textcolor{comment}{//}}
\DoxyCodeLine{267   \textcolor{comment}{// TODO(leszeks): The above logic could be implemented with bit magic if the}}
\DoxyCodeLine{268   \textcolor{comment}{// representations were contiguous.}}
\DoxyCodeLine{269 }
\DoxyCodeLine{270   \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a20ddba9f9262f9d3038cd7e628cfc5d5}{ValueRepresentationSet}} possible\_inputs;}
\DoxyCodeLine{271   \textcolor{keywordflow}{if} (input\_reprs.contains(\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9ad244468d79bbe6bb65b6133a5f0f3ee4}{ValueRepresentation::kHoleyFloat64}})) \{}
\DoxyCodeLine{272     possible\_inputs = \{\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9ad244468d79bbe6bb65b6133a5f0f3ee4}{ValueRepresentation::kHoleyFloat64}}\};}
\DoxyCodeLine{273   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (input\_reprs.contains(\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a78f9bf284cc7269efe0093b7c505feaa}{ValueRepresentation::kFloat64}}) ||}
\DoxyCodeLine{274              input\_reprs.contains(\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9af5fca11a36e986e3623193c5cccc4f39}{ValueRepresentation::kUint32}})) \{}
\DoxyCodeLine{275     possible\_inputs = \{\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a78f9bf284cc7269efe0093b7c505feaa}{ValueRepresentation::kFloat64}},}
\DoxyCodeLine{276                        \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9ad244468d79bbe6bb65b6133a5f0f3ee4}{ValueRepresentation::kHoleyFloat64}}\};}
\DoxyCodeLine{277   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{278     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(input\_reprs.contains\_only(\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a10c09f8bff3c372f21cd8a13e01ae941}{ValueRepresentation::kInt32}}));}
\DoxyCodeLine{279     possible\_inputs = \{\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a10c09f8bff3c372f21cd8a13e01ae941}{ValueRepresentation::kInt32}},}
\DoxyCodeLine{280                        \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a78f9bf284cc7269efe0093b7c505feaa}{ValueRepresentation::kFloat64}},}
\DoxyCodeLine{281                        \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9ad244468d79bbe6bb65b6133a5f0f3ee4}{ValueRepresentation::kHoleyFloat64}}\};}
\DoxyCodeLine{282   \}}
\DoxyCodeLine{283 }
\DoxyCodeLine{284   \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a20ddba9f9262f9d3038cd7e628cfc5d5}{ValueRepresentationSet}} allowed\_inputs\_for\_uses;}
\DoxyCodeLine{285   \textcolor{keywordflow}{if} (use\_reprs.contains(\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a0425864e84f870e93993b43b730a4cc7a10c09f8bff3c372f21cd8a13e01ae941}{UseRepresentation::kInt32}})) \{}
\DoxyCodeLine{286     allowed\_inputs\_for\_uses = \{\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a10c09f8bff3c372f21cd8a13e01ae941}{ValueRepresentation::kInt32}}\};}
\DoxyCodeLine{287   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (use\_reprs.contains(\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a0425864e84f870e93993b43b730a4cc7a78f9bf284cc7269efe0093b7c505feaa}{UseRepresentation::kFloat64}})) \{}
\DoxyCodeLine{288     allowed\_inputs\_for\_uses = \{\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a10c09f8bff3c372f21cd8a13e01ae941}{ValueRepresentation::kInt32}},}
\DoxyCodeLine{289                                \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a78f9bf284cc7269efe0093b7c505feaa}{ValueRepresentation::kFloat64}}\};}
\DoxyCodeLine{290   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{291     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!use\_reprs.empty() \&\&}
\DoxyCodeLine{292            use\_reprs.is\_subset\_of(\{UseRepresentation::kHoleyFloat64,}
\DoxyCodeLine{293                                    UseRepresentation::kTruncatedInt32\}));}
\DoxyCodeLine{294     allowed\_inputs\_for\_uses = \{\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a10c09f8bff3c372f21cd8a13e01ae941}{ValueRepresentation::kInt32}},}
\DoxyCodeLine{295                                \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a78f9bf284cc7269efe0093b7c505feaa}{ValueRepresentation::kFloat64}},}
\DoxyCodeLine{296                                \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9ad244468d79bbe6bb65b6133a5f0f3ee4}{ValueRepresentation::kHoleyFloat64}}\};}
\DoxyCodeLine{297   \}}
\DoxyCodeLine{298 }
\DoxyCodeLine{299   \textcolor{comment}{// When hoisting we must ensure that we don't turn a tagged flowing into}}
\DoxyCodeLine{300   \textcolor{comment}{// CheckedSmiUntag into a float64. This would cause us to loose the smi check}}
\DoxyCodeLine{301   \textcolor{comment}{// which in turn can invalidate assumptions on aliasing values.}}
\DoxyCodeLine{302   \textcolor{keywordflow}{if} (hoist\_untagging.size() \&\& node-\/>uses\_require\_31\_bit\_value()) \{}
\DoxyCodeLine{303     \mbox{\hyperlink{maglev-phi-representation-selector_8cc_a9cdc13bcf4b6a55b561768da4658ae30}{TRACE\_UNTAGGING}}(\textcolor{stringliteral}{"{}  => Leaving tagged [depends on smi check]"{}});}
\DoxyCodeLine{304     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a3cda9d06ef5315b251f995ca97759e6c}{EnsurePhiInputsTagged}}(node);}
\DoxyCodeLine{305     \textcolor{keywordflow}{return} default\_result;}
\DoxyCodeLine{306   \}}
\DoxyCodeLine{307 }
\DoxyCodeLine{308   \textcolor{keyword}{auto} intersection = possible\_inputs \& allowed\_inputs\_for\_uses;}
\DoxyCodeLine{309 }
\DoxyCodeLine{310   \mbox{\hyperlink{maglev-phi-representation-selector_8cc_a9cdc13bcf4b6a55b561768da4658ae30}{TRACE\_UNTAGGING}}(\textcolor{stringliteral}{"{}  + intersection reprs: "{}} << intersection);}
\DoxyCodeLine{311   \textcolor{keywordflow}{if} (intersection.contains(\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a10c09f8bff3c372f21cd8a13e01ae941}{ValueRepresentation::kInt32}}) \&\&}
\DoxyCodeLine{312       use\_reprs.contains\_any(\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a1e262065707a06b6551b32bcb4720d6c}{UseRepresentationSet}}\{}
\DoxyCodeLine{313           UseRepresentation::kInt32, UseRepresentation::kTruncatedInt32\})) \{}
\DoxyCodeLine{314     \mbox{\hyperlink{maglev-phi-representation-selector_8cc_a9cdc13bcf4b6a55b561768da4658ae30}{TRACE\_UNTAGGING}}(\textcolor{stringliteral}{"{}  => Untagging to Int32"{}});}
\DoxyCodeLine{315     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a4fb3b23b553b531653f6699ae18fe299}{ConvertTaggedPhiTo}}(node, \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a10c09f8bff3c372f21cd8a13e01ae941}{ValueRepresentation::kInt32}}, hoist\_untagging);}
\DoxyCodeLine{316     \textcolor{keywordflow}{return} ProcessPhiResult::kChanged;}
\DoxyCodeLine{317   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (intersection.contains(\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a78f9bf284cc7269efe0093b7c505feaa}{ValueRepresentation::kFloat64}})) \{}
\DoxyCodeLine{318     \mbox{\hyperlink{maglev-phi-representation-selector_8cc_a9cdc13bcf4b6a55b561768da4658ae30}{TRACE\_UNTAGGING}}(\textcolor{stringliteral}{"{}  => Untagging to kFloat64"{}});}
\DoxyCodeLine{319     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a4fb3b23b553b531653f6699ae18fe299}{ConvertTaggedPhiTo}}(node, \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a78f9bf284cc7269efe0093b7c505feaa}{ValueRepresentation::kFloat64}}, hoist\_untagging);}
\DoxyCodeLine{320     \textcolor{keywordflow}{return} ProcessPhiResult::kChanged;}
\DoxyCodeLine{321   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (intersection.contains(\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9ad244468d79bbe6bb65b6133a5f0f3ee4}{ValueRepresentation::kHoleyFloat64}})) \{}
\DoxyCodeLine{322     \mbox{\hyperlink{maglev-phi-representation-selector_8cc_a9cdc13bcf4b6a55b561768da4658ae30}{TRACE\_UNTAGGING}}(\textcolor{stringliteral}{"{}  => Untagging to HoleyFloat64"{}});}
\DoxyCodeLine{323     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a4fb3b23b553b531653f6699ae18fe299}{ConvertTaggedPhiTo}}(node, \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9ad244468d79bbe6bb65b6133a5f0f3ee4}{ValueRepresentation::kHoleyFloat64}},}
\DoxyCodeLine{324                        hoist\_untagging);}
\DoxyCodeLine{325     \textcolor{keywordflow}{return} ProcessPhiResult::kChanged;}
\DoxyCodeLine{326   \}}
\DoxyCodeLine{327 }
\DoxyCodeLine{328   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(intersection.empty());}
\DoxyCodeLine{329   \textcolor{comment}{// We don't untag the Phi.}}
\DoxyCodeLine{330   \mbox{\hyperlink{maglev-phi-representation-selector_8cc_a9cdc13bcf4b6a55b561768da4658ae30}{TRACE\_UNTAGGING}}(\textcolor{stringliteral}{"{}  => Leaving tagged [incompatible inputs/uses]"{}});}
\DoxyCodeLine{331   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a3cda9d06ef5315b251f995ca97759e6c}{EnsurePhiInputsTagged}}(node);}
\DoxyCodeLine{332   \textcolor{keywordflow}{return} default\_result;}
\DoxyCodeLine{333 \}}

\end{DoxyCode}


References v8\+::base\+::\+Enum\+Set$<$ E, T $>$\+::\+Add(), v8\+::internal\+::maglev\+::\+Graph\+::begin(), v8\+::internal\+::maglev\+::\+Graph\+::broker(), Can\+Hoist\+Untagging\+To(), v8\+::base\+::\+Enum\+Set$<$ E, T $>$\+::contains(), v8\+::base\+::\+Enum\+Set$<$ E, T $>$\+::contains\+\_\+any(), v8\+::base\+::\+Enum\+Set$<$ E, T $>$\+::contains\+\_\+only(), v8\+::internal\+::maglev\+::\+Basic\+Block\+::control\+\_\+node(), Convert\+Tagged\+Phi\+To(), v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+EQ, v8\+::base\+::\+Enum\+Set$<$ E, T $>$\+::empty(), Ensure\+Phi\+Inputs\+Tagged(), v8\+::internal\+::maglev\+::\+Phi\+::get\+\_\+same\+\_\+loop\+\_\+uses\+\_\+repr\+\_\+hints(), v8\+::internal\+::maglev\+::\+Phi\+::get\+\_\+uses\+\_\+repr\+\_\+hints(), v8\+::internal\+::maglev\+::\+Value\+Node\+::\+Get\+Static\+Type(), graph\+\_\+, graph\+\_\+labeller(), v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::i, v8\+::internal\+::maglev\+::\+Node\+Base\+::input(), v8\+::internal\+::maglev\+::\+Node\+Base\+::input\+\_\+count(), v8\+::internal\+::maglev\+::\+Node\+Base\+::\+Is(), v8\+::internal\+::maglev\+::\+Phi\+::is\+\_\+backedge\+\_\+offset(), v8\+::internal\+::maglev\+::\+Op\+Properties\+::is\+\_\+conversion(), v8\+::internal\+::maglev\+::\+Phi\+::is\+\_\+exception\+\_\+phi(), v8\+::internal\+::maglev\+::\+Phi\+::is\+\_\+loop\+\_\+phi(), v8\+::internal\+::maglev\+::\+Merge\+Point\+Interpreter\+Frame\+State\+::is\+\_\+loop\+\_\+with\+\_\+peeled\+\_\+iteration(), v8\+::internal\+::maglev\+::\+Graph\+::is\+\_\+osr(), v8\+::internal\+::maglev\+::\+Merge\+Point\+Interpreter\+Frame\+State\+::is\+\_\+resumable\+\_\+loop(), v8\+::base\+::\+Enum\+Set$<$ E, T $>$\+::is\+\_\+subset\+\_\+of(), v8\+::internal\+::maglev\+::k\+Float64, v8\+::internal\+::maglev\+::k\+Holey\+Float64, v8\+::internal\+::maglev\+::k\+Int32, v8\+::internal\+::maglev\+::k\+Int\+Ptr, k\+Loop\+Entry, k\+Loop\+Entry\+Unchecked, k\+None, k\+Prologue, v8\+::internal\+::compiler\+::k\+Smi, v8\+::internal\+::maglev\+::k\+Tagged, v8\+::internal\+::maglev\+::k\+Truncated\+Int32, v8\+::internal\+::maglev\+::k\+Uint32, v8\+::internal\+::maglev\+::\+Phi\+::merge\+\_\+state(), v8\+::internal\+::maglev\+::\+Input\+::node(), v8\+::internal\+::maglev\+::\+Node\+Type\+Is(), v8\+::internal\+::maglev\+::\+Merge\+Point\+Interpreter\+Frame\+State\+::predecessor\+\_\+at(), v8\+::internal\+::maglev\+::\+Node\+Base\+::properties(), v8\+::base\+::\+Enum\+Set$<$ E, T $>$\+::\+Remove\+All(), v8\+::base\+::\+Small\+Vector$<$ T, k\+Size, Allocator $>$\+::resize(), v8\+::base\+::\+Small\+Vector$<$ T, k\+Size, Allocator $>$\+::size(), TRACE\+\_\+\+UNTAGGING, v8\+::internal\+::maglev\+::\+Node\+Base\+::\+Try\+Cast(), v8\+::internal\+::maglev\+::\+Phi\+::uses\+\_\+require\+\_\+31\+\_\+bit\+\_\+value(), v8\+::internal\+::v8\+\_\+flags, v8\+::internal\+::maglev\+::\+Op\+Properties\+::value\+\_\+representation(), and v8\+::internal\+::maglev\+::\+Value\+Node\+::value\+\_\+representation().



Referenced by Pre\+Process\+Basic\+Block().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa36f0d8abcc6d544cc43c367622e49be_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa36f0d8abcc6d544cc43c367622e49be_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a48669c6574fa828f27fe839599edca70}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a48669c6574fa828f27fe839599edca70}} 
\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!RegisterNewNode@{RegisterNewNode}}
\index{RegisterNewNode@{RegisterNewNode}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}
\doxysubsubsection{\texorpdfstring{RegisterNewNode()}{RegisterNewNode()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Maglev\+Phi\+Representation\+Selector\+::\+Register\+New\+Node (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$}]{node }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1141 of file maglev-\/phi-\/representation-\/selector.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1141                                                                      \{}
\DoxyCodeLine{1142   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a608a3c5465a84d13dccaf14c7a3f8db5}{graph\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph_a5f4ebd6e4599377cf87f6c146d51a85d}{has\_graph\_labeller}}()) \{}
\DoxyCodeLine{1143     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a608a3c5465a84d13dccaf14c7a3f8db5}{graph\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph_ae1ebea836a84749a1136bdde43da3727}{graph\_labeller}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevGraphLabeller_a2183047d3dc4dfe23f3ad5f908dae230}{RegisterNode}}(node);}
\DoxyCodeLine{1144   \}}
\DoxyCodeLine{1145 \textcolor{preprocessor}{\#ifdef DEBUG}}
\DoxyCodeLine{1146   new\_nodes\_.insert(node);}
\DoxyCodeLine{1147 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{1148 \}}

\end{DoxyCode}


References graph\+\_\+, v8\+::internal\+::maglev\+::\+Graph\+::graph\+\_\+labeller(), v8\+::internal\+::maglev\+::\+Graph\+::has\+\_\+graph\+\_\+labeller(), and v8\+::internal\+::maglev\+::\+Maglev\+Graph\+Labeller\+::\+Register\+Node().



Referenced by Add\+Node(), and Prepare\+Phi\+Taggings().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a48669c6574fa828f27fe839599edca70_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a48669c6574fa828f27fe839599edca70_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aabd57b817c1c86b8d0684f7745637325}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aabd57b817c1c86b8d0684f7745637325}} 
\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!UpdateNodeInputs@{UpdateNodeInputs}}
\index{UpdateNodeInputs@{UpdateNodeInputs}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}
\doxysubsubsection{\texorpdfstring{UpdateNodeInputs()}{UpdateNodeInputs()}}
{\footnotesize\ttfamily template$<$class NodeT $>$ \\
\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592}{Process\+Result}} v8\+::internal\+::maglev\+::\+Maglev\+Phi\+Representation\+Selector\+::\+Update\+Node\+Inputs (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a30f1fb87d8e46f80374ef637cdb99de0}{NodeT}} $\ast$}]{n,  }\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ProcessingState}{Processing\+State}} $\ast$}]{state }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 98 of file maglev-\/phi-\/representation-\/selector.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{98                                                                          \{}
\DoxyCodeLine{99     NodeBase* node = \textcolor{keyword}{static\_cast<}NodeBase*\textcolor{keyword}{>}(n);}
\DoxyCodeLine{100 }
\DoxyCodeLine{101     \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592}{ProcessResult}} \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} = \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592a234b41cc8342dc898d9100f4ca35098d}{ProcessResult::kContinue}};}
\DoxyCodeLine{102     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_af22631d9ed0d01adcabe754970ec684f}{IsUntagging}}(n-\/>opcode())) \{}
\DoxyCodeLine{103       \textcolor{keywordflow}{if} (node-\/>input(0).node()-\/>Is<Phi>() \&\&}
\DoxyCodeLine{104           node-\/>input(0).node()-\/>value\_representation() !=}
\DoxyCodeLine{105               \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a3eee36fbbe00cfed0ef24d756afd1784}{ValueRepresentation::kTagged}}) \{}
\DoxyCodeLine{106         \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(node-\/>input\_count(), 1);}
\DoxyCodeLine{107         \textcolor{comment}{// This untagging conversion is outdated, since its input has been}}
\DoxyCodeLine{108         \textcolor{comment}{// untagged. Depending on the conversion, it might need to be replaced}}
\DoxyCodeLine{109         \textcolor{comment}{// by another untagged-\/>untagged conversion, or it might need to be}}
\DoxyCodeLine{110         \textcolor{comment}{// removed alltogether (or rather, replaced by an identity node).}}
\DoxyCodeLine{111         \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a2cbcee01c520c52410023dd8a7d742b9}{UpdateUntaggingOfPhi}}(node-\/>input(0).node()-\/>Cast<Phi>(),}
\DoxyCodeLine{112                              n-\/>template Cast<ValueNode>());}
\DoxyCodeLine{113       \}}
\DoxyCodeLine{114     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{115       \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} = \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_ae7d688c6fac360bd2969aaeb18ebe8d8}{UpdateNonUntaggingNodeInputs}}(n, state);}
\DoxyCodeLine{116     \}}
\DoxyCodeLine{117 }
\DoxyCodeLine{118     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}};}
\DoxyCodeLine{119   \}}

\end{DoxyCode}


References v8\+::internal\+::maglev\+::\+Node\+Base\+::\+Cast(), DCHECK\+\_\+\+EQ, v8\+::internal\+::maglev\+::\+Node\+Base\+::input(), v8\+::internal\+::maglev\+::\+Node\+Base\+::input\+\_\+count(), v8\+::internal\+::maglev\+::\+Node\+Base\+::\+Is(), Is\+Untagging(), v8\+::internal\+::maglev\+::k\+Continue, v8\+::internal\+::maglev\+::k\+Tagged, v8\+::internal\+::maglev\+::\+Input\+::node(), v8\+::internal\+::maglev\+::\+Node\+TMixin$<$ Base, Derived $>$\+::opcode(), v8\+::base\+::internal\+::result, Update\+Non\+Untagging\+Node\+Inputs(), Update\+Untagging\+Of\+Phi(), and v8\+::internal\+::maglev\+::\+Value\+Node\+::value\+\_\+representation().



Referenced by Process().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aabd57b817c1c86b8d0684f7745637325_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aabd57b817c1c86b8d0684f7745637325_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a58c9fc2df225acf9736ce4b8c59de3f2}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a58c9fc2df225acf9736ce4b8c59de3f2}} 
\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!UpdateNodePhiInput@{UpdateNodePhiInput}}
\index{UpdateNodePhiInput@{UpdateNodePhiInput}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}
\doxysubsubsection{\texorpdfstring{UpdateNodePhiInput()}{UpdateNodePhiInput()}\hspace{0.1cm}{\footnotesize\ttfamily [1/6]}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592}{Process\+Result}} v8\+::internal\+::maglev\+::\+Maglev\+Phi\+Representation\+Selector\+::\+Update\+Node\+Phi\+Input (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BranchIfToBooleanTrue}{Branch\+If\+To\+Boolean\+True}} $\ast$}]{node,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Phi}{Phi}} $\ast$}]{phi,  }\item[{\mbox{\hyperlink{classint}{int}}}]{input\+\_\+index,  }\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ProcessingState}{Processing\+State}} $\ast$}]{state }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 939 of file maglev-\/phi-\/representation-\/selector.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{941                                   \{}
\DoxyCodeLine{942   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(input\_index, 0);}
\DoxyCodeLine{943 }
\DoxyCodeLine{944   \textcolor{keywordflow}{switch} (phi-\/>value\_representation()) \{}
\DoxyCodeLine{945     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a10c09f8bff3c372f21cd8a13e01ae941}{ValueRepresentation::kInt32}}:}
\DoxyCodeLine{946       node-\/>OverwriteWith<BranchIfInt32ToBooleanTrue>();}
\DoxyCodeLine{947       \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592a234b41cc8342dc898d9100f4ca35098d}{ProcessResult::kContinue}};}
\DoxyCodeLine{948 }
\DoxyCodeLine{949     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a78f9bf284cc7269efe0093b7c505feaa}{ValueRepresentation::kFloat64}}:}
\DoxyCodeLine{950     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9ad244468d79bbe6bb65b6133a5f0f3ee4}{ValueRepresentation::kHoleyFloat64}}:}
\DoxyCodeLine{951       node-\/>OverwriteWith<BranchIfFloat64ToBooleanTrue>();}
\DoxyCodeLine{952       \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592a234b41cc8342dc898d9100f4ca35098d}{ProcessResult::kContinue}};}
\DoxyCodeLine{953 }
\DoxyCodeLine{954     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a3eee36fbbe00cfed0ef24d756afd1784}{ValueRepresentation::kTagged}}:}
\DoxyCodeLine{955       \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592a234b41cc8342dc898d9100f4ca35098d}{ProcessResult::kContinue}};}
\DoxyCodeLine{956 }
\DoxyCodeLine{957     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9af5fca11a36e986e3623193c5cccc4f39}{ValueRepresentation::kUint32}}:}
\DoxyCodeLine{958     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9ab9beefa74bd44b3a0829534370d1194a}{ValueRepresentation::kIntPtr}}:}
\DoxyCodeLine{959       \mbox{\hyperlink{namespacev8_1_1internal_acdec713c25068019f935e35976f5b666}{UNREACHABLE}}();}
\DoxyCodeLine{960   \}}
\DoxyCodeLine{961 \}}

\end{DoxyCode}


References DCHECK\+\_\+\+EQ, v8\+::internal\+::maglev\+::k\+Continue, v8\+::internal\+::maglev\+::k\+Float64, v8\+::internal\+::maglev\+::k\+Holey\+Float64, v8\+::internal\+::maglev\+::k\+Int32, v8\+::internal\+::maglev\+::k\+Int\+Ptr, v8\+::internal\+::maglev\+::k\+Tagged, v8\+::internal\+::maglev\+::k\+Uint32, and v8\+::internal\+::\+UNREACHABLE().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a58c9fc2df225acf9736ce4b8c59de3f2_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_abef2895c4eae6890bd7be68aec1f1559}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_abef2895c4eae6890bd7be68aec1f1559}} 
\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!UpdateNodePhiInput@{UpdateNodePhiInput}}
\index{UpdateNodePhiInput@{UpdateNodePhiInput}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}
\doxysubsubsection{\texorpdfstring{UpdateNodePhiInput()}{UpdateNodePhiInput()}\hspace{0.1cm}{\footnotesize\ttfamily [2/6]}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592}{Process\+Result}} v8\+::internal\+::maglev\+::\+Maglev\+Phi\+Representation\+Selector\+::\+Update\+Node\+Phi\+Input (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1CheckNumber}{Check\+Number}} $\ast$}]{node,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Phi}{Phi}} $\ast$}]{phi,  }\item[{\mbox{\hyperlink{classint}{int}}}]{input\+\_\+index,  }\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ProcessingState}{Processing\+State}} $\ast$}]{state }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 836 of file maglev-\/phi-\/representation-\/selector.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{838                                   \{}
\DoxyCodeLine{839   \textcolor{keywordflow}{switch} (phi-\/>value\_representation()) \{}
\DoxyCodeLine{840     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a10c09f8bff3c372f21cd8a13e01ae941}{ValueRepresentation::kInt32}}:}
\DoxyCodeLine{841     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a78f9bf284cc7269efe0093b7c505feaa}{ValueRepresentation::kFloat64}}:}
\DoxyCodeLine{842       \textcolor{comment}{// The phi was untagged to a Int32 or Float64, so we know that it's a}}
\DoxyCodeLine{843       \textcolor{comment}{// number. We thus remove this CheckNumber from the graph.}}
\DoxyCodeLine{844       \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592a016a4c677dea4af4b6898d79b133c29f}{ProcessResult::kRemove}};}
\DoxyCodeLine{845     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9ad244468d79bbe6bb65b6133a5f0f3ee4}{ValueRepresentation::kHoleyFloat64}}:}
\DoxyCodeLine{846       \textcolor{comment}{// We need to check that the phi is not the hole nan.}}
\DoxyCodeLine{847       node-\/>OverwriteWith<CheckHoleyFloat64NotHole>();}
\DoxyCodeLine{848       \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592a234b41cc8342dc898d9100f4ca35098d}{ProcessResult::kContinue}};}
\DoxyCodeLine{849     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a3eee36fbbe00cfed0ef24d756afd1784}{ValueRepresentation::kTagged}}:}
\DoxyCodeLine{850       \textcolor{comment}{// \{phi\} wasn't untagged, so we don't need to do anything.}}
\DoxyCodeLine{851       \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592a234b41cc8342dc898d9100f4ca35098d}{ProcessResult::kContinue}};}
\DoxyCodeLine{852     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9af5fca11a36e986e3623193c5cccc4f39}{ValueRepresentation::kUint32}}:}
\DoxyCodeLine{853     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9ab9beefa74bd44b3a0829534370d1194a}{ValueRepresentation::kIntPtr}}:}
\DoxyCodeLine{854       \mbox{\hyperlink{namespacev8_1_1internal_acdec713c25068019f935e35976f5b666}{UNREACHABLE}}();}
\DoxyCodeLine{855   \}}
\DoxyCodeLine{856 \}}

\end{DoxyCode}


References v8\+::internal\+::maglev\+::k\+Continue, v8\+::internal\+::maglev\+::k\+Float64, v8\+::internal\+::maglev\+::k\+Holey\+Float64, v8\+::internal\+::maglev\+::k\+Int32, v8\+::internal\+::maglev\+::k\+Int\+Ptr, v8\+::internal\+::maglev\+::k\+Remove, v8\+::internal\+::maglev\+::k\+Tagged, v8\+::internal\+::maglev\+::k\+Uint32, and v8\+::internal\+::\+UNREACHABLE().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_abef2895c4eae6890bd7be68aec1f1559_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa1452617ef61ec6ba5d7cb4ec84993c9}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa1452617ef61ec6ba5d7cb4ec84993c9}} 
\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!UpdateNodePhiInput@{UpdateNodePhiInput}}
\index{UpdateNodePhiInput@{UpdateNodePhiInput}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}
\doxysubsubsection{\texorpdfstring{UpdateNodePhiInput()}{UpdateNodePhiInput()}\hspace{0.1cm}{\footnotesize\ttfamily [3/6]}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592}{Process\+Result}} v8\+::internal\+::maglev\+::\+Maglev\+Phi\+Representation\+Selector\+::\+Update\+Node\+Phi\+Input (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1CheckSmi}{Check\+Smi}} $\ast$}]{node,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Phi}{Phi}} $\ast$}]{phi,  }\item[{\mbox{\hyperlink{classint}{int}}}]{input\+\_\+index,  }\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ProcessingState}{Processing\+State}} $\ast$}]{state }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 809 of file maglev-\/phi-\/representation-\/selector.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{810                                                                              \{}
\DoxyCodeLine{811   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(input\_index, 0);}
\DoxyCodeLine{812 }
\DoxyCodeLine{813   \textcolor{keywordflow}{switch} (phi-\/>value\_representation()) \{}
\DoxyCodeLine{814     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a3eee36fbbe00cfed0ef24d756afd1784}{ValueRepresentation::kTagged}}:}
\DoxyCodeLine{815       \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592a234b41cc8342dc898d9100f4ca35098d}{ProcessResult::kContinue}};}
\DoxyCodeLine{816 }
\DoxyCodeLine{817     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a10c09f8bff3c372f21cd8a13e01ae941}{ValueRepresentation::kInt32}}:}
\DoxyCodeLine{818       \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1internal_aaeeac1faef2655221e1afe32b804f6eb}{SmiValuesAre32Bits}}()) \{}
\DoxyCodeLine{819         node-\/>OverwriteWith<CheckInt32IsSmi>();}
\DoxyCodeLine{820         \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592a234b41cc8342dc898d9100f4ca35098d}{ProcessResult::kContinue}};}
\DoxyCodeLine{821       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{822         \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592a016a4c677dea4af4b6898d79b133c29f}{ProcessResult::kRemove}};}
\DoxyCodeLine{823       \}}
\DoxyCodeLine{824 }
\DoxyCodeLine{825     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a78f9bf284cc7269efe0093b7c505feaa}{ValueRepresentation::kFloat64}}:}
\DoxyCodeLine{826     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9ad244468d79bbe6bb65b6133a5f0f3ee4}{ValueRepresentation::kHoleyFloat64}}:}
\DoxyCodeLine{827       node-\/>OverwriteWith<CheckHoleyFloat64IsSmi>();}
\DoxyCodeLine{828       \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592a234b41cc8342dc898d9100f4ca35098d}{ProcessResult::kContinue}};}
\DoxyCodeLine{829 }
\DoxyCodeLine{830     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9af5fca11a36e986e3623193c5cccc4f39}{ValueRepresentation::kUint32}}:}
\DoxyCodeLine{831     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9ab9beefa74bd44b3a0829534370d1194a}{ValueRepresentation::kIntPtr}}:}
\DoxyCodeLine{832       \mbox{\hyperlink{namespacev8_1_1internal_acdec713c25068019f935e35976f5b666}{UNREACHABLE}}();}
\DoxyCodeLine{833   \}}
\DoxyCodeLine{834 \}}

\end{DoxyCode}


References DCHECK\+\_\+\+EQ, v8\+::internal\+::maglev\+::k\+Continue, v8\+::internal\+::maglev\+::k\+Float64, v8\+::internal\+::maglev\+::k\+Holey\+Float64, v8\+::internal\+::maglev\+::k\+Int32, v8\+::internal\+::maglev\+::k\+Int\+Ptr, v8\+::internal\+::maglev\+::k\+Remove, v8\+::internal\+::maglev\+::k\+Tagged, v8\+::internal\+::maglev\+::k\+Uint32, v8\+::internal\+::\+Smi\+Values\+Are32\+Bits(), and v8\+::internal\+::\+UNREACHABLE().



Referenced by Update\+Node\+Phi\+Input(), and Update\+Non\+Untagging\+Node\+Inputs().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa1452617ef61ec6ba5d7cb4ec84993c9_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa1452617ef61ec6ba5d7cb4ec84993c9_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aca708f33490104431b247290ab5267c0}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aca708f33490104431b247290ab5267c0}} 
\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!UpdateNodePhiInput@{UpdateNodePhiInput}}
\index{UpdateNodePhiInput@{UpdateNodePhiInput}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}
\doxysubsubsection{\texorpdfstring{UpdateNodePhiInput()}{UpdateNodePhiInput()}\hspace{0.1cm}{\footnotesize\ttfamily [4/6]}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592}{Process\+Result}} v8\+::internal\+::maglev\+::\+Maglev\+Phi\+Representation\+Selector\+::\+Update\+Node\+Phi\+Input (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1NodeBase}{Node\+Base}} $\ast$}]{node,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Phi}{Phi}} $\ast$}]{phi,  }\item[{\mbox{\hyperlink{classint}{int}}}]{input\+\_\+index,  }\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ProcessingState}{Processing\+State}} $\ast$}]{state }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 966 of file maglev-\/phi-\/representation-\/selector.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{967                                                                              \{}
\DoxyCodeLine{968   \textcolor{keywordflow}{if} (node-\/>properties().is\_conversion()) \{}
\DoxyCodeLine{969     \textcolor{comment}{// \{node\} can't be an Untagging if we reached this point (because}}
\DoxyCodeLine{970     \textcolor{comment}{// UpdateNodePhiInput is not called on untagging nodes).}}
\DoxyCodeLine{971     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_af22631d9ed0d01adcabe754970ec684f}{IsUntagging}}(node-\/>opcode()));}
\DoxyCodeLine{972     \textcolor{comment}{// So, \{node\} has to be a conversion that takes an input an untagged node,}}
\DoxyCodeLine{973     \textcolor{comment}{// and this input happens to be \{phi\}, which means that \{node\} is aware that}}
\DoxyCodeLine{974     \textcolor{comment}{// \{phi\} isn't tagged. This means that \{node\} was inserted during the}}
\DoxyCodeLine{975     \textcolor{comment}{// current phase. In this case, we don't do anything.}}
\DoxyCodeLine{976     \mbox{\hyperlink{src_2base_2logging_8h_a986dc8f4ec6dcd0644efe205c13f8eb7}{DCHECK\_NE}}(phi-\/>value\_representation(), \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a3eee36fbbe00cfed0ef24d756afd1784}{ValueRepresentation::kTagged}});}
\DoxyCodeLine{977     \mbox{\hyperlink{src_2base_2logging_8h_a986dc8f4ec6dcd0644efe205c13f8eb7}{DCHECK\_NE}}(new\_nodes\_.find(node), new\_nodes\_.end());}
\DoxyCodeLine{978   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{979     node-\/>change\_input(}
\DoxyCodeLine{980         input\_index,}
\DoxyCodeLine{981         \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a474a21dc2fbb4fffd8e968253af8d739}{EnsurePhiTagged}}(phi, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a44ce1683e9a4dfdaceace00195ac06ff}{current\_block\_}},}
\DoxyCodeLine{982                         \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a8fc64505413ea38361fc9f83f66c8af9a66453ffa00f459519af19480d2d5be82}{NewNodePosition::kBeginingOfCurrentBlock}}, state));}
\DoxyCodeLine{983   \}}
\DoxyCodeLine{984   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592a234b41cc8342dc898d9100f4ca35098d}{ProcessResult::kContinue}};}
\DoxyCodeLine{985 \}}

\end{DoxyCode}


References v8\+::internal\+::maglev\+::\+Node\+Base\+::change\+\_\+input(), current\+\_\+block\+\_\+, v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+NE, Ensure\+Phi\+Tagged(), v8\+::internal\+::maglev\+::\+Op\+Properties\+::is\+\_\+conversion(), Is\+Untagging(), k\+Begining\+Of\+Current\+Block, v8\+::internal\+::maglev\+::k\+Continue, v8\+::internal\+::maglev\+::k\+Tagged, v8\+::internal\+::maglev\+::\+Node\+Base\+::opcode(), and v8\+::internal\+::maglev\+::\+Node\+Base\+::properties().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aca708f33490104431b247290ab5267c0_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a4b1ad84dd75e94d5370e554caf80d24b}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a4b1ad84dd75e94d5370e554caf80d24b}} 
\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!UpdateNodePhiInput@{UpdateNodePhiInput}}
\index{UpdateNodePhiInput@{UpdateNodePhiInput}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}
\doxysubsubsection{\texorpdfstring{UpdateNodePhiInput()}{UpdateNodePhiInput()}\hspace{0.1cm}{\footnotesize\ttfamily [5/6]}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592}{Process\+Result}} v8\+::internal\+::maglev\+::\+Maglev\+Phi\+Representation\+Selector\+::\+Update\+Node\+Phi\+Input (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StoreFixedArrayElementNoWriteBarrier}{Store\+Fixed\+Array\+Element\+No\+Write\+Barrier}} $\ast$}]{node,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Phi}{Phi}} $\ast$}]{phi,  }\item[{\mbox{\hyperlink{classint}{int}}}]{input\+\_\+index,  }\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ProcessingState}{Processing\+State}} $\ast$}]{state }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 907 of file maglev-\/phi-\/representation-\/selector.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{909                                   \{}
\DoxyCodeLine{910   \textcolor{keywordflow}{if} (input\_index != \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StoreFixedArrayElementNoWriteBarrier_af116ab3248a212a93bd1e966da766460}{StoreFixedArrayElementNoWriteBarrier::kValueIndex}}) \{}
\DoxyCodeLine{911     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa1452617ef61ec6ba5d7cb4ec84993c9}{UpdateNodePhiInput}}(\textcolor{keyword}{static\_cast<}NodeBase*\textcolor{keyword}{>}(node), phi, input\_index,}
\DoxyCodeLine{912                               state);}
\DoxyCodeLine{913   \}}
\DoxyCodeLine{914 }
\DoxyCodeLine{915   \textcolor{keywordflow}{if} (phi-\/>value\_representation() != \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a3eee36fbbe00cfed0ef24d756afd1784}{ValueRepresentation::kTagged}}) \{}
\DoxyCodeLine{916     \textcolor{comment}{// We need to tag \{phi\}. However, this could turn it into a HeapObject}}
\DoxyCodeLine{917     \textcolor{comment}{// rather than a Smi (either because \{phi\} is a Float64 phi, or because it's}}
\DoxyCodeLine{918     \textcolor{comment}{// an Int32/Uint32 phi that doesn't fit on 31 bits), so we need the write}}
\DoxyCodeLine{919     \textcolor{comment}{// barrier.}}
\DoxyCodeLine{920     node-\/>change\_input(}
\DoxyCodeLine{921         input\_index,}
\DoxyCodeLine{922         \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a474a21dc2fbb4fffd8e968253af8d739}{EnsurePhiTagged}}(phi, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a44ce1683e9a4dfdaceace00195ac06ff}{current\_block\_}},}
\DoxyCodeLine{923                         \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a8fc64505413ea38361fc9f83f66c8af9a66453ffa00f459519af19480d2d5be82}{NewNodePosition::kBeginingOfCurrentBlock}}, state));}
\DoxyCodeLine{924     static\_assert(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StoreFixedArrayElementNoWriteBarrier_a76bb002c85942f253a9c1972b271d336}{StoreFixedArrayElementNoWriteBarrier::kElementsIndex}} ==}
\DoxyCodeLine{925                   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StoreFixedArrayElementWithWriteBarrier_aac4eac326597e7a5aac632d3a7013c9d}{StoreFixedArrayElementWithWriteBarrier::kElementsIndex}});}
\DoxyCodeLine{926     static\_assert(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StoreFixedArrayElementNoWriteBarrier_a87f4dcc46c985b3768e5e83452e100c8}{StoreFixedArrayElementNoWriteBarrier::kIndexIndex}} ==}
\DoxyCodeLine{927                   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StoreFixedArrayElementWithWriteBarrier_ae7471bfe3a6f46e1e47c48df8543082b}{StoreFixedArrayElementWithWriteBarrier::kIndexIndex}});}
\DoxyCodeLine{928     static\_assert(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StoreFixedArrayElementNoWriteBarrier_af116ab3248a212a93bd1e966da766460}{StoreFixedArrayElementNoWriteBarrier::kValueIndex}} ==}
\DoxyCodeLine{929                   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StoreFixedArrayElementWithWriteBarrier_a6e9e6c5378453b12ed8ebef057f218a3}{StoreFixedArrayElementWithWriteBarrier::kValueIndex}});}
\DoxyCodeLine{930     node-\/>OverwriteWith<StoreFixedArrayElementWithWriteBarrier>();}
\DoxyCodeLine{931   \}}
\DoxyCodeLine{932 }
\DoxyCodeLine{933   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592a234b41cc8342dc898d9100f4ca35098d}{ProcessResult::kContinue}};}
\DoxyCodeLine{934 \}}

\end{DoxyCode}


References current\+\_\+block\+\_\+, Ensure\+Phi\+Tagged(), k\+Begining\+Of\+Current\+Block, v8\+::internal\+::maglev\+::k\+Continue, v8\+::internal\+::maglev\+::\+Store\+Fixed\+Array\+Element\+With\+Write\+Barrier\+::k\+Elements\+Index, v8\+::internal\+::maglev\+::\+Store\+Fixed\+Array\+Element\+No\+Write\+Barrier\+::k\+Elements\+Index, v8\+::internal\+::maglev\+::\+Store\+Fixed\+Array\+Element\+With\+Write\+Barrier\+::k\+Index\+Index, v8\+::internal\+::maglev\+::\+Store\+Fixed\+Array\+Element\+No\+Write\+Barrier\+::k\+Index\+Index, v8\+::internal\+::maglev\+::k\+Tagged, v8\+::internal\+::maglev\+::\+Store\+Fixed\+Array\+Element\+With\+Write\+Barrier\+::k\+Value\+Index, v8\+::internal\+::maglev\+::\+Store\+Fixed\+Array\+Element\+No\+Write\+Barrier\+::k\+Value\+Index, and Update\+Node\+Phi\+Input().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a4b1ad84dd75e94d5370e554caf80d24b_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a15d0863522fdca92ad35c2e488236f76}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a15d0863522fdca92ad35c2e488236f76}} 
\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!UpdateNodePhiInput@{UpdateNodePhiInput}}
\index{UpdateNodePhiInput@{UpdateNodePhiInput}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}
\doxysubsubsection{\texorpdfstring{UpdateNodePhiInput()}{UpdateNodePhiInput()}\hspace{0.1cm}{\footnotesize\ttfamily [6/6]}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592}{Process\+Result}} v8\+::internal\+::maglev\+::\+Maglev\+Phi\+Representation\+Selector\+::\+Update\+Node\+Phi\+Input (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StoreTaggedFieldNoWriteBarrier}{Store\+Tagged\+Field\+No\+Write\+Barrier}} $\ast$}]{node,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Phi}{Phi}} $\ast$}]{phi,  }\item[{\mbox{\hyperlink{classint}{int}}}]{input\+\_\+index,  }\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ProcessingState}{Processing\+State}} $\ast$}]{state }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 872 of file maglev-\/phi-\/representation-\/selector.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{874                                   \{}
\DoxyCodeLine{875   \textcolor{keywordflow}{if} (input\_index == \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StoreTaggedFieldNoWriteBarrier_ab3ed2fe5891be666796d8e3e1a261e1d}{StoreTaggedFieldNoWriteBarrier::kObjectIndex}}) \{}
\DoxyCodeLine{876     \textcolor{comment}{// The 1st input of a Store should usually not be untagged. However, it is}}
\DoxyCodeLine{877     \textcolor{comment}{// possible to write `let x = a ? 4 : 2; x.c = 10`, which will produce a}}
\DoxyCodeLine{878     \textcolor{comment}{// store whose receiver could be an untagged Phi. So, for such cases, we use}}
\DoxyCodeLine{879     \textcolor{comment}{// the generic UpdateNodePhiInput method to tag `phi` if needed.}}
\DoxyCodeLine{880     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa1452617ef61ec6ba5d7cb4ec84993c9}{UpdateNodePhiInput}}(\textcolor{keyword}{static\_cast<}NodeBase*\textcolor{keyword}{>}(node), phi, input\_index,}
\DoxyCodeLine{881                               state);}
\DoxyCodeLine{882   \}}
\DoxyCodeLine{883   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(input\_index, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StoreTaggedFieldNoWriteBarrier_a4f061844c14efd9b72293e11fc6e9b9c}{StoreTaggedFieldNoWriteBarrier::kValueIndex}});}
\DoxyCodeLine{884 }
\DoxyCodeLine{885   \textcolor{keywordflow}{if} (phi-\/>value\_representation() != \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a3eee36fbbe00cfed0ef24d756afd1784}{ValueRepresentation::kTagged}}) \{}
\DoxyCodeLine{886     \textcolor{comment}{// We need to tag \{phi\}. However, this could turn it into a HeapObject}}
\DoxyCodeLine{887     \textcolor{comment}{// rather than a Smi (either because \{phi\} is a Float64 phi, or because it's}}
\DoxyCodeLine{888     \textcolor{comment}{// an Int32/Uint32 phi that doesn't fit on 31 bits), so we need the write}}
\DoxyCodeLine{889     \textcolor{comment}{// barrier.}}
\DoxyCodeLine{890     node-\/>change\_input(}
\DoxyCodeLine{891         input\_index,}
\DoxyCodeLine{892         \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a474a21dc2fbb4fffd8e968253af8d739}{EnsurePhiTagged}}(phi, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a44ce1683e9a4dfdaceace00195ac06ff}{current\_block\_}},}
\DoxyCodeLine{893                         \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a8fc64505413ea38361fc9f83f66c8af9a66453ffa00f459519af19480d2d5be82}{NewNodePosition::kBeginingOfCurrentBlock}}, state));}
\DoxyCodeLine{894     static\_assert(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StoreTaggedFieldNoWriteBarrier_ab3ed2fe5891be666796d8e3e1a261e1d}{StoreTaggedFieldNoWriteBarrier::kObjectIndex}} ==}
\DoxyCodeLine{895                   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StoreTaggedFieldWithWriteBarrier_a910deeec212c2999d09ff09fa9550322}{StoreTaggedFieldWithWriteBarrier::kObjectIndex}});}
\DoxyCodeLine{896     static\_assert(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StoreTaggedFieldNoWriteBarrier_a4f061844c14efd9b72293e11fc6e9b9c}{StoreTaggedFieldNoWriteBarrier::kValueIndex}} ==}
\DoxyCodeLine{897                   \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1StoreTaggedFieldWithWriteBarrier_aa05a5e24f859a123a1da7930fc2cfa77}{StoreTaggedFieldWithWriteBarrier::kValueIndex}});}
\DoxyCodeLine{898     node-\/>OverwriteWith<StoreTaggedFieldWithWriteBarrier>();}
\DoxyCodeLine{899   \}}
\DoxyCodeLine{900 }
\DoxyCodeLine{901   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592a234b41cc8342dc898d9100f4ca35098d}{ProcessResult::kContinue}};}
\DoxyCodeLine{902 \}}

\end{DoxyCode}


References current\+\_\+block\+\_\+, DCHECK\+\_\+\+EQ, Ensure\+Phi\+Tagged(), k\+Begining\+Of\+Current\+Block, v8\+::internal\+::maglev\+::k\+Continue, v8\+::internal\+::maglev\+::\+Store\+Tagged\+Field\+No\+Write\+Barrier\+::k\+Object\+Index, v8\+::internal\+::maglev\+::\+Store\+Tagged\+Field\+With\+Write\+Barrier\+::k\+Object\+Index, v8\+::internal\+::maglev\+::k\+Tagged, v8\+::internal\+::maglev\+::\+Store\+Tagged\+Field\+No\+Write\+Barrier\+::k\+Value\+Index, v8\+::internal\+::maglev\+::\+Store\+Tagged\+Field\+With\+Write\+Barrier\+::k\+Value\+Index, and Update\+Node\+Phi\+Input().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a15d0863522fdca92ad35c2e488236f76_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_ae7d688c6fac360bd2969aaeb18ebe8d8}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_ae7d688c6fac360bd2969aaeb18ebe8d8}} 
\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!UpdateNonUntaggingNodeInputs@{UpdateNonUntaggingNodeInputs}}
\index{UpdateNonUntaggingNodeInputs@{UpdateNonUntaggingNodeInputs}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}
\doxysubsubsection{\texorpdfstring{UpdateNonUntaggingNodeInputs()}{UpdateNonUntaggingNodeInputs()}}
{\footnotesize\ttfamily template$<$class NodeT $>$ \\
\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592}{Process\+Result}} v8\+::internal\+::maglev\+::\+Maglev\+Phi\+Representation\+Selector\+::\+Update\+Non\+Untagging\+Node\+Inputs (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a30f1fb87d8e46f80374ef637cdb99de0}{NodeT}} $\ast$}]{n,  }\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ProcessingState}{Processing\+State}} $\ast$}]{state }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 122 of file maglev-\/phi-\/representation-\/selector.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{123                                                                            \{}
\DoxyCodeLine{124     NodeBase* node = \textcolor{keyword}{static\_cast<}NodeBase*\textcolor{keyword}{>}(n);}
\DoxyCodeLine{125 }
\DoxyCodeLine{126     \textcolor{comment}{// It would be bad to re-\/tag the input of an untagging node, so this}}
\DoxyCodeLine{127     \textcolor{comment}{// function should never be called on untagging nodes.}}
\DoxyCodeLine{128     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_af22631d9ed0d01adcabe754970ec684f}{IsUntagging}}(n-\/>opcode()));}
\DoxyCodeLine{129 }
\DoxyCodeLine{130     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < n-\/>input\_count(); \mbox{\hyperlink{namespacev8_1_1internal}{i}}++) \{}
\DoxyCodeLine{131       ValueNode* input = node-\/>input(\mbox{\hyperlink{namespacev8_1_1internal}{i}}).node();}
\DoxyCodeLine{132       \textcolor{keywordflow}{if} (input-\/>Is<\mbox{\hyperlink{structIdentity}{Identity}}>()) \{}
\DoxyCodeLine{133         \textcolor{comment}{// Bypassing the identity}}
\DoxyCodeLine{134         node-\/>change\_input(\mbox{\hyperlink{namespacev8_1_1internal}{i}}, input-\/>input(0).node());}
\DoxyCodeLine{135       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (Phi* phi = input-\/>TryCast<Phi>()) \{}
\DoxyCodeLine{136         \textcolor{comment}{// If the input is a Phi and it was used without any untagging, then}}
\DoxyCodeLine{137         \textcolor{comment}{// we need to retag it (with some additional checks/changes for some}}
\DoxyCodeLine{138         \textcolor{comment}{// nodes, cf the overload of UpdateNodePhiInput).}}
\DoxyCodeLine{139         \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592}{ProcessResult}} \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} = \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_aa1452617ef61ec6ba5d7cb4ec84993c9}{UpdateNodePhiInput}}(n, phi, \mbox{\hyperlink{namespacev8_1_1internal}{i}}, state);}
\DoxyCodeLine{140         \textcolor{keywordflow}{if} (\mbox{\hyperlink{v8config_8h_a67bd29db07c711b0fb11ff1c324ebb60}{V8\_UNLIKELY}}(\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} == \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592a016a4c677dea4af4b6898d79b133c29f}{ProcessResult::kRemove}})) \{}
\DoxyCodeLine{141           \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592a016a4c677dea4af4b6898d79b133c29f}{ProcessResult::kRemove}};}
\DoxyCodeLine{142         \}}
\DoxyCodeLine{143       \}}
\DoxyCodeLine{144     \}}
\DoxyCodeLine{145 }
\DoxyCodeLine{146     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_ac85096c0fed967b01a054a97502fe592a234b41cc8342dc898d9100f4ca35098d}{ProcessResult::kContinue}};}
\DoxyCodeLine{147   \}}

\end{DoxyCode}


References v8\+::internal\+::maglev\+::\+Node\+Base\+::change\+\_\+input(), v8\+::internal\+::\+DCHECK(), v8\+::internal\+::maglev\+::\+Node\+Base\+::input(), v8\+::internal\+::maglev\+::\+Node\+Base\+::\+Is(), Is\+Untagging(), v8\+::internal\+::maglev\+::k\+Continue, v8\+::internal\+::maglev\+::k\+Remove, v8\+::internal\+::maglev\+::\+Input\+::node(), v8\+::internal\+::maglev\+::\+Node\+TMixin$<$ Base, Derived $>$\+::opcode(), v8\+::base\+::internal\+::result, v8\+::internal\+::maglev\+::\+Node\+Base\+::\+Try\+Cast(), Update\+Node\+Phi\+Input(), and V8\+\_\+\+UNLIKELY.



Referenced by Update\+Node\+Inputs().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_ae7d688c6fac360bd2969aaeb18ebe8d8_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_ae7d688c6fac360bd2969aaeb18ebe8d8_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a2cbcee01c520c52410023dd8a7d742b9}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a2cbcee01c520c52410023dd8a7d742b9}} 
\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!UpdateUntaggingOfPhi@{UpdateUntaggingOfPhi}}
\index{UpdateUntaggingOfPhi@{UpdateUntaggingOfPhi}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}
\doxysubsubsection{\texorpdfstring{UpdateUntaggingOfPhi()}{UpdateUntaggingOfPhi()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::\+Maglev\+Phi\+Representation\+Selector\+::\+Update\+Untagging\+Of\+Phi (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Phi}{Phi}} $\ast$}]{phi,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}} $\ast$}]{old\+\_\+untagging }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 729 of file maglev-\/phi-\/representation-\/selector.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{730                                         \{}
\DoxyCodeLine{731   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(old\_untagging-\/>input\_count(), 1);}
\DoxyCodeLine{732   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(old\_untagging-\/>input(0).node()-\/>Is<Phi>());}
\DoxyCodeLine{733 }
\DoxyCodeLine{734   \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9}{ValueRepresentation}} from\_repr =}
\DoxyCodeLine{735       old\_untagging-\/>input(0).node()-\/>value\_representation();}
\DoxyCodeLine{736   \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9}{ValueRepresentation}} to\_repr = old\_untagging-\/>value\_representation();}
\DoxyCodeLine{737 }
\DoxyCodeLine{738   \textcolor{comment}{// Since initially Phis are tagged, it would make not sense for}}
\DoxyCodeLine{739   \textcolor{comment}{// \{old\_conversion\} to convert a Phi to a Tagged value.}}
\DoxyCodeLine{740   \mbox{\hyperlink{src_2base_2logging_8h_a986dc8f4ec6dcd0644efe205c13f8eb7}{DCHECK\_NE}}(to\_repr, \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a3eee36fbbe00cfed0ef24d756afd1784}{ValueRepresentation::kTagged}});}
\DoxyCodeLine{741   \textcolor{comment}{// The graph builder never inserts Tagged-\/>Uint32 conversions (and thus, we}}
\DoxyCodeLine{742   \textcolor{comment}{// don't handle them in GetOpcodeForCheckedConversion).}}
\DoxyCodeLine{743   \mbox{\hyperlink{src_2base_2logging_8h_a986dc8f4ec6dcd0644efe205c13f8eb7}{DCHECK\_NE}}(to\_repr, \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9af5fca11a36e986e3623193c5cccc4f39}{ValueRepresentation::kUint32}});}
\DoxyCodeLine{744 }
\DoxyCodeLine{745   \textcolor{keywordflow}{if} (from\_repr == \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a3eee36fbbe00cfed0ef24d756afd1784}{ValueRepresentation::kTagged}}) \{}
\DoxyCodeLine{746     \textcolor{comment}{// The Phi hasn't been untagged, so we leave the conversion as it is.}}
\DoxyCodeLine{747     \textcolor{keywordflow}{return};}
\DoxyCodeLine{748   \}}
\DoxyCodeLine{749 }
\DoxyCodeLine{750   \textcolor{keywordflow}{if} (from\_repr == to\_repr) \{}
\DoxyCodeLine{751     \textcolor{keywordflow}{if} (from\_repr == \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a10c09f8bff3c372f21cd8a13e01ae941}{ValueRepresentation::kInt32}}) \{}
\DoxyCodeLine{752       \textcolor{keywordflow}{if} (phi-\/>uses\_require\_31\_bit\_value() \&\&}
\DoxyCodeLine{753           old\_untagging-\/>Is<CheckedSmiUntag>()) \{}
\DoxyCodeLine{754         old\_untagging-\/>OverwriteWith<CheckedSmiSizedInt32>();}
\DoxyCodeLine{755         \textcolor{keywordflow}{return};}
\DoxyCodeLine{756       \}}
\DoxyCodeLine{757     \}}
\DoxyCodeLine{758     old\_untagging-\/>OverwriteWith<\mbox{\hyperlink{structIdentity}{Identity}}>();}
\DoxyCodeLine{759     \textcolor{keywordflow}{return};}
\DoxyCodeLine{760   \}}
\DoxyCodeLine{761 }
\DoxyCodeLine{762   \textcolor{keywordflow}{if} (old\_untagging-\/>Is<UnsafeSmiUntag>()) \{}
\DoxyCodeLine{763     \textcolor{comment}{// UnsafeSmiTag are only inserted when the node is a known Smi. If the}}
\DoxyCodeLine{764     \textcolor{comment}{// current phi has a Float64/Uint32 representation, then we can safely}}
\DoxyCodeLine{765     \textcolor{comment}{// truncate it to Int32, because we know that the Float64/Uint32 fits in a}}
\DoxyCodeLine{766     \textcolor{comment}{// Smi, and therefore in an Int32.}}
\DoxyCodeLine{767     \textcolor{keywordflow}{if} (from\_repr == \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a78f9bf284cc7269efe0093b7c505feaa}{ValueRepresentation::kFloat64}} ||}
\DoxyCodeLine{768         from\_repr == \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9ad244468d79bbe6bb65b6133a5f0f3ee4}{ValueRepresentation::kHoleyFloat64}}) \{}
\DoxyCodeLine{769       old\_untagging-\/>OverwriteWith<UnsafeTruncateFloat64ToInt32>();}
\DoxyCodeLine{770     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (from\_repr == \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9af5fca11a36e986e3623193c5cccc4f39}{ValueRepresentation::kUint32}}) \{}
\DoxyCodeLine{771       old\_untagging-\/>OverwriteWith<UnsafeTruncateUint32ToInt32>();}
\DoxyCodeLine{772     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{773       \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(from\_repr, \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a10c09f8bff3c372f21cd8a13e01ae941}{ValueRepresentation::kInt32}});}
\DoxyCodeLine{774       old\_untagging-\/>OverwriteWith<\mbox{\hyperlink{structIdentity}{Identity}}>();}
\DoxyCodeLine{775     \}}
\DoxyCodeLine{776     \textcolor{keywordflow}{return};}
\DoxyCodeLine{777   \}}
\DoxyCodeLine{778 }
\DoxyCodeLine{779   \textcolor{comment}{// The graph builder inserts 3 kind of Tagged-\/>Int32 conversions that can have}}
\DoxyCodeLine{780   \textcolor{comment}{// heap number as input: CheckedTruncateNumberToInt32, which truncates its}}
\DoxyCodeLine{781   \textcolor{comment}{// input (and deopts if it's not a HeapNumber), TruncateNumberToInt32, which}}
\DoxyCodeLine{782   \textcolor{comment}{// truncates its input (assuming that it's indeed a HeapNumber) and}}
\DoxyCodeLine{783   \textcolor{comment}{// CheckedSmiTag, which deopts on non-\/smi inputs. The first 2 cannot deopt if}}
\DoxyCodeLine{784   \textcolor{comment}{// we have Float64 phi and will happily truncate it, but the 3rd one should}}
\DoxyCodeLine{785   \textcolor{comment}{// deopt if it cannot be converted without loss of precision.}}
\DoxyCodeLine{786   \textcolor{keywordtype}{bool} conversion\_is\_truncating\_float64 =}
\DoxyCodeLine{787       old\_untagging-\/>Is<CheckedTruncateNumberOrOddballToInt32>() ||}
\DoxyCodeLine{788       old\_untagging-\/>Is<TruncateNumberOrOddballToInt32>();}
\DoxyCodeLine{789 }
\DoxyCodeLine{790   \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a1f79cb46bd5bd0041c0a54358b3d2cec}{Opcode}} needed\_conversion = \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-phi-representation-selector_8cc_03_a39b3710e558defb8210e6320e3c98e07}{GetOpcodeForConversion}}(}
\DoxyCodeLine{791       from\_repr, to\_repr, conversion\_is\_truncating\_float64);}
\DoxyCodeLine{792 }
\DoxyCodeLine{793   \textcolor{keywordflow}{if} (CheckedNumberOrOddballToFloat64* number\_untagging =}
\DoxyCodeLine{794           old\_untagging-\/>TryCast<CheckedNumberOrOddballToFloat64>()) \{}
\DoxyCodeLine{795     \textcolor{keywordflow}{if} (from\_repr == \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9ad244468d79bbe6bb65b6133a5f0f3ee4}{ValueRepresentation::kHoleyFloat64}} \&\&}
\DoxyCodeLine{796         number\_untagging-\/>conversion\_type() !=}
\DoxyCodeLine{797             \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_aba9aaca181deb02c08993f5df29a9126a9d9fd030d6e6a35775b7207812f9fdda}{TaggedToFloat64ConversionType::kNumberOrOddball}}) \{}
\DoxyCodeLine{798       \textcolor{comment}{// \{phi\} is a HoleyFloat64 (and thus, it could be a hole), but the}}
\DoxyCodeLine{799       \textcolor{comment}{// original untagging did not allow holes.}}
\DoxyCodeLine{800       needed\_conversion = Opcode::kCheckedHoleyFloat64ToFloat64;}
\DoxyCodeLine{801     \}}
\DoxyCodeLine{802   \}}
\DoxyCodeLine{803 }
\DoxyCodeLine{804   \textcolor{keywordflow}{if} (needed\_conversion != old\_untagging-\/>opcode()) \{}
\DoxyCodeLine{805     old\_untagging-\/>OverwriteWith(needed\_conversion);}
\DoxyCodeLine{806   \}}
\DoxyCodeLine{807 \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+EQ, DCHECK\+\_\+\+NE, v8\+::internal\+::maglev\+::anonymous\+\_\+namespace\{maglev-\/phi-\/representation-\/selector.\+cc\}\+::\+Get\+Opcode\+For\+Conversion(), v8\+::internal\+::maglev\+::\+Node\+Base\+::input(), v8\+::internal\+::maglev\+::\+Node\+Base\+::input\+\_\+count(), v8\+::internal\+::maglev\+::\+Node\+Base\+::\+Is(), v8\+::internal\+::maglev\+::k\+Float64, v8\+::internal\+::maglev\+::k\+Holey\+Float64, v8\+::internal\+::maglev\+::k\+Int32, v8\+::internal\+::maglev\+::k\+Number\+Or\+Oddball, v8\+::internal\+::maglev\+::k\+Tagged, v8\+::internal\+::maglev\+::k\+Uint32, v8\+::internal\+::maglev\+::\+Input\+::node(), v8\+::internal\+::maglev\+::\+Node\+Base\+::opcode(), v8\+::internal\+::maglev\+::\+Node\+Base\+::\+Overwrite\+With(), v8\+::internal\+::maglev\+::\+Node\+Base\+::\+Try\+Cast(), v8\+::internal\+::maglev\+::\+Phi\+::uses\+\_\+require\+\_\+31\+\_\+bit\+\_\+value(), and v8\+::internal\+::maglev\+::\+Value\+Node\+::value\+\_\+representation().



Referenced by Update\+Node\+Inputs().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a2cbcee01c520c52410023dd8a7d742b9_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a2cbcee01c520c52410023dd8a7d742b9_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a4543e9c3aa970f10bad2cba594bc5905}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a4543e9c3aa970f10bad2cba594bc5905}} 
\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!zone@{zone}}
\index{zone@{zone}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}
\doxysubsubsection{\texorpdfstring{zone()}{zone()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}}$\ast$ v8\+::internal\+::maglev\+::\+Maglev\+Phi\+Representation\+Selector\+::zone (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 209 of file maglev-\/phi-\/representation-\/selector.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{209 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a608a3c5465a84d13dccaf14c7a3f8db5}{graph\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph_ac31535ea0033709dba7b2d0cf3ae5929}{zone}}(); \}}

\end{DoxyCode}


References graph\+\_\+, and v8\+::internal\+::maglev\+::\+Graph\+::zone().



Referenced by Add\+Node(), Convert\+Tagged\+Phi\+To(), Ensure\+Phi\+Tagged(), Get\+Replacement\+For\+Phi\+Input\+Conversion(), and Prepare\+Phi\+Taggings().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a4543e9c3aa970f10bad2cba594bc5905_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a4543e9c3aa970f10bad2cba594bc5905_icgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a44ce1683e9a4dfdaceace00195ac06ff}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a44ce1683e9a4dfdaceace00195ac06ff}} 
\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!current\_block\_@{current\_block\_}}
\index{current\_block\_@{current\_block\_}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}
\doxysubsubsection{\texorpdfstring{current\_block\_}{current\_block\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BasicBlock}{Basic\+Block}}$\ast$ v8\+::internal\+::maglev\+::\+Maglev\+Phi\+Representation\+Selector\+::current\+\_\+block\+\_\+ = \mbox{\hyperlink{flag-definitions_8h_aca14fbede0905858c819226fce3678cc}{nullptr}}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 212 of file maglev-\/phi-\/representation-\/selector.\+h.



Referenced by Add\+Node(), Ensure\+Phi\+Tagged(), Fix\+Loop\+Phis\+Backedge(), Pre\+Process\+Basic\+Block(), and Update\+Node\+Phi\+Input().

\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a608a3c5465a84d13dccaf14c7a3f8db5}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a608a3c5465a84d13dccaf14c7a3f8db5}} 
\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!graph\_@{graph\_}}
\index{graph\_@{graph\_}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}
\doxysubsubsection{\texorpdfstring{graph\_}{graph\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Graph}{Graph}}$\ast$ v8\+::internal\+::maglev\+::\+Maglev\+Phi\+Representation\+Selector\+::graph\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 211 of file maglev-\/phi-\/representation-\/selector.\+h.



Referenced by Convert\+Tagged\+Phi\+To(), graph\+\_\+labeller(), Pre\+Process\+Graph(), Process\+Phi(), Register\+New\+Node(), and zone().

\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a918a57faf34a73b2ce1fd37bc5d8bb7c}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a918a57faf34a73b2ce1fd37bc5d8bb7c}} 
\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!new\_nodes\_at\_start\_@{new\_nodes\_at\_start\_}}
\index{new\_nodes\_at\_start\_@{new\_nodes\_at\_start\_}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}
\doxysubsubsection{\texorpdfstring{new\_nodes\_at\_start\_}{new\_nodes\_at\_start\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1ZoneVector}{Zone\+Vector}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1Node}{Node}}$\ast$$>$ v8\+::internal\+::maglev\+::\+Maglev\+Phi\+Representation\+Selector\+::new\+\_\+nodes\+\_\+at\+\_\+start\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 221 of file maglev-\/phi-\/representation-\/selector.\+h.



Referenced by Add\+Node(), and Post\+Process\+Basic\+Block().

\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a31e44b957112afe3c0d0b127a2bf3597}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a31e44b957112afe3c0d0b127a2bf3597}} 
\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!phi\_taggings\_@{phi\_taggings\_}}
\index{phi\_taggings\_@{phi\_taggings\_}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}
\doxysubsubsection{\texorpdfstring{phi\_taggings\_}{phi\_taggings\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a549e09aa1ed91df7bf491d9537936dbc}{Snapshot\+Table}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1ValueNode}{Value\+Node}}$\ast$$>$ v8\+::internal\+::maglev\+::\+Maglev\+Phi\+Representation\+Selector\+::phi\+\_\+taggings\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 216 of file maglev-\/phi-\/representation-\/selector.\+h.



Referenced by Ensure\+Phi\+Tagged(), and Prepare\+Phi\+Taggings().

\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a64ce39a55f3c2d6c33fad6a0ea04c1ce}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a64ce39a55f3c2d6c33fad6a0ea04c1ce}} 
\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!predecessors\_@{predecessors\_}}
\index{predecessors\_@{predecessors\_}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}
\doxysubsubsection{\texorpdfstring{predecessors\_}{predecessors\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1ZoneVector}{Zone\+Vector}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a3b568db4fa336aa8e9679a3a859b132d}{Snapshot}}$>$ v8\+::internal\+::maglev\+::\+Maglev\+Phi\+Representation\+Selector\+::predecessors\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 219 of file maglev-\/phi-\/representation-\/selector.\+h.



Referenced by Prepare\+Phi\+Taggings().

\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_abc07b3a77b2cd923b9204fd8355a0558}\label{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_abc07b3a77b2cd923b9204fd8355a0558}} 
\index{v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}!snapshots\_@{snapshots\_}}
\index{snapshots\_@{snapshots\_}!v8::internal::maglev::MaglevPhiRepresentationSelector@{v8::internal::maglev::MaglevPhiRepresentationSelector}}
\doxysubsubsection{\texorpdfstring{snapshots\_}{snapshots\_}}
{\footnotesize\ttfamily absl\+::flat\+\_\+hash\+\_\+map$<$\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BasicBlock_a731aa64fa2c2c661e02be10096fc9596}{Basic\+Block\+::\+Id}}, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevPhiRepresentationSelector_a3b568db4fa336aa8e9679a3a859b132d}{Snapshot}}$>$ v8\+::internal\+::maglev\+::\+Maglev\+Phi\+Representation\+Selector\+::snapshots\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 223 of file maglev-\/phi-\/representation-\/selector.\+h.



Referenced by Prepare\+Phi\+Taggings().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/maglev/\mbox{\hyperlink{maglev-phi-representation-selector_8h}{maglev-\/phi-\/representation-\/selector.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/maglev/\mbox{\hyperlink{maglev-phi-representation-selector_8cc}{maglev-\/phi-\/representation-\/selector.\+cc}}\end{DoxyCompactItemize}
