\hypertarget{classv8_1_1internal_1_1baseline_1_1ConcurrentBaselineCompiler_1_1JobDispatcher}{}\doxysection{v8\+::internal\+::baseline\+::Concurrent\+Baseline\+Compiler\+::Job\+Dispatcher Class Reference}
\label{classv8_1_1internal_1_1baseline_1_1ConcurrentBaselineCompiler_1_1JobDispatcher}\index{v8::internal::baseline::ConcurrentBaselineCompiler::JobDispatcher@{v8::internal::baseline::ConcurrentBaselineCompiler::JobDispatcher}}


Inheritance diagram for v8\+::internal\+::baseline\+::Concurrent\+Baseline\+Compiler\+::Job\+Dispatcher\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=242pt]{classv8_1_1internal_1_1baseline_1_1ConcurrentBaselineCompiler_1_1JobDispatcher__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for v8\+::internal\+::baseline\+::Concurrent\+Baseline\+Compiler\+::Job\+Dispatcher\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1baseline_1_1ConcurrentBaselineCompiler_1_1JobDispatcher__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1baseline_1_1ConcurrentBaselineCompiler_1_1JobDispatcher_a68dcd20ffacf3f9744a2370f96cc6e95}{Job\+Dispatcher}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{classv8_1_1internal_1_1LockedQueue}{Locked\+Queue}}$<$ std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1internal_1_1baseline_1_1BaselineBatchCompilerJob}{Baseline\+Batch\+Compiler\+Job}} $>$$>$ $\ast$incoming\+\_\+queue, \mbox{\hyperlink{classv8_1_1internal_1_1LockedQueue}{Locked\+Queue}}$<$ std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1internal_1_1baseline_1_1BaselineBatchCompilerJob}{Baseline\+Batch\+Compiler\+Job}} $>$$>$ $\ast$outcoming\+\_\+queue)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1baseline_1_1ConcurrentBaselineCompiler_1_1JobDispatcher_a81016279b1f8d85fa2d86a8dcb52db5c}{Run}} (\mbox{\hyperlink{classv8_1_1JobDelegate}{Job\+Delegate}} $\ast$delegate) override
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{classv8_1_1internal_1_1baseline_1_1ConcurrentBaselineCompiler_1_1JobDispatcher_a9082f1d6ae86634c71005ea26cf739b4}{Get\+Max\+Concurrency}} (\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} worker\+\_\+count) const override
\begin{DoxyCompactList}\small\item\em Controls the maximum number of threads calling \mbox{\hyperlink{classv8_1_1internal_1_1baseline_1_1ConcurrentBaselineCompiler_1_1JobDispatcher_a81016279b1f8d85fa2d86a8dcb52db5c}{Run()}} concurrently, given the number of threads currently assigned to this job and executing \mbox{\hyperlink{classv8_1_1internal_1_1baseline_1_1ConcurrentBaselineCompiler_1_1JobDispatcher_a81016279b1f8d85fa2d86a8dcb52db5c}{Run()}}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1baseline_1_1ConcurrentBaselineCompiler_1_1JobDispatcher_a8978dd653e155b02513e87c3a4d0c1d5}{isolate\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1LockedQueue}{Locked\+Queue}}$<$ std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1internal_1_1baseline_1_1BaselineBatchCompilerJob}{Baseline\+Batch\+Compiler\+Job}} $>$ $>$ $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1baseline_1_1ConcurrentBaselineCompiler_1_1JobDispatcher_a328740ee315876580f7ae60bdb02c624}{incoming\+\_\+queue\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1LockedQueue}{Locked\+Queue}}$<$ std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1internal_1_1baseline_1_1BaselineBatchCompilerJob}{Baseline\+Batch\+Compiler\+Job}} $>$ $>$ $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1baseline_1_1ConcurrentBaselineCompiler_1_1JobDispatcher_a839aad8c8200851ef789cf46a3620cba}{outgoing\+\_\+queue\+\_\+}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 150 of file baseline-\/batch-\/compiler.\+cc.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1baseline_1_1ConcurrentBaselineCompiler_1_1JobDispatcher_a68dcd20ffacf3f9744a2370f96cc6e95}\label{classv8_1_1internal_1_1baseline_1_1ConcurrentBaselineCompiler_1_1JobDispatcher_a68dcd20ffacf3f9744a2370f96cc6e95}} 
\index{v8::internal::baseline::ConcurrentBaselineCompiler::JobDispatcher@{v8::internal::baseline::ConcurrentBaselineCompiler::JobDispatcher}!JobDispatcher@{JobDispatcher}}
\index{JobDispatcher@{JobDispatcher}!v8::internal::baseline::ConcurrentBaselineCompiler::JobDispatcher@{v8::internal::baseline::ConcurrentBaselineCompiler::JobDispatcher}}
\doxysubsubsection{\texorpdfstring{JobDispatcher()}{JobDispatcher()}}
{\footnotesize\ttfamily v8\+::internal\+::baseline\+::\+Concurrent\+Baseline\+Compiler\+::\+Job\+Dispatcher\+::\+Job\+Dispatcher (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1LockedQueue}{Locked\+Queue}}$<$ std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1internal_1_1baseline_1_1BaselineBatchCompilerJob}{Baseline\+Batch\+Compiler\+Job}} $>$$>$ $\ast$}]{incoming\+\_\+queue,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1LockedQueue}{Locked\+Queue}}$<$ std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1internal_1_1baseline_1_1BaselineBatchCompilerJob}{Baseline\+Batch\+Compiler\+Job}} $>$$>$ $\ast$}]{outcoming\+\_\+queue }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 152 of file baseline-\/batch-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{156         : \mbox{\hyperlink{classv8_1_1internal_1_1baseline_1_1ConcurrentBaselineCompiler_1_1JobDispatcher_a8978dd653e155b02513e87c3a4d0c1d5}{isolate\_}}(isolate),}
\DoxyCodeLine{157           \mbox{\hyperlink{classv8_1_1internal_1_1baseline_1_1ConcurrentBaselineCompiler_1_1JobDispatcher_a328740ee315876580f7ae60bdb02c624}{incoming\_queue\_}}(incoming\_queue),}
\DoxyCodeLine{158           \mbox{\hyperlink{classv8_1_1internal_1_1baseline_1_1ConcurrentBaselineCompiler_1_1JobDispatcher_a839aad8c8200851ef789cf46a3620cba}{outgoing\_queue\_}}(outcoming\_queue) \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1baseline_1_1ConcurrentBaselineCompiler_1_1JobDispatcher_a9082f1d6ae86634c71005ea26cf739b4}\label{classv8_1_1internal_1_1baseline_1_1ConcurrentBaselineCompiler_1_1JobDispatcher_a9082f1d6ae86634c71005ea26cf739b4}} 
\index{v8::internal::baseline::ConcurrentBaselineCompiler::JobDispatcher@{v8::internal::baseline::ConcurrentBaselineCompiler::JobDispatcher}!GetMaxConcurrency@{GetMaxConcurrency}}
\index{GetMaxConcurrency@{GetMaxConcurrency}!v8::internal::baseline::ConcurrentBaselineCompiler::JobDispatcher@{v8::internal::baseline::ConcurrentBaselineCompiler::JobDispatcher}}
\doxysubsubsection{\texorpdfstring{GetMaxConcurrency()}{GetMaxConcurrency()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::baseline\+::\+Concurrent\+Baseline\+Compiler\+::\+Job\+Dispatcher\+::\+Get\+Max\+Concurrency (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{worker\+\_\+count }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Controls the maximum number of threads calling \mbox{\hyperlink{classv8_1_1internal_1_1baseline_1_1ConcurrentBaselineCompiler_1_1JobDispatcher_a81016279b1f8d85fa2d86a8dcb52db5c}{Run()}} concurrently, given the number of threads currently assigned to this job and executing \mbox{\hyperlink{classv8_1_1internal_1_1baseline_1_1ConcurrentBaselineCompiler_1_1JobDispatcher_a81016279b1f8d85fa2d86a8dcb52db5c}{Run()}}. 

\mbox{\hyperlink{classv8_1_1internal_1_1baseline_1_1ConcurrentBaselineCompiler_1_1JobDispatcher_a81016279b1f8d85fa2d86a8dcb52db5c}{Run()}} is only invoked if the number of threads previously running \mbox{\hyperlink{classv8_1_1internal_1_1baseline_1_1ConcurrentBaselineCompiler_1_1JobDispatcher_a81016279b1f8d85fa2d86a8dcb52db5c}{Run()}} was less than the value returned. In general, this should return the latest number of incomplete work items (smallest unit of work) left to process, including items that are currently in progress. $\vert$worker\+\_\+count$\vert$ is the number of threads currently assigned to this job which some callers may need to determine their return value. Since \mbox{\hyperlink{classv8_1_1internal_1_1baseline_1_1ConcurrentBaselineCompiler_1_1JobDispatcher_a9082f1d6ae86634c71005ea26cf739b4}{Get\+Max\+Concurrency()}} is a leaf function, it must not call back any \mbox{\hyperlink{classv8_1_1JobHandle}{Job\+Handle}} methods. 

Implements \mbox{\hyperlink{classv8_1_1JobTask_a9f1505551639903b327baecbeb38f6f7}{v8\+::\+Job\+Task}}.



Definition at line 177 of file baseline-\/batch-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{177                                                                  \{}
\DoxyCodeLine{178       \textcolor{keywordtype}{size\_t} max\_threads = \mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.concurrent\_sparkplug\_max\_threads;}
\DoxyCodeLine{179       \textcolor{keywordtype}{size\_t} num\_tasks = \mbox{\hyperlink{classv8_1_1internal_1_1baseline_1_1ConcurrentBaselineCompiler_1_1JobDispatcher_a328740ee315876580f7ae60bdb02c624}{incoming\_queue\_}}-\/>size() + worker\_count;}
\DoxyCodeLine{180       \textcolor{keywordflow}{if} (max\_threads > 0) \{}
\DoxyCodeLine{181         \textcolor{keywordflow}{return} std::min(max\_threads, num\_tasks);}
\DoxyCodeLine{182       \}}
\DoxyCodeLine{183       \textcolor{keywordflow}{return} num\_tasks;}
\DoxyCodeLine{184     \}}

\end{DoxyCode}


References incoming\+\_\+queue\+\_\+, and v8\+::internal\+::v8\+\_\+flags.

\mbox{\Hypertarget{classv8_1_1internal_1_1baseline_1_1ConcurrentBaselineCompiler_1_1JobDispatcher_a81016279b1f8d85fa2d86a8dcb52db5c}\label{classv8_1_1internal_1_1baseline_1_1ConcurrentBaselineCompiler_1_1JobDispatcher_a81016279b1f8d85fa2d86a8dcb52db5c}} 
\index{v8::internal::baseline::ConcurrentBaselineCompiler::JobDispatcher@{v8::internal::baseline::ConcurrentBaselineCompiler::JobDispatcher}!Run@{Run}}
\index{Run@{Run}!v8::internal::baseline::ConcurrentBaselineCompiler::JobDispatcher@{v8::internal::baseline::ConcurrentBaselineCompiler::JobDispatcher}}
\doxysubsubsection{\texorpdfstring{Run()}{Run()}}
{\footnotesize\ttfamily void v8\+::internal\+::baseline\+::\+Concurrent\+Baseline\+Compiler\+::\+Job\+Dispatcher\+::\+Run (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1JobDelegate}{Job\+Delegate}} $\ast$}]{delegate }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classv8_1_1JobTask_a9b6d0cee5615420f30b0db8a4c5e8c3b}{v8\+::\+Job\+Task}}.



Definition at line 160 of file baseline-\/batch-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{160                                              \{}
\DoxyCodeLine{161       base::FlushDenormalsScope flush\_denormals\_scope(}
\DoxyCodeLine{162           \mbox{\hyperlink{classv8_1_1internal_1_1baseline_1_1ConcurrentBaselineCompiler_1_1JobDispatcher_a8978dd653e155b02513e87c3a4d0c1d5}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a2b765042116aca0b07233b982854a749}{flush\_denormals}}());}
\DoxyCodeLine{163       LocalIsolate local\_isolate(\mbox{\hyperlink{classv8_1_1internal_1_1baseline_1_1ConcurrentBaselineCompiler_1_1JobDispatcher_a8978dd653e155b02513e87c3a4d0c1d5}{isolate\_}}, \mbox{\hyperlink{namespacev8_1_1internal_a34c412e70714b6b814e60c4b6883e0eea7c58afb43537a264dcd68e698a7b8e3b}{ThreadKind::kBackground}});}
\DoxyCodeLine{164       UnparkedScope unparked\_scope(\&local\_isolate);}
\DoxyCodeLine{165       LocalHandleScope handle\_scope(\&local\_isolate);}
\DoxyCodeLine{166 }
\DoxyCodeLine{167       \textcolor{keywordflow}{while} (!\mbox{\hyperlink{classv8_1_1internal_1_1baseline_1_1ConcurrentBaselineCompiler_1_1JobDispatcher_a328740ee315876580f7ae60bdb02c624}{incoming\_queue\_}}-\/>IsEmpty() \&\& !delegate-\/>ShouldYield()) \{}
\DoxyCodeLine{168         std::unique\_ptr<BaselineBatchCompilerJob> job;}
\DoxyCodeLine{169         \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1baseline_1_1ConcurrentBaselineCompiler_1_1JobDispatcher_a328740ee315876580f7ae60bdb02c624}{incoming\_queue\_}}-\/>Dequeue(\&job)) \textcolor{keywordflow}{break};}
\DoxyCodeLine{170         \mbox{\hyperlink{src_2base_2logging_8h_a7b9f9517fedacc2a1a56c2bbb9d03688}{DCHECK\_NOT\_NULL}}(job);}
\DoxyCodeLine{171         job-\/>Compile(\&local\_isolate);}
\DoxyCodeLine{172         \mbox{\hyperlink{classv8_1_1internal_1_1baseline_1_1ConcurrentBaselineCompiler_1_1JobDispatcher_a839aad8c8200851ef789cf46a3620cba}{outgoing\_queue\_}}-\/>Enqueue(std::move(job));}
\DoxyCodeLine{173       \}}
\DoxyCodeLine{174       \mbox{\hyperlink{classv8_1_1internal_1_1baseline_1_1ConcurrentBaselineCompiler_1_1JobDispatcher_a8978dd653e155b02513e87c3a4d0c1d5}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a39a1d363e13113d1ca51a5c032312f3e}{stack\_guard}}()-\/>RequestInstallBaselineCode();}
\DoxyCodeLine{175     \}}

\end{DoxyCode}


References DCHECK\+\_\+\+NOT\+\_\+\+NULL, v8\+::internal\+::\+Isolate\+::flush\+\_\+denormals(), incoming\+\_\+queue\+\_\+, isolate\+\_\+, v8\+::internal\+::k\+Background, outgoing\+\_\+queue\+\_\+, v8\+::\+Job\+Delegate\+::\+Should\+Yield(), and v8\+::internal\+::\+Isolate\+::stack\+\_\+guard().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1baseline_1_1ConcurrentBaselineCompiler_1_1JobDispatcher_a81016279b1f8d85fa2d86a8dcb52db5c_cgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1baseline_1_1ConcurrentBaselineCompiler_1_1JobDispatcher_a328740ee315876580f7ae60bdb02c624}\label{classv8_1_1internal_1_1baseline_1_1ConcurrentBaselineCompiler_1_1JobDispatcher_a328740ee315876580f7ae60bdb02c624}} 
\index{v8::internal::baseline::ConcurrentBaselineCompiler::JobDispatcher@{v8::internal::baseline::ConcurrentBaselineCompiler::JobDispatcher}!incoming\_queue\_@{incoming\_queue\_}}
\index{incoming\_queue\_@{incoming\_queue\_}!v8::internal::baseline::ConcurrentBaselineCompiler::JobDispatcher@{v8::internal::baseline::ConcurrentBaselineCompiler::JobDispatcher}}
\doxysubsubsection{\texorpdfstring{incoming\_queue\_}{incoming\_queue\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1LockedQueue}{Locked\+Queue}}$<$std\+::unique\+\_\+ptr$<$\mbox{\hyperlink{classv8_1_1internal_1_1baseline_1_1BaselineBatchCompilerJob}{Baseline\+Batch\+Compiler\+Job}}$>$ $>$$\ast$ v8\+::internal\+::baseline\+::\+Concurrent\+Baseline\+Compiler\+::\+Job\+Dispatcher\+::incoming\+\_\+queue\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 188 of file baseline-\/batch-\/compiler.\+cc.



Referenced by Get\+Max\+Concurrency(), and Run().

\mbox{\Hypertarget{classv8_1_1internal_1_1baseline_1_1ConcurrentBaselineCompiler_1_1JobDispatcher_a8978dd653e155b02513e87c3a4d0c1d5}\label{classv8_1_1internal_1_1baseline_1_1ConcurrentBaselineCompiler_1_1JobDispatcher_a8978dd653e155b02513e87c3a4d0c1d5}} 
\index{v8::internal::baseline::ConcurrentBaselineCompiler::JobDispatcher@{v8::internal::baseline::ConcurrentBaselineCompiler::JobDispatcher}!isolate\_@{isolate\_}}
\index{isolate\_@{isolate\_}!v8::internal::baseline::ConcurrentBaselineCompiler::JobDispatcher@{v8::internal::baseline::ConcurrentBaselineCompiler::JobDispatcher}}
\doxysubsubsection{\texorpdfstring{isolate\_}{isolate\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}}$\ast$ v8\+::internal\+::baseline\+::\+Concurrent\+Baseline\+Compiler\+::\+Job\+Dispatcher\+::isolate\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 187 of file baseline-\/batch-\/compiler.\+cc.



Referenced by Run().

\mbox{\Hypertarget{classv8_1_1internal_1_1baseline_1_1ConcurrentBaselineCompiler_1_1JobDispatcher_a839aad8c8200851ef789cf46a3620cba}\label{classv8_1_1internal_1_1baseline_1_1ConcurrentBaselineCompiler_1_1JobDispatcher_a839aad8c8200851ef789cf46a3620cba}} 
\index{v8::internal::baseline::ConcurrentBaselineCompiler::JobDispatcher@{v8::internal::baseline::ConcurrentBaselineCompiler::JobDispatcher}!outgoing\_queue\_@{outgoing\_queue\_}}
\index{outgoing\_queue\_@{outgoing\_queue\_}!v8::internal::baseline::ConcurrentBaselineCompiler::JobDispatcher@{v8::internal::baseline::ConcurrentBaselineCompiler::JobDispatcher}}
\doxysubsubsection{\texorpdfstring{outgoing\_queue\_}{outgoing\_queue\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1LockedQueue}{Locked\+Queue}}$<$std\+::unique\+\_\+ptr$<$\mbox{\hyperlink{classv8_1_1internal_1_1baseline_1_1BaselineBatchCompilerJob}{Baseline\+Batch\+Compiler\+Job}}$>$ $>$$\ast$ v8\+::internal\+::baseline\+::\+Concurrent\+Baseline\+Compiler\+::\+Job\+Dispatcher\+::outgoing\+\_\+queue\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 189 of file baseline-\/batch-\/compiler.\+cc.



Referenced by Run().



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/baseline/\mbox{\hyperlink{baseline-batch-compiler_8cc}{baseline-\/batch-\/compiler.\+cc}}\end{DoxyCompactItemize}
