\hypertarget{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer}{}\doxysection{v8\+::internal\+::compiler\+::turboshaft\+::Memory\+Optimization\+Reducer$<$ Next $>$ Class Template Reference}
\label{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer}\index{v8::internal::compiler::turboshaft::MemoryOptimizationReducer$<$ Next $>$@{v8::internal::compiler::turboshaft::MemoryOptimizationReducer$<$ Next $>$}}


{\ttfamily \#include $<$memory-\/optimization-\/reducer.\+h$>$}



Inheritance diagram for v8\+::internal\+::compiler\+::turboshaft\+::Memory\+Optimization\+Reducer$<$ Next $>$\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=262pt]{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for v8\+::internal\+::compiler\+::turboshaft\+::Memory\+Optimization\+Reducer$<$ Next $>$\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_afefdb2d5d0bf2606808b351680ef114d}{Analyze}} ()
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V}{V}}$<$ \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1None}{None}} $>$ REDUCE\+\_\+\+INPUT\+\_\+\+GRAPH() \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_ad0bf2330867a837b764c33d04e184072}{Store}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V}{V}}$<$ \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1None}{None}} $>$ ig\+\_\+index, const \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1StoreOp}{Store\+Op}} \&\mbox{\hyperlink{flag-definitions_8h_a88efda0d30f0789fdb73665260750735}{store}})
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V}{V}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1HeapObject}{Heap\+Object}} $>$ \mbox{\hyperlink{uniform-reducer-adapter_8h_ac243a1f9603cd0a9e0c3ad8cf9843c16}{REDUCE}}() \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a8ff1265e12f0f0b8e4e07caeff77541a}{Allocate}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V}{V}}$<$ \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_ae22928d6363404a479a21933ccc7b695}{Word\+Ptr}} $>$ \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}, \mbox{\hyperlink{namespacev8_1_1internal_a604d5beeb6fc8639670f737ed201e20a}{Allocation\+Type}} type, \mbox{\hyperlink{namespacev8_1_1internal_ab6431cd9205265cf49909abcac939803}{Allocation\+Alignment}} alignment)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V}{V}}$<$ \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_ae22928d6363404a479a21933ccc7b695}{Word\+Ptr}} $>$ \mbox{\hyperlink{uniform-reducer-adapter_8h_ac243a1f9603cd0a9e0c3ad8cf9843c16}{REDUCE}}() \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a65f08fa872fcf4e811b2a64b7c88cc1a}{Decode\+External\+Pointer}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V}{V}}$<$ \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_aeccd16378a95dc9d3039f8669648c698}{Word32}} $>$ \mbox{\hyperlink{namespacev8_1_1internal_a8c89f00da07e125218128b9fbf0a321c}{handle}}, \mbox{\hyperlink{namespacev8_1_1internal_ab06255cf21187dad77fbfe7fc722a216}{External\+Pointer\+Tag\+Range}} tag\+\_\+range)
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_a360e859ecd2f20a4868a17f0a7ec8a57}{Variable}} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a368edae780ff1db26b77849373bb9f3b}{top}} (\mbox{\hyperlink{namespacev8_1_1internal_a604d5beeb6fc8639670f737ed201e20a}{Allocation\+Type}} type)
\item 
const \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1TSCallDescriptor}{TSCall\+Descriptor}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a45caf56d9cad8db16cde80325b8ea6d6}{Allocate\+Builtin\+Descriptor}} ()
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V}{V}}$<$ \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_ae22928d6363404a479a21933ccc7b695}{Word\+Ptr}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_addcab32a7add1491158a51eb6170cccd}{Get\+Limit\+Address}} (\mbox{\hyperlink{namespacev8_1_1internal_a604d5beeb6fc8639670f737ed201e20a}{Allocation\+Type}} type)
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::optional$<$ \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryAnalyzer}{Memory\+Analyzer}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a62a145439bb68db30a3adad35310bfd3}{analyzer\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a3fd61d1072291c7d2461d3ae129ab74b}{isolate\+\_\+}} = \mbox{\hyperlink{interpreter-builtins-x64_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\+\_\+\+\_\+}} data() -\/$>$ isolate()
\item 
const \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1TSCallDescriptor}{TSCall\+Descriptor}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a619499593a6afdf32ab4f8d6ecd276c1}{allocate\+\_\+builtin\+\_\+descriptor\+\_\+}} = \mbox{\hyperlink{flag-definitions_8h_aca14fbede0905858c819226fce3678cc}{nullptr}}
\item 
std\+::optional$<$ \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_a360e859ecd2f20a4868a17f0a7ec8a57}{Variable}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_ac0328f36479e121a607dfc967b60eaec}{top\+\_\+}} \mbox{[}2\mbox{]}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$class Next$>$\newline
class v8\+::internal\+::compiler\+::turboshaft\+::\+Memory\+Optimization\+Reducer$<$ Next $>$}



Definition at line 187 of file memory-\/optimization-\/reducer.\+h.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a8ff1265e12f0f0b8e4e07caeff77541a}\label{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a8ff1265e12f0f0b8e4e07caeff77541a}} 
\index{v8::internal::compiler::turboshaft::MemoryOptimizationReducer$<$ Next $>$@{v8::internal::compiler::turboshaft::MemoryOptimizationReducer$<$ Next $>$}!Allocate@{Allocate}}
\index{Allocate@{Allocate}!v8::internal::compiler::turboshaft::MemoryOptimizationReducer$<$ Next $>$@{v8::internal::compiler::turboshaft::MemoryOptimizationReducer$<$ Next $>$}}
\doxysubsubsection{\texorpdfstring{Allocate()}{Allocate()}}
{\footnotesize\ttfamily template$<$class Next $>$ \\
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V}{V}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1HeapObject}{Heap\+Object}}$>$ \mbox{\hyperlink{uniform-reducer-adapter_8h_ac243a1f9603cd0a9e0c3ad8cf9843c16}{REDUCE}}() \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer}{v8\+::internal\+::compiler\+::turboshaft\+::\+Memory\+Optimization\+Reducer}}$<$ Next $>$\+::Allocate (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V}{V}}$<$ \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_ae22928d6363404a479a21933ccc7b695}{Word\+Ptr}} $>$}]{size,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a604d5beeb6fc8639670f737ed201e20a}{Allocation\+Type}}}]{type,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab6431cd9205265cf49909abcac939803}{Allocation\+Alignment}}}]{alignment }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 231 of file memory-\/optimization-\/reducer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{232                                                                 \{}
\DoxyCodeLine{233     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}}, \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_a2cbce91371c0abc5265685f2bf0f7c27}{any\_of}}(\mbox{\hyperlink{namespacev8_1_1internal_a604d5beeb6fc8639670f737ed201e20aa492ef7cfa083cd677493179d45c9961e}{AllocationType::kYoung}}, \mbox{\hyperlink{namespacev8_1_1internal_a604d5beeb6fc8639670f737ed201e20aa0aa38c28f349d65a6819e03844b73dff}{AllocationType::kOld}},}
\DoxyCodeLine{234                            \mbox{\hyperlink{namespacev8_1_1internal_a604d5beeb6fc8639670f737ed201e20aa420fc4b93a98a0b612db8f2f69463514}{AllocationType::kSharedOld}}));}
\DoxyCodeLine{235 }
\DoxyCodeLine{236 \textcolor{preprocessor}{\#if V8\_ENABLE\_WEBASSEMBLY}}
\DoxyCodeLine{237     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}} == \mbox{\hyperlink{namespacev8_1_1internal_a604d5beeb6fc8639670f737ed201e20aa420fc4b93a98a0b612db8f2f69463514}{AllocationType::kSharedOld}}) \{}
\DoxyCodeLine{238       \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a3fd61d1072291c7d2461d3ae129ab74b}{isolate\_}}, \textcolor{keyword}{nullptr});  \textcolor{comment}{// Only possible in wasm.}}
\DoxyCodeLine{239       \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a62a145439bb68db30a3adad35310bfd3}{analyzer\_}}-\/>is\_wasm);}
\DoxyCodeLine{240       static\_assert(std::is\_same\_v<Smi, BuiltinPtr>, \textcolor{stringliteral}{"{}BuiltinPtr must be Smi"{}});}
\DoxyCodeLine{241       \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_a0a87c55b6d909048c3f4b6e8ec76f3e4}{OpIndex}} allocate\_builtin = \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a3c392be439ddfcced9509a98e8aa385d}{NumberConstant}}(}
\DoxyCodeLine{242           \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(Builtin::kWasmAllocateInSharedHeap));}
\DoxyCodeLine{243       \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_a0a87c55b6d909048c3f4b6e8ec76f3e4}{OpIndex}} allocated = \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Call(}
\DoxyCodeLine{244           allocate\_builtin, \{\mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}, \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} SmiConstant(\mbox{\hyperlink{classv8_1_1internal_1_1Smi_afe7f07102d90ccce48cbe677c88a0645}{Smi::FromInt}}(alignment))\},}
\DoxyCodeLine{245           AllocateWasmSharedBuiltinDescriptor());}
\DoxyCodeLine{246       \textcolor{keywordflow}{return} allocated;}
\DoxyCodeLine{247     \}}
\DoxyCodeLine{248 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{249     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(alignment, \mbox{\hyperlink{namespacev8_1_1internal_ab6431cd9205265cf49909abcac939803a89dfe630590dbfe7004e6de0fabec67b}{kTaggedAligned}});}
\DoxyCodeLine{250     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.single\_generation \&\& \mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}} == \mbox{\hyperlink{namespacev8_1_1internal_a604d5beeb6fc8639670f737ed201e20aa492ef7cfa083cd677493179d45c9961e}{AllocationType::kYoung}}) \{}
\DoxyCodeLine{251       \mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}} = \mbox{\hyperlink{namespacev8_1_1internal_a604d5beeb6fc8639670f737ed201e20aa0aa38c28f349d65a6819e03844b73dff}{AllocationType::kOld}};}
\DoxyCodeLine{252     \}}
\DoxyCodeLine{253 }
\DoxyCodeLine{254     V<WordPtr> top\_address;}
\DoxyCodeLine{255     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a3fd61d1072291c7d2461d3ae129ab74b}{isolate\_}} != \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{256       top\_address = \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} ExternalConstant(}
\DoxyCodeLine{257           \mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}} == \mbox{\hyperlink{namespacev8_1_1internal_a604d5beeb6fc8639670f737ed201e20aa492ef7cfa083cd677493179d45c9961e}{AllocationType::kYoung}}}
\DoxyCodeLine{258               ? ExternalReference::new\_space\_allocation\_top\_address(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a3fd61d1072291c7d2461d3ae129ab74b}{isolate\_}})}
\DoxyCodeLine{259               : ExternalReference::old\_space\_allocation\_top\_address(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a3fd61d1072291c7d2461d3ae129ab74b}{isolate\_}}));}
\DoxyCodeLine{260     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{261       \textcolor{comment}{// Wasm mode: producing isolate-\/independent code, loading the isolate}}
\DoxyCodeLine{262       \textcolor{comment}{// address at runtime.}}
\DoxyCodeLine{263 \textcolor{preprocessor}{\#if V8\_ENABLE\_WEBASSEMBLY}}
\DoxyCodeLine{264       V<WasmTrustedInstanceData> \mbox{\hyperlink{namespacev8_1_1internal_a4bf21ee96580042a8262a8300dca514c}{instance\_data}} = \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} WasmInstanceDataParameter();}
\DoxyCodeLine{265       \textcolor{keywordtype}{int} top\_address\_offset =}
\DoxyCodeLine{266           \mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}} == \mbox{\hyperlink{namespacev8_1_1internal_a604d5beeb6fc8639670f737ed201e20aa492ef7cfa083cd677493179d45c9961e}{AllocationType::kYoung}}}
\DoxyCodeLine{267               ? WasmTrustedInstanceData::kNewAllocationTopAddressOffset}
\DoxyCodeLine{268               : WasmTrustedInstanceData::kOldAllocationTopAddressOffset;}
\DoxyCodeLine{269       top\_address =}
\DoxyCodeLine{270           \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} \mbox{\hyperlink{namespacev8_afba0b7d3427abb6bfb7e3cd115579e51}{Load}}(\mbox{\hyperlink{namespacev8_1_1internal_a4bf21ee96580042a8262a8300dca514c}{instance\_data}}, \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1LoadOp_1_1Kind_a1af9380810652e7404f37c93cc8235fc}{LoadOp::Kind::TaggedBase}}().Immutable(),}
\DoxyCodeLine{271                   \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryRepresentation_ad00e9066a2db273c907546a88ce96a76}{MemoryRepresentation::UintPtr}}(), top\_address\_offset);}
\DoxyCodeLine{272 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{273       \mbox{\hyperlink{namespacev8_1_1internal_acdec713c25068019f935e35976f5b666}{UNREACHABLE}}();}
\DoxyCodeLine{274 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// V8\_ENABLE\_WEBASSEMBLY}}
\DoxyCodeLine{275     \}}
\DoxyCodeLine{276 }
\DoxyCodeLine{277     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a62a145439bb68db30a3adad35310bfd3}{analyzer\_}}-\/>IsFoldedAllocation(\mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} current\_operation\_origin())) \{}
\DoxyCodeLine{278       \mbox{\hyperlink{src_2base_2logging_8h_a986dc8f4ec6dcd0644efe205c13f8eb7}{DCHECK\_NE}}(\mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} GetVariable(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a368edae780ff1db26b77849373bb9f3b}{top}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}})), \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V_ad561401feffb45d9b62238c0c0739e5b}{V<WordPtr>::Invalid}}());}
\DoxyCodeLine{279       V<WordPtr> obj\_addr = \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} GetVariable(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a368edae780ff1db26b77849373bb9f3b}{top}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}}));}
\DoxyCodeLine{280       \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} SetVariable(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a368edae780ff1db26b77849373bb9f3b}{top}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}}), \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} WordPtrAdd(\mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} GetVariable(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a368edae780ff1db26b77849373bb9f3b}{top}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}})), \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}));}
\DoxyCodeLine{281       \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreOffHeap(top\_address, \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} GetVariable(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a368edae780ff1db26b77849373bb9f3b}{top}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}})),}
\DoxyCodeLine{282                       \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryRepresentation_ad00e9066a2db273c907546a88ce96a76}{MemoryRepresentation::UintPtr}}());}
\DoxyCodeLine{283       \textcolor{keywordflow}{return} \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} BitcastWordPtrToHeapObject(}
\DoxyCodeLine{284           \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} WordPtrAdd(obj\_addr, \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a364c1534fdf1073625e22f3283e46994}{IntPtrConstant}}(\mbox{\hyperlink{namespacev8_1_1internal_aa2507eb9d594b9767347031fb02d0b20}{kHeapObjectTag}})));}
\DoxyCodeLine{285     \}}
\DoxyCodeLine{286 }
\DoxyCodeLine{287     \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} SetVariable(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a368edae780ff1db26b77849373bb9f3b}{top}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}}), \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadOffHeap(top\_address,}
\DoxyCodeLine{288                                              \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryRepresentation_ad00e9066a2db273c907546a88ce96a76}{MemoryRepresentation::UintPtr}}()));}
\DoxyCodeLine{289 }
\DoxyCodeLine{290     V<CallTarget> allocate\_builtin;}
\DoxyCodeLine{291     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a62a145439bb68db30a3adad35310bfd3}{analyzer\_}}-\/>is\_wasm) \{}
\DoxyCodeLine{292       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}} == \mbox{\hyperlink{namespacev8_1_1internal_a604d5beeb6fc8639670f737ed201e20aa492ef7cfa083cd677493179d45c9961e}{AllocationType::kYoung}}) \{}
\DoxyCodeLine{293         allocate\_builtin =}
\DoxyCodeLine{294             \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} BuiltinCode(Builtin::kAllocateInYoungGeneration, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a3fd61d1072291c7d2461d3ae129ab74b}{isolate\_}});}
\DoxyCodeLine{295       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{296         allocate\_builtin =}
\DoxyCodeLine{297             \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} BuiltinCode(Builtin::kAllocateInOldGeneration, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a3fd61d1072291c7d2461d3ae129ab74b}{isolate\_}});}
\DoxyCodeLine{298       \}}
\DoxyCodeLine{299     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{300 \textcolor{preprocessor}{\#if V8\_ENABLE\_WEBASSEMBLY}}
\DoxyCodeLine{301       \textcolor{comment}{// This lowering is used by Wasm, where we compile isolate-\/independent}}
\DoxyCodeLine{302       \textcolor{comment}{// code. Builtin calls simply encode the target builtin ID, which will}}
\DoxyCodeLine{303       \textcolor{comment}{// be patched to the builtin's address later.}}
\DoxyCodeLine{304       \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a3fd61d1072291c7d2461d3ae129ab74b}{isolate\_}} == \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{305         \mbox{\hyperlink{namespacev8_1_1internal_acc2e164143496f18b5ec68f8ab70af52}{Builtin}} builtin;}
\DoxyCodeLine{306         \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}} == \mbox{\hyperlink{namespacev8_1_1internal_a604d5beeb6fc8639670f737ed201e20aa492ef7cfa083cd677493179d45c9961e}{AllocationType::kYoung}}) \{}
\DoxyCodeLine{307           builtin = Builtin::kWasmAllocateInYoungGeneration;}
\DoxyCodeLine{308         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{309           builtin = Builtin::kWasmAllocateInOldGeneration;}
\DoxyCodeLine{310         \}}
\DoxyCodeLine{311         static\_assert(std::is\_same\_v<Smi, BuiltinPtr>,}
\DoxyCodeLine{312                       \textcolor{stringliteral}{"{}BuiltinPtr must be Smi"{}});}
\DoxyCodeLine{313         allocate\_builtin = \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a3c392be439ddfcced9509a98e8aa385d}{NumberConstant}}(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(builtin));}
\DoxyCodeLine{314       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{315         \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}} == \mbox{\hyperlink{namespacev8_1_1internal_a604d5beeb6fc8639670f737ed201e20aa492ef7cfa083cd677493179d45c9961e}{AllocationType::kYoung}}) \{}
\DoxyCodeLine{316           allocate\_builtin =}
\DoxyCodeLine{317               \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} BuiltinCode(Builtin::kWasmAllocateInYoungGeneration, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a3fd61d1072291c7d2461d3ae129ab74b}{isolate\_}});}
\DoxyCodeLine{318         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{319           allocate\_builtin =}
\DoxyCodeLine{320               \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} BuiltinCode(Builtin::kWasmAllocateInOldGeneration, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a3fd61d1072291c7d2461d3ae129ab74b}{isolate\_}});}
\DoxyCodeLine{321         \}}
\DoxyCodeLine{322       \}}
\DoxyCodeLine{323 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{324       \mbox{\hyperlink{namespacev8_1_1internal_acdec713c25068019f935e35976f5b666}{UNREACHABLE}}();}
\DoxyCodeLine{325 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{326     \}}
\DoxyCodeLine{327 }
\DoxyCodeLine{328     Block* call\_runtime = \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} NewBlock();}
\DoxyCodeLine{329     Block* done = \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} NewBlock();}
\DoxyCodeLine{330 }
\DoxyCodeLine{331     V<WordPtr> limit\_address = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_addcab32a7add1491158a51eb6170cccd}{GetLimitAddress}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}});}
\DoxyCodeLine{332 }
\DoxyCodeLine{333     \textcolor{comment}{// If the allocation size is not statically known or is known to be larger}}
\DoxyCodeLine{334     \textcolor{comment}{// than kMaxRegularHeapObjectSize, do not update \{top(type)\} in case of a}}
\DoxyCodeLine{335     \textcolor{comment}{// runtime call. This is needed because we cannot allocation-\/fold large and}}
\DoxyCodeLine{336     \textcolor{comment}{// normal-\/sized objects.}}
\DoxyCodeLine{337     uint64\_t constant\_size\{\};}
\DoxyCodeLine{338     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} matcher().MatchIntegralWordConstant(}
\DoxyCodeLine{339             \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1WordRepresentation_ad66890d848f8fe401e7543360bf6f10e}{WordRepresentation::WordPtr}}(), \&constant\_size) ||}
\DoxyCodeLine{340         constant\_size > \mbox{\hyperlink{namespacev8_1_1internal_a1a7e8a8c200b964824f4ddcd355a8f86}{kMaxRegularHeapObjectSize}}) \{}
\DoxyCodeLine{341       \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_a360e859ecd2f20a4868a17f0a7ec8a57}{Variable}} \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} =}
\DoxyCodeLine{342           \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} NewLoopInvariantVariable(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1RegisterRepresentation_af4dcbabd802a274e26ec8f5a1af68b1b}{RegisterRepresentation::Tagged}}());}
\DoxyCodeLine{343       \textcolor{keywordflow}{if} (!constant\_size) \{}
\DoxyCodeLine{344         \textcolor{comment}{// Check if we can do bump pointer allocation here.}}
\DoxyCodeLine{345         V<WordPtr> top\_value = \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} GetVariable(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a368edae780ff1db26b77849373bb9f3b}{top}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}}));}
\DoxyCodeLine{346         \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} SetVariable(\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}},}
\DoxyCodeLine{347                        \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} BitcastWordPtrToHeapObject(\mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} WordPtrAdd(}
\DoxyCodeLine{348                            top\_value, \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a364c1534fdf1073625e22f3283e46994}{IntPtrConstant}}(\mbox{\hyperlink{namespacev8_1_1internal_aa2507eb9d594b9767347031fb02d0b20}{kHeapObjectTag}}))));}
\DoxyCodeLine{349         V<WordPtr> new\_top = \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} WordPtrAdd(top\_value, \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}});}
\DoxyCodeLine{350         V<WordPtr> limit =}
\DoxyCodeLine{351             \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadOffHeap(limit\_address, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryRepresentation_ad00e9066a2db273c907546a88ce96a76}{MemoryRepresentation::UintPtr}}());}
\DoxyCodeLine{352         \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} GotoIfNot(LIKELY(\mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} \mbox{\hyperlink{namespacev8_1_1internal_1_1TorqueRuntimeMacroShims_1_1CodeStubAssembler_ab5c0c9994bc72147ef59a776c0cd9506}{UintPtrLessThan}}(new\_top, limit)), call\_runtime);}
\DoxyCodeLine{353         \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} GotoIfNot(LIKELY(\mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} \mbox{\hyperlink{namespacev8_1_1internal_1_1TorqueRuntimeMacroShims_1_1CodeStubAssembler_ab5c0c9994bc72147ef59a776c0cd9506}{UintPtrLessThan}}(}
\DoxyCodeLine{354                          \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}, \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a364c1534fdf1073625e22f3283e46994}{IntPtrConstant}}(\mbox{\hyperlink{namespacev8_1_1internal_a1a7e8a8c200b964824f4ddcd355a8f86}{kMaxRegularHeapObjectSize}}))),}
\DoxyCodeLine{355                      call\_runtime);}
\DoxyCodeLine{356         \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} SetVariable(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a368edae780ff1db26b77849373bb9f3b}{top}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}}), new\_top);}
\DoxyCodeLine{357         \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreOffHeap(top\_address, new\_top, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryRepresentation_ad00e9066a2db273c907546a88ce96a76}{MemoryRepresentation::UintPtr}}());}
\DoxyCodeLine{358         \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Goto(done);}
\DoxyCodeLine{359       \}}
\DoxyCodeLine{360       \textcolor{keywordflow}{if} (constant\_size || \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Bind(call\_runtime)) \{}
\DoxyCodeLine{361         \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} SetVariable(}
\DoxyCodeLine{362             \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}}, \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} \textcolor{keyword}{template} Call<HeapObject>(allocate\_builtin, \{\mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}\},}
\DoxyCodeLine{363                                                  \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a45caf56d9cad8db16cde80325b8ea6d6}{AllocateBuiltinDescriptor}}()));}
\DoxyCodeLine{364         \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Goto(done);}
\DoxyCodeLine{365       \}}
\DoxyCodeLine{366 }
\DoxyCodeLine{367       \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} BindReachable(done);}
\DoxyCodeLine{368       \textcolor{keywordflow}{return} \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} GetVariable(\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}});}
\DoxyCodeLine{369     \}}
\DoxyCodeLine{370 }
\DoxyCodeLine{371     V<WordPtr> reservation\_size;}
\DoxyCodeLine{372     \textcolor{keywordflow}{if} (\textcolor{keyword}{auto} c = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a62a145439bb68db30a3adad35310bfd3}{analyzer\_}}-\/>ReservedSize(\mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} current\_operation\_origin())) \{}
\DoxyCodeLine{373       reservation\_size = \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} UintPtrConstant(*c);}
\DoxyCodeLine{374     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{375       reservation\_size = \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}};}
\DoxyCodeLine{376     \}}
\DoxyCodeLine{377     \textcolor{comment}{// Check if we can do bump pointer allocation here.}}
\DoxyCodeLine{378     \textcolor{keywordtype}{bool} reachable =}
\DoxyCodeLine{379         \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} GotoIfNot(\mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} \mbox{\hyperlink{namespacev8_1_1internal_1_1TorqueRuntimeMacroShims_1_1CodeStubAssembler_ab5c0c9994bc72147ef59a776c0cd9506}{UintPtrLessThan}}(}
\DoxyCodeLine{380                          \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}, \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a364c1534fdf1073625e22f3283e46994}{IntPtrConstant}}(\mbox{\hyperlink{namespacev8_1_1internal_a1a7e8a8c200b964824f4ddcd355a8f86}{kMaxRegularHeapObjectSize}})),}
\DoxyCodeLine{381                      call\_runtime, \mbox{\hyperlink{namespacev8_1_1internal_ab5a4f63d4df50ea3fd9299c981ae3187a66e2fa9ba4f5420341b16f9d6365f428}{BranchHint::kTrue}}) !=}
\DoxyCodeLine{382         \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_a1de7e1dbb8fccce9f24212ad1cd9487aac0737eaed39b60038dc074e0e4ab352c}{ConditionalGotoStatus::kGotoDestination}};}
\DoxyCodeLine{383     \textcolor{keywordflow}{if} (reachable) \{}
\DoxyCodeLine{384       V<WordPtr> limit =}
\DoxyCodeLine{385           \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadOffHeap(limit\_address, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryRepresentation_ad00e9066a2db273c907546a88ce96a76}{MemoryRepresentation::UintPtr}}());}
\DoxyCodeLine{386       \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Branch(\mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} \mbox{\hyperlink{namespacev8_1_1internal_1_1TorqueRuntimeMacroShims_1_1CodeStubAssembler_ab5c0c9994bc72147ef59a776c0cd9506}{UintPtrLessThan}}(}
\DoxyCodeLine{387                     \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} WordPtrAdd(\mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} GetVariable(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a368edae780ff1db26b77849373bb9f3b}{top}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}})), reservation\_size),}
\DoxyCodeLine{388                     limit),}
\DoxyCodeLine{389                 done, call\_runtime, \mbox{\hyperlink{namespacev8_1_1internal_ab5a4f63d4df50ea3fd9299c981ae3187a66e2fa9ba4f5420341b16f9d6365f428}{BranchHint::kTrue}});}
\DoxyCodeLine{390     \}}
\DoxyCodeLine{391 }
\DoxyCodeLine{392     \textcolor{comment}{// Call the runtime if bump pointer area exhausted.}}
\DoxyCodeLine{393     \textcolor{keywordflow}{if} (\mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Bind(call\_runtime)) \{}
\DoxyCodeLine{394       V<HeapObject> allocated = \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} \textcolor{keyword}{template} Call<HeapObject>(}
\DoxyCodeLine{395           allocate\_builtin, \{reservation\_size\}, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a45caf56d9cad8db16cde80325b8ea6d6}{AllocateBuiltinDescriptor}}());}
\DoxyCodeLine{396       \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} SetVariable(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a368edae780ff1db26b77849373bb9f3b}{top}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}}),}
\DoxyCodeLine{397                      \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} WordPtrSub(\mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} BitcastHeapObjectToWordPtr(allocated),}
\DoxyCodeLine{398                                    \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a364c1534fdf1073625e22f3283e46994}{IntPtrConstant}}(\mbox{\hyperlink{namespacev8_1_1internal_aa2507eb9d594b9767347031fb02d0b20}{kHeapObjectTag}})));}
\DoxyCodeLine{399       \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Goto(done);}
\DoxyCodeLine{400     \}}
\DoxyCodeLine{401 }
\DoxyCodeLine{402     \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} BindReachable(done);}
\DoxyCodeLine{403     \textcolor{comment}{// Compute the new top and write it back.}}
\DoxyCodeLine{404     V<WordPtr> obj\_addr = \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} GetVariable(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a368edae780ff1db26b77849373bb9f3b}{top}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}}));}
\DoxyCodeLine{405     \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} SetVariable(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a368edae780ff1db26b77849373bb9f3b}{top}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}}), \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} WordPtrAdd(\mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} GetVariable(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a368edae780ff1db26b77849373bb9f3b}{top}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}})), \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}));}
\DoxyCodeLine{406     \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreOffHeap(top\_address, \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} GetVariable(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a368edae780ff1db26b77849373bb9f3b}{top}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}})),}
\DoxyCodeLine{407                     \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryRepresentation_ad00e9066a2db273c907546a88ce96a76}{MemoryRepresentation::UintPtr}}());}
\DoxyCodeLine{408     \textcolor{keywordflow}{return} \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} BitcastWordPtrToHeapObject(}
\DoxyCodeLine{409         \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} WordPtrAdd(obj\_addr, \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a364c1534fdf1073625e22f3283e46994}{IntPtrConstant}}(\mbox{\hyperlink{namespacev8_1_1internal_aa2507eb9d594b9767347031fb02d0b20}{kHeapObjectTag}})));}
\DoxyCodeLine{410   \}}

\end{DoxyCode}


References \+\_\+\+\_\+, v8\+::internal\+::compiler\+::turboshaft\+::\+Memory\+Optimization\+Reducer$<$ Next $>$\+::\+Allocate\+Builtin\+Descriptor(), v8\+::internal\+::compiler\+::turboshaft\+::\+Memory\+Optimization\+Reducer$<$ Next $>$\+::analyzer\+\_\+, v8\+::internal\+::compiler\+::turboshaft\+::any\+\_\+of(), v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+EQ, DCHECK\+\_\+\+NE, v8\+::internal\+::\+Smi\+::\+From\+Int(), v8\+::internal\+::compiler\+::turboshaft\+::\+Memory\+Optimization\+Reducer$<$ Next $>$\+::\+Get\+Limit\+Address(), v8\+::internal\+::instance\+\_\+data, v8\+::internal\+::compiler\+::\+Int\+Ptr\+Constant(), v8\+::internal\+::compiler\+::turboshaft\+::\+Memory\+Optimization\+Reducer$<$ Next $>$\+::isolate\+\_\+, v8\+::internal\+::compiler\+::turboshaft\+::k\+Goto\+Destination, v8\+::internal\+::k\+Heap\+Object\+Tag, v8\+::internal\+::k\+Max\+Regular\+Heap\+Object\+Size, v8\+::internal\+::k\+Old, v8\+::internal\+::k\+Shared\+Old, v8\+::internal\+::k\+Tagged\+Aligned, v8\+::internal\+::k\+True, v8\+::internal\+::k\+Young, v8\+::\+Load(), v8\+::internal\+::compiler\+::\+Number\+Constant(), v8\+::base\+::internal\+::result, size(), v8\+::internal\+::compiler\+::turboshaft\+::\+Register\+Representation\+::\+Tagged(), v8\+::internal\+::compiler\+::turboshaft\+::\+Load\+Op\+::\+Kind\+::\+Tagged\+Base(), v8\+::internal\+::compiler\+::turboshaft\+::\+Memory\+Optimization\+Reducer$<$ Next $>$\+::top(), v8\+::internal\+::tracing\+::type, v8\+::internal\+::compiler\+::turboshaft\+::\+Memory\+Representation\+::\+Uint\+Ptr(), v8\+::internal\+::\+Torque\+Runtime\+Macro\+Shims\+::\+Code\+Stub\+Assembler\+::\+Uint\+Ptr\+Less\+Than(), v8\+::internal\+::\+UNREACHABLE(), v8\+::internal\+::v8\+\_\+flags, and v8\+::internal\+::compiler\+::turboshaft\+::\+Word\+Representation\+::\+Word\+Ptr().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a8ff1265e12f0f0b8e4e07caeff77541a_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a45caf56d9cad8db16cde80325b8ea6d6}\label{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a45caf56d9cad8db16cde80325b8ea6d6}} 
\index{v8::internal::compiler::turboshaft::MemoryOptimizationReducer$<$ Next $>$@{v8::internal::compiler::turboshaft::MemoryOptimizationReducer$<$ Next $>$}!AllocateBuiltinDescriptor@{AllocateBuiltinDescriptor}}
\index{AllocateBuiltinDescriptor@{AllocateBuiltinDescriptor}!v8::internal::compiler::turboshaft::MemoryOptimizationReducer$<$ Next $>$@{v8::internal::compiler::turboshaft::MemoryOptimizationReducer$<$ Next $>$}}
\doxysubsubsection{\texorpdfstring{AllocateBuiltinDescriptor()}{AllocateBuiltinDescriptor()}}
{\footnotesize\ttfamily template$<$class Next $>$ \\
const \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1TSCallDescriptor}{TSCall\+Descriptor}}$\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer}{v8\+::internal\+::compiler\+::turboshaft\+::\+Memory\+Optimization\+Reducer}}$<$ Next $>$\+::Allocate\+Builtin\+Descriptor (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 517 of file memory-\/optimization-\/reducer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{517                                                       \{}
\DoxyCodeLine{518     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a619499593a6afdf32ab4f8d6ecd276c1}{allocate\_builtin\_descriptor\_}} == \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{519       \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a619499593a6afdf32ab4f8d6ecd276c1}{allocate\_builtin\_descriptor\_}} =}
\DoxyCodeLine{520           \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_a87d517338b89cda12795c346dda082d7}{CreateAllocateBuiltinDescriptor}}(\mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} graph\_zone(), \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a3fd61d1072291c7d2461d3ae129ab74b}{isolate\_}});}
\DoxyCodeLine{521     \}}
\DoxyCodeLine{522     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a619499593a6afdf32ab4f8d6ecd276c1}{allocate\_builtin\_descriptor\_}};}
\DoxyCodeLine{523   \}}

\end{DoxyCode}


References \+\_\+\+\_\+, v8\+::internal\+::compiler\+::turboshaft\+::\+Memory\+Optimization\+Reducer$<$ Next $>$\+::allocate\+\_\+builtin\+\_\+descriptor\+\_\+, v8\+::internal\+::compiler\+::turboshaft\+::\+Create\+Allocate\+Builtin\+Descriptor(), and v8\+::internal\+::compiler\+::turboshaft\+::\+Memory\+Optimization\+Reducer$<$ Next $>$\+::isolate\+\_\+.



Referenced by v8\+::internal\+::compiler\+::turboshaft\+::\+Memory\+Optimization\+Reducer$<$ Next $>$\+::\+Allocate().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a45caf56d9cad8db16cde80325b8ea6d6_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a45caf56d9cad8db16cde80325b8ea6d6_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_afefdb2d5d0bf2606808b351680ef114d}\label{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_afefdb2d5d0bf2606808b351680ef114d}} 
\index{v8::internal::compiler::turboshaft::MemoryOptimizationReducer$<$ Next $>$@{v8::internal::compiler::turboshaft::MemoryOptimizationReducer$<$ Next $>$}!Analyze@{Analyze}}
\index{Analyze@{Analyze}!v8::internal::compiler::turboshaft::MemoryOptimizationReducer$<$ Next $>$@{v8::internal::compiler::turboshaft::MemoryOptimizationReducer$<$ Next $>$}}
\doxysubsubsection{\texorpdfstring{Analyze()}{Analyze()}}
{\footnotesize\ttfamily template$<$class Next $>$ \\
void \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer}{v8\+::internal\+::compiler\+::turboshaft\+::\+Memory\+Optimization\+Reducer}}$<$ Next $>$\+::Analyze (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 193 of file memory-\/optimization-\/reducer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{193                  \{}
\DoxyCodeLine{194     \textcolor{keyword}{auto}* info = \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} data() -\/> info();}
\DoxyCodeLine{195 \textcolor{preprocessor}{\#if V8\_ENABLE\_WEBASSEMBLY}}
\DoxyCodeLine{196     \textcolor{keywordtype}{bool} is\_wasm = info-\/>IsWasm() || info-\/>IsWasmBuiltin();}
\DoxyCodeLine{197 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{198     \textcolor{keywordtype}{bool} is\_wasm = \textcolor{keyword}{false};}
\DoxyCodeLine{199 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{200     \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a62a145439bb68db30a3adad35310bfd3}{analyzer\_}}.emplace(}
\DoxyCodeLine{201         \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} data(), \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} phase\_zone(), \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} input\_graph(),}
\DoxyCodeLine{202         info-\/>allocation\_folding()}
\DoxyCodeLine{203             ? \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryAnalyzer_a24a095cdcdefad5825a14a511abb239fa054c340aca0461db29a397baab2214c6}{MemoryAnalyzer::AllocationFolding::kDoAllocationFolding}}}
\DoxyCodeLine{204             : \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryAnalyzer_a24a095cdcdefad5825a14a511abb239fa07e1af0308f008670f9fa825cea26839}{MemoryAnalyzer::AllocationFolding::kDontAllocationFolding}},}
\DoxyCodeLine{205         is\_wasm);}
\DoxyCodeLine{206     \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a62a145439bb68db30a3adad35310bfd3}{analyzer\_}}-\/>Run();}
\DoxyCodeLine{207     Next::Analyze();}
\DoxyCodeLine{208   \}}

\end{DoxyCode}


References \+\_\+\+\_\+, v8\+::internal\+::compiler\+::turboshaft\+::\+Memory\+Optimization\+Reducer$<$ Next $>$\+::analyzer\+\_\+, v8\+::internal\+::compiler\+::turboshaft\+::\+Memory\+Analyzer\+::k\+Do\+Allocation\+Folding, and v8\+::internal\+::compiler\+::turboshaft\+::\+Memory\+Analyzer\+::k\+Dont\+Allocation\+Folding.

\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a65f08fa872fcf4e811b2a64b7c88cc1a}\label{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a65f08fa872fcf4e811b2a64b7c88cc1a}} 
\index{v8::internal::compiler::turboshaft::MemoryOptimizationReducer$<$ Next $>$@{v8::internal::compiler::turboshaft::MemoryOptimizationReducer$<$ Next $>$}!DecodeExternalPointer@{DecodeExternalPointer}}
\index{DecodeExternalPointer@{DecodeExternalPointer}!v8::internal::compiler::turboshaft::MemoryOptimizationReducer$<$ Next $>$@{v8::internal::compiler::turboshaft::MemoryOptimizationReducer$<$ Next $>$}}
\doxysubsubsection{\texorpdfstring{DecodeExternalPointer()}{DecodeExternalPointer()}}
{\footnotesize\ttfamily template$<$class Next $>$ \\
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V}{V}}$<$\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_ae22928d6363404a479a21933ccc7b695}{Word\+Ptr}}$>$ \mbox{\hyperlink{uniform-reducer-adapter_8h_ac243a1f9603cd0a9e0c3ad8cf9843c16}{REDUCE}}() \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer}{v8\+::internal\+::compiler\+::turboshaft\+::\+Memory\+Optimization\+Reducer}}$<$ Next $>$\+::Decode\+External\+Pointer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V}{V}}$<$ \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_aeccd16378a95dc9d3039f8669648c698}{Word32}} $>$}]{handle,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab06255cf21187dad77fbfe7fc722a216}{External\+Pointer\+Tag\+Range}}}]{tag\+\_\+range }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 412 of file memory-\/optimization-\/reducer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{413                                                                               \{}
\DoxyCodeLine{414 \textcolor{preprocessor}{\#ifdef V8\_ENABLE\_SANDBOX}}
\DoxyCodeLine{415     \textcolor{comment}{// Decode loaded external pointer.}}
\DoxyCodeLine{416     V<WordPtr> table;}
\DoxyCodeLine{417     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a3fd61d1072291c7d2461d3ae129ab74b}{isolate\_}} != \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{418       \textcolor{comment}{// Here we access the external pointer table through an ExternalReference.}}
\DoxyCodeLine{419       \textcolor{comment}{// Alternatively, we could also hardcode the address of the table since it}}
\DoxyCodeLine{420       \textcolor{comment}{// is never reallocated. However, in that case we must be able to}}
\DoxyCodeLine{421       \textcolor{comment}{// guarantee that the generated code is never executed under a different}}
\DoxyCodeLine{422       \textcolor{comment}{// Isolate, as that would allow access to external objects from different}}
\DoxyCodeLine{423       \textcolor{comment}{// Isolates. It also would break if the code is serialized/deserialized at}}
\DoxyCodeLine{424       \textcolor{comment}{// some point.}}
\DoxyCodeLine{425       V<WordPtr> table\_address =}
\DoxyCodeLine{426           \mbox{\hyperlink{namespacev8_1_1internal_ab2246faa71151b0796765b988d046828}{IsSharedExternalPointerType}}(tag\_range)}
\DoxyCodeLine{427               ? \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}}}
\DoxyCodeLine{428                 LoadOffHeap(}
\DoxyCodeLine{429                     \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} ExternalConstant(}
\DoxyCodeLine{430                         ExternalReference::}
\DoxyCodeLine{431                             shared\_external\_pointer\_table\_address\_address(}
\DoxyCodeLine{432                                 \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a3fd61d1072291c7d2461d3ae129ab74b}{isolate\_}})),}
\DoxyCodeLine{433                     \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryRepresentation_ad00e9066a2db273c907546a88ce96a76}{MemoryRepresentation::UintPtr}}())}
\DoxyCodeLine{434               : \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} ExternalConstant(}
\DoxyCodeLine{435                     ExternalReference::external\_pointer\_table\_address(}
\DoxyCodeLine{436                         \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a3fd61d1072291c7d2461d3ae129ab74b}{isolate\_}}));}
\DoxyCodeLine{437       table = \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadOffHeap(table\_address,}
\DoxyCodeLine{438                              \mbox{\hyperlink{classv8_1_1internal_1_1Internals_a8f421488db6d4a4f3bfb59b8cdea55e0}{Internals::kExternalPointerTableBasePointerOffset}},}
\DoxyCodeLine{439                              \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryRepresentation_ad00e9066a2db273c907546a88ce96a76}{MemoryRepresentation::UintPtr}}());}
\DoxyCodeLine{440     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{441 \textcolor{preprocessor}{\#if V8\_ENABLE\_WEBASSEMBLY}}
\DoxyCodeLine{442       V<WordPtr> isolate\_root = \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadRootRegister();}
\DoxyCodeLine{443       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_ab2246faa71151b0796765b988d046828}{IsSharedExternalPointerType}}(tag\_range)) \{}
\DoxyCodeLine{444         V<WordPtr> table\_address =}
\DoxyCodeLine{445             \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} \mbox{\hyperlink{namespacev8_afba0b7d3427abb6bfb7e3cd115579e51}{Load}}(isolate\_root, \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1LoadOp_1_1Kind_a239cb10c87eb74583c2a7d586f0d2dd9}{LoadOp::Kind::RawAligned}}(),}
\DoxyCodeLine{446                     \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryRepresentation_ad00e9066a2db273c907546a88ce96a76}{MemoryRepresentation::UintPtr}}(),}
\DoxyCodeLine{447                     IsolateData::shared\_external\_pointer\_table\_offset());}
\DoxyCodeLine{448         table = \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} \mbox{\hyperlink{namespacev8_afba0b7d3427abb6bfb7e3cd115579e51}{Load}}(table\_address, \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1LoadOp_1_1Kind_a239cb10c87eb74583c2a7d586f0d2dd9}{LoadOp::Kind::RawAligned}}(),}
\DoxyCodeLine{449                         \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryRepresentation_ad00e9066a2db273c907546a88ce96a76}{MemoryRepresentation::UintPtr}}(),}
\DoxyCodeLine{450                         \mbox{\hyperlink{classv8_1_1internal_1_1Internals_a8f421488db6d4a4f3bfb59b8cdea55e0}{Internals::kExternalPointerTableBasePointerOffset}});}
\DoxyCodeLine{451       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{452         table = \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} \mbox{\hyperlink{namespacev8_afba0b7d3427abb6bfb7e3cd115579e51}{Load}}(isolate\_root, \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1LoadOp_1_1Kind_a239cb10c87eb74583c2a7d586f0d2dd9}{LoadOp::Kind::RawAligned}}(),}
\DoxyCodeLine{453                         \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryRepresentation_ad00e9066a2db273c907546a88ce96a76}{MemoryRepresentation::UintPtr}}(),}
\DoxyCodeLine{454                         IsolateData::external\_pointer\_table\_offset() +}
\DoxyCodeLine{455                             \mbox{\hyperlink{classv8_1_1internal_1_1Internals_a8f421488db6d4a4f3bfb59b8cdea55e0}{Internals::kExternalPointerTableBasePointerOffset}});}
\DoxyCodeLine{456       \}}
\DoxyCodeLine{457 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{458       \mbox{\hyperlink{namespacev8_1_1internal_acdec713c25068019f935e35976f5b666}{UNREACHABLE}}();}
\DoxyCodeLine{459 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{460     \}}
\DoxyCodeLine{461 }
\DoxyCodeLine{462     V<Word32> \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}} =}
\DoxyCodeLine{463         \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Word32ShiftRightLogical(\mbox{\hyperlink{namespacev8_1_1internal_a8c89f00da07e125218128b9fbf0a321c}{handle}}, kExternalPointerIndexShift);}
\DoxyCodeLine{464     V<Word64> pointer = \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadOffHeap(table, \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} ChangeUint32ToUint64(\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}), 0,}
\DoxyCodeLine{465                                        \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryRepresentation_ae87de69362087b454494a43ad8441257}{MemoryRepresentation::Uint64}}());}
\DoxyCodeLine{466 }
\DoxyCodeLine{467     \textcolor{comment}{// We don't expect to see empty fields here. If this is ever needed,}}
\DoxyCodeLine{468     \textcolor{comment}{// consider using an dedicated empty value entry for those tags instead}}
\DoxyCodeLine{469     \textcolor{comment}{// (i.e. an entry with the right tag and nullptr payload).}}
\DoxyCodeLine{470     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!\mbox{\hyperlink{namespacev8_1_1internal_abd86a25a28428c6a6063bf0aee626b25}{ExternalPointerCanBeEmpty}}(tag\_range));}
\DoxyCodeLine{471 }
\DoxyCodeLine{472     Block* done = \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} NewBlock();}
\DoxyCodeLine{473     \textcolor{keywordflow}{if} (tag\_range.Size() == 1) \{}
\DoxyCodeLine{474       \textcolor{comment}{// The common and simple case: we expect a specific tag.}}
\DoxyCodeLine{475       V<Word64> tag\_bits = \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Word64BitwiseAnd(}
\DoxyCodeLine{476           pointer, \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Word64Constant(\mbox{\hyperlink{namespacev8_1_1internal_a418ca3b44ae45de8b6a66f53feabc6d4}{kExternalPointerTagMask}}));}
\DoxyCodeLine{477       tag\_bits = \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Word64ShiftRightLogical(tag\_bits, \mbox{\hyperlink{namespacev8_1_1internal_a0a0de8c816f9149dc5c70dd975e8ebe4}{kExternalPointerTagShift}});}
\DoxyCodeLine{478       V<Word32> tag = \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} TruncateWord64ToWord32(tag\_bits);}
\DoxyCodeLine{479       V<Word32> expected\_tag = \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Word32Constant(tag\_range.first);}
\DoxyCodeLine{480       \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} GotoIf(\mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} \mbox{\hyperlink{namespacev8_1_1internal_1_1TorqueRuntimeMacroShims_1_1CodeStubAssembler_ae3043c2e14617cc319d1bdede6d371cc}{Word32Equal}}(tag, expected\_tag), done, \mbox{\hyperlink{namespacev8_1_1internal_ab5a4f63d4df50ea3fd9299c981ae3187a66e2fa9ba4f5420341b16f9d6365f428}{BranchHint::kTrue}});}
\DoxyCodeLine{481       \textcolor{comment}{// TODO(saelo): it would be nicer to abort here with}}
\DoxyCodeLine{482       \textcolor{comment}{// AbortReason::kExternalPointerTagMismatch. That might require adding a}}
\DoxyCodeLine{483       \textcolor{comment}{// builtin call here though, which is not currently available.}}
\DoxyCodeLine{484       \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Unreachable();}
\DoxyCodeLine{485     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{486       \textcolor{comment}{// Not currently supported. Implement once needed.}}
\DoxyCodeLine{487       \mbox{\hyperlink{src_2base_2logging_8h_a986dc8f4ec6dcd0644efe205c13f8eb7}{DCHECK\_NE}}(tag\_range, \mbox{\hyperlink{namespacev8_1_1internal_a3f4727247b13d50cf3e4754b5071a6ba}{kAnyExternalPointerTagRange}});}
\DoxyCodeLine{488       \mbox{\hyperlink{namespacev8_1_1internal_acdec713c25068019f935e35976f5b666}{UNREACHABLE}}();}
\DoxyCodeLine{489     \}}
\DoxyCodeLine{490     \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} BindReachable(done);}
\DoxyCodeLine{491     \textcolor{keywordflow}{return} \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Word64BitwiseAnd(pointer, \mbox{\hyperlink{namespacev8_1_1internal_a3998165b89fd388492dd5c354772c565}{kExternalPointerPayloadMask}});}
\DoxyCodeLine{492 \textcolor{preprocessor}{\#else   }\textcolor{comment}{// V8\_ENABLE\_SANDBOX}}
\DoxyCodeLine{493     \mbox{\hyperlink{namespacev8_1_1internal_acdec713c25068019f935e35976f5b666}{UNREACHABLE}}();}
\DoxyCodeLine{494 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// V8\_ENABLE\_SANDBOX}}
\DoxyCodeLine{495   \}}

\end{DoxyCode}


References \+\_\+\+\_\+, v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+NE, v8\+::internal\+::\+External\+Pointer\+Can\+Be\+Empty(), v8\+::internal\+::handle(), v8\+::internal\+::index, v8\+::internal\+::compiler\+::turboshaft\+::\+Memory\+Optimization\+Reducer$<$ Next $>$\+::isolate\+\_\+, v8\+::internal\+::\+Is\+Shared\+External\+Pointer\+Type(), v8\+::internal\+::k\+Any\+External\+Pointer\+Tag\+Range(), v8\+::internal\+::k\+External\+Pointer\+Payload\+Mask, v8\+::internal\+::\+Internals\+::k\+External\+Pointer\+Table\+Base\+Pointer\+Offset, v8\+::internal\+::k\+External\+Pointer\+Tag\+Mask, v8\+::internal\+::k\+External\+Pointer\+Tag\+Shift, v8\+::internal\+::k\+True, v8\+::\+Load(), v8\+::internal\+::compiler\+::turboshaft\+::\+Load\+Op\+::\+Kind\+::\+Raw\+Aligned(), v8\+::internal\+::compiler\+::turboshaft\+::\+Memory\+Representation\+::\+Uint64(), v8\+::internal\+::compiler\+::turboshaft\+::\+Memory\+Representation\+::\+Uint\+Ptr(), v8\+::internal\+::\+UNREACHABLE(), and v8\+::internal\+::\+Torque\+Runtime\+Macro\+Shims\+::\+Code\+Stub\+Assembler\+::\+Word32\+Equal().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a65f08fa872fcf4e811b2a64b7c88cc1a_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_addcab32a7add1491158a51eb6170cccd}\label{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_addcab32a7add1491158a51eb6170cccd}} 
\index{v8::internal::compiler::turboshaft::MemoryOptimizationReducer$<$ Next $>$@{v8::internal::compiler::turboshaft::MemoryOptimizationReducer$<$ Next $>$}!GetLimitAddress@{GetLimitAddress}}
\index{GetLimitAddress@{GetLimitAddress}!v8::internal::compiler::turboshaft::MemoryOptimizationReducer$<$ Next $>$@{v8::internal::compiler::turboshaft::MemoryOptimizationReducer$<$ Next $>$}}
\doxysubsubsection{\texorpdfstring{GetLimitAddress()}{GetLimitAddress()}}
{\footnotesize\ttfamily template$<$class Next $>$ \\
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V}{V}}$<$\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_ae22928d6363404a479a21933ccc7b695}{Word\+Ptr}}$>$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer}{v8\+::internal\+::compiler\+::turboshaft\+::\+Memory\+Optimization\+Reducer}}$<$ Next $>$\+::Get\+Limit\+Address (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_a604d5beeb6fc8639670f737ed201e20a}{Allocation\+Type}}}]{type }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 535 of file memory-\/optimization-\/reducer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{535                                                   \{}
\DoxyCodeLine{536     V<WordPtr> limit\_address;}
\DoxyCodeLine{537     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a3fd61d1072291c7d2461d3ae129ab74b}{isolate\_}} != \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{538       limit\_address = \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} ExternalConstant(}
\DoxyCodeLine{539           \mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}} == \mbox{\hyperlink{namespacev8_1_1internal_a604d5beeb6fc8639670f737ed201e20aa492ef7cfa083cd677493179d45c9961e}{AllocationType::kYoung}}}
\DoxyCodeLine{540               ? ExternalReference::new\_space\_allocation\_limit\_address(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a3fd61d1072291c7d2461d3ae129ab74b}{isolate\_}})}
\DoxyCodeLine{541               : ExternalReference::old\_space\_allocation\_limit\_address(}
\DoxyCodeLine{542                     \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a3fd61d1072291c7d2461d3ae129ab74b}{isolate\_}}));}
\DoxyCodeLine{543     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{544       \textcolor{comment}{// Wasm mode: producing isolate-\/independent code, loading the isolate}}
\DoxyCodeLine{545       \textcolor{comment}{// address at runtime.}}
\DoxyCodeLine{546 \textcolor{preprocessor}{\#if V8\_ENABLE\_WEBASSEMBLY}}
\DoxyCodeLine{547       V<WasmTrustedInstanceData> instance\_node = \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} WasmInstanceDataParameter();}
\DoxyCodeLine{548       \textcolor{keywordtype}{int} limit\_address\_offset =}
\DoxyCodeLine{549           \mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}} == \mbox{\hyperlink{namespacev8_1_1internal_a604d5beeb6fc8639670f737ed201e20aa492ef7cfa083cd677493179d45c9961e}{AllocationType::kYoung}}}
\DoxyCodeLine{550               ? WasmTrustedInstanceData::kNewAllocationLimitAddressOffset}
\DoxyCodeLine{551               : WasmTrustedInstanceData::kOldAllocationLimitAddressOffset;}
\DoxyCodeLine{552       limit\_address =}
\DoxyCodeLine{553           \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} \mbox{\hyperlink{namespacev8_afba0b7d3427abb6bfb7e3cd115579e51}{Load}}(instance\_node, \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1LoadOp_1_1Kind_a1af9380810652e7404f37c93cc8235fc}{LoadOp::Kind::TaggedBase}}(),}
\DoxyCodeLine{554                   \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryRepresentation_ad00e9066a2db273c907546a88ce96a76}{MemoryRepresentation::UintPtr}}(), limit\_address\_offset);}
\DoxyCodeLine{555 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{556       \mbox{\hyperlink{namespacev8_1_1internal_acdec713c25068019f935e35976f5b666}{UNREACHABLE}}();}
\DoxyCodeLine{557 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// V8\_ENABLE\_WEBASSEMBLY}}
\DoxyCodeLine{558     \}}
\DoxyCodeLine{559     \textcolor{keywordflow}{return} limit\_address;}
\DoxyCodeLine{560   \}}

\end{DoxyCode}


References \+\_\+\+\_\+, v8\+::internal\+::compiler\+::turboshaft\+::\+Memory\+Optimization\+Reducer$<$ Next $>$\+::isolate\+\_\+, v8\+::internal\+::k\+Young, v8\+::\+Load(), v8\+::internal\+::compiler\+::turboshaft\+::\+Load\+Op\+::\+Kind\+::\+Tagged\+Base(), v8\+::internal\+::tracing\+::type, v8\+::internal\+::compiler\+::turboshaft\+::\+Memory\+Representation\+::\+Uint\+Ptr(), and v8\+::internal\+::\+UNREACHABLE().



Referenced by v8\+::internal\+::compiler\+::turboshaft\+::\+Memory\+Optimization\+Reducer$<$ Next $>$\+::\+Allocate().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_addcab32a7add1491158a51eb6170cccd_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_addcab32a7add1491158a51eb6170cccd_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_ad0bf2330867a837b764c33d04e184072}\label{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_ad0bf2330867a837b764c33d04e184072}} 
\index{v8::internal::compiler::turboshaft::MemoryOptimizationReducer$<$ Next $>$@{v8::internal::compiler::turboshaft::MemoryOptimizationReducer$<$ Next $>$}!Store@{Store}}
\index{Store@{Store}!v8::internal::compiler::turboshaft::MemoryOptimizationReducer$<$ Next $>$@{v8::internal::compiler::turboshaft::MemoryOptimizationReducer$<$ Next $>$}}
\doxysubsubsection{\texorpdfstring{Store()}{Store()}}
{\footnotesize\ttfamily template$<$class Next $>$ \\
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V}{V}}$<$\mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1None}{None}}$>$ REDUCE\+\_\+\+INPUT\+\_\+\+GRAPH() \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer}{v8\+::internal\+::compiler\+::turboshaft\+::\+Memory\+Optimization\+Reducer}}$<$ Next $>$\+::Store (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V}{V}}$<$ \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1None}{None}} $>$}]{ig\+\_\+index,  }\item[{const \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1StoreOp}{Store\+Op}} \&}]{store }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 210 of file memory-\/optimization-\/reducer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{210                                                                             \{}
\DoxyCodeLine{211     \textcolor{keywordflow}{if} (\mbox{\hyperlink{flag-definitions_8h_a88efda0d30f0789fdb73665260750735}{store}}.write\_barrier != \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a1ee0d1fd80275438925bc568ec289797a7a5eded07faa929ed04529dfaa776e4e}{WriteBarrierKind::kAssertNoWriteBarrier}}) \{}
\DoxyCodeLine{212       \textcolor{comment}{// We cannot skip this optimization if we have to eliminate a}}
\DoxyCodeLine{213       \textcolor{comment}{// \{kAssertNoWriteBarrier\}.}}
\DoxyCodeLine{214       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_ac4d098a2688a019f309cb6f242bb421a}{ShouldSkipOptimizationStep}}()) \{}
\DoxyCodeLine{215         \textcolor{keywordflow}{return} Next::ReduceInputGraphStore(ig\_index, \mbox{\hyperlink{flag-definitions_8h_a88efda0d30f0789fdb73665260750735}{store}});}
\DoxyCodeLine{216       \}}
\DoxyCodeLine{217     \}}
\DoxyCodeLine{218     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a62a145439bb68db30a3adad35310bfd3}{analyzer\_}}-\/>skipped\_write\_barriers.count(ig\_index)) \{}
\DoxyCodeLine{219       \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_ad0bf2330867a837b764c33d04e184072}{Store}}(\mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} MapToNewGraph(\mbox{\hyperlink{flag-definitions_8h_a88efda0d30f0789fdb73665260750735}{store}}.base()), \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} MapToNewGraph(\mbox{\hyperlink{flag-definitions_8h_a88efda0d30f0789fdb73665260750735}{store}}.index()),}
\DoxyCodeLine{220                \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} MapToNewGraph(\mbox{\hyperlink{flag-definitions_8h_a88efda0d30f0789fdb73665260750735}{store}}.value()), \mbox{\hyperlink{flag-definitions_8h_a88efda0d30f0789fdb73665260750735}{store}}.kind, \mbox{\hyperlink{flag-definitions_8h_a88efda0d30f0789fdb73665260750735}{store}}.stored\_rep,}
\DoxyCodeLine{221                \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a1ee0d1fd80275438925bc568ec289797a3cb0f5f3b0a3f679f11bec177e0cdd98}{WriteBarrierKind::kNoWriteBarrier}}, \mbox{\hyperlink{flag-definitions_8h_a88efda0d30f0789fdb73665260750735}{store}}.offset,}
\DoxyCodeLine{222                \mbox{\hyperlink{flag-definitions_8h_a88efda0d30f0789fdb73665260750735}{store}}.element\_size\_log2,}
\DoxyCodeLine{223                \mbox{\hyperlink{flag-definitions_8h_a88efda0d30f0789fdb73665260750735}{store}}.maybe\_initializing\_or\_transitioning,}
\DoxyCodeLine{224                \mbox{\hyperlink{flag-definitions_8h_a88efda0d30f0789fdb73665260750735}{store}}.indirect\_pointer\_tag());}
\DoxyCodeLine{225       \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V_ad561401feffb45d9b62238c0c0739e5b}{V<None>::Invalid}}();}
\DoxyCodeLine{226     \}}
\DoxyCodeLine{227     \mbox{\hyperlink{src_2base_2logging_8h_a986dc8f4ec6dcd0644efe205c13f8eb7}{DCHECK\_NE}}(\mbox{\hyperlink{flag-definitions_8h_a88efda0d30f0789fdb73665260750735}{store}}.write\_barrier, \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a1ee0d1fd80275438925bc568ec289797a7a5eded07faa929ed04529dfaa776e4e}{WriteBarrierKind::kAssertNoWriteBarrier}});}
\DoxyCodeLine{228     \textcolor{keywordflow}{return} Next::ReduceInputGraphStore(ig\_index, \mbox{\hyperlink{flag-definitions_8h_a88efda0d30f0789fdb73665260750735}{store}});}
\DoxyCodeLine{229   \}}

\end{DoxyCode}


References \+\_\+\+\_\+, v8\+::internal\+::compiler\+::turboshaft\+::\+Memory\+Optimization\+Reducer$<$ Next $>$\+::analyzer\+\_\+, DCHECK\+\_\+\+NE, v8\+::internal\+::compiler\+::turboshaft\+::\+V$<$ T $>$\+::\+Invalid(), v8\+::internal\+::compiler\+::k\+Assert\+No\+Write\+Barrier, v8\+::internal\+::compiler\+::k\+No\+Write\+Barrier, v8\+::internal\+::compiler\+::turboshaft\+::\+Should\+Skip\+Optimization\+Step(), and store().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_ad0bf2330867a837b764c33d04e184072_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a368edae780ff1db26b77849373bb9f3b}\label{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a368edae780ff1db26b77849373bb9f3b}} 
\index{v8::internal::compiler::turboshaft::MemoryOptimizationReducer$<$ Next $>$@{v8::internal::compiler::turboshaft::MemoryOptimizationReducer$<$ Next $>$}!top@{top}}
\index{top@{top}!v8::internal::compiler::turboshaft::MemoryOptimizationReducer$<$ Next $>$@{v8::internal::compiler::turboshaft::MemoryOptimizationReducer$<$ Next $>$}}
\doxysubsubsection{\texorpdfstring{top()}{top()}}
{\footnotesize\ttfamily template$<$class Next $>$ \\
\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_a360e859ecd2f20a4868a17f0a7ec8a57}{Variable}} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer}{v8\+::internal\+::compiler\+::turboshaft\+::\+Memory\+Optimization\+Reducer}}$<$ Next $>$\+::top (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_a604d5beeb6fc8639670f737ed201e20a}{Allocation\+Type}}}]{type }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 508 of file memory-\/optimization-\/reducer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{508                                     \{}
\DoxyCodeLine{509     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}} == \mbox{\hyperlink{namespacev8_1_1internal_a604d5beeb6fc8639670f737ed201e20aa492ef7cfa083cd677493179d45c9961e}{AllocationType::kYoung}} || \mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}} == \mbox{\hyperlink{namespacev8_1_1internal_a604d5beeb6fc8639670f737ed201e20aa0aa38c28f349d65a6819e03844b73dff}{AllocationType::kOld}});}
\DoxyCodeLine{510     \textcolor{keywordflow}{if} (\mbox{\hyperlink{v8config_8h_a67bd29db07c711b0fb11ff1c324ebb60}{V8\_UNLIKELY}}(!\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_ac0328f36479e121a607dfc967b60eaec}{top\_}}[\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}})].has\_value())) \{}
\DoxyCodeLine{511       \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_ac0328f36479e121a607dfc967b60eaec}{top\_}}[\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}})].emplace(}
\DoxyCodeLine{512           \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} NewLoopInvariantVariable(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1RegisterRepresentation_a6fdd30510b9d4adaf8a78b62c5bcb385}{RegisterRepresentation::WordPtr}}()));}
\DoxyCodeLine{513     \}}
\DoxyCodeLine{514     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_ac0328f36479e121a607dfc967b60eaec}{top\_}}[\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}})].\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}();}
\DoxyCodeLine{515   \}}

\end{DoxyCode}


References \+\_\+\+\_\+, v8\+::internal\+::\+DCHECK(), v8\+::internal\+::k\+Old, v8\+::internal\+::k\+Young, v8\+::internal\+::compiler\+::turboshaft\+::\+Memory\+Optimization\+Reducer$<$ Next $>$\+::top\+\_\+, v8\+::internal\+::tracing\+::type, V8\+\_\+\+UNLIKELY, v8\+::internal\+::value, and v8\+::internal\+::compiler\+::turboshaft\+::\+Register\+Representation\+::\+Word\+Ptr().



Referenced by v8\+::internal\+::compiler\+::turboshaft\+::\+Memory\+Optimization\+Reducer$<$ Next $>$\+::\+Allocate().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a368edae780ff1db26b77849373bb9f3b_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a368edae780ff1db26b77849373bb9f3b_icgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a619499593a6afdf32ab4f8d6ecd276c1}\label{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a619499593a6afdf32ab4f8d6ecd276c1}} 
\index{v8::internal::compiler::turboshaft::MemoryOptimizationReducer$<$ Next $>$@{v8::internal::compiler::turboshaft::MemoryOptimizationReducer$<$ Next $>$}!allocate\_builtin\_descriptor\_@{allocate\_builtin\_descriptor\_}}
\index{allocate\_builtin\_descriptor\_@{allocate\_builtin\_descriptor\_}!v8::internal::compiler::turboshaft::MemoryOptimizationReducer$<$ Next $>$@{v8::internal::compiler::turboshaft::MemoryOptimizationReducer$<$ Next $>$}}
\doxysubsubsection{\texorpdfstring{allocate\_builtin\_descriptor\_}{allocate\_builtin\_descriptor\_}}
{\footnotesize\ttfamily template$<$class Next $>$ \\
const \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1TSCallDescriptor}{TSCall\+Descriptor}}$\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer}{v8\+::internal\+::compiler\+::turboshaft\+::\+Memory\+Optimization\+Reducer}}$<$ Next $>$\+::allocate\+\_\+builtin\+\_\+descriptor\+\_\+ = \mbox{\hyperlink{flag-definitions_8h_aca14fbede0905858c819226fce3678cc}{nullptr}}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 500 of file memory-\/optimization-\/reducer.\+h.



Referenced by v8\+::internal\+::compiler\+::turboshaft\+::\+Memory\+Optimization\+Reducer$<$ Next $>$\+::\+Allocate\+Builtin\+Descriptor().

\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a62a145439bb68db30a3adad35310bfd3}\label{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a62a145439bb68db30a3adad35310bfd3}} 
\index{v8::internal::compiler::turboshaft::MemoryOptimizationReducer$<$ Next $>$@{v8::internal::compiler::turboshaft::MemoryOptimizationReducer$<$ Next $>$}!analyzer\_@{analyzer\_}}
\index{analyzer\_@{analyzer\_}!v8::internal::compiler::turboshaft::MemoryOptimizationReducer$<$ Next $>$@{v8::internal::compiler::turboshaft::MemoryOptimizationReducer$<$ Next $>$}}
\doxysubsubsection{\texorpdfstring{analyzer\_}{analyzer\_}}
{\footnotesize\ttfamily template$<$class Next $>$ \\
std\+::optional$<$\mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryAnalyzer}{Memory\+Analyzer}}$>$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer}{v8\+::internal\+::compiler\+::turboshaft\+::\+Memory\+Optimization\+Reducer}}$<$ Next $>$\+::analyzer\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 498 of file memory-\/optimization-\/reducer.\+h.



Referenced by v8\+::internal\+::compiler\+::turboshaft\+::\+Memory\+Optimization\+Reducer$<$ Next $>$\+::\+Allocate(), v8\+::internal\+::compiler\+::turboshaft\+::\+Memory\+Optimization\+Reducer$<$ Next $>$\+::\+Analyze(), and v8\+::internal\+::compiler\+::turboshaft\+::\+Memory\+Optimization\+Reducer$<$ Next $>$\+::\+Store().

\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a3fd61d1072291c7d2461d3ae129ab74b}\label{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_a3fd61d1072291c7d2461d3ae129ab74b}} 
\index{v8::internal::compiler::turboshaft::MemoryOptimizationReducer$<$ Next $>$@{v8::internal::compiler::turboshaft::MemoryOptimizationReducer$<$ Next $>$}!isolate\_@{isolate\_}}
\index{isolate\_@{isolate\_}!v8::internal::compiler::turboshaft::MemoryOptimizationReducer$<$ Next $>$@{v8::internal::compiler::turboshaft::MemoryOptimizationReducer$<$ Next $>$}}
\doxysubsubsection{\texorpdfstring{isolate\_}{isolate\_}}
{\footnotesize\ttfamily template$<$class Next $>$ \\
\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}}$\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer}{v8\+::internal\+::compiler\+::turboshaft\+::\+Memory\+Optimization\+Reducer}}$<$ Next $>$\+::isolate\+\_\+ = \mbox{\hyperlink{interpreter-builtins-x64_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\+\_\+\+\_\+}} data() -\/$>$ isolate()\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 499 of file memory-\/optimization-\/reducer.\+h.



Referenced by v8\+::internal\+::compiler\+::turboshaft\+::\+Memory\+Optimization\+Reducer$<$ Next $>$\+::\+Allocate(), v8\+::internal\+::compiler\+::turboshaft\+::\+Memory\+Optimization\+Reducer$<$ Next $>$\+::\+Allocate\+Builtin\+Descriptor(), v8\+::internal\+::compiler\+::turboshaft\+::\+Memory\+Optimization\+Reducer$<$ Next $>$\+::\+Decode\+External\+Pointer(), and v8\+::internal\+::compiler\+::turboshaft\+::\+Memory\+Optimization\+Reducer$<$ Next $>$\+::\+Get\+Limit\+Address().

\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_ac0328f36479e121a607dfc967b60eaec}\label{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_ac0328f36479e121a607dfc967b60eaec}} 
\index{v8::internal::compiler::turboshaft::MemoryOptimizationReducer$<$ Next $>$@{v8::internal::compiler::turboshaft::MemoryOptimizationReducer$<$ Next $>$}!top\_@{top\_}}
\index{top\_@{top\_}!v8::internal::compiler::turboshaft::MemoryOptimizationReducer$<$ Next $>$@{v8::internal::compiler::turboshaft::MemoryOptimizationReducer$<$ Next $>$}}
\doxysubsubsection{\texorpdfstring{top\_}{top\_}}
{\footnotesize\ttfamily template$<$class Next $>$ \\
std\+::optional$<$\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_a360e859ecd2f20a4868a17f0a7ec8a57}{Variable}}$>$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer}{v8\+::internal\+::compiler\+::turboshaft\+::\+Memory\+Optimization\+Reducer}}$<$ Next $>$\+::top\+\_\+\mbox{[}2\mbox{]}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 504 of file memory-\/optimization-\/reducer.\+h.



Referenced by v8\+::internal\+::compiler\+::turboshaft\+::\+Memory\+Optimization\+Reducer$<$ Next $>$\+::top().



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/compiler/turboshaft/\mbox{\hyperlink{memory-optimization-reducer_8h}{memory-\/optimization-\/reducer.\+h}}\end{DoxyCompactItemize}
