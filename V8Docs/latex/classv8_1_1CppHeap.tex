\hypertarget{classv8_1_1CppHeap}{}\doxysection{v8\+::Cpp\+Heap Class Reference}
\label{classv8_1_1CppHeap}\index{v8::CppHeap@{v8::CppHeap}}


{\ttfamily \#include $<$v8-\/cppgc.\+h$>$}



Inheritance diagram for v8\+::Cpp\+Heap\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=202pt]{classv8_1_1CppHeap__inherit__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual \mbox{\hyperlink{classv8_1_1CppHeap_a2bc7dcf753386decb9040e43784981f0}{$\sim$\+Cpp\+Heap}} ()=default
\item 
\mbox{\hyperlink{classcppgc_1_1AllocationHandle}{cppgc\+::\+Allocation\+Handle}} \& \mbox{\hyperlink{classv8_1_1CppHeap_af937bbd35747ccf6791539098762c516}{Get\+Allocation\+Handle}} ()
\item 
\mbox{\hyperlink{classcppgc_1_1HeapHandle}{cppgc\+::\+Heap\+Handle}} \& \mbox{\hyperlink{classv8_1_1CppHeap_ae913f30c324d09c5ff86f2cf6ab8a36f}{Get\+Heap\+Handle}} ()
\item 
void \mbox{\hyperlink{classv8_1_1CppHeap_ac95adca442e2ea4347986252ed6668ce}{Terminate}} ()
\item 
\mbox{\hyperlink{structcppgc_1_1HeapStatistics}{cppgc\+::\+Heap\+Statistics}} \mbox{\hyperlink{classv8_1_1CppHeap_ab216f1b601b5d141195c0c24406c5cda}{Collect\+Statistics}} (\mbox{\hyperlink{structcppgc_1_1HeapStatistics_a512b8995ac627c8c75803b04796a1be6}{cppgc\+::\+Heap\+Statistics\+::\+Detail\+Level}} detail\+\_\+level)
\item 
void \mbox{\hyperlink{classv8_1_1CppHeap_a033e10f32f6f8e3fb3ad400f32fd820a}{Collect\+Custom\+Space\+Statistics\+At\+Last\+GC}} (std\+::vector$<$ \mbox{\hyperlink{structcppgc_1_1CustomSpaceIndex}{cppgc\+::\+Custom\+Space\+Index}} $>$ custom\+\_\+spaces, std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1CustomSpaceStatisticsReceiver}{Custom\+Space\+Statistics\+Receiver}} $>$ \mbox{\hyperlink{execution_8cc_a18313b5eb568705d3ea987e8acdc1015}{receiver}})
\item 
void \mbox{\hyperlink{classv8_1_1CppHeap_a80873366e8aed302dd81ff9d7662d580}{Enable\+Detached\+Garbage\+Collections\+For\+Testing}} ()
\item 
void \mbox{\hyperlink{classv8_1_1CppHeap_a0c1e2095d9967344fc4695f38a4d962e}{Collect\+Garbage\+For\+Testing}} (\mbox{\hyperlink{namespacecppgc_a91b484d5d6eea7664c25f4050c0d6eb8}{cppgc\+::\+Embedder\+Stack\+State}} stack\+\_\+state)
\item 
void \mbox{\hyperlink{classv8_1_1CppHeap_a28515eb1728c4f562f04188b23181852}{Collect\+Garbage\+In\+Young\+Generation\+For\+Testing}} (\mbox{\hyperlink{namespacecppgc_a91b484d5d6eea7664c25f4050c0d6eb8}{cppgc\+::\+Embedder\+Stack\+State}} stack\+\_\+state)
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1CppHeap}{Cpp\+Heap}} $>$ \mbox{\hyperlink{classv8_1_1CppHeap_a3dca738f2040cd3af368fc44e69071f7}{Create}} (\mbox{\hyperlink{classv8_1_1Platform}{v8\+::\+Platform}} $\ast$platform, const \mbox{\hyperlink{structv8_1_1CppHeapCreateParams}{Cpp\+Heap\+Create\+Params}} \&params)
\end{DoxyCompactItemize}
\doxysubsection*{Friends}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classv8_1_1CppHeap_abd2e0ea8f4825f64b05cf132a426d03b}{internal\+::\+Cpp\+Heap}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
A heap for allocating managed C++ objects.

Similar to \mbox{\hyperlink{classv8_1_1Isolate}{v8\+::\+Isolate}}, the heap may only be accessed from one thread at a time. The heap may be used from different threads using the \mbox{\hyperlink{classv8_1_1Locker}{v8\+::\+Locker}}/v8\+::\+Unlocker APIs which is different from generic Oilpan. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1CppHeap_a2bc7dcf753386decb9040e43784981f0}\label{classv8_1_1CppHeap_a2bc7dcf753386decb9040e43784981f0}} 
\index{v8::CppHeap@{v8::CppHeap}!````~CppHeap@{$\sim$CppHeap}}
\index{````~CppHeap@{$\sim$CppHeap}!v8::CppHeap@{v8::CppHeap}}
\doxysubsubsection{\texorpdfstring{$\sim$CppHeap()}{~CppHeap()}}
{\footnotesize\ttfamily virtual v8\+::\+Cpp\+Heap\+::$\sim$\+Cpp\+Heap (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}, {\ttfamily [default]}}



Reimplemented in \mbox{\hyperlink{classv8_1_1internal_1_1CppHeap_a2d4d893f2145f5b38c69b774b07f3c26}{v8\+::internal\+::\+Cpp\+Heap}}.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1CppHeap_a033e10f32f6f8e3fb3ad400f32fd820a}\label{classv8_1_1CppHeap_a033e10f32f6f8e3fb3ad400f32fd820a}} 
\index{v8::CppHeap@{v8::CppHeap}!CollectCustomSpaceStatisticsAtLastGC@{CollectCustomSpaceStatisticsAtLastGC}}
\index{CollectCustomSpaceStatisticsAtLastGC@{CollectCustomSpaceStatisticsAtLastGC}!v8::CppHeap@{v8::CppHeap}}
\doxysubsubsection{\texorpdfstring{CollectCustomSpaceStatisticsAtLastGC()}{CollectCustomSpaceStatisticsAtLastGC()}}
{\footnotesize\ttfamily void v8\+::\+Cpp\+Heap\+::\+Collect\+Custom\+Space\+Statistics\+At\+Last\+GC (\begin{DoxyParamCaption}\item[{std\+::vector$<$ \mbox{\hyperlink{structcppgc_1_1CustomSpaceIndex}{cppgc\+::\+Custom\+Space\+Index}} $>$}]{custom\+\_\+spaces,  }\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1CustomSpaceStatisticsReceiver}{Custom\+Space\+Statistics\+Receiver}} $>$}]{receiver }\end{DoxyParamCaption})}

Collects statistics for the given spaces and reports them to the receiver.


\begin{DoxyParams}{Parameters}
{\em custom\+\_\+spaces} & a collection of custom space indices. \\
\hline
{\em receiver} & an object that gets the results. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classv8_1_1CppHeap_a0c1e2095d9967344fc4695f38a4d962e}\label{classv8_1_1CppHeap_a0c1e2095d9967344fc4695f38a4d962e}} 
\index{v8::CppHeap@{v8::CppHeap}!CollectGarbageForTesting@{CollectGarbageForTesting}}
\index{CollectGarbageForTesting@{CollectGarbageForTesting}!v8::CppHeap@{v8::CppHeap}}
\doxysubsubsection{\texorpdfstring{CollectGarbageForTesting()}{CollectGarbageForTesting()}}
{\footnotesize\ttfamily void v8\+::\+Cpp\+Heap\+::\+Collect\+Garbage\+For\+Testing (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacecppgc_a91b484d5d6eea7664c25f4050c0d6eb8}{cppgc\+::\+Embedder\+Stack\+State}}}]{stack\+\_\+state }\end{DoxyParamCaption})}

Performs a stop-\/the-\/world garbage collection for testing purposes.


\begin{DoxyParams}{Parameters}
{\em stack\+\_\+state} & The stack state to assume for the garbage collection. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classv8_1_1CppHeap_a28515eb1728c4f562f04188b23181852}\label{classv8_1_1CppHeap_a28515eb1728c4f562f04188b23181852}} 
\index{v8::CppHeap@{v8::CppHeap}!CollectGarbageInYoungGenerationForTesting@{CollectGarbageInYoungGenerationForTesting}}
\index{CollectGarbageInYoungGenerationForTesting@{CollectGarbageInYoungGenerationForTesting}!v8::CppHeap@{v8::CppHeap}}
\doxysubsubsection{\texorpdfstring{CollectGarbageInYoungGenerationForTesting()}{CollectGarbageInYoungGenerationForTesting()}}
{\footnotesize\ttfamily void v8\+::\+Cpp\+Heap\+::\+Collect\+Garbage\+In\+Young\+Generation\+For\+Testing (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacecppgc_a91b484d5d6eea7664c25f4050c0d6eb8}{cppgc\+::\+Embedder\+Stack\+State}}}]{stack\+\_\+state }\end{DoxyParamCaption})}

Performs a stop-\/the-\/world minor garbage collection for testing purposes.


\begin{DoxyParams}{Parameters}
{\em stack\+\_\+state} & The stack state to assume for the garbage collection. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classv8_1_1CppHeap_ab216f1b601b5d141195c0c24406c5cda}\label{classv8_1_1CppHeap_ab216f1b601b5d141195c0c24406c5cda}} 
\index{v8::CppHeap@{v8::CppHeap}!CollectStatistics@{CollectStatistics}}
\index{CollectStatistics@{CollectStatistics}!v8::CppHeap@{v8::CppHeap}}
\doxysubsubsection{\texorpdfstring{CollectStatistics()}{CollectStatistics()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structcppgc_1_1HeapStatistics}{cppgc\+::\+Heap\+Statistics}} v8\+::\+Cpp\+Heap\+::\+Collect\+Statistics (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structcppgc_1_1HeapStatistics_a512b8995ac627c8c75803b04796a1be6}{cppgc\+::\+Heap\+Statistics\+::\+Detail\+Level}}}]{detail\+\_\+level }\end{DoxyParamCaption})}


\begin{DoxyParams}{Parameters}
{\em detail\+\_\+level} & specifies whether should return detailed statistics or only brief summary statistics. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
current \mbox{\hyperlink{classv8_1_1CppHeap}{Cpp\+Heap}} statistics regarding memory consumption and utilization. 
\end{DoxyReturn}
\mbox{\Hypertarget{classv8_1_1CppHeap_a3dca738f2040cd3af368fc44e69071f7}\label{classv8_1_1CppHeap_a3dca738f2040cd3af368fc44e69071f7}} 
\index{v8::CppHeap@{v8::CppHeap}!Create@{Create}}
\index{Create@{Create}!v8::CppHeap@{v8::CppHeap}}
\doxysubsubsection{\texorpdfstring{Create()}{Create()}}
{\footnotesize\ttfamily std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1CppHeap}{Cpp\+Heap}} $>$ v8\+::\+Cpp\+Heap\+::\+Create (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1Platform}{v8\+::\+Platform}} $\ast$}]{platform,  }\item[{const \mbox{\hyperlink{structv8_1_1CppHeapCreateParams}{Cpp\+Heap\+Create\+Params}} \&}]{params }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{classv8_1_1CppHeap_a80873366e8aed302dd81ff9d7662d580}\label{classv8_1_1CppHeap_a80873366e8aed302dd81ff9d7662d580}} 
\index{v8::CppHeap@{v8::CppHeap}!EnableDetachedGarbageCollectionsForTesting@{EnableDetachedGarbageCollectionsForTesting}}
\index{EnableDetachedGarbageCollectionsForTesting@{EnableDetachedGarbageCollectionsForTesting}!v8::CppHeap@{v8::CppHeap}}
\doxysubsubsection{\texorpdfstring{EnableDetachedGarbageCollectionsForTesting()}{EnableDetachedGarbageCollectionsForTesting()}}
{\footnotesize\ttfamily void v8\+::\+Cpp\+Heap\+::\+Enable\+Detached\+Garbage\+Collections\+For\+Testing (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Enables a detached mode that allows testing garbage collection using {\ttfamily \mbox{\hyperlink{namespacecppgc_1_1testing}{cppgc\+::testing}}} APIs. Once used, the heap cannot be attached to an {\ttfamily \mbox{\hyperlink{classv8_1_1Isolate}{Isolate}}} anymore. \mbox{\Hypertarget{classv8_1_1CppHeap_af937bbd35747ccf6791539098762c516}\label{classv8_1_1CppHeap_af937bbd35747ccf6791539098762c516}} 
\index{v8::CppHeap@{v8::CppHeap}!GetAllocationHandle@{GetAllocationHandle}}
\index{GetAllocationHandle@{GetAllocationHandle}!v8::CppHeap@{v8::CppHeap}}
\doxysubsubsection{\texorpdfstring{GetAllocationHandle()}{GetAllocationHandle()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classcppgc_1_1AllocationHandle}{cppgc\+::\+Allocation\+Handle}} \& v8\+::\+Cpp\+Heap\+::\+Get\+Allocation\+Handle (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\begin{DoxyReturn}{Returns}
the opaque handle for allocating objects using {\ttfamily \mbox{\hyperlink{namespacecppgc_a30a9dfe65b0ca9f09ed6814a3604afc1}{Make\+Garbage\+Collected()}}}. 
\end{DoxyReturn}
\mbox{\Hypertarget{classv8_1_1CppHeap_ae913f30c324d09c5ff86f2cf6ab8a36f}\label{classv8_1_1CppHeap_ae913f30c324d09c5ff86f2cf6ab8a36f}} 
\index{v8::CppHeap@{v8::CppHeap}!GetHeapHandle@{GetHeapHandle}}
\index{GetHeapHandle@{GetHeapHandle}!v8::CppHeap@{v8::CppHeap}}
\doxysubsubsection{\texorpdfstring{GetHeapHandle()}{GetHeapHandle()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classcppgc_1_1HeapHandle}{cppgc\+::\+Heap\+Handle}} \& v8\+::\+Cpp\+Heap\+::\+Get\+Heap\+Handle (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\begin{DoxyReturn}{Returns}
the opaque heap handle which may be used to refer to this heap in other APIs. Valid as long as the underlying {\ttfamily \mbox{\hyperlink{classv8_1_1CppHeap}{Cpp\+Heap}}} is alive. 
\end{DoxyReturn}
\mbox{\Hypertarget{classv8_1_1CppHeap_ac95adca442e2ea4347986252ed6668ce}\label{classv8_1_1CppHeap_ac95adca442e2ea4347986252ed6668ce}} 
\index{v8::CppHeap@{v8::CppHeap}!Terminate@{Terminate}}
\index{Terminate@{Terminate}!v8::CppHeap@{v8::CppHeap}}
\doxysubsubsection{\texorpdfstring{Terminate()}{Terminate()}}
{\footnotesize\ttfamily void v8\+::\+Cpp\+Heap\+::\+Terminate (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Terminate clears all roots and performs multiple garbage collections to reclaim potentially newly created objects in destructors.

After this call, object allocation is prohibited. 

\doxysubsection{Friends And Related Function Documentation}
\mbox{\Hypertarget{classv8_1_1CppHeap_abd2e0ea8f4825f64b05cf132a426d03b}\label{classv8_1_1CppHeap_abd2e0ea8f4825f64b05cf132a426d03b}} 
\index{v8::CppHeap@{v8::CppHeap}!internal::CppHeap@{internal::CppHeap}}
\index{internal::CppHeap@{internal::CppHeap}!v8::CppHeap@{v8::CppHeap}}
\doxysubsubsection{\texorpdfstring{internal::CppHeap}{internal::CppHeap}}
{\footnotesize\ttfamily friend class \mbox{\hyperlink{classv8_1_1internal_1_1CppHeap}{internal\+::\+Cpp\+Heap}}\hspace{0.3cm}{\ttfamily [friend]}}



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{v8-cppgc_8h}{v8-\/cppgc.\+h}}\item 
\mbox{\hyperlink{cpp-heap_8cc}{cpp-\/heap.\+cc}}\end{DoxyCompactItemize}
