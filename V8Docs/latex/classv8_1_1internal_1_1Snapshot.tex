\hypertarget{classv8_1_1internal_1_1Snapshot}{}\doxysection{v8\+::internal\+::Snapshot Class Reference}
\label{classv8_1_1internal_1_1Snapshot}\index{v8::internal::Snapshot@{v8::internal::Snapshot}}


{\ttfamily \#include $<$snapshot.\+h$>$}



Inheritance diagram for v8\+::internal\+::Snapshot\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=293pt]{classv8_1_1internal_1_1Snapshot__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for v8\+::internal\+::Snapshot\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1Snapshot__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{classv8_1_1internal_1_1Snapshot_a760c65bdc2f235bdac13dcce8e2cc518}{Serializer\+Flag}} \{ \mbox{\hyperlink{classv8_1_1internal_1_1Snapshot_a760c65bdc2f235bdac13dcce8e2cc518ace65e2e67544b5284f636904c02a07cd}{k\+Allow\+Unknown\+External\+References\+For\+Testing}} = 1 $<$$<$ 0
, \mbox{\hyperlink{classv8_1_1internal_1_1Snapshot_a760c65bdc2f235bdac13dcce8e2cc518aabc22f967f1e6a6b83971d54b8add5c0}{k\+Allow\+Active\+Isolate\+For\+Testing}} = 1 $<$$<$ 1
, \mbox{\hyperlink{classv8_1_1internal_1_1Snapshot_a760c65bdc2f235bdac13dcce8e2cc518a8e253c721c4ceeb180b83de3dbb49b24}{k\+Reconstruct\+Read\+Only\+And\+Shared\+Object\+Caches\+For\+Testing}} = 1 $<$$<$ 2
 \}
\item 
using \mbox{\hyperlink{classv8_1_1internal_1_1Snapshot_a379f04b363d07d48b5f8d9de93fd1b72}{Serializer\+Flags}} = \mbox{\hyperlink{classv8_1_1base_1_1Flags}{base\+::\+Flags}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Snapshot_a760c65bdc2f235bdac13dcce8e2cc518}{Serializer\+Flag}} $>$
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{src_2base_2macros_8h_ab08e353943a53678ac6baafc678f2d81}{V8\+\_\+\+EXPORT\+\_\+\+PRIVATE}} void \mbox{\hyperlink{classv8_1_1internal_1_1Snapshot_a2477cce681f8872b03ea2d763a6df165}{Clear\+Reconstructable\+Data\+For\+Serialization}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} clear\+\_\+recompilable\+\_\+data)
\item 
static \mbox{\hyperlink{classv8_1_1StartupData}{v8\+::\+Startup\+Data}} \mbox{\hyperlink{classv8_1_1internal_1_1Snapshot_adfd8edefbe96f6c18cd82ea41ef909dd}{Create}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, std\+::vector$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Context}{Context}} $>$$>$ $\ast$contexts, const std\+::vector$<$ \mbox{\hyperlink{structv8_1_1internal_1_1SerializeEmbedderFieldsCallback}{Serialize\+Embedder\+Fields\+Callback}} $>$ \&embedder\+\_\+fields\+\_\+serializers, const \mbox{\hyperlink{classv8_1_1internal_1_1SafepointScope}{Safepoint\+Scope}} \&safepoint\+\_\+scope, const \mbox{\hyperlink{namespacev8_1_1internal_af2248a427f8ff8f81e68a2a87758e145}{Disallow\+Garbage\+Collection}} \&no\+\_\+gc, \mbox{\hyperlink{classv8_1_1internal_1_1Snapshot_a379f04b363d07d48b5f8d9de93fd1b72}{Serializer\+Flags}} \mbox{\hyperlink{namespacev8_1_1internal_a83b0c194e63513f61999805edd71b125}{flags}}=\mbox{\hyperlink{classv8_1_1internal_1_1Snapshot_a735b7d274e3746b242f684cd22a651d8}{k\+Default\+Serializer\+Flags}})
\item 
static \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1Snapshot_a5054ae7a1ee4b2db6052099fbbddb401}{Initialize}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate)
\item 
static \mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle}{Maybe\+Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Context}{Context}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1Snapshot_aad21abf1ac9f736a3e3f412973ae31a0}{New\+Context\+From\+Snapshot}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSGlobalProxy}{JSGlobal\+Proxy}} $>$ global\+\_\+proxy, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} context\+\_\+index, \mbox{\hyperlink{structv8_1_1internal_1_1DeserializeEmbedderFieldsCallback}{Deserialize\+Embedder\+Fields\+Callback}} embedder\+\_\+fields\+\_\+deserializer)
\item 
static \mbox{\hyperlink{src_2base_2macros_8h_ab08e353943a53678ac6baafc678f2d81}{V8\+\_\+\+EXPORT\+\_\+\+PRIVATE}} void \mbox{\hyperlink{classv8_1_1internal_1_1Snapshot_a28b4f9df415675bda833d449e659206b}{Serialize\+Deserialize\+And\+Verify\+For\+Testing}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Context}{Context}} $>$ default\+\_\+context)
\item 
static \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1Snapshot_a8792603b1bdff6535d4cb0b0034d82b8}{Has\+Context\+Snapshot}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}})
\item 
static \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1Snapshot_a3a1aebec9d95ea0ab6934cca5ce3a9af}{Embeds\+Script}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate)
\item 
static \mbox{\hyperlink{src_2base_2macros_8h_ab08e353943a53678ac6baafc678f2d81}{V8\+\_\+\+EXPORT\+\_\+\+PRIVATE}} uint32\+\_\+t \mbox{\hyperlink{classv8_1_1internal_1_1Snapshot_a5d3efbaa512b46de1c272736f763afc4}{Get\+Expected\+Checksum}} (const \mbox{\hyperlink{classv8_1_1StartupData}{v8\+::\+Startup\+Data}} $\ast$data)
\item 
static \mbox{\hyperlink{src_2base_2macros_8h_ab08e353943a53678ac6baafc678f2d81}{V8\+\_\+\+EXPORT\+\_\+\+PRIVATE}} uint32\+\_\+t \mbox{\hyperlink{classv8_1_1internal_1_1Snapshot_a9a393abecf55dc1e4d72eb4b5f922580}{Calculate\+Checksum}} (const \mbox{\hyperlink{classv8_1_1StartupData}{v8\+::\+Startup\+Data}} $\ast$data)
\item 
static \mbox{\hyperlink{src_2base_2macros_8h_ab08e353943a53678ac6baafc678f2d81}{V8\+\_\+\+EXPORT\+\_\+\+PRIVATE}} \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1Snapshot_ad186fe56fe8f495f0aabd8bdb2b658c4}{Verify\+Checksum}} (const \mbox{\hyperlink{classv8_1_1StartupData}{v8\+::\+Startup\+Data}} $\ast$data)
\item 
static \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1Snapshot_a4165d2e85ccd3199be90691df40508d0}{Extract\+Rehashability}} (const \mbox{\hyperlink{classv8_1_1StartupData}{v8\+::\+Startup\+Data}} $\ast$data)
\item 
static \mbox{\hyperlink{src_2base_2macros_8h_ab08e353943a53678ac6baafc678f2d81}{V8\+\_\+\+EXPORT\+\_\+\+PRIVATE}} uint32\+\_\+t \mbox{\hyperlink{classv8_1_1internal_1_1Snapshot_af7f84ccefeee15501500f4929c5bc22d}{Extract\+Read\+Only\+Snapshot\+Checksum}} (const \mbox{\hyperlink{classv8_1_1StartupData}{v8\+::\+Startup\+Data}} $\ast$data)
\item 
static \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1Snapshot_a030f9901da30eea3408d71a83aaabeb8}{Version\+Is\+Valid}} (const \mbox{\hyperlink{classv8_1_1StartupData}{v8\+::\+Startup\+Data}} $\ast$data)
\item 
static const \mbox{\hyperlink{classv8_1_1StartupData}{v8\+::\+Startup\+Data}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1Snapshot_a5581dcad3c8aebccb9e9ad5fd641cf03}{Default\+Snapshot\+Blob}} ()
\item 
static \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1Snapshot_ac7475cbfaf27fd8c68f1f2833f1db761}{Should\+Verify\+Checksum}} (const \mbox{\hyperlink{classv8_1_1StartupData}{v8\+::\+Startup\+Data}} $\ast$data)
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
static constexpr \mbox{\hyperlink{src_2base_2macros_8h_ab08e353943a53678ac6baafc678f2d81}{V8\+\_\+\+EXPORT\+\_\+\+PRIVATE}} \mbox{\hyperlink{classv8_1_1internal_1_1Snapshot_a379f04b363d07d48b5f8d9de93fd1b72}{Serializer\+Flags}} \mbox{\hyperlink{classv8_1_1internal_1_1Snapshot_a735b7d274e3746b242f684cd22a651d8}{k\+Default\+Serializer\+Flags}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 25 of file snapshot.\+h.



\doxysubsection{Member Typedef Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1Snapshot_a379f04b363d07d48b5f8d9de93fd1b72}\label{classv8_1_1internal_1_1Snapshot_a379f04b363d07d48b5f8d9de93fd1b72}} 
\index{v8::internal::Snapshot@{v8::internal::Snapshot}!SerializerFlags@{SerializerFlags}}
\index{SerializerFlags@{SerializerFlags}!v8::internal::Snapshot@{v8::internal::Snapshot}}
\doxysubsubsection{\texorpdfstring{SerializerFlags}{SerializerFlags}}
{\footnotesize\ttfamily using \mbox{\hyperlink{classv8_1_1internal_1_1Snapshot_a379f04b363d07d48b5f8d9de93fd1b72}{v8\+::internal\+::\+Snapshot\+::\+Serializer\+Flags}} =  \mbox{\hyperlink{classv8_1_1base_1_1Flags}{base\+::\+Flags}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1Snapshot_a760c65bdc2f235bdac13dcce8e2cc518}{Serializer\+Flag}}$>$}



Definition at line 56 of file snapshot.\+h.



\doxysubsection{Member Enumeration Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1Snapshot_a760c65bdc2f235bdac13dcce8e2cc518}\label{classv8_1_1internal_1_1Snapshot_a760c65bdc2f235bdac13dcce8e2cc518}} 
\index{v8::internal::Snapshot@{v8::internal::Snapshot}!SerializerFlag@{SerializerFlag}}
\index{SerializerFlag@{SerializerFlag}!v8::internal::Snapshot@{v8::internal::Snapshot}}
\doxysubsubsection{\texorpdfstring{SerializerFlag}{SerializerFlag}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{classv8_1_1internal_1_1Snapshot_a760c65bdc2f235bdac13dcce8e2cc518}{v8\+::internal\+::\+Snapshot\+::\+Serializer\+Flag}}}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{kAllowUnknownExternalReferencesForTesting@{kAllowUnknownExternalReferencesForTesting}!v8::internal::Snapshot@{v8::internal::Snapshot}}\index{v8::internal::Snapshot@{v8::internal::Snapshot}!kAllowUnknownExternalReferencesForTesting@{kAllowUnknownExternalReferencesForTesting}}}\mbox{\Hypertarget{classv8_1_1internal_1_1Snapshot_a760c65bdc2f235bdac13dcce8e2cc518ace65e2e67544b5284f636904c02a07cd}\label{classv8_1_1internal_1_1Snapshot_a760c65bdc2f235bdac13dcce8e2cc518ace65e2e67544b5284f636904c02a07cd}} 
k\+Allow\+Unknown\+External\+References\+For\+Testing&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{kAllowActiveIsolateForTesting@{kAllowActiveIsolateForTesting}!v8::internal::Snapshot@{v8::internal::Snapshot}}\index{v8::internal::Snapshot@{v8::internal::Snapshot}!kAllowActiveIsolateForTesting@{kAllowActiveIsolateForTesting}}}\mbox{\Hypertarget{classv8_1_1internal_1_1Snapshot_a760c65bdc2f235bdac13dcce8e2cc518aabc22f967f1e6a6b83971d54b8add5c0}\label{classv8_1_1internal_1_1Snapshot_a760c65bdc2f235bdac13dcce8e2cc518aabc22f967f1e6a6b83971d54b8add5c0}} 
k\+Allow\+Active\+Isolate\+For\+Testing&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{kReconstructReadOnlyAndSharedObjectCachesForTesting@{kReconstructReadOnlyAndSharedObjectCachesForTesting}!v8::internal::Snapshot@{v8::internal::Snapshot}}\index{v8::internal::Snapshot@{v8::internal::Snapshot}!kReconstructReadOnlyAndSharedObjectCachesForTesting@{kReconstructReadOnlyAndSharedObjectCachesForTesting}}}\mbox{\Hypertarget{classv8_1_1internal_1_1Snapshot_a760c65bdc2f235bdac13dcce8e2cc518a8e253c721c4ceeb180b83de3dbb49b24}\label{classv8_1_1internal_1_1Snapshot_a760c65bdc2f235bdac13dcce8e2cc518a8e253c721c4ceeb180b83de3dbb49b24}} 
k\+Reconstruct\+Read\+Only\+And\+Shared\+Object\+Caches\+For\+Testing&\\
\hline

\end{DoxyEnumFields}


Definition at line 29 of file snapshot.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{29                       \{}
\DoxyCodeLine{30     \textcolor{comment}{// If set, serializes unknown external references as verbatim data. This}}
\DoxyCodeLine{31     \textcolor{comment}{// usually leads to invalid state if the snapshot is deserialized in a}}
\DoxyCodeLine{32     \textcolor{comment}{// different isolate or a different process.}}
\DoxyCodeLine{33     \textcolor{comment}{// If unset, all external references must be known to the encoder.}}
\DoxyCodeLine{34     \mbox{\hyperlink{classv8_1_1internal_1_1Snapshot_a760c65bdc2f235bdac13dcce8e2cc518ace65e2e67544b5284f636904c02a07cd}{kAllowUnknownExternalReferencesForTesting}} = 1 << 0,}
\DoxyCodeLine{35     \textcolor{comment}{// If set, the serializer enters a more permissive mode which allows}}
\DoxyCodeLine{36     \textcolor{comment}{// serialization of a currently active, running isolate. This has multiple}}
\DoxyCodeLine{37     \textcolor{comment}{// effects; for example, open handles are allowed, microtasks may exist,}}
\DoxyCodeLine{38     \textcolor{comment}{// etc. Note that in this mode, the serializer is allowed to skip}}
\DoxyCodeLine{39     \textcolor{comment}{// visitation of certain problematic areas even if they are non-\/empty. The}}
\DoxyCodeLine{40     \textcolor{comment}{// resulting snapshot is not guaranteed to result in a runnable context}}
\DoxyCodeLine{41     \textcolor{comment}{// after deserialization.}}
\DoxyCodeLine{42     \textcolor{comment}{// If unset, we assert that these previously mentioned areas are empty.}}
\DoxyCodeLine{43     \mbox{\hyperlink{classv8_1_1internal_1_1Snapshot_a760c65bdc2f235bdac13dcce8e2cc518aabc22f967f1e6a6b83971d54b8add5c0}{kAllowActiveIsolateForTesting}} = 1 << 1,}
\DoxyCodeLine{44     \textcolor{comment}{// If set, the ReadOnlySerializer and the SharedHeapSerializer reconstructs}}
\DoxyCodeLine{45     \textcolor{comment}{// their respective object caches from the existing ReadOnlyHeap's read-\/only}}
\DoxyCodeLine{46     \textcolor{comment}{// object cache or the existing shared heap's object cache so the same}}
\DoxyCodeLine{47     \textcolor{comment}{// mapping is used.  This mode is used for testing deserialization of a}}
\DoxyCodeLine{48     \textcolor{comment}{// snapshot from a live isolate that's using a shared ReadOnlyHeap or is}}
\DoxyCodeLine{49     \textcolor{comment}{// attached to a shared isolate. Otherwise during deserialization the}}
\DoxyCodeLine{50     \textcolor{comment}{// indices will mismatch, causing deserialization crashes when e.g. types}}
\DoxyCodeLine{51     \textcolor{comment}{// mismatch.  If unset, the read-\/only object cache is populated as read-\/only}}
\DoxyCodeLine{52     \textcolor{comment}{// objects are serialized, and the shared heap object cache is populated as}}
\DoxyCodeLine{53     \textcolor{comment}{// shared heap objects are serialized.}}
\DoxyCodeLine{54     \mbox{\hyperlink{classv8_1_1internal_1_1Snapshot_a760c65bdc2f235bdac13dcce8e2cc518a8e253c721c4ceeb180b83de3dbb49b24}{kReconstructReadOnlyAndSharedObjectCachesForTesting}} = 1 << 2,}
\DoxyCodeLine{55   \};}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1Snapshot_a9a393abecf55dc1e4d72eb4b5f922580}\label{classv8_1_1internal_1_1Snapshot_a9a393abecf55dc1e4d72eb4b5f922580}} 
\index{v8::internal::Snapshot@{v8::internal::Snapshot}!CalculateChecksum@{CalculateChecksum}}
\index{CalculateChecksum@{CalculateChecksum}!v8::internal::Snapshot@{v8::internal::Snapshot}}
\doxysubsubsection{\texorpdfstring{CalculateChecksum()}{CalculateChecksum()}}
{\footnotesize\ttfamily uint32\+\_\+t v8\+::internal\+::\+Snapshot\+::\+Calculate\+Checksum (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1StartupData}{v8\+::\+Startup\+Data}} $\ast$}]{data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 637 of file snapshot.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{637                                                               \{}
\DoxyCodeLine{638   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_afb266dd36e8ff109ac3d7a4d859c0fc6}{Checksum}}(SnapshotImpl::ChecksummedContent(data));}
\DoxyCodeLine{639 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Checksum().



Referenced by Verify\+Checksum().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1Snapshot_a9a393abecf55dc1e4d72eb4b5f922580_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1Snapshot_a9a393abecf55dc1e4d72eb4b5f922580_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1Snapshot_a2477cce681f8872b03ea2d763a6df165}\label{classv8_1_1internal_1_1Snapshot_a2477cce681f8872b03ea2d763a6df165}} 
\index{v8::internal::Snapshot@{v8::internal::Snapshot}!ClearReconstructableDataForSerialization@{ClearReconstructableDataForSerialization}}
\index{ClearReconstructableDataForSerialization@{ClearReconstructableDataForSerialization}!v8::internal::Snapshot@{v8::internal::Snapshot}}
\doxysubsubsection{\texorpdfstring{ClearReconstructableDataForSerialization()}{ClearReconstructableDataForSerialization()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Snapshot\+::\+Clear\+Reconstructable\+Data\+For\+Serialization (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}}}]{clear\+\_\+recompilable\+\_\+data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 221 of file snapshot.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{222                                                     \{}
\DoxyCodeLine{223   \textcolor{comment}{// Clear SFIs and JSRegExps.}}
\DoxyCodeLine{224   PtrComprCageBase cage\_base(isolate);}
\DoxyCodeLine{225 }
\DoxyCodeLine{226   \{}
\DoxyCodeLine{227     HandleScope scope(isolate);}
\DoxyCodeLine{228     std::vector<i::Handle<i::SharedFunctionInfo>> sfis\_to\_clear;}
\DoxyCodeLine{229     \{}
\DoxyCodeLine{230       \mbox{\hyperlink{classv8_1_1internal_1_1HeapObjectIterator}{i::HeapObjectIterator}} it(isolate-\/>heap());}
\DoxyCodeLine{231       \textcolor{keywordflow}{for} (\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{i::Tagged<i::HeapObject>}} o = it.Next(); !o.\mbox{\hyperlink{classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4_a0930e2a8cbe8abbc5cdd476902fe6c88}{is\_null}}();}
\DoxyCodeLine{232            o = it.Next()) \{}
\DoxyCodeLine{233         \textcolor{keywordflow}{if} (clear\_recompilable\_data \&\& IsSharedFunctionInfo(o, cage\_base)) \{}
\DoxyCodeLine{234           \mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{i::Tagged<i::SharedFunctionInfo>}} shared =}
\DoxyCodeLine{235               i::Cast<i::SharedFunctionInfo>(o);}
\DoxyCodeLine{236           \textcolor{keywordflow}{if} (IsScript(shared-\/>script(cage\_base), cage\_base) \&\&}
\DoxyCodeLine{237               Cast<Script>(shared-\/>script(cage\_base))-\/>type() ==}
\DoxyCodeLine{238                   \mbox{\hyperlink{classv8_1_1internal_1_1Script_ab293a016cf807eed21d94c4eb8b5d3a4a8e68fbb147785ca30917db615334c05b}{Script::Type::kExtension}}) \{}
\DoxyCodeLine{239             \textcolor{keywordflow}{continue};  \textcolor{comment}{// Don't clear extensions, they cannot be recompiled.}}
\DoxyCodeLine{240           \}}
\DoxyCodeLine{241           \textcolor{keywordflow}{if} (shared-\/>CanDiscardCompiled()) \{}
\DoxyCodeLine{242             sfis\_to\_clear.emplace\_back(shared, isolate);}
\DoxyCodeLine{243           \}}
\DoxyCodeLine{244         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (IsJSRegExp(o, cage\_base)) \{}
\DoxyCodeLine{245           \mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{i::Tagged<i::JSRegExp>}} regexp = i::Cast<i::JSRegExp>(o);}
\DoxyCodeLine{246           \textcolor{keywordflow}{if} (regexp-\/>has\_data()) \{}
\DoxyCodeLine{247             \mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{i::Tagged<i::RegExpData>}} data = regexp-\/>data(isolate);}
\DoxyCodeLine{248             \textcolor{keywordflow}{if} (data-\/>HasCompiledCode()) \{}
\DoxyCodeLine{249               \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(Is<IrRegExpData>(regexp-\/>data(isolate)));}
\DoxyCodeLine{250               Cast<IrRegExpData>(data)-\/>DiscardCompiledCodeForSerialization();}
\DoxyCodeLine{251             \}}
\DoxyCodeLine{252           \}}
\DoxyCodeLine{253         \}}
\DoxyCodeLine{254       \}}
\DoxyCodeLine{255     \}}
\DoxyCodeLine{256 }
\DoxyCodeLine{257 \textcolor{preprocessor}{\#if V8\_ENABLE\_WEBASSEMBLY}}
\DoxyCodeLine{258     \textcolor{comment}{// Clear the cached js-\/to-\/wasm wrappers.}}
\DoxyCodeLine{259     isolate-\/>heap()-\/>SetJSToWasmWrappers(}
\DoxyCodeLine{260         ReadOnlyRoots(isolate).empty\_weak\_fixed\_array());}
\DoxyCodeLine{261 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// V8\_ENABLE\_WEBASSEMBLY}}
\DoxyCodeLine{262 }
\DoxyCodeLine{263     \textcolor{comment}{// Must happen after heap iteration since SFI::DiscardCompiled may allocate.}}
\DoxyCodeLine{264     \textcolor{keywordflow}{for} (\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::SharedFunctionInfo>}} shared : sfis\_to\_clear) \{}
\DoxyCodeLine{265       \textcolor{keywordflow}{if} (shared-\/>CanDiscardCompiled()) \{}
\DoxyCodeLine{266         \mbox{\hyperlink{classv8_1_1internal_1_1SharedFunctionInfo_aa3436fa7b949c88265c096cc2cc8ea3d}{i::SharedFunctionInfo::DiscardCompiled}}(isolate, shared);}
\DoxyCodeLine{267       \}}
\DoxyCodeLine{268     \}}
\DoxyCodeLine{269   \}}
\DoxyCodeLine{270 }
\DoxyCodeLine{271   \textcolor{comment}{// Clear JSFunctions.}}
\DoxyCodeLine{272   \{}
\DoxyCodeLine{273     \mbox{\hyperlink{classv8_1_1internal_1_1HeapObjectIterator}{i::HeapObjectIterator}} it(isolate-\/>heap());}
\DoxyCodeLine{274     \textcolor{keywordflow}{for} (\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{i::Tagged<i::HeapObject>}} o = it.Next(); !o.\mbox{\hyperlink{classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4_a0930e2a8cbe8abbc5cdd476902fe6c88}{is\_null}}(); o = it.Next()) \{}
\DoxyCodeLine{275       \textcolor{keywordflow}{if} (!IsJSFunction(o, cage\_base)) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{276 }
\DoxyCodeLine{277       \mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{i::Tagged<i::JSFunction>}} fun = i::Cast<i::JSFunction>(o);}
\DoxyCodeLine{278       fun-\/>CompleteInobjectSlackTrackingIfActive(isolate);}
\DoxyCodeLine{279 }
\DoxyCodeLine{280       \mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{i::Tagged<i::SharedFunctionInfo>}} shared = fun-\/>shared();}
\DoxyCodeLine{281       \textcolor{keywordflow}{if} (IsScript(shared-\/>script(cage\_base), cage\_base) \&\&}
\DoxyCodeLine{282           Cast<Script>(shared-\/>script(cage\_base))-\/>type() ==}
\DoxyCodeLine{283               \mbox{\hyperlink{classv8_1_1internal_1_1Script_ab293a016cf807eed21d94c4eb8b5d3a4a8e68fbb147785ca30917db615334c05b}{Script::Type::kExtension}}) \{}
\DoxyCodeLine{284         \textcolor{keywordflow}{continue};  \textcolor{comment}{// Don't clear extensions, they cannot be recompiled.}}
\DoxyCodeLine{285       \}}
\DoxyCodeLine{286 }
\DoxyCodeLine{287       \textcolor{comment}{// Also, clear out feedback vectors and recompilable code.}}
\DoxyCodeLine{288       \textcolor{keywordflow}{if} (fun-\/>CanDiscardCompiled(isolate)) \{}
\DoxyCodeLine{289         fun-\/>UpdateCode(isolate, *\mbox{\hyperlink{builtins_8h_af33bd0f259d8e6a511fd018115e0d62c}{BUILTIN\_CODE}}(isolate, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_afa7a500801a38cc98469c31192f78468}{CompileLazy}}));}
\DoxyCodeLine{290       \}}
\DoxyCodeLine{291       \textcolor{keywordflow}{if} (!IsUndefined(fun-\/>raw\_feedback\_cell(cage\_base)-\/>value(cage\_base))) \{}
\DoxyCodeLine{292         fun-\/>raw\_feedback\_cell(cage\_base)-\/>set\_value(}
\DoxyCodeLine{293             \mbox{\hyperlink{classv8_1_1internal_1_1ReadOnlyRoots}{i::ReadOnlyRoots}}(isolate).undefined\_value());}
\DoxyCodeLine{294       \}}
\DoxyCodeLine{295 \textcolor{preprocessor}{\#ifdef DEBUG}}
\DoxyCodeLine{296       \textcolor{keywordflow}{if} (clear\_recompilable\_data) \{}
\DoxyCodeLine{297         \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(fun-\/>shared()-\/>HasBuiltinId() ||}
\DoxyCodeLine{298                fun-\/>shared()-\/>IsApiFunction() ||}
\DoxyCodeLine{299 \#\textcolor{keywordflow}{if} V8\_ENABLE\_WEBASSEMBLY}
\DoxyCodeLine{300                fun-\/>shared()-\/>HasWasmExportedFunctionData(isolate) ||}
\DoxyCodeLine{301 \#endif  \textcolor{comment}{// V8\_ENABLE\_WEBASSEMBLY}}
\DoxyCodeLine{302                fun-\/>shared()-\/>HasUncompiledDataWithoutPreparseData(isolate));}
\DoxyCodeLine{303       \}}
\DoxyCodeLine{304 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// DEBUG}}
\DoxyCodeLine{305     \}}
\DoxyCodeLine{306   \}}
\DoxyCodeLine{307 }
\DoxyCodeLine{308   \textcolor{comment}{// PendingOptimizeTable also contains BytecodeArray, we need to clear the}}
\DoxyCodeLine{309   \textcolor{comment}{// recompilable code same as above.}}
\DoxyCodeLine{310   ReadOnlyRoots roots(isolate);}
\DoxyCodeLine{311   isolate-\/>heap()-\/>SetFunctionsMarkedForManualOptimization(}
\DoxyCodeLine{312       roots.undefined\_value());}
\DoxyCodeLine{313 }
\DoxyCodeLine{314 \textcolor{preprocessor}{\#if V8\_ENABLE\_WEBASSEMBLY}}
\DoxyCodeLine{315   \{}
\DoxyCodeLine{316     \textcolor{comment}{// Check if there are any asm.js / wasm functions on the heap.}}
\DoxyCodeLine{317     \textcolor{comment}{// These cannot be serialized due to restrictions with the js-\/to-\/wasm}}
\DoxyCodeLine{318     \textcolor{comment}{// wrapper. A tiered-\/up wrapper would have to be replaced with a generic}}
\DoxyCodeLine{319     \textcolor{comment}{// wrapper which isn't supported. For asm.js there also isn't any support}}
\DoxyCodeLine{320     \textcolor{comment}{// for the generic wrapper at all.}}
\DoxyCodeLine{321     \mbox{\hyperlink{classv8_1_1internal_1_1HeapObjectIterator}{i::HeapObjectIterator}} it(isolate-\/>heap(),}
\DoxyCodeLine{322                              \mbox{\hyperlink{classv8_1_1internal_1_1HeapObjectIterator_aba9b17f811ca08dfc4a3023570003660a4d15b9776ff3fed775d2e940c20fbfdf}{HeapObjectIterator::kFilterUnreachable}});}
\DoxyCodeLine{323     \textcolor{keywordflow}{for} (\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{i::Tagged<i::HeapObject>}} o = it.Next(); !o.\mbox{\hyperlink{classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4_a0930e2a8cbe8abbc5cdd476902fe6c88}{is\_null}}(); o = it.Next()) \{}
\DoxyCodeLine{324       \textcolor{keywordflow}{if} (IsJSFunction(o)) \{}
\DoxyCodeLine{325         \mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{i::Tagged<i::JSFunction>}} fun = i::Cast<i::JSFunction>(o);}
\DoxyCodeLine{326         \textcolor{keywordflow}{if} (fun-\/>shared()-\/>HasAsmWasmData()) \{}
\DoxyCodeLine{327           \mbox{\hyperlink{src_2base_2logging_8h_a0d093cb749cfc7ab5993726392df681f}{FATAL}}(\textcolor{stringliteral}{"{}asm.js functions are not supported in snapshots"{}});}
\DoxyCodeLine{328         \}}
\DoxyCodeLine{329         \textcolor{keywordflow}{if} (fun-\/>shared()-\/>HasWasmExportedFunctionData(isolate)) \{}
\DoxyCodeLine{330           \mbox{\hyperlink{src_2base_2logging_8h_a0d093cb749cfc7ab5993726392df681f}{FATAL}}(}
\DoxyCodeLine{331               \textcolor{stringliteral}{"{}Exported WebAssembly functions are not supported in snapshots"{}});}
\DoxyCodeLine{332         \}}
\DoxyCodeLine{333       \}}
\DoxyCodeLine{334     \}}
\DoxyCodeLine{335   \}}
\DoxyCodeLine{336 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// V8\_ENABLE\_WEBASSEMBLY}}
\DoxyCodeLine{337 \}}

\end{DoxyCode}


References BUILTIN\+\_\+\+CODE, v8\+::internal\+::wasm\+::\+Compile\+Lazy(), v8\+::internal\+::\+DCHECK(), v8\+::internal\+::\+Shared\+Function\+Info\+::\+Discard\+Compiled(), FATAL, v8\+::internal\+::\+Isolate\+::heap(), v8\+::internal\+::\+Tagged$<$ Heap\+Object $>$\+::is\+\_\+null(), v8\+::internal\+::\+Script\+::k\+Extension, v8\+::internal\+::\+Heap\+Object\+Iterator\+::k\+Filter\+Unreachable, v8\+::internal\+::\+Heap\+Object\+Iterator\+::\+Next(), and v8\+::internal\+::\+Heap\+::\+Set\+Functions\+Marked\+For\+Manual\+Optimization().



Referenced by v8\+::internal\+::\+Snapshot\+Creator\+Impl\+::\+Create\+Blob(), and v8\+::\+Shell\+::\+Run\+Main().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1Snapshot_a2477cce681f8872b03ea2d763a6df165_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1Snapshot_a2477cce681f8872b03ea2d763a6df165_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1Snapshot_adfd8edefbe96f6c18cd82ea41ef909dd}\label{classv8_1_1internal_1_1Snapshot_adfd8edefbe96f6c18cd82ea41ef909dd}} 
\index{v8::internal::Snapshot@{v8::internal::Snapshot}!Create@{Create}}
\index{Create@{Create}!v8::internal::Snapshot@{v8::internal::Snapshot}}
\doxysubsubsection{\texorpdfstring{Create()}{Create()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1StartupData}{v8\+::\+Startup\+Data}} v8\+::internal\+::\+Snapshot\+::\+Create (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{std\+::vector$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Context}{Context}} $>$$>$ $\ast$}]{contexts,  }\item[{const std\+::vector$<$ \mbox{\hyperlink{structv8_1_1internal_1_1SerializeEmbedderFieldsCallback}{Serialize\+Embedder\+Fields\+Callback}} $>$ \&}]{embedder\+\_\+fields\+\_\+serializers,  }\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1SafepointScope}{Safepoint\+Scope}} \&}]{safepoint\+\_\+scope,  }\item[{const \mbox{\hyperlink{namespacev8_1_1internal_af2248a427f8ff8f81e68a2a87758e145}{Disallow\+Garbage\+Collection}} \&}]{no\+\_\+gc,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Snapshot_a379f04b363d07d48b5f8d9de93fd1b72}{Serializer\+Flags}}}]{flags = {\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1Snapshot_a735b7d274e3746b242f684cd22a651d8}{k\+Default\+Serializer\+Flags}}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 403 of file snapshot.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{408                                                                    \{}
\DoxyCodeLine{409   \mbox{\hyperlink{trace-event-no-perfetto_8h_a3feabb76c0ac2918798bc11ab55c6a79}{TRACE\_EVENT0}}(\textcolor{stringliteral}{"{}v8"{}}, \textcolor{stringliteral}{"{}V8.SnapshotCreate"{}});}
\DoxyCodeLine{410   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(contexts-\/>size(), embedder\_fields\_serializers.size());}
\DoxyCodeLine{411   \mbox{\hyperlink{src_2base_2logging_8h_afd957f297df7e9ee36c46185e961485f}{DCHECK\_GT}}(contexts-\/>size(), 0);}
\DoxyCodeLine{412   HandleScope scope(isolate);}
\DoxyCodeLine{413 }
\DoxyCodeLine{414   ReadOnlySerializer read\_only\_serializer(isolate, \mbox{\hyperlink{namespacev8_1_1internal_a83b0c194e63513f61999805edd71b125}{flags}});}
\DoxyCodeLine{415   read\_only\_serializer.Serialize();}
\DoxyCodeLine{416 }
\DoxyCodeLine{417   \textcolor{comment}{// TODO(v8:6593): generalize rehashing, and remove this flag.}}
\DoxyCodeLine{418   \textcolor{keywordtype}{bool} can\_be\_rehashed = read\_only\_serializer.can\_be\_rehashed();}
\DoxyCodeLine{419 }
\DoxyCodeLine{420   SharedHeapSerializer shared\_heap\_serializer(isolate, \mbox{\hyperlink{namespacev8_1_1internal_a83b0c194e63513f61999805edd71b125}{flags}});}
\DoxyCodeLine{421   StartupSerializer startup\_serializer(isolate, \mbox{\hyperlink{namespacev8_1_1internal_a83b0c194e63513f61999805edd71b125}{flags}}, \&shared\_heap\_serializer);}
\DoxyCodeLine{422   startup\_serializer.SerializeStrongReferences(\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_a63d8eefb47468aa3f816fbe26a59466a}{no\_gc}});}
\DoxyCodeLine{423 }
\DoxyCodeLine{424   \textcolor{comment}{// Serialize each context with a new serializer.}}
\DoxyCodeLine{425   \textcolor{keyword}{const} \textcolor{keywordtype}{int} num\_contexts = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(contexts-\/>size());}
\DoxyCodeLine{426   std::vector<SnapshotData*> context\_snapshots;}
\DoxyCodeLine{427   context\_snapshots.reserve(num\_contexts);}
\DoxyCodeLine{428 }
\DoxyCodeLine{429   std::vector<int> context\_allocation\_sizes;}
\DoxyCodeLine{430   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < num\_contexts; \mbox{\hyperlink{namespacev8_1_1internal}{i}}++) \{}
\DoxyCodeLine{431     ContextSerializer context\_serializer(isolate, \mbox{\hyperlink{namespacev8_1_1internal_a83b0c194e63513f61999805edd71b125}{flags}}, \&startup\_serializer,}
\DoxyCodeLine{432                                          embedder\_fields\_serializers[\mbox{\hyperlink{namespacev8_1_1internal}{i}}]);}
\DoxyCodeLine{433     context\_serializer.Serialize(\&contexts-\/>at(\mbox{\hyperlink{namespacev8_1_1internal}{i}}), \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_a63d8eefb47468aa3f816fbe26a59466a}{no\_gc}});}
\DoxyCodeLine{434     can\_be\_rehashed = can\_be\_rehashed \&\& context\_serializer.can\_be\_rehashed();}
\DoxyCodeLine{435     context\_snapshots.push\_back(\textcolor{keyword}{new} SnapshotData(\&context\_serializer));}
\DoxyCodeLine{436     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.serialization\_statistics) \{}
\DoxyCodeLine{437       context\_allocation\_sizes.push\_back(}
\DoxyCodeLine{438           context\_serializer.TotalAllocationSize());}
\DoxyCodeLine{439     \}}
\DoxyCodeLine{440   \}}
\DoxyCodeLine{441 }
\DoxyCodeLine{442   startup\_serializer.SerializeWeakReferencesAndDeferred();}
\DoxyCodeLine{443   can\_be\_rehashed = can\_be\_rehashed \&\& startup\_serializer.can\_be\_rehashed();}
\DoxyCodeLine{444 }
\DoxyCodeLine{445   startup\_serializer.CheckNoDirtyFinalizationRegistries();}
\DoxyCodeLine{446 }
\DoxyCodeLine{447   shared\_heap\_serializer.FinalizeSerialization();}
\DoxyCodeLine{448   can\_be\_rehashed = can\_be\_rehashed \&\& shared\_heap\_serializer.can\_be\_rehashed();}
\DoxyCodeLine{449 }
\DoxyCodeLine{450   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.serialization\_statistics) \{}
\DoxyCodeLine{451     \mbox{\hyperlink{src_2base_2logging_8h_a986dc8f4ec6dcd0644efe205c13f8eb7}{DCHECK\_NE}}(read\_only\_serializer.TotalAllocationSize(), 0);}
\DoxyCodeLine{452     \mbox{\hyperlink{src_2base_2logging_8h_a986dc8f4ec6dcd0644efe205c13f8eb7}{DCHECK\_NE}}(startup\_serializer.TotalAllocationSize(), 0);}
\DoxyCodeLine{453     \textcolor{comment}{// The shared heap snapshot can be empty, no problem.}}
\DoxyCodeLine{454     \textcolor{comment}{// DCHECK\_NE(shared\_heap\_serializer.TotalAllocationSize(), 0);}}
\DoxyCodeLine{455     \textcolor{keywordtype}{int} per\_isolate\_allocation\_size = startup\_serializer.TotalAllocationSize();}
\DoxyCodeLine{456     \textcolor{keywordtype}{int} per\_process\_allocation\_size =}
\DoxyCodeLine{457         read\_only\_serializer.TotalAllocationSize();}
\DoxyCodeLine{458     \textcolor{comment}{// TODO(jgruber): At snapshot-\/generation time we don't know whether the}}
\DoxyCodeLine{459     \textcolor{comment}{// shared heap snapshot will actually be shared at runtime, or if it will}}
\DoxyCodeLine{460     \textcolor{comment}{// be deserialized into each isolate. Conservatively account to per-\/isolate}}
\DoxyCodeLine{461     \textcolor{comment}{// memory here.}}
\DoxyCodeLine{462     per\_isolate\_allocation\_size += shared\_heap\_serializer.TotalAllocationSize();}
\DoxyCodeLine{463     \textcolor{comment}{// These prints must match the regexp in test/memory/Memory.json}}
\DoxyCodeLine{464     \mbox{\hyperlink{namespacev8_1_1internal_a3430752cde9f29d73e97ceed1bce0856}{PrintF}}(\textcolor{stringliteral}{"{}Deserialization will allocate:\(\backslash\)n"{}});}
\DoxyCodeLine{465     \mbox{\hyperlink{namespacev8_1_1internal_a3430752cde9f29d73e97ceed1bce0856}{PrintF}}(\textcolor{stringliteral}{"{}\%10d bytes per process\(\backslash\)n"{}}, per\_process\_allocation\_size);}
\DoxyCodeLine{466     \mbox{\hyperlink{namespacev8_1_1internal_a3430752cde9f29d73e97ceed1bce0856}{PrintF}}(\textcolor{stringliteral}{"{}\%10d bytes per isolate\(\backslash\)n"{}}, per\_isolate\_allocation\_size);}
\DoxyCodeLine{467     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < num\_contexts; \mbox{\hyperlink{namespacev8_1_1internal}{i}}++) \{}
\DoxyCodeLine{468       \mbox{\hyperlink{src_2base_2logging_8h_a986dc8f4ec6dcd0644efe205c13f8eb7}{DCHECK\_NE}}(context\_allocation\_sizes[\mbox{\hyperlink{namespacev8_1_1internal}{i}}], 0);}
\DoxyCodeLine{469       \mbox{\hyperlink{namespacev8_1_1internal_a3430752cde9f29d73e97ceed1bce0856}{PrintF}}(\textcolor{stringliteral}{"{}\%10d bytes per context \#\%d\(\backslash\)n"{}}, context\_allocation\_sizes[\mbox{\hyperlink{namespacev8_1_1internal}{i}}], \mbox{\hyperlink{namespacev8_1_1internal}{i}});}
\DoxyCodeLine{470     \}}
\DoxyCodeLine{471     \mbox{\hyperlink{namespacev8_1_1internal_a3430752cde9f29d73e97ceed1bce0856}{PrintF}}(\textcolor{stringliteral}{"{}\(\backslash\)n"{}});}
\DoxyCodeLine{472   \}}
\DoxyCodeLine{473 }
\DoxyCodeLine{474   SnapshotData read\_only\_snapshot(\&read\_only\_serializer);}
\DoxyCodeLine{475   SnapshotData shared\_heap\_snapshot(\&shared\_heap\_serializer);}
\DoxyCodeLine{476   SnapshotData startup\_snapshot(\&startup\_serializer);}
\DoxyCodeLine{477   \mbox{\hyperlink{classv8_1_1StartupData}{v8::StartupData}} \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} = SnapshotImpl::CreateSnapshotBlob(}
\DoxyCodeLine{478       \&startup\_snapshot, \&read\_only\_snapshot, \&shared\_heap\_snapshot,}
\DoxyCodeLine{479       context\_snapshots, can\_be\_rehashed);}
\DoxyCodeLine{480 }
\DoxyCodeLine{481   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} SnapshotData* ptr : context\_snapshots) \textcolor{keyword}{delete} ptr;}
\DoxyCodeLine{482 }
\DoxyCodeLine{483   \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1Snapshot_ad186fe56fe8f495f0aabd8bdb2b658c4}{Snapshot::VerifyChecksum}}(\&\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}}));}
\DoxyCodeLine{484   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}};}
\DoxyCodeLine{485 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Context\+Serializer\+::can\+\_\+be\+\_\+rehashed(), v8\+::internal\+::\+Roots\+Serializer\+::can\+\_\+be\+\_\+rehashed(), CHECK, v8\+::internal\+::\+Startup\+Serializer\+::\+Check\+No\+Dirty\+Finalization\+Registries(), DCHECK\+\_\+\+EQ, DCHECK\+\_\+\+GT, DCHECK\+\_\+\+NE, v8\+::internal\+::\+Shared\+Heap\+Serializer\+::\+Finalize\+Serialization(), v8\+::internal\+::flags, v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::no\+\_\+gc, v8\+::internal\+::\+Print\+F(), v8\+::base\+::internal\+::result, v8\+::internal\+::\+Read\+Only\+Serializer\+::\+Serialize(), v8\+::internal\+::\+Context\+Serializer\+::\+Serialize(), v8\+::internal\+::\+Startup\+Serializer\+::\+Serialize\+Strong\+References(), v8\+::internal\+::\+Startup\+Serializer\+::\+Serialize\+Weak\+References\+And\+Deferred(), v8\+::internal\+::\+Serializer\+::\+Total\+Allocation\+Size(), TRACE\+\_\+\+EVENT0, v8\+::internal\+::v8\+\_\+flags, and Verify\+Checksum().



Referenced by v8\+::internal\+::\+Snapshot\+Creator\+Impl\+::\+Create\+Blob(), and Serialize\+Deserialize\+And\+Verify\+For\+Testing().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1Snapshot_adfd8edefbe96f6c18cd82ea41ef909dd_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1Snapshot_adfd8edefbe96f6c18cd82ea41ef909dd_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1Snapshot_a5581dcad3c8aebccb9e9ad5fd641cf03}\label{classv8_1_1internal_1_1Snapshot_a5581dcad3c8aebccb9e9ad5fd641cf03}} 
\index{v8::internal::Snapshot@{v8::internal::Snapshot}!DefaultSnapshotBlob@{DefaultSnapshotBlob}}
\index{DefaultSnapshotBlob@{DefaultSnapshotBlob}!v8::internal::Snapshot@{v8::internal::Snapshot}}
\doxysubsubsection{\texorpdfstring{DefaultSnapshotBlob()}{DefaultSnapshotBlob()}}
{\footnotesize\ttfamily const \mbox{\hyperlink{classv8_1_1StartupData}{v8\+::\+Startup\+Data}} $\ast$ v8\+::internal\+::\+Snapshot\+::\+Default\+Snapshot\+Blob (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 24 of file snapshot-\/empty.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{24 \{ \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr}; \}}

\end{DoxyCode}


Referenced by v8\+::internal\+::\+Isolate\+::\+Add\+Crash\+Keys\+For\+Isolate\+And\+Heap\+Pointers(), v8\+::\+Isolate\+::\+Initialize(), and v8\+::internal\+::\+Snapshot\+Creator\+Impl\+::\+Snapshot\+Creator\+Impl().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1Snapshot_a5581dcad3c8aebccb9e9ad5fd641cf03_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1Snapshot_a3a1aebec9d95ea0ab6934cca5ce3a9af}\label{classv8_1_1internal_1_1Snapshot_a3a1aebec9d95ea0ab6934cca5ce3a9af}} 
\index{v8::internal::Snapshot@{v8::internal::Snapshot}!EmbedsScript@{EmbedsScript}}
\index{EmbedsScript@{EmbedsScript}!v8::internal::Snapshot@{v8::internal::Snapshot}}
\doxysubsubsection{\texorpdfstring{EmbedsScript()}{EmbedsScript()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Snapshot\+::\+Embeds\+Script (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{classv8_1_1internal_1_1Snapshot_af7f84ccefeee15501500f4929c5bc22d}\label{classv8_1_1internal_1_1Snapshot_af7f84ccefeee15501500f4929c5bc22d}} 
\index{v8::internal::Snapshot@{v8::internal::Snapshot}!ExtractReadOnlySnapshotChecksum@{ExtractReadOnlySnapshotChecksum}}
\index{ExtractReadOnlySnapshotChecksum@{ExtractReadOnlySnapshotChecksum}!v8::internal::Snapshot@{v8::internal::Snapshot}}
\doxysubsubsection{\texorpdfstring{ExtractReadOnlySnapshotChecksum()}{ExtractReadOnlySnapshotChecksum()}}
{\footnotesize\ttfamily uint32\+\_\+t v8\+::internal\+::\+Snapshot\+::\+Extract\+Read\+Only\+Snapshot\+Checksum (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1StartupData}{v8\+::\+Startup\+Data}} $\ast$}]{data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 671 of file snapshot.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{672                                \{}
\DoxyCodeLine{673   \textcolor{keywordflow}{return} SnapshotImpl::GetHeaderValue(}
\DoxyCodeLine{674       data, SnapshotImpl::kReadOnlySnapshotChecksumOffset);}
\DoxyCodeLine{675 \}}

\end{DoxyCode}


Referenced by v8\+::internal\+::\+Serialized\+Code\+Data\+::\+From\+Cached\+Data(), v8\+::internal\+::\+Serialized\+Code\+Data\+::\+From\+Cached\+Data\+Without\+Source(), and v8\+::internal\+::\+Serialized\+Code\+Data\+::\+Serialized\+Code\+Data().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1Snapshot_af7f84ccefeee15501500f4929c5bc22d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1Snapshot_a4165d2e85ccd3199be90691df40508d0}\label{classv8_1_1internal_1_1Snapshot_a4165d2e85ccd3199be90691df40508d0}} 
\index{v8::internal::Snapshot@{v8::internal::Snapshot}!ExtractRehashability@{ExtractRehashability}}
\index{ExtractRehashability@{ExtractRehashability}!v8::internal::Snapshot@{v8::internal::Snapshot}}
\doxysubsubsection{\texorpdfstring{ExtractRehashability()}{ExtractRehashability()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Snapshot\+::\+Extract\+Rehashability (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1StartupData}{v8\+::\+Startup\+Data}} $\ast$}]{data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 663 of file snapshot.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{663                                                              \{}
\DoxyCodeLine{664   uint32\_t rehashability =}
\DoxyCodeLine{665       SnapshotImpl::GetHeaderValue(data, SnapshotImpl::kRehashabilityOffset);}
\DoxyCodeLine{666   \mbox{\hyperlink{src_2base_2logging_8h_a2c0c4cea27d0690467662bb05131b2af}{CHECK\_IMPLIES}}(rehashability != 0, rehashability == 1);}
\DoxyCodeLine{667   \textcolor{keywordflow}{return} rehashability != 0;}
\DoxyCodeLine{668 \}}

\end{DoxyCode}


References CHECK\+\_\+\+IMPLIES.



Referenced by v8\+::\+Startup\+Data\+::\+Can\+Be\+Rehashed(), Initialize(), and New\+Context\+From\+Snapshot().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1Snapshot_a4165d2e85ccd3199be90691df40508d0_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1Snapshot_a5d3efbaa512b46de1c272736f763afc4}\label{classv8_1_1internal_1_1Snapshot_a5d3efbaa512b46de1c272736f763afc4}} 
\index{v8::internal::Snapshot@{v8::internal::Snapshot}!GetExpectedChecksum@{GetExpectedChecksum}}
\index{GetExpectedChecksum@{GetExpectedChecksum}!v8::internal::Snapshot@{v8::internal::Snapshot}}
\doxysubsubsection{\texorpdfstring{GetExpectedChecksum()}{GetExpectedChecksum()}}
{\footnotesize\ttfamily uint32\+\_\+t v8\+::internal\+::\+Snapshot\+::\+Get\+Expected\+Checksum (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1StartupData}{v8\+::\+Startup\+Data}} $\ast$}]{data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 634 of file snapshot.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{634                                                                 \{}
\DoxyCodeLine{635   \textcolor{keywordflow}{return} SnapshotImpl::GetHeaderValue(data, SnapshotImpl::kChecksumOffset);}
\DoxyCodeLine{636 \}}

\end{DoxyCode}


Referenced by v8\+::internal\+::\+Isolate\+::\+Add\+Crash\+Keys\+For\+Isolate\+And\+Heap\+Pointers(), and Verify\+Checksum().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1Snapshot_a5d3efbaa512b46de1c272736f763afc4_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1Snapshot_a8792603b1bdff6535d4cb0b0034d82b8}\label{classv8_1_1internal_1_1Snapshot_a8792603b1bdff6535d4cb0b0034d82b8}} 
\index{v8::internal::Snapshot@{v8::internal::Snapshot}!HasContextSnapshot@{HasContextSnapshot}}
\index{HasContextSnapshot@{HasContextSnapshot}!v8::internal::Snapshot@{v8::internal::Snapshot}}
\doxysubsubsection{\texorpdfstring{HasContextSnapshot()}{HasContextSnapshot()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Snapshot\+::\+Has\+Context\+Snapshot (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 154 of file snapshot.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{154                                                                 \{}
\DoxyCodeLine{155   \textcolor{comment}{// Do not use snapshots if the isolate is used to create snapshots.}}
\DoxyCodeLine{156   \textcolor{keyword}{const} \mbox{\hyperlink{classv8_1_1StartupData}{v8::StartupData}}* blob = isolate-\/>snapshot\_blob();}
\DoxyCodeLine{157   \textcolor{keywordflow}{if} (blob == \textcolor{keyword}{nullptr}) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{158   \textcolor{keywordflow}{if} (blob-\/>\mbox{\hyperlink{classv8_1_1StartupData_a8daf0c5282d7c465988757dc4ecda1af}{data}} == \textcolor{keyword}{nullptr}) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{159   \textcolor{keywordtype}{size\_t} num\_contexts =}
\DoxyCodeLine{160       \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(SnapshotImpl::ExtractNumContexts(blob));}
\DoxyCodeLine{161   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}} < num\_contexts;}
\DoxyCodeLine{162 \}}

\end{DoxyCode}


References v8\+::\+Startup\+Data\+::data, and v8\+::internal\+::index.



Referenced by v8\+::\+Context\+::\+From\+Snapshot().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1Snapshot_a8792603b1bdff6535d4cb0b0034d82b8_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1Snapshot_a5054ae7a1ee4b2db6052099fbbddb401}\label{classv8_1_1internal_1_1Snapshot_a5054ae7a1ee4b2db6052099fbbddb401}} 
\index{v8::internal::Snapshot@{v8::internal::Snapshot}!Initialize@{Initialize}}
\index{Initialize@{Initialize}!v8::internal::Snapshot@{v8::internal::Snapshot}}
\doxysubsubsection{\texorpdfstring{Initialize()}{Initialize()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Snapshot\+::\+Initialize (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 176 of file snapshot.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{176                                           \{}
\DoxyCodeLine{177   \textcolor{keywordflow}{if} (!isolate-\/>snapshot\_available()) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{178 }
\DoxyCodeLine{179   \textcolor{keyword}{const} \mbox{\hyperlink{classv8_1_1StartupData}{v8::StartupData}}* blob = isolate-\/>snapshot\_blob();}
\DoxyCodeLine{180   SnapshotImpl::CheckVersion(blob);}
\DoxyCodeLine{181   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1Snapshot_ac7475cbfaf27fd8c68f1f2833f1db761}{Snapshot::ShouldVerifyChecksum}}(blob)) \{}
\DoxyCodeLine{182     \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1Snapshot_ad186fe56fe8f495f0aabd8bdb2b658c4}{VerifyChecksum}}(blob));}
\DoxyCodeLine{183   \}}
\DoxyCodeLine{184 }
\DoxyCodeLine{185   base::Vector<const uint8\_t> startup\_data =}
\DoxyCodeLine{186       SnapshotImpl::ExtractStartupData(blob);}
\DoxyCodeLine{187   base::Vector<const uint8\_t> read\_only\_data =}
\DoxyCodeLine{188       SnapshotImpl::ExtractReadOnlyData(blob);}
\DoxyCodeLine{189   base::Vector<const uint8\_t> shared\_heap\_data =}
\DoxyCodeLine{190       SnapshotImpl::ExtractSharedHeapData(blob);}
\DoxyCodeLine{191 }
\DoxyCodeLine{192   SnapshotData startup\_snapshot\_data(\mbox{\hyperlink{namespacev8_1_1internal_a27cef6e3442294da00a429ae8908b84e}{MaybeDecompress}}(isolate, startup\_data));}
\DoxyCodeLine{193   SnapshotData read\_only\_snapshot\_data(}
\DoxyCodeLine{194       \mbox{\hyperlink{namespacev8_1_1internal_a27cef6e3442294da00a429ae8908b84e}{MaybeDecompress}}(isolate, read\_only\_data));}
\DoxyCodeLine{195   SnapshotData shared\_heap\_snapshot\_data(}
\DoxyCodeLine{196       \mbox{\hyperlink{namespacev8_1_1internal_a27cef6e3442294da00a429ae8908b84e}{MaybeDecompress}}(isolate, shared\_heap\_data));}
\DoxyCodeLine{197 }
\DoxyCodeLine{198   \textcolor{keywordflow}{return} isolate-\/>InitWithSnapshot(}
\DoxyCodeLine{199       \&startup\_snapshot\_data, \&read\_only\_snapshot\_data,}
\DoxyCodeLine{200       \&shared\_heap\_snapshot\_data, \mbox{\hyperlink{classv8_1_1internal_1_1Snapshot_a4165d2e85ccd3199be90691df40508d0}{ExtractRehashability}}(blob));}
\DoxyCodeLine{201 \}}

\end{DoxyCode}


References CHECK, Extract\+Rehashability(), v8\+::internal\+::\+Isolate\+::\+Init\+With\+Snapshot(), v8\+::internal\+::\+Maybe\+Decompress(), Should\+Verify\+Checksum(), v8\+::internal\+::\+Isolate\+::snapshot\+\_\+available(), and Verify\+Checksum().



Referenced by v8\+::\+Isolate\+::\+Initialize(), v8\+::internal\+::\+Snapshot\+Creator\+Impl\+::\+Init\+Internal(), and Serialize\+Deserialize\+And\+Verify\+For\+Testing().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1Snapshot_a5054ae7a1ee4b2db6052099fbbddb401_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1Snapshot_a5054ae7a1ee4b2db6052099fbbddb401_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1Snapshot_aad21abf1ac9f736a3e3f412973ae31a0}\label{classv8_1_1internal_1_1Snapshot_aad21abf1ac9f736a3e3f412973ae31a0}} 
\index{v8::internal::Snapshot@{v8::internal::Snapshot}!NewContextFromSnapshot@{NewContextFromSnapshot}}
\index{NewContextFromSnapshot@{NewContextFromSnapshot}!v8::internal::Snapshot@{v8::internal::Snapshot}}
\doxysubsubsection{\texorpdfstring{NewContextFromSnapshot()}{NewContextFromSnapshot()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle}{Maybe\+Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Context}{Context}} $>$ v8\+::internal\+::\+Snapshot\+::\+New\+Context\+From\+Snapshot (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSGlobalProxy}{JSGlobal\+Proxy}} $>$}]{global\+\_\+proxy,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{context\+\_\+index,  }\item[{\mbox{\hyperlink{structv8_1_1internal_1_1DeserializeEmbedderFieldsCallback}{Deserialize\+Embedder\+Fields\+Callback}}}]{embedder\+\_\+fields\+\_\+deserializer }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 203 of file snapshot.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{206                                                                     \{}
\DoxyCodeLine{207   \textcolor{keywordflow}{if} (!isolate-\/>snapshot\_available()) \textcolor{keywordflow}{return} DirectHandle<Context>();}
\DoxyCodeLine{208 }
\DoxyCodeLine{209   \textcolor{keyword}{const} \mbox{\hyperlink{classv8_1_1StartupData}{v8::StartupData}}* blob = isolate-\/>snapshot\_blob();}
\DoxyCodeLine{210   \textcolor{keywordtype}{bool} can\_rehash = \mbox{\hyperlink{classv8_1_1internal_1_1Snapshot_a4165d2e85ccd3199be90691df40508d0}{ExtractRehashability}}(blob);}
\DoxyCodeLine{211   base::Vector<const uint8\_t> context\_data = SnapshotImpl::ExtractContextData(}
\DoxyCodeLine{212       blob, \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(context\_index));}
\DoxyCodeLine{213   SnapshotData snapshot\_data(\mbox{\hyperlink{namespacev8_1_1internal_a27cef6e3442294da00a429ae8908b84e}{MaybeDecompress}}(isolate, context\_data));}
\DoxyCodeLine{214 }
\DoxyCodeLine{215   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1ContextDeserializer_a7f3dc3ed502add3c031b9859499e69bb}{ContextDeserializer::DeserializeContext}}(}
\DoxyCodeLine{216       isolate, \&snapshot\_data, context\_index, can\_rehash, global\_proxy,}
\DoxyCodeLine{217       embedder\_fields\_deserializer);}
\DoxyCodeLine{218 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Context\+Deserializer\+::\+Deserialize\+Context(), Extract\+Rehashability(), v8\+::internal\+::\+Maybe\+Decompress(), and v8\+::internal\+::\+Isolate\+::snapshot\+\_\+available().



Referenced by v8\+::internal\+::\+Genesis\+::\+Genesis().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1Snapshot_aad21abf1ac9f736a3e3f412973ae31a0_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1Snapshot_aad21abf1ac9f736a3e3f412973ae31a0_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1Snapshot_a28b4f9df415675bda833d449e659206b}\label{classv8_1_1internal_1_1Snapshot_a28b4f9df415675bda833d449e659206b}} 
\index{v8::internal::Snapshot@{v8::internal::Snapshot}!SerializeDeserializeAndVerifyForTesting@{SerializeDeserializeAndVerifyForTesting}}
\index{SerializeDeserializeAndVerifyForTesting@{SerializeDeserializeAndVerifyForTesting}!v8::internal::Snapshot@{v8::internal::Snapshot}}
\doxysubsubsection{\texorpdfstring{SerializeDeserializeAndVerifyForTesting()}{SerializeDeserializeAndVerifyForTesting()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Snapshot\+::\+Serialize\+Deserialize\+And\+Verify\+For\+Testing (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Context}{Context}} $>$}]{default\+\_\+context }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 340 of file snapshot.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{341                                                              \{}
\DoxyCodeLine{342   StartupData serialized\_data;}
\DoxyCodeLine{343   std::unique\_ptr<const char[]> auto\_delete\_serialized\_data;}
\DoxyCodeLine{344 }
\DoxyCodeLine{345   isolate-\/>heap()-\/>CollectAllAvailableGarbage(}
\DoxyCodeLine{346       i::GarbageCollectionReason::kSnapshotCreator);}
\DoxyCodeLine{347 }
\DoxyCodeLine{348   \textcolor{comment}{// Test serialization.}}
\DoxyCodeLine{349   \{}
\DoxyCodeLine{350     \mbox{\hyperlink{namespacev8_1_1internal_acd1928f11d4d262d5ba2acd8e66caa83}{SafepointKind}} safepoint\_kind = isolate-\/>has\_shared\_space()}
\DoxyCodeLine{351                                        ? \mbox{\hyperlink{namespacev8_1_1internal_acd1928f11d4d262d5ba2acd8e66caa83a53bd3be702935175a01da237d5083537}{SafepointKind::kGlobal}}}
\DoxyCodeLine{352                                        : \mbox{\hyperlink{namespacev8_1_1internal_acd1928f11d4d262d5ba2acd8e66caa83a60105c3f5f25a0d5c28ae706af3a6567}{SafepointKind::kIsolate}};}
\DoxyCodeLine{353     SafepointScope safepoint\_scope(isolate, safepoint\_kind);}
\DoxyCodeLine{354     \mbox{\hyperlink{namespacev8_1_1internal_af2248a427f8ff8f81e68a2a87758e145}{DisallowGarbageCollection}} \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_a63d8eefb47468aa3f816fbe26a59466a}{no\_gc}};}
\DoxyCodeLine{355 }
\DoxyCodeLine{356     \mbox{\hyperlink{classv8_1_1internal_1_1Snapshot_a379f04b363d07d48b5f8d9de93fd1b72}{Snapshot::SerializerFlags}} \mbox{\hyperlink{namespacev8_1_1internal_a83b0c194e63513f61999805edd71b125}{flags}}(}
\DoxyCodeLine{357         \mbox{\hyperlink{classv8_1_1internal_1_1Snapshot_a760c65bdc2f235bdac13dcce8e2cc518ace65e2e67544b5284f636904c02a07cd}{Snapshot::kAllowUnknownExternalReferencesForTesting}} |}
\DoxyCodeLine{358         \mbox{\hyperlink{classv8_1_1internal_1_1Snapshot_a760c65bdc2f235bdac13dcce8e2cc518aabc22f967f1e6a6b83971d54b8add5c0}{Snapshot::kAllowActiveIsolateForTesting}} |}
\DoxyCodeLine{359         \mbox{\hyperlink{classv8_1_1internal_1_1Snapshot_a760c65bdc2f235bdac13dcce8e2cc518a8e253c721c4ceeb180b83de3dbb49b24}{Snapshot::kReconstructReadOnlyAndSharedObjectCachesForTesting}});}
\DoxyCodeLine{360     std::vector<Tagged<Context>> contexts\{*default\_context\};}
\DoxyCodeLine{361     std::vector<SerializeEmbedderFieldsCallback> callbacks\{}
\DoxyCodeLine{362         SerializeEmbedderFieldsCallback()\};}
\DoxyCodeLine{363     serialized\_data = \mbox{\hyperlink{classv8_1_1internal_1_1Snapshot_adfd8edefbe96f6c18cd82ea41ef909dd}{Snapshot::Create}}(isolate, \&contexts, callbacks,}
\DoxyCodeLine{364                                        safepoint\_scope, \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_a63d8eefb47468aa3f816fbe26a59466a}{no\_gc}}, \mbox{\hyperlink{namespacev8_1_1internal_a83b0c194e63513f61999805edd71b125}{flags}});}
\DoxyCodeLine{365     auto\_delete\_serialized\_data.reset(serialized\_data.data);}
\DoxyCodeLine{366   \}}
\DoxyCodeLine{367 }
\DoxyCodeLine{368   \textcolor{comment}{// The shared heap is verified on Heap teardown, which performs a global}}
\DoxyCodeLine{369   \textcolor{comment}{// safepoint. Both isolate and new\_isolate are running in the same thread, so}}
\DoxyCodeLine{370   \textcolor{comment}{// park isolate before running new\_isolate to avoid deadlock.}}
\DoxyCodeLine{371   isolate-\/>main\_thread\_local\_isolate()-\/>ExecuteMainThreadWhileParked(}
\DoxyCodeLine{372       [\&serialized\_data]() \{}
\DoxyCodeLine{373         \textcolor{comment}{// Test deserialization.}}
\DoxyCodeLine{374         Isolate* new\_isolate = \mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a6423a355b715a799c8dc800c20dab25c}{Isolate::New}}();}
\DoxyCodeLine{375         std::unique\_ptr<v8::ArrayBuffer::Allocator> array\_buffer\_allocator(}
\DoxyCodeLine{376             \mbox{\hyperlink{classv8_1_1ArrayBuffer_1_1Allocator_a2c95b1213b0a0a2996e1c63194fc6951}{v8::ArrayBuffer::Allocator::NewDefaultAllocator}}());}
\DoxyCodeLine{377         \{}
\DoxyCodeLine{378           \textcolor{comment}{// Set serializer\_enabled() to not install extensions and experimental}}
\DoxyCodeLine{379           \textcolor{comment}{// natives on the new isolate.}}
\DoxyCodeLine{380           \textcolor{comment}{// TODO(v8:10416): This should be a separate setting on the isolate.}}
\DoxyCodeLine{381           new\_isolate-\/>enable\_serializer();}
\DoxyCodeLine{382           new\_isolate-\/>Enter();}
\DoxyCodeLine{383           new\_isolate-\/>set\_snapshot\_blob(\&serialized\_data);}
\DoxyCodeLine{384           new\_isolate-\/>set\_array\_buffer\_allocator(array\_buffer\_allocator.get());}
\DoxyCodeLine{385           \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1Snapshot_a5054ae7a1ee4b2db6052099fbbddb401}{Snapshot::Initialize}}(new\_isolate));}
\DoxyCodeLine{386 }
\DoxyCodeLine{387           HandleScope scope(new\_isolate);}
\DoxyCodeLine{388           DirectHandle<Context> new\_native\_context =}
\DoxyCodeLine{389               new\_isolate-\/>bootstrapper()-\/>CreateEnvironmentForTesting();}
\DoxyCodeLine{390           \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(IsNativeContext(*new\_native\_context));}
\DoxyCodeLine{391 }
\DoxyCodeLine{392 \textcolor{preprocessor}{\#ifdef VERIFY\_HEAP}}
\DoxyCodeLine{393           \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.verify\_heap)}
\DoxyCodeLine{394             \mbox{\hyperlink{classv8_1_1internal_1_1HeapVerifier_a878e740480f44ee5b0dc9f5cce43bfa1}{HeapVerifier::VerifyHeap}}(new\_isolate-\/>heap());}
\DoxyCodeLine{395 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// VERIFY\_HEAP}}
\DoxyCodeLine{396         \}}
\DoxyCodeLine{397         new\_isolate-\/>Exit();}
\DoxyCodeLine{398         \mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a812b9ea4fd4762413aadb32799e75590}{Isolate::Delete}}(new\_isolate);}
\DoxyCodeLine{399       \});}
\DoxyCodeLine{400 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Isolate\+::bootstrapper(), CHECK, v8\+::internal\+::\+Heap\+::\+Collect\+All\+Available\+Garbage(), Create(), v8\+::internal\+::\+Bootstrapper\+::\+Create\+Environment\+For\+Testing(), v8\+::\+Startup\+Data\+::data, v8\+::internal\+::\+Isolate\+::\+Delete(), v8\+::internal\+::\+Isolate\+::enable\+\_\+serializer(), v8\+::internal\+::\+Isolate\+::\+Enter(), v8\+::internal\+::\+Local\+Isolate\+::\+Execute\+Main\+Thread\+While\+Parked(), v8\+::internal\+::\+Isolate\+::\+Exit(), v8\+::internal\+::flags, v8\+::internal\+::\+Isolate\+::has\+\_\+shared\+\_\+space(), v8\+::internal\+::\+Isolate\+::heap(), Initialize(), k\+Allow\+Active\+Isolate\+For\+Testing, k\+Allow\+Unknown\+External\+References\+For\+Testing, v8\+::internal\+::k\+Global, v8\+::internal\+::k\+Isolate, k\+Reconstruct\+Read\+Only\+And\+Shared\+Object\+Caches\+For\+Testing, v8\+::internal\+::\+Isolate\+::main\+\_\+thread\+\_\+local\+\_\+isolate(), v8\+::internal\+::\+Isolate\+::\+New(), v8\+::\+Array\+Buffer\+::\+Allocator\+::\+New\+Default\+Allocator(), v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::no\+\_\+gc, v8\+::internal\+::\+Isolate\+::set\+\_\+array\+\_\+buffer\+\_\+allocator(), v8\+::internal\+::v8\+\_\+flags, and v8\+::internal\+::\+Heap\+Verifier\+::\+Verify\+Heap().



Referenced by v8\+::\+Shell\+::\+Run\+Main(), and v8\+::internal\+::\+RUNTIME\+\_\+\+FUNCTION().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1Snapshot_a28b4f9df415675bda833d449e659206b_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1Snapshot_a28b4f9df415675bda833d449e659206b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1Snapshot_ac7475cbfaf27fd8c68f1f2833f1db761}\label{classv8_1_1internal_1_1Snapshot_ac7475cbfaf27fd8c68f1f2833f1db761}} 
\index{v8::internal::Snapshot@{v8::internal::Snapshot}!ShouldVerifyChecksum@{ShouldVerifyChecksum}}
\index{ShouldVerifyChecksum@{ShouldVerifyChecksum}!v8::internal::Snapshot@{v8::internal::Snapshot}}
\doxysubsubsection{\texorpdfstring{ShouldVerifyChecksum()}{ShouldVerifyChecksum()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Snapshot\+::\+Should\+Verify\+Checksum (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1StartupData}{v8\+::\+Startup\+Data}} $\ast$}]{data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 25 of file snapshot-\/empty.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{25                                                              \{}
\DoxyCodeLine{26   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{27 \}}

\end{DoxyCode}


Referenced by Initialize().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1Snapshot_ac7475cbfaf27fd8c68f1f2833f1db761_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1Snapshot_ad186fe56fe8f495f0aabd8bdb2b658c4}\label{classv8_1_1internal_1_1Snapshot_ad186fe56fe8f495f0aabd8bdb2b658c4}} 
\index{v8::internal::Snapshot@{v8::internal::Snapshot}!VerifyChecksum@{VerifyChecksum}}
\index{VerifyChecksum@{VerifyChecksum}!v8::internal::Snapshot@{v8::internal::Snapshot}}
\doxysubsubsection{\texorpdfstring{VerifyChecksum()}{VerifyChecksum()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Snapshot\+::\+Verify\+Checksum (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1StartupData}{v8\+::\+Startup\+Data}} $\ast$}]{data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 641 of file snapshot.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{641                                                        \{}
\DoxyCodeLine{642   base::ElapsedTimer timer;}
\DoxyCodeLine{643   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.profile\_deserialization) timer.Start();}
\DoxyCodeLine{644   uint32\_t expected = \mbox{\hyperlink{classv8_1_1internal_1_1Snapshot_a5d3efbaa512b46de1c272736f763afc4}{GetExpectedChecksum}}(data);}
\DoxyCodeLine{645   uint32\_t \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} = \mbox{\hyperlink{classv8_1_1internal_1_1Snapshot_a9a393abecf55dc1e4d72eb4b5f922580}{CalculateChecksum}}(data);}
\DoxyCodeLine{646   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.profile\_deserialization) \{}
\DoxyCodeLine{647     \textcolor{keywordtype}{double} ms = timer.Elapsed().InMillisecondsF();}
\DoxyCodeLine{648     \mbox{\hyperlink{namespacev8_1_1internal_a3430752cde9f29d73e97ceed1bce0856}{PrintF}}(\textcolor{stringliteral}{"{}[Verifying snapshot checksum took \%0.3f ms]\(\backslash\)n"{}}, ms);}
\DoxyCodeLine{649   \}}
\DoxyCodeLine{650   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} == expected;}
\DoxyCodeLine{651 \}}

\end{DoxyCode}


References Calculate\+Checksum(), v8\+::base\+::\+Elapsed\+Timer\+::\+Elapsed(), Get\+Expected\+Checksum(), v8\+::base\+::\+Time\+Delta\+::\+In\+Milliseconds\+F(), v8\+::internal\+::\+Print\+F(), v8\+::base\+::internal\+::result, v8\+::base\+::\+Elapsed\+Timer\+::\+Start(), and v8\+::internal\+::v8\+\_\+flags.



Referenced by v8\+::\+Startup\+Data\+::\+Can\+Be\+Rehashed(), Create(), and Initialize().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1Snapshot_ad186fe56fe8f495f0aabd8bdb2b658c4_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1Snapshot_ad186fe56fe8f495f0aabd8bdb2b658c4_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1Snapshot_a030f9901da30eea3408d71a83aaabeb8}\label{classv8_1_1internal_1_1Snapshot_a030f9901da30eea3408d71a83aaabeb8}} 
\index{v8::internal::Snapshot@{v8::internal::Snapshot}!VersionIsValid@{VersionIsValid}}
\index{VersionIsValid@{VersionIsValid}!v8::internal::Snapshot@{v8::internal::Snapshot}}
\doxysubsubsection{\texorpdfstring{VersionIsValid()}{VersionIsValid()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Snapshot\+::\+Version\+Is\+Valid (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1StartupData}{v8\+::\+Startup\+Data}} $\ast$}]{data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 164 of file snapshot.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{164                                                        \{}
\DoxyCodeLine{165   \textcolor{keywordtype}{char} version[SnapshotImpl::kVersionStringLength];}
\DoxyCodeLine{166   memset(version, 0, SnapshotImpl::kVersionStringLength);}
\DoxyCodeLine{167   \mbox{\hyperlink{src_2base_2logging_8h_a45a0717f39b7011dc823c1fe7b83e6fc}{CHECK\_LT}}(}
\DoxyCodeLine{168       SnapshotImpl::kVersionStringOffset + SnapshotImpl::kVersionStringLength,}
\DoxyCodeLine{169       \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(data-\/>\mbox{\hyperlink{classv8_1_1StartupData_a2f797e167b2bebd18ddca83dedda6ffa}{raw\_size}}));}
\DoxyCodeLine{170   \mbox{\hyperlink{classv8_1_1internal_1_1Version_ac3e2e7834db973745857ddf6749d05d6}{Version::GetString}}(}
\DoxyCodeLine{171       base::Vector<char>(version, SnapshotImpl::kVersionStringLength));}
\DoxyCodeLine{172   \textcolor{keywordflow}{return} strncmp(version, data-\/>\mbox{\hyperlink{classv8_1_1StartupData_a8daf0c5282d7c465988757dc4ecda1af}{data}} + SnapshotImpl::kVersionStringOffset,}
\DoxyCodeLine{173                  SnapshotImpl::kVersionStringLength) == 0;}
\DoxyCodeLine{174 \}}

\end{DoxyCode}


References CHECK\+\_\+\+LT, v8\+::\+Startup\+Data\+::data, v8\+::internal\+::\+Version\+::\+Get\+String(), and v8\+::\+Startup\+Data\+::raw\+\_\+size.



Referenced by v8\+::internal\+::anonymous\+\_\+namespace\{snapshot.\+cc\}\+::\+Snapshot\+Impl\+::\+Check\+Version(), and v8\+::\+Startup\+Data\+::\+Is\+Valid().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1Snapshot_a030f9901da30eea3408d71a83aaabeb8_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1Snapshot_a030f9901da30eea3408d71a83aaabeb8_icgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1Snapshot_a735b7d274e3746b242f684cd22a651d8}\label{classv8_1_1internal_1_1Snapshot_a735b7d274e3746b242f684cd22a651d8}} 
\index{v8::internal::Snapshot@{v8::internal::Snapshot}!kDefaultSerializerFlags@{kDefaultSerializerFlags}}
\index{kDefaultSerializerFlags@{kDefaultSerializerFlags}!v8::internal::Snapshot@{v8::internal::Snapshot}}
\doxysubsubsection{\texorpdfstring{kDefaultSerializerFlags}{kDefaultSerializerFlags}}
{\footnotesize\ttfamily constexpr \mbox{\hyperlink{src_2base_2macros_8h_ab08e353943a53678ac6baafc678f2d81}{V8\+\_\+\+EXPORT\+\_\+\+PRIVATE}} \mbox{\hyperlink{classv8_1_1internal_1_1Snapshot_a379f04b363d07d48b5f8d9de93fd1b72}{Serializer\+Flags}} v8\+::internal\+::\+Snapshot\+::k\+Default\+Serializer\+Flags\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=}
\DoxyCodeLine{      \{\}}

\end{DoxyCode}


Definition at line 57 of file snapshot.\+h.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/snapshot/\mbox{\hyperlink{snapshot_8h}{snapshot.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/snapshot/\mbox{\hyperlink{snapshot-empty_8cc}{snapshot-\/empty.\+cc}}\item 
/mnt/\+V8\+Source\+Code/src/snapshot/\mbox{\hyperlink{snapshot-external_8cc}{snapshot-\/external.\+cc}}\item 
/mnt/\+V8\+Source\+Code/src/snapshot/\mbox{\hyperlink{snapshot_8cc}{snapshot.\+cc}}\end{DoxyCompactItemize}
