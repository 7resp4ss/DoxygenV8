\hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03}{}\doxysection{v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/riscv.cc\} Namespace Reference}
\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03}\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_1_1RegisterAllocator}{Register\+Allocator}}
\end{DoxyCompactItemize}
\doxysubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum class \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a0d110fe3df4bdb429c5fa075b1d89585}{Arguments\+Element\+Type}} \{ \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a0d110fe3df4bdb429c5fa075b1d89585abd440e87576477e8111424302a843c30}{k\+Raw}}
, \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a0d110fe3df4bdb429c5fa075b1d89585a935dd4ea3c292e9f09eccf28dcbdc5f9}{k\+Handle}}
 \}
\item 
enum class \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_aea3b4f8894952c336bdf467a8de3e294}{Osr\+Source\+Tier}} \{ \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_aea3b4f8894952c336bdf467a8de3e294a92e0bc007aafec6cf5d27986949b3b0f}{k\+Interpreter}}
, \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_aea3b4f8894952c336bdf467a8de3e294a65ffc7d8b4dceb3661bbcf4c6c12118d}{k\+Baseline}}
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a3b39e44393b8bc3b675b813bfcd22e44}{Generate\+\_\+\+Push\+Arguments}} (\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$masm, \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} array, \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} argc, \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} scratch, \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} scratch2, \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a0d110fe3df4bdb429c5fa075b1d89585}{Arguments\+Element\+Type}} element\+\_\+type)
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_aa19fc5985af5c2027ac67996387e9041}{Generate\+\_\+\+JSBuiltins\+Construct\+Stub\+Helper}} (\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$masm)
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a3a3e4e6f0bd5eb7c6adbaf79b3db8381}{Generate\+\_\+\+JSEntry\+Variant}} (\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$masm, \mbox{\hyperlink{classv8_1_1internal_1_1StackFrame_a539db1a450ec470771bfb8f4995cee9b}{Stack\+Frame\+::\+Type}} type, \mbox{\hyperlink{namespacev8_1_1internal_acc2e164143496f18b5ec68f8ab70af52}{Builtin}} entry\+\_\+trampoline)
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a88e8918bf08ea27756283772df27b208}{Reset\+Shared\+Function\+Info\+Age}} (\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$masm, \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} sfi)
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a020395d7b29a1f4b8d209e32acf2a31b}{Reset\+JSFunction\+Age}} (\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$masm, \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} js\+\_\+function, \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} scratch)
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a280c0cb77d1a55bf329b363654875585}{Reset\+Feedback\+Vector\+Osr\+Urgency}} (\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$masm, \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} feedback\+\_\+vector, \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} scratch)
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a510cf5bb8166333fb47074b69c25f9fd}{New\+Implicit\+Receiver}} (\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$masm)
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a8ce0ba7e0b4da1b65a34a68c6836823c}{Generate\+\_\+\+Continue\+To\+Builtin\+Helper}} (\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$masm, \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} javascript\+\_\+builtin, \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} with\+\_\+result)
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a4036582e5667172d26eebb07745e2c87}{Generate\+\_\+\+OSREntry}} (\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$masm, \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} entry\+\_\+address, \mbox{\hyperlink{classv8_1_1internal_1_1Operand}{Operand}} offset=\mbox{\hyperlink{classv8_1_1internal_1_1Operand}{Operand}}(0))
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a5925f6ff9909d3d54d11de7d92f4a4c0}{On\+Stack\+Replacement}} (\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$masm, \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_aea3b4f8894952c336bdf467a8de3e294}{Osr\+Source\+Tier}} source, \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} maybe\+\_\+target\+\_\+code, \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} expected\+\_\+param\+\_\+count)
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a2adff34482fb3f5b7480dd9f89593fc0}{Generate\+\_\+\+Allocate\+Space\+And\+Shift\+Existing\+Arguments}} (\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$masm, \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} \mbox{\hyperlink{structv8_1_1internal_1_1count}{count}}, \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} argc\+\_\+in\+\_\+out, \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} pointer\+\_\+to\+\_\+new\+\_\+space\+\_\+out)
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a9edbcb3db1fa6be6b5198aa3e507d30d}{Generate\+\_\+\+Push\+Bound\+Arguments}} (\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$masm)
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a28e35e8b45b2bd6f77fb092eedcbd12e}{Switch\+Simulator\+Stack\+Limit}} (\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$masm)
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a51cf28b23c60985a8feac180366bb71e}{Switch\+To\+The\+Central\+Stack\+If\+Needed}} (\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$masm, \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} argc\+\_\+input, \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} target\+\_\+input, \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} argv\+\_\+input)
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a44589450ac5ecc7a444f1f403202b56a}{Switch\+From\+The\+Central\+Stack\+If\+Needed}} (\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$masm)
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a41c63dcff94b3638bc007682c0deeff9}{Switch\+Stack\+State}} (\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$masm, \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} \mbox{\hyperlink{namespacev8_1_1internal_a2e748ee13f84c923e077d341045b1212}{stack}}, \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} tmp, \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1JumpBuffer_ae01815403be2efcd294f92390cd01fc2}{wasm\+::\+Jump\+Buffer\+::\+Stack\+State}} old\+\_\+state, \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1JumpBuffer_ae01815403be2efcd294f92390cd01fc2}{wasm\+::\+Jump\+Buffer\+::\+Stack\+State}} new\+\_\+state)
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_ab0dbdb6f1cbb8ed561b5a70a243cfecc}{Switch\+Stack\+Pointer\+And\+Simulator\+Stack\+Limit}} (\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$masm, \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} \mbox{\hyperlink{namespacev8_1_1internal_a2e748ee13f84c923e077d341045b1212}{stack}})
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a9912adbad00e4659ac08377d1b450435}{Fill\+Jump\+Buffer}} (\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$masm, \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} \mbox{\hyperlink{namespacev8_1_1internal_a2e748ee13f84c923e077d341045b1212}{stack}}, \mbox{\hyperlink{classv8_1_1internal_1_1Label}{Label}} $\ast$pc, \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} tmp)
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a700d4a9d15fb643ad7c66edc07989ce1}{Load\+Jump\+Buffer}} (\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$masm, \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} \mbox{\hyperlink{namespacev8_1_1internal_a2e748ee13f84c923e077d341045b1212}{stack}}, \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} load\+\_\+pc, \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} tmp, \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1JumpBuffer_ae01815403be2efcd294f92390cd01fc2}{wasm\+::\+Jump\+Buffer\+::\+Stack\+State}} expected\+\_\+state)
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a12ba9cd776917910b109d3651d98e2b3}{Switch\+Stacks}} (\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$masm, \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} old\+\_\+stack, \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} return\+\_\+switch, \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} tmp, const std\+::initializer\+\_\+list$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} $>$ keep)
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_af80f883e5dab7a6c45f4b63f5b0f08dc}{Reload\+Parent\+Stack}} (\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$masm, \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} return\+\_\+reg, \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} return\+\_\+value, \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} context, \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} tmp1, \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} tmp2, \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} tmp3)
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a4ba6e94487fa2cf3cb12baf0f0361e93}{Restore\+Parent\+Suspender}} (\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$masm, \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} tmp1)
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a701968c3d7f8a96ffcd1639e17dd7760}{Reset\+Stack\+Switch\+Frame\+Stack\+Slots}} (\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$masm)
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a9e57809c6881d2ead61050cb6998808b}{Load\+Target\+Jump\+Buffer}} (\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$masm, \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} target\+\_\+stack, \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} tmp, \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1JumpBuffer_ae01815403be2efcd294f92390cd01fc2}{wasm\+::\+Jump\+Buffer\+::\+Stack\+State}} expected\+\_\+state)
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a58db8f0d25ca9131c8313459e91f4d4a}{Generate\+\_\+\+Wasm\+Resume\+Helper}} (\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$masm, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a75774b68b649b298c267415400ebeaf4}{wasm\+::\+On\+Resume}} on\+\_\+resume)
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a4a1d2184c5c38b277b8431d6a612f180}{Switch\+To\+Allocated\+Stack}} (\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$masm, \mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_1_1RegisterAllocator}{Register\+Allocator}} \&regs, \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} wasm\+\_\+instance, \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} wrapper\+\_\+buffer, \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} \&original\+\_\+fp, \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} \&new\+\_\+wrapper\+\_\+buffer, \mbox{\hyperlink{classv8_1_1internal_1_1Label}{Label}} $\ast$suspend)
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a2c0fe09f6ec07daebe777f337bfa5463}{Get\+Context\+From\+Implicit\+Arg}} (\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$masm, \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} data, \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} scratch)
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_adf3b790306440e9e922a1c1e90523bbc}{Switch\+Back\+And\+Return\+Promise}} (\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$masm, \mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_1_1RegisterAllocator}{Register\+Allocator}} \&regs, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ad97a36aa15ff4a0e71c9e8982a5cc460}{wasm\+::\+Promise}} \mbox{\hyperlink{flag-definitions_8h_adaf90f045d5cd2710edd625b8685472a}{mode}}, \mbox{\hyperlink{classv8_1_1internal_1_1Label}{Label}} $\ast$return\+\_\+promise)
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a87543ac60273781b59cfb886d268f662}{Generate\+Exception\+Handling\+Landing\+Pad}} (\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$masm, \mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_1_1RegisterAllocator}{Register\+Allocator}} \&regs, \mbox{\hyperlink{classv8_1_1internal_1_1Label}{Label}} $\ast$return\+\_\+promise)
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_af7ed3660e77e13b0804b0b07c7bcbfb5}{JSTo\+Wasm\+Wrapper\+Helper}} (\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$masm, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ad97a36aa15ff4a0e71c9e8982a5cc460}{wasm\+::\+Promise}} \mbox{\hyperlink{flag-definitions_8h_adaf90f045d5cd2710edd625b8685472a}{mode}})
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a6c17b3068da9c1342b064a6c9a838db0}{Generate\+\_\+\+Deoptimization\+Entry}} (\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$masm, \mbox{\hyperlink{namespacev8_1_1internal_ac8a910d8da4f0e471c17479f76af3625}{Deoptimize\+Kind}} deopt\+\_\+kind)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static constexpr \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_aa2734d3051a1fa7b76ef91f584b8c06d}{k\+Old\+SPRegister}} = s9
\item 
static constexpr \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a2a66d90eb3742d0260b82a9b7b554207}{k\+Switch\+Flag\+Register}} = s10
\end{DoxyCompactItemize}


\doxysubsection{Enumeration Type Documentation}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a0d110fe3df4bdb429c5fa075b1d89585}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a0d110fe3df4bdb429c5fa075b1d89585}} 
\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}!ArgumentsElementType@{ArgumentsElementType}}
\index{ArgumentsElementType@{ArgumentsElementType}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{ArgumentsElementType}{ArgumentsElementType}}
{\footnotesize\ttfamily enum v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/riscv.\+cc\}\+::\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a0d110fe3df4bdb429c5fa075b1d89585}{Arguments\+Element\+Type}}\hspace{0.3cm}{\ttfamily [strong]}}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{kRaw@{kRaw}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}}\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}!kRaw@{kRaw}}}\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a0d110fe3df4bdb429c5fa075b1d89585abd440e87576477e8111424302a843c30}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a0d110fe3df4bdb429c5fa075b1d89585abd440e87576477e8111424302a843c30}} 
k\+Raw&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{kHandle@{kHandle}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}}\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}!kHandle@{kHandle}}}\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a0d110fe3df4bdb429c5fa075b1d89585a935dd4ea3c292e9f09eccf28dcbdc5f9}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a0d110fe3df4bdb429c5fa075b1d89585a935dd4ea3c292e9f09eccf28dcbdc5f9}} 
k\+Handle&\\
\hline

\end{DoxyEnumFields}


Definition at line 49 of file builtins-\/riscv.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{49                                 \{}
\DoxyCodeLine{50   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a0d110fe3df4bdb429c5fa075b1d89585abd440e87576477e8111424302a843c30}{kRaw}},    \textcolor{comment}{// Push arguments as they are.}}
\DoxyCodeLine{51   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a0d110fe3df4bdb429c5fa075b1d89585a935dd4ea3c292e9f09eccf28dcbdc5f9}{kHandle}}  \textcolor{comment}{// Dereference arguments before pushing.}}
\DoxyCodeLine{52 \};}

\end{DoxyCode}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_aea3b4f8894952c336bdf467a8de3e294}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_aea3b4f8894952c336bdf467a8de3e294}} 
\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}!OsrSourceTier@{OsrSourceTier}}
\index{OsrSourceTier@{OsrSourceTier}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{OsrSourceTier}{OsrSourceTier}}
{\footnotesize\ttfamily enum v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/riscv.\+cc\}\+::\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_aea3b4f8894952c336bdf467a8de3e294}{Osr\+Source\+Tier}}\hspace{0.3cm}{\ttfamily [strong]}}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{kInterpreter@{kInterpreter}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}}\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}!kInterpreter@{kInterpreter}}}\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_aea3b4f8894952c336bdf467a8de3e294a92e0bc007aafec6cf5d27986949b3b0f}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_aea3b4f8894952c336bdf467a8de3e294a92e0bc007aafec6cf5d27986949b3b0f}} 
k\+Interpreter&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{kBaseline@{kBaseline}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}}\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}!kBaseline@{kBaseline}}}\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_aea3b4f8894952c336bdf467a8de3e294a65ffc7d8b4dceb3661bbcf4c6c12118d}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_aea3b4f8894952c336bdf467a8de3e294a65ffc7d8b4dceb3661bbcf4c6c12118d}} 
k\+Baseline&\\
\hline

\end{DoxyEnumFields}


Definition at line 1985 of file builtins-\/riscv.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1985                          \{}
\DoxyCodeLine{1986   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_aea3b4f8894952c336bdf467a8de3e294a92e0bc007aafec6cf5d27986949b3b0f}{kInterpreter}},}
\DoxyCodeLine{1987   \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_aef575f4d4842a6dcdb81b8c172df9eb5a2a11c6a5dff5cdb0647ee1f3988baf5f}{kBaseline}},}
\DoxyCodeLine{1988 \};}

\end{DoxyCode}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a9912adbad00e4659ac08377d1b450435}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a9912adbad00e4659ac08377d1b450435}} 
\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}!FillJumpBuffer@{FillJumpBuffer}}
\index{FillJumpBuffer@{FillJumpBuffer}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{FillJumpBuffer()}{FillJumpBuffer()}}
{\footnotesize\ttfamily void v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/riscv.\+cc\}\+::Fill\+Jump\+Buffer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$}]{masm,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}}}]{stack,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Label}{Label}} $\ast$}]{pc,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}}}]{tmp }\end{DoxyParamCaption})}



Definition at line 3629 of file builtins-\/riscv.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3630                                   \{}
\DoxyCodeLine{3631   \mbox{\hyperlink{codegen_2assembler_8h_aa9b6b07d630b3249a10dea3be092a204}{ASM\_CODE\_COMMENT}}(masm);}
\DoxyCodeLine{3632   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} mv(tmp, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb72381f9ca78a1b2f55c6946e319a0f}{sp}});}
\DoxyCodeLine{3633   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreWord(tmp, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(\mbox{\hyperlink{namespacev8_1_1internal_a2e748ee13f84c923e077d341045b1212}{stack}}, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a2015e816a45126eb4c8c8fadc85bf74b}{wasm::kStackSpOffset}}));}
\DoxyCodeLine{3634   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreWord(fp, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(\mbox{\hyperlink{namespacev8_1_1internal_a2e748ee13f84c923e077d341045b1212}{stack}}, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a203b9df1763390733ba46e44ce41b244}{wasm::kStackFpOffset}}));}
\DoxyCodeLine{3635   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadStackLimit(tmp, StackLimitKind::kRealStackLimit);}
\DoxyCodeLine{3636   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreWord(tmp, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(\mbox{\hyperlink{namespacev8_1_1internal_a2e748ee13f84c923e077d341045b1212}{stack}}, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_aa22fc940602a0e614eb09b39823e3dd2}{wasm::kStackLimitOffset}}));}
\DoxyCodeLine{3637   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadAddress(tmp, pc);}
\DoxyCodeLine{3638   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreWord(tmp, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(\mbox{\hyperlink{namespacev8_1_1internal_a2e748ee13f84c923e077d341045b1212}{stack}}, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac046d870819931e0618dfdfc7e5e6905}{wasm::kStackPcOffset}}));}
\DoxyCodeLine{3639 \}}

\end{DoxyCode}


References \+\_\+\+\_\+, ASM\+\_\+\+CODE\+\_\+\+COMMENT, v8\+::internal\+::k\+Real\+Stack\+Limit, v8\+::internal\+::wasm\+::k\+Stack\+Fp\+Offset, v8\+::internal\+::wasm\+::k\+Stack\+Limit\+Offset, v8\+::internal\+::wasm\+::k\+Stack\+Pc\+Offset, v8\+::internal\+::wasm\+::k\+Stack\+Sp\+Offset, and v8\+::internal\+::stack.



Referenced by Generate\+\_\+\+Wasm\+Resume\+Helper(), and Switch\+To\+Allocated\+Stack().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a9912adbad00e4659ac08377d1b450435_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a2adff34482fb3f5b7480dd9f89593fc0}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a2adff34482fb3f5b7480dd9f89593fc0}} 
\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}!Generate\_AllocateSpaceAndShiftExistingArguments@{Generate\_AllocateSpaceAndShiftExistingArguments}}
\index{Generate\_AllocateSpaceAndShiftExistingArguments@{Generate\_AllocateSpaceAndShiftExistingArguments}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{Generate\_AllocateSpaceAndShiftExistingArguments()}{Generate\_AllocateSpaceAndShiftExistingArguments()}}
{\footnotesize\ttfamily void v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/riscv.\+cc\}\+::Generate\+\_\+\+Allocate\+Space\+And\+Shift\+Existing\+Arguments (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$}]{masm,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}}}]{count,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}}}]{argc\+\_\+in\+\_\+out,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}}}]{pointer\+\_\+to\+\_\+new\+\_\+space\+\_\+out }\end{DoxyParamCaption})}



Definition at line 2393 of file builtins-\/riscv.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2395                                        \{}
\DoxyCodeLine{2396   UseScratchRegisterScope temps(masm);}
\DoxyCodeLine{2397   \mbox{\hyperlink{namespacev8_1_1internal_1_1ETWJITInterface_a6782da00e5166055555c65db3a9ec7eb}{Register}} scratch1 = temps.Acquire();}
\DoxyCodeLine{2398   \mbox{\hyperlink{namespacev8_1_1internal_1_1ETWJITInterface_a6782da00e5166055555c65db3a9ec7eb}{Register}} scratch2 = temps.Acquire();}
\DoxyCodeLine{2399   \mbox{\hyperlink{namespacev8_1_1internal_1_1ETWJITInterface_a6782da00e5166055555c65db3a9ec7eb}{Register}} scratch3 = temps.Acquire();}
\DoxyCodeLine{2400   \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(!\mbox{\hyperlink{namespacev8_1_1internal_a976c6c26a43011a580e41e6f744290a4}{AreAliased}}(count, argc\_in\_out, pointer\_to\_new\_space\_out, scratch1,}
\DoxyCodeLine{2401                      scratch2));}
\DoxyCodeLine{2402   \mbox{\hyperlink{namespacev8_1_1internal_1_1ETWJITInterface_a6782da00e5166055555c65db3a9ec7eb}{Register}} old\_sp = scratch1;}
\DoxyCodeLine{2403   \mbox{\hyperlink{namespacev8_1_1internal_1_1ETWJITInterface_a6782da00e5166055555c65db3a9ec7eb}{Register}} new\_space = scratch2;}
\DoxyCodeLine{2404   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} mv(old\_sp, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb72381f9ca78a1b2f55c6946e319a0f}{sp}});}
\DoxyCodeLine{2405   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} slli(new\_space, count, \mbox{\hyperlink{namespacev8_1_1internal_a5d2aa789561850efe761ddd6ab7ce4d8}{kSystemPointerSizeLog2}});}
\DoxyCodeLine{2406   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} SubWord(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb72381f9ca78a1b2f55c6946e319a0f}{sp}}, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb72381f9ca78a1b2f55c6946e319a0f}{sp}}, Operand(new\_space));}
\DoxyCodeLine{2407 }
\DoxyCodeLine{2408   \mbox{\hyperlink{namespacev8_1_1internal_1_1ETWJITInterface_a6782da00e5166055555c65db3a9ec7eb}{Register}} \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}} = scratch2;}
\DoxyCodeLine{2409   \mbox{\hyperlink{namespacev8_1_1internal_1_1ETWJITInterface_a6782da00e5166055555c65db3a9ec7eb}{Register}} \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} = scratch3;}
\DoxyCodeLine{2410   \mbox{\hyperlink{namespacev8_1_1internal_1_1ETWJITInterface_a6782da00e5166055555c65db3a9ec7eb}{Register}} dest = pointer\_to\_new\_space\_out;}
\DoxyCodeLine{2411   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} mv(dest, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb72381f9ca78a1b2f55c6946e319a0f}{sp}});}
\DoxyCodeLine{2412   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} CalcScaledAddress(\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}}, old\_sp, argc\_in\_out, \mbox{\hyperlink{namespacev8_1_1internal_a5d2aa789561850efe761ddd6ab7ce4d8}{kSystemPointerSizeLog2}});}
\DoxyCodeLine{2413   \mbox{\hyperlink{namespacev8_1_1internal_1_1interpreter_1_1anonymous__namespace_02interpreter-generator_8cc_03_a219ad4847edd5647586f81d183a15c88}{Label}} loop, done;}
\DoxyCodeLine{2414   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Branch(\&done, \mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21aa5296c25e35b433aabbd501b5e1af877}{ge}}, old\_sp, Operand(\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}}));}
\DoxyCodeLine{2415   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} bind(\&loop);}
\DoxyCodeLine{2416   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(old\_sp, 0));}
\DoxyCodeLine{2417   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreWord(\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(dest, 0));}
\DoxyCodeLine{2418   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} AddWord(old\_sp, old\_sp, Operand(\mbox{\hyperlink{namespacev8_1_1internal_a72cbfdfeabb9a401f279f7b80bcff67a}{kSystemPointerSize}}));}
\DoxyCodeLine{2419   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} AddWord(dest, dest, Operand(\mbox{\hyperlink{namespacev8_1_1internal_a72cbfdfeabb9a401f279f7b80bcff67a}{kSystemPointerSize}}));}
\DoxyCodeLine{2420   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Branch(\&loop, \mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a529d6a26a3d0432bbed6a445c8ad28ba}{lt}}, old\_sp, Operand(\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}}));}
\DoxyCodeLine{2421   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} bind(\&done);}
\DoxyCodeLine{2422 }
\DoxyCodeLine{2423   \textcolor{comment}{// Update total number of arguments.}}
\DoxyCodeLine{2424   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} AddWord(argc\_in\_out, argc\_in\_out, count);}
\DoxyCodeLine{2425 \}}

\end{DoxyCode}


References \+\_\+\+\_\+, v8\+::internal\+::\+Use\+Scratch\+Register\+Scope\+::\+Acquire(), v8\+::internal\+::\+Are\+Aliased(), v8\+::internal\+::\+DCHECK(), v8\+::internal\+::compiler\+::end(), v8\+::internal\+::ge, v8\+::internal\+::k\+System\+Pointer\+Size, v8\+::internal\+::k\+System\+Pointer\+Size\+Log2, v8\+::internal\+::lt, and v8\+::internal\+::value.



Referenced by v8\+::internal\+::\+Builtins\+::\+Generate\+\_\+\+Call\+Or\+Construct\+Forward\+Varargs(), and v8\+::internal\+::\+Builtins\+::\+Generate\+\_\+\+Call\+Or\+Construct\+Varargs().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a2adff34482fb3f5b7480dd9f89593fc0_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a2adff34482fb3f5b7480dd9f89593fc0_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a8ce0ba7e0b4da1b65a34a68c6836823c}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a8ce0ba7e0b4da1b65a34a68c6836823c}} 
\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}!Generate\_ContinueToBuiltinHelper@{Generate\_ContinueToBuiltinHelper}}
\index{Generate\_ContinueToBuiltinHelper@{Generate\_ContinueToBuiltinHelper}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{Generate\_ContinueToBuiltinHelper()}{Generate\_ContinueToBuiltinHelper()}}
{\footnotesize\ttfamily void v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/riscv.\+cc\}\+::Generate\+\_\+\+Continue\+To\+Builtin\+Helper (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$}]{masm,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}}}]{javascript\+\_\+builtin,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}}}]{with\+\_\+result }\end{DoxyParamCaption})}



Definition at line 1890 of file builtins-\/riscv.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1892                                                         \{}
\DoxyCodeLine{1893   \textcolor{keyword}{const} RegisterConfiguration* config(RegisterConfiguration::Default());}
\DoxyCodeLine{1894   \textcolor{keywordtype}{int} allocatable\_register\_count = config-\/>num\_allocatable\_general\_registers();}
\DoxyCodeLine{1895   UseScratchRegisterScope temp(masm);}
\DoxyCodeLine{1896   \mbox{\hyperlink{namespacev8_1_1internal_1_1ETWJITInterface_a6782da00e5166055555c65db3a9ec7eb}{Register}} scratch = temp.Acquire();}
\DoxyCodeLine{1897   \textcolor{keywordflow}{if} (with\_result) \{}
\DoxyCodeLine{1898     \textcolor{keywordflow}{if} (javascript\_builtin) \{}
\DoxyCodeLine{1899       \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Move(scratch, a0);}
\DoxyCodeLine{1900     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1901       \textcolor{comment}{// Overwrite the hole inserted by the deoptimizer with the return value}}
\DoxyCodeLine{1902       \textcolor{comment}{// from the LAZY deopt point.}}
\DoxyCodeLine{1903       \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreWord(}
\DoxyCodeLine{1904           a0, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(}
\DoxyCodeLine{1905                   \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb72381f9ca78a1b2f55c6946e319a0f}{sp}}, config-\/>num\_allocatable\_general\_registers() *}
\DoxyCodeLine{1906                               \mbox{\hyperlink{namespacev8_1_1internal_a72cbfdfeabb9a401f279f7b80bcff67a}{kSystemPointerSize}} +}
\DoxyCodeLine{1907                           BuiltinContinuationFrameConstants::kFixedFrameSize));}
\DoxyCodeLine{1908     \}}
\DoxyCodeLine{1909   \}}
\DoxyCodeLine{1910   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = allocatable\_register\_count -\/ 1; \mbox{\hyperlink{namespacev8_1_1internal}{i}} >= 0; -\/-\/\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}) \{}
\DoxyCodeLine{1911     \textcolor{keywordtype}{int} \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}} = config-\/>GetAllocatableGeneralCode(\mbox{\hyperlink{namespacev8_1_1internal}{i}});}
\DoxyCodeLine{1912     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Pop(Register::from\_code(\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}));}
\DoxyCodeLine{1913     \textcolor{keywordflow}{if} (javascript\_builtin \&\& \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}} == \mbox{\hyperlink{namespacev8_1_1internal_a5a0157313321a5134dc824502f239d61}{kJavaScriptCallArgCountRegister}}.\mbox{\hyperlink{classv8_1_1internal_1_1RegisterBase_ae4f77df87f77114f40f3e8968e1c4a12}{code}}()) \{}
\DoxyCodeLine{1914       \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} \mbox{\hyperlink{namespacev8_1_1internal_1_1TorqueRuntimeMacroShims_1_1CodeStubAssembler_acb96b34c2ceba4e634640be458b61f49}{SmiUntag}}(Register::from\_code(\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}));}
\DoxyCodeLine{1915     \}}
\DoxyCodeLine{1916   \}}
\DoxyCodeLine{1917 }
\DoxyCodeLine{1918   \textcolor{keywordflow}{if} (with\_result \&\& javascript\_builtin) \{}
\DoxyCodeLine{1919     \textcolor{comment}{// Overwrite the hole inserted by the deoptimizer with the return value from}}
\DoxyCodeLine{1920     \textcolor{comment}{// the LAZY deopt point. t0 contains the arguments count, the return value}}
\DoxyCodeLine{1921     \textcolor{comment}{// from LAZY is always the last argument.}}
\DoxyCodeLine{1922     constexpr \textcolor{keywordtype}{int} return\_value\_offset =}
\DoxyCodeLine{1923         BuiltinContinuationFrameConstants::kFixedSlotCount -\/}
\DoxyCodeLine{1924         \mbox{\hyperlink{namespacev8_1_1internal_a659859b64f26854bf73a39399d39bed2}{kJSArgcReceiverSlots}};}
\DoxyCodeLine{1925     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} AddWord(a0, a0, Operand(return\_value\_offset));}
\DoxyCodeLine{1926     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} CalcScaledAddress(t0, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb72381f9ca78a1b2f55c6946e319a0f}{sp}}, a0, \mbox{\hyperlink{namespacev8_1_1internal_a5d2aa789561850efe761ddd6ab7ce4d8}{kSystemPointerSizeLog2}});}
\DoxyCodeLine{1927     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreWord(scratch, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(t0));}
\DoxyCodeLine{1928     \textcolor{comment}{// Recover arguments count.}}
\DoxyCodeLine{1929     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} SubWord(a0, a0, Operand(return\_value\_offset));}
\DoxyCodeLine{1930   \}}
\DoxyCodeLine{1931 }
\DoxyCodeLine{1932   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(}
\DoxyCodeLine{1933       fp,}
\DoxyCodeLine{1934       \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb72381f9ca78a1b2f55c6946e319a0f}{sp}}, BuiltinContinuationFrameConstants::kFixedFrameSizeFromFp));}
\DoxyCodeLine{1935   \textcolor{comment}{// Load builtin index (stored as a Smi) and use it to get the builtin start}}
\DoxyCodeLine{1936   \textcolor{comment}{// address from the builtins table.}}
\DoxyCodeLine{1937   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Pop(t6);}
\DoxyCodeLine{1938   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} AddWord(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb72381f9ca78a1b2f55c6946e319a0f}{sp}}, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb72381f9ca78a1b2f55c6946e319a0f}{sp}},}
\DoxyCodeLine{1939              Operand(BuiltinContinuationFrameConstants::kFixedFrameSizeFromFp));}
\DoxyCodeLine{1940   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Pop(ra);}
\DoxyCodeLine{1941   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadEntryFromBuiltinIndex(t6, t6);}
\DoxyCodeLine{1942   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Jump(t6);}
\DoxyCodeLine{1943 \}}

\end{DoxyCode}


References \+\_\+\+\_\+, v8\+::internal\+::\+Use\+Scratch\+Register\+Scope\+::\+Acquire(), v8\+::internal\+::\+Register\+Base$<$ Sub\+Type, k\+After\+Last\+Register $>$\+::code(), code, v8\+::internal\+::\+Register\+Configuration\+::\+Default(), v8\+::internal\+::\+Register\+::from\+\_\+code(), v8\+::internal\+::\+Register\+Configuration\+::\+Get\+Allocatable\+General\+Code(), v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::i, v8\+::internal\+::\+Typed\+Frame\+Constants\+::k\+Fixed\+Frame\+Size, v8\+::internal\+::\+Typed\+Frame\+Constants\+::k\+Fixed\+Frame\+Size\+From\+Fp, v8\+::internal\+::\+Typed\+Frame\+Constants\+::k\+Fixed\+Slot\+Count, v8\+::internal\+::k\+Java\+Script\+Call\+Arg\+Count\+Register, v8\+::internal\+::k\+JSArgc\+Receiver\+Slots, v8\+::internal\+::k\+System\+Pointer\+Size, v8\+::internal\+::k\+System\+Pointer\+Size\+Log2, v8\+::internal\+::\+Register\+Configuration\+::num\+\_\+allocatable\+\_\+general\+\_\+registers(), and v8\+::internal\+::\+Torque\+Runtime\+Macro\+Shims\+::\+Code\+Stub\+Assembler\+::\+Smi\+Untag().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a8ce0ba7e0b4da1b65a34a68c6836823c_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a6c17b3068da9c1342b064a6c9a838db0}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a6c17b3068da9c1342b064a6c9a838db0}} 
\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}!Generate\_DeoptimizationEntry@{Generate\_DeoptimizationEntry}}
\index{Generate\_DeoptimizationEntry@{Generate\_DeoptimizationEntry}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{Generate\_DeoptimizationEntry()}{Generate\_DeoptimizationEntry()}}
{\footnotesize\ttfamily void v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/riscv.\+cc\}\+::Generate\+\_\+\+Deoptimization\+Entry (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$}]{masm,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_ac8a910d8da4f0e471c17479f76af3625}{Deoptimize\+Kind}}}]{deopt\+\_\+kind }\end{DoxyParamCaption})}



Definition at line 4792 of file builtins-\/riscv.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4793                                                              \{}
\DoxyCodeLine{4794   Isolate* isolate = masm-\/>isolate();}
\DoxyCodeLine{4795 }
\DoxyCodeLine{4796   \textcolor{comment}{// Unlike on ARM we don't save all the registers, just the useful ones.}}
\DoxyCodeLine{4797   \textcolor{comment}{// For the rest, there are gaps on the stack, so the offsets remain the same.}}
\DoxyCodeLine{4798   \textcolor{keyword}{const} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal_a47b347cc324221a47339bedca96ce81d}{kNumberOfRegisters}} = \mbox{\hyperlink{namespacev8_1_1internal_afaac3cc4a40f6f5494b861f6313bf922}{Register::kNumRegisters}};}
\DoxyCodeLine{4799 }
\DoxyCodeLine{4800   \mbox{\hyperlink{namespacev8_1_1internal_a56a42bc7828cb67b2ccd0904fcad6608}{RegList}} restored\_regs = \mbox{\hyperlink{namespacev8_1_1internal_aac4c60098e577833012c1ca7df420af5}{kJSCallerSaved}} | \mbox{\hyperlink{reglist-arm64_8h_acd6b69322c0921c70f41102c969b106b}{kCalleeSaved}};}
\DoxyCodeLine{4801   \mbox{\hyperlink{namespacev8_1_1internal_a56a42bc7828cb67b2ccd0904fcad6608}{RegList}} saved\_regs = restored\_regs | \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb72381f9ca78a1b2f55c6946e319a0f}{sp}} | ra;}
\DoxyCodeLine{4802 }
\DoxyCodeLine{4803   \textcolor{keyword}{const} \textcolor{keywordtype}{int} kDoubleRegsSize = \mbox{\hyperlink{namespacev8_1_1internal_ada67458c5a8e8c0ade0017e5d3c56fd3}{kDoubleSize}} * \mbox{\hyperlink{namespacev8_1_1internal_afaac3cc4a40f6f5494b861f6313bf922}{DoubleRegister::kNumRegisters}};}
\DoxyCodeLine{4804 }
\DoxyCodeLine{4805   \textcolor{comment}{// Save all double FPU registers before messing with them.}}
\DoxyCodeLine{4806   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} SubWord(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb72381f9ca78a1b2f55c6946e319a0f}{sp}}, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb72381f9ca78a1b2f55c6946e319a0f}{sp}}, Operand(kDoubleRegsSize));}
\DoxyCodeLine{4807   \textcolor{keyword}{const} RegisterConfiguration* config = RegisterConfiguration::Default();}
\DoxyCodeLine{4808   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < config-\/>num\_allocatable\_double\_registers(); ++\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}) \{}
\DoxyCodeLine{4809     \textcolor{keywordtype}{int} \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}} = config-\/>GetAllocatableDoubleCode(\mbox{\hyperlink{namespacev8_1_1internal}{i}});}
\DoxyCodeLine{4810     \textcolor{keyword}{const} \mbox{\hyperlink{namespacev8_1_1internal_a1c5661c973602b649955ae8c21dca0c5}{DoubleRegister}} fpu\_reg = DoubleRegister::from\_code(\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}});}
\DoxyCodeLine{4811     \textcolor{keywordtype}{int} offset = \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}} * \mbox{\hyperlink{namespacev8_1_1internal_ada67458c5a8e8c0ade0017e5d3c56fd3}{kDoubleSize}};}
\DoxyCodeLine{4812     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreDouble(fpu\_reg, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb72381f9ca78a1b2f55c6946e319a0f}{sp}}, offset));}
\DoxyCodeLine{4813   \}}
\DoxyCodeLine{4814 }
\DoxyCodeLine{4815   \textcolor{comment}{// Push saved\_regs (needed to populate FrameDescription::registers\_).}}
\DoxyCodeLine{4816   \textcolor{comment}{// Leave gaps for other registers.}}
\DoxyCodeLine{4817   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} SubWord(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb72381f9ca78a1b2f55c6946e319a0f}{sp}}, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb72381f9ca78a1b2f55c6946e319a0f}{sp}}, \mbox{\hyperlink{namespacev8_1_1internal_a47b347cc324221a47339bedca96ce81d}{kNumberOfRegisters}} * \mbox{\hyperlink{namespacev8_1_1internal_a72cbfdfeabb9a401f279f7b80bcff67a}{kSystemPointerSize}});}
\DoxyCodeLine{4818   \textcolor{keywordflow}{for} (\mbox{\hyperlink{namespaceunibrow_a511cc0636aed6a00d37d3e7cc0ec4e7c}{int16\_t}} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = \mbox{\hyperlink{namespacev8_1_1internal_a47b347cc324221a47339bedca96ce81d}{kNumberOfRegisters}} -\/ 1; \mbox{\hyperlink{namespacev8_1_1internal}{i}} >= 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}}-\/-\/) \{}
\DoxyCodeLine{4819     \textcolor{keywordflow}{if} ((saved\_regs.bits() \& (1 << \mbox{\hyperlink{namespacev8_1_1internal}{i}})) != 0) \{}
\DoxyCodeLine{4820       \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreWord(\mbox{\hyperlink{namespacev8_1_1internal_1_1baseline_1_1detail_a450f5b361fd7a23e53871dbcc351422e}{ToRegister}}(\mbox{\hyperlink{namespacev8_1_1internal}{i}}), \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb72381f9ca78a1b2f55c6946e319a0f}{sp}}, \mbox{\hyperlink{namespacev8_1_1internal_a72cbfdfeabb9a401f279f7b80bcff67a}{kSystemPointerSize}} * \mbox{\hyperlink{namespacev8_1_1internal}{i}}));}
\DoxyCodeLine{4821     \}}
\DoxyCodeLine{4822   \}}
\DoxyCodeLine{4823 }
\DoxyCodeLine{4824   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} li(a2,}
\DoxyCodeLine{4825         ExternalReference::Create(IsolateAddressId::kCEntryFPAddress, isolate));}
\DoxyCodeLine{4826   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreWord(fp, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(a2));}
\DoxyCodeLine{4827 }
\DoxyCodeLine{4828   \textcolor{keyword}{const} \textcolor{keywordtype}{int} kSavedRegistersAreaSize =}
\DoxyCodeLine{4829       (\mbox{\hyperlink{namespacev8_1_1internal_a47b347cc324221a47339bedca96ce81d}{kNumberOfRegisters}} * \mbox{\hyperlink{namespacev8_1_1internal_a72cbfdfeabb9a401f279f7b80bcff67a}{kSystemPointerSize}}) + kDoubleRegsSize;}
\DoxyCodeLine{4830 }
\DoxyCodeLine{4831   \textcolor{comment}{// Get the address of the location in the code object (a2) (return}}
\DoxyCodeLine{4832   \textcolor{comment}{// address for lazy deoptimization) and compute the fp-\/to-\/sp delta in}}
\DoxyCodeLine{4833   \textcolor{comment}{// register a4.}}
\DoxyCodeLine{4834   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Move(a2, ra);}
\DoxyCodeLine{4835   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} AddWord(a3, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb72381f9ca78a1b2f55c6946e319a0f}{sp}}, Operand(kSavedRegistersAreaSize));}
\DoxyCodeLine{4836 }
\DoxyCodeLine{4837   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} SubWord(a3, fp, a3);}
\DoxyCodeLine{4838 }
\DoxyCodeLine{4839   \textcolor{comment}{// Allocate a new deoptimizer object.}}
\DoxyCodeLine{4840   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} PrepareCallCFunction(5, a4);}
\DoxyCodeLine{4841   \textcolor{comment}{// Pass five arguments, according to n64 ABI.}}
\DoxyCodeLine{4842   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Move(a0, zero\_reg);}
\DoxyCodeLine{4843   \mbox{\hyperlink{namespacev8_1_1internal_1_1interpreter_1_1anonymous__namespace_02interpreter-generator_8cc_03_a219ad4847edd5647586f81d183a15c88}{Label}} context\_check;}
\DoxyCodeLine{4844   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(a1,}
\DoxyCodeLine{4845               \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(fp, CommonFrameConstants::kContextOrFrameTypeOffset));}
\DoxyCodeLine{4846   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} JumpIfSmi(a1, \&context\_check);}
\DoxyCodeLine{4847   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(a0, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(fp, StandardFrameConstants::kFunctionOffset));}
\DoxyCodeLine{4848   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} bind(\&context\_check);}
\DoxyCodeLine{4849   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} li(a1, Operand(\textcolor{keyword}{static\_cast<}int64\_t\textcolor{keyword}{>}(deopt\_kind)));}
\DoxyCodeLine{4850   \textcolor{comment}{// a2: code object address}}
\DoxyCodeLine{4851   \textcolor{comment}{// a3: fp-\/to-\/sp delta}}
\DoxyCodeLine{4852   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} li(a4, ExternalReference::isolate\_address());}
\DoxyCodeLine{4853 }
\DoxyCodeLine{4854   \textcolor{comment}{// Call Deoptimizer::New().}}
\DoxyCodeLine{4855   \{}
\DoxyCodeLine{4856     AllowExternalCallThatCantCauseGC scope(masm);}
\DoxyCodeLine{4857     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} CallCFunction(ExternalReference::new\_deoptimizer\_function(), 5);}
\DoxyCodeLine{4858   \}}
\DoxyCodeLine{4859 }
\DoxyCodeLine{4860   \textcolor{comment}{// Preserve "{}deoptimizer"{} object in register a0 and get the input}}
\DoxyCodeLine{4861   \textcolor{comment}{// frame descriptor pointer to a1 (deoptimizer-\/>input\_);}}
\DoxyCodeLine{4862   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(a1, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(a0, Deoptimizer::input\_offset()));}
\DoxyCodeLine{4863 }
\DoxyCodeLine{4864   \textcolor{comment}{// Copy core registers into FrameDescription::registers\_[kNumRegisters].}}
\DoxyCodeLine{4865   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{namespacev8_1_1internal_afaac3cc4a40f6f5494b861f6313bf922}{Register::kNumRegisters}}, \mbox{\hyperlink{namespacev8_1_1internal_a47b347cc324221a47339bedca96ce81d}{kNumberOfRegisters}});}
\DoxyCodeLine{4866   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < \mbox{\hyperlink{namespacev8_1_1internal_a47b347cc324221a47339bedca96ce81d}{kNumberOfRegisters}}; \mbox{\hyperlink{namespacev8_1_1internal}{i}}++) \{}
\DoxyCodeLine{4867     \textcolor{keywordtype}{int} offset =}
\DoxyCodeLine{4868         (\mbox{\hyperlink{namespacev8_1_1internal}{i}} * \mbox{\hyperlink{namespacev8_1_1internal_a72cbfdfeabb9a401f279f7b80bcff67a}{kSystemPointerSize}}) + FrameDescription::registers\_offset();}
\DoxyCodeLine{4869     \textcolor{keywordflow}{if} ((saved\_regs.bits() \& (1 << \mbox{\hyperlink{namespacev8_1_1internal}{i}})) != 0) \{}
\DoxyCodeLine{4870       \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(a2, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb72381f9ca78a1b2f55c6946e319a0f}{sp}}, \mbox{\hyperlink{namespacev8_1_1internal}{i}} * \mbox{\hyperlink{namespacev8_1_1internal_a72cbfdfeabb9a401f279f7b80bcff67a}{kSystemPointerSize}}));}
\DoxyCodeLine{4871       \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreWord(a2, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(a1, offset));}
\DoxyCodeLine{4872     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.debug\_code) \{}
\DoxyCodeLine{4873       \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} li(a2, \mbox{\hyperlink{namespacev8_1_1internal_a809260b81b03f968c27263ca3bd5fbcf}{kDebugZapValue}});}
\DoxyCodeLine{4874       \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreWord(a2, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(a1, offset));}
\DoxyCodeLine{4875     \}}
\DoxyCodeLine{4876   \}}
\DoxyCodeLine{4877 }
\DoxyCodeLine{4878   \textcolor{keywordtype}{int} double\_regs\_offset = FrameDescription::double\_registers\_offset();}
\DoxyCodeLine{4879   \textcolor{comment}{// int simd128\_regs\_offset = FrameDescription::simd128\_registers\_offset();}}
\DoxyCodeLine{4880   \textcolor{comment}{//  Copy FPU registers to}}
\DoxyCodeLine{4881   \textcolor{comment}{//  double\_registers\_[DoubleRegister::kNumAllocatableRegisters]}}
\DoxyCodeLine{4882   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < config-\/>num\_allocatable\_double\_registers(); ++\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}) \{}
\DoxyCodeLine{4883     \textcolor{keywordtype}{int} \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}} = config-\/>GetAllocatableDoubleCode(\mbox{\hyperlink{namespacev8_1_1internal}{i}});}
\DoxyCodeLine{4884     \textcolor{keywordtype}{int} dst\_offset = \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}} * \mbox{\hyperlink{namespacev8_1_1internal_ada67458c5a8e8c0ade0017e5d3c56fd3}{kDoubleSize}} + double\_regs\_offset;}
\DoxyCodeLine{4885     \textcolor{keywordtype}{int} src\_offset =}
\DoxyCodeLine{4886         \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}} * \mbox{\hyperlink{namespacev8_1_1internal_ada67458c5a8e8c0ade0017e5d3c56fd3}{kDoubleSize}} + \mbox{\hyperlink{namespacev8_1_1internal_a47b347cc324221a47339bedca96ce81d}{kNumberOfRegisters}} * \mbox{\hyperlink{namespacev8_1_1internal_a72cbfdfeabb9a401f279f7b80bcff67a}{kSystemPointerSize}};}
\DoxyCodeLine{4887     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadDouble(ft0, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb72381f9ca78a1b2f55c6946e319a0f}{sp}}, src\_offset));}
\DoxyCodeLine{4888     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreDouble(ft0, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(a1, dst\_offset));}
\DoxyCodeLine{4889   \}}
\DoxyCodeLine{4890   \textcolor{comment}{// TODO(riscv): Add Simd128 copy}}
\DoxyCodeLine{4891 }
\DoxyCodeLine{4892   \textcolor{comment}{// Remove the saved registers from the stack.}}
\DoxyCodeLine{4893   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} AddWord(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb72381f9ca78a1b2f55c6946e319a0f}{sp}}, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb72381f9ca78a1b2f55c6946e319a0f}{sp}}, Operand(kSavedRegistersAreaSize));}
\DoxyCodeLine{4894 }
\DoxyCodeLine{4895   \textcolor{comment}{// Compute a pointer to the unwinding limit in register a2; that is}}
\DoxyCodeLine{4896   \textcolor{comment}{// the first stack slot not part of the input frame.}}
\DoxyCodeLine{4897   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(a2, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(a1, FrameDescription::frame\_size\_offset()));}
\DoxyCodeLine{4898   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} AddWord(a2, a2, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb72381f9ca78a1b2f55c6946e319a0f}{sp}});}
\DoxyCodeLine{4899 }
\DoxyCodeLine{4900   \textcolor{comment}{// Unwind the stack down to -\/ but not including -\/ the unwinding}}
\DoxyCodeLine{4901   \textcolor{comment}{// limit and copy the contents of the activation frame to the input}}
\DoxyCodeLine{4902   \textcolor{comment}{// frame description.}}
\DoxyCodeLine{4903   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} AddWord(a3, a1, Operand(FrameDescription::frame\_content\_offset()));}
\DoxyCodeLine{4904   \mbox{\hyperlink{namespacev8_1_1internal_1_1interpreter_1_1anonymous__namespace_02interpreter-generator_8cc_03_a219ad4847edd5647586f81d183a15c88}{Label}} pop\_loop;}
\DoxyCodeLine{4905   \mbox{\hyperlink{namespacev8_1_1internal_1_1interpreter_1_1anonymous__namespace_02interpreter-generator_8cc_03_a219ad4847edd5647586f81d183a15c88}{Label}} pop\_loop\_header;}
\DoxyCodeLine{4906   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} BranchShort(\&pop\_loop\_header);}
\DoxyCodeLine{4907   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} bind(\&pop\_loop);}
\DoxyCodeLine{4908   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} pop(a4);}
\DoxyCodeLine{4909   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreWord(a4, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(a3, 0));}
\DoxyCodeLine{4910   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} AddWord(a3, a3, \mbox{\hyperlink{namespacev8_1_1internal_a72cbfdfeabb9a401f279f7b80bcff67a}{kSystemPointerSize}});}
\DoxyCodeLine{4911   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} bind(\&pop\_loop\_header);}
\DoxyCodeLine{4912   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Branch(\&pop\_loop, \mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a8a814088d15799a0fa2bac29d01a1ea7}{ne}}, a2, Operand(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb72381f9ca78a1b2f55c6946e319a0f}{sp}}), Label::Distance::kNear);}
\DoxyCodeLine{4913   \textcolor{comment}{// Compute the output frame in the deoptimizer.}}
\DoxyCodeLine{4914   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1liftoff_ab519066d6365573e2714d3c3b9a285e0}{push}}(a0);  \textcolor{comment}{// Preserve deoptimizer object across call.}}
\DoxyCodeLine{4915   \textcolor{comment}{// a0: deoptimizer object; a1: scratch.}}
\DoxyCodeLine{4916   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} PrepareCallCFunction(1, a1);}
\DoxyCodeLine{4917   \textcolor{comment}{// Call Deoptimizer::ComputeOutputFrames().}}
\DoxyCodeLine{4918   \{}
\DoxyCodeLine{4919     AllowExternalCallThatCantCauseGC scope(masm);}
\DoxyCodeLine{4920     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} CallCFunction(ExternalReference::compute\_output\_frames\_function(), 1);}
\DoxyCodeLine{4921   \}}
\DoxyCodeLine{4922   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} pop(a0);  \textcolor{comment}{// Restore deoptimizer object (class Deoptimizer).}}
\DoxyCodeLine{4923 }
\DoxyCodeLine{4924   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb72381f9ca78a1b2f55c6946e319a0f}{sp}}, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(a0, Deoptimizer::caller\_frame\_top\_offset()));}
\DoxyCodeLine{4925 }
\DoxyCodeLine{4926   \textcolor{comment}{// Replace the current (input) frame with the output frames.}}
\DoxyCodeLine{4927   \mbox{\hyperlink{namespacev8_1_1internal_1_1interpreter_1_1anonymous__namespace_02interpreter-generator_8cc_03_a219ad4847edd5647586f81d183a15c88}{Label}} outer\_push\_loop, inner\_push\_loop, outer\_loop\_header, inner\_loop\_header;}
\DoxyCodeLine{4928   \textcolor{comment}{// Outer loop state: a4 = current "{}FrameDescription** output\_"{},}}
\DoxyCodeLine{4929   \textcolor{comment}{// a1 = one past the last FrameDescription**.}}
\DoxyCodeLine{4930   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Lw(a1, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(a0, Deoptimizer::output\_count\_offset()));}
\DoxyCodeLine{4931   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(a4,}
\DoxyCodeLine{4932               \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(a0, Deoptimizer::output\_offset()));  \textcolor{comment}{// a4 is output\_.}}
\DoxyCodeLine{4933   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} CalcScaledAddress(a1, a4, a1, \mbox{\hyperlink{namespacev8_1_1internal_a5d2aa789561850efe761ddd6ab7ce4d8}{kSystemPointerSizeLog2}});}
\DoxyCodeLine{4934   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} BranchShort(\&outer\_loop\_header);}
\DoxyCodeLine{4935   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} bind(\&outer\_push\_loop);}
\DoxyCodeLine{4936   \textcolor{comment}{// Inner loop state: a2 = current FrameDescription*, a3 = loop index.}}
\DoxyCodeLine{4937   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(a2, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(a4, 0));  \textcolor{comment}{// output\_[ix]}}
\DoxyCodeLine{4938   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(a3, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(a2, FrameDescription::frame\_size\_offset()));}
\DoxyCodeLine{4939   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} BranchShort(\&inner\_loop\_header);}
\DoxyCodeLine{4940   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} bind(\&inner\_push\_loop);}
\DoxyCodeLine{4941   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} SubWord(a3, a3, Operand(\mbox{\hyperlink{namespacev8_1_1internal_a72cbfdfeabb9a401f279f7b80bcff67a}{kSystemPointerSize}}));}
\DoxyCodeLine{4942   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} AddWord(a6, a2, Operand(a3));}
\DoxyCodeLine{4943   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(a7, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(a6, FrameDescription::frame\_content\_offset()));}
\DoxyCodeLine{4944   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1liftoff_ab519066d6365573e2714d3c3b9a285e0}{push}}(a7);}
\DoxyCodeLine{4945   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} bind(\&inner\_loop\_header);}
\DoxyCodeLine{4946   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Branch(\&inner\_push\_loop, \mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a8a814088d15799a0fa2bac29d01a1ea7}{ne}}, a3, Operand(zero\_reg));}
\DoxyCodeLine{4947 }
\DoxyCodeLine{4948   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} AddWord(a4, a4, Operand(\mbox{\hyperlink{namespacev8_1_1internal_a72cbfdfeabb9a401f279f7b80bcff67a}{kSystemPointerSize}}));}
\DoxyCodeLine{4949   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} bind(\&outer\_loop\_header);}
\DoxyCodeLine{4950   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Branch(\&outer\_push\_loop, \mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a529d6a26a3d0432bbed6a445c8ad28ba}{lt}}, a4, Operand(a1));}
\DoxyCodeLine{4951 }
\DoxyCodeLine{4952   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(a1, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(a0, Deoptimizer::input\_offset()));}
\DoxyCodeLine{4953   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < config-\/>num\_allocatable\_double\_registers(); ++\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}) \{}
\DoxyCodeLine{4954     \textcolor{keywordtype}{int} \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}} = config-\/>GetAllocatableDoubleCode(\mbox{\hyperlink{namespacev8_1_1internal}{i}});}
\DoxyCodeLine{4955     \textcolor{keyword}{const} \mbox{\hyperlink{namespacev8_1_1internal_a1c5661c973602b649955ae8c21dca0c5}{DoubleRegister}} fpu\_reg = DoubleRegister::from\_code(\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}});}
\DoxyCodeLine{4956     \textcolor{keywordtype}{int} src\_offset = \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}} * \mbox{\hyperlink{namespacev8_1_1internal_ada67458c5a8e8c0ade0017e5d3c56fd3}{kDoubleSize}} + double\_regs\_offset;}
\DoxyCodeLine{4957     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadDouble(fpu\_reg, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(a1, src\_offset));}
\DoxyCodeLine{4958   \}}
\DoxyCodeLine{4959 }
\DoxyCodeLine{4960   \textcolor{comment}{// Push pc and continuation from the last output frame.}}
\DoxyCodeLine{4961   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(a6, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(a2, FrameDescription::pc\_offset()));}
\DoxyCodeLine{4962   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1liftoff_ab519066d6365573e2714d3c3b9a285e0}{push}}(a6);}
\DoxyCodeLine{4963   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(a6, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(a2, FrameDescription::continuation\_offset()));}
\DoxyCodeLine{4964   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1liftoff_ab519066d6365573e2714d3c3b9a285e0}{push}}(a6);}
\DoxyCodeLine{4965 }
\DoxyCodeLine{4966   \textcolor{comment}{// Technically restoring 't3' should work unless zero\_reg is also restored}}
\DoxyCodeLine{4967   \textcolor{comment}{// but it's safer to check for this.}}
\DoxyCodeLine{4968   \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(!(restored\_regs.has(t3)));}
\DoxyCodeLine{4969   \textcolor{comment}{// Restore the registers from the last output frame.}}
\DoxyCodeLine{4970   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Move(t3, a2);}
\DoxyCodeLine{4971   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = \mbox{\hyperlink{namespacev8_1_1internal_a47b347cc324221a47339bedca96ce81d}{kNumberOfRegisters}} -\/ 1; \mbox{\hyperlink{namespacev8_1_1internal}{i}} >= 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}}-\/-\/) \{}
\DoxyCodeLine{4972     \textcolor{keywordtype}{int} offset =}
\DoxyCodeLine{4973         (\mbox{\hyperlink{namespacev8_1_1internal}{i}} * \mbox{\hyperlink{namespacev8_1_1internal_a72cbfdfeabb9a401f279f7b80bcff67a}{kSystemPointerSize}}) + FrameDescription::registers\_offset();}
\DoxyCodeLine{4974     \textcolor{keywordflow}{if} ((restored\_regs.bits() \& (1 << \mbox{\hyperlink{namespacev8_1_1internal}{i}})) != 0) \{}
\DoxyCodeLine{4975       \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(\mbox{\hyperlink{namespacev8_1_1internal_1_1baseline_1_1detail_a450f5b361fd7a23e53871dbcc351422e}{ToRegister}}(\mbox{\hyperlink{namespacev8_1_1internal}{i}}), \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(t3, offset));}
\DoxyCodeLine{4976     \}}
\DoxyCodeLine{4977   \}}
\DoxyCodeLine{4978 }
\DoxyCodeLine{4979   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} pop(t6);  \textcolor{comment}{// Get continuation, leave pc on stack.}}
\DoxyCodeLine{4980   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} pop(ra);}
\DoxyCodeLine{4981   \mbox{\hyperlink{namespacev8_1_1internal_1_1interpreter_1_1anonymous__namespace_02interpreter-generator_8cc_03_a219ad4847edd5647586f81d183a15c88}{Label}} \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}};}
\DoxyCodeLine{4982   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Branch(\&\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}}, \mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21aef89ff7bd9abfd0deb210fbcadd24123}{eq}}, t6, Operand(zero\_reg));}
\DoxyCodeLine{4983   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Jump(t6);}
\DoxyCodeLine{4984   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} bind(\&\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}});}
\DoxyCodeLine{4985   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Ret();}
\DoxyCodeLine{4986   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} stop();}
\DoxyCodeLine{4987 \}}

\end{DoxyCode}


References \+\_\+\+\_\+, v8\+::internal\+::\+Reg\+List\+Base$<$ Register\+T $>$\+::bits(), v8\+::internal\+::\+Deoptimizer\+::caller\+\_\+frame\+\_\+top\+\_\+offset(), code, v8\+::internal\+::\+Frame\+Description\+::continuation\+\_\+offset(), v8\+::internal\+::\+External\+Reference\+::\+Create(), v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+EQ, v8\+::internal\+::\+Register\+Configuration\+::\+Default(), v8\+::internal\+::compiler\+::end(), v8\+::internal\+::eq, v8\+::internal\+::\+Frame\+Description\+::frame\+\_\+content\+\_\+offset(), v8\+::internal\+::\+Frame\+Description\+::frame\+\_\+size\+\_\+offset(), v8\+::internal\+::\+Register\+Base$<$ Double\+Register, k\+Double\+After\+Last $>$\+::from\+\_\+code(), v8\+::internal\+::\+Register\+Configuration\+::\+Get\+Allocatable\+Double\+Code(), v8\+::internal\+::\+Reg\+List\+Base$<$ Register\+T $>$\+::has(), v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::i, v8\+::internal\+::\+Deoptimizer\+::input\+\_\+offset(), v8\+::internal\+::\+Macro\+Assembler\+Base\+::isolate(), v8\+::internal\+::\+External\+Reference\+::isolate\+\_\+address(), v8\+::internal\+::k\+Callee\+Saved, v8\+::internal\+::\+Common\+Frame\+Constants\+::k\+Context\+Or\+Frame\+Type\+Offset, v8\+::internal\+::k\+Debug\+Zap\+Value, v8\+::internal\+::k\+Double\+Size, v8\+::internal\+::\+Standard\+Frame\+Constants\+::k\+Function\+Offset, v8\+::internal\+::k\+JSCaller\+Saved, v8\+::internal\+::k\+Number\+Of\+Registers, v8\+::internal\+::\+Register\+Base$<$ Register, k\+Reg\+After\+Last $>$\+::k\+Num\+Registers, v8\+::internal\+::\+Register\+Base$<$ Double\+Register, k\+Double\+After\+Last $>$\+::k\+Num\+Registers, v8\+::internal\+::k\+System\+Pointer\+Size, v8\+::internal\+::k\+System\+Pointer\+Size\+Log2, v8\+::internal\+::lt, v8\+::internal\+::ne, v8\+::internal\+::\+Register\+Configuration\+::num\+\_\+allocatable\+\_\+double\+\_\+registers(), v8\+::internal\+::\+Deoptimizer\+::output\+\_\+count\+\_\+offset(), v8\+::internal\+::\+Deoptimizer\+::output\+\_\+offset(), v8\+::internal\+::\+Frame\+Description\+::pc\+\_\+offset(), v8\+::internal\+::wasm\+::liftoff\+::push(), v8\+::internal\+::\+Frame\+Description\+::registers\+\_\+offset(), v8\+::internal\+::\+To\+Register(), and v8\+::internal\+::v8\+\_\+flags.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a6c17b3068da9c1342b064a6c9a838db0_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_aa19fc5985af5c2027ac67996387e9041}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_aa19fc5985af5c2027ac67996387e9041}} 
\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}!Generate\_JSBuiltinsConstructStubHelper@{Generate\_JSBuiltinsConstructStubHelper}}
\index{Generate\_JSBuiltinsConstructStubHelper@{Generate\_JSBuiltinsConstructStubHelper}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{Generate\_JSBuiltinsConstructStubHelper()}{Generate\_JSBuiltinsConstructStubHelper()}}
{\footnotesize\ttfamily void v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/riscv.\+cc\}\+::Generate\+\_\+\+JSBuiltins\+Construct\+Stub\+Helper (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$}]{masm }\end{DoxyParamCaption})}



Definition at line 74 of file builtins-\/riscv.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{74                                                                   \{}
\DoxyCodeLine{75   \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/ S t a t e -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{76   \textcolor{comment}{//  -\/-\/ a0     : number of arguments}}
\DoxyCodeLine{77   \textcolor{comment}{//  -\/-\/ a1     : constructor function}}
\DoxyCodeLine{78   \textcolor{comment}{//  -\/-\/ a3     : new target}}
\DoxyCodeLine{79   \textcolor{comment}{//  -\/-\/ cp     : context}}
\DoxyCodeLine{80   \textcolor{comment}{//  -\/-\/ ra     : return address}}
\DoxyCodeLine{81   \textcolor{comment}{//  -\/-\/ sp[...]: constructor arguments}}
\DoxyCodeLine{82   \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{83 }
\DoxyCodeLine{84   \textcolor{comment}{// Enter a construct frame.}}
\DoxyCodeLine{85   \{}
\DoxyCodeLine{86     FrameScope scope(masm, StackFrame::CONSTRUCT);}
\DoxyCodeLine{87 }
\DoxyCodeLine{88     \textcolor{comment}{// Preserve the incoming parameters on the stack.}}
\DoxyCodeLine{89     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Push(\mbox{\hyperlink{namespacev8_1_1internal_acf7181c6ad0cb44fba9ad483652c01c9}{cp}}, a0);}
\DoxyCodeLine{90 }
\DoxyCodeLine{91     \textcolor{comment}{// Set up pointer to first argument (skip receiver).}}
\DoxyCodeLine{92     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} AddWord(}
\DoxyCodeLine{93         t2, fp,}
\DoxyCodeLine{94         Operand(StandardFrameConstants::kCallerSPOffset + \mbox{\hyperlink{namespacev8_1_1internal_a72cbfdfeabb9a401f279f7b80bcff67a}{kSystemPointerSize}}));}
\DoxyCodeLine{95     \textcolor{comment}{// t2: Pointer to start of arguments.}}
\DoxyCodeLine{96     \textcolor{comment}{// a0: Number of arguments.}}
\DoxyCodeLine{97     \{}
\DoxyCodeLine{98       UseScratchRegisterScope temps(masm);}
\DoxyCodeLine{99       temps.Include(t0);}
\DoxyCodeLine{100       \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a3b39e44393b8bc3b675b813bfcd22e44}{Generate\_PushArguments}}(masm, t2, a0, temps.Acquire(), temps.Acquire(),}
\DoxyCodeLine{101                              ArgumentsElementType::kRaw);}
\DoxyCodeLine{102     \}}
\DoxyCodeLine{103     \textcolor{comment}{// The receiver for the builtin/api call.}}
\DoxyCodeLine{104     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} PushRoot(RootIndex::kTheHoleValue);}
\DoxyCodeLine{105 }
\DoxyCodeLine{106     \textcolor{comment}{// Call the function.}}
\DoxyCodeLine{107     \textcolor{comment}{// a0: number of arguments (untagged)}}
\DoxyCodeLine{108     \textcolor{comment}{// a1: constructor function}}
\DoxyCodeLine{109     \textcolor{comment}{// a3: new target}}
\DoxyCodeLine{110     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} InvokeFunctionWithNewTarget(a1, a3, a0, \mbox{\hyperlink{macro-assembler_8h_a4364155222207deea4c9f82c2369b49ba4ff0cb81f1d2d093837e39bbf48501c8}{InvokeType::kCall}});}
\DoxyCodeLine{111 }
\DoxyCodeLine{112     \textcolor{comment}{// Restore context from the frame.}}
\DoxyCodeLine{113     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(\mbox{\hyperlink{namespacev8_1_1internal_acf7181c6ad0cb44fba9ad483652c01c9}{cp}}, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(fp, ConstructFrameConstants::kContextOffset));}
\DoxyCodeLine{114     \textcolor{comment}{// Restore arguments count from the frame.}}
\DoxyCodeLine{115     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(\mbox{\hyperlink{code-generator-ppc_8cc_a6cb7190c6351369972f6b37ead9ad9a4}{kScratchReg}},}
\DoxyCodeLine{116                 \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(fp, ConstructFrameConstants::kLengthOffset));}
\DoxyCodeLine{117     \textcolor{comment}{// Leave construct frame.}}
\DoxyCodeLine{118   \}}
\DoxyCodeLine{119 }
\DoxyCodeLine{120   \textcolor{comment}{// Remove caller arguments from the stack and return.}}
\DoxyCodeLine{121   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} DropArguments(\mbox{\hyperlink{code-generator-ppc_8cc_a6cb7190c6351369972f6b37ead9ad9a4}{kScratchReg}});}
\DoxyCodeLine{122   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Ret();}
\DoxyCodeLine{123 \}}

\end{DoxyCode}


References \+\_\+\+\_\+, v8\+::internal\+::\+Use\+Scratch\+Register\+Scope\+::\+Acquire(), v8\+::internal\+::cp, Generate\+\_\+\+Push\+Arguments(), v8\+::internal\+::\+Use\+Scratch\+Register\+Scope\+::\+Include(), k\+Call, v8\+::internal\+::\+Common\+Frame\+Constants\+::k\+Caller\+SPOffset, v8\+::internal\+::\+Construct\+Frame\+Constants\+::k\+Context\+Offset, v8\+::internal\+::\+Construct\+Frame\+Constants\+::k\+Length\+Offset, v8\+::internal\+::k\+Scratch\+Reg, and v8\+::internal\+::k\+System\+Pointer\+Size.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_aa19fc5985af5c2027ac67996387e9041_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a3a3e4e6f0bd5eb7c6adbaf79b3db8381}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a3a3e4e6f0bd5eb7c6adbaf79b3db8381}} 
\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}!Generate\_JSEntryVariant@{Generate\_JSEntryVariant}}
\index{Generate\_JSEntryVariant@{Generate\_JSEntryVariant}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{Generate\_JSEntryVariant()}{Generate\_JSEntryVariant()}}
{\footnotesize\ttfamily void v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/riscv.\+cc\}\+::Generate\+\_\+\+JSEntry\+Variant (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$}]{masm,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1StackFrame_a539db1a450ec470771bfb8f4995cee9b}{Stack\+Frame\+::\+Type}}}]{type,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_acc2e164143496f18b5ec68f8ab70af52}{Builtin}}}]{entry\+\_\+trampoline }\end{DoxyParamCaption})}



Definition at line 536 of file builtins-\/riscv.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{537                                                        \{}
\DoxyCodeLine{538   \mbox{\hyperlink{namespacev8_1_1internal_1_1interpreter_1_1anonymous__namespace_02interpreter-generator_8cc_03_a219ad4847edd5647586f81d183a15c88}{Label}} \mbox{\hyperlink{namespacev8_1_1internal_1_1libvtune_ae548d45e74bc9f71b95bbbe2665faa41}{invoke}}, handler\_entry, exit;}
\DoxyCodeLine{539 }
\DoxyCodeLine{540   \{}
\DoxyCodeLine{541     NoRootArrayScope no\_root\_array(masm);}
\DoxyCodeLine{542 }
\DoxyCodeLine{543     \textcolor{comment}{// TODO(plind): unify the ABI description here.}}
\DoxyCodeLine{544     \textcolor{comment}{// Registers:}}
\DoxyCodeLine{545     \textcolor{comment}{//  either}}
\DoxyCodeLine{546     \textcolor{comment}{//   a0: root register value}}
\DoxyCodeLine{547     \textcolor{comment}{//   a1: entry address}}
\DoxyCodeLine{548     \textcolor{comment}{//   a2: function}}
\DoxyCodeLine{549     \textcolor{comment}{//   a3: receiver}}
\DoxyCodeLine{550     \textcolor{comment}{//   a4: argc}}
\DoxyCodeLine{551     \textcolor{comment}{//   a5: argv}}
\DoxyCodeLine{552     \textcolor{comment}{//  or}}
\DoxyCodeLine{553     \textcolor{comment}{//   a0: root register value}}
\DoxyCodeLine{554     \textcolor{comment}{//   a1: microtask\_queue}}
\DoxyCodeLine{555 }
\DoxyCodeLine{556     \textcolor{comment}{// Save callee saved registers on the stack.}}
\DoxyCodeLine{557     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} MultiPush(\mbox{\hyperlink{reglist-arm64_8h_acd6b69322c0921c70f41102c969b106b}{kCalleeSaved}} | ra);}
\DoxyCodeLine{558 }
\DoxyCodeLine{559     \textcolor{comment}{// Save callee-\/saved FPU registers.}}
\DoxyCodeLine{560     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} MultiPushFPU(\mbox{\hyperlink{namespacev8_1_1internal_ab4a979ace3d8d148b91ffab22bc3d9f8}{kCalleeSavedFPU}});}
\DoxyCodeLine{561     \textcolor{comment}{// Set up the reserved register for 0.0.}}
\DoxyCodeLine{562     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadFPRImmediate(\mbox{\hyperlink{namespacev8_1_1internal_aa77927fbf819d26203b56d6e45fcce7b}{kDoubleRegZero}}, 0.0);}
\DoxyCodeLine{563     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadFPRImmediate(\mbox{\hyperlink{namespacev8_1_1internal_a709ceb6db419bdd01fd58cfe464ce943}{kSingleRegZero}}, 0.0f);}
\DoxyCodeLine{564 }
\DoxyCodeLine{565     \textcolor{comment}{// Initialize the root register.}}
\DoxyCodeLine{566     \textcolor{comment}{// C calling convention. The first argument is passed in a0.}}
\DoxyCodeLine{567     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Move(\mbox{\hyperlink{namespacev8_1_1internal_a01dcaa197306e2eb868f18c334a34363}{kRootRegister}}, a0);}
\DoxyCodeLine{568 }
\DoxyCodeLine{569 \textcolor{preprocessor}{\#ifdef V8\_COMPRESS\_POINTERS}}
\DoxyCodeLine{570     \textcolor{comment}{// Initialize the pointer cage base register.}}
\DoxyCodeLine{571     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadRootRelative(\mbox{\hyperlink{namespacev8_1_1internal_ab9bda3d442154cae94abcca25cbf4723}{kPtrComprCageBaseRegister}},}
\DoxyCodeLine{572                         IsolateData::cage\_base\_offset());}
\DoxyCodeLine{573 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{574   \}}
\DoxyCodeLine{575 }
\DoxyCodeLine{576   \textcolor{comment}{// a1: entry address}}
\DoxyCodeLine{577   \textcolor{comment}{// a2: function}}
\DoxyCodeLine{578   \textcolor{comment}{// a3: receiver}}
\DoxyCodeLine{579   \textcolor{comment}{// a4: argc}}
\DoxyCodeLine{580   \textcolor{comment}{// a5: argv}}
\DoxyCodeLine{581 }
\DoxyCodeLine{582   \textcolor{comment}{// We build an EntryFrame.}}
\DoxyCodeLine{583   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} li(s1, Operand(-\/1));  \textcolor{comment}{// Push a bad frame pointer to fail if it is used.}}
\DoxyCodeLine{584   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} li(s2, Operand(StackFrame::TypeToMarker(\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}})));}
\DoxyCodeLine{585   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} li(s3, Operand(StackFrame::TypeToMarker(\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}})));}
\DoxyCodeLine{586   ExternalReference c\_entry\_fp = ExternalReference::Create(}
\DoxyCodeLine{587       IsolateAddressId::kCEntryFPAddress, masm-\/>isolate());}
\DoxyCodeLine{588   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} li(s5, c\_entry\_fp);}
\DoxyCodeLine{589   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(s4, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(s5));}
\DoxyCodeLine{590   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Push(s1, s2, s3, s4);}
\DoxyCodeLine{591   \textcolor{comment}{// Clear c\_entry\_fp, now we've pushed its previous value to the stack.}}
\DoxyCodeLine{592   \textcolor{comment}{// If the c\_entry\_fp is not already zero and we don't clear it, the}}
\DoxyCodeLine{593   \textcolor{comment}{// StackFrameIteratorForProfiler will assume we are executing C++ and miss the}}
\DoxyCodeLine{594   \textcolor{comment}{// JS frames on top.}}
\DoxyCodeLine{595   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreWord(zero\_reg, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(s5));}
\DoxyCodeLine{596 }
\DoxyCodeLine{597   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadIsolateField(s1, IsolateFieldId::kFastCCallCallerFP);}
\DoxyCodeLine{598   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(s2, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(s1, 0));}
\DoxyCodeLine{599   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreWord(zero\_reg, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(s1, 0));}
\DoxyCodeLine{600 }
\DoxyCodeLine{601   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadIsolateField(s1, IsolateFieldId::kFastCCallCallerPC);}
\DoxyCodeLine{602   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(s3, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(s1, 0));}
\DoxyCodeLine{603   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreWord(zero\_reg, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(s1, 0));}
\DoxyCodeLine{604   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Push(s2, s3);}
\DoxyCodeLine{605   \textcolor{comment}{// Set up frame pointer for the frame to be pushed.}}
\DoxyCodeLine{606   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} AddWord(fp, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb72381f9ca78a1b2f55c6946e319a0f}{sp}}, -\/EntryFrameConstants::kNextFastCallFramePCOffset);}
\DoxyCodeLine{607   \textcolor{comment}{// Registers:}}
\DoxyCodeLine{608   \textcolor{comment}{//  either}}
\DoxyCodeLine{609   \textcolor{comment}{//   a1: entry address}}
\DoxyCodeLine{610   \textcolor{comment}{//   a2: function}}
\DoxyCodeLine{611   \textcolor{comment}{//   a3: receiver}}
\DoxyCodeLine{612   \textcolor{comment}{//   a4: argc}}
\DoxyCodeLine{613   \textcolor{comment}{//   a5: argv}}
\DoxyCodeLine{614   \textcolor{comment}{//  or}}
\DoxyCodeLine{615   \textcolor{comment}{//   a1: microtask\_queue}}
\DoxyCodeLine{616   \textcolor{comment}{//}}
\DoxyCodeLine{617   \textcolor{comment}{// Stack:}}
\DoxyCodeLine{618   \textcolor{comment}{// fast api call pc}}
\DoxyCodeLine{619   \textcolor{comment}{// fast api call fp}}
\DoxyCodeLine{620   \textcolor{comment}{// caller fp          |}}
\DoxyCodeLine{621   \textcolor{comment}{// function slot      | entry frame}}
\DoxyCodeLine{622   \textcolor{comment}{// context slot       |}}
\DoxyCodeLine{623   \textcolor{comment}{// bad fp (0xFF...F)  |}}
\DoxyCodeLine{624   \textcolor{comment}{// callee saved registers + ra}}
\DoxyCodeLine{625 }
\DoxyCodeLine{626   \textcolor{comment}{// If this is the outermost JS call, set js\_entry\_sp value.}}
\DoxyCodeLine{627   \mbox{\hyperlink{namespacev8_1_1internal_1_1interpreter_1_1anonymous__namespace_02interpreter-generator_8cc_03_a219ad4847edd5647586f81d183a15c88}{Label}} non\_outermost\_js;}
\DoxyCodeLine{628   ExternalReference js\_entry\_sp = ExternalReference::Create(}
\DoxyCodeLine{629       IsolateAddressId::kJSEntrySPAddress, masm-\/>isolate());}
\DoxyCodeLine{630   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} li(s1, js\_entry\_sp);}
\DoxyCodeLine{631   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(s2, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(s1));}
\DoxyCodeLine{632   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Branch(\&non\_outermost\_js, \mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a8a814088d15799a0fa2bac29d01a1ea7}{ne}}, s2, Operand(zero\_reg),}
\DoxyCodeLine{633             Label::Distance::kNear);}
\DoxyCodeLine{634   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreWord(fp, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(s1));}
\DoxyCodeLine{635   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} li(s3, Operand(StackFrame::OUTERMOST\_JSENTRY\_FRAME));}
\DoxyCodeLine{636   \mbox{\hyperlink{namespacev8_1_1internal_1_1interpreter_1_1anonymous__namespace_02interpreter-generator_8cc_03_a219ad4847edd5647586f81d183a15c88}{Label}} cont;}
\DoxyCodeLine{637   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Branch(\&cont);}
\DoxyCodeLine{638   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} bind(\&non\_outermost\_js);}
\DoxyCodeLine{639   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} li(s3, Operand(StackFrame::INNER\_JSENTRY\_FRAME));}
\DoxyCodeLine{640   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} bind(\&cont);}
\DoxyCodeLine{641   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1liftoff_ab519066d6365573e2714d3c3b9a285e0}{push}}(s3);}
\DoxyCodeLine{642 }
\DoxyCodeLine{643   \textcolor{comment}{// Jump to a faked try block that does the invoke, with a faked catch}}
\DoxyCodeLine{644   \textcolor{comment}{// block that sets the exception.}}
\DoxyCodeLine{645   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} BranchShort(\&\mbox{\hyperlink{namespacev8_1_1internal_1_1libvtune_ae548d45e74bc9f71b95bbbe2665faa41}{invoke}});}
\DoxyCodeLine{646   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} bind(\&handler\_entry);}
\DoxyCodeLine{647 }
\DoxyCodeLine{648   \textcolor{comment}{// Store the current pc as the handler offset. It's used later to create the}}
\DoxyCodeLine{649   \textcolor{comment}{// handler table.}}
\DoxyCodeLine{650   masm-\/>isolate()-\/>builtins()-\/>SetJSEntryHandlerOffset(handler\_entry.pos());}
\DoxyCodeLine{651 }
\DoxyCodeLine{652   \textcolor{comment}{// Caught exception: Store result (exception) in the exception}}
\DoxyCodeLine{653   \textcolor{comment}{// field in the JSEnv and return a failure sentinel.  Coming in here the}}
\DoxyCodeLine{654   \textcolor{comment}{// fp will be invalid because the PushStackHandler below sets it to 0 to}}
\DoxyCodeLine{655   \textcolor{comment}{// signal the existence of the JSEntry frame.}}
\DoxyCodeLine{656   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} li(s1, ExternalReference::Create(IsolateAddressId::kExceptionAddress,}
\DoxyCodeLine{657                                       masm-\/>isolate()));}
\DoxyCodeLine{658   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreWord(a0,}
\DoxyCodeLine{659                \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(s1));  \textcolor{comment}{// We come back from 'invoke'. result is in a0.}}
\DoxyCodeLine{660   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadRoot(a0, \mbox{\hyperlink{namespacev8_1_1debug_ac12845c51d12676a2a089516d5a2fecfa894633d41fa892c9541219a5d6c57a40}{RootIndex::kException}});}
\DoxyCodeLine{661   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} BranchShort(\&exit);}
\DoxyCodeLine{662 }
\DoxyCodeLine{663   \textcolor{comment}{// Invoke: Link this frame into the handler chain.}}
\DoxyCodeLine{664   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} bind(\&\mbox{\hyperlink{namespacev8_1_1internal_1_1libvtune_ae548d45e74bc9f71b95bbbe2665faa41}{invoke}});}
\DoxyCodeLine{665   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} PushStackHandler();}
\DoxyCodeLine{666   \textcolor{comment}{// If an exception not caught by another handler occurs, this handler}}
\DoxyCodeLine{667   \textcolor{comment}{// returns control to the code after the bal(\&invoke) above, which}}
\DoxyCodeLine{668   \textcolor{comment}{// restores all kCalleeSaved registers (including cp and fp) to their}}
\DoxyCodeLine{669   \textcolor{comment}{// saved values before returning a failure to C.}}
\DoxyCodeLine{670   \textcolor{comment}{//}}
\DoxyCodeLine{671   \textcolor{comment}{// Registers:}}
\DoxyCodeLine{672   \textcolor{comment}{//  either}}
\DoxyCodeLine{673   \textcolor{comment}{//   a0: root register value}}
\DoxyCodeLine{674   \textcolor{comment}{//   a1: entry address}}
\DoxyCodeLine{675   \textcolor{comment}{//   a2: function}}
\DoxyCodeLine{676   \textcolor{comment}{//   a3: receiver}}
\DoxyCodeLine{677   \textcolor{comment}{//   a4: argc}}
\DoxyCodeLine{678   \textcolor{comment}{//   a5: argv}}
\DoxyCodeLine{679   \textcolor{comment}{//  or}}
\DoxyCodeLine{680   \textcolor{comment}{//   a0: root register value}}
\DoxyCodeLine{681   \textcolor{comment}{//   a1: microtask\_queue}}
\DoxyCodeLine{682   \textcolor{comment}{//}}
\DoxyCodeLine{683   \textcolor{comment}{// Stack:}}
\DoxyCodeLine{684   \textcolor{comment}{// fast api call pc.}}
\DoxyCodeLine{685   \textcolor{comment}{// fast api call fp.}}
\DoxyCodeLine{686   \textcolor{comment}{// JS entry frame marker}}
\DoxyCodeLine{687   \textcolor{comment}{// caller fp          |}}
\DoxyCodeLine{688   \textcolor{comment}{// function slot      | entry frame}}
\DoxyCodeLine{689   \textcolor{comment}{// context slot       |}}
\DoxyCodeLine{690   \textcolor{comment}{// bad fp (0xFF...F)  |}}
\DoxyCodeLine{691   \textcolor{comment}{// handler frame}}
\DoxyCodeLine{692   \textcolor{comment}{// entry frame}}
\DoxyCodeLine{693   \textcolor{comment}{// callee saved registers + ra}}
\DoxyCodeLine{694   \textcolor{comment}{// [ O32: 4 args slots]}}
\DoxyCodeLine{695   \textcolor{comment}{// args}}
\DoxyCodeLine{696   \textcolor{comment}{//}}
\DoxyCodeLine{697   \textcolor{comment}{// Invoke the function by calling through JS entry trampoline builtin and}}
\DoxyCodeLine{698   \textcolor{comment}{// pop the faked function when we return.}}
\DoxyCodeLine{699   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} CallBuiltin(entry\_trampoline);}
\DoxyCodeLine{700 }
\DoxyCodeLine{701   \textcolor{comment}{// Unlink this frame from the handler chain.}}
\DoxyCodeLine{702   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} PopStackHandler();}
\DoxyCodeLine{703 }
\DoxyCodeLine{704   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} bind(\&exit);  \textcolor{comment}{// a0 holds result}}
\DoxyCodeLine{705   \textcolor{comment}{// Check if the current stack frame is marked as the outermost JS frame.}}
\DoxyCodeLine{706 }
\DoxyCodeLine{707   \mbox{\hyperlink{namespacev8_1_1internal_1_1interpreter_1_1anonymous__namespace_02interpreter-generator_8cc_03_a219ad4847edd5647586f81d183a15c88}{Label}} non\_outermost\_js\_2;}
\DoxyCodeLine{708   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} pop(a5);}
\DoxyCodeLine{709   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Branch(\&non\_outermost\_js\_2, \mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a8a814088d15799a0fa2bac29d01a1ea7}{ne}}, a5,}
\DoxyCodeLine{710             Operand(StackFrame::OUTERMOST\_JSENTRY\_FRAME),}
\DoxyCodeLine{711             Label::Distance::kNear);}
\DoxyCodeLine{712   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} li(a5, js\_entry\_sp);}
\DoxyCodeLine{713   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreWord(zero\_reg, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(a5));}
\DoxyCodeLine{714   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} bind(\&non\_outermost\_js\_2);}
\DoxyCodeLine{715 }
\DoxyCodeLine{716   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Pop(s2, s3);}
\DoxyCodeLine{717   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadIsolateField(s1, IsolateFieldId::kFastCCallCallerFP);}
\DoxyCodeLine{718   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreWord(s2, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(s1, 0));}
\DoxyCodeLine{719   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadIsolateField(s1, IsolateFieldId::kFastCCallCallerPC);}
\DoxyCodeLine{720   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreWord(s3, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(s1, 0));}
\DoxyCodeLine{721   \textcolor{comment}{// Restore the top frame descriptors from the stack.}}
\DoxyCodeLine{722   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} pop(a5);}
\DoxyCodeLine{723   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} li(a4, ExternalReference::Create(IsolateAddressId::kCEntryFPAddress,}
\DoxyCodeLine{724                                       masm-\/>isolate()));}
\DoxyCodeLine{725   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreWord(a5, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(a4));}
\DoxyCodeLine{726 }
\DoxyCodeLine{727   \textcolor{comment}{// Reset the stack to the callee saved registers.}}
\DoxyCodeLine{728   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} AddWord(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb72381f9ca78a1b2f55c6946e319a0f}{sp}}, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb72381f9ca78a1b2f55c6946e319a0f}{sp}}, -\/EntryFrameConstants::kNextExitFrameFPOffset);}
\DoxyCodeLine{729 }
\DoxyCodeLine{730   \textcolor{comment}{// Restore callee-\/saved fpu registers.}}
\DoxyCodeLine{731   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} MultiPopFPU(\mbox{\hyperlink{namespacev8_1_1internal_ab4a979ace3d8d148b91ffab22bc3d9f8}{kCalleeSavedFPU}});}
\DoxyCodeLine{732 }
\DoxyCodeLine{733   \textcolor{comment}{// Restore callee saved registers from the stack.}}
\DoxyCodeLine{734   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} MultiPop(\mbox{\hyperlink{reglist-arm64_8h_acd6b69322c0921c70f41102c969b106b}{kCalleeSaved}} | ra);}
\DoxyCodeLine{735   \textcolor{comment}{// Return.}}
\DoxyCodeLine{736   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Jump(ra);}
\DoxyCodeLine{737 \}}

\end{DoxyCode}


References \+\_\+\+\_\+, v8\+::internal\+::\+Isolate\+::builtins(), v8\+::internal\+::\+External\+Reference\+::\+Create(), v8\+::internal\+::\+Stack\+Frame\+::\+INNER\+\_\+\+JSENTRY\+\_\+\+FRAME, v8\+::internal\+::libvtune\+::invoke(), v8\+::internal\+::\+Macro\+Assembler\+Base\+::isolate(), v8\+::internal\+::k\+Callee\+Saved, v8\+::internal\+::k\+Callee\+Saved\+FPU, v8\+::internal\+::k\+Double\+Reg\+Zero, v8\+::debug\+::k\+Exception, v8\+::internal\+::\+Entry\+Frame\+Constants\+::k\+Next\+Exit\+Frame\+FPOffset, v8\+::internal\+::\+Entry\+Frame\+Constants\+::k\+Next\+Fast\+Call\+Frame\+PCOffset, v8\+::internal\+::k\+Ptr\+Compr\+Cage\+Base\+Register, v8\+::internal\+::k\+Root\+Register, v8\+::internal\+::k\+Single\+Reg\+Zero, v8\+::internal\+::ne, v8\+::internal\+::\+Stack\+Frame\+::\+OUTERMOST\+\_\+\+JSENTRY\+\_\+\+FRAME, v8\+::internal\+::\+Label\+::pos(), v8\+::internal\+::wasm\+::liftoff\+::push(), v8\+::internal\+::\+Builtins\+::\+Set\+JSEntry\+Handler\+Offset(), v8\+::internal\+::tracing\+::type, and v8\+::internal\+::\+Stack\+Frame\+::\+Type\+To\+Marker().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a3a3e4e6f0bd5eb7c6adbaf79b3db8381_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a4036582e5667172d26eebb07745e2c87}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a4036582e5667172d26eebb07745e2c87}} 
\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}!Generate\_OSREntry@{Generate\_OSREntry}}
\index{Generate\_OSREntry@{Generate\_OSREntry}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{Generate\_OSREntry()}{Generate\_OSREntry()}}
{\footnotesize\ttfamily void v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/riscv.\+cc\}\+::Generate\+\_\+\+OSREntry (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$}]{masm,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}}}]{entry\+\_\+address,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Operand}{Operand}}}]{offset = {\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1Operand}{Operand}}(0)} }\end{DoxyParamCaption})}



Definition at line 1978 of file builtins-\/riscv.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1979                                                     \{}
\DoxyCodeLine{1980   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} AddWord(ra, entry\_address, offset);}
\DoxyCodeLine{1981   \textcolor{comment}{// And "{}return"{} to the OSR entry point of the function.}}
\DoxyCodeLine{1982   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Ret();}
\DoxyCodeLine{1983 \}}

\end{DoxyCode}


References \+\_\+\+\_\+.



Referenced by On\+Stack\+Replacement().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a4036582e5667172d26eebb07745e2c87_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a3b39e44393b8bc3b675b813bfcd22e44}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a3b39e44393b8bc3b675b813bfcd22e44}} 
\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}!Generate\_PushArguments@{Generate\_PushArguments}}
\index{Generate\_PushArguments@{Generate\_PushArguments}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{Generate\_PushArguments()}{Generate\_PushArguments()}}
{\footnotesize\ttfamily void v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/riscv.\+cc\}\+::Generate\+\_\+\+Push\+Arguments (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$}]{masm,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}}}]{array,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}}}]{argc,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}}}]{scratch,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}}}]{scratch2,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a0d110fe3df4bdb429c5fa075b1d89585}{Arguments\+Element\+Type}}}]{element\+\_\+type }\end{DoxyParamCaption})}



Definition at line 54 of file builtins-\/riscv.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{56                                                                \{}
\DoxyCodeLine{57   \mbox{\hyperlink{codegen_2assembler_8h_aa9b6b07d630b3249a10dea3be092a204}{ASM\_CODE\_COMMENT}}(masm);}
\DoxyCodeLine{58   \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(!\mbox{\hyperlink{namespacev8_1_1internal_a976c6c26a43011a580e41e6f744290a4}{AreAliased}}(array, argc, scratch));}
\DoxyCodeLine{59   \mbox{\hyperlink{namespacev8_1_1internal_1_1interpreter_1_1anonymous__namespace_02interpreter-generator_8cc_03_a219ad4847edd5647586f81d183a15c88}{Label}} loop, entry;}
\DoxyCodeLine{60   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} SubWord(scratch, argc, Operand(\mbox{\hyperlink{namespacev8_1_1internal_a659859b64f26854bf73a39399d39bed2}{kJSArgcReceiverSlots}}));}
\DoxyCodeLine{61   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Branch(\&entry);}
\DoxyCodeLine{62   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} bind(\&loop);}
\DoxyCodeLine{63   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} CalcScaledAddress(scratch2, array, scratch, \mbox{\hyperlink{namespacev8_1_1internal_a5d2aa789561850efe761ddd6ab7ce4d8}{kSystemPointerSizeLog2}});}
\DoxyCodeLine{64   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(scratch2, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(scratch2));}
\DoxyCodeLine{65   \textcolor{keywordflow}{if} (element\_type == ArgumentsElementType::kHandle) \{}
\DoxyCodeLine{66     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(scratch2, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(scratch2));}
\DoxyCodeLine{67   \}}
\DoxyCodeLine{68   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1liftoff_ab519066d6365573e2714d3c3b9a285e0}{push}}(scratch2);}
\DoxyCodeLine{69   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} bind(\&entry);}
\DoxyCodeLine{70   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} AddWord(scratch, scratch, Operand(-\/1));}
\DoxyCodeLine{71   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Branch(\&loop, \mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a2616ca3b38278ec5d4d3fc245f93a11d}{greater\_equal}}, scratch, Operand(zero\_reg));}
\DoxyCodeLine{72 \}}

\end{DoxyCode}


References \+\_\+\+\_\+, v8\+::internal\+::\+Are\+Aliased(), ASM\+\_\+\+CODE\+\_\+\+COMMENT, v8\+::internal\+::\+DCHECK(), v8\+::internal\+::greater\+\_\+equal, v8\+::internal\+::k\+JSArgc\+Receiver\+Slots, v8\+::internal\+::k\+System\+Pointer\+Size\+Log2, and v8\+::internal\+::wasm\+::liftoff\+::push().



Referenced by Generate\+\_\+\+JSBuiltins\+Construct\+Stub\+Helper(), and v8\+::internal\+::\+Generate\+\_\+\+JSEntry\+Trampoline\+Helper().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a3b39e44393b8bc3b675b813bfcd22e44_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a3b39e44393b8bc3b675b813bfcd22e44_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a9edbcb3db1fa6be6b5198aa3e507d30d}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a9edbcb3db1fa6be6b5198aa3e507d30d}} 
\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}!Generate\_PushBoundArguments@{Generate\_PushBoundArguments}}
\index{Generate\_PushBoundArguments@{Generate\_PushBoundArguments}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{Generate\_PushBoundArguments()}{Generate\_PushBoundArguments()}}
{\footnotesize\ttfamily void v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/riscv.\+cc\}\+::Generate\+\_\+\+Push\+Bound\+Arguments (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$}]{masm }\end{DoxyParamCaption})}



Definition at line 2690 of file builtins-\/riscv.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2690                                                        \{}
\DoxyCodeLine{2691   \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/ S t a t e -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{2692   \textcolor{comment}{//  -\/-\/ a0 : the number of arguments}}
\DoxyCodeLine{2693   \textcolor{comment}{//  -\/-\/ a1 : target (checked to be a JSBoundFunction)}}
\DoxyCodeLine{2694   \textcolor{comment}{//  -\/-\/ a3 : new.target (only in case of [[Construct]])}}
\DoxyCodeLine{2695   \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{2696   UseScratchRegisterScope temps(masm);}
\DoxyCodeLine{2697   temps.Include(t0, t1);}
\DoxyCodeLine{2698   \mbox{\hyperlink{namespacev8_1_1internal_1_1ETWJITInterface_a6782da00e5166055555c65db3a9ec7eb}{Register}} bound\_argc = a4;}
\DoxyCodeLine{2699   \mbox{\hyperlink{namespacev8_1_1internal_1_1ETWJITInterface_a6782da00e5166055555c65db3a9ec7eb}{Register}} bound\_argv = a2;}
\DoxyCodeLine{2700   \textcolor{comment}{// Load [[BoundArguments]] into a2 and length of that into a4.}}
\DoxyCodeLine{2701   \mbox{\hyperlink{namespacev8_1_1internal_1_1interpreter_1_1anonymous__namespace_02interpreter-generator_8cc_03_a219ad4847edd5647586f81d183a15c88}{Label}} no\_bound\_arguments;}
\DoxyCodeLine{2702   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadTaggedField(}
\DoxyCodeLine{2703       bound\_argv, \mbox{\hyperlink{namespacev8_1_1internal_a6d90f6174f05f4140c8a212e6ac2e88c}{FieldMemOperand}}(a1, JSBoundFunction::kBoundArgumentsOffset));}
\DoxyCodeLine{2704   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} SmiUntagField(bound\_argc,}
\DoxyCodeLine{2705                    \mbox{\hyperlink{namespacev8_1_1internal_a6d90f6174f05f4140c8a212e6ac2e88c}{FieldMemOperand}}(bound\_argv, offsetof(\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a8bb28d6521867f9f42c308feab192fef}{FixedArray}}, length\_)));}
\DoxyCodeLine{2706   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Branch(\&no\_bound\_arguments, \mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21aef89ff7bd9abfd0deb210fbcadd24123}{eq}}, bound\_argc, Operand(zero\_reg));}
\DoxyCodeLine{2707   \{}
\DoxyCodeLine{2708     \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/ S t a t e -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{2709     \textcolor{comment}{//  -\/-\/ a0 : the number of arguments}}
\DoxyCodeLine{2710     \textcolor{comment}{//  -\/-\/ a1 : target (checked to be a JSBoundFunction)}}
\DoxyCodeLine{2711     \textcolor{comment}{//  -\/-\/ a2 : the [[BoundArguments]] (implemented as FixedArray)}}
\DoxyCodeLine{2712     \textcolor{comment}{//  -\/-\/ a3 : new.target (only in case of [[Construct]])}}
\DoxyCodeLine{2713     \textcolor{comment}{//  -\/-\/ a4: the number of [[BoundArguments]]}}
\DoxyCodeLine{2714     \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{2715     UseScratchRegisterScope temps(masm);}
\DoxyCodeLine{2716     \mbox{\hyperlink{namespacev8_1_1internal_1_1ETWJITInterface_a6782da00e5166055555c65db3a9ec7eb}{Register}} scratch = temps.Acquire();}
\DoxyCodeLine{2717     \mbox{\hyperlink{namespacev8_1_1internal_1_1interpreter_1_1anonymous__namespace_02interpreter-generator_8cc_03_a219ad4847edd5647586f81d183a15c88}{Label}} done;}
\DoxyCodeLine{2718     \textcolor{comment}{// Reserve stack space for the [[BoundArguments]].}}
\DoxyCodeLine{2719     \{}
\DoxyCodeLine{2720       \textcolor{comment}{// Check the stack for overflow. We are not trying to catch interruptions}}
\DoxyCodeLine{2721       \textcolor{comment}{// (i.e. debug break and preemption) here, so check the "{}real stack}}
\DoxyCodeLine{2722       \textcolor{comment}{// limit"{}.}}
\DoxyCodeLine{2723       \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StackOverflowCheck(a4, temps.Acquire(), temps.Acquire(), \textcolor{keyword}{nullptr},}
\DoxyCodeLine{2724                             \&done);}
\DoxyCodeLine{2725       \{}
\DoxyCodeLine{2726         FrameScope scope(masm, StackFrame::MANUAL);}
\DoxyCodeLine{2727         \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} EnterFrame(StackFrame::INTERNAL);}
\DoxyCodeLine{2728         \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} CallRuntime(Runtime::kThrowStackOverflow);}
\DoxyCodeLine{2729       \}}
\DoxyCodeLine{2730       \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} bind(\&done);}
\DoxyCodeLine{2731     \}}
\DoxyCodeLine{2732 }
\DoxyCodeLine{2733     \textcolor{comment}{// Pop receiver.}}
\DoxyCodeLine{2734     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Pop(scratch);}
\DoxyCodeLine{2735 }
\DoxyCodeLine{2736     \textcolor{comment}{// Push [[BoundArguments]].}}
\DoxyCodeLine{2737     \{}
\DoxyCodeLine{2738       \mbox{\hyperlink{namespacev8_1_1internal_1_1interpreter_1_1anonymous__namespace_02interpreter-generator_8cc_03_a219ad4847edd5647586f81d183a15c88}{Label}} loop, done\_loop;}
\DoxyCodeLine{2739       \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} \mbox{\hyperlink{namespacev8_1_1internal_1_1TorqueRuntimeMacroShims_1_1CodeStubAssembler_acb96b34c2ceba4e634640be458b61f49}{SmiUntag}}(a4, \mbox{\hyperlink{namespacev8_1_1internal_a6d90f6174f05f4140c8a212e6ac2e88c}{FieldMemOperand}}(a2, offsetof(\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a8bb28d6521867f9f42c308feab192fef}{FixedArray}}, length\_)));}
\DoxyCodeLine{2740       \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} AddWord(a0, a0, Operand(a4));}
\DoxyCodeLine{2741       \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} AddWord(a2, a2,}
\DoxyCodeLine{2742                  Operand(\mbox{\hyperlink{tagged-field_8h_a5284b5dce86d72e01944bab90ed2cbab}{OFFSET\_OF\_DATA\_START}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a8bb28d6521867f9f42c308feab192fef}{FixedArray}}) -\/ \mbox{\hyperlink{namespacev8_1_1internal_aa2507eb9d594b9767347031fb02d0b20}{kHeapObjectTag}}));}
\DoxyCodeLine{2743       \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} bind(\&loop);}
\DoxyCodeLine{2744       \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} SubWord(a4, a4, Operand(1));}
\DoxyCodeLine{2745       \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Branch(\&done\_loop, \mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a529d6a26a3d0432bbed6a445c8ad28ba}{lt}}, a4, Operand(zero\_reg), Label::Distance::kNear);}
\DoxyCodeLine{2746       \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} CalcScaledAddress(a5, a2, a4, \mbox{\hyperlink{namespacev8_1_1internal_a7b94dc2dd5250e9341c12941db8e9595}{kTaggedSizeLog2}});}
\DoxyCodeLine{2747       \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadTaggedField(\mbox{\hyperlink{code-generator-ppc_8cc_a6cb7190c6351369972f6b37ead9ad9a4}{kScratchReg}}, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(a5));}
\DoxyCodeLine{2748       \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Push(\mbox{\hyperlink{code-generator-ppc_8cc_a6cb7190c6351369972f6b37ead9ad9a4}{kScratchReg}});}
\DoxyCodeLine{2749       \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Branch(\&loop);}
\DoxyCodeLine{2750       \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} bind(\&done\_loop);}
\DoxyCodeLine{2751     \}}
\DoxyCodeLine{2752 }
\DoxyCodeLine{2753     \textcolor{comment}{// Push receiver.}}
\DoxyCodeLine{2754     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Push(scratch);}
\DoxyCodeLine{2755   \}}
\DoxyCodeLine{2756   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} bind(\&no\_bound\_arguments);}
\DoxyCodeLine{2757 \}}

\end{DoxyCode}


References \+\_\+\+\_\+, v8\+::internal\+::\+Use\+Scratch\+Register\+Scope\+::\+Acquire(), v8\+::internal\+::eq, v8\+::internal\+::\+Field\+Mem\+Operand(), v8\+::internal\+::\+Use\+Scratch\+Register\+Scope\+::\+Include(), v8\+::internal\+::k\+Heap\+Object\+Tag, v8\+::internal\+::k\+Scratch\+Reg, v8\+::internal\+::k\+Tagged\+Size\+Log2, v8\+::internal\+::lt, v8\+::internal\+::\+Stack\+Frame\+::\+MANUAL, OFFSET\+\_\+\+OF\+\_\+\+DATA\+\_\+\+START, and v8\+::internal\+::\+Torque\+Runtime\+Macro\+Shims\+::\+Code\+Stub\+Assembler\+::\+Smi\+Untag().



Referenced by v8\+::internal\+::\+Builtins\+::\+Generate\+\_\+\+Call\+Bound\+Function\+Impl().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a9edbcb3db1fa6be6b5198aa3e507d30d_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a9edbcb3db1fa6be6b5198aa3e507d30d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a58db8f0d25ca9131c8313459e91f4d4a}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a58db8f0d25ca9131c8313459e91f4d4a}} 
\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}!Generate\_WasmResumeHelper@{Generate\_WasmResumeHelper}}
\index{Generate\_WasmResumeHelper@{Generate\_WasmResumeHelper}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{Generate\_WasmResumeHelper()}{Generate\_WasmResumeHelper()}}
{\footnotesize\ttfamily void v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/riscv.\+cc\}\+::Generate\+\_\+\+Wasm\+Resume\+Helper (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$}]{masm,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a75774b68b649b298c267415400ebeaf4}{wasm\+::\+On\+Resume}}}]{on\+\_\+resume }\end{DoxyParamCaption})}



Definition at line 3946 of file builtins-\/riscv.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3946                                                                              \{}
\DoxyCodeLine{3947   \textcolor{keyword}{auto} regs = RegisterAllocator::WithAllocatableGeneralRegisters();}
\DoxyCodeLine{3948   UseScratchRegisterScope temps(masm);}
\DoxyCodeLine{3949   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} EnterFrame(StackFrame::STACK\_SWITCH);}
\DoxyCodeLine{3950   \mbox{\hyperlink{builtins-riscv_8cc_aabfd2871a5a040af421b1d5e15e576ec}{DEFINE\_PINNED}}(closure, \mbox{\hyperlink{namespacev8_1_1internal_af3ad7ce74f497b9a2cb016c43ed77acc}{kJSFunctionRegister}});  \textcolor{comment}{// a1}}
\DoxyCodeLine{3951 }
\DoxyCodeLine{3952   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} SubWord(}
\DoxyCodeLine{3953       \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb72381f9ca78a1b2f55c6946e319a0f}{sp}}, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb72381f9ca78a1b2f55c6946e319a0f}{sp}},}
\DoxyCodeLine{3954       Operand(StackSwitchFrameConstants::kNumSpillSlots * \mbox{\hyperlink{namespacev8_1_1internal_a72cbfdfeabb9a401f279f7b80bcff67a}{kSystemPointerSize}}));}
\DoxyCodeLine{3955   \textcolor{comment}{// Set a sentinel value for the spill slots visited by the GC.}}
\DoxyCodeLine{3956   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a701968c3d7f8a96ffcd1639e17dd7760}{ResetStackSwitchFrameStackSlots}}(masm);}
\DoxyCodeLine{3957 }
\DoxyCodeLine{3958   regs.ResetExcept(closure);}
\DoxyCodeLine{3959 }
\DoxyCodeLine{3960   \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{3961   \textcolor{comment}{// Load suspender from closure.}}
\DoxyCodeLine{3962   \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{3963   \mbox{\hyperlink{builtins-riscv_8cc_ada86fdd785a331647154d09dea7011a6}{DEFINE\_REG}}(sfi);}
\DoxyCodeLine{3964   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadTaggedField(}
\DoxyCodeLine{3965       sfi,}
\DoxyCodeLine{3966       \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(}
\DoxyCodeLine{3967           closure,}
\DoxyCodeLine{3968           wasm::ObjectAccess::SharedFunctionInfoOffsetInTaggedJSFunction()));}
\DoxyCodeLine{3969   \mbox{\hyperlink{builtins-riscv_8cc_ac43399ae098afc801a26604396c29d2a}{FREE\_REG}}(closure);}
\DoxyCodeLine{3970   \textcolor{comment}{// Suspender should be ObjectRegister register to be used in}}
\DoxyCodeLine{3971   \textcolor{comment}{// RecordWriteField calls later.}}
\DoxyCodeLine{3972   \mbox{\hyperlink{builtins-riscv_8cc_aabfd2871a5a040af421b1d5e15e576ec}{DEFINE\_PINNED}}(suspender, WriteBarrierDescriptor::ObjectRegister());}
\DoxyCodeLine{3973   \mbox{\hyperlink{builtins-riscv_8cc_ada86fdd785a331647154d09dea7011a6}{DEFINE\_REG}}(resume\_data);}
\DoxyCodeLine{3974   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadTaggedField(}
\DoxyCodeLine{3975       resume\_data,}
\DoxyCodeLine{3976       \mbox{\hyperlink{namespacev8_1_1internal_a6d90f6174f05f4140c8a212e6ac2e88c}{FieldMemOperand}}(sfi, SharedFunctionInfo::kUntrustedFunctionDataOffset));}
\DoxyCodeLine{3977   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadTaggedField(}
\DoxyCodeLine{3978       suspender,}
\DoxyCodeLine{3979       \mbox{\hyperlink{namespacev8_1_1internal_a6d90f6174f05f4140c8a212e6ac2e88c}{FieldMemOperand}}(resume\_data, WasmResumeData::kSuspenderOffset));}
\DoxyCodeLine{3980   regs.ResetExcept(suspender);}
\DoxyCodeLine{3981 }
\DoxyCodeLine{3982   \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{3983   \textcolor{comment}{// Save current state.}}
\DoxyCodeLine{3984   \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{3985   \mbox{\hyperlink{namespacev8_1_1internal_1_1interpreter_1_1anonymous__namespace_02interpreter-generator_8cc_03_a219ad4847edd5647586f81d183a15c88}{Label}} suspend;}
\DoxyCodeLine{3986   \mbox{\hyperlink{builtins-riscv_8cc_ada86fdd785a331647154d09dea7011a6}{DEFINE\_REG}}(active\_stack);}
\DoxyCodeLine{3987   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadRootRelative(active\_stack, IsolateData::active\_stack\_offset());}
\DoxyCodeLine{3988   \mbox{\hyperlink{builtins-riscv_8cc_ada86fdd785a331647154d09dea7011a6}{DEFINE\_REG}}(scratch);}
\DoxyCodeLine{3989   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a9912adbad00e4659ac08377d1b450435}{FillJumpBuffer}}(masm, active\_stack, \&suspend, scratch);}
\DoxyCodeLine{3990   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a41c63dcff94b3638bc007682c0deeff9}{SwitchStackState}}(masm, active\_stack, scratch, wasm::JumpBuffer::Active,}
\DoxyCodeLine{3991                    wasm::JumpBuffer::Inactive);}
\DoxyCodeLine{3992   \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{3993   \textcolor{comment}{// Set the suspender and stack parents and update the roots}}
\DoxyCodeLine{3994   \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{3995   \mbox{\hyperlink{builtins-riscv_8cc_ada86fdd785a331647154d09dea7011a6}{DEFINE\_REG}}(active\_suspender);}
\DoxyCodeLine{3996   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadRoot(active\_suspender, RootIndex::kActiveSuspender);}
\DoxyCodeLine{3997   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreTaggedField(}
\DoxyCodeLine{3998       active\_suspender,}
\DoxyCodeLine{3999       \mbox{\hyperlink{namespacev8_1_1internal_a6d90f6174f05f4140c8a212e6ac2e88c}{FieldMemOperand}}(suspender, WasmSuspenderObject::kParentOffset));}
\DoxyCodeLine{4000   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} RecordWriteField(suspender, WasmSuspenderObject::kParentOffset,}
\DoxyCodeLine{4001                       active\_suspender, \mbox{\hyperlink{namespacev8_1_1internal_a521cd68c6d02e59357828dcba345bbaba133e13df69c1f5f84acbf7071e72495c}{kRAHasBeenSaved}},}
\DoxyCodeLine{4002                       SaveFPRegsMode::kIgnore);}
\DoxyCodeLine{4003   \mbox{\hyperlink{builtins-riscv_8cc_ac43399ae098afc801a26604396c29d2a}{FREE\_REG}}(active\_suspender);}
\DoxyCodeLine{4004   \mbox{\hyperlink{namespaceunibrow_ab0275d47f9778d486eafe88b18c5851d}{int32\_t}} active\_suspender\_offset =}
\DoxyCodeLine{4005       MacroAssembler::RootRegisterOffsetForRootIndex(}
\DoxyCodeLine{4006           RootIndex::kActiveSuspender);}
\DoxyCodeLine{4007   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreWord(suspender, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(\mbox{\hyperlink{namespacev8_1_1internal_a01dcaa197306e2eb868f18c334a34363}{kRootRegister}}, active\_suspender\_offset));}
\DoxyCodeLine{4008 }
\DoxyCodeLine{4009   regs.Reserve(\mbox{\hyperlink{namespacev8_1_1internal_a8654f2409b96eec341287939ca3cfab0}{kReturnRegister0}});}
\DoxyCodeLine{4010   \mbox{\hyperlink{builtins-riscv_8cc_ada86fdd785a331647154d09dea7011a6}{DEFINE\_REG}}(target\_stack);}
\DoxyCodeLine{4011   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadExternalPointerField(}
\DoxyCodeLine{4012       target\_stack,}
\DoxyCodeLine{4013       \mbox{\hyperlink{namespacev8_1_1internal_a6d90f6174f05f4140c8a212e6ac2e88c}{FieldMemOperand}}(suspender, \mbox{\hyperlink{namespacev8_1_1internal_a944afce553865ae8189ccf4490c93b54}{WasmSuspenderObject::kStackOffset}}),}
\DoxyCodeLine{4014       \mbox{\hyperlink{namespacev8_1_1internal_aa5178998e7ae493acf744bc92b1fbdbcaa67967f377450b821c565852fc3a1e0d}{kWasmStackMemoryTag}});}
\DoxyCodeLine{4015 }
\DoxyCodeLine{4016   \mbox{\hyperlink{builtins-riscv_8cc_ac43399ae098afc801a26604396c29d2a}{FREE\_REG}}(suspender);}
\DoxyCodeLine{4017 }
\DoxyCodeLine{4018   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreRootRelative(IsolateData::active\_stack\_offset(), target\_stack);}
\DoxyCodeLine{4019   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a12ba9cd776917910b109d3651d98e2b3}{SwitchStacks}}(masm, active\_stack, \textcolor{keyword}{false}, scratch, \{target\_stack\});}
\DoxyCodeLine{4020   regs.ResetExcept(target\_stack, \mbox{\hyperlink{namespacev8_1_1internal_a8654f2409b96eec341287939ca3cfab0}{kReturnRegister0}});}
\DoxyCodeLine{4021 }
\DoxyCodeLine{4022   \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{4023   \textcolor{comment}{// Load state from target jmpbuf (longjmp).}}
\DoxyCodeLine{4024   \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{4025   \mbox{\hyperlink{builtins-riscv_8cc_a65617c0bc71019a1b79d3d43301b7c6c}{ASSIGN\_REG}}(scratch);}
\DoxyCodeLine{4026   \textcolor{comment}{// Move resolved value to return register.}}
\DoxyCodeLine{4027   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(\mbox{\hyperlink{namespacev8_1_1internal_a8654f2409b96eec341287939ca3cfab0}{kReturnRegister0}}, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(fp, 3 * \mbox{\hyperlink{namespacev8_1_1internal_a72cbfdfeabb9a401f279f7b80bcff67a}{kSystemPointerSize}}));}
\DoxyCodeLine{4028   \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}} GCScanSlotPlace =}
\DoxyCodeLine{4029       \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(fp, StackSwitchFrameConstants::kGCScanSlotCountOffset);}
\DoxyCodeLine{4030   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreWord(zero\_reg, GCScanSlotPlace);}
\DoxyCodeLine{4031   \textcolor{keywordflow}{if} (on\_resume == wasm::OnResume::kThrow) \{}
\DoxyCodeLine{4032     \textcolor{comment}{// Switch without restoring the PC.}}
\DoxyCodeLine{4033     \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a700d4a9d15fb643ad7c66edc07989ce1}{LoadJumpBuffer}}(masm, target\_stack, \textcolor{keyword}{false}, scratch,}
\DoxyCodeLine{4034                    wasm::JumpBuffer::Suspended);}
\DoxyCodeLine{4035     \textcolor{comment}{// Pop this frame now. The unwinder expects that the first STACK\_SWITCH}}
\DoxyCodeLine{4036     \textcolor{comment}{// frame is the outermost one.}}
\DoxyCodeLine{4037     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LeaveFrame(StackFrame::STACK\_SWITCH);}
\DoxyCodeLine{4038     \textcolor{comment}{// Forward the onRejected value to kThrow.}}
\DoxyCodeLine{4039     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Push(\mbox{\hyperlink{namespacev8_1_1internal_a8654f2409b96eec341287939ca3cfab0}{kReturnRegister0}});}
\DoxyCodeLine{4040     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} CallRuntime(Runtime::kThrow);}
\DoxyCodeLine{4041   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{4042     \textcolor{comment}{// Resume the stack normally.}}
\DoxyCodeLine{4043     \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a700d4a9d15fb643ad7c66edc07989ce1}{LoadJumpBuffer}}(masm, target\_stack, \textcolor{keyword}{true}, scratch,}
\DoxyCodeLine{4044                    wasm::JumpBuffer::Suspended);}
\DoxyCodeLine{4045   \}}
\DoxyCodeLine{4046   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Trap();}
\DoxyCodeLine{4047   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} bind(\&suspend);}
\DoxyCodeLine{4048   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LeaveFrame(StackFrame::STACK\_SWITCH);}
\DoxyCodeLine{4049   \textcolor{comment}{// Pop receiver + parameter.}}
\DoxyCodeLine{4050   \textcolor{comment}{// \_\_ DropArguments(2);}}
\DoxyCodeLine{4051   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} AddWord(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb72381f9ca78a1b2f55c6946e319a0f}{sp}}, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb72381f9ca78a1b2f55c6946e319a0f}{sp}}, Operand(2 * \mbox{\hyperlink{namespacev8_1_1internal_a72cbfdfeabb9a401f279f7b80bcff67a}{kSystemPointerSize}}));}
\DoxyCodeLine{4052   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Ret();}
\DoxyCodeLine{4053 \}}

\end{DoxyCode}


References \+\_\+\+\_\+, v8\+::internal\+::wasm\+::\+Jump\+Buffer\+::\+Active, ASSIGN\+\_\+\+REG, DEFINE\+\_\+\+PINNED, DEFINE\+\_\+\+REG, v8\+::internal\+::\+Field\+Mem\+Operand(), Fill\+Jump\+Buffer(), FREE\+\_\+\+REG, v8\+::internal\+::wasm\+::\+Jump\+Buffer\+::\+Inactive, v8\+::internal\+::k\+Ignore, v8\+::internal\+::k\+JSFunction\+Register, v8\+::internal\+::k\+RAHas\+Been\+Saved, v8\+::internal\+::k\+Return\+Register0, v8\+::internal\+::k\+Root\+Register, v8\+::internal\+::k\+Stack\+Offset, v8\+::internal\+::k\+System\+Pointer\+Size, v8\+::internal\+::wasm\+::k\+Throw, v8\+::internal\+::k\+Wasm\+Stack\+Memory\+Tag, Load\+Jump\+Buffer(), v8\+::internal\+::\+Write\+Barrier\+Descriptor\+::\+Object\+Register(), Reset\+Stack\+Switch\+Frame\+Stack\+Slots(), v8\+::internal\+::\+Macro\+Assembler\+Base\+::\+Root\+Register\+Offset\+For\+Root\+Index(), v8\+::internal\+::wasm\+::\+Object\+Access\+::\+Shared\+Function\+Info\+Offset\+In\+Tagged\+JSFunction(), v8\+::internal\+::wasm\+::\+Jump\+Buffer\+::\+Suspended, Switch\+Stacks(), and Switch\+Stack\+State().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a58db8f0d25ca9131c8313459e91f4d4a_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a87543ac60273781b59cfb886d268f662}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a87543ac60273781b59cfb886d268f662}} 
\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}!GenerateExceptionHandlingLandingPad@{GenerateExceptionHandlingLandingPad}}
\index{GenerateExceptionHandlingLandingPad@{GenerateExceptionHandlingLandingPad}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{GenerateExceptionHandlingLandingPad()}{GenerateExceptionHandlingLandingPad()}}
{\footnotesize\ttfamily void v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/riscv.\+cc\}\+::Generate\+Exception\+Handling\+Landing\+Pad (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$}]{masm,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_1_1RegisterAllocator}{Register\+Allocator}} \&}]{regs,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Label}{Label}} $\ast$}]{return\+\_\+promise }\end{DoxyParamCaption})}



Definition at line 4197 of file builtins-\/riscv.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4199                                                                 \{}
\DoxyCodeLine{4200   \mbox{\hyperlink{codegen_2assembler_8h_aa9b6b07d630b3249a10dea3be092a204}{ASM\_CODE\_COMMENT}}(masm);}
\DoxyCodeLine{4201   regs.ResetExcept();}
\DoxyCodeLine{4202   \textcolor{keyword}{static} \textcolor{keyword}{const} Builtin\_RejectPromise\_InterfaceDescriptor desc;}
\DoxyCodeLine{4203   \mbox{\hyperlink{builtins-riscv_8cc_aabfd2871a5a040af421b1d5e15e576ec}{DEFINE\_PINNED}}(promise, desc.GetRegisterParameter(0));}
\DoxyCodeLine{4204   \mbox{\hyperlink{builtins-riscv_8cc_aabfd2871a5a040af421b1d5e15e576ec}{DEFINE\_PINNED}}(reason, desc.GetRegisterParameter(1));}
\DoxyCodeLine{4205   \mbox{\hyperlink{builtins-riscv_8cc_aabfd2871a5a040af421b1d5e15e576ec}{DEFINE\_PINNED}}(debug\_event, desc.GetRegisterParameter(2));}
\DoxyCodeLine{4206   \textcolor{keywordtype}{int} catch\_handler = \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} pc\_offset();}
\DoxyCodeLine{4207   \mbox{\hyperlink{builtins-riscv_8cc_ab3e4d5f4f3583221a18c9aa288938dc3}{DEFINE\_SCOPED}}(thread\_in\_wasm\_flag\_addr);}
\DoxyCodeLine{4208   thread\_in\_wasm\_flag\_addr = a2;}
\DoxyCodeLine{4209 }
\DoxyCodeLine{4210   \textcolor{comment}{// Unset thread\_in\_wasm\_flag.}}
\DoxyCodeLine{4211   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(}
\DoxyCodeLine{4212       thread\_in\_wasm\_flag\_addr,}
\DoxyCodeLine{4213       \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(\mbox{\hyperlink{namespacev8_1_1internal_a01dcaa197306e2eb868f18c334a34363}{kRootRegister}}, Isolate::thread\_in\_wasm\_flag\_address\_offset()));}
\DoxyCodeLine{4214   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreWord(zero\_reg, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(thread\_in\_wasm\_flag\_addr, 0));}
\DoxyCodeLine{4215   \textcolor{comment}{// The exception becomes the parameter of the RejectPromise builtin, and the}}
\DoxyCodeLine{4216   \textcolor{comment}{// promise is the return value of this wrapper.}}
\DoxyCodeLine{4217   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} mv(reason, \mbox{\hyperlink{namespacev8_1_1internal_a8654f2409b96eec341287939ca3cfab0}{kReturnRegister0}});}
\DoxyCodeLine{4218   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadRoot(promise, RootIndex::kActiveSuspender);}
\DoxyCodeLine{4219   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadTaggedField(}
\DoxyCodeLine{4220       promise, \mbox{\hyperlink{namespacev8_1_1internal_a6d90f6174f05f4140c8a212e6ac2e88c}{FieldMemOperand}}(promise, WasmSuspenderObject::kPromiseOffset));}
\DoxyCodeLine{4221 }
\DoxyCodeLine{4222   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(\mbox{\hyperlink{namespacev8_1_1internal_a972c0774332fdea5491955853c58bf3d}{kContextRegister}},}
\DoxyCodeLine{4223               \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(fp, StackSwitchFrameConstants::kImplicitArgOffset));}
\DoxyCodeLine{4224   \mbox{\hyperlink{builtins-riscv_8cc_ab3e4d5f4f3583221a18c9aa288938dc3}{DEFINE\_SCOPED}}(tmp);}
\DoxyCodeLine{4225   \mbox{\hyperlink{builtins-riscv_8cc_ab3e4d5f4f3583221a18c9aa288938dc3}{DEFINE\_SCOPED}}(tmp2);}
\DoxyCodeLine{4226   \mbox{\hyperlink{builtins-riscv_8cc_ab3e4d5f4f3583221a18c9aa288938dc3}{DEFINE\_SCOPED}}(tmp3);}
\DoxyCodeLine{4227   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a2c0fe09f6ec07daebe777f337bfa5463}{GetContextFromImplicitArg}}(masm, \mbox{\hyperlink{namespacev8_1_1internal_a972c0774332fdea5491955853c58bf3d}{kContextRegister}}, tmp);}
\DoxyCodeLine{4228   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_af80f883e5dab7a6c45f4b63f5b0f08dc}{ReloadParentStack}}(masm, promise, reason, \mbox{\hyperlink{namespacev8_1_1internal_a972c0774332fdea5491955853c58bf3d}{kContextRegister}}, tmp, tmp2, tmp3);}
\DoxyCodeLine{4229   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a4ba6e94487fa2cf3cb12baf0f0361e93}{RestoreParentSuspender}}(masm, tmp);}
\DoxyCodeLine{4230 }
\DoxyCodeLine{4231   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} li(tmp, 1);}
\DoxyCodeLine{4232   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreWord(}
\DoxyCodeLine{4233       tmp, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(fp, StackSwitchFrameConstants::kGCScanSlotCountOffset));}
\DoxyCodeLine{4234   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Push(promise);}
\DoxyCodeLine{4235   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadRoot(debug\_event, RootIndex::kTrueValue);}
\DoxyCodeLine{4236   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} CallBuiltin(Builtin::kRejectPromise);}
\DoxyCodeLine{4237   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Pop(promise);}
\DoxyCodeLine{4238 }
\DoxyCodeLine{4239   \textcolor{comment}{// Run the rest of the wrapper normally (deconstruct the frame, ...).}}
\DoxyCodeLine{4240   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} jmp(return\_promise);}
\DoxyCodeLine{4241 }
\DoxyCodeLine{4242   masm-\/>isolate()-\/>builtins()-\/>SetJSPIPromptHandlerOffset(catch\_handler);}
\DoxyCodeLine{4243 \}}

\end{DoxyCode}


References \+\_\+\+\_\+, ASM\+\_\+\+CODE\+\_\+\+COMMENT, v8\+::internal\+::\+Isolate\+::builtins(), DEFINE\+\_\+\+PINNED, DEFINE\+\_\+\+SCOPED, v8\+::internal\+::\+Field\+Mem\+Operand(), Get\+Context\+From\+Implicit\+Arg(), v8\+::internal\+::\+Macro\+Assembler\+Base\+::isolate(), v8\+::internal\+::k\+Context\+Register, v8\+::internal\+::k\+Return\+Register0, v8\+::internal\+::k\+Root\+Register, Reload\+Parent\+Stack(), v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/riscv.\+cc\}\+::\+Register\+Allocator\+::\+Reset\+Except(), Restore\+Parent\+Suspender(), v8\+::internal\+::\+Builtins\+::\+Set\+JSPIPrompt\+Handler\+Offset(), and v8\+::internal\+::\+Isolate\+::thread\+\_\+in\+\_\+wasm\+\_\+flag\+\_\+address\+\_\+offset().



Referenced by JSTo\+Wasm\+Wrapper\+Helper().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a87543ac60273781b59cfb886d268f662_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a87543ac60273781b59cfb886d268f662_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a2c0fe09f6ec07daebe777f337bfa5463}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a2c0fe09f6ec07daebe777f337bfa5463}} 
\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}!GetContextFromImplicitArg@{GetContextFromImplicitArg}}
\index{GetContextFromImplicitArg@{GetContextFromImplicitArg}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{GetContextFromImplicitArg()}{GetContextFromImplicitArg()}}
{\footnotesize\ttfamily void v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/riscv.\+cc\}\+::Get\+Context\+From\+Implicit\+Arg (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$}]{masm,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}}}]{data,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}}}]{scratch }\end{DoxyParamCaption})}



Definition at line 4137 of file builtins-\/riscv.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4138                                                  \{}
\DoxyCodeLine{4139   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadTaggedField(scratch, \mbox{\hyperlink{namespacev8_1_1internal_a6d90f6174f05f4140c8a212e6ac2e88c}{FieldMemOperand}}(data, HeapObject::kMapOffset));}
\DoxyCodeLine{4140   \mbox{\hyperlink{namespacev8_1_1internal_1_1interpreter_1_1anonymous__namespace_02interpreter-generator_8cc_03_a219ad4847edd5647586f81d183a15c88}{Label}} instance;}
\DoxyCodeLine{4141   \mbox{\hyperlink{namespacev8_1_1internal_1_1interpreter_1_1anonymous__namespace_02interpreter-generator_8cc_03_a219ad4847edd5647586f81d183a15c88}{Label}} \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}};}
\DoxyCodeLine{4142   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} GetInstanceTypeRange(scratch, scratch, WASM\_TRUSTED\_INSTANCE\_DATA\_TYPE,}
\DoxyCodeLine{4143                           scratch);}
\DoxyCodeLine{4144   \textcolor{comment}{// \_\_ CompareInstanceType(scratch, scratch, WASM\_TRUSTED\_INSTANCE\_DATA\_TYPE);}}
\DoxyCodeLine{4145   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Branch(\&instance, \mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21aef89ff7bd9abfd0deb210fbcadd24123}{eq}}, scratch, Operand(zero\_reg));}
\DoxyCodeLine{4146   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadTaggedField(}
\DoxyCodeLine{4147       data, \mbox{\hyperlink{namespacev8_1_1internal_a6d90f6174f05f4140c8a212e6ac2e88c}{FieldMemOperand}}(data, WasmImportData::kNativeContextOffset));}
\DoxyCodeLine{4148   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Branch(\&\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}});}
\DoxyCodeLine{4149   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} bind(\&instance);}
\DoxyCodeLine{4150   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadTaggedField(}
\DoxyCodeLine{4151       data,}
\DoxyCodeLine{4152       \mbox{\hyperlink{namespacev8_1_1internal_a6d90f6174f05f4140c8a212e6ac2e88c}{FieldMemOperand}}(data, WasmTrustedInstanceData::kNativeContextOffset));}
\DoxyCodeLine{4153   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} bind(\&\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}});}
\DoxyCodeLine{4154 \}}

\end{DoxyCode}


References \+\_\+\+\_\+, v8\+::internal\+::compiler\+::end(), v8\+::internal\+::eq, v8\+::internal\+::\+Field\+Mem\+Operand(), and v8\+::internal\+::\+Heap\+Object\+::k\+Map\+Offset.



Referenced by Generate\+Exception\+Handling\+Landing\+Pad(), JSTo\+Wasm\+Wrapper\+Helper(), and Switch\+Back\+And\+Return\+Promise().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a2c0fe09f6ec07daebe777f337bfa5463_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a2c0fe09f6ec07daebe777f337bfa5463_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_af7ed3660e77e13b0804b0b07c7bcbfb5}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_af7ed3660e77e13b0804b0b07c7bcbfb5}} 
\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}!JSToWasmWrapperHelper@{JSToWasmWrapperHelper}}
\index{JSToWasmWrapperHelper@{JSToWasmWrapperHelper}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{JSToWasmWrapperHelper()}{JSToWasmWrapperHelper()}}
{\footnotesize\ttfamily void v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/riscv.\+cc\}\+::JSTo\+Wasm\+Wrapper\+Helper (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$}]{masm,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ad97a36aa15ff4a0e71c9e8982a5cc460}{wasm\+::\+Promise}}}]{mode }\end{DoxyParamCaption})}



Definition at line 4245 of file builtins-\/riscv.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4245                                                                    \{}
\DoxyCodeLine{4246   \textcolor{keywordtype}{bool} stack\_switch = \mbox{\hyperlink{flag-definitions_8h_adaf90f045d5cd2710edd625b8685472a}{mode}} == \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ad97a36aa15ff4a0e71c9e8982a5cc460a6da34b562310c09460985d37264a7920}{wasm::kPromise}} || \mbox{\hyperlink{flag-definitions_8h_adaf90f045d5cd2710edd625b8685472a}{mode}} == \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ad97a36aa15ff4a0e71c9e8982a5cc460ac8e948006f85ddd5848cb6bd6ab732c0}{wasm::kStressSwitch}};}
\DoxyCodeLine{4247   \textcolor{keyword}{auto} regs = RegisterAllocator::WithAllocatableGeneralRegisters();}
\DoxyCodeLine{4248 }
\DoxyCodeLine{4249   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} EnterFrame(stack\_switch ? StackFrame::STACK\_SWITCH}
\DoxyCodeLine{4250                              : StackFrame::JS\_TO\_WASM);}
\DoxyCodeLine{4251 }
\DoxyCodeLine{4252   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} SubWord(}
\DoxyCodeLine{4253       \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb72381f9ca78a1b2f55c6946e319a0f}{sp}}, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb72381f9ca78a1b2f55c6946e319a0f}{sp}},}
\DoxyCodeLine{4254       Operand(StackSwitchFrameConstants::kNumSpillSlots * \mbox{\hyperlink{namespacev8_1_1internal_a72cbfdfeabb9a401f279f7b80bcff67a}{kSystemPointerSize}}));}
\DoxyCodeLine{4255 }
\DoxyCodeLine{4256   \textcolor{comment}{// Load the implicit argument (instance data or import data) from the frame.}}
\DoxyCodeLine{4257   \mbox{\hyperlink{builtins-riscv_8cc_aabfd2871a5a040af421b1d5e15e576ec}{DEFINE\_PINNED}}(implicit\_arg, \mbox{\hyperlink{namespacev8_1_1internal_a9398e78e660c036ce8acec4e3161a9cc}{kWasmImplicitArgRegister}});}
\DoxyCodeLine{4258   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(}
\DoxyCodeLine{4259       implicit\_arg,}
\DoxyCodeLine{4260       \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(fp, JSToWasmWrapperFrameConstants::kImplicitArgOffset));}
\DoxyCodeLine{4261 }
\DoxyCodeLine{4262   \mbox{\hyperlink{builtins-riscv_8cc_aabfd2871a5a040af421b1d5e15e576ec}{DEFINE\_PINNED}}(wrapper\_buffer,}
\DoxyCodeLine{4263                 WasmJSToWasmWrapperDescriptor::WrapperBufferRegister());}
\DoxyCodeLine{4264 }
\DoxyCodeLine{4265   \mbox{\hyperlink{namespacev8_1_1internal_1_1interpreter_1_1anonymous__namespace_02interpreter-generator_8cc_03_a219ad4847edd5647586f81d183a15c88}{Label}} suspend;}
\DoxyCodeLine{4266   \mbox{\hyperlink{namespacev8_1_1internal_1_1ETWJITInterface_a6782da00e5166055555c65db3a9ec7eb}{Register}} original\_fp = \mbox{\hyperlink{namespacev8_1_1internal_a00a63531b1853ad102a9dcd7636d385a}{no\_reg}};}
\DoxyCodeLine{4267   \mbox{\hyperlink{namespacev8_1_1internal_1_1ETWJITInterface_a6782da00e5166055555c65db3a9ec7eb}{Register}} new\_wrapper\_buffer = \mbox{\hyperlink{namespacev8_1_1internal_a00a63531b1853ad102a9dcd7636d385a}{no\_reg}};}
\DoxyCodeLine{4268   \textcolor{keywordflow}{if} (stack\_switch) \{}
\DoxyCodeLine{4269     \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a4a1d2184c5c38b277b8431d6a612f180}{SwitchToAllocatedStack}}(masm, regs, implicit\_arg, wrapper\_buffer,}
\DoxyCodeLine{4270                            original\_fp, new\_wrapper\_buffer, \&suspend);}
\DoxyCodeLine{4271   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{4272     original\_fp = fp;}
\DoxyCodeLine{4273     new\_wrapper\_buffer = wrapper\_buffer;}
\DoxyCodeLine{4274   \}}
\DoxyCodeLine{4275 }
\DoxyCodeLine{4276   regs.ResetExcept(original\_fp, wrapper\_buffer, implicit\_arg,}
\DoxyCodeLine{4277                    new\_wrapper\_buffer);}
\DoxyCodeLine{4278 }
\DoxyCodeLine{4279   \{}
\DoxyCodeLine{4280     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreWord(}
\DoxyCodeLine{4281         new\_wrapper\_buffer,}
\DoxyCodeLine{4282         \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(fp, JSToWasmWrapperFrameConstants::kWrapperBufferOffset));}
\DoxyCodeLine{4283     \textcolor{keywordflow}{if} (stack\_switch) \{}
\DoxyCodeLine{4284       \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreWord(}
\DoxyCodeLine{4285           implicit\_arg,}
\DoxyCodeLine{4286           \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(fp, StackSwitchFrameConstants::kImplicitArgOffset));}
\DoxyCodeLine{4287       UseScratchRegisterScope temps(masm);}
\DoxyCodeLine{4288       \mbox{\hyperlink{namespacev8_1_1internal_1_1ETWJITInterface_a6782da00e5166055555c65db3a9ec7eb}{Register}} scratch = temps.Acquire();}
\DoxyCodeLine{4289       \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(}
\DoxyCodeLine{4290           scratch,}
\DoxyCodeLine{4291           \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(original\_fp,}
\DoxyCodeLine{4292                      JSToWasmWrapperFrameConstants::kResultArrayParamOffset));}
\DoxyCodeLine{4293       \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreWord(}
\DoxyCodeLine{4294           scratch,}
\DoxyCodeLine{4295           \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(fp, StackSwitchFrameConstants::kResultArrayOffset));}
\DoxyCodeLine{4296     \}}
\DoxyCodeLine{4297   \}}
\DoxyCodeLine{4298   \{}
\DoxyCodeLine{4299     \mbox{\hyperlink{builtins-riscv_8cc_ab3e4d5f4f3583221a18c9aa288938dc3}{DEFINE\_SCOPED}}(result\_size);}
\DoxyCodeLine{4300     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(}
\DoxyCodeLine{4301         result\_size,}
\DoxyCodeLine{4302         \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(wrapper\_buffer, JSToWasmWrapperFrameConstants::}
\DoxyCodeLine{4303                                        kWrapperBufferStackReturnBufferSize));}
\DoxyCodeLine{4304     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} SllWord(result\_size, result\_size, \mbox{\hyperlink{namespacev8_1_1internal_a5d2aa789561850efe761ddd6ab7ce4d8}{kSystemPointerSizeLog2}});}
\DoxyCodeLine{4305     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} SubWord(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb72381f9ca78a1b2f55c6946e319a0f}{sp}}, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb72381f9ca78a1b2f55c6946e319a0f}{sp}}, Operand(result\_size));}
\DoxyCodeLine{4306   \}}
\DoxyCodeLine{4307 }
\DoxyCodeLine{4308   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreWord(}
\DoxyCodeLine{4309       \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb72381f9ca78a1b2f55c6946e319a0f}{sp}},}
\DoxyCodeLine{4310       \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(}
\DoxyCodeLine{4311           new\_wrapper\_buffer,}
\DoxyCodeLine{4312           JSToWasmWrapperFrameConstants::kWrapperBufferStackReturnBufferStart));}
\DoxyCodeLine{4313   \textcolor{keywordflow}{if} (stack\_switch) \{}
\DoxyCodeLine{4314     \mbox{\hyperlink{builtins-riscv_8cc_ac43399ae098afc801a26604396c29d2a}{FREE\_REG}}(new\_wrapper\_buffer)}
\DoxyCodeLine{4315   \}}
\DoxyCodeLine{4316   \mbox{\hyperlink{builtins-riscv_8cc_ac43399ae098afc801a26604396c29d2a}{FREE\_REG}}(implicit\_arg)}
\DoxyCodeLine{4317   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} reg : \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a23da273a9620dfe9e148746961849c66}{wasm::kGpParamRegisters}}) \{}
\DoxyCodeLine{4318     regs.Reserve(reg);}
\DoxyCodeLine{4319   \}}
\DoxyCodeLine{4320 }
\DoxyCodeLine{4321   \textcolor{comment}{// The first GP parameter holds the trusted instance data or the import data.}}
\DoxyCodeLine{4322   \textcolor{comment}{// This is handled specially.}}
\DoxyCodeLine{4323   \textcolor{keywordtype}{int} stack\_params\_offset =}
\DoxyCodeLine{4324       (\mbox{\hyperlink{src_2base_2macros_8h_ac55fdd6aa61539c49b1b1f5d38a0ed73}{arraysize}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a23da273a9620dfe9e148746961849c66}{wasm::kGpParamRegisters}}) -\/ 1) * \mbox{\hyperlink{namespacev8_1_1internal_a72cbfdfeabb9a401f279f7b80bcff67a}{kSystemPointerSize}} +}
\DoxyCodeLine{4325       \mbox{\hyperlink{src_2base_2macros_8h_ac55fdd6aa61539c49b1b1f5d38a0ed73}{arraysize}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a2494cf5ea7036924fc5488019a7c2ed4}{wasm::kFpParamRegisters}}) * \mbox{\hyperlink{namespacev8_1_1internal_ada67458c5a8e8c0ade0017e5d3c56fd3}{kDoubleSize}};}
\DoxyCodeLine{4326 }
\DoxyCodeLine{4327   \{}
\DoxyCodeLine{4328     \mbox{\hyperlink{builtins-riscv_8cc_ab3e4d5f4f3583221a18c9aa288938dc3}{DEFINE\_SCOPED}}(params\_start);}
\DoxyCodeLine{4329     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(}
\DoxyCodeLine{4330         params\_start,}
\DoxyCodeLine{4331         \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(wrapper\_buffer,}
\DoxyCodeLine{4332                    JSToWasmWrapperFrameConstants::kWrapperBufferParamStart));}
\DoxyCodeLine{4333     \{}
\DoxyCodeLine{4334       \textcolor{comment}{// Push stack parameters on the stack.}}
\DoxyCodeLine{4335       \mbox{\hyperlink{builtins-riscv_8cc_ab3e4d5f4f3583221a18c9aa288938dc3}{DEFINE\_SCOPED}}(params\_end);}
\DoxyCodeLine{4336       \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(}
\DoxyCodeLine{4337           params\_end,}
\DoxyCodeLine{4338           \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(wrapper\_buffer,}
\DoxyCodeLine{4339                      JSToWasmWrapperFrameConstants::kWrapperBufferParamEnd));}
\DoxyCodeLine{4340       \mbox{\hyperlink{builtins-riscv_8cc_ab3e4d5f4f3583221a18c9aa288938dc3}{DEFINE\_SCOPED}}(last\_stack\_param);}
\DoxyCodeLine{4341 }
\DoxyCodeLine{4342       \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} AddWord(last\_stack\_param, params\_start, Operand(stack\_params\_offset));}
\DoxyCodeLine{4343       \mbox{\hyperlink{namespacev8_1_1internal_1_1interpreter_1_1anonymous__namespace_02interpreter-generator_8cc_03_a219ad4847edd5647586f81d183a15c88}{Label}} loop\_start;}
\DoxyCodeLine{4344       \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} bind(\&loop\_start);}
\DoxyCodeLine{4345 }
\DoxyCodeLine{4346       \mbox{\hyperlink{namespacev8_1_1internal_1_1interpreter_1_1anonymous__namespace_02interpreter-generator_8cc_03_a219ad4847edd5647586f81d183a15c88}{Label}} finish\_stack\_params;}
\DoxyCodeLine{4347       \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Branch(\&finish\_stack\_params, \mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21aa5296c25e35b433aabbd501b5e1af877}{ge}}, last\_stack\_param,}
\DoxyCodeLine{4348                 Operand(params\_end));}
\DoxyCodeLine{4349 }
\DoxyCodeLine{4350       \textcolor{comment}{// Push parameter}}
\DoxyCodeLine{4351       \{}
\DoxyCodeLine{4352         \mbox{\hyperlink{builtins-riscv_8cc_ab3e4d5f4f3583221a18c9aa288938dc3}{DEFINE\_SCOPED}}(scratch);}
\DoxyCodeLine{4353         \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} SubWord(params\_end, params\_end, Operand(\mbox{\hyperlink{namespacev8_1_1internal_a72cbfdfeabb9a401f279f7b80bcff67a}{kSystemPointerSize}}));}
\DoxyCodeLine{4354         \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(scratch, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(params\_end, 0));}
\DoxyCodeLine{4355         \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Push(scratch);}
\DoxyCodeLine{4356       \}}
\DoxyCodeLine{4357       \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Branch(\&loop\_start);}
\DoxyCodeLine{4358 }
\DoxyCodeLine{4359       \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} bind(\&finish\_stack\_params);}
\DoxyCodeLine{4360     \}}
\DoxyCodeLine{4361     \mbox{\hyperlink{namespaceunibrow_ab0275d47f9778d486eafe88b18c5851d}{int32\_t}} next\_offset = 0;}
\DoxyCodeLine{4362     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 1; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < \mbox{\hyperlink{src_2base_2macros_8h_ac55fdd6aa61539c49b1b1f5d38a0ed73}{arraysize}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a23da273a9620dfe9e148746961849c66}{wasm::kGpParamRegisters}}); ++\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}) \{}
\DoxyCodeLine{4363       \textcolor{comment}{// Check that \{params\_start\} does not overlap with any of the parameter}}
\DoxyCodeLine{4364       \textcolor{comment}{// registers, so that we don't overwrite it by accident with the loads}}
\DoxyCodeLine{4365       \textcolor{comment}{// below.}}
\DoxyCodeLine{4366       \mbox{\hyperlink{src_2base_2logging_8h_a986dc8f4ec6dcd0644efe205c13f8eb7}{DCHECK\_NE}}(params\_start, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a23da273a9620dfe9e148746961849c66}{wasm::kGpParamRegisters}}[\mbox{\hyperlink{namespacev8_1_1internal}{i}}]);}
\DoxyCodeLine{4367       \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a23da273a9620dfe9e148746961849c66}{wasm::kGpParamRegisters}}[\mbox{\hyperlink{namespacev8_1_1internal}{i}}],}
\DoxyCodeLine{4368                   \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(params\_start, next\_offset));}
\DoxyCodeLine{4369       next\_offset += \mbox{\hyperlink{namespacev8_1_1internal_a72cbfdfeabb9a401f279f7b80bcff67a}{kSystemPointerSize}};}
\DoxyCodeLine{4370     \}}
\DoxyCodeLine{4371 }
\DoxyCodeLine{4372     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < \mbox{\hyperlink{src_2base_2macros_8h_ac55fdd6aa61539c49b1b1f5d38a0ed73}{arraysize}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a2494cf5ea7036924fc5488019a7c2ed4}{wasm::kFpParamRegisters}}); ++\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}) \{}
\DoxyCodeLine{4373       \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadDouble(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a2494cf5ea7036924fc5488019a7c2ed4}{wasm::kFpParamRegisters}}[\mbox{\hyperlink{namespacev8_1_1internal}{i}}],}
\DoxyCodeLine{4374                     \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(params\_start, next\_offset));}
\DoxyCodeLine{4375       next\_offset += \mbox{\hyperlink{namespacev8_1_1internal_ada67458c5a8e8c0ade0017e5d3c56fd3}{kDoubleSize}};}
\DoxyCodeLine{4376     \}}
\DoxyCodeLine{4377     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(next\_offset, stack\_params\_offset);}
\DoxyCodeLine{4378   \}}
\DoxyCodeLine{4379 }
\DoxyCodeLine{4380   \{}
\DoxyCodeLine{4381     \mbox{\hyperlink{builtins-riscv_8cc_ab3e4d5f4f3583221a18c9aa288938dc3}{DEFINE\_SCOPED}}(thread\_in\_wasm\_flag\_addr);}
\DoxyCodeLine{4382     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(thread\_in\_wasm\_flag\_addr,}
\DoxyCodeLine{4383                 \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(\mbox{\hyperlink{namespacev8_1_1internal_a01dcaa197306e2eb868f18c334a34363}{kRootRegister}},}
\DoxyCodeLine{4384                            Isolate::thread\_in\_wasm\_flag\_address\_offset()));}
\DoxyCodeLine{4385     \mbox{\hyperlink{builtins-riscv_8cc_ab3e4d5f4f3583221a18c9aa288938dc3}{DEFINE\_SCOPED}}(scratch);}
\DoxyCodeLine{4386     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} li(scratch, 1);}
\DoxyCodeLine{4387     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Sw(scratch, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(thread\_in\_wasm\_flag\_addr, 0));}
\DoxyCodeLine{4388   \}}
\DoxyCodeLine{4389   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreWord(}
\DoxyCodeLine{4390       zero\_reg,}
\DoxyCodeLine{4391       \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(fp, StackSwitchFrameConstants::kGCScanSlotCountOffset));}
\DoxyCodeLine{4392   \{}
\DoxyCodeLine{4393     \mbox{\hyperlink{builtins-riscv_8cc_ab3e4d5f4f3583221a18c9aa288938dc3}{DEFINE\_SCOPED}}(call\_target);}
\DoxyCodeLine{4394     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWasmCodePointer(}
\DoxyCodeLine{4395         call\_target,}
\DoxyCodeLine{4396         \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(wrapper\_buffer,}
\DoxyCodeLine{4397                    JSToWasmWrapperFrameConstants::kWrapperBufferCallTarget));}
\DoxyCodeLine{4398     \textcolor{comment}{// We do the call without a signature check here, since the wrapper loaded}}
\DoxyCodeLine{4399     \textcolor{comment}{// the signature from the same trusted object as the call target to set up}}
\DoxyCodeLine{4400     \textcolor{comment}{// the stack layout. We could add a signature hash and pass it through to}}
\DoxyCodeLine{4401     \textcolor{comment}{// verify it here, but an attacker that could corrupt the signature could}}
\DoxyCodeLine{4402     \textcolor{comment}{// also corrupt that signature hash (which is outside of the sandbox).}}
\DoxyCodeLine{4403     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} CallWasmCodePointerNoSignatureCheck(call\_target);}
\DoxyCodeLine{4404   \}}
\DoxyCodeLine{4405 }
\DoxyCodeLine{4406   regs.ResetExcept();}
\DoxyCodeLine{4407   \textcolor{comment}{// The wrapper\_buffer has to be in a2 as the correct parameter register.}}
\DoxyCodeLine{4408   regs.Reserve(\mbox{\hyperlink{namespacev8_1_1internal_a8654f2409b96eec341287939ca3cfab0}{kReturnRegister0}}, \mbox{\hyperlink{namespacev8_1_1internal_a79984c77eb492b1b57912fd6952dc1ef}{kReturnRegister1}});}
\DoxyCodeLine{4409   \mbox{\hyperlink{builtins-riscv_8cc_a8f2fe169595e65eef1e850ef2f5b270e}{ASSIGN\_PINNED}}(wrapper\_buffer, a2);}
\DoxyCodeLine{4410   \{}
\DoxyCodeLine{4411     \mbox{\hyperlink{builtins-riscv_8cc_ab3e4d5f4f3583221a18c9aa288938dc3}{DEFINE\_SCOPED}}(thread\_in\_wasm\_flag\_addr);}
\DoxyCodeLine{4412     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(thread\_in\_wasm\_flag\_addr,}
\DoxyCodeLine{4413                 \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(\mbox{\hyperlink{namespacev8_1_1internal_a01dcaa197306e2eb868f18c334a34363}{kRootRegister}},}
\DoxyCodeLine{4414                            Isolate::thread\_in\_wasm\_flag\_address\_offset()));}
\DoxyCodeLine{4415     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Sw(zero\_reg, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(thread\_in\_wasm\_flag\_addr, 0));}
\DoxyCodeLine{4416   \}}
\DoxyCodeLine{4417 }
\DoxyCodeLine{4418   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(}
\DoxyCodeLine{4419       wrapper\_buffer,}
\DoxyCodeLine{4420       \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(fp, JSToWasmWrapperFrameConstants::kWrapperBufferOffset));}
\DoxyCodeLine{4421 }
\DoxyCodeLine{4422   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreDouble(}
\DoxyCodeLine{4423       \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a1fdfc30f99c6f8ca7799868bedf8fbb6}{wasm::kFpReturnRegisters}}[0],}
\DoxyCodeLine{4424       \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(}
\DoxyCodeLine{4425           wrapper\_buffer,}
\DoxyCodeLine{4426           JSToWasmWrapperFrameConstants::kWrapperBufferFPReturnRegister1));}
\DoxyCodeLine{4427   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreDouble(}
\DoxyCodeLine{4428       \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a1fdfc30f99c6f8ca7799868bedf8fbb6}{wasm::kFpReturnRegisters}}[1],}
\DoxyCodeLine{4429       \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(}
\DoxyCodeLine{4430           wrapper\_buffer,}
\DoxyCodeLine{4431           JSToWasmWrapperFrameConstants::kWrapperBufferFPReturnRegister2));}
\DoxyCodeLine{4432   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreWord(}
\DoxyCodeLine{4433       \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a8ca7a9bc75a086bff7fabe753837192d}{wasm::kGpReturnRegisters}}[0],}
\DoxyCodeLine{4434       \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(}
\DoxyCodeLine{4435           wrapper\_buffer,}
\DoxyCodeLine{4436           JSToWasmWrapperFrameConstants::kWrapperBufferGPReturnRegister1));}
\DoxyCodeLine{4437   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreWord(}
\DoxyCodeLine{4438       \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a8ca7a9bc75a086bff7fabe753837192d}{wasm::kGpReturnRegisters}}[1],}
\DoxyCodeLine{4439       \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(}
\DoxyCodeLine{4440           wrapper\_buffer,}
\DoxyCodeLine{4441           JSToWasmWrapperFrameConstants::kWrapperBufferGPReturnRegister2));}
\DoxyCodeLine{4442   \textcolor{comment}{// Call the return value builtin with}}
\DoxyCodeLine{4443   \textcolor{comment}{// a0: wasm instance.}}
\DoxyCodeLine{4444   \textcolor{comment}{// a1: the result JSArray for multi-\/return.}}
\DoxyCodeLine{4445   \textcolor{comment}{// a2: pointer to the byte buffer which contains all parameters.}}
\DoxyCodeLine{4446   \textcolor{keywordflow}{if} (stack\_switch) \{}
\DoxyCodeLine{4447     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(a1,}
\DoxyCodeLine{4448                 \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(fp, StackSwitchFrameConstants::kResultArrayOffset));}
\DoxyCodeLine{4449     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(a0,}
\DoxyCodeLine{4450                 \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(fp, StackSwitchFrameConstants::kImplicitArgOffset));}
\DoxyCodeLine{4451   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{4452     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(}
\DoxyCodeLine{4453         a1,}
\DoxyCodeLine{4454         \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(fp, JSToWasmWrapperFrameConstants::kResultArrayParamOffset));}
\DoxyCodeLine{4455     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(}
\DoxyCodeLine{4456         a0, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(fp, JSToWasmWrapperFrameConstants::kImplicitArgOffset));}
\DoxyCodeLine{4457   \}}
\DoxyCodeLine{4458   \{}
\DoxyCodeLine{4459     UseScratchRegisterScope temps(masm);}
\DoxyCodeLine{4460     \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a2c0fe09f6ec07daebe777f337bfa5463}{GetContextFromImplicitArg}}(masm, a0, temps.Acquire());}
\DoxyCodeLine{4461   \}}
\DoxyCodeLine{4462   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} CallBuiltin(Builtin::kJSToWasmHandleReturns);}
\DoxyCodeLine{4463 }
\DoxyCodeLine{4464   \mbox{\hyperlink{namespacev8_1_1internal_1_1interpreter_1_1anonymous__namespace_02interpreter-generator_8cc_03_a219ad4847edd5647586f81d183a15c88}{Label}} return\_promise;}
\DoxyCodeLine{4465   \textcolor{keywordflow}{if} (stack\_switch) \{}
\DoxyCodeLine{4466     \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_adf3b790306440e9e922a1c1e90523bbc}{SwitchBackAndReturnPromise}}(masm, regs, \mbox{\hyperlink{flag-definitions_8h_adaf90f045d5cd2710edd625b8685472a}{mode}}, \&return\_promise);}
\DoxyCodeLine{4467   \}}
\DoxyCodeLine{4468   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} bind(\&suspend);}
\DoxyCodeLine{4469 }
\DoxyCodeLine{4470   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LeaveFrame(stack\_switch ? StackFrame::STACK\_SWITCH}
\DoxyCodeLine{4471                              : StackFrame::JS\_TO\_WASM);}
\DoxyCodeLine{4472   \textcolor{comment}{// Despite returning to the different location for regular and stack switching}}
\DoxyCodeLine{4473   \textcolor{comment}{// versions, incoming argument count matches both cases:}}
\DoxyCodeLine{4474   \textcolor{comment}{// instance and result array without suspend or}}
\DoxyCodeLine{4475   \textcolor{comment}{// or promise resolve/reject params for callback.}}
\DoxyCodeLine{4476   constexpr int64\_t stack\_arguments\_in = 2;}
\DoxyCodeLine{4477   \textcolor{comment}{// \_\_ DropArguments(stack\_arguments\_in);}}
\DoxyCodeLine{4478   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} AddWord(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb72381f9ca78a1b2f55c6946e319a0f}{sp}}, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb72381f9ca78a1b2f55c6946e319a0f}{sp}}, Operand(stack\_arguments\_in * \mbox{\hyperlink{namespacev8_1_1internal_a72cbfdfeabb9a401f279f7b80bcff67a}{kSystemPointerSize}}));}
\DoxyCodeLine{4479   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Ret();}
\DoxyCodeLine{4480 }
\DoxyCodeLine{4481   \textcolor{comment}{// Catch handler for the stack-\/switching wrapper: reject the promise with the}}
\DoxyCodeLine{4482   \textcolor{comment}{// thrown exception.}}
\DoxyCodeLine{4483   \textcolor{keywordflow}{if} (\mbox{\hyperlink{flag-definitions_8h_adaf90f045d5cd2710edd625b8685472a}{mode}} == \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ad97a36aa15ff4a0e71c9e8982a5cc460a6da34b562310c09460985d37264a7920}{wasm::kPromise}}) \{}
\DoxyCodeLine{4484     \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a87543ac60273781b59cfb886d268f662}{GenerateExceptionHandlingLandingPad}}(masm, regs, \&return\_promise);}
\DoxyCodeLine{4485   \}}
\DoxyCodeLine{4486 \}}

\end{DoxyCode}


References \+\_\+\+\_\+, v8\+::internal\+::\+Use\+Scratch\+Register\+Scope\+::\+Acquire(), arraysize, ASSIGN\+\_\+\+PINNED, DCHECK\+\_\+\+EQ, DCHECK\+\_\+\+NE, DEFINE\+\_\+\+PINNED, DEFINE\+\_\+\+SCOPED, FREE\+\_\+\+REG, v8\+::internal\+::ge, Generate\+Exception\+Handling\+Landing\+Pad(), Get\+Context\+From\+Implicit\+Arg(), v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::i, v8\+::internal\+::k\+Double\+Size, v8\+::internal\+::wasm\+::k\+Fp\+Param\+Registers, v8\+::internal\+::wasm\+::k\+Fp\+Return\+Registers, v8\+::internal\+::wasm\+::k\+Gp\+Param\+Registers, v8\+::internal\+::wasm\+::k\+Gp\+Return\+Registers, v8\+::internal\+::wasm\+::k\+Promise, v8\+::internal\+::k\+Return\+Register0, v8\+::internal\+::k\+Return\+Register1, v8\+::internal\+::k\+Root\+Register, v8\+::internal\+::wasm\+::k\+Stress\+Switch, v8\+::internal\+::k\+System\+Pointer\+Size, v8\+::internal\+::k\+System\+Pointer\+Size\+Log2, v8\+::internal\+::k\+Wasm\+Implicit\+Arg\+Register, mode(), v8\+::internal\+::no\+\_\+reg, Switch\+Back\+And\+Return\+Promise(), Switch\+To\+Allocated\+Stack(), v8\+::internal\+::\+Isolate\+::thread\+\_\+in\+\_\+wasm\+\_\+flag\+\_\+address\+\_\+offset(), and v8\+::internal\+::\+Wasm\+JSTo\+Wasm\+Wrapper\+Descriptor\+::\+Wrapper\+Buffer\+Register().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_af7ed3660e77e13b0804b0b07c7bcbfb5_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a700d4a9d15fb643ad7c66edc07989ce1}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a700d4a9d15fb643ad7c66edc07989ce1}} 
\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}!LoadJumpBuffer@{LoadJumpBuffer}}
\index{LoadJumpBuffer@{LoadJumpBuffer}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{LoadJumpBuffer()}{LoadJumpBuffer()}}
{\footnotesize\ttfamily void v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/riscv.\+cc\}\+::Load\+Jump\+Buffer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$}]{masm,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}}}]{stack,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}}}]{load\+\_\+pc,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}}}]{tmp,  }\item[{\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1JumpBuffer_ae01815403be2efcd294f92390cd01fc2}{wasm\+::\+Jump\+Buffer\+::\+Stack\+State}}}]{expected\+\_\+state }\end{DoxyParamCaption})}



Definition at line 3641 of file builtins-\/riscv.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3642                                                                            \{}
\DoxyCodeLine{3643   \mbox{\hyperlink{codegen_2assembler_8h_aa9b6b07d630b3249a10dea3be092a204}{ASM\_CODE\_COMMENT}}(masm);}
\DoxyCodeLine{3644   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_ab0dbdb6f1cbb8ed561b5a70a243cfecc}{SwitchStackPointerAndSimulatorStackLimit}}(masm, \mbox{\hyperlink{namespacev8_1_1internal_a2e748ee13f84c923e077d341045b1212}{stack}});}
\DoxyCodeLine{3645   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(fp, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(\mbox{\hyperlink{namespacev8_1_1internal_a2e748ee13f84c923e077d341045b1212}{stack}}, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a203b9df1763390733ba46e44ce41b244}{wasm::kStackFpOffset}}));}
\DoxyCodeLine{3646   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a41c63dcff94b3638bc007682c0deeff9}{SwitchStackState}}(masm, \mbox{\hyperlink{namespacev8_1_1internal_a2e748ee13f84c923e077d341045b1212}{stack}}, tmp, expected\_state, wasm::JumpBuffer::Active);}
\DoxyCodeLine{3647   \textcolor{keywordflow}{if} (load\_pc) \{}
\DoxyCodeLine{3648     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(tmp, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(\mbox{\hyperlink{namespacev8_1_1internal_a2e748ee13f84c923e077d341045b1212}{stack}}, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac046d870819931e0618dfdfc7e5e6905}{wasm::kStackPcOffset}}));}
\DoxyCodeLine{3649     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Jump(tmp);}
\DoxyCodeLine{3650   \}}
\DoxyCodeLine{3651   \textcolor{comment}{// The stack limit in StackGuard is set separately under the ExecutionAccess}}
\DoxyCodeLine{3652   \textcolor{comment}{// lock.}}
\DoxyCodeLine{3653 \}}

\end{DoxyCode}


References \+\_\+\+\_\+, v8\+::internal\+::wasm\+::\+Jump\+Buffer\+::\+Active, ASM\+\_\+\+CODE\+\_\+\+COMMENT, v8\+::internal\+::wasm\+::k\+Stack\+Fp\+Offset, v8\+::internal\+::wasm\+::k\+Stack\+Pc\+Offset, v8\+::internal\+::stack, Switch\+Stack\+Pointer\+And\+Simulator\+Stack\+Limit(), and Switch\+Stack\+State().



Referenced by Generate\+\_\+\+Wasm\+Resume\+Helper(), Load\+Target\+Jump\+Buffer(), and Reload\+Parent\+Stack().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a700d4a9d15fb643ad7c66edc07989ce1_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a700d4a9d15fb643ad7c66edc07989ce1_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a9e57809c6881d2ead61050cb6998808b}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a9e57809c6881d2ead61050cb6998808b}} 
\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}!LoadTargetJumpBuffer@{LoadTargetJumpBuffer}}
\index{LoadTargetJumpBuffer@{LoadTargetJumpBuffer}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{LoadTargetJumpBuffer()}{LoadTargetJumpBuffer()}}
{\footnotesize\ttfamily void v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/riscv.\+cc\}\+::Load\+Target\+Jump\+Buffer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$}]{masm,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}}}]{target\+\_\+stack,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}}}]{tmp,  }\item[{\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1JumpBuffer_ae01815403be2efcd294f92390cd01fc2}{wasm\+::\+Jump\+Buffer\+::\+Stack\+State}}}]{expected\+\_\+state }\end{DoxyParamCaption})}



Definition at line 3852 of file builtins-\/riscv.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3854                                                                    \{}
\DoxyCodeLine{3855   \mbox{\hyperlink{codegen_2assembler_8h_aa9b6b07d630b3249a10dea3be092a204}{ASM\_CODE\_COMMENT}}(masm);}
\DoxyCodeLine{3856   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreWord(}
\DoxyCodeLine{3857       zero\_reg,}
\DoxyCodeLine{3858       \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(fp, StackSwitchFrameConstants::kGCScanSlotCountOffset));}
\DoxyCodeLine{3859   \textcolor{comment}{// Switch stack!}}
\DoxyCodeLine{3860   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a700d4a9d15fb643ad7c66edc07989ce1}{LoadJumpBuffer}}(masm, target\_stack, \textcolor{keyword}{false}, tmp, expected\_state);}
\DoxyCodeLine{3861 \}}

\end{DoxyCode}


References \+\_\+\+\_\+, ASM\+\_\+\+CODE\+\_\+\+COMMENT, and Load\+Jump\+Buffer().



Referenced by Switch\+To\+Allocated\+Stack().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a9e57809c6881d2ead61050cb6998808b_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a9e57809c6881d2ead61050cb6998808b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a510cf5bb8166333fb47074b69c25f9fd}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a510cf5bb8166333fb47074b69c25f9fd}} 
\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}!NewImplicitReceiver@{NewImplicitReceiver}}
\index{NewImplicitReceiver@{NewImplicitReceiver}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{NewImplicitReceiver()}{NewImplicitReceiver()}}
{\footnotesize\ttfamily void v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/riscv.\+cc\}\+::New\+Implicit\+Receiver (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$}]{masm }\end{DoxyParamCaption})}



Definition at line 1592 of file builtins-\/riscv.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1592                                                \{}
\DoxyCodeLine{1593   \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/ S t a t e -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1594   \textcolor{comment}{// -\/-\/ a0 : the number of arguments}}
\DoxyCodeLine{1595   \textcolor{comment}{// -\/-\/ a1 : constructor to call (checked to be a JSFunction)}}
\DoxyCodeLine{1596   \textcolor{comment}{// -\/-\/ a3 : new target}}
\DoxyCodeLine{1597   \textcolor{comment}{//}}
\DoxyCodeLine{1598   \textcolor{comment}{//  Stack:}}
\DoxyCodeLine{1599   \textcolor{comment}{//  -\/-\/ Implicit Receiver}}
\DoxyCodeLine{1600   \textcolor{comment}{//  -\/-\/ [arguments without receiver]}}
\DoxyCodeLine{1601   \textcolor{comment}{//  -\/-\/ Implicit Receiver}}
\DoxyCodeLine{1602   \textcolor{comment}{//  -\/-\/ Context}}
\DoxyCodeLine{1603   \textcolor{comment}{//  -\/-\/ FastConstructMarker}}
\DoxyCodeLine{1604   \textcolor{comment}{//  -\/-\/ FramePointer}}
\DoxyCodeLine{1605   \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1606   \mbox{\hyperlink{namespacev8_1_1internal_1_1ETWJITInterface_a6782da00e5166055555c65db3a9ec7eb}{Register}} implicit\_receiver = a4;}
\DoxyCodeLine{1607 }
\DoxyCodeLine{1608   \textcolor{comment}{// Save live registers.}}
\DoxyCodeLine{1609   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} SmiTag(a0);}
\DoxyCodeLine{1610   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Push(a0, a1, a3);}
\DoxyCodeLine{1611   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} CallBuiltin(Builtin::kFastNewObject);}
\DoxyCodeLine{1612   \textcolor{comment}{// Save result.}}
\DoxyCodeLine{1613   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} mv(implicit\_receiver, a0);}
\DoxyCodeLine{1614   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Pop(a0, a1, a3);}
\DoxyCodeLine{1615   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} \mbox{\hyperlink{namespacev8_1_1internal_1_1TorqueRuntimeMacroShims_1_1CodeStubAssembler_acb96b34c2ceba4e634640be458b61f49}{SmiUntag}}(a0);}
\DoxyCodeLine{1616 }
\DoxyCodeLine{1617   \textcolor{comment}{// Patch implicit receiver (in arguments)}}
\DoxyCodeLine{1618   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreReceiver(implicit\_receiver);}
\DoxyCodeLine{1619   \textcolor{comment}{// Patch second implicit (in construct frame)}}
\DoxyCodeLine{1620   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreWord(}
\DoxyCodeLine{1621       implicit\_receiver,}
\DoxyCodeLine{1622       \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(fp, FastConstructFrameConstants::kImplicitReceiverOffset));}
\DoxyCodeLine{1623 }
\DoxyCodeLine{1624   \textcolor{comment}{// Restore context.}}
\DoxyCodeLine{1625   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(\mbox{\hyperlink{namespacev8_1_1internal_acf7181c6ad0cb44fba9ad483652c01c9}{cp}}, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(fp, FastConstructFrameConstants::kContextOffset));}
\DoxyCodeLine{1626 \}}

\end{DoxyCode}


References \+\_\+\+\_\+, v8\+::internal\+::cp, v8\+::internal\+::\+Fast\+Construct\+Frame\+Constants\+::k\+Context\+Offset, v8\+::internal\+::\+Fast\+Construct\+Frame\+Constants\+::k\+Implicit\+Receiver\+Offset, and v8\+::internal\+::\+Torque\+Runtime\+Macro\+Shims\+::\+Code\+Stub\+Assembler\+::\+Smi\+Untag().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a510cf5bb8166333fb47074b69c25f9fd_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a5925f6ff9909d3d54d11de7d92f4a4c0}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a5925f6ff9909d3d54d11de7d92f4a4c0}} 
\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}!OnStackReplacement@{OnStackReplacement}}
\index{OnStackReplacement@{OnStackReplacement}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{OnStackReplacement()}{OnStackReplacement()}}
{\footnotesize\ttfamily void v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/riscv.\+cc\}\+::On\+Stack\+Replacement (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$}]{masm,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_aea3b4f8894952c336bdf467a8de3e294}{Osr\+Source\+Tier}}}]{source,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}}}]{maybe\+\_\+target\+\_\+code,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}}}]{expected\+\_\+param\+\_\+count }\end{DoxyParamCaption})}



Definition at line 1990 of file builtins-\/riscv.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1992                                                        \{}
\DoxyCodeLine{1993   \mbox{\hyperlink{namespacev8_1_1internal_1_1interpreter_1_1anonymous__namespace_02interpreter-generator_8cc_03_a219ad4847edd5647586f81d183a15c88}{Label}} jump\_to\_optimized\_code;}
\DoxyCodeLine{1994   \{}
\DoxyCodeLine{1995     \textcolor{comment}{// If maybe\_target\_code is not null, no need to call into runtime. A}}
\DoxyCodeLine{1996     \textcolor{comment}{// precondition here is: if maybe\_target\_code is an InstructionStream}}
\DoxyCodeLine{1997     \textcolor{comment}{// object, it must NOT be marked\_for\_deoptimization (callers must ensure}}
\DoxyCodeLine{1998     \textcolor{comment}{// this).}}
\DoxyCodeLine{1999     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} CompareTaggedAndBranch(\&jump\_to\_optimized\_code, \mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a8a814088d15799a0fa2bac29d01a1ea7}{ne}}, maybe\_target\_code,}
\DoxyCodeLine{2000                               Operand(\mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a319c3c546d24f5dd8d68074cd98b15a3}{Smi::zero}}()));}
\DoxyCodeLine{2001   \}}
\DoxyCodeLine{2002   \mbox{\hyperlink{codegen_2assembler_8h_aa9b6b07d630b3249a10dea3be092a204}{ASM\_CODE\_COMMENT}}(masm);}
\DoxyCodeLine{2003   \{}
\DoxyCodeLine{2004     FrameScope scope(masm, StackFrame::INTERNAL);}
\DoxyCodeLine{2005     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Push(expected\_param\_count);}
\DoxyCodeLine{2006     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} CallRuntime(Runtime::kCompileOptimizedOSR);}
\DoxyCodeLine{2007     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Pop(expected\_param\_count);}
\DoxyCodeLine{2008   \}}
\DoxyCodeLine{2009 }
\DoxyCodeLine{2010   \textcolor{comment}{// If the code object is null, just return to the caller.}}
\DoxyCodeLine{2011   \textcolor{comment}{// If the code object is null, just return to the caller.}}
\DoxyCodeLine{2012   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} CompareTaggedAndBranch(\&jump\_to\_optimized\_code, \mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a8a814088d15799a0fa2bac29d01a1ea7}{ne}}, maybe\_target\_code,}
\DoxyCodeLine{2013                             Operand(\mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a319c3c546d24f5dd8d68074cd98b15a3}{Smi::zero}}()));}
\DoxyCodeLine{2014   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Ret();}
\DoxyCodeLine{2015   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(maybe\_target\_code, a0);  \textcolor{comment}{// Already in the right spot.}}
\DoxyCodeLine{2016 }
\DoxyCodeLine{2017   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} bind(\&jump\_to\_optimized\_code);}
\DoxyCodeLine{2018 }
\DoxyCodeLine{2019   \textcolor{keyword}{const} \mbox{\hyperlink{namespacev8_1_1internal_1_1ETWJITInterface_a6782da00e5166055555c65db3a9ec7eb}{Register}} scratch(a2);}
\DoxyCodeLine{2020   \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(!\mbox{\hyperlink{namespacev8_1_1internal_a976c6c26a43011a580e41e6f744290a4}{AreAliased}}(maybe\_target\_code, expected\_param\_count, scratch));}
\DoxyCodeLine{2021   \textcolor{comment}{// OSR entry tracing.}}
\DoxyCodeLine{2022   \{}
\DoxyCodeLine{2023     \mbox{\hyperlink{namespacev8_1_1internal_1_1interpreter_1_1anonymous__namespace_02interpreter-generator_8cc_03_a219ad4847edd5647586f81d183a15c88}{Label}} next;}
\DoxyCodeLine{2024     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} li(scratch, ExternalReference::address\_of\_log\_or\_trace\_osr());}
\DoxyCodeLine{2025     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Lbu(scratch, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(scratch));}
\DoxyCodeLine{2026     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Branch(\&next, \mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21aef89ff7bd9abfd0deb210fbcadd24123}{eq}}, scratch, Operand(zero\_reg));}
\DoxyCodeLine{2027 }
\DoxyCodeLine{2028     \{}
\DoxyCodeLine{2029       FrameScope scope(masm, StackFrame::INTERNAL);}
\DoxyCodeLine{2030       \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Push(maybe\_target\_code, expected\_param\_count);}
\DoxyCodeLine{2031       \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} CallRuntime(Runtime::kLogOrTraceOptimizedOSREntry, 0);}
\DoxyCodeLine{2032       \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Pop(maybe\_target\_code, expected\_param\_count);}
\DoxyCodeLine{2033     \}}
\DoxyCodeLine{2034 }
\DoxyCodeLine{2035     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} bind(\&next);}
\DoxyCodeLine{2036   \}}
\DoxyCodeLine{2037 }
\DoxyCodeLine{2038   \textcolor{keywordflow}{if} (source == OsrSourceTier::kInterpreter) \{}
\DoxyCodeLine{2039     \textcolor{comment}{// Drop the handler frame that is be sitting on top of the actual}}
\DoxyCodeLine{2040     \textcolor{comment}{// JavaScript frame. This is the case then OSR is triggered from bytecode.}}
\DoxyCodeLine{2041     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LeaveFrame(StackFrame::STUB);}
\DoxyCodeLine{2042   \}}
\DoxyCodeLine{2043 }
\DoxyCodeLine{2044   \textcolor{comment}{// Check we are actually jumping to an OSR code object. This among other}}
\DoxyCodeLine{2045   \textcolor{comment}{// things ensures that the object contains deoptimization data below.}}
\DoxyCodeLine{2046   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Load32U(scratch,}
\DoxyCodeLine{2047              \mbox{\hyperlink{namespacev8_1_1internal_a6d90f6174f05f4140c8a212e6ac2e88c}{FieldMemOperand}}(maybe\_target\_code, Code::kOsrOffsetOffset));}
\DoxyCodeLine{2048   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} SbxCheck(\mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a8a814088d15799a0fa2bac29d01a1ea7}{ne}}, AbortReason::kExpectedOsrCode, scratch,}
\DoxyCodeLine{2049               Operand(\mbox{\hyperlink{namespacev8_a05f25f935e108a1ea2d150e274602b87a7ab4d58719c33b3ea2dfaefa29b111df}{BytecodeOffset::None}}().\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02temporal-parser_8cc_03_aad0e79a68bda65fa3d9cffa68dd1a619}{ToInt}}()));}
\DoxyCodeLine{2050 }
\DoxyCodeLine{2051   \textcolor{comment}{// Check the target has a matching parameter count. This ensures that the OSR}}
\DoxyCodeLine{2052   \textcolor{comment}{// code will correctly tear down our frame when leaving.}}
\DoxyCodeLine{2053   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Lhu(scratch,}
\DoxyCodeLine{2054          \mbox{\hyperlink{namespacev8_1_1internal_a6d90f6174f05f4140c8a212e6ac2e88c}{FieldMemOperand}}(maybe\_target\_code, Code::kParameterCountOffset));}
\DoxyCodeLine{2055   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} \mbox{\hyperlink{namespacev8_1_1internal_1_1TorqueRuntimeMacroShims_1_1CodeStubAssembler_acb96b34c2ceba4e634640be458b61f49}{SmiUntag}}(expected\_param\_count);}
\DoxyCodeLine{2056   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} SbxCheck(\mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21aef89ff7bd9abfd0deb210fbcadd24123}{eq}}, AbortReason::kOsrUnexpectedStackSize, scratch,}
\DoxyCodeLine{2057               Operand(expected\_param\_count));}
\DoxyCodeLine{2058 }
\DoxyCodeLine{2059   \textcolor{comment}{// Load deoptimization data from the code object.}}
\DoxyCodeLine{2060   \textcolor{comment}{// <deopt\_data> = <code>[\#deoptimization\_data\_offset]}}
\DoxyCodeLine{2061   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadProtectedPointerField(}
\DoxyCodeLine{2062       scratch,}
\DoxyCodeLine{2063       \mbox{\hyperlink{namespacev8_1_1internal_a6d90f6174f05f4140c8a212e6ac2e88c}{FieldMemOperand}}(maybe\_target\_code,}
\DoxyCodeLine{2064                       Code::kDeoptimizationDataOrInterpreterDataOffset));}
\DoxyCodeLine{2065 }
\DoxyCodeLine{2066   \textcolor{comment}{// Load the OSR entrypoint offset from the deoptimization data.}}
\DoxyCodeLine{2067   \textcolor{comment}{// <osr\_offset> = <deopt\_data>[\#header\_size + \#osr\_pc\_offset]}}
\DoxyCodeLine{2068   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} SmiUntagField(}
\DoxyCodeLine{2069       scratch,}
\DoxyCodeLine{2070       \mbox{\hyperlink{namespacev8_1_1internal_a6d90f6174f05f4140c8a212e6ac2e88c}{FieldMemOperand}}(scratch, \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02escape-analysis_8cc_03_a5f5e19ef76d2c2d72d84187ee53b0b51}{TrustedFixedArray::OffsetOfElementAt}}(}
\DoxyCodeLine{2071                                    DeoptimizationData::kOsrPcOffsetIndex)));}
\DoxyCodeLine{2072 }
\DoxyCodeLine{2073   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadCodeInstructionStart(maybe\_target\_code, maybe\_target\_code,}
\DoxyCodeLine{2074                               \mbox{\hyperlink{namespacev8_1_1internal_a4d03c33de6286b42a8983faca58fa54bab715a16065798001ba865005ba7bc068}{kJSEntrypointTag}});}
\DoxyCodeLine{2075 }
\DoxyCodeLine{2076   \textcolor{comment}{// Compute the target address = code\_entry + osr\_offset}}
\DoxyCodeLine{2077   \textcolor{comment}{// <entry\_addr> = <code\_entry> + <osr\_offset>}}
\DoxyCodeLine{2078   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a4036582e5667172d26eebb07745e2c87}{Generate\_OSREntry}}(masm, maybe\_target\_code, Operand(scratch));}
\DoxyCodeLine{2079 \}}

\end{DoxyCode}


References \+\_\+\+\_\+, v8\+::internal\+::\+Are\+Aliased(), ASM\+\_\+\+CODE\+\_\+\+COMMENT, CHECK, DCHECK\+\_\+\+EQ, v8\+::internal\+::eq, v8\+::internal\+::\+Field\+Mem\+Operand(), Generate\+\_\+\+OSREntry(), v8\+::internal\+::k\+JSEntrypoint\+Tag, v8\+::internal\+::\+Deoptimization\+Data\+::k\+Osr\+Pc\+Offset\+Index, v8\+::internal\+::ne, v8\+::internal\+::\+Bytecode\+Offset\+::\+None(), v8\+::internal\+::\+Tagged\+Array\+Base$<$ Trusted\+Fixed\+Array, Trusted\+Array\+Shape, Trusted\+Object\+Layout $>$\+::\+Offset\+Of\+Element\+At(), v8\+::internal\+::\+Torque\+Runtime\+Macro\+Shims\+::\+Code\+Stub\+Assembler\+::\+Smi\+Untag(), v8\+::internal\+::anonymous\+\_\+namespace\{temporal-\/parser.\+cc\}\+::\+To\+Int(), and v8\+::internal\+::\+Smi\+::zero().



Referenced by v8\+::internal\+::interpreter\+::anonymous\+\_\+namespace\{interpreter-\/generator.\+cc\}\+::\+IGNITION\+\_\+\+HANDLER().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a5925f6ff9909d3d54d11de7d92f4a4c0_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a5925f6ff9909d3d54d11de7d92f4a4c0_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_af80f883e5dab7a6c45f4b63f5b0f08dc}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_af80f883e5dab7a6c45f4b63f5b0f08dc}} 
\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}!ReloadParentStack@{ReloadParentStack}}
\index{ReloadParentStack@{ReloadParentStack}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{ReloadParentStack()}{ReloadParentStack()}}
{\footnotesize\ttfamily void v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/riscv.\+cc\}\+::Reload\+Parent\+Stack (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$}]{masm,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}}}]{return\+\_\+reg,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}}}]{return\+\_\+value,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}}}]{context,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}}}]{tmp1,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}}}]{tmp2,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}}}]{tmp3 }\end{DoxyParamCaption})}



Definition at line 3677 of file builtins-\/riscv.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3679                                                      \{}
\DoxyCodeLine{3680   \mbox{\hyperlink{codegen_2assembler_8h_aa9b6b07d630b3249a10dea3be092a204}{ASM\_CODE\_COMMENT}}(masm);}
\DoxyCodeLine{3681   \mbox{\hyperlink{namespacev8_1_1internal_1_1ETWJITInterface_a6782da00e5166055555c65db3a9ec7eb}{Register}} active\_stack = tmp1;}
\DoxyCodeLine{3682   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadRootRelative(active\_stack, IsolateData::active\_stack\_offset());}
\DoxyCodeLine{3683 }
\DoxyCodeLine{3684   \textcolor{comment}{// Set a null pointer in the jump buffer's SP slot to indicate to the stack}}
\DoxyCodeLine{3685   \textcolor{comment}{// frame iterator that this stack is empty.}}
\DoxyCodeLine{3686   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreWord(zero\_reg, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(active\_stack, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a2015e816a45126eb4c8c8fadc85bf74b}{wasm::kStackSpOffset}}));}
\DoxyCodeLine{3687   \{}
\DoxyCodeLine{3688     UseScratchRegisterScope temps(masm);}
\DoxyCodeLine{3689     \mbox{\hyperlink{namespacev8_1_1internal_1_1ETWJITInterface_a6782da00e5166055555c65db3a9ec7eb}{Register}} scratch = temps.Acquire();}
\DoxyCodeLine{3690     \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a41c63dcff94b3638bc007682c0deeff9}{SwitchStackState}}(masm, active\_stack, scratch, wasm::JumpBuffer::Active,}
\DoxyCodeLine{3691                      wasm::JumpBuffer::Retired);}
\DoxyCodeLine{3692   \}}
\DoxyCodeLine{3693   \mbox{\hyperlink{namespacev8_1_1internal_1_1ETWJITInterface_a6782da00e5166055555c65db3a9ec7eb}{Register}} parent = tmp2;}
\DoxyCodeLine{3694 }
\DoxyCodeLine{3695   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(parent, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(active\_stack, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a4c01e25f516b596cc024e55f09d37221}{wasm::kStackParentOffset}}));}
\DoxyCodeLine{3696 }
\DoxyCodeLine{3697   \textcolor{comment}{// Update active stack.}}
\DoxyCodeLine{3698   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreRootRelative(IsolateData::active\_stack\_offset(), parent);}
\DoxyCodeLine{3699 }
\DoxyCodeLine{3700   \textcolor{comment}{// Switch stack!}}
\DoxyCodeLine{3701   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a12ba9cd776917910b109d3651d98e2b3}{SwitchStacks}}(masm, active\_stack, \textcolor{keyword}{true}, tmp3,}
\DoxyCodeLine{3702                \{return\_reg, return\_value, context, parent\});}
\DoxyCodeLine{3703   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a700d4a9d15fb643ad7c66edc07989ce1}{LoadJumpBuffer}}(masm, parent, \textcolor{keyword}{false}, tmp3, wasm::JumpBuffer::Inactive);}
\DoxyCodeLine{3704 \}}

\end{DoxyCode}


References \+\_\+\+\_\+, v8\+::internal\+::\+Use\+Scratch\+Register\+Scope\+::\+Acquire(), v8\+::internal\+::wasm\+::\+Jump\+Buffer\+::\+Active, ASM\+\_\+\+CODE\+\_\+\+COMMENT, v8\+::internal\+::wasm\+::\+Jump\+Buffer\+::\+Inactive, v8\+::internal\+::wasm\+::k\+Stack\+Parent\+Offset, v8\+::internal\+::wasm\+::k\+Stack\+Sp\+Offset, Load\+Jump\+Buffer(), v8\+::internal\+::wasm\+::\+Jump\+Buffer\+::\+Retired, Switch\+Stacks(), and Switch\+Stack\+State().



Referenced by Generate\+Exception\+Handling\+Landing\+Pad(), and Switch\+Back\+And\+Return\+Promise().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_af80f883e5dab7a6c45f4b63f5b0f08dc_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_af80f883e5dab7a6c45f4b63f5b0f08dc_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a280c0cb77d1a55bf329b363654875585}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a280c0cb77d1a55bf329b363654875585}} 
\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}!ResetFeedbackVectorOsrUrgency@{ResetFeedbackVectorOsrUrgency}}
\index{ResetFeedbackVectorOsrUrgency@{ResetFeedbackVectorOsrUrgency}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{ResetFeedbackVectorOsrUrgency()}{ResetFeedbackVectorOsrUrgency()}}
{\footnotesize\ttfamily void v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/riscv.\+cc\}\+::Reset\+Feedback\+Vector\+Osr\+Urgency (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$}]{masm,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}}}]{feedback\+\_\+vector,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}}}]{scratch }\end{DoxyParamCaption})}



Definition at line 968 of file builtins-\/riscv.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{969                                                                                \{}
\DoxyCodeLine{970   \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(!\mbox{\hyperlink{namespacev8_1_1internal_a976c6c26a43011a580e41e6f744290a4}{AreAliased}}(feedback\_vector, scratch));}
\DoxyCodeLine{971   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Lbu(scratch,}
\DoxyCodeLine{972          \mbox{\hyperlink{namespacev8_1_1internal_a6d90f6174f05f4140c8a212e6ac2e88c}{FieldMemOperand}}(feedback\_vector, FeedbackVector::kOsrStateOffset));}
\DoxyCodeLine{973   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1liftoff_ab4890d575215a42aa89598b56f9082bd}{And}}(scratch, scratch, Operand(\string~FeedbackVector::OsrUrgencyBits::kMask));}
\DoxyCodeLine{974   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Sb(scratch,}
\DoxyCodeLine{975         \mbox{\hyperlink{namespacev8_1_1internal_a6d90f6174f05f4140c8a212e6ac2e88c}{FieldMemOperand}}(feedback\_vector, FeedbackVector::kOsrStateOffset));}
\DoxyCodeLine{976 \}}

\end{DoxyCode}


References \+\_\+\+\_\+, v8\+::internal\+::wasm\+::liftoff\+::\+And(), v8\+::internal\+::\+Are\+Aliased(), v8\+::internal\+::\+DCHECK(), and v8\+::internal\+::\+Field\+Mem\+Operand().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a280c0cb77d1a55bf329b363654875585_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a020395d7b29a1f4b8d209e32acf2a31b}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a020395d7b29a1f4b8d209e32acf2a31b}} 
\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}!ResetJSFunctionAge@{ResetJSFunctionAge}}
\index{ResetJSFunctionAge@{ResetJSFunctionAge}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{ResetJSFunctionAge()}{ResetJSFunctionAge()}}
{\footnotesize\ttfamily void v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/riscv.\+cc\}\+::Reset\+JSFunction\+Age (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$}]{masm,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}}}]{js\+\_\+function,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}}}]{scratch }\end{DoxyParamCaption})}



Definition at line 959 of file builtins-\/riscv.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{960                                           \{}
\DoxyCodeLine{961   \textcolor{keyword}{const} \mbox{\hyperlink{namespacev8_1_1internal_1_1ETWJITInterface_a6782da00e5166055555c65db3a9ec7eb}{Register}} shared\_function\_info(scratch);}
\DoxyCodeLine{962   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadTaggedField(}
\DoxyCodeLine{963       shared\_function\_info,}
\DoxyCodeLine{964       \mbox{\hyperlink{namespacev8_1_1internal_a6d90f6174f05f4140c8a212e6ac2e88c}{FieldMemOperand}}(js\_function, JSFunction::kSharedFunctionInfoOffset));}
\DoxyCodeLine{965   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a88e8918bf08ea27756283772df27b208}{ResetSharedFunctionInfoAge}}(masm, shared\_function\_info);}
\DoxyCodeLine{966 \}}

\end{DoxyCode}


References \+\_\+\+\_\+, v8\+::internal\+::\+Field\+Mem\+Operand(), and Reset\+Shared\+Function\+Info\+Age().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a020395d7b29a1f4b8d209e32acf2a31b_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a88e8918bf08ea27756283772df27b208}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a88e8918bf08ea27756283772df27b208}} 
\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}!ResetSharedFunctionInfoAge@{ResetSharedFunctionInfoAge}}
\index{ResetSharedFunctionInfoAge@{ResetSharedFunctionInfoAge}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{ResetSharedFunctionInfoAge()}{ResetSharedFunctionInfoAge()}}
{\footnotesize\ttfamily void v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/riscv.\+cc\}\+::Reset\+Shared\+Function\+Info\+Age (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$}]{masm,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}}}]{sfi }\end{DoxyParamCaption})}



Definition at line 955 of file builtins-\/riscv.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{955                                                                     \{}
\DoxyCodeLine{956   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Sh(zero\_reg, \mbox{\hyperlink{namespacev8_1_1internal_a6d90f6174f05f4140c8a212e6ac2e88c}{FieldMemOperand}}(sfi, SharedFunctionInfo::kAgeOffset));}
\DoxyCodeLine{957 \}}

\end{DoxyCode}


References \+\_\+\+\_\+, and v8\+::internal\+::\+Field\+Mem\+Operand().



Referenced by Reset\+JSFunction\+Age().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a88e8918bf08ea27756283772df27b208_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a88e8918bf08ea27756283772df27b208_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a701968c3d7f8a96ffcd1639e17dd7760}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a701968c3d7f8a96ffcd1639e17dd7760}} 
\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}!ResetStackSwitchFrameStackSlots@{ResetStackSwitchFrameStackSlots}}
\index{ResetStackSwitchFrameStackSlots@{ResetStackSwitchFrameStackSlots}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{ResetStackSwitchFrameStackSlots()}{ResetStackSwitchFrameStackSlots()}}
{\footnotesize\ttfamily void v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/riscv.\+cc\}\+::Reset\+Stack\+Switch\+Frame\+Stack\+Slots (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$}]{masm }\end{DoxyParamCaption})}



Definition at line 3844 of file builtins-\/riscv.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3844                                                            \{}
\DoxyCodeLine{3845   \mbox{\hyperlink{codegen_2assembler_8h_aa9b6b07d630b3249a10dea3be092a204}{ASM\_CODE\_COMMENT}}(masm);}
\DoxyCodeLine{3846   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreWord(zero\_reg,}
\DoxyCodeLine{3847                \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(fp, StackSwitchFrameConstants::kResultArrayOffset));}
\DoxyCodeLine{3848   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreWord(zero\_reg,}
\DoxyCodeLine{3849                \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(fp, StackSwitchFrameConstants::kImplicitArgOffset));}
\DoxyCodeLine{3850 \}}

\end{DoxyCode}


References \+\_\+\+\_\+, and ASM\+\_\+\+CODE\+\_\+\+COMMENT.



Referenced by Generate\+\_\+\+Wasm\+Resume\+Helper(), and Switch\+To\+Allocated\+Stack().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a701968c3d7f8a96ffcd1639e17dd7760_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a4ba6e94487fa2cf3cb12baf0f0361e93}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a4ba6e94487fa2cf3cb12baf0f0361e93}} 
\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}!RestoreParentSuspender@{RestoreParentSuspender}}
\index{RestoreParentSuspender@{RestoreParentSuspender}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{RestoreParentSuspender()}{RestoreParentSuspender()}}
{\footnotesize\ttfamily void v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/riscv.\+cc\}\+::Restore\+Parent\+Suspender (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$}]{masm,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}}}]{tmp1 }\end{DoxyParamCaption})}



Definition at line 3706 of file builtins-\/riscv.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3706                                                                  \{}
\DoxyCodeLine{3707   \mbox{\hyperlink{codegen_2assembler_8h_aa9b6b07d630b3249a10dea3be092a204}{ASM\_CODE\_COMMENT}}(masm);}
\DoxyCodeLine{3708   \mbox{\hyperlink{namespacev8_1_1internal_1_1ETWJITInterface_a6782da00e5166055555c65db3a9ec7eb}{Register}} suspender = tmp1;}
\DoxyCodeLine{3709   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadRoot(suspender, RootIndex::kActiveSuspender);}
\DoxyCodeLine{3710   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadTaggedField(}
\DoxyCodeLine{3711       suspender,}
\DoxyCodeLine{3712       \mbox{\hyperlink{namespacev8_1_1internal_a6d90f6174f05f4140c8a212e6ac2e88c}{FieldMemOperand}}(suspender, WasmSuspenderObject::kParentOffset));}
\DoxyCodeLine{3713 }
\DoxyCodeLine{3714   \mbox{\hyperlink{namespaceunibrow_ab0275d47f9778d486eafe88b18c5851d}{int32\_t}} active\_suspender\_offset =}
\DoxyCodeLine{3715       MacroAssembler::RootRegisterOffsetForRootIndex(}
\DoxyCodeLine{3716           RootIndex::kActiveSuspender);}
\DoxyCodeLine{3717   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreWord(suspender, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(\mbox{\hyperlink{namespacev8_1_1internal_a01dcaa197306e2eb868f18c334a34363}{kRootRegister}}, active\_suspender\_offset));}
\DoxyCodeLine{3718 \}}

\end{DoxyCode}


References \+\_\+\+\_\+, ASM\+\_\+\+CODE\+\_\+\+COMMENT, v8\+::internal\+::\+Field\+Mem\+Operand(), v8\+::internal\+::k\+Root\+Register, and v8\+::internal\+::\+Macro\+Assembler\+Base\+::\+Root\+Register\+Offset\+For\+Root\+Index().



Referenced by Generate\+Exception\+Handling\+Landing\+Pad(), and Switch\+Back\+And\+Return\+Promise().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a4ba6e94487fa2cf3cb12baf0f0361e93_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a4ba6e94487fa2cf3cb12baf0f0361e93_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_adf3b790306440e9e922a1c1e90523bbc}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_adf3b790306440e9e922a1c1e90523bbc}} 
\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}!SwitchBackAndReturnPromise@{SwitchBackAndReturnPromise}}
\index{SwitchBackAndReturnPromise@{SwitchBackAndReturnPromise}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{SwitchBackAndReturnPromise()}{SwitchBackAndReturnPromise()}}
{\footnotesize\ttfamily void v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/riscv.\+cc\}\+::Switch\+Back\+And\+Return\+Promise (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$}]{masm,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_1_1RegisterAllocator}{Register\+Allocator}} \&}]{regs,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ad97a36aa15ff4a0e71c9e8982a5cc460}{wasm\+::\+Promise}}}]{mode,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Label}{Label}} $\ast$}]{return\+\_\+promise }\end{DoxyParamCaption})}



Definition at line 4156 of file builtins-\/riscv.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4157                                                                          \{}
\DoxyCodeLine{4158   \mbox{\hyperlink{codegen_2assembler_8h_aa9b6b07d630b3249a10dea3be092a204}{ASM\_CODE\_COMMENT}}(masm);}
\DoxyCodeLine{4159   regs.ResetExcept();}
\DoxyCodeLine{4160   UseScratchRegisterScope temps(masm);}
\DoxyCodeLine{4161   \textcolor{comment}{// The return value of the wasm function becomes the parameter of the}}
\DoxyCodeLine{4162   \textcolor{comment}{// FulfillPromise builtin, and the promise is the return value of this}}
\DoxyCodeLine{4163   \textcolor{comment}{// wrapper.}}
\DoxyCodeLine{4164   \textcolor{keyword}{static} \textcolor{keyword}{const} Builtin\_FulfillPromise\_InterfaceDescriptor desc;}
\DoxyCodeLine{4165   \mbox{\hyperlink{builtins-riscv_8cc_aabfd2871a5a040af421b1d5e15e576ec}{DEFINE\_PINNED}}(promise, desc.GetRegisterParameter(0));}
\DoxyCodeLine{4166   \mbox{\hyperlink{builtins-riscv_8cc_aabfd2871a5a040af421b1d5e15e576ec}{DEFINE\_PINNED}}(return\_value, desc.GetRegisterParameter(1));}
\DoxyCodeLine{4167   \mbox{\hyperlink{builtins-riscv_8cc_ab3e4d5f4f3583221a18c9aa288938dc3}{DEFINE\_SCOPED}}(tmp);}
\DoxyCodeLine{4168   \mbox{\hyperlink{builtins-riscv_8cc_ab3e4d5f4f3583221a18c9aa288938dc3}{DEFINE\_SCOPED}}(tmp2);}
\DoxyCodeLine{4169   \mbox{\hyperlink{builtins-riscv_8cc_ab3e4d5f4f3583221a18c9aa288938dc3}{DEFINE\_SCOPED}}(tmp3);}
\DoxyCodeLine{4170   \textcolor{keywordflow}{if} (\mbox{\hyperlink{flag-definitions_8h_adaf90f045d5cd2710edd625b8685472a}{mode}} == \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ad97a36aa15ff4a0e71c9e8982a5cc460a6da34b562310c09460985d37264a7920}{wasm::kPromise}}) \{}
\DoxyCodeLine{4171     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Move(return\_value, \mbox{\hyperlink{namespacev8_1_1internal_a8654f2409b96eec341287939ca3cfab0}{kReturnRegister0}});}
\DoxyCodeLine{4172     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadRoot(promise, RootIndex::kActiveSuspender);}
\DoxyCodeLine{4173     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadTaggedField(}
\DoxyCodeLine{4174         promise, \mbox{\hyperlink{namespacev8_1_1internal_a6d90f6174f05f4140c8a212e6ac2e88c}{FieldMemOperand}}(promise, WasmSuspenderObject::kPromiseOffset));}
\DoxyCodeLine{4175   \}}
\DoxyCodeLine{4176   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(\mbox{\hyperlink{namespacev8_1_1internal_a972c0774332fdea5491955853c58bf3d}{kContextRegister}},}
\DoxyCodeLine{4177               \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(fp, StackSwitchFrameConstants::kImplicitArgOffset));}
\DoxyCodeLine{4178   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a2c0fe09f6ec07daebe777f337bfa5463}{GetContextFromImplicitArg}}(masm, \mbox{\hyperlink{namespacev8_1_1internal_a972c0774332fdea5491955853c58bf3d}{kContextRegister}}, tmp);}
\DoxyCodeLine{4179 }
\DoxyCodeLine{4180   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_af80f883e5dab7a6c45f4b63f5b0f08dc}{ReloadParentStack}}(masm, promise, return\_value, \mbox{\hyperlink{namespacev8_1_1internal_a972c0774332fdea5491955853c58bf3d}{kContextRegister}}, tmp, tmp2,}
\DoxyCodeLine{4181                     tmp3);}
\DoxyCodeLine{4182   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a4ba6e94487fa2cf3cb12baf0f0361e93}{RestoreParentSuspender}}(masm, tmp);}
\DoxyCodeLine{4183 }
\DoxyCodeLine{4184   \textcolor{keywordflow}{if} (\mbox{\hyperlink{flag-definitions_8h_adaf90f045d5cd2710edd625b8685472a}{mode}} == \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ad97a36aa15ff4a0e71c9e8982a5cc460a6da34b562310c09460985d37264a7920}{wasm::kPromise}}) \{}
\DoxyCodeLine{4185     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} li(tmp, 1);}
\DoxyCodeLine{4186     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreWord(}
\DoxyCodeLine{4187         tmp, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(fp, StackSwitchFrameConstants::kGCScanSlotCountOffset));}
\DoxyCodeLine{4188     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Push(promise);}
\DoxyCodeLine{4189     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} CallBuiltin(Builtin::kFulfillPromise);}
\DoxyCodeLine{4190     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Pop(promise);}
\DoxyCodeLine{4191   \}}
\DoxyCodeLine{4192   \mbox{\hyperlink{builtins-riscv_8cc_ac43399ae098afc801a26604396c29d2a}{FREE\_REG}}(promise);}
\DoxyCodeLine{4193   \mbox{\hyperlink{builtins-riscv_8cc_ac43399ae098afc801a26604396c29d2a}{FREE\_REG}}(return\_value);}
\DoxyCodeLine{4194   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} bind(return\_promise);}
\DoxyCodeLine{4195 \}}

\end{DoxyCode}


References \+\_\+\+\_\+, ASM\+\_\+\+CODE\+\_\+\+COMMENT, DEFINE\+\_\+\+PINNED, DEFINE\+\_\+\+SCOPED, v8\+::internal\+::\+Field\+Mem\+Operand(), FREE\+\_\+\+REG, Get\+Context\+From\+Implicit\+Arg(), v8\+::internal\+::k\+Context\+Register, v8\+::internal\+::wasm\+::k\+Promise, v8\+::internal\+::k\+Return\+Register0, mode(), Reload\+Parent\+Stack(), v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/riscv.\+cc\}\+::\+Register\+Allocator\+::\+Reset\+Except(), and Restore\+Parent\+Suspender().



Referenced by JSTo\+Wasm\+Wrapper\+Helper().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_adf3b790306440e9e922a1c1e90523bbc_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_adf3b790306440e9e922a1c1e90523bbc_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a44589450ac5ecc7a444f1f403202b56a}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a44589450ac5ecc7a444f1f403202b56a}} 
\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}!SwitchFromTheCentralStackIfNeeded@{SwitchFromTheCentralStackIfNeeded}}
\index{SwitchFromTheCentralStackIfNeeded@{SwitchFromTheCentralStackIfNeeded}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{SwitchFromTheCentralStackIfNeeded()}{SwitchFromTheCentralStackIfNeeded()}}
{\footnotesize\ttfamily void v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/riscv.\+cc\}\+::Switch\+From\+The\+Central\+Stack\+If\+Needed (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$}]{masm }\end{DoxyParamCaption})}



Definition at line 3202 of file builtins-\/riscv.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3202                                                              \{}
\DoxyCodeLine{3203   \textcolor{keyword}{using} ER = ExternalReference;}
\DoxyCodeLine{3204 }
\DoxyCodeLine{3205   \mbox{\hyperlink{namespacev8_1_1internal_1_1interpreter_1_1anonymous__namespace_02interpreter-generator_8cc_03_a219ad4847edd5647586f81d183a15c88}{Label}} no\_stack\_change;}
\DoxyCodeLine{3206   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Branch(\&no\_stack\_change, \mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21aef89ff7bd9abfd0deb210fbcadd24123}{eq}}, \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a2a66d90eb3742d0260b82a9b7b554207}{kSwitchFlagRegister}}, Operand(zero\_reg));}
\DoxyCodeLine{3207 }
\DoxyCodeLine{3208   \{}
\DoxyCodeLine{3209     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Push(\mbox{\hyperlink{namespacev8_1_1internal_a8654f2409b96eec341287939ca3cfab0}{kReturnRegister0}}, \mbox{\hyperlink{namespacev8_1_1internal_a79984c77eb492b1b57912fd6952dc1ef}{kReturnRegister1}});}
\DoxyCodeLine{3210     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} li(\mbox{\hyperlink{namespacev8_1_1internal_ad8eb7e0b5b061a4648d8a26ec1d2b6dc}{kCArgRegs}}[0], ER::isolate\_address(masm-\/>isolate()));}
\DoxyCodeLine{3211     \mbox{\hyperlink{src_2base_2logging_8h_a986dc8f4ec6dcd0644efe205c13f8eb7}{DCHECK\_NE}}(\mbox{\hyperlink{namespacev8_1_1internal_a79984c77eb492b1b57912fd6952dc1ef}{kReturnRegister1}}, \mbox{\hyperlink{namespacev8_1_1internal_ad8eb7e0b5b061a4648d8a26ec1d2b6dc}{kCArgRegs}}[0]);}
\DoxyCodeLine{3212     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} PrepareCallCFunction(1, \mbox{\hyperlink{namespacev8_1_1internal_a79984c77eb492b1b57912fd6952dc1ef}{kReturnRegister1}});}
\DoxyCodeLine{3213     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} CallCFunction(ER::wasm\_switch\_from\_the\_central\_stack(), 1,}
\DoxyCodeLine{3214                      \mbox{\hyperlink{macro-assembler_8h_a972da3b81fe4f69de69fa147784bd926a8cc8e60acfa3ae6089df773013fd73a2}{SetIsolateDataSlots::kNo}});}
\DoxyCodeLine{3215     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Pop(\mbox{\hyperlink{namespacev8_1_1internal_a8654f2409b96eec341287939ca3cfab0}{kReturnRegister0}}, \mbox{\hyperlink{namespacev8_1_1internal_a79984c77eb492b1b57912fd6952dc1ef}{kReturnRegister1}});}
\DoxyCodeLine{3216   \}}
\DoxyCodeLine{3217 }
\DoxyCodeLine{3218   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a28e35e8b45b2bd6f77fb092eedcbd12e}{SwitchSimulatorStackLimit}}(masm);}
\DoxyCodeLine{3219 }
\DoxyCodeLine{3220   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} mv(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb72381f9ca78a1b2f55c6946e319a0f}{sp}}, \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_aa2734d3051a1fa7b76ef91f584b8c06d}{kOldSPRegister}});}
\DoxyCodeLine{3221 }
\DoxyCodeLine{3222   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} bind(\&no\_stack\_change);}
\DoxyCodeLine{3223 \}}

\end{DoxyCode}


References \+\_\+\+\_\+, DCHECK\+\_\+\+NE, v8\+::internal\+::eq, v8\+::internal\+::\+Macro\+Assembler\+Base\+::isolate(), v8\+::internal\+::k\+CArg\+Regs, k\+No, k\+Old\+SPRegister, v8\+::internal\+::k\+Return\+Register0, v8\+::internal\+::k\+Return\+Register1, k\+Switch\+Flag\+Register, and Switch\+Simulator\+Stack\+Limit().



Referenced by v8\+::internal\+::\+Builtins\+::\+Generate\+\_\+\+CEntry().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a44589450ac5ecc7a444f1f403202b56a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a44589450ac5ecc7a444f1f403202b56a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a28e35e8b45b2bd6f77fb092eedcbd12e}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a28e35e8b45b2bd6f77fb092eedcbd12e}} 
\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}!SwitchSimulatorStackLimit@{SwitchSimulatorStackLimit}}
\index{SwitchSimulatorStackLimit@{SwitchSimulatorStackLimit}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{SwitchSimulatorStackLimit()}{SwitchSimulatorStackLimit()}}
{\footnotesize\ttfamily void v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/riscv.\+cc\}\+::Switch\+Simulator\+Stack\+Limit (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$}]{masm }\end{DoxyParamCaption})}



Definition at line 3134 of file builtins-\/riscv.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3134                                                      \{}
\DoxyCodeLine{3135   \textcolor{keywordflow}{if} (masm-\/>options().enable\_simulator\_code) \{}
\DoxyCodeLine{3136     UseScratchRegisterScope temps(masm);}
\DoxyCodeLine{3137     temps.Exclude(\mbox{\hyperlink{namespacev8_1_1internal_a6427e0a3987534d4dd2a032b2ae41402}{kSimulatorBreakArgument}});}
\DoxyCodeLine{3138     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} RecordComment(\textcolor{stringliteral}{"{}-\/-\/ Set simulator stack limit -\/-\/"{}});}
\DoxyCodeLine{3139     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadStackLimit(\mbox{\hyperlink{namespacev8_1_1internal_a6427e0a3987534d4dd2a032b2ae41402}{kSimulatorBreakArgument}}, StackLimitKind::kRealStackLimit);}
\DoxyCodeLine{3140     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} break\_(\mbox{\hyperlink{namespacev8_1_1internal_a25e61158d2e8d4f3dbedb5631ea5c16c}{kExceptionIsSwitchStackLimit}}, \textcolor{keyword}{false});}
\DoxyCodeLine{3141   \}}
\DoxyCodeLine{3142 \}}

\end{DoxyCode}


References \+\_\+\+\_\+, v8\+::internal\+::\+Assembler\+Options\+::enable\+\_\+simulator\+\_\+code, v8\+::internal\+::\+Use\+Scratch\+Register\+Scope\+::\+Exclude(), v8\+::internal\+::k\+Exception\+Is\+Switch\+Stack\+Limit, v8\+::internal\+::k\+Real\+Stack\+Limit, v8\+::internal\+::k\+Simulator\+Break\+Argument, and v8\+::internal\+::\+Assembler\+Base\+::options().



Referenced by Switch\+From\+The\+Central\+Stack\+If\+Needed(), and Switch\+To\+The\+Central\+Stack\+If\+Needed().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a28e35e8b45b2bd6f77fb092eedcbd12e_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a28e35e8b45b2bd6f77fb092eedcbd12e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_ab0dbdb6f1cbb8ed561b5a70a243cfecc}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_ab0dbdb6f1cbb8ed561b5a70a243cfecc}} 
\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}!SwitchStackPointerAndSimulatorStackLimit@{SwitchStackPointerAndSimulatorStackLimit}}
\index{SwitchStackPointerAndSimulatorStackLimit@{SwitchStackPointerAndSimulatorStackLimit}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{SwitchStackPointerAndSimulatorStackLimit()}{SwitchStackPointerAndSimulatorStackLimit()}}
{\footnotesize\ttfamily void v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/riscv.\+cc\}\+::Switch\+Stack\+Pointer\+And\+Simulator\+Stack\+Limit (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$}]{masm,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}}}]{stack }\end{DoxyParamCaption})}



Definition at line 3614 of file builtins-\/riscv.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3615                                                               \{}
\DoxyCodeLine{3616   \mbox{\hyperlink{codegen_2assembler_8h_aa9b6b07d630b3249a10dea3be092a204}{ASM\_CODE\_COMMENT}}(masm);}
\DoxyCodeLine{3617   \textcolor{keywordflow}{if} (masm-\/>options().enable\_simulator\_code) \{}
\DoxyCodeLine{3618     UseScratchRegisterScope temps(masm);}
\DoxyCodeLine{3619     temps.Exclude(\mbox{\hyperlink{namespacev8_1_1internal_a6427e0a3987534d4dd2a032b2ae41402}{kSimulatorBreakArgument}});}
\DoxyCodeLine{3620     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb72381f9ca78a1b2f55c6946e319a0f}{sp}}, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(\mbox{\hyperlink{namespacev8_1_1internal_a2e748ee13f84c923e077d341045b1212}{stack}}, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a2015e816a45126eb4c8c8fadc85bf74b}{wasm::kStackSpOffset}}));}
\DoxyCodeLine{3621     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(\mbox{\hyperlink{namespacev8_1_1internal_a6427e0a3987534d4dd2a032b2ae41402}{kSimulatorBreakArgument}},}
\DoxyCodeLine{3622                 \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(\mbox{\hyperlink{namespacev8_1_1internal_a2e748ee13f84c923e077d341045b1212}{stack}}, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_aa22fc940602a0e614eb09b39823e3dd2}{wasm::kStackLimitOffset}}));}
\DoxyCodeLine{3623     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} break\_(\mbox{\hyperlink{namespacev8_1_1internal_a25e61158d2e8d4f3dbedb5631ea5c16c}{kExceptionIsSwitchStackLimit}});}
\DoxyCodeLine{3624   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{3625     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb72381f9ca78a1b2f55c6946e319a0f}{sp}}, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(\mbox{\hyperlink{namespacev8_1_1internal_a2e748ee13f84c923e077d341045b1212}{stack}}, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a2015e816a45126eb4c8c8fadc85bf74b}{wasm::kStackSpOffset}}));}
\DoxyCodeLine{3626   \}}
\DoxyCodeLine{3627 \}}

\end{DoxyCode}


References \+\_\+\+\_\+, ASM\+\_\+\+CODE\+\_\+\+COMMENT, v8\+::internal\+::\+Assembler\+Options\+::enable\+\_\+simulator\+\_\+code, v8\+::internal\+::\+Use\+Scratch\+Register\+Scope\+::\+Exclude(), v8\+::internal\+::k\+Exception\+Is\+Switch\+Stack\+Limit, v8\+::internal\+::k\+Simulator\+Break\+Argument, v8\+::internal\+::wasm\+::k\+Stack\+Limit\+Offset, v8\+::internal\+::wasm\+::k\+Stack\+Sp\+Offset, v8\+::internal\+::\+Assembler\+Base\+::options(), and v8\+::internal\+::stack.



Referenced by Load\+Jump\+Buffer().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_ab0dbdb6f1cbb8ed561b5a70a243cfecc_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_ab0dbdb6f1cbb8ed561b5a70a243cfecc_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a12ba9cd776917910b109d3651d98e2b3}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a12ba9cd776917910b109d3651d98e2b3}} 
\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}!SwitchStacks@{SwitchStacks}}
\index{SwitchStacks@{SwitchStacks}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{SwitchStacks()}{SwitchStacks()}}
{\footnotesize\ttfamily void v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/riscv.\+cc\}\+::Switch\+Stacks (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$}]{masm,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}}}]{old\+\_\+stack,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}}}]{return\+\_\+switch,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}}}]{tmp,  }\item[{const std\+::initializer\+\_\+list$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} $>$}]{keep }\end{DoxyParamCaption})}



Definition at line 3656 of file builtins-\/riscv.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3657                                                                           \{}
\DoxyCodeLine{3658   \mbox{\hyperlink{codegen_2assembler_8h_aa9b6b07d630b3249a10dea3be092a204}{ASM\_CODE\_COMMENT}}(masm);}
\DoxyCodeLine{3659   \textcolor{keyword}{using} ER = ExternalReference;}
\DoxyCodeLine{3660   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} reg : keep) \{}
\DoxyCodeLine{3661     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Push(reg);}
\DoxyCodeLine{3662   \}}
\DoxyCodeLine{3663   \{}
\DoxyCodeLine{3664     FrameScope scope(masm, StackFrame::MANUAL);}
\DoxyCodeLine{3665     \textcolor{comment}{// Move \{old\_stack\} first in case it aliases kCArgRegs[0].}}
\DoxyCodeLine{3666     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} mv(\mbox{\hyperlink{namespacev8_1_1internal_ad8eb7e0b5b061a4648d8a26ec1d2b6dc}{kCArgRegs}}[1], old\_stack);}
\DoxyCodeLine{3667     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} li(\mbox{\hyperlink{namespacev8_1_1internal_ad8eb7e0b5b061a4648d8a26ec1d2b6dc}{kCArgRegs}}[0], ExternalReference::isolate\_address(masm-\/>isolate()));}
\DoxyCodeLine{3668     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} PrepareCallCFunction(2, tmp);}
\DoxyCodeLine{3669     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} CallCFunction(}
\DoxyCodeLine{3670         \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac90d5992bbcd7b448908bcc0004a4bcb}{return\_switch}} ? ER::wasm\_return\_switch() : ER::wasm\_switch\_stacks(), 2);}
\DoxyCodeLine{3671   \}}
\DoxyCodeLine{3672   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} it = std::rbegin(keep); it != std::rend(keep); ++it) \{}
\DoxyCodeLine{3673     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Pop(*it);}
\DoxyCodeLine{3674   \}}
\DoxyCodeLine{3675 \}}

\end{DoxyCode}


References \+\_\+\+\_\+, ASM\+\_\+\+CODE\+\_\+\+COMMENT, v8\+::internal\+::\+Macro\+Assembler\+Base\+::isolate(), v8\+::internal\+::\+External\+Reference\+::isolate\+\_\+address(), v8\+::internal\+::k\+CArg\+Regs, v8\+::internal\+::\+Stack\+Frame\+::\+MANUAL, and v8\+::internal\+::wasm\+::return\+\_\+switch().



Referenced by Generate\+\_\+\+Wasm\+Resume\+Helper(), Reload\+Parent\+Stack(), Switch\+To\+Allocated\+Stack(), and v8\+::internal\+::\+Isolate\+::\+Unwind\+And\+Find\+Handler().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a12ba9cd776917910b109d3651d98e2b3_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a12ba9cd776917910b109d3651d98e2b3_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a41c63dcff94b3638bc007682c0deeff9}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a41c63dcff94b3638bc007682c0deeff9}} 
\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}!SwitchStackState@{SwitchStackState}}
\index{SwitchStackState@{SwitchStackState}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{SwitchStackState()}{SwitchStackState()}}
{\footnotesize\ttfamily void v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/riscv.\+cc\}\+::Switch\+Stack\+State (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$}]{masm,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}}}]{stack,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}}}]{tmp,  }\item[{\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1JumpBuffer_ae01815403be2efcd294f92390cd01fc2}{wasm\+::\+Jump\+Buffer\+::\+Stack\+State}}}]{old\+\_\+state,  }\item[{\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1JumpBuffer_ae01815403be2efcd294f92390cd01fc2}{wasm\+::\+Jump\+Buffer\+::\+Stack\+State}}}]{new\+\_\+state }\end{DoxyParamCaption})}



Definition at line 3594 of file builtins-\/riscv.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3596                                                           \{}
\DoxyCodeLine{3597   \mbox{\hyperlink{codegen_2assembler_8h_aa9b6b07d630b3249a10dea3be092a204}{ASM\_CODE\_COMMENT}}(masm);}
\DoxyCodeLine{3598 \textcolor{preprocessor}{\#if V8\_ENABLE\_SANDBOX}}
\DoxyCodeLine{3599   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Lw(tmp, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(\mbox{\hyperlink{namespacev8_1_1internal_a2e748ee13f84c923e077d341045b1212}{stack}}, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a06510140fbcb8e898448fefb04c1dad5}{wasm::kStackStateOffset}}));}
\DoxyCodeLine{3600   \mbox{\hyperlink{namespacev8_1_1internal_1_1interpreter_1_1anonymous__namespace_02interpreter-generator_8cc_03_a219ad4847edd5647586f81d183a15c88}{Label}} ok;}
\DoxyCodeLine{3601   \textcolor{comment}{// is branch32?}}
\DoxyCodeLine{3602   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Branch(\&ok, \mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21aef89ff7bd9abfd0deb210fbcadd24123}{eq}}, tmp, Operand(old\_state));}
\DoxyCodeLine{3603   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Trap();}
\DoxyCodeLine{3604   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} bind(\&ok);}
\DoxyCodeLine{3605 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{3606   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} li(tmp, new\_state);}
\DoxyCodeLine{3607   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Sw(tmp, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(\mbox{\hyperlink{namespacev8_1_1internal_a2e748ee13f84c923e077d341045b1212}{stack}}, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a06510140fbcb8e898448fefb04c1dad5}{wasm::kStackStateOffset}}));}
\DoxyCodeLine{3608 \}}

\end{DoxyCode}


References \+\_\+\+\_\+, ASM\+\_\+\+CODE\+\_\+\+COMMENT, v8\+::internal\+::eq, v8\+::internal\+::wasm\+::k\+Stack\+State\+Offset, and v8\+::internal\+::stack.



Referenced by Generate\+\_\+\+Wasm\+Resume\+Helper(), Load\+Jump\+Buffer(), and Reload\+Parent\+Stack().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a41c63dcff94b3638bc007682c0deeff9_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a4a1d2184c5c38b277b8431d6a612f180}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a4a1d2184c5c38b277b8431d6a612f180}} 
\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}!SwitchToAllocatedStack@{SwitchToAllocatedStack}}
\index{SwitchToAllocatedStack@{SwitchToAllocatedStack}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{SwitchToAllocatedStack()}{SwitchToAllocatedStack()}}
{\footnotesize\ttfamily void v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/riscv.\+cc\}\+::Switch\+To\+Allocated\+Stack (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$}]{masm,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_1_1RegisterAllocator}{Register\+Allocator}} \&}]{regs,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}}}]{wasm\+\_\+instance,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}}}]{wrapper\+\_\+buffer,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} \&}]{original\+\_\+fp,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} \&}]{new\+\_\+wrapper\+\_\+buffer,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Label}{Label}} $\ast$}]{suspend }\end{DoxyParamCaption})}



Definition at line 4070 of file builtins-\/riscv.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4073                                             \{}
\DoxyCodeLine{4074   \mbox{\hyperlink{codegen_2assembler_8h_aa9b6b07d630b3249a10dea3be092a204}{ASM\_CODE\_COMMENT}}(masm);}
\DoxyCodeLine{4075   UseScratchRegisterScope temps(masm);}
\DoxyCodeLine{4076   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a701968c3d7f8a96ffcd1639e17dd7760}{ResetStackSwitchFrameStackSlots}}(masm);}
\DoxyCodeLine{4077   \mbox{\hyperlink{builtins-riscv_8cc_ab3e4d5f4f3583221a18c9aa288938dc3}{DEFINE\_SCOPED}}(scratch)}
\DoxyCodeLine{4078   \mbox{\hyperlink{builtins-riscv_8cc_ada86fdd785a331647154d09dea7011a6}{DEFINE\_REG}}(parent\_stack)}
\DoxyCodeLine{4079   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadRootRelative(parent\_stack, IsolateData::active\_stack\_offset());}
\DoxyCodeLine{4080   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(parent\_stack, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(parent\_stack, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a4c01e25f516b596cc024e55f09d37221}{wasm::kStackParentOffset}}));}
\DoxyCodeLine{4081   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a9912adbad00e4659ac08377d1b450435}{FillJumpBuffer}}(masm, parent\_stack, suspend, scratch);}
\DoxyCodeLine{4082   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a12ba9cd776917910b109d3651d98e2b3}{SwitchStacks}}(masm, parent\_stack, \textcolor{keyword}{false}, scratch,}
\DoxyCodeLine{4083                \{wasm\_instance, wrapper\_buffer\});}
\DoxyCodeLine{4084   \mbox{\hyperlink{builtins-riscv_8cc_ac43399ae098afc801a26604396c29d2a}{FREE\_REG}}(parent\_stack);}
\DoxyCodeLine{4085   \textcolor{comment}{// Save the old stack's fp in t4, and use it to access the parameters in}}
\DoxyCodeLine{4086   \textcolor{comment}{// the parent frame.}}
\DoxyCodeLine{4087   regs.Pinned(t4, \&original\_fp);}
\DoxyCodeLine{4088   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} mv(original\_fp, fp);}
\DoxyCodeLine{4089   \mbox{\hyperlink{builtins-riscv_8cc_ada86fdd785a331647154d09dea7011a6}{DEFINE\_REG}}(target\_stack);}
\DoxyCodeLine{4090   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadRootRelative(target\_stack, IsolateData::active\_stack\_offset());}
\DoxyCodeLine{4091   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a9e57809c6881d2ead61050cb6998808b}{LoadTargetJumpBuffer}}(masm, target\_stack, scratch,}
\DoxyCodeLine{4092                        wasm::JumpBuffer::Suspended);}
\DoxyCodeLine{4093   \mbox{\hyperlink{builtins-riscv_8cc_ac43399ae098afc801a26604396c29d2a}{FREE\_REG}}(target\_stack);}
\DoxyCodeLine{4094 }
\DoxyCodeLine{4095   \textcolor{comment}{// Push the loaded fp. We know it is null, because there is no frame yet,}}
\DoxyCodeLine{4096   \textcolor{comment}{// so we could also push 0 directly. In any case we need to push it,}}
\DoxyCodeLine{4097   \textcolor{comment}{// because this marks the base of the stack segment for}}
\DoxyCodeLine{4098   \textcolor{comment}{// the stack frame iterator.}}
\DoxyCodeLine{4099   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} EnterFrame(StackFrame::STACK\_SWITCH);}
\DoxyCodeLine{4100 }
\DoxyCodeLine{4101   \textcolor{keywordtype}{int} stack\_space =}
\DoxyCodeLine{4102       \mbox{\hyperlink{src_2base_2macros_8h_a5113f5db9eec9c30ecea57b8d4175f2d}{RoundUp}}(StackSwitchFrameConstants::kNumSpillSlots * \mbox{\hyperlink{namespacev8_1_1internal_a72cbfdfeabb9a401f279f7b80bcff67a}{kSystemPointerSize}} +}
\DoxyCodeLine{4103                   JSToWasmWrapperFrameConstants::kWrapperBufferSize,}
\DoxyCodeLine{4104               16);}
\DoxyCodeLine{4105   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} SubWord(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb72381f9ca78a1b2f55c6946e319a0f}{sp}}, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb72381f9ca78a1b2f55c6946e319a0f}{sp}}, Operand(stack\_space));}
\DoxyCodeLine{4106 }
\DoxyCodeLine{4107   \mbox{\hyperlink{builtins-riscv_8cc_a65617c0bc71019a1b79d3d43301b7c6c}{ASSIGN\_REG}}(new\_wrapper\_buffer)}
\DoxyCodeLine{4108 }
\DoxyCodeLine{4109   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} mv(new\_wrapper\_buffer, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb72381f9ca78a1b2f55c6946e319a0f}{sp}});}
\DoxyCodeLine{4110   \textcolor{comment}{// Copy data needed for return handling from old wrapper buffer to new one.}}
\DoxyCodeLine{4111   \textcolor{comment}{// kWrapperBufferRefReturnCount will be copied too, because 8 bytes are copied}}
\DoxyCodeLine{4112   \textcolor{comment}{// at the same time.}}
\DoxyCodeLine{4113   static\_assert(JSToWasmWrapperFrameConstants::kWrapperBufferRefReturnCount ==}
\DoxyCodeLine{4114                 JSToWasmWrapperFrameConstants::kWrapperBufferReturnCount + 4);}
\DoxyCodeLine{4115   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(}
\DoxyCodeLine{4116       scratch,}
\DoxyCodeLine{4117       \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(wrapper\_buffer,}
\DoxyCodeLine{4118                  JSToWasmWrapperFrameConstants::kWrapperBufferReturnCount));}
\DoxyCodeLine{4119   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreWord(}
\DoxyCodeLine{4120       scratch,}
\DoxyCodeLine{4121       \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(new\_wrapper\_buffer,}
\DoxyCodeLine{4122                  JSToWasmWrapperFrameConstants::kWrapperBufferReturnCount));}
\DoxyCodeLine{4123   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} LoadWord(}
\DoxyCodeLine{4124       scratch,}
\DoxyCodeLine{4125       \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(}
\DoxyCodeLine{4126           wrapper\_buffer,}
\DoxyCodeLine{4127           JSToWasmWrapperFrameConstants::kWrapperBufferSigRepresentationArray));}
\DoxyCodeLine{4128   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreWord(}
\DoxyCodeLine{4129       scratch,}
\DoxyCodeLine{4130       \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(}
\DoxyCodeLine{4131           new\_wrapper\_buffer,}
\DoxyCodeLine{4132           JSToWasmWrapperFrameConstants::kWrapperBufferSigRepresentationArray));}
\DoxyCodeLine{4133 \}}

\end{DoxyCode}


References \+\_\+\+\_\+, ASM\+\_\+\+CODE\+\_\+\+COMMENT, ASSIGN\+\_\+\+REG, DEFINE\+\_\+\+REG, DEFINE\+\_\+\+SCOPED, Fill\+Jump\+Buffer(), FREE\+\_\+\+REG, v8\+::internal\+::wasm\+::k\+Stack\+Parent\+Offset, v8\+::internal\+::k\+System\+Pointer\+Size, Load\+Target\+Jump\+Buffer(), v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/riscv.\+cc\}\+::\+Register\+Allocator\+::\+Pinned(), Reset\+Stack\+Switch\+Frame\+Stack\+Slots(), Round\+Up(), v8\+::internal\+::wasm\+::\+Jump\+Buffer\+::\+Suspended, and Switch\+Stacks().



Referenced by JSTo\+Wasm\+Wrapper\+Helper().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a4a1d2184c5c38b277b8431d6a612f180_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a4a1d2184c5c38b277b8431d6a612f180_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a51cf28b23c60985a8feac180366bb71e}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a51cf28b23c60985a8feac180366bb71e}} 
\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}!SwitchToTheCentralStackIfNeeded@{SwitchToTheCentralStackIfNeeded}}
\index{SwitchToTheCentralStackIfNeeded@{SwitchToTheCentralStackIfNeeded}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{SwitchToTheCentralStackIfNeeded()}{SwitchToTheCentralStackIfNeeded()}}
{\footnotesize\ttfamily void v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/riscv.\+cc\}\+::Switch\+To\+The\+Central\+Stack\+If\+Needed (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1MacroAssembler}{Macro\+Assembler}} $\ast$}]{masm,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}}}]{argc\+\_\+input,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}}}]{target\+\_\+input,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}}}]{argv\+\_\+input }\end{DoxyParamCaption})}



Definition at line 3147 of file builtins-\/riscv.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3149                                                           \{}
\DoxyCodeLine{3150   \textcolor{keyword}{using} ER = ExternalReference;}
\DoxyCodeLine{3151 }
\DoxyCodeLine{3152   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} li(\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a2a66d90eb3742d0260b82a9b7b554207}{kSwitchFlagRegister}}, 0);}
\DoxyCodeLine{3153   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} mv(\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_aa2734d3051a1fa7b76ef91f584b8c06d}{kOldSPRegister}}, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb72381f9ca78a1b2f55c6946e319a0f}{sp}});}
\DoxyCodeLine{3154 }
\DoxyCodeLine{3155   \textcolor{comment}{// Using x2-\/x4 as temporary registers, because they will be rewritten}}
\DoxyCodeLine{3156   \textcolor{comment}{// before exiting to native code anyway.}}
\DoxyCodeLine{3157 }
\DoxyCodeLine{3158   ER on\_central\_stack\_flag\_loc = ER::Create(}
\DoxyCodeLine{3159       IsolateAddressId::kIsOnCentralStackFlagAddress, masm-\/>isolate());}
\DoxyCodeLine{3160   \textcolor{keyword}{const} \mbox{\hyperlink{namespacev8_1_1internal_1_1ETWJITInterface_a6782da00e5166055555c65db3a9ec7eb}{Register}}\& on\_central\_stack\_flag = a2;}
\DoxyCodeLine{3161   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} li(on\_central\_stack\_flag, on\_central\_stack\_flag\_loc);}
\DoxyCodeLine{3162   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Lb(on\_central\_stack\_flag, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(on\_central\_stack\_flag));}
\DoxyCodeLine{3163 }
\DoxyCodeLine{3164   \mbox{\hyperlink{namespacev8_1_1internal_1_1interpreter_1_1anonymous__namespace_02interpreter-generator_8cc_03_a219ad4847edd5647586f81d183a15c88}{Label}} do\_not\_need\_to\_switch;}
\DoxyCodeLine{3165   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Branch(\&do\_not\_need\_to\_switch, \mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a8a814088d15799a0fa2bac29d01a1ea7}{ne}}, on\_central\_stack\_flag,}
\DoxyCodeLine{3166             Operand(zero\_reg));}
\DoxyCodeLine{3167   \textcolor{comment}{// Switch to central stack.}}
\DoxyCodeLine{3168 }
\DoxyCodeLine{3169   \textcolor{keyword}{static} constexpr \mbox{\hyperlink{namespacev8_1_1internal_1_1ETWJITInterface_a6782da00e5166055555c65db3a9ec7eb}{Register}} central\_stack\_sp = a4;}
\DoxyCodeLine{3170   \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(!\mbox{\hyperlink{namespacev8_1_1internal_a976c6c26a43011a580e41e6f744290a4}{AreAliased}}(central\_stack\_sp, argc\_input, argv\_input, target\_input));}
\DoxyCodeLine{3171   \{}
\DoxyCodeLine{3172     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Push(argc\_input, target\_input, argv\_input);}
\DoxyCodeLine{3173     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} PrepareCallCFunction(2, argc\_input);}
\DoxyCodeLine{3174     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} li(\mbox{\hyperlink{namespacev8_1_1internal_ad8eb7e0b5b061a4648d8a26ec1d2b6dc}{kCArgRegs}}[0], ER::isolate\_address(masm-\/>isolate()));}
\DoxyCodeLine{3175     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} mv(\mbox{\hyperlink{namespacev8_1_1internal_ad8eb7e0b5b061a4648d8a26ec1d2b6dc}{kCArgRegs}}[1], \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_aa2734d3051a1fa7b76ef91f584b8c06d}{kOldSPRegister}});}
\DoxyCodeLine{3176     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} CallCFunction(ER::wasm\_switch\_to\_the\_central\_stack(), 2,}
\DoxyCodeLine{3177                      \mbox{\hyperlink{macro-assembler_8h_a972da3b81fe4f69de69fa147784bd926a8cc8e60acfa3ae6089df773013fd73a2}{SetIsolateDataSlots::kNo}});}
\DoxyCodeLine{3178     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} mv(central\_stack\_sp, \mbox{\hyperlink{namespacev8_1_1internal_a8654f2409b96eec341287939ca3cfab0}{kReturnRegister0}});}
\DoxyCodeLine{3179     \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Pop(argc\_input, target\_input, argv\_input);}
\DoxyCodeLine{3180   \}}
\DoxyCodeLine{3181 }
\DoxyCodeLine{3182   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a28e35e8b45b2bd6f77fb092eedcbd12e}{SwitchSimulatorStackLimit}}(masm);}
\DoxyCodeLine{3183 }
\DoxyCodeLine{3184   \textcolor{keyword}{static} constexpr \textcolor{keywordtype}{int} kReturnAddressSlotOffset = 1 * \mbox{\hyperlink{namespacev8_1_1internal_a72cbfdfeabb9a401f279f7b80bcff67a}{kSystemPointerSize}};}
\DoxyCodeLine{3185   \textcolor{keyword}{static} constexpr \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal_a482944934a1ccec1124aff7156b0efa1a3cb795aa4472ac474bc8fb791cb24828}{kPadding}} = 1 * \mbox{\hyperlink{namespacev8_1_1internal_a72cbfdfeabb9a401f279f7b80bcff67a}{kSystemPointerSize}};}
\DoxyCodeLine{3186   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} SubWord(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb72381f9ca78a1b2f55c6946e319a0f}{sp}}, central\_stack\_sp, kReturnAddressSlotOffset + kPadding);}
\DoxyCodeLine{3187 }
\DoxyCodeLine{3188 \textcolor{preprocessor}{\#ifdef V8\_TARGET\_ARCH\_RISCV32}}
\DoxyCodeLine{3189   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} EnforceStackAlignment();}
\DoxyCodeLine{3190 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{3191   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} li(\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a2a66d90eb3742d0260b82a9b7b554207}{kSwitchFlagRegister}}, 1);}
\DoxyCodeLine{3192 }
\DoxyCodeLine{3193   \textcolor{comment}{// Update the sp saved in the frame.}}
\DoxyCodeLine{3194   \textcolor{comment}{// It will be used to calculate the callee pc during GC.}}
\DoxyCodeLine{3195   \textcolor{comment}{// The pc is going to be on the new stack segment, so rewrite it here.}}
\DoxyCodeLine{3196   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} AddWord(central\_stack\_sp, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb72381f9ca78a1b2f55c6946e319a0f}{sp}}, \mbox{\hyperlink{namespacev8_1_1internal_a72cbfdfeabb9a401f279f7b80bcff67a}{kSystemPointerSize}});}
\DoxyCodeLine{3197   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} StoreWord(central\_stack\_sp, \mbox{\hyperlink{namespacev8_1_1internal_a6bbd00674642501f2e64385c71102c2c}{MemOperand}}(fp, ExitFrameConstants::kSPOffset));}
\DoxyCodeLine{3198 }
\DoxyCodeLine{3199   \mbox{\hyperlink{builtins-riscv_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} bind(\&do\_not\_need\_to\_switch);}
\DoxyCodeLine{3200 \}}

\end{DoxyCode}


References \+\_\+\+\_\+, v8\+::internal\+::\+Are\+Aliased(), v8\+::internal\+::\+DCHECK(), v8\+::internal\+::\+Macro\+Assembler\+Base\+::isolate(), v8\+::internal\+::k\+CArg\+Regs, k\+No, k\+Old\+SPRegister, v8\+::internal\+::k\+Padding, v8\+::internal\+::k\+Return\+Register0, v8\+::internal\+::\+Exit\+Frame\+Constants\+::k\+SPOffset, k\+Switch\+Flag\+Register, v8\+::internal\+::k\+System\+Pointer\+Size, v8\+::internal\+::ne, and Switch\+Simulator\+Stack\+Limit().



Referenced by v8\+::internal\+::compiler\+::\+Code\+Assembler\+::\+Call\+Builtin(), and v8\+::internal\+::\+Builtins\+::\+Generate\+\_\+\+CEntry().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a51cf28b23c60985a8feac180366bb71e_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a51cf28b23c60985a8feac180366bb71e_icgraph}
\end{center}
\end{figure}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_aa2734d3051a1fa7b76ef91f584b8c06d}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_aa2734d3051a1fa7b76ef91f584b8c06d}} 
\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}!kOldSPRegister@{kOldSPRegister}}
\index{kOldSPRegister@{kOldSPRegister}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{kOldSPRegister}{kOldSPRegister}}
{\footnotesize\ttfamily constexpr \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/riscv.\+cc\}\+::k\+Old\+SPRegister = s9\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}}



Definition at line 3144 of file builtins-\/riscv.\+cc.



Referenced by Switch\+From\+The\+Central\+Stack\+If\+Needed(), and Switch\+To\+The\+Central\+Stack\+If\+Needed().

\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a2a66d90eb3742d0260b82a9b7b554207}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-riscv_8cc_03_a2a66d90eb3742d0260b82a9b7b554207}} 
\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}!kSwitchFlagRegister@{kSwitchFlagRegister}}
\index{kSwitchFlagRegister@{kSwitchFlagRegister}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/riscv.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{kSwitchFlagRegister}{kSwitchFlagRegister}}
{\footnotesize\ttfamily constexpr \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/riscv.\+cc\}\+::k\+Switch\+Flag\+Register = s10\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}}



Definition at line 3145 of file builtins-\/riscv.\+cc.



Referenced by Switch\+From\+The\+Central\+Stack\+If\+Needed(), and Switch\+To\+The\+Central\+Stack\+If\+Needed().

