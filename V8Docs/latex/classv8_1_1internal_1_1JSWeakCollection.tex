\hypertarget{classv8_1_1internal_1_1JSWeakCollection}{}\doxysection{v8\+::internal\+::JSWeak\+Collection Class Reference}
\label{classv8_1_1internal_1_1JSWeakCollection}\index{v8::internal::JSWeakCollection@{v8::internal::JSWeakCollection}}


{\ttfamily \#include $<$js-\/collection.\+h$>$}



Inheritance diagram for v8\+::internal\+::JSWeak\+Collection\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=274pt]{classv8_1_1internal_1_1JSWeakCollection__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for v8\+::internal\+::JSWeak\+Collection\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1JSWeakCollection__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classv8_1_1internal_1_1JSWeakCollection_1_1BodyDescriptorImpl}{Body\+Descriptor\+Impl}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
using \mbox{\hyperlink{classv8_1_1internal_1_1JSWeakCollection_a8573c1492d521409ec79b49dc1d4a8ed}{Body\+Descriptor}} = \mbox{\hyperlink{classv8_1_1internal_1_1JSWeakCollection_1_1BodyDescriptorImpl}{Body\+Descriptor\+Impl}}
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static void \mbox{\hyperlink{classv8_1_1internal_1_1JSWeakCollection_ae670995e3759d21568e2f01ad152f15d}{Initialize}} (\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSWeakCollection}{JSWeak\+Collection}} $>$ collection, \mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate)
\item 
static \mbox{\hyperlink{src_2base_2macros_8h_ab08e353943a53678ac6baafc678f2d81}{V8\+\_\+\+EXPORT\+\_\+\+PRIVATE}} void \mbox{\hyperlink{classv8_1_1internal_1_1JSWeakCollection_aa0b0d33bd8578e0ecc1c9a4b94132bd9}{Set}} (\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSWeakCollection}{JSWeak\+Collection}} $>$ collection, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}} $>$ \mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}}, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}} $>$ \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}, int32\+\_\+t hash)
\item 
static \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1JSWeakCollection_a61ba7c44f37b0a70583f1cd1ad6f4919}{Delete}} (\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSWeakCollection}{JSWeak\+Collection}} $>$ collection, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}} $>$ \mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}}, int32\+\_\+t hash)
\item 
static \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSArray}{JSArray}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1JSWeakCollection_aeedbb6b0d9ea7e5a2e8f73796fee76c3}{Get\+Entries}} (\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSWeakCollection}{JSWeak\+Collection}} $>$ holder, uint32\+\_\+t max\+\_\+entries)
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
static const \mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{classv8_1_1internal_1_1JSWeakCollection_a124176a318db58b2c1508dc72b62a692}{k\+Add\+Function\+Descriptor\+Index}} = 3
\item 
static const \mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{classv8_1_1internal_1_1JSWeakCollection_ae96cc8a9fd5f7290debee316fa52acce}{k\+Header\+Size\+Of\+All\+Weak\+Collections}} = k\+Header\+Size
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 85 of file js-\/collection.\+h.



\doxysubsection{Member Typedef Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1JSWeakCollection_a8573c1492d521409ec79b49dc1d4a8ed}\label{classv8_1_1internal_1_1JSWeakCollection_a8573c1492d521409ec79b49dc1d4a8ed}} 
\index{v8::internal::JSWeakCollection@{v8::internal::JSWeakCollection}!BodyDescriptor@{BodyDescriptor}}
\index{BodyDescriptor@{BodyDescriptor}!v8::internal::JSWeakCollection@{v8::internal::JSWeakCollection}}
\doxysubsubsection{\texorpdfstring{BodyDescriptor}{BodyDescriptor}}
{\footnotesize\ttfamily using \mbox{\hyperlink{classv8_1_1internal_1_1JSWeakCollection_a8573c1492d521409ec79b49dc1d4a8ed}{v8\+::internal\+::\+JSWeak\+Collection\+::\+Body\+Descriptor}} =  \mbox{\hyperlink{classv8_1_1internal_1_1JSWeakCollection_1_1BodyDescriptorImpl}{Body\+Descriptor\+Impl}}}



Definition at line 104 of file js-\/collection.\+h.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1JSWeakCollection_a61ba7c44f37b0a70583f1cd1ad6f4919}\label{classv8_1_1internal_1_1JSWeakCollection_a61ba7c44f37b0a70583f1cd1ad6f4919}} 
\index{v8::internal::JSWeakCollection@{v8::internal::JSWeakCollection}!Delete@{Delete}}
\index{Delete@{Delete}!v8::internal::JSWeakCollection@{v8::internal::JSWeakCollection}}
\doxysubsubsection{\texorpdfstring{Delete()}{Delete()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+JSWeak\+Collection\+::\+Delete (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSWeakCollection}{JSWeak\+Collection}} $>$}]{collection,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}} $>$}]{key,  }\item[{int32\+\_\+t}]{hash }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 6367 of file objects.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{6368                                                                       \{}
\DoxyCodeLine{6369   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(IsJSReceiver(*\mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}}) || IsSymbol(*\mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}}));}
\DoxyCodeLine{6370   Handle<EphemeronHashTable> table(}
\DoxyCodeLine{6371       Cast<EphemeronHashTable>(weak\_collection-\/>table()), \mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a05a2b08b2b0f2d5aef8dc053e2ea3d9b}{Isolate::Current}}());}
\DoxyCodeLine{6372   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(table-\/>IsKey(\mbox{\hyperlink{namespacev8_1_1internal_a33f08ffb7cf692eb19ce772bc21bcfc6}{GetReadOnlyRoots}}(), *\mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}}));}
\DoxyCodeLine{6373   \textcolor{keywordtype}{bool} was\_present = \textcolor{keyword}{false};}
\DoxyCodeLine{6374   DirectHandle<EphemeronHashTable> new\_table = EphemeronHashTable::Remove(}
\DoxyCodeLine{6375       \mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a05a2b08b2b0f2d5aef8dc053e2ea3d9b}{Isolate::Current}}(), table, \mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}}, \&was\_present, hash);}
\DoxyCodeLine{6376   weak\_collection-\/>set\_table(*new\_table);}
\DoxyCodeLine{6377   \textcolor{keywordflow}{if} (*table != *new\_table) \{}
\DoxyCodeLine{6378     \textcolor{comment}{// Zap the old table since we didn't record slots for its elements.}}
\DoxyCodeLine{6379     EphemeronHashTable::FillEntriesWithHoles(table);}
\DoxyCodeLine{6380   \}}
\DoxyCodeLine{6381   \textcolor{keywordflow}{return} was\_present;}
\DoxyCodeLine{6382 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Isolate\+::\+Current(), v8\+::internal\+::\+DCHECK(), v8\+::internal\+::\+Get\+Read\+Only\+Roots(), and v8\+::internal\+::key.



Referenced by v8\+::internal\+::\+RUNTIME\+\_\+\+FUNCTION().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1JSWeakCollection_a61ba7c44f37b0a70583f1cd1ad6f4919_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1JSWeakCollection_a61ba7c44f37b0a70583f1cd1ad6f4919_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1JSWeakCollection_aeedbb6b0d9ea7e5a2e8f73796fee76c3}\label{classv8_1_1internal_1_1JSWeakCollection_aeedbb6b0d9ea7e5a2e8f73796fee76c3}} 
\index{v8::internal::JSWeakCollection@{v8::internal::JSWeakCollection}!GetEntries@{GetEntries}}
\index{GetEntries@{GetEntries}!v8::internal::JSWeakCollection@{v8::internal::JSWeakCollection}}
\doxysubsubsection{\texorpdfstring{GetEntries()}{GetEntries()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSArray}{JSArray}} $>$ v8\+::internal\+::\+JSWeak\+Collection\+::\+Get\+Entries (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSWeakCollection}{JSWeak\+Collection}} $>$}]{holder,  }\item[{uint32\+\_\+t}]{max\+\_\+entries }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 6384 of file objects.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{6385                                                                  \{}
\DoxyCodeLine{6386   Isolate* isolate = \mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a05a2b08b2b0f2d5aef8dc053e2ea3d9b}{Isolate::Current}}();}
\DoxyCodeLine{6387   DirectHandle<EphemeronHashTable> table(}
\DoxyCodeLine{6388       Cast<EphemeronHashTable>(holder-\/>table()), isolate);}
\DoxyCodeLine{6389   \textcolor{keywordflow}{if} (max\_entries == 0 || max\_entries > table-\/>NumberOfElements()) \{}
\DoxyCodeLine{6390     max\_entries = table-\/>NumberOfElements();}
\DoxyCodeLine{6391   \}}
\DoxyCodeLine{6392   \textcolor{keywordtype}{int} values\_per\_entry = IsJSWeakMap(*holder) ? 2 : 1;}
\DoxyCodeLine{6393   DirectHandle<FixedArray> entries =}
\DoxyCodeLine{6394       isolate-\/>factory()-\/>NewFixedArray(max\_entries * values\_per\_entry);}
\DoxyCodeLine{6395   \textcolor{comment}{// Recompute max\_values because GC could have removed elements from the table.}}
\DoxyCodeLine{6396   \textcolor{keywordflow}{if} (max\_entries > table-\/>NumberOfElements()) \{}
\DoxyCodeLine{6397     max\_entries = table-\/>NumberOfElements();}
\DoxyCodeLine{6398   \}}
\DoxyCodeLine{6399 }
\DoxyCodeLine{6400   \{}
\DoxyCodeLine{6401     \mbox{\hyperlink{namespacev8_1_1internal_af2248a427f8ff8f81e68a2a87758e145}{DisallowGarbageCollection}} \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_a63d8eefb47468aa3f816fbe26a59466a}{no\_gc}};}
\DoxyCodeLine{6402     ReadOnlyRoots roots = ReadOnlyRoots(isolate);}
\DoxyCodeLine{6403     uint32\_t count = 0;}
\DoxyCodeLine{6404     \textcolor{keywordflow}{for} (uint32\_t \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0;}
\DoxyCodeLine{6405          count / values\_per\_entry < max\_entries \&\& \mbox{\hyperlink{namespacev8_1_1internal}{i}} < table-\/>Capacity(); \mbox{\hyperlink{namespacev8_1_1internal}{i}}++) \{}
\DoxyCodeLine{6406       \mbox{\hyperlink{namespacev8_1_1internal_a5297fd2c72981b2220e6b9a831570fb3}{Tagged<Object>}} \mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}};}
\DoxyCodeLine{6407       \textcolor{keywordflow}{if} (table-\/>ToKey(roots, InternalIndex(\mbox{\hyperlink{namespacev8_1_1internal}{i}}), \&\mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}})) \{}
\DoxyCodeLine{6408         entries-\/>set(count++, \mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}});}
\DoxyCodeLine{6409         \textcolor{keywordflow}{if} (values\_per\_entry > 1) \{}
\DoxyCodeLine{6410           \mbox{\hyperlink{namespacev8_1_1internal_a5297fd2c72981b2220e6b9a831570fb3}{Tagged<Object>}} \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} = table-\/>Lookup(\mbox{\hyperlink{namespacev8_1_1internal_a73502f55102d18cb764881bc29f35c05}{direct\_handle}}(\mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}}, isolate));}
\DoxyCodeLine{6411           entries-\/>set(count++, \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}});}
\DoxyCodeLine{6412         \}}
\DoxyCodeLine{6413       \}}
\DoxyCodeLine{6414     \}}
\DoxyCodeLine{6415     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(max\_entries * values\_per\_entry, count);}
\DoxyCodeLine{6416   \}}
\DoxyCodeLine{6417   \textcolor{keywordflow}{return} isolate-\/>factory()-\/>NewJSArrayWithElements(entries);}
\DoxyCodeLine{6418 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Isolate\+::\+Current(), DCHECK\+\_\+\+EQ, v8\+::internal\+::direct\+\_\+handle(), v8\+::internal\+::\+Isolate\+::factory(), v8\+::internal\+::key, v8\+::internal\+::\+Factory\+Base$<$ Impl $>$\+::\+New\+Fixed\+Array(), v8\+::internal\+::\+Factory\+::\+New\+JSArray\+With\+Elements(), v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::no\+\_\+gc, and v8\+::internal\+::value.



Referenced by v8\+::\+Object\+::\+Preview\+Entries().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1JSWeakCollection_aeedbb6b0d9ea7e5a2e8f73796fee76c3_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1JSWeakCollection_aeedbb6b0d9ea7e5a2e8f73796fee76c3_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1JSWeakCollection_ae670995e3759d21568e2f01ad152f15d}\label{classv8_1_1internal_1_1JSWeakCollection_ae670995e3759d21568e2f01ad152f15d}} 
\index{v8::internal::JSWeakCollection@{v8::internal::JSWeakCollection}!Initialize@{Initialize}}
\index{Initialize@{Initialize}!v8::internal::JSWeakCollection@{v8::internal::JSWeakCollection}}
\doxysubsubsection{\texorpdfstring{Initialize()}{Initialize()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+JSWeak\+Collection\+::\+Initialize (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSWeakCollection}{JSWeak\+Collection}} $>$}]{collection,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 6345 of file objects.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{6346                                                                       \{}
\DoxyCodeLine{6347   DirectHandle<EphemeronHashTable> table = \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02intl-objects_8cc_03_aea46070627c9c116b8f1be4a25840e66}{EphemeronHashTable::New}}(isolate, 0);}
\DoxyCodeLine{6348   weak\_collection-\/>set\_table(*table);}
\DoxyCodeLine{6349 \}}

\end{DoxyCode}


References v8\+::internal\+::anonymous\+\_\+namespace\{intl-\/objects.\+cc\}\+::\+New().



Referenced by v8\+::internal\+::\+Factory\+::\+New\+JSWeak\+Map().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1JSWeakCollection_ae670995e3759d21568e2f01ad152f15d_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1JSWeakCollection_ae670995e3759d21568e2f01ad152f15d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1JSWeakCollection_aa0b0d33bd8578e0ecc1c9a4b94132bd9}\label{classv8_1_1internal_1_1JSWeakCollection_aa0b0d33bd8578e0ecc1c9a4b94132bd9}} 
\index{v8::internal::JSWeakCollection@{v8::internal::JSWeakCollection}!Set@{Set}}
\index{Set@{Set}!v8::internal::JSWeakCollection@{v8::internal::JSWeakCollection}}
\doxysubsubsection{\texorpdfstring{Set()}{Set()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+JSWeak\+Collection\+::\+Set (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSWeakCollection}{JSWeak\+Collection}} $>$}]{collection,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}} $>$}]{key,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}} $>$}]{value,  }\item[{int32\+\_\+t}]{hash }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 6351 of file objects.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{6353                                          \{}
\DoxyCodeLine{6354   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(IsJSReceiver(*\mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}}) || IsSymbol(*\mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}}));}
\DoxyCodeLine{6355   Handle<EphemeronHashTable> table(}
\DoxyCodeLine{6356       Cast<EphemeronHashTable>(weak\_collection-\/>table()), \mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a05a2b08b2b0f2d5aef8dc053e2ea3d9b}{Isolate::Current}}());}
\DoxyCodeLine{6357   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(table-\/>IsKey(\mbox{\hyperlink{namespacev8_1_1internal_a33f08ffb7cf692eb19ce772bc21bcfc6}{GetReadOnlyRoots}}(), *\mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}}));}
\DoxyCodeLine{6358   DirectHandle<EphemeronHashTable> new\_table =}
\DoxyCodeLine{6359       EphemeronHashTable::Put(\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a05a2b08b2b0f2d5aef8dc053e2ea3d9b}{Isolate::Current}}(), table, \mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}}, \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}, hash);}
\DoxyCodeLine{6360   weak\_collection-\/>set\_table(*new\_table);}
\DoxyCodeLine{6361   \textcolor{keywordflow}{if} (*table != *new\_table) \{}
\DoxyCodeLine{6362     \textcolor{comment}{// Zap the old table since we didn't record slots for its elements.}}
\DoxyCodeLine{6363     EphemeronHashTable::FillEntriesWithHoles(table);}
\DoxyCodeLine{6364   \}}
\DoxyCodeLine{6365 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Isolate\+::\+Current(), v8\+::internal\+::\+DCHECK(), v8\+::internal\+::\+Get\+Read\+Only\+Roots(), v8\+::internal\+::key, and v8\+::internal\+::value.



Referenced by v8\+::internal\+::\+RUNTIME\+\_\+\+FUNCTION(), and wasm\+::\+Store\+Impl\+::\+Set\+Host\+Info().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1JSWeakCollection_aa0b0d33bd8578e0ecc1c9a4b94132bd9_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1JSWeakCollection_aa0b0d33bd8578e0ecc1c9a4b94132bd9_icgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1JSWeakCollection_a124176a318db58b2c1508dc72b62a692}\label{classv8_1_1internal_1_1JSWeakCollection_a124176a318db58b2c1508dc72b62a692}} 
\index{v8::internal::JSWeakCollection@{v8::internal::JSWeakCollection}!kAddFunctionDescriptorIndex@{kAddFunctionDescriptorIndex}}
\index{kAddFunctionDescriptorIndex@{kAddFunctionDescriptorIndex}!v8::internal::JSWeakCollection@{v8::internal::JSWeakCollection}}
\doxysubsubsection{\texorpdfstring{kAddFunctionDescriptorIndex}{kAddFunctionDescriptorIndex}}
{\footnotesize\ttfamily const \mbox{\hyperlink{classint}{int}} v8\+::internal\+::\+JSWeak\+Collection\+::k\+Add\+Function\+Descriptor\+Index = 3\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 98 of file js-\/collection.\+h.



Referenced by v8\+::internal\+::\+Base\+Collections\+Assembler\+::\+Goto\+If\+Initial\+Add\+Function\+Modified(), and v8\+::internal\+::\+Genesis\+::\+Initialize\+Global().

\mbox{\Hypertarget{classv8_1_1internal_1_1JSWeakCollection_ae96cc8a9fd5f7290debee316fa52acce}\label{classv8_1_1internal_1_1JSWeakCollection_ae96cc8a9fd5f7290debee316fa52acce}} 
\index{v8::internal::JSWeakCollection@{v8::internal::JSWeakCollection}!kHeaderSizeOfAllWeakCollections@{kHeaderSizeOfAllWeakCollections}}
\index{kHeaderSizeOfAllWeakCollections@{kHeaderSizeOfAllWeakCollections}!v8::internal::JSWeakCollection@{v8::internal::JSWeakCollection}}
\doxysubsubsection{\texorpdfstring{kHeaderSizeOfAllWeakCollections}{kHeaderSizeOfAllWeakCollections}}
{\footnotesize\ttfamily const \mbox{\hyperlink{classint}{int}} v8\+::internal\+::\+JSWeak\+Collection\+::k\+Header\+Size\+Of\+All\+Weak\+Collections = k\+Header\+Size\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 106 of file js-\/collection.\+h.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/objects/\mbox{\hyperlink{js-collection_8h}{js-\/collection.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/objects/\mbox{\hyperlink{objects_8cc}{objects.\+cc}}\end{DoxyCompactItemize}
