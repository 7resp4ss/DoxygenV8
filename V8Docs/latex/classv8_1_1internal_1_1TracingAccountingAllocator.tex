\hypertarget{classv8_1_1internal_1_1TracingAccountingAllocator}{}\doxysection{v8\+::internal\+::Tracing\+Accounting\+Allocator Class Reference}
\label{classv8_1_1internal_1_1TracingAccountingAllocator}\index{v8::internal::TracingAccountingAllocator@{v8::internal::TracingAccountingAllocator}}


Inheritance diagram for v8\+::internal\+::Tracing\+Accounting\+Allocator\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1TracingAccountingAllocator__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for v8\+::internal\+::Tracing\+Accounting\+Allocator\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1TracingAccountingAllocator__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1TracingAccountingAllocator_a7eed8ea07b027e1732e43f2a331488f4}{Tracing\+Accounting\+Allocator}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$\mbox{\hyperlink{classv8_1_1internal_1_1AccountingAllocator_a6f57508d3afee4ada43f9abb0139d522}{isolate}})
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1TracingAccountingAllocator_a64fddaef06cbf1503b5d6cb129ae2e79}{$\sim$\+Tracing\+Accounting\+Allocator}} ()=default
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1TracingAccountingAllocator_a02a3aecd9ef6feb7a51a5b09cac19bb0}{Trace\+Allocate\+Segment\+Impl}} (\mbox{\hyperlink{classv8_1_1internal_1_1Segment}{v8\+::internal\+::\+Segment}} $\ast$segment) override
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1TracingAccountingAllocator_a70287883074f4613f5656b0cc165aad9}{Trace\+Zone\+Creation\+Impl}} (const \mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}} $\ast$zone) override
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1TracingAccountingAllocator_a38af6fa69f3b15ae388d1dde214175f1}{Trace\+Zone\+Destruction\+Impl}} (const \mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}} $\ast$zone) override
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1TracingAccountingAllocator_a652ca6f5246f28a5123f4aaf9b118405}{Update\+Memory\+Traffic\+And\+Report\+Memory\+Usage}} (\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} memory\+\_\+traffic\+\_\+delta)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1TracingAccountingAllocator_a80c2e86cd93fc882d88b7abdaba9b2ec}{Dump}} (std\+::ostringstream \&out, \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} dump\+\_\+details)
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::atomic$<$ \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1TracingAccountingAllocator_a8e4679d7aef2595dc024f829dd901051}{nesting\+\_\+depth\+\_\+}} \{0\}
\item 
\mbox{\hyperlink{classv8_1_1base_1_1Mutex}{base\+::\+Mutex}} \mbox{\hyperlink{classv8_1_1internal_1_1TracingAccountingAllocator_a938efbca880ebf65c83a334693cecc24}{mutex\+\_\+}}
\item 
std\+::unordered\+\_\+set$<$ const \mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}} $\ast$ $>$ \mbox{\hyperlink{classv8_1_1internal_1_1TracingAccountingAllocator_af5390e15cb5d8986a147117a1473d291}{active\+\_\+zones\+\_\+}}
\item 
std\+::ostringstream \mbox{\hyperlink{classv8_1_1internal_1_1TracingAccountingAllocator_af82e0d973434e163e9a1cc70f68de72c}{buffer\+\_\+}}
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{classv8_1_1internal_1_1TracingAccountingAllocator_a362dcceddba90568d3f7667bbcb3007c}{memory\+\_\+traffic\+\_\+since\+\_\+last\+\_\+report\+\_\+}} = 0
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 4024 of file isolate.\+cc.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1TracingAccountingAllocator_a7eed8ea07b027e1732e43f2a331488f4}\label{classv8_1_1internal_1_1TracingAccountingAllocator_a7eed8ea07b027e1732e43f2a331488f4}} 
\index{v8::internal::TracingAccountingAllocator@{v8::internal::TracingAccountingAllocator}!TracingAccountingAllocator@{TracingAccountingAllocator}}
\index{TracingAccountingAllocator@{TracingAccountingAllocator}!v8::internal::TracingAccountingAllocator@{v8::internal::TracingAccountingAllocator}}
\doxysubsubsection{\texorpdfstring{TracingAccountingAllocator()}{TracingAccountingAllocator()}}
{\footnotesize\ttfamily v8\+::internal\+::\+Tracing\+Accounting\+Allocator\+::\+Tracing\+Accounting\+Allocator (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}



Definition at line 4026 of file isolate.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4027       : \mbox{\hyperlink{classv8_1_1internal_1_1AccountingAllocator_ae481340166ff92caddec01944eaabfe1}{AccountingAllocator}}(\mbox{\hyperlink{classv8_1_1internal_1_1AccountingAllocator_a6f57508d3afee4ada43f9abb0139d522}{isolate}}) \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{classv8_1_1internal_1_1TracingAccountingAllocator_a64fddaef06cbf1503b5d6cb129ae2e79}\label{classv8_1_1internal_1_1TracingAccountingAllocator_a64fddaef06cbf1503b5d6cb129ae2e79}} 
\index{v8::internal::TracingAccountingAllocator@{v8::internal::TracingAccountingAllocator}!````~TracingAccountingAllocator@{$\sim$TracingAccountingAllocator}}
\index{````~TracingAccountingAllocator@{$\sim$TracingAccountingAllocator}!v8::internal::TracingAccountingAllocator@{v8::internal::TracingAccountingAllocator}}
\doxysubsubsection{\texorpdfstring{$\sim$TracingAccountingAllocator()}{~TracingAccountingAllocator()}}
{\footnotesize\ttfamily v8\+::internal\+::\+Tracing\+Accounting\+Allocator\+::$\sim$\+Tracing\+Accounting\+Allocator (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [default]}}



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1TracingAccountingAllocator_a80c2e86cd93fc882d88b7abdaba9b2ec}\label{classv8_1_1internal_1_1TracingAccountingAllocator_a80c2e86cd93fc882d88b7abdaba9b2ec}} 
\index{v8::internal::TracingAccountingAllocator@{v8::internal::TracingAccountingAllocator}!Dump@{Dump}}
\index{Dump@{Dump}!v8::internal::TracingAccountingAllocator@{v8::internal::TracingAccountingAllocator}}
\doxysubsubsection{\texorpdfstring{Dump()}{Dump()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Tracing\+Accounting\+Allocator\+::\+Dump (\begin{DoxyParamCaption}\item[{std\+::ostringstream \&}]{out,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}}}]{dump\+\_\+details }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 4101 of file isolate.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4101                                                       \{}
\DoxyCodeLine{4102     \textcolor{comment}{// Note: Neither isolate nor zones are locked, so be careful with accesses}}
\DoxyCodeLine{4103     \textcolor{comment}{// as the allocator is potentially used on a concurrent thread.}}
\DoxyCodeLine{4104     \textcolor{keywordtype}{double} \mbox{\hyperlink{namespacev8_1_1internal_abab02b3a9f25e94b199fc934deeea432}{time}} = \mbox{\hyperlink{classv8_1_1internal_1_1AccountingAllocator_a6f57508d3afee4ada43f9abb0139d522}{isolate}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_abf4fe53088de0af3d7d8e02b7782fea1}{time\_millis\_since\_init}}();}
\DoxyCodeLine{4105     out << \textcolor{stringliteral}{"{}\{"{}} << \textcolor{stringliteral}{"{}\(\backslash\)"{}isolate\(\backslash\)"{}: \(\backslash\)"{}"{}} << \textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{void}*\textcolor{keyword}{>}(\mbox{\hyperlink{classv8_1_1internal_1_1AccountingAllocator_a6f57508d3afee4ada43f9abb0139d522}{isolate}}())}
\DoxyCodeLine{4106         << \textcolor{stringliteral}{"{}\(\backslash\)"{}, "{}} << \textcolor{stringliteral}{"{}\(\backslash\)"{}time\(\backslash\)"{}: "{}} << \mbox{\hyperlink{namespacev8_1_1internal_abab02b3a9f25e94b199fc934deeea432}{time}} << \textcolor{stringliteral}{"{}, "{}};}
\DoxyCodeLine{4107     \textcolor{keywordtype}{size\_t} total\_segment\_bytes\_allocated = 0;}
\DoxyCodeLine{4108     \textcolor{keywordtype}{size\_t} total\_zone\_allocation\_size = 0;}
\DoxyCodeLine{4109     \textcolor{keywordtype}{size\_t} total\_zone\_freed\_size = 0;}
\DoxyCodeLine{4110 }
\DoxyCodeLine{4111     \textcolor{keywordflow}{if} (dump\_details) \{}
\DoxyCodeLine{4112       \textcolor{comment}{// Print detailed zone stats if memory usage changes direction.}}
\DoxyCodeLine{4113       out << \textcolor{stringliteral}{"{}\(\backslash\)"{}zones\(\backslash\)"{}: ["{}};}
\DoxyCodeLine{4114       \textcolor{keywordtype}{bool} first = \textcolor{keyword}{true};}
\DoxyCodeLine{4115       \textcolor{keywordflow}{for} (\textcolor{keyword}{const} Zone* zone : \mbox{\hyperlink{classv8_1_1internal_1_1TracingAccountingAllocator_af5390e15cb5d8986a147117a1473d291}{active\_zones\_}}) \{}
\DoxyCodeLine{4116         \textcolor{keywordtype}{size\_t} zone\_segment\_bytes\_allocated = zone-\/>segment\_bytes\_allocated();}
\DoxyCodeLine{4117         \textcolor{keywordtype}{size\_t} zone\_allocation\_size = zone-\/>allocation\_size\_for\_tracing();}
\DoxyCodeLine{4118         \textcolor{keywordtype}{size\_t} freed\_size = zone-\/>freed\_size\_for\_tracing();}
\DoxyCodeLine{4119         \textcolor{keywordflow}{if} (first) \{}
\DoxyCodeLine{4120           first = \textcolor{keyword}{false};}
\DoxyCodeLine{4121         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{4122           out << \textcolor{stringliteral}{"{}, "{}};}
\DoxyCodeLine{4123         \}}
\DoxyCodeLine{4124         out << \textcolor{stringliteral}{"{}\{"{}} << \textcolor{stringliteral}{"{}\(\backslash\)"{}name\(\backslash\)"{}: \(\backslash\)"{}"{}} << zone-\/>name() << \textcolor{stringliteral}{"{}\(\backslash\)"{}, "{}}}
\DoxyCodeLine{4125             << \textcolor{stringliteral}{"{}\(\backslash\)"{}allocated\(\backslash\)"{}: "{}} << zone\_segment\_bytes\_allocated << \textcolor{stringliteral}{"{}, "{}}}
\DoxyCodeLine{4126             << \textcolor{stringliteral}{"{}\(\backslash\)"{}used\(\backslash\)"{}: "{}} << zone\_allocation\_size << \textcolor{stringliteral}{"{}, "{}}}
\DoxyCodeLine{4127             << \textcolor{stringliteral}{"{}\(\backslash\)"{}freed\(\backslash\)"{}: "{}} << freed\_size << \textcolor{stringliteral}{"{}\}"{}};}
\DoxyCodeLine{4128         total\_segment\_bytes\_allocated += zone\_segment\_bytes\_allocated;}
\DoxyCodeLine{4129         total\_zone\_allocation\_size += zone\_allocation\_size;}
\DoxyCodeLine{4130         total\_zone\_freed\_size += freed\_size;}
\DoxyCodeLine{4131       \}}
\DoxyCodeLine{4132       out << \textcolor{stringliteral}{"{}], "{}};}
\DoxyCodeLine{4133     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{4134       \textcolor{comment}{// Just calculate total allocated/used memory values.}}
\DoxyCodeLine{4135       \textcolor{keywordflow}{for} (\textcolor{keyword}{const} Zone* zone : \mbox{\hyperlink{classv8_1_1internal_1_1TracingAccountingAllocator_af5390e15cb5d8986a147117a1473d291}{active\_zones\_}}) \{}
\DoxyCodeLine{4136         total\_segment\_bytes\_allocated += zone-\/>segment\_bytes\_allocated();}
\DoxyCodeLine{4137         total\_zone\_allocation\_size += zone-\/>allocation\_size\_for\_tracing();}
\DoxyCodeLine{4138         total\_zone\_freed\_size += zone-\/>freed\_size\_for\_tracing();}
\DoxyCodeLine{4139       \}}
\DoxyCodeLine{4140     \}}
\DoxyCodeLine{4141     out << \textcolor{stringliteral}{"{}\(\backslash\)"{}allocated\(\backslash\)"{}: "{}} << total\_segment\_bytes\_allocated << \textcolor{stringliteral}{"{}, "{}}}
\DoxyCodeLine{4142         << \textcolor{stringliteral}{"{}\(\backslash\)"{}used\(\backslash\)"{}: "{}} << total\_zone\_allocation\_size << \textcolor{stringliteral}{"{}, "{}}}
\DoxyCodeLine{4143         << \textcolor{stringliteral}{"{}\(\backslash\)"{}freed\(\backslash\)"{}: "{}} << total\_zone\_freed\_size << \textcolor{stringliteral}{"{}\}"{}};}
\DoxyCodeLine{4144   \}}

\end{DoxyCode}


References v8\+::internal\+::\+Factory\+::isolate(), v8\+::internal\+::time, and v8\+::internal\+::\+Isolate\+::time\+\_\+millis\+\_\+since\+\_\+init().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1TracingAccountingAllocator_a80c2e86cd93fc882d88b7abdaba9b2ec_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1TracingAccountingAllocator_a02a3aecd9ef6feb7a51a5b09cac19bb0}\label{classv8_1_1internal_1_1TracingAccountingAllocator_a02a3aecd9ef6feb7a51a5b09cac19bb0}} 
\index{v8::internal::TracingAccountingAllocator@{v8::internal::TracingAccountingAllocator}!TraceAllocateSegmentImpl@{TraceAllocateSegmentImpl}}
\index{TraceAllocateSegmentImpl@{TraceAllocateSegmentImpl}!v8::internal::TracingAccountingAllocator@{v8::internal::TracingAccountingAllocator}}
\doxysubsubsection{\texorpdfstring{TraceAllocateSegmentImpl()}{TraceAllocateSegmentImpl()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Tracing\+Accounting\+Allocator\+::\+Trace\+Allocate\+Segment\+Impl (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Segment}{v8\+::internal\+::\+Segment}} $\ast$}]{segment }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{classv8_1_1internal_1_1AccountingAllocator_a3a57beea9da04f6f852873bda115773b}{v8\+::internal\+::\+Accounting\+Allocator}}.



Definition at line 4031 of file isolate.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4031                                                                      \{}
\DoxyCodeLine{4032     \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{base::MutexGuard}} lock(\&\mbox{\hyperlink{classv8_1_1internal_1_1TracingAccountingAllocator_a938efbca880ebf65c83a334693cecc24}{mutex\_}});}
\DoxyCodeLine{4033     \mbox{\hyperlink{classv8_1_1internal_1_1TracingAccountingAllocator_a652ca6f5246f28a5123f4aaf9b118405}{UpdateMemoryTrafficAndReportMemoryUsage}}(segment-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Segment_a609cee3988219fc14aab98f2f2d5faff}{total\_size}}());}
\DoxyCodeLine{4034   \}}

\end{DoxyCode}


References v8\+::internal\+::\+Segment\+::total\+\_\+size().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1TracingAccountingAllocator_a02a3aecd9ef6feb7a51a5b09cac19bb0_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1TracingAccountingAllocator_a70287883074f4613f5656b0cc165aad9}\label{classv8_1_1internal_1_1TracingAccountingAllocator_a70287883074f4613f5656b0cc165aad9}} 
\index{v8::internal::TracingAccountingAllocator@{v8::internal::TracingAccountingAllocator}!TraceZoneCreationImpl@{TraceZoneCreationImpl}}
\index{TraceZoneCreationImpl@{TraceZoneCreationImpl}!v8::internal::TracingAccountingAllocator@{v8::internal::TracingAccountingAllocator}}
\doxysubsubsection{\texorpdfstring{TraceZoneCreationImpl()}{TraceZoneCreationImpl()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Tracing\+Accounting\+Allocator\+::\+Trace\+Zone\+Creation\+Impl (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}} $\ast$}]{zone }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{classv8_1_1internal_1_1AccountingAllocator_a59caa2d80ceb8d194addcad7116ec330}{v8\+::internal\+::\+Accounting\+Allocator}}.



Definition at line 4036 of file isolate.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4036                                                         \{}
\DoxyCodeLine{4037     \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{base::MutexGuard}} lock(\&\mbox{\hyperlink{classv8_1_1internal_1_1TracingAccountingAllocator_a938efbca880ebf65c83a334693cecc24}{mutex\_}});}
\DoxyCodeLine{4038     \mbox{\hyperlink{classv8_1_1internal_1_1TracingAccountingAllocator_af5390e15cb5d8986a147117a1473d291}{active\_zones\_}}.insert(zone);}
\DoxyCodeLine{4039     \mbox{\hyperlink{classv8_1_1internal_1_1TracingAccountingAllocator_a8e4679d7aef2595dc024f829dd901051}{nesting\_depth\_}}++;}
\DoxyCodeLine{4040   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classv8_1_1internal_1_1TracingAccountingAllocator_a38af6fa69f3b15ae388d1dde214175f1}\label{classv8_1_1internal_1_1TracingAccountingAllocator_a38af6fa69f3b15ae388d1dde214175f1}} 
\index{v8::internal::TracingAccountingAllocator@{v8::internal::TracingAccountingAllocator}!TraceZoneDestructionImpl@{TraceZoneDestructionImpl}}
\index{TraceZoneDestructionImpl@{TraceZoneDestructionImpl}!v8::internal::TracingAccountingAllocator@{v8::internal::TracingAccountingAllocator}}
\doxysubsubsection{\texorpdfstring{TraceZoneDestructionImpl()}{TraceZoneDestructionImpl()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Tracing\+Accounting\+Allocator\+::\+Trace\+Zone\+Destruction\+Impl (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}} $\ast$}]{zone }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{classv8_1_1internal_1_1AccountingAllocator_a0d6d067f6bef2338450958328873434f}{v8\+::internal\+::\+Accounting\+Allocator}}.



Definition at line 4042 of file isolate.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4042                                                            \{}
\DoxyCodeLine{4043     \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{base::MutexGuard}} lock(\&\mbox{\hyperlink{classv8_1_1internal_1_1TracingAccountingAllocator_a938efbca880ebf65c83a334693cecc24}{mutex\_}});}
\DoxyCodeLine{4044 \textcolor{preprocessor}{\#ifdef V8\_ENABLE\_PRECISE\_ZONE\_STATS}}
\DoxyCodeLine{4045     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_zone\_type\_stats) \{}
\DoxyCodeLine{4046       type\_stats\_.MergeWith(zone-\/>type\_stats());}
\DoxyCodeLine{4047     \}}
\DoxyCodeLine{4048 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{4049     \mbox{\hyperlink{classv8_1_1internal_1_1TracingAccountingAllocator_a652ca6f5246f28a5123f4aaf9b118405}{UpdateMemoryTrafficAndReportMemoryUsage}}(zone-\/>segment\_bytes\_allocated());}
\DoxyCodeLine{4050     \mbox{\hyperlink{classv8_1_1internal_1_1TracingAccountingAllocator_af5390e15cb5d8986a147117a1473d291}{active\_zones\_}}.erase(zone);}
\DoxyCodeLine{4051     \mbox{\hyperlink{classv8_1_1internal_1_1TracingAccountingAllocator_a8e4679d7aef2595dc024f829dd901051}{nesting\_depth\_}}-\/-\/;}
\DoxyCodeLine{4052 }
\DoxyCodeLine{4053 \textcolor{preprocessor}{\#ifdef V8\_ENABLE\_PRECISE\_ZONE\_STATS}}
\DoxyCodeLine{4054     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_zone\_type\_stats \&\& \mbox{\hyperlink{classv8_1_1internal_1_1TracingAccountingAllocator_af5390e15cb5d8986a147117a1473d291}{active\_zones\_}}.empty()) \{}
\DoxyCodeLine{4055       type\_stats\_.Dump();}
\DoxyCodeLine{4056     \}}
\DoxyCodeLine{4057 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{4058   \}}

\end{DoxyCode}


References v8\+::internal\+::\+Zone\+::segment\+\_\+bytes\+\_\+allocated(), and v8\+::internal\+::v8\+\_\+flags.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1TracingAccountingAllocator_a38af6fa69f3b15ae388d1dde214175f1_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1TracingAccountingAllocator_a652ca6f5246f28a5123f4aaf9b118405}\label{classv8_1_1internal_1_1TracingAccountingAllocator_a652ca6f5246f28a5123f4aaf9b118405}} 
\index{v8::internal::TracingAccountingAllocator@{v8::internal::TracingAccountingAllocator}!UpdateMemoryTrafficAndReportMemoryUsage@{UpdateMemoryTrafficAndReportMemoryUsage}}
\index{UpdateMemoryTrafficAndReportMemoryUsage@{UpdateMemoryTrafficAndReportMemoryUsage}!v8::internal::TracingAccountingAllocator@{v8::internal::TracingAccountingAllocator}}
\doxysubsubsection{\texorpdfstring{UpdateMemoryTrafficAndReportMemoryUsage()}{UpdateMemoryTrafficAndReportMemoryUsage()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Tracing\+Accounting\+Allocator\+::\+Update\+Memory\+Traffic\+And\+Report\+Memory\+Usage (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{memory\+\_\+traffic\+\_\+delta }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 4061 of file isolate.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4061                                                                             \{}
\DoxyCodeLine{4062     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_zone\_stats \&\&}
\DoxyCodeLine{4063         !(\mbox{\hyperlink{structv8_1_1internal_1_1TracingFlags_ac8a71fecfbe9fc783963e30c389b82d6}{TracingFlags::zone\_stats}}.load(std::memory\_order\_relaxed) \&}
\DoxyCodeLine{4064           \mbox{\hyperlink{classv8_1_1tracing_1_1TracingCategoryObserver_aeb955195fe66a5b0497cff536c090589a31fe0ad3ce8b8c278bd0f78770f13b30}{v8::tracing::TracingCategoryObserver::ENABLED\_BY\_TRACING}})) \{}
\DoxyCodeLine{4065       \textcolor{comment}{// Don't print anything if the zone tracing was enabled only because of}}
\DoxyCodeLine{4066       \textcolor{comment}{// v8\_flags.trace\_zone\_type\_stats.}}
\DoxyCodeLine{4067       \textcolor{keywordflow}{return};}
\DoxyCodeLine{4068     \}}
\DoxyCodeLine{4069 }
\DoxyCodeLine{4070     \mbox{\hyperlink{classv8_1_1internal_1_1TracingAccountingAllocator_a362dcceddba90568d3f7667bbcb3007c}{memory\_traffic\_since\_last\_report\_}} += memory\_traffic\_delta;}
\DoxyCodeLine{4071     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1TracingAccountingAllocator_a362dcceddba90568d3f7667bbcb3007c}{memory\_traffic\_since\_last\_report\_}} < \mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.zone\_stats\_tolerance)}
\DoxyCodeLine{4072       \textcolor{keywordflow}{return};}
\DoxyCodeLine{4073     \mbox{\hyperlink{classv8_1_1internal_1_1TracingAccountingAllocator_a362dcceddba90568d3f7667bbcb3007c}{memory\_traffic\_since\_last\_report\_}} = 0;}
\DoxyCodeLine{4074 }
\DoxyCodeLine{4075     \mbox{\hyperlink{classv8_1_1internal_1_1TracingAccountingAllocator_a80c2e86cd93fc882d88b7abdaba9b2ec}{Dump}}(\mbox{\hyperlink{classv8_1_1internal_1_1TracingAccountingAllocator_af82e0d973434e163e9a1cc70f68de72c}{buffer\_}}, \textcolor{keyword}{true});}
\DoxyCodeLine{4076 }
\DoxyCodeLine{4077     \{}
\DoxyCodeLine{4078       \mbox{\hyperlink{namespacev8_1_1internal_af68b330f02476361ab10f531933b3381}{std::string}} trace\_str = \mbox{\hyperlink{classv8_1_1internal_1_1TracingAccountingAllocator_af82e0d973434e163e9a1cc70f68de72c}{buffer\_}}.str();}
\DoxyCodeLine{4079 }
\DoxyCodeLine{4080       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_zone\_stats) \{}
\DoxyCodeLine{4081         \mbox{\hyperlink{namespacev8_1_1internal_a3430752cde9f29d73e97ceed1bce0856}{PrintF}}(}
\DoxyCodeLine{4082             \textcolor{stringliteral}{"{}\{"{}}}
\DoxyCodeLine{4083             \textcolor{stringliteral}{"{}\(\backslash\)"{}type\(\backslash\)"{}: \(\backslash\)"{}v8-\/zone-\/trace\(\backslash\)"{}, "{}}}
\DoxyCodeLine{4084             \textcolor{stringliteral}{"{}\(\backslash\)"{}stats\(\backslash\)"{}: \%s"{}}}
\DoxyCodeLine{4085             \textcolor{stringliteral}{"{}\}\(\backslash\)n"{}},}
\DoxyCodeLine{4086             trace\_str.c\_str());}
\DoxyCodeLine{4087       \}}
\DoxyCodeLine{4088       \textcolor{keywordflow}{if} (\mbox{\hyperlink{v8config_8h_a67bd29db07c711b0fb11ff1c324ebb60}{V8\_UNLIKELY}}(}
\DoxyCodeLine{4089               \mbox{\hyperlink{structv8_1_1internal_1_1TracingFlags_ac8a71fecfbe9fc783963e30c389b82d6}{TracingFlags::zone\_stats}}.load(std::memory\_order\_relaxed) \&}
\DoxyCodeLine{4090               \mbox{\hyperlink{classv8_1_1tracing_1_1TracingCategoryObserver_aeb955195fe66a5b0497cff536c090589a31fe0ad3ce8b8c278bd0f78770f13b30}{v8::tracing::TracingCategoryObserver::ENABLED\_BY\_TRACING}})) \{}
\DoxyCodeLine{4091         \mbox{\hyperlink{trace-event-no-perfetto_8h_a76faba239b594211220dc4dc613025e4}{TRACE\_EVENT\_INSTANT1}}(\mbox{\hyperlink{trace-event-no-perfetto_8h_a97689377430b094caec680dd7dd230fe}{TRACE\_DISABLED\_BY\_DEFAULT}}(\textcolor{stringliteral}{"{}v8.zone\_stats"{}}),}
\DoxyCodeLine{4092                              \textcolor{stringliteral}{"{}V8.Zone\_Stats"{}}, \mbox{\hyperlink{trace-event-no-perfetto_8h_a8b5bca924ef796a311bb5ba5c8d7f57d}{TRACE\_EVENT\_SCOPE\_THREAD}}, \textcolor{stringliteral}{"{}stats"{}},}
\DoxyCodeLine{4093                              \mbox{\hyperlink{tracing_2trace-event_8h_a3e7918f87c057008134f23473b59c341}{TRACE\_STR\_COPY}}(trace\_str.c\_str()));}
\DoxyCodeLine{4094       \}}
\DoxyCodeLine{4095     \}}
\DoxyCodeLine{4096 }
\DoxyCodeLine{4097     \textcolor{comment}{// Clear the buffer.}}
\DoxyCodeLine{4098     \mbox{\hyperlink{classv8_1_1internal_1_1TracingAccountingAllocator_af82e0d973434e163e9a1cc70f68de72c}{buffer\_}}.str(\mbox{\hyperlink{namespacev8_1_1internal_af68b330f02476361ab10f531933b3381}{std::string}}());}
\DoxyCodeLine{4099   \}}

\end{DoxyCode}


References v8\+::tracing\+::\+Tracing\+Category\+Observer\+::\+ENABLED\+\_\+\+BY\+\_\+\+TRACING, v8\+::internal\+::\+Print\+F(), v8\+::internal\+::string, TRACE\+\_\+\+DISABLED\+\_\+\+BY\+\_\+\+DEFAULT, TRACE\+\_\+\+EVENT\+\_\+\+INSTANT1, TRACE\+\_\+\+EVENT\+\_\+\+SCOPE\+\_\+\+THREAD, TRACE\+\_\+\+STR\+\_\+\+COPY, v8\+::internal\+::v8\+\_\+flags, V8\+\_\+\+UNLIKELY, and v8\+::internal\+::\+Tracing\+Flags\+::zone\+\_\+stats.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1TracingAccountingAllocator_a652ca6f5246f28a5123f4aaf9b118405_cgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1TracingAccountingAllocator_af5390e15cb5d8986a147117a1473d291}\label{classv8_1_1internal_1_1TracingAccountingAllocator_af5390e15cb5d8986a147117a1473d291}} 
\index{v8::internal::TracingAccountingAllocator@{v8::internal::TracingAccountingAllocator}!active\_zones\_@{active\_zones\_}}
\index{active\_zones\_@{active\_zones\_}!v8::internal::TracingAccountingAllocator@{v8::internal::TracingAccountingAllocator}}
\doxysubsubsection{\texorpdfstring{active\_zones\_}{active\_zones\_}}
{\footnotesize\ttfamily std\+::unordered\+\_\+set$<$const \mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}}$\ast$$>$ v8\+::internal\+::\+Tracing\+Accounting\+Allocator\+::active\+\_\+zones\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 4149 of file isolate.\+cc.

\mbox{\Hypertarget{classv8_1_1internal_1_1TracingAccountingAllocator_af82e0d973434e163e9a1cc70f68de72c}\label{classv8_1_1internal_1_1TracingAccountingAllocator_af82e0d973434e163e9a1cc70f68de72c}} 
\index{v8::internal::TracingAccountingAllocator@{v8::internal::TracingAccountingAllocator}!buffer\_@{buffer\_}}
\index{buffer\_@{buffer\_}!v8::internal::TracingAccountingAllocator@{v8::internal::TracingAccountingAllocator}}
\doxysubsubsection{\texorpdfstring{buffer\_}{buffer\_}}
{\footnotesize\ttfamily std\+::ostringstream v8\+::internal\+::\+Tracing\+Accounting\+Allocator\+::buffer\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 4153 of file isolate.\+cc.

\mbox{\Hypertarget{classv8_1_1internal_1_1TracingAccountingAllocator_a362dcceddba90568d3f7667bbcb3007c}\label{classv8_1_1internal_1_1TracingAccountingAllocator_a362dcceddba90568d3f7667bbcb3007c}} 
\index{v8::internal::TracingAccountingAllocator@{v8::internal::TracingAccountingAllocator}!memory\_traffic\_since\_last\_report\_@{memory\_traffic\_since\_last\_report\_}}
\index{memory\_traffic\_since\_last\_report\_@{memory\_traffic\_since\_last\_report\_}!v8::internal::TracingAccountingAllocator@{v8::internal::TracingAccountingAllocator}}
\doxysubsubsection{\texorpdfstring{memory\_traffic\_since\_last\_report\_}{memory\_traffic\_since\_last\_report\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::\+Tracing\+Accounting\+Allocator\+::memory\+\_\+traffic\+\_\+since\+\_\+last\+\_\+report\+\_\+ = 0\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 4155 of file isolate.\+cc.

\mbox{\Hypertarget{classv8_1_1internal_1_1TracingAccountingAllocator_a938efbca880ebf65c83a334693cecc24}\label{classv8_1_1internal_1_1TracingAccountingAllocator_a938efbca880ebf65c83a334693cecc24}} 
\index{v8::internal::TracingAccountingAllocator@{v8::internal::TracingAccountingAllocator}!mutex\_@{mutex\_}}
\index{mutex\_@{mutex\_}!v8::internal::TracingAccountingAllocator@{v8::internal::TracingAccountingAllocator}}
\doxysubsubsection{\texorpdfstring{mutex\_}{mutex\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1base_1_1Mutex}{base\+::\+Mutex}} v8\+::internal\+::\+Tracing\+Accounting\+Allocator\+::mutex\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 4148 of file isolate.\+cc.

\mbox{\Hypertarget{classv8_1_1internal_1_1TracingAccountingAllocator_a8e4679d7aef2595dc024f829dd901051}\label{classv8_1_1internal_1_1TracingAccountingAllocator_a8e4679d7aef2595dc024f829dd901051}} 
\index{v8::internal::TracingAccountingAllocator@{v8::internal::TracingAccountingAllocator}!nesting\_depth\_@{nesting\_depth\_}}
\index{nesting\_depth\_@{nesting\_depth\_}!v8::internal::TracingAccountingAllocator@{v8::internal::TracingAccountingAllocator}}
\doxysubsubsection{\texorpdfstring{nesting\_depth\_}{nesting\_depth\_}}
{\footnotesize\ttfamily std\+::atomic$<$\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}$>$ v8\+::internal\+::\+Tracing\+Accounting\+Allocator\+::nesting\+\_\+depth\+\_\+ \{0\}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 4146 of file isolate.\+cc.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/execution/\mbox{\hyperlink{isolate_8cc}{isolate.\+cc}}\end{DoxyCompactItemize}
