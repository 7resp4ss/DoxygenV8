\hypertarget{classv8_1_1internal_1_1ScavengerCollector}{}\doxysection{v8\+::internal\+::Scavenger\+Collector Class Reference}
\label{classv8_1_1internal_1_1ScavengerCollector}\index{v8::internal::ScavengerCollector@{v8::internal::ScavengerCollector}}


{\ttfamily \#include $<$scavenger.\+h$>$}



Collaboration diagram for v8\+::internal\+::Scavenger\+Collector\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ScavengerCollector__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_1_1JobTask}{Job\+Task}}
\item 
struct \mbox{\hyperlink{structv8_1_1internal_1_1ScavengerCollector_1_1PinnedObjectEntry}{Pinned\+Object\+Entry}}
\item 
class \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_1_1QuarantinedPageSweeper}{Quarantined\+Page\+Sweeper}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
using \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_ac1d6d39f5bc95b22d946d83d72d46878}{Pinned\+Objects}} = std\+::vector$<$ \mbox{\hyperlink{structv8_1_1internal_1_1ScavengerCollector_1_1PinnedObjectEntry}{Pinned\+Object\+Entry}} $>$
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a0d0ba18e637a3c6fa076339f71a7d477}{Scavenger\+Collector}} (\mbox{\hyperlink{classv8_1_1internal_1_1Heap}{Heap}} $\ast$\mbox{\hyperlink{flag-definitions_8h_a761e4e5929b1553283fd6a532822bb17}{heap}})
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a9f8043360f0e70afd346c2ad23a0b5ab}{Collect\+Garbage}} ()
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a8477fc50638f7faabba80405747b3c65}{Complete\+Sweeping\+Quarantined\+Pages\+If\+Needed}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
static const \mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a7369780ac7681f0183ffecc22ef19bab}{k\+Max\+Scavenger\+Tasks}} = 8
\item 
static const \mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_ab893be5e4c664072153a51031fc1c410}{k\+Main\+Thread\+Id}} = 0
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a323a6766760f8853d60bc9bef796e625}{Merge\+Surviving\+New\+Large\+Objects}} (const \mbox{\hyperlink{namespacev8_1_1internal_a7569eb2d9de22d92017f797f20d959d4}{Surviving\+New\+Large\+Objects\+Map}} \&objects)
\item 
\mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a76f15c956a03796caa50c17203477a18}{Number\+Of\+Scavenge\+Tasks}} ()
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_aa3a68dbe19164f2316510799000b3807}{Process\+Weak\+References}} (\mbox{\hyperlink{classv8_1_1internal_1_1EphemeronRememberedSet_a19b327dbfd6b9bff99bfe6082b52d919}{Ephemeron\+Remembered\+Set\+::\+Table\+List}} $\ast$ephemeron\+\_\+table\+\_\+list)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a6be8429ba4705649737b2280eec0bfb1}{Clear\+Young\+Ephemerons}} (\mbox{\hyperlink{classv8_1_1internal_1_1EphemeronRememberedSet_a19b327dbfd6b9bff99bfe6082b52d919}{Ephemeron\+Remembered\+Set\+::\+Table\+List}} $\ast$ephemeron\+\_\+table\+\_\+list)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a17ec853918d21ffd218c7064da96ca61}{Clear\+Old\+Ephemerons}} ()
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_aada973aac3c267361151c999393c0ad0}{Handle\+Surviving\+New\+Large\+Objects}} ()
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a6a89b71a40020d0e37e118e1689dda51}{Sweep\+Array\+Buffer\+Extensions}} ()
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a6a788c0ba41dff61f1d98944e59097da}{Fetch\+And\+Reset\+Concurrency\+Estimate}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$const \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_adb6daa778b3014b848978c9732ea1d29}{isolate\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1Heap}{Heap}} $\ast$const \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\+\_\+}}
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a7569eb2d9de22d92017f797f20d959d4}{Surviving\+New\+Large\+Objects\+Map}} \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_aae54b507671c27d57ed10bb6fa8c5104}{surviving\+\_\+new\+\_\+large\+\_\+objects\+\_\+}}
\item 
std\+::atomic$<$ \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_aa1f17e474b45dec7f384e89429fd25af}{estimate\+\_\+concurrency\+\_\+}} \{0\}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_1_1QuarantinedPageSweeper}{Quarantined\+Page\+Sweeper}} \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a411619f45ce89fb2a27ccc011d55c9f8}{quarantined\+\_\+page\+\_\+sweeper\+\_\+}}
\end{DoxyCompactItemize}
\doxysubsection*{Friends}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a69194b9c6def4e9ec4e2c07b61f7f5a3}{Scavenger}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 234 of file scavenger.\+h.



\doxysubsection{Member Typedef Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1ScavengerCollector_ac1d6d39f5bc95b22d946d83d72d46878}\label{classv8_1_1internal_1_1ScavengerCollector_ac1d6d39f5bc95b22d946d83d72d46878}} 
\index{v8::internal::ScavengerCollector@{v8::internal::ScavengerCollector}!PinnedObjects@{PinnedObjects}}
\index{PinnedObjects@{PinnedObjects}!v8::internal::ScavengerCollector@{v8::internal::ScavengerCollector}}
\doxysubsubsection{\texorpdfstring{PinnedObjects}{PinnedObjects}}
{\footnotesize\ttfamily using \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_ac1d6d39f5bc95b22d946d83d72d46878}{v8\+::internal\+::\+Scavenger\+Collector\+::\+Pinned\+Objects}} =  std\+::vector$<$\mbox{\hyperlink{structv8_1_1internal_1_1ScavengerCollector_1_1PinnedObjectEntry}{Pinned\+Object\+Entry}}$>$}



Definition at line 241 of file scavenger.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1ScavengerCollector_a0d0ba18e637a3c6fa076339f71a7d477}\label{classv8_1_1internal_1_1ScavengerCollector_a0d0ba18e637a3c6fa076339f71a7d477}} 
\index{v8::internal::ScavengerCollector@{v8::internal::ScavengerCollector}!ScavengerCollector@{ScavengerCollector}}
\index{ScavengerCollector@{ScavengerCollector}!v8::internal::ScavengerCollector@{v8::internal::ScavengerCollector}}
\doxysubsubsection{\texorpdfstring{ScavengerCollector()}{ScavengerCollector()}}
{\footnotesize\ttfamily v8\+::internal\+::\+Scavenger\+Collector\+::\+Scavenger\+Collector (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Heap}{Heap}} $\ast$}]{heap }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}



Definition at line 305 of file scavenger.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{306     : \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_adb6daa778b3014b848978c9732ea1d29}{isolate\_}}(\mbox{\hyperlink{namespaceheap}{heap}}-\/>isolate()), \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}(\mbox{\hyperlink{namespaceheap}{heap}}), \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a411619f45ce89fb2a27ccc011d55c9f8}{quarantined\_page\_sweeper\_}}(\mbox{\hyperlink{namespaceheap}{heap}}) \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1ScavengerCollector_a17ec853918d21ffd218c7064da96ca61}\label{classv8_1_1internal_1_1ScavengerCollector_a17ec853918d21ffd218c7064da96ca61}} 
\index{v8::internal::ScavengerCollector@{v8::internal::ScavengerCollector}!ClearOldEphemerons@{ClearOldEphemerons}}
\index{ClearOldEphemerons@{ClearOldEphemerons}!v8::internal::ScavengerCollector@{v8::internal::ScavengerCollector}}
\doxysubsubsection{\texorpdfstring{ClearOldEphemerons()}{ClearOldEphemerons()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Scavenger\+Collector\+::\+Clear\+Old\+Ephemerons (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1323 of file scavenger.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1323                                             \{}
\DoxyCodeLine{1324   \textcolor{keyword}{auto}* table\_map = \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a4487a76a0cd7965c3e46a1a7b992e541}{ephemeron\_remembered\_set\_}}-\/>tables();}
\DoxyCodeLine{1325   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} it = table\_map-\/>begin(); it != table\_map-\/>end();) \{}
\DoxyCodeLine{1326     Tagged<EphemeronHashTable> table = it-\/>first;}
\DoxyCodeLine{1327     \textcolor{keyword}{auto}\& indices = it-\/>second;}
\DoxyCodeLine{1328     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} iti = indices.begin(); iti != indices.end();) \{}
\DoxyCodeLine{1329       \textcolor{comment}{// Keys in EphemeronHashTables must be heap objects.}}
\DoxyCodeLine{1330       \mbox{\hyperlink{namespacev8_1_1internal_a5f8b754678e24836a51be62e3f8c3682}{HeapObjectSlot}} key\_slot(table-\/>RawFieldOfElementAt(}
\DoxyCodeLine{1331           EphemeronHashTable::EntryToIndex(InternalIndex(*iti))));}
\DoxyCodeLine{1332       \mbox{\hyperlink{namespacev8_1_1internal_a57f5ecf71b9a2757b0555b2be4c640b8}{Tagged<HeapObject>}} \mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}} = key\_slot.ToHeapObject();}
\DoxyCodeLine{1333       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02scavenger_8cc_03_a073fd37bfc949d60178f461865d49f16}{IsUnscavengedHeapObject}}(\mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}, \mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}})) \{}
\DoxyCodeLine{1334         table-\/>RemoveEntry(InternalIndex(*iti));}
\DoxyCodeLine{1335         iti = indices.erase(iti);}
\DoxyCodeLine{1336       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1337         \mbox{\hyperlink{namespacev8_1_1internal_a57f5ecf71b9a2757b0555b2be4c640b8}{Tagged<HeapObject>}} forwarded = \mbox{\hyperlink{namespacev8_1_1internal_aa28ba2d25ef6ded4a5be0a6c4f91247b}{ForwardingAddress}}(\mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}});}
\DoxyCodeLine{1338         key\_slot.StoreHeapObject(forwarded);}
\DoxyCodeLine{1339         \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1HeapLayout_a597d0e70459c694743e92d98a9292f92}{HeapLayout::InYoungGeneration}}(forwarded)) \{}
\DoxyCodeLine{1340           iti = indices.erase(iti);}
\DoxyCodeLine{1341         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1342           ++iti;}
\DoxyCodeLine{1343         \}}
\DoxyCodeLine{1344       \}}
\DoxyCodeLine{1345     \}}
\DoxyCodeLine{1346 }
\DoxyCodeLine{1347     \textcolor{keywordflow}{if} (indices.empty()) \{}
\DoxyCodeLine{1348       it = table\_map-\/>erase(it);}
\DoxyCodeLine{1349     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1350       ++it;}
\DoxyCodeLine{1351     \}}
\DoxyCodeLine{1352   \}}
\DoxyCodeLine{1353 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Forwarding\+Address(), v8\+::internal\+::anonymous\+\_\+namespace\{scavenger.\+cc\}\+::\+Is\+Unscavenged\+Heap\+Object(), v8\+::internal\+::key, v8\+::internal\+::\+Full\+Heap\+Object\+Slot\+::\+Store\+Heap\+Object(), and v8\+::internal\+::\+Full\+Heap\+Object\+Slot\+::\+To\+Heap\+Object().



Referenced by Process\+Weak\+References().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ScavengerCollector_a17ec853918d21ffd218c7064da96ca61_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ScavengerCollector_a17ec853918d21ffd218c7064da96ca61_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ScavengerCollector_a6be8429ba4705649737b2280eec0bfb1}\label{classv8_1_1internal_1_1ScavengerCollector_a6be8429ba4705649737b2280eec0bfb1}} 
\index{v8::internal::ScavengerCollector@{v8::internal::ScavengerCollector}!ClearYoungEphemerons@{ClearYoungEphemerons}}
\index{ClearYoungEphemerons@{ClearYoungEphemerons}!v8::internal::ScavengerCollector@{v8::internal::ScavengerCollector}}
\doxysubsubsection{\texorpdfstring{ClearYoungEphemerons()}{ClearYoungEphemerons()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Scavenger\+Collector\+::\+Clear\+Young\+Ephemerons (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1EphemeronRememberedSet_a19b327dbfd6b9bff99bfe6082b52d919}{Ephemeron\+Remembered\+Set\+::\+Table\+List}} $\ast$}]{ephemeron\+\_\+table\+\_\+list }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1302 of file scavenger.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1303                                                            \{}
\DoxyCodeLine{1304   ephemeron\_table\_list-\/>Iterate([\textcolor{keyword}{this}](Tagged<EphemeronHashTable> table) \{}
\DoxyCodeLine{1305     \textcolor{keywordflow}{for} (InternalIndex \mbox{\hyperlink{namespacev8_1_1internal}{i}} : table-\/>IterateEntries()) \{}
\DoxyCodeLine{1306       \textcolor{comment}{// Keys in EphemeronHashTables must be heap objects.}}
\DoxyCodeLine{1307       HeapObjectSlot key\_slot(}
\DoxyCodeLine{1308           table-\/>RawFieldOfElementAt(EphemeronHashTable::EntryToIndex(i)));}
\DoxyCodeLine{1309       Tagged<HeapObject> key = key\_slot.ToHeapObject();}
\DoxyCodeLine{1310       if (IsUnscavengedHeapObject(heap\_, key)) \{}
\DoxyCodeLine{1311         table-\/>RemoveEntry(i);}
\DoxyCodeLine{1312       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1313         Tagged<HeapObject> forwarded = ForwardingAddress(key);}
\DoxyCodeLine{1314         key\_slot.StoreHeapObject(forwarded);}
\DoxyCodeLine{1315       \}}
\DoxyCodeLine{1316     \}}
\DoxyCodeLine{1317   \});}
\DoxyCodeLine{1318   ephemeron\_table\_list-\/>Clear();}
\DoxyCodeLine{1319 \}}

\end{DoxyCode}


References heap\+::base\+::\+Worklist$<$ Entry\+Type, Min\+Segment\+Size $>$\+::\+Iterate().



Referenced by Process\+Weak\+References().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ScavengerCollector_a6be8429ba4705649737b2280eec0bfb1_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ScavengerCollector_a6be8429ba4705649737b2280eec0bfb1_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ScavengerCollector_a9f8043360f0e70afd346c2ad23a0b5ab}\label{classv8_1_1internal_1_1ScavengerCollector_a9f8043360f0e70afd346c2ad23a0b5ab}} 
\index{v8::internal::ScavengerCollector@{v8::internal::ScavengerCollector}!CollectGarbage@{CollectGarbage}}
\index{CollectGarbage@{CollectGarbage}!v8::internal::ScavengerCollector@{v8::internal::ScavengerCollector}}
\doxysubsubsection{\texorpdfstring{CollectGarbage()}{CollectGarbage()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Scavenger\+Collector\+::\+Collect\+Garbage (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 812 of file scavenger.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{812                                         \{}
\DoxyCodeLine{813   ScopedFullHeapCrashKey collect\_full\_heap\_dump\_if\_crash(\mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_adb6daa778b3014b848978c9732ea1d29}{isolate\_}});}
\DoxyCodeLine{814 }
\DoxyCodeLine{815   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_aae54b507671c27d57ed10bb6fa8c5104}{surviving\_new\_large\_objects\_}}.empty());}
\DoxyCodeLine{816   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!\mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a411619f45ce89fb2a27ccc011d55c9f8}{quarantined\_page\_sweeper\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_1_1QuarantinedPageSweeper_a93caeda4394a40c96ffab0101e0562f2}{IsSweeping}}());}
\DoxyCodeLine{817 }
\DoxyCodeLine{818   SemiSpaceNewSpace* new\_space = \mbox{\hyperlink{classv8_1_1internal_1_1SemiSpaceNewSpace_a6a1e4d7add6a528eb4e3f406327e8ebf}{SemiSpaceNewSpace::From}}(\mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a8abe18f92f4794f8ba70937917325140}{new\_space}}());}
\DoxyCodeLine{819   new\_space-\/>GarbageCollectionPrologue();}
\DoxyCodeLine{820   new\_space-\/>SwapSemiSpaces();}
\DoxyCodeLine{821 }
\DoxyCodeLine{822   \textcolor{comment}{// We also flip the young generation large object space. All large objects}}
\DoxyCodeLine{823   \textcolor{comment}{// will be in the from space.}}
\DoxyCodeLine{824   \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a2dd38bcac0a916cc4eeedd9d14044882}{new\_lo\_space}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1NewLargeObjectSpace_a235266ffb16e5e9cefa6d949b7235748}{Flip}}();}
\DoxyCodeLine{825   \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a2dd38bcac0a916cc4eeedd9d14044882}{new\_lo\_space}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1LargeObjectSpace_a1d31ecb0b175f2055b6736a9bbc7280f}{ResetPendingObject}}();}
\DoxyCodeLine{826 }
\DoxyCodeLine{827   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!\mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a71a5010a2dde4bbad050c4947dc450e2}{allocator}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1HeapAllocator_a021e4a3fc4d7ff340e494fa638d848ef}{new\_space\_allocator}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_af63591da1398980234236b7168175772}{IsLabValid}}());}
\DoxyCodeLine{828 }
\DoxyCodeLine{829   \mbox{\hyperlink{classv8_1_1internal_1_1Scavenger_af149df8250f105bb9b4b5a19907d566c}{Scavenger::EmptyChunksList}} empty\_chunks;}
\DoxyCodeLine{830   \mbox{\hyperlink{classv8_1_1internal_1_1Scavenger_ab58f59dd88e96517801c6a78c4d8bf2a}{Scavenger::CopiedList}} copied\_list;}
\DoxyCodeLine{831   \mbox{\hyperlink{classv8_1_1internal_1_1Scavenger_a1be25366d8468fb4cfb7d6e4becd0ff9}{Scavenger::PinnedList}} pinned\_list;}
\DoxyCodeLine{832   \mbox{\hyperlink{classv8_1_1internal_1_1Scavenger_a2f9c2be2938acc9c7d2e6597038b6804}{Scavenger::PromotedList}} promoted\_list;}
\DoxyCodeLine{833   \mbox{\hyperlink{classv8_1_1internal_1_1EphemeronRememberedSet_a19b327dbfd6b9bff99bfe6082b52d919}{EphemeronRememberedSet::TableList}} ephemeron\_table\_list;}
\DoxyCodeLine{834 }
\DoxyCodeLine{835   \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_ac1d6d39f5bc95b22d946d83d72d46878}{PinnedObjects}} pinned\_objects;}
\DoxyCodeLine{836 }
\DoxyCodeLine{837   \textcolor{keyword}{const} \textcolor{keywordtype}{int} num\_scavenge\_tasks = \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a76f15c956a03796caa50c17203477a18}{NumberOfScavengeTasks}}();}
\DoxyCodeLine{838   std::vector<std::unique\_ptr<Scavenger>> scavengers;}
\DoxyCodeLine{839 }
\DoxyCodeLine{840   \textcolor{keyword}{const} \textcolor{keywordtype}{bool} is\_logging = \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_adb6daa778b3014b848978c9732ea1d29}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_adfa01755d3a879c910921ce0d6c81ce8}{log\_object\_relocation}}();}
\DoxyCodeLine{841   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < num\_scavenge\_tasks; ++\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}) \{}
\DoxyCodeLine{842     scavengers.emplace\_back(}
\DoxyCodeLine{843         \textcolor{keyword}{new} \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a69194b9c6def4e9ec4e2c07b61f7f5a3}{Scavenger}}(\textcolor{keyword}{this}, \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}, is\_logging, \&empty\_chunks, \&copied\_list,}
\DoxyCodeLine{844                       \&pinned\_list, \&promoted\_list, \&ephemeron\_table\_list));}
\DoxyCodeLine{845   \}}
\DoxyCodeLine{846   \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a69194b9c6def4e9ec4e2c07b61f7f5a3}{Scavenger}}\& main\_thread\_scavenger = *scavengers[\mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_ab893be5e4c664072153a51031fc1c410}{kMainThreadId}}].get();}
\DoxyCodeLine{847 }
\DoxyCodeLine{848   \{}
\DoxyCodeLine{849     \textcolor{comment}{// Identify weak unmodified handles. Requires an unmodified graph.}}
\DoxyCodeLine{850     \mbox{\hyperlink{gc-tracer_8h_a5565074f0fda27fbaa5cace7ea4a4108}{TRACE\_GC}}(\mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_abdd7e3821604a14452281640366cc9bb}{tracer}}(),}
\DoxyCodeLine{851              GCTracer::Scope::SCAVENGER\_SCAVENGE\_WEAK\_GLOBAL\_HANDLES\_IDENTIFY);}
\DoxyCodeLine{852     \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_adb6daa778b3014b848978c9732ea1d29}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a25a5f2cf26f80f049dbbe6ea6046b754}{traced\_handles}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1TracedHandles_a1f115265d1827ef187dd95934fcbb85b}{ComputeWeaknessForYoungObjects}}();}
\DoxyCodeLine{853   \}}
\DoxyCodeLine{854 }
\DoxyCodeLine{855   std::vector<std::pair<ParallelWorkItem, MutablePageMetadata*>>}
\DoxyCodeLine{856       old\_to\_new\_chunks;}
\DoxyCodeLine{857   \{}
\DoxyCodeLine{858     \textcolor{comment}{// Copy roots.}}
\DoxyCodeLine{859     \mbox{\hyperlink{gc-tracer_8h_a5565074f0fda27fbaa5cace7ea4a4108}{TRACE\_GC}}(\mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_abdd7e3821604a14452281640366cc9bb}{tracer}}(), GCTracer::Scope::SCAVENGER\_SCAVENGE\_ROOTS);}
\DoxyCodeLine{860 }
\DoxyCodeLine{861     \textcolor{comment}{// We must collect old-\/to-\/new pages before starting Scavenge because}}
\DoxyCodeLine{862     \textcolor{comment}{// pages could be removed from the old generation for allocation which}}
\DoxyCodeLine{863     \textcolor{comment}{// hides them from the iteration.}}
\DoxyCodeLine{864     \mbox{\hyperlink{classv8_1_1internal_1_1OldGenerationMemoryChunkIterator_ad5116c4cb11a8d14d66d004cd6bf76ae}{OldGenerationMemoryChunkIterator::ForAll}}(}
\DoxyCodeLine{865         \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}, [\&old\_to\_new\_chunks](MutablePageMetadata* chunk) \{}
\DoxyCodeLine{866           \textcolor{keywordflow}{if} (chunk-\/>slot\_set<\mbox{\hyperlink{namespacev8_1_1internal_acd168cc3f4f819be9715e41edbf3586aa3c217d6e8e7b6bf5321b243392db47f7}{OLD\_TO\_NEW}}>() ||}
\DoxyCodeLine{867               chunk-\/>typed\_slot\_set<\mbox{\hyperlink{namespacev8_1_1internal_acd168cc3f4f819be9715e41edbf3586aa3c217d6e8e7b6bf5321b243392db47f7}{OLD\_TO\_NEW}}>() ||}
\DoxyCodeLine{868               chunk-\/>slot\_set<\mbox{\hyperlink{namespacev8_1_1internal_acd168cc3f4f819be9715e41edbf3586aa58367539ba9fa32e193c842fccee3c7d}{OLD\_TO\_NEW\_BACKGROUND}}>()) \{}
\DoxyCodeLine{869             old\_to\_new\_chunks.emplace\_back(ParallelWorkItem\{\}, chunk);}
\DoxyCodeLine{870           \}}
\DoxyCodeLine{871         \});}
\DoxyCodeLine{872 }
\DoxyCodeLine{873     \textcolor{keyword}{const} \mbox{\hyperlink{classv8_1_1internal_1_1Heap_a6a1078397aea6722948012db089cd96c}{Heap::StackScanMode}} stack\_scan\_mode =}
\DoxyCodeLine{874         \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a7bcb3912507f154fd43c64e68c29de1b}{ConservativeStackScanningModeForMinorGC}}();}
\DoxyCodeLine{875     \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(stack\_scan\_mode == \mbox{\hyperlink{classv8_1_1internal_1_1Heap_a6a1078397aea6722948012db089cd96ca95e9142869040b62b02f96299865e7b4}{Heap::StackScanMode::kSelective}},}
\DoxyCodeLine{876                    \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_ae4625769d6915289a7acd2c41144b9c3}{IsGCWithStack}}());}
\DoxyCodeLine{877     \textcolor{keywordflow}{if} ((stack\_scan\_mode != \mbox{\hyperlink{classv8_1_1internal_1_1Heap_a6a1078397aea6722948012db089cd96ca35c3ace1970663a16e5c65baa5941b13}{Heap::StackScanMode::kNone}}) \&\&}
\DoxyCodeLine{878         \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_ae4625769d6915289a7acd2c41144b9c3}{IsGCWithStack}}()) \{}
\DoxyCodeLine{879       \textcolor{comment}{// Pinning objects must be the first step and must happen before}}
\DoxyCodeLine{880       \textcolor{comment}{// scavenging any objects. Specifically we must all pin all objects}}
\DoxyCodeLine{881       \textcolor{comment}{// before visiting other pinned objects. If we scavenge some object X}}
\DoxyCodeLine{882       \textcolor{comment}{// and move it before all stack-\/reachable objects are pinned, and we}}
\DoxyCodeLine{883       \textcolor{comment}{// later find that we need to pin X, it will be too late to undo the}}
\DoxyCodeLine{884       \textcolor{comment}{// moving.}}
\DoxyCodeLine{885       \mbox{\hyperlink{gc-tracer_8h_a5565074f0fda27fbaa5cace7ea4a4108}{TRACE\_GC}}(\mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_abdd7e3821604a14452281640366cc9bb}{tracer}}(),}
\DoxyCodeLine{886                GCTracer::Scope::SCAVENGER\_SCAVENGE\_PIN\_OBJECTS);}
\DoxyCodeLine{887       ConservativeObjectPinningVisitor conservative\_pinning\_visitor(}
\DoxyCodeLine{888           \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}, main\_thread\_scavenger, pinned\_objects);}
\DoxyCodeLine{889       \textcolor{comment}{// Scavenger reuses the page's marking bitmap as a temporary object}}
\DoxyCodeLine{890       \textcolor{comment}{// start bitmap. Stack scanning will incrementally build the map as it}}
\DoxyCodeLine{891       \textcolor{comment}{// searches through pages.}}
\DoxyCodeLine{892       YoungGenerationConservativeStackVisitor stack\_visitor(}
\DoxyCodeLine{893           \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_adb6daa778b3014b848978c9732ea1d29}{isolate\_}}, \&conservative\_pinning\_visitor);}
\DoxyCodeLine{894       \textcolor{comment}{// Marker was already set by Heap::CollectGarbage.}}
\DoxyCodeLine{895       \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a905002cc9f6743a32fc5456088997ff7}{IterateConservativeStackRoots}}(\&stack\_visitor, stack\_scan\_mode);}
\DoxyCodeLine{896       \textcolor{keywordflow}{if} (\mbox{\hyperlink{v8config_8h_a67bd29db07c711b0fb11ff1c324ebb60}{V8\_UNLIKELY}}(\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.stress\_scavenger\_conservative\_object\_pinning)) \{}
\DoxyCodeLine{897         TreatConservativelyVisitor handles\_visitor(\&stack\_visitor, \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}});}
\DoxyCodeLine{898         \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a9239c3dcfd5357b3597bbde97924923a}{IterateRootsForPrecisePinning}}(\&handles\_visitor);}
\DoxyCodeLine{899       \}}
\DoxyCodeLine{900     \}}
\DoxyCodeLine{901     \textcolor{keyword}{const} \textcolor{keywordtype}{bool} is\_using\_precise\_pinning =}
\DoxyCodeLine{902         \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_aa91882fbd9b0db7850eeb6129282a4b7}{ShouldUsePrecisePinningForMinorGC}}();}
\DoxyCodeLine{903     \textcolor{keywordflow}{if} (is\_using\_precise\_pinning) \{}
\DoxyCodeLine{904       PreciseObjectPinningVisitor precise\_pinning\_visitor(}
\DoxyCodeLine{905           \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}, main\_thread\_scavenger, pinned\_objects);}
\DoxyCodeLine{906       ClearStaleLeftTrimmedPointerVisitor left\_trim\_visitor(}
\DoxyCodeLine{907           \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}, \&precise\_pinning\_visitor);}
\DoxyCodeLine{908       \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a9239c3dcfd5357b3597bbde97924923a}{IterateRootsForPrecisePinning}}(\&left\_trim\_visitor);}
\DoxyCodeLine{909     \}}
\DoxyCodeLine{910 }
\DoxyCodeLine{911     \textcolor{comment}{// Scavenger treats all weak roots except for global handles as strong.}}
\DoxyCodeLine{912     \textcolor{comment}{// That is why we don't set skip\_weak = true here and instead visit}}
\DoxyCodeLine{913     \textcolor{comment}{// global handles separately.}}
\DoxyCodeLine{914     base::EnumSet<SkipRoot> options(}
\DoxyCodeLine{915         \{\mbox{\hyperlink{namespacev8_1_1internal_aa8afa43b305d6f03c5288971ce078885acd83ee2bd0fc454cf6eeff81ea783a04}{SkipRoot::kExternalStringTable}}, \mbox{\hyperlink{namespacev8_1_1internal_aa8afa43b305d6f03c5288971ce078885a52a906cc34d6f38b3a638bd15d17596b}{SkipRoot::kGlobalHandles}},}
\DoxyCodeLine{916          \mbox{\hyperlink{namespacev8_1_1internal_aa8afa43b305d6f03c5288971ce078885af08c9166c4ec6240391d3b750460a155}{SkipRoot::kTracedHandles}}, \mbox{\hyperlink{namespacev8_1_1internal_aa8afa43b305d6f03c5288971ce078885a4a63dd5ca22d494d1403f99216d1b8ce}{SkipRoot::kOldGeneration}},}
\DoxyCodeLine{917          \mbox{\hyperlink{namespacev8_1_1internal_aa8afa43b305d6f03c5288971ce078885ae627e43b3da0dfc9dc84c70a96c3e983}{SkipRoot::kConservativeStack}}, \mbox{\hyperlink{namespacev8_1_1internal_aa8afa43b305d6f03c5288971ce078885a995dffcce98bdfc9e48bd47a0cdaf2d5}{SkipRoot::kReadOnlyBuiltins}}\});}
\DoxyCodeLine{918     \textcolor{keywordflow}{if} (is\_using\_precise\_pinning) \{}
\DoxyCodeLine{919       options.Add(\{\mbox{\hyperlink{namespacev8_1_1internal_aa8afa43b305d6f03c5288971ce078885acc8727170a77b7a6860ad89ec428dddf}{SkipRoot::kMainThreadHandles}}, \mbox{\hyperlink{namespacev8_1_1internal_aa8afa43b305d6f03c5288971ce078885a5f4930a7bc3cf140a4d53f44f47ed789}{SkipRoot::kStack}}\});}
\DoxyCodeLine{920     \}}
\DoxyCodeLine{921     RootScavengeVisitor root\_scavenge\_visitor(main\_thread\_scavenger);}
\DoxyCodeLine{922 }
\DoxyCodeLine{923     \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a888246e231dc6514e84cbad718195f2e}{IterateRoots}}(\&root\_scavenge\_visitor, options);}
\DoxyCodeLine{924     \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_adb6daa778b3014b848978c9732ea1d29}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a2714e74bceacf9555c6a02745a0319e2}{global\_handles}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1GlobalHandles_a8614e5feab4d6f117afe8b7bc84df988}{IterateYoungStrongAndDependentRoots}}(}
\DoxyCodeLine{925         \&root\_scavenge\_visitor);}
\DoxyCodeLine{926     \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_adb6daa778b3014b848978c9732ea1d29}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a25a5f2cf26f80f049dbbe6ea6046b754}{traced\_handles}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1TracedHandles_ae506394c6040d96b6d0d6c8ef7c5f4c0}{IterateYoungRoots}}(\&root\_scavenge\_visitor);}
\DoxyCodeLine{927   \}}
\DoxyCodeLine{928   \{}
\DoxyCodeLine{929     \textcolor{comment}{// Parallel phase scavenging all copied and promoted objects.}}
\DoxyCodeLine{930     \mbox{\hyperlink{gc-tracer_8h_ab1b9d31a6993723e2ab2a57d5d18ef5a}{TRACE\_GC\_ARG1}}(\mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_abdd7e3821604a14452281640366cc9bb}{tracer}}(),}
\DoxyCodeLine{931                   GCTracer::Scope::SCAVENGER\_SCAVENGE\_PARALLEL\_PHASE,}
\DoxyCodeLine{932                   \textcolor{stringliteral}{"{}UseBackgroundThreads"{}}, \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_ac434b6b237146b5964c6b76d7a8ad2c6}{ShouldUseBackgroundThreads}}());}
\DoxyCodeLine{933 }
\DoxyCodeLine{934     \textcolor{keyword}{auto} job = std::make\_unique<JobTask>(}
\DoxyCodeLine{935         \textcolor{keyword}{this}, \&scavengers, std::move(old\_to\_new\_chunks), copied\_list,}
\DoxyCodeLine{936         pinned\_list, promoted\_list);}
\DoxyCodeLine{937     \mbox{\hyperlink{gc-tracer_8h_a17375713518e1833362b491ef9c163cc}{TRACE\_GC\_NOTE\_WITH\_FLOW}}(\textcolor{stringliteral}{"{}Parallel scavenge started"{}}, job-\/>trace\_id(),}
\DoxyCodeLine{938                             \mbox{\hyperlink{trace-event-no-perfetto_8h_af086bb0f8b985835cc9f35cfe856155f}{TRACE\_EVENT\_FLAG\_FLOW\_OUT}});}
\DoxyCodeLine{939     \mbox{\hyperlink{classv8_1_1internal_1_1V8_a5eb1d47c492fa1e85e7d7c31dd5cf2bb}{V8::GetCurrentPlatform}}()}
\DoxyCodeLine{940         -\/>\mbox{\hyperlink{classv8_1_1Platform_a5a62780772e38f1f00317fce609ec0d4}{CreateJob}}(\mbox{\hyperlink{namespacev8_a680c1a715d1d5df94b21e8b1ee1bf051a495bb545d1c5053ead9743a8b7692209}{v8::TaskPriority::kUserBlocking}}, std::move(job))}
\DoxyCodeLine{941         -\/>Join();}
\DoxyCodeLine{942     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(copied\_list.IsEmpty());}
\DoxyCodeLine{943     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(pinned\_list.IsEmpty());}
\DoxyCodeLine{944     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(promoted\_list.IsEmpty());}
\DoxyCodeLine{945   \}}
\DoxyCodeLine{946 }
\DoxyCodeLine{947   \{}
\DoxyCodeLine{948     \textcolor{comment}{// Scavenge weak global handles.}}
\DoxyCodeLine{949     \mbox{\hyperlink{gc-tracer_8h_a5565074f0fda27fbaa5cace7ea4a4108}{TRACE\_GC}}(\mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_abdd7e3821604a14452281640366cc9bb}{tracer}}(),}
\DoxyCodeLine{950              GCTracer::Scope::SCAVENGER\_SCAVENGE\_WEAK\_GLOBAL\_HANDLES\_PROCESS);}
\DoxyCodeLine{951     GlobalHandlesWeakRootsUpdatingVisitor visitor;}
\DoxyCodeLine{952     \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_adb6daa778b3014b848978c9732ea1d29}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a2714e74bceacf9555c6a02745a0319e2}{global\_handles}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1GlobalHandles_ad074fad490a9f1115721ed464621671c}{ProcessWeakYoungObjects}}(}
\DoxyCodeLine{953         \&visitor, \&\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02scavenger_8cc_03_a7fc0bf76b77c46e5567934e13be1639a}{IsUnscavengedHeapObjectSlot}});}
\DoxyCodeLine{954     \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_adb6daa778b3014b848978c9732ea1d29}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a25a5f2cf26f80f049dbbe6ea6046b754}{traced\_handles}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1TracedHandles_a4d8ef90b75bd8c35f92812c5281100fb}{ProcessWeakYoungObjects}}(}
\DoxyCodeLine{955         \&visitor, \&\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02scavenger_8cc_03_a7fc0bf76b77c46e5567934e13be1639a}{IsUnscavengedHeapObjectSlot}});}
\DoxyCodeLine{956   \}}
\DoxyCodeLine{957 }
\DoxyCodeLine{958   \{}
\DoxyCodeLine{959     \textcolor{comment}{// Finalize parallel scavenging.}}
\DoxyCodeLine{960     \mbox{\hyperlink{gc-tracer_8h_a5565074f0fda27fbaa5cace7ea4a4108}{TRACE\_GC}}(\mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_abdd7e3821604a14452281640366cc9bb}{tracer}}(), GCTracer::Scope::SCAVENGER\_SCAVENGE\_FINALIZE);}
\DoxyCodeLine{961 }
\DoxyCodeLine{962     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_aae54b507671c27d57ed10bb6fa8c5104}{surviving\_new\_large\_objects\_}}.empty());}
\DoxyCodeLine{963 }
\DoxyCodeLine{964     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}\& scavenger : scavengers) \{}
\DoxyCodeLine{965       scavenger-\/>Finalize();}
\DoxyCodeLine{966     \}}
\DoxyCodeLine{967     scavengers.clear();}
\DoxyCodeLine{968 }
\DoxyCodeLine{969 \textcolor{preprocessor}{\#ifdef V8\_COMPRESS\_POINTERS}}
\DoxyCodeLine{970     \textcolor{comment}{// Sweep the external pointer table.}}
\DoxyCodeLine{971     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_aaac51e78398da9ba59e847682b3a62fa}{concurrent\_marking}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a06980681d462120291c2047124cd6a3a}{IsStopped}}());}
\DoxyCodeLine{972     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!\mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_aca549fb459876aff6e5a580c807d1607}{incremental\_marking}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1IncrementalMarking_af7648dd98be368a6b882111f2c62441c}{IsMajorMarking}}());}
\DoxyCodeLine{973     \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_ae5160ad63bc51ff7b36e8f247be48f63}{isolate}}()-\/>external\_pointer\_table().Sweep(}
\DoxyCodeLine{974         \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}-\/>young\_external\_pointer\_space(), \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_ae5160ad63bc51ff7b36e8f247be48f63}{isolate}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a9690b82e4f9b4c8a9160630396cde0b3}{counters}}());}
\DoxyCodeLine{975 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// V8\_COMPRESS\_POINTERS}}
\DoxyCodeLine{976 }
\DoxyCodeLine{977     \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_aada973aac3c267361151c999393c0ad0}{HandleSurvivingNewLargeObjects}}();}
\DoxyCodeLine{978 }
\DoxyCodeLine{979     \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_abdd7e3821604a14452281640366cc9bb}{tracer}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1GCTracer_a8636addad35b96aa0daabd6cf6fead06}{SampleConcurrencyEsimate}}(}
\DoxyCodeLine{980         \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a6a788c0ba41dff61f1d98944e59097da}{FetchAndResetConcurrencyEstimate}}());}
\DoxyCodeLine{981   \}}
\DoxyCodeLine{982 }
\DoxyCodeLine{983   \{}
\DoxyCodeLine{984     \textcolor{comment}{// Update references into new space}}
\DoxyCodeLine{985     \mbox{\hyperlink{gc-tracer_8h_a5565074f0fda27fbaa5cace7ea4a4108}{TRACE\_GC}}(\mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_abdd7e3821604a14452281640366cc9bb}{tracer}}(), GCTracer::Scope::SCAVENGER\_SCAVENGE\_UPDATE\_REFS);}
\DoxyCodeLine{986     \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a8e08d47212cbb36a7d15b3dd7c317b13}{UpdateYoungReferencesInExternalStringTable}}(}
\DoxyCodeLine{987         \&\mbox{\hyperlink{classv8_1_1internal_1_1Heap_aa469a7dbca3016745274ab1e4ec34e40}{Heap::UpdateYoungReferenceInExternalStringTableEntry}});}
\DoxyCodeLine{988 }
\DoxyCodeLine{989     \textcolor{keywordflow}{if} (\mbox{\hyperlink{v8config_8h_a67bd29db07c711b0fb11ff1c324ebb60}{V8\_UNLIKELY}}(\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.always\_use\_string\_forwarding\_table)) \{}
\DoxyCodeLine{990       \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_adb6daa778b3014b848978c9732ea1d29}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_acf580d271e1ea0e447b6bb1e361878d0}{string\_forwarding\_table}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1StringForwardingTable_a597cf3d557f85b53c7356be22ddd64e4}{UpdateAfterYoungEvacuation}}();}
\DoxyCodeLine{991     \}}
\DoxyCodeLine{992   \}}
\DoxyCodeLine{993 }
\DoxyCodeLine{994   \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_aa3a68dbe19164f2316510799000b3807}{ProcessWeakReferences}}(\&ephemeron\_table\_list);}
\DoxyCodeLine{995 }
\DoxyCodeLine{996   \{}
\DoxyCodeLine{997     \mbox{\hyperlink{gc-tracer_8h_a5565074f0fda27fbaa5cace7ea4a4108}{TRACE\_GC}}(\mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_abdd7e3821604a14452281640366cc9bb}{tracer}}(),}
\DoxyCodeLine{998              GCTracer::Scope::SCAVENGER\_SCAVENGE\_RESTORE\_AND\_QUARANTINE\_PINNED);}
\DoxyCodeLine{999     \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02scavenger_8cc_03_a55134593545d02d807b59da40ce8e693}{RestorePinnedObjects}}(*new\_space, pinned\_objects);}
\DoxyCodeLine{1000     \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02scavenger_8cc_03_a355752827c6add51ee46cf7cc1872f63}{QuarantinePinnedPages}}(*new\_space);}
\DoxyCodeLine{1001   \}}
\DoxyCodeLine{1002 }
\DoxyCodeLine{1003   \textcolor{comment}{// Need to free new space LAB that was allocated during scavenge.}}
\DoxyCodeLine{1004   \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a71a5010a2dde4bbad050c4947dc450e2}{allocator}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1HeapAllocator_a021e4a3fc4d7ff340e494fa638d848ef}{new\_space\_allocator}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_add4880eb77fa260479fc6102898dfac0}{FreeLinearAllocationArea}}();}
\DoxyCodeLine{1005 }
\DoxyCodeLine{1006   \textcolor{comment}{// Since we promote all surviving large objects immediately, all remaining}}
\DoxyCodeLine{1007   \textcolor{comment}{// large objects must be dead.}}
\DoxyCodeLine{1008   \textcolor{comment}{// TODO(hpayer): Don't free all as soon as we have an intermediate generation.}}
\DoxyCodeLine{1009   \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a2dd38bcac0a916cc4eeedd9d14044882}{new\_lo\_space}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1NewLargeObjectSpace_a05ebdbd448eb623bafb96961987600eb}{FreeDeadObjects}}(}
\DoxyCodeLine{1010       [](\mbox{\hyperlink{namespacev8_1_1internal_a57f5ecf71b9a2757b0555b2be4c640b8}{Tagged<HeapObject>}}) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{true}; \});}
\DoxyCodeLine{1011 }
\DoxyCodeLine{1012   new\_space-\/>GarbageCollectionEpilogue();}
\DoxyCodeLine{1013 }
\DoxyCodeLine{1014   \textcolor{comment}{// Start sweeping quarantined pages.}}
\DoxyCodeLine{1015   \textcolor{keywordflow}{if} (!pinned\_objects.empty()) \{}
\DoxyCodeLine{1016     \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a411619f45ce89fb2a27ccc011d55c9f8}{quarantined\_page\_sweeper\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_1_1QuarantinedPageSweeper_a229d2752e0752c1ad457f79f25659d92}{StartSweeping}}(std::move(pinned\_objects));}
\DoxyCodeLine{1017   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1018     \textcolor{comment}{// Sweeping is not started since there are no pages to sweep. Mark sweeping}}
\DoxyCodeLine{1019     \textcolor{comment}{// as completed so that the current GC cycle can be stopped since there is}}
\DoxyCodeLine{1020     \textcolor{comment}{// no sweeper to mark it has completed later.}}
\DoxyCodeLine{1021     \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_abdd7e3821604a14452281640366cc9bb}{tracer}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1GCTracer_a8fcc0a4a72eeff91ae7d95e3ce7bc734}{NotifyYoungSweepingCompleted}}();}
\DoxyCodeLine{1022   \}}
\DoxyCodeLine{1023 }
\DoxyCodeLine{1024   \{}
\DoxyCodeLine{1025     \mbox{\hyperlink{gc-tracer_8h_a5565074f0fda27fbaa5cace7ea4a4108}{TRACE\_GC}}(\mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_abdd7e3821604a14452281640366cc9bb}{tracer}}(), GCTracer::Scope::SCAVENGER\_FREE\_REMEMBERED\_SET);}
\DoxyCodeLine{1026     Scavenger::EmptyChunksList::Local empty\_chunks\_local(empty\_chunks);}
\DoxyCodeLine{1027     MutablePageMetadata* chunk;}
\DoxyCodeLine{1028     \textcolor{keywordflow}{while} (empty\_chunks\_local.Pop(\&chunk)) \{}
\DoxyCodeLine{1029       \mbox{\hyperlink{classv8_1_1internal_1_1RememberedSet_a2ce1faa4258eefd427835839da2dfc92}{RememberedSet<OLD\_TO\_NEW>::CheckPossiblyEmptyBuckets}}(chunk);}
\DoxyCodeLine{1030       \mbox{\hyperlink{classv8_1_1internal_1_1RememberedSet_a2ce1faa4258eefd427835839da2dfc92}{RememberedSet<OLD\_TO\_NEW\_BACKGROUND>::CheckPossiblyEmptyBuckets}}(chunk);}
\DoxyCodeLine{1031     \}}
\DoxyCodeLine{1032 }
\DoxyCodeLine{1033 \textcolor{preprocessor}{\#ifdef DEBUG}}
\DoxyCodeLine{1034     \mbox{\hyperlink{classv8_1_1internal_1_1OldGenerationMemoryChunkIterator_ad5116c4cb11a8d14d66d004cd6bf76ae}{OldGenerationMemoryChunkIterator::ForAll}}(}
\DoxyCodeLine{1035         \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}, [](MutablePageMetadata* chunk) \{}
\DoxyCodeLine{1036           \textcolor{keywordflow}{if} (chunk-\/>slot\_set<\mbox{\hyperlink{namespacev8_1_1internal_acd168cc3f4f819be9715e41edbf3586aa3c217d6e8e7b6bf5321b243392db47f7}{OLD\_TO\_NEW}}>() ||}
\DoxyCodeLine{1037               chunk-\/>typed\_slot\_set<\mbox{\hyperlink{namespacev8_1_1internal_acd168cc3f4f819be9715e41edbf3586aa3c217d6e8e7b6bf5321b243392db47f7}{OLD\_TO\_NEW}}>() ||}
\DoxyCodeLine{1038               chunk-\/>slot\_set<\mbox{\hyperlink{namespacev8_1_1internal_acd168cc3f4f819be9715e41edbf3586aa58367539ba9fa32e193c842fccee3c7d}{OLD\_TO\_NEW\_BACKGROUND}}>()) \{}
\DoxyCodeLine{1039             DCHECK(chunk-\/>possibly\_empty\_buckets()-\/>IsEmpty());}
\DoxyCodeLine{1040           \}}
\DoxyCodeLine{1041         \});}
\DoxyCodeLine{1042 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{1043   \}}
\DoxyCodeLine{1044 }
\DoxyCodeLine{1045   \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a6a89b71a40020d0e37e118e1689dda51}{SweepArrayBufferExtensions}}();}
\DoxyCodeLine{1046 }
\DoxyCodeLine{1047   \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_adb6daa778b3014b848978c9732ea1d29}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a2714e74bceacf9555c6a02745a0319e2}{global\_handles}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1GlobalHandles_a2711c2ce9d6a19606f70e06683634243}{UpdateListOfYoungNodes}}();}
\DoxyCodeLine{1048   \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_adb6daa778b3014b848978c9732ea1d29}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a25a5f2cf26f80f049dbbe6ea6046b754}{traced\_handles}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1TracedHandles_ac07c870a519e0ee8de4bc4dbc16071ed}{UpdateListOfYoungNodes}}();}
\DoxyCodeLine{1049 }
\DoxyCodeLine{1050   \textcolor{comment}{// Update how much has survived scavenge.}}
\DoxyCodeLine{1051   \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a7e8ea4a252616bfaf71f316721faf940}{IncrementYoungSurvivorsCounter}}(\mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_aea08c10fc71c67db663c3ff77e9925c5}{SurvivedYoungObjectSize}}());}
\DoxyCodeLine{1052 }
\DoxyCodeLine{1053   \{}
\DoxyCodeLine{1054     \mbox{\hyperlink{gc-tracer_8h_a5565074f0fda27fbaa5cace7ea4a4108}{TRACE\_GC}}(\mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_abdd7e3821604a14452281640366cc9bb}{tracer}}(), GCTracer::Scope::SCAVENGER\_RESIZE\_NEW\_SPACE);}
\DoxyCodeLine{1055     \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a4f77b61e4d779f97f1305eb1b7339bc4}{ResizeNewSpace}}();}
\DoxyCodeLine{1056   \}}
\DoxyCodeLine{1057 \}}

\end{DoxyCode}


References v8\+::base\+::\+Enum\+Set$<$ E, T $>$\+::\+Add(), v8\+::internal\+::\+Heap\+::allocator(), v8\+::internal\+::\+Traced\+Handles\+::\+Compute\+Weakness\+For\+Young\+Objects(), v8\+::internal\+::\+Heap\+::\+Conservative\+Stack\+Scanning\+Mode\+For\+Minor\+GC(), v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+IMPLIES, v8\+::internal\+::\+New\+Large\+Object\+Space\+::\+Flip(), v8\+::internal\+::\+Old\+Generation\+Memory\+Chunk\+Iterator\+::\+For\+All(), v8\+::internal\+::\+Semi\+Space\+New\+Space\+::\+From(), v8\+::internal\+::\+Semi\+Space\+New\+Space\+::\+Garbage\+Collection\+Prologue(), v8\+::internal\+::\+Isolate\+::global\+\_\+handles(), v8\+::internal\+::\+Scavenger\+Collector\+::\+Quarantined\+Page\+Sweeper\+::heap\+\_\+, v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::i, v8\+::internal\+::\+Heap\+::\+Is\+GCWith\+Stack(), v8\+::internal\+::\+Main\+Allocator\+::\+Is\+Lab\+Valid(), isolate\+\_\+, v8\+::internal\+::\+Scavenger\+Collector\+::\+Quarantined\+Page\+Sweeper\+::\+Is\+Sweeping(), v8\+::internal\+::\+Heap\+::\+Iterate\+Conservative\+Stack\+Roots(), v8\+::internal\+::\+Heap\+::\+Iterate\+Roots(), v8\+::internal\+::\+Heap\+::\+Iterate\+Roots\+For\+Precise\+Pinning(), v8\+::internal\+::\+Traced\+Handles\+::\+Iterate\+Young\+Roots(), v8\+::internal\+::\+Global\+Handles\+::\+Iterate\+Young\+Strong\+And\+Dependent\+Roots(), v8\+::internal\+::k\+Conservative\+Stack, v8\+::internal\+::k\+External\+String\+Table, v8\+::internal\+::k\+Global\+Handles, v8\+::internal\+::k\+Main\+Thread\+Handles, k\+Main\+Thread\+Id, v8\+::internal\+::\+Heap\+::k\+None, v8\+::internal\+::k\+Old\+Generation, v8\+::internal\+::k\+Read\+Only\+Builtins, v8\+::internal\+::\+Heap\+::k\+Selective, v8\+::internal\+::k\+Stack, v8\+::internal\+::k\+Traced\+Handles, v8\+::internal\+::\+Isolate\+::log\+\_\+object\+\_\+relocation(), v8\+::internal\+::\+Heap\+::new\+\_\+lo\+\_\+space(), v8\+::internal\+::\+Heap\+::new\+\_\+space(), v8\+::internal\+::\+Heap\+Allocator\+::new\+\_\+space\+\_\+allocator(), Number\+Of\+Scavenge\+Tasks(), v8\+::internal\+::\+OLD\+\_\+\+TO\+\_\+\+NEW, v8\+::internal\+::\+OLD\+\_\+\+TO\+\_\+\+NEW\+\_\+\+BACKGROUND, quarantined\+\_\+page\+\_\+sweeper\+\_\+, v8\+::internal\+::\+Large\+Object\+Space\+::\+Reset\+Pending\+Object(), Scavenger, v8\+::internal\+::\+Heap\+::\+Should\+Use\+Precise\+Pinning\+For\+Minor\+GC(), v8\+::internal\+::\+Mutable\+Page\+Metadata\+::slot\+\_\+set(), surviving\+\_\+new\+\_\+large\+\_\+objects\+\_\+, v8\+::internal\+::\+Semi\+Space\+New\+Space\+::\+Swap\+Semi\+Spaces(), TRACE\+\_\+\+GC, v8\+::internal\+::\+Isolate\+::traced\+\_\+handles(), v8\+::internal\+::\+Heap\+::tracer(), v8\+::internal\+::\+Mutable\+Page\+Metadata\+::typed\+\_\+slot\+\_\+set(), v8\+::internal\+::v8\+\_\+flags, and V8\+\_\+\+UNLIKELY.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1ScavengerCollector_a9f8043360f0e70afd346c2ad23a0b5ab_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ScavengerCollector_a8477fc50638f7faabba80405747b3c65}\label{classv8_1_1internal_1_1ScavengerCollector_a8477fc50638f7faabba80405747b3c65}} 
\index{v8::internal::ScavengerCollector@{v8::internal::ScavengerCollector}!CompleteSweepingQuarantinedPagesIfNeeded@{CompleteSweepingQuarantinedPagesIfNeeded}}
\index{CompleteSweepingQuarantinedPagesIfNeeded@{CompleteSweepingQuarantinedPagesIfNeeded}!v8::internal::ScavengerCollector@{v8::internal::ScavengerCollector}}
\doxysubsubsection{\texorpdfstring{CompleteSweepingQuarantinedPagesIfNeeded()}{CompleteSweepingQuarantinedPagesIfNeeded()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Scavenger\+Collector\+::\+Complete\+Sweeping\+Quarantined\+Pages\+If\+Needed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 1097 of file scavenger.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1097                                                                   \{}
\DoxyCodeLine{1098   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a411619f45ce89fb2a27ccc011d55c9f8}{quarantined\_page\_sweeper\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_1_1QuarantinedPageSweeper_a93caeda4394a40c96ffab0101e0562f2}{IsSweeping}}()) \{}
\DoxyCodeLine{1099     \textcolor{keywordflow}{return};}
\DoxyCodeLine{1100   \}}
\DoxyCodeLine{1101   \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a411619f45ce89fb2a27ccc011d55c9f8}{quarantined\_page\_sweeper\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_1_1QuarantinedPageSweeper_a257a98d3f69736e1f477cf8272db9a96}{FinishSweeping}}();}
\DoxyCodeLine{1102   \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_abdd7e3821604a14452281640366cc9bb}{tracer}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1GCTracer_ab6c0c3ee40013a6fc1f030eb8b9c626d}{NotifyYoungSweepingCompletedAndStopCycleIfFinished}}();}
\DoxyCodeLine{1103 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Scavenger\+Collector\+::\+Quarantined\+Page\+Sweeper\+::\+Finish\+Sweeping(), heap\+\_\+, v8\+::internal\+::\+Scavenger\+Collector\+::\+Quarantined\+Page\+Sweeper\+::\+Is\+Sweeping(), v8\+::internal\+::\+GCTracer\+::\+Notify\+Young\+Sweeping\+Completed\+And\+Stop\+Cycle\+If\+Finished(), quarantined\+\_\+page\+\_\+sweeper\+\_\+, and v8\+::internal\+::\+Heap\+::tracer().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ScavengerCollector_a8477fc50638f7faabba80405747b3c65_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ScavengerCollector_a6a788c0ba41dff61f1d98944e59097da}\label{classv8_1_1internal_1_1ScavengerCollector_a6a788c0ba41dff61f1d98944e59097da}} 
\index{v8::internal::ScavengerCollector@{v8::internal::ScavengerCollector}!FetchAndResetConcurrencyEstimate@{FetchAndResetConcurrencyEstimate}}
\index{FetchAndResetConcurrencyEstimate@{FetchAndResetConcurrencyEstimate}!v8::internal::ScavengerCollector@{v8::internal::ScavengerCollector}}
\doxysubsubsection{\texorpdfstring{FetchAndResetConcurrencyEstimate()}{FetchAndResetConcurrencyEstimate()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::\+Scavenger\+Collector\+::\+Fetch\+And\+Reset\+Concurrency\+Estimate (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 370 of file scavenger.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{370                                             \{}
\DoxyCodeLine{371     \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} estimate =}
\DoxyCodeLine{372         \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_aa1f17e474b45dec7f384e89429fd25af}{estimate\_concurrency\_}}.exchange(0, std::memory\_order\_relaxed);}
\DoxyCodeLine{373     \textcolor{keywordflow}{return} estimate == 0 ? 1 : estimate;}
\DoxyCodeLine{374   \}}

\end{DoxyCode}


References estimate\+\_\+concurrency\+\_\+.

\mbox{\Hypertarget{classv8_1_1internal_1_1ScavengerCollector_aada973aac3c267361151c999393c0ad0}\label{classv8_1_1internal_1_1ScavengerCollector_aada973aac3c267361151c999393c0ad0}} 
\index{v8::internal::ScavengerCollector@{v8::internal::ScavengerCollector}!HandleSurvivingNewLargeObjects@{HandleSurvivingNewLargeObjects}}
\index{HandleSurvivingNewLargeObjects@{HandleSurvivingNewLargeObjects}!v8::internal::ScavengerCollector@{v8::internal::ScavengerCollector}}
\doxysubsubsection{\texorpdfstring{HandleSurvivingNewLargeObjects()}{HandleSurvivingNewLargeObjects()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Scavenger\+Collector\+::\+Handle\+Surviving\+New\+Large\+Objects (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1068 of file scavenger.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1068                                                         \{}
\DoxyCodeLine{1069   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!\mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_aca549fb459876aff6e5a580c807d1607}{incremental\_marking}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1IncrementalMarking_a36f76d27a7a670a4b270804cef79cea1}{IsMarking}}());}
\DoxyCodeLine{1070 }
\DoxyCodeLine{1071   \textcolor{keywordflow}{for} (\mbox{\hyperlink{namespacev8_1_1internal_a8f43ae3300cc59d418658509dfb9d0cf}{SurvivingNewLargeObjectMapEntry}} update\_info :}
\DoxyCodeLine{1072        \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_aae54b507671c27d57ed10bb6fa8c5104}{surviving\_new\_large\_objects\_}}) \{}
\DoxyCodeLine{1073     \mbox{\hyperlink{namespacev8_1_1internal_a57f5ecf71b9a2757b0555b2be4c640b8}{Tagged<HeapObject>}} \textcolor{keywordtype}{object} = update\_info.first;}
\DoxyCodeLine{1074     Tagged<Map> map = update\_info.second;}
\DoxyCodeLine{1075     \textcolor{comment}{// Order is important here. We have to re-\/install the map to have access}}
\DoxyCodeLine{1076     \textcolor{comment}{// to meta-\/data like size during page promotion.}}
\DoxyCodeLine{1077     \textcolor{keywordtype}{object}-\/>set\_map\_word(map, \mbox{\hyperlink{namespacev8_a6f4ac914af065ca471d59c67f789296f}{kRelaxedStore}});}
\DoxyCodeLine{1078 }
\DoxyCodeLine{1079     LargePageMetadata* page = \mbox{\hyperlink{classv8_1_1internal_1_1LargePageMetadata_a107348a0a33d4bbd22d750a603353d8c}{LargePageMetadata::FromHeapObject}}(\textcolor{keywordtype}{object});}
\DoxyCodeLine{1080     \mbox{\hyperlink{check_8h_aee78f6fbdf206be23e949191f9408e4b}{SBXCHECK}}(page-\/>IsLargePage());}
\DoxyCodeLine{1081     \mbox{\hyperlink{check_8h_a6e67d209c0a0c9c55b7b563275f63bdd}{SBXCHECK\_EQ}}(page-\/>owner\_identity(), \mbox{\hyperlink{namespacev8_1_1internal_aa131d4fd9972fd8dfbec01a9243d9fefa6f564dbff22ad6da21740d3143349d93}{NEW\_LO\_SPACE}});}
\DoxyCodeLine{1082     \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_ad2f135c51e5752f90638521eee547129}{lo\_space}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1OldLargeObjectSpace_a70a9bca669df225ca07123ffc66c5757}{PromoteNewLargeObject}}(page);}
\DoxyCodeLine{1083   \}}
\DoxyCodeLine{1084   \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_aae54b507671c27d57ed10bb6fa8c5104}{surviving\_new\_large\_objects\_}}.clear();}
\DoxyCodeLine{1085   \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a2dd38bcac0a916cc4eeedd9d14044882}{new\_lo\_space}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1LargeObjectSpace_a4c8206e0e97587c95998d7148df09940}{set\_objects\_size}}(0);}
\DoxyCodeLine{1086 \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), v8\+::internal\+::\+Large\+Page\+Metadata\+::\+From\+Heap\+Object(), heap\+\_\+, v8\+::internal\+::\+Heap\+::incremental\+\_\+marking(), v8\+::internal\+::\+Mutable\+Page\+Metadata\+::\+Is\+Large\+Page(), v8\+::internal\+::\+Incremental\+Marking\+::\+Is\+Marking(), v8\+::k\+Relaxed\+Store, v8\+::internal\+::\+Heap\+::lo\+\_\+space(), v8\+::internal\+::\+NEW\+\_\+\+LO\+\_\+\+SPACE, v8\+::internal\+::\+Heap\+::new\+\_\+lo\+\_\+space(), v8\+::internal\+::\+Mutable\+Page\+Metadata\+::owner\+\_\+identity(), v8\+::internal\+::\+Old\+Large\+Object\+Space\+::\+Promote\+New\+Large\+Object(), SBXCHECK, SBXCHECK\+\_\+\+EQ, v8\+::internal\+::\+Large\+Object\+Space\+::set\+\_\+objects\+\_\+size(), and surviving\+\_\+new\+\_\+large\+\_\+objects\+\_\+.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ScavengerCollector_aada973aac3c267361151c999393c0ad0_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ScavengerCollector_a323a6766760f8853d60bc9bef796e625}\label{classv8_1_1internal_1_1ScavengerCollector_a323a6766760f8853d60bc9bef796e625}} 
\index{v8::internal::ScavengerCollector@{v8::internal::ScavengerCollector}!MergeSurvivingNewLargeObjects@{MergeSurvivingNewLargeObjects}}
\index{MergeSurvivingNewLargeObjects@{MergeSurvivingNewLargeObjects}!v8::internal::ScavengerCollector@{v8::internal::ScavengerCollector}}
\doxysubsubsection{\texorpdfstring{MergeSurvivingNewLargeObjects()}{MergeSurvivingNewLargeObjects()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Scavenger\+Collector\+::\+Merge\+Surviving\+New\+Large\+Objects (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{namespacev8_1_1internal_a7569eb2d9de22d92017f797f20d959d4}{Surviving\+New\+Large\+Objects\+Map}} \&}]{objects }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1088 of file scavenger.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1089                                                 \{}
\DoxyCodeLine{1090   \textcolor{keywordflow}{for} (\mbox{\hyperlink{namespacev8_1_1internal_a8f43ae3300cc59d418658509dfb9d0cf}{SurvivingNewLargeObjectMapEntry}} \textcolor{keywordtype}{object} : objects) \{}
\DoxyCodeLine{1091     \textcolor{keywordtype}{bool} success = \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_aae54b507671c27d57ed10bb6fa8c5104}{surviving\_new\_large\_objects\_}}.insert(\textcolor{keywordtype}{object}).second;}
\DoxyCodeLine{1092     \mbox{\hyperlink{src_2base_2macros_8h_a280b0798f270f4b3f361c9ab64832956}{USE}}(success);}
\DoxyCodeLine{1093     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(success);}
\DoxyCodeLine{1094   \}}
\DoxyCodeLine{1095 \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), surviving\+\_\+new\+\_\+large\+\_\+objects\+\_\+, and USE.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ScavengerCollector_a323a6766760f8853d60bc9bef796e625_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ScavengerCollector_a76f15c956a03796caa50c17203477a18}\label{classv8_1_1internal_1_1ScavengerCollector_a76f15c956a03796caa50c17203477a18}} 
\index{v8::internal::ScavengerCollector@{v8::internal::ScavengerCollector}!NumberOfScavengeTasks@{NumberOfScavengeTasks}}
\index{NumberOfScavengeTasks@{NumberOfScavengeTasks}!v8::internal::ScavengerCollector@{v8::internal::ScavengerCollector}}
\doxysubsubsection{\texorpdfstring{NumberOfScavengeTasks()}{NumberOfScavengeTasks()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classint}{int}} v8\+::internal\+::\+Scavenger\+Collector\+::\+Number\+Of\+Scavenge\+Tasks (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1105 of file scavenger.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1105                                               \{}
\DoxyCodeLine{1106   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.parallel\_scavenge) \{}
\DoxyCodeLine{1107     \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{1108   \}}
\DoxyCodeLine{1109   \textcolor{keyword}{const} \textcolor{keywordtype}{int} num\_scavenge\_tasks =}
\DoxyCodeLine{1110       \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(}
\DoxyCodeLine{1111           \mbox{\hyperlink{classv8_1_1internal_1_1SemiSpaceNewSpace_a6a1e4d7add6a528eb4e3f406327e8ebf}{SemiSpaceNewSpace::From}}(\mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a8abe18f92f4794f8ba70937917325140}{new\_space}}())-\/>\mbox{\hyperlink{classv8_1_1internal_1_1SemiSpaceNewSpace_a0177b76c8885000ff7d29f90c6db7c66}{TotalCapacity}}()) /}
\DoxyCodeLine{1112           \mbox{\hyperlink{namespacev8_1_1internal_af46551c5713d2a3a1be4dca973e521e0}{MB}} +}
\DoxyCodeLine{1113       1;}
\DoxyCodeLine{1114   \textcolor{keyword}{static} \textcolor{keywordtype}{int} num\_cores = \mbox{\hyperlink{classv8_1_1internal_1_1V8_a5eb1d47c492fa1e85e7d7c31dd5cf2bb}{V8::GetCurrentPlatform}}()-\/>\mbox{\hyperlink{classv8_1_1Platform_a57cdd7eb4c482bfb806c378beeda716d}{NumberOfWorkerThreads}}() + 1;}
\DoxyCodeLine{1115   \textcolor{keywordtype}{int} tasks = std::max(}
\DoxyCodeLine{1116       1, std::min(\{num\_scavenge\_tasks, \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a7369780ac7681f0183ffecc22ef19bab}{kMaxScavengerTasks}}, num\_cores\}));}
\DoxyCodeLine{1117   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a75ae9515c5fc385e870cf1cf08cb0c14}{CanPromoteYoungAndExpandOldGeneration}}(}
\DoxyCodeLine{1118           \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(tasks * \mbox{\hyperlink{classv8_1_1internal_1_1MutablePageMetadata_a8ca68362b7531b2ab93a045cdcedfdde}{PageMetadata::kPageSize}}))) \{}
\DoxyCodeLine{1119     \textcolor{comment}{// Optimize for memory usage near the heap limit.}}
\DoxyCodeLine{1120     tasks = 1;}
\DoxyCodeLine{1121   \}}
\DoxyCodeLine{1122   \textcolor{keywordflow}{return} tasks;}
\DoxyCodeLine{1123 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Heap\+::\+Can\+Promote\+Young\+And\+Expand\+Old\+Generation(), v8\+::internal\+::\+Semi\+Space\+New\+Space\+::\+From(), v8\+::internal\+::\+V8\+::\+Get\+Current\+Platform(), heap\+\_\+, k\+Max\+Scavenger\+Tasks, v8\+::internal\+::\+Mutable\+Page\+Metadata\+::k\+Page\+Size, v8\+::internal\+::\+MB, v8\+::internal\+::\+Heap\+::new\+\_\+space(), v8\+::\+Platform\+::\+Number\+Of\+Worker\+Threads(), v8\+::internal\+::\+Semi\+Space\+New\+Space\+::\+Total\+Capacity(), and v8\+::internal\+::v8\+\_\+flags.



Referenced by Collect\+Garbage().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ScavengerCollector_a76f15c956a03796caa50c17203477a18_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ScavengerCollector_a76f15c956a03796caa50c17203477a18_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ScavengerCollector_aa3a68dbe19164f2316510799000b3807}\label{classv8_1_1internal_1_1ScavengerCollector_aa3a68dbe19164f2316510799000b3807}} 
\index{v8::internal::ScavengerCollector@{v8::internal::ScavengerCollector}!ProcessWeakReferences@{ProcessWeakReferences}}
\index{ProcessWeakReferences@{ProcessWeakReferences}!v8::internal::ScavengerCollector@{v8::internal::ScavengerCollector}}
\doxysubsubsection{\texorpdfstring{ProcessWeakReferences()}{ProcessWeakReferences()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Scavenger\+Collector\+::\+Process\+Weak\+References (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1EphemeronRememberedSet_a19b327dbfd6b9bff99bfe6082b52d919}{Ephemeron\+Remembered\+Set\+::\+Table\+List}} $\ast$}]{ephemeron\+\_\+table\+\_\+list }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1294 of file scavenger.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1295                                                            \{}
\DoxyCodeLine{1296   \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a6be8429ba4705649737b2280eec0bfb1}{ClearYoungEphemerons}}(ephemeron\_table\_list);}
\DoxyCodeLine{1297   \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a17ec853918d21ffd218c7064da96ca61}{ClearOldEphemerons}}();}
\DoxyCodeLine{1298 \}}

\end{DoxyCode}


References Clear\+Old\+Ephemerons(), and Clear\+Young\+Ephemerons().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ScavengerCollector_aa3a68dbe19164f2316510799000b3807_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ScavengerCollector_a6a89b71a40020d0e37e118e1689dda51}\label{classv8_1_1internal_1_1ScavengerCollector_a6a89b71a40020d0e37e118e1689dda51}} 
\index{v8::internal::ScavengerCollector@{v8::internal::ScavengerCollector}!SweepArrayBufferExtensions@{SweepArrayBufferExtensions}}
\index{SweepArrayBufferExtensions@{SweepArrayBufferExtensions}!v8::internal::ScavengerCollector@{v8::internal::ScavengerCollector}}
\doxysubsubsection{\texorpdfstring{SweepArrayBufferExtensions()}{SweepArrayBufferExtensions()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Scavenger\+Collector\+::\+Sweep\+Array\+Buffer\+Extensions (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1059 of file scavenger.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1059                                                     \{}
\DoxyCodeLine{1060   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(0, \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a2dd38bcac0a916cc4eeedd9d14044882}{new\_lo\_space}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1LargeObjectSpace_a2bffda9f3fd2a5766480a0b4f2c77a82}{Size}}());}
\DoxyCodeLine{1061   \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_aad4ced219dceeeabe3f688dcc3b7736a}{array\_buffer\_sweeper}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1ArrayBufferSweeper_a5fd86b603aaa53c5799679544e8b479f}{RequestSweep}}(}
\DoxyCodeLine{1062       \mbox{\hyperlink{classv8_1_1internal_1_1ArrayBufferSweeper_a64a03d5f0aa3d4fb500b899ed3ff3342a492ef7cfa083cd677493179d45c9961e}{ArrayBufferSweeper::SweepingType::kYoung}},}
\DoxyCodeLine{1063       (\mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a8abe18f92f4794f8ba70937917325140}{new\_space}}()-\/>SizeOfObjects() == 0)}
\DoxyCodeLine{1064           ? \mbox{\hyperlink{classv8_1_1internal_1_1ArrayBufferSweeper_a77240e54ef35b7c87630abc2b6b2b82ea1ea590aa4a64767508460736ac0edaa9}{ArrayBufferSweeper::TreatAllYoungAsPromoted::kYes}}}
\DoxyCodeLine{1065           : \mbox{\hyperlink{classv8_1_1internal_1_1ArrayBufferSweeper_a77240e54ef35b7c87630abc2b6b2b82ea8cc8e60acfa3ae6089df773013fd73a2}{ArrayBufferSweeper::TreatAllYoungAsPromoted::kNo}});}
\DoxyCodeLine{1066 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Heap\+::array\+\_\+buffer\+\_\+sweeper(), DCHECK\+\_\+\+EQ, heap\+\_\+, v8\+::internal\+::\+Array\+Buffer\+Sweeper\+::k\+No, v8\+::internal\+::\+Array\+Buffer\+Sweeper\+::k\+Yes, v8\+::internal\+::\+Array\+Buffer\+Sweeper\+::k\+Young, v8\+::internal\+::\+Heap\+::new\+\_\+lo\+\_\+space(), v8\+::internal\+::\+Heap\+::new\+\_\+space(), v8\+::internal\+::\+Array\+Buffer\+Sweeper\+::\+Request\+Sweep(), and v8\+::internal\+::\+Large\+Object\+Space\+::\+Size().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ScavengerCollector_a6a89b71a40020d0e37e118e1689dda51_cgraph}
\end{center}
\end{figure}


\doxysubsection{Friends And Related Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1ScavengerCollector_a69194b9c6def4e9ec4e2c07b61f7f5a3}\label{classv8_1_1internal_1_1ScavengerCollector_a69194b9c6def4e9ec4e2c07b61f7f5a3}} 
\index{v8::internal::ScavengerCollector@{v8::internal::ScavengerCollector}!Scavenger@{Scavenger}}
\index{Scavenger@{Scavenger}!v8::internal::ScavengerCollector@{v8::internal::ScavengerCollector}}
\doxysubsubsection{\texorpdfstring{Scavenger}{Scavenger}}
{\footnotesize\ttfamily friend class \mbox{\hyperlink{classv8_1_1internal_1_1Scavenger}{Scavenger}}\hspace{0.3cm}{\ttfamily [friend]}}



Definition at line 382 of file scavenger.\+h.



Referenced by Collect\+Garbage().



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1ScavengerCollector_aa1f17e474b45dec7f384e89429fd25af}\label{classv8_1_1internal_1_1ScavengerCollector_aa1f17e474b45dec7f384e89429fd25af}} 
\index{v8::internal::ScavengerCollector@{v8::internal::ScavengerCollector}!estimate\_concurrency\_@{estimate\_concurrency\_}}
\index{estimate\_concurrency\_@{estimate\_concurrency\_}!v8::internal::ScavengerCollector@{v8::internal::ScavengerCollector}}
\doxysubsubsection{\texorpdfstring{estimate\_concurrency\_}{estimate\_concurrency\_}}
{\footnotesize\ttfamily std\+::atomic$<$\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}$>$ v8\+::internal\+::\+Scavenger\+Collector\+::estimate\+\_\+concurrency\+\_\+ \{0\}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 379 of file scavenger.\+h.



Referenced by Fetch\+And\+Reset\+Concurrency\+Estimate().

\mbox{\Hypertarget{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}\label{classv8_1_1internal_1_1ScavengerCollector_a31212344e781d6a74faa4dc323923847}} 
\index{v8::internal::ScavengerCollector@{v8::internal::ScavengerCollector}!heap\_@{heap\_}}
\index{heap\_@{heap\_}!v8::internal::ScavengerCollector@{v8::internal::ScavengerCollector}}
\doxysubsubsection{\texorpdfstring{heap\_}{heap\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1Heap}{Heap}}$\ast$ const v8\+::internal\+::\+Scavenger\+Collector\+::heap\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 377 of file scavenger.\+h.



Referenced by Complete\+Sweeping\+Quarantined\+Pages\+If\+Needed(), Handle\+Surviving\+New\+Large\+Objects(), Number\+Of\+Scavenge\+Tasks(), and Sweep\+Array\+Buffer\+Extensions().

\mbox{\Hypertarget{classv8_1_1internal_1_1ScavengerCollector_adb6daa778b3014b848978c9732ea1d29}\label{classv8_1_1internal_1_1ScavengerCollector_adb6daa778b3014b848978c9732ea1d29}} 
\index{v8::internal::ScavengerCollector@{v8::internal::ScavengerCollector}!isolate\_@{isolate\_}}
\index{isolate\_@{isolate\_}!v8::internal::ScavengerCollector@{v8::internal::ScavengerCollector}}
\doxysubsubsection{\texorpdfstring{isolate\_}{isolate\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}}$\ast$ const v8\+::internal\+::\+Scavenger\+Collector\+::isolate\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 376 of file scavenger.\+h.



Referenced by Collect\+Garbage().

\mbox{\Hypertarget{classv8_1_1internal_1_1ScavengerCollector_ab893be5e4c664072153a51031fc1c410}\label{classv8_1_1internal_1_1ScavengerCollector_ab893be5e4c664072153a51031fc1c410}} 
\index{v8::internal::ScavengerCollector@{v8::internal::ScavengerCollector}!kMainThreadId@{kMainThreadId}}
\index{kMainThreadId@{kMainThreadId}!v8::internal::ScavengerCollector@{v8::internal::ScavengerCollector}}
\doxysubsubsection{\texorpdfstring{kMainThreadId}{kMainThreadId}}
{\footnotesize\ttfamily const \mbox{\hyperlink{classint}{int}} v8\+::internal\+::\+Scavenger\+Collector\+::k\+Main\+Thread\+Id = 0\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 244 of file scavenger.\+h.



Referenced by Collect\+Garbage().

\mbox{\Hypertarget{classv8_1_1internal_1_1ScavengerCollector_a7369780ac7681f0183ffecc22ef19bab}\label{classv8_1_1internal_1_1ScavengerCollector_a7369780ac7681f0183ffecc22ef19bab}} 
\index{v8::internal::ScavengerCollector@{v8::internal::ScavengerCollector}!kMaxScavengerTasks@{kMaxScavengerTasks}}
\index{kMaxScavengerTasks@{kMaxScavengerTasks}!v8::internal::ScavengerCollector@{v8::internal::ScavengerCollector}}
\doxysubsubsection{\texorpdfstring{kMaxScavengerTasks}{kMaxScavengerTasks}}
{\footnotesize\ttfamily const \mbox{\hyperlink{classint}{int}} v8\+::internal\+::\+Scavenger\+Collector\+::k\+Max\+Scavenger\+Tasks = 8\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 243 of file scavenger.\+h.



Referenced by Number\+Of\+Scavenge\+Tasks().

\mbox{\Hypertarget{classv8_1_1internal_1_1ScavengerCollector_a411619f45ce89fb2a27ccc011d55c9f8}\label{classv8_1_1internal_1_1ScavengerCollector_a411619f45ce89fb2a27ccc011d55c9f8}} 
\index{v8::internal::ScavengerCollector@{v8::internal::ScavengerCollector}!quarantined\_page\_sweeper\_@{quarantined\_page\_sweeper\_}}
\index{quarantined\_page\_sweeper\_@{quarantined\_page\_sweeper\_}!v8::internal::ScavengerCollector@{v8::internal::ScavengerCollector}}
\doxysubsubsection{\texorpdfstring{quarantined\_page\_sweeper\_}{quarantined\_page\_sweeper\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1ScavengerCollector_1_1QuarantinedPageSweeper}{Quarantined\+Page\+Sweeper}} v8\+::internal\+::\+Scavenger\+Collector\+::quarantined\+\_\+page\+\_\+sweeper\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 380 of file scavenger.\+h.



Referenced by Collect\+Garbage(), and Complete\+Sweeping\+Quarantined\+Pages\+If\+Needed().

\mbox{\Hypertarget{classv8_1_1internal_1_1ScavengerCollector_aae54b507671c27d57ed10bb6fa8c5104}\label{classv8_1_1internal_1_1ScavengerCollector_aae54b507671c27d57ed10bb6fa8c5104}} 
\index{v8::internal::ScavengerCollector@{v8::internal::ScavengerCollector}!surviving\_new\_large\_objects\_@{surviving\_new\_large\_objects\_}}
\index{surviving\_new\_large\_objects\_@{surviving\_new\_large\_objects\_}!v8::internal::ScavengerCollector@{v8::internal::ScavengerCollector}}
\doxysubsubsection{\texorpdfstring{surviving\_new\_large\_objects\_}{surviving\_new\_large\_objects\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a7569eb2d9de22d92017f797f20d959d4}{Surviving\+New\+Large\+Objects\+Map}} v8\+::internal\+::\+Scavenger\+Collector\+::surviving\+\_\+new\+\_\+large\+\_\+objects\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 378 of file scavenger.\+h.



Referenced by Collect\+Garbage(), Handle\+Surviving\+New\+Large\+Objects(), and Merge\+Surviving\+New\+Large\+Objects().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/heap/\mbox{\hyperlink{scavenger_8h}{scavenger.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/heap/\mbox{\hyperlink{scavenger_8cc}{scavenger.\+cc}}\end{DoxyCompactItemize}
