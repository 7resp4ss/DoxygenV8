\hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder}{}\doxysection{v8\+::internal\+::wasm\+::Instance\+Builder Class Reference}
\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder}\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}


Collaboration diagram for v8\+::internal\+::wasm\+::Instance\+Builder\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ad94b88ee9e76114e7c3ecb78e499fd23}{Instance\+Builder}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{classv8_1_1metrics_1_1Recorder_1_1ContextId}{v8\+::metrics\+::\+Recorder\+::\+Context\+Id}} context\+\_\+id, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1ErrorThrower}{Error\+Thrower}} $\ast$thrower, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmModuleObject}{Wasm\+Module\+Object}} $>$ module\+\_\+object, \mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle}{Maybe\+Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSReceiver}{JSReceiver}} $>$ ffi, \mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle}{Maybe\+Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSArrayBuffer}{JSArray\+Buffer}} $>$ memory\+\_\+buffer)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle}{Maybe\+Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmInstanceObject}{Wasm\+Instance\+Object}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a938db18c8e2421c00cc0d7f430d66d69}{Build}} ()
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aa3b733a716d50b60193cf78bbc21df31}{Execute\+Start\+Function}} ()
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a93a72b52eb6f0059777cd5537e17b602}{Configure\+Prototypes\+\_\+\+Modular}} ()
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aa1eca52286140d25fc7f05221d66e5a3}{Finalize\+Exports\+Object}} (\mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle}{Maybe\+Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmInstanceObject}{Wasm\+Instance\+Object}} $>$ instance)
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData}{Wasm\+Trusted\+Instance\+Data}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aad6f1251ab50c21c71d213e91b1bbc2e}{trusted\+\_\+data}} (\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} shared) const
\item 
std\+::string \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab5cdfd1a6d96ac77038c87b059b4d04e}{Import\+Name}} (uint32\+\_\+t \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}})
\item 
std\+::string \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a8e85b831f69e3d7b179269b65dadf464}{Import\+Name}} (uint32\+\_\+t \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1String}{String}} $>$ module\+\_\+name)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle}{Maybe\+Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a5267721eb2f9ae3eacdd640338001da9}{Lookup\+Import}} (uint32\+\_\+t \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1String}{String}} $>$ module\+\_\+name, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1String}{String}} $>$ import\+\_\+name)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle}{Maybe\+Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a45625160696bb8741a820c7cf2a0b5af}{Lookup\+Import\+Asm}} (uint32\+\_\+t \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1String}{String}} $>$ import\+\_\+name)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a8803032b43c2f0d64f51e697df9f0172}{Load\+Data\+Segments}} ()
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_af5259253e5d559a5833c16076db2900c}{Write\+Global\+Value}} (const \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmGlobal}{Wasm\+Global}} \&global, const \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmValue}{Wasm\+Value}} \&\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}})
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a1a1ad8fdce6b621e61b911257faf452e}{Sanitize\+Imports}} ()
\item 
\mbox{\hyperlink{classv8_1_1Maybe}{Maybe}}$<$ \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a19ff41479bcf41dea4de46c20473b59b}{Build\+\_\+\+Phase1}} (const Disallow\+Javascript\+Execution \&no\+\_\+js)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a625fd0c2f39972e36a9f2956b40ebfba}{Build\+\_\+\+Phase1\+\_\+\+Infallible}} ()
\item 
\mbox{\hyperlink{classv8_1_1Maybe}{Maybe}}$<$ \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab3d1c1a339e6c1a255a866ed837b1e52}{Build\+\_\+\+Phase2}} ()
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle}{Maybe\+Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmMemoryObject}{Wasm\+Memory\+Object}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ae3c166e0938385ff98e8d6c54b0c5e3c}{Allocate\+Memory}} (uint32\+\_\+t memory\+\_\+index)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_af8b0f7163912ee8ba7dc6cfaec3c0138}{Process\+Imported\+Function}} (\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData}{Wasm\+Trusted\+Instance\+Data}} $>$ trusted\+\_\+instance\+\_\+data, \mbox{\hyperlink{classint}{int}} import\+\_\+index, \mbox{\hyperlink{classint}{int}} func\+\_\+index, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}} $>$ \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_afaaaa7fd7a0bc697a4d91133566c5c6e}{Well\+Known\+Import}} preknown\+\_\+import)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99b1a438d60e812d57059be2103951cc}{Process\+Imported\+Table}} (\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData}{Wasm\+Trusted\+Instance\+Data}} $>$ trusted\+\_\+instance\+\_\+data, \mbox{\hyperlink{classint}{int}} import\+\_\+index, \mbox{\hyperlink{classint}{int}} table\+\_\+index, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}} $>$ \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}})
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab312bd78f66545c510a7670c7da5e2ab}{Process\+Imported\+Global}} (\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData}{Wasm\+Trusted\+Instance\+Data}} $>$ trusted\+\_\+instance\+\_\+data, \mbox{\hyperlink{classint}{int}} import\+\_\+index, \mbox{\hyperlink{classint}{int}} global\+\_\+index, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}} $>$ \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}})
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a90f3564ad83fe14d055f99d3d9fff166}{Process\+Imported\+Wasm\+Global\+Object}} (\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData}{Wasm\+Trusted\+Instance\+Data}} $>$ trusted\+\_\+instance\+\_\+data, \mbox{\hyperlink{classint}{int}} import\+\_\+index, const \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmGlobal}{Wasm\+Global}} \&global, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmGlobalObject}{Wasm\+Global\+Object}} $>$ global\+\_\+object)
\item 
\mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a1dd661a91a2054913525990d4d6def25}{Process\+Imports}} ()
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a0c16bece87407beee6140ee5535bec4d}{Process\+Imported\+Memories}} (\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1FixedArray}{Fixed\+Array}} $>$ imported\+\_\+memory\+\_\+objects)
\item 
{\footnotesize template$<$typename T $>$ }\\\mbox{\hyperlink{classT}{T}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aca7e76496779ebce4dcc9db979e5e46a}{Get\+Raw\+Untagged\+Global\+Ptr}} (const \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmGlobal}{Wasm\+Global}} \&global)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a0ce1b5afdf96a612550d4c83c0f17f61}{Init\+Globals}} ()
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a446ff15923517ddda69049d7e6327e40}{Process\+Exports}} ()
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a2d8bc64719afc7f939af91de40590dd4}{Set\+Table\+Initial\+Values}} ()
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_adde97133349687e93ab015b5f98ef6bc}{Load\+Table\+Segments}} ()
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a5ff70878af415967423e34367fbe5a9c}{Initialize\+Tags}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1metrics_1_1Recorder_1_1ContextId}{v8\+::metrics\+::\+Recorder\+::\+Context\+Id}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ad3660708cd48a28bc322058d00be48f1}{context\+\_\+id\+\_\+}}
\item 
const \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmEnabledFeatures}{Wasm\+Enabled\+Features}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a867e1ad3cc7461cb3f89906e30f27b64}{enabled\+\_\+}}
\item 
const \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule}{Wasm\+Module}} $\ast$const \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1ErrorThrower}{Error\+Thrower}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmModuleObject}{Wasm\+Module\+Object}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ad9acbe63776578c8905fa72206177a2c}{module\+\_\+object\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData}{Wasm\+Trusted\+Instance\+Data}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aea7551d380bf83fce78fac6dae327a78}{trusted\+\_\+data\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData}{Wasm\+Trusted\+Instance\+Data}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ad89c98fe73daab093f44575c4e5c7b4f}{shared\+\_\+trusted\+\_\+data\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle}{Maybe\+Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSReceiver}{JSReceiver}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a13cbcfe18596d4900f82afd2e3f434db}{ffi\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle}{Maybe\+Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSArrayBuffer}{JSArray\+Buffer}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ace1391560ef1c60410ba29bb87806c9d}{asmjs\+\_\+memory\+\_\+buffer\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSArrayBuffer}{JSArray\+Buffer}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a6388ff7aa2e2e6ba74dce9f0f96167af}{untagged\+\_\+globals\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSArrayBuffer}{JSArray\+Buffer}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ae9e7aba8c15908133cd1e48df2e027c1}{shared\+\_\+untagged\+\_\+globals\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1FixedArray}{Fixed\+Array}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a71497507d2c1ffe7aae80873b0fb2b18}{tagged\+\_\+globals\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1FixedArray}{Fixed\+Array}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_abc2acf18bcb1567e5343dd3af707e089}{shared\+\_\+tagged\+\_\+globals\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandleVector}{Direct\+Handle\+Vector}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmTagObject}{Wasm\+Tag\+Object}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a725cea88ca63b898d35df6e718bd7b98}{tags\+\_\+wrappers\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandleVector}{Direct\+Handle\+Vector}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmTagObject}{Wasm\+Tag\+Object}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_acf647301763e320d9808ad2d3e6fa8a5}{shared\+\_\+tags\+\_\+wrappers\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSFunction}{JSFunction}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a27262cc634c8f7b70f38b76e3a1a4c7c}{start\+\_\+function\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandleVector}{Direct\+Handle\+Vector}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a5dadf45ab32816f8ffdb69a10544a956}{sanitized\+\_\+imports\+\_\+}}
\item 
std\+::vector$<$ \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_afaaaa7fd7a0bc697a4d91133566c5c6e}{Well\+Known\+Import}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a6a6039aec9f6f9486a58ddc7c4f999d2}{well\+\_\+known\+\_\+imports\+\_\+}}
\item 
std\+::optional$<$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1JSPrototypesSetup}{JSPrototypes\+Setup}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ae150ecd9dff43cb0c32a10fb3da28731}{js\+\_\+prototypes\+\_\+setup\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab230138dba8632d53ff8e394a35551ee}{init\+\_\+expr\+\_\+zone\+\_\+}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 1208 of file module-\/instantiate.\+cc.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ad94b88ee9e76114e7c3ecb78e499fd23}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ad94b88ee9e76114e7c3ecb78e499fd23}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!InstanceBuilder@{InstanceBuilder}}
\index{InstanceBuilder@{InstanceBuilder}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{InstanceBuilder()}{InstanceBuilder()}}
{\footnotesize\ttfamily v8\+::internal\+::wasm\+::\+Instance\+Builder\+::\+Instance\+Builder (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1metrics_1_1Recorder_1_1ContextId}{v8\+::metrics\+::\+Recorder\+::\+Context\+Id}}}]{context\+\_\+id,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1ErrorThrower}{Error\+Thrower}} $\ast$}]{thrower,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmModuleObject}{Wasm\+Module\+Object}} $>$}]{module\+\_\+object,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle}{Maybe\+Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSReceiver}{JSReceiver}} $>$}]{ffi,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle}{Maybe\+Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSArrayBuffer}{JSArray\+Buffer}} $>$}]{memory\+\_\+buffer }\end{DoxyParamCaption})}



Definition at line 1431 of file module-\/instantiate.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1436     : \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}(isolate),}
\DoxyCodeLine{1437       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ad3660708cd48a28bc322058d00be48f1}{context\_id\_}}(context\_id),}
\DoxyCodeLine{1438       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a867e1ad3cc7461cb3f89906e30f27b64}{enabled\_}}(module\_object-\/>native\_module()-\/>enabled\_features()),}
\DoxyCodeLine{1439       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}(module\_object-\/>module()),}
\DoxyCodeLine{1440       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}}(thrower),}
\DoxyCodeLine{1441       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ad9acbe63776578c8905fa72206177a2c}{module\_object\_}}(module\_object),}
\DoxyCodeLine{1442       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a13cbcfe18596d4900f82afd2e3f434db}{ffi\_}}(ffi),}
\DoxyCodeLine{1443       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ace1391560ef1c60410ba29bb87806c9d}{asmjs\_memory\_buffer\_}}(asmjs\_memory\_buffer),}
\DoxyCodeLine{1444       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a725cea88ca63b898d35df6e718bd7b98}{tags\_wrappers\_}}(isolate),}
\DoxyCodeLine{1445       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_acf647301763e320d9808ad2d3e6fa8a5}{shared\_tags\_wrappers\_}}(isolate),}
\DoxyCodeLine{1446       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a5dadf45ab32816f8ffdb69a10544a956}{sanitized\_imports\_}}(isolate),}
\DoxyCodeLine{1447       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab230138dba8632d53ff8e394a35551ee}{init\_expr\_zone\_}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a5d3cfc27102c773cd317a2c8fdcf499b}{allocator}}(), \textcolor{stringliteral}{"{}constant expression zone"{}}) \{}
\DoxyCodeLine{1448   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a5dadf45ab32816f8ffdb69a10544a956}{sanitized\_imports\_}}.reserve(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a4f710e1d1dd945669cbebae2b51835e5}{import\_table}}.size());}
\DoxyCodeLine{1449   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a6a6039aec9f6f9486a58ddc7c4f999d2}{well\_known\_imports\_}}.reserve(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a81b4b2b056e744758f875acafe4c909a}{num\_imported\_functions}});}
\DoxyCodeLine{1450 \}}

\end{DoxyCode}


References v8\+::internal\+::wasm\+::\+Wasm\+Module\+::import\+\_\+table, module\+\_\+, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::num\+\_\+imported\+\_\+functions, sanitized\+\_\+imports\+\_\+, and well\+\_\+known\+\_\+imports\+\_\+.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ae3c166e0938385ff98e8d6c54b0c5e3c}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ae3c166e0938385ff98e8d6c54b0c5e3c}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!AllocateMemory@{AllocateMemory}}
\index{AllocateMemory@{AllocateMemory}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{AllocateMemory()}{AllocateMemory()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle}{Maybe\+Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmMemoryObject}{Wasm\+Memory\+Object}} $>$ v8\+::internal\+::wasm\+::\+Instance\+Builder\+::\+Allocate\+Memory (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{memory\+\_\+index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 2871 of file module-\/instantiate.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2872                            \{}
\DoxyCodeLine{2873   \textcolor{keyword}{const} WasmMemory\& memory = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a2db4294c50e9d81d12819ce61ababaec}{memories}}[memory\_index];}
\DoxyCodeLine{2874   \textcolor{keywordtype}{int} initial\_pages = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(memory.initial\_pages);}
\DoxyCodeLine{2875   \textcolor{keywordtype}{int} maximum\_pages = memory.has\_maximum\_pages}
\DoxyCodeLine{2876                           ? \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(memory.maximum\_pages)}
\DoxyCodeLine{2877                           : \mbox{\hyperlink{classv8_1_1internal_1_1WasmMemoryObject_a65b8addcf2135f693f3f83a8acf74aa7}{WasmMemoryObject::kNoMaximum}};}
\DoxyCodeLine{2878   \textcolor{keyword}{auto} shared = memory.is\_shared ? \mbox{\hyperlink{namespacev8_1_1internal_a680ace1d3e86dae2df93867132a3c160a767e1337acb2aa20d7ce4e903a75ca16}{SharedFlag::kShared}} : \mbox{\hyperlink{namespacev8_1_1internal_a680ace1d3e86dae2df93867132a3c160af80e42734f3024456dd90ae366cecf3e}{SharedFlag::kNotShared}};}
\DoxyCodeLine{2879 }
\DoxyCodeLine{2880   MaybeDirectHandle<WasmMemoryObject> maybe\_memory\_object =}
\DoxyCodeLine{2881       \mbox{\hyperlink{classv8_1_1internal_1_1WasmMemoryObject_ab10298844a3a2e6993fc6f3634eaf898}{WasmMemoryObject::New}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, initial\_pages, maximum\_pages, shared,}
\DoxyCodeLine{2882                             memory.address\_type);}
\DoxyCodeLine{2883   \textcolor{keywordflow}{if} (maybe\_memory\_object.is\_null()) \{}
\DoxyCodeLine{2884     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}}-\/>RangeError(}
\DoxyCodeLine{2885         \textcolor{stringliteral}{"{}Out of memory: Cannot allocate Wasm memory for new instance"{}});}
\DoxyCodeLine{2886     \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{2887   \}}
\DoxyCodeLine{2888   \textcolor{keywordflow}{return} maybe\_memory\_object;}
\DoxyCodeLine{2889 \}}

\end{DoxyCode}


References v8\+::internal\+::wasm\+::\+Wasm\+Memory\+::address\+\_\+type, v8\+::internal\+::wasm\+::\+Wasm\+Memory\+::has\+\_\+maximum\+\_\+pages, v8\+::internal\+::wasm\+::\+Wasm\+Memory\+::initial\+\_\+pages, v8\+::internal\+::\+Maybe\+Direct\+Handle$<$ T $>$\+::is\+\_\+null(), v8\+::internal\+::wasm\+::\+Wasm\+Memory\+::is\+\_\+shared, isolate\+\_\+, v8\+::internal\+::\+Wasm\+Memory\+Object\+::k\+No\+Maximum, v8\+::internal\+::k\+Not\+Shared, v8\+::internal\+::k\+Shared, v8\+::internal\+::wasm\+::\+Wasm\+Memory\+::maximum\+\_\+pages, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::memories, module\+\_\+, v8\+::internal\+::\+Wasm\+Memory\+Object\+::\+New(), and thrower\+\_\+.



Referenced by Build\+\_\+\+Phase1().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ae3c166e0938385ff98e8d6c54b0c5e3c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ae3c166e0938385ff98e8d6c54b0c5e3c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a938db18c8e2421c00cc0d7f430d66d69}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a938db18c8e2421c00cc0d7f430d66d69}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!Build@{Build}}
\index{Build@{Build}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{Build()}{Build()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle}{Maybe\+Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmInstanceObject}{Wasm\+Instance\+Object}} $>$ v8\+::internal\+::wasm\+::\+Instance\+Builder\+::\+Build (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 1453 of file module-\/instantiate.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1453                                                              \{}
\DoxyCodeLine{1454   \mbox{\hyperlink{trace-event-no-perfetto_8h_a3feabb76c0ac2918798bc11ab55c6a79}{TRACE\_EVENT0}}(\mbox{\hyperlink{trace-event-no-perfetto_8h_a97689377430b094caec680dd7dd230fe}{TRACE\_DISABLED\_BY\_DEFAULT}}(\textcolor{stringliteral}{"{}v8.wasm.detailed"{}}),}
\DoxyCodeLine{1455                \textcolor{stringliteral}{"{}wasm.InstanceBuilder.Build"{}});}
\DoxyCodeLine{1456   \textcolor{comment}{// Will check whether \{ffi\_\} is available.}}
\DoxyCodeLine{1457   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a1a1ad8fdce6b621e61b911257faf452e}{SanitizeImports}}();}
\DoxyCodeLine{1458   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1ErrorThrower_a603a53d1ac3dddd81154744ff36db838}{error}}()) \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{1459 }
\DoxyCodeLine{1460   \textcolor{comment}{// From here on, we expect the build pipeline to run without exiting to JS.}}
\DoxyCodeLine{1461   DisallowJavascriptExecution no\_js(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}});}
\DoxyCodeLine{1462   \textcolor{comment}{// Start a timer for instantiation time, if we have a high resolution timer.}}
\DoxyCodeLine{1463   base::ElapsedTimer timer;}
\DoxyCodeLine{1464   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1base_1_1TimeTicks_acdd9f8482c321164c58f46bc65372c9b}{base::TimeTicks::IsHighResolution}}()) \{}
\DoxyCodeLine{1465     timer.Start();}
\DoxyCodeLine{1466   \}}
\DoxyCodeLine{1467   \mbox{\hyperlink{structv8_1_1metrics_1_1WasmModuleInstantiated}{v8::metrics::WasmModuleInstantiated}} wasm\_module\_instantiated;}
\DoxyCodeLine{1468 }
\DoxyCodeLine{1469   \textcolor{comment}{// Phase 1: uses a \{TrustedPointerPublishingScope\} to make the new,}}
\DoxyCodeLine{1470   \textcolor{comment}{// partially-\/initialized instance inaccessible in case of failure.}}
\DoxyCodeLine{1471   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a19ff41479bcf41dea4de46c20473b59b}{Build\_Phase1}}(no\_js).IsNothing()) \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{1472   \textcolor{comment}{// Phase 2: assumes that the new instance is already sufficiently}}
\DoxyCodeLine{1473   \textcolor{comment}{// consistently initialized to be exposed to user code.}}
\DoxyCodeLine{1474   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab3d1c1a339e6c1a255a866ed837b1e52}{Build\_Phase2}}().IsNothing()) \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{1475 }
\DoxyCodeLine{1476   wasm\_module\_instantiated.\mbox{\hyperlink{structv8_1_1metrics_1_1WasmModuleInstantiated_a979d7803d0accf5f9d546249a6f8c53f}{success}} = \textcolor{keyword}{true};}
\DoxyCodeLine{1477   wasm\_module\_instantiated.\mbox{\hyperlink{structv8_1_1metrics_1_1WasmModuleInstantiated_abfef0c4e3aef909ee793558c8ffce507}{imported\_function\_count}} =}
\DoxyCodeLine{1478       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a81b4b2b056e744758f875acafe4c909a}{num\_imported\_functions}};}
\DoxyCodeLine{1479   \textcolor{keywordflow}{if} (timer.IsStarted()) \{}
\DoxyCodeLine{1480     base::TimeDelta instantiation\_time = timer.Elapsed();}
\DoxyCodeLine{1481     wasm\_module\_instantiated.\mbox{\hyperlink{structv8_1_1metrics_1_1WasmModuleInstantiated_a6a5198f9a696a80231c6b9ba46ad781b}{wall\_clock\_duration\_in\_us}} =}
\DoxyCodeLine{1482         instantiation\_time.InMicroseconds();}
\DoxyCodeLine{1483     \mbox{\hyperlink{wasm-module_8h_a97da966b01775707b360f5ace2370c0e}{SELECT\_WASM\_COUNTER}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a9690b82e4f9b4c8a9160630396cde0b3}{counters}}(), \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a7871ace0ad8518a7de0c52ac35e43eb2}{origin}}, wasm\_instantiate,}
\DoxyCodeLine{1484                         module\_time)}
\DoxyCodeLine{1485         -\/>AddTimedSample(instantiation\_time);}
\DoxyCodeLine{1486     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a1c72d1ac998da605895f5d4e29f3d43f}{metrics\_recorder}}()-\/>DelayMainThreadEvent(wasm\_module\_instantiated,}
\DoxyCodeLine{1487                                                        \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ad3660708cd48a28bc322058d00be48f1}{context\_id\_}});}
\DoxyCodeLine{1488   \}}
\DoxyCodeLine{1489 }
\DoxyCodeLine{1490   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_a73502f55102d18cb764881bc29f35c05}{direct\_handle}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aea7551d380bf83fce78fac6dae327a78}{trusted\_data\_}}-\/>instance\_object(), \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}});}
\DoxyCodeLine{1491 \}}

\end{DoxyCode}


References Build\+\_\+\+Phase1(), Build\+\_\+\+Phase2(), context\+\_\+id\+\_\+, v8\+::internal\+::\+Isolate\+::counters(), v8\+::internal\+::direct\+\_\+handle(), v8\+::base\+::\+Elapsed\+Timer\+::\+Elapsed(), v8\+::internal\+::wasm\+::\+Error\+Thrower\+::error(), v8\+::metrics\+::\+Wasm\+Module\+Instantiated\+::imported\+\_\+function\+\_\+count, v8\+::base\+::\+Time\+Delta\+::\+In\+Microseconds(), v8\+::base\+::\+Time\+Ticks\+::\+Is\+High\+Resolution(), isolate\+\_\+, v8\+::base\+::\+Elapsed\+Timer\+::\+Is\+Started(), v8\+::internal\+::\+Isolate\+::metrics\+\_\+recorder(), module\+\_\+, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::num\+\_\+imported\+\_\+functions, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::origin, Sanitize\+Imports(), SELECT\+\_\+\+WASM\+\_\+\+COUNTER, v8\+::base\+::\+Elapsed\+Timer\+::\+Start(), v8\+::metrics\+::\+Wasm\+Module\+Instantiated\+::success, thrower\+\_\+, TRACE\+\_\+\+DISABLED\+\_\+\+BY\+\_\+\+DEFAULT, TRACE\+\_\+\+EVENT0, trusted\+\_\+data\+\_\+, and v8\+::metrics\+::\+Wasm\+Module\+Instantiated\+::wall\+\_\+clock\+\_\+duration\+\_\+in\+\_\+us.



Referenced by v8\+::internal\+::wasm\+::\+Instantiate\+To\+Instance\+Object().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a938db18c8e2421c00cc0d7f430d66d69_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a938db18c8e2421c00cc0d7f430d66d69_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a19ff41479bcf41dea4de46c20473b59b}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a19ff41479bcf41dea4de46c20473b59b}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!Build\_Phase1@{Build\_Phase1}}
\index{Build\_Phase1@{Build\_Phase1}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{Build\_Phase1()}{Build\_Phase1()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1Maybe}{Maybe}}$<$ \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} $>$ v8\+::internal\+::wasm\+::\+Instance\+Builder\+::\+Build\+\_\+\+Phase1 (\begin{DoxyParamCaption}\item[{const Disallow\+Javascript\+Execution \&}]{no\+\_\+js }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1493 of file module-\/instantiate.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1494                                               \{}
\DoxyCodeLine{1495   \textcolor{comment}{// Any trusted pointers created here will be zapped unless instantiation}}
\DoxyCodeLine{1496   \textcolor{comment}{// successfully runs to completion, to prevent trusted objects that violate}}
\DoxyCodeLine{1497   \textcolor{comment}{// their own internal invariants because they're only partially-\/initialized}}
\DoxyCodeLine{1498   \textcolor{comment}{// from becoming accessible to untrusted code.}}
\DoxyCodeLine{1499   \textcolor{comment}{// We assume failure for now, and will update to success later.}}
\DoxyCodeLine{1500   TrustedPointerPublishingScope publish\_trusted\_objects(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, no\_js);}
\DoxyCodeLine{1501   publish\_trusted\_objects.MarkFailure();}
\DoxyCodeLine{1502   NativeModule* native\_module = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ad9acbe63776578c8905fa72206177a2c}{module\_object\_}}-\/>native\_module();}
\DoxyCodeLine{1503 }
\DoxyCodeLine{1504   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1505   \textcolor{comment}{// Create the WebAssembly.Instance object.}}
\DoxyCodeLine{1506   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1507   \mbox{\hyperlink{namespacev8_1_1internal_a3762add7a183a4d1750c04e5fa1a6d17}{TRACE}}(\textcolor{stringliteral}{"{}New module instantiation for \%p\(\backslash\)n"{}}, native\_module);}
\DoxyCodeLine{1508   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aea7551d380bf83fce78fac6dae327a78}{trusted\_data\_}} = \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_a046bdad8a33dfd81561292116a4dbcec}{WasmTrustedInstanceData::New}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ad9acbe63776578c8905fa72206177a2c}{module\_object\_}}, \textcolor{keyword}{false});}
\DoxyCodeLine{1509   \textcolor{keywordtype}{bool} shared = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ad9acbe63776578c8905fa72206177a2c}{module\_object\_}}-\/>module()-\/>has\_shared\_part;}
\DoxyCodeLine{1510   \textcolor{keywordflow}{if} (shared) \{}
\DoxyCodeLine{1511     \textcolor{comment}{// For now, allocate the shared part in non-\/shared space. We do not need it}}
\DoxyCodeLine{1512     \textcolor{comment}{// in shared space yet since no shared objects point to it.}}
\DoxyCodeLine{1513     \textcolor{comment}{// TODO(42204563): This will change once we introduce shared globals,}}
\DoxyCodeLine{1514     \textcolor{comment}{// tables, or functions.}}
\DoxyCodeLine{1515     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ad89c98fe73daab093f44575c4e5c7b4f}{shared\_trusted\_data\_}} =}
\DoxyCodeLine{1516         \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_a046bdad8a33dfd81561292116a4dbcec}{WasmTrustedInstanceData::New}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ad9acbe63776578c8905fa72206177a2c}{module\_object\_}}, \textcolor{keyword}{false});}
\DoxyCodeLine{1517     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aea7551d380bf83fce78fac6dae327a78}{trusted\_data\_}}-\/>set\_shared\_part(*\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ad89c98fe73daab093f44575c4e5c7b4f}{shared\_trusted\_data\_}});}
\DoxyCodeLine{1518   \}}
\DoxyCodeLine{1519 }
\DoxyCodeLine{1520   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1521   \textcolor{comment}{// Set up the memory buffers and memory objects and attach them to the}}
\DoxyCodeLine{1522   \textcolor{comment}{// instance.}}
\DoxyCodeLine{1523   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1524   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a70bbfcab50b20ba5da8696e0373a8af4}{is\_asmjs\_module}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}})) \{}
\DoxyCodeLine{1525     \mbox{\hyperlink{src_2base_2logging_8h_aca32614b4d2aea7dd9abdeb222bf02f3}{CHECK\_EQ}}(1, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a2db4294c50e9d81d12819ce61ababaec}{memories}}.size());}
\DoxyCodeLine{1526     DirectHandle<JSArrayBuffer> buffer;}
\DoxyCodeLine{1527     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ace1391560ef1c60410ba29bb87806c9d}{asmjs\_memory\_buffer\_}}.ToHandle(\&buffer)) \{}
\DoxyCodeLine{1528       \textcolor{comment}{// Use an empty JSArrayBuffer for degenerate asm.js modules.}}
\DoxyCodeLine{1529       MaybeDirectHandle<JSArrayBuffer> new\_buffer =}
\DoxyCodeLine{1530           \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a7e2962359009581ba84e6a361f574f61}{factory}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Factory_a51594e340f34ee0a31a326a1f659b6de}{NewJSArrayBufferAndBackingStore}}(}
\DoxyCodeLine{1531               0, \mbox{\hyperlink{namespacev8_1_1internal_a6d3f691695696e478ebb4a18ab857bfaa518b13885544b3431069d8b44387de9c}{InitializedFlag::kUninitialized}});}
\DoxyCodeLine{1532       \textcolor{keywordflow}{if} (!new\_buffer.ToHandle(\&buffer)) \{}
\DoxyCodeLine{1533         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}}-\/>RangeError(\textcolor{stringliteral}{"{}Out of memory: asm.js memory"{}});}
\DoxyCodeLine{1534         \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{1535       \}}
\DoxyCodeLine{1536       buffer-\/>set\_is\_detachable(\textcolor{keyword}{false});}
\DoxyCodeLine{1537     \}}
\DoxyCodeLine{1538     \textcolor{comment}{// asm.js instantiation should have changed the state of the buffer (or we}}
\DoxyCodeLine{1539     \textcolor{comment}{// set it above).}}
\DoxyCodeLine{1540     \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(!buffer-\/>is\_detachable());}
\DoxyCodeLine{1541 }
\DoxyCodeLine{1542     \textcolor{comment}{// The maximum number of pages isn't strictly necessary for memory}}
\DoxyCodeLine{1543     \textcolor{comment}{// objects used for asm.js, as they are never visible, but we might}}
\DoxyCodeLine{1544     \textcolor{comment}{// as well make it accurate.}}
\DoxyCodeLine{1545     \textcolor{keyword}{auto} maximum\_pages =}
\DoxyCodeLine{1546         \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{src_2base_2macros_8h_a5113f5db9eec9c30ecea57b8d4175f2d}{RoundUp}}(buffer-\/>byte\_length(), \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac29e28cd9a3b18c7e07a3406d5d6ff1a}{wasm::kWasmPageSize}}) /}
\DoxyCodeLine{1547                          \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac29e28cd9a3b18c7e07a3406d5d6ff1a}{wasm::kWasmPageSize}});}
\DoxyCodeLine{1548     DirectHandle<WasmMemoryObject> memory\_object = \mbox{\hyperlink{classv8_1_1internal_1_1WasmMemoryObject_ab10298844a3a2e6993fc6f3634eaf898}{WasmMemoryObject::New}}(}
\DoxyCodeLine{1549         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, buffer, maximum\_pages, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_aca3af72b5da01dfb563e4c5f56af8952a0a0ecdb4eded286c722877578774a293}{AddressType::kI32}});}
\DoxyCodeLine{1550     constexpr \textcolor{keywordtype}{int} kMemoryIndexZero = 0;}
\DoxyCodeLine{1551     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aea7551d380bf83fce78fac6dae327a78}{trusted\_data\_}}-\/>memory\_objects()-\/>set(kMemoryIndexZero, *memory\_object);}
\DoxyCodeLine{1552   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1553     \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ace1391560ef1c60410ba29bb87806c9d}{asmjs\_memory\_buffer\_}}.is\_null());}
\DoxyCodeLine{1554     DirectHandle<FixedArray> \mbox{\hyperlink{namespacev8_1_1internal_a932143dd77f3ffbd83a1186db64c0c8f}{memory\_objects}}\{\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aea7551d380bf83fce78fac6dae327a78}{trusted\_data\_}}-\/>memory\_objects(),}
\DoxyCodeLine{1555                                             \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}\};}
\DoxyCodeLine{1556     \textcolor{comment}{// First process all imported memories, then allocate non-\/imported ones.}}
\DoxyCodeLine{1557     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a0c16bece87407beee6140ee5535bec4d}{ProcessImportedMemories}}(\mbox{\hyperlink{namespacev8_1_1internal_a932143dd77f3ffbd83a1186db64c0c8f}{memory\_objects}})) \{}
\DoxyCodeLine{1558       \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{1559     \}}
\DoxyCodeLine{1560     \textcolor{comment}{// Actual Wasm modules can have multiple memories.}}
\DoxyCodeLine{1561     static\_assert(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ab89f70ccd3d4626bef2224d6496f7feb}{kV8MaxWasmMemories}} <= \mbox{\hyperlink{namespacev8_1_1internal_ae9b3d70a0b2f7c3c669d187fd9a9dae2}{kMaxUInt32}});}
\DoxyCodeLine{1562     uint32\_t num\_memories = \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a2db4294c50e9d81d12819ce61ababaec}{memories}}.size());}
\DoxyCodeLine{1563     \textcolor{keywordflow}{for} (uint32\_t memory\_index = 0; memory\_index < num\_memories;}
\DoxyCodeLine{1564          ++memory\_index) \{}
\DoxyCodeLine{1565       \textcolor{keywordflow}{if} (!IsUndefined(\mbox{\hyperlink{namespacev8_1_1internal_a932143dd77f3ffbd83a1186db64c0c8f}{memory\_objects}}-\/>get(memory\_index))) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{1566       DirectHandle<WasmMemoryObject> memory\_object;}
\DoxyCodeLine{1567       \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ae3c166e0938385ff98e8d6c54b0c5e3c}{AllocateMemory}}(memory\_index).ToHandle(\&memory\_object)) \{}
\DoxyCodeLine{1568         \mbox{\hyperlink{namespacev8_1_1internal_a932143dd77f3ffbd83a1186db64c0c8f}{memory\_objects}}-\/>set(memory\_index, *memory\_object);}
\DoxyCodeLine{1569       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1570         \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_aed5dcd4c10242ef0225dfbd02b5dbdd3}{has\_exception}}() || \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1ErrorThrower_a603a53d1ac3dddd81154744ff36db838}{error}}());}
\DoxyCodeLine{1571         \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{1572       \}}
\DoxyCodeLine{1573     \}}
\DoxyCodeLine{1574   \}}
\DoxyCodeLine{1575 }
\DoxyCodeLine{1576   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1577   \textcolor{comment}{// Set up the globals for the new instance.}}
\DoxyCodeLine{1578   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1579   uint32\_t untagged\_globals\_buffer\_size = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_aaf3bbf7eb37588802998ec3d64252080}{untagged\_globals\_buffer\_size}};}
\DoxyCodeLine{1580   \textcolor{keywordflow}{if} (untagged\_globals\_buffer\_size > 0) \{}
\DoxyCodeLine{1581     MaybeDirectHandle<JSArrayBuffer> \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} =}
\DoxyCodeLine{1582         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a7e2962359009581ba84e6a361f574f61}{factory}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Factory_a51594e340f34ee0a31a326a1f659b6de}{NewJSArrayBufferAndBackingStore}}(}
\DoxyCodeLine{1583             untagged\_globals\_buffer\_size, \mbox{\hyperlink{namespacev8_1_1internal_a6d3f691695696e478ebb4a18ab857bfaae914d084ea4fe52636ea783ce1c1cbc0}{InitializedFlag::kZeroInitialized}},}
\DoxyCodeLine{1584             \mbox{\hyperlink{namespacev8_1_1internal_a604d5beeb6fc8639670f737ed201e20aa0aa38c28f349d65a6819e03844b73dff}{AllocationType::kOld}});}
\DoxyCodeLine{1585 }
\DoxyCodeLine{1586     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}}.ToHandle(\&\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a6388ff7aa2e2e6ba74dce9f0f96167af}{untagged\_globals\_}})) \{}
\DoxyCodeLine{1587       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}}-\/>RangeError(\textcolor{stringliteral}{"{}Out of memory: wasm globals"{}});}
\DoxyCodeLine{1588       \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{1589     \}}
\DoxyCodeLine{1590 }
\DoxyCodeLine{1591     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aea7551d380bf83fce78fac6dae327a78}{trusted\_data\_}}-\/>set\_untagged\_globals\_buffer(*\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a6388ff7aa2e2e6ba74dce9f0f96167af}{untagged\_globals\_}});}
\DoxyCodeLine{1592     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aea7551d380bf83fce78fac6dae327a78}{trusted\_data\_}}-\/>set\_globals\_start(}
\DoxyCodeLine{1593         \textcolor{keyword}{reinterpret\_cast<}uint8\_t*\textcolor{keyword}{>}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a6388ff7aa2e2e6ba74dce9f0f96167af}{untagged\_globals\_}}-\/>backing\_store()));}
\DoxyCodeLine{1594 }
\DoxyCodeLine{1595     \textcolor{comment}{// TODO(42204563): Do this only if we have a shared untagged global.}}
\DoxyCodeLine{1596     \textcolor{comment}{// TODO(42204563): Reinstate once we support shared globals.}}
\DoxyCodeLine{1597     \textcolor{comment}{/* if (shared) \{}}
\DoxyCodeLine{1598 \textcolor{comment}{      MaybeDirectHandle<JSArrayBuffer> shared\_result =}}
\DoxyCodeLine{1599 \textcolor{comment}{          isolate\_-\/>factory()-\/>NewJSArrayBufferAndBackingStore(}}
\DoxyCodeLine{1600 \textcolor{comment}{              untagged\_globals\_buffer\_size, InitializedFlag::kZeroInitialized,}}
\DoxyCodeLine{1601 \textcolor{comment}{              AllocationType::kSharedOld);}}
\DoxyCodeLine{1602 \textcolor{comment}{}}
\DoxyCodeLine{1603 \textcolor{comment}{      if (!shared\_result.ToHandle(\&shared\_untagged\_globals\_)) \{}}
\DoxyCodeLine{1604 \textcolor{comment}{        thrower\_-\/>RangeError("{}Out of memory: wasm globals"{});}}
\DoxyCodeLine{1605 \textcolor{comment}{        return \{\};}}
\DoxyCodeLine{1606 \textcolor{comment}{      \}}}
\DoxyCodeLine{1607 \textcolor{comment}{}}
\DoxyCodeLine{1608 \textcolor{comment}{      shared\_trusted\_data-\/>set\_untagged\_globals\_buffer(}}
\DoxyCodeLine{1609 \textcolor{comment}{          *shared\_untagged\_globals\_);}}
\DoxyCodeLine{1610 \textcolor{comment}{      shared\_trusted\_data-\/>set\_globals\_start(reinterpret\_cast<uint8\_t*>(}}
\DoxyCodeLine{1611 \textcolor{comment}{          shared\_untagged\_globals\_-\/>backing\_store()));}}
\DoxyCodeLine{1612 \textcolor{comment}{    \}*/}}
\DoxyCodeLine{1613   \}}
\DoxyCodeLine{1614 }
\DoxyCodeLine{1615   uint32\_t tagged\_globals\_buffer\_size = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a1c8c3de7403dfd6d175a888b2f57b24c}{tagged\_globals\_buffer\_size}};}
\DoxyCodeLine{1616   \textcolor{keywordflow}{if} (tagged\_globals\_buffer\_size > 0) \{}
\DoxyCodeLine{1617     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a71497507d2c1ffe7aae80873b0fb2b18}{tagged\_globals\_}} = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a7e2962359009581ba84e6a361f574f61}{factory}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1FactoryBase_add1def193680fa7edc2ead51ef49f8c3}{NewFixedArray}}(}
\DoxyCodeLine{1618         \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(tagged\_globals\_buffer\_size));}
\DoxyCodeLine{1619     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aea7551d380bf83fce78fac6dae327a78}{trusted\_data\_}}-\/>set\_tagged\_globals\_buffer(*\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a71497507d2c1ffe7aae80873b0fb2b18}{tagged\_globals\_}});}
\DoxyCodeLine{1620     \textcolor{keywordflow}{if} (shared) \{}
\DoxyCodeLine{1621       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_abc2acf18bcb1567e5343dd3af707e089}{shared\_tagged\_globals\_}} = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a7e2962359009581ba84e6a361f574f61}{factory}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1FactoryBase_add1def193680fa7edc2ead51ef49f8c3}{NewFixedArray}}(}
\DoxyCodeLine{1622           \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(tagged\_globals\_buffer\_size),}
\DoxyCodeLine{1623           \mbox{\hyperlink{namespacev8_1_1internal_a604d5beeb6fc8639670f737ed201e20aa420fc4b93a98a0b612db8f2f69463514}{AllocationType::kSharedOld}});}
\DoxyCodeLine{1624       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ad89c98fe73daab093f44575c4e5c7b4f}{shared\_trusted\_data\_}}-\/>set\_tagged\_globals\_buffer(*\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_abc2acf18bcb1567e5343dd3af707e089}{shared\_tagged\_globals\_}});}
\DoxyCodeLine{1625     \}}
\DoxyCodeLine{1626   \}}
\DoxyCodeLine{1627 }
\DoxyCodeLine{1628   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1629   \textcolor{comment}{// Set up the array of references to imported globals' array buffers.}}
\DoxyCodeLine{1630   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1631   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a56f32c556f3ad6b75e11d3d0733cb2a5}{num\_imported\_mutable\_globals}} > 0) \{}
\DoxyCodeLine{1632     \textcolor{comment}{// TODO(binji): This allocates one slot for each mutable global, which is}}
\DoxyCodeLine{1633     \textcolor{comment}{// more than required if multiple globals are imported from the same}}
\DoxyCodeLine{1634     \textcolor{comment}{// module.}}
\DoxyCodeLine{1635     DirectHandle<FixedArray> buffers\_array = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a7e2962359009581ba84e6a361f574f61}{factory}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1FactoryBase_add1def193680fa7edc2ead51ef49f8c3}{NewFixedArray}}(}
\DoxyCodeLine{1636         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a56f32c556f3ad6b75e11d3d0733cb2a5}{num\_imported\_mutable\_globals}}, \mbox{\hyperlink{namespacev8_1_1internal_a604d5beeb6fc8639670f737ed201e20aa0aa38c28f349d65a6819e03844b73dff}{AllocationType::kOld}});}
\DoxyCodeLine{1637     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aea7551d380bf83fce78fac6dae327a78}{trusted\_data\_}}-\/>set\_imported\_mutable\_globals\_buffers(*buffers\_array);}
\DoxyCodeLine{1638     \textcolor{keywordflow}{if} (shared) \{}
\DoxyCodeLine{1639       DirectHandle<FixedArray> shared\_buffers\_array =}
\DoxyCodeLine{1640           \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a7e2962359009581ba84e6a361f574f61}{factory}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1FactoryBase_add1def193680fa7edc2ead51ef49f8c3}{NewFixedArray}}(}
\DoxyCodeLine{1641               \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a56f32c556f3ad6b75e11d3d0733cb2a5}{num\_imported\_mutable\_globals}},}
\DoxyCodeLine{1642               \mbox{\hyperlink{namespacev8_1_1internal_a604d5beeb6fc8639670f737ed201e20aa420fc4b93a98a0b612db8f2f69463514}{AllocationType::kSharedOld}});}
\DoxyCodeLine{1643       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ad89c98fe73daab093f44575c4e5c7b4f}{shared\_trusted\_data\_}}-\/>set\_imported\_mutable\_globals\_buffers(}
\DoxyCodeLine{1644           *shared\_buffers\_array);}
\DoxyCodeLine{1645     \}}
\DoxyCodeLine{1646   \}}
\DoxyCodeLine{1647 }
\DoxyCodeLine{1648   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1649   \textcolor{comment}{// Set up the tag table used for exception tag checks.}}
\DoxyCodeLine{1650   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1651   \textcolor{keywordtype}{int} tags\_count = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_ab543c357d83ca4ab20ea9f13a6656f85}{tags}}.size());}
\DoxyCodeLine{1652   \textcolor{keywordflow}{if} (tags\_count > 0) \{}
\DoxyCodeLine{1653     DirectHandle<FixedArray> tag\_table =}
\DoxyCodeLine{1654         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a7e2962359009581ba84e6a361f574f61}{factory}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1FactoryBase_add1def193680fa7edc2ead51ef49f8c3}{NewFixedArray}}(tags\_count, \mbox{\hyperlink{namespacev8_1_1internal_a604d5beeb6fc8639670f737ed201e20aa0aa38c28f349d65a6819e03844b73dff}{AllocationType::kOld}});}
\DoxyCodeLine{1655     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aea7551d380bf83fce78fac6dae327a78}{trusted\_data\_}}-\/>set\_tags\_table(*tag\_table);}
\DoxyCodeLine{1656     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a725cea88ca63b898d35df6e718bd7b98}{tags\_wrappers\_}}.resize(tags\_count);}
\DoxyCodeLine{1657     \textcolor{keywordflow}{if} (shared) \{}
\DoxyCodeLine{1658       DirectHandle<FixedArray> shared\_tag\_table =}
\DoxyCodeLine{1659           \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a7e2962359009581ba84e6a361f574f61}{factory}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1FactoryBase_add1def193680fa7edc2ead51ef49f8c3}{NewFixedArray}}(tags\_count,}
\DoxyCodeLine{1660                                              \mbox{\hyperlink{namespacev8_1_1internal_a604d5beeb6fc8639670f737ed201e20aa420fc4b93a98a0b612db8f2f69463514}{AllocationType::kSharedOld}});}
\DoxyCodeLine{1661       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ad89c98fe73daab093f44575c4e5c7b4f}{shared\_trusted\_data\_}}-\/>set\_tags\_table(*shared\_tag\_table);}
\DoxyCodeLine{1662       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_acf647301763e320d9808ad2d3e6fa8a5}{shared\_tags\_wrappers\_}}.resize(tags\_count);}
\DoxyCodeLine{1663     \}}
\DoxyCodeLine{1664   \}}
\DoxyCodeLine{1665 }
\DoxyCodeLine{1666   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1667   \textcolor{comment}{// Set up table storage space, and initialize it for non-\/imported tables.}}
\DoxyCodeLine{1668   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1669   \textcolor{keywordtype}{int} table\_count = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_af40a46c2d14efc9c68b499d7a459d9b0}{tables}}.size());}
\DoxyCodeLine{1670   \textcolor{keywordflow}{if} (table\_count == 0) \{}
\DoxyCodeLine{1671     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aea7551d380bf83fce78fac6dae327a78}{trusted\_data\_}}-\/>set\_tables(*\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a7e2962359009581ba84e6a361f574f61}{factory}}()-\/>empty\_fixed\_array());}
\DoxyCodeLine{1672     \textcolor{keywordflow}{if} (shared) \{}
\DoxyCodeLine{1673       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ad89c98fe73daab093f44575c4e5c7b4f}{shared\_trusted\_data\_}}-\/>set\_tables(}
\DoxyCodeLine{1674           *\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a7e2962359009581ba84e6a361f574f61}{factory}}()-\/>empty\_fixed\_array());}
\DoxyCodeLine{1675     \}}
\DoxyCodeLine{1676   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1677     DirectHandle<FixedArray> \mbox{\hyperlink{namespacev8_1_1internal_a484d41a2d1f12b77b5cf3953276c1efb}{tables}} =}
\DoxyCodeLine{1678         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a7e2962359009581ba84e6a361f574f61}{factory}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1FactoryBase_add1def193680fa7edc2ead51ef49f8c3}{NewFixedArray}}(table\_count);}
\DoxyCodeLine{1679     DirectHandle<ProtectedFixedArray> dispatch\_tables =}
\DoxyCodeLine{1680         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a7e2962359009581ba84e6a361f574f61}{factory}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1FactoryBase_a279aed3cf8ea5e4afe4d04d5f7064220}{NewProtectedFixedArray}}(table\_count);}
\DoxyCodeLine{1681     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aea7551d380bf83fce78fac6dae327a78}{trusted\_data\_}}-\/>set\_tables(*\mbox{\hyperlink{namespacev8_1_1internal_a484d41a2d1f12b77b5cf3953276c1efb}{tables}});}
\DoxyCodeLine{1682     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aea7551d380bf83fce78fac6dae327a78}{trusted\_data\_}}-\/>set\_dispatch\_tables(*dispatch\_tables);}
\DoxyCodeLine{1683     DirectHandle<FixedArray> shared\_tables;}
\DoxyCodeLine{1684     DirectHandle<ProtectedFixedArray> shared\_dispatch\_tables;}
\DoxyCodeLine{1685     \textcolor{keywordflow}{if} (shared) \{}
\DoxyCodeLine{1686       shared\_tables = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a7e2962359009581ba84e6a361f574f61}{factory}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1FactoryBase_add1def193680fa7edc2ead51ef49f8c3}{NewFixedArray}}(}
\DoxyCodeLine{1687           table\_count, \mbox{\hyperlink{namespacev8_1_1internal_a604d5beeb6fc8639670f737ed201e20aa420fc4b93a98a0b612db8f2f69463514}{AllocationType::kSharedOld}});}
\DoxyCodeLine{1688       shared\_dispatch\_tables =}
\DoxyCodeLine{1689           \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a7e2962359009581ba84e6a361f574f61}{factory}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1FactoryBase_a279aed3cf8ea5e4afe4d04d5f7064220}{NewProtectedFixedArray}}(table\_count);}
\DoxyCodeLine{1690       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ad89c98fe73daab093f44575c4e5c7b4f}{shared\_trusted\_data\_}}-\/>set\_tables(*shared\_tables);}
\DoxyCodeLine{1691       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ad89c98fe73daab093f44575c4e5c7b4f}{shared\_trusted\_data\_}}-\/>set\_dispatch\_tables(*shared\_dispatch\_tables);}
\DoxyCodeLine{1692     \}}
\DoxyCodeLine{1693     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a4fffb814a78fcdfe32cf2da5626c1c17}{num\_imported\_tables}}; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < table\_count; \mbox{\hyperlink{namespacev8_1_1internal}{i}}++) \{}
\DoxyCodeLine{1694       \textcolor{keyword}{const} WasmTable\& table = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_af40a46c2d14efc9c68b499d7a459d9b0}{tables}}[\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}];}
\DoxyCodeLine{1695       CanonicalValueType canonical\_type = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a72d5b3903dd429c932220d3adee950a8}{canonical\_type}}(table.type);}
\DoxyCodeLine{1696       \textcolor{comment}{// Initialize tables with null for now. We will initialize non-\/defaultable}}
\DoxyCodeLine{1697       \textcolor{comment}{// tables later, in \{SetTableInitialValues\}.}}
\DoxyCodeLine{1698       DirectHandle<WasmDispatchTable> dispatch\_table;}
\DoxyCodeLine{1699       DirectHandle<WasmTableObject> table\_obj = \mbox{\hyperlink{classv8_1_1internal_1_1WasmTableObject_a44960b521a446db5f1e61b9bfb0c56d6}{WasmTableObject::New}}(}
\DoxyCodeLine{1700           \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aad6f1251ab50c21c71d213e91b1bbc2e}{trusted\_data}}(table.shared), table.type, canonical\_type,}
\DoxyCodeLine{1701           table.initial\_size, table.has\_maximum\_size, table.maximum\_size,}
\DoxyCodeLine{1702           table.type.use\_wasm\_null()}
\DoxyCodeLine{1703               ? DirectHandle<HeapObject>\{isolate\_-\/>factory()-\/>wasm\_null()\}}
\DoxyCodeLine{1704               : DirectHandle<HeapObject>\{isolate\_-\/>factory()-\/>null\_value()\},}
\DoxyCodeLine{1705           table.address\_type, \&dispatch\_table);}
\DoxyCodeLine{1706       (table.shared ? shared\_tables : \mbox{\hyperlink{namespacev8_1_1internal_a484d41a2d1f12b77b5cf3953276c1efb}{tables}})-\/>set(\mbox{\hyperlink{namespacev8_1_1internal}{i}}, *table\_obj);}
\DoxyCodeLine{1707       \textcolor{keywordflow}{if} (!dispatch\_table.is\_null()) \{}
\DoxyCodeLine{1708         (table.shared ? shared\_dispatch\_tables : dispatch\_tables)}
\DoxyCodeLine{1709             -\/>set(\mbox{\hyperlink{namespacev8_1_1internal}{i}}, *dispatch\_table);}
\DoxyCodeLine{1710         \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal}{i}} == 0) \{}
\DoxyCodeLine{1711           \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aad6f1251ab50c21c71d213e91b1bbc2e}{trusted\_data}}(table.shared)-\/>set\_dispatch\_table0(*dispatch\_table);}
\DoxyCodeLine{1712         \}}
\DoxyCodeLine{1713       \}}
\DoxyCodeLine{1714     \}}
\DoxyCodeLine{1715   \}}
\DoxyCodeLine{1716 }
\DoxyCodeLine{1717   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1718   \textcolor{comment}{// Process the imports for the module.}}
\DoxyCodeLine{1719   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1720   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a4f710e1d1dd945669cbebae2b51835e5}{import\_table}}.empty()) \{}
\DoxyCodeLine{1721     \textcolor{keywordtype}{int} num\_imported\_functions = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a1dd661a91a2054913525990d4d6def25}{ProcessImports}}();}
\DoxyCodeLine{1722     \textcolor{keywordflow}{if} (num\_imported\_functions < 0) \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{1723   \}}
\DoxyCodeLine{1724 }
\DoxyCodeLine{1725   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1726   \textcolor{comment}{// Create maps for managed objects (GC proposal).}}
\DoxyCodeLine{1727   \textcolor{comment}{// Must happen before \{InitGlobals\} because globals can refer to these maps.}}
\DoxyCodeLine{1728   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1729   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a1c8bccf9b03db76dd60dbb7b0b5e3cac}{isorecursive\_canonical\_type\_ids}}.empty()) \{}
\DoxyCodeLine{1730     \textcolor{comment}{// Make sure all canonical indices have been set.}}
\DoxyCodeLine{1731     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_afd7a07cffcf040afe2cd8e07397040e4}{MaxCanonicalTypeIndex}}().\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1TypeIndex_a9340071636f85090c2fe2171797857c0}{valid}}());}
\DoxyCodeLine{1732     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_aac1117f1918f3c8580be0e192a1c7307}{TypeCanonicalizer::PrepareForCanonicalTypeId}}(}
\DoxyCodeLine{1733         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_afd7a07cffcf040afe2cd8e07397040e4}{MaxCanonicalTypeIndex}}());}
\DoxyCodeLine{1734   \}}
\DoxyCodeLine{1735   DirectHandle<FixedArray> non\_shared\_maps = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a7e2962359009581ba84e6a361f574f61}{factory}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1FactoryBase_add1def193680fa7edc2ead51ef49f8c3}{NewFixedArray}}(}
\DoxyCodeLine{1736       \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a0e40d6e8dc4725dfce209c234005dbf6}{types}}.size()));}
\DoxyCodeLine{1737   DirectHandle<FixedArray> shared\_maps =}
\DoxyCodeLine{1738       shared ? \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a7e2962359009581ba84e6a361f574f61}{factory}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1FactoryBase_add1def193680fa7edc2ead51ef49f8c3}{NewFixedArray}}(}
\DoxyCodeLine{1739                    \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a0e40d6e8dc4725dfce209c234005dbf6}{types}}.size()),}
\DoxyCodeLine{1740                    \mbox{\hyperlink{namespacev8_1_1internal_a604d5beeb6fc8639670f737ed201e20aa420fc4b93a98a0b612db8f2f69463514}{AllocationType::kSharedOld}})}
\DoxyCodeLine{1741              : DirectHandle<FixedArray>();}
\DoxyCodeLine{1742   \textcolor{keywordflow}{for} (uint32\_t \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}} = 0; \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}} < \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a0e40d6e8dc4725dfce209c234005dbf6}{types}}.size(); \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}++) \{}
\DoxyCodeLine{1743     \textcolor{keywordtype}{bool} map\_is\_shared = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a0e40d6e8dc4725dfce209c234005dbf6}{types}}[\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}].is\_shared;}
\DoxyCodeLine{1744     \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ab82c3bde4946aa7c46eb207fd485dddc}{CreateMapForType}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}, ModuleTypeIndex\{\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}\},}
\DoxyCodeLine{1745                      map\_is\_shared ? shared\_maps : non\_shared\_maps);}
\DoxyCodeLine{1746   \}}
\DoxyCodeLine{1747   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aea7551d380bf83fce78fac6dae327a78}{trusted\_data\_}}-\/>set\_managed\_object\_maps(*non\_shared\_maps);}
\DoxyCodeLine{1748   \textcolor{keywordflow}{if} (shared) \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ad89c98fe73daab093f44575c4e5c7b4f}{shared\_trusted\_data\_}}-\/>set\_managed\_object\_maps(*shared\_maps);}
\DoxyCodeLine{1749 \textcolor{preprocessor}{\#if DEBUG}}
\DoxyCodeLine{1750   \textcolor{keywordflow}{for} (uint32\_t \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a0e40d6e8dc4725dfce209c234005dbf6}{types}}.size(); \mbox{\hyperlink{namespacev8_1_1internal}{i}}++) \{}
\DoxyCodeLine{1751     DirectHandle<FixedArray> maps =}
\DoxyCodeLine{1752         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a0e40d6e8dc4725dfce209c234005dbf6}{types}}[\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}].is\_shared ? shared\_maps : non\_shared\_maps;}
\DoxyCodeLine{1753     \mbox{\hyperlink{namespacev8_1_1internal_a5297fd2c72981b2220e6b9a831570fb3}{Tagged<Object>}} o = maps-\/>get(\mbox{\hyperlink{namespacev8_1_1internal}{i}});}
\DoxyCodeLine{1754     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(IsMap(o));}
\DoxyCodeLine{1755     Tagged<Map> map = Cast<Map>(o);}
\DoxyCodeLine{1756     ModuleTypeIndex \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}\{\mbox{\hyperlink{namespacev8_1_1internal}{i}}\};}
\DoxyCodeLine{1757     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a3afd8a65f37ef25ae73380555291ce94}{has\_signature}}(\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}})) \{}
\DoxyCodeLine{1758       \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(map-\/>instance\_type(), WASM\_FUNC\_REF\_TYPE);}
\DoxyCodeLine{1759     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a4d7f2eb3c584f9a7b9d79754dd29a315}{has\_array}}(\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}})) \{}
\DoxyCodeLine{1760       \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(map-\/>instance\_type(), WASM\_ARRAY\_TYPE);}
\DoxyCodeLine{1761     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_aaf7eed69c6866ffacfec579a31b9fa3d}{has\_struct}}(\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}})) \{}
\DoxyCodeLine{1762       \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(map-\/>instance\_type(), WASM\_STRUCT\_TYPE);}
\DoxyCodeLine{1763     \}}
\DoxyCodeLine{1764   \}}
\DoxyCodeLine{1765 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{1766 }
\DoxyCodeLine{1767   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1768   \textcolor{comment}{// Allocate the array that will hold type feedback vectors.}}
\DoxyCodeLine{1769   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1770   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.wasm\_inlining) \{}
\DoxyCodeLine{1771     \textcolor{keywordtype}{int} num\_functions = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a5a60fa14372f7bc06d7d6f51d23b0bee}{num\_declared\_functions}});}
\DoxyCodeLine{1772     \textcolor{comment}{// Zero-\/fill the array so we can do a quick Smi-\/check to test if a given}}
\DoxyCodeLine{1773     \textcolor{comment}{// slot was initialized.}}
\DoxyCodeLine{1774     DirectHandle<FixedArray> vectors =}
\DoxyCodeLine{1775         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a7e2962359009581ba84e6a361f574f61}{factory}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1FactoryBase_ae56f02d0d6d5d61358da6e0eae0db018}{NewFixedArrayWithZeroes}}(num\_functions,}
\DoxyCodeLine{1776                                                      \mbox{\hyperlink{namespacev8_1_1internal_a604d5beeb6fc8639670f737ed201e20aa0aa38c28f349d65a6819e03844b73dff}{AllocationType::kOld}});}
\DoxyCodeLine{1777     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aea7551d380bf83fce78fac6dae327a78}{trusted\_data\_}}-\/>set\_feedback\_vectors(*vectors);}
\DoxyCodeLine{1778     \textcolor{keywordflow}{if} (shared) \{}
\DoxyCodeLine{1779       DirectHandle<FixedArray> shared\_vectors =}
\DoxyCodeLine{1780           \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a7e2962359009581ba84e6a361f574f61}{factory}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1FactoryBase_ae56f02d0d6d5d61358da6e0eae0db018}{NewFixedArrayWithZeroes}}(}
\DoxyCodeLine{1781               num\_functions, \mbox{\hyperlink{namespacev8_1_1internal_a604d5beeb6fc8639670f737ed201e20aa420fc4b93a98a0b612db8f2f69463514}{AllocationType::kSharedOld}});}
\DoxyCodeLine{1782       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ad89c98fe73daab093f44575c4e5c7b4f}{shared\_trusted\_data\_}}-\/>set\_feedback\_vectors(*shared\_vectors);}
\DoxyCodeLine{1783     \}}
\DoxyCodeLine{1784   \}}
\DoxyCodeLine{1785 }
\DoxyCodeLine{1786   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1787   \textcolor{comment}{// Process the initialization for the module's globals.}}
\DoxyCodeLine{1788   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1789   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a0ce1b5afdf96a612550d4c83c0f17f61}{InitGlobals}}();}
\DoxyCodeLine{1790 }
\DoxyCodeLine{1791   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1792   \textcolor{comment}{// Initialize non-\/defaultable tables.}}
\DoxyCodeLine{1793   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1794   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a2d8bc64719afc7f939af91de40590dd4}{SetTableInitialValues}}();}
\DoxyCodeLine{1795 }
\DoxyCodeLine{1796   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1797   \textcolor{comment}{// Initialize the tags table.}}
\DoxyCodeLine{1798   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1799   \textcolor{keywordflow}{if} (tags\_count > 0) \{}
\DoxyCodeLine{1800     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a5ff70878af415967423e34367fbe5a9c}{InitializeTags}}();}
\DoxyCodeLine{1801   \}}
\DoxyCodeLine{1802 }
\DoxyCodeLine{1803   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1804   \textcolor{comment}{// Set up the exports object for the new instance.}}
\DoxyCodeLine{1805   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1806   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a446ff15923517ddda69049d7e6327e40}{ProcessExports}}();}
\DoxyCodeLine{1807   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1ErrorThrower_a603a53d1ac3dddd81154744ff36db838}{error}}()) \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{1808 }
\DoxyCodeLine{1809   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1810   \textcolor{comment}{// Set up uninitialized element segments.}}
\DoxyCodeLine{1811   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1812   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a4e531b388f3b2edb6a515b3a454ed49a}{elem\_segments}}.empty()) \{}
\DoxyCodeLine{1813     DirectHandle<FixedArray> elements = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a7e2962359009581ba84e6a361f574f61}{factory}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1FactoryBase_add1def193680fa7edc2ead51ef49f8c3}{NewFixedArray}}(}
\DoxyCodeLine{1814         \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a4e531b388f3b2edb6a515b3a454ed49a}{elem\_segments}}.size()));}
\DoxyCodeLine{1815     DirectHandle<FixedArray> shared\_elements =}
\DoxyCodeLine{1816         shared ? \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a7e2962359009581ba84e6a361f574f61}{factory}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1FactoryBase_add1def193680fa7edc2ead51ef49f8c3}{NewFixedArray}}(}
\DoxyCodeLine{1817                      \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a4e531b388f3b2edb6a515b3a454ed49a}{elem\_segments}}.size()),}
\DoxyCodeLine{1818                      \mbox{\hyperlink{namespacev8_1_1internal_a604d5beeb6fc8639670f737ed201e20aa420fc4b93a98a0b612db8f2f69463514}{AllocationType::kSharedOld}})}
\DoxyCodeLine{1819                : DirectHandle<FixedArray>();}
\DoxyCodeLine{1820     \textcolor{keywordflow}{for} (uint32\_t \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a4e531b388f3b2edb6a515b3a454ed49a}{elem\_segments}}.size(); \mbox{\hyperlink{namespacev8_1_1internal}{i}}++) \{}
\DoxyCodeLine{1821       \textcolor{comment}{// Initialize declarative segments as empty. The rest remain}}
\DoxyCodeLine{1822       \textcolor{comment}{// uninitialized.}}
\DoxyCodeLine{1823       \textcolor{keywordtype}{bool} is\_declarative = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a4e531b388f3b2edb6a515b3a454ed49a}{elem\_segments}}[\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}].status ==}
\DoxyCodeLine{1824                             \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmElemSegment_a582586e32b6c85b5bd98e21d10ac5c80a34c9f9de2180ad3d58c4162e04965b59}{WasmElemSegment::kStatusDeclarative}};}
\DoxyCodeLine{1825       (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a4e531b388f3b2edb6a515b3a454ed49a}{elem\_segments}}[\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}].shared ? shared\_elements : elements)}
\DoxyCodeLine{1826           -\/>set(\mbox{\hyperlink{namespacev8_1_1internal}{i}}, is\_declarative}
\DoxyCodeLine{1827                        ? Cast<Object>(*\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a7e2962359009581ba84e6a361f574f61}{factory}}()-\/>empty\_fixed\_array())}
\DoxyCodeLine{1828                        : *\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a7e2962359009581ba84e6a361f574f61}{factory}}()-\/>undefined\_value());}
\DoxyCodeLine{1829     \}}
\DoxyCodeLine{1830     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aea7551d380bf83fce78fac6dae327a78}{trusted\_data\_}}-\/>set\_element\_segments(*elements);}
\DoxyCodeLine{1831     \textcolor{keywordflow}{if} (shared) \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ad89c98fe73daab093f44575c4e5c7b4f}{shared\_trusted\_data\_}}-\/>set\_element\_segments(*shared\_elements);}
\DoxyCodeLine{1832   \}}
\DoxyCodeLine{1833 }
\DoxyCodeLine{1834   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1835   \textcolor{comment}{// Create a wrapper for the start function.}}
\DoxyCodeLine{1836   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1837   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a56901830375bb8e0e1a796e712bace65}{start\_function\_index}} >= 0) \{}
\DoxyCodeLine{1838     \textcolor{keywordtype}{int} start\_index = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a56901830375bb8e0e1a796e712bace65}{start\_function\_index}};}
\DoxyCodeLine{1839     \textcolor{keyword}{auto}\& \textcolor{keyword}{function} = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a79b743888793de4a17ae53dd93988de6}{functions}}[start\_index];}
\DoxyCodeLine{1840 }
\DoxyCodeLine{1841     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a27262cc634c8f7b70f38b76e3a1a4c7c}{start\_function\_}}.is\_null());}
\DoxyCodeLine{1842     \textcolor{keywordflow}{if} (\textcolor{keyword}{function}.imported) \{}
\DoxyCodeLine{1843       ImportedFunctionEntry entry(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aea7551d380bf83fce78fac6dae327a78}{trusted\_data\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a56901830375bb8e0e1a796e712bace65}{start\_function\_index}});}
\DoxyCodeLine{1844       \mbox{\hyperlink{namespacev8_1_1internal_a5297fd2c72981b2220e6b9a831570fb3}{Tagged<Object>}} callable = entry.maybe\_callable();}
\DoxyCodeLine{1845       \textcolor{keywordflow}{if} (IsJSFunction(callable)) \{}
\DoxyCodeLine{1846         \textcolor{comment}{// If the start function was imported and calls into Blink, we have}}
\DoxyCodeLine{1847         \textcolor{comment}{// to pretend that the V8 API was used to enter its correct context.}}
\DoxyCodeLine{1848         \textcolor{comment}{// In order to simplify entering the context in \{ExecuteStartFunction\}}}
\DoxyCodeLine{1849         \textcolor{comment}{// below, we just record the callable as the start function.}}
\DoxyCodeLine{1850         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a27262cc634c8f7b70f38b76e3a1a4c7c}{start\_function\_}} = \mbox{\hyperlink{namespacev8_1_1internal_a73502f55102d18cb764881bc29f35c05}{direct\_handle}}(Cast<JSFunction>(callable), \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}});}
\DoxyCodeLine{1851       \}}
\DoxyCodeLine{1852     \}}
\DoxyCodeLine{1853     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a27262cc634c8f7b70f38b76e3a1a4c7c}{start\_function\_}}.is\_null()) \{}
\DoxyCodeLine{1854       \textcolor{comment}{// TODO(clemensb): Don't generate an exported function for the start}}
\DoxyCodeLine{1855       \textcolor{comment}{// function. Use CWasmEntry instead.}}
\DoxyCodeLine{1856       \textcolor{keywordtype}{bool} function\_is\_shared = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a89e37309b6619867746a4cf77adcaa2a}{type}}(\textcolor{keyword}{function}.sig\_index).\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1TypeDefinition_acc6533d7fffb2a411e20b62f7512038e}{is\_shared}};}
\DoxyCodeLine{1857       DirectHandle<WasmFuncRef> func\_ref =}
\DoxyCodeLine{1858           \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_a27d1f1a3201baec4b9103b3bb27888b6}{WasmTrustedInstanceData::GetOrCreateFuncRef}}(}
\DoxyCodeLine{1859               \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aad6f1251ab50c21c71d213e91b1bbc2e}{trusted\_data}}(function\_is\_shared), start\_index);}
\DoxyCodeLine{1860       DirectHandle<WasmInternalFunction> \textcolor{keyword}{internal}\{func\_ref-\/>internal(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}),}
\DoxyCodeLine{1861                                                   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}\};}
\DoxyCodeLine{1862       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a27262cc634c8f7b70f38b76e3a1a4c7c}{start\_function\_}} = \mbox{\hyperlink{classv8_1_1internal_1_1WasmInternalFunction_aa01e2244c83b9a4ca24d4bfd2cb0d78a}{WasmInternalFunction::GetOrCreateExternal}}(\textcolor{keyword}{internal});}
\DoxyCodeLine{1863     \}}
\DoxyCodeLine{1864   \}}
\DoxyCodeLine{1865 }
\DoxyCodeLine{1866   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_aed5dcd4c10242ef0225dfbd02b5dbdd3}{has\_exception}}());}
\DoxyCodeLine{1867   \mbox{\hyperlink{namespacev8_1_1internal_a3762add7a183a4d1750c04e5fa1a6d17}{TRACE}}(\textcolor{stringliteral}{"{}Successfully built instance for module \%p\(\backslash\)n"{}},}
\DoxyCodeLine{1868         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ad9acbe63776578c8905fa72206177a2c}{module\_object\_}}-\/>native\_module());}
\DoxyCodeLine{1869 }
\DoxyCodeLine{1870 \textcolor{preprocessor}{\#if V8\_ENABLE\_DRUMBRAKE}}
\DoxyCodeLine{1871   \textcolor{comment}{// Skip this event because not (yet) supported by Chromium.}}
\DoxyCodeLine{1872 }
\DoxyCodeLine{1873   \textcolor{comment}{// v8::metrics::WasmInterpreterJitStatus jit\_status;}}
\DoxyCodeLine{1874   \textcolor{comment}{// jit\_status.jitless = v8\_flags.wasm\_jitless;}}
\DoxyCodeLine{1875   \textcolor{comment}{// isolate\_-\/>metrics\_recorder()-\/>DelayMainThreadEvent(jit\_status,}}
\DoxyCodeLine{1876   \textcolor{comment}{// context\_id\_);}}
\DoxyCodeLine{1877 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// V8\_ENABLE\_DRUMBRAKE}}
\DoxyCodeLine{1878 }
\DoxyCodeLine{1879   publish\_trusted\_objects.MarkSuccess();}
\DoxyCodeLine{1880   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a625fd0c2f39972e36a9f2956b40ebfba}{Build\_Phase1\_Infallible}}();}
\DoxyCodeLine{1881   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_a41f0e280eadfba6ac9afd833fdd540cf}{Just}}(\textcolor{keyword}{true});}
\DoxyCodeLine{1882 \}}

\end{DoxyCode}


References v8\+::internal\+::wasm\+::\+Wasm\+Table\+::address\+\_\+type, Allocate\+Memory(), asmjs\+\_\+memory\+\_\+buffer\+\_\+, Build\+\_\+\+Phase1\+\_\+\+Infallible(), v8\+::internal\+::wasm\+::\+Wasm\+Module\+::canonical\+\_\+type(), CHECK, CHECK\+\_\+\+EQ, v8\+::internal\+::wasm\+::\+Create\+Map\+For\+Type(), v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+EQ, v8\+::internal\+::direct\+\_\+handle(), v8\+::internal\+::wasm\+::\+Wasm\+Module\+::elem\+\_\+segments, v8\+::internal\+::wasm\+::\+Error\+Thrower\+::error(), v8\+::internal\+::\+Isolate\+::factory(), v8\+::internal\+::wasm\+::\+Wasm\+Module\+::functions, v8\+::internal\+::\+Wasm\+Internal\+Function\+::\+Get\+Or\+Create\+External(), v8\+::internal\+::\+Wasm\+Trusted\+Instance\+Data\+::\+Get\+Or\+Create\+Func\+Ref(), v8\+::internal\+::wasm\+::\+Wasm\+Module\+::has\+\_\+array(), v8\+::internal\+::\+Isolate\+::has\+\_\+exception(), v8\+::internal\+::wasm\+::\+Wasm\+Table\+::has\+\_\+maximum\+\_\+size, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::has\+\_\+signature(), v8\+::internal\+::wasm\+::\+Wasm\+Module\+::has\+\_\+struct(), v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::i, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::import\+\_\+table, v8\+::internal\+::index, Init\+Globals(), v8\+::internal\+::wasm\+::\+Wasm\+Table\+::initial\+\_\+size, Initialize\+Tags(), v8\+::internal\+::wasm\+::is\+\_\+asmjs\+\_\+module(), v8\+::internal\+::\+Direct\+Handle$<$ T $>$\+::is\+\_\+null(), v8\+::internal\+::wasm\+::\+Type\+Definition\+::is\+\_\+shared, isolate\+\_\+, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::isorecursive\+\_\+canonical\+\_\+type\+\_\+ids, v8\+::\+Just(), v8\+::internal\+::wasm\+::k\+I32, v8\+::internal\+::k\+Max\+UInt32, v8\+::internal\+::k\+Old, v8\+::internal\+::k\+Shared\+Old, v8\+::internal\+::wasm\+::\+Wasm\+Elem\+Segment\+::k\+Status\+Declarative, v8\+::internal\+::k\+Uninitialized, v8\+::internal\+::wasm\+::k\+V8\+Max\+Wasm\+Memories, v8\+::internal\+::wasm\+::k\+Wasm\+Page\+Size, v8\+::internal\+::k\+Zero\+Initialized, v8\+::internal\+::\+Trusted\+Pointer\+Publishing\+Scope\+::\+Mark\+Failure(), v8\+::internal\+::\+Trusted\+Pointer\+Publishing\+Scope\+::\+Mark\+Success(), v8\+::internal\+::wasm\+::\+Wasm\+Module\+::\+Max\+Canonical\+Type\+Index(), v8\+::internal\+::wasm\+::\+Wasm\+Table\+::maximum\+\_\+size, v8\+::internal\+::\+Imported\+Function\+Entry\+::maybe\+\_\+callable(), v8\+::internal\+::wasm\+::\+Wasm\+Module\+::memories, v8\+::internal\+::memory\+\_\+objects, module\+\_\+, module\+\_\+object\+\_\+, v8\+::internal\+::\+Wasm\+Trusted\+Instance\+Data\+::\+New(), v8\+::internal\+::\+Wasm\+Memory\+Object\+::\+New(), v8\+::internal\+::\+Wasm\+Table\+Object\+::\+New(), v8\+::internal\+::\+Factory\+Base$<$ Impl $>$\+::\+New\+Fixed\+Array(), v8\+::internal\+::\+Factory\+Base$<$ Impl $>$\+::\+New\+Fixed\+Array\+With\+Zeroes(), v8\+::internal\+::\+Factory\+::\+New\+JSArray\+Buffer\+And\+Backing\+Store(), v8\+::internal\+::\+Factory\+Base$<$ Impl $>$\+::\+New\+Protected\+Fixed\+Array(), v8\+::internal\+::wasm\+::\+Wasm\+Module\+::num\+\_\+declared\+\_\+functions, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::num\+\_\+imported\+\_\+mutable\+\_\+globals, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::num\+\_\+imported\+\_\+tables, v8\+::internal\+::wasm\+::\+Type\+Canonicalizer\+::\+Prepare\+For\+Canonical\+Type\+Id(), Process\+Exports(), Process\+Imported\+Memories(), Process\+Imports(), v8\+::base\+::internal\+::result, Round\+Up(), Set\+Table\+Initial\+Values(), v8\+::internal\+::wasm\+::\+Wasm\+Table\+::shared, shared\+\_\+tagged\+\_\+globals\+\_\+, shared\+\_\+tags\+\_\+wrappers\+\_\+, shared\+\_\+trusted\+\_\+data\+\_\+, start\+\_\+function\+\_\+, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::start\+\_\+function\+\_\+index, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::tables, v8\+::internal\+::tables, tagged\+\_\+globals\+\_\+, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::tagged\+\_\+globals\+\_\+buffer\+\_\+size, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::tags, tags\+\_\+wrappers\+\_\+, thrower\+\_\+, v8\+::internal\+::\+Maybe\+Direct\+Handle$<$ T $>$\+::\+To\+Handle(), v8\+::internal\+::\+TRACE(), trusted\+\_\+data(), trusted\+\_\+data\+\_\+, v8\+::internal\+::wasm\+::\+Wasm\+Table\+::type, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::type(), v8\+::internal\+::wasm\+::\+Wasm\+Module\+::types, untagged\+\_\+globals\+\_\+, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::untagged\+\_\+globals\+\_\+buffer\+\_\+size, v8\+::internal\+::wasm\+::\+Value\+Type\+Base\+::use\+\_\+wasm\+\_\+null(), v8\+::internal\+::v8\+\_\+flags, and v8\+::internal\+::wasm\+::\+Type\+Index\+::valid().



Referenced by Build().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a19ff41479bcf41dea4de46c20473b59b_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a19ff41479bcf41dea4de46c20473b59b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a625fd0c2f39972e36a9f2956b40ebfba}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a625fd0c2f39972e36a9f2956b40ebfba}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!Build\_Phase1\_Infallible@{Build\_Phase1\_Infallible}}
\index{Build\_Phase1\_Infallible@{Build\_Phase1\_Infallible}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{Build\_Phase1\_Infallible()}{Build\_Phase1\_Infallible()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Instance\+Builder\+::\+Build\+\_\+\+Phase1\+\_\+\+Infallible (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1884 of file module-\/instantiate.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1884                                               \{}
\DoxyCodeLine{1885   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1886   \textcolor{comment}{// Register with memories.}}
\DoxyCodeLine{1887   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1888   \textcolor{keywordtype}{size\_t} num\_memories = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a2db4294c50e9d81d12819ce61ababaec}{memories}}.size();}
\DoxyCodeLine{1889   DirectHandle<FixedArray> \mbox{\hyperlink{namespacev8_1_1internal_a932143dd77f3ffbd83a1186db64c0c8f}{memory\_objects}}\{\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aea7551d380bf83fce78fac6dae327a78}{trusted\_data\_}}-\/>memory\_objects(),}
\DoxyCodeLine{1890                                           \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}\};}
\DoxyCodeLine{1891   \textcolor{keywordflow}{for} (uint32\_t \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < num\_memories; \mbox{\hyperlink{namespacev8_1_1internal}{i}}++) \{}
\DoxyCodeLine{1892     DirectHandle<WasmMemoryObject> memory\{}
\DoxyCodeLine{1893         Cast<WasmMemoryObject>(\mbox{\hyperlink{namespacev8_1_1internal_a932143dd77f3ffbd83a1186db64c0c8f}{memory\_objects}}-\/>get(\mbox{\hyperlink{namespacev8_1_1internal}{i}})), \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}\};}
\DoxyCodeLine{1894     \mbox{\hyperlink{classv8_1_1internal_1_1WasmMemoryObject_a83af2a10e27026f8c76e91833243e5f5}{WasmMemoryObject::UseInInstance}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, memory, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aea7551d380bf83fce78fac6dae327a78}{trusted\_data\_}},}
\DoxyCodeLine{1895                                     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ad89c98fe73daab093f44575c4e5c7b4f}{shared\_trusted\_data\_}}, \mbox{\hyperlink{namespacev8_1_1internal}{i}});}
\DoxyCodeLine{1896   \}}
\DoxyCodeLine{1897 }
\DoxyCodeLine{1898   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1899   \textcolor{comment}{// Register with tables.}}
\DoxyCodeLine{1900   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1901   \textcolor{keywordtype}{size\_t} num\_tables = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_af40a46c2d14efc9c68b499d7a459d9b0}{tables}}.size();}
\DoxyCodeLine{1902   \textcolor{keywordflow}{for} (uint32\_t \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < num\_tables; \mbox{\hyperlink{namespacev8_1_1internal}{i}}++) \{}
\DoxyCodeLine{1903     \textcolor{keyword}{const} WasmTable\& table = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_af40a46c2d14efc9c68b499d7a459d9b0}{tables}}[\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}];}
\DoxyCodeLine{1904     DirectHandle<WasmTrustedInstanceData> data\_part =}
\DoxyCodeLine{1905         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aad6f1251ab50c21c71d213e91b1bbc2e}{trusted\_data}}(table.shared);}
\DoxyCodeLine{1906     \mbox{\hyperlink{namespacev8_1_1internal_a5297fd2c72981b2220e6b9a831570fb3}{Tagged<Object>}} maybe\_dispatch\_table = data\_part-\/>dispatch\_tables()-\/>get(\mbox{\hyperlink{namespacev8_1_1internal}{i}});}
\DoxyCodeLine{1907     \textcolor{keywordflow}{if} (maybe\_dispatch\_table == \mbox{\hyperlink{classv8_1_1internal_1_1Smi_a5386e0cc44bcfd6a13c8481b95f5652f}{Smi::zero}}()) \textcolor{keywordflow}{continue};  \textcolor{comment}{// Not a function table.}}
\DoxyCodeLine{1908     DirectHandle<WasmDispatchTable> dispatch\_table\{}
\DoxyCodeLine{1909         Cast<WasmDispatchTable>(maybe\_dispatch\_table), \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}\};}
\DoxyCodeLine{1910     \mbox{\hyperlink{classv8_1_1internal_1_1WasmDispatchTable_a865e5bfc2f812c54e4b6d38c64ad6ac8}{WasmDispatchTable::AddUse}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, dispatch\_table, data\_part, \mbox{\hyperlink{namespacev8_1_1internal}{i}});}
\DoxyCodeLine{1911   \}}
\DoxyCodeLine{1912 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Wasm\+Dispatch\+Table\+::\+Add\+Use(), v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::i, isolate\+\_\+, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::memories, v8\+::internal\+::memory\+\_\+objects, module\+\_\+, v8\+::internal\+::wasm\+::\+Wasm\+Table\+::shared, shared\+\_\+trusted\+\_\+data\+\_\+, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::tables, trusted\+\_\+data(), trusted\+\_\+data\+\_\+, v8\+::internal\+::\+Wasm\+Memory\+Object\+::\+Use\+In\+Instance(), and v8\+::internal\+::\+Smi\+::zero().



Referenced by Build\+\_\+\+Phase1().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a625fd0c2f39972e36a9f2956b40ebfba_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a625fd0c2f39972e36a9f2956b40ebfba_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab3d1c1a339e6c1a255a866ed837b1e52}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab3d1c1a339e6c1a255a866ed837b1e52}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!Build\_Phase2@{Build\_Phase2}}
\index{Build\_Phase2@{Build\_Phase2}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{Build\_Phase2()}{Build\_Phase2()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1Maybe}{Maybe}}$<$ \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} $>$ v8\+::internal\+::wasm\+::\+Instance\+Builder\+::\+Build\+\_\+\+Phase2 (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1914 of file module-\/instantiate.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1914                                           \{}
\DoxyCodeLine{1915   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1916   \textcolor{comment}{// Install JS prototypes on Custom Descriptors ("{}direct"{} design).}}
\DoxyCodeLine{1917   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1918   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ae150ecd9dff43cb0c32a10fb3da28731}{js\_prototypes\_setup\_}}.has\_value()) \{}
\DoxyCodeLine{1919     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ae150ecd9dff43cb0c32a10fb3da28731}{js\_prototypes\_setup\_}}-\/>SetInstanceData(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aea7551d380bf83fce78fac6dae327a78}{trusted\_data\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ad89c98fe73daab093f44575c4e5c7b4f}{shared\_trusted\_data\_}});}
\DoxyCodeLine{1920     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ae150ecd9dff43cb0c32a10fb3da28731}{js\_prototypes\_setup\_}}-\/>ConfigurePrototypes\_Direct();}
\DoxyCodeLine{1921   \}}
\DoxyCodeLine{1922 }
\DoxyCodeLine{1923   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1924   \textcolor{comment}{// Load element segments into tables.}}
\DoxyCodeLine{1925   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1926   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_af40a46c2d14efc9c68b499d7a459d9b0}{tables}}.size() > 0) \{}
\DoxyCodeLine{1927     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_adde97133349687e93ab015b5f98ef6bc}{LoadTableSegments}}();}
\DoxyCodeLine{1928     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1ErrorThrower_a603a53d1ac3dddd81154744ff36db838}{error}}()) \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{1929   \}}
\DoxyCodeLine{1930 }
\DoxyCodeLine{1931   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1932   \textcolor{comment}{// Initialize the memory by loading data segments.}}
\DoxyCodeLine{1933   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1934   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_adc0a70e660a7112df858945f38616edc}{data\_segments}}.empty()) \{}
\DoxyCodeLine{1935     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a8803032b43c2f0d64f51e697df9f0172}{LoadDataSegments}}();}
\DoxyCodeLine{1936     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1ErrorThrower_a603a53d1ac3dddd81154744ff36db838}{error}}()) \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{1937   \}}
\DoxyCodeLine{1938 }
\DoxyCodeLine{1939   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_a41f0e280eadfba6ac9afd833fdd540cf}{Just}}(\textcolor{keyword}{true});}
\DoxyCodeLine{1940 \}}

\end{DoxyCode}


References v8\+::internal\+::wasm\+::\+Wasm\+Module\+::data\+\_\+segments, v8\+::internal\+::wasm\+::\+Error\+Thrower\+::error(), js\+\_\+prototypes\+\_\+setup\+\_\+, v8\+::\+Just(), Load\+Data\+Segments(), Load\+Table\+Segments(), module\+\_\+, shared\+\_\+trusted\+\_\+data\+\_\+, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::tables, thrower\+\_\+, and trusted\+\_\+data\+\_\+.



Referenced by Build().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab3d1c1a339e6c1a255a866ed837b1e52_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab3d1c1a339e6c1a255a866ed837b1e52_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a93a72b52eb6f0059777cd5537e17b602}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a93a72b52eb6f0059777cd5537e17b602}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!ConfigurePrototypes\_Modular@{ConfigurePrototypes\_Modular}}
\index{ConfigurePrototypes\_Modular@{ConfigurePrototypes\_Modular}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{ConfigurePrototypes\_Modular()}{ConfigurePrototypes\_Modular()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::wasm\+::\+Instance\+Builder\+::\+Configure\+Prototypes\+\_\+\+Modular (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 2203 of file module-\/instantiate.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2203                                                   \{}
\DoxyCodeLine{2204   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.wasm\_explicit\_prototypes) \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{2205   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ae150ecd9dff43cb0c32a10fb3da28731}{js\_prototypes\_setup\_}}) \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{2206   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ae150ecd9dff43cb0c32a10fb3da28731}{js\_prototypes\_setup\_}}-\/>ConfigurePrototypes\_Modular();}
\DoxyCodeLine{2207   \textcolor{keywordflow}{return} !\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1ErrorThrower_a603a53d1ac3dddd81154744ff36db838}{error}}() \&\& !\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_aed5dcd4c10242ef0225dfbd02b5dbdd3}{has\_exception}}();}
\DoxyCodeLine{2208 \}}

\end{DoxyCode}


References v8\+::internal\+::wasm\+::\+Error\+Thrower\+::error(), v8\+::internal\+::\+Isolate\+::has\+\_\+exception(), isolate\+\_\+, js\+\_\+prototypes\+\_\+setup\+\_\+, thrower\+\_\+, and v8\+::internal\+::v8\+\_\+flags.



Referenced by v8\+::internal\+::wasm\+::\+Instantiate\+To\+Instance\+Object().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a93a72b52eb6f0059777cd5537e17b602_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a93a72b52eb6f0059777cd5537e17b602_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aa3b733a716d50b60193cf78bbc21df31}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aa3b733a716d50b60193cf78bbc21df31}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!ExecuteStartFunction@{ExecuteStartFunction}}
\index{ExecuteStartFunction@{ExecuteStartFunction}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{ExecuteStartFunction()}{ExecuteStartFunction()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::wasm\+::\+Instance\+Builder\+::\+Execute\+Start\+Function (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 1942 of file module-\/instantiate.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1942                                            \{}
\DoxyCodeLine{1943   \mbox{\hyperlink{trace-event-no-perfetto_8h_a3feabb76c0ac2918798bc11ab55c6a79}{TRACE\_EVENT0}}(\mbox{\hyperlink{trace-event-no-perfetto_8h_a97689377430b094caec680dd7dd230fe}{TRACE\_DISABLED\_BY\_DEFAULT}}(\textcolor{stringliteral}{"{}v8.wasm.detailed"{}}),}
\DoxyCodeLine{1944                \textcolor{stringliteral}{"{}wasm.ExecuteStartFunction"{}});}
\DoxyCodeLine{1945   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a27262cc634c8f7b70f38b76e3a1a4c7c}{start\_function\_}}.is\_null()) \textcolor{keywordflow}{return} \textcolor{keyword}{true};  \textcolor{comment}{// No start function.}}
\DoxyCodeLine{1946 }
\DoxyCodeLine{1947   HandleScope scope(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}});}
\DoxyCodeLine{1948   \textcolor{comment}{// In case the start function calls out to Blink, we have to make sure that}}
\DoxyCodeLine{1949   \textcolor{comment}{// the correct "{}entered context"{} is available. This is the equivalent of}}
\DoxyCodeLine{1950   \textcolor{comment}{// v8::Context::Enter() and must happen in addition to the function call}}
\DoxyCodeLine{1951   \textcolor{comment}{// sequence doing the compiled version of "{}isolate-\/>set\_context(...)"{}.}}
\DoxyCodeLine{1952   HandleScopeImplementer* hsi = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_ad34c27699bef2cd700a27c489a3ae072}{handle\_scope\_implementer}}();}
\DoxyCodeLine{1953   hsi-\/>\mbox{\hyperlink{classv8_1_1internal_1_1HandleScopeImplementer_ac649a97c4a2a70f9e6194c695adfac1a}{EnterContext}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a27262cc634c8f7b70f38b76e3a1a4c7c}{start\_function\_}}-\/>native\_context());}
\DoxyCodeLine{1954 }
\DoxyCodeLine{1955   \textcolor{comment}{// Call the JS function.}}
\DoxyCodeLine{1956   DirectHandle<Object> \mbox{\hyperlink{namespacev8_1_1internal_ab165da27eb70b7cac315ad3c2c991c06}{undefined}} = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a7e2962359009581ba84e6a361f574f61}{factory}}()-\/>undefined\_value();}
\DoxyCodeLine{1957   MaybeDirectHandle<Object> retval =}
\DoxyCodeLine{1958       \mbox{\hyperlink{classv8_1_1internal_1_1Execution_a529f28484ea4dc14ee8212d5417409c1}{Execution::Call}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a27262cc634c8f7b70f38b76e3a1a4c7c}{start\_function\_}}, \mbox{\hyperlink{namespacev8_1_1internal_ab165da27eb70b7cac315ad3c2c991c06}{undefined}}, \{\});}
\DoxyCodeLine{1959   hsi-\/>LeaveContext();}
\DoxyCodeLine{1960   \textcolor{comment}{// \{start\_function\_\} has to be called only once.}}
\DoxyCodeLine{1961   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a27262cc634c8f7b70f38b76e3a1a4c7c}{start\_function\_}} = \{\};}
\DoxyCodeLine{1962 }
\DoxyCodeLine{1963   \textcolor{keywordflow}{if} (retval.is\_null()) \{}
\DoxyCodeLine{1964     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_aed5dcd4c10242ef0225dfbd02b5dbdd3}{has\_exception}}());}
\DoxyCodeLine{1965     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{1966   \}}
\DoxyCodeLine{1967   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{1968 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Execution\+::\+Call(), v8\+::internal\+::\+DCHECK(), v8\+::internal\+::\+Handle\+Scope\+Implementer\+::\+Enter\+Context(), v8\+::internal\+::\+Isolate\+::factory(), v8\+::internal\+::\+Isolate\+::handle\+\_\+scope\+\_\+implementer(), v8\+::internal\+::\+Isolate\+::has\+\_\+exception(), v8\+::internal\+::\+Maybe\+Direct\+Handle$<$ T $>$\+::is\+\_\+null(), isolate\+\_\+, v8\+::internal\+::\+Handle\+Scope\+Implementer\+::\+Leave\+Context(), start\+\_\+function\+\_\+, TRACE\+\_\+\+DISABLED\+\_\+\+BY\+\_\+\+DEFAULT, TRACE\+\_\+\+EVENT0, and v8\+::internal\+::undefined.



Referenced by v8\+::internal\+::wasm\+::\+Instantiate\+To\+Instance\+Object().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aa3b733a716d50b60193cf78bbc21df31_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aa3b733a716d50b60193cf78bbc21df31_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aa1eca52286140d25fc7f05221d66e5a3}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aa1eca52286140d25fc7f05221d66e5a3}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!FinalizeExportsObject@{FinalizeExportsObject}}
\index{FinalizeExportsObject@{FinalizeExportsObject}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{FinalizeExportsObject()}{FinalizeExportsObject()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Instance\+Builder\+::\+Finalize\+Exports\+Object (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle}{Maybe\+Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmInstanceObject}{Wasm\+Instance\+Object}} $>$}]{instance }\end{DoxyParamCaption})}



Definition at line 2210 of file module-\/instantiate.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2211                                                     \{}
\DoxyCodeLine{2212   DirectHandle<JSObject> exports\_object(}
\DoxyCodeLine{2213       instance.ToHandleChecked()-\/>exports\_object(), \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}});}
\DoxyCodeLine{2214   \textcolor{comment}{// Switch back to fast properties if possible.}}
\DoxyCodeLine{2215   \mbox{\hyperlink{classv8_1_1internal_1_1JSObject_a1758f936866e594770f358de9649062b}{JSObject::MigrateSlowToFast}}(exports\_object, 0, \textcolor{stringliteral}{"{}WasmExportsObjectFinished"{}});}
\DoxyCodeLine{2216 }
\DoxyCodeLine{2217   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a7871ace0ad8518a7de0c52ac35e43eb2}{origin}} == \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a3adc957d22d860687fc2579215adeb80ad75c39b2587910e64fbca44ad513c9e0}{kWasmOrigin}}) \{}
\DoxyCodeLine{2218     \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1JSReceiver_a4add3013a632121dadc47c3321d85dc6}{JSReceiver::SetIntegrityLevel}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, exports\_object, \mbox{\hyperlink{namespacev8_1_1internal_a352f65439007f2f1b85c997c1ba11436ac96c4a6f8b2f89bb1dbaebb75becb0c2}{FROZEN}},}
\DoxyCodeLine{2219                                         \mbox{\hyperlink{namespacev8_1_1internal_adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee}{kDontThrow}})}
\DoxyCodeLine{2220               .FromMaybe(\textcolor{keyword}{false}));}
\DoxyCodeLine{2221   \}}
\DoxyCodeLine{2222 \}}

\end{DoxyCode}


References CHECK, v8\+::internal\+::\+FROZEN, isolate\+\_\+, v8\+::internal\+::k\+Dont\+Throw, v8\+::internal\+::wasm\+::k\+Wasm\+Origin, v8\+::internal\+::\+JSObject\+::\+Migrate\+Slow\+To\+Fast(), module\+\_\+, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::origin, v8\+::internal\+::\+JSReceiver\+::\+Set\+Integrity\+Level(), and v8\+::internal\+::\+Maybe\+Direct\+Handle$<$ T $>$\+::\+To\+Handle\+Checked().



Referenced by v8\+::internal\+::wasm\+::\+Instantiate\+To\+Instance\+Object().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aa1eca52286140d25fc7f05221d66e5a3_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aa1eca52286140d25fc7f05221d66e5a3_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aca7e76496779ebce4dcc9db979e5e46a}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aca7e76496779ebce4dcc9db979e5e46a}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!GetRawUntaggedGlobalPtr@{GetRawUntaggedGlobalPtr}}
\index{GetRawUntaggedGlobalPtr@{GetRawUntaggedGlobalPtr}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{GetRawUntaggedGlobalPtr()}{GetRawUntaggedGlobalPtr()}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
\mbox{\hyperlink{classT}{T}} $\ast$ v8\+::internal\+::wasm\+::\+Instance\+Builder\+::\+Get\+Raw\+Untagged\+Global\+Ptr (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmGlobal}{Wasm\+Global}} \&}]{global }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 2844 of file module-\/instantiate.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2844                                                                     \{}
\DoxyCodeLine{2845   \textcolor{keywordflow}{return} \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classT}{T}}*\textcolor{keyword}{>}(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03_a7ecac47926023e51ac33a6829d1fa13b}{raw\_buffer\_ptr}}(}
\DoxyCodeLine{2846       global.shared ? \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ae9e7aba8c15908133cd1e48df2e027c1}{shared\_untagged\_globals\_}} : \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a6388ff7aa2e2e6ba74dce9f0f96167af}{untagged\_globals\_}},}
\DoxyCodeLine{2847       global.offset));}
\DoxyCodeLine{2848 \}}

\end{DoxyCode}


References v8\+::internal\+::wasm\+::\+Wasm\+Global\+::offset, v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/instantiate.\+cc\}\+::raw\+\_\+buffer\+\_\+ptr(), v8\+::internal\+::wasm\+::\+Wasm\+Global\+::shared, shared\+\_\+untagged\+\_\+globals\+\_\+, and untagged\+\_\+globals\+\_\+.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aca7e76496779ebce4dcc9db979e5e46a_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab5cdfd1a6d96ac77038c87b059b4d04e}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab5cdfd1a6d96ac77038c87b059b4d04e}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!ImportName@{ImportName}}
\index{ImportName@{ImportName}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{ImportName()}{ImportName()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily std\+::string v8\+::internal\+::wasm\+::\+Instance\+Builder\+::\+Import\+Name (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 1257 of file module-\/instantiate.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1257                                        \{}
\DoxyCodeLine{1258     \textcolor{keyword}{const} WasmImport\& \textcolor{keyword}{import} = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a4f710e1d1dd945669cbebae2b51835e5}{import\_table}}[\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}];}
\DoxyCodeLine{1259     \textcolor{keyword}{const} \textcolor{keywordtype}{char}* wire\_bytes\_start = \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\textcolor{keywordtype}{char}*\textcolor{keyword}{>}(}
\DoxyCodeLine{1260         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ad9acbe63776578c8905fa72206177a2c}{module\_object\_}}-\/>native\_module()-\/>wire\_bytes().data());}
\DoxyCodeLine{1261     std::ostringstream oss;}
\DoxyCodeLine{1262     oss << \textcolor{stringliteral}{"{}Import \#"{}} << \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}} << \textcolor{stringliteral}{"{} \(\backslash\)"{}"{}};}
\DoxyCodeLine{1263     oss.write(wire\_bytes\_start + \textcolor{keyword}{import}.module\_name.offset(),}
\DoxyCodeLine{1264               \textcolor{keyword}{import}.module\_name.length());}
\DoxyCodeLine{1265     oss << \textcolor{stringliteral}{"{}\(\backslash\)"{} \(\backslash\)"{}"{}};}
\DoxyCodeLine{1266     oss.write(wire\_bytes\_start + \textcolor{keyword}{import}.field\_name.offset(),}
\DoxyCodeLine{1267               \textcolor{keyword}{import}.field\_name.length());}
\DoxyCodeLine{1268     oss << \textcolor{stringliteral}{"{}\(\backslash\)"{}"{}};}
\DoxyCodeLine{1269     \textcolor{keywordflow}{return} oss.str();}
\DoxyCodeLine{1270   \}}

\end{DoxyCode}


References v8\+::internal\+::wasm\+::\+Wasm\+Module\+::import\+\_\+table, v8\+::internal\+::index, module\+\_\+, and module\+\_\+object\+\_\+.



Referenced by Lookup\+Import(), Lookup\+Import\+Asm(), Process\+Imported\+Function(), Process\+Imported\+Global(), Process\+Imported\+Memories(), Process\+Imported\+Table(), Process\+Imported\+Wasm\+Global\+Object(), and Process\+Imports().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab5cdfd1a6d96ac77038c87b059b4d04e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a8e85b831f69e3d7b179269b65dadf464}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a8e85b831f69e3d7b179269b65dadf464}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!ImportName@{ImportName}}
\index{ImportName@{ImportName}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{ImportName()}{ImportName()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily std\+::string v8\+::internal\+::wasm\+::\+Instance\+Builder\+::\+Import\+Name (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{index,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1String}{String}} $>$}]{module\+\_\+name }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 1272 of file module-\/instantiate.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1272                                                                          \{}
\DoxyCodeLine{1273     std::ostringstream oss;}
\DoxyCodeLine{1274     oss << \textcolor{stringliteral}{"{}Import \#"{}} << \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}} << \textcolor{stringliteral}{"{} \(\backslash\)"{}"{}} << module\_name-\/>ToCString().get()}
\DoxyCodeLine{1275         << \textcolor{stringliteral}{"{}\(\backslash\)"{}"{}};}
\DoxyCodeLine{1276     \textcolor{keywordflow}{return} oss.str();}
\DoxyCodeLine{1277   \}}

\end{DoxyCode}


References v8\+::internal\+::index.

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a0ce1b5afdf96a612550d4c83c0f17f61}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a0ce1b5afdf96a612550d4c83c0f17f61}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!InitGlobals@{InitGlobals}}
\index{InitGlobals@{InitGlobals}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{InitGlobals()}{InitGlobals()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Instance\+Builder\+::\+Init\+Globals (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 2851 of file module-\/instantiate.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2851                                   \{}
\DoxyCodeLine{2852   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} WasmGlobal\& global : \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_ac6101242a2a805d0e982fff4ddcc4677}{globals}}) \{}
\DoxyCodeLine{2853     \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(global.imported, !global.init.is\_set());}
\DoxyCodeLine{2854     \textcolor{keywordflow}{if} (!global.init.is\_set()) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{2855 }
\DoxyCodeLine{2856     \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ae996872b27cf7b0b9951c658613a8d20}{ValueOrError}} \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a7444b7caaf83466659a2efde4f77457a}{EvaluateConstantExpression}}(}
\DoxyCodeLine{2857         \&\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab230138dba8632d53ff8e394a35551ee}{init\_expr\_zone\_}}, global.init, global.type, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}},}
\DoxyCodeLine{2858         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aea7551d380bf83fce78fac6dae327a78}{trusted\_data\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ad89c98fe73daab093f44575c4e5c7b4f}{shared\_trusted\_data\_}});}
\DoxyCodeLine{2859     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03_a22842750d51679c6a85b7ac9487aa008}{MaybeMarkError}}(\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}})) \textcolor{keywordflow}{return};}
\DoxyCodeLine{2860 }
\DoxyCodeLine{2861     \textcolor{keywordflow}{if} (global.type.is\_reference()) \{}
\DoxyCodeLine{2862       (global.shared ? \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_abc2acf18bcb1567e5343dd3af707e089}{shared\_tagged\_globals\_}} : \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a71497507d2c1ffe7aae80873b0fb2b18}{tagged\_globals\_}})}
\DoxyCodeLine{2863           -\/>set(global.offset, *\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a4a2e42081079a3b383768146a60b9cd8}{to\_value}}(\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}}).\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmValue_ad4e421208ba4899867e8f9df44aa4b6e}{to\_ref}}());}
\DoxyCodeLine{2864     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{2865       \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a4a2e42081079a3b383768146a60b9cd8}{to\_value}}(\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}}).\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmValue_a550bfbefaf86f5455044c1d14a0e9d14}{CopyTo}}(GetRawUntaggedGlobalPtr<uint8\_t>(global));}
\DoxyCodeLine{2866     \}}
\DoxyCodeLine{2867   \}}
\DoxyCodeLine{2868 \}}

\end{DoxyCode}


References v8\+::internal\+::wasm\+::\+Wasm\+Value\+::\+Copy\+To(), DCHECK\+\_\+\+IMPLIES, v8\+::internal\+::wasm\+::\+Evaluate\+Constant\+Expression(), v8\+::internal\+::wasm\+::\+Wasm\+Module\+::globals, v8\+::internal\+::wasm\+::\+Wasm\+Global\+::imported, v8\+::internal\+::wasm\+::\+Wasm\+Global\+::init, init\+\_\+expr\+\_\+zone\+\_\+, v8\+::internal\+::wasm\+::\+Value\+Type\+Base\+::is\+\_\+reference(), v8\+::internal\+::wasm\+::\+Constant\+Expression\+::is\+\_\+set(), isolate\+\_\+, v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/instantiate.\+cc\}\+::\+Maybe\+Mark\+Error(), module\+\_\+, v8\+::internal\+::wasm\+::\+Wasm\+Global\+::offset, v8\+::base\+::internal\+::result, v8\+::internal\+::wasm\+::\+Wasm\+Global\+::shared, shared\+\_\+tagged\+\_\+globals\+\_\+, shared\+\_\+trusted\+\_\+data\+\_\+, tagged\+\_\+globals\+\_\+, thrower\+\_\+, v8\+::internal\+::wasm\+::\+Wasm\+Value\+::to\+\_\+ref(), v8\+::internal\+::wasm\+::to\+\_\+value(), trusted\+\_\+data\+\_\+, and v8\+::internal\+::wasm\+::\+Wasm\+Global\+::type.



Referenced by Build\+\_\+\+Phase1().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a0ce1b5afdf96a612550d4c83c0f17f61_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a0ce1b5afdf96a612550d4c83c0f17f61_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a5ff70878af415967423e34367fbe5a9c}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a5ff70878af415967423e34367fbe5a9c}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!InitializeTags@{InitializeTags}}
\index{InitializeTags@{InitializeTags}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{InitializeTags()}{InitializeTags()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Instance\+Builder\+::\+Initialize\+Tags (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 3381 of file module-\/instantiate.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3381                                      \{}
\DoxyCodeLine{3382   DirectHandle<FixedArray> tags\_table(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aea7551d380bf83fce78fac6dae327a78}{trusted\_data\_}}-\/>tags\_table(), \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}});}
\DoxyCodeLine{3383   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}} = 0; \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}} < tags\_table-\/>length(); ++\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}) \{}
\DoxyCodeLine{3384     \textcolor{keywordflow}{if} (!IsUndefined(tags\_table-\/>get(\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}), \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}})) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{3385     DirectHandle<WasmExceptionTag> tag = \mbox{\hyperlink{classv8_1_1internal_1_1WasmExceptionTag_a16f4ecfd034d8f83eb0b57c2dfeb7e86}{WasmExceptionTag::New}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}});}
\DoxyCodeLine{3386     tags\_table-\/>set(\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}, *tag);}
\DoxyCodeLine{3387   \}}
\DoxyCodeLine{3388 \}}

\end{DoxyCode}


References v8\+::internal\+::index, isolate\+\_\+, v8\+::internal\+::\+Wasm\+Exception\+Tag\+::\+New(), and trusted\+\_\+data\+\_\+.



Referenced by Build\+\_\+\+Phase1().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a5ff70878af415967423e34367fbe5a9c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a5ff70878af415967423e34367fbe5a9c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a8803032b43c2f0d64f51e697df9f0172}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a8803032b43c2f0d64f51e697df9f0172}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!LoadDataSegments@{LoadDataSegments}}
\index{LoadDataSegments@{LoadDataSegments}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{LoadDataSegments()}{LoadDataSegments()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Instance\+Builder\+::\+Load\+Data\+Segments (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 2095 of file module-\/instantiate.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2095                                        \{}
\DoxyCodeLine{2096   base::Vector<const uint8\_t> wire\_bytes =}
\DoxyCodeLine{2097       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ad9acbe63776578c8905fa72206177a2c}{module\_object\_}}-\/>native\_module()-\/>wire\_bytes();}
\DoxyCodeLine{2098   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} WasmDataSegment\& segment : \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_adc0a70e660a7112df858945f38616edc}{data\_segments}}) \{}
\DoxyCodeLine{2099     uint32\_t \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}} = segment.source.length();}
\DoxyCodeLine{2100 }
\DoxyCodeLine{2101     \textcolor{comment}{// Passive segments are not copied during instantiation.}}
\DoxyCodeLine{2102     \textcolor{keywordflow}{if} (!segment.active) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{2103 }
\DoxyCodeLine{2104     \textcolor{keyword}{const} WasmMemory\& dst\_memory = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a2db4294c50e9d81d12819ce61ababaec}{memories}}[segment.memory\_index];}
\DoxyCodeLine{2105     \textcolor{keywordtype}{size\_t} dest\_offset;}
\DoxyCodeLine{2106     \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ae996872b27cf7b0b9951c658613a8d20}{ValueOrError}} \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a7444b7caaf83466659a2efde4f77457a}{EvaluateConstantExpression}}(}
\DoxyCodeLine{2107         \&\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab230138dba8632d53ff8e394a35551ee}{init\_expr\_zone\_}}, segment.dest\_addr,}
\DoxyCodeLine{2108         dst\_memory.is\_memory64() ? \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_aee8b7f805fa662ae4ed159f8072bea5f}{kWasmI64}} : \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a7b893808fadaa287f225d7209d2d36c6}{kWasmI32}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}},}
\DoxyCodeLine{2109         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aea7551d380bf83fce78fac6dae327a78}{trusted\_data\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ad89c98fe73daab093f44575c4e5c7b4f}{shared\_trusted\_data\_}});}
\DoxyCodeLine{2110     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03_a22842750d51679c6a85b7ac9487aa008}{MaybeMarkError}}(\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}})) \textcolor{keywordflow}{return};}
\DoxyCodeLine{2111     \textcolor{keywordflow}{if} (dst\_memory.is\_memory64()) \{}
\DoxyCodeLine{2112       uint64\_t dest\_offset\_64 = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a4a2e42081079a3b383768146a60b9cd8}{to\_value}}(\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}}).to\_u64();}
\DoxyCodeLine{2113 }
\DoxyCodeLine{2114       \textcolor{comment}{// Clamp to \{std::numeric\_limits<size\_t>::max()\}, which is always an}}
\DoxyCodeLine{2115       \textcolor{comment}{// invalid offset, so we always fail the bounds check below.}}
\DoxyCodeLine{2116       \mbox{\hyperlink{src_2base_2logging_8h_afd957f297df7e9ee36c46185e961485f}{DCHECK\_GT}}(std::numeric\_limits<size\_t>::max(), dst\_memory.max\_memory\_size);}
\DoxyCodeLine{2117       dest\_offset = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(std::min(}
\DoxyCodeLine{2118           dest\_offset\_64, uint64\_t\{std::numeric\_limits<size\_t>::max()\}));}
\DoxyCodeLine{2119     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{2120       dest\_offset = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a4a2e42081079a3b383768146a60b9cd8}{to\_value}}(\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}}).to\_u32();}
\DoxyCodeLine{2121     \}}
\DoxyCodeLine{2122 }
\DoxyCodeLine{2123     \textcolor{keywordtype}{size\_t} memory\_size = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aea7551d380bf83fce78fac6dae327a78}{trusted\_data\_}}-\/>memory\_size(segment.memory\_index);}
\DoxyCodeLine{2124     \textcolor{keywordflow}{if} (!base::IsInBounds<size\_t>(dest\_offset, \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}, memory\_size)) \{}
\DoxyCodeLine{2125       \textcolor{keywordtype}{size\_t} segment\_index = \&segment -\/ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_adc0a70e660a7112df858945f38616edc}{data\_segments}}.data();}
\DoxyCodeLine{2126       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}}-\/>RuntimeError(}
\DoxyCodeLine{2127           \textcolor{stringliteral}{"{}data segment \%zu is out of bounds (offset \%zu, "{}}}
\DoxyCodeLine{2128           \textcolor{stringliteral}{"{}length \%u, memory size \%zu)"{}},}
\DoxyCodeLine{2129           segment\_index, dest\_offset, \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}, memory\_size);}
\DoxyCodeLine{2130       \textcolor{keywordflow}{return};}
\DoxyCodeLine{2131     \}}
\DoxyCodeLine{2132 }
\DoxyCodeLine{2133     uint8\_t* memory\_base = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aea7551d380bf83fce78fac6dae327a78}{trusted\_data\_}}-\/>memory\_base(segment.memory\_index);}
\DoxyCodeLine{2134     std::memcpy(memory\_base + dest\_offset,}
\DoxyCodeLine{2135                 wire\_bytes.begin() + segment.source.offset(), \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}});}
\DoxyCodeLine{2136   \}}
\DoxyCodeLine{2137 \}}

\end{DoxyCode}


References v8\+::internal\+::wasm\+::\+Wasm\+Data\+Segment\+::active, v8\+::base\+::\+Vector$<$ T $>$\+::begin(), v8\+::internal\+::wasm\+::\+Wasm\+Module\+::data\+\_\+segments, DCHECK\+\_\+\+GT, v8\+::internal\+::wasm\+::\+Wasm\+Data\+Segment\+::dest\+\_\+addr, v8\+::internal\+::wasm\+::\+Evaluate\+Constant\+Expression(), init\+\_\+expr\+\_\+zone\+\_\+, v8\+::internal\+::wasm\+::\+Wasm\+Memory\+::is\+\_\+memory64(), isolate\+\_\+, v8\+::internal\+::wasm\+::k\+Wasm\+I32, v8\+::internal\+::wasm\+::k\+Wasm\+I64, v8\+::internal\+::wasm\+::\+Wire\+Bytes\+Ref\+::length(), v8\+::internal\+::wasm\+::\+Wasm\+Memory\+::max\+\_\+memory\+\_\+size, v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/instantiate.\+cc\}\+::\+Maybe\+Mark\+Error(), v8\+::internal\+::wasm\+::\+Wasm\+Module\+::memories, v8\+::internal\+::wasm\+::\+Wasm\+Data\+Segment\+::memory\+\_\+index, module\+\_\+, module\+\_\+object\+\_\+, v8\+::internal\+::wasm\+::\+Wire\+Bytes\+Ref\+::offset(), v8\+::base\+::internal\+::result, shared\+\_\+trusted\+\_\+data\+\_\+, size(), v8\+::internal\+::wasm\+::\+Wasm\+Data\+Segment\+::source, thrower\+\_\+, v8\+::internal\+::wasm\+::to\+\_\+value(), and trusted\+\_\+data\+\_\+.



Referenced by Build\+\_\+\+Phase2().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a8803032b43c2f0d64f51e697df9f0172_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a8803032b43c2f0d64f51e697df9f0172_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_adde97133349687e93ab015b5f98ef6bc}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_adde97133349687e93ab015b5f98ef6bc}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!LoadTableSegments@{LoadTableSegments}}
\index{LoadTableSegments@{LoadTableSegments}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{LoadTableSegments()}{LoadTableSegments()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Instance\+Builder\+::\+Load\+Table\+Segments (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 3290 of file module-\/instantiate.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3290                                         \{}
\DoxyCodeLine{3291   \textcolor{keywordflow}{for} (uint32\_t segment\_index = 0;}
\DoxyCodeLine{3292        segment\_index < \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a4e531b388f3b2edb6a515b3a454ed49a}{elem\_segments}}.size(); ++segment\_index) \{}
\DoxyCodeLine{3293     \textcolor{keyword}{const} WasmElemSegment\& elem\_segment = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a4e531b388f3b2edb6a515b3a454ed49a}{elem\_segments}}[segment\_index];}
\DoxyCodeLine{3294     \textcolor{comment}{// Passive segments are not copied during instantiation.}}
\DoxyCodeLine{3295     \textcolor{keywordflow}{if} (elem\_segment.status != \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmElemSegment_a582586e32b6c85b5bd98e21d10ac5c80a82071f8234a079b735f6ed6c1f0bb985}{WasmElemSegment::kStatusActive}}) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{3296 }
\DoxyCodeLine{3297     \textcolor{keyword}{const} uint32\_t table\_index = elem\_segment.table\_index;}
\DoxyCodeLine{3298 }
\DoxyCodeLine{3299     \textcolor{keyword}{const} WasmTable* table = \&\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_af40a46c2d14efc9c68b499d7a459d9b0}{tables}}[table\_index];}
\DoxyCodeLine{3300     \textcolor{keywordtype}{size\_t} dest\_offset;}
\DoxyCodeLine{3301     \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ae996872b27cf7b0b9951c658613a8d20}{ValueOrError}} \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a7444b7caaf83466659a2efde4f77457a}{EvaluateConstantExpression}}(}
\DoxyCodeLine{3302         \&\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab230138dba8632d53ff8e394a35551ee}{init\_expr\_zone\_}}, elem\_segment.offset,}
\DoxyCodeLine{3303         table-\/>is\_table64() ? \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_aee8b7f805fa662ae4ed159f8072bea5f}{kWasmI64}} : \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a7b893808fadaa287f225d7209d2d36c6}{kWasmI32}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}},}
\DoxyCodeLine{3304         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aea7551d380bf83fce78fac6dae327a78}{trusted\_data\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ad89c98fe73daab093f44575c4e5c7b4f}{shared\_trusted\_data\_}});}
\DoxyCodeLine{3305     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03_a22842750d51679c6a85b7ac9487aa008}{MaybeMarkError}}(\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}})) \textcolor{keywordflow}{return};}
\DoxyCodeLine{3306     \textcolor{keywordflow}{if} (table-\/>is\_table64()) \{}
\DoxyCodeLine{3307       uint64\_t dest\_offset\_64 = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a4a2e42081079a3b383768146a60b9cd8}{to\_value}}(\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}}).to\_u64();}
\DoxyCodeLine{3308       \textcolor{comment}{// Clamp to \{std::numeric\_limits<size\_t>::max()\}, which is always an}}
\DoxyCodeLine{3309       \textcolor{comment}{// invalid offset, so we always fail the bounds check below.}}
\DoxyCodeLine{3310       \mbox{\hyperlink{src_2base_2logging_8h_afd957f297df7e9ee36c46185e961485f}{DCHECK\_GT}}(std::numeric\_limits<size\_t>::max(), \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a38d56b630d25ea0451a91c6204e89042}{wasm::max\_table\_size}}());}
\DoxyCodeLine{3311       dest\_offset = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(std::min(}
\DoxyCodeLine{3312           dest\_offset\_64, uint64\_t\{std::numeric\_limits<size\_t>::max()\}));}
\DoxyCodeLine{3313     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{3314       dest\_offset = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a4a2e42081079a3b383768146a60b9cd8}{to\_value}}(\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}}).to\_u32();}
\DoxyCodeLine{3315     \}}
\DoxyCodeLine{3316 }
\DoxyCodeLine{3317     \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} count = elem\_segment.element\_count;}
\DoxyCodeLine{3318 }
\DoxyCodeLine{3319     DirectHandle<WasmTableObject> table\_object(}
\DoxyCodeLine{3320         Cast<WasmTableObject>(}
\DoxyCodeLine{3321             \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aad6f1251ab50c21c71d213e91b1bbc2e}{trusted\_data}}(table-\/>shared)-\/>tables()-\/>get(table\_index)),}
\DoxyCodeLine{3322         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}});}
\DoxyCodeLine{3323     \textcolor{keywordflow}{if} (!base::IsInBounds<size\_t>(dest\_offset, count,}
\DoxyCodeLine{3324                                   table\_object-\/>current\_length())) \{}
\DoxyCodeLine{3325       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}}-\/>RuntimeError(\textcolor{stringliteral}{"{}\%s"{}},}
\DoxyCodeLine{3326                              \mbox{\hyperlink{classv8_1_1internal_1_1MessageFormatter_a03072b2b028db2175b20de8e1c18b220}{MessageFormatter::TemplateString}}(}
\DoxyCodeLine{3327                                  MessageTemplate::kWasmTrapTableOutOfBounds));}
\DoxyCodeLine{3328       \textcolor{keywordflow}{return};}
\DoxyCodeLine{3329     \}}
\DoxyCodeLine{3330 }
\DoxyCodeLine{3331     base::Vector<const uint8\_t> module\_bytes =}
\DoxyCodeLine{3332         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aea7551d380bf83fce78fac6dae327a78}{trusted\_data\_}}-\/>native\_module()-\/>wire\_bytes();}
\DoxyCodeLine{3333     Decoder decoder(module\_bytes);}
\DoxyCodeLine{3334     decoder.consume\_bytes(elem\_segment.elements\_wire\_bytes\_offset);}
\DoxyCodeLine{3335 }
\DoxyCodeLine{3336     \textcolor{keywordtype}{bool} is\_function\_table =}
\DoxyCodeLine{3337         \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a3c8e5205c40b2156097780fb9e7d3f7b}{IsSubtypeOf}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_af40a46c2d14efc9c68b499d7a459d9b0}{tables}}[table\_index].type, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a90941f620285a912a302a3aced092560}{kWasmFuncRef}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}});}
\DoxyCodeLine{3338 }
\DoxyCodeLine{3339     \textcolor{keywordflow}{if} (is\_function\_table) \{}
\DoxyCodeLine{3340       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < count; \mbox{\hyperlink{namespacev8_1_1internal}{i}}++) \{}
\DoxyCodeLine{3341         \textcolor{keywordtype}{int} entry\_index = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(dest\_offset + \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}});}
\DoxyCodeLine{3342         \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ae996872b27cf7b0b9951c658613a8d20}{ValueOrError}} computed\_element = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03_a69c5836368699b02ea301e0c030972b1}{ConsumeElementSegmentEntry}}(}
\DoxyCodeLine{3343             \&\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab230138dba8632d53ff8e394a35551ee}{init\_expr\_zone\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aea7551d380bf83fce78fac6dae327a78}{trusted\_data\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ad89c98fe73daab093f44575c4e5c7b4f}{shared\_trusted\_data\_}},}
\DoxyCodeLine{3344             elem\_segment, decoder, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03_a440457d6a622a7ec01c196e8010588fea0121a4eabe74db64723af275f0bca955}{kLazyFunctionsAndNull}});}
\DoxyCodeLine{3345         \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03_a22842750d51679c6a85b7ac9487aa008}{MaybeMarkError}}(computed\_element, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}})) \textcolor{keywordflow}{return};}
\DoxyCodeLine{3346 }
\DoxyCodeLine{3347         WasmValue computed\_value = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a4a2e42081079a3b383768146a60b9cd8}{to\_value}}(computed\_element);}
\DoxyCodeLine{3348 }
\DoxyCodeLine{3349         \textcolor{keywordflow}{if} (computed\_value.type() == \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a7b893808fadaa287f225d7209d2d36c6}{kWasmI32}}) \{}
\DoxyCodeLine{3350           \textcolor{keywordflow}{if} (computed\_value.to\_i32() >= 0) \{}
\DoxyCodeLine{3351             \textcolor{comment}{// TODO(42204563): Should this use trusted\_data(table-\/>shared)?}}
\DoxyCodeLine{3352             \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03_ac7a772dcc24c13b0ad3abf76d4b0a771}{SetFunctionTablePlaceholder}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aea7551d380bf83fce78fac6dae327a78}{trusted\_data\_}}, table\_object,}
\DoxyCodeLine{3353                                         entry\_index, computed\_value.to\_i32());}
\DoxyCodeLine{3354           \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{3355             \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03_a90a4a187461235dd41109b9941366f34}{SetFunctionTableNullEntry}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, table\_object, entry\_index);}
\DoxyCodeLine{3356           \}}
\DoxyCodeLine{3357         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{3358           \mbox{\hyperlink{classv8_1_1internal_1_1WasmTableObject_acfdec070b48fe34a36f7aa7fed63a969}{WasmTableObject::Set}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, table\_object, entry\_index,}
\DoxyCodeLine{3359                                computed\_value.to\_ref());}
\DoxyCodeLine{3360         \}}
\DoxyCodeLine{3361       \}}
\DoxyCodeLine{3362     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{3363       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < count; \mbox{\hyperlink{namespacev8_1_1internal}{i}}++) \{}
\DoxyCodeLine{3364         \textcolor{keywordtype}{int} entry\_index = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(dest\_offset + \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}});}
\DoxyCodeLine{3365         \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ae996872b27cf7b0b9951c658613a8d20}{ValueOrError}} computed\_element = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03_a69c5836368699b02ea301e0c030972b1}{ConsumeElementSegmentEntry}}(}
\DoxyCodeLine{3366             \&\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab230138dba8632d53ff8e394a35551ee}{init\_expr\_zone\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aea7551d380bf83fce78fac6dae327a78}{trusted\_data\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ad89c98fe73daab093f44575c4e5c7b4f}{shared\_trusted\_data\_}},}
\DoxyCodeLine{3367             elem\_segment, decoder, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03_a440457d6a622a7ec01c196e8010588fea8febc0c947468c75ae40f525d817e413}{kStrictFunctionsAndNull}});}
\DoxyCodeLine{3368         \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03_a22842750d51679c6a85b7ac9487aa008}{MaybeMarkError}}(computed\_element, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}})) \textcolor{keywordflow}{return};}
\DoxyCodeLine{3369         \mbox{\hyperlink{classv8_1_1internal_1_1WasmTableObject_acfdec070b48fe34a36f7aa7fed63a969}{WasmTableObject::Set}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, table\_object, entry\_index,}
\DoxyCodeLine{3370                              \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a4a2e42081079a3b383768146a60b9cd8}{to\_value}}(computed\_element).to\_ref());}
\DoxyCodeLine{3371       \}}
\DoxyCodeLine{3372     \}}
\DoxyCodeLine{3373     \textcolor{comment}{// Active segment have to be set to empty after instance initialization}}
\DoxyCodeLine{3374     \textcolor{comment}{// (much like passive segments after dropping).}}
\DoxyCodeLine{3375     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aad6f1251ab50c21c71d213e91b1bbc2e}{trusted\_data}}(elem\_segment.shared)}
\DoxyCodeLine{3376         -\/>element\_segments()}
\DoxyCodeLine{3377         -\/>set(segment\_index, *\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a7e2962359009581ba84e6a361f574f61}{factory}}()-\/>empty\_fixed\_array());}
\DoxyCodeLine{3378   \}}
\DoxyCodeLine{3379 \}}

\end{DoxyCode}


References v8\+::internal\+::wasm\+::\+Decoder\+::consume\+\_\+bytes(), v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/instantiate.\+cc\}\+::\+Consume\+Element\+Segment\+Entry(), DCHECK\+\_\+\+GT, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::elem\+\_\+segments, v8\+::internal\+::wasm\+::\+Wasm\+Elem\+Segment\+::element\+\_\+count, v8\+::internal\+::wasm\+::\+Wasm\+Elem\+Segment\+::elements\+\_\+wire\+\_\+bytes\+\_\+offset, v8\+::internal\+::wasm\+::\+Evaluate\+Constant\+Expression(), v8\+::internal\+::\+Isolate\+::factory(), v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::i, init\+\_\+expr\+\_\+zone\+\_\+, v8\+::internal\+::wasm\+::\+Wasm\+Table\+::is\+\_\+table64(), isolate\+\_\+, v8\+::internal\+::wasm\+::\+Is\+Subtype\+Of(), v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/instantiate.\+cc\}\+::k\+Lazy\+Functions\+And\+Null, v8\+::internal\+::wasm\+::\+Wasm\+Elem\+Segment\+::k\+Status\+Active, v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/instantiate.\+cc\}\+::k\+Strict\+Functions\+And\+Null, v8\+::internal\+::wasm\+::k\+Wasm\+Func\+Ref, v8\+::internal\+::wasm\+::k\+Wasm\+I32, v8\+::internal\+::wasm\+::k\+Wasm\+I64, v8\+::internal\+::wasm\+::max\+\_\+table\+\_\+size(), v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/instantiate.\+cc\}\+::\+Maybe\+Mark\+Error(), module\+\_\+, v8\+::internal\+::wasm\+::\+Wasm\+Elem\+Segment\+::offset, v8\+::base\+::internal\+::result, v8\+::internal\+::\+Wasm\+Table\+Object\+::\+Set(), v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/instantiate.\+cc\}\+::\+Set\+Function\+Table\+Null\+Entry(), v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/instantiate.\+cc\}\+::\+Set\+Function\+Table\+Placeholder(), v8\+::internal\+::wasm\+::\+Wasm\+Elem\+Segment\+::shared, v8\+::internal\+::wasm\+::\+Wasm\+Table\+::shared, shared\+\_\+trusted\+\_\+data\+\_\+, v8\+::internal\+::wasm\+::\+Wasm\+Elem\+Segment\+::status, v8\+::internal\+::wasm\+::\+Wasm\+Elem\+Segment\+::table\+\_\+index, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::tables, v8\+::internal\+::\+Message\+Formatter\+::\+Template\+String(), thrower\+\_\+, v8\+::internal\+::wasm\+::\+Wasm\+Value\+::to\+\_\+ref(), v8\+::internal\+::wasm\+::to\+\_\+value(), trusted\+\_\+data(), trusted\+\_\+data\+\_\+, and v8\+::internal\+::wasm\+::\+Wasm\+Value\+::type().



Referenced by Build\+\_\+\+Phase2().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_adde97133349687e93ab015b5f98ef6bc_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_adde97133349687e93ab015b5f98ef6bc_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a5267721eb2f9ae3eacdd640338001da9}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a5267721eb2f9ae3eacdd640338001da9}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!LookupImport@{LookupImport}}
\index{LookupImport@{LookupImport}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{LookupImport()}{LookupImport()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle}{Maybe\+Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}} $>$ v8\+::internal\+::wasm\+::\+Instance\+Builder\+::\+Lookup\+Import (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{index,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1String}{String}} $>$}]{module\+\_\+name,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1String}{String}} $>$}]{import\+\_\+name }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1971 of file module-\/instantiate.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1973                                       \{}
\DoxyCodeLine{1974   \textcolor{comment}{// The caller checked that the ffi object is present; and we checked in}}
\DoxyCodeLine{1975   \textcolor{comment}{// the JS-\/API layer that the ffi object, if present, is a JSObject.}}
\DoxyCodeLine{1976   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a13cbcfe18596d4900f82afd2e3f434db}{ffi\_}}.is\_null());}
\DoxyCodeLine{1977   \textcolor{comment}{// Look up the module first.}}
\DoxyCodeLine{1978   DirectHandle<Object> module;}
\DoxyCodeLine{1979   DirectHandle<JSReceiver> module\_recv;}
\DoxyCodeLine{1980   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1Object_a356e9915c742b35bbd1bed0e21fd4014}{Object::GetPropertyOrElement}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a13cbcfe18596d4900f82afd2e3f434db}{ffi\_}}.ToHandleChecked(),}
\DoxyCodeLine{1981                                     module\_name)}
\DoxyCodeLine{1982            .ToHandle(\&module) ||}
\DoxyCodeLine{1983       !TryCast<JSReceiver>(module, \&module\_recv)) \{}
\DoxyCodeLine{1984     \textcolor{keyword}{const} \textcolor{keywordtype}{char}* error = module.is\_null()}
\DoxyCodeLine{1985                             ? \textcolor{stringliteral}{"{}module not found"{}}}
\DoxyCodeLine{1986                             : \textcolor{stringliteral}{"{}module is not an object or function"{}};}
\DoxyCodeLine{1987     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}}-\/>TypeError(\textcolor{stringliteral}{"{}\%s: \%s"{}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab5cdfd1a6d96ac77038c87b059b4d04e}{ImportName}}(\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}, module\_name).c\_str(),}
\DoxyCodeLine{1988                         error);}
\DoxyCodeLine{1989     \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{1990   \}}
\DoxyCodeLine{1991 }
\DoxyCodeLine{1992   MaybeDirectHandle<Object> \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} =}
\DoxyCodeLine{1993       \mbox{\hyperlink{classv8_1_1internal_1_1Object_a356e9915c742b35bbd1bed0e21fd4014}{Object::GetPropertyOrElement}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, module\_recv, import\_name);}
\DoxyCodeLine{1994   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}.is\_null()) \{}
\DoxyCodeLine{1995     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}}-\/>LinkError(\textcolor{stringliteral}{"{}\%s: import not found"{}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab5cdfd1a6d96ac77038c87b059b4d04e}{ImportName}}(\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}).c\_str());}
\DoxyCodeLine{1996     \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{1997   \}}
\DoxyCodeLine{1998 }
\DoxyCodeLine{1999   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}};}
\DoxyCodeLine{2000 \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), ffi\+\_\+, v8\+::internal\+::\+Object\+::\+Get\+Property\+Or\+Element(), Import\+Name(), v8\+::internal\+::index, v8\+::internal\+::\+Direct\+Handle$<$ T $>$\+::is\+\_\+null(), isolate\+\_\+, thrower\+\_\+, and v8\+::internal\+::value.



Referenced by Sanitize\+Imports().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a5267721eb2f9ae3eacdd640338001da9_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a5267721eb2f9ae3eacdd640338001da9_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a45625160696bb8741a820c7cf2a0b5af}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a45625160696bb8741a820c7cf2a0b5af}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!LookupImportAsm@{LookupImportAsm}}
\index{LookupImportAsm@{LookupImportAsm}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{LookupImportAsm()}{LookupImportAsm()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle}{Maybe\+Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}} $>$ v8\+::internal\+::wasm\+::\+Instance\+Builder\+::\+Lookup\+Import\+Asm (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{index,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1String}{String}} $>$}]{import\+\_\+name }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 2048 of file module-\/instantiate.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2049                                                       \{}
\DoxyCodeLine{2050   \textcolor{comment}{// The caller checked that the ffi object is present.}}
\DoxyCodeLine{2051   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a13cbcfe18596d4900f82afd2e3f434db}{ffi\_}}.is\_null());}
\DoxyCodeLine{2052 }
\DoxyCodeLine{2053   \textcolor{comment}{// Perform lookup of the given \{import\_name\} without causing any observable}}
\DoxyCodeLine{2054   \textcolor{comment}{// side-\/effect. We only accept accesses that resolve to data properties,}}
\DoxyCodeLine{2055   \textcolor{comment}{// which is indicated by the asm.js spec in section 7 ("{}Linking"{}) as well.}}
\DoxyCodeLine{2056   PropertyKey \mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, Cast<Name>(import\_name));}
\DoxyCodeLine{2057   LookupIterator it(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a13cbcfe18596d4900f82afd2e3f434db}{ffi\_}}.ToHandleChecked(), \mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}});}
\DoxyCodeLine{2058   \textcolor{keywordflow}{switch} (it.state()) \{}
\DoxyCodeLine{2059     \textcolor{keywordflow}{case} \mbox{\hyperlink{classv8_1_1internal_1_1LookupIterator_aa7fbcb80d73cb5ee869915438ee81ca9a1ff440ac6899e12e66dde578124852e8}{LookupIterator::ACCESS\_CHECK}}:}
\DoxyCodeLine{2060     \textcolor{keywordflow}{case} \mbox{\hyperlink{classv8_1_1internal_1_1LookupIterator_aa7fbcb80d73cb5ee869915438ee81ca9a66d623919565e6e652d519df27a21303}{LookupIterator::TYPED\_ARRAY\_INDEX\_NOT\_FOUND}}:}
\DoxyCodeLine{2061     \textcolor{keywordflow}{case} \mbox{\hyperlink{classv8_1_1internal_1_1LookupIterator_aa7fbcb80d73cb5ee869915438ee81ca9ae5d9ae449f12b851ace03c851d967736}{LookupIterator::INTERCEPTOR}}:}
\DoxyCodeLine{2062     \textcolor{keywordflow}{case} \mbox{\hyperlink{classv8_1_1internal_1_1LookupIterator_aa7fbcb80d73cb5ee869915438ee81ca9ae0202e647e47ba723c6868a386653f00}{LookupIterator::JSPROXY}}:}
\DoxyCodeLine{2063     \textcolor{keywordflow}{case} \mbox{\hyperlink{classv8_1_1internal_1_1LookupIterator_aa7fbcb80d73cb5ee869915438ee81ca9a276760ba9d667569e49b94e1da1c1aa7}{LookupIterator::WASM\_OBJECT}}:}
\DoxyCodeLine{2064     \textcolor{keywordflow}{case} \mbox{\hyperlink{classv8_1_1internal_1_1LookupIterator_aa7fbcb80d73cb5ee869915438ee81ca9ad99a7962d13270cc7a3e9f385ce04aa8}{LookupIterator::ACCESSOR}}:}
\DoxyCodeLine{2065     \textcolor{keywordflow}{case} \mbox{\hyperlink{classv8_1_1internal_1_1LookupIterator_aa7fbcb80d73cb5ee869915438ee81ca9a938c1d30b08c4867801921d2ed2f3bca}{LookupIterator::TRANSITION}}:}
\DoxyCodeLine{2066       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}}-\/>LinkError(\textcolor{stringliteral}{"{}\%s: not a data property"{}},}
\DoxyCodeLine{2067                           \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab5cdfd1a6d96ac77038c87b059b4d04e}{ImportName}}(\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}, import\_name).c\_str());}
\DoxyCodeLine{2068       \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{2069     \textcolor{keywordflow}{case} \mbox{\hyperlink{classv8_1_1internal_1_1LookupIterator_aa7fbcb80d73cb5ee869915438ee81ca9a872f2154f3e6d7f5b6780d8de08eaf4b}{LookupIterator::NOT\_FOUND}}:}
\DoxyCodeLine{2070       \textcolor{comment}{// Accepting missing properties as undefined does not cause any}}
\DoxyCodeLine{2071       \textcolor{comment}{// observable difference from JavaScript semantics, we are lenient.}}
\DoxyCodeLine{2072       \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a7e2962359009581ba84e6a361f574f61}{factory}}()-\/>undefined\_value();}
\DoxyCodeLine{2073     \textcolor{keywordflow}{case} \mbox{\hyperlink{classv8_1_1internal_1_1LookupIterator_aa7fbcb80d73cb5ee869915438ee81ca9ad248749ef6fff604a5df3ec251488d4b}{LookupIterator::DATA}}: \{}
\DoxyCodeLine{2074       DirectHandle<Object> \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} = it.GetDataValue();}
\DoxyCodeLine{2075       \textcolor{comment}{// For legacy reasons, we accept functions for imported globals (see}}
\DoxyCodeLine{2076       \textcolor{comment}{// \{ProcessImportedGlobal\}), but only if we can easily determine that}}
\DoxyCodeLine{2077       \textcolor{comment}{// their Number-\/conversion is side effect free and returns NaN (which is}}
\DoxyCodeLine{2078       \textcolor{comment}{// the case as long as "{}valueOf"{} (or others) are not overwritten).}}
\DoxyCodeLine{2079       \textcolor{keywordflow}{if} (IsJSFunction(*\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}) \&\&}
\DoxyCodeLine{2080           \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a4f710e1d1dd945669cbebae2b51835e5}{import\_table}}[\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}].kind == \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb10c8534fdb3edc15e3f45d7ee6d547a6f3a1cfcc3386739303f7d10b0075ac5}{kExternalGlobal}} \&\&}
\DoxyCodeLine{2081           !\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03_aa59117d70e27bf651a6401a6eda174d8}{HasDefaultToNumberBehaviour}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, Cast<JSFunction>(\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}))) \{}
\DoxyCodeLine{2082         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}}-\/>LinkError(\textcolor{stringliteral}{"{}\%s: function has special ToNumber behaviour"{}},}
\DoxyCodeLine{2083                             \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab5cdfd1a6d96ac77038c87b059b4d04e}{ImportName}}(\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}, import\_name).c\_str());}
\DoxyCodeLine{2084         \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{2085       \}}
\DoxyCodeLine{2086       \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}};}
\DoxyCodeLine{2087     \}}
\DoxyCodeLine{2088     \textcolor{keywordflow}{case} \mbox{\hyperlink{classv8_1_1internal_1_1LookupIterator_aa7fbcb80d73cb5ee869915438ee81ca9ab6b48e02c0bdaedda0011015f1bdc761}{LookupIterator::STRING\_LOOKUP\_START\_OBJECT}}:}
\DoxyCodeLine{2089       \mbox{\hyperlink{namespacev8_1_1internal_acdec713c25068019f935e35976f5b666}{UNREACHABLE}}();}
\DoxyCodeLine{2090   \}}
\DoxyCodeLine{2091 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Lookup\+Iterator\+::\+ACCESS\+\_\+\+CHECK, v8\+::internal\+::\+Lookup\+Iterator\+::\+ACCESSOR, v8\+::internal\+::\+Lookup\+Iterator\+::\+DATA, v8\+::internal\+::\+DCHECK(), v8\+::internal\+::\+Isolate\+::factory(), ffi\+\_\+, v8\+::internal\+::\+Lookup\+Iterator\+::\+Get\+Data\+Value(), v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/instantiate.\+cc\}\+::\+Has\+Default\+To\+Number\+Behaviour(), v8\+::internal\+::wasm\+::\+Wasm\+Module\+::import\+\_\+table, Import\+Name(), v8\+::internal\+::index, v8\+::internal\+::\+Lookup\+Iterator\+::\+INTERCEPTOR, isolate\+\_\+, v8\+::internal\+::\+Lookup\+Iterator\+::\+JSPROXY, v8\+::internal\+::wasm\+::k\+External\+Global, v8\+::internal\+::key, module\+\_\+, v8\+::internal\+::\+Lookup\+Iterator\+::\+NOT\+\_\+\+FOUND, v8\+::internal\+::\+Lookup\+Iterator\+::state(), v8\+::internal\+::\+Lookup\+Iterator\+::\+STRING\+\_\+\+LOOKUP\+\_\+\+START\+\_\+\+OBJECT, thrower\+\_\+, v8\+::internal\+::\+Lookup\+Iterator\+::\+TRANSITION, v8\+::internal\+::\+Lookup\+Iterator\+::\+TYPED\+\_\+\+ARRAY\+\_\+\+INDEX\+\_\+\+NOT\+\_\+\+FOUND, v8\+::internal\+::\+UNREACHABLE(), v8\+::internal\+::value, and v8\+::internal\+::\+Lookup\+Iterator\+::\+WASM\+\_\+\+OBJECT.



Referenced by Sanitize\+Imports().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a45625160696bb8741a820c7cf2a0b5af_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a45625160696bb8741a820c7cf2a0b5af_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a446ff15923517ddda69049d7e6327e40}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a446ff15923517ddda69049d7e6327e40}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!ProcessExports@{ProcessExports}}
\index{ProcessExports@{ProcessExports}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{ProcessExports()}{ProcessExports()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Instance\+Builder\+::\+Process\+Exports (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 2893 of file module-\/instantiate.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2893                                      \{}
\DoxyCodeLine{2894   std::unordered\_map<int, IndirectHandle<Object>> imported\_globals;}
\DoxyCodeLine{2895 }
\DoxyCodeLine{2896   \textcolor{comment}{// If an imported WebAssembly global gets exported, the export has to be}}
\DoxyCodeLine{2897   \textcolor{comment}{// identical to to import. Therefore we cache all re-\/exported globals}}
\DoxyCodeLine{2898   \textcolor{comment}{// in a map here.}}
\DoxyCodeLine{2899   \textcolor{comment}{// Note: re-\/exported functions must also preserve their identity; they}}
\DoxyCodeLine{2900   \textcolor{comment}{// have already been cached in the instance by \{ProcessImportedFunction\}.}}
\DoxyCodeLine{2901   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}} = 0, \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}} = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a4f710e1d1dd945669cbebae2b51835e5}{import\_table}}.size(); \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}} < \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}};}
\DoxyCodeLine{2902        ++\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}) \{}
\DoxyCodeLine{2903     \textcolor{keyword}{const} WasmImport\& \textcolor{keyword}{import} = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a4f710e1d1dd945669cbebae2b51835e5}{import\_table}}[\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}];}
\DoxyCodeLine{2904     \textcolor{keywordflow}{if} (\textcolor{keyword}{import}.kind == \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb10c8534fdb3edc15e3f45d7ee6d547a6f3a1cfcc3386739303f7d10b0075ac5}{kExternalGlobal}} \&\&}
\DoxyCodeLine{2905         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_ac6101242a2a805d0e982fff4ddcc4677}{globals}}[\textcolor{keyword}{import}.index].exported) \{}
\DoxyCodeLine{2906       DirectHandle<Object> \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a5dadf45ab32816f8ffdb69a10544a956}{sanitized\_imports\_}}[\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}];}
\DoxyCodeLine{2907       \textcolor{keywordflow}{if} (IsWasmGlobalObject(*\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}})) \{}
\DoxyCodeLine{2908         imported\_globals[\textcolor{keyword}{import}.index] = \mbox{\hyperlink{namespacev8_1_1internal_a15cafb1d1ed1ac577609eb5e764384e8}{indirect\_handle}}(\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}});}
\DoxyCodeLine{2909       \}}
\DoxyCodeLine{2910     \}}
\DoxyCodeLine{2911   \}}
\DoxyCodeLine{2912 }
\DoxyCodeLine{2913   DirectHandle<WasmInstanceObject> \mbox{\hyperlink{namespacev8_1_1internal_a58e3fb6c5ada1d544715988b7a735333}{instance\_object}}\{}
\DoxyCodeLine{2914       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aea7551d380bf83fce78fac6dae327a78}{trusted\_data\_}}-\/>instance\_object(), \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}\};}
\DoxyCodeLine{2915   DirectHandle<JSObject> exports\_object =}
\DoxyCodeLine{2916       \mbox{\hyperlink{namespacev8_1_1internal_a73502f55102d18cb764881bc29f35c05}{direct\_handle}}(\mbox{\hyperlink{namespacev8_1_1internal_a58e3fb6c5ada1d544715988b7a735333}{instance\_object}}-\/>exports\_object(), \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}});}
\DoxyCodeLine{2917   MaybeDirectHandle<String> single\_function\_name;}
\DoxyCodeLine{2918   \textcolor{keywordtype}{bool} is\_asm\_js = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a70bbfcab50b20ba5da8696e0373a8af4}{is\_asmjs\_module}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}});}
\DoxyCodeLine{2919   \textcolor{keywordflow}{if} (is\_asm\_js) \{}
\DoxyCodeLine{2920     DirectHandle<JSFunction> object\_function = DirectHandle<JSFunction>(}
\DoxyCodeLine{2921         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a9435d2734e67d1dac0a3ce2a5b9387b8}{native\_context}}()-\/>object\_function(), \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}});}
\DoxyCodeLine{2922     exports\_object = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a7e2962359009581ba84e6a361f574f61}{factory}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Factory_a54c843caad6266415afc266860855cdb}{NewJSObject}}(object\_function);}
\DoxyCodeLine{2923     single\_function\_name =}
\DoxyCodeLine{2924         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a7e2962359009581ba84e6a361f574f61}{factory}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Factory_af3f3d9861e8eb4e63e94eae4d18aa477}{InternalizeUtf8String}}(\mbox{\hyperlink{classv8_1_1internal_1_1AsmJs_a27360cb0c921f0626fd84494b87e79af}{AsmJs::kSingleFunctionName}});}
\DoxyCodeLine{2925     \mbox{\hyperlink{namespacev8_1_1internal_a58e3fb6c5ada1d544715988b7a735333}{instance\_object}}-\/>set\_exports\_object(*exports\_object);}
\DoxyCodeLine{2926   \}}
\DoxyCodeLine{2927 }
\DoxyCodeLine{2928   \textcolor{comment}{// Switch the exports object to dictionary mode and allocate enough storage}}
\DoxyCodeLine{2929   \textcolor{comment}{// for the expected number of exports.}}
\DoxyCodeLine{2930   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(exports\_object-\/>HasFastProperties());}
\DoxyCodeLine{2931   \mbox{\hyperlink{classv8_1_1internal_1_1JSObject_a89dc4711a0455bca5529d422a8738e79}{JSObject::NormalizeProperties}}(}
\DoxyCodeLine{2932       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, exports\_object, \mbox{\hyperlink{namespacev8_1_1internal_aff269dc9be2370cdca244d8f1f97237aa2218bc18b86468072fce6605e688330f}{KEEP\_INOBJECT\_PROPERTIES}},}
\DoxyCodeLine{2933       \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a4dbe8d13d75f2c6c4a8f6e19fdb5eca1}{export\_table}}.size()), \textcolor{stringliteral}{"{}WasmExportsObject"{}});}
\DoxyCodeLine{2934 }
\DoxyCodeLine{2935   PropertyDescriptor desc;}
\DoxyCodeLine{2936   desc.set\_writable(is\_asm\_js);}
\DoxyCodeLine{2937   desc.set\_enumerable(\textcolor{keyword}{true});}
\DoxyCodeLine{2938   desc.set\_configurable(is\_asm\_js);}
\DoxyCodeLine{2939 }
\DoxyCodeLine{2940   \textcolor{keyword}{const} PropertyDetails details\{\mbox{\hyperlink{namespacev8_1_1internal_ace7045d9fc96e0d36ce22ba112661a81a0ac87546e8b36fcb3034694d4d909ea3}{PropertyKind::kData}}, desc.ToAttributes(),}
\DoxyCodeLine{2941                                 \mbox{\hyperlink{namespacev8_1_1internal_ac328869a355886739965287befcc49aca32567d9e5f2d66c9b326c45e800abcf6}{PropertyConstness::kMutable}}\};}
\DoxyCodeLine{2942 }
\DoxyCodeLine{2943   \textcolor{comment}{// Process each export in the export table.}}
\DoxyCodeLine{2944   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} WasmExport\& \mbox{\hyperlink{namespacev8_1_1base_1_1ieee754_a6933d652f26a01529c4fc7d747981cc5}{exp}} : \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a4dbe8d13d75f2c6c4a8f6e19fdb5eca1}{export\_table}}) \{}
\DoxyCodeLine{2945     DirectHandle<String> \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a274a3a31f85691b7918199e835fa91c9}{name}} =}
\DoxyCodeLine{2946         \mbox{\hyperlink{classv8_1_1internal_1_1WasmModuleObject_aad63556c675d28c5823c6f4ca765c67d}{WasmModuleObject::ExtractUtf8StringFromModuleBytes}}(}
\DoxyCodeLine{2947             \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ad9acbe63776578c8905fa72206177a2c}{module\_object\_}}, \mbox{\hyperlink{namespacev8_1_1base_1_1ieee754_a6933d652f26a01529c4fc7d747981cc5}{exp}}.name, \mbox{\hyperlink{namespacev8_1_1internal_a00e6a81b8b499c814a011d90853897fbaa318ae4b40399d5743b89f5acc1bcc7b}{kInternalize}});}
\DoxyCodeLine{2948     DirectHandle<JSAny> \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}};}
\DoxyCodeLine{2949     \textcolor{keywordflow}{switch} (\mbox{\hyperlink{namespacev8_1_1base_1_1ieee754_a6933d652f26a01529c4fc7d747981cc5}{exp}}.kind) \{}
\DoxyCodeLine{2950       \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb10c8534fdb3edc15e3f45d7ee6d547a841c234519f90eb88be0020af3622a4d}{kExternalFunction}}: \{}
\DoxyCodeLine{2951         \textcolor{comment}{// Wrap and export the code as a JSFunction.}}
\DoxyCodeLine{2952         \textcolor{keywordtype}{bool} shared = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a73340765ceb50aae2e9ac2b6b788a362}{function\_is\_shared}}(\mbox{\hyperlink{namespacev8_1_1base_1_1ieee754_a6933d652f26a01529c4fc7d747981cc5}{exp}}.index);}
\DoxyCodeLine{2953         DirectHandle<WasmFuncRef> func\_ref =}
\DoxyCodeLine{2954             \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData_a27d1f1a3201baec4b9103b3bb27888b6}{WasmTrustedInstanceData::GetOrCreateFuncRef}}(}
\DoxyCodeLine{2955                 \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aad6f1251ab50c21c71d213e91b1bbc2e}{trusted\_data}}(shared), \mbox{\hyperlink{namespacev8_1_1base_1_1ieee754_a6933d652f26a01529c4fc7d747981cc5}{exp}}.index);}
\DoxyCodeLine{2956         DirectHandle<WasmInternalFunction> internal\_function\{}
\DoxyCodeLine{2957             func\_ref-\/>internal(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}), \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}\};}
\DoxyCodeLine{2958         DirectHandle<JSFunction> wasm\_external\_function =}
\DoxyCodeLine{2959             \mbox{\hyperlink{classv8_1_1internal_1_1WasmInternalFunction_aa01e2244c83b9a4ca24d4bfd2cb0d78a}{WasmInternalFunction::GetOrCreateExternal}}(internal\_function);}
\DoxyCodeLine{2960         \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} = wasm\_external\_function;}
\DoxyCodeLine{2961 }
\DoxyCodeLine{2962         \textcolor{keywordflow}{if} (is\_asm\_js \&\&}
\DoxyCodeLine{2963             \mbox{\hyperlink{classv8_1_1internal_1_1String_adea5c3479309ca6bac778d4497f923ab}{String::Equals}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a274a3a31f85691b7918199e835fa91c9}{name}},}
\DoxyCodeLine{2964                            single\_function\_name.ToHandleChecked())) \{}
\DoxyCodeLine{2965           desc.set\_value(\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}});}
\DoxyCodeLine{2966           \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1JSReceiver_ac5e7161278e080e578f54aab03924947}{JSReceiver::DefineOwnProperty}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, \mbox{\hyperlink{namespacev8_1_1internal_a58e3fb6c5ada1d544715988b7a735333}{instance\_object}}, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a274a3a31f85691b7918199e835fa91c9}{name}},}
\DoxyCodeLine{2967                                               \&desc, \mbox{\hyperlink{namespacev8_a41f0e280eadfba6ac9afd833fdd540cf}{Just}}(\mbox{\hyperlink{namespacev8_1_1internal_adbf2c933630f2f4bb419ce1ba04ce760ac8c06c0e5cdd46711981e472881756de}{kThrowOnError}}))}
\DoxyCodeLine{2968                     .FromMaybe(\textcolor{keyword}{false}));}
\DoxyCodeLine{2969           \textcolor{keywordflow}{continue};}
\DoxyCodeLine{2970         \}}
\DoxyCodeLine{2971         \textcolor{keywordflow}{break};}
\DoxyCodeLine{2972       \}}
\DoxyCodeLine{2973       \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb10c8534fdb3edc15e3f45d7ee6d547affbe8f8322be98ba205f863ef39fdad5}{kExternalTable}}: \{}
\DoxyCodeLine{2974         \textcolor{keywordtype}{bool} shared = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_af40a46c2d14efc9c68b499d7a459d9b0}{tables}}[\mbox{\hyperlink{namespacev8_1_1base_1_1ieee754_a6933d652f26a01529c4fc7d747981cc5}{exp}}.index].shared;}
\DoxyCodeLine{2975         DirectHandle<WasmTrustedInstanceData> data = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aad6f1251ab50c21c71d213e91b1bbc2e}{trusted\_data}}(shared);}
\DoxyCodeLine{2976         \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} = \mbox{\hyperlink{namespacev8_1_1internal_a73502f55102d18cb764881bc29f35c05}{direct\_handle}}(Cast<JSAny>(data-\/>tables()-\/>get(\mbox{\hyperlink{namespacev8_1_1base_1_1ieee754_a6933d652f26a01529c4fc7d747981cc5}{exp}}.index)),}
\DoxyCodeLine{2977                               \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}});}
\DoxyCodeLine{2978         \textcolor{keywordflow}{break};}
\DoxyCodeLine{2979       \}}
\DoxyCodeLine{2980       \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb10c8534fdb3edc15e3f45d7ee6d547a9e82a6c120c240d5819852ec01c3bf9b}{kExternalMemory}}: \{}
\DoxyCodeLine{2981         \textcolor{comment}{// Export the memory as a WebAssembly.Memory object. A WasmMemoryObject}}
\DoxyCodeLine{2982         \textcolor{comment}{// should already be available if the module has memory, since we always}}
\DoxyCodeLine{2983         \textcolor{comment}{// create or import it when building an WasmInstanceObject.}}
\DoxyCodeLine{2984         \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} =}
\DoxyCodeLine{2985             \mbox{\hyperlink{namespacev8_1_1internal_a73502f55102d18cb764881bc29f35c05}{direct\_handle}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aea7551d380bf83fce78fac6dae327a78}{trusted\_data\_}}-\/>memory\_object(\mbox{\hyperlink{namespacev8_1_1base_1_1ieee754_a6933d652f26a01529c4fc7d747981cc5}{exp}}.index), \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}});}
\DoxyCodeLine{2986         \textcolor{keywordflow}{break};}
\DoxyCodeLine{2987       \}}
\DoxyCodeLine{2988       \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb10c8534fdb3edc15e3f45d7ee6d547a6f3a1cfcc3386739303f7d10b0075ac5}{kExternalGlobal}}: \{}
\DoxyCodeLine{2989         \textcolor{keyword}{const} WasmGlobal\& global = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_ac6101242a2a805d0e982fff4ddcc4677}{globals}}[\mbox{\hyperlink{namespacev8_1_1base_1_1ieee754_a6933d652f26a01529c4fc7d747981cc5}{exp}}.index];}
\DoxyCodeLine{2990         DirectHandle<WasmTrustedInstanceData> maybe\_shared\_data =}
\DoxyCodeLine{2991             \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aad6f1251ab50c21c71d213e91b1bbc2e}{trusted\_data}}(global.shared);}
\DoxyCodeLine{2992         \textcolor{keywordflow}{if} (global.imported) \{}
\DoxyCodeLine{2993           \textcolor{keyword}{auto} cached\_global = imported\_globals.find(\mbox{\hyperlink{namespacev8_1_1base_1_1ieee754_a6933d652f26a01529c4fc7d747981cc5}{exp}}.index);}
\DoxyCodeLine{2994           \textcolor{keywordflow}{if} (cached\_global != imported\_globals.end()) \{}
\DoxyCodeLine{2995             \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} = Cast<JSAny>(cached\_global-\/>second);}
\DoxyCodeLine{2996             \textcolor{keywordflow}{break};}
\DoxyCodeLine{2997           \}}
\DoxyCodeLine{2998         \}}
\DoxyCodeLine{2999         DirectHandle<JSArrayBuffer> untagged\_buffer;}
\DoxyCodeLine{3000         DirectHandle<FixedArray> \mbox{\hyperlink{namespacev8_1_1internal_afb53db8cc7fb48b96a2be12004cdcb10}{tagged\_buffer}};}
\DoxyCodeLine{3001         uint32\_t offset;}
\DoxyCodeLine{3002 }
\DoxyCodeLine{3003         \textcolor{keywordflow}{if} (global.mutability \&\& global.imported) \{}
\DoxyCodeLine{3004           DirectHandle<FixedArray> buffers\_array(}
\DoxyCodeLine{3005               maybe\_shared\_data-\/>imported\_mutable\_globals\_buffers(), \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}});}
\DoxyCodeLine{3006           \textcolor{keywordflow}{if} (global.type.is\_reference()) \{}
\DoxyCodeLine{3007             \mbox{\hyperlink{namespacev8_1_1internal_afb53db8cc7fb48b96a2be12004cdcb10}{tagged\_buffer}} = \mbox{\hyperlink{namespacev8_1_1internal_a73502f55102d18cb764881bc29f35c05}{direct\_handle}}(}
\DoxyCodeLine{3008                 Cast<FixedArray>(buffers\_array-\/>get(global.index)), \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}});}
\DoxyCodeLine{3009             \textcolor{comment}{// For externref globals we store the relative offset in the}}
\DoxyCodeLine{3010             \textcolor{comment}{// imported\_mutable\_globals array instead of an absolute address.}}
\DoxyCodeLine{3011             offset = \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(}
\DoxyCodeLine{3012                 maybe\_shared\_data-\/>imported\_mutable\_globals()-\/>get(}
\DoxyCodeLine{3013                     global.index));}
\DoxyCodeLine{3014           \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{3015             untagged\_buffer = \mbox{\hyperlink{namespacev8_1_1internal_a73502f55102d18cb764881bc29f35c05}{direct\_handle}}(}
\DoxyCodeLine{3016                 Cast<JSArrayBuffer>(buffers\_array-\/>get(global.index)),}
\DoxyCodeLine{3017                 \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}});}
\DoxyCodeLine{3018             \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_adcd4ca657f5fbce4e3e61f860761470a}{Address}} global\_addr = maybe\_shared\_data-\/>imported\_mutable\_globals()}
\DoxyCodeLine{3019                                       -\/>get\_sandboxed\_pointer(global.index);}
\DoxyCodeLine{3020 }
\DoxyCodeLine{3021             \textcolor{keywordtype}{size\_t} buffer\_size = untagged\_buffer-\/>GetByteLength();}
\DoxyCodeLine{3022             \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_adcd4ca657f5fbce4e3e61f860761470a}{Address}} backing\_store =}
\DoxyCodeLine{3023                 \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_adcd4ca657f5fbce4e3e61f860761470a}{Address}}\textcolor{keyword}{>}(untagged\_buffer-\/>backing\_store());}
\DoxyCodeLine{3024             \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(global\_addr >= backing\_store \&\&}
\DoxyCodeLine{3025                   global\_addr < backing\_store + buffer\_size);}
\DoxyCodeLine{3026             offset = \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(global\_addr -\/ backing\_store);}
\DoxyCodeLine{3027           \}}
\DoxyCodeLine{3028         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{3029           \textcolor{keywordflow}{if} (global.type.is\_reference()) \{}
\DoxyCodeLine{3030             \mbox{\hyperlink{namespacev8_1_1internal_afb53db8cc7fb48b96a2be12004cdcb10}{tagged\_buffer}} = \mbox{\hyperlink{namespacev8_1_1internal_a73502f55102d18cb764881bc29f35c05}{direct\_handle}}(}
\DoxyCodeLine{3031                 maybe\_shared\_data-\/>tagged\_globals\_buffer(), \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}});}
\DoxyCodeLine{3032           \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{3033             untagged\_buffer = \mbox{\hyperlink{namespacev8_1_1internal_a73502f55102d18cb764881bc29f35c05}{direct\_handle}}(}
\DoxyCodeLine{3034                 maybe\_shared\_data-\/>untagged\_globals\_buffer(), \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}});}
\DoxyCodeLine{3035           \}}
\DoxyCodeLine{3036           offset = global.offset;}
\DoxyCodeLine{3037         \}}
\DoxyCodeLine{3038 }
\DoxyCodeLine{3039         \textcolor{comment}{// Since the global's array untagged\_buffer is always provided,}}
\DoxyCodeLine{3040         \textcolor{comment}{// allocation should never fail.}}
\DoxyCodeLine{3041         DirectHandle<WasmGlobalObject> global\_obj =}
\DoxyCodeLine{3042             \mbox{\hyperlink{classv8_1_1internal_1_1WasmGlobalObject_ade63c64025c7c0f0ba5a05b9d11e431f}{WasmGlobalObject::New}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, maybe\_shared\_data, untagged\_buffer,}
\DoxyCodeLine{3043                                   \mbox{\hyperlink{namespacev8_1_1internal_afb53db8cc7fb48b96a2be12004cdcb10}{tagged\_buffer}}, global.type, offset,}
\DoxyCodeLine{3044                                   global.mutability)}
\DoxyCodeLine{3045                 .ToHandleChecked();}
\DoxyCodeLine{3046         \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} = global\_obj;}
\DoxyCodeLine{3047         \textcolor{keywordflow}{break};}
\DoxyCodeLine{3048       \}}
\DoxyCodeLine{3049       \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb10c8534fdb3edc15e3f45d7ee6d547a53e55104d1626728a0b2a5285888ff8e}{kExternalTag}}: \{}
\DoxyCodeLine{3050         \textcolor{keyword}{const} WasmTag\& tag = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_ab543c357d83ca4ab20ea9f13a6656f85}{tags}}[\mbox{\hyperlink{namespacev8_1_1base_1_1ieee754_a6933d652f26a01529c4fc7d747981cc5}{exp}}.index];}
\DoxyCodeLine{3051         DirectHandle<WasmTagObject> wrapper = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a725cea88ca63b898d35df6e718bd7b98}{tags\_wrappers\_}}[\mbox{\hyperlink{namespacev8_1_1base_1_1ieee754_a6933d652f26a01529c4fc7d747981cc5}{exp}}.index];}
\DoxyCodeLine{3052         \textcolor{keywordflow}{if} (wrapper.is\_null()) \{}
\DoxyCodeLine{3053           DirectHandle<HeapObject> tag\_object(}
\DoxyCodeLine{3054               Cast<HeapObject>(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aea7551d380bf83fce78fac6dae327a78}{trusted\_data\_}}-\/>tags\_table()-\/>get(\mbox{\hyperlink{namespacev8_1_1base_1_1ieee754_a6933d652f26a01529c4fc7d747981cc5}{exp}}.index)),}
\DoxyCodeLine{3055               \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}});}
\DoxyCodeLine{3056           CanonicalTypeIndex sig\_index =}
\DoxyCodeLine{3057               \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a80ed14bf76cb65cc93c6c9ba1b56f75c}{canonical\_sig\_id}}(tag.sig\_index);}
\DoxyCodeLine{3058           \textcolor{comment}{// TODO(42204563): Support shared tags.}}
\DoxyCodeLine{3059           wrapper = \mbox{\hyperlink{classv8_1_1internal_1_1WasmTagObject_a80e21a9531997c9d7c95d9bd95d86cd4}{WasmTagObject::New}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, tag.sig, sig\_index, tag\_object,}
\DoxyCodeLine{3060                                        \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aea7551d380bf83fce78fac6dae327a78}{trusted\_data\_}});}
\DoxyCodeLine{3061           \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a725cea88ca63b898d35df6e718bd7b98}{tags\_wrappers\_}}[\mbox{\hyperlink{namespacev8_1_1base_1_1ieee754_a6933d652f26a01529c4fc7d747981cc5}{exp}}.index] = wrapper;}
\DoxyCodeLine{3062         \}}
\DoxyCodeLine{3063         \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} = wrapper;}
\DoxyCodeLine{3064         \textcolor{keywordflow}{break};}
\DoxyCodeLine{3065       \}}
\DoxyCodeLine{3066       \textcolor{keywordflow}{default}:}
\DoxyCodeLine{3067         \mbox{\hyperlink{namespacev8_1_1internal_acdec713c25068019f935e35976f5b666}{UNREACHABLE}}();}
\DoxyCodeLine{3068     \}}
\DoxyCodeLine{3069 }
\DoxyCodeLine{3070     uint32\_t \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}};}
\DoxyCodeLine{3071     \textcolor{keywordflow}{if} (\mbox{\hyperlink{v8config_8h_a67bd29db07c711b0fb11ff1c324ebb60}{V8\_UNLIKELY}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a274a3a31f85691b7918199e835fa91c9}{name}}-\/>AsArrayIndex(\&\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}))) \{}
\DoxyCodeLine{3072       \textcolor{comment}{// Add a data element.}}
\DoxyCodeLine{3073       \mbox{\hyperlink{classv8_1_1internal_1_1JSObject_a21e2784c5608d738f74b13898352446c}{JSObject::AddDataElement}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, exports\_object, \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}, \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}},}
\DoxyCodeLine{3074                                details.attributes());}
\DoxyCodeLine{3075     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{3076       \textcolor{comment}{// Add a property to the dictionary.}}
\DoxyCodeLine{3077       \mbox{\hyperlink{classv8_1_1internal_1_1JSObject_a805055e644cc9d9f2766de4340d36f64}{JSObject::SetNormalizedProperty}}(exports\_object, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a274a3a31f85691b7918199e835fa91c9}{name}}, \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}, details);}
\DoxyCodeLine{3078     \}}
\DoxyCodeLine{3079   \}}
\DoxyCodeLine{3080 \}}

\end{DoxyCode}


References v8\+::internal\+::\+JSObject\+::\+Add\+Data\+Element(), v8\+::internal\+::wasm\+::\+Wasm\+Module\+::canonical\+\_\+sig\+\_\+id(), CHECK, v8\+::internal\+::\+DCHECK(), v8\+::internal\+::\+JSReceiver\+::\+Define\+Own\+Property(), v8\+::internal\+::direct\+\_\+handle(), v8\+::internal\+::compiler\+::end(), v8\+::internal\+::\+String\+::\+Equals(), v8\+::base\+::ieee754\+::exp(), v8\+::internal\+::wasm\+::\+Wasm\+Module\+::export\+\_\+table, v8\+::internal\+::\+Wasm\+Module\+Object\+::\+Extract\+Utf8\+String\+From\+Module\+Bytes(), v8\+::internal\+::\+Isolate\+::factory(), v8\+::internal\+::wasm\+::\+Wasm\+Module\+::function\+\_\+is\+\_\+shared(), v8\+::internal\+::\+Wasm\+Internal\+Function\+::\+Get\+Or\+Create\+External(), v8\+::internal\+::\+Wasm\+Trusted\+Instance\+Data\+::\+Get\+Or\+Create\+Func\+Ref(), v8\+::internal\+::wasm\+::\+Wasm\+Module\+::globals, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::import\+\_\+table, v8\+::internal\+::wasm\+::\+Wasm\+Global\+::imported, v8\+::internal\+::index, v8\+::internal\+::wasm\+::\+Wasm\+Global\+::index, v8\+::internal\+::indirect\+\_\+handle(), v8\+::internal\+::instance\+\_\+object, v8\+::internal\+::\+Factory\+::\+Internalize\+Utf8\+String(), v8\+::internal\+::wasm\+::is\+\_\+asmjs\+\_\+module(), v8\+::internal\+::\+Direct\+Handle$<$ T $>$\+::is\+\_\+null(), v8\+::internal\+::wasm\+::\+Value\+Type\+Base\+::is\+\_\+reference(), isolate\+\_\+, v8\+::\+Just(), v8\+::internal\+::k\+Data, v8\+::internal\+::\+KEEP\+\_\+\+INOBJECT\+\_\+\+PROPERTIES, v8\+::internal\+::wasm\+::k\+External\+Function, v8\+::internal\+::wasm\+::k\+External\+Global, v8\+::internal\+::wasm\+::k\+External\+Memory, v8\+::internal\+::wasm\+::k\+External\+Table, v8\+::internal\+::wasm\+::k\+External\+Tag, v8\+::internal\+::k\+Internalize, v8\+::internal\+::k\+Mutable, v8\+::internal\+::\+Asm\+Js\+::k\+Single\+Function\+Name, v8\+::internal\+::k\+Throw\+On\+Error, module\+\_\+, module\+\_\+object\+\_\+, v8\+::internal\+::wasm\+::\+Wasm\+Global\+::mutability, v8\+::internal\+::wasm\+::name(), v8\+::internal\+::\+Isolate\+::native\+\_\+context(), v8\+::internal\+::\+Wasm\+Tag\+Object\+::\+New(), v8\+::internal\+::\+Wasm\+Global\+Object\+::\+New(), v8\+::internal\+::\+Factory\+::\+New\+JSObject(), v8\+::internal\+::\+JSObject\+::\+Normalize\+Properties(), v8\+::internal\+::wasm\+::\+Wasm\+Global\+::offset, sanitized\+\_\+imports\+\_\+, v8\+::internal\+::\+Property\+Descriptor\+::set\+\_\+configurable(), v8\+::internal\+::\+Property\+Descriptor\+::set\+\_\+enumerable(), v8\+::internal\+::\+Property\+Descriptor\+::set\+\_\+value(), v8\+::internal\+::\+Property\+Descriptor\+::set\+\_\+writable(), v8\+::internal\+::\+JSObject\+::\+Set\+Normalized\+Property(), v8\+::internal\+::wasm\+::\+Wasm\+Global\+::shared, v8\+::internal\+::wasm\+::\+Wasm\+Tag\+::sig, v8\+::internal\+::wasm\+::\+Wasm\+Tag\+::sig\+\_\+index, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::tables, v8\+::internal\+::tagged\+\_\+buffer, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::tags, tags\+\_\+wrappers\+\_\+, v8\+::internal\+::\+Property\+Descriptor\+::\+To\+Attributes(), v8\+::internal\+::\+Maybe\+Direct\+Handle$<$ T $>$\+::\+To\+Handle\+Checked(), trusted\+\_\+data(), trusted\+\_\+data\+\_\+, v8\+::internal\+::wasm\+::\+Wasm\+Global\+::type, v8\+::internal\+::\+UNREACHABLE(), V8\+\_\+\+UNLIKELY, and v8\+::internal\+::value.



Referenced by Build\+\_\+\+Phase1().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a446ff15923517ddda69049d7e6327e40_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a446ff15923517ddda69049d7e6327e40_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_af8b0f7163912ee8ba7dc6cfaec3c0138}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_af8b0f7163912ee8ba7dc6cfaec3c0138}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!ProcessImportedFunction@{ProcessImportedFunction}}
\index{ProcessImportedFunction@{ProcessImportedFunction}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{ProcessImportedFunction()}{ProcessImportedFunction()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::wasm\+::\+Instance\+Builder\+::\+Process\+Imported\+Function (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData}{Wasm\+Trusted\+Instance\+Data}} $>$}]{trusted\+\_\+instance\+\_\+data,  }\item[{\mbox{\hyperlink{classint}{int}}}]{import\+\_\+index,  }\item[{\mbox{\hyperlink{classint}{int}}}]{func\+\_\+index,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}} $>$}]{value,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_afaaaa7fd7a0bc697a4d91133566c5c6e}{Well\+Known\+Import}}}]{preknown\+\_\+import }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 2297 of file module-\/instantiate.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2300                                      \{}
\DoxyCodeLine{2301   \textcolor{comment}{// Function imports must be callable.}}
\DoxyCodeLine{2302   \textcolor{keywordflow}{if} (!IsCallable(*\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}})) \{}
\DoxyCodeLine{2303     \textcolor{keywordflow}{if} (!IsWasmSuspendingObject(*\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}})) \{}
\DoxyCodeLine{2304       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}}-\/>LinkError(\textcolor{stringliteral}{"{}\%s: function import requires a callable"{}},}
\DoxyCodeLine{2305                           \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab5cdfd1a6d96ac77038c87b059b4d04e}{ImportName}}(import\_index).c\_str());}
\DoxyCodeLine{2306       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{2307     \}}
\DoxyCodeLine{2308     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(IsCallable(Cast<WasmSuspendingObject>(*value)-\/>callable()));}
\DoxyCodeLine{2309   \}}
\DoxyCodeLine{2310   \textcolor{comment}{// Store any \{WasmExternalFunction\} callable in the instance before the call}}
\DoxyCodeLine{2311   \textcolor{comment}{// is resolved to preserve its identity. This handles exported functions as}}
\DoxyCodeLine{2312   \textcolor{comment}{// well as functions constructed via other means (e.g. WebAssembly.Function).}}
\DoxyCodeLine{2313   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1WasmExternalFunction_ac2a96212bef554982c768f1c04f72d20}{WasmExternalFunction::IsWasmExternalFunction}}(*\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}})) \{}
\DoxyCodeLine{2314     trusted\_instance\_data-\/>func\_refs()-\/>set(}
\DoxyCodeLine{2315         func\_index, Cast<WasmExternalFunction>(*value)-\/>func\_ref());}
\DoxyCodeLine{2316   \}}
\DoxyCodeLine{2317   \textcolor{keyword}{auto} callable = Cast<JSReceiver>(\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}});}
\DoxyCodeLine{2318   CanonicalTypeIndex sig\_index =}
\DoxyCodeLine{2319       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a80ed14bf76cb65cc93c6c9ba1b56f75c}{canonical\_sig\_id}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a79b743888793de4a17ae53dd93988de6}{functions}}[func\_index].sig\_index);}
\DoxyCodeLine{2320   \textcolor{keyword}{const} CanonicalSig* expected\_sig =}
\DoxyCodeLine{2321       \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a6feb413448e84daf9201bd8a2381a718}{GetTypeCanonicalizer}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_aa1f36fc3851ba2316d47223fa2b6e155}{LookupFunctionSignature}}(sig\_index);}
\DoxyCodeLine{2322   ResolvedWasmImport resolved(trusted\_instance\_data, func\_index, callable,}
\DoxyCodeLine{2323                               expected\_sig, sig\_index, preknown\_import);}
\DoxyCodeLine{2324   \textcolor{keywordflow}{if} (resolved.well\_known\_status() != \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_afaaaa7fd7a0bc697a4d91133566c5c6ea3f44b41f503cad5057b7bb55bda0c101}{WellKnownImport::kGeneric}} \&\&}
\DoxyCodeLine{2325       \mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_wasm\_inlining) \{}
\DoxyCodeLine{2326     \mbox{\hyperlink{namespacev8_1_1internal_a3430752cde9f29d73e97ceed1bce0856}{PrintF}}(\textcolor{stringliteral}{"{}[import \%d is well-\/known built-\/in \%s]\(\backslash\)n"{}}, import\_index,}
\DoxyCodeLine{2327            \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a0833a050ac22527d6a3851ee8b93316b}{WellKnownImportName}}(resolved.well\_known\_status()));}
\DoxyCodeLine{2328   \}}
\DoxyCodeLine{2329   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a6a6039aec9f6f9486a58ddc7c4f999d2}{well\_known\_imports\_}}.push\_back(resolved.well\_known\_status());}
\DoxyCodeLine{2330   \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac0c0d417be648d20ef96581e5d3bd63a}{ImportCallKind}} kind = resolved.kind();}
\DoxyCodeLine{2331   callable = resolved.callable();}
\DoxyCodeLine{2332   DirectHandle<WasmFunctionData> trusted\_function\_data =}
\DoxyCodeLine{2333       resolved.trusted\_function\_data();}
\DoxyCodeLine{2334   ImportedFunctionEntry imported\_entry(trusted\_instance\_data, func\_index);}
\DoxyCodeLine{2335   \textcolor{keywordflow}{switch} (kind) \{}
\DoxyCodeLine{2336     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac0c0d417be648d20ef96581e5d3bd63aa5411029decc6201a8ac468e9bb7fadbb}{ImportCallKind::kLinkError}}:}
\DoxyCodeLine{2337       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}}-\/>LinkError(}
\DoxyCodeLine{2338           \textcolor{stringliteral}{"{}\%s: imported function does not match the expected type"{}},}
\DoxyCodeLine{2339           \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab5cdfd1a6d96ac77038c87b059b4d04e}{ImportName}}(import\_index).c\_str());}
\DoxyCodeLine{2340       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{2341 }
\DoxyCodeLine{2342     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac0c0d417be648d20ef96581e5d3bd63aaab44f4e0361a9e4865baa6ac82b1df7d}{ImportCallKind::kWasmToWasm}}: \{}
\DoxyCodeLine{2343       \textcolor{comment}{// The imported function is a Wasm function from another instance.}}
\DoxyCodeLine{2344       \textcolor{keyword}{auto} function\_data =}
\DoxyCodeLine{2345           Cast<WasmExportedFunctionData>(trusted\_function\_data);}
\DoxyCodeLine{2346       \textcolor{comment}{// The import reference is the trusted instance data itself.}}
\DoxyCodeLine{2347       Tagged<WasmTrustedInstanceData> \mbox{\hyperlink{namespacev8_1_1internal_a4bf21ee96580042a8262a8300dca514c}{instance\_data}} =}
\DoxyCodeLine{2348           function\_data-\/>instance\_data();}
\DoxyCodeLine{2349       \mbox{\hyperlink{src_2base_2logging_8h_a1c7c9b7f14b9a33ea69cbe4578016a19}{CHECK\_GE}}(function\_data-\/>function\_index(),}
\DoxyCodeLine{2350                \mbox{\hyperlink{namespacev8_1_1internal_a4bf21ee96580042a8262a8300dca514c}{instance\_data}}-\/>module()-\/>num\_imported\_functions);}
\DoxyCodeLine{2351       WasmCodePointer imported\_target =}
\DoxyCodeLine{2352           \mbox{\hyperlink{namespacev8_1_1internal_a4bf21ee96580042a8262a8300dca514c}{instance\_data}}-\/>GetCallTarget(function\_data-\/>function\_index());}
\DoxyCodeLine{2353       imported\_entry.SetWasmToWasm(\mbox{\hyperlink{namespacev8_1_1internal_a4bf21ee96580042a8262a8300dca514c}{instance\_data}}, imported\_target, sig\_index}
\DoxyCodeLine{2354 \#\textcolor{keywordflow}{if} V8\_ENABLE\_DRUMBRAKE}
\DoxyCodeLine{2355                                    ,}
\DoxyCodeLine{2356                                    function\_data-\/>function\_index()}
\DoxyCodeLine{2357 \#endif  \textcolor{comment}{// V8\_ENABLE\_DRUMBRAKE}}
\DoxyCodeLine{2358       );}
\DoxyCodeLine{2359       \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{2360     \}}
\DoxyCodeLine{2361 }
\DoxyCodeLine{2362     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac0c0d417be648d20ef96581e5d3bd63aa7467c277d2efacf697386cbed4f64dc0}{ImportCallKind::kWasmToJSFastApi}}: \{}
\DoxyCodeLine{2363       \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(IsJSFunction(*callable) || IsJSBoundFunction(*callable));}
\DoxyCodeLine{2364 }
\DoxyCodeLine{2365       std::shared\_ptr<wasm::WasmImportWrapperHandle> wrapper\_handle =}
\DoxyCodeLine{2366           \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a36345041662f17bb39d27709c1cb78ac}{GetWasmImportWrapperCache}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmImportWrapperCache_a1c4fb3cb86d2f62a94121b926f20cfe9}{CompileWasmJsFastCallWrapper}}(}
\DoxyCodeLine{2367               \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, callable, expected\_sig);}
\DoxyCodeLine{2368 }
\DoxyCodeLine{2369       imported\_entry.SetWasmToWrapper(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, callable,}
\DoxyCodeLine{2370                                       std::move(wrapper\_handle), \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a6eef6d24980961199f34fb770039843aac51012268661bd5ae03450b2207e5d83}{kNoSuspend}},}
\DoxyCodeLine{2371                                       expected\_sig, sig\_index);}
\DoxyCodeLine{2372       \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{2373     \}}
\DoxyCodeLine{2374     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac0c0d417be648d20ef96581e5d3bd63aab810d863342c9190448e06c0239b3376}{ImportCallKind::kRuntimeTypeError}}:}
\DoxyCodeLine{2375     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac0c0d417be648d20ef96581e5d3bd63aa2c181723941144749e409c197a8d87d1}{ImportCallKind::kJSFunction}}:}
\DoxyCodeLine{2376     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac0c0d417be648d20ef96581e5d3bd63aa5427d5490900477a371648688dfbb95b}{ImportCallKind::kUseCallBuiltin}}:}
\DoxyCodeLine{2377     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac0c0d417be648d20ef96581e5d3bd63aa7f5686cf8a9e0b7053c4d28dde68020f}{ImportCallKind::kWasmToCapi}}:}
\DoxyCodeLine{2378       \textcolor{comment}{// These cases are handled below.}}
\DoxyCodeLine{2379       \textcolor{keywordflow}{break};}
\DoxyCodeLine{2380   \}}
\DoxyCodeLine{2381 }
\DoxyCodeLine{2382   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.wasm\_jitless) \{}
\DoxyCodeLine{2383     imported\_entry.SetWasmToWrapper(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, callable, \{\}, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a6eef6d24980961199f34fb770039843aac51012268661bd5ae03450b2207e5d83}{kNoSuspend}},}
\DoxyCodeLine{2384                                     expected\_sig, sig\_index);}
\DoxyCodeLine{2385     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{2386   \}}
\DoxyCodeLine{2387 }
\DoxyCodeLine{2388   \textcolor{keywordtype}{int} expected\_arity = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(expected\_sig-\/>parameter\_count());}
\DoxyCodeLine{2389   \textcolor{keywordflow}{if} (kind == \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac0c0d417be648d20ef96581e5d3bd63aa2c181723941144749e409c197a8d87d1}{ImportCallKind::kJSFunction}}) \{}
\DoxyCodeLine{2390     \textcolor{keyword}{auto} \textcolor{keyword}{function} = Cast<JSFunction>(callable);}
\DoxyCodeLine{2391     Tagged<SharedFunctionInfo> shared = \textcolor{keyword}{function}-\/>shared();}
\DoxyCodeLine{2392     expected\_arity = shared-\/>internal\_formal\_parameter\_count\_without\_receiver();}
\DoxyCodeLine{2393   \}}
\DoxyCodeLine{2394 }
\DoxyCodeLine{2395   WasmImportWrapperCache* cache = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a36345041662f17bb39d27709c1cb78ac}{GetWasmImportWrapperCache}}();}
\DoxyCodeLine{2396   std::shared\_ptr<wasm::WasmImportWrapperHandle> wrapper\_handle =}
\DoxyCodeLine{2397       cache-\/>Get(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, kind, sig\_index, expected\_arity, resolved.suspend(),}
\DoxyCodeLine{2398                  expected\_sig);}
\DoxyCodeLine{2399 }
\DoxyCodeLine{2400   imported\_entry.SetWasmToWrapper(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, callable, std::move(wrapper\_handle),}
\DoxyCodeLine{2401                                   resolved.suspend(), expected\_sig, sig\_index);}
\DoxyCodeLine{2402 }
\DoxyCodeLine{2403   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{2404 \}}

\end{DoxyCode}


References v8\+::internal\+::wasm\+::\+Resolved\+Wasm\+Import\+::callable(), v8\+::internal\+::wasm\+::\+Wasm\+Module\+::canonical\+\_\+sig\+\_\+id(), CHECK\+\_\+\+GE, v8\+::internal\+::wasm\+::\+Wasm\+Import\+Wrapper\+Cache\+::\+Compile\+Wasm\+Js\+Fast\+Call\+Wrapper(), v8\+::internal\+::\+DCHECK(), v8\+::internal\+::wasm\+::\+Wasm\+Module\+::functions, v8\+::internal\+::wasm\+::\+Wasm\+Import\+Wrapper\+Cache\+::\+Get(), v8\+::internal\+::wasm\+::\+Get\+Type\+Canonicalizer(), v8\+::internal\+::wasm\+::\+Get\+Wasm\+Import\+Wrapper\+Cache(), Import\+Name(), v8\+::internal\+::instance\+\_\+data, isolate\+\_\+, v8\+::internal\+::\+Wasm\+External\+Function\+::\+Is\+Wasm\+External\+Function(), v8\+::internal\+::wasm\+::k\+Generic, v8\+::internal\+::wasm\+::\+Resolved\+Wasm\+Import\+::kind(), v8\+::internal\+::wasm\+::k\+JSFunction, v8\+::internal\+::wasm\+::k\+Link\+Error, v8\+::internal\+::wasm\+::k\+No\+Suspend, v8\+::internal\+::wasm\+::k\+Runtime\+Type\+Error, v8\+::internal\+::wasm\+::k\+Use\+Call\+Builtin, v8\+::internal\+::wasm\+::k\+Wasm\+To\+Capi, v8\+::internal\+::wasm\+::k\+Wasm\+To\+JSFast\+Api, v8\+::internal\+::wasm\+::k\+Wasm\+To\+Wasm, v8\+::internal\+::wasm\+::\+Type\+Canonicalizer\+::\+Lookup\+Function\+Signature(), module\+\_\+, v8\+::internal\+::\+Signature$<$ T $>$\+::parameter\+\_\+count(), v8\+::internal\+::\+Print\+F(), v8\+::internal\+::\+Imported\+Function\+Entry\+::\+Set\+Wasm\+To\+Wasm(), v8\+::internal\+::\+Imported\+Function\+Entry\+::\+Set\+Wasm\+To\+Wrapper(), v8\+::internal\+::wasm\+::\+Resolved\+Wasm\+Import\+::suspend(), thrower\+\_\+, v8\+::internal\+::wasm\+::\+Resolved\+Wasm\+Import\+::trusted\+\_\+function\+\_\+data(), v8\+::internal\+::v8\+\_\+flags, v8\+::internal\+::value, well\+\_\+known\+\_\+imports\+\_\+, v8\+::internal\+::wasm\+::\+Resolved\+Wasm\+Import\+::well\+\_\+known\+\_\+status(), and v8\+::internal\+::wasm\+::\+Well\+Known\+Import\+Name().



Referenced by Process\+Imports().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_af8b0f7163912ee8ba7dc6cfaec3c0138_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_af8b0f7163912ee8ba7dc6cfaec3c0138_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab312bd78f66545c510a7670c7da5e2ab}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab312bd78f66545c510a7670c7da5e2ab}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!ProcessImportedGlobal@{ProcessImportedGlobal}}
\index{ProcessImportedGlobal@{ProcessImportedGlobal}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{ProcessImportedGlobal()}{ProcessImportedGlobal()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::wasm\+::\+Instance\+Builder\+::\+Process\+Imported\+Global (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData}{Wasm\+Trusted\+Instance\+Data}} $>$}]{trusted\+\_\+instance\+\_\+data,  }\item[{\mbox{\hyperlink{classint}{int}}}]{import\+\_\+index,  }\item[{\mbox{\hyperlink{classint}{int}}}]{global\+\_\+index,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}} $>$}]{value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 2586 of file module-\/instantiate.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2588                                                                     \{}
\DoxyCodeLine{2589   \textcolor{comment}{// Immutable global imports are converted to numbers and written into}}
\DoxyCodeLine{2590   \textcolor{comment}{// the \{untagged\_globals\_\} array buffer.}}
\DoxyCodeLine{2591   \textcolor{comment}{//}}
\DoxyCodeLine{2592   \textcolor{comment}{// Mutable global imports instead have their backing array buffers}}
\DoxyCodeLine{2593   \textcolor{comment}{// referenced by this instance, and store the address of the imported}}
\DoxyCodeLine{2594   \textcolor{comment}{// global in the \{imported\_mutable\_globals\_\} array.}}
\DoxyCodeLine{2595   \textcolor{keyword}{const} WasmGlobal\& global = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_ac6101242a2a805d0e982fff4ddcc4677}{globals}}[global\_index];}
\DoxyCodeLine{2596 }
\DoxyCodeLine{2597   \textcolor{comment}{// SIMD proposal allows modules to define an imported v128 global, and only}}
\DoxyCodeLine{2598   \textcolor{comment}{// supports importing a WebAssembly.Global object for this global, but also}}
\DoxyCodeLine{2599   \textcolor{comment}{// defines constructing a WebAssembly.Global of v128 to be a TypeError.}}
\DoxyCodeLine{2600   \textcolor{comment}{// We *should* never hit this case in the JS API, but the module should should}}
\DoxyCodeLine{2601   \textcolor{comment}{// be allowed to declare such a global (no validation error).}}
\DoxyCodeLine{2602   \textcolor{keywordflow}{if} (global.type == \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_adef3c09b05397b61ad793d7c0bdf9e3b}{kWasmS128}} \&\& !IsWasmGlobalObject(*\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}})) \{}
\DoxyCodeLine{2603     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}}-\/>LinkError(}
\DoxyCodeLine{2604         \textcolor{stringliteral}{"{}\%s: global import of type v128 must be a WebAssembly.Global"{}},}
\DoxyCodeLine{2605         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab5cdfd1a6d96ac77038c87b059b4d04e}{ImportName}}(import\_index).c\_str());}
\DoxyCodeLine{2606     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{2607   \}}
\DoxyCodeLine{2608 }
\DoxyCodeLine{2609   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a70bbfcab50b20ba5da8696e0373a8af4}{is\_asmjs\_module}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}})) \{}
\DoxyCodeLine{2610     \textcolor{comment}{// Accepting \{JSFunction\} on top of just primitive values here is a}}
\DoxyCodeLine{2611     \textcolor{comment}{// workaround to support legacy asm.js code with broken binding. Note}}
\DoxyCodeLine{2612     \textcolor{comment}{// that using \{NaN\} (or Smi::zero()) here is what using the observable}}
\DoxyCodeLine{2613     \textcolor{comment}{// conversion via \{ToPrimitive\} would produce as well. \{LookupImportAsm\}}}
\DoxyCodeLine{2614     \textcolor{comment}{// checked via \{HasDefaultToNumberBehaviour\} that "{}valueOf"{} or friends have}}
\DoxyCodeLine{2615     \textcolor{comment}{// not been patched.}}
\DoxyCodeLine{2616     \textcolor{keywordflow}{if} (IsJSFunction(*\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}})) \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a7e2962359009581ba84e6a361f574f61}{factory}}()-\/>nan\_value();}
\DoxyCodeLine{2617     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_a830fefc08d85fcd8c36395b69be21dab}{IsPrimitive}}(*\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}})) \{}
\DoxyCodeLine{2618       MaybeDirectHandle<Object> converted =}
\DoxyCodeLine{2619           global.type == \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a7b893808fadaa287f225d7209d2d36c6}{kWasmI32}} ? \mbox{\hyperlink{classv8_1_1internal_1_1Object_abb8ae5050fd6ec31a2d4cf24e24a39bd}{Object::ToInt32}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}})}
\DoxyCodeLine{2620                                   : \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_ae40ecf79ba420ba01bc347350bd6176f}{Object}}::\mbox{\hyperlink{namespacev8_1_1internal_a5a857fe236959ea037b3dd560a3414f0}{ToNumber}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}});}
\DoxyCodeLine{2621       \textcolor{keywordflow}{if} (!converted.ToHandle(\&\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}})) \{}
\DoxyCodeLine{2622         \textcolor{comment}{// Conversion is known to fail for Symbols and BigInts.}}
\DoxyCodeLine{2623         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}}-\/>LinkError(\textcolor{stringliteral}{"{}\%s: global import must be a number"{}},}
\DoxyCodeLine{2624                             \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab5cdfd1a6d96ac77038c87b059b4d04e}{ImportName}}(import\_index).c\_str());}
\DoxyCodeLine{2625         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{2626       \}}
\DoxyCodeLine{2627     \}}
\DoxyCodeLine{2628   \}}
\DoxyCodeLine{2629 }
\DoxyCodeLine{2630   \textcolor{keywordflow}{if} (IsWasmGlobalObject(*\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}})) \{}
\DoxyCodeLine{2631     \textcolor{keyword}{auto} global\_object = Cast<WasmGlobalObject>(\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}});}
\DoxyCodeLine{2632     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a90f3564ad83fe14d055f99d3d9fff166}{ProcessImportedWasmGlobalObject}}(trusted\_instance\_data, import\_index,}
\DoxyCodeLine{2633                                            global, global\_object);}
\DoxyCodeLine{2634   \}}
\DoxyCodeLine{2635 }
\DoxyCodeLine{2636   \textcolor{keywordflow}{if} (global.mutability) \{}
\DoxyCodeLine{2637     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}}-\/>LinkError(}
\DoxyCodeLine{2638         \textcolor{stringliteral}{"{}\%s: imported mutable global must be a WebAssembly.Global object"{}},}
\DoxyCodeLine{2639         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab5cdfd1a6d96ac77038c87b059b4d04e}{ImportName}}(import\_index).c\_str());}
\DoxyCodeLine{2640     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{2641   \}}
\DoxyCodeLine{2642 }
\DoxyCodeLine{2643   \textcolor{keywordflow}{if} (global.type.is\_reference()) \{}
\DoxyCodeLine{2644     \textcolor{keyword}{const} \textcolor{keywordtype}{char}* error\_message;}
\DoxyCodeLine{2645     DirectHandle<Object> wasm\_value;}
\DoxyCodeLine{2646     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a3e2697d50763bb9f401d4c992e24a074}{wasm::JSToWasmObject}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}, \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}, global.type,}
\DoxyCodeLine{2647                               \&error\_message)}
\DoxyCodeLine{2648              .ToHandle(\&wasm\_value)) \{}
\DoxyCodeLine{2649       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}}-\/>LinkError(\textcolor{stringliteral}{"{}\%s: \%s"{}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab5cdfd1a6d96ac77038c87b059b4d04e}{ImportName}}(import\_index).c\_str(),}
\DoxyCodeLine{2650                           error\_message);}
\DoxyCodeLine{2651       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{2652     \}}
\DoxyCodeLine{2653     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_af5259253e5d559a5833c16076db2900c}{WriteGlobalValue}}(}
\DoxyCodeLine{2654         global, WasmValue(wasm\_value, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a72d5b3903dd429c932220d3adee950a8}{canonical\_type}}(global.type)));}
\DoxyCodeLine{2655     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{2656   \}}
\DoxyCodeLine{2657 }
\DoxyCodeLine{2658   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_a33a2826557a82e4cd9775aadf0f5711e}{IsNumber}}(*\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}) \&\& global.type != \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_aee8b7f805fa662ae4ed159f8072bea5f}{kWasmI64}}) \{}
\DoxyCodeLine{2659     \textcolor{keywordtype}{double} number\_value = \mbox{\hyperlink{classv8_1_1internal_1_1Object_a8a6c6d9b71bb8f6bd6004b8f6f48c9f7}{Object::NumberValue}}(*\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}});}
\DoxyCodeLine{2660     \textcolor{comment}{// The Wasm-\/BigInt proposal currently says that i64 globals may}}
\DoxyCodeLine{2661     \textcolor{comment}{// only be initialized with BigInts. See:}}
\DoxyCodeLine{2662     \textcolor{comment}{// https://github.com/WebAssembly/JS-\/BigInt-\/integration/issues/12}}
\DoxyCodeLine{2663     WasmValue wasm\_value =}
\DoxyCodeLine{2664         global.type == \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a7b893808fadaa287f225d7209d2d36c6}{kWasmI32}}   ? WasmValue(\mbox{\hyperlink{namespacev8_1_1internal_a9b26b3ec2dde9a3e6dfab35040d87002}{DoubleToInt32}}(number\_value))}
\DoxyCodeLine{2665         : global.\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}} == \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a6263a62b579bcdb32ae1acafc9ddf653}{kWasmF32}} ? WasmValue(\mbox{\hyperlink{namespacev8_1_1internal_ab0d0492df59957ad450290724710e09f}{DoubleToFloat32}}(number\_value))}
\DoxyCodeLine{2666                                   : WasmValue(number\_value);}
\DoxyCodeLine{2667     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_af5259253e5d559a5833c16076db2900c}{WriteGlobalValue}}(global, wasm\_value);}
\DoxyCodeLine{2668     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{2669   \}}
\DoxyCodeLine{2670 }
\DoxyCodeLine{2671   \textcolor{keywordflow}{if} (global.type == \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_aee8b7f805fa662ae4ed159f8072bea5f}{kWasmI64}} \&\& IsBigInt(*\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}})) \{}
\DoxyCodeLine{2672     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_af5259253e5d559a5833c16076db2900c}{WriteGlobalValue}}(global, WasmValue(Cast<BigInt>(*value)-\/>AsInt64()));}
\DoxyCodeLine{2673     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{2674   \}}
\DoxyCodeLine{2675 }
\DoxyCodeLine{2676   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}}-\/>LinkError(}
\DoxyCodeLine{2677       \textcolor{stringliteral}{"{}\%s: global import must be a number, valid Wasm reference, or "{}}}
\DoxyCodeLine{2678       \textcolor{stringliteral}{"{}WebAssembly.Global object"{}},}
\DoxyCodeLine{2679       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab5cdfd1a6d96ac77038c87b059b4d04e}{ImportName}}(import\_index).c\_str());}
\DoxyCodeLine{2680   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{2681 \}}

\end{DoxyCode}


References v8\+::internal\+::wasm\+::\+Wasm\+Module\+::canonical\+\_\+type(), v8\+::internal\+::\+Double\+To\+Float32(), v8\+::internal\+::\+Double\+To\+Int32(), v8\+::internal\+::\+Isolate\+::factory(), v8\+::internal\+::wasm\+::\+Wasm\+Module\+::globals, Import\+Name(), v8\+::internal\+::wasm\+::is\+\_\+asmjs\+\_\+module(), v8\+::internal\+::wasm\+::\+Value\+Type\+Base\+::is\+\_\+reference(), v8\+::internal\+::\+Is\+Number(), isolate\+\_\+, v8\+::internal\+::\+Is\+Primitive(), v8\+::internal\+::wasm\+::\+JSTo\+Wasm\+Object(), v8\+::internal\+::wasm\+::k\+Wasm\+F32, v8\+::internal\+::wasm\+::k\+Wasm\+I32, v8\+::internal\+::wasm\+::k\+Wasm\+I64, v8\+::internal\+::wasm\+::k\+Wasm\+S128, module\+\_\+, v8\+::internal\+::wasm\+::\+Wasm\+Global\+::mutability, v8\+::internal\+::\+Object\+::\+Number\+Value(), Process\+Imported\+Wasm\+Global\+Object(), thrower\+\_\+, v8\+::internal\+::\+Maybe\+Direct\+Handle$<$ T $>$\+::\+To\+Handle(), v8\+::internal\+::\+Object\+::\+To\+Int32(), v8\+::\+Value\+::\+To\+Number(), v8\+::internal\+::wasm\+::\+Wasm\+Global\+::type, v8\+::internal\+::value, and Write\+Global\+Value().



Referenced by Process\+Imports().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab312bd78f66545c510a7670c7da5e2ab_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab312bd78f66545c510a7670c7da5e2ab_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a0c16bece87407beee6140ee5535bec4d}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a0c16bece87407beee6140ee5535bec4d}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!ProcessImportedMemories@{ProcessImportedMemories}}
\index{ProcessImportedMemories@{ProcessImportedMemories}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{ProcessImportedMemories()}{ProcessImportedMemories()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::wasm\+::\+Instance\+Builder\+::\+Process\+Imported\+Memories (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1FixedArray}{Fixed\+Array}} $>$}]{imported\+\_\+memory\+\_\+objects }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 2770 of file module-\/instantiate.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2771                                                       \{}
\DoxyCodeLine{2772   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a4f710e1d1dd945669cbebae2b51835e5}{import\_table}}.size(), \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a5dadf45ab32816f8ffdb69a10544a956}{sanitized\_imports\_}}.size());}
\DoxyCodeLine{2773 }
\DoxyCodeLine{2774   \textcolor{keywordtype}{int} num\_imports = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a4f710e1d1dd945669cbebae2b51835e5}{import\_table}}.size());}
\DoxyCodeLine{2775   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} import\_index = 0; import\_index < num\_imports; ++import\_index) \{}
\DoxyCodeLine{2776     \textcolor{keyword}{const} WasmImport\& \textcolor{keyword}{import} = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a4f710e1d1dd945669cbebae2b51835e5}{import\_table}}[import\_index];}
\DoxyCodeLine{2777 }
\DoxyCodeLine{2778     \textcolor{keywordflow}{if} (\textcolor{keyword}{import}.kind != \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb10c8534fdb3edc15e3f45d7ee6d547a9e82a6c120c240d5819852ec01c3bf9b}{kExternalMemory}}) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{2779 }
\DoxyCodeLine{2780     DirectHandle<Object> \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a5dadf45ab32816f8ffdb69a10544a956}{sanitized\_imports\_}}[import\_index];}
\DoxyCodeLine{2781 }
\DoxyCodeLine{2782     \textcolor{keywordflow}{if} (!IsWasmMemoryObject(*\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}})) \{}
\DoxyCodeLine{2783       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}}-\/>LinkError(}
\DoxyCodeLine{2784           \textcolor{stringliteral}{"{}\%s: memory import must be a WebAssembly.Memory object"{}},}
\DoxyCodeLine{2785           \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab5cdfd1a6d96ac77038c87b059b4d04e}{ImportName}}(import\_index).c\_str());}
\DoxyCodeLine{2786       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{2787     \}}
\DoxyCodeLine{2788     uint32\_t memory\_index = \textcolor{keyword}{import}.index;}
\DoxyCodeLine{2789     \textcolor{keyword}{auto} memory\_object = Cast<WasmMemoryObject>(\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}});}
\DoxyCodeLine{2790 }
\DoxyCodeLine{2791     DirectHandle<JSArrayBuffer> buffer\{memory\_object-\/>array\_buffer(), \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}\};}
\DoxyCodeLine{2792     uint32\_t imported\_cur\_pages =}
\DoxyCodeLine{2793         \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(buffer-\/>GetByteLength() / \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac29e28cd9a3b18c7e07a3406d5d6ff1a}{kWasmPageSize}});}
\DoxyCodeLine{2794     \textcolor{keyword}{const} WasmMemory* memory = \&\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a2db4294c50e9d81d12819ce61ababaec}{memories}}[memory\_index];}
\DoxyCodeLine{2795     \textcolor{keywordflow}{if} (memory-\/>address\_type != memory\_object-\/>address\_type()) \{}
\DoxyCodeLine{2796       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}}-\/>LinkError(\textcolor{stringliteral}{"{}cannot import \%s memory as \%s"{}},}
\DoxyCodeLine{2797                           \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ab60ca1fd58b248403fac730c9eaac2f3}{AddressTypeToStr}}(memory\_object-\/>address\_type()),}
\DoxyCodeLine{2798                           \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ab60ca1fd58b248403fac730c9eaac2f3}{AddressTypeToStr}}(memory-\/>address\_type));}
\DoxyCodeLine{2799       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{2800     \}}
\DoxyCodeLine{2801     \textcolor{keywordflow}{if} (imported\_cur\_pages < memory-\/>initial\_pages) \{}
\DoxyCodeLine{2802       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}}-\/>LinkError(}
\DoxyCodeLine{2803           \textcolor{stringliteral}{"{}\%s: memory import has \%u pages which is smaller than the declared "{}}}
\DoxyCodeLine{2804           \textcolor{stringliteral}{"{}initial of \%u"{}},}
\DoxyCodeLine{2805           \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab5cdfd1a6d96ac77038c87b059b4d04e}{ImportName}}(import\_index).c\_str(), imported\_cur\_pages,}
\DoxyCodeLine{2806           memory-\/>initial\_pages);}
\DoxyCodeLine{2807       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{2808     \}}
\DoxyCodeLine{2809     \mbox{\hyperlink{namespaceunibrow_ab0275d47f9778d486eafe88b18c5851d}{int32\_t}} imported\_maximum\_pages = memory\_object-\/>maximum\_pages();}
\DoxyCodeLine{2810     \textcolor{keywordflow}{if} (memory-\/>has\_maximum\_pages) \{}
\DoxyCodeLine{2811       \textcolor{keywordflow}{if} (imported\_maximum\_pages < 0) \{}
\DoxyCodeLine{2812         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}}-\/>LinkError(}
\DoxyCodeLine{2813             \textcolor{stringliteral}{"{}\%s: memory import has no maximum limit, expected at most \%u"{}},}
\DoxyCodeLine{2814             \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab5cdfd1a6d96ac77038c87b059b4d04e}{ImportName}}(import\_index).c\_str(), imported\_maximum\_pages);}
\DoxyCodeLine{2815         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{2816       \}}
\DoxyCodeLine{2817       \textcolor{keywordflow}{if} (\textcolor{keyword}{static\_cast<}uint64\_t\textcolor{keyword}{>}(imported\_maximum\_pages) >}
\DoxyCodeLine{2818           memory-\/>maximum\_pages) \{}
\DoxyCodeLine{2819         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}}-\/>LinkError(}
\DoxyCodeLine{2820             \textcolor{stringliteral}{"{}\%s: memory import has a larger maximum size \%u than the "{}}}
\DoxyCodeLine{2821             \textcolor{stringliteral}{"{}module's declared maximum \%"{}} PRIu64,}
\DoxyCodeLine{2822             \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab5cdfd1a6d96ac77038c87b059b4d04e}{ImportName}}(import\_index).c\_str(), imported\_maximum\_pages,}
\DoxyCodeLine{2823             memory-\/>maximum\_pages);}
\DoxyCodeLine{2824         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{2825       \}}
\DoxyCodeLine{2826     \}}
\DoxyCodeLine{2827     \textcolor{keywordflow}{if} (memory-\/>is\_shared != buffer-\/>is\_shared()) \{}
\DoxyCodeLine{2828       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}}-\/>LinkError(}
\DoxyCodeLine{2829           \textcolor{stringliteral}{"{}\%s: mismatch in shared state of memory, declared = \%d, imported = "{}}}
\DoxyCodeLine{2830           \textcolor{stringliteral}{"{}\%d"{}},}
\DoxyCodeLine{2831           \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab5cdfd1a6d96ac77038c87b059b4d04e}{ImportName}}(import\_index).c\_str(), memory-\/>is\_shared,}
\DoxyCodeLine{2832           buffer-\/>is\_shared());}
\DoxyCodeLine{2833       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{2834     \}}
\DoxyCodeLine{2835 }
\DoxyCodeLine{2836     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(ReadOnlyRoots\{\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}\}.undefined\_value(),}
\DoxyCodeLine{2837               imported\_memory\_objects-\/>get(memory\_index));}
\DoxyCodeLine{2838     imported\_memory\_objects-\/>set(memory\_index, *memory\_object);}
\DoxyCodeLine{2839   \}}
\DoxyCodeLine{2840   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{2841 \}}

\end{DoxyCode}


References v8\+::internal\+::wasm\+::\+Wasm\+Memory\+::address\+\_\+type, v8\+::internal\+::wasm\+::\+Address\+Type\+To\+Str(), DCHECK\+\_\+\+EQ, v8\+::internal\+::wasm\+::\+Wasm\+Memory\+::has\+\_\+maximum\+\_\+pages, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::import\+\_\+table, Import\+Name(), v8\+::internal\+::wasm\+::\+Wasm\+Memory\+::initial\+\_\+pages, v8\+::internal\+::wasm\+::\+Wasm\+Memory\+::is\+\_\+shared, isolate\+\_\+, v8\+::internal\+::wasm\+::k\+External\+Memory, v8\+::internal\+::wasm\+::k\+Wasm\+Page\+Size, v8\+::internal\+::wasm\+::\+Wasm\+Memory\+::maximum\+\_\+pages, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::memories, module\+\_\+, sanitized\+\_\+imports\+\_\+, thrower\+\_\+, and v8\+::internal\+::value.



Referenced by Build\+\_\+\+Phase1().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a0c16bece87407beee6140ee5535bec4d_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a0c16bece87407beee6140ee5535bec4d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99b1a438d60e812d57059be2103951cc}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99b1a438d60e812d57059be2103951cc}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!ProcessImportedTable@{ProcessImportedTable}}
\index{ProcessImportedTable@{ProcessImportedTable}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{ProcessImportedTable()}{ProcessImportedTable()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::wasm\+::\+Instance\+Builder\+::\+Process\+Imported\+Table (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData}{Wasm\+Trusted\+Instance\+Data}} $>$}]{trusted\+\_\+instance\+\_\+data,  }\item[{\mbox{\hyperlink{classint}{int}}}]{import\+\_\+index,  }\item[{\mbox{\hyperlink{classint}{int}}}]{table\+\_\+index,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}} $>$}]{value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 2406 of file module-\/instantiate.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2408                                                                    \{}
\DoxyCodeLine{2409   \textcolor{keywordflow}{if} (!IsWasmTableObject(*\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}})) \{}
\DoxyCodeLine{2410     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}}-\/>LinkError(\textcolor{stringliteral}{"{}\%s: table import requires a WebAssembly.Table"{}},}
\DoxyCodeLine{2411                         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab5cdfd1a6d96ac77038c87b059b4d04e}{ImportName}}(import\_index).c\_str());}
\DoxyCodeLine{2412     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{2413   \}}
\DoxyCodeLine{2414   \textcolor{keyword}{const} WasmTable\& table = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_af40a46c2d14efc9c68b499d7a459d9b0}{tables}}[table\_index];}
\DoxyCodeLine{2415 }
\DoxyCodeLine{2416   DirectHandle<WasmTableObject> table\_object = Cast<WasmTableObject>(\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}});}
\DoxyCodeLine{2417 }
\DoxyCodeLine{2418   uint32\_t imported\_table\_size =}
\DoxyCodeLine{2419       \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(table\_object-\/>current\_length());}
\DoxyCodeLine{2420   \textcolor{keywordflow}{if} (imported\_table\_size < table.initial\_size) \{}
\DoxyCodeLine{2421     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}}-\/>LinkError(\textcolor{stringliteral}{"{}table import \%d is smaller than initial \%u, got \%u"{}},}
\DoxyCodeLine{2422                         import\_index, table.initial\_size, imported\_table\_size);}
\DoxyCodeLine{2423     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{2424   \}}
\DoxyCodeLine{2425 }
\DoxyCodeLine{2426   \textcolor{keywordflow}{if} (table.has\_maximum\_size) \{}
\DoxyCodeLine{2427     std::optional<uint64\_t> max\_size = table\_object-\/>maximum\_length\_u64();}
\DoxyCodeLine{2428     \textcolor{keywordflow}{if} (!max\_size) \{}
\DoxyCodeLine{2429       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}}-\/>LinkError(}
\DoxyCodeLine{2430           \textcolor{stringliteral}{"{}table import \%d has no maximum length; required: \%"{}} PRIu64,}
\DoxyCodeLine{2431           import\_index, table.maximum\_size);}
\DoxyCodeLine{2432       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{2433     \}}
\DoxyCodeLine{2434     \textcolor{keywordflow}{if} (*max\_size > table.maximum\_size) \{}
\DoxyCodeLine{2435       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}}-\/>LinkError(\textcolor{stringliteral}{"{}table import \%d has a larger maximum size \%"{}} PRIx64}
\DoxyCodeLine{2436                           \textcolor{stringliteral}{"{} than the module's declared maximum \%"{}} PRIu64,}
\DoxyCodeLine{2437                           import\_index, *max\_size, table.maximum\_size);}
\DoxyCodeLine{2438       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{2439     \}}
\DoxyCodeLine{2440   \}}
\DoxyCodeLine{2441 }
\DoxyCodeLine{2442   \textcolor{keywordflow}{if} (table.address\_type != table\_object-\/>address\_type()) \{}
\DoxyCodeLine{2443     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}}-\/>LinkError(\textcolor{stringliteral}{"{}cannot import \%s table as \%s"{}},}
\DoxyCodeLine{2444                         \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ab60ca1fd58b248403fac730c9eaac2f3}{AddressTypeToStr}}(table\_object-\/>address\_type()),}
\DoxyCodeLine{2445                         \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ab60ca1fd58b248403fac730c9eaac2f3}{AddressTypeToStr}}(table.address\_type));}
\DoxyCodeLine{2446     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{2447   \}}
\DoxyCodeLine{2448 }
\DoxyCodeLine{2449   \textcolor{keyword}{const} \mbox{\hyperlink{namespacev8_1_1internal_a09dbf9baefb793fd78912d6ef89f9dde}{WasmModule}}* table\_type\_module =}
\DoxyCodeLine{2450       table\_object-\/>has\_trusted\_data()}
\DoxyCodeLine{2451           ? table\_object-\/>trusted\_data(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}})-\/>module()}
\DoxyCodeLine{2452           : \textcolor{keyword}{nullptr};}
\DoxyCodeLine{2453   \textcolor{comment}{// The security-\/relevant aspect of this DCHECK is covered by the SBXCHECK\_EQ}}
\DoxyCodeLine{2454   \textcolor{comment}{// below.}}
\DoxyCodeLine{2455   \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(table\_object-\/>unsafe\_type().has\_index(),}
\DoxyCodeLine{2456                  table\_type\_module != \textcolor{keyword}{nullptr});}
\DoxyCodeLine{2457 }
\DoxyCodeLine{2458   \textcolor{comment}{// We need to check type equivalence (rather than subtyping) because tables}}
\DoxyCodeLine{2459   \textcolor{comment}{// are mutable: we cannot allow the importing module to write supertyped}}
\DoxyCodeLine{2460   \textcolor{comment}{// values into a subtyped table.}}
\DoxyCodeLine{2461   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_aa1157b17e6a6b751edc709751e98195d}{EquivalentTypes}}(table.type, table\_object-\/>type(table\_type\_module),}
\DoxyCodeLine{2462                        \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}, table\_type\_module)) \{}
\DoxyCodeLine{2463     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}}-\/>LinkError(\textcolor{stringliteral}{"{}\%s: imported table does not match the expected type"{}},}
\DoxyCodeLine{2464                         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab5cdfd1a6d96ac77038c87b059b4d04e}{ImportName}}(import\_index).c\_str());}
\DoxyCodeLine{2465     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{2466   \}}
\DoxyCodeLine{2467 }
\DoxyCodeLine{2468   \textcolor{comment}{// Note: \{trusted\_instance\_data\} is selected by the caller to be the}}
\DoxyCodeLine{2469   \textcolor{comment}{// shared or non-\/shared part, depending on \{table.shared\}.}}
\DoxyCodeLine{2470   trusted\_instance\_data-\/>tables()-\/>set(table\_index, *table\_object);}
\DoxyCodeLine{2471   \textcolor{keywordflow}{if} (table\_object-\/>has\_trusted\_dispatch\_table()) \{}
\DoxyCodeLine{2472     Tagged<WasmDispatchTable> dispatch\_table =}
\DoxyCodeLine{2473         table\_object-\/>trusted\_dispatch\_table(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}});}
\DoxyCodeLine{2474     \mbox{\hyperlink{check_8h_a6e67d209c0a0c9c55b7b563275f63bdd}{SBXCHECK\_EQ}}(dispatch\_table-\/>table\_type(),}
\DoxyCodeLine{2475                 \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a72d5b3903dd429c932220d3adee950a8}{canonical\_type}}(table.type));}
\DoxyCodeLine{2476     \mbox{\hyperlink{check_8h_aec752d98ed7d655aa8ced64592c346d5}{SBXCHECK\_GE}}(dispatch\_table-\/>length(), table.initial\_size);}
\DoxyCodeLine{2477     trusted\_instance\_data-\/>dispatch\_tables()-\/>set(table\_index, dispatch\_table);}
\DoxyCodeLine{2478     \textcolor{keywordflow}{if} (table\_index == 0) \{}
\DoxyCodeLine{2479       trusted\_instance\_data-\/>set\_dispatch\_table0(dispatch\_table);}
\DoxyCodeLine{2480     \}}
\DoxyCodeLine{2481   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{2482     \textcolor{comment}{// Function tables are required to have a WasmDispatchTable.}}
\DoxyCodeLine{2483     \mbox{\hyperlink{check_8h_aee78f6fbdf206be23e949191f9408e4b}{SBXCHECK}}(!\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a3c8e5205c40b2156097780fb9e7d3f7b}{IsSubtypeOf}}(table.type, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a90941f620285a912a302a3aced092560}{kWasmFuncRef}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}));}
\DoxyCodeLine{2484   \}}
\DoxyCodeLine{2485   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{2486 \}}

\end{DoxyCode}


References v8\+::internal\+::wasm\+::\+Wasm\+Table\+::address\+\_\+type, v8\+::internal\+::wasm\+::\+Address\+Type\+To\+Str(), v8\+::internal\+::wasm\+::\+Wasm\+Module\+::canonical\+\_\+type(), DCHECK\+\_\+\+IMPLIES, v8\+::internal\+::wasm\+::\+Equivalent\+Types(), v8\+::internal\+::wasm\+::\+Wasm\+Table\+::has\+\_\+maximum\+\_\+size, Import\+Name(), v8\+::internal\+::wasm\+::\+Wasm\+Table\+::initial\+\_\+size, isolate\+\_\+, v8\+::internal\+::wasm\+::\+Is\+Subtype\+Of(), v8\+::internal\+::wasm\+::k\+Wasm\+Func\+Ref, v8\+::internal\+::wasm\+::\+Wasm\+Table\+::maximum\+\_\+size, module\+\_\+, SBXCHECK, SBXCHECK\+\_\+\+EQ, SBXCHECK\+\_\+\+GE, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::tables, thrower\+\_\+, v8\+::internal\+::wasm\+::\+Wasm\+Table\+::type, and v8\+::internal\+::value.



Referenced by Process\+Imports().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99b1a438d60e812d57059be2103951cc_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99b1a438d60e812d57059be2103951cc_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a90f3564ad83fe14d055f99d3d9fff166}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a90f3564ad83fe14d055f99d3d9fff166}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!ProcessImportedWasmGlobalObject@{ProcessImportedWasmGlobalObject}}
\index{ProcessImportedWasmGlobalObject@{ProcessImportedWasmGlobalObject}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{ProcessImportedWasmGlobalObject()}{ProcessImportedWasmGlobalObject()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::wasm\+::\+Instance\+Builder\+::\+Process\+Imported\+Wasm\+Global\+Object (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData}{Wasm\+Trusted\+Instance\+Data}} $>$}]{trusted\+\_\+instance\+\_\+data,  }\item[{\mbox{\hyperlink{classint}{int}}}]{import\+\_\+index,  }\item[{const \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmGlobal}{Wasm\+Global}} \&}]{global,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmGlobalObject}{Wasm\+Global\+Object}} $>$}]{global\+\_\+object }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 2488 of file module-\/instantiate.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2491                                                   \{}
\DoxyCodeLine{2492   \textcolor{keywordflow}{if} (\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{bool}\textcolor{keyword}{>}(global\_object-\/>is\_mutable()) != global.mutability) \{}
\DoxyCodeLine{2493     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}}-\/>LinkError(}
\DoxyCodeLine{2494         \textcolor{stringliteral}{"{}\%s: imported global does not match the expected mutability"{}},}
\DoxyCodeLine{2495         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab5cdfd1a6d96ac77038c87b059b4d04e}{ImportName}}(import\_index).c\_str());}
\DoxyCodeLine{2496     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{2497   \}}
\DoxyCodeLine{2498 }
\DoxyCodeLine{2499   wasm::ValueType actual\_type = global\_object-\/>type();}
\DoxyCodeLine{2500   \textcolor{keyword}{const} \mbox{\hyperlink{namespacev8_1_1internal_a09dbf9baefb793fd78912d6ef89f9dde}{WasmModule}}* source\_module = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{2501   \textcolor{keywordflow}{if} (global\_object-\/>has\_trusted\_data()) \{}
\DoxyCodeLine{2502     source\_module = global\_object-\/>trusted\_data(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}})-\/>module();}
\DoxyCodeLine{2503     \mbox{\hyperlink{check_8h_aee78f6fbdf206be23e949191f9408e4b}{SBXCHECK}}(!actual\_type.has\_index() ||}
\DoxyCodeLine{2504              source\_module-\/>has\_type(actual\_type.ref\_index()));}
\DoxyCodeLine{2505   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{2506     \textcolor{comment}{// We don't have a module, so we wouldn't know what to do with a}}
\DoxyCodeLine{2507     \textcolor{comment}{// module-\/relative type index.}}
\DoxyCodeLine{2508     \textcolor{comment}{// Note: since we just read a type from the untrusted heap, this can't}}
\DoxyCodeLine{2509     \textcolor{comment}{// be a real security boundary; we just use SBXCHECK to make it obvious}}
\DoxyCodeLine{2510     \textcolor{comment}{// to fuzzers that crashing here due to corruption is safe.}}
\DoxyCodeLine{2511     \mbox{\hyperlink{check_8h_aee78f6fbdf206be23e949191f9408e4b}{SBXCHECK}}(!actual\_type.has\_index());}
\DoxyCodeLine{2512   \}}
\DoxyCodeLine{2513 }
\DoxyCodeLine{2514   \textcolor{keywordtype}{bool} valid\_type =}
\DoxyCodeLine{2515       global.mutability}
\DoxyCodeLine{2516           ? \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_aa1157b17e6a6b751edc709751e98195d}{EquivalentTypes}}(actual\_type, global.type, source\_module, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}})}
\DoxyCodeLine{2517           : \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a3c8e5205c40b2156097780fb9e7d3f7b}{IsSubtypeOf}}(actual\_type, global.\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}}, source\_module, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}});}
\DoxyCodeLine{2518 }
\DoxyCodeLine{2519   \textcolor{keywordflow}{if} (!valid\_type) \{}
\DoxyCodeLine{2520     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}}-\/>LinkError(\textcolor{stringliteral}{"{}\%s: imported global does not match the expected type"{}},}
\DoxyCodeLine{2521                         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab5cdfd1a6d96ac77038c87b059b4d04e}{ImportName}}(import\_index).c\_str());}
\DoxyCodeLine{2522     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{2523   \}}
\DoxyCodeLine{2524   \textcolor{keywordflow}{if} (global.mutability) \{}
\DoxyCodeLine{2525     \mbox{\hyperlink{src_2base_2logging_8h_af1a711c8d5520dff78858ddefd2ad668}{DCHECK\_LT}}(global.index, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a56f32c556f3ad6b75e11d3d0733cb2a5}{num\_imported\_mutable\_globals}});}
\DoxyCodeLine{2526     DirectHandle<Object> buffer;}
\DoxyCodeLine{2527     \textcolor{keywordflow}{if} (global.type.is\_reference()) \{}
\DoxyCodeLine{2528       static\_assert(\textcolor{keyword}{sizeof}(global\_object-\/>offset()) <= \textcolor{keyword}{sizeof}(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_adcd4ca657f5fbce4e3e61f860761470a}{Address}}),}
\DoxyCodeLine{2529                     \textcolor{stringliteral}{"{}The offset into the globals buffer does not fit into "{}}}
\DoxyCodeLine{2530                     \textcolor{stringliteral}{"{}the imported\_mutable\_globals array"{}});}
\DoxyCodeLine{2531       buffer = \mbox{\hyperlink{namespacev8_1_1internal_a73502f55102d18cb764881bc29f35c05}{direct\_handle}}(global\_object-\/>tagged\_buffer(), \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}});}
\DoxyCodeLine{2532       \textcolor{comment}{// For externref globals we use a relative offset, not an absolute}}
\DoxyCodeLine{2533       \textcolor{comment}{// address.}}
\DoxyCodeLine{2534       trusted\_instance\_data-\/>imported\_mutable\_globals()-\/>set(}
\DoxyCodeLine{2535           global.index, global\_object-\/>offset());}
\DoxyCodeLine{2536     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{2537       buffer = \mbox{\hyperlink{namespacev8_1_1internal_a73502f55102d18cb764881bc29f35c05}{direct\_handle}}(global\_object-\/>untagged\_buffer(), \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}});}
\DoxyCodeLine{2538       \textcolor{comment}{// It is safe in this case to store the raw pointer to the buffer}}
\DoxyCodeLine{2539       \textcolor{comment}{// since the backing store of the JSArrayBuffer will not be}}
\DoxyCodeLine{2540       \textcolor{comment}{// relocated.}}
\DoxyCodeLine{2541       \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_adcd4ca657f5fbce4e3e61f860761470a}{Address}} address = \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_adcd4ca657f5fbce4e3e61f860761470a}{Address}}\textcolor{keyword}{>}(}
\DoxyCodeLine{2542           \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03_a7ecac47926023e51ac33a6829d1fa13b}{raw\_buffer\_ptr}}(Cast<JSArrayBuffer>(buffer), global\_object-\/>offset()));}
\DoxyCodeLine{2543       trusted\_instance\_data-\/>imported\_mutable\_globals()-\/>set\_sandboxed\_pointer(}
\DoxyCodeLine{2544           global.index, address);}
\DoxyCodeLine{2545     \}}
\DoxyCodeLine{2546     trusted\_instance\_data-\/>imported\_mutable\_globals\_buffers()-\/>set(global.index,}
\DoxyCodeLine{2547                                                                    *buffer);}
\DoxyCodeLine{2548     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{2549   \}}
\DoxyCodeLine{2550 }
\DoxyCodeLine{2551   WasmValue \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}};}
\DoxyCodeLine{2552   \textcolor{keywordflow}{switch} (global.type.kind()) \{}
\DoxyCodeLine{2553     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_abb767b639fb9b3ebabe15c8e91e99210a0a0ecdb4eded286c722877578774a293}{kI32}}:}
\DoxyCodeLine{2554       \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} = WasmValue(global\_object-\/>GetI32());}
\DoxyCodeLine{2555       \textcolor{keywordflow}{break};}
\DoxyCodeLine{2556     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_abb767b639fb9b3ebabe15c8e91e99210a6601e7b0f7c0f03d9ffa9f222c82e6a0}{kI64}}:}
\DoxyCodeLine{2557       \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} = WasmValue(global\_object-\/>GetI64());}
\DoxyCodeLine{2558       \textcolor{keywordflow}{break};}
\DoxyCodeLine{2559     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_abb767b639fb9b3ebabe15c8e91e99210a941c992a0e3d2eb28203202730996ba2}{kF32}}:}
\DoxyCodeLine{2560       \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} = WasmValue(global\_object-\/>GetF32());}
\DoxyCodeLine{2561       \textcolor{keywordflow}{break};}
\DoxyCodeLine{2562     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_abb767b639fb9b3ebabe15c8e91e99210a5234930e162acb53b17e178221057319}{kF64}}:}
\DoxyCodeLine{2563       \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} = WasmValue(global\_object-\/>GetF64());}
\DoxyCodeLine{2564       \textcolor{keywordflow}{break};}
\DoxyCodeLine{2565     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_abb767b639fb9b3ebabe15c8e91e99210af99a6cf928bc2257d654d6301969318c}{kS128}}:}
\DoxyCodeLine{2566       \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} = WasmValue(global\_object-\/>GetS128RawBytes(), \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_adef3c09b05397b61ad793d7c0bdf9e3b}{kWasmS128}});}
\DoxyCodeLine{2567       \textcolor{keywordflow}{break};}
\DoxyCodeLine{2568     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_abb767b639fb9b3ebabe15c8e91e99210ab5b96df89f6d4b5436a728a5a4014d83}{kRef}}:}
\DoxyCodeLine{2569     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_abb767b639fb9b3ebabe15c8e91e99210aafd4fc7d3d7d9d9bc84ef9f0fd3d09c3}{kRefNull}}:}
\DoxyCodeLine{2570       \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} = WasmValue(global\_object-\/>GetRef(),}
\DoxyCodeLine{2571                         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a72d5b3903dd429c932220d3adee950a8}{canonical\_type}}(global.type));}
\DoxyCodeLine{2572       \textcolor{keywordflow}{break};}
\DoxyCodeLine{2573     \textcolor{keywordflow}{case} kVoid:}
\DoxyCodeLine{2574     \textcolor{keywordflow}{case} kTop:}
\DoxyCodeLine{2575     \textcolor{keywordflow}{case} kBottom:}
\DoxyCodeLine{2576     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_abb767b639fb9b3ebabe15c8e91e99210a6c86e764d5c427a8339c3920a3c08603}{kI8}}:}
\DoxyCodeLine{2577     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_abb767b639fb9b3ebabe15c8e91e99210a1201e21104cbb7ea3a7c362efcb325a3}{kI16}}:}
\DoxyCodeLine{2578     \textcolor{keywordflow}{case} kF16:}
\DoxyCodeLine{2579       \mbox{\hyperlink{namespacev8_1_1internal_acdec713c25068019f935e35976f5b666}{UNREACHABLE}}();}
\DoxyCodeLine{2580   \}}
\DoxyCodeLine{2581 }
\DoxyCodeLine{2582   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_af5259253e5d559a5833c16076db2900c}{WriteGlobalValue}}(global, \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}});}
\DoxyCodeLine{2583   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{2584 \}}

\end{DoxyCode}


References v8\+::internal\+::wasm\+::\+Wasm\+Module\+::canonical\+\_\+type(), DCHECK\+\_\+\+LT, v8\+::internal\+::direct\+\_\+handle(), v8\+::internal\+::wasm\+::\+Equivalent\+Types(), v8\+::internal\+::wasm\+::\+Value\+Type\+Base\+::has\+\_\+index(), v8\+::internal\+::wasm\+::\+Wasm\+Module\+::has\+\_\+type(), Import\+Name(), v8\+::internal\+::wasm\+::\+Wasm\+Global\+::index, v8\+::internal\+::wasm\+::\+Value\+Type\+Base\+::is\+\_\+reference(), isolate\+\_\+, v8\+::internal\+::wasm\+::\+Is\+Subtype\+Of(), v8\+::internal\+::k\+F32, v8\+::internal\+::k\+F64, v8\+::internal\+::k\+I16, v8\+::internal\+::k\+I32, v8\+::internal\+::k\+I64, v8\+::internal\+::k\+I8, v8\+::internal\+::wasm\+::\+Value\+Type\+Base\+::kind(), v8\+::internal\+::k\+Ref, v8\+::internal\+::k\+Ref\+Null, v8\+::internal\+::k\+S128, v8\+::internal\+::wasm\+::k\+Wasm\+S128, module\+\_\+, v8\+::internal\+::wasm\+::\+Wasm\+Global\+::mutability, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::num\+\_\+imported\+\_\+mutable\+\_\+globals, v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/instantiate.\+cc\}\+::raw\+\_\+buffer\+\_\+ptr(), v8\+::internal\+::wasm\+::\+Value\+Type\+::ref\+\_\+index(), SBXCHECK, thrower\+\_\+, v8\+::internal\+::wasm\+::\+Wasm\+Global\+::type, v8\+::internal\+::\+UNREACHABLE(), v8\+::internal\+::value, and Write\+Global\+Value().



Referenced by Process\+Imported\+Global().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a90f3564ad83fe14d055f99d3d9fff166_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a90f3564ad83fe14d055f99d3d9fff166_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a1dd661a91a2054913525990d4d6def25}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a1dd661a91a2054913525990d4d6def25}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!ProcessImports@{ProcessImports}}
\index{ProcessImports@{ProcessImports}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{ProcessImports()}{ProcessImports()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classint}{int}} v8\+::internal\+::wasm\+::\+Instance\+Builder\+::\+Process\+Imports (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 2686 of file module-\/instantiate.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2686                                     \{}
\DoxyCodeLine{2687   \textcolor{keywordtype}{int} num\_imported\_functions = 0;}
\DoxyCodeLine{2688   \textcolor{keywordtype}{int} num\_imported\_tables = 0;}
\DoxyCodeLine{2689 }
\DoxyCodeLine{2690   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a4f710e1d1dd945669cbebae2b51835e5}{import\_table}}.size(), \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a5dadf45ab32816f8ffdb69a10544a956}{sanitized\_imports\_}}.size());}
\DoxyCodeLine{2691 }
\DoxyCodeLine{2692   \textcolor{keyword}{const} WellKnownImportsList\& preknown\_imports =}
\DoxyCodeLine{2693       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_aceb39daaf893b7024baceccf7571a97d}{type\_feedback}}.\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1TypeFeedbackStorage_a2f59640a40aae70550d8eda5f0f89c5f}{well\_known\_imports}};}
\DoxyCodeLine{2694   \textcolor{keywordtype}{int} num\_imports = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a4f710e1d1dd945669cbebae2b51835e5}{import\_table}}.size());}
\DoxyCodeLine{2695   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}} = 0; \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}} < num\_imports; ++\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}) \{}
\DoxyCodeLine{2696     \textcolor{keyword}{const} WasmImport\& \textcolor{keyword}{import} = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a4f710e1d1dd945669cbebae2b51835e5}{import\_table}}[\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}];}
\DoxyCodeLine{2697 }
\DoxyCodeLine{2698     DirectHandle<Object> \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a5dadf45ab32816f8ffdb69a10544a956}{sanitized\_imports\_}}[\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}];}
\DoxyCodeLine{2699 }
\DoxyCodeLine{2700     \textcolor{keywordflow}{switch} (\textcolor{keyword}{import}.kind) \{}
\DoxyCodeLine{2701       \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb10c8534fdb3edc15e3f45d7ee6d547a841c234519f90eb88be0020af3622a4d}{kExternalFunction}}: \{}
\DoxyCodeLine{2702         uint32\_t func\_index = \textcolor{keyword}{import}.index;}
\DoxyCodeLine{2703         \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(num\_imported\_functions, func\_index);}
\DoxyCodeLine{2704         ModuleTypeIndex sig\_index = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a79b743888793de4a17ae53dd93988de6}{functions}}[func\_index].sig\_index;}
\DoxyCodeLine{2705         \textcolor{keywordtype}{bool} function\_is\_shared = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a89e37309b6619867746a4cf77adcaa2a}{type}}(sig\_index).\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1TypeDefinition_acc6533d7fffb2a411e20b62f7512038e}{is\_shared}};}
\DoxyCodeLine{2706         \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_af8b0f7163912ee8ba7dc6cfaec3c0138}{ProcessImportedFunction}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aad6f1251ab50c21c71d213e91b1bbc2e}{trusted\_data}}(function\_is\_shared), \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}},}
\DoxyCodeLine{2707                                      func\_index, \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}},}
\DoxyCodeLine{2708                                      preknown\_imports.get(func\_index))) \{}
\DoxyCodeLine{2709           \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{2710         \}}
\DoxyCodeLine{2711         num\_imported\_functions++;}
\DoxyCodeLine{2712         \textcolor{keywordflow}{break};}
\DoxyCodeLine{2713       \}}
\DoxyCodeLine{2714       \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb10c8534fdb3edc15e3f45d7ee6d547affbe8f8322be98ba205f863ef39fdad5}{kExternalTable}}: \{}
\DoxyCodeLine{2715         uint32\_t table\_index = \textcolor{keyword}{import}.index;}
\DoxyCodeLine{2716         \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(table\_index, num\_imported\_tables);}
\DoxyCodeLine{2717         \textcolor{keywordtype}{bool} table\_is\_shared = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_af40a46c2d14efc9c68b499d7a459d9b0}{tables}}[table\_index].shared;}
\DoxyCodeLine{2718         \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99b1a438d60e812d57059be2103951cc}{ProcessImportedTable}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aad6f1251ab50c21c71d213e91b1bbc2e}{trusted\_data}}(table\_is\_shared), \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}},}
\DoxyCodeLine{2719                                   table\_index, \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}})) \{}
\DoxyCodeLine{2720           \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{2721         \}}
\DoxyCodeLine{2722         num\_imported\_tables++;}
\DoxyCodeLine{2723         \mbox{\hyperlink{src_2base_2macros_8h_a280b0798f270f4b3f361c9ab64832956}{USE}}(num\_imported\_tables);}
\DoxyCodeLine{2724         \textcolor{keywordflow}{break};}
\DoxyCodeLine{2725       \}}
\DoxyCodeLine{2726       \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb10c8534fdb3edc15e3f45d7ee6d547a9e82a6c120c240d5819852ec01c3bf9b}{kExternalMemory}}:}
\DoxyCodeLine{2727         \textcolor{comment}{// Imported memories are already handled earlier via}}
\DoxyCodeLine{2728         \textcolor{comment}{// \{ProcessImportedMemories\}.}}
\DoxyCodeLine{2729         \textcolor{keywordflow}{break};}
\DoxyCodeLine{2730       \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb10c8534fdb3edc15e3f45d7ee6d547a6f3a1cfcc3386739303f7d10b0075ac5}{kExternalGlobal}}: \{}
\DoxyCodeLine{2731         \textcolor{keywordtype}{bool} global\_is\_shared = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_ac6101242a2a805d0e982fff4ddcc4677}{globals}}[\textcolor{keyword}{import}.index].shared;}
\DoxyCodeLine{2732         \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab312bd78f66545c510a7670c7da5e2ab}{ProcessImportedGlobal}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aad6f1251ab50c21c71d213e91b1bbc2e}{trusted\_data}}(global\_is\_shared), \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}},}
\DoxyCodeLine{2733                                    \textcolor{keyword}{import}.\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}, \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}})) \{}
\DoxyCodeLine{2734           \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{2735         \}}
\DoxyCodeLine{2736         \textcolor{keywordflow}{break};}
\DoxyCodeLine{2737       \}}
\DoxyCodeLine{2738       \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb10c8534fdb3edc15e3f45d7ee6d547a53e55104d1626728a0b2a5285888ff8e}{kExternalTag}}: \{}
\DoxyCodeLine{2739         \textcolor{comment}{// TODO(14616): Implement shared tags.}}
\DoxyCodeLine{2740         \textcolor{keywordflow}{if} (!IsWasmTagObject(*\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}})) \{}
\DoxyCodeLine{2741           \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}}-\/>LinkError(\textcolor{stringliteral}{"{}\%s: tag import requires a WebAssembly.Tag"{}},}
\DoxyCodeLine{2742                               \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab5cdfd1a6d96ac77038c87b059b4d04e}{ImportName}}(\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}).c\_str());}
\DoxyCodeLine{2743           \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{2744         \}}
\DoxyCodeLine{2745         DirectHandle<WasmTagObject> imported\_tag = Cast<WasmTagObject>(\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}});}
\DoxyCodeLine{2746         \textcolor{keywordflow}{if} (!imported\_tag-\/>MatchesSignature(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a80ed14bf76cb65cc93c6c9ba1b56f75c}{canonical\_sig\_id}}(}
\DoxyCodeLine{2747                 \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_ab543c357d83ca4ab20ea9f13a6656f85}{tags}}[\textcolor{keyword}{import}.index].sig\_index))) \{}
\DoxyCodeLine{2748           \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}}-\/>LinkError(}
\DoxyCodeLine{2749               \textcolor{stringliteral}{"{}\%s: imported tag does not match the expected type"{}},}
\DoxyCodeLine{2750               \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab5cdfd1a6d96ac77038c87b059b4d04e}{ImportName}}(\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}).c\_str());}
\DoxyCodeLine{2751           \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{2752         \}}
\DoxyCodeLine{2753         \mbox{\hyperlink{namespacev8_1_1internal_a5297fd2c72981b2220e6b9a831570fb3}{Tagged<Object>}} tag = imported\_tag-\/>tag();}
\DoxyCodeLine{2754         \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(IsUndefined(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aea7551d380bf83fce78fac6dae327a78}{trusted\_data\_}}-\/>tags\_table()-\/>get(\textcolor{keyword}{import}.index)));}
\DoxyCodeLine{2755         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aea7551d380bf83fce78fac6dae327a78}{trusted\_data\_}}-\/>tags\_table()-\/>set(\textcolor{keyword}{import}.\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}, tag);}
\DoxyCodeLine{2756         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a725cea88ca63b898d35df6e718bd7b98}{tags\_wrappers\_}}[\textcolor{keyword}{import}.index] = imported\_tag;}
\DoxyCodeLine{2757         \textcolor{keywordflow}{break};}
\DoxyCodeLine{2758       \}}
\DoxyCodeLine{2759       \textcolor{keywordflow}{default}:}
\DoxyCodeLine{2760         \mbox{\hyperlink{namespacev8_1_1internal_acdec713c25068019f935e35976f5b666}{UNREACHABLE}}();}
\DoxyCodeLine{2761     \}}
\DoxyCodeLine{2762   \}}
\DoxyCodeLine{2763   \textcolor{keywordflow}{if} (num\_imported\_functions > 0) \{}
\DoxyCodeLine{2764     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ad9acbe63776578c8905fa72206177a2c}{module\_object\_}}-\/>native\_module()-\/>UpdateWellKnownImports(}
\DoxyCodeLine{2765         \mbox{\hyperlink{namespacev8_1_1base_a5bfc65f27076e49eb7752a4fb4d45acb}{base::VectorOf}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a6a6039aec9f6f9486a58ddc7c4f999d2}{well\_known\_imports\_}}));}
\DoxyCodeLine{2766   \}}
\DoxyCodeLine{2767   \textcolor{keywordflow}{return} num\_imported\_functions;}
\DoxyCodeLine{2768 \}}

\end{DoxyCode}


References v8\+::internal\+::wasm\+::\+Wasm\+Module\+::canonical\+\_\+sig\+\_\+id(), v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+EQ, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::functions, v8\+::internal\+::wasm\+::\+Well\+Known\+Imports\+List\+::get(), v8\+::internal\+::wasm\+::\+Wasm\+Module\+::globals, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::import\+\_\+table, Import\+Name(), v8\+::internal\+::index, v8\+::internal\+::wasm\+::\+Type\+Definition\+::is\+\_\+shared, v8\+::internal\+::wasm\+::k\+External\+Function, v8\+::internal\+::wasm\+::k\+External\+Global, v8\+::internal\+::wasm\+::k\+External\+Memory, v8\+::internal\+::wasm\+::k\+External\+Table, v8\+::internal\+::wasm\+::k\+External\+Tag, module\+\_\+, module\+\_\+object\+\_\+, Process\+Imported\+Function(), Process\+Imported\+Global(), Process\+Imported\+Table(), sanitized\+\_\+imports\+\_\+, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::tables, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::tags, tags\+\_\+wrappers\+\_\+, thrower\+\_\+, trusted\+\_\+data(), trusted\+\_\+data\+\_\+, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::type(), v8\+::internal\+::wasm\+::\+Wasm\+Module\+::type\+\_\+feedback, v8\+::internal\+::\+UNREACHABLE(), USE, v8\+::internal\+::value, v8\+::base\+::\+Vector\+Of(), v8\+::internal\+::wasm\+::\+Type\+Feedback\+Storage\+::well\+\_\+known\+\_\+imports, and well\+\_\+known\+\_\+imports\+\_\+.



Referenced by Build\+\_\+\+Phase1().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a1dd661a91a2054913525990d4d6def25_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a1dd661a91a2054913525990d4d6def25_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a1a1ad8fdce6b621e61b911257faf452e}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a1a1ad8fdce6b621e61b911257faf452e}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!SanitizeImports@{SanitizeImports}}
\index{SanitizeImports@{SanitizeImports}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{SanitizeImports()}{SanitizeImports()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Instance\+Builder\+::\+Sanitize\+Imports (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 2224 of file module-\/instantiate.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2224                                       \{}
\DoxyCodeLine{2225   NativeModule* native\_module = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ad9acbe63776578c8905fa72206177a2c}{module\_object\_}}-\/>native\_module();}
\DoxyCodeLine{2226   base::Vector<const uint8\_t> wire\_bytes = native\_module-\/>wire\_bytes();}
\DoxyCodeLine{2227   \textcolor{keyword}{const} WellKnownImportsList\& well\_known\_imports =}
\DoxyCodeLine{2228       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_aceb39daaf893b7024baceccf7571a97d}{type\_feedback}}.\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1TypeFeedbackStorage_a2f59640a40aae70550d8eda5f0f89c5f}{well\_known\_imports}};}
\DoxyCodeLine{2229   \textcolor{keyword}{const} \mbox{\hyperlink{namespacev8_1_1internal_af68b330f02476361ab10f531933b3381}{std::string}}\& magic\_string\_constants =}
\DoxyCodeLine{2230       native\_module-\/>compile\_imports().constants\_module();}
\DoxyCodeLine{2231   \textcolor{keyword}{const} \textcolor{keywordtype}{bool} has\_magic\_string\_constants =}
\DoxyCodeLine{2232       native\_module-\/>compile\_imports().contains(}
\DoxyCodeLine{2233           \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a17aedf25fa2edcefae3f561a222df0e7a487d62cc130443095f31ce193e91fb8c}{CompileTimeImport::kStringConstants}});}
\DoxyCodeLine{2234   \textcolor{keyword}{const} std::vector<WasmImport>\& import\_table = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a4f710e1d1dd945669cbebae2b51835e5}{import\_table}};}
\DoxyCodeLine{2235   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a5dadf45ab32816f8ffdb69a10544a956}{sanitized\_imports\_}}.resize(import\_table.size());}
\DoxyCodeLine{2236 }
\DoxyCodeLine{2237   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.experimental\_wasm\_custom\_descriptors \&\&}
\DoxyCodeLine{2238       !\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a2c4c94aeb69751643127eb705f7e827b}{descriptors\_section}}.\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WireBytesRef_a45fb66d092f08cdf54005a1ebdfbd901}{is\_empty}}()) \{}
\DoxyCodeLine{2239     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ae150ecd9dff43cb0c32a10fb3da28731}{js\_prototypes\_setup\_}}.emplace(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, wire\_bytes, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}},}
\DoxyCodeLine{2240                                  \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a5dadf45ab32816f8ffdb69a10544a956}{sanitized\_imports\_}});}
\DoxyCodeLine{2241     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ae150ecd9dff43cb0c32a10fb3da28731}{js\_prototypes\_setup\_}}-\/>MaterializeDescriptorOptions(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a13cbcfe18596d4900f82afd2e3f434db}{ffi\_}});}
\DoxyCodeLine{2242     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1ErrorThrower_a603a53d1ac3dddd81154744ff36db838}{error}}()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{2243   \}}
\DoxyCodeLine{2244 }
\DoxyCodeLine{2245   \textcolor{keywordflow}{for} (uint32\_t \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}} = 0; \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}} < import\_table.size(); ++\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}) \{}
\DoxyCodeLine{2246     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a5dadf45ab32816f8ffdb69a10544a956}{sanitized\_imports\_}}[\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}].is\_null()) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{2247     \textcolor{keyword}{const} WasmImport\& \textcolor{keyword}{import} = import\_table[\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}];}
\DoxyCodeLine{2248 }
\DoxyCodeLine{2249     \textcolor{keywordflow}{if} (\textcolor{keyword}{import}.kind == \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb10c8534fdb3edc15e3f45d7ee6d547a6f3a1cfcc3386739303f7d10b0075ac5}{kExternalGlobal}} \&\& has\_magic\_string\_constants \&\&}
\DoxyCodeLine{2250         \textcolor{keyword}{import}.module\_name.length() == magic\_string\_constants.size() \&\&}
\DoxyCodeLine{2251         \mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a517021b4069b42dd6e6f69d4066e227a}{std::equal}}(magic\_string\_constants.begin(), magic\_string\_constants.end(),}
\DoxyCodeLine{2252                    wire\_bytes.begin() + \textcolor{keyword}{import}.module\_name.offset())) \{}
\DoxyCodeLine{2253       DirectHandle<String> \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} =}
\DoxyCodeLine{2254           \mbox{\hyperlink{classv8_1_1internal_1_1WasmModuleObject_aad63556c675d28c5823c6f4ca765c67d}{WasmModuleObject::ExtractUtf8StringFromModuleBytes}}(}
\DoxyCodeLine{2255               \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, wire\_bytes, \textcolor{keyword}{import}.field\_name, \mbox{\hyperlink{namespacev8_1_1internal_a00e6a81b8b499c814a011d90853897fba81b23a97077ceef0f9633d2041ae1737}{kNoInternalize}});}
\DoxyCodeLine{2256       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a5dadf45ab32816f8ffdb69a10544a956}{sanitized\_imports\_}}[\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}] = \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}};}
\DoxyCodeLine{2257       \textcolor{keywordflow}{continue};}
\DoxyCodeLine{2258     \}}
\DoxyCodeLine{2259 }
\DoxyCodeLine{2260     \textcolor{keywordflow}{if} (\textcolor{keyword}{import}.kind == \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb10c8534fdb3edc15e3f45d7ee6d547a841c234519f90eb88be0020af3622a4d}{kExternalFunction}}) \{}
\DoxyCodeLine{2261       \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_afaaaa7fd7a0bc697a4d91133566c5c6e}{WellKnownImport}} wki = well\_known\_imports.get(\textcolor{keyword}{import}.\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}});}
\DoxyCodeLine{2262       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a015e40bd37e0325b17795e30b6101201}{IsCompileTimeImport}}(wki)) \{}
\DoxyCodeLine{2263         DirectHandle<JSFunction> fun =}
\DoxyCodeLine{2264             \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ab965d861f0864392f3486cef73e42103}{CreateFunctionForCompileTimeImport}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, wki);}
\DoxyCodeLine{2265         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a5dadf45ab32816f8ffdb69a10544a956}{sanitized\_imports\_}}[\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}] = fun;}
\DoxyCodeLine{2266         \textcolor{keywordflow}{continue};}
\DoxyCodeLine{2267       \}}
\DoxyCodeLine{2268     \}}
\DoxyCodeLine{2269 }
\DoxyCodeLine{2270     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a13cbcfe18596d4900f82afd2e3f434db}{ffi\_}}.is\_null()) \{}
\DoxyCodeLine{2271       \textcolor{comment}{// No point in continuing if we don't have an imports object.}}
\DoxyCodeLine{2272       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}}-\/>TypeError(}
\DoxyCodeLine{2273           \textcolor{stringliteral}{"{}Imports argument must be present and must be an object"{}});}
\DoxyCodeLine{2274       \textcolor{keywordflow}{return};}
\DoxyCodeLine{2275     \}}
\DoxyCodeLine{2276 }
\DoxyCodeLine{2277     DirectHandle<String> module\_name =}
\DoxyCodeLine{2278         \mbox{\hyperlink{classv8_1_1internal_1_1WasmModuleObject_aad63556c675d28c5823c6f4ca765c67d}{WasmModuleObject::ExtractUtf8StringFromModuleBytes}}(}
\DoxyCodeLine{2279             \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, wire\_bytes, \textcolor{keyword}{import}.module\_name, \mbox{\hyperlink{namespacev8_1_1internal_a00e6a81b8b499c814a011d90853897fbaa318ae4b40399d5743b89f5acc1bcc7b}{kInternalize}});}
\DoxyCodeLine{2280 }
\DoxyCodeLine{2281     DirectHandle<String> import\_name =}
\DoxyCodeLine{2282         \mbox{\hyperlink{classv8_1_1internal_1_1WasmModuleObject_aad63556c675d28c5823c6f4ca765c67d}{WasmModuleObject::ExtractUtf8StringFromModuleBytes}}(}
\DoxyCodeLine{2283             \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, wire\_bytes, \textcolor{keyword}{import}.field\_name, \mbox{\hyperlink{namespacev8_1_1internal_a00e6a81b8b499c814a011d90853897fbaa318ae4b40399d5743b89f5acc1bcc7b}{kInternalize}});}
\DoxyCodeLine{2284 }
\DoxyCodeLine{2285     MaybeDirectHandle<Object> \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} =}
\DoxyCodeLine{2286         \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a70bbfcab50b20ba5da8696e0373a8af4}{is\_asmjs\_module}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}})}
\DoxyCodeLine{2287             ? \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a45625160696bb8741a820c7cf2a0b5af}{LookupImportAsm}}(\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}, import\_name)}
\DoxyCodeLine{2288             : \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a5267721eb2f9ae3eacdd640338001da9}{LookupImport}}(\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}, module\_name, import\_name);}
\DoxyCodeLine{2289     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1ErrorThrower_a603a53d1ac3dddd81154744ff36db838}{error}}()) \{}
\DoxyCodeLine{2290       \textcolor{keywordflow}{return};}
\DoxyCodeLine{2291     \}}
\DoxyCodeLine{2292     DirectHandle<Object> \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} = \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}}.ToHandleChecked();}
\DoxyCodeLine{2293     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a5dadf45ab32816f8ffdb69a10544a956}{sanitized\_imports\_}}[\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}] = \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}};}
\DoxyCodeLine{2294   \}}
\DoxyCodeLine{2295 \}}

\end{DoxyCode}


References v8\+::base\+::\+Vector$<$ T $>$\+::begin(), v8\+::internal\+::wasm\+::\+Native\+Module\+::compile\+\_\+imports(), v8\+::internal\+::wasm\+::\+Compile\+Time\+Imports\+::constants\+\_\+module(), v8\+::internal\+::wasm\+::\+Compile\+Time\+Imports\+::contains(), v8\+::internal\+::wasm\+::\+Create\+Function\+For\+Compile\+Time\+Import(), v8\+::internal\+::wasm\+::\+Wasm\+Module\+::descriptors\+\_\+section, v8\+::internal\+::equal, v8\+::internal\+::wasm\+::\+Error\+Thrower\+::error(), v8\+::internal\+::\+Wasm\+Module\+Object\+::\+Extract\+Utf8\+String\+From\+Module\+Bytes(), ffi\+\_\+, v8\+::internal\+::wasm\+::\+Well\+Known\+Imports\+List\+::get(), v8\+::internal\+::wasm\+::\+Wasm\+Module\+::import\+\_\+table, v8\+::internal\+::index, v8\+::internal\+::wasm\+::is\+\_\+asmjs\+\_\+module(), v8\+::internal\+::wasm\+::\+Wire\+Bytes\+Ref\+::is\+\_\+empty(), v8\+::internal\+::wasm\+::\+Is\+Compile\+Time\+Import(), isolate\+\_\+, js\+\_\+prototypes\+\_\+setup\+\_\+, v8\+::internal\+::wasm\+::k\+External\+Function, v8\+::internal\+::wasm\+::k\+External\+Global, v8\+::internal\+::k\+Internalize, v8\+::internal\+::k\+No\+Internalize, v8\+::internal\+::wasm\+::k\+String\+Constants, Lookup\+Import(), Lookup\+Import\+Asm(), module\+\_\+, module\+\_\+object\+\_\+, v8\+::base\+::internal\+::result, sanitized\+\_\+imports\+\_\+, v8\+::internal\+::string, thrower\+\_\+, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::type\+\_\+feedback, v8\+::internal\+::v8\+\_\+flags, v8\+::internal\+::value, v8\+::internal\+::wasm\+::\+Type\+Feedback\+Storage\+::well\+\_\+known\+\_\+imports, and v8\+::internal\+::wasm\+::\+Native\+Module\+::wire\+\_\+bytes().



Referenced by Build().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a1a1ad8fdce6b621e61b911257faf452e_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a1a1ad8fdce6b621e61b911257faf452e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a2d8bc64719afc7f939af91de40590dd4}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a2d8bc64719afc7f939af91de40590dd4}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!SetTableInitialValues@{SetTableInitialValues}}
\index{SetTableInitialValues@{SetTableInitialValues}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{SetTableInitialValues()}{SetTableInitialValues()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Instance\+Builder\+::\+Set\+Table\+Initial\+Values (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 3114 of file module-\/instantiate.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3114                                             \{}
\DoxyCodeLine{3115   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} table\_index = 0;}
\DoxyCodeLine{3116        table\_index < static\_cast<int>(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_af40a46c2d14efc9c68b499d7a459d9b0}{tables}}.size()); ++table\_index) \{}
\DoxyCodeLine{3117     \textcolor{keyword}{const} WasmTable\& table = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_af40a46c2d14efc9c68b499d7a459d9b0}{tables}}[table\_index];}
\DoxyCodeLine{3118     DirectHandle<WasmTrustedInstanceData> maybe\_shared\_data =}
\DoxyCodeLine{3119         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aad6f1251ab50c21c71d213e91b1bbc2e}{trusted\_data}}(table.shared);}
\DoxyCodeLine{3120     \textcolor{comment}{// We must not modify imported tables yet when this is run, because}}
\DoxyCodeLine{3121     \textcolor{comment}{// we can't know yet whether the new instance can be successfully}}
\DoxyCodeLine{3122     \textcolor{comment}{// initialized.}}
\DoxyCodeLine{3123     \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(table.imported, !table.initial\_value.is\_set());}
\DoxyCodeLine{3124     \textcolor{keywordflow}{if} (!table.initial\_value.is\_set()) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{3125     DirectHandle<WasmTableObject> table\_object(}
\DoxyCodeLine{3126         Cast<WasmTableObject>(maybe\_shared\_data-\/>tables()-\/>get(table\_index)),}
\DoxyCodeLine{3127         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}});}
\DoxyCodeLine{3128     \textcolor{keywordtype}{bool} is\_function\_table = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a3c8e5205c40b2156097780fb9e7d3f7b}{IsSubtypeOf}}(table.type, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a90941f620285a912a302a3aced092560}{kWasmFuncRef}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}});}
\DoxyCodeLine{3129     \textcolor{keywordflow}{if} (is\_function\_table \&\&}
\DoxyCodeLine{3130         table.initial\_value.kind() == \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1ConstantExpression_a5faac3cc6dbe05b9629ccf99ba161455a3cec7a767a7494a831685160b918dfe4}{ConstantExpression::Kind::kRefFunc}}) \{}
\DoxyCodeLine{3131       \textcolor{keywordflow}{for} (uint32\_t entry\_index = 0; entry\_index < table.initial\_size;}
\DoxyCodeLine{3132            entry\_index++) \{}
\DoxyCodeLine{3133         \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03_ac7a772dcc24c13b0ad3abf76d4b0a771}{SetFunctionTablePlaceholder}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, maybe\_shared\_data, table\_object,}
\DoxyCodeLine{3134                                     entry\_index, table.initial\_value.index());}
\DoxyCodeLine{3135       \}}
\DoxyCodeLine{3136     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (is\_function\_table \&\& table.initial\_value.kind() ==}
\DoxyCodeLine{3137                                         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1ConstantExpression_a5faac3cc6dbe05b9629ccf99ba161455aafd4fc7d3d7d9d9bc84ef9f0fd3d09c3}{ConstantExpression::Kind::kRefNull}}) \{}
\DoxyCodeLine{3138       \textcolor{keywordflow}{for} (uint32\_t entry\_index = 0; entry\_index < table.initial\_size;}
\DoxyCodeLine{3139            entry\_index++) \{}
\DoxyCodeLine{3140         \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03_a90a4a187461235dd41109b9941366f34}{SetFunctionTableNullEntry}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, table\_object, entry\_index);}
\DoxyCodeLine{3141       \}}
\DoxyCodeLine{3142     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{3143       \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ae996872b27cf7b0b9951c658613a8d20}{ValueOrError}} \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a7444b7caaf83466659a2efde4f77457a}{EvaluateConstantExpression}}(}
\DoxyCodeLine{3144           \&\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab230138dba8632d53ff8e394a35551ee}{init\_expr\_zone\_}}, table.initial\_value, table.type, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}},}
\DoxyCodeLine{3145           maybe\_shared\_data, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ad89c98fe73daab093f44575c4e5c7b4f}{shared\_trusted\_data\_}});}
\DoxyCodeLine{3146       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03_a22842750d51679c6a85b7ac9487aa008}{MaybeMarkError}}(\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}{thrower\_}})) \textcolor{keywordflow}{return};}
\DoxyCodeLine{3147       \textcolor{keywordflow}{for} (uint32\_t entry\_index = 0; entry\_index < table.initial\_size;}
\DoxyCodeLine{3148            entry\_index++) \{}
\DoxyCodeLine{3149         \mbox{\hyperlink{classv8_1_1internal_1_1WasmTableObject_acfdec070b48fe34a36f7aa7fed63a969}{WasmTableObject::Set}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}{isolate\_}}, table\_object, entry\_index,}
\DoxyCodeLine{3150                              \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a4a2e42081079a3b383768146a60b9cd8}{to\_value}}(\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}}).to\_ref());}
\DoxyCodeLine{3151       \}}
\DoxyCodeLine{3152     \}}
\DoxyCodeLine{3153   \}}
\DoxyCodeLine{3154 \}}

\end{DoxyCode}


References DCHECK\+\_\+\+IMPLIES, v8\+::internal\+::wasm\+::\+Evaluate\+Constant\+Expression(), v8\+::internal\+::wasm\+::\+Wasm\+Table\+::imported, v8\+::internal\+::wasm\+::\+Constant\+Expression\+::index(), init\+\_\+expr\+\_\+zone\+\_\+, v8\+::internal\+::wasm\+::\+Wasm\+Table\+::initial\+\_\+size, v8\+::internal\+::wasm\+::\+Wasm\+Table\+::initial\+\_\+value, v8\+::internal\+::wasm\+::\+Constant\+Expression\+::is\+\_\+set(), isolate\+\_\+, v8\+::internal\+::wasm\+::\+Is\+Subtype\+Of(), v8\+::internal\+::wasm\+::\+Constant\+Expression\+::kind(), v8\+::internal\+::wasm\+::\+Constant\+Expression\+::k\+Ref\+Func, v8\+::internal\+::wasm\+::\+Constant\+Expression\+::k\+Ref\+Null, v8\+::internal\+::wasm\+::k\+Wasm\+Func\+Ref, v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/instantiate.\+cc\}\+::\+Maybe\+Mark\+Error(), module\+\_\+, v8\+::base\+::internal\+::result, v8\+::internal\+::\+Wasm\+Table\+Object\+::\+Set(), v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/instantiate.\+cc\}\+::\+Set\+Function\+Table\+Null\+Entry(), v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/instantiate.\+cc\}\+::\+Set\+Function\+Table\+Placeholder(), v8\+::internal\+::wasm\+::\+Wasm\+Table\+::shared, shared\+\_\+trusted\+\_\+data\+\_\+, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::tables, thrower\+\_\+, v8\+::internal\+::wasm\+::to\+\_\+value(), trusted\+\_\+data(), and v8\+::internal\+::wasm\+::\+Wasm\+Table\+::type.



Referenced by Build\+\_\+\+Phase1().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a2d8bc64719afc7f939af91de40590dd4_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a2d8bc64719afc7f939af91de40590dd4_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aad6f1251ab50c21c71d213e91b1bbc2e}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aad6f1251ab50c21c71d213e91b1bbc2e}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!trusted\_data@{trusted\_data}}
\index{trusted\_data@{trusted\_data}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{trusted\_data()}{trusted\_data()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData}{Wasm\+Trusted\+Instance\+Data}}$>$ v8\+::internal\+::wasm\+::\+Instance\+Builder\+::trusted\+\_\+data (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}}}]{shared }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 1253 of file module-\/instantiate.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1253                                                                         \{}
\DoxyCodeLine{1254     \textcolor{keywordflow}{return} shared ? \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ad89c98fe73daab093f44575c4e5c7b4f}{shared\_trusted\_data\_}} : \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aea7551d380bf83fce78fac6dae327a78}{trusted\_data\_}};}
\DoxyCodeLine{1255   \}}

\end{DoxyCode}


References shared\+\_\+trusted\+\_\+data\+\_\+, and trusted\+\_\+data\+\_\+.



Referenced by Build\+\_\+\+Phase1(), Build\+\_\+\+Phase1\+\_\+\+Infallible(), Load\+Table\+Segments(), Process\+Exports(), Process\+Imports(), and Set\+Table\+Initial\+Values().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aad6f1251ab50c21c71d213e91b1bbc2e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_af5259253e5d559a5833c16076db2900c}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_af5259253e5d559a5833c16076db2900c}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!WriteGlobalValue@{WriteGlobalValue}}
\index{WriteGlobalValue@{WriteGlobalValue}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{WriteGlobalValue()}{WriteGlobalValue()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Instance\+Builder\+::\+Write\+Global\+Value (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmGlobal}{Wasm\+Global}} \&}]{global,  }\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmValue}{Wasm\+Value}} \&}]{value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 2139 of file module-\/instantiate.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2140                                                                \{}
\DoxyCodeLine{2141   \mbox{\hyperlink{namespacev8_1_1internal_a3762add7a183a4d1750c04e5fa1a6d17}{TRACE}}(\textcolor{stringliteral}{"{}init [globals\_start=\%p + \%u] = \%s, type = \%s\(\backslash\)n"{}},}
\DoxyCodeLine{2142         global.type.is\_reference()}
\DoxyCodeLine{2143             ? \textcolor{keyword}{reinterpret\_cast<}uint8\_t*\textcolor{keyword}{>}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a71497507d2c1ffe7aae80873b0fb2b18}{tagged\_globals\_}}-\/>address())}
\DoxyCodeLine{2144             : \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-instantiate_8cc_03_a7ecac47926023e51ac33a6829d1fa13b}{raw\_buffer\_ptr}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a6388ff7aa2e2e6ba74dce9f0f96167af}{untagged\_globals\_}}, 0),}
\DoxyCodeLine{2145         global.offset, \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}.to\_string().c\_str(), global.type.name().c\_str());}
\DoxyCodeLine{2146   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(global.mutability}
\DoxyCodeLine{2147              ? (\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}.type() == \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a72d5b3903dd429c932220d3adee950a8}{canonical\_type}}(global.type))}
\DoxyCodeLine{2148              : \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a3c8e5205c40b2156097780fb9e7d3f7b}{IsSubtypeOf}}(\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}.type(), \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}{module\_}}-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a72d5b3903dd429c932220d3adee950a8}{canonical\_type}}(global.type)));}
\DoxyCodeLine{2149   \textcolor{keywordflow}{if} (global.type.is\_numeric()) \{}
\DoxyCodeLine{2150     \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}.CopyTo(GetRawUntaggedGlobalPtr<uint8\_t>(global));}
\DoxyCodeLine{2151   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{2152     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a71497507d2c1ffe7aae80873b0fb2b18}{tagged\_globals\_}}-\/>set(global.offset, *\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}.to\_ref());}
\DoxyCodeLine{2153   \}}
\DoxyCodeLine{2154 \}}

\end{DoxyCode}


References v8\+::internal\+::wasm\+::\+Wasm\+Module\+::canonical\+\_\+type(), v8\+::internal\+::\+DCHECK(), v8\+::internal\+::wasm\+::\+Value\+Type\+Base\+::is\+\_\+numeric(), v8\+::internal\+::wasm\+::\+Value\+Type\+Base\+::is\+\_\+reference(), v8\+::internal\+::wasm\+::\+Is\+Subtype\+Of(), module\+\_\+, v8\+::internal\+::wasm\+::\+Wasm\+Global\+::mutability, v8\+::internal\+::wasm\+::\+Value\+Type\+Base\+::name(), v8\+::internal\+::wasm\+::\+Wasm\+Global\+::offset, v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/instantiate.\+cc\}\+::raw\+\_\+buffer\+\_\+ptr(), tagged\+\_\+globals\+\_\+, v8\+::internal\+::\+TRACE(), v8\+::internal\+::wasm\+::\+Wasm\+Global\+::type, untagged\+\_\+globals\+\_\+, and v8\+::internal\+::value.



Referenced by Process\+Imported\+Global(), and Process\+Imported\+Wasm\+Global\+Object().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_af5259253e5d559a5833c16076db2900c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_af5259253e5d559a5833c16076db2900c_icgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ace1391560ef1c60410ba29bb87806c9d}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ace1391560ef1c60410ba29bb87806c9d}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!asmjs\_memory\_buffer\_@{asmjs\_memory\_buffer\_}}
\index{asmjs\_memory\_buffer\_@{asmjs\_memory\_buffer\_}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{asmjs\_memory\_buffer\_}{asmjs\_memory\_buffer\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle}{Maybe\+Direct\+Handle}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1JSArrayBuffer}{JSArray\+Buffer}}$>$ v8\+::internal\+::wasm\+::\+Instance\+Builder\+::asmjs\+\_\+memory\+\_\+buffer\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1236 of file module-\/instantiate.\+cc.



Referenced by Build\+\_\+\+Phase1().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ad3660708cd48a28bc322058d00be48f1}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ad3660708cd48a28bc322058d00be48f1}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!context\_id\_@{context\_id\_}}
\index{context\_id\_@{context\_id\_}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{context\_id\_}{context\_id\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1metrics_1_1Recorder_1_1ContextId}{v8\+::metrics\+::\+Recorder\+::\+Context\+Id}} v8\+::internal\+::wasm\+::\+Instance\+Builder\+::context\+\_\+id\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1228 of file module-\/instantiate.\+cc.



Referenced by Build().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a867e1ad3cc7461cb3f89906e30f27b64}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a867e1ad3cc7461cb3f89906e30f27b64}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!enabled\_@{enabled\_}}
\index{enabled\_@{enabled\_}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{enabled\_}{enabled\_}}
{\footnotesize\ttfamily const \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmEnabledFeatures}{Wasm\+Enabled\+Features}} v8\+::internal\+::wasm\+::\+Instance\+Builder\+::enabled\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1229 of file module-\/instantiate.\+cc.

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a13cbcfe18596d4900f82afd2e3f434db}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a13cbcfe18596d4900f82afd2e3f434db}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!ffi\_@{ffi\_}}
\index{ffi\_@{ffi\_}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{ffi\_}{ffi\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle}{Maybe\+Direct\+Handle}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1JSReceiver}{JSReceiver}}$>$ v8\+::internal\+::wasm\+::\+Instance\+Builder\+::ffi\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1235 of file module-\/instantiate.\+cc.



Referenced by Lookup\+Import(), Lookup\+Import\+Asm(), and Sanitize\+Imports().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab230138dba8632d53ff8e394a35551ee}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ab230138dba8632d53ff8e394a35551ee}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!init\_expr\_zone\_@{init\_expr\_zone\_}}
\index{init\_expr\_zone\_@{init\_expr\_zone\_}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{init\_expr\_zone\_}{init\_expr\_zone\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}} v8\+::internal\+::wasm\+::\+Instance\+Builder\+::init\+\_\+expr\+\_\+zone\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1251 of file module-\/instantiate.\+cc.



Referenced by Init\+Globals(), Load\+Data\+Segments(), Load\+Table\+Segments(), and Set\+Table\+Initial\+Values().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a99f982ddb5d298edcef493207d213159}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!isolate\_@{isolate\_}}
\index{isolate\_@{isolate\_}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{isolate\_}{isolate\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}}$\ast$ v8\+::internal\+::wasm\+::\+Instance\+Builder\+::isolate\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1227 of file module-\/instantiate.\+cc.



Referenced by Allocate\+Memory(), Build(), Build\+\_\+\+Phase1(), Build\+\_\+\+Phase1\+\_\+\+Infallible(), Configure\+Prototypes\+\_\+\+Modular(), Execute\+Start\+Function(), Finalize\+Exports\+Object(), Init\+Globals(), Initialize\+Tags(), Load\+Data\+Segments(), Load\+Table\+Segments(), Lookup\+Import(), Lookup\+Import\+Asm(), Process\+Exports(), Process\+Imported\+Function(), Process\+Imported\+Global(), Process\+Imported\+Memories(), Process\+Imported\+Table(), Process\+Imported\+Wasm\+Global\+Object(), Sanitize\+Imports(), and Set\+Table\+Initial\+Values().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ae150ecd9dff43cb0c32a10fb3da28731}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ae150ecd9dff43cb0c32a10fb3da28731}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!js\_prototypes\_setup\_@{js\_prototypes\_setup\_}}
\index{js\_prototypes\_setup\_@{js\_prototypes\_setup\_}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{js\_prototypes\_setup\_}{js\_prototypes\_setup\_}}
{\footnotesize\ttfamily std\+::optional$<$\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1JSPrototypesSetup}{JSPrototypes\+Setup}}$>$ v8\+::internal\+::wasm\+::\+Instance\+Builder\+::js\+\_\+prototypes\+\_\+setup\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1246 of file module-\/instantiate.\+cc.



Referenced by Build\+\_\+\+Phase2(), Configure\+Prototypes\+\_\+\+Modular(), and Sanitize\+Imports().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aaa821ccf37abae1e6c809598df32f0fc}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!module\_@{module\_}}
\index{module\_@{module\_}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{module\_}{module\_}}
{\footnotesize\ttfamily const \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule}{Wasm\+Module}}$\ast$ const v8\+::internal\+::wasm\+::\+Instance\+Builder\+::module\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1230 of file module-\/instantiate.\+cc.



Referenced by Allocate\+Memory(), Build(), Build\+\_\+\+Phase1(), Build\+\_\+\+Phase1\+\_\+\+Infallible(), Build\+\_\+\+Phase2(), Finalize\+Exports\+Object(), Import\+Name(), Init\+Globals(), Instance\+Builder(), Load\+Data\+Segments(), Load\+Table\+Segments(), Lookup\+Import\+Asm(), Process\+Exports(), Process\+Imported\+Function(), Process\+Imported\+Global(), Process\+Imported\+Memories(), Process\+Imported\+Table(), Process\+Imported\+Wasm\+Global\+Object(), Process\+Imports(), Sanitize\+Imports(), Set\+Table\+Initial\+Values(), and Write\+Global\+Value().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ad9acbe63776578c8905fa72206177a2c}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ad9acbe63776578c8905fa72206177a2c}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!module\_object\_@{module\_object\_}}
\index{module\_object\_@{module\_object\_}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{module\_object\_}{module\_object\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1WasmModuleObject}{Wasm\+Module\+Object}}$>$ v8\+::internal\+::wasm\+::\+Instance\+Builder\+::module\+\_\+object\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1232 of file module-\/instantiate.\+cc.



Referenced by Build\+\_\+\+Phase1(), Import\+Name(), Load\+Data\+Segments(), Process\+Exports(), Process\+Imports(), and Sanitize\+Imports().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a5dadf45ab32816f8ffdb69a10544a956}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a5dadf45ab32816f8ffdb69a10544a956}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!sanitized\_imports\_@{sanitized\_imports\_}}
\index{sanitized\_imports\_@{sanitized\_imports\_}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{sanitized\_imports\_}{sanitized\_imports\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandleVector}{Direct\+Handle\+Vector}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}}$>$ v8\+::internal\+::wasm\+::\+Instance\+Builder\+::sanitized\+\_\+imports\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1244 of file module-\/instantiate.\+cc.



Referenced by Instance\+Builder(), Process\+Exports(), Process\+Imported\+Memories(), Process\+Imports(), and Sanitize\+Imports().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_abc2acf18bcb1567e5343dd3af707e089}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_abc2acf18bcb1567e5343dd3af707e089}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!shared\_tagged\_globals\_@{shared\_tagged\_globals\_}}
\index{shared\_tagged\_globals\_@{shared\_tagged\_globals\_}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{shared\_tagged\_globals\_}{shared\_tagged\_globals\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1FixedArray}{Fixed\+Array}}$>$ v8\+::internal\+::wasm\+::\+Instance\+Builder\+::shared\+\_\+tagged\+\_\+globals\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1240 of file module-\/instantiate.\+cc.



Referenced by Build\+\_\+\+Phase1(), and Init\+Globals().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_acf647301763e320d9808ad2d3e6fa8a5}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_acf647301763e320d9808ad2d3e6fa8a5}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!shared\_tags\_wrappers\_@{shared\_tags\_wrappers\_}}
\index{shared\_tags\_wrappers\_@{shared\_tags\_wrappers\_}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{shared\_tags\_wrappers\_}{shared\_tags\_wrappers\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandleVector}{Direct\+Handle\+Vector}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1WasmTagObject}{Wasm\+Tag\+Object}}$>$ v8\+::internal\+::wasm\+::\+Instance\+Builder\+::shared\+\_\+tags\+\_\+wrappers\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1242 of file module-\/instantiate.\+cc.



Referenced by Build\+\_\+\+Phase1().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ad89c98fe73daab093f44575c4e5c7b4f}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ad89c98fe73daab093f44575c4e5c7b4f}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!shared\_trusted\_data\_@{shared\_trusted\_data\_}}
\index{shared\_trusted\_data\_@{shared\_trusted\_data\_}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{shared\_trusted\_data\_}{shared\_trusted\_data\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData}{Wasm\+Trusted\+Instance\+Data}}$>$ v8\+::internal\+::wasm\+::\+Instance\+Builder\+::shared\+\_\+trusted\+\_\+data\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1234 of file module-\/instantiate.\+cc.



Referenced by Build\+\_\+\+Phase1(), Build\+\_\+\+Phase1\+\_\+\+Infallible(), Build\+\_\+\+Phase2(), Init\+Globals(), Load\+Data\+Segments(), Load\+Table\+Segments(), Set\+Table\+Initial\+Values(), and trusted\+\_\+data().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ae9e7aba8c15908133cd1e48df2e027c1}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_ae9e7aba8c15908133cd1e48df2e027c1}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!shared\_untagged\_globals\_@{shared\_untagged\_globals\_}}
\index{shared\_untagged\_globals\_@{shared\_untagged\_globals\_}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{shared\_untagged\_globals\_}{shared\_untagged\_globals\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1JSArrayBuffer}{JSArray\+Buffer}}$>$ v8\+::internal\+::wasm\+::\+Instance\+Builder\+::shared\+\_\+untagged\+\_\+globals\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1238 of file module-\/instantiate.\+cc.



Referenced by Get\+Raw\+Untagged\+Global\+Ptr().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a27262cc634c8f7b70f38b76e3a1a4c7c}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a27262cc634c8f7b70f38b76e3a1a4c7c}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!start\_function\_@{start\_function\_}}
\index{start\_function\_@{start\_function\_}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{start\_function\_}{start\_function\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1JSFunction}{JSFunction}}$>$ v8\+::internal\+::wasm\+::\+Instance\+Builder\+::start\+\_\+function\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1243 of file module-\/instantiate.\+cc.



Referenced by Build\+\_\+\+Phase1(), and Execute\+Start\+Function().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a71497507d2c1ffe7aae80873b0fb2b18}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a71497507d2c1ffe7aae80873b0fb2b18}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!tagged\_globals\_@{tagged\_globals\_}}
\index{tagged\_globals\_@{tagged\_globals\_}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{tagged\_globals\_}{tagged\_globals\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1FixedArray}{Fixed\+Array}}$>$ v8\+::internal\+::wasm\+::\+Instance\+Builder\+::tagged\+\_\+globals\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1239 of file module-\/instantiate.\+cc.



Referenced by Build\+\_\+\+Phase1(), Init\+Globals(), and Write\+Global\+Value().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a725cea88ca63b898d35df6e718bd7b98}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a725cea88ca63b898d35df6e718bd7b98}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!tags\_wrappers\_@{tags\_wrappers\_}}
\index{tags\_wrappers\_@{tags\_wrappers\_}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{tags\_wrappers\_}{tags\_wrappers\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandleVector}{Direct\+Handle\+Vector}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1WasmTagObject}{Wasm\+Tag\+Object}}$>$ v8\+::internal\+::wasm\+::\+Instance\+Builder\+::tags\+\_\+wrappers\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1241 of file module-\/instantiate.\+cc.



Referenced by Build\+\_\+\+Phase1(), Process\+Exports(), and Process\+Imports().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a12c3565e5c8e45732d8390d8bacf0709}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!thrower\_@{thrower\_}}
\index{thrower\_@{thrower\_}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{thrower\_}{thrower\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1ErrorThrower}{Error\+Thrower}}$\ast$ v8\+::internal\+::wasm\+::\+Instance\+Builder\+::thrower\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1231 of file module-\/instantiate.\+cc.



Referenced by Allocate\+Memory(), Build(), Build\+\_\+\+Phase1(), Build\+\_\+\+Phase2(), Configure\+Prototypes\+\_\+\+Modular(), Init\+Globals(), Load\+Data\+Segments(), Load\+Table\+Segments(), Lookup\+Import(), Lookup\+Import\+Asm(), Process\+Imported\+Function(), Process\+Imported\+Global(), Process\+Imported\+Memories(), Process\+Imported\+Table(), Process\+Imported\+Wasm\+Global\+Object(), Process\+Imports(), Sanitize\+Imports(), and Set\+Table\+Initial\+Values().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aea7551d380bf83fce78fac6dae327a78}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_aea7551d380bf83fce78fac6dae327a78}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!trusted\_data\_@{trusted\_data\_}}
\index{trusted\_data\_@{trusted\_data\_}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{trusted\_data\_}{trusted\_data\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1WasmTrustedInstanceData}{Wasm\+Trusted\+Instance\+Data}}$>$ v8\+::internal\+::wasm\+::\+Instance\+Builder\+::trusted\+\_\+data\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1233 of file module-\/instantiate.\+cc.



Referenced by Build(), Build\+\_\+\+Phase1(), Build\+\_\+\+Phase1\+\_\+\+Infallible(), Build\+\_\+\+Phase2(), Init\+Globals(), Initialize\+Tags(), Load\+Data\+Segments(), Load\+Table\+Segments(), Process\+Exports(), Process\+Imports(), and trusted\+\_\+data().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a6388ff7aa2e2e6ba74dce9f0f96167af}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a6388ff7aa2e2e6ba74dce9f0f96167af}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!untagged\_globals\_@{untagged\_globals\_}}
\index{untagged\_globals\_@{untagged\_globals\_}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{untagged\_globals\_}{untagged\_globals\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1JSArrayBuffer}{JSArray\+Buffer}}$>$ v8\+::internal\+::wasm\+::\+Instance\+Builder\+::untagged\+\_\+globals\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1237 of file module-\/instantiate.\+cc.



Referenced by Build\+\_\+\+Phase1(), Get\+Raw\+Untagged\+Global\+Ptr(), and Write\+Global\+Value().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a6a6039aec9f6f9486a58ddc7c4f999d2}\label{classv8_1_1internal_1_1wasm_1_1InstanceBuilder_a6a6039aec9f6f9486a58ddc7c4f999d2}} 
\index{v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}!well\_known\_imports\_@{well\_known\_imports\_}}
\index{well\_known\_imports\_@{well\_known\_imports\_}!v8::internal::wasm::InstanceBuilder@{v8::internal::wasm::InstanceBuilder}}
\doxysubsubsection{\texorpdfstring{well\_known\_imports\_}{well\_known\_imports\_}}
{\footnotesize\ttfamily std\+::vector$<$\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_afaaaa7fd7a0bc697a4d91133566c5c6e}{Well\+Known\+Import}}$>$ v8\+::internal\+::wasm\+::\+Instance\+Builder\+::well\+\_\+known\+\_\+imports\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1245 of file module-\/instantiate.\+cc.



Referenced by Instance\+Builder(), Process\+Imported\+Function(), and Process\+Imports().



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/wasm/\mbox{\hyperlink{module-instantiate_8cc}{module-\/instantiate.\+cc}}\end{DoxyCompactItemize}
