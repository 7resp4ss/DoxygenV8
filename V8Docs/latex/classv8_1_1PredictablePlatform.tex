\hypertarget{classv8_1_1PredictablePlatform}{}\doxysection{v8\+::Predictable\+Platform Class Reference}
\label{classv8_1_1PredictablePlatform}\index{v8::PredictablePlatform@{v8::PredictablePlatform}}


Inheritance diagram for v8\+::Predictable\+Platform\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1PredictablePlatform__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for v8\+::Predictable\+Platform\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1PredictablePlatform__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1PredictablePlatform_ae447868bb632ec22acb121ee7ee24073}{Predictable\+Platform}} (std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1Platform}{Platform}} $>$ \mbox{\hyperlink{classv8_1_1PredictablePlatform_a1a30a1c9949f3c45f0447328f5b352aa}{platform}})
\item 
\mbox{\hyperlink{classv8_1_1PredictablePlatform_aed4d22091b9c2985c49f60a65bb2d2a8}{Predictable\+Platform}} (const \mbox{\hyperlink{classv8_1_1PredictablePlatform}{Predictable\+Platform}} \&)=delete
\item 
\mbox{\hyperlink{classv8_1_1PredictablePlatform}{Predictable\+Platform}} \& \mbox{\hyperlink{classv8_1_1PredictablePlatform_a96a2c91fc39d569dba829fb7eb1e89e3}{operator=}} (const \mbox{\hyperlink{classv8_1_1PredictablePlatform}{Predictable\+Platform}} \&)=delete
\item 
\mbox{\hyperlink{classv8_1_1PageAllocator}{Page\+Allocator}} $\ast$ \mbox{\hyperlink{classv8_1_1PredictablePlatform_ac9e493b7320d723958f47c93dfd1db70}{Get\+Page\+Allocator}} () override
\begin{DoxyCompactList}\small\item\em Allows the embedder to manage memory page allocations. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classv8_1_1PredictablePlatform_abeea60c323e795787753638133ff525e}{On\+Critical\+Memory\+Pressure}} () override
\begin{DoxyCompactList}\small\item\em Enables the embedder to respond in cases where \mbox{\hyperlink{classv8_1_1V8}{V8}} can\textquotesingle{}t allocate large blocks of memory. \end{DoxyCompactList}\item 
std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1TaskRunner}{Task\+Runner}} $>$ \mbox{\hyperlink{classv8_1_1PredictablePlatform_a0bc85deb581db0442a13f73096340656}{Get\+Foreground\+Task\+Runner}} (\mbox{\hyperlink{classv8_1_1Isolate}{v8\+::\+Isolate}} $\ast$isolate, \mbox{\hyperlink{namespacev8_a680c1a715d1d5df94b21e8b1ee1bf051}{Task\+Priority}} priority) override
\begin{DoxyCompactList}\small\item\em Returns a \mbox{\hyperlink{classv8_1_1TaskRunner}{Task\+Runner}} with a specific $\vert$priority$\vert$ which can be used to post a task on the foreground thread. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{classv8_1_1PredictablePlatform_abe8bf7e862a8403649bb3548ceab61ff}{Number\+Of\+Worker\+Threads}} () override
\begin{DoxyCompactList}\small\item\em Gets the max number of worker threads that may be used to execute concurrent work scheduled for any single Task\+Priority by Call(\+Blocking\+Task)On\+Worker\+Thread() or \mbox{\hyperlink{classv8_1_1Platform_adcf8355f078499e5b32541b849a656cf}{Post\+Job()}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classv8_1_1PredictablePlatform_aa8d1e4983bf7363bf085464c6f1ba233}{Post\+Task\+On\+Worker\+Thread\+Impl}} (\mbox{\hyperlink{namespacev8_a680c1a715d1d5df94b21e8b1ee1bf051}{Task\+Priority}} priority, std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1Task}{Task}} $>$ task, const \mbox{\hyperlink{classv8_1_1SourceLocation}{Source\+Location}} \&location) override
\begin{DoxyCompactList}\small\item\em Schedules a task with $\vert$priority$\vert$ to be invoked on a worker thread. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classv8_1_1PredictablePlatform_ae38789c04a66ad4103076f8626e72d1f}{Post\+Delayed\+Task\+On\+Worker\+Thread\+Impl}} (\mbox{\hyperlink{namespacev8_a680c1a715d1d5df94b21e8b1ee1bf051}{Task\+Priority}} priority, std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1Task}{Task}} $>$ task, double delay\+\_\+in\+\_\+seconds, const \mbox{\hyperlink{classv8_1_1SourceLocation}{Source\+Location}} \&location) override
\begin{DoxyCompactList}\small\item\em Schedules a task with $\vert$priority$\vert$ to be invoked on a worker thread after $\vert$delay\+\_\+in\+\_\+seconds$\vert$ expires. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classv8_1_1PredictablePlatform_ad79dbc4e7ebdbbe1c3cc90872161f845}{Idle\+Tasks\+Enabled}} (\mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$isolate) override
\begin{DoxyCompactList}\small\item\em Returns true if idle tasks are enabled for the given $\vert$isolate$\vert$. \end{DoxyCompactList}\item 
std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1JobHandle}{Job\+Handle}} $>$ \mbox{\hyperlink{classv8_1_1PredictablePlatform_a11d5d7ed42394a94b927947bd6ad6c09}{Create\+Job\+Impl}} (\mbox{\hyperlink{namespacev8_a680c1a715d1d5df94b21e8b1ee1bf051}{Task\+Priority}} priority, std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1JobTask}{Job\+Task}} $>$ job\+\_\+task, const \mbox{\hyperlink{classv8_1_1SourceLocation}{Source\+Location}} \&location) override
\begin{DoxyCompactList}\small\item\em Creates and returns a \mbox{\hyperlink{classv8_1_1JobHandle}{Job\+Handle}} associated with a Job. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classv8_1_1PredictablePlatform_a5ea9a10dff864d311e3612ec340a6710}{Monotonically\+Increasing\+Time}} () override
\begin{DoxyCompactList}\small\item\em Monotonically increasing time in seconds from an arbitrary fixed point in the past. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classv8_1_1PredictablePlatform_a910c1b4977cca092adec3d11b3f3b242}{Current\+Clock\+Time\+Millis}} () override
\begin{DoxyCompactList}\small\item\em This function is deprecated and will be deleted. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classv8_1_1TracingController}{v8\+::\+Tracing\+Controller}} $\ast$ \mbox{\hyperlink{classv8_1_1PredictablePlatform_acea822c93bd1f6a51439d21a59aa5d48}{Get\+Tracing\+Controller}} () override
\begin{DoxyCompactList}\small\item\em Returns an instance of a \mbox{\hyperlink{classv8_1_1TracingController}{v8\+::\+Tracing\+Controller}}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classv8_1_1ThreadIsolatedAllocator}{v8\+::\+Thread\+Isolated\+Allocator}} $\ast$ \mbox{\hyperlink{classv8_1_1PredictablePlatform_a5df4fe68823c786137a00e4f7dca8151}{Get\+Thread\+Isolated\+Allocator}} () override
\begin{DoxyCompactList}\small\item\em Allows the embedder to provide an allocator that uses per-\/thread memory permissions to protect allocations. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classv8_1_1Platform}{Platform}} $\ast$ \mbox{\hyperlink{classv8_1_1PredictablePlatform_a1a30a1c9949f3c45f0447328f5b352aa}{platform}} () const
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::atomic$<$ uint64\+\_\+t $>$ \mbox{\hyperlink{classv8_1_1PredictablePlatform_af4d874b81928ad9e78eab0504efe846d}{synthetic\+\_\+time\+\_\+}} \{0\}
\item 
std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1Platform}{Platform}} $>$ \mbox{\hyperlink{classv8_1_1PredictablePlatform_ac6d13a98b291958c50c9bc34678d55cb}{platform\+\_\+}}
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


Definition at line 21 of file d8-\/platforms.\+cc.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1PredictablePlatform_ae447868bb632ec22acb121ee7ee24073}\label{classv8_1_1PredictablePlatform_ae447868bb632ec22acb121ee7ee24073}} 
\index{v8::PredictablePlatform@{v8::PredictablePlatform}!PredictablePlatform@{PredictablePlatform}}
\index{PredictablePlatform@{PredictablePlatform}!v8::PredictablePlatform@{v8::PredictablePlatform}}
\doxysubsubsection{\texorpdfstring{PredictablePlatform()}{PredictablePlatform()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily v8\+::\+Predictable\+Platform\+::\+Predictable\+Platform (\begin{DoxyParamCaption}\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1Platform}{Platform}} $>$}]{platform }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}



Definition at line 23 of file d8-\/platforms.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{24       : \mbox{\hyperlink{classv8_1_1PredictablePlatform_ac6d13a98b291958c50c9bc34678d55cb}{platform\_}}(std::move(\mbox{\hyperlink{classv8_1_1PredictablePlatform_a1a30a1c9949f3c45f0447328f5b352aa}{platform}})) \{}
\DoxyCodeLine{25     \mbox{\hyperlink{src_2base_2logging_8h_a7b9f9517fedacc2a1a56c2bbb9d03688}{DCHECK\_NOT\_NULL}}(\mbox{\hyperlink{classv8_1_1PredictablePlatform_ac6d13a98b291958c50c9bc34678d55cb}{platform\_}});}
\DoxyCodeLine{26   \}}

\end{DoxyCode}


References DCHECK\+\_\+\+NOT\+\_\+\+NULL, and platform\+\_\+.

\mbox{\Hypertarget{classv8_1_1PredictablePlatform_aed4d22091b9c2985c49f60a65bb2d2a8}\label{classv8_1_1PredictablePlatform_aed4d22091b9c2985c49f60a65bb2d2a8}} 
\index{v8::PredictablePlatform@{v8::PredictablePlatform}!PredictablePlatform@{PredictablePlatform}}
\index{PredictablePlatform@{PredictablePlatform}!v8::PredictablePlatform@{v8::PredictablePlatform}}
\doxysubsubsection{\texorpdfstring{PredictablePlatform()}{PredictablePlatform()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily v8\+::\+Predictable\+Platform\+::\+Predictable\+Platform (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1PredictablePlatform}{Predictable\+Platform}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1PredictablePlatform_a11d5d7ed42394a94b927947bd6ad6c09}\label{classv8_1_1PredictablePlatform_a11d5d7ed42394a94b927947bd6ad6c09}} 
\index{v8::PredictablePlatform@{v8::PredictablePlatform}!CreateJobImpl@{CreateJobImpl}}
\index{CreateJobImpl@{CreateJobImpl}!v8::PredictablePlatform@{v8::PredictablePlatform}}
\doxysubsubsection{\texorpdfstring{CreateJobImpl()}{CreateJobImpl()}}
{\footnotesize\ttfamily std\+::unique\+\_\+ptr$<$\mbox{\hyperlink{classv8_1_1JobHandle}{Job\+Handle}}$>$ v8\+::\+Predictable\+Platform\+::\+Create\+Job\+Impl (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_a680c1a715d1d5df94b21e8b1ee1bf051}{Task\+Priority}}}]{priority,  }\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1JobTask}{Job\+Task}} $>$}]{job\+\_\+task,  }\item[{const \mbox{\hyperlink{classv8_1_1SourceLocation}{Source\+Location}} \&}]{location }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Creates and returns a \mbox{\hyperlink{classv8_1_1JobHandle}{Job\+Handle}} associated with a Job. 



Implements \mbox{\hyperlink{classv8_1_1Platform_a7aec05f67d948b02c57c5348ef2e1020}{v8\+::\+Platform}}.



Definition at line 77 of file d8-\/platforms.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{79                                                \{}
\DoxyCodeLine{80     \textcolor{comment}{// Do not call \{platform\_-\/>PostJob\} here, as this would create a job that}}
\DoxyCodeLine{81     \textcolor{comment}{// posts tasks directly to the underlying default platform.}}
\DoxyCodeLine{82     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1platform_ade3f8deb2db65fce45d1d7ecabb83f8c}{platform::NewDefaultJobHandle}}(\textcolor{keyword}{this}, priority, std::move(job\_task),}
\DoxyCodeLine{83                                          \mbox{\hyperlink{classv8_1_1PredictablePlatform_abe8bf7e862a8403649bb3548ceab61ff}{NumberOfWorkerThreads}}());}
\DoxyCodeLine{84   \}}

\end{DoxyCode}


References v8\+::platform\+::\+New\+Default\+Job\+Handle(), and Number\+Of\+Worker\+Threads().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1PredictablePlatform_a11d5d7ed42394a94b927947bd6ad6c09_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1PredictablePlatform_a910c1b4977cca092adec3d11b3f3b242}\label{classv8_1_1PredictablePlatform_a910c1b4977cca092adec3d11b3f3b242}} 
\index{v8::PredictablePlatform@{v8::PredictablePlatform}!CurrentClockTimeMillis@{CurrentClockTimeMillis}}
\index{CurrentClockTimeMillis@{CurrentClockTimeMillis}!v8::PredictablePlatform@{v8::PredictablePlatform}}
\doxysubsubsection{\texorpdfstring{CurrentClockTimeMillis()}{CurrentClockTimeMillis()}}
{\footnotesize\ttfamily double v8\+::\+Predictable\+Platform\+::\+Current\+Clock\+Time\+Millis (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



This function is deprecated and will be deleted. 

Use either \mbox{\hyperlink{classv8_1_1Platform_a8a2937ac932b73a26725b5dc43951782}{Current\+Clock\+Time\+Milliseconds()}} or \mbox{\hyperlink{classv8_1_1Platform_abaa27dcff934637ff24f11b4fdcfd905}{Current\+Clock\+Time\+Milliseconds\+High\+Resolution()}}. 

Implements \mbox{\hyperlink{classv8_1_1Platform_a8aa46c7f8e492351ebe1bc8168ec9c2f}{v8\+::\+Platform}}.



Definition at line 97 of file d8-\/platforms.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{97                                            \{}
\DoxyCodeLine{98     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1PredictablePlatform_a5ea9a10dff864d311e3612ec340a6710}{MonotonicallyIncreasingTime}}() * \mbox{\hyperlink{classv8_1_1base_1_1TimeConstants_ad0495a90be57e1e77906fcaa98e9aece}{base::Time::kMillisecondsPerSecond}};}
\DoxyCodeLine{99   \}}

\end{DoxyCode}


References v8\+::base\+::\+Time\+Constants\+::k\+Milliseconds\+Per\+Second, and Monotonically\+Increasing\+Time().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1PredictablePlatform_a910c1b4977cca092adec3d11b3f3b242_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1PredictablePlatform_a0bc85deb581db0442a13f73096340656}\label{classv8_1_1PredictablePlatform_a0bc85deb581db0442a13f73096340656}} 
\index{v8::PredictablePlatform@{v8::PredictablePlatform}!GetForegroundTaskRunner@{GetForegroundTaskRunner}}
\index{GetForegroundTaskRunner@{GetForegroundTaskRunner}!v8::PredictablePlatform@{v8::PredictablePlatform}}
\doxysubsubsection{\texorpdfstring{GetForegroundTaskRunner()}{GetForegroundTaskRunner()}}
{\footnotesize\ttfamily std\+::shared\+\_\+ptr$<$\mbox{\hyperlink{classv8_1_1TaskRunner}{Task\+Runner}}$>$ v8\+::\+Predictable\+Platform\+::\+Get\+Foreground\+Task\+Runner (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1Isolate}{v8\+::\+Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{namespacev8_a680c1a715d1d5df94b21e8b1ee1bf051}{Task\+Priority}}}]{priority }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Returns a \mbox{\hyperlink{classv8_1_1TaskRunner}{Task\+Runner}} with a specific $\vert$priority$\vert$ which can be used to post a task on the foreground thread. 

The \mbox{\hyperlink{classv8_1_1TaskRunner}{Task\+Runner}}\textquotesingle{}s Non\+Nestable\+Tasks\+Enabled() must be true. This function should only be called from a foreground thread. 

Implements \mbox{\hyperlink{classv8_1_1Platform_a04f931fc6711ade33f51b8c24e25f179}{v8\+::\+Platform}}.



Definition at line 39 of file d8-\/platforms.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{40                                                           \{}
\DoxyCodeLine{41     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1PredictablePlatform_ac6d13a98b291958c50c9bc34678d55cb}{platform\_}}-\/>GetForegroundTaskRunner(isolate, priority);}
\DoxyCodeLine{42   \}}

\end{DoxyCode}


References platform\+\_\+.

\mbox{\Hypertarget{classv8_1_1PredictablePlatform_ac9e493b7320d723958f47c93dfd1db70}\label{classv8_1_1PredictablePlatform_ac9e493b7320d723958f47c93dfd1db70}} 
\index{v8::PredictablePlatform@{v8::PredictablePlatform}!GetPageAllocator@{GetPageAllocator}}
\index{GetPageAllocator@{GetPageAllocator}!v8::PredictablePlatform@{v8::PredictablePlatform}}
\doxysubsubsection{\texorpdfstring{GetPageAllocator()}{GetPageAllocator()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1PageAllocator}{Page\+Allocator}}$\ast$ v8\+::\+Predictable\+Platform\+::\+Get\+Page\+Allocator (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Allows the embedder to manage memory page allocations. 

Returning nullptr will cause \mbox{\hyperlink{classv8_1_1V8}{V8}} to use the default page allocator. 

Reimplemented from \mbox{\hyperlink{classv8_1_1Platform_ab7c1886dd8131f7389b805bc98276702}{v8\+::\+Platform}}.



Definition at line 31 of file d8-\/platforms.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{31                                              \{}
\DoxyCodeLine{32     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1PredictablePlatform_ac6d13a98b291958c50c9bc34678d55cb}{platform\_}}-\/>GetPageAllocator();}
\DoxyCodeLine{33   \}}

\end{DoxyCode}


References platform\+\_\+.

\mbox{\Hypertarget{classv8_1_1PredictablePlatform_a5df4fe68823c786137a00e4f7dca8151}\label{classv8_1_1PredictablePlatform_a5df4fe68823c786137a00e4f7dca8151}} 
\index{v8::PredictablePlatform@{v8::PredictablePlatform}!GetThreadIsolatedAllocator@{GetThreadIsolatedAllocator}}
\index{GetThreadIsolatedAllocator@{GetThreadIsolatedAllocator}!v8::PredictablePlatform@{v8::PredictablePlatform}}
\doxysubsubsection{\texorpdfstring{GetThreadIsolatedAllocator()}{GetThreadIsolatedAllocator()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1ThreadIsolatedAllocator}{v8\+::\+Thread\+Isolated\+Allocator}}$\ast$ v8\+::\+Predictable\+Platform\+::\+Get\+Thread\+Isolated\+Allocator (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Allows the embedder to provide an allocator that uses per-\/thread memory permissions to protect allocations. 

Returning nullptr will cause \mbox{\hyperlink{classv8_1_1V8}{V8}} to disable protections that rely on this feature. 

Reimplemented from \mbox{\hyperlink{classv8_1_1Platform_aa9a740ff12eeafa448dd84a1bde7631b}{v8\+::\+Platform}}.



Definition at line 105 of file d8-\/platforms.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{105                                                                    \{}
\DoxyCodeLine{106     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1PredictablePlatform_ac6d13a98b291958c50c9bc34678d55cb}{platform\_}}-\/>GetThreadIsolatedAllocator();}
\DoxyCodeLine{107   \}}

\end{DoxyCode}


References platform\+\_\+.

\mbox{\Hypertarget{classv8_1_1PredictablePlatform_acea822c93bd1f6a51439d21a59aa5d48}\label{classv8_1_1PredictablePlatform_acea822c93bd1f6a51439d21a59aa5d48}} 
\index{v8::PredictablePlatform@{v8::PredictablePlatform}!GetTracingController@{GetTracingController}}
\index{GetTracingController@{GetTracingController}!v8::PredictablePlatform@{v8::PredictablePlatform}}
\doxysubsubsection{\texorpdfstring{GetTracingController()}{GetTracingController()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1TracingController}{v8\+::\+Tracing\+Controller}}$\ast$ v8\+::\+Predictable\+Platform\+::\+Get\+Tracing\+Controller (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Returns an instance of a \mbox{\hyperlink{classv8_1_1TracingController}{v8\+::\+Tracing\+Controller}}. 

This must be non-\/nullptr. 

Implements \mbox{\hyperlink{classv8_1_1Platform_aa760c7bf8c46495eb650d2be72399747}{v8\+::\+Platform}}.



Definition at line 101 of file d8-\/platforms.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{101                                                        \{}
\DoxyCodeLine{102     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1PredictablePlatform_ac6d13a98b291958c50c9bc34678d55cb}{platform\_}}-\/>GetTracingController();}
\DoxyCodeLine{103   \}}

\end{DoxyCode}


References platform\+\_\+.

\mbox{\Hypertarget{classv8_1_1PredictablePlatform_ad79dbc4e7ebdbbe1c3cc90872161f845}\label{classv8_1_1PredictablePlatform_ad79dbc4e7ebdbbe1c3cc90872161f845}} 
\index{v8::PredictablePlatform@{v8::PredictablePlatform}!IdleTasksEnabled@{IdleTasksEnabled}}
\index{IdleTasksEnabled@{IdleTasksEnabled}!v8::PredictablePlatform@{v8::PredictablePlatform}}
\doxysubsubsection{\texorpdfstring{IdleTasksEnabled()}{IdleTasksEnabled()}}
{\footnotesize\ttfamily bool v8\+::\+Predictable\+Platform\+::\+Idle\+Tasks\+Enabled (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$}]{isolate }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Returns true if idle tasks are enabled for the given $\vert$isolate$\vert$. 



Reimplemented from \mbox{\hyperlink{classv8_1_1Platform_ad229642bf16a066d2e8d866dc128141e}{v8\+::\+Platform}}.



Definition at line 75 of file d8-\/platforms.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{75 \{ \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \}}

\end{DoxyCode}
\mbox{\Hypertarget{classv8_1_1PredictablePlatform_a5ea9a10dff864d311e3612ec340a6710}\label{classv8_1_1PredictablePlatform_a5ea9a10dff864d311e3612ec340a6710}} 
\index{v8::PredictablePlatform@{v8::PredictablePlatform}!MonotonicallyIncreasingTime@{MonotonicallyIncreasingTime}}
\index{MonotonicallyIncreasingTime@{MonotonicallyIncreasingTime}!v8::PredictablePlatform@{v8::PredictablePlatform}}
\doxysubsubsection{\texorpdfstring{MonotonicallyIncreasingTime()}{MonotonicallyIncreasingTime()}}
{\footnotesize\ttfamily double v8\+::\+Predictable\+Platform\+::\+Monotonically\+Increasing\+Time (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Monotonically increasing time in seconds from an arbitrary fixed point in the past. 

This function is expected to return at least millisecond-\/precision values. For this reason, it is recommended that the fixed point be no further in the past than the epoch. 

Implements \mbox{\hyperlink{classv8_1_1Platform_a6d4d7c2dcf6b0c7113099b97fa7f57b7}{v8\+::\+Platform}}.



Definition at line 86 of file d8-\/platforms.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{86                                                 \{}
\DoxyCodeLine{87     \textcolor{comment}{// In predictable mode, there should be no (observable) concurrency, but we}}
\DoxyCodeLine{88     \textcolor{comment}{// still run some tests that explicitly specify '-\/-\/predictable' in the}}
\DoxyCodeLine{89     \textcolor{comment}{// '-\/-\/isolates' variant, where several threads run the same test in}}
\DoxyCodeLine{90     \textcolor{comment}{// different isolates. To avoid TSan issues in that scenario we use atomic}}
\DoxyCodeLine{91     \textcolor{comment}{// increments here.}}
\DoxyCodeLine{92     uint64\_t synthetic\_time =}
\DoxyCodeLine{93         \mbox{\hyperlink{classv8_1_1PredictablePlatform_af4d874b81928ad9e78eab0504efe846d}{synthetic\_time\_}}.fetch\_add(1, std::memory\_order\_relaxed);}
\DoxyCodeLine{94     \textcolor{keywordflow}{return} 1e-\/5 * synthetic\_time;}
\DoxyCodeLine{95   \}}

\end{DoxyCode}


References synthetic\+\_\+time\+\_\+.



Referenced by Current\+Clock\+Time\+Millis().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1PredictablePlatform_a5ea9a10dff864d311e3612ec340a6710_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1PredictablePlatform_abe8bf7e862a8403649bb3548ceab61ff}\label{classv8_1_1PredictablePlatform_abe8bf7e862a8403649bb3548ceab61ff}} 
\index{v8::PredictablePlatform@{v8::PredictablePlatform}!NumberOfWorkerThreads@{NumberOfWorkerThreads}}
\index{NumberOfWorkerThreads@{NumberOfWorkerThreads}!v8::PredictablePlatform@{v8::PredictablePlatform}}
\doxysubsubsection{\texorpdfstring{NumberOfWorkerThreads()}{NumberOfWorkerThreads()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classint}{int}} v8\+::\+Predictable\+Platform\+::\+Number\+Of\+Worker\+Threads (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Gets the max number of worker threads that may be used to execute concurrent work scheduled for any single Task\+Priority by Call(\+Blocking\+Task)On\+Worker\+Thread() or \mbox{\hyperlink{classv8_1_1Platform_adcf8355f078499e5b32541b849a656cf}{Post\+Job()}}. 

This can be used to estimate the number of tasks a work package should be split into. A return value of 0 means that there are no worker threads available. Note that a value of 0 won\textquotesingle{}t prohibit \mbox{\hyperlink{classv8_1_1V8}{V8}} from posting tasks using $\vert$\+Call\+On\+Worker\+Thread$\vert$. 

Implements \mbox{\hyperlink{classv8_1_1Platform_a57cdd7eb4c482bfb806c378beeda716d}{v8\+::\+Platform}}.



Definition at line 44 of file d8-\/platforms.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{44                                        \{}
\DoxyCodeLine{45     \textcolor{comment}{// The predictable platform executes everything on the main thread, but we}}
\DoxyCodeLine{46     \textcolor{comment}{// still pretend to have the default number of worker threads to not}}
\DoxyCodeLine{47     \textcolor{comment}{// unnecessarily change behaviour of the platform.}}
\DoxyCodeLine{48     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1PredictablePlatform_ac6d13a98b291958c50c9bc34678d55cb}{platform\_}}-\/>NumberOfWorkerThreads();}
\DoxyCodeLine{49   \}}

\end{DoxyCode}


References platform\+\_\+.



Referenced by Create\+Job\+Impl().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1PredictablePlatform_abe8bf7e862a8403649bb3548ceab61ff_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1PredictablePlatform_abeea60c323e795787753638133ff525e}\label{classv8_1_1PredictablePlatform_abeea60c323e795787753638133ff525e}} 
\index{v8::PredictablePlatform@{v8::PredictablePlatform}!OnCriticalMemoryPressure@{OnCriticalMemoryPressure}}
\index{OnCriticalMemoryPressure@{OnCriticalMemoryPressure}!v8::PredictablePlatform@{v8::PredictablePlatform}}
\doxysubsubsection{\texorpdfstring{OnCriticalMemoryPressure()}{OnCriticalMemoryPressure()}}
{\footnotesize\ttfamily void v8\+::\+Predictable\+Platform\+::\+On\+Critical\+Memory\+Pressure (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Enables the embedder to respond in cases where \mbox{\hyperlink{classv8_1_1V8}{V8}} can\textquotesingle{}t allocate large blocks of memory. 

\mbox{\hyperlink{classv8_1_1V8}{V8}} retries the failed allocation once after calling this method. On success, execution continues; otherwise \mbox{\hyperlink{classv8_1_1V8}{V8}} exits with a fatal error. Embedder overrides of this function must NOT call back into \mbox{\hyperlink{classv8_1_1V8}{V8}}. 

Reimplemented from \mbox{\hyperlink{classv8_1_1Platform_a7ed41bddc1d1ebe51c55539198d0026e}{v8\+::\+Platform}}.



Definition at line 35 of file d8-\/platforms.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{35                                            \{}
\DoxyCodeLine{36     \mbox{\hyperlink{classv8_1_1PredictablePlatform_ac6d13a98b291958c50c9bc34678d55cb}{platform\_}}-\/>OnCriticalMemoryPressure();}
\DoxyCodeLine{37   \}}

\end{DoxyCode}


References platform\+\_\+.

\mbox{\Hypertarget{classv8_1_1PredictablePlatform_a96a2c91fc39d569dba829fb7eb1e89e3}\label{classv8_1_1PredictablePlatform_a96a2c91fc39d569dba829fb7eb1e89e3}} 
\index{v8::PredictablePlatform@{v8::PredictablePlatform}!operator=@{operator=}}
\index{operator=@{operator=}!v8::PredictablePlatform@{v8::PredictablePlatform}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1PredictablePlatform}{Predictable\+Platform}}\& v8\+::\+Predictable\+Platform\+::operator= (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1PredictablePlatform}{Predictable\+Platform}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}

\mbox{\Hypertarget{classv8_1_1PredictablePlatform_a1a30a1c9949f3c45f0447328f5b352aa}\label{classv8_1_1PredictablePlatform_a1a30a1c9949f3c45f0447328f5b352aa}} 
\index{v8::PredictablePlatform@{v8::PredictablePlatform}!platform@{platform}}
\index{platform@{platform}!v8::PredictablePlatform@{v8::PredictablePlatform}}
\doxysubsubsection{\texorpdfstring{platform()}{platform()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1Platform}{Platform}}$\ast$ v8\+::\+Predictable\+Platform\+::platform (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 109 of file d8-\/platforms.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{109 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1PredictablePlatform_ac6d13a98b291958c50c9bc34678d55cb}{platform\_}}.get(); \}}

\end{DoxyCode}


References platform\+\_\+.

\mbox{\Hypertarget{classv8_1_1PredictablePlatform_ae38789c04a66ad4103076f8626e72d1f}\label{classv8_1_1PredictablePlatform_ae38789c04a66ad4103076f8626e72d1f}} 
\index{v8::PredictablePlatform@{v8::PredictablePlatform}!PostDelayedTaskOnWorkerThreadImpl@{PostDelayedTaskOnWorkerThreadImpl}}
\index{PostDelayedTaskOnWorkerThreadImpl@{PostDelayedTaskOnWorkerThreadImpl}!v8::PredictablePlatform@{v8::PredictablePlatform}}
\doxysubsubsection{\texorpdfstring{PostDelayedTaskOnWorkerThreadImpl()}{PostDelayedTaskOnWorkerThreadImpl()}}
{\footnotesize\ttfamily void v8\+::\+Predictable\+Platform\+::\+Post\+Delayed\+Task\+On\+Worker\+Thread\+Impl (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_a680c1a715d1d5df94b21e8b1ee1bf051}{Task\+Priority}}}]{priority,  }\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1Task}{Task}} $>$}]{task,  }\item[{double}]{delay\+\_\+in\+\_\+seconds,  }\item[{const \mbox{\hyperlink{classv8_1_1SourceLocation}{Source\+Location}} \&}]{location }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Schedules a task with $\vert$priority$\vert$ to be invoked on a worker thread after $\vert$delay\+\_\+in\+\_\+seconds$\vert$ expires. 



Implements \mbox{\hyperlink{classv8_1_1Platform_a1f3c56c242483110289fa84b616f3dab}{v8\+::\+Platform}}.



Definition at line 69 of file d8-\/platforms.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{71                                                                         \{}
\DoxyCodeLine{72     \textcolor{comment}{// Never run delayed tasks.}}
\DoxyCodeLine{73   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classv8_1_1PredictablePlatform_aa8d1e4983bf7363bf085464c6f1ba233}\label{classv8_1_1PredictablePlatform_aa8d1e4983bf7363bf085464c6f1ba233}} 
\index{v8::PredictablePlatform@{v8::PredictablePlatform}!PostTaskOnWorkerThreadImpl@{PostTaskOnWorkerThreadImpl}}
\index{PostTaskOnWorkerThreadImpl@{PostTaskOnWorkerThreadImpl}!v8::PredictablePlatform@{v8::PredictablePlatform}}
\doxysubsubsection{\texorpdfstring{PostTaskOnWorkerThreadImpl()}{PostTaskOnWorkerThreadImpl()}}
{\footnotesize\ttfamily void v8\+::\+Predictable\+Platform\+::\+Post\+Task\+On\+Worker\+Thread\+Impl (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_a680c1a715d1d5df94b21e8b1ee1bf051}{Task\+Priority}}}]{priority,  }\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1Task}{Task}} $>$}]{task,  }\item[{const \mbox{\hyperlink{classv8_1_1SourceLocation}{Source\+Location}} \&}]{location }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Schedules a task with $\vert$priority$\vert$ to be invoked on a worker thread. 



Implements \mbox{\hyperlink{classv8_1_1Platform_abea85437879089beabc43f07d963fc90}{v8\+::\+Platform}}.



Definition at line 51 of file d8-\/platforms.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{53                                                                            \{}
\DoxyCodeLine{54     \textcolor{comment}{// We post worker tasks on the foreground task runner of the}}
\DoxyCodeLine{55     \textcolor{comment}{// \{kProcessGlobalPredictablePlatformWorkerTaskQueue\} isolate. The task}}
\DoxyCodeLine{56     \textcolor{comment}{// queue of the \{kProcessGlobalPredictablePlatformWorkerTaskQueue\} isolate}}
\DoxyCodeLine{57     \textcolor{comment}{// is then executed on the main thread to achieve predictable behavior.}}
\DoxyCodeLine{58     \textcolor{comment}{//}}
\DoxyCodeLine{59     \textcolor{comment}{// In this context here it is okay to call \{GetForegroundTaskRunner\} from a}}
\DoxyCodeLine{60     \textcolor{comment}{// background thread. The reason is that code is executed sequentially with}}
\DoxyCodeLine{61     \textcolor{comment}{// the PredictablePlatform, and that the \{DefaultPlatform\} does not access}}
\DoxyCodeLine{62     \textcolor{comment}{// the isolate but only uses it as the key in a HashMap.}}
\DoxyCodeLine{63     \mbox{\hyperlink{classv8_1_1PredictablePlatform_ac6d13a98b291958c50c9bc34678d55cb}{platform\_}}}
\DoxyCodeLine{64         -\/>GetForegroundTaskRunner(}
\DoxyCodeLine{65             \mbox{\hyperlink{namespacev8_a79cf7147cac264d4342e2e6cff3473ed}{kProcessGlobalPredictablePlatformWorkerTaskQueue}}, priority)}
\DoxyCodeLine{66         -\/>PostTask(std::move(task));}
\DoxyCodeLine{67   \}}

\end{DoxyCode}


References v8\+::k\+Process\+Global\+Predictable\+Platform\+Worker\+Task\+Queue, and platform\+\_\+.



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1PredictablePlatform_ac6d13a98b291958c50c9bc34678d55cb}\label{classv8_1_1PredictablePlatform_ac6d13a98b291958c50c9bc34678d55cb}} 
\index{v8::PredictablePlatform@{v8::PredictablePlatform}!platform\_@{platform\_}}
\index{platform\_@{platform\_}!v8::PredictablePlatform@{v8::PredictablePlatform}}
\doxysubsubsection{\texorpdfstring{platform\_}{platform\_}}
{\footnotesize\ttfamily std\+::unique\+\_\+ptr$<$\mbox{\hyperlink{classv8_1_1Platform}{Platform}}$>$ v8\+::\+Predictable\+Platform\+::platform\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 113 of file d8-\/platforms.\+cc.



Referenced by Get\+Foreground\+Task\+Runner(), Get\+Page\+Allocator(), Get\+Thread\+Isolated\+Allocator(), Get\+Tracing\+Controller(), Number\+Of\+Worker\+Threads(), On\+Critical\+Memory\+Pressure(), platform(), Post\+Task\+On\+Worker\+Thread\+Impl(), and Predictable\+Platform().

\mbox{\Hypertarget{classv8_1_1PredictablePlatform_af4d874b81928ad9e78eab0504efe846d}\label{classv8_1_1PredictablePlatform_af4d874b81928ad9e78eab0504efe846d}} 
\index{v8::PredictablePlatform@{v8::PredictablePlatform}!synthetic\_time\_@{synthetic\_time\_}}
\index{synthetic\_time\_@{synthetic\_time\_}!v8::PredictablePlatform@{v8::PredictablePlatform}}
\doxysubsubsection{\texorpdfstring{synthetic\_time\_}{synthetic\_time\_}}
{\footnotesize\ttfamily std\+::atomic$<$uint64\+\_\+t$>$ v8\+::\+Predictable\+Platform\+::synthetic\+\_\+time\+\_\+ \{0\}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 112 of file d8-\/platforms.\+cc.



Referenced by Monotonically\+Increasing\+Time().



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/d8/\mbox{\hyperlink{d8-platforms_8cc}{d8-\/platforms.\+cc}}\end{DoxyCompactItemize}
