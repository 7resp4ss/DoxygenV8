\hypertarget{classv8_1_1internal_1_1BackingStore}{}\doxysection{v8\+::internal\+::Backing\+Store Class Reference}
\label{classv8_1_1internal_1_1BackingStore}\index{v8::internal::BackingStore@{v8::internal::BackingStore}}


{\ttfamily \#include $<$backing-\/store.\+h$>$}



Inheritance diagram for v8\+::internal\+::Backing\+Store\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1BackingStore__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for v8\+::internal\+::Backing\+Store\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BackingStore__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
union \mbox{\hyperlink{unionv8_1_1internal_1_1BackingStore_1_1TypeSpecificData}{Type\+Specific\+Data}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_aab34dd77381c9e228375bfae8fae28d7}{Resize\+Or\+Grow\+Result}} \{ \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_aab34dd77381c9e228375bfae8fae28d7aa25ddfe5f11c17157e161edd9afd933f}{k\+Success}}
, \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_aab34dd77381c9e228375bfae8fae28d7a2facbfb720d8f652c576c26ddd253982}{k\+Failure}}
, \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_aab34dd77381c9e228375bfae8fae28d7a1e2d07bb7bd779234bcf3eb8e81143d1}{k\+Race}}
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ae14402f37d1a3e964898188f8d5ea345}{$\sim$\+Backing\+Store}} ()
\item 
void $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0b207df70ee775dac1f8332591f41362}{buffer\+\_\+start}} () const
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ab5f060a468e2d0b8ad17bcad0a9f3d26}{byte\+\_\+length}} (std\+::memory\+\_\+order memory\+\_\+order=std\+::memory\+\_\+order\+\_\+relaxed) const
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a64bbbcd6c2a9fba5824432ac58428b95}{max\+\_\+byte\+\_\+length}} () const
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ab76e4ee584f63c9a2be17a036fa29102}{byte\+\_\+capacity}} () const
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a402d443b520a53485151c9d2285ce62d}{is\+\_\+shared}} () const
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ab219feebf565e2deae9ef2beb1fd9c6e}{is\+\_\+resizable\+\_\+by\+\_\+js}} () const
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a6549ac91d2a87c9ec3e5d569d1f27cd9}{is\+\_\+wasm\+\_\+memory}} () const
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ad37c31d6c2b299b46b78f43029fa19fe}{is\+\_\+wasm\+\_\+memory64}} () const
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a9a0fcb0b7206a8b542c1e841f1a8f28c}{has\+\_\+guard\+\_\+regions}} () const
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a71e8062413fb16de06849f48b315426f}{Is\+Empty}} () const
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_aab34dd77381c9e228375bfae8fae28d7}{Resize\+Or\+Grow\+Result}} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ae5929dedd03eb03ff23ae46e2ef0d318}{Resize\+In\+Place}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} new\+\_\+byte\+\_\+length)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_aab34dd77381c9e228375bfae8fae28d7}{Resize\+Or\+Grow\+Result}} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a114a717a1c979e511051ba890321585f}{Grow\+In\+Place}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} new\+\_\+byte\+\_\+length)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_aafef5739329690969e3b5268e3e7ff0e}{Per\+Isolate\+Accounting\+Length}} ()
\item 
uint32\+\_\+t \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ae8e86673479c52203ec2617fd88cbf37}{id}} () const
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore}{Backing\+Store}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a452e0fa56230d27400718e003b3d5638}{Allocate}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ab5f060a468e2d0b8ad17bcad0a9f3d26}{byte\+\_\+length}}, \mbox{\hyperlink{namespacev8_1_1internal_a680ace1d3e86dae2df93867132a3c160}{Shared\+Flag}} shared, \mbox{\hyperlink{namespacev8_1_1internal_a6d3f691695696e478ebb4a18ab857bfa}{Initialized\+Flag}} initialized)
\item 
static std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore}{Backing\+Store}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a16e425ce07e504ff3bb7d238b825704c}{Try\+Allocate\+And\+Partially\+Commit\+Memory}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ab5f060a468e2d0b8ad17bcad0a9f3d26}{byte\+\_\+length}}, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a64bbbcd6c2a9fba5824432ac58428b95}{max\+\_\+byte\+\_\+length}}, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} page\+\_\+size, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} initial\+\_\+pages, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} maximum\+\_\+pages, \mbox{\hyperlink{namespacev8_1_1internal_a5ccd81f4720c063fbbb03699603034c6}{Wasm\+Memory\+Flag}} wasm\+\_\+memory, \mbox{\hyperlink{namespacev8_1_1internal_a680ace1d3e86dae2df93867132a3c160}{Shared\+Flag}} shared, \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a9a0fcb0b7206a8b542c1e841f1a8f28c}{has\+\_\+guard\+\_\+regions}}=\mbox{\hyperlink{flag-definitions_8h_a3a9beadc89284d3f78a7d4945b1b4d8c}{false}})
\item 
static std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore}{Backing\+Store}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a2067951c5d4377b698d7799bc63af02a}{Wrap\+Allocation}} (void $\ast$allocation\+\_\+base, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} allocation\+\_\+length, \mbox{\hyperlink{classv8_1_1BackingStore_ab2d10e4c046ba17490364168d1e190b0}{v8\+::\+Backing\+Store\+::\+Deleter\+Callback}} deleter, void $\ast$deleter\+\_\+data, \mbox{\hyperlink{namespacev8_1_1internal_a680ace1d3e86dae2df93867132a3c160}{Shared\+Flag}} shared)
\item 
static std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore}{Backing\+Store}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a6e20cd7042a45d5a989c784030fed72c}{Empty\+Backing\+Store}} (\mbox{\hyperlink{namespacev8_1_1internal_a680ace1d3e86dae2df93867132a3c160}{Shared\+Flag}} shared)
\end{DoxyCompactItemize}
\doxysubsection*{Private Types}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684}{Flag}} \{ \newline
\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684aec0e2e86871d22c5cbc291399d2f0cba}{k\+Is\+Shared}}
, \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684a6f317672af8a4a4bde22d1870233146b}{k\+Is\+Resizable\+By\+Js}}
, \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684aea989e899db1df0a5a532b26aa7bb1ef}{k\+Is\+Wasm\+Memory}}
, \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684afd330dc94decccbe73b9a0cd75717c3d}{k\+Is\+Wasm\+Memory64}}
, \newline
\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684a35051e135b07ad3c9aab0dd7de3ba7a1}{k\+Holds\+Shared\+Ptr\+To\+Allocater}}
, \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684a7fc18bb87de135d508aae29e8d1fa2e0}{k\+Has\+Guard\+Regions}}
, \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684a73e0a98bc0d933aa795474ed137564d6}{k\+Globally\+Registered}}
, \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684a7cde716fde126dfc8823ce3cd5323ef7}{k\+Custom\+Deleter}}
, \newline
\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684adb6b5263fa5b2ea3364f97fcbd95e5f7}{k\+Empty\+Deleter}}
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a3c7b4df60abfddb797e6962076b674b0}{Backing\+Store}} (\mbox{\hyperlink{classv8_1_1PageAllocator}{Page\+Allocator}} $\ast$page\+\_\+allocator, void $\ast$\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0b207df70ee775dac1f8332591f41362}{buffer\+\_\+start}}, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ab5f060a468e2d0b8ad17bcad0a9f3d26}{byte\+\_\+length}}, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a64bbbcd6c2a9fba5824432ac58428b95}{max\+\_\+byte\+\_\+length}}, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ab76e4ee584f63c9a2be17a036fa29102}{byte\+\_\+capacity}}, \mbox{\hyperlink{namespacev8_1_1internal_a680ace1d3e86dae2df93867132a3c160}{Shared\+Flag}} shared, \mbox{\hyperlink{namespacev8_1_1internal_ab10416aabce855093f2c91151df24348}{Resizable\+Flag}} resizable, \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a6549ac91d2a87c9ec3e5d569d1f27cd9}{is\+\_\+wasm\+\_\+memory}}, \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ad37c31d6c2b299b46b78f43029fa19fe}{is\+\_\+wasm\+\_\+memory64}}, \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a9a0fcb0b7206a8b542c1e841f1a8f28c}{has\+\_\+guard\+\_\+regions}}, \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a3c077e474c4a471e92903636e9d04b7e}{custom\+\_\+deleter}}, \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} empty\+\_\+deleter)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0282cadcc561732ab479c8ec67cf89f1}{Backing\+Store}} (const \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore}{Backing\+Store}} \&)=delete
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore}{Backing\+Store}} \& \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_adce4ad02d5760169be7acbbd8149d674}{operator=}} (const \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore}{Backing\+Store}} \&)=delete
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a7739254c12bdc22180aadbd4145f2846}{Set\+Allocator\+From\+Isolate}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate)
\item 
\mbox{\hyperlink{classv8_1_1ArrayBuffer_1_1Allocator}{v8\+::\+Array\+Buffer\+::\+Allocator}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a70a1187cdc0344aa3472ff714a0d4364}{get\+\_\+v8\+\_\+api\+\_\+array\+\_\+buffer\+\_\+allocator}} ()
\item 
\mbox{\hyperlink{structv8_1_1internal_1_1SharedWasmMemoryData}{Shared\+Wasm\+Memory\+Data}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a88544c8b06fedbb7c3cd0dc4d0904634}{get\+\_\+shared\+\_\+wasm\+\_\+memory\+\_\+data}} () const
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a8f95eddec1566711eb047ce519b05e74}{has\+\_\+flag}} (\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684}{Flag}} flag) const
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ad0beaf6e7998f42a780eea2f02b24bdc}{set\+\_\+flag}} (\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684}{Flag}} flag)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0c8022f2e041406fac58c40d3e12cb4f}{clear\+\_\+flag}} (\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684}{Flag}} flag)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a62e7a3f9c6cb613793e515abc495a54e}{holds\+\_\+shared\+\_\+ptr\+\_\+to\+\_\+allocator}} () const
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a3c077e474c4a471e92903636e9d04b7e}{custom\+\_\+deleter}} () const
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a3f8edbfeb73b5ab2f2768e0de9c2507e}{globally\+\_\+registered}} () const
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
void $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a78a522363c3d04a38e1420392ff73151}{buffer\+\_\+start\+\_\+}} = \mbox{\hyperlink{flag-definitions_8h_aca14fbede0905858c819226fce3678cc}{nullptr}}
\item 
std\+::atomic$<$ \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a810fccd58059bbb33821cf4158001269}{byte\+\_\+length\+\_\+}}
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a326b5343db3393753cef809bc3656add}{max\+\_\+byte\+\_\+length\+\_\+}}
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a38fea92df41ebe4ecc690393f09628a8}{byte\+\_\+capacity\+\_\+}}
\item 
const uint32\+\_\+t \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a58dfb9e2ff15d2a3cca078455237be52}{id\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1PageAllocator}{v8\+::\+Page\+Allocator}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a9194e733a801343b63f7dd9c10ca21ac}{page\+\_\+allocator\+\_\+}} = \mbox{\hyperlink{flag-definitions_8h_aca14fbede0905858c819226fce3678cc}{nullptr}}
\item 
union \mbox{\hyperlink{unionv8_1_1internal_1_1BackingStore_1_1TypeSpecificData}{v8\+::internal\+::\+Backing\+Store\+::\+Type\+Specific\+Data}} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_acd3c96ccd4af9d865c4ce060d82282b2}{type\+\_\+specific\+\_\+data\+\_\+}}
\item 
std\+::atomic$<$ \mbox{\hyperlink{classv8_1_1base_1_1EnumSet}{base\+::\+Enum\+Set}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684}{Flag}}, uint16\+\_\+t $>$ $>$ \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a23837457d06be34c444af3809fc04f30}{flags\+\_\+}}
\end{DoxyCompactItemize}
\doxysubsection*{Friends}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a3584a81354c7a9437db574f701dc7eea}{Global\+Backing\+Store\+Registry}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 45 of file backing-\/store.\+h.



\doxysubsection{Member Enumeration Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684}\label{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684}} 
\index{v8::internal::BackingStore@{v8::internal::BackingStore}!Flag@{Flag}}
\index{Flag@{Flag}!v8::internal::BackingStore@{v8::internal::BackingStore}}
\doxysubsubsection{\texorpdfstring{Flag}{Flag}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684}{v8\+::internal\+::\+Backing\+Store\+::\+Flag}}\hspace{0.3cm}{\ttfamily [private]}}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{kIsShared@{kIsShared}!v8::internal::BackingStore@{v8::internal::BackingStore}}\index{v8::internal::BackingStore@{v8::internal::BackingStore}!kIsShared@{kIsShared}}}\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684aec0e2e86871d22c5cbc291399d2f0cba}\label{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684aec0e2e86871d22c5cbc291399d2f0cba}} 
k\+Is\+Shared&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{kIsResizableByJs@{kIsResizableByJs}!v8::internal::BackingStore@{v8::internal::BackingStore}}\index{v8::internal::BackingStore@{v8::internal::BackingStore}!kIsResizableByJs@{kIsResizableByJs}}}\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684a6f317672af8a4a4bde22d1870233146b}\label{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684a6f317672af8a4a4bde22d1870233146b}} 
k\+Is\+Resizable\+By\+Js&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{kIsWasmMemory@{kIsWasmMemory}!v8::internal::BackingStore@{v8::internal::BackingStore}}\index{v8::internal::BackingStore@{v8::internal::BackingStore}!kIsWasmMemory@{kIsWasmMemory}}}\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684aea989e899db1df0a5a532b26aa7bb1ef}\label{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684aea989e899db1df0a5a532b26aa7bb1ef}} 
k\+Is\+Wasm\+Memory&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{kIsWasmMemory64@{kIsWasmMemory64}!v8::internal::BackingStore@{v8::internal::BackingStore}}\index{v8::internal::BackingStore@{v8::internal::BackingStore}!kIsWasmMemory64@{kIsWasmMemory64}}}\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684afd330dc94decccbe73b9a0cd75717c3d}\label{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684afd330dc94decccbe73b9a0cd75717c3d}} 
k\+Is\+Wasm\+Memory64&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{kHoldsSharedPtrToAllocater@{kHoldsSharedPtrToAllocater}!v8::internal::BackingStore@{v8::internal::BackingStore}}\index{v8::internal::BackingStore@{v8::internal::BackingStore}!kHoldsSharedPtrToAllocater@{kHoldsSharedPtrToAllocater}}}\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684a35051e135b07ad3c9aab0dd7de3ba7a1}\label{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684a35051e135b07ad3c9aab0dd7de3ba7a1}} 
k\+Holds\+Shared\+Ptr\+To\+Allocater&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{kHasGuardRegions@{kHasGuardRegions}!v8::internal::BackingStore@{v8::internal::BackingStore}}\index{v8::internal::BackingStore@{v8::internal::BackingStore}!kHasGuardRegions@{kHasGuardRegions}}}\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684a7fc18bb87de135d508aae29e8d1fa2e0}\label{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684a7fc18bb87de135d508aae29e8d1fa2e0}} 
k\+Has\+Guard\+Regions&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{kGloballyRegistered@{kGloballyRegistered}!v8::internal::BackingStore@{v8::internal::BackingStore}}\index{v8::internal::BackingStore@{v8::internal::BackingStore}!kGloballyRegistered@{kGloballyRegistered}}}\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684a73e0a98bc0d933aa795474ed137564d6}\label{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684a73e0a98bc0d933aa795474ed137564d6}} 
k\+Globally\+Registered&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{kCustomDeleter@{kCustomDeleter}!v8::internal::BackingStore@{v8::internal::BackingStore}}\index{v8::internal::BackingStore@{v8::internal::BackingStore}!kCustomDeleter@{kCustomDeleter}}}\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684a7cde716fde126dfc8823ce3cd5323ef7}\label{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684a7cde716fde126dfc8823ce3cd5323ef7}} 
k\+Custom\+Deleter&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{kEmptyDeleter@{kEmptyDeleter}!v8::internal::BackingStore@{v8::internal::BackingStore}}\index{v8::internal::BackingStore@{v8::internal::BackingStore}!kEmptyDeleter@{kEmptyDeleter}}}\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684adb6b5263fa5b2ea3364f97fcbd95e5f7}\label{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684adb6b5263fa5b2ea3364f97fcbd95e5f7}} 
k\+Empty\+Deleter&\\
\hline

\end{DoxyEnumFields}


Definition at line 189 of file backing-\/store.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{189             \{}
\DoxyCodeLine{190     \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684aec0e2e86871d22c5cbc291399d2f0cba}{kIsShared}},}
\DoxyCodeLine{191     \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684a6f317672af8a4a4bde22d1870233146b}{kIsResizableByJs}},}
\DoxyCodeLine{192     \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684aea989e899db1df0a5a532b26aa7bb1ef}{kIsWasmMemory}},}
\DoxyCodeLine{193     \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684afd330dc94decccbe73b9a0cd75717c3d}{kIsWasmMemory64}},}
\DoxyCodeLine{194     \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684a35051e135b07ad3c9aab0dd7de3ba7a1}{kHoldsSharedPtrToAllocater}},}
\DoxyCodeLine{195     \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684a7fc18bb87de135d508aae29e8d1fa2e0}{kHasGuardRegions}},}
\DoxyCodeLine{196     \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684a73e0a98bc0d933aa795474ed137564d6}{kGloballyRegistered}},}
\DoxyCodeLine{197     \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684a7cde716fde126dfc8823ce3cd5323ef7}{kCustomDeleter}},}
\DoxyCodeLine{198     \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684adb6b5263fa5b2ea3364f97fcbd95e5f7}{kEmptyDeleter}}}
\DoxyCodeLine{199   \};}

\end{DoxyCode}
\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_aab34dd77381c9e228375bfae8fae28d7}\label{classv8_1_1internal_1_1BackingStore_aab34dd77381c9e228375bfae8fae28d7}} 
\index{v8::internal::BackingStore@{v8::internal::BackingStore}!ResizeOrGrowResult@{ResizeOrGrowResult}}
\index{ResizeOrGrowResult@{ResizeOrGrowResult}!v8::internal::BackingStore@{v8::internal::BackingStore}}
\doxysubsubsection{\texorpdfstring{ResizeOrGrowResult}{ResizeOrGrowResult}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_aab34dd77381c9e228375bfae8fae28d7}{v8\+::internal\+::\+Backing\+Store\+::\+Resize\+Or\+Grow\+Result}}}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{kSuccess@{kSuccess}!v8::internal::BackingStore@{v8::internal::BackingStore}}\index{v8::internal::BackingStore@{v8::internal::BackingStore}!kSuccess@{kSuccess}}}\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_aab34dd77381c9e228375bfae8fae28d7aa25ddfe5f11c17157e161edd9afd933f}\label{classv8_1_1internal_1_1BackingStore_aab34dd77381c9e228375bfae8fae28d7aa25ddfe5f11c17157e161edd9afd933f}} 
k\+Success&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{kFailure@{kFailure}!v8::internal::BackingStore@{v8::internal::BackingStore}}\index{v8::internal::BackingStore@{v8::internal::BackingStore}!kFailure@{kFailure}}}\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_aab34dd77381c9e228375bfae8fae28d7a2facbfb720d8f652c576c26ddd253982}\label{classv8_1_1internal_1_1BackingStore_aab34dd77381c9e228375bfae8fae28d7a2facbfb720d8f652c576c26ddd253982}} 
k\+Failure&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{kRace@{kRace}!v8::internal::BackingStore@{v8::internal::BackingStore}}\index{v8::internal::BackingStore@{v8::internal::BackingStore}!kRace@{kRace}}}\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_aab34dd77381c9e228375bfae8fae28d7a1e2d07bb7bd779234bcf3eb8e81143d1}\label{classv8_1_1internal_1_1BackingStore_aab34dd77381c9e228375bfae8fae28d7a1e2d07bb7bd779234bcf3eb8e81143d1}} 
k\+Race&\\
\hline

\end{DoxyEnumFields}


Definition at line 108 of file backing-\/store.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{108 \{ \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_aab34dd77381c9e228375bfae8fae28d7aa25ddfe5f11c17157e161edd9afd933f}{kSuccess}}, \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_aab34dd77381c9e228375bfae8fae28d7a2facbfb720d8f652c576c26ddd253982}{kFailure}}, \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_aab34dd77381c9e228375bfae8fae28d7a1e2d07bb7bd779234bcf3eb8e81143d1}{kRace}} \};}

\end{DoxyCode}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_ae14402f37d1a3e964898188f8d5ea345}\label{classv8_1_1internal_1_1BackingStore_ae14402f37d1a3e964898188f8d5ea345}} 
\index{v8::internal::BackingStore@{v8::internal::BackingStore}!````~BackingStore@{$\sim$BackingStore}}
\index{````~BackingStore@{$\sim$BackingStore}!v8::internal::BackingStore@{v8::internal::BackingStore}}
\doxysubsubsection{\texorpdfstring{$\sim$BackingStore()}{~BackingStore()}}
{\footnotesize\ttfamily v8\+::internal\+::\+Backing\+Store\+::$\sim$\+Backing\+Store (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 136 of file backing-\/store.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{136                             \{}
\DoxyCodeLine{137   \mbox{\hyperlink{classv8_1_1internal_1_1GlobalBackingStoreRegistry_abf55b73f22c44d0a3bdbca7f39abedf9}{GlobalBackingStoreRegistry::Unregister}}(\textcolor{keyword}{this});}
\DoxyCodeLine{138 }
\DoxyCodeLine{139   \textcolor{keyword}{struct }ClearSharedAllocator \{}
\DoxyCodeLine{140     \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a3c7b4df60abfddb797e6962076b674b0}{BackingStore}}* \textcolor{keyword}{const} bs;}
\DoxyCodeLine{141 }
\DoxyCodeLine{142     \string~ClearSharedAllocator() \{}
\DoxyCodeLine{143       \textcolor{keywordflow}{if} (!bs-\/>holds\_shared\_ptr\_to\_allocator()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{144       bs-\/>type\_specific\_data\_.v8\_api\_array\_buffer\_allocator\_shared}
\DoxyCodeLine{145           .std::shared\_ptr<v8::ArrayBuffer::Allocator>::\string~shared\_ptr();}
\DoxyCodeLine{146     \}}
\DoxyCodeLine{147   \} clear\_shared\_allocator\{\textcolor{keyword}{this}\};}
\DoxyCodeLine{148 }
\DoxyCodeLine{149   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a78a522363c3d04a38e1420392ff73151}{buffer\_start\_}} == \textcolor{keyword}{nullptr}) \textcolor{keywordflow}{return};}
\DoxyCodeLine{150 }
\DoxyCodeLine{151   \textcolor{keyword}{auto} FreeResizableMemory = [\textcolor{keyword}{this}] \{}
\DoxyCodeLine{152     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a3c077e474c4a471e92903636e9d04b7e}{custom\_deleter}}());}
\DoxyCodeLine{153     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ab219feebf565e2deae9ef2beb1fd9c6e}{is\_resizable\_by\_js}}() || \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a6549ac91d2a87c9ec3e5d569d1f27cd9}{is\_wasm\_memory}}());}
\DoxyCodeLine{154     \textcolor{keyword}{auto} region = \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02backing-store_8cc_03_ac10403a0bb627a3beebc7a18e0d79980}{GetReservedRegion}}(\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a9a0fcb0b7206a8b542c1e841f1a8f28c}{has\_guard\_regions}}(), \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ad37c31d6c2b299b46b78f43029fa19fe}{is\_wasm\_memory64}}(),}
\DoxyCodeLine{155                                     \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a78a522363c3d04a38e1420392ff73151}{buffer\_start\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a38fea92df41ebe4ecc690393f09628a8}{byte\_capacity\_}});}
\DoxyCodeLine{156     \textcolor{keywordflow}{if} (!region.is\_empty()) \{}
\DoxyCodeLine{157       \mbox{\hyperlink{namespacev8_1_1internal_af33be30dc6995646ac5a541bdf0ede03}{FreePages}}(\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a9194e733a801343b63f7dd9c10ca21ac}{page\_allocator\_}}, \textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{void}*\textcolor{keyword}{>}(region.begin()),}
\DoxyCodeLine{158                 region.size());}
\DoxyCodeLine{159     \}}
\DoxyCodeLine{160   \};}
\DoxyCodeLine{161 }
\DoxyCodeLine{162 \textcolor{preprocessor}{\#if V8\_ENABLE\_WEBASSEMBLY}}
\DoxyCodeLine{163   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a6549ac91d2a87c9ec3e5d569d1f27cd9}{is\_wasm\_memory}}()) \{}
\DoxyCodeLine{164     \textcolor{keywordtype}{size\_t} reservation\_size = \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02backing-store_8cc_03_a1775daf1cd938ba08a17e055c6b70bc4}{GetReservationSize}}(}
\DoxyCodeLine{165         \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a9a0fcb0b7206a8b542c1e841f1a8f28c}{has\_guard\_regions}}(), \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a38fea92df41ebe4ecc690393f09628a8}{byte\_capacity\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ad37c31d6c2b299b46b78f43029fa19fe}{is\_wasm\_memory64}}());}
\DoxyCodeLine{166     \mbox{\hyperlink{backing-store_8cc_ac29cdbbff328cee7720dae0970227ac5}{TRACE\_BS}}(}
\DoxyCodeLine{167         \textcolor{stringliteral}{"{}BSw:free  bs=\%p mem=\%p (length=\%zu, capacity=\%zu, reservation=\%zu)\(\backslash\)n"{}},}
\DoxyCodeLine{168         \textcolor{keyword}{this}, \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a78a522363c3d04a38e1420392ff73151}{buffer\_start\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ab5f060a468e2d0b8ad17bcad0a9f3d26}{byte\_length}}(), \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a38fea92df41ebe4ecc690393f09628a8}{byte\_capacity\_}}, reservation\_size);}
\DoxyCodeLine{169     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a402d443b520a53485151c9d2285ce62d}{is\_shared}}()) \{}
\DoxyCodeLine{170       \textcolor{comment}{// Deallocate the list of attached memory objects.}}
\DoxyCodeLine{171       SharedWasmMemoryData* shared\_data = \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a88544c8b06fedbb7c3cd0dc4d0904634}{get\_shared\_wasm\_memory\_data}}();}
\DoxyCodeLine{172       \textcolor{keyword}{delete} shared\_data;}
\DoxyCodeLine{173     \}}
\DoxyCodeLine{174     \textcolor{comment}{// Wasm memories are always allocated through the page allocator.}}
\DoxyCodeLine{175     FreeResizableMemory();}
\DoxyCodeLine{176     \textcolor{keywordflow}{return};}
\DoxyCodeLine{177   \}}
\DoxyCodeLine{178 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// V8\_ENABLE\_WEBASSEMBLY}}
\DoxyCodeLine{179 }
\DoxyCodeLine{180   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ab219feebf565e2deae9ef2beb1fd9c6e}{is\_resizable\_by\_js}}()) \{}
\DoxyCodeLine{181     FreeResizableMemory();}
\DoxyCodeLine{182     \textcolor{keywordflow}{return};}
\DoxyCodeLine{183   \}}
\DoxyCodeLine{184 }
\DoxyCodeLine{185   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a3c077e474c4a471e92903636e9d04b7e}{custom\_deleter}}()) \{}
\DoxyCodeLine{186     \mbox{\hyperlink{backing-store_8cc_ac29cdbbff328cee7720dae0970227ac5}{TRACE\_BS}}(\textcolor{stringliteral}{"{}BS:custom deleter bs=\%p mem=\%p (length=\%zu, capacity=\%zu)\(\backslash\)n"{}},}
\DoxyCodeLine{187              \textcolor{keyword}{this}, \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a78a522363c3d04a38e1420392ff73151}{buffer\_start\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ab5f060a468e2d0b8ad17bcad0a9f3d26}{byte\_length}}(), \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a38fea92df41ebe4ecc690393f09628a8}{byte\_capacity\_}});}
\DoxyCodeLine{188     \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_acd3c96ccd4af9d865c4ce060d82282b2}{type\_specific\_data\_}}.\mbox{\hyperlink{unionv8_1_1internal_1_1BackingStore_1_1TypeSpecificData_a35e64d445c5f7885b2e36234dc3d6b8c}{deleter}}.\mbox{\hyperlink{structv8_1_1internal_1_1BackingStore_1_1TypeSpecificData_1_1DeleterInfo_a6853a256bd2344dff0976a8c60c8ea28}{callback}}(\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a78a522363c3d04a38e1420392ff73151}{buffer\_start\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a810fccd58059bbb33821cf4158001269}{byte\_length\_}},}
\DoxyCodeLine{189                                          \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_acd3c96ccd4af9d865c4ce060d82282b2}{type\_specific\_data\_}}.\mbox{\hyperlink{unionv8_1_1internal_1_1BackingStore_1_1TypeSpecificData_a35e64d445c5f7885b2e36234dc3d6b8c}{deleter}}.\mbox{\hyperlink{structv8_1_1internal_1_1BackingStore_1_1TypeSpecificData_1_1DeleterInfo_a2c9bfc1cb445a3fa8f272675154ea341}{data}});}
\DoxyCodeLine{190     \textcolor{keywordflow}{return};}
\DoxyCodeLine{191   \}}
\DoxyCodeLine{192 }
\DoxyCodeLine{193   \textcolor{comment}{// JSArrayBuffer backing store. Deallocate through the embedder's allocator.}}
\DoxyCodeLine{194   \textcolor{keyword}{auto} allocator = \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a70a1187cdc0344aa3472ff714a0d4364}{get\_v8\_api\_array\_buffer\_allocator}}();}
\DoxyCodeLine{195   \mbox{\hyperlink{backing-store_8cc_ac29cdbbff328cee7720dae0970227ac5}{TRACE\_BS}}(\textcolor{stringliteral}{"{}BS:free   bs=\%p mem=\%p (length=\%zu, capacity=\%zu)\(\backslash\)n"{}}, \textcolor{keyword}{this},}
\DoxyCodeLine{196            \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a78a522363c3d04a38e1420392ff73151}{buffer\_start\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ab5f060a468e2d0b8ad17bcad0a9f3d26}{byte\_length}}(), \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a38fea92df41ebe4ecc690393f09628a8}{byte\_capacity\_}});}
\DoxyCodeLine{197   allocator-\/>Free(\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a78a522363c3d04a38e1420392ff73151}{buffer\_start\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a810fccd58059bbb33821cf4158001269}{byte\_length\_}});}
\DoxyCodeLine{198 \}}

\end{DoxyCode}


References buffer\+\_\+start\+\_\+, byte\+\_\+capacity\+\_\+, byte\+\_\+length(), byte\+\_\+length\+\_\+, v8\+::internal\+::\+Backing\+Store\+::\+Type\+Specific\+Data\+::\+Deleter\+Info\+::callback, custom\+\_\+deleter(), v8\+::internal\+::\+Backing\+Store\+::\+Type\+Specific\+Data\+::\+Deleter\+Info\+::data, v8\+::internal\+::\+DCHECK(), v8\+::internal\+::\+Backing\+Store\+::\+Type\+Specific\+Data\+::deleter, v8\+::internal\+::\+Free\+Pages(), get\+\_\+shared\+\_\+wasm\+\_\+memory\+\_\+data(), get\+\_\+v8\+\_\+api\+\_\+array\+\_\+buffer\+\_\+allocator(), v8\+::internal\+::anonymous\+\_\+namespace\{backing-\/store.\+cc\}\+::\+Get\+Reservation\+Size(), v8\+::internal\+::anonymous\+\_\+namespace\{backing-\/store.\+cc\}\+::\+Get\+Reserved\+Region(), has\+\_\+guard\+\_\+regions(), holds\+\_\+shared\+\_\+ptr\+\_\+to\+\_\+allocator(), is\+\_\+resizable\+\_\+by\+\_\+js(), is\+\_\+shared(), is\+\_\+wasm\+\_\+memory(), is\+\_\+wasm\+\_\+memory64(), page\+\_\+allocator\+\_\+, TRACE\+\_\+\+BS, type\+\_\+specific\+\_\+data\+\_\+, v8\+::internal\+::\+Global\+Backing\+Store\+Registry\+::\+Unregister(), and v8\+::internal\+::\+Backing\+Store\+::\+Type\+Specific\+Data\+::v8\+\_\+api\+\_\+array\+\_\+buffer\+\_\+allocator\+\_\+shared.



Referenced by v8\+::\+Backing\+Store\+::$\sim$\+Backing\+Store().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BackingStore_ae14402f37d1a3e964898188f8d5ea345_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BackingStore_ae14402f37d1a3e964898188f8d5ea345_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_a3c7b4df60abfddb797e6962076b674b0}\label{classv8_1_1internal_1_1BackingStore_a3c7b4df60abfddb797e6962076b674b0}} 
\index{v8::internal::BackingStore@{v8::internal::BackingStore}!BackingStore@{BackingStore}}
\index{BackingStore@{BackingStore}!v8::internal::BackingStore@{v8::internal::BackingStore}}
\doxysubsubsection{\texorpdfstring{BackingStore()}{BackingStore()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily v8\+::internal\+::\+Backing\+Store\+::\+Backing\+Store (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1PageAllocator}{Page\+Allocator}} $\ast$}]{page\+\_\+allocator,  }\item[{void $\ast$}]{buffer\+\_\+start,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{byte\+\_\+length,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{max\+\_\+byte\+\_\+length,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{byte\+\_\+capacity,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a680ace1d3e86dae2df93867132a3c160}{Shared\+Flag}}}]{shared,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab10416aabce855093f2c91151df24348}{Resizable\+Flag}}}]{resizable,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}}}]{is\+\_\+wasm\+\_\+memory,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}}}]{is\+\_\+wasm\+\_\+memory64,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}}}]{has\+\_\+guard\+\_\+regions,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}}}]{custom\+\_\+deleter,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}}}]{empty\+\_\+deleter }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 97 of file backing-\/store.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{103     : \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a78a522363c3d04a38e1420392ff73151}{buffer\_start\_}}(\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0b207df70ee775dac1f8332591f41362}{buffer\_start}}),}
\DoxyCodeLine{104       \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a810fccd58059bbb33821cf4158001269}{byte\_length\_}}(\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ab5f060a468e2d0b8ad17bcad0a9f3d26}{byte\_length}}),}
\DoxyCodeLine{105       \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a326b5343db3393753cef809bc3656add}{max\_byte\_length\_}}(\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a64bbbcd6c2a9fba5824432ac58428b95}{max\_byte\_length}}),}
\DoxyCodeLine{106       \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a38fea92df41ebe4ecc690393f09628a8}{byte\_capacity\_}}(\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ab76e4ee584f63c9a2be17a036fa29102}{byte\_capacity}}),}
\DoxyCodeLine{107       \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a58dfb9e2ff15d2a3cca078455237be52}{id\_}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02backing-store_8cc_03_abfbb07b92504fb499045b88d8e0e3f17}{next\_backing\_store\_id\_}}.fetch\_add(1)),}
\DoxyCodeLine{108       \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a9194e733a801343b63f7dd9c10ca21ac}{page\_allocator\_}}(page\_allocator) \{}
\DoxyCodeLine{109   \textcolor{comment}{// TODO(v8:11111): RAB / GSAB -\/ Wasm integration.}}
\DoxyCodeLine{110   \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ad37c31d6c2b299b46b78f43029fa19fe}{is\_wasm\_memory64}}, \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a6549ac91d2a87c9ec3e5d569d1f27cd9}{is\_wasm\_memory}});}
\DoxyCodeLine{111   \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a9a0fcb0b7206a8b542c1e841f1a8f28c}{has\_guard\_regions}}, \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a6549ac91d2a87c9ec3e5d569d1f27cd9}{is\_wasm\_memory}});}
\DoxyCodeLine{112   \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a6549ac91d2a87c9ec3e5d569d1f27cd9}{is\_wasm\_memory}}, resizable == \mbox{\hyperlink{namespacev8_1_1internal_ab10416aabce855093f2c91151df24348af444d0c6959a4f4e0553ccd4f9f35908}{ResizableFlag::kNotResizable}});}
\DoxyCodeLine{113   \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(resizable == \mbox{\hyperlink{namespacev8_1_1internal_ab10416aabce855093f2c91151df24348a791e8c43bffb7c8241a98ff4a7f315f0}{ResizableFlag::kResizable}}, !\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a3c077e474c4a471e92903636e9d04b7e}{custom\_deleter}});}
\DoxyCodeLine{114   \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(!\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a6549ac91d2a87c9ec3e5d569d1f27cd9}{is\_wasm\_memory}} \&\& resizable == \mbox{\hyperlink{namespacev8_1_1internal_ab10416aabce855093f2c91151df24348af444d0c6959a4f4e0553ccd4f9f35908}{ResizableFlag::kNotResizable}},}
\DoxyCodeLine{115                  \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a810fccd58059bbb33821cf4158001269}{byte\_length\_}} == \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a326b5343db3393753cef809bc3656add}{max\_byte\_length\_}});}
\DoxyCodeLine{116   \mbox{\hyperlink{src_2base_2logging_8h_aabec5c3b7a8628298a25f044dcf89c25}{DCHECK\_GE}}(\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a64bbbcd6c2a9fba5824432ac58428b95}{max\_byte\_length}}, \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ab5f060a468e2d0b8ad17bcad0a9f3d26}{byte\_length}});}
\DoxyCodeLine{117   \mbox{\hyperlink{src_2base_2logging_8h_aabec5c3b7a8628298a25f044dcf89c25}{DCHECK\_GE}}(\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ab76e4ee584f63c9a2be17a036fa29102}{byte\_capacity}}, \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a64bbbcd6c2a9fba5824432ac58428b95}{max\_byte\_length}});}
\DoxyCodeLine{118   \textcolor{comment}{// TODO(1445003): Demote to a DCHECK once we found the issue.}}
\DoxyCodeLine{119   \textcolor{comment}{// Wasm memory should never be empty (== zero capacity). Otherwise}}
\DoxyCodeLine{120   \textcolor{comment}{// \{JSArrayBuffer::Attach\} would replace it by the \{EmptyBackingStore\} and we}}
\DoxyCodeLine{121   \textcolor{comment}{// loose information.}}
\DoxyCodeLine{122   \textcolor{comment}{// This is particularly important for shared Wasm memory.}}
\DoxyCodeLine{123   \mbox{\hyperlink{src_2base_2logging_8h_a2c0c4cea27d0690467662bb05131b2af}{CHECK\_IMPLIES}}(\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a6549ac91d2a87c9ec3e5d569d1f27cd9}{is\_wasm\_memory}}, \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ab76e4ee584f63c9a2be17a036fa29102}{byte\_capacity}} != 0);}
\DoxyCodeLine{124 }
\DoxyCodeLine{125   base::EnumSet<Flag, uint16\_t> \mbox{\hyperlink{namespacev8_1_1internal_a83b0c194e63513f61999805edd71b125}{flags}};}
\DoxyCodeLine{126   \textcolor{keywordflow}{if} (shared == \mbox{\hyperlink{namespacev8_1_1internal_a680ace1d3e86dae2df93867132a3c160a767e1337acb2aa20d7ce4e903a75ca16}{SharedFlag::kShared}}) \mbox{\hyperlink{namespacev8_1_1internal_a83b0c194e63513f61999805edd71b125}{flags}}.Add(\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684aec0e2e86871d22c5cbc291399d2f0cba}{kIsShared}});}
\DoxyCodeLine{127   \textcolor{keywordflow}{if} (resizable == \mbox{\hyperlink{namespacev8_1_1internal_ab10416aabce855093f2c91151df24348a791e8c43bffb7c8241a98ff4a7f315f0}{ResizableFlag::kResizable}}) \mbox{\hyperlink{namespacev8_1_1internal_a83b0c194e63513f61999805edd71b125}{flags}}.Add(\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684a6f317672af8a4a4bde22d1870233146b}{kIsResizableByJs}});}
\DoxyCodeLine{128   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a6549ac91d2a87c9ec3e5d569d1f27cd9}{is\_wasm\_memory}}) \mbox{\hyperlink{namespacev8_1_1internal_a83b0c194e63513f61999805edd71b125}{flags}}.Add(\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684aea989e899db1df0a5a532b26aa7bb1ef}{kIsWasmMemory}});}
\DoxyCodeLine{129   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ad37c31d6c2b299b46b78f43029fa19fe}{is\_wasm\_memory64}}) \mbox{\hyperlink{namespacev8_1_1internal_a83b0c194e63513f61999805edd71b125}{flags}}.Add(\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684afd330dc94decccbe73b9a0cd75717c3d}{kIsWasmMemory64}});}
\DoxyCodeLine{130   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a9a0fcb0b7206a8b542c1e841f1a8f28c}{has\_guard\_regions}}) \mbox{\hyperlink{namespacev8_1_1internal_a83b0c194e63513f61999805edd71b125}{flags}}.Add(\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684a7fc18bb87de135d508aae29e8d1fa2e0}{kHasGuardRegions}});}
\DoxyCodeLine{131   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a3c077e474c4a471e92903636e9d04b7e}{custom\_deleter}}) \mbox{\hyperlink{namespacev8_1_1internal_a83b0c194e63513f61999805edd71b125}{flags}}.Add(\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684a7cde716fde126dfc8823ce3cd5323ef7}{kCustomDeleter}});}
\DoxyCodeLine{132   \textcolor{keywordflow}{if} (empty\_deleter) \mbox{\hyperlink{namespacev8_1_1internal_a83b0c194e63513f61999805edd71b125}{flags}}.Add(\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684adb6b5263fa5b2ea3364f97fcbd95e5f7}{kEmptyDeleter}});}
\DoxyCodeLine{133   \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a23837457d06be34c444af3809fc04f30}{flags\_}}.store(\mbox{\hyperlink{namespacev8_1_1internal_a83b0c194e63513f61999805edd71b125}{flags}}, std::memory\_order\_relaxed);}
\DoxyCodeLine{134 \}}

\end{DoxyCode}


References byte\+\_\+capacity(), byte\+\_\+length(), byte\+\_\+length\+\_\+, CHECK\+\_\+\+IMPLIES, custom\+\_\+deleter(), DCHECK\+\_\+\+GE, DCHECK\+\_\+\+IMPLIES, v8\+::internal\+::flags, flags\+\_\+, has\+\_\+guard\+\_\+regions(), is\+\_\+wasm\+\_\+memory(), is\+\_\+wasm\+\_\+memory64(), k\+Custom\+Deleter, k\+Empty\+Deleter, k\+Has\+Guard\+Regions, k\+Is\+Resizable\+By\+Js, k\+Is\+Shared, k\+Is\+Wasm\+Memory, k\+Is\+Wasm\+Memory64, v8\+::internal\+::k\+Not\+Resizable, v8\+::internal\+::k\+Resizable, v8\+::internal\+::k\+Shared, max\+\_\+byte\+\_\+length(), and max\+\_\+byte\+\_\+length\+\_\+.



Referenced by Allocate(), Empty\+Backing\+Store(), Try\+Allocate\+And\+Partially\+Commit\+Memory(), and Wrap\+Allocation().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BackingStore_a3c7b4df60abfddb797e6962076b674b0_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BackingStore_a3c7b4df60abfddb797e6962076b674b0_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_a0282cadcc561732ab479c8ec67cf89f1}\label{classv8_1_1internal_1_1BackingStore_a0282cadcc561732ab479c8ec67cf89f1}} 
\index{v8::internal::BackingStore@{v8::internal::BackingStore}!BackingStore@{BackingStore}}
\index{BackingStore@{BackingStore}!v8::internal::BackingStore@{v8::internal::BackingStore}}
\doxysubsubsection{\texorpdfstring{BackingStore()}{BackingStore()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily v8\+::internal\+::\+Backing\+Store\+::\+Backing\+Store (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore}{Backing\+Store}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [delete]}}



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_a452e0fa56230d27400718e003b3d5638}\label{classv8_1_1internal_1_1BackingStore_a452e0fa56230d27400718e003b3d5638}} 
\index{v8::internal::BackingStore@{v8::internal::BackingStore}!Allocate@{Allocate}}
\index{Allocate@{Allocate}!v8::internal::BackingStore@{v8::internal::BackingStore}}
\doxysubsubsection{\texorpdfstring{Allocate()}{Allocate()}}
{\footnotesize\ttfamily std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore}{Backing\+Store}} $>$ v8\+::internal\+::\+Backing\+Store\+::\+Allocate (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{byte\+\_\+length,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a680ace1d3e86dae2df93867132a3c160}{Shared\+Flag}}}]{shared,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a6d3f691695696e478ebb4a18ab857bfa}{Initialized\+Flag}}}]{initialized }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 201 of file backing-\/store.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{203                                  \{}
\DoxyCodeLine{204   \textcolor{keywordtype}{void}* \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0b207df70ee775dac1f8332591f41362}{buffer\_start}} = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{205   \textcolor{keyword}{auto} allocator = isolate-\/>array\_buffer\_allocator();}
\DoxyCodeLine{206   \mbox{\hyperlink{src_2base_2logging_8h_a9154b181227e4b02e465befe50219158}{CHECK\_NOT\_NULL}}(allocator);}
\DoxyCodeLine{207   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ab5f060a468e2d0b8ad17bcad0a9f3d26}{byte\_length}} > allocator-\/>MaxAllocationSize()) \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{208   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ab5f060a468e2d0b8ad17bcad0a9f3d26}{byte\_length}} != 0) \{}
\DoxyCodeLine{209     \textcolor{keyword}{auto} counters = isolate-\/>counters();}
\DoxyCodeLine{210     \textcolor{keywordtype}{int} mb\_length = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ab5f060a468e2d0b8ad17bcad0a9f3d26}{byte\_length}} / \mbox{\hyperlink{namespacev8_1_1internal_af46551c5713d2a3a1be4dca973e521e0}{MB}});}
\DoxyCodeLine{211     \textcolor{keywordflow}{if} (mb\_length > 0) \{}
\DoxyCodeLine{212       counters-\/>array\_buffer\_big\_allocations()-\/>AddSample(mb\_length);}
\DoxyCodeLine{213     \}}
\DoxyCodeLine{214     \textcolor{keywordflow}{if} (shared == \mbox{\hyperlink{namespacev8_1_1internal_a680ace1d3e86dae2df93867132a3c160a767e1337acb2aa20d7ce4e903a75ca16}{SharedFlag::kShared}}) \{}
\DoxyCodeLine{215       counters-\/>shared\_array\_allocations()-\/>AddSample(mb\_length);}
\DoxyCodeLine{216     \}}
\DoxyCodeLine{217     \textcolor{keyword}{auto} allocate\_buffer = [allocator, initialized](\textcolor{keywordtype}{size\_t} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ab5f060a468e2d0b8ad17bcad0a9f3d26}{byte\_length}}) \{}
\DoxyCodeLine{218       \textcolor{keywordflow}{if} (initialized == \mbox{\hyperlink{namespacev8_1_1internal_a6d3f691695696e478ebb4a18ab857bfaa518b13885544b3431069d8b44387de9c}{InitializedFlag::kUninitialized}}) \{}
\DoxyCodeLine{219         \textcolor{keywordflow}{return} allocator-\/>AllocateUninitialized(\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ab5f060a468e2d0b8ad17bcad0a9f3d26}{byte\_length}});}
\DoxyCodeLine{220       \}}
\DoxyCodeLine{221       \textcolor{keywordflow}{return} allocator-\/>Allocate(\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ab5f060a468e2d0b8ad17bcad0a9f3d26}{byte\_length}});}
\DoxyCodeLine{222     \};}
\DoxyCodeLine{223 }
\DoxyCodeLine{224     \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0b207df70ee775dac1f8332591f41362}{buffer\_start}} = isolate-\/>heap()-\/>AllocateExternalBackingStore(}
\DoxyCodeLine{225         allocate\_buffer, \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ab5f060a468e2d0b8ad17bcad0a9f3d26}{byte\_length}});}
\DoxyCodeLine{226 }
\DoxyCodeLine{227     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0b207df70ee775dac1f8332591f41362}{buffer\_start}} == \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{228       \textcolor{comment}{// Allocation failed.}}
\DoxyCodeLine{229       counters-\/>array\_buffer\_new\_size\_failures()-\/>AddSample(mb\_length);}
\DoxyCodeLine{230       \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{231     \}}
\DoxyCodeLine{232 \textcolor{preprocessor}{\#ifdef V8\_ENABLE\_SANDBOX}}
\DoxyCodeLine{233     \textcolor{comment}{// Check to catch use of a non-\/sandbox-\/compatible ArrayBufferAllocator.}}
\DoxyCodeLine{234     \mbox{\hyperlink{src_2base_2logging_8h_a7b0fb5d6be902959a80a9a33cc4e73fe}{CHECK\_WITH\_MSG}}(isolate-\/>isolate\_group()-\/>sandbox()-\/>Contains(\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0b207df70ee775dac1f8332591f41362}{buffer\_start}}),}
\DoxyCodeLine{235                    \textcolor{stringliteral}{"{}When the V8 Sandbox is enabled, ArrayBuffer backing stores "{}}}
\DoxyCodeLine{236                    \textcolor{stringliteral}{"{}must be allocated inside the sandbox address space. Please "{}}}
\DoxyCodeLine{237                    \textcolor{stringliteral}{"{}use an appropriate ArrayBuffer::Allocator to allocate "{}}}
\DoxyCodeLine{238                    \textcolor{stringliteral}{"{}these buffers, or disable the sandbox."{}});}
\DoxyCodeLine{239 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{240   \}}
\DoxyCodeLine{241 }
\DoxyCodeLine{242   \mbox{\hyperlink{namespacecppgc_ae7d41c486a869bec62aa1b8c9c55c142}{PageAllocator}}* page\_allocator =}
\DoxyCodeLine{243       isolate-\/>isolate\_group()-\/>GetBackingStorePageAllocator();}
\DoxyCodeLine{244   \textcolor{keyword}{auto} \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} = \textcolor{keyword}{new} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a3c7b4df60abfddb797e6962076b674b0}{BackingStore}}(page\_allocator,}
\DoxyCodeLine{245                                  \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0b207df70ee775dac1f8332591f41362}{buffer\_start}},                  \textcolor{comment}{// start}}
\DoxyCodeLine{246                                  \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ab5f060a468e2d0b8ad17bcad0a9f3d26}{byte\_length}},                   \textcolor{comment}{// length}}
\DoxyCodeLine{247                                  \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ab5f060a468e2d0b8ad17bcad0a9f3d26}{byte\_length}},                   \textcolor{comment}{// max length}}
\DoxyCodeLine{248                                  \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ab5f060a468e2d0b8ad17bcad0a9f3d26}{byte\_length}},                   \textcolor{comment}{// capacity}}
\DoxyCodeLine{249                                  shared,                        \textcolor{comment}{// shared}}
\DoxyCodeLine{250                                  \mbox{\hyperlink{namespacev8_1_1internal_ab10416aabce855093f2c91151df24348af444d0c6959a4f4e0553ccd4f9f35908}{ResizableFlag::kNotResizable}},  \textcolor{comment}{// resizable}}
\DoxyCodeLine{251                                  \textcolor{keyword}{false},   \textcolor{comment}{// is\_wasm\_memory}}
\DoxyCodeLine{252                                  \textcolor{keyword}{false},   \textcolor{comment}{// is\_wasm\_memory64}}
\DoxyCodeLine{253                                  \textcolor{keyword}{false},   \textcolor{comment}{// has\_guard\_regions}}
\DoxyCodeLine{254                                  \textcolor{keyword}{false},   \textcolor{comment}{// custom\_deleter}}
\DoxyCodeLine{255                                  \textcolor{keyword}{false});  \textcolor{comment}{// empty\_deleter}}
\DoxyCodeLine{256 }
\DoxyCodeLine{257   \mbox{\hyperlink{backing-store_8cc_ac29cdbbff328cee7720dae0970227ac5}{TRACE\_BS}}(\textcolor{stringliteral}{"{}BS:alloc  bs=\%p mem=\%p (length=\%zu)\(\backslash\)n"{}}, \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}},}
\DoxyCodeLine{258            \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}}-\/>buffer\_start(), \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ab5f060a468e2d0b8ad17bcad0a9f3d26}{byte\_length}});}
\DoxyCodeLine{259   \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}}-\/>SetAllocatorFromIsolate(isolate);}
\DoxyCodeLine{260   \textcolor{keywordflow}{return} std::unique\_ptr<BackingStore>(\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}});}
\DoxyCodeLine{261 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Heap\+::\+Allocate\+External\+Backing\+Store(), v8\+::internal\+::\+Isolate\+::array\+\_\+buffer\+\_\+allocator(), Backing\+Store(), buffer\+\_\+start(), byte\+\_\+length(), CHECK\+\_\+\+NOT\+\_\+\+NULL, CHECK\+\_\+\+WITH\+\_\+\+MSG, v8\+::internal\+::\+Isolate\+::counters(), v8\+::internal\+::\+Isolate\+Group\+::\+Get\+Backing\+Store\+Page\+Allocator(), v8\+::internal\+::\+Isolate\+::heap(), v8\+::internal\+::\+Isolate\+::isolate\+\_\+group(), v8\+::internal\+::k\+Not\+Resizable, v8\+::internal\+::k\+Shared, v8\+::internal\+::k\+Uninitialized, v8\+::internal\+::\+MB, v8\+::base\+::internal\+::result, and TRACE\+\_\+\+BS.



Referenced by v8\+::internal\+::\+JSTyped\+Array\+::\+Get\+Buffer(), v8\+::\+Shared\+Array\+Buffer\+::\+Maybe\+New(), v8\+::\+Shared\+Array\+Buffer\+::\+New(), v8\+::\+Array\+Buffer\+::\+New\+Backing\+Store(), v8\+::\+Shared\+Array\+Buffer\+::\+New\+Backing\+Store(), v8\+::internal\+::\+Factory\+::\+New\+JSArray\+Buffer\+And\+Backing\+Store(), and v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/arraybuffer.\+cc\}\+::\+Try\+Allocate\+Backing\+Store().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BackingStore_a452e0fa56230d27400718e003b3d5638_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BackingStore_a452e0fa56230d27400718e003b3d5638_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_a0b207df70ee775dac1f8332591f41362}\label{classv8_1_1internal_1_1BackingStore_a0b207df70ee775dac1f8332591f41362}} 
\index{v8::internal::BackingStore@{v8::internal::BackingStore}!buffer\_start@{buffer\_start}}
\index{buffer\_start@{buffer\_start}!v8::internal::BackingStore@{v8::internal::BackingStore}}
\doxysubsubsection{\texorpdfstring{buffer\_start()}{buffer\_start()}}
{\footnotesize\ttfamily void$\ast$ v8\+::internal\+::\+Backing\+Store\+::buffer\+\_\+start (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 88 of file backing-\/store.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{88                              \{}
\DoxyCodeLine{89     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a78a522363c3d04a38e1420392ff73151}{buffer\_start\_}} != \textcolor{keyword}{nullptr} ? \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a78a522363c3d04a38e1420392ff73151}{buffer\_start\_}} : \mbox{\hyperlink{namespacev8_1_1internal_a274585e1c399e58d90a0ed65a3900084}{EmptyBackingStoreBuffer}}();}
\DoxyCodeLine{90   \}}

\end{DoxyCode}


References v8\+::internal\+::\+Empty\+Backing\+Store\+Buffer().



Referenced by Allocate(), Try\+Allocate\+And\+Partially\+Commit\+Memory(), and v8\+::internal\+::\+Global\+Backing\+Store\+Registry\+::\+Unregister().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BackingStore_a0b207df70ee775dac1f8332591f41362_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BackingStore_a0b207df70ee775dac1f8332591f41362_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_ab76e4ee584f63c9a2be17a036fa29102}\label{classv8_1_1internal_1_1BackingStore_ab76e4ee584f63c9a2be17a036fa29102}} 
\index{v8::internal::BackingStore@{v8::internal::BackingStore}!byte\_capacity@{byte\_capacity}}
\index{byte\_capacity@{byte\_capacity}!v8::internal::BackingStore@{v8::internal::BackingStore}}
\doxysubsubsection{\texorpdfstring{byte\_capacity()}{byte\_capacity()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::\+Backing\+Store\+::byte\+\_\+capacity (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 96 of file backing-\/store.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{96 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a38fea92df41ebe4ecc690393f09628a8}{byte\_capacity\_}}; \}}

\end{DoxyCode}


Referenced by Backing\+Store(), and Try\+Allocate\+And\+Partially\+Commit\+Memory().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BackingStore_ab76e4ee584f63c9a2be17a036fa29102_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_ab5f060a468e2d0b8ad17bcad0a9f3d26}\label{classv8_1_1internal_1_1BackingStore_ab5f060a468e2d0b8ad17bcad0a9f3d26}} 
\index{v8::internal::BackingStore@{v8::internal::BackingStore}!byte\_length@{byte\_length}}
\index{byte\_length@{byte\_length}!v8::internal::BackingStore@{v8::internal::BackingStore}}
\doxysubsubsection{\texorpdfstring{byte\_length()}{byte\_length()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::\+Backing\+Store\+::byte\+\_\+length (\begin{DoxyParamCaption}\item[{std\+::memory\+\_\+order}]{memory\+\_\+order = {\ttfamily std\+:\+:memory\+\_\+order\+\_\+relaxed} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 91 of file backing-\/store.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{92                                                                     \{}
\DoxyCodeLine{93     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a810fccd58059bbb33821cf4158001269}{byte\_length\_}}.load(memory\_order);}
\DoxyCodeLine{94   \}}

\end{DoxyCode}


Referenced by Allocate(), Backing\+Store(), Try\+Allocate\+And\+Partially\+Commit\+Memory(), and $\sim$\+Backing\+Store().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BackingStore_ab5f060a468e2d0b8ad17bcad0a9f3d26_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_a0c8022f2e041406fac58c40d3e12cb4f}\label{classv8_1_1internal_1_1BackingStore_a0c8022f2e041406fac58c40d3e12cb4f}} 
\index{v8::internal::BackingStore@{v8::internal::BackingStore}!clear\_flag@{clear\_flag}}
\index{clear\_flag@{clear\_flag}!v8::internal::BackingStore@{v8::internal::BackingStore}}
\doxysubsubsection{\texorpdfstring{clear\_flag()}{clear\_flag()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Backing\+Store\+::clear\+\_\+flag (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684}{Flag}}}]{flag }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 225 of file backing-\/store.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{225                              \{}
\DoxyCodeLine{226     base::EnumSet<Flag, uint16\_t> old\_flags =}
\DoxyCodeLine{227         \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a23837457d06be34c444af3809fc04f30}{flags\_}}.load(std::memory\_order\_relaxed);}
\DoxyCodeLine{228     \textcolor{keywordflow}{while} (!\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a23837457d06be34c444af3809fc04f30}{flags\_}}.compare\_exchange\_weak(old\_flags, old\_flags -\/ flag,}
\DoxyCodeLine{229                                          std::memory\_order\_relaxed)) \{}
\DoxyCodeLine{230       \textcolor{comment}{// Retry with updated `old\_flags`.}}
\DoxyCodeLine{231     \}}
\DoxyCodeLine{232   \}}

\end{DoxyCode}


Referenced by v8\+::internal\+::\+Global\+Backing\+Store\+Registry\+::\+Unregister().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BackingStore_a0c8022f2e041406fac58c40d3e12cb4f_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_a3c077e474c4a471e92903636e9d04b7e}\label{classv8_1_1internal_1_1BackingStore_a3c077e474c4a471e92903636e9d04b7e}} 
\index{v8::internal::BackingStore@{v8::internal::BackingStore}!custom\_deleter@{custom\_deleter}}
\index{custom\_deleter@{custom\_deleter}!v8::internal::BackingStore@{v8::internal::BackingStore}}
\doxysubsubsection{\texorpdfstring{custom\_deleter()}{custom\_deleter()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Backing\+Store\+::custom\+\_\+deleter (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 237 of file backing-\/store.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{237 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a8f95eddec1566711eb047ce519b05e74}{has\_flag}}(\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684a7cde716fde126dfc8823ce3cd5323ef7}{kCustomDeleter}}); \}}

\end{DoxyCode}


Referenced by Backing\+Store(), and $\sim$\+Backing\+Store().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BackingStore_a3c077e474c4a471e92903636e9d04b7e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_a6e20cd7042a45d5a989c784030fed72c}\label{classv8_1_1internal_1_1BackingStore_a6e20cd7042a45d5a989c784030fed72c}} 
\index{v8::internal::BackingStore@{v8::internal::BackingStore}!EmptyBackingStore@{EmptyBackingStore}}
\index{EmptyBackingStore@{EmptyBackingStore}!v8::internal::BackingStore@{v8::internal::BackingStore}}
\doxysubsubsection{\texorpdfstring{EmptyBackingStore()}{EmptyBackingStore()}}
{\footnotesize\ttfamily std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore}{Backing\+Store}} $>$ v8\+::internal\+::\+Backing\+Store\+::\+Empty\+Backing\+Store (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_a680ace1d3e86dae2df93867132a3c160}{Shared\+Flag}}}]{shared }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 720 of file backing-\/store.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{721                        \{}
\DoxyCodeLine{722   \textcolor{keyword}{auto} \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} = \textcolor{keyword}{new} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a3c7b4df60abfddb797e6962076b674b0}{BackingStore}}(\textcolor{keyword}{nullptr},}
\DoxyCodeLine{723                                  \textcolor{keyword}{nullptr},                       \textcolor{comment}{// start}}
\DoxyCodeLine{724                                  0,                             \textcolor{comment}{// length}}
\DoxyCodeLine{725                                  0,                             \textcolor{comment}{// max length}}
\DoxyCodeLine{726                                  0,                             \textcolor{comment}{// capacity}}
\DoxyCodeLine{727                                  shared,                        \textcolor{comment}{// shared}}
\DoxyCodeLine{728                                  \mbox{\hyperlink{namespacev8_1_1internal_ab10416aabce855093f2c91151df24348af444d0c6959a4f4e0553ccd4f9f35908}{ResizableFlag::kNotResizable}},  \textcolor{comment}{// resizable}}
\DoxyCodeLine{729                                  \textcolor{keyword}{false},   \textcolor{comment}{// is\_wasm\_memory}}
\DoxyCodeLine{730                                  \textcolor{keyword}{false},   \textcolor{comment}{// is\_wasm\_memory64}}
\DoxyCodeLine{731                                  \textcolor{keyword}{false},   \textcolor{comment}{// has\_guard\_regions}}
\DoxyCodeLine{732                                  \textcolor{keyword}{false},   \textcolor{comment}{// custom\_deleter}}
\DoxyCodeLine{733                                  \textcolor{keyword}{false});  \textcolor{comment}{// empty\_deleter}}
\DoxyCodeLine{734 }
\DoxyCodeLine{735   \textcolor{keywordflow}{return} std::unique\_ptr<BackingStore>(\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}});}
\DoxyCodeLine{736 \}}

\end{DoxyCode}


References Backing\+Store(), v8\+::internal\+::k\+Not\+Resizable, and v8\+::base\+::internal\+::result.



Referenced by v8\+::\+Array\+Buffer\+::\+Get\+Backing\+Store(), and v8\+::\+Shared\+Array\+Buffer\+::\+Get\+Backing\+Store().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BackingStore_a6e20cd7042a45d5a989c784030fed72c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BackingStore_a6e20cd7042a45d5a989c784030fed72c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_a88544c8b06fedbb7c3cd0dc4d0904634}\label{classv8_1_1internal_1_1BackingStore_a88544c8b06fedbb7c3cd0dc4d0904634}} 
\index{v8::internal::BackingStore@{v8::internal::BackingStore}!get\_shared\_wasm\_memory\_data@{get\_shared\_wasm\_memory\_data}}
\index{get\_shared\_wasm\_memory\_data@{get\_shared\_wasm\_memory\_data}!v8::internal::BackingStore@{v8::internal::BackingStore}}
\doxysubsubsection{\texorpdfstring{get\_shared\_wasm\_memory\_data()}{get\_shared\_wasm\_memory\_data()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structv8_1_1internal_1_1SharedWasmMemoryData}{Shared\+Wasm\+Memory\+Data}} $\ast$ v8\+::internal\+::\+Backing\+Store\+::get\+\_\+shared\+\_\+wasm\+\_\+memory\+\_\+data (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 748 of file backing-\/store.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{748                                                                       \{}
\DoxyCodeLine{749   \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a6549ac91d2a87c9ec3e5d569d1f27cd9}{is\_wasm\_memory}}() \&\& \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a402d443b520a53485151c9d2285ce62d}{is\_shared}}());}
\DoxyCodeLine{750   \textcolor{keyword}{auto} shared\_wasm\_memory\_data = \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_acd3c96ccd4af9d865c4ce060d82282b2}{type\_specific\_data\_}}.\mbox{\hyperlink{unionv8_1_1internal_1_1BackingStore_1_1TypeSpecificData_ac24f8e676b135f4d2ade39723eb07a4e}{shared\_wasm\_memory\_data}};}
\DoxyCodeLine{751   \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(shared\_wasm\_memory\_data);}
\DoxyCodeLine{752   \textcolor{keywordflow}{return} shared\_wasm\_memory\_data;}
\DoxyCodeLine{753 \}}

\end{DoxyCode}


References CHECK, is\+\_\+shared(), is\+\_\+wasm\+\_\+memory(), v8\+::internal\+::\+Backing\+Store\+::\+Type\+Specific\+Data\+::shared\+\_\+wasm\+\_\+memory\+\_\+data, and type\+\_\+specific\+\_\+data\+\_\+.



Referenced by $\sim$\+Backing\+Store().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BackingStore_a88544c8b06fedbb7c3cd0dc4d0904634_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BackingStore_a88544c8b06fedbb7c3cd0dc4d0904634_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_a70a1187cdc0344aa3472ff714a0d4364}\label{classv8_1_1internal_1_1BackingStore_a70a1187cdc0344aa3472ff714a0d4364}} 
\index{v8::internal::BackingStore@{v8::internal::BackingStore}!get\_v8\_api\_array\_buffer\_allocator@{get\_v8\_api\_array\_buffer\_allocator}}
\index{get\_v8\_api\_array\_buffer\_allocator@{get\_v8\_api\_array\_buffer\_allocator}!v8::internal::BackingStore@{v8::internal::BackingStore}}
\doxysubsubsection{\texorpdfstring{get\_v8\_api\_array\_buffer\_allocator()}{get\_v8\_api\_array\_buffer\_allocator()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1ArrayBuffer_1_1Allocator}{v8\+::\+Array\+Buffer\+::\+Allocator}} $\ast$ v8\+::internal\+::\+Backing\+Store\+::get\+\_\+v8\+\_\+api\+\_\+array\+\_\+buffer\+\_\+allocator (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 738 of file backing-\/store.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{738                                                                         \{}
\DoxyCodeLine{739   \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(!\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a6549ac91d2a87c9ec3e5d569d1f27cd9}{is\_wasm\_memory}}());}
\DoxyCodeLine{740   \textcolor{keyword}{auto} array\_buffer\_allocator =}
\DoxyCodeLine{741       \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a62e7a3f9c6cb613793e515abc495a54e}{holds\_shared\_ptr\_to\_allocator}}()}
\DoxyCodeLine{742           ? \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_acd3c96ccd4af9d865c4ce060d82282b2}{type\_specific\_data\_}}.\mbox{\hyperlink{unionv8_1_1internal_1_1BackingStore_1_1TypeSpecificData_a605935636f567c55035fd08e9a3a0e71}{v8\_api\_array\_buffer\_allocator\_shared}}.get()}
\DoxyCodeLine{743           : \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_acd3c96ccd4af9d865c4ce060d82282b2}{type\_specific\_data\_}}.\mbox{\hyperlink{unionv8_1_1internal_1_1BackingStore_1_1TypeSpecificData_adc88bc06374b235a42ac1f1bbcb81622}{v8\_api\_array\_buffer\_allocator}};}
\DoxyCodeLine{744   \mbox{\hyperlink{src_2base_2logging_8h_a9154b181227e4b02e465befe50219158}{CHECK\_NOT\_NULL}}(array\_buffer\_allocator);}
\DoxyCodeLine{745   \textcolor{keywordflow}{return} array\_buffer\_allocator;}
\DoxyCodeLine{746 \}}

\end{DoxyCode}


References CHECK, CHECK\+\_\+\+NOT\+\_\+\+NULL, holds\+\_\+shared\+\_\+ptr\+\_\+to\+\_\+allocator(), is\+\_\+wasm\+\_\+memory(), type\+\_\+specific\+\_\+data\+\_\+, v8\+::internal\+::\+Backing\+Store\+::\+Type\+Specific\+Data\+::v8\+\_\+api\+\_\+array\+\_\+buffer\+\_\+allocator, and v8\+::internal\+::\+Backing\+Store\+::\+Type\+Specific\+Data\+::v8\+\_\+api\+\_\+array\+\_\+buffer\+\_\+allocator\+\_\+shared.



Referenced by $\sim$\+Backing\+Store().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BackingStore_a70a1187cdc0344aa3472ff714a0d4364_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BackingStore_a70a1187cdc0344aa3472ff714a0d4364_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_a3f8edbfeb73b5ab2f2768e0de9c2507e}\label{classv8_1_1internal_1_1BackingStore_a3f8edbfeb73b5ab2f2768e0de9c2507e}} 
\index{v8::internal::BackingStore@{v8::internal::BackingStore}!globally\_registered@{globally\_registered}}
\index{globally\_registered@{globally\_registered}!v8::internal::BackingStore@{v8::internal::BackingStore}}
\doxysubsubsection{\texorpdfstring{globally\_registered()}{globally\_registered()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Backing\+Store\+::globally\+\_\+registered (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 238 of file backing-\/store.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{238 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a8f95eddec1566711eb047ce519b05e74}{has\_flag}}(\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684a73e0a98bc0d933aa795474ed137564d6}{kGloballyRegistered}}); \}}

\end{DoxyCode}


Referenced by v8\+::internal\+::\+Global\+Backing\+Store\+Registry\+::\+Unregister().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BackingStore_a3f8edbfeb73b5ab2f2768e0de9c2507e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_a114a717a1c979e511051ba890321585f}\label{classv8_1_1internal_1_1BackingStore_a114a717a1c979e511051ba890321585f}} 
\index{v8::internal::BackingStore@{v8::internal::BackingStore}!GrowInPlace@{GrowInPlace}}
\index{GrowInPlace@{GrowInPlace}!v8::internal::BackingStore@{v8::internal::BackingStore}}
\doxysubsubsection{\texorpdfstring{GrowInPlace()}{GrowInPlace()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_aab34dd77381c9e228375bfae8fae28d7}{Backing\+Store\+::\+Resize\+Or\+Grow\+Result}} v8\+::internal\+::\+Backing\+Store\+::\+Grow\+In\+Place (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{new\+\_\+byte\+\_\+length }\end{DoxyParamCaption})}



Definition at line 648 of file backing-\/store.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{649                                               \{}
\DoxyCodeLine{650   \textcolor{keywordtype}{size\_t} page\_size = \mbox{\hyperlink{namespacev8_1_1internal_a9f5507dc03f0b35f38b119fc3285586a}{AllocatePageSize}}();}
\DoxyCodeLine{651   \textcolor{keywordtype}{size\_t} new\_committed\_pages;}
\DoxyCodeLine{652   \textcolor{keywordtype}{bool} round\_return\_value =}
\DoxyCodeLine{653       \mbox{\hyperlink{namespacev8_1_1internal_a6a1f3d6b7cd6594565b3bd1b98293248}{RoundUpToPageSize}}(new\_byte\_length, page\_size,}
\DoxyCodeLine{654                         \mbox{\hyperlink{classv8_1_1internal_1_1JSArrayBuffer_aaa9641b33f3b26b38930cbb552f8770c}{JSArrayBuffer::kMaxByteLength}}, \&new\_committed\_pages);}
\DoxyCodeLine{655   \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(round\_return\_value);}
\DoxyCodeLine{656 }
\DoxyCodeLine{657   \textcolor{keywordtype}{size\_t} new\_committed\_length = new\_committed\_pages * page\_size;}
\DoxyCodeLine{658   \mbox{\hyperlink{src_2base_2logging_8h_a16b382527f19b805fc8f856668f2270b}{DCHECK\_LE}}(new\_byte\_length, new\_committed\_length);}
\DoxyCodeLine{659   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a402d443b520a53485151c9d2285ce62d}{is\_shared}}());}
\DoxyCodeLine{660   \textcolor{comment}{// See comment in GrowWasmMemoryInPlace.}}
\DoxyCodeLine{661   \textcolor{comment}{// GrowableSharedArrayBuffer.prototype.grow can be called from several}}
\DoxyCodeLine{662   \textcolor{comment}{// threads. If two threads try to grow() in a racy way, the spec allows the}}
\DoxyCodeLine{663   \textcolor{comment}{// larger grow to throw also if the smaller grow succeeds first. The}}
\DoxyCodeLine{664   \textcolor{comment}{// implementation below doesn't throw in that case -\/ instead, it retries and}}
\DoxyCodeLine{665   \textcolor{comment}{// succeeds. If the larger grow finishes first though, the smaller grow must}}
\DoxyCodeLine{666   \textcolor{comment}{// throw.}}
\DoxyCodeLine{667   \textcolor{keywordtype}{size\_t} old\_byte\_length = \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a810fccd58059bbb33821cf4158001269}{byte\_length\_}}.load(std::memory\_order\_seq\_cst);}
\DoxyCodeLine{668   \textcolor{keywordflow}{while} (\textcolor{keyword}{true}) \{}
\DoxyCodeLine{669     \textcolor{keywordflow}{if} (new\_byte\_length < old\_byte\_length) \{}
\DoxyCodeLine{670       \textcolor{comment}{// The caller checks for the new\_byte\_length < old\_byte\_length\_ case. This}}
\DoxyCodeLine{671       \textcolor{comment}{// can only happen if another thread grew the memory after that.}}
\DoxyCodeLine{672       \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_aab34dd77381c9e228375bfae8fae28d7a1e2d07bb7bd779234bcf3eb8e81143d1}{kRace}};}
\DoxyCodeLine{673     \}}
\DoxyCodeLine{674     \textcolor{keywordflow}{if} (new\_byte\_length == old\_byte\_length) \{}
\DoxyCodeLine{675       \textcolor{comment}{// i::SetPermissions with size 0 fails on some platforms, so special}}
\DoxyCodeLine{676       \textcolor{comment}{// handling for the case old\_byte\_length == new\_byte\_length == 0 is}}
\DoxyCodeLine{677       \textcolor{comment}{// required.}}
\DoxyCodeLine{678       \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_aab34dd77381c9e228375bfae8fae28d7aa25ddfe5f11c17157e161edd9afd933f}{kSuccess}};}
\DoxyCodeLine{679     \}}
\DoxyCodeLine{680 }
\DoxyCodeLine{681     \textcolor{comment}{// Try to adjust the permissions on the memory.}}
\DoxyCodeLine{682     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1internal_a0b20b06fc0f215d9b9eac890977a53e7}{i::SetPermissions}}(\mbox{\hyperlink{namespacev8_1_1internal_a1b38d6a01927e639b91b6a039899ac1a}{GetPlatformPageAllocator}}(), \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a78a522363c3d04a38e1420392ff73151}{buffer\_start\_}},}
\DoxyCodeLine{683                            new\_committed\_length, \mbox{\hyperlink{classv8_1_1PageAllocator_a88f74b164fe97e053259f67a95758415abf9beddb1231fa2c23ab417197ea9f8a}{PageAllocator::kReadWrite}})) \{}
\DoxyCodeLine{684       \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_aab34dd77381c9e228375bfae8fae28d7a2facbfb720d8f652c576c26ddd253982}{kFailure}};}
\DoxyCodeLine{685     \}}
\DoxyCodeLine{686 }
\DoxyCodeLine{687     \textcolor{comment}{// compare\_exchange\_weak updates old\_byte\_length.}}
\DoxyCodeLine{688     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a810fccd58059bbb33821cf4158001269}{byte\_length\_}}.compare\_exchange\_weak(old\_byte\_length, new\_byte\_length,}
\DoxyCodeLine{689                                            std::memory\_order\_seq\_cst)) \{}
\DoxyCodeLine{690       \textcolor{comment}{// Successfully updated both the length and permissions.}}
\DoxyCodeLine{691       \textcolor{keywordflow}{break};}
\DoxyCodeLine{692     \}}
\DoxyCodeLine{693   \}}
\DoxyCodeLine{694   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_aab34dd77381c9e228375bfae8fae28d7aa25ddfe5f11c17157e161edd9afd933f}{kSuccess}};}
\DoxyCodeLine{695 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Allocate\+Page\+Size(), buffer\+\_\+start\+\_\+, byte\+\_\+length\+\_\+, CHECK, v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+LE, v8\+::internal\+::\+Get\+Platform\+Page\+Allocator(), is\+\_\+shared(), k\+Failure, v8\+::internal\+::\+JSArray\+Buffer\+::k\+Max\+Byte\+Length, k\+Race, v8\+::\+Page\+Allocator\+::k\+Read\+Write, k\+Success, v8\+::internal\+::\+Round\+Up\+To\+Page\+Size(), and v8\+::internal\+::\+Set\+Permissions().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BackingStore_a114a717a1c979e511051ba890321585f_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_a8f95eddec1566711eb047ce519b05e74}\label{classv8_1_1internal_1_1BackingStore_a8f95eddec1566711eb047ce519b05e74}} 
\index{v8::internal::BackingStore@{v8::internal::BackingStore}!has\_flag@{has\_flag}}
\index{has\_flag@{has\_flag}!v8::internal::BackingStore@{v8::internal::BackingStore}}
\doxysubsubsection{\texorpdfstring{has\_flag()}{has\_flag()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Backing\+Store\+::has\+\_\+flag (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684}{Flag}}}]{flag }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 214 of file backing-\/store.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{214                                  \{}
\DoxyCodeLine{215     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a23837457d06be34c444af3809fc04f30}{flags\_}}.load(std::memory\_order\_relaxed).contains(flag);}
\DoxyCodeLine{216   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_a9a0fcb0b7206a8b542c1e841f1a8f28c}\label{classv8_1_1internal_1_1BackingStore_a9a0fcb0b7206a8b542c1e841f1a8f28c}} 
\index{v8::internal::BackingStore@{v8::internal::BackingStore}!has\_guard\_regions@{has\_guard\_regions}}
\index{has\_guard\_regions@{has\_guard\_regions}!v8::internal::BackingStore@{v8::internal::BackingStore}}
\doxysubsubsection{\texorpdfstring{has\_guard\_regions()}{has\_guard\_regions()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Backing\+Store\+::has\+\_\+guard\+\_\+regions (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 101 of file backing-\/store.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{101 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a8f95eddec1566711eb047ce519b05e74}{has\_flag}}(\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684a7fc18bb87de135d508aae29e8d1fa2e0}{kHasGuardRegions}}); \}}

\end{DoxyCode}


Referenced by Backing\+Store(), Try\+Allocate\+And\+Partially\+Commit\+Memory(), and $\sim$\+Backing\+Store().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BackingStore_a9a0fcb0b7206a8b542c1e841f1a8f28c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_a62e7a3f9c6cb613793e515abc495a54e}\label{classv8_1_1internal_1_1BackingStore_a62e7a3f9c6cb613793e515abc495a54e}} 
\index{v8::internal::BackingStore@{v8::internal::BackingStore}!holds\_shared\_ptr\_to\_allocator@{holds\_shared\_ptr\_to\_allocator}}
\index{holds\_shared\_ptr\_to\_allocator@{holds\_shared\_ptr\_to\_allocator}!v8::internal::BackingStore@{v8::internal::BackingStore}}
\doxysubsubsection{\texorpdfstring{holds\_shared\_ptr\_to\_allocator()}{holds\_shared\_ptr\_to\_allocator()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Backing\+Store\+::holds\+\_\+shared\+\_\+ptr\+\_\+to\+\_\+allocator (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 234 of file backing-\/store.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{234                                              \{}
\DoxyCodeLine{235     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a8f95eddec1566711eb047ce519b05e74}{has\_flag}}(\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684a35051e135b07ad3c9aab0dd7de3ba7a1}{kHoldsSharedPtrToAllocater}});}
\DoxyCodeLine{236   \}}

\end{DoxyCode}


Referenced by get\+\_\+v8\+\_\+api\+\_\+array\+\_\+buffer\+\_\+allocator(), and $\sim$\+Backing\+Store().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BackingStore_a62e7a3f9c6cb613793e515abc495a54e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_ae8e86673479c52203ec2617fd88cbf37}\label{classv8_1_1internal_1_1BackingStore_ae8e86673479c52203ec2617fd88cbf37}} 
\index{v8::internal::BackingStore@{v8::internal::BackingStore}!id@{id}}
\index{id@{id}!v8::internal::BackingStore@{v8::internal::BackingStore}}
\doxysubsubsection{\texorpdfstring{id()}{id()}}
{\footnotesize\ttfamily uint32\+\_\+t v8\+::internal\+::\+Backing\+Store\+::id (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 184 of file backing-\/store.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{184 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a58dfb9e2ff15d2a3cca078455237be52}{id\_}}; \}}

\end{DoxyCode}
\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_ab219feebf565e2deae9ef2beb1fd9c6e}\label{classv8_1_1internal_1_1BackingStore_ab219feebf565e2deae9ef2beb1fd9c6e}} 
\index{v8::internal::BackingStore@{v8::internal::BackingStore}!is\_resizable\_by\_js@{is\_resizable\_by\_js}}
\index{is\_resizable\_by\_js@{is\_resizable\_by\_js}!v8::internal::BackingStore@{v8::internal::BackingStore}}
\doxysubsubsection{\texorpdfstring{is\_resizable\_by\_js()}{is\_resizable\_by\_js()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Backing\+Store\+::is\+\_\+resizable\+\_\+by\+\_\+js (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 98 of file backing-\/store.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{98 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a8f95eddec1566711eb047ce519b05e74}{has\_flag}}(\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684a6f317672af8a4a4bde22d1870233146b}{kIsResizableByJs}}); \}}

\end{DoxyCode}


Referenced by $\sim$\+Backing\+Store().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BackingStore_ab219feebf565e2deae9ef2beb1fd9c6e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_a402d443b520a53485151c9d2285ce62d}\label{classv8_1_1internal_1_1BackingStore_a402d443b520a53485151c9d2285ce62d}} 
\index{v8::internal::BackingStore@{v8::internal::BackingStore}!is\_shared@{is\_shared}}
\index{is\_shared@{is\_shared}!v8::internal::BackingStore@{v8::internal::BackingStore}}
\doxysubsubsection{\texorpdfstring{is\_shared()}{is\_shared()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Backing\+Store\+::is\+\_\+shared (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 97 of file backing-\/store.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{97 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a8f95eddec1566711eb047ce519b05e74}{has\_flag}}(\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684aec0e2e86871d22c5cbc291399d2f0cba}{kIsShared}}); \}}

\end{DoxyCode}


Referenced by get\+\_\+shared\+\_\+wasm\+\_\+memory\+\_\+data(), Grow\+In\+Place(), Resize\+In\+Place(), and $\sim$\+Backing\+Store().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BackingStore_a402d443b520a53485151c9d2285ce62d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_a6549ac91d2a87c9ec3e5d569d1f27cd9}\label{classv8_1_1internal_1_1BackingStore_a6549ac91d2a87c9ec3e5d569d1f27cd9}} 
\index{v8::internal::BackingStore@{v8::internal::BackingStore}!is\_wasm\_memory@{is\_wasm\_memory}}
\index{is\_wasm\_memory@{is\_wasm\_memory}!v8::internal::BackingStore@{v8::internal::BackingStore}}
\doxysubsubsection{\texorpdfstring{is\_wasm\_memory()}{is\_wasm\_memory()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Backing\+Store\+::is\+\_\+wasm\+\_\+memory (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 99 of file backing-\/store.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{99 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a8f95eddec1566711eb047ce519b05e74}{has\_flag}}(\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684aea989e899db1df0a5a532b26aa7bb1ef}{kIsWasmMemory}}); \}}

\end{DoxyCode}


Referenced by Backing\+Store(), get\+\_\+shared\+\_\+wasm\+\_\+memory\+\_\+data(), get\+\_\+v8\+\_\+api\+\_\+array\+\_\+buffer\+\_\+allocator(), Try\+Allocate\+And\+Partially\+Commit\+Memory(), v8\+::internal\+::\+Global\+Backing\+Store\+Registry\+::\+Unregister(), and $\sim$\+Backing\+Store().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BackingStore_a6549ac91d2a87c9ec3e5d569d1f27cd9_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_ad37c31d6c2b299b46b78f43029fa19fe}\label{classv8_1_1internal_1_1BackingStore_ad37c31d6c2b299b46b78f43029fa19fe}} 
\index{v8::internal::BackingStore@{v8::internal::BackingStore}!is\_wasm\_memory64@{is\_wasm\_memory64}}
\index{is\_wasm\_memory64@{is\_wasm\_memory64}!v8::internal::BackingStore@{v8::internal::BackingStore}}
\doxysubsubsection{\texorpdfstring{is\_wasm\_memory64()}{is\_wasm\_memory64()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Backing\+Store\+::is\+\_\+wasm\+\_\+memory64 (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 100 of file backing-\/store.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{100 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a8f95eddec1566711eb047ce519b05e74}{has\_flag}}(\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684afd330dc94decccbe73b9a0cd75717c3d}{kIsWasmMemory64}}); \}}

\end{DoxyCode}


Referenced by Backing\+Store(), Try\+Allocate\+And\+Partially\+Commit\+Memory(), and $\sim$\+Backing\+Store().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BackingStore_ad37c31d6c2b299b46b78f43029fa19fe_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_a71e8062413fb16de06849f48b315426f}\label{classv8_1_1internal_1_1BackingStore_a71e8062413fb16de06849f48b315426f}} 
\index{v8::internal::BackingStore@{v8::internal::BackingStore}!IsEmpty@{IsEmpty}}
\index{IsEmpty@{IsEmpty}!v8::internal::BackingStore@{v8::internal::BackingStore}}
\doxysubsubsection{\texorpdfstring{IsEmpty()}{IsEmpty()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Backing\+Store\+::\+Is\+Empty (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 103 of file backing-\/store.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{103                        \{}
\DoxyCodeLine{104     \mbox{\hyperlink{src_2base_2logging_8h_aabec5c3b7a8628298a25f044dcf89c25}{DCHECK\_GE}}(\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a38fea92df41ebe4ecc690393f09628a8}{byte\_capacity\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a810fccd58059bbb33821cf4158001269}{byte\_length\_}});}
\DoxyCodeLine{105     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a38fea92df41ebe4ecc690393f09628a8}{byte\_capacity\_}} == 0;}
\DoxyCodeLine{106   \}}

\end{DoxyCode}


References DCHECK\+\_\+\+GE.

\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_a64bbbcd6c2a9fba5824432ac58428b95}\label{classv8_1_1internal_1_1BackingStore_a64bbbcd6c2a9fba5824432ac58428b95}} 
\index{v8::internal::BackingStore@{v8::internal::BackingStore}!max\_byte\_length@{max\_byte\_length}}
\index{max\_byte\_length@{max\_byte\_length}!v8::internal::BackingStore@{v8::internal::BackingStore}}
\doxysubsubsection{\texorpdfstring{max\_byte\_length()}{max\_byte\_length()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::\+Backing\+Store\+::max\+\_\+byte\+\_\+length (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 95 of file backing-\/store.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{95 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a326b5343db3393753cef809bc3656add}{max\_byte\_length\_}}; \}}

\end{DoxyCode}


Referenced by Backing\+Store(), and Try\+Allocate\+And\+Partially\+Commit\+Memory().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BackingStore_a64bbbcd6c2a9fba5824432ac58428b95_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_adce4ad02d5760169be7acbbd8149d674}\label{classv8_1_1internal_1_1BackingStore_adce4ad02d5760169be7acbbd8149d674}} 
\index{v8::internal::BackingStore@{v8::internal::BackingStore}!operator=@{operator=}}
\index{operator=@{operator=}!v8::internal::BackingStore@{v8::internal::BackingStore}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore}{Backing\+Store}}\& v8\+::internal\+::\+Backing\+Store\+::operator= (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore}{Backing\+Store}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [delete]}}

\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_aafef5739329690969e3b5268e3e7ff0e}\label{classv8_1_1internal_1_1BackingStore_aafef5739329690969e3b5268e3e7ff0e}} 
\index{v8::internal::BackingStore@{v8::internal::BackingStore}!PerIsolateAccountingLength@{PerIsolateAccountingLength}}
\index{PerIsolateAccountingLength@{PerIsolateAccountingLength}!v8::internal::BackingStore@{v8::internal::BackingStore}}
\doxysubsubsection{\texorpdfstring{PerIsolateAccountingLength()}{PerIsolateAccountingLength()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::\+Backing\+Store\+::\+Per\+Isolate\+Accounting\+Length (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 167 of file backing-\/store.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{167                                       \{}
\DoxyCodeLine{168     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a8f95eddec1566711eb047ce519b05e74}{has\_flag}}(\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684aec0e2e86871d22c5cbc291399d2f0cba}{kIsShared}})) \{}
\DoxyCodeLine{169       \textcolor{comment}{// TODO(titzer): SharedArrayBuffers and shared WasmMemorys cause problems}}
\DoxyCodeLine{170       \textcolor{comment}{// with accounting for per-\/isolate external memory. In particular, sharing}}
\DoxyCodeLine{171       \textcolor{comment}{// the same array buffer or memory multiple times, which happens in stress}}
\DoxyCodeLine{172       \textcolor{comment}{// tests, can cause overcounting, leading to GC thrashing. Fix with global}}
\DoxyCodeLine{173       \textcolor{comment}{// accounting?}}
\DoxyCodeLine{174       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{175     \}}
\DoxyCodeLine{176     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a8f95eddec1566711eb047ce519b05e74}{has\_flag}}(\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684adb6b5263fa5b2ea3364f97fcbd95e5f7}{kEmptyDeleter}})) \{}
\DoxyCodeLine{177       \textcolor{comment}{// The backing store has an empty deleter. Even if the backing store is}}
\DoxyCodeLine{178       \textcolor{comment}{// freed after GC, it would not free the memory block.}}
\DoxyCodeLine{179       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{180     \}}
\DoxyCodeLine{181     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ab5f060a468e2d0b8ad17bcad0a9f3d26}{byte\_length}}();}
\DoxyCodeLine{182   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_ae5929dedd03eb03ff23ae46e2ef0d318}\label{classv8_1_1internal_1_1BackingStore_ae5929dedd03eb03ff23ae46e2ef0d318}} 
\index{v8::internal::BackingStore@{v8::internal::BackingStore}!ResizeInPlace@{ResizeInPlace}}
\index{ResizeInPlace@{ResizeInPlace}!v8::internal::BackingStore@{v8::internal::BackingStore}}
\doxysubsubsection{\texorpdfstring{ResizeInPlace()}{ResizeInPlace()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_aab34dd77381c9e228375bfae8fae28d7}{Backing\+Store\+::\+Resize\+Or\+Grow\+Result}} v8\+::internal\+::\+Backing\+Store\+::\+Resize\+In\+Place (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{new\+\_\+byte\+\_\+length }\end{DoxyParamCaption})}



Definition at line 583 of file backing-\/store.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{584                                               \{}
\DoxyCodeLine{585   \textcolor{keywordtype}{size\_t} page\_size = \mbox{\hyperlink{namespacev8_1_1internal_a9f5507dc03f0b35f38b119fc3285586a}{AllocatePageSize}}();}
\DoxyCodeLine{586   \textcolor{keywordtype}{size\_t} new\_committed\_pages;}
\DoxyCodeLine{587   \textcolor{keywordtype}{bool} round\_return\_value =}
\DoxyCodeLine{588       \mbox{\hyperlink{namespacev8_1_1internal_a6a1f3d6b7cd6594565b3bd1b98293248}{RoundUpToPageSize}}(new\_byte\_length, page\_size,}
\DoxyCodeLine{589                         \mbox{\hyperlink{classv8_1_1internal_1_1JSArrayBuffer_aaa9641b33f3b26b38930cbb552f8770c}{JSArrayBuffer::kMaxByteLength}}, \&new\_committed\_pages);}
\DoxyCodeLine{590   \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(round\_return\_value);}
\DoxyCodeLine{591 }
\DoxyCodeLine{592   \textcolor{keywordtype}{size\_t} new\_committed\_length = new\_committed\_pages * page\_size;}
\DoxyCodeLine{593   \mbox{\hyperlink{src_2base_2logging_8h_a16b382527f19b805fc8f856668f2270b}{DCHECK\_LE}}(new\_byte\_length, new\_committed\_length);}
\DoxyCodeLine{594   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a402d443b520a53485151c9d2285ce62d}{is\_shared}}());}
\DoxyCodeLine{595 }
\DoxyCodeLine{596   \textcolor{keywordflow}{if} (new\_byte\_length < \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a810fccd58059bbb33821cf4158001269}{byte\_length\_}}) \{}
\DoxyCodeLine{597     \textcolor{comment}{// Zero the memory so that in case the buffer is grown later, we have}}
\DoxyCodeLine{598     \textcolor{comment}{// zeroed the contents already. This is especially needed for the portion of}}
\DoxyCodeLine{599     \textcolor{comment}{// the memory we're not going to decommit below (since it belongs to a}}
\DoxyCodeLine{600     \textcolor{comment}{// committed page). In addition, we don't rely on all platforms always}}
\DoxyCodeLine{601     \textcolor{comment}{// zeroing decommitted-\/then-\/recommitted memory, but zero the memory}}
\DoxyCodeLine{602     \textcolor{comment}{// explicitly here.}}
\DoxyCodeLine{603     memset(\textcolor{keyword}{reinterpret\_cast<}uint8\_t*\textcolor{keyword}{>}(\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a78a522363c3d04a38e1420392ff73151}{buffer\_start\_}}) + new\_byte\_length, 0,}
\DoxyCodeLine{604            \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a810fccd58059bbb33821cf4158001269}{byte\_length\_}} -\/ new\_byte\_length);}
\DoxyCodeLine{605 }
\DoxyCodeLine{606     \textcolor{comment}{// Check if we can un-\/commit some pages.}}
\DoxyCodeLine{607     \textcolor{keywordtype}{size\_t} old\_committed\_pages;}
\DoxyCodeLine{608     round\_return\_value =}
\DoxyCodeLine{609         \mbox{\hyperlink{namespacev8_1_1internal_a6a1f3d6b7cd6594565b3bd1b98293248}{RoundUpToPageSize}}(\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a810fccd58059bbb33821cf4158001269}{byte\_length\_}}, page\_size,}
\DoxyCodeLine{610                           \mbox{\hyperlink{classv8_1_1internal_1_1JSArrayBuffer_aaa9641b33f3b26b38930cbb552f8770c}{JSArrayBuffer::kMaxByteLength}}, \&old\_committed\_pages);}
\DoxyCodeLine{611     \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(round\_return\_value);}
\DoxyCodeLine{612     \mbox{\hyperlink{src_2base_2logging_8h_a16b382527f19b805fc8f856668f2270b}{DCHECK\_LE}}(new\_committed\_pages, old\_committed\_pages);}
\DoxyCodeLine{613 }
\DoxyCodeLine{614     \textcolor{keywordflow}{if} (new\_committed\_pages < old\_committed\_pages) \{}
\DoxyCodeLine{615       \textcolor{keywordtype}{size\_t} old\_committed\_length = old\_committed\_pages * page\_size;}
\DoxyCodeLine{616       \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1internal_a0b20b06fc0f215d9b9eac890977a53e7}{i::SetPermissions}}(}
\DoxyCodeLine{617               \mbox{\hyperlink{namespacev8_1_1internal_a1b38d6a01927e639b91b6a039899ac1a}{GetPlatformPageAllocator}}(),}
\DoxyCodeLine{618               \textcolor{keyword}{reinterpret\_cast<}uint8\_t*\textcolor{keyword}{>}(\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a78a522363c3d04a38e1420392ff73151}{buffer\_start\_}}) + new\_committed\_length,}
\DoxyCodeLine{619               old\_committed\_length -\/ new\_committed\_length,}
\DoxyCodeLine{620               \mbox{\hyperlink{classv8_1_1PageAllocator_a88f74b164fe97e053259f67a95758415a501acdacad072f7d6e5737159141301d}{PageAllocator::kNoAccess}})) \{}
\DoxyCodeLine{621         \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_aab34dd77381c9e228375bfae8fae28d7a2facbfb720d8f652c576c26ddd253982}{kFailure}};}
\DoxyCodeLine{622       \}}
\DoxyCodeLine{623     \}}
\DoxyCodeLine{624 }
\DoxyCodeLine{625     \textcolor{comment}{// Changing the byte length wouldn't strictly speaking be needed, since}}
\DoxyCodeLine{626     \textcolor{comment}{// the JSArrayBuffer already stores the updated length. This is to keep}}
\DoxyCodeLine{627     \textcolor{comment}{// the BackingStore and JSArrayBuffer in sync.}}
\DoxyCodeLine{628     \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a810fccd58059bbb33821cf4158001269}{byte\_length\_}} = new\_byte\_length;}
\DoxyCodeLine{629     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_aab34dd77381c9e228375bfae8fae28d7aa25ddfe5f11c17157e161edd9afd933f}{kSuccess}};}
\DoxyCodeLine{630   \}}
\DoxyCodeLine{631   \textcolor{keywordflow}{if} (new\_byte\_length == \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a810fccd58059bbb33821cf4158001269}{byte\_length\_}}) \{}
\DoxyCodeLine{632     \textcolor{comment}{// i::SetPermissions with size 0 fails on some platforms, so special}}
\DoxyCodeLine{633     \textcolor{comment}{// handling for the case byte\_length\_ == new\_byte\_length == 0 is required.}}
\DoxyCodeLine{634     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_aab34dd77381c9e228375bfae8fae28d7aa25ddfe5f11c17157e161edd9afd933f}{kSuccess}};}
\DoxyCodeLine{635   \}}
\DoxyCodeLine{636 }
\DoxyCodeLine{637   \textcolor{comment}{// Try to adjust the permissions on the memory.}}
\DoxyCodeLine{638   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1internal_a0b20b06fc0f215d9b9eac890977a53e7}{i::SetPermissions}}(\mbox{\hyperlink{namespacev8_1_1internal_a1b38d6a01927e639b91b6a039899ac1a}{GetPlatformPageAllocator}}(), \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a78a522363c3d04a38e1420392ff73151}{buffer\_start\_}},}
\DoxyCodeLine{639                          new\_committed\_length, \mbox{\hyperlink{classv8_1_1PageAllocator_a88f74b164fe97e053259f67a95758415abf9beddb1231fa2c23ab417197ea9f8a}{PageAllocator::kReadWrite}})) \{}
\DoxyCodeLine{640     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_aab34dd77381c9e228375bfae8fae28d7a2facbfb720d8f652c576c26ddd253982}{kFailure}};}
\DoxyCodeLine{641   \}}
\DoxyCodeLine{642 }
\DoxyCodeLine{643   \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a810fccd58059bbb33821cf4158001269}{byte\_length\_}} = new\_byte\_length;}
\DoxyCodeLine{644   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_aab34dd77381c9e228375bfae8fae28d7aa25ddfe5f11c17157e161edd9afd933f}{kSuccess}};}
\DoxyCodeLine{645 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Allocate\+Page\+Size(), buffer\+\_\+start\+\_\+, byte\+\_\+length\+\_\+, CHECK, v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+LE, v8\+::internal\+::\+Get\+Platform\+Page\+Allocator(), is\+\_\+shared(), k\+Failure, v8\+::internal\+::\+JSArray\+Buffer\+::k\+Max\+Byte\+Length, v8\+::\+Page\+Allocator\+::k\+No\+Access, v8\+::\+Page\+Allocator\+::k\+Read\+Write, k\+Success, v8\+::internal\+::\+Round\+Up\+To\+Page\+Size(), and v8\+::internal\+::\+Set\+Permissions().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BackingStore_ae5929dedd03eb03ff23ae46e2ef0d318_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_ad0beaf6e7998f42a780eea2f02b24bdc}\label{classv8_1_1internal_1_1BackingStore_ad0beaf6e7998f42a780eea2f02b24bdc}} 
\index{v8::internal::BackingStore@{v8::internal::BackingStore}!set\_flag@{set\_flag}}
\index{set\_flag@{set\_flag}!v8::internal::BackingStore@{v8::internal::BackingStore}}
\doxysubsubsection{\texorpdfstring{set\_flag()}{set\_flag()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Backing\+Store\+::set\+\_\+flag (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684}{Flag}}}]{flag }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 217 of file backing-\/store.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{217                            \{}
\DoxyCodeLine{218     base::EnumSet<Flag, uint16\_t> old\_flags =}
\DoxyCodeLine{219         \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a23837457d06be34c444af3809fc04f30}{flags\_}}.load(std::memory\_order\_relaxed);}
\DoxyCodeLine{220     \textcolor{keywordflow}{while} (!\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a23837457d06be34c444af3809fc04f30}{flags\_}}.compare\_exchange\_weak(old\_flags, old\_flags | flag,}
\DoxyCodeLine{221                                          std::memory\_order\_relaxed)) \{}
\DoxyCodeLine{222       \textcolor{comment}{// Retry with updated `old\_flags`.}}
\DoxyCodeLine{223     \}}
\DoxyCodeLine{224   \}}

\end{DoxyCode}


Referenced by Set\+Allocator\+From\+Isolate().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BackingStore_ad0beaf6e7998f42a780eea2f02b24bdc_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_a7739254c12bdc22180aadbd4145f2846}\label{classv8_1_1internal_1_1BackingStore_a7739254c12bdc22180aadbd4145f2846}} 
\index{v8::internal::BackingStore@{v8::internal::BackingStore}!SetAllocatorFromIsolate@{SetAllocatorFromIsolate}}
\index{SetAllocatorFromIsolate@{SetAllocatorFromIsolate}!v8::internal::BackingStore@{v8::internal::BackingStore}}
\doxysubsubsection{\texorpdfstring{SetAllocatorFromIsolate()}{SetAllocatorFromIsolate()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Backing\+Store\+::\+Set\+Allocator\+From\+Isolate (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 263 of file backing-\/store.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{263                                                            \{}
\DoxyCodeLine{264   \textcolor{keywordflow}{if} (\textcolor{keyword}{auto} allocator\_shared = isolate-\/>array\_buffer\_allocator\_shared()) \{}
\DoxyCodeLine{265     \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ad0beaf6e7998f42a780eea2f02b24bdc}{set\_flag}}(\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684a35051e135b07ad3c9aab0dd7de3ba7a1}{kHoldsSharedPtrToAllocater}});}
\DoxyCodeLine{266     \textcolor{keyword}{new} (\&\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_acd3c96ccd4af9d865c4ce060d82282b2}{type\_specific\_data\_}}.\mbox{\hyperlink{unionv8_1_1internal_1_1BackingStore_1_1TypeSpecificData_a605935636f567c55035fd08e9a3a0e71}{v8\_api\_array\_buffer\_allocator\_shared}})}
\DoxyCodeLine{267         std::shared\_ptr<v8::ArrayBuffer::Allocator>(}
\DoxyCodeLine{268             std::move(allocator\_shared));}
\DoxyCodeLine{269   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{270     \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_acd3c96ccd4af9d865c4ce060d82282b2}{type\_specific\_data\_}}.\mbox{\hyperlink{unionv8_1_1internal_1_1BackingStore_1_1TypeSpecificData_adc88bc06374b235a42ac1f1bbcb81622}{v8\_api\_array\_buffer\_allocator}} =}
\DoxyCodeLine{271         isolate-\/>array\_buffer\_allocator();}
\DoxyCodeLine{272   \}}
\DoxyCodeLine{273 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Isolate\+::array\+\_\+buffer\+\_\+allocator(), v8\+::internal\+::\+Isolate\+::array\+\_\+buffer\+\_\+allocator\+\_\+shared(), k\+Holds\+Shared\+Ptr\+To\+Allocater, set\+\_\+flag(), type\+\_\+specific\+\_\+data\+\_\+, v8\+::internal\+::\+Backing\+Store\+::\+Type\+Specific\+Data\+::v8\+\_\+api\+\_\+array\+\_\+buffer\+\_\+allocator, and v8\+::internal\+::\+Backing\+Store\+::\+Type\+Specific\+Data\+::v8\+\_\+api\+\_\+array\+\_\+buffer\+\_\+allocator\+\_\+shared.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BackingStore_a7739254c12bdc22180aadbd4145f2846_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_a16e425ce07e504ff3bb7d238b825704c}\label{classv8_1_1internal_1_1BackingStore_a16e425ce07e504ff3bb7d238b825704c}} 
\index{v8::internal::BackingStore@{v8::internal::BackingStore}!TryAllocateAndPartiallyCommitMemory@{TryAllocateAndPartiallyCommitMemory}}
\index{TryAllocateAndPartiallyCommitMemory@{TryAllocateAndPartiallyCommitMemory}!v8::internal::BackingStore@{v8::internal::BackingStore}}
\doxysubsubsection{\texorpdfstring{TryAllocateAndPartiallyCommitMemory()}{TryAllocateAndPartiallyCommitMemory()}}
{\footnotesize\ttfamily std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore}{Backing\+Store}} $>$ v8\+::internal\+::\+Backing\+Store\+::\+Try\+Allocate\+And\+Partially\+Commit\+Memory (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{byte\+\_\+length,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{max\+\_\+byte\+\_\+length,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{page\+\_\+size,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{initial\+\_\+pages,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{maximum\+\_\+pages,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a5ccd81f4720c063fbbb03699603034c6}{Wasm\+Memory\+Flag}}}]{wasm\+\_\+memory,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a680ace1d3e86dae2df93867132a3c160}{Shared\+Flag}}}]{shared,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}}}]{has\+\_\+guard\+\_\+regions = {\ttfamily \mbox{\hyperlink{flag-definitions_8h_a3a9beadc89284d3f78a7d4945b1b4d8c}{false}}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 275 of file backing-\/store.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{278                                                                            \{}
\DoxyCodeLine{279   \textcolor{comment}{// Enforce engine limitation on the maximum number of pages.}}
\DoxyCodeLine{280   \textcolor{keywordflow}{if} (maximum\_pages > std::numeric\_limits<size\_t>::max() / page\_size) \{}
\DoxyCodeLine{281     \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{282   \}}
\DoxyCodeLine{283 }
\DoxyCodeLine{284   \textcolor{comment}{// Cannot reserve 0 pages on some OSes.}}
\DoxyCodeLine{285   \textcolor{keywordflow}{if} (maximum\_pages == 0) maximum\_pages = 1;}
\DoxyCodeLine{286 }
\DoxyCodeLine{287   \mbox{\hyperlink{backing-store_8cc_ac29cdbbff328cee7720dae0970227ac5}{TRACE\_BS}}(\textcolor{stringliteral}{"{}BSw:try   \%zu pages, \%zu max\(\backslash\)n"{}}, initial\_pages, maximum\_pages);}
\DoxyCodeLine{288 }
\DoxyCodeLine{289 \textcolor{preprocessor}{\#if V8\_ENABLE\_WEBASSEMBLY}}
\DoxyCodeLine{290   \textcolor{keywordtype}{bool} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a6549ac91d2a87c9ec3e5d569d1f27cd9}{is\_wasm\_memory}} = wasm\_memory != \mbox{\hyperlink{namespacev8_1_1internal_a5ccd81f4720c063fbbb03699603034c6a55cd2e71581cb7d0f1e9dbf5113d3516}{WasmMemoryFlag::kNotWasm}};}
\DoxyCodeLine{291   \textcolor{keywordtype}{bool} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ad37c31d6c2b299b46b78f43029fa19fe}{is\_wasm\_memory64}} = wasm\_memory == \mbox{\hyperlink{namespacev8_1_1internal_a5ccd81f4720c063fbbb03699603034c6a076ed6b69b93a14d0f539af6c5bf4913}{WasmMemoryFlag::kWasmMemory64}};}
\DoxyCodeLine{292 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{293   \mbox{\hyperlink{src_2base_2logging_8h_aca32614b4d2aea7dd9abdeb222bf02f3}{CHECK\_EQ}}(\mbox{\hyperlink{namespacev8_1_1internal_a5ccd81f4720c063fbbb03699603034c6a55cd2e71581cb7d0f1e9dbf5113d3516}{WasmMemoryFlag::kNotWasm}}, wasm\_memory);}
\DoxyCodeLine{294   constexpr \textcolor{keywordtype}{bool} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a6549ac91d2a87c9ec3e5d569d1f27cd9}{is\_wasm\_memory}} = \textcolor{keyword}{false};}
\DoxyCodeLine{295   constexpr \textcolor{keywordtype}{bool} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ad37c31d6c2b299b46b78f43029fa19fe}{is\_wasm\_memory64}} = \textcolor{keyword}{false};}
\DoxyCodeLine{296 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// V8\_ENABLE\_WEBASSEMBLY}}
\DoxyCodeLine{297   \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a9a0fcb0b7206a8b542c1e841f1a8f28c}{has\_guard\_regions}}, \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a6549ac91d2a87c9ec3e5d569d1f27cd9}{is\_wasm\_memory}});}
\DoxyCodeLine{298 }
\DoxyCodeLine{299   \textcolor{comment}{// For accounting purposes, whether a GC was necessary.}}
\DoxyCodeLine{300   \textcolor{keywordtype}{bool} did\_retry = \textcolor{keyword}{false};}
\DoxyCodeLine{301 }
\DoxyCodeLine{302   \textcolor{comment}{// A helper to try running a function up to 3 times, executing a GC}}
\DoxyCodeLine{303   \textcolor{comment}{// if the first and second attempts failed.}}
\DoxyCodeLine{304   \textcolor{keyword}{auto} gc\_retry = [\&](\textcolor{keyword}{const} std::function<\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}}()>\& fn) \{}
\DoxyCodeLine{305     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < 3; \mbox{\hyperlink{namespacev8_1_1internal}{i}}++) \{}
\DoxyCodeLine{306       \textcolor{keywordflow}{if} (fn()) \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{307       \textcolor{comment}{// Collect garbage and retry.}}
\DoxyCodeLine{308       did\_retry = \textcolor{keyword}{true};}
\DoxyCodeLine{309       \textcolor{keywordflow}{if} (isolate != \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{310         isolate-\/>heap()-\/>MemoryPressureNotification(}
\DoxyCodeLine{311             \mbox{\hyperlink{namespacev8_ae0e9a25bf51e518585f555806e7dc7b9a5a20548c220f372fc701cae6de94040b}{MemoryPressureLevel::kCritical}}, \textcolor{keyword}{true});}
\DoxyCodeLine{312       \}}
\DoxyCodeLine{313     \}}
\DoxyCodeLine{314     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{315   \};}
\DoxyCodeLine{316 }
\DoxyCodeLine{317   \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ab76e4ee584f63c9a2be17a036fa29102}{byte\_capacity}} = maximum\_pages * page\_size;}
\DoxyCodeLine{318   \textcolor{keywordtype}{size\_t} reservation\_size =}
\DoxyCodeLine{319       \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02backing-store_8cc_03_a1775daf1cd938ba08a17e055c6b70bc4}{GetReservationSize}}(\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a9a0fcb0b7206a8b542c1e841f1a8f28c}{has\_guard\_regions}}, \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ab76e4ee584f63c9a2be17a036fa29102}{byte\_capacity}}, \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ad37c31d6c2b299b46b78f43029fa19fe}{is\_wasm\_memory64}});}
\DoxyCodeLine{320 }
\DoxyCodeLine{321   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{322   \textcolor{comment}{// Allocate pages (inaccessible by default).}}
\DoxyCodeLine{323   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{324   \textcolor{keywordtype}{void}* allocation\_base = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{325 \textcolor{preprocessor}{\#ifdef V8\_COMPRESS\_POINTERS\_IN\_MULTIPLE\_CAGES}}
\DoxyCodeLine{326 \textcolor{preprocessor}{\#ifdef V8\_ENABLE\_SANDBOX}}
\DoxyCodeLine{327   \mbox{\hyperlink{src_2base_2logging_8h_a7b0fb5d6be902959a80a9a33cc4e73fe}{CHECK\_WITH\_MSG}}(isolate || Sandbox::current(),}
\DoxyCodeLine{328 \#\textcolor{keywordflow}{else}}
\DoxyCodeLine{329   \mbox{\hyperlink{src_2base_2logging_8h_a7b0fb5d6be902959a80a9a33cc4e73fe}{CHECK\_WITH\_MSG}}(isolate || \mbox{\hyperlink{classv8_1_1internal_1_1IsolateGroup_a3ca6c5d3f2b884f5866595543d2e0fd7}{IsolateGroup::current}}(),}
\DoxyCodeLine{330 \#endif}
\DoxyCodeLine{331                  \textcolor{stringliteral}{"{}One must enter an v8::Isolate before allocating resizable "{}}}
\DoxyCodeLine{332                  \textcolor{stringliteral}{"{}array backing stores"{}});}
\DoxyCodeLine{333 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{334   IsolateGroup* group =}
\DoxyCodeLine{335       isolate ? isolate-\/>isolate\_group() : \mbox{\hyperlink{classv8_1_1internal_1_1IsolateGroup_a3ca6c5d3f2b884f5866595543d2e0fd7}{IsolateGroup::current}}();}
\DoxyCodeLine{336   \mbox{\hyperlink{namespacecppgc_ae7d41c486a869bec62aa1b8c9c55c142}{PageAllocator}}* page\_allocator = group ? group-\/>GetBackingStorePageAllocator()}
\DoxyCodeLine{337                                         : \mbox{\hyperlink{namespacev8_1_1internal_ad2f1f50a10b1b024ff3ee1aae8927b30}{GetArrayBufferPageAllocator}}();}
\DoxyCodeLine{338   \textcolor{keyword}{auto} allocate\_pages = [\&] \{}
\DoxyCodeLine{339     allocation\_base = \mbox{\hyperlink{namespacev8_1_1internal_a3ce652c7cf886797e12fd8404dca14c0}{AllocatePages}}(page\_allocator, reservation\_size, page\_size,}
\DoxyCodeLine{340                                     \mbox{\hyperlink{classv8_1_1PageAllocator_a88f74b164fe97e053259f67a95758415a501acdacad072f7d6e5737159141301d}{PageAllocator::kNoAccess}});}
\DoxyCodeLine{341     \textcolor{keywordflow}{return} allocation\_base != \textcolor{keyword}{nullptr};}
\DoxyCodeLine{342   \};}
\DoxyCodeLine{343   \textcolor{keywordflow}{if} (!gc\_retry(allocate\_pages)) \{}
\DoxyCodeLine{344     \textcolor{comment}{// Page allocator could not reserve enough pages.}}
\DoxyCodeLine{345     \textcolor{keywordflow}{if} (isolate != \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{346       \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02backing-store_8cc_03_af4ed0c42b262b24a45b743b932ac1bb0}{RecordStatus}}(isolate, AllocationStatus::kOtherFailure);}
\DoxyCodeLine{347     \}}
\DoxyCodeLine{348     \mbox{\hyperlink{backing-store_8cc_ac29cdbbff328cee7720dae0970227ac5}{TRACE\_BS}}(\textcolor{stringliteral}{"{}BSw:try   failed to allocate pages\(\backslash\)n"{}});}
\DoxyCodeLine{349     \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{350   \}}
\DoxyCodeLine{351 }
\DoxyCodeLine{352   uint8\_t* \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0b207df70ee775dac1f8332591f41362}{buffer\_start}} = \textcolor{keyword}{reinterpret\_cast<}uint8\_t*\textcolor{keyword}{>}(allocation\_base);}
\DoxyCodeLine{353 }
\DoxyCodeLine{354   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{355   \textcolor{comment}{// Commit the initial pages (allow read/write).}}
\DoxyCodeLine{356   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{357   \textcolor{keywordtype}{size\_t} committed\_byte\_length = initial\_pages * page\_size;}
\DoxyCodeLine{358   \textcolor{keyword}{auto} commit\_memory = [\&] \{}
\DoxyCodeLine{359     \textcolor{keywordflow}{return} committed\_byte\_length == 0 ||}
\DoxyCodeLine{360            \mbox{\hyperlink{namespacev8_1_1internal_a0b20b06fc0f215d9b9eac890977a53e7}{SetPermissions}}(page\_allocator, \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0b207df70ee775dac1f8332591f41362}{buffer\_start}}, committed\_byte\_length,}
\DoxyCodeLine{361                           \mbox{\hyperlink{classv8_1_1PageAllocator_a88f74b164fe97e053259f67a95758415abf9beddb1231fa2c23ab417197ea9f8a}{PageAllocator::kReadWrite}});}
\DoxyCodeLine{362   \};}
\DoxyCodeLine{363   \textcolor{keywordflow}{if} (!gc\_retry(commit\_memory)) \{}
\DoxyCodeLine{364     \mbox{\hyperlink{backing-store_8cc_ac29cdbbff328cee7720dae0970227ac5}{TRACE\_BS}}(\textcolor{stringliteral}{"{}BSw:try   failed to set permissions (\%p, \%zu)\(\backslash\)n"{}}, \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0b207df70ee775dac1f8332591f41362}{buffer\_start}},}
\DoxyCodeLine{365              committed\_byte\_length);}
\DoxyCodeLine{366     \mbox{\hyperlink{namespacev8_1_1internal_af33be30dc6995646ac5a541bdf0ede03}{FreePages}}(page\_allocator, allocation\_base, reservation\_size);}
\DoxyCodeLine{367     \textcolor{comment}{// SetPermissions put us over the process memory limit.}}
\DoxyCodeLine{368     \textcolor{comment}{// We return an empty result so that the caller can throw an exception.}}
\DoxyCodeLine{369     \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{370   \}}
\DoxyCodeLine{371 }
\DoxyCodeLine{372   \textcolor{keywordflow}{if} (isolate != \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{373     \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02backing-store_8cc_03_af4ed0c42b262b24a45b743b932ac1bb0}{RecordStatus}}(isolate, did\_retry ? AllocationStatus::kSuccessAfterRetry}
\DoxyCodeLine{374                                     : \mbox{\hyperlink{namespacev8_1_1internal_1_1detail_a065f2a0786f61ff0bd5e833781a87aeaa3e421f5795a067010cfcf0d2c6da2123}{AllocationStatus::kSuccess}});}
\DoxyCodeLine{375   \}}
\DoxyCodeLine{376 }
\DoxyCodeLine{377   \mbox{\hyperlink{namespacev8_1_1internal_ab10416aabce855093f2c91151df24348}{ResizableFlag}} resizable =}
\DoxyCodeLine{378       \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a6549ac91d2a87c9ec3e5d569d1f27cd9}{is\_wasm\_memory}} ? \mbox{\hyperlink{namespacev8_1_1internal_ab10416aabce855093f2c91151df24348af444d0c6959a4f4e0553ccd4f9f35908}{ResizableFlag::kNotResizable}} : \mbox{\hyperlink{namespacev8_1_1internal_ab10416aabce855093f2c91151df24348a791e8c43bffb7c8241a98ff4a7f315f0}{ResizableFlag::kResizable}};}
\DoxyCodeLine{379 }
\DoxyCodeLine{380   \textcolor{keyword}{auto} \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} = \textcolor{keyword}{new} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a3c7b4df60abfddb797e6962076b674b0}{BackingStore}}(page\_allocator,}
\DoxyCodeLine{381                                  \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0b207df70ee775dac1f8332591f41362}{buffer\_start}},       \textcolor{comment}{// start}}
\DoxyCodeLine{382                                  \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ab5f060a468e2d0b8ad17bcad0a9f3d26}{byte\_length}},        \textcolor{comment}{// length}}
\DoxyCodeLine{383                                  \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a64bbbcd6c2a9fba5824432ac58428b95}{max\_byte\_length}},    \textcolor{comment}{// max\_byte\_length}}
\DoxyCodeLine{384                                  \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ab76e4ee584f63c9a2be17a036fa29102}{byte\_capacity}},      \textcolor{comment}{// capacity}}
\DoxyCodeLine{385                                  shared,             \textcolor{comment}{// shared}}
\DoxyCodeLine{386                                  resizable,          \textcolor{comment}{// resizable}}
\DoxyCodeLine{387                                  \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a6549ac91d2a87c9ec3e5d569d1f27cd9}{is\_wasm\_memory}},     \textcolor{comment}{// is\_wasm\_memory}}
\DoxyCodeLine{388                                  \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ad37c31d6c2b299b46b78f43029fa19fe}{is\_wasm\_memory64}},   \textcolor{comment}{// is\_wasm\_memory64}}
\DoxyCodeLine{389                                  \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a9a0fcb0b7206a8b542c1e841f1a8f28c}{has\_guard\_regions}},  \textcolor{comment}{// has\_guard\_regions}}
\DoxyCodeLine{390                                  \textcolor{keyword}{false},              \textcolor{comment}{// custom\_deleter}}
\DoxyCodeLine{391                                  \textcolor{keyword}{false});             \textcolor{comment}{// empty\_deleter}}
\DoxyCodeLine{392   \mbox{\hyperlink{backing-store_8cc_ac29cdbbff328cee7720dae0970227ac5}{TRACE\_BS}}(}
\DoxyCodeLine{393       \textcolor{stringliteral}{"{}BSw:alloc bs=\%p mem=\%p (length=\%zu, capacity=\%zu, reservation=\%zu)\(\backslash\)n"{}},}
\DoxyCodeLine{394       \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}}, \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}}-\/>buffer\_start(), \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ab5f060a468e2d0b8ad17bcad0a9f3d26}{byte\_length}}, \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ab76e4ee584f63c9a2be17a036fa29102}{byte\_capacity}},}
\DoxyCodeLine{395       reservation\_size);}
\DoxyCodeLine{396 }
\DoxyCodeLine{397   \textcolor{keywordflow}{return} std::unique\_ptr<BackingStore>(\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}});}
\DoxyCodeLine{398 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Allocate\+Pages(), Backing\+Store(), v8\+::internal\+::bool, buffer\+\_\+start(), byte\+\_\+capacity(), byte\+\_\+length(), CHECK\+\_\+\+EQ, CHECK\+\_\+\+WITH\+\_\+\+MSG, v8\+::internal\+::\+Isolate\+Group\+::current(), DCHECK\+\_\+\+IMPLIES, v8\+::internal\+::\+Free\+Pages(), v8\+::internal\+::\+Get\+Array\+Buffer\+Page\+Allocator(), v8\+::internal\+::anonymous\+\_\+namespace\{backing-\/store.\+cc\}\+::\+Get\+Reservation\+Size(), has\+\_\+guard\+\_\+regions(), v8\+::internal\+::\+Isolate\+::heap(), is\+\_\+wasm\+\_\+memory(), is\+\_\+wasm\+\_\+memory64(), v8\+::internal\+::\+Isolate\+::isolate\+\_\+group(), v8\+::k\+Critical, v8\+::\+Page\+Allocator\+::k\+No\+Access, v8\+::internal\+::k\+Not\+Resizable, v8\+::internal\+::k\+Not\+Wasm, v8\+::\+Page\+Allocator\+::k\+Read\+Write, v8\+::internal\+::k\+Resizable, v8\+::internal\+::detail\+::k\+Success, v8\+::internal\+::k\+Wasm\+Memory64, max\+\_\+byte\+\_\+length(), v8\+::internal\+::\+Heap\+::\+Memory\+Pressure\+Notification(), v8\+::internal\+::anonymous\+\_\+namespace\{backing-\/store.\+cc\}\+::\+Record\+Status(), v8\+::base\+::internal\+::result, v8\+::internal\+::\+Set\+Permissions(), and TRACE\+\_\+\+BS.



Referenced by v8\+::internal\+::\+Factory\+::\+New\+JSArray\+Buffer\+And\+Backing\+Store(), v8\+::\+Array\+Buffer\+::\+New\+Resizable\+Backing\+Store(), and v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/arraybuffer.\+cc\}\+::\+Try\+Allocate\+Backing\+Store().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BackingStore_a16e425ce07e504ff3bb7d238b825704c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BackingStore_a16e425ce07e504ff3bb7d238b825704c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_a2067951c5d4377b698d7799bc63af02a}\label{classv8_1_1internal_1_1BackingStore_a2067951c5d4377b698d7799bc63af02a}} 
\index{v8::internal::BackingStore@{v8::internal::BackingStore}!WrapAllocation@{WrapAllocation}}
\index{WrapAllocation@{WrapAllocation}!v8::internal::BackingStore@{v8::internal::BackingStore}}
\doxysubsubsection{\texorpdfstring{WrapAllocation()}{WrapAllocation()}}
{\footnotesize\ttfamily std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore}{Backing\+Store}} $>$ v8\+::internal\+::\+Backing\+Store\+::\+Wrap\+Allocation (\begin{DoxyParamCaption}\item[{void $\ast$}]{allocation\+\_\+base,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{allocation\+\_\+length,  }\item[{\mbox{\hyperlink{classv8_1_1BackingStore_ab2d10e4c046ba17490364168d1e190b0}{v8\+::\+Backing\+Store\+::\+Deleter\+Callback}}}]{deleter,  }\item[{void $\ast$}]{deleter\+\_\+data,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a680ace1d3e86dae2df93867132a3c160}{Shared\+Flag}}}]{shared }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 697 of file backing-\/store.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{700                        \{}
\DoxyCodeLine{701   \textcolor{keywordtype}{bool} is\_empty\_deleter = (deleter == \mbox{\hyperlink{classv8_1_1BackingStore_ae19ce3cfb723f9559f02b54e8a5ab6a0}{v8::BackingStore::EmptyDeleter}});}
\DoxyCodeLine{702   \textcolor{keyword}{auto} \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} = \textcolor{keyword}{new} \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a3c7b4df60abfddb797e6962076b674b0}{BackingStore}}(\textcolor{keyword}{nullptr},}
\DoxyCodeLine{703                                  allocation\_base,               \textcolor{comment}{// start}}
\DoxyCodeLine{704                                  allocation\_length,             \textcolor{comment}{// length}}
\DoxyCodeLine{705                                  allocation\_length,             \textcolor{comment}{// max length}}
\DoxyCodeLine{706                                  allocation\_length,             \textcolor{comment}{// capacity}}
\DoxyCodeLine{707                                  shared,                        \textcolor{comment}{// shared}}
\DoxyCodeLine{708                                  \mbox{\hyperlink{namespacev8_1_1internal_ab10416aabce855093f2c91151df24348af444d0c6959a4f4e0553ccd4f9f35908}{ResizableFlag::kNotResizable}},  \textcolor{comment}{// resizable}}
\DoxyCodeLine{709                                  \textcolor{keyword}{false},              \textcolor{comment}{// is\_wasm\_memory}}
\DoxyCodeLine{710                                  \textcolor{keyword}{false},              \textcolor{comment}{// is\_wasm\_memory64}}
\DoxyCodeLine{711                                  \textcolor{keyword}{false},              \textcolor{comment}{// has\_guard\_regions}}
\DoxyCodeLine{712                                  \textcolor{keyword}{true},               \textcolor{comment}{// custom\_deleter}}
\DoxyCodeLine{713                                  is\_empty\_deleter);  \textcolor{comment}{// empty\_deleter}}
\DoxyCodeLine{714   \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}}-\/>type\_specific\_data\_.deleter = \{deleter, deleter\_data\};}
\DoxyCodeLine{715   \mbox{\hyperlink{backing-store_8cc_ac29cdbbff328cee7720dae0970227ac5}{TRACE\_BS}}(\textcolor{stringliteral}{"{}BS:wrap   bs=\%p mem=\%p (length=\%zu)\(\backslash\)n"{}}, \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}},}
\DoxyCodeLine{716            \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}}-\/>buffer\_start(), \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}}-\/>byte\_length());}
\DoxyCodeLine{717   \textcolor{keywordflow}{return} std::unique\_ptr<BackingStore>(\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}});}
\DoxyCodeLine{718 \}}

\end{DoxyCode}


References Backing\+Store(), v8\+::\+Backing\+Store\+::\+Empty\+Deleter(), v8\+::internal\+::k\+Not\+Resizable, v8\+::base\+::internal\+::result, and TRACE\+\_\+\+BS.



Referenced by v8\+::\+Array\+Buffer\+::\+New\+Backing\+Store(), and v8\+::\+Shared\+Array\+Buffer\+::\+New\+Backing\+Store().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BackingStore_a2067951c5d4377b698d7799bc63af02a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BackingStore_a2067951c5d4377b698d7799bc63af02a_icgraph}
\end{center}
\end{figure}


\doxysubsection{Friends And Related Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_a3584a81354c7a9437db574f701dc7eea}\label{classv8_1_1internal_1_1BackingStore_a3584a81354c7a9437db574f701dc7eea}} 
\index{v8::internal::BackingStore@{v8::internal::BackingStore}!GlobalBackingStoreRegistry@{GlobalBackingStoreRegistry}}
\index{GlobalBackingStoreRegistry@{GlobalBackingStoreRegistry}!v8::internal::BackingStore@{v8::internal::BackingStore}}
\doxysubsubsection{\texorpdfstring{GlobalBackingStoreRegistry}{GlobalBackingStoreRegistry}}
{\footnotesize\ttfamily friend class \mbox{\hyperlink{classv8_1_1internal_1_1GlobalBackingStoreRegistry}{Global\+Backing\+Store\+Registry}}\hspace{0.3cm}{\ttfamily [friend]}}



Definition at line 187 of file backing-\/store.\+h.



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_a78a522363c3d04a38e1420392ff73151}\label{classv8_1_1internal_1_1BackingStore_a78a522363c3d04a38e1420392ff73151}} 
\index{v8::internal::BackingStore@{v8::internal::BackingStore}!buffer\_start\_@{buffer\_start\_}}
\index{buffer\_start\_@{buffer\_start\_}!v8::internal::BackingStore@{v8::internal::BackingStore}}
\doxysubsubsection{\texorpdfstring{buffer\_start\_}{buffer\_start\_}}
{\footnotesize\ttfamily void$\ast$ v8\+::internal\+::\+Backing\+Store\+::buffer\+\_\+start\+\_\+ = \mbox{\hyperlink{flag-definitions_8h_aca14fbede0905858c819226fce3678cc}{nullptr}}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 240 of file backing-\/store.\+h.



Referenced by Grow\+In\+Place(), Resize\+In\+Place(), and $\sim$\+Backing\+Store().

\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_a38fea92df41ebe4ecc690393f09628a8}\label{classv8_1_1internal_1_1BackingStore_a38fea92df41ebe4ecc690393f09628a8}} 
\index{v8::internal::BackingStore@{v8::internal::BackingStore}!byte\_capacity\_@{byte\_capacity\_}}
\index{byte\_capacity\_@{byte\_capacity\_}!v8::internal::BackingStore@{v8::internal::BackingStore}}
\doxysubsubsection{\texorpdfstring{byte\_capacity\_}{byte\_capacity\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::\+Backing\+Store\+::byte\+\_\+capacity\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 245 of file backing-\/store.\+h.



Referenced by $\sim$\+Backing\+Store().

\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_a810fccd58059bbb33821cf4158001269}\label{classv8_1_1internal_1_1BackingStore_a810fccd58059bbb33821cf4158001269}} 
\index{v8::internal::BackingStore@{v8::internal::BackingStore}!byte\_length\_@{byte\_length\_}}
\index{byte\_length\_@{byte\_length\_}!v8::internal::BackingStore@{v8::internal::BackingStore}}
\doxysubsubsection{\texorpdfstring{byte\_length\_}{byte\_length\_}}
{\footnotesize\ttfamily std\+::atomic$<$\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}$>$ v8\+::internal\+::\+Backing\+Store\+::byte\+\_\+length\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 241 of file backing-\/store.\+h.



Referenced by Backing\+Store(), Grow\+In\+Place(), Resize\+In\+Place(), and $\sim$\+Backing\+Store().

\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_a23837457d06be34c444af3809fc04f30}\label{classv8_1_1internal_1_1BackingStore_a23837457d06be34c444af3809fc04f30}} 
\index{v8::internal::BackingStore@{v8::internal::BackingStore}!flags\_@{flags\_}}
\index{flags\_@{flags\_}!v8::internal::BackingStore@{v8::internal::BackingStore}}
\doxysubsubsection{\texorpdfstring{flags\_}{flags\_}}
{\footnotesize\ttfamily std\+::atomic$<$\mbox{\hyperlink{classv8_1_1base_1_1EnumSet}{base\+::\+Enum\+Set}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a0673c23fe55376f5472a896154087684}{Flag}}, uint16\+\_\+t$>$ $>$ v8\+::internal\+::\+Backing\+Store\+::flags\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 280 of file backing-\/store.\+h.



Referenced by Backing\+Store().

\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_a58dfb9e2ff15d2a3cca078455237be52}\label{classv8_1_1internal_1_1BackingStore_a58dfb9e2ff15d2a3cca078455237be52}} 
\index{v8::internal::BackingStore@{v8::internal::BackingStore}!id\_@{id\_}}
\index{id\_@{id\_}!v8::internal::BackingStore@{v8::internal::BackingStore}}
\doxysubsubsection{\texorpdfstring{id\_}{id\_}}
{\footnotesize\ttfamily const uint32\+\_\+t v8\+::internal\+::\+Backing\+Store\+::id\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 249 of file backing-\/store.\+h.

\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_a326b5343db3393753cef809bc3656add}\label{classv8_1_1internal_1_1BackingStore_a326b5343db3393753cef809bc3656add}} 
\index{v8::internal::BackingStore@{v8::internal::BackingStore}!max\_byte\_length\_@{max\_byte\_length\_}}
\index{max\_byte\_length\_@{max\_byte\_length\_}!v8::internal::BackingStore@{v8::internal::BackingStore}}
\doxysubsubsection{\texorpdfstring{max\_byte\_length\_}{max\_byte\_length\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::\+Backing\+Store\+::max\+\_\+byte\+\_\+length\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 243 of file backing-\/store.\+h.



Referenced by Backing\+Store().

\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_a9194e733a801343b63f7dd9c10ca21ac}\label{classv8_1_1internal_1_1BackingStore_a9194e733a801343b63f7dd9c10ca21ac}} 
\index{v8::internal::BackingStore@{v8::internal::BackingStore}!page\_allocator\_@{page\_allocator\_}}
\index{page\_allocator\_@{page\_allocator\_}!v8::internal::BackingStore@{v8::internal::BackingStore}}
\doxysubsubsection{\texorpdfstring{page\_allocator\_}{page\_allocator\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1PageAllocator}{v8\+::\+Page\+Allocator}}$\ast$ v8\+::internal\+::\+Backing\+Store\+::page\+\_\+allocator\+\_\+ = \mbox{\hyperlink{flag-definitions_8h_aca14fbede0905858c819226fce3678cc}{nullptr}}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 251 of file backing-\/store.\+h.



Referenced by $\sim$\+Backing\+Store().

\mbox{\Hypertarget{classv8_1_1internal_1_1BackingStore_acd3c96ccd4af9d865c4ce060d82282b2}\label{classv8_1_1internal_1_1BackingStore_acd3c96ccd4af9d865c4ce060d82282b2}} 
\index{v8::internal::BackingStore@{v8::internal::BackingStore}!type\_specific\_data\_@{type\_specific\_data\_}}
\index{type\_specific\_data\_@{type\_specific\_data\_}!v8::internal::BackingStore@{v8::internal::BackingStore}}
\doxysubsubsection{\texorpdfstring{type\_specific\_data\_}{type\_specific\_data\_}}
{\footnotesize\ttfamily union \mbox{\hyperlink{unionv8_1_1internal_1_1BackingStore_1_1TypeSpecificData}{v8\+::internal\+::\+Backing\+Store\+::\+Type\+Specific\+Data}} v8\+::internal\+::\+Backing\+Store\+::type\+\_\+specific\+\_\+data\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Referenced by get\+\_\+shared\+\_\+wasm\+\_\+memory\+\_\+data(), get\+\_\+v8\+\_\+api\+\_\+array\+\_\+buffer\+\_\+allocator(), Set\+Allocator\+From\+Isolate(), and $\sim$\+Backing\+Store().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/objects/\mbox{\hyperlink{backing-store_8h}{backing-\/store.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/objects/\mbox{\hyperlink{backing-store_8cc}{backing-\/store.\+cc}}\end{DoxyCompactItemize}
