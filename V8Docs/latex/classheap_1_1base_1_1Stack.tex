\hypertarget{classheap_1_1base_1_1Stack}{}\doxysection{heap\+::base\+::Stack Class Reference}
\label{classheap_1_1base_1_1Stack}\index{heap::base::Stack@{heap::base::Stack}}


{\ttfamily \#include $<$stack.\+h$>$}



Collaboration diagram for heap\+::base\+::Stack\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classheap_1_1base_1_1Stack__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structheap_1_1base_1_1Stack_1_1Segment}{Segment}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
using \mbox{\hyperlink{classheap_1_1base_1_1Stack_a869ca68267355e7af26264a23855bc4f}{Thread\+Id}} = \mbox{\hyperlink{classint}{int}}
\item 
using \mbox{\hyperlink{classheap_1_1base_1_1Stack_a338180daf68800b510623b8603491adf}{Iterate\+Stack\+Callback}} = void($\ast$)(\mbox{\hyperlink{classheap_1_1base_1_1Stack}{Stack}} $\ast$, void $\ast$, const void $\ast$)
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classheap_1_1base_1_1Stack_a6de996d90f8b2765a8b312aee634ba2d}{Set\+Stack\+Start}} ()
\item 
void \mbox{\hyperlink{classheap_1_1base_1_1Stack_a765aa81e2005b34cd104b56dde25de8e}{Iterate\+Pointers}} (\mbox{\hyperlink{classheap_1_1base_1_1StackVisitor}{Stack\+Visitor}} $\ast$visitor) const
\item 
void \mbox{\hyperlink{classheap_1_1base_1_1Stack_a03360292496419b7b54d250c496a00ec}{Iterate\+Pointers\+Until\+Marker}} (\mbox{\hyperlink{classheap_1_1base_1_1StackVisitor}{Stack\+Visitor}} $\ast$visitor) const
\item 
void \mbox{\hyperlink{classheap_1_1base_1_1Stack_a90ad9c9bbe5a3474b9cc3228ac8ce9d8}{Iterate\+Pointers\+From\+Address\+Until\+Marker}} (\mbox{\hyperlink{classheap_1_1base_1_1StackVisitor}{Stack\+Visitor}} $\ast$visitor, const void $\ast$address) const
\item 
void \mbox{\hyperlink{classheap_1_1base_1_1Stack_a8ceb283a279b98925956812bead3abe0}{Iterate\+Background\+Stacks}} (\mbox{\hyperlink{classheap_1_1base_1_1StackVisitor}{Stack\+Visitor}} $\ast$visitor) const
\item 
{\footnotesize template$<$typename Callback $>$ }\\void \mbox{\hyperlink{classheap_1_1base_1_1Stack_a2045258cd555e5e3892abdf04b490ed8}{Set\+Marker\+And\+Callback}} (Callback callback)
\item 
{\footnotesize template$<$typename Callback $>$ }\\void \mbox{\hyperlink{classheap_1_1base_1_1Stack_a9e58bf93ec943f705a2ba5e1a8298300}{Set\+Marker\+If\+Needed\+And\+Callback}} (Callback callback)
\item 
{\footnotesize template$<$typename Callback $>$ }\\void \mbox{\hyperlink{classheap_1_1base_1_1Stack_a8de5235fdac75a7f8633bb489197a2c7}{Set\+Marker\+For\+Background\+Thread\+And\+Callback}} (\mbox{\hyperlink{classheap_1_1base_1_1Stack_a869ca68267355e7af26264a23855bc4f}{Thread\+Id}} thread, Callback callback)
\item 
void \mbox{\hyperlink{classheap_1_1base_1_1Stack_abbe41d249eccb9475765c2582a48c142}{Iterate\+Pointers\+For\+Testing}} (\mbox{\hyperlink{classheap_1_1base_1_1StackVisitor}{Stack\+Visitor}} $\ast$visitor)
\item 
bool \mbox{\hyperlink{classheap_1_1base_1_1Stack_a3dc1c989464707c4e6162cf467aaa6e2}{Is\+Marker\+Set}} () const
\item 
bool \mbox{\hyperlink{classheap_1_1base_1_1Stack_aefe34288490e244aa36113c748a84847}{Is\+Marker\+Set\+For\+Background\+Thread}} (\mbox{\hyperlink{classheap_1_1base_1_1Stack_a869ca68267355e7af26264a23855bc4f}{Thread\+Id}} thread) const
\item 
bool \mbox{\hyperlink{classheap_1_1base_1_1Stack_ad371f97af919d6ecac4c2575d54c37da}{Has\+Background\+Stacks}} () const
\item 
void \mbox{\hyperlink{classheap_1_1base_1_1Stack_a9de1741422661c33b076404b449b45f1}{Set\+Scan\+Simulator\+Callback}} (\mbox{\hyperlink{namespaceheap_1_1base_a509b0a31e3f7df47ee6d527d4330ffab}{Stack\+Visitor\+Callback}} callback)
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static bool \mbox{\hyperlink{classheap_1_1base_1_1Stack_a1c159fcdb1e6ded61dac677a24d50360}{Is\+On\+Stack}} (const void $\ast$slot)
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{v8config_8h_aae8e4cfdd8ebf80e774cb42d8b4980e6}{V8\+\_\+\+NOINLINE}} void \mbox{\hyperlink{classheap_1_1base_1_1Stack_a73b711ae7487f5686183c0e681c7a7bf}{Trampoline\+Callback\+Helper}} (void $\ast$argument, \mbox{\hyperlink{classheap_1_1base_1_1Stack_a338180daf68800b510623b8603491adf}{Iterate\+Stack\+Callback}} callback)
\item 
void \mbox{\hyperlink{classheap_1_1base_1_1Stack_a38520ec52dac4c5da529ec5c1273326a}{Iterate\+Pointers\+In\+Segment}} (\mbox{\hyperlink{classheap_1_1base_1_1StackVisitor}{Stack\+Visitor}} $\ast$visitor, \mbox{\hyperlink{structheap_1_1base_1_1Stack_1_1Segment}{Segment}} segment) const
\end{DoxyCompactItemize}
\doxysubsection*{Static Private Member Functions}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$typename Callback $>$ }\\static void \mbox{\hyperlink{classheap_1_1base_1_1Stack_a841b41cac0b80716a583b181b01b84cf}{Set\+Marker\+And\+Callback\+Impl}} (\mbox{\hyperlink{classheap_1_1base_1_1Stack}{Stack}} $\ast$stack, void $\ast$argument, const void $\ast$stack\+\_\+end)
\item 
{\footnotesize template$<$typename Callback $>$ }\\static void \mbox{\hyperlink{classheap_1_1base_1_1Stack_a83e1adf27c1178355de9f64108d57082}{Set\+Marker\+For\+Background\+Thread\+And\+Callback\+Impl}} (\mbox{\hyperlink{classheap_1_1base_1_1Stack}{Stack}} $\ast$stack, void $\ast$argument, const void $\ast$stack\+\_\+end)
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{structheap_1_1base_1_1Stack_1_1Segment}{Segment}} \mbox{\hyperlink{classheap_1_1base_1_1Stack_a103faaab577fedd0a2422d5e88220d33}{current\+\_\+segment\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1base_1_1Mutex}{v8\+::base\+::\+Mutex}} \mbox{\hyperlink{classheap_1_1base_1_1Stack_a052d27f05c62fea344b03f0dda7fdd46}{lock\+\_\+}}
\item 
std\+::map$<$ \mbox{\hyperlink{classheap_1_1base_1_1Stack_a869ca68267355e7af26264a23855bc4f}{Thread\+Id}}, \mbox{\hyperlink{structheap_1_1base_1_1Stack_1_1Segment}{Segment}} $>$ \mbox{\hyperlink{classheap_1_1base_1_1Stack_aeb1f28085cc8bda2b0fbe36b281c40cc}{background\+\_\+stacks\+\_\+}}
\item 
\mbox{\hyperlink{namespaceheap_1_1base_a509b0a31e3f7df47ee6d527d4330ffab}{Stack\+Visitor\+Callback}} \mbox{\hyperlink{classheap_1_1base_1_1Stack_a45293b5cb95aaf620ca815f039f6d082}{scan\+\_\+simulator\+\_\+callback\+\_\+}} = \mbox{\hyperlink{flag-definitions_8h_aca14fbede0905858c819226fce3678cc}{nullptr}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 35 of file stack.\+h.



\doxysubsection{Member Typedef Documentation}
\mbox{\Hypertarget{classheap_1_1base_1_1Stack_a338180daf68800b510623b8603491adf}\label{classheap_1_1base_1_1Stack_a338180daf68800b510623b8603491adf}} 
\index{heap::base::Stack@{heap::base::Stack}!IterateStackCallback@{IterateStackCallback}}
\index{IterateStackCallback@{IterateStackCallback}!heap::base::Stack@{heap::base::Stack}}
\doxysubsubsection{\texorpdfstring{IterateStackCallback}{IterateStackCallback}}
{\footnotesize\ttfamily using \mbox{\hyperlink{classheap_1_1base_1_1Stack_a338180daf68800b510623b8603491adf}{heap\+::base\+::\+Stack\+::\+Iterate\+Stack\+Callback}} =  void ($\ast$)(\mbox{\hyperlink{classheap_1_1base_1_1Stack}{Stack}}$\ast$, void$\ast$, const void$\ast$)}



Definition at line 100 of file stack.\+h.

\mbox{\Hypertarget{classheap_1_1base_1_1Stack_a869ca68267355e7af26264a23855bc4f}\label{classheap_1_1base_1_1Stack_a869ca68267355e7af26264a23855bc4f}} 
\index{heap::base::Stack@{heap::base::Stack}!ThreadId@{ThreadId}}
\index{ThreadId@{ThreadId}!heap::base::Stack@{heap::base::Stack}}
\doxysubsubsection{\texorpdfstring{ThreadId}{ThreadId}}
{\footnotesize\ttfamily using \mbox{\hyperlink{classheap_1_1base_1_1Stack_a869ca68267355e7af26264a23855bc4f}{heap\+::base\+::\+Stack\+::\+Thread\+Id}} =  \mbox{\hyperlink{classint}{int}}}



Definition at line 89 of file stack.\+h.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classheap_1_1base_1_1Stack_ad371f97af919d6ecac4c2575d54c37da}\label{classheap_1_1base_1_1Stack_ad371f97af919d6ecac4c2575d54c37da}} 
\index{heap::base::Stack@{heap::base::Stack}!HasBackgroundStacks@{HasBackgroundStacks}}
\index{HasBackgroundStacks@{HasBackgroundStacks}!heap::base::Stack@{heap::base::Stack}}
\doxysubsubsection{\texorpdfstring{HasBackgroundStacks()}{HasBackgroundStacks()}}
{\footnotesize\ttfamily bool heap\+::base\+::\+Stack\+::\+Has\+Background\+Stacks (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 119 of file stack.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{119 \{ \textcolor{keywordflow}{return} !\mbox{\hyperlink{classheap_1_1base_1_1Stack_aeb1f28085cc8bda2b0fbe36b281c40cc}{background\_stacks\_}}.empty(); \}}

\end{DoxyCode}


Referenced by v8\+::internal\+::\+Heap\+::\+Is\+GCWith\+Stack().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classheap_1_1base_1_1Stack_ad371f97af919d6ecac4c2575d54c37da_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classheap_1_1base_1_1Stack_a3dc1c989464707c4e6162cf467aaa6e2}\label{classheap_1_1base_1_1Stack_a3dc1c989464707c4e6162cf467aaa6e2}} 
\index{heap::base::Stack@{heap::base::Stack}!IsMarkerSet@{IsMarkerSet}}
\index{IsMarkerSet@{IsMarkerSet}!heap::base::Stack@{heap::base::Stack}}
\doxysubsubsection{\texorpdfstring{IsMarkerSet()}{IsMarkerSet()}}
{\footnotesize\ttfamily bool heap\+::base\+::\+Stack\+::\+Is\+Marker\+Set (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 108 of file stack.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{108 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classheap_1_1base_1_1Stack_a103faaab577fedd0a2422d5e88220d33}{current\_segment\_}}.\mbox{\hyperlink{structheap_1_1base_1_1Stack_1_1Segment_aba5ccdde041aa245db271b9124dece2e}{top}} != \textcolor{keyword}{nullptr}; \}}

\end{DoxyCode}


Referenced by v8\+::internal\+::\+Local\+Heap\+::is\+\_\+in\+\_\+trampoline().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classheap_1_1base_1_1Stack_a3dc1c989464707c4e6162cf467aaa6e2_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classheap_1_1base_1_1Stack_aefe34288490e244aa36113c748a84847}\label{classheap_1_1base_1_1Stack_aefe34288490e244aa36113c748a84847}} 
\index{heap::base::Stack@{heap::base::Stack}!IsMarkerSetForBackgroundThread@{IsMarkerSetForBackgroundThread}}
\index{IsMarkerSetForBackgroundThread@{IsMarkerSetForBackgroundThread}!heap::base::Stack@{heap::base::Stack}}
\doxysubsubsection{\texorpdfstring{IsMarkerSetForBackgroundThread()}{IsMarkerSetForBackgroundThread()}}
{\footnotesize\ttfamily bool heap\+::base\+::\+Stack\+::\+Is\+Marker\+Set\+For\+Background\+Thread (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classheap_1_1base_1_1Stack_a869ca68267355e7af26264a23855bc4f}{Thread\+Id}}}]{thread }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 109 of file stack.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{109                                                              \{}
\DoxyCodeLine{110     \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{v8::base::MutexGuard}} guard(\&\mbox{\hyperlink{classheap_1_1base_1_1Stack_a052d27f05c62fea344b03f0dda7fdd46}{lock\_}});}
\DoxyCodeLine{111     \textcolor{keyword}{auto} it = \mbox{\hyperlink{classheap_1_1base_1_1Stack_aeb1f28085cc8bda2b0fbe36b281c40cc}{background\_stacks\_}}.find(thread);}
\DoxyCodeLine{112     \textcolor{keywordflow}{if} (it == \mbox{\hyperlink{classheap_1_1base_1_1Stack_aeb1f28085cc8bda2b0fbe36b281c40cc}{background\_stacks\_}}.end()) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{113     \mbox{\hyperlink{src_2base_2logging_8h_a7b9f9517fedacc2a1a56c2bbb9d03688}{DCHECK\_NOT\_NULL}}(it-\/>second.top);}
\DoxyCodeLine{114     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{115   \}}

\end{DoxyCode}


References DCHECK\+\_\+\+NOT\+\_\+\+NULL.



Referenced by v8\+::internal\+::\+Local\+Heap\+::is\+\_\+in\+\_\+trampoline().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classheap_1_1base_1_1Stack_aefe34288490e244aa36113c748a84847_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classheap_1_1base_1_1Stack_a1c159fcdb1e6ded61dac677a24d50360}\label{classheap_1_1base_1_1Stack_a1c159fcdb1e6ded61dac677a24d50360}} 
\index{heap::base::Stack@{heap::base::Stack}!IsOnStack@{IsOnStack}}
\index{IsOnStack@{IsOnStack}!heap::base::Stack@{heap::base::Stack}}
\doxysubsubsection{\texorpdfstring{IsOnStack()}{IsOnStack()}}
{\footnotesize\ttfamily bool heap\+::base\+::\+Stack\+::\+Is\+On\+Stack (\begin{DoxyParamCaption}\item[{const void $\ast$}]{slot }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 24 of file stack.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{24                                       \{}
\DoxyCodeLine{25 \textcolor{preprocessor}{\#ifdef V8\_USE\_ADDRESS\_SANITIZER}}
\DoxyCodeLine{26   \textcolor{comment}{// If the slot is part of a fake frame, then it is definitely on the stack.}}
\DoxyCodeLine{27   \textcolor{keywordflow}{if} (\_\_asan\_addr\_is\_in\_fake\_stack(\_\_asan\_get\_current\_fake\_stack(),}
\DoxyCodeLine{28                                    \textcolor{keyword}{const\_cast<}\textcolor{keywordtype}{void}*\textcolor{keyword}{>}(slot), \textcolor{keyword}{nullptr}, \textcolor{keyword}{nullptr})) \{}
\DoxyCodeLine{29     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{30   \}}
\DoxyCodeLine{31   \textcolor{comment}{// Fall through as there is still a regular stack present even when running}}
\DoxyCodeLine{32   \textcolor{comment}{// with ASAN fake stacks.}}
\DoxyCodeLine{33 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// V8\_USE\_ADDRESS\_SANITIZER}}
\DoxyCodeLine{34 \textcolor{preprocessor}{\#ifdef V8\_USE\_SAFE\_STACK}}
\DoxyCodeLine{35   \textcolor{keywordflow}{if} (\_\_builtin\_\_\_get\_unsafe\_stack\_ptr() <= slot \&\&}
\DoxyCodeLine{36       slot <= \_\_builtin\_\_\_get\_unsafe\_stack\_top()) \{}
\DoxyCodeLine{37     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{38   \}}
\DoxyCodeLine{39 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// V8\_USE\_SAFE\_STACK}}
\DoxyCodeLine{40   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1base_1_1Stack_ae12df3e0075295b6db4c5f3575736b5a}{v8::base::Stack::GetCurrentStackPosition}}() <= slot \&\&}
\DoxyCodeLine{41          slot <= \mbox{\hyperlink{classv8_1_1base_1_1Stack_a34f1903403111111ba950ef7b9ea8c61}{v8::base::Stack::GetStackStartUnchecked}}();}
\DoxyCodeLine{42 \}}

\end{DoxyCode}


References v8\+::base\+::\+Stack\+::\+Get\+Current\+Stack\+Position(), and v8\+::base\+::\+Stack\+::\+Get\+Stack\+Start\+Unchecked().



Referenced by cppgc\+::internal\+::\+Basic\+Marking\+State\+::\+Register\+Movable\+Reference().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classheap_1_1base_1_1Stack_a1c159fcdb1e6ded61dac677a24d50360_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classheap_1_1base_1_1Stack_a1c159fcdb1e6ded61dac677a24d50360_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classheap_1_1base_1_1Stack_a8ceb283a279b98925956812bead3abe0}\label{classheap_1_1base_1_1Stack_a8ceb283a279b98925956812bead3abe0}} 
\index{heap::base::Stack@{heap::base::Stack}!IterateBackgroundStacks@{IterateBackgroundStacks}}
\index{IterateBackgroundStacks@{IterateBackgroundStacks}!heap::base::Stack@{heap::base::Stack}}
\doxysubsubsection{\texorpdfstring{IterateBackgroundStacks()}{IterateBackgroundStacks()}}
{\footnotesize\ttfamily void heap\+::base\+::\+Stack\+::\+Iterate\+Background\+Stacks (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classheap_1_1base_1_1StackVisitor}{Stack\+Visitor}} $\ast$}]{visitor }\end{DoxyParamCaption}) const}



Definition at line 186 of file stack.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{186                                                                \{}
\DoxyCodeLine{187   \textcolor{comment}{// Temporarily stop checking MTE tags whilst scanning the stack (whilst V8}}
\DoxyCodeLine{188   \textcolor{comment}{// may not be tagging its portion of the stack, higher frames from the OS or}}
\DoxyCodeLine{189   \textcolor{comment}{// libc could be using stack tagging.)}}
\DoxyCodeLine{190   SuspendTagCheckingScope s;}
\DoxyCodeLine{191 }
\DoxyCodeLine{192   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& [\mbox{\hyperlink{js-call-reducer_8cc_ae4dfd7b0d66121016d6466d2ff10e8ba}{\_}}, segment] : \mbox{\hyperlink{classheap_1_1base_1_1Stack_aeb1f28085cc8bda2b0fbe36b281c40cc}{background\_stacks\_}}) \{}
\DoxyCodeLine{193     \textcolor{comment}{// All supported platforms should have their stack aligned to at least}}
\DoxyCodeLine{194     \textcolor{comment}{// sizeof(void*).}}
\DoxyCodeLine{195     constexpr \textcolor{keywordtype}{size\_t} kMinStackAlignment = \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{void}*);}
\DoxyCodeLine{196     \mbox{\hyperlink{src_2base_2logging_8h_aca32614b4d2aea7dd9abdeb222bf02f3}{CHECK\_EQ}}(0u, \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classuintptr__t}{uintptr\_t}}\textcolor{keyword}{>}(segment.top) \&}
\DoxyCodeLine{197                      (kMinStackAlignment -\/ 1));}
\DoxyCodeLine{198     \mbox{\hyperlink{namespaceheap_1_1base_1_1anonymous__namespace_02stack_8cc_03_a20edc2eb37d6e996c491755c84d023b9}{IteratePointersInStack}}(visitor, segment);}
\DoxyCodeLine{199     \mbox{\hyperlink{namespaceheap_1_1base_1_1anonymous__namespace_02stack_8cc_03_a72f98bab4b5fc968d49953eb266e911e}{IteratePointersInUnsafeStackIfNecessary}}(visitor, segment);}
\DoxyCodeLine{200   \}}
\DoxyCodeLine{201 \}}

\end{DoxyCode}


References \+\_\+, background\+\_\+stacks\+\_\+, CHECK\+\_\+\+EQ, heap\+::base\+::anonymous\+\_\+namespace\{stack.\+cc\}\+::\+Iterate\+Pointers\+In\+Stack(), and heap\+::base\+::anonymous\+\_\+namespace\{stack.\+cc\}\+::\+Iterate\+Pointers\+In\+Unsafe\+Stack\+If\+Necessary().



Referenced by v8\+::internal\+::\+Heap\+::\+Iterate\+Conservative\+Stack\+Roots().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classheap_1_1base_1_1Stack_a8ceb283a279b98925956812bead3abe0_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classheap_1_1base_1_1Stack_a8ceb283a279b98925956812bead3abe0_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classheap_1_1base_1_1Stack_a765aa81e2005b34cd104b56dde25de8e}\label{classheap_1_1base_1_1Stack_a765aa81e2005b34cd104b56dde25de8e}} 
\index{heap::base::Stack@{heap::base::Stack}!IteratePointers@{IteratePointers}}
\index{IteratePointers@{IteratePointers}!heap::base::Stack@{heap::base::Stack}}
\doxysubsubsection{\texorpdfstring{IteratePointers()}{IteratePointers()}}
{\footnotesize\ttfamily void heap\+::base\+::\+Stack\+::\+Iterate\+Pointers (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classheap_1_1base_1_1StackVisitor}{Stack\+Visitor}} $\ast$}]{visitor }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 53 of file stack.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{53                                                     \{}
\DoxyCodeLine{54     \mbox{\hyperlink{classheap_1_1base_1_1Stack_a03360292496419b7b54d250c496a00ec}{IteratePointersUntilMarker}}(visitor);}
\DoxyCodeLine{55     \mbox{\hyperlink{classheap_1_1base_1_1Stack_a8ceb283a279b98925956812bead3abe0}{IterateBackgroundStacks}}(visitor);}
\DoxyCodeLine{56   \}}

\end{DoxyCode}


Referenced by Iterate\+Pointers\+For\+Testing().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classheap_1_1base_1_1Stack_a765aa81e2005b34cd104b56dde25de8e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classheap_1_1base_1_1Stack_abbe41d249eccb9475765c2582a48c142}\label{classheap_1_1base_1_1Stack_abbe41d249eccb9475765c2582a48c142}} 
\index{heap::base::Stack@{heap::base::Stack}!IteratePointersForTesting@{IteratePointersForTesting}}
\index{IteratePointersForTesting@{IteratePointersForTesting}!heap::base::Stack@{heap::base::Stack}}
\doxysubsubsection{\texorpdfstring{IteratePointersForTesting()}{IteratePointersForTesting()}}
{\footnotesize\ttfamily void heap\+::base\+::\+Stack\+::\+Iterate\+Pointers\+For\+Testing (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classheap_1_1base_1_1StackVisitor}{Stack\+Visitor}} $\ast$}]{visitor }\end{DoxyParamCaption})}



Definition at line 157 of file stack.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{157                                                            \{}
\DoxyCodeLine{158   \mbox{\hyperlink{classheap_1_1base_1_1Stack_a2045258cd555e5e3892abdf04b490ed8}{SetMarkerAndCallback}}([\textcolor{keyword}{this}, visitor]() \{ \mbox{\hyperlink{classheap_1_1base_1_1Stack_a765aa81e2005b34cd104b56dde25de8e}{IteratePointers}}(visitor); \});}
\DoxyCodeLine{159 \}}

\end{DoxyCode}


References Iterate\+Pointers(), and Set\+Marker\+And\+Callback().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classheap_1_1base_1_1Stack_abbe41d249eccb9475765c2582a48c142_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classheap_1_1base_1_1Stack_a90ad9c9bbe5a3474b9cc3228ac8ce9d8}\label{classheap_1_1base_1_1Stack_a90ad9c9bbe5a3474b9cc3228ac8ce9d8}} 
\index{heap::base::Stack@{heap::base::Stack}!IteratePointersFromAddressUntilMarker@{IteratePointersFromAddressUntilMarker}}
\index{IteratePointersFromAddressUntilMarker@{IteratePointersFromAddressUntilMarker}!heap::base::Stack@{heap::base::Stack}}
\doxysubsubsection{\texorpdfstring{IteratePointersFromAddressUntilMarker()}{IteratePointersFromAddressUntilMarker()}}
{\footnotesize\ttfamily void heap\+::base\+::\+Stack\+::\+Iterate\+Pointers\+From\+Address\+Until\+Marker (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classheap_1_1base_1_1StackVisitor}{Stack\+Visitor}} $\ast$}]{visitor,  }\item[{const void $\ast$}]{address }\end{DoxyParamCaption}) const}



Definition at line 165 of file stack.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{166                                                                              \{}
\DoxyCodeLine{167   \mbox{\hyperlink{src_2base_2logging_8h_a7b9f9517fedacc2a1a56c2bbb9d03688}{DCHECK\_NOT\_NULL}}(address);}
\DoxyCodeLine{168   \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(\mbox{\hyperlink{classheap_1_1base_1_1Stack_a103faaab577fedd0a2422d5e88220d33}{current\_segment\_}}.Contains(address));}
\DoxyCodeLine{169   Segment segment = \{address, \mbox{\hyperlink{classheap_1_1base_1_1Stack_a103faaab577fedd0a2422d5e88220d33}{current\_segment\_}}.\mbox{\hyperlink{structheap_1_1base_1_1Stack_1_1Segment_aba5ccdde041aa245db271b9124dece2e}{top}}\};}
\DoxyCodeLine{170   \mbox{\hyperlink{classheap_1_1base_1_1Stack_a38520ec52dac4c5da529ec5c1273326a}{IteratePointersInSegment}}(visitor, segment);}
\DoxyCodeLine{171 \}}

\end{DoxyCode}


References current\+\_\+segment\+\_\+, DCHECK, DCHECK\+\_\+\+NOT\+\_\+\+NULL, Iterate\+Pointers\+In\+Segment(), and heap\+::base\+::\+Stack\+::\+Segment\+::top.



Referenced by v8\+::internal\+::\+Heap\+::\+Iterate\+Conservative\+Stack\+Roots().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classheap_1_1base_1_1Stack_a90ad9c9bbe5a3474b9cc3228ac8ce9d8_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classheap_1_1base_1_1Stack_a90ad9c9bbe5a3474b9cc3228ac8ce9d8_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classheap_1_1base_1_1Stack_a38520ec52dac4c5da529ec5c1273326a}\label{classheap_1_1base_1_1Stack_a38520ec52dac4c5da529ec5c1273326a}} 
\index{heap::base::Stack@{heap::base::Stack}!IteratePointersInSegment@{IteratePointersInSegment}}
\index{IteratePointersInSegment@{IteratePointersInSegment}!heap::base::Stack@{heap::base::Stack}}
\doxysubsubsection{\texorpdfstring{IteratePointersInSegment()}{IteratePointersInSegment()}}
{\footnotesize\ttfamily void heap\+::base\+::\+Stack\+::\+Iterate\+Pointers\+In\+Segment (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classheap_1_1base_1_1StackVisitor}{Stack\+Visitor}} $\ast$}]{visitor,  }\item[{\mbox{\hyperlink{structheap_1_1base_1_1Stack_1_1Segment}{Segment}}}]{segment }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 173 of file stack.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{174                                                             \{}
\DoxyCodeLine{175   \textcolor{comment}{// Temporarily stop checking MTE tags whilst scanning the stack (whilst V8}}
\DoxyCodeLine{176   \textcolor{comment}{// may not be tagging its portion of the stack, higher frames from the OS or}}
\DoxyCodeLine{177   \textcolor{comment}{// libc could be using stack tagging.)}}
\DoxyCodeLine{178   SuspendTagCheckingScope s;}
\DoxyCodeLine{179   \mbox{\hyperlink{namespaceheap_1_1base_1_1anonymous__namespace_02stack_8cc_03_a20edc2eb37d6e996c491755c84d023b9}{IteratePointersInStack}}(visitor, segment);}
\DoxyCodeLine{180   \mbox{\hyperlink{namespaceheap_1_1base_1_1anonymous__namespace_02stack_8cc_03_a72f98bab4b5fc968d49953eb266e911e}{IteratePointersInUnsafeStackIfNecessary}}(visitor, segment);}
\DoxyCodeLine{181   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classheap_1_1base_1_1Stack_a45293b5cb95aaf620ca815f039f6d082}{scan\_simulator\_callback\_}}) \{}
\DoxyCodeLine{182     \mbox{\hyperlink{classheap_1_1base_1_1Stack_a45293b5cb95aaf620ca815f039f6d082}{scan\_simulator\_callback\_}}(visitor);}
\DoxyCodeLine{183   \}}
\DoxyCodeLine{184 \}}

\end{DoxyCode}


References heap\+::base\+::anonymous\+\_\+namespace\{stack.\+cc\}\+::\+Iterate\+Pointers\+In\+Stack(), heap\+::base\+::anonymous\+\_\+namespace\{stack.\+cc\}\+::\+Iterate\+Pointers\+In\+Unsafe\+Stack\+If\+Necessary(), and scan\+\_\+simulator\+\_\+callback\+\_\+.



Referenced by Iterate\+Pointers\+From\+Address\+Until\+Marker(), and Iterate\+Pointers\+Until\+Marker().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classheap_1_1base_1_1Stack_a38520ec52dac4c5da529ec5c1273326a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classheap_1_1base_1_1Stack_a38520ec52dac4c5da529ec5c1273326a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classheap_1_1base_1_1Stack_a03360292496419b7b54d250c496a00ec}\label{classheap_1_1base_1_1Stack_a03360292496419b7b54d250c496a00ec}} 
\index{heap::base::Stack@{heap::base::Stack}!IteratePointersUntilMarker@{IteratePointersUntilMarker}}
\index{IteratePointersUntilMarker@{IteratePointersUntilMarker}!heap::base::Stack@{heap::base::Stack}}
\doxysubsubsection{\texorpdfstring{IteratePointersUntilMarker()}{IteratePointersUntilMarker()}}
{\footnotesize\ttfamily void heap\+::base\+::\+Stack\+::\+Iterate\+Pointers\+Until\+Marker (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classheap_1_1base_1_1StackVisitor}{Stack\+Visitor}} $\ast$}]{visitor }\end{DoxyParamCaption}) const}



Definition at line 161 of file stack.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{161                                                                   \{}
\DoxyCodeLine{162   \mbox{\hyperlink{classheap_1_1base_1_1Stack_a38520ec52dac4c5da529ec5c1273326a}{IteratePointersInSegment}}(visitor, \mbox{\hyperlink{classheap_1_1base_1_1Stack_a103faaab577fedd0a2422d5e88220d33}{current\_segment\_}});}
\DoxyCodeLine{163 \}}

\end{DoxyCode}


References current\+\_\+segment\+\_\+, and Iterate\+Pointers\+In\+Segment().



Referenced by v8\+::internal\+::\+Heap\+::\+Iterate\+Conservative\+Stack\+Roots(), cppgc\+::internal\+::\+Marking\+Verifier\+Base\+::\+Run(), and cppgc\+::internal\+::\+Marker\+Base\+::\+Visit\+Local\+Roots().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classheap_1_1base_1_1Stack_a03360292496419b7b54d250c496a00ec_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classheap_1_1base_1_1Stack_a03360292496419b7b54d250c496a00ec_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classheap_1_1base_1_1Stack_a2045258cd555e5e3892abdf04b490ed8}\label{classheap_1_1base_1_1Stack_a2045258cd555e5e3892abdf04b490ed8}} 
\index{heap::base::Stack@{heap::base::Stack}!SetMarkerAndCallback@{SetMarkerAndCallback}}
\index{SetMarkerAndCallback@{SetMarkerAndCallback}!heap::base::Stack@{heap::base::Stack}}
\doxysubsubsection{\texorpdfstring{SetMarkerAndCallback()}{SetMarkerAndCallback()}}
{\footnotesize\ttfamily template$<$typename Callback $>$ \\
void heap\+::base\+::\+Stack\+::\+Set\+Marker\+And\+Callback (\begin{DoxyParamCaption}\item[{Callback}]{callback }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 73 of file stack.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{73                                                          \{}
\DoxyCodeLine{74     \mbox{\hyperlink{classheap_1_1base_1_1Stack_a73b711ae7487f5686183c0e681c7a7bf}{TrampolineCallbackHelper}}(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{void}*\textcolor{keyword}{>}(\&callback),}
\DoxyCodeLine{75                              \&SetMarkerAndCallbackImpl<Callback>);}
\DoxyCodeLine{76   \}}

\end{DoxyCode}


Referenced by v8\+::internal\+::\+Local\+Heap\+::\+Execute\+Main\+Thread\+While\+Parked(), v8\+::internal\+::\+Local\+Heap\+::\+Execute\+With\+Stack\+Marker(), and Iterate\+Pointers\+For\+Testing().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classheap_1_1base_1_1Stack_a2045258cd555e5e3892abdf04b490ed8_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classheap_1_1base_1_1Stack_a841b41cac0b80716a583b181b01b84cf}\label{classheap_1_1base_1_1Stack_a841b41cac0b80716a583b181b01b84cf}} 
\index{heap::base::Stack@{heap::base::Stack}!SetMarkerAndCallbackImpl@{SetMarkerAndCallbackImpl}}
\index{SetMarkerAndCallbackImpl@{SetMarkerAndCallbackImpl}!heap::base::Stack@{heap::base::Stack}}
\doxysubsubsection{\texorpdfstring{SetMarkerAndCallbackImpl()}{SetMarkerAndCallbackImpl()}}
{\footnotesize\ttfamily template$<$typename Callback $>$ \\
static void heap\+::base\+::\+Stack\+::\+Set\+Marker\+And\+Callback\+Impl (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classheap_1_1base_1_1Stack}{Stack}} $\ast$}]{stack,  }\item[{void $\ast$}]{argument,  }\item[{const void $\ast$}]{stack\+\_\+end }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 176 of file stack.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{177                                                               \{}
\DoxyCodeLine{178     Segment previous\_segment = \mbox{\hyperlink{namespacev8_1_1internal_a2e748ee13f84c923e077d341045b1212}{stack}}-\/>current\_segment\_;}
\DoxyCodeLine{179     \mbox{\hyperlink{namespacev8_1_1internal_a2e748ee13f84c923e077d341045b1212}{stack}}-\/>current\_segment\_.top = stack\_end;}
\DoxyCodeLine{180 \textcolor{preprocessor}{\#ifdef V8\_USE\_SAFE\_STACK}}
\DoxyCodeLine{181     \mbox{\hyperlink{namespacev8_1_1internal_a2e748ee13f84c923e077d341045b1212}{stack}}-\/>current\_segment\_.unsafe\_stack\_top =}
\DoxyCodeLine{182         \_\_builtin\_\_\_get\_unsafe\_stack\_ptr();}
\DoxyCodeLine{183 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// V8\_USE\_SAFE\_STACK}}
\DoxyCodeLine{184     Callback* callback = \textcolor{keyword}{static\_cast<}Callback*\textcolor{keyword}{>}(argument);}
\DoxyCodeLine{185     (*callback)();}
\DoxyCodeLine{186     \mbox{\hyperlink{namespacev8_1_1internal_a2e748ee13f84c923e077d341045b1212}{stack}}-\/>current\_segment\_ = previous\_segment;}
\DoxyCodeLine{187   \}}

\end{DoxyCode}


References v8\+::internal\+::stack.

\mbox{\Hypertarget{classheap_1_1base_1_1Stack_a8de5235fdac75a7f8633bb489197a2c7}\label{classheap_1_1base_1_1Stack_a8de5235fdac75a7f8633bb489197a2c7}} 
\index{heap::base::Stack@{heap::base::Stack}!SetMarkerForBackgroundThreadAndCallback@{SetMarkerForBackgroundThreadAndCallback}}
\index{SetMarkerForBackgroundThreadAndCallback@{SetMarkerForBackgroundThreadAndCallback}!heap::base::Stack@{heap::base::Stack}}
\doxysubsubsection{\texorpdfstring{SetMarkerForBackgroundThreadAndCallback()}{SetMarkerForBackgroundThreadAndCallback()}}
{\footnotesize\ttfamily template$<$typename Callback $>$ \\
void heap\+::base\+::\+Stack\+::\+Set\+Marker\+For\+Background\+Thread\+And\+Callback (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classheap_1_1base_1_1Stack_a869ca68267355e7af26264a23855bc4f}{Thread\+Id}}}]{thread,  }\item[{Callback}]{callback }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 92 of file stack.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{93                                                                             \{}
\DoxyCodeLine{94     std::pair<ThreadId, Callback*> info\{thread, \&callback\};}
\DoxyCodeLine{95     \mbox{\hyperlink{classheap_1_1base_1_1Stack_a73b711ae7487f5686183c0e681c7a7bf}{TrampolineCallbackHelper}}(}
\DoxyCodeLine{96         \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{void}*\textcolor{keyword}{>}(\&info),}
\DoxyCodeLine{97         \&SetMarkerForBackgroundThreadAndCallbackImpl<Callback>);}
\DoxyCodeLine{98   \}}

\end{DoxyCode}


Referenced by v8\+::internal\+::\+Local\+Heap\+::\+Execute\+Background\+Thread\+While\+Parked(), and v8\+::internal\+::\+Local\+Heap\+::\+Execute\+With\+Stack\+Marker().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classheap_1_1base_1_1Stack_a8de5235fdac75a7f8633bb489197a2c7_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classheap_1_1base_1_1Stack_a83e1adf27c1178355de9f64108d57082}\label{classheap_1_1base_1_1Stack_a83e1adf27c1178355de9f64108d57082}} 
\index{heap::base::Stack@{heap::base::Stack}!SetMarkerForBackgroundThreadAndCallbackImpl@{SetMarkerForBackgroundThreadAndCallbackImpl}}
\index{SetMarkerForBackgroundThreadAndCallbackImpl@{SetMarkerForBackgroundThreadAndCallbackImpl}!heap::base::Stack@{heap::base::Stack}}
\doxysubsubsection{\texorpdfstring{SetMarkerForBackgroundThreadAndCallbackImpl()}{SetMarkerForBackgroundThreadAndCallbackImpl()}}
{\footnotesize\ttfamily template$<$typename Callback $>$ \\
static void heap\+::base\+::\+Stack\+::\+Set\+Marker\+For\+Background\+Thread\+And\+Callback\+Impl (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classheap_1_1base_1_1Stack}{Stack}} $\ast$}]{stack,  }\item[{void $\ast$}]{argument,  }\item[{const void $\ast$}]{stack\+\_\+end }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 190 of file stack.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{191                                                            \{}
\DoxyCodeLine{192     \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(IsOnCurrentStack(stack\_end));}
\DoxyCodeLine{193     \textcolor{keyword}{auto} [thread, callback] =}
\DoxyCodeLine{194         *\textcolor{keyword}{static\_cast<}std::pair<ThreadId, Callback*>*\textcolor{keyword}{>}(argument);}
\DoxyCodeLine{195     \textcolor{keyword}{auto}\& background\_stacks = \mbox{\hyperlink{namespacev8_1_1internal_a2e748ee13f84c923e077d341045b1212}{stack}}-\/>background\_stacks\_;}
\DoxyCodeLine{196     Segment previous\_segment;}
\DoxyCodeLine{197     \{}
\DoxyCodeLine{198       \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{v8::base::MutexGuard}} guard(\&\mbox{\hyperlink{namespacev8_1_1internal_a2e748ee13f84c923e077d341045b1212}{stack}}-\/>lock\_);}
\DoxyCodeLine{199       \textcolor{keywordflow}{if} (\textcolor{keyword}{auto} it = background\_stacks.find(thread);}
\DoxyCodeLine{200           it != background\_stacks.end()) \{}
\DoxyCodeLine{201         previous\_segment = it-\/>second;}
\DoxyCodeLine{202         \mbox{\hyperlink{src_2base_2logging_8h_a7b9f9517fedacc2a1a56c2bbb9d03688}{DCHECK\_NOT\_NULL}}(previous\_segment.top);}
\DoxyCodeLine{203       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{204         \mbox{\hyperlink{src_2base_2logging_8h_a2209830df6b59d1ec1fdf66b9352924f}{DCHECK\_NULL}}(previous\_segment.top);}
\DoxyCodeLine{205       \}}
\DoxyCodeLine{206       \textcolor{comment}{// This implicitly uses the current values (if applicable) for:}}
\DoxyCodeLine{207       \textcolor{comment}{// -\/ asan\_fake\_start}}
\DoxyCodeLine{208       \textcolor{comment}{// -\/ unsafe stack start}}
\DoxyCodeLine{209       \textcolor{comment}{// -\/ unsafe stack top}}
\DoxyCodeLine{210       background\_stacks[thread] =}
\DoxyCodeLine{211           Segment(\mbox{\hyperlink{classv8_1_1base_1_1Stack_aa5f57178fcc1514f4616db4e0cf67407}{v8::base::Stack::GetStackStart}}(), stack\_end);}
\DoxyCodeLine{212     \}}
\DoxyCodeLine{213     (*callback)();}
\DoxyCodeLine{214     \{}
\DoxyCodeLine{215       \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{v8::base::MutexGuard}} guard(\&\mbox{\hyperlink{namespacev8_1_1internal_a2e748ee13f84c923e077d341045b1212}{stack}}-\/>lock\_);}
\DoxyCodeLine{216       \textcolor{keywordflow}{if} (previous\_segment.top)}
\DoxyCodeLine{217         background\_stacks[thread] = previous\_segment;}
\DoxyCodeLine{218       \textcolor{keywordflow}{else}}
\DoxyCodeLine{219         background\_stacks.erase(thread);}
\DoxyCodeLine{220     \}}
\DoxyCodeLine{221   \}}

\end{DoxyCode}


References DCHECK, DCHECK\+\_\+\+NOT\+\_\+\+NULL, DCHECK\+\_\+\+NULL, v8\+::base\+::\+Stack\+::\+Get\+Stack\+Start(), v8\+::internal\+::stack, and heap\+::base\+::\+Stack\+::\+Segment\+::top.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classheap_1_1base_1_1Stack_a83e1adf27c1178355de9f64108d57082_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classheap_1_1base_1_1Stack_a9e58bf93ec943f705a2ba5e1a8298300}\label{classheap_1_1base_1_1Stack_a9e58bf93ec943f705a2ba5e1a8298300}} 
\index{heap::base::Stack@{heap::base::Stack}!SetMarkerIfNeededAndCallback@{SetMarkerIfNeededAndCallback}}
\index{SetMarkerIfNeededAndCallback@{SetMarkerIfNeededAndCallback}!heap::base::Stack@{heap::base::Stack}}
\doxysubsubsection{\texorpdfstring{SetMarkerIfNeededAndCallback()}{SetMarkerIfNeededAndCallback()}}
{\footnotesize\ttfamily template$<$typename Callback $>$ \\
void heap\+::base\+::\+Stack\+::\+Set\+Marker\+If\+Needed\+And\+Callback (\begin{DoxyParamCaption}\item[{Callback}]{callback }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 79 of file stack.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{79                                                                  \{}
\DoxyCodeLine{80     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classheap_1_1base_1_1Stack_a3dc1c989464707c4e6162cf467aaa6e2}{IsMarkerSet}}()) \{}
\DoxyCodeLine{81       \mbox{\hyperlink{classheap_1_1base_1_1Stack_a73b711ae7487f5686183c0e681c7a7bf}{TrampolineCallbackHelper}}(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{void}*\textcolor{keyword}{>}(\&callback),}
\DoxyCodeLine{82                                \&SetMarkerAndCallbackImpl<Callback>);}
\DoxyCodeLine{83     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{84       \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(IsOnCurrentStack(\mbox{\hyperlink{classheap_1_1base_1_1Stack_a103faaab577fedd0a2422d5e88220d33}{current\_segment\_}}.\mbox{\hyperlink{structheap_1_1base_1_1Stack_1_1Segment_aba5ccdde041aa245db271b9124dece2e}{top}}));}
\DoxyCodeLine{85       callback();}
\DoxyCodeLine{86     \}}
\DoxyCodeLine{87   \}}

\end{DoxyCode}


References DCHECK.



Referenced by v8\+::internal\+::\+Heap\+::\+Collect\+Garbage(), v8\+::internal\+::\+Cpp\+Heap\+::\+Collect\+Garbage\+For\+Testing(), cppgc\+::internal\+::\+Heap\+::\+Finalize\+Garbage\+Collection(), v8\+::internal\+::\+Unreachable\+Objects\+Filter\+::\+Mark\+Reachable\+Objects(), v8\+::internal\+::\+Heap\+Profiler\+::\+Query\+Objects(), v8\+::internal\+::\+Heap\+Profiler\+::\+Take\+Snapshot(), cppgc\+::internal\+::\+Marker\+Base\+::\+Visit\+Local\+Roots(), and v8\+::internal\+::\+Heap\+Profiler\+::\+Write\+Snapshot\+To\+Disk\+After\+GC().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classheap_1_1base_1_1Stack_a9e58bf93ec943f705a2ba5e1a8298300_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classheap_1_1base_1_1Stack_a9de1741422661c33b076404b449b45f1}\label{classheap_1_1base_1_1Stack_a9de1741422661c33b076404b449b45f1}} 
\index{heap::base::Stack@{heap::base::Stack}!SetScanSimulatorCallback@{SetScanSimulatorCallback}}
\index{SetScanSimulatorCallback@{SetScanSimulatorCallback}!heap::base::Stack@{heap::base::Stack}}
\doxysubsubsection{\texorpdfstring{SetScanSimulatorCallback()}{SetScanSimulatorCallback()}}
{\footnotesize\ttfamily void heap\+::base\+::\+Stack\+::\+Set\+Scan\+Simulator\+Callback (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespaceheap_1_1base_a509b0a31e3f7df47ee6d527d4330ffab}{Stack\+Visitor\+Callback}}}]{callback }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 121 of file stack.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{121                                                                \{}
\DoxyCodeLine{122     \mbox{\hyperlink{classheap_1_1base_1_1Stack_a45293b5cb95aaf620ca815f039f6d082}{scan\_simulator\_callback\_}} = callback;}
\DoxyCodeLine{123   \}}

\end{DoxyCode}


Referenced by v8\+::internal\+::\+Local\+Heap\+::\+Local\+Heap().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classheap_1_1base_1_1Stack_a9de1741422661c33b076404b449b45f1_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classheap_1_1base_1_1Stack_a6de996d90f8b2765a8b312aee634ba2d}\label{classheap_1_1base_1_1Stack_a6de996d90f8b2765a8b312aee634ba2d}} 
\index{heap::base::Stack@{heap::base::Stack}!SetStackStart@{SetStackStart}}
\index{SetStackStart@{SetStackStart}!heap::base::Stack@{heap::base::Stack}}
\doxysubsubsection{\texorpdfstring{SetStackStart()}{SetStackStart()}}
{\footnotesize\ttfamily void heap\+::base\+::\+Stack\+::\+Set\+Stack\+Start (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 38 of file stack.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{38                        \{}
\DoxyCodeLine{39     \mbox{\hyperlink{classheap_1_1base_1_1Stack_a103faaab577fedd0a2422d5e88220d33}{current\_segment\_}}.\mbox{\hyperlink{structheap_1_1base_1_1Stack_1_1Segment_a4d0ac6e30338efdc282b9b78110e5858}{start}} = \mbox{\hyperlink{classv8_1_1base_1_1Stack_aa5f57178fcc1514f4616db4e0cf67407}{v8::base::Stack::GetStackStart}}();}
\DoxyCodeLine{40 \textcolor{preprocessor}{\#ifdef V8\_USE\_ADDRESS\_SANITIZER}}
\DoxyCodeLine{41     \mbox{\hyperlink{classheap_1_1base_1_1Stack_a103faaab577fedd0a2422d5e88220d33}{current\_segment\_}}.asan\_fake\_stack = \_\_asan\_get\_current\_fake\_stack();}
\DoxyCodeLine{42 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// V8\_USE\_ADDRESS\_SANITIZER}}
\DoxyCodeLine{43 \textcolor{preprocessor}{\#ifdef V8\_USE\_SAFE\_STACK}}
\DoxyCodeLine{44     \mbox{\hyperlink{classheap_1_1base_1_1Stack_a103faaab577fedd0a2422d5e88220d33}{current\_segment\_}}.unsafe\_stack\_start = \_\_builtin\_\_\_get\_unsafe\_stack\_top();}
\DoxyCodeLine{45 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// V8\_USE\_SAFE\_STACK}}
\DoxyCodeLine{46   \}}

\end{DoxyCode}


References v8\+::base\+::\+Stack\+::\+Get\+Stack\+Start().



Referenced by v8\+::internal\+::\+Heap\+::\+Set\+Stack\+Start().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classheap_1_1base_1_1Stack_a6de996d90f8b2765a8b312aee634ba2d_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classheap_1_1base_1_1Stack_a6de996d90f8b2765a8b312aee634ba2d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classheap_1_1base_1_1Stack_a73b711ae7487f5686183c0e681c7a7bf}\label{classheap_1_1base_1_1Stack_a73b711ae7487f5686183c0e681c7a7bf}} 
\index{heap::base::Stack@{heap::base::Stack}!TrampolineCallbackHelper@{TrampolineCallbackHelper}}
\index{TrampolineCallbackHelper@{TrampolineCallbackHelper}!heap::base::Stack@{heap::base::Stack}}
\doxysubsubsection{\texorpdfstring{TrampolineCallbackHelper()}{TrampolineCallbackHelper()}}
{\footnotesize\ttfamily void heap\+::base\+::\+Stack\+::\+Trampoline\+Callback\+Helper (\begin{DoxyParamCaption}\item[{void $\ast$}]{argument,  }\item[{\mbox{\hyperlink{classheap_1_1base_1_1Stack_a338180daf68800b510623b8603491adf}{Iterate\+Stack\+Callback}}}]{callback }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 213 of file stack.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{214                                                                     \{}
\DoxyCodeLine{215   \mbox{\hyperlink{namespaceheap_1_1base_a7b25b8e88549865bf90d76cf74d1dba9}{PushAllRegistersAndIterateStack}}(\textcolor{keyword}{this}, argument, callback);}
\DoxyCodeLine{216   \textcolor{comment}{// TODO(chromium:1056170): Add support for SIMD and/or filtering.}}
\DoxyCodeLine{217 \}}

\end{DoxyCode}


References heap\+::base\+::\+Push\+All\+Registers\+And\+Iterate\+Stack().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classheap_1_1base_1_1Stack_a73b711ae7487f5686183c0e681c7a7bf_cgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classheap_1_1base_1_1Stack_aeb1f28085cc8bda2b0fbe36b281c40cc}\label{classheap_1_1base_1_1Stack_aeb1f28085cc8bda2b0fbe36b281c40cc}} 
\index{heap::base::Stack@{heap::base::Stack}!background\_stacks\_@{background\_stacks\_}}
\index{background\_stacks\_@{background\_stacks\_}!heap::base::Stack@{heap::base::Stack}}
\doxysubsubsection{\texorpdfstring{background\_stacks\_}{background\_stacks\_}}
{\footnotesize\ttfamily std\+::map$<$\mbox{\hyperlink{classheap_1_1base_1_1Stack_a869ca68267355e7af26264a23855bc4f}{Thread\+Id}}, \mbox{\hyperlink{structheap_1_1base_1_1Stack_1_1Segment}{Segment}}$>$ heap\+::base\+::\+Stack\+::background\+\_\+stacks\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 228 of file stack.\+h.



Referenced by Iterate\+Background\+Stacks().

\mbox{\Hypertarget{classheap_1_1base_1_1Stack_a103faaab577fedd0a2422d5e88220d33}\label{classheap_1_1base_1_1Stack_a103faaab577fedd0a2422d5e88220d33}} 
\index{heap::base::Stack@{heap::base::Stack}!current\_segment\_@{current\_segment\_}}
\index{current\_segment\_@{current\_segment\_}!heap::base::Stack@{heap::base::Stack}}
\doxysubsubsection{\texorpdfstring{current\_segment\_}{current\_segment\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{structheap_1_1base_1_1Stack_1_1Segment}{Segment}} heap\+::base\+::\+Stack\+::current\+\_\+segment\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 225 of file stack.\+h.



Referenced by Iterate\+Pointers\+From\+Address\+Until\+Marker(), and Iterate\+Pointers\+Until\+Marker().

\mbox{\Hypertarget{classheap_1_1base_1_1Stack_a052d27f05c62fea344b03f0dda7fdd46}\label{classheap_1_1base_1_1Stack_a052d27f05c62fea344b03f0dda7fdd46}} 
\index{heap::base::Stack@{heap::base::Stack}!lock\_@{lock\_}}
\index{lock\_@{lock\_}!heap::base::Stack@{heap::base::Stack}}
\doxysubsubsection{\texorpdfstring{lock\_}{lock\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1base_1_1Mutex}{v8\+::base\+::\+Mutex}} heap\+::base\+::\+Stack\+::lock\+\_\+\hspace{0.3cm}{\ttfamily [mutable]}, {\ttfamily [private]}}



Definition at line 227 of file stack.\+h.

\mbox{\Hypertarget{classheap_1_1base_1_1Stack_a45293b5cb95aaf620ca815f039f6d082}\label{classheap_1_1base_1_1Stack_a45293b5cb95aaf620ca815f039f6d082}} 
\index{heap::base::Stack@{heap::base::Stack}!scan\_simulator\_callback\_@{scan\_simulator\_callback\_}}
\index{scan\_simulator\_callback\_@{scan\_simulator\_callback\_}!heap::base::Stack@{heap::base::Stack}}
\doxysubsubsection{\texorpdfstring{scan\_simulator\_callback\_}{scan\_simulator\_callback\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespaceheap_1_1base_a509b0a31e3f7df47ee6d527d4330ffab}{Stack\+Visitor\+Callback}} heap\+::base\+::\+Stack\+::scan\+\_\+simulator\+\_\+callback\+\_\+ = \mbox{\hyperlink{flag-definitions_8h_aca14fbede0905858c819226fce3678cc}{nullptr}}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 230 of file stack.\+h.



Referenced by Iterate\+Pointers\+In\+Segment().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/heap/base/\mbox{\hyperlink{stack_8h}{stack.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/heap/base/\mbox{\hyperlink{stack_8cc}{stack.\+cc}}\end{DoxyCompactItemize}
