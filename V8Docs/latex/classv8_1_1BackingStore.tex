\hypertarget{classv8_1_1BackingStore}{}\doxysection{v8\+::Backing\+Store Class Reference}
\label{classv8_1_1BackingStore}\index{v8::BackingStore@{v8::BackingStore}}


A wrapper around the backing store (i.\+e.  




{\ttfamily \#include $<$v8-\/array-\/buffer.\+h$>$}



Inheritance diagram for v8\+::Backing\+Store\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=255pt]{classv8_1_1BackingStore__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for v8\+::Backing\+Store\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=255pt]{classv8_1_1BackingStore__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
using \mbox{\hyperlink{classv8_1_1BackingStore_ab2d10e4c046ba17490364168d1e190b0}{Deleter\+Callback}} = void($\ast$)(void $\ast$data, size\+\_\+t length, void $\ast$deleter\+\_\+data)
\begin{DoxyCompactList}\small\item\em This callback is used only if the memory block for a \mbox{\hyperlink{classv8_1_1BackingStore}{Backing\+Store}} cannot be allocated with an \mbox{\hyperlink{classv8_1_1ArrayBuffer_1_1Allocator}{Array\+Buffer\+::\+Allocator}}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1BackingStore_aa80ebad5b6ed6c34d76c165c0d65bf41}{$\sim$\+Backing\+Store}} ()
\item 
void $\ast$ \mbox{\hyperlink{classv8_1_1BackingStore_aee2f14ab8a04c34ea67cad366ffab179}{Data}} () const
\begin{DoxyCompactList}\small\item\em Return a pointer to the beginning of the memory block for this backing store. \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classv8_1_1BackingStore_aab88a37cc13cd71451cbe44020021512}{Byte\+Length}} () const
\begin{DoxyCompactList}\small\item\em The length (in bytes) of this backing store. \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classv8_1_1BackingStore_a5bf438414cfd6a8d3393e6d7fd4151a9}{Max\+Byte\+Length}} () const
\begin{DoxyCompactList}\small\item\em The maximum length (in bytes) that this backing store may grow to. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classv8_1_1BackingStore_a8720c903bdbe79fb31e4899857aba781}{Is\+Shared}} () const
\begin{DoxyCompactList}\small\item\em Indicates whether the backing store was created for an \mbox{\hyperlink{classv8_1_1ArrayBuffer}{Array\+Buffer}} or a \mbox{\hyperlink{classv8_1_1SharedArrayBuffer}{Shared\+Array\+Buffer}}. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classv8_1_1BackingStore_adcebd477b2028304c0a770f09cbd5df2}{Is\+Resizable\+By\+User\+Java\+Script}} () const
\begin{DoxyCompactList}\small\item\em Indicates whether the backing store was created for a resizable \mbox{\hyperlink{classv8_1_1ArrayBuffer}{Array\+Buffer}} or a growable \mbox{\hyperlink{classv8_1_1SharedArrayBuffer}{Shared\+Array\+Buffer}}, and thus may be resized by user Java\+Script code. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classv8_1_1BackingStore_a09c138871b39d913ecc6481bdbf806c7}{operator delete}} (void $\ast$ptr)
\begin{DoxyCompactList}\small\item\em Prevent implicit instantiation of operator delete with size\+\_\+t argument. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static void \mbox{\hyperlink{classv8_1_1BackingStore_ae19ce3cfb723f9559f02b54e8a5ab6a0}{Empty\+Deleter}} (void $\ast$data, size\+\_\+t length, void $\ast$deleter\+\_\+data)
\begin{DoxyCompactList}\small\item\em If the memory block of a \mbox{\hyperlink{classv8_1_1BackingStore}{Backing\+Store}} is static or is managed manually, then this empty deleter along with nullptr deleter\+\_\+data can be passed to \mbox{\hyperlink{classv8_1_1ArrayBuffer_a30fc9698c5c68099c906825909fdd6f8}{Array\+Buffer\+::\+New\+Backing\+Store}} to indicate that. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1BackingStore_a8e13babbe51f481542889b3a6c3fc968}{Backing\+Store}} ()
\begin{DoxyCompactList}\small\item\em See \mbox{[}Shared\mbox{]}\mbox{\hyperlink{classv8_1_1ArrayBuffer_a9fa656e79c9974b20b6456aa7a0d5fe6}{Array\+Buffer\+::\+Get\+Backing\+Store}} and \mbox{[}Shared\mbox{]}\mbox{\hyperlink{classv8_1_1ArrayBuffer_a30fc9698c5c68099c906825909fdd6f8}{Array\+Buffer\+::\+New\+Backing\+Store}}. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
A wrapper around the backing store (i.\+e. 

the raw memory) of an array buffer. See a document linked in \href{http://crbug.com/v8/9908}{\texttt{ http\+://crbug.\+com/v8/9908}} for more information.

The allocation and destruction of backing stores is generally managed by \mbox{\hyperlink{classv8_1_1V8}{V8}}. Clients should always use standard C++ memory ownership types (i.\+e. std\+::unique\+\_\+ptr and std\+::shared\+\_\+ptr) to manage lifetimes of backing stores properly, since \mbox{\hyperlink{classv8_1_1V8}{V8}} internal objects may alias backing stores.

This object does not keep the underlying $\vert$\+Array\+Buffer\+::\+Allocator$\vert$ alive by default. Use \mbox{\hyperlink{structv8_1_1Isolate_1_1CreateParams_af8349bfe7d7229db578d37a6f1f1d509}{Isolate\+::\+Create\+Params\+::array\+\_\+buffer\+\_\+allocator\+\_\+shared}} when creating the \mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} to make it hold a reference to the allocator itself. 

Definition at line 49 of file v8-\/array-\/buffer.\+h.



\doxysubsection{Member Typedef Documentation}
\mbox{\Hypertarget{classv8_1_1BackingStore_ab2d10e4c046ba17490364168d1e190b0}\label{classv8_1_1BackingStore_ab2d10e4c046ba17490364168d1e190b0}} 
\index{v8::BackingStore@{v8::BackingStore}!DeleterCallback@{DeleterCallback}}
\index{DeleterCallback@{DeleterCallback}!v8::BackingStore@{v8::BackingStore}}
\doxysubsubsection{\texorpdfstring{DeleterCallback}{DeleterCallback}}
{\footnotesize\ttfamily using \mbox{\hyperlink{classv8_1_1BackingStore_ab2d10e4c046ba17490364168d1e190b0}{v8\+::\+Backing\+Store\+::\+Deleter\+Callback}} =  void ($\ast$)(void$\ast$ data, size\+\_\+t length, void$\ast$ deleter\+\_\+data)}



This callback is used only if the memory block for a \mbox{\hyperlink{classv8_1_1BackingStore}{Backing\+Store}} cannot be allocated with an \mbox{\hyperlink{classv8_1_1ArrayBuffer_1_1Allocator}{Array\+Buffer\+::\+Allocator}}. 

In such cases the destructor of the \mbox{\hyperlink{classv8_1_1BackingStore}{Backing\+Store}} invokes the callback to free the memory block. 

Definition at line 99 of file v8-\/array-\/buffer.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1BackingStore_aa80ebad5b6ed6c34d76c165c0d65bf41}\label{classv8_1_1BackingStore_aa80ebad5b6ed6c34d76c165c0d65bf41}} 
\index{v8::BackingStore@{v8::BackingStore}!````~BackingStore@{$\sim$BackingStore}}
\index{````~BackingStore@{$\sim$BackingStore}!v8::BackingStore@{v8::BackingStore}}
\doxysubsubsection{\texorpdfstring{$\sim$BackingStore()}{~BackingStore()}}
{\footnotesize\ttfamily v8\+::\+Backing\+Store\+::$\sim$\+Backing\+Store (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 4012 of file api.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4012                               \{}
\DoxyCodeLine{4013   \textcolor{keyword}{auto} i\_this = \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore}{i::BackingStore}}*\textcolor{keyword}{>}(\textcolor{keyword}{this});}
\DoxyCodeLine{4014   i\_this-\/>\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_ae14402f37d1a3e964898188f8d5ea345}{\string~BackingStore}}();  \textcolor{comment}{// manually call internal destructor}}
\DoxyCodeLine{4015 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Backing\+Store\+::$\sim$\+Backing\+Store().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1BackingStore_aa80ebad5b6ed6c34d76c165c0d65bf41_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1BackingStore_a8e13babbe51f481542889b3a6c3fc968}\label{classv8_1_1BackingStore_a8e13babbe51f481542889b3a6c3fc968}} 
\index{v8::BackingStore@{v8::BackingStore}!BackingStore@{BackingStore}}
\index{BackingStore@{BackingStore}!v8::BackingStore@{v8::BackingStore}}
\doxysubsubsection{\texorpdfstring{BackingStore()}{BackingStore()}}
{\footnotesize\ttfamily v8\+::\+Backing\+Store\+::\+Backing\+Store (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



See \mbox{[}Shared\mbox{]}\mbox{\hyperlink{classv8_1_1ArrayBuffer_a9fa656e79c9974b20b6456aa7a0d5fe6}{Array\+Buffer\+::\+Get\+Backing\+Store}} and \mbox{[}Shared\mbox{]}\mbox{\hyperlink{classv8_1_1ArrayBuffer_a30fc9698c5c68099c906825909fdd6f8}{Array\+Buffer\+::\+New\+Backing\+Store}}. 



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1BackingStore_aab88a37cc13cd71451cbe44020021512}\label{classv8_1_1BackingStore_aab88a37cc13cd71451cbe44020021512}} 
\index{v8::BackingStore@{v8::BackingStore}!ByteLength@{ByteLength}}
\index{ByteLength@{ByteLength}!v8::BackingStore@{v8::BackingStore}}
\doxysubsubsection{\texorpdfstring{ByteLength()}{ByteLength()}}
{\footnotesize\ttfamily size\+\_\+t v8\+::\+Backing\+Store\+::\+Byte\+Length (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



The length (in bytes) of this backing store. 



Definition at line 4021 of file api.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4021                                         \{}
\DoxyCodeLine{4022   \textcolor{keywordflow}{return} \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore}{i::BackingStore}}*\textcolor{keyword}{>}(\textcolor{keyword}{this})-\/>byte\_length();}
\DoxyCodeLine{4023 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classv8_1_1BackingStore_aee2f14ab8a04c34ea67cad366ffab179}\label{classv8_1_1BackingStore_aee2f14ab8a04c34ea67cad366ffab179}} 
\index{v8::BackingStore@{v8::BackingStore}!Data@{Data}}
\index{Data@{Data}!v8::BackingStore@{v8::BackingStore}}
\doxysubsubsection{\texorpdfstring{Data()}{Data()}}
{\footnotesize\ttfamily void $\ast$ v8\+::\+Backing\+Store\+::\+Data (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Return a pointer to the beginning of the memory block for this backing store. 

The pointer is only valid as long as this backing store object lives. 

Definition at line 4017 of file api.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4017                                  \{}
\DoxyCodeLine{4018   \textcolor{keywordflow}{return} \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore}{i::BackingStore}}*\textcolor{keyword}{>}(\textcolor{keyword}{this})-\/>buffer\_start();}
\DoxyCodeLine{4019 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classv8_1_1BackingStore_ae19ce3cfb723f9559f02b54e8a5ab6a0}\label{classv8_1_1BackingStore_ae19ce3cfb723f9559f02b54e8a5ab6a0}} 
\index{v8::BackingStore@{v8::BackingStore}!EmptyDeleter@{EmptyDeleter}}
\index{EmptyDeleter@{EmptyDeleter}!v8::BackingStore@{v8::BackingStore}}
\doxysubsubsection{\texorpdfstring{EmptyDeleter()}{EmptyDeleter()}}
{\footnotesize\ttfamily void v8\+::\+Backing\+Store\+::\+Empty\+Deleter (\begin{DoxyParamCaption}\item[{void $\ast$}]{data,  }\item[{size\+\_\+t}]{length,  }\item[{void $\ast$}]{deleter\+\_\+data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



If the memory block of a \mbox{\hyperlink{classv8_1_1BackingStore}{Backing\+Store}} is static or is managed manually, then this empty deleter along with nullptr deleter\+\_\+data can be passed to \mbox{\hyperlink{classv8_1_1ArrayBuffer_a30fc9698c5c68099c906825909fdd6f8}{Array\+Buffer\+::\+New\+Backing\+Store}} to indicate that. 

The manually managed case should be used with caution and only when it is guaranteed that the memory block freeing happens after detaching its \mbox{\hyperlink{classv8_1_1ArrayBuffer}{Array\+Buffer}}. 

Definition at line 4038 of file api.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4039                                                         \{}
\DoxyCodeLine{4040   \mbox{\hyperlink{src_2base_2logging_8h_a2209830df6b59d1ec1fdf66b9352924f}{DCHECK\_NULL}}(deleter\_data);}
\DoxyCodeLine{4041 \}}

\end{DoxyCode}


References DCHECK\+\_\+\+NULL.



Referenced by v8\+::internal\+::\+Backing\+Store\+::\+Wrap\+Allocation().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1BackingStore_ae19ce3cfb723f9559f02b54e8a5ab6a0_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1BackingStore_adcebd477b2028304c0a770f09cbd5df2}\label{classv8_1_1BackingStore_adcebd477b2028304c0a770f09cbd5df2}} 
\index{v8::BackingStore@{v8::BackingStore}!IsResizableByUserJavaScript@{IsResizableByUserJavaScript}}
\index{IsResizableByUserJavaScript@{IsResizableByUserJavaScript}!v8::BackingStore@{v8::BackingStore}}
\doxysubsubsection{\texorpdfstring{IsResizableByUserJavaScript()}{IsResizableByUserJavaScript()}}
{\footnotesize\ttfamily bool v8\+::\+Backing\+Store\+::\+Is\+Resizable\+By\+User\+Java\+Script (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Indicates whether the backing store was created for a resizable \mbox{\hyperlink{classv8_1_1ArrayBuffer}{Array\+Buffer}} or a growable \mbox{\hyperlink{classv8_1_1SharedArrayBuffer}{Shared\+Array\+Buffer}}, and thus may be resized by user Java\+Script code. 



Definition at line 4033 of file api.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4033                                                        \{}
\DoxyCodeLine{4034   \textcolor{keywordflow}{return} \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore}{i::BackingStore}}*\textcolor{keyword}{>}(\textcolor{keyword}{this})-\/>is\_resizable\_by\_js();}
\DoxyCodeLine{4035 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classv8_1_1BackingStore_a8720c903bdbe79fb31e4899857aba781}\label{classv8_1_1BackingStore_a8720c903bdbe79fb31e4899857aba781}} 
\index{v8::BackingStore@{v8::BackingStore}!IsShared@{IsShared}}
\index{IsShared@{IsShared}!v8::BackingStore@{v8::BackingStore}}
\doxysubsubsection{\texorpdfstring{IsShared()}{IsShared()}}
{\footnotesize\ttfamily bool v8\+::\+Backing\+Store\+::\+Is\+Shared (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Indicates whether the backing store was created for an \mbox{\hyperlink{classv8_1_1ArrayBuffer}{Array\+Buffer}} or a \mbox{\hyperlink{classv8_1_1SharedArrayBuffer}{Shared\+Array\+Buffer}}. 



Definition at line 4029 of file api.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4029                                     \{}
\DoxyCodeLine{4030   \textcolor{keywordflow}{return} \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore}{i::BackingStore}}*\textcolor{keyword}{>}(\textcolor{keyword}{this})-\/>\mbox{\hyperlink{namespacev8_1_1internal_adee95482032a93e07f59341fed5c909f}{is\_shared}}();}
\DoxyCodeLine{4031 \}}

\end{DoxyCode}


References v8\+::internal\+::is\+\_\+shared.

\mbox{\Hypertarget{classv8_1_1BackingStore_a5bf438414cfd6a8d3393e6d7fd4151a9}\label{classv8_1_1BackingStore_a5bf438414cfd6a8d3393e6d7fd4151a9}} 
\index{v8::BackingStore@{v8::BackingStore}!MaxByteLength@{MaxByteLength}}
\index{MaxByteLength@{MaxByteLength}!v8::BackingStore@{v8::BackingStore}}
\doxysubsubsection{\texorpdfstring{MaxByteLength()}{MaxByteLength()}}
{\footnotesize\ttfamily size\+\_\+t v8\+::\+Backing\+Store\+::\+Max\+Byte\+Length (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



The maximum length (in bytes) that this backing store may grow to. 

If this backing store was created for a resizable \mbox{\hyperlink{classv8_1_1ArrayBuffer}{Array\+Buffer}} or a growable \mbox{\hyperlink{classv8_1_1SharedArrayBuffer}{Shared\+Array\+Buffer}}, it is $>$= \mbox{\hyperlink{classv8_1_1BackingStore_aab88a37cc13cd71451cbe44020021512}{Byte\+Length()}}. Otherwise it is == \mbox{\hyperlink{classv8_1_1BackingStore_aab88a37cc13cd71451cbe44020021512}{Byte\+Length()}}. 

Definition at line 4025 of file api.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4025                                            \{}
\DoxyCodeLine{4026   \textcolor{keywordflow}{return} \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\mbox{\hyperlink{classv8_1_1internal_1_1BackingStore}{i::BackingStore}}*\textcolor{keyword}{>}(\textcolor{keyword}{this})-\/>max\_byte\_length();}
\DoxyCodeLine{4027 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classv8_1_1BackingStore_a09c138871b39d913ecc6481bdbf806c7}\label{classv8_1_1BackingStore_a09c138871b39d913ecc6481bdbf806c7}} 
\index{v8::BackingStore@{v8::BackingStore}!operator delete@{operator delete}}
\index{operator delete@{operator delete}!v8::BackingStore@{v8::BackingStore}}
\doxysubsubsection{\texorpdfstring{operator delete()}{operator delete()}}
{\footnotesize\ttfamily void v8\+::\+Backing\+Store\+::operator delete (\begin{DoxyParamCaption}\item[{void $\ast$}]{ptr }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Prevent implicit instantiation of operator delete with size\+\_\+t argument. 

The size\+\_\+t argument would be incorrect because ptr points to the internal \mbox{\hyperlink{classv8_1_1BackingStore}{Backing\+Store}} object. 

Definition at line 92 of file v8-\/array-\/buffer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{92 \{ ::operator \textcolor{keyword}{delete}(ptr); \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/include/\mbox{\hyperlink{v8-array-buffer_8h}{v8-\/array-\/buffer.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/api/\mbox{\hyperlink{api_8cc}{api.\+cc}}\end{DoxyCompactItemize}
