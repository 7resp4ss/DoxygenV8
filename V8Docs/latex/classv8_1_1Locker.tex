\hypertarget{classv8_1_1Locker}{}\doxysection{v8\+::Locker Class Reference}
\label{classv8_1_1Locker}\index{v8::Locker@{v8::Locker}}


{\ttfamily \#include $<$v8-\/locker.\+h$>$}



Collaboration diagram for v8\+::Locker\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1Locker__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1Locker_a40299c4c4c5b3c6808249c70b81c0ad1}{Locker}} (\mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$isolate)
\begin{DoxyCompactList}\small\item\em Initialize \mbox{\hyperlink{classv8_1_1Locker}{Locker}} for a given \mbox{\hyperlink{classv8_1_1Isolate}{Isolate}}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classv8_1_1Locker_acbe916764102601603f6ad854e9359ed}{$\sim$\+Locker}} ()
\item 
\mbox{\hyperlink{classv8_1_1Locker_aa9afe5a3dc3d28bcfe3f418c3a5a8d1e}{Locker}} (const \mbox{\hyperlink{classv8_1_1Locker}{Locker}} \&)=delete
\item 
void \mbox{\hyperlink{classv8_1_1Locker_ad7ef23dade8390e16891ed5cec0e8692}{operator=}} (const \mbox{\hyperlink{classv8_1_1Locker}{Locker}} \&)=delete
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static bool \mbox{\hyperlink{classv8_1_1Locker_ac6145adbb7acf7274458882a3de44169}{Is\+Locked}} (\mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$isolate)
\begin{DoxyCompactList}\small\item\em Returns whether or not the locker for a given isolate, is locked by the current thread. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classv8_1_1Locker_a0e07d8e2888b4489b73cfbf7e98e389c}{Initialize}} (\mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$isolate)
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{classv8_1_1Locker_a7825a82e9214102f59eb0d8d5c75981f}{has\+\_\+lock\+\_\+}}
\item 
bool \mbox{\hyperlink{classv8_1_1Locker_a0eb64e2524976c530ba265e1eba4854a}{top\+\_\+level\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{internal\+::\+Isolate}} $\ast$ \mbox{\hyperlink{classv8_1_1Locker_ab7dd4eb2a63dcfe6a67a5ec2512cf56d}{isolate\+\_\+}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 109 of file v8-\/locker.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1Locker_a40299c4c4c5b3c6808249c70b81c0ad1}\label{classv8_1_1Locker_a40299c4c4c5b3c6808249c70b81c0ad1}} 
\index{v8::Locker@{v8::Locker}!Locker@{Locker}}
\index{Locker@{Locker}!v8::Locker@{v8::Locker}}
\doxysubsubsection{\texorpdfstring{Locker()}{Locker()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily v8\+::\+Locker\+::\+Locker (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$}]{isolate }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}



Initialize \mbox{\hyperlink{classv8_1_1Locker}{Locker}} for a given \mbox{\hyperlink{classv8_1_1Isolate}{Isolate}}. 



Definition at line 114 of file v8-\/locker.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{114 \{ \mbox{\hyperlink{classv8_1_1Locker_a0e07d8e2888b4489b73cfbf7e98e389c}{Initialize}}(isolate); \}}

\end{DoxyCode}
\mbox{\Hypertarget{classv8_1_1Locker_acbe916764102601603f6ad854e9359ed}\label{classv8_1_1Locker_acbe916764102601603f6ad854e9359ed}} 
\index{v8::Locker@{v8::Locker}!````~Locker@{$\sim$Locker}}
\index{````~Locker@{$\sim$Locker}!v8::Locker@{v8::Locker}}
\doxysubsubsection{\texorpdfstring{$\sim$Locker()}{~Locker()}}
{\footnotesize\ttfamily v8\+::\+Locker\+::$\sim$\+Locker (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 59 of file v8threads.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{59                 \{}
\DoxyCodeLine{60   \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(\mbox{\hyperlink{classv8_1_1Locker_ab7dd4eb2a63dcfe6a67a5ec2512cf56d}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_ac78415b3291d2f8842ab1448b20a43f2}{thread\_manager}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1ThreadManager_aa010051a059cfda7e45228fc28a3ff52}{IsLockedByCurrentThread}}());}
\DoxyCodeLine{61   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1Locker_a7825a82e9214102f59eb0d8d5c75981f}{has\_lock\_}}) \{}
\DoxyCodeLine{62     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1Locker_a0eb64e2524976c530ba265e1eba4854a}{top\_level\_}}) \{}
\DoxyCodeLine{63       \mbox{\hyperlink{classv8_1_1Locker_ab7dd4eb2a63dcfe6a67a5ec2512cf56d}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_ac78415b3291d2f8842ab1448b20a43f2}{thread\_manager}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1ThreadManager_a7ff25a1bc335c55e57bae1f262f5ac0e}{FreeThreadResources}}();}
\DoxyCodeLine{64     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{65       \mbox{\hyperlink{classv8_1_1Locker_ab7dd4eb2a63dcfe6a67a5ec2512cf56d}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_ac78415b3291d2f8842ab1448b20a43f2}{thread\_manager}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1ThreadManager_a36506aaa6d781c749efe48996b48e2a0}{ArchiveThread}}();}
\DoxyCodeLine{66     \}}
\DoxyCodeLine{67     \mbox{\hyperlink{classv8_1_1Locker_ab7dd4eb2a63dcfe6a67a5ec2512cf56d}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_ac78415b3291d2f8842ab1448b20a43f2}{thread\_manager}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1ThreadManager_ab7d0f390011373f4b036548923add1bf}{Unlock}}();}
\DoxyCodeLine{68   \}}
\DoxyCodeLine{69 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Thread\+Manager\+::\+Archive\+Thread(), DCHECK, v8\+::internal\+::\+Thread\+Manager\+::\+Free\+Thread\+Resources(), has\+\_\+lock\+\_\+, v8\+::internal\+::\+Thread\+Manager\+::\+Is\+Locked\+By\+Current\+Thread(), isolate\+\_\+, v8\+::internal\+::\+Isolate\+::thread\+\_\+manager(), top\+\_\+level\+\_\+, and v8\+::internal\+::\+Thread\+Manager\+::\+Unlock().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1Locker_acbe916764102601603f6ad854e9359ed_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1Locker_aa9afe5a3dc3d28bcfe3f418c3a5a8d1e}\label{classv8_1_1Locker_aa9afe5a3dc3d28bcfe3f418c3a5a8d1e}} 
\index{v8::Locker@{v8::Locker}!Locker@{Locker}}
\index{Locker@{Locker}!v8::Locker@{v8::Locker}}
\doxysubsubsection{\texorpdfstring{Locker()}{Locker()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily v8\+::\+Locker\+::\+Locker (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1Locker}{Locker}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1Locker_a0e07d8e2888b4489b73cfbf7e98e389c}\label{classv8_1_1Locker_a0e07d8e2888b4489b73cfbf7e98e389c}} 
\index{v8::Locker@{v8::Locker}!Initialize@{Initialize}}
\index{Initialize@{Initialize}!v8::Locker@{v8::Locker}}
\doxysubsubsection{\texorpdfstring{Initialize()}{Initialize()}}
{\footnotesize\ttfamily void v8\+::\+Locker\+::\+Initialize (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1Isolate}{v8\+::\+Isolate}} $\ast$}]{isolate }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 29 of file v8threads.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{29                                           \{}
\DoxyCodeLine{30   \mbox{\hyperlink{src_2base_2logging_8h_a7b9f9517fedacc2a1a56c2bbb9d03688}{DCHECK\_NOT\_NULL}}(isolate);}
\DoxyCodeLine{31   \mbox{\hyperlink{classv8_1_1Locker_a7825a82e9214102f59eb0d8d5c75981f}{has\_lock\_}} = \textcolor{keyword}{false};}
\DoxyCodeLine{32   \mbox{\hyperlink{classv8_1_1Locker_a0eb64e2524976c530ba265e1eba4854a}{top\_level\_}} = \textcolor{keyword}{true};}
\DoxyCodeLine{33   \mbox{\hyperlink{classv8_1_1Locker_ab7dd4eb2a63dcfe6a67a5ec2512cf56d}{isolate\_}} = \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{i::Isolate}}*\textcolor{keyword}{>}(isolate);}
\DoxyCodeLine{34 }
\DoxyCodeLine{35   \textcolor{comment}{// Record that the Locker has been used at least once.}}
\DoxyCodeLine{36   \mbox{\hyperlink{namespacev8_1_1base_a00edf83b5d65612ce19389ada4d812d7}{base::Relaxed\_Store}}(\&\mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02v8threads_8cc_03_aec1fc05e92b29137880d5b77bcada399}{g\_locker\_was\_ever\_used\_}}, 1);}
\DoxyCodeLine{37   \mbox{\hyperlink{classv8_1_1Locker_ab7dd4eb2a63dcfe6a67a5ec2512cf56d}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_abb43f03bb8c7848cbe677a797017fccb}{set\_was\_locker\_ever\_used}}();}
\DoxyCodeLine{38 }
\DoxyCodeLine{39   \textcolor{comment}{// Get the big lock if necessary.}}
\DoxyCodeLine{40   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1Locker_ab7dd4eb2a63dcfe6a67a5ec2512cf56d}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_ac78415b3291d2f8842ab1448b20a43f2}{thread\_manager}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1ThreadManager_aa010051a059cfda7e45228fc28a3ff52}{IsLockedByCurrentThread}}()) \{}
\DoxyCodeLine{41     \mbox{\hyperlink{classv8_1_1Locker_ab7dd4eb2a63dcfe6a67a5ec2512cf56d}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_ac78415b3291d2f8842ab1448b20a43f2}{thread\_manager}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1ThreadManager_a8de7abc8b0763f0e1117b61f074410da}{Lock}}();}
\DoxyCodeLine{42     \mbox{\hyperlink{classv8_1_1Locker_a7825a82e9214102f59eb0d8d5c75981f}{has\_lock\_}} = \textcolor{keyword}{true};}
\DoxyCodeLine{43 }
\DoxyCodeLine{44     \textcolor{comment}{// This may be a locker within an unlocker in which case we have to}}
\DoxyCodeLine{45     \textcolor{comment}{// get the saved state for this thread and restore it.}}
\DoxyCodeLine{46     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1Locker_ab7dd4eb2a63dcfe6a67a5ec2512cf56d}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_ac78415b3291d2f8842ab1448b20a43f2}{thread\_manager}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1ThreadManager_ac7d4ad5d9a21d88fc2d50f5d91a62442}{RestoreThread}}()) \{}
\DoxyCodeLine{47       \mbox{\hyperlink{classv8_1_1Locker_a0eb64e2524976c530ba265e1eba4854a}{top\_level\_}} = \textcolor{keyword}{false};}
\DoxyCodeLine{48     \}}
\DoxyCodeLine{49   \}}
\DoxyCodeLine{50   \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(\mbox{\hyperlink{classv8_1_1Locker_ab7dd4eb2a63dcfe6a67a5ec2512cf56d}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_ac78415b3291d2f8842ab1448b20a43f2}{thread\_manager}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1ThreadManager_aa010051a059cfda7e45228fc28a3ff52}{IsLockedByCurrentThread}}());}
\DoxyCodeLine{51 \}}

\end{DoxyCode}


References DCHECK, DCHECK\+\_\+\+NOT\+\_\+\+NULL, v8\+::anonymous\+\_\+namespace\{v8threads.\+cc\}\+::g\+\_\+locker\+\_\+was\+\_\+ever\+\_\+used\+\_\+, has\+\_\+lock\+\_\+, v8\+::internal\+::\+Thread\+Manager\+::\+Is\+Locked\+By\+Current\+Thread(), isolate\+\_\+, v8\+::internal\+::\+Thread\+Manager\+::\+Lock(), v8\+::base\+::\+Relaxed\+\_\+\+Store(), v8\+::internal\+::\+Thread\+Manager\+::\+Restore\+Thread(), v8\+::internal\+::\+Isolate\+::set\+\_\+was\+\_\+locker\+\_\+ever\+\_\+used(), v8\+::internal\+::\+Isolate\+::thread\+\_\+manager(), and top\+\_\+level\+\_\+.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1Locker_a0e07d8e2888b4489b73cfbf7e98e389c_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1Locker_ac6145adbb7acf7274458882a3de44169}\label{classv8_1_1Locker_ac6145adbb7acf7274458882a3de44169}} 
\index{v8::Locker@{v8::Locker}!IsLocked@{IsLocked}}
\index{IsLocked@{IsLocked}!v8::Locker@{v8::Locker}}
\doxysubsubsection{\texorpdfstring{IsLocked()}{IsLocked()}}
{\footnotesize\ttfamily bool v8\+::\+Locker\+::\+Is\+Locked (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1Isolate}{v8\+::\+Isolate}} $\ast$}]{isolate }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Returns whether or not the locker for a given isolate, is locked by the current thread. 



Definition at line 53 of file v8threads.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{53                                         \{}
\DoxyCodeLine{54   \mbox{\hyperlink{src_2base_2logging_8h_a7b9f9517fedacc2a1a56c2bbb9d03688}{DCHECK\_NOT\_NULL}}(isolate);}
\DoxyCodeLine{55   \mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{i::Isolate}}* i\_isolate = \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{i::Isolate}}*\textcolor{keyword}{>}(isolate);}
\DoxyCodeLine{56   \textcolor{keywordflow}{return} i\_isolate-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_ac78415b3291d2f8842ab1448b20a43f2}{thread\_manager}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1ThreadManager_aa010051a059cfda7e45228fc28a3ff52}{IsLockedByCurrentThread}}();}
\DoxyCodeLine{57 \}}

\end{DoxyCode}


References DCHECK\+\_\+\+NOT\+\_\+\+NULL, v8\+::internal\+::\+Thread\+Manager\+::\+Is\+Locked\+By\+Current\+Thread(), and v8\+::internal\+::\+Isolate\+::thread\+\_\+manager().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1Locker_ac6145adbb7acf7274458882a3de44169_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1Locker_ad7ef23dade8390e16891ed5cec0e8692}\label{classv8_1_1Locker_ad7ef23dade8390e16891ed5cec0e8692}} 
\index{v8::Locker@{v8::Locker}!operator=@{operator=}}
\index{operator=@{operator=}!v8::Locker@{v8::Locker}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily void v8\+::\+Locker\+::operator= (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1Locker}{Locker}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1Locker_a7825a82e9214102f59eb0d8d5c75981f}\label{classv8_1_1Locker_a7825a82e9214102f59eb0d8d5c75981f}} 
\index{v8::Locker@{v8::Locker}!has\_lock\_@{has\_lock\_}}
\index{has\_lock\_@{has\_lock\_}!v8::Locker@{v8::Locker}}
\doxysubsubsection{\texorpdfstring{has\_lock\_}{has\_lock\_}}
{\footnotesize\ttfamily bool v8\+::\+Locker\+::has\+\_\+lock\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 131 of file v8-\/locker.\+h.



Referenced by Initialize(), and $\sim$\+Locker().

\mbox{\Hypertarget{classv8_1_1Locker_ab7dd4eb2a63dcfe6a67a5ec2512cf56d}\label{classv8_1_1Locker_ab7dd4eb2a63dcfe6a67a5ec2512cf56d}} 
\index{v8::Locker@{v8::Locker}!isolate\_@{isolate\_}}
\index{isolate\_@{isolate\_}!v8::Locker@{v8::Locker}}
\doxysubsubsection{\texorpdfstring{isolate\_}{isolate\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{internal\+::\+Isolate}}$\ast$ v8\+::\+Locker\+::isolate\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 133 of file v8-\/locker.\+h.



Referenced by Initialize(), and $\sim$\+Locker().

\mbox{\Hypertarget{classv8_1_1Locker_a0eb64e2524976c530ba265e1eba4854a}\label{classv8_1_1Locker_a0eb64e2524976c530ba265e1eba4854a}} 
\index{v8::Locker@{v8::Locker}!top\_level\_@{top\_level\_}}
\index{top\_level\_@{top\_level\_}!v8::Locker@{v8::Locker}}
\doxysubsubsection{\texorpdfstring{top\_level\_}{top\_level\_}}
{\footnotesize\ttfamily bool v8\+::\+Locker\+::top\+\_\+level\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 132 of file v8-\/locker.\+h.



Referenced by Initialize(), and $\sim$\+Locker().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/include/\mbox{\hyperlink{v8-locker_8h}{v8-\/locker.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/execution/\mbox{\hyperlink{v8threads_8cc}{v8threads.\+cc}}\end{DoxyCompactItemize}
