\hypertarget{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl}{}\doxysection{v8\+::internal\+::Page\+Pool\+::Large\+Page\+Pool\+Impl Class Reference}
\label{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl}\index{v8::internal::PagePool::LargePagePoolImpl@{v8::internal::PagePool::LargePagePoolImpl}}


Collaboration diagram for v8\+::internal\+::Page\+Pool\+::Large\+Page\+Pool\+Impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_a052f3a833d05fa6e6400c221bd60cfd4}{$\sim$\+Large\+Page\+Pool\+Impl}} ()
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_a51574b883164e061afb7cb7ab2715d6f}{Add}} (std\+::vector$<$ \mbox{\hyperlink{classv8_1_1internal_1_1LargePageMetadata}{Large\+Page\+Metadata}} $\ast$ $>$ \&pages, \mbox{\hyperlink{classv8_1_1internal_1_1PagePool_a985d80f287dad0933dedc251efe4acda}{Internal\+Time}} \mbox{\hyperlink{namespacev8_1_1internal_abab02b3a9f25e94b199fc934deeea432}{time}})
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1LargePageMetadata}{Large\+Page\+Metadata}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_a87f1b6c12e515c09e3c0b6704702b91d}{Remove}} (\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} chunk\+\_\+size)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_af83f03dbe9945bd19c7ed0182ff40e6a}{Release\+All}} ()
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_a3c3d2a7955b908691d0186bfc99ab691}{Release\+Up\+To}} (\mbox{\hyperlink{classv8_1_1internal_1_1PagePool_a985d80f287dad0933dedc251efe4acda}{Internal\+Time}} release\+\_\+time)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_acd7c331b7a41ca84a5b171a0b0dbf97e}{Tear\+Down}} ()
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_a52e0b24f1a6eae8dd7009c63c49306ef}{Compute\+Total\+Size}} () const
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1base_1_1Mutex}{base\+::\+Mutex}} \mbox{\hyperlink{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_a94a951518d7f42efdc8aec8ba1ee54ce}{mutex\+\_\+}}
\item 
std\+::vector$<$ std\+::pair$<$ \mbox{\hyperlink{classv8_1_1internal_1_1PagePool_a985d80f287dad0933dedc251efe4acda}{Internal\+Time}}, \mbox{\hyperlink{classv8_1_1internal_1_1PagePool_a885f6f3cb1450a65fa27794fb120c165}{Large\+Page\+Memory}} $>$ $>$ \mbox{\hyperlink{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_a3ebf90846da11348f3b472e9e0b67944}{pages\+\_\+}}
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_ace805ef7f3818b1f5f3dc767618a0cb7}{total\+\_\+size\+\_\+}} = 0
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 117 of file page-\/pool.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_a052f3a833d05fa6e6400c221bd60cfd4}\label{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_a052f3a833d05fa6e6400c221bd60cfd4}} 
\index{v8::internal::PagePool::LargePagePoolImpl@{v8::internal::PagePool::LargePagePoolImpl}!````~LargePagePoolImpl@{$\sim$LargePagePoolImpl}}
\index{````~LargePagePoolImpl@{$\sim$LargePagePoolImpl}!v8::internal::PagePool::LargePagePoolImpl@{v8::internal::PagePool::LargePagePoolImpl}}
\doxysubsubsection{\texorpdfstring{$\sim$LargePagePoolImpl()}{~LargePagePoolImpl()}}
{\footnotesize\ttfamily v8\+::internal\+::\+Page\+Pool\+::\+Large\+Page\+Pool\+Impl\+::$\sim$\+Large\+Page\+Pool\+Impl (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 119 of file page-\/pool.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{119 \{ \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_a3ebf90846da11348f3b472e9e0b67944}{pages\_}}.empty()); \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), and pages\+\_\+.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_a052f3a833d05fa6e6400c221bd60cfd4_cgraph}
\end{center}
\end{figure}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_a51574b883164e061afb7cb7ab2715d6f}\label{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_a51574b883164e061afb7cb7ab2715d6f}} 
\index{v8::internal::PagePool::LargePagePoolImpl@{v8::internal::PagePool::LargePagePoolImpl}!Add@{Add}}
\index{Add@{Add}!v8::internal::PagePool::LargePagePoolImpl@{v8::internal::PagePool::LargePagePoolImpl}}
\doxysubsubsection{\texorpdfstring{Add()}{Add()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Page\+Pool\+::\+Large\+Page\+Pool\+Impl\+::\+Add (\begin{DoxyParamCaption}\item[{std\+::vector$<$ \mbox{\hyperlink{classv8_1_1internal_1_1LargePageMetadata}{Large\+Page\+Metadata}} $\ast$ $>$ \&}]{pages,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1PagePool_a985d80f287dad0933dedc251efe4acda}{Internal\+Time}}}]{time }\end{DoxyParamCaption})}



Definition at line 175 of file page-\/pool.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{176                                                          \{}
\DoxyCodeLine{177   \textcolor{keywordtype}{bool} added\_to\_pool = \textcolor{keyword}{false};}
\DoxyCodeLine{178   \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{base::MutexGuard}} guard(\&\mbox{\hyperlink{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_a94a951518d7f42efdc8aec8ba1ee54ce}{mutex\_}});}
\DoxyCodeLine{179   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_ace805ef7f3818b1f5f3dc767618a0cb7}{total\_size\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_a52e0b24f1a6eae8dd7009c63c49306ef}{ComputeTotalSize}}());}
\DoxyCodeLine{180 }
\DoxyCodeLine{181   \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} max\_total\_size = \mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.max\_large\_page\_pool\_size * \mbox{\hyperlink{namespacev8_1_1internal_af46551c5713d2a3a1be4dca973e521e0}{MB}};}
\DoxyCodeLine{182 }
\DoxyCodeLine{183   \mbox{\hyperlink{namespacev8_1_1base_abb07611ebb36d3e6f652d11a4a7a6a59}{std::erase\_if}}(pages, [\textcolor{keyword}{this}, \&added\_to\_pool, \mbox{\hyperlink{namespacev8_1_1internal_abab02b3a9f25e94b199fc934deeea432}{time}},}
\DoxyCodeLine{184                         max\_total\_size](LargePageMetadata* page) \{}
\DoxyCodeLine{185     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_ace805ef7f3818b1f5f3dc767618a0cb7}{total\_size\_}} + page-\/>size() > max\_total\_size) \{}
\DoxyCodeLine{186       return false;}
\DoxyCodeLine{187     \}}
\DoxyCodeLine{188 }
\DoxyCodeLine{189     \mbox{\hyperlink{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_ace805ef7f3818b1f5f3dc767618a0cb7}{total\_size\_}} += page-\/>size();}
\DoxyCodeLine{190     \mbox{\hyperlink{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_a3ebf90846da11348f3b472e9e0b67944}{pages\_}}.emplace\_back(\mbox{\hyperlink{namespacev8_1_1internal_abab02b3a9f25e94b199fc934deeea432}{time}},}
\DoxyCodeLine{191                         \mbox{\hyperlink{classv8_1_1internal_1_1PagePool_a885f6f3cb1450a65fa27794fb120c165}{LargePageMemory}}(page, [](LargePageMetadata* metadata) \{}
\DoxyCodeLine{192                           \mbox{\hyperlink{classv8_1_1internal_1_1MemoryAllocator_a7d473034dc6b6a459aab630a1806ae3b}{MemoryAllocator::DeleteMemoryChunk}}(metadata);}
\DoxyCodeLine{193                         \}));}
\DoxyCodeLine{194     added\_to\_pool = \textcolor{keyword}{true};}
\DoxyCodeLine{195     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{196   \});}
\DoxyCodeLine{197 }
\DoxyCodeLine{198   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_ace805ef7f3818b1f5f3dc767618a0cb7}{total\_size\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_a52e0b24f1a6eae8dd7009c63c49306ef}{ComputeTotalSize}}());}
\DoxyCodeLine{199   \textcolor{keywordflow}{return} added\_to\_pool;}
\DoxyCodeLine{200 \}}

\end{DoxyCode}


References Compute\+Total\+Size(), DCHECK\+\_\+\+EQ, v8\+::internal\+::\+Memory\+Allocator\+::\+Delete\+Memory\+Chunk(), v8\+::base\+::erase\+\_\+if(), v8\+::internal\+::\+MB, mutex\+\_\+, pages\+\_\+, v8\+::internal\+::\+Memory\+Chunk\+Metadata\+::size(), v8\+::internal\+::time, total\+\_\+size\+\_\+, and v8\+::internal\+::v8\+\_\+flags.



Referenced by v8\+::internal\+::\+Page\+Pool\+::\+Add\+Large().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_a51574b883164e061afb7cb7ab2715d6f_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_a51574b883164e061afb7cb7ab2715d6f_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_a52e0b24f1a6eae8dd7009c63c49306ef}\label{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_a52e0b24f1a6eae8dd7009c63c49306ef}} 
\index{v8::internal::PagePool::LargePagePoolImpl@{v8::internal::PagePool::LargePagePoolImpl}!ComputeTotalSize@{ComputeTotalSize}}
\index{ComputeTotalSize@{ComputeTotalSize}!v8::internal::PagePool::LargePagePoolImpl@{v8::internal::PagePool::LargePagePoolImpl}}
\doxysubsubsection{\texorpdfstring{ComputeTotalSize()}{ComputeTotalSize()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::\+Page\+Pool\+::\+Large\+Page\+Pool\+Impl\+::\+Compute\+Total\+Size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Definition at line 261 of file page-\/pool.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{261                                                          \{}
\DoxyCodeLine{262   \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} = 0;}
\DoxyCodeLine{263 }
\DoxyCodeLine{264   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}\& entry : \mbox{\hyperlink{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_a3ebf90846da11348f3b472e9e0b67944}{pages\_}}) \{}
\DoxyCodeLine{265     \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} += entry.second-\/>size();}
\DoxyCodeLine{266   \}}
\DoxyCodeLine{267 }
\DoxyCodeLine{268   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}};}
\DoxyCodeLine{269 \}}

\end{DoxyCode}


References v8\+::base\+::internal\+::result.



Referenced by Add().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_a52e0b24f1a6eae8dd7009c63c49306ef_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_af83f03dbe9945bd19c7ed0182ff40e6a}\label{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_af83f03dbe9945bd19c7ed0182ff40e6a}} 
\index{v8::internal::PagePool::LargePagePoolImpl@{v8::internal::PagePool::LargePagePoolImpl}!ReleaseAll@{ReleaseAll}}
\index{ReleaseAll@{ReleaseAll}!v8::internal::PagePool::LargePagePoolImpl@{v8::internal::PagePool::LargePagePoolImpl}}
\doxysubsubsection{\texorpdfstring{ReleaseAll()}{ReleaseAll()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Page\+Pool\+::\+Large\+Page\+Pool\+Impl\+::\+Release\+All (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 229 of file page-\/pool.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{229                                            \{}
\DoxyCodeLine{230   std::vector<std::pair<InternalTime, LargePageMemory>> pages\_to\_free;}
\DoxyCodeLine{231 }
\DoxyCodeLine{232   \{}
\DoxyCodeLine{233     \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{base::MutexGuard}} guard(\&\mbox{\hyperlink{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_a94a951518d7f42efdc8aec8ba1ee54ce}{mutex\_}});}
\DoxyCodeLine{234     pages\_to\_free = std::move(\mbox{\hyperlink{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_a3ebf90846da11348f3b472e9e0b67944}{pages\_}});}
\DoxyCodeLine{235     \mbox{\hyperlink{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_ace805ef7f3818b1f5f3dc767618a0cb7}{total\_size\_}} = 0;}
\DoxyCodeLine{236   \}}
\DoxyCodeLine{237 }
\DoxyCodeLine{238   \textcolor{comment}{// Entries will be freed automatically here.}}
\DoxyCodeLine{239 \}}

\end{DoxyCode}


Referenced by v8\+::internal\+::\+Page\+Pool\+::\+Release\+Immediately(), v8\+::internal\+::\+Page\+Pool\+::\+Release\+Large\+Immediately(), and v8\+::internal\+::\+Page\+Pool\+::\+Release\+On\+Tear\+Down().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_af83f03dbe9945bd19c7ed0182ff40e6a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_a3c3d2a7955b908691d0186bfc99ab691}\label{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_a3c3d2a7955b908691d0186bfc99ab691}} 
\index{v8::internal::PagePool::LargePagePoolImpl@{v8::internal::PagePool::LargePagePoolImpl}!ReleaseUpTo@{ReleaseUpTo}}
\index{ReleaseUpTo@{ReleaseUpTo}!v8::internal::PagePool::LargePagePoolImpl@{v8::internal::PagePool::LargePagePoolImpl}}
\doxysubsubsection{\texorpdfstring{ReleaseUpTo()}{ReleaseUpTo()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::\+Page\+Pool\+::\+Large\+Page\+Pool\+Impl\+::\+Release\+Up\+To (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1PagePool_a985d80f287dad0933dedc251efe4acda}{Internal\+Time}}}]{release\+\_\+time }\end{DoxyParamCaption})}



Definition at line 241 of file page-\/pool.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{241                                                                        \{}
\DoxyCodeLine{242   std::vector<LargePageMemory> entries\_to\_free;}
\DoxyCodeLine{243   \textcolor{keywordtype}{size\_t} freed = 0;}
\DoxyCodeLine{244   \{}
\DoxyCodeLine{245     \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{base::MutexGuard}} guard(\&\mbox{\hyperlink{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_a94a951518d7f42efdc8aec8ba1ee54ce}{mutex\_}});}
\DoxyCodeLine{246     \mbox{\hyperlink{namespacev8_1_1base_abb07611ebb36d3e6f652d11a4a7a6a59}{std::erase\_if}}(\mbox{\hyperlink{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_a3ebf90846da11348f3b472e9e0b67944}{pages\_}}, [\textcolor{keyword}{this}, \&entries\_to\_free, release\_time](\textcolor{keyword}{auto}\& entry) \{}
\DoxyCodeLine{247       \textcolor{keywordflow}{if} (entry.first <= release\_time) \{}
\DoxyCodeLine{248         total\_size\_ -\/= entry.second-\/>size();}
\DoxyCodeLine{249         entries\_to\_free.push\_back(std::move(entry.second));}
\DoxyCodeLine{250         return true;}
\DoxyCodeLine{251       \}}
\DoxyCodeLine{252       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{253     \});}
\DoxyCodeLine{254 }
\DoxyCodeLine{255     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_ace805ef7f3818b1f5f3dc767618a0cb7}{total\_size\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_a52e0b24f1a6eae8dd7009c63c49306ef}{ComputeTotalSize}}());}
\DoxyCodeLine{256   \}}
\DoxyCodeLine{257   \textcolor{comment}{// Entries will be freed automatically here.}}
\DoxyCodeLine{258   \textcolor{keywordflow}{return} freed;}
\DoxyCodeLine{259 \}}

\end{DoxyCode}


References DCHECK\+\_\+\+EQ, and v8\+::base\+::erase\+\_\+if().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_a3c3d2a7955b908691d0186bfc99ab691_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_a87f1b6c12e515c09e3c0b6704702b91d}\label{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_a87f1b6c12e515c09e3c0b6704702b91d}} 
\index{v8::internal::PagePool::LargePagePoolImpl@{v8::internal::PagePool::LargePagePoolImpl}!Remove@{Remove}}
\index{Remove@{Remove}!v8::internal::PagePool::LargePagePoolImpl@{v8::internal::PagePool::LargePagePoolImpl}}
\doxysubsubsection{\texorpdfstring{Remove()}{Remove()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1LargePageMetadata}{Large\+Page\+Metadata}} $\ast$ v8\+::internal\+::\+Page\+Pool\+::\+Large\+Page\+Pool\+Impl\+::\+Remove (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{chunk\+\_\+size }\end{DoxyParamCaption})}



Definition at line 202 of file page-\/pool.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{202                                                                       \{}
\DoxyCodeLine{203   \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{base::MutexGuard}} guard(\&\mbox{\hyperlink{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_a94a951518d7f42efdc8aec8ba1ee54ce}{mutex\_}});}
\DoxyCodeLine{204   \textcolor{keyword}{auto} selected = \mbox{\hyperlink{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_a3ebf90846da11348f3b472e9e0b67944}{pages\_}}.end();}
\DoxyCodeLine{205   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_ace805ef7f3818b1f5f3dc767618a0cb7}{total\_size\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_a52e0b24f1a6eae8dd7009c63c49306ef}{ComputeTotalSize}}());}
\DoxyCodeLine{206 }
\DoxyCodeLine{207   \textcolor{comment}{// Best-\/fit: Select smallest large page large with a size of at least}}
\DoxyCodeLine{208   \textcolor{comment}{// |chunk\_size|. In case the page is larger than necessary, the next full GC}}
\DoxyCodeLine{209   \textcolor{comment}{// will trim down its size.}}
\DoxyCodeLine{210   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} it = \mbox{\hyperlink{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_a3ebf90846da11348f3b472e9e0b67944}{pages\_}}.begin(); it != \mbox{\hyperlink{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_a3ebf90846da11348f3b472e9e0b67944}{pages\_}}.end(); it++) \{}
\DoxyCodeLine{211     \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} page\_size = it-\/>second-\/>size();}
\DoxyCodeLine{212     \textcolor{keywordflow}{if} (page\_size < chunk\_size) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{213     \textcolor{keywordflow}{if} (selected == \mbox{\hyperlink{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_a3ebf90846da11348f3b472e9e0b67944}{pages\_}}.end() || page\_size < selected-\/>second-\/>size()) \{}
\DoxyCodeLine{214       selected = it;}
\DoxyCodeLine{215     \}}
\DoxyCodeLine{216   \}}
\DoxyCodeLine{217 }
\DoxyCodeLine{218   \textcolor{keywordflow}{if} (selected == \mbox{\hyperlink{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_a3ebf90846da11348f3b472e9e0b67944}{pages\_}}.end()) \{}
\DoxyCodeLine{219     \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{220   \}}
\DoxyCodeLine{221 }
\DoxyCodeLine{222   LargePageMetadata* \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} = selected-\/>second.release();}
\DoxyCodeLine{223   \mbox{\hyperlink{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_ace805ef7f3818b1f5f3dc767618a0cb7}{total\_size\_}} -\/= \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}}-\/>size();}
\DoxyCodeLine{224   \mbox{\hyperlink{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_a3ebf90846da11348f3b472e9e0b67944}{pages\_}}.erase(selected);}
\DoxyCodeLine{225   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_ace805ef7f3818b1f5f3dc767618a0cb7}{total\_size\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_a52e0b24f1a6eae8dd7009c63c49306ef}{ComputeTotalSize}}());}
\DoxyCodeLine{226   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}};}
\DoxyCodeLine{227 \}}

\end{DoxyCode}


References DCHECK\+\_\+\+EQ, and v8\+::base\+::internal\+::result.



Referenced by v8\+::internal\+::\+Page\+Pool\+::\+Remove\+Large().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_a87f1b6c12e515c09e3c0b6704702b91d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_acd7c331b7a41ca84a5b171a0b0dbf97e}\label{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_acd7c331b7a41ca84a5b171a0b0dbf97e}} 
\index{v8::internal::PagePool::LargePagePoolImpl@{v8::internal::PagePool::LargePagePoolImpl}!TearDown@{TearDown}}
\index{TearDown@{TearDown}!v8::internal::PagePool::LargePagePoolImpl@{v8::internal::PagePool::LargePagePoolImpl}}
\doxysubsubsection{\texorpdfstring{TearDown()}{TearDown()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Page\+Pool\+::\+Large\+Page\+Pool\+Impl\+::\+Tear\+Down (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 271 of file page-\/pool.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{271 \{ \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_a3ebf90846da11348f3b472e9e0b67944}{pages\_}}.empty()); \}}

\end{DoxyCode}


References CHECK.



Referenced by v8\+::internal\+::\+Page\+Pool\+::\+Tear\+Down().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_acd7c331b7a41ca84a5b171a0b0dbf97e_icgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_a94a951518d7f42efdc8aec8ba1ee54ce}\label{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_a94a951518d7f42efdc8aec8ba1ee54ce}} 
\index{v8::internal::PagePool::LargePagePoolImpl@{v8::internal::PagePool::LargePagePoolImpl}!mutex\_@{mutex\_}}
\index{mutex\_@{mutex\_}!v8::internal::PagePool::LargePagePoolImpl@{v8::internal::PagePool::LargePagePoolImpl}}
\doxysubsubsection{\texorpdfstring{mutex\_}{mutex\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1base_1_1Mutex}{base\+::\+Mutex}} v8\+::internal\+::\+Page\+Pool\+::\+Large\+Page\+Pool\+Impl\+::mutex\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 130 of file page-\/pool.\+h.



Referenced by Add().

\mbox{\Hypertarget{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_a3ebf90846da11348f3b472e9e0b67944}\label{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_a3ebf90846da11348f3b472e9e0b67944}} 
\index{v8::internal::PagePool::LargePagePoolImpl@{v8::internal::PagePool::LargePagePoolImpl}!pages\_@{pages\_}}
\index{pages\_@{pages\_}!v8::internal::PagePool::LargePagePoolImpl@{v8::internal::PagePool::LargePagePoolImpl}}
\doxysubsubsection{\texorpdfstring{pages\_}{pages\_}}
{\footnotesize\ttfamily std\+::vector$<$std\+::pair$<$\mbox{\hyperlink{classv8_1_1internal_1_1PagePool_a985d80f287dad0933dedc251efe4acda}{Internal\+Time}}, \mbox{\hyperlink{classv8_1_1internal_1_1PagePool_a885f6f3cb1450a65fa27794fb120c165}{Large\+Page\+Memory}}$>$ $>$ v8\+::internal\+::\+Page\+Pool\+::\+Large\+Page\+Pool\+Impl\+::pages\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 131 of file page-\/pool.\+h.



Referenced by Add(), and $\sim$\+Large\+Page\+Pool\+Impl().

\mbox{\Hypertarget{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_ace805ef7f3818b1f5f3dc767618a0cb7}\label{classv8_1_1internal_1_1PagePool_1_1LargePagePoolImpl_ace805ef7f3818b1f5f3dc767618a0cb7}} 
\index{v8::internal::PagePool::LargePagePoolImpl@{v8::internal::PagePool::LargePagePoolImpl}!total\_size\_@{total\_size\_}}
\index{total\_size\_@{total\_size\_}!v8::internal::PagePool::LargePagePoolImpl@{v8::internal::PagePool::LargePagePoolImpl}}
\doxysubsubsection{\texorpdfstring{total\_size\_}{total\_size\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::\+Page\+Pool\+::\+Large\+Page\+Pool\+Impl\+::total\+\_\+size\+\_\+ = 0\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 132 of file page-\/pool.\+h.



Referenced by Add().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/heap/\mbox{\hyperlink{page-pool_8h}{page-\/pool.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/heap/\mbox{\hyperlink{page-pool_8cc}{page-\/pool.\+cc}}\end{DoxyCompactItemize}
