\hypertarget{weak-object-worklists_8h}{}\doxysection{/mnt/\+V8\+Source\+Code/src/heap/weak-\/object-\/worklists.h File Reference}
\label{weak-object-worklists_8h}\index{/mnt/V8SourceCode/src/heap/weak-\/object-\/worklists.h@{/mnt/V8SourceCode/src/heap/weak-\/object-\/worklists.h}}
{\ttfamily \#include \char`\"{}src/common/globals.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}src/heap/base/worklist.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}src/objects/heap-\/object.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}src/objects/js-\/weak-\/refs.\+h\char`\"{}}\newline
Include dependency graph for weak-\/object-\/worklists.h\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{weak-object-worklists_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{weak-object-worklists_8h__dep__incl}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structv8_1_1internal_1_1Ephemeron}{v8\+::internal\+::\+Ephemeron}}
\item 
struct \mbox{\hyperlink{structv8_1_1internal_1_1detail_1_1HeapObjectAndSlotPOD}{v8\+::internal\+::detail\+::\+Heap\+Object\+And\+Slot\+POD$<$ TSlot\+Type $>$}}
\item 
struct \mbox{\hyperlink{structv8_1_1internal_1_1HeapObjectAndCode}{v8\+::internal\+::\+Heap\+Object\+And\+Code}}
\item 
class \mbox{\hyperlink{classv8_1_1internal_1_1WeakObjects}{v8\+::internal\+::\+Weak\+Objects}}
\item 
class \mbox{\hyperlink{classv8_1_1internal_1_1WeakObjects_1_1UnusedBase}{v8\+::internal\+::\+Weak\+Objects\+::\+Unused\+Base}}
\item 
class \mbox{\hyperlink{classv8_1_1internal_1_1WeakObjects_1_1Local}{v8\+::internal\+::\+Weak\+Objects\+::\+Local}}
\end{DoxyCompactItemize}
\doxysubsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
 \mbox{\hyperlink{namespacev8}{v8}}
\begin{DoxyCompactList}\small\item\em This file provides additional API on top of the default one for making API calls, which come from embedder C++ functions. \end{DoxyCompactList}\item 
 \mbox{\hyperlink{namespacev8_1_1internal}{v8\+::internal}}
\item 
 \mbox{\hyperlink{namespacev8_1_1internal_1_1detail}{v8\+::internal\+::detail}}
\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{weak-object-worklists_8h_acb3bf31d0982ba782a4c7e5973f59247}{WEAK\+\_\+\+OBJECT\+\_\+\+WORKLISTS\+\_\+\+GENERIC}}(\mbox{\hyperlink{runtime_8h_a5eca323e818c7bf1e6dcc89b0ed2e619}{F}})
\item 
\#define \mbox{\hyperlink{weak-object-worklists_8h_a2d5b94f4a6aad0c9cc61fb148820b13c}{WEAK\+\_\+\+OBJECT\+\_\+\+WORKLISTS}}(\mbox{\hyperlink{runtime_8h_a5eca323e818c7bf1e6dcc89b0ed2e619}{F}})
\item 
\#define \mbox{\hyperlink{weak-object-worklists_8h_a2e1839f63e2b1d7a888b9deb1bc53d9d}{DECLARE\+\_\+\+WORKLIST}}(Type,  \mbox{\hyperlink{flag-definitions_8h_a3ced3697c19e78b3fb4994a89f46945e}{name}},  \mbox{\hyperlink{js-call-reducer_8cc_ae4dfd7b0d66121016d6466d2ff10e8ba}{\+\_\+}})~  Weak\+Object\+Worklist$<$Type$>$\+::Local \mbox{\hyperlink{flag-definitions_8h_a3ced3697c19e78b3fb4994a89f46945e}{name}}\#\#\+\_\+local;
\item 
\#define \mbox{\hyperlink{weak-object-worklists_8h_a2e1839f63e2b1d7a888b9deb1bc53d9d}{DECLARE\+\_\+\+WORKLIST}}(Type,  \mbox{\hyperlink{flag-definitions_8h_a3ced3697c19e78b3fb4994a89f46945e}{name}},  \mbox{\hyperlink{js-call-reducer_8cc_ae4dfd7b0d66121016d6466d2ff10e8ba}{\+\_\+}})~Weak\+Object\+Worklist$<$Type$>$ \mbox{\hyperlink{flag-definitions_8h_a3ced3697c19e78b3fb4994a89f46945e}{name}};
\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
using \mbox{\hyperlink{namespacev8_1_1internal_ace58b122ce17abc7ea987b863574310a}{v8\+::internal\+::\+Heap\+Object\+And\+Slot}} = detail\+::\+Heap\+Object\+And\+Slot\+POD$<$ Heap\+Object\+Slot $>$
\item 
using \mbox{\hyperlink{namespacev8_1_1internal_aa4f3375e1bf221d66b17c3edf3f721b5}{v8\+::internal\+::\+Trusted\+Object\+And\+Slot}} = detail\+::\+Heap\+Object\+And\+Slot\+POD$<$ Protected\+Maybe\+Object\+Slot $>$
\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{weak-object-worklists_8h_a2e1839f63e2b1d7a888b9deb1bc53d9d}\label{weak-object-worklists_8h_a2e1839f63e2b1d7a888b9deb1bc53d9d}} 
\index{weak-\/object-\/worklists.h@{weak-\/object-\/worklists.h}!DECLARE\_WORKLIST@{DECLARE\_WORKLIST}}
\index{DECLARE\_WORKLIST@{DECLARE\_WORKLIST}!weak-\/object-\/worklists.h@{weak-\/object-\/worklists.h}}
\doxysubsubsection{\texorpdfstring{DECLARE\_WORKLIST}{DECLARE\_WORKLIST}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \#define DECLARE\+\_\+\+WORKLIST(\begin{DoxyParamCaption}\item[{}]{Type,  }\item[{}]{\mbox{\hyperlink{flag-definitions_8h_a3ced3697c19e78b3fb4994a89f46945e}{name}},  }\item[{}]{\mbox{\hyperlink{js-call-reducer_8cc_ae4dfd7b0d66121016d6466d2ff10e8ba}{\+\_\+}} }\end{DoxyParamCaption})~  Weak\+Object\+Worklist$<$Type$>$\+::Local \mbox{\hyperlink{flag-definitions_8h_a3ced3697c19e78b3fb4994a89f46945e}{name}}\#\#\+\_\+local;}



Definition at line 105 of file weak-\/object-\/worklists.\+h.

\mbox{\Hypertarget{weak-object-worklists_8h_a2e1839f63e2b1d7a888b9deb1bc53d9d}\label{weak-object-worklists_8h_a2e1839f63e2b1d7a888b9deb1bc53d9d}} 
\index{weak-\/object-\/worklists.h@{weak-\/object-\/worklists.h}!DECLARE\_WORKLIST@{DECLARE\_WORKLIST}}
\index{DECLARE\_WORKLIST@{DECLARE\_WORKLIST}!weak-\/object-\/worklists.h@{weak-\/object-\/worklists.h}}
\doxysubsubsection{\texorpdfstring{DECLARE\_WORKLIST}{DECLARE\_WORKLIST}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \#define DECLARE\+\_\+\+WORKLIST(\begin{DoxyParamCaption}\item[{}]{Type,  }\item[{}]{\mbox{\hyperlink{flag-definitions_8h_a3ced3697c19e78b3fb4994a89f46945e}{name}},  }\item[{}]{\mbox{\hyperlink{js-call-reducer_8cc_ae4dfd7b0d66121016d6466d2ff10e8ba}{\+\_\+}} }\end{DoxyParamCaption})~Weak\+Object\+Worklist$<$Type$>$ \mbox{\hyperlink{flag-definitions_8h_a3ced3697c19e78b3fb4994a89f46945e}{name}};}



Definition at line 105 of file weak-\/object-\/worklists.\+h.

\mbox{\Hypertarget{weak-object-worklists_8h_a2d5b94f4a6aad0c9cc61fb148820b13c}\label{weak-object-worklists_8h_a2d5b94f4a6aad0c9cc61fb148820b13c}} 
\index{weak-\/object-\/worklists.h@{weak-\/object-\/worklists.h}!WEAK\_OBJECT\_WORKLISTS@{WEAK\_OBJECT\_WORKLISTS}}
\index{WEAK\_OBJECT\_WORKLISTS@{WEAK\_OBJECT\_WORKLISTS}!weak-\/object-\/worklists.h@{weak-\/object-\/worklists.h}}
\doxysubsubsection{\texorpdfstring{WEAK\_OBJECT\_WORKLISTS}{WEAK\_OBJECT\_WORKLISTS}}
{\footnotesize\ttfamily \#define WEAK\+\_\+\+OBJECT\+\_\+\+WORKLISTS(\begin{DoxyParamCaption}\item[{}]{\mbox{\hyperlink{runtime_8h_a5eca323e818c7bf1e6dcc89b0ed2e619}{F}} }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{  \mbox{\hyperlink{weak-object-worklists_8h_acb3bf31d0982ba782a4c7e5973f59247}{WEAK\_OBJECT\_WORKLISTS\_GENERIC}}(\mbox{\hyperlink{ast-value-factory_8cc_a4b80d534296aa0ea3d0966e5882a7197}{F}})                    \(\backslash\)}
\DoxyCodeLine{  F(Tagged<JSFunction>, baseline\_flushing\_candidates, \(\backslash\)}
\DoxyCodeLine{    BaselineFlushingCandidates)}

\end{DoxyCode}


Definition at line 79 of file weak-\/object-\/worklists.\+h.

\mbox{\Hypertarget{weak-object-worklists_8h_acb3bf31d0982ba782a4c7e5973f59247}\label{weak-object-worklists_8h_acb3bf31d0982ba782a4c7e5973f59247}} 
\index{weak-\/object-\/worklists.h@{weak-\/object-\/worklists.h}!WEAK\_OBJECT\_WORKLISTS\_GENERIC@{WEAK\_OBJECT\_WORKLISTS\_GENERIC}}
\index{WEAK\_OBJECT\_WORKLISTS\_GENERIC@{WEAK\_OBJECT\_WORKLISTS\_GENERIC}!weak-\/object-\/worklists.h@{weak-\/object-\/worklists.h}}
\doxysubsubsection{\texorpdfstring{WEAK\_OBJECT\_WORKLISTS\_GENERIC}{WEAK\_OBJECT\_WORKLISTS\_GENERIC}}
{\footnotesize\ttfamily \#define WEAK\+\_\+\+OBJECT\+\_\+\+WORKLISTS\+\_\+\+GENERIC(\begin{DoxyParamCaption}\item[{}]{\mbox{\hyperlink{runtime_8h_a5eca323e818c7bf1e6dcc89b0ed2e619}{F}} }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{  \mbox{\hyperlink{ast-value-factory_8cc_a4b80d534296aa0ea3d0966e5882a7197}{F}}(Tagged<TransitionArray>, transition\_arrays, TransitionArrays)             \(\backslash\)}
\DoxyCodeLine{  \textcolor{comment}{/* Keep track of all EphemeronHashTables in the heap to process             \(\backslash\)}}
\DoxyCodeLine{\textcolor{comment}{     them in the atomic pause. */}                                             \(\backslash\)}
\DoxyCodeLine{  F(Tagged<EphemeronHashTable>, ephemeron\_hash\_tables, EphemeronHashTables)   \(\backslash\)}
\DoxyCodeLine{  \textcolor{comment}{/* Keep track of all ephemerons for concurrent marking tasks. Only store    \(\backslash\)}}
\DoxyCodeLine{\textcolor{comment}{     ephemerons in these worklists if both (key, value) are unreachable at    \(\backslash\)}}
\DoxyCodeLine{\textcolor{comment}{     the moment.                                                              \(\backslash\)}}
\DoxyCodeLine{\textcolor{comment}{     MarkCompactCollector::MarkTransitiveClosureUntilFixpoint drains/fills    \(\backslash\)}}
\DoxyCodeLine{\textcolor{comment}{     these worklists. current\_ephemerons is used as draining worklist in      \(\backslash\)}}
\DoxyCodeLine{\textcolor{comment}{     the current fixpoint iteration. */}                                       \(\backslash\)}
\DoxyCodeLine{  F(Ephemeron, current\_ephemerons, CurrentEphemerons)                         \(\backslash\)}
\DoxyCodeLine{  \textcolor{comment}{/* Stores ephemerons to visit in the next fixpoint iteration. */}            \(\backslash\)}
\DoxyCodeLine{  F(Ephemeron, next\_ephemerons, NextEphemerons)                               \(\backslash\)}
\DoxyCodeLine{  \textcolor{comment}{/* TODO(marja): For old space, we only need the slot, not the host object.  \(\backslash\)}}
\DoxyCodeLine{\textcolor{comment}{     Optimize this by adding a different storage for old space. */}            \(\backslash\)}
\DoxyCodeLine{  F(\mbox{\hyperlink{namespacev8_1_1internal_ace58b122ce17abc7ea987b863574310a}{HeapObjectAndSlot}}, weak\_references\_trivial, WeakReferencesTrivial)        \(\backslash\)}
\DoxyCodeLine{  F(\mbox{\hyperlink{namespacev8_1_1internal_ace58b122ce17abc7ea987b863574310a}{HeapObjectAndSlot}}, weak\_references\_non\_trivial, WeakReferencesNonTrivial) \(\backslash\)}
\DoxyCodeLine{  F(\mbox{\hyperlink{namespacev8_1_1internal_ace58b122ce17abc7ea987b863574310a}{HeapObjectAndSlot}}, weak\_references\_non\_trivial\_unmarked,                  \(\backslash\)}
\DoxyCodeLine{    WeakReferencesNonTrivialUnmarked)                                         \(\backslash\)}
\DoxyCodeLine{  F(\mbox{\hyperlink{namespacev8_1_1internal_aa4f3375e1bf221d66b17c3edf3f721b5}{TrustedObjectAndSlot}}, weak\_references\_trusted, WeakReferencesTrusted)     \(\backslash\)}
\DoxyCodeLine{  F(HeapObjectAndCode, weak\_objects\_in\_code, WeakObjectsInCode)               \(\backslash\)}
\DoxyCodeLine{  F(Tagged<JSWeakRef>, js\_weak\_refs, JSWeakRefs)                              \(\backslash\)}
\DoxyCodeLine{  F(Tagged<WeakCell>, weak\_cells, WeakCells)                                  \(\backslash\)}
\DoxyCodeLine{  F(Tagged<SharedFunctionInfo>, code\_flushing\_candidates,                     \(\backslash\)}
\DoxyCodeLine{    CodeFlushingCandidates)                                                   \(\backslash\)}
\DoxyCodeLine{  F(Tagged<JSFunction>, flushed\_js\_functions, FlushedJSFunctions)}

\end{DoxyCode}


Definition at line 53 of file weak-\/object-\/worklists.\+h.

