\hypertarget{classcppgc_1_1testing_1_1StandaloneTestingHeap}{}\doxysection{cppgc\+::testing\+::Standalone\+Testing\+Heap Class Reference}
\label{classcppgc_1_1testing_1_1StandaloneTestingHeap}\index{cppgc::testing::StandaloneTestingHeap@{cppgc::testing::StandaloneTestingHeap}}


{\ttfamily \#include $<$testing.\+h$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcppgc_1_1testing_1_1StandaloneTestingHeap_acdc4907eb28a92096f00794b234e8eab}{Standalone\+Testing\+Heap}} (\mbox{\hyperlink{classcppgc_1_1HeapHandle}{Heap\+Handle}} \&)
\item 
void \mbox{\hyperlink{classcppgc_1_1testing_1_1StandaloneTestingHeap_a642208345ac733070b635bf5abebb8d9}{Start\+Garbage\+Collection}} ()
\item 
bool \mbox{\hyperlink{classcppgc_1_1testing_1_1StandaloneTestingHeap_ac8e5a55c48bc0b2d758b07e402adadd9}{Perform\+Marking\+Step}} (\mbox{\hyperlink{namespacecppgc_a91b484d5d6eea7664c25f4050c0d6eb8}{Embedder\+Stack\+State}} stack\+\_\+state)
\item 
void \mbox{\hyperlink{classcppgc_1_1testing_1_1StandaloneTestingHeap_a598cbc628f8f436d085970d008748149}{Finalize\+Garbage\+Collection}} (\mbox{\hyperlink{namespacecppgc_a91b484d5d6eea7664c25f4050c0d6eb8}{Embedder\+Stack\+State}} stack\+\_\+state)
\item 
void \mbox{\hyperlink{classcppgc_1_1testing_1_1StandaloneTestingHeap_a52595d39c18713e9015f90b03c52a29c}{Toggle\+Main\+Thread\+Marking}} (bool should\+\_\+mark)
\item 
void \mbox{\hyperlink{classcppgc_1_1testing_1_1StandaloneTestingHeap_ac7a9ae8c4d350d85124045ac98154010}{Force\+Compaction\+For\+Next\+Garbage\+Collection}} ()
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Testing interface for managed heaps that allows for controlling garbage collection timings. Embedders should use this class when testing the interaction of their code with incremental/concurrent garbage collection. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classcppgc_1_1testing_1_1StandaloneTestingHeap_acdc4907eb28a92096f00794b234e8eab}\label{classcppgc_1_1testing_1_1StandaloneTestingHeap_acdc4907eb28a92096f00794b234e8eab}} 
\index{cppgc::testing::StandaloneTestingHeap@{cppgc::testing::StandaloneTestingHeap}!StandaloneTestingHeap@{StandaloneTestingHeap}}
\index{StandaloneTestingHeap@{StandaloneTestingHeap}!cppgc::testing::StandaloneTestingHeap@{cppgc::testing::StandaloneTestingHeap}}
\doxysubsubsection{\texorpdfstring{StandaloneTestingHeap()}{StandaloneTestingHeap()}}
{\footnotesize\ttfamily cppgc\+::testing\+::\+Standalone\+Testing\+Heap\+::\+Standalone\+Testing\+Heap (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcppgc_1_1HeapHandle}{Heap\+Handle}} \&}]{heap\+\_\+handle }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classcppgc_1_1testing_1_1StandaloneTestingHeap_a598cbc628f8f436d085970d008748149}\label{classcppgc_1_1testing_1_1StandaloneTestingHeap_a598cbc628f8f436d085970d008748149}} 
\index{cppgc::testing::StandaloneTestingHeap@{cppgc::testing::StandaloneTestingHeap}!FinalizeGarbageCollection@{FinalizeGarbageCollection}}
\index{FinalizeGarbageCollection@{FinalizeGarbageCollection}!cppgc::testing::StandaloneTestingHeap@{cppgc::testing::StandaloneTestingHeap}}
\doxysubsubsection{\texorpdfstring{FinalizeGarbageCollection()}{FinalizeGarbageCollection()}}
{\footnotesize\ttfamily void cppgc\+::testing\+::\+Standalone\+Testing\+Heap\+::\+Finalize\+Garbage\+Collection (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacecppgc_a91b484d5d6eea7664c25f4050c0d6eb8}{Embedder\+Stack\+State}}}]{stack\+\_\+state }\end{DoxyParamCaption})}

Finalize the current garbage collection cycle atomically. Assumes that garbage collection is in progress.


\begin{DoxyParams}{Parameters}
{\em stack\+\_\+state} & The state of the stack for finalizing the garbage collection cycle. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classcppgc_1_1testing_1_1StandaloneTestingHeap_ac7a9ae8c4d350d85124045ac98154010}\label{classcppgc_1_1testing_1_1StandaloneTestingHeap_ac7a9ae8c4d350d85124045ac98154010}} 
\index{cppgc::testing::StandaloneTestingHeap@{cppgc::testing::StandaloneTestingHeap}!ForceCompactionForNextGarbageCollection@{ForceCompactionForNextGarbageCollection}}
\index{ForceCompactionForNextGarbageCollection@{ForceCompactionForNextGarbageCollection}!cppgc::testing::StandaloneTestingHeap@{cppgc::testing::StandaloneTestingHeap}}
\doxysubsubsection{\texorpdfstring{ForceCompactionForNextGarbageCollection()}{ForceCompactionForNextGarbageCollection()}}
{\footnotesize\ttfamily void cppgc\+::testing\+::\+Standalone\+Testing\+Heap\+::\+Force\+Compaction\+For\+Next\+Garbage\+Collection (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Force enable compaction for the next garbage collection cycle. \mbox{\Hypertarget{classcppgc_1_1testing_1_1StandaloneTestingHeap_ac8e5a55c48bc0b2d758b07e402adadd9}\label{classcppgc_1_1testing_1_1StandaloneTestingHeap_ac8e5a55c48bc0b2d758b07e402adadd9}} 
\index{cppgc::testing::StandaloneTestingHeap@{cppgc::testing::StandaloneTestingHeap}!PerformMarkingStep@{PerformMarkingStep}}
\index{PerformMarkingStep@{PerformMarkingStep}!cppgc::testing::StandaloneTestingHeap@{cppgc::testing::StandaloneTestingHeap}}
\doxysubsubsection{\texorpdfstring{PerformMarkingStep()}{PerformMarkingStep()}}
{\footnotesize\ttfamily bool cppgc\+::testing\+::\+Standalone\+Testing\+Heap\+::\+Perform\+Marking\+Step (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacecppgc_a91b484d5d6eea7664c25f4050c0d6eb8}{Embedder\+Stack\+State}}}]{stack\+\_\+state }\end{DoxyParamCaption})}

Perform an incremental step. This will also schedule concurrent steps if needed.


\begin{DoxyParams}{Parameters}
{\em stack\+\_\+state} & The state of the stack during the step. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classcppgc_1_1testing_1_1StandaloneTestingHeap_a642208345ac733070b635bf5abebb8d9}\label{classcppgc_1_1testing_1_1StandaloneTestingHeap_a642208345ac733070b635bf5abebb8d9}} 
\index{cppgc::testing::StandaloneTestingHeap@{cppgc::testing::StandaloneTestingHeap}!StartGarbageCollection@{StartGarbageCollection}}
\index{StartGarbageCollection@{StartGarbageCollection}!cppgc::testing::StandaloneTestingHeap@{cppgc::testing::StandaloneTestingHeap}}
\doxysubsubsection{\texorpdfstring{StartGarbageCollection()}{StartGarbageCollection()}}
{\footnotesize\ttfamily void cppgc\+::testing\+::\+Standalone\+Testing\+Heap\+::\+Start\+Garbage\+Collection (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Start an incremental garbage collection. \mbox{\Hypertarget{classcppgc_1_1testing_1_1StandaloneTestingHeap_a52595d39c18713e9015f90b03c52a29c}\label{classcppgc_1_1testing_1_1StandaloneTestingHeap_a52595d39c18713e9015f90b03c52a29c}} 
\index{cppgc::testing::StandaloneTestingHeap@{cppgc::testing::StandaloneTestingHeap}!ToggleMainThreadMarking@{ToggleMainThreadMarking}}
\index{ToggleMainThreadMarking@{ToggleMainThreadMarking}!cppgc::testing::StandaloneTestingHeap@{cppgc::testing::StandaloneTestingHeap}}
\doxysubsubsection{\texorpdfstring{ToggleMainThreadMarking()}{ToggleMainThreadMarking()}}
{\footnotesize\ttfamily void cppgc\+::testing\+::\+Standalone\+Testing\+Heap\+::\+Toggle\+Main\+Thread\+Marking (\begin{DoxyParamCaption}\item[{bool}]{should\+\_\+mark }\end{DoxyParamCaption})}

Toggle main thread marking on/off. Allows to stress concurrent marking (e.\+g. to better detect data races).


\begin{DoxyParams}{Parameters}
{\em should\+\_\+mark} & Denotes whether the main thread should contribute to marking. Defaults to true. \\
\hline
\end{DoxyParams}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{include_2cppgc_2testing_8h}{include/cppgc/testing.\+h}}\item 
\mbox{\hyperlink{heap_2cppgc_2testing_8cc}{heap/cppgc/testing.\+cc}}\end{DoxyCompactItemize}
