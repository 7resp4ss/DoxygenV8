\hypertarget{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer}{}\doxysection{v8\+::platform\+::tracing\+::Trace\+Buffer\+Ring\+Buffer Class Reference}
\label{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer}\index{v8::platform::tracing::TraceBufferRingBuffer@{v8::platform::tracing::TraceBufferRingBuffer}}


{\ttfamily \#include $<$trace-\/buffer.\+h$>$}



Inheritance diagram for v8\+::platform\+::tracing\+::Trace\+Buffer\+Ring\+Buffer\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=253pt]{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for v8\+::platform\+::tracing\+::Trace\+Buffer\+Ring\+Buffer\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a1e5c4dbe0670124e68dd8625a6e823d2}{Trace\+Buffer\+Ring\+Buffer}} (size\+\_\+t max\+\_\+chunks, \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceWriter}{Trace\+Writer}} $\ast$trace\+\_\+writer)
\item 
\mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_adeb3f602a78b4b27ce584d6483ad39f9}{$\sim$\+Trace\+Buffer\+Ring\+Buffer}} () override=default
\item 
\mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceObject}{Trace\+Object}} $\ast$ \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_abf965dcde2df5e3c0159f411ced0a03d}{Add\+Trace\+Event}} (uint64\+\_\+t $\ast$handle) override
\item 
\mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceObject}{Trace\+Object}} $\ast$ \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a4c87a36fa8366eaeacaaf73eaf691d9b}{Get\+Event\+By\+Handle}} (uint64\+\_\+t handle) override
\item 
bool \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a21202d84d990c72b3e4ad212b88ce08c}{Flush}} () override
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
uint64\+\_\+t \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_acd3d0253c11e6419d8a218df5598b6eb}{Make\+Handle}} (size\+\_\+t chunk\+\_\+index, uint32\+\_\+t chunk\+\_\+seq, size\+\_\+t event\+\_\+index) const
\item 
void \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_ae11e06c2303c16d7b0b0e9f433564153}{Extract\+Handle}} (uint64\+\_\+t handle, size\+\_\+t $\ast$chunk\+\_\+index, uint32\+\_\+t $\ast$chunk\+\_\+seq, size\+\_\+t $\ast$event\+\_\+index) const
\item 
size\+\_\+t \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a1ddc109340a11f15c92705d9af38a5fb}{Capacity}} () const
\item 
size\+\_\+t \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_ad61dc0100da1a13b5089300634e8f4aa}{Next\+Chunk\+Index}} (size\+\_\+t index) const
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1base_1_1Mutex}{base\+::\+Mutex}} \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a0b8aab808aab2ffca8a27343111bf441}{mutex\+\_\+}}
\item 
size\+\_\+t \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a8c20474b5bab33cbb9d24ae50940dcaa}{max\+\_\+chunks\+\_\+}}
\item 
std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceWriter}{Trace\+Writer}} $>$ \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_ac34ca75fed70e4e9d2e70871d9ccc047}{trace\+\_\+writer\+\_\+}}
\item 
std\+::vector$<$ std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferChunk}{Trace\+Buffer\+Chunk}} $>$ $>$ \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_ac6e93510139ac026c58db067d4a373db}{chunks\+\_\+}}
\item 
size\+\_\+t \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a633c623da9488c0ee327b216a8c8c2e2}{chunk\+\_\+index\+\_\+}}
\item 
bool \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a8f41c0122183d1e3d17575947b9ac94b}{is\+\_\+empty\+\_\+}} = \mbox{\hyperlink{flag-definitions_8h_ae56df915684f69fc6f5c0f3bd3b3c80c}{true}}
\item 
uint32\+\_\+t \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_ab082abdcd4111e78517a5bdf05abcf29}{current\+\_\+chunk\+\_\+seq\+\_\+}} = 1
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


Definition at line 18 of file trace-\/buffer.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a1e5c4dbe0670124e68dd8625a6e823d2}\label{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a1e5c4dbe0670124e68dd8625a6e823d2}} 
\index{v8::platform::tracing::TraceBufferRingBuffer@{v8::platform::tracing::TraceBufferRingBuffer}!TraceBufferRingBuffer@{TraceBufferRingBuffer}}
\index{TraceBufferRingBuffer@{TraceBufferRingBuffer}!v8::platform::tracing::TraceBufferRingBuffer@{v8::platform::tracing::TraceBufferRingBuffer}}
\doxysubsubsection{\texorpdfstring{TraceBufferRingBuffer()}{TraceBufferRingBuffer()}}
{\footnotesize\ttfamily v8\+::platform\+::tracing\+::\+Trace\+Buffer\+Ring\+Buffer\+::\+Trace\+Buffer\+Ring\+Buffer (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{max\+\_\+chunks,  }\item[{\mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceWriter}{Trace\+Writer}} $\ast$}]{trace\+\_\+writer }\end{DoxyParamCaption})}



Definition at line 11 of file trace-\/buffer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{13     : \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a8c20474b5bab33cbb9d24ae50940dcaa}{max\_chunks\_}}(max\_chunks) \{}
\DoxyCodeLine{14   \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_ac34ca75fed70e4e9d2e70871d9ccc047}{trace\_writer\_}}.reset(trace\_writer);}
\DoxyCodeLine{15   \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_ac6e93510139ac026c58db067d4a373db}{chunks\_}}.resize(max\_chunks);}
\DoxyCodeLine{16 \}}

\end{DoxyCode}


References chunks\+\_\+, and trace\+\_\+writer\+\_\+.

\mbox{\Hypertarget{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_adeb3f602a78b4b27ce584d6483ad39f9}\label{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_adeb3f602a78b4b27ce584d6483ad39f9}} 
\index{v8::platform::tracing::TraceBufferRingBuffer@{v8::platform::tracing::TraceBufferRingBuffer}!````~TraceBufferRingBuffer@{$\sim$TraceBufferRingBuffer}}
\index{````~TraceBufferRingBuffer@{$\sim$TraceBufferRingBuffer}!v8::platform::tracing::TraceBufferRingBuffer@{v8::platform::tracing::TraceBufferRingBuffer}}
\doxysubsubsection{\texorpdfstring{$\sim$TraceBufferRingBuffer()}{~TraceBufferRingBuffer()}}
{\footnotesize\ttfamily v8\+::platform\+::tracing\+::\+Trace\+Buffer\+Ring\+Buffer\+::$\sim$\+Trace\+Buffer\+Ring\+Buffer (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [default]}}



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_abf965dcde2df5e3c0159f411ced0a03d}\label{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_abf965dcde2df5e3c0159f411ced0a03d}} 
\index{v8::platform::tracing::TraceBufferRingBuffer@{v8::platform::tracing::TraceBufferRingBuffer}!AddTraceEvent@{AddTraceEvent}}
\index{AddTraceEvent@{AddTraceEvent}!v8::platform::tracing::TraceBufferRingBuffer@{v8::platform::tracing::TraceBufferRingBuffer}}
\doxysubsubsection{\texorpdfstring{AddTraceEvent()}{AddTraceEvent()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceObject}{Trace\+Object}} $\ast$ v8\+::platform\+::tracing\+::\+Trace\+Buffer\+Ring\+Buffer\+::\+Add\+Trace\+Event (\begin{DoxyParamCaption}\item[{uint64\+\_\+t $\ast$}]{handle }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBuffer_a0680714161394e7b93cf2ac32f3d6b72}{v8\+::platform\+::tracing\+::\+Trace\+Buffer}}.



Definition at line 18 of file trace-\/buffer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{18                                                                   \{}
\DoxyCodeLine{19   \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{base::MutexGuard}} guard(\&\mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a0b8aab808aab2ffca8a27343111bf441}{mutex\_}});}
\DoxyCodeLine{20   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a8f41c0122183d1e3d17575947b9ac94b}{is\_empty\_}} || \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_ac6e93510139ac026c58db067d4a373db}{chunks\_}}[\mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a633c623da9488c0ee327b216a8c8c2e2}{chunk\_index\_}}]-\/>IsFull()) \{}
\DoxyCodeLine{21     \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a633c623da9488c0ee327b216a8c8c2e2}{chunk\_index\_}} = \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a8f41c0122183d1e3d17575947b9ac94b}{is\_empty\_}} ? 0 : \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_ad61dc0100da1a13b5089300634e8f4aa}{NextChunkIndex}}(\mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a633c623da9488c0ee327b216a8c8c2e2}{chunk\_index\_}});}
\DoxyCodeLine{22     \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a8f41c0122183d1e3d17575947b9ac94b}{is\_empty\_}} = \textcolor{keyword}{false};}
\DoxyCodeLine{23     \textcolor{keyword}{auto}\& chunk = \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_ac6e93510139ac026c58db067d4a373db}{chunks\_}}[\mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a633c623da9488c0ee327b216a8c8c2e2}{chunk\_index\_}}];}
\DoxyCodeLine{24     \textcolor{keywordflow}{if} (chunk) \{}
\DoxyCodeLine{25       chunk-\/>Reset(\mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_ab082abdcd4111e78517a5bdf05abcf29}{current\_chunk\_seq\_}}++);}
\DoxyCodeLine{26     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{27       chunk.reset(\textcolor{keyword}{new} TraceBufferChunk(\mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_ab082abdcd4111e78517a5bdf05abcf29}{current\_chunk\_seq\_}}++));}
\DoxyCodeLine{28     \}}
\DoxyCodeLine{29   \}}
\DoxyCodeLine{30   \textcolor{keyword}{auto}\& chunk = \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_ac6e93510139ac026c58db067d4a373db}{chunks\_}}[\mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a633c623da9488c0ee327b216a8c8c2e2}{chunk\_index\_}}];}
\DoxyCodeLine{31   \textcolor{keywordtype}{size\_t} event\_index;}
\DoxyCodeLine{32   TraceObject* trace\_object = chunk-\/>AddTraceEvent(\&event\_index);}
\DoxyCodeLine{33   *\mbox{\hyperlink{namespacev8_1_1internal_a8c89f00da07e125218128b9fbf0a321c}{handle}} = \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_acd3d0253c11e6419d8a218df5598b6eb}{MakeHandle}}(\mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a633c623da9488c0ee327b216a8c8c2e2}{chunk\_index\_}}, chunk-\/>seq(), event\_index);}
\DoxyCodeLine{34   \textcolor{keywordflow}{return} trace\_object;}
\DoxyCodeLine{35 \}}

\end{DoxyCode}


References chunk\+\_\+index\+\_\+, chunks\+\_\+, current\+\_\+chunk\+\_\+seq\+\_\+, v8\+::internal\+::handle(), is\+\_\+empty\+\_\+, Make\+Handle(), mutex\+\_\+, and Next\+Chunk\+Index().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_abf965dcde2df5e3c0159f411ced0a03d_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a1ddc109340a11f15c92705d9af38a5fb}\label{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a1ddc109340a11f15c92705d9af38a5fb}} 
\index{v8::platform::tracing::TraceBufferRingBuffer@{v8::platform::tracing::TraceBufferRingBuffer}!Capacity@{Capacity}}
\index{Capacity@{Capacity}!v8::platform::tracing::TraceBufferRingBuffer@{v8::platform::tracing::TraceBufferRingBuffer}}
\doxysubsubsection{\texorpdfstring{Capacity()}{Capacity()}}
{\footnotesize\ttfamily size\+\_\+t v8\+::platform\+::tracing\+::\+Trace\+Buffer\+Ring\+Buffer\+::\+Capacity (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 33 of file trace-\/buffer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{33 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a8c20474b5bab33cbb9d24ae50940dcaa}{max\_chunks\_}} * \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferChunk_a7a71bfc9c633266ce12a28cb009a2b1f}{TraceBufferChunk::kChunkSize}}; \}}

\end{DoxyCode}


References v8\+::platform\+::tracing\+::\+Trace\+Buffer\+Chunk\+::k\+Chunk\+Size, and max\+\_\+chunks\+\_\+.



Referenced by Extract\+Handle(), and Make\+Handle().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a1ddc109340a11f15c92705d9af38a5fb_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_ae11e06c2303c16d7b0b0e9f433564153}\label{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_ae11e06c2303c16d7b0b0e9f433564153}} 
\index{v8::platform::tracing::TraceBufferRingBuffer@{v8::platform::tracing::TraceBufferRingBuffer}!ExtractHandle@{ExtractHandle}}
\index{ExtractHandle@{ExtractHandle}!v8::platform::tracing::TraceBufferRingBuffer@{v8::platform::tracing::TraceBufferRingBuffer}}
\doxysubsubsection{\texorpdfstring{ExtractHandle()}{ExtractHandle()}}
{\footnotesize\ttfamily void v8\+::platform\+::tracing\+::\+Trace\+Buffer\+Ring\+Buffer\+::\+Extract\+Handle (\begin{DoxyParamCaption}\item[{uint64\+\_\+t}]{handle,  }\item[{size\+\_\+t $\ast$}]{chunk\+\_\+index,  }\item[{uint32\+\_\+t $\ast$}]{chunk\+\_\+seq,  }\item[{size\+\_\+t $\ast$}]{event\+\_\+index }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 74 of file trace-\/buffer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{76                                                                      \{}
\DoxyCodeLine{77   *chunk\_seq = \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(\mbox{\hyperlink{namespacev8_1_1internal_a8c89f00da07e125218128b9fbf0a321c}{handle}} / \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a1ddc109340a11f15c92705d9af38a5fb}{Capacity}}());}
\DoxyCodeLine{78   \textcolor{keywordtype}{size\_t} indices = \mbox{\hyperlink{namespacev8_1_1internal_a8c89f00da07e125218128b9fbf0a321c}{handle}} \% \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a1ddc109340a11f15c92705d9af38a5fb}{Capacity}}();}
\DoxyCodeLine{79   *chunk\_index = indices / \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferChunk_a7a71bfc9c633266ce12a28cb009a2b1f}{TraceBufferChunk::kChunkSize}};}
\DoxyCodeLine{80   *event\_index = indices \% \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferChunk_a7a71bfc9c633266ce12a28cb009a2b1f}{TraceBufferChunk::kChunkSize}};}
\DoxyCodeLine{81 \}}

\end{DoxyCode}


References Capacity(), v8\+::internal\+::handle(), and v8\+::platform\+::tracing\+::\+Trace\+Buffer\+Chunk\+::k\+Chunk\+Size.



Referenced by Get\+Event\+By\+Handle().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_ae11e06c2303c16d7b0b0e9f433564153_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_ae11e06c2303c16d7b0b0e9f433564153_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a21202d84d990c72b3e4ad212b88ce08c}\label{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a21202d84d990c72b3e4ad212b88ce08c}} 
\index{v8::platform::tracing::TraceBufferRingBuffer@{v8::platform::tracing::TraceBufferRingBuffer}!Flush@{Flush}}
\index{Flush@{Flush}!v8::platform::tracing::TraceBufferRingBuffer@{v8::platform::tracing::TraceBufferRingBuffer}}
\doxysubsubsection{\texorpdfstring{Flush()}{Flush()}}
{\footnotesize\ttfamily bool v8\+::platform\+::tracing\+::\+Trace\+Buffer\+Ring\+Buffer\+::\+Flush (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBuffer_ad16dbfbda98253565b3af122e60aa636}{v8\+::platform\+::tracing\+::\+Trace\+Buffer}}.



Definition at line 48 of file trace-\/buffer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{48                                   \{}
\DoxyCodeLine{49   \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{base::MutexGuard}} guard(\&\mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a0b8aab808aab2ffca8a27343111bf441}{mutex\_}});}
\DoxyCodeLine{50   \textcolor{comment}{// This flushes all the traces stored in the buffer.}}
\DoxyCodeLine{51   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a8f41c0122183d1e3d17575947b9ac94b}{is\_empty\_}}) \{}
\DoxyCodeLine{52     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_ad61dc0100da1a13b5089300634e8f4aa}{NextChunkIndex}}(\mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a633c623da9488c0ee327b216a8c8c2e2}{chunk\_index\_}});; \mbox{\hyperlink{namespacev8_1_1internal}{i}} = \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_ad61dc0100da1a13b5089300634e8f4aa}{NextChunkIndex}}(\mbox{\hyperlink{namespacev8_1_1internal}{i}})) \{}
\DoxyCodeLine{53       \textcolor{keywordflow}{if} (\textcolor{keyword}{auto}\& chunk = \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_ac6e93510139ac026c58db067d4a373db}{chunks\_}}[\mbox{\hyperlink{namespacev8_1_1internal}{i}}]) \{}
\DoxyCodeLine{54         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} j = 0; j < chunk-\/>size(); ++j) \{}
\DoxyCodeLine{55           \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_ac34ca75fed70e4e9d2e70871d9ccc047}{trace\_writer\_}}-\/>AppendTraceEvent(chunk-\/>GetEventAt(j));}
\DoxyCodeLine{56         \}}
\DoxyCodeLine{57       \}}
\DoxyCodeLine{58       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal}{i}} == \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a633c623da9488c0ee327b216a8c8c2e2}{chunk\_index\_}}) \textcolor{keywordflow}{break};}
\DoxyCodeLine{59     \}}
\DoxyCodeLine{60   \}}
\DoxyCodeLine{61   \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_ac34ca75fed70e4e9d2e70871d9ccc047}{trace\_writer\_}}-\/>Flush();}
\DoxyCodeLine{62   \textcolor{comment}{// This resets the trace buffer.}}
\DoxyCodeLine{63   \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a8f41c0122183d1e3d17575947b9ac94b}{is\_empty\_}} = \textcolor{keyword}{true};}
\DoxyCodeLine{64   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{65 \}}

\end{DoxyCode}


References chunk\+\_\+index\+\_\+, chunks\+\_\+, is\+\_\+empty\+\_\+, mutex\+\_\+, Next\+Chunk\+Index(), and trace\+\_\+writer\+\_\+.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a21202d84d990c72b3e4ad212b88ce08c_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a4c87a36fa8366eaeacaaf73eaf691d9b}\label{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a4c87a36fa8366eaeacaaf73eaf691d9b}} 
\index{v8::platform::tracing::TraceBufferRingBuffer@{v8::platform::tracing::TraceBufferRingBuffer}!GetEventByHandle@{GetEventByHandle}}
\index{GetEventByHandle@{GetEventByHandle}!v8::platform::tracing::TraceBufferRingBuffer@{v8::platform::tracing::TraceBufferRingBuffer}}
\doxysubsubsection{\texorpdfstring{GetEventByHandle()}{GetEventByHandle()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceObject}{Trace\+Object}} $\ast$ v8\+::platform\+::tracing\+::\+Trace\+Buffer\+Ring\+Buffer\+::\+Get\+Event\+By\+Handle (\begin{DoxyParamCaption}\item[{uint64\+\_\+t}]{handle }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBuffer_a9749c2155f2c483625d0242d9a7eb0ec}{v8\+::platform\+::tracing\+::\+Trace\+Buffer}}.



Definition at line 37 of file trace-\/buffer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{37                                                                     \{}
\DoxyCodeLine{38   \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{base::MutexGuard}} guard(\&\mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a0b8aab808aab2ffca8a27343111bf441}{mutex\_}});}
\DoxyCodeLine{39   \textcolor{keywordtype}{size\_t} chunk\_index, event\_index;}
\DoxyCodeLine{40   uint32\_t chunk\_seq;}
\DoxyCodeLine{41   \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_ae11e06c2303c16d7b0b0e9f433564153}{ExtractHandle}}(\mbox{\hyperlink{namespacev8_1_1internal_a8c89f00da07e125218128b9fbf0a321c}{handle}}, \&chunk\_index, \&chunk\_seq, \&event\_index);}
\DoxyCodeLine{42   \textcolor{keywordflow}{if} (chunk\_index >= \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_ac6e93510139ac026c58db067d4a373db}{chunks\_}}.size()) \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{43   \textcolor{keyword}{auto}\& chunk = \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_ac6e93510139ac026c58db067d4a373db}{chunks\_}}[chunk\_index];}
\DoxyCodeLine{44   \textcolor{keywordflow}{if} (!chunk || chunk-\/>seq() != chunk\_seq) \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{45   \textcolor{keywordflow}{return} chunk-\/>GetEventAt(event\_index);}
\DoxyCodeLine{46 \}}

\end{DoxyCode}


References chunks\+\_\+, Extract\+Handle(), v8\+::internal\+::handle(), and mutex\+\_\+.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a4c87a36fa8366eaeacaaf73eaf691d9b_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_acd3d0253c11e6419d8a218df5598b6eb}\label{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_acd3d0253c11e6419d8a218df5598b6eb}} 
\index{v8::platform::tracing::TraceBufferRingBuffer@{v8::platform::tracing::TraceBufferRingBuffer}!MakeHandle@{MakeHandle}}
\index{MakeHandle@{MakeHandle}!v8::platform::tracing::TraceBufferRingBuffer@{v8::platform::tracing::TraceBufferRingBuffer}}
\doxysubsubsection{\texorpdfstring{MakeHandle()}{MakeHandle()}}
{\footnotesize\ttfamily uint64\+\_\+t v8\+::platform\+::tracing\+::\+Trace\+Buffer\+Ring\+Buffer\+::\+Make\+Handle (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{chunk\+\_\+index,  }\item[{uint32\+\_\+t}]{chunk\+\_\+seq,  }\item[{size\+\_\+t}]{event\+\_\+index }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 67 of file trace-\/buffer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{69                                                                      \{}
\DoxyCodeLine{70   \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}uint64\_t\textcolor{keyword}{>}(chunk\_seq) * \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a1ddc109340a11f15c92705d9af38a5fb}{Capacity}}() +}
\DoxyCodeLine{71          chunk\_index * \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferChunk_a7a71bfc9c633266ce12a28cb009a2b1f}{TraceBufferChunk::kChunkSize}} + event\_index;}
\DoxyCodeLine{72 \}}

\end{DoxyCode}


References Capacity(), and v8\+::platform\+::tracing\+::\+Trace\+Buffer\+Chunk\+::k\+Chunk\+Size.



Referenced by Add\+Trace\+Event().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_acd3d0253c11e6419d8a218df5598b6eb_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_acd3d0253c11e6419d8a218df5598b6eb_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_ad61dc0100da1a13b5089300634e8f4aa}\label{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_ad61dc0100da1a13b5089300634e8f4aa}} 
\index{v8::platform::tracing::TraceBufferRingBuffer@{v8::platform::tracing::TraceBufferRingBuffer}!NextChunkIndex@{NextChunkIndex}}
\index{NextChunkIndex@{NextChunkIndex}!v8::platform::tracing::TraceBufferRingBuffer@{v8::platform::tracing::TraceBufferRingBuffer}}
\doxysubsubsection{\texorpdfstring{NextChunkIndex()}{NextChunkIndex()}}
{\footnotesize\ttfamily size\+\_\+t v8\+::platform\+::tracing\+::\+Trace\+Buffer\+Ring\+Buffer\+::\+Next\+Chunk\+Index (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{index }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 83 of file trace-\/buffer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{83                                                                \{}
\DoxyCodeLine{84   \textcolor{keywordflow}{if} (++\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}} >= \mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a8c20474b5bab33cbb9d24ae50940dcaa}{max\_chunks\_}}) \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}} = 0;}
\DoxyCodeLine{85   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}};}
\DoxyCodeLine{86 \}}

\end{DoxyCode}


References v8\+::internal\+::index, and max\+\_\+chunks\+\_\+.



Referenced by Add\+Trace\+Event(), and Flush().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_ad61dc0100da1a13b5089300634e8f4aa_icgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a633c623da9488c0ee327b216a8c8c2e2}\label{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a633c623da9488c0ee327b216a8c8c2e2}} 
\index{v8::platform::tracing::TraceBufferRingBuffer@{v8::platform::tracing::TraceBufferRingBuffer}!chunk\_index\_@{chunk\_index\_}}
\index{chunk\_index\_@{chunk\_index\_}!v8::platform::tracing::TraceBufferRingBuffer@{v8::platform::tracing::TraceBufferRingBuffer}}
\doxysubsubsection{\texorpdfstring{chunk\_index\_}{chunk\_index\_}}
{\footnotesize\ttfamily size\+\_\+t v8\+::platform\+::tracing\+::\+Trace\+Buffer\+Ring\+Buffer\+::chunk\+\_\+index\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 40 of file trace-\/buffer.\+h.



Referenced by Add\+Trace\+Event(), and Flush().

\mbox{\Hypertarget{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_ac6e93510139ac026c58db067d4a373db}\label{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_ac6e93510139ac026c58db067d4a373db}} 
\index{v8::platform::tracing::TraceBufferRingBuffer@{v8::platform::tracing::TraceBufferRingBuffer}!chunks\_@{chunks\_}}
\index{chunks\_@{chunks\_}!v8::platform::tracing::TraceBufferRingBuffer@{v8::platform::tracing::TraceBufferRingBuffer}}
\doxysubsubsection{\texorpdfstring{chunks\_}{chunks\_}}
{\footnotesize\ttfamily std\+::vector$<$std\+::unique\+\_\+ptr$<$\mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceBufferChunk}{Trace\+Buffer\+Chunk}}$>$ $>$ v8\+::platform\+::tracing\+::\+Trace\+Buffer\+Ring\+Buffer\+::chunks\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 39 of file trace-\/buffer.\+h.



Referenced by Add\+Trace\+Event(), Flush(), Get\+Event\+By\+Handle(), and Trace\+Buffer\+Ring\+Buffer().

\mbox{\Hypertarget{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_ab082abdcd4111e78517a5bdf05abcf29}\label{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_ab082abdcd4111e78517a5bdf05abcf29}} 
\index{v8::platform::tracing::TraceBufferRingBuffer@{v8::platform::tracing::TraceBufferRingBuffer}!current\_chunk\_seq\_@{current\_chunk\_seq\_}}
\index{current\_chunk\_seq\_@{current\_chunk\_seq\_}!v8::platform::tracing::TraceBufferRingBuffer@{v8::platform::tracing::TraceBufferRingBuffer}}
\doxysubsubsection{\texorpdfstring{current\_chunk\_seq\_}{current\_chunk\_seq\_}}
{\footnotesize\ttfamily uint32\+\_\+t v8\+::platform\+::tracing\+::\+Trace\+Buffer\+Ring\+Buffer\+::current\+\_\+chunk\+\_\+seq\+\_\+ = 1\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 42 of file trace-\/buffer.\+h.



Referenced by Add\+Trace\+Event().

\mbox{\Hypertarget{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a8f41c0122183d1e3d17575947b9ac94b}\label{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a8f41c0122183d1e3d17575947b9ac94b}} 
\index{v8::platform::tracing::TraceBufferRingBuffer@{v8::platform::tracing::TraceBufferRingBuffer}!is\_empty\_@{is\_empty\_}}
\index{is\_empty\_@{is\_empty\_}!v8::platform::tracing::TraceBufferRingBuffer@{v8::platform::tracing::TraceBufferRingBuffer}}
\doxysubsubsection{\texorpdfstring{is\_empty\_}{is\_empty\_}}
{\footnotesize\ttfamily bool v8\+::platform\+::tracing\+::\+Trace\+Buffer\+Ring\+Buffer\+::is\+\_\+empty\+\_\+ = \mbox{\hyperlink{flag-definitions_8h_ae56df915684f69fc6f5c0f3bd3b3c80c}{true}}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 41 of file trace-\/buffer.\+h.



Referenced by Add\+Trace\+Event(), and Flush().

\mbox{\Hypertarget{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a8c20474b5bab33cbb9d24ae50940dcaa}\label{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a8c20474b5bab33cbb9d24ae50940dcaa}} 
\index{v8::platform::tracing::TraceBufferRingBuffer@{v8::platform::tracing::TraceBufferRingBuffer}!max\_chunks\_@{max\_chunks\_}}
\index{max\_chunks\_@{max\_chunks\_}!v8::platform::tracing::TraceBufferRingBuffer@{v8::platform::tracing::TraceBufferRingBuffer}}
\doxysubsubsection{\texorpdfstring{max\_chunks\_}{max\_chunks\_}}
{\footnotesize\ttfamily size\+\_\+t v8\+::platform\+::tracing\+::\+Trace\+Buffer\+Ring\+Buffer\+::max\+\_\+chunks\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 37 of file trace-\/buffer.\+h.



Referenced by Capacity(), and Next\+Chunk\+Index().

\mbox{\Hypertarget{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a0b8aab808aab2ffca8a27343111bf441}\label{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_a0b8aab808aab2ffca8a27343111bf441}} 
\index{v8::platform::tracing::TraceBufferRingBuffer@{v8::platform::tracing::TraceBufferRingBuffer}!mutex\_@{mutex\_}}
\index{mutex\_@{mutex\_}!v8::platform::tracing::TraceBufferRingBuffer@{v8::platform::tracing::TraceBufferRingBuffer}}
\doxysubsubsection{\texorpdfstring{mutex\_}{mutex\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1base_1_1Mutex}{base\+::\+Mutex}} v8\+::platform\+::tracing\+::\+Trace\+Buffer\+Ring\+Buffer\+::mutex\+\_\+\hspace{0.3cm}{\ttfamily [mutable]}, {\ttfamily [private]}}



Definition at line 36 of file trace-\/buffer.\+h.



Referenced by Add\+Trace\+Event(), Flush(), and Get\+Event\+By\+Handle().

\mbox{\Hypertarget{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_ac34ca75fed70e4e9d2e70871d9ccc047}\label{classv8_1_1platform_1_1tracing_1_1TraceBufferRingBuffer_ac34ca75fed70e4e9d2e70871d9ccc047}} 
\index{v8::platform::tracing::TraceBufferRingBuffer@{v8::platform::tracing::TraceBufferRingBuffer}!trace\_writer\_@{trace\_writer\_}}
\index{trace\_writer\_@{trace\_writer\_}!v8::platform::tracing::TraceBufferRingBuffer@{v8::platform::tracing::TraceBufferRingBuffer}}
\doxysubsubsection{\texorpdfstring{trace\_writer\_}{trace\_writer\_}}
{\footnotesize\ttfamily std\+::unique\+\_\+ptr$<$\mbox{\hyperlink{classv8_1_1platform_1_1tracing_1_1TraceWriter}{Trace\+Writer}}$>$ v8\+::platform\+::tracing\+::\+Trace\+Buffer\+Ring\+Buffer\+::trace\+\_\+writer\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 38 of file trace-\/buffer.\+h.



Referenced by Flush(), and Trace\+Buffer\+Ring\+Buffer().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/libplatform/tracing/\mbox{\hyperlink{trace-buffer_8h}{trace-\/buffer.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/libplatform/tracing/\mbox{\hyperlink{trace-buffer_8cc}{trace-\/buffer.\+cc}}\end{DoxyCompactItemize}
