\hypertarget{asm-js_8cc}{}\doxysection{/mnt/\+V8\+Source\+Code/src/asmjs/asm-\/js.cc File Reference}
\label{asm-js_8cc}\index{/mnt/V8SourceCode/src/asmjs/asm-\/js.cc@{/mnt/V8SourceCode/src/asmjs/asm-\/js.cc}}
{\ttfamily \#include \char`\"{}src/asmjs/asm-\/js.\+h\char`\"{}}\newline
{\ttfamily \#include $<$optional$>$}\newline
{\ttfamily \#include \char`\"{}src/asmjs/asm-\/names.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}src/asmjs/asm-\/parser.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}src/ast/ast.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}src/base/platform/elapsed-\/timer.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}src/base/vector.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}src/codegen/compiler.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}src/codegen/unoptimized-\/compilation-\/info.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}src/common/assert-\/scope.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}src/common/message-\/template.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}src/execution/execution.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}src/execution/isolate.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}src/handles/handles.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}src/heap/factory.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}src/logging/counters.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}src/objects/heap-\/number-\/inl.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}src/objects/objects-\/inl.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}src/parsing/parse-\/info.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}src/parsing/scanner-\/character-\/streams.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}src/parsing/scanner.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}src/wasm/wasm-\/engine.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}src/wasm/wasm-\/js.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}src/wasm/wasm-\/limits.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}src/wasm/wasm-\/module-\/builder.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}src/wasm/wasm-\/objects-\/inl.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}src/wasm/wasm-\/result.\+h\char`\"{}}\newline
Include dependency graph for asm-\/js.cc\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{asm-js_8cc__incl}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classv8_1_1internal_1_1AsmJsCompilationJob}{v8\+::internal\+::\+Asm\+Js\+Compilation\+Job}}
\end{DoxyCompactItemize}
\doxysubsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
 \mbox{\hyperlink{namespacev8}{v8}}
\begin{DoxyCompactList}\small\item\em This file provides additional API on top of the default one for making API calls, which come from embedder C++ functions. \end{DoxyCompactList}\item 
 \mbox{\hyperlink{namespacev8_1_1internal}{v8\+::internal}}
\item 
 \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02asm-js_8cc_03}{v8\+::internal\+::anonymous\+\_\+namespace\{asm-\/js.\+cc\}}}
\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{asm-js_8cc_aca608c9d6d52ae50080e6096038a7ed1}{STDLIB\+\_\+\+MATH\+\_\+\+FUNC}}(fname,  FName,  ignore1,  ignore2)
\item 
\#define \mbox{\hyperlink{asm-js_8cc_a1414476f75fc702310833afa3c421cd1}{STDLIB\+\_\+\+MATH\+\_\+\+CONST}}(cname,  const\+\_\+value)
\item 
\#define \mbox{\hyperlink{asm-js_8cc_aeeb061d14552ec124e47d5cd8303f60f}{STDLIB\+\_\+\+ARRAY\+\_\+\+TYPE}}(fname,  FName)
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
Direct\+Handle$<$ Object $>$ \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02asm-js_8cc_03_a8d3e0fca995a5225ee5154de405043e0}{v8\+::internal\+::anonymous\+\_\+namespace\{asm-\/js.\+cc\}\+::\+Stdlib\+Math\+Member}} (Isolate $\ast$isolate, Direct\+Handle$<$ JSReceiver $>$ stdlib, Direct\+Handle$<$ Name $>$ \mbox{\hyperlink{flag-definitions_8h_a3ced3697c19e78b3fb4994a89f46945e}{name}})
\item 
bool \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02asm-js_8cc_03_a6e622760d1af5b8398fc6c256f332aa1}{v8\+::internal\+::anonymous\+\_\+namespace\{asm-\/js.\+cc\}\+::\+Are\+Stdlib\+Members\+Valid}} (Isolate $\ast$isolate, Direct\+Handle$<$ JSReceiver $>$ stdlib, wasm\+::\+Asm\+Js\+Parser\+::\+Stdlib\+Set members, bool $\ast$is\+\_\+typed\+\_\+array)
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02asm-js_8cc_03_abef3aac452841aad65a38228ca7a0bff}{v8\+::internal\+::anonymous\+\_\+namespace\{asm-\/js.\+cc\}\+::\+Report}} (Handle$<$ Script $>$ script, \mbox{\hyperlink{classint}{int}} position, base\+::\+Vector$<$ const char $>$ text, Message\+Template message\+\_\+template, \mbox{\hyperlink{classv8_1_1Isolate_acfc7c4d5c93913201249045e2655d3dd}{v8\+::\+Isolate\+::\+Message\+Error\+Level}} level)
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02asm-js_8cc_03_a18d161e753f1641356e4b2b98c7a0403}{v8\+::internal\+::anonymous\+\_\+namespace\{asm-\/js.\+cc\}\+::\+Report\+Compilation\+Success}} (Handle$<$ Script $>$ script, \mbox{\hyperlink{classint}{int}} position, double compile\+\_\+time, size\+\_\+t module\+\_\+size)
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02asm-js_8cc_03_ae19723dd5ce17b420d7a1f2128671784}{v8\+::internal\+::anonymous\+\_\+namespace\{asm-\/js.\+cc\}\+::\+Report\+Compilation\+Failure}} (Parse\+Info $\ast$parse\+\_\+info, \mbox{\hyperlink{classint}{int}} position, const char $\ast$reason)
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02asm-js_8cc_03_a70cd330e88b6d26b3d161d4136449d34}{v8\+::internal\+::anonymous\+\_\+namespace\{asm-\/js.\+cc\}\+::\+Report\+Instantiation\+Success}} (Handle$<$ Script $>$ script, \mbox{\hyperlink{classint}{int}} position, double instantiate\+\_\+time)
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02asm-js_8cc_03_a1d47bf68ad7603b5aff5ab70a4e6f24f}{v8\+::internal\+::anonymous\+\_\+namespace\{asm-\/js.\+cc\}\+::\+Report\+Instantiation\+Failure}} (Handle$<$ Script $>$ script, \mbox{\hyperlink{classint}{int}} position, const char $\ast$reason)
\item 
bool \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02asm-js_8cc_03_a61fffacde0bf1e578bd3cfb7c4ad0711}{v8\+::internal\+::anonymous\+\_\+namespace\{asm-\/js.\+cc\}\+::\+Is\+Valid\+Asmjs\+Memory\+Size}} (size\+\_\+t \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}})
\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{asm-js_8cc_aeeb061d14552ec124e47d5cd8303f60f}\label{asm-js_8cc_aeeb061d14552ec124e47d5cd8303f60f}} 
\index{asm-\/js.cc@{asm-\/js.cc}!STDLIB\_ARRAY\_TYPE@{STDLIB\_ARRAY\_TYPE}}
\index{STDLIB\_ARRAY\_TYPE@{STDLIB\_ARRAY\_TYPE}!asm-\/js.cc@{asm-\/js.cc}}
\doxysubsubsection{\texorpdfstring{STDLIB\_ARRAY\_TYPE}{STDLIB\_ARRAY\_TYPE}}
{\footnotesize\ttfamily \#define STDLIB\+\_\+\+ARRAY\+\_\+\+TYPE(\begin{DoxyParamCaption}\item[{}]{fname,  }\item[{}]{FName }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{  \textcolor{keywordflow}{if} (members.contains(wasm::AsmJsParser::StandardMember::k\#\#FName)) \{ \(\backslash\)}
\DoxyCodeLine{    members.Remove(wasm::AsmJsParser::StandardMember::k\#\#FName);       \(\backslash\)}
\DoxyCodeLine{    *is\_typed\_array = \textcolor{keyword}{true};                                            \(\backslash\)}
\DoxyCodeLine{    DirectHandle<Name> \mbox{\hyperlink{flag-definitions_8h_a3ced3697c19e78b3fb4994a89f46945e}{name}}(isolate-\/>factory()-\/>InternalizeString(     \(\backslash\)}
\DoxyCodeLine{        \mbox{\hyperlink{namespacev8_1_1base_a00f1f354f310e47ef4694667601d62fb}{base::StaticCharVector}}(\#FName)));                              \(\backslash\)}
\DoxyCodeLine{    DirectHandle<Object> \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} =                                       \(\backslash\)}
\DoxyCodeLine{        JSReceiver::GetDataProperty(isolate, stdlib, \mbox{\hyperlink{flag-definitions_8h_a3ced3697c19e78b3fb4994a89f46945e}{name}});            \(\backslash\)}
\DoxyCodeLine{    if (!IsJSFunction(*\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}})) \textcolor{keywordflow}{return} \textcolor{keyword}{false};                           \(\backslash\)}
\DoxyCodeLine{    DirectHandle<JSFunction> func = Cast<JSFunction>(\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}});           \(\backslash\)}
\DoxyCodeLine{    if (!func.is\_identical\_to(isolate-\/>fname())) \mbox{\hyperlink{namespacev8_1_1internal_ae748f0c2ae0d2f1c64049bd7b30abca4}{return}} \mbox{\hyperlink{flag-definitions_8h_a3a9beadc89284d3f78a7d4945b1b4d8c}{false}};         \(\backslash\)}
\DoxyCodeLine{  \}}

\end{DoxyCode}
\mbox{\Hypertarget{asm-js_8cc_a1414476f75fc702310833afa3c421cd1}\label{asm-js_8cc_a1414476f75fc702310833afa3c421cd1}} 
\index{asm-\/js.cc@{asm-\/js.cc}!STDLIB\_MATH\_CONST@{STDLIB\_MATH\_CONST}}
\index{STDLIB\_MATH\_CONST@{STDLIB\_MATH\_CONST}!asm-\/js.cc@{asm-\/js.cc}}
\doxysubsubsection{\texorpdfstring{STDLIB\_MATH\_CONST}{STDLIB\_MATH\_CONST}}
{\footnotesize\ttfamily \#define STDLIB\+\_\+\+MATH\+\_\+\+CONST(\begin{DoxyParamCaption}\item[{}]{cname,  }\item[{}]{const\+\_\+value }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{  \textcolor{keywordflow}{if} (members.contains(wasm::AsmJsParser::StandardMember::kMath\#\#cname)) \{ \(\backslash\)}
\DoxyCodeLine{    members.Remove(wasm::AsmJsParser::StandardMember::kMath\#\#cname);       \(\backslash\)}
\DoxyCodeLine{    DirectHandle<Name> \mbox{\hyperlink{flag-definitions_8h_a3ced3697c19e78b3fb4994a89f46945e}{name}}(isolate-\/>factory()-\/>InternalizeString(         \(\backslash\)}
\DoxyCodeLine{        \mbox{\hyperlink{namespacev8_1_1base_a00f1f354f310e47ef4694667601d62fb}{base::StaticCharVector}}(\#cname)));                                  \(\backslash\)}
\DoxyCodeLine{    DirectHandle<Object> \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} = \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02asm-js_8cc_03_a8d3e0fca995a5225ee5154de405043e0}{StdlibMathMember}}(isolate, stdlib, \mbox{\hyperlink{flag-definitions_8h_a3ced3697c19e78b3fb4994a89f46945e}{name}});  \(\backslash\)}
\DoxyCodeLine{    if (!\mbox{\hyperlink{namespacev8_1_1internal_a33a2826557a82e4cd9775aadf0f5711e}{IsNumber}}(*\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}) || Object::NumberValue(*\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}) != const\_value)   \(\backslash\)}
\DoxyCodeLine{      return \textcolor{keyword}{false};                                                        \(\backslash\)}
\DoxyCodeLine{  \}}

\end{DoxyCode}
\mbox{\Hypertarget{asm-js_8cc_aca608c9d6d52ae50080e6096038a7ed1}\label{asm-js_8cc_aca608c9d6d52ae50080e6096038a7ed1}} 
\index{asm-\/js.cc@{asm-\/js.cc}!STDLIB\_MATH\_FUNC@{STDLIB\_MATH\_FUNC}}
\index{STDLIB\_MATH\_FUNC@{STDLIB\_MATH\_FUNC}!asm-\/js.cc@{asm-\/js.cc}}
\doxysubsubsection{\texorpdfstring{STDLIB\_MATH\_FUNC}{STDLIB\_MATH\_FUNC}}
{\footnotesize\ttfamily \#define STDLIB\+\_\+\+MATH\+\_\+\+FUNC(\begin{DoxyParamCaption}\item[{}]{fname,  }\item[{}]{FName,  }\item[{}]{ignore1,  }\item[{}]{ignore2 }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{  \textcolor{keywordflow}{if} (members.contains(wasm::AsmJsParser::StandardMember::kMath\#\#FName)) \{ \(\backslash\)}
\DoxyCodeLine{    members.Remove(wasm::AsmJsParser::StandardMember::kMath\#\#FName);       \(\backslash\)}
\DoxyCodeLine{    DirectHandle<Name> \mbox{\hyperlink{flag-definitions_8h_a3ced3697c19e78b3fb4994a89f46945e}{name}}(isolate-\/>factory()-\/>InternalizeString(         \(\backslash\)}
\DoxyCodeLine{        \mbox{\hyperlink{namespacev8_1_1base_a00f1f354f310e47ef4694667601d62fb}{base::StaticCharVector}}(\#fname)));                                  \(\backslash\)}
\DoxyCodeLine{    DirectHandle<Object> \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} = \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02asm-js_8cc_03_a8d3e0fca995a5225ee5154de405043e0}{StdlibMathMember}}(isolate, stdlib, \mbox{\hyperlink{flag-definitions_8h_a3ced3697c19e78b3fb4994a89f46945e}{name}});  \(\backslash\)}
\DoxyCodeLine{    if (!IsJSFunction(*\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}})) \textcolor{keywordflow}{return} \textcolor{keyword}{false};                               \(\backslash\)}
\DoxyCodeLine{    Tagged<SharedFunctionInfo> shared = Cast<JSFunction>(\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}})-\/>shared(); \(\backslash\)}
\DoxyCodeLine{    if (!shared-\/>HasBuiltinId() ||                                         \(\backslash\)}
\DoxyCodeLine{        shared-\/>builtin\_id() != Builtin::kMath\#\#FName) \{                   \(\backslash\)}
\DoxyCodeLine{      return \textcolor{keyword}{false};                                                        \(\backslash\)}
\DoxyCodeLine{    \}                                                                      \(\backslash\)}
\DoxyCodeLine{    DCHECK\_EQ(shared-\/>GetCode(isolate),                                    \(\backslash\)}
\DoxyCodeLine{              isolate-\/>builtins()-\/>code(Builtin::kMath\#\#FName));           \(\backslash\)}
\DoxyCodeLine{  \}}

\end{DoxyCode}
