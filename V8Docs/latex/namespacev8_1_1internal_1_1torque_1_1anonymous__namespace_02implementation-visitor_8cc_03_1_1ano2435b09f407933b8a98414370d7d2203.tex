\hypertarget{namespacev8_1_1internal_1_1torque_1_1anonymous__namespace_02implementation-visitor_8cc_03_1_1ano2435b09f407933b8a98414370d7d2203}{}\doxysection{v8\+::internal\+::torque\+::anonymous\+\_\+namespace\{implementation-\/visitor.cc\}\+::anonymous\+\_\+namespace\{implementation-\/visitor.cc\} Namespace Reference}
\label{namespacev8_1_1internal_1_1torque_1_1anonymous__namespace_02implementation-visitor_8cc_03_1_1ano2435b09f407933b8a98414370d7d2203}\index{v8::internal::torque::anonymous\_namespace\lcurly{}implementation-\/visitor.cc\rcurly{}::anonymous\_namespace\lcurly{}implementation-\/visitor.cc\rcurly{}@{v8::internal::torque::anonymous\_namespace\lcurly{}implementation-\/visitor.cc\rcurly{}::anonymous\_namespace\lcurly{}implementation-\/visitor.cc\rcurly{}}}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
std\+::string \mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1anonymous__namespace_02implementation-visitor_8cc_03_1_1ano2435b09f407933b8a98414370d7d2203_a4db483a802f7a7a11d3d675b99e5143a}{Generate\+Runtime\+Type\+Check}} (const \mbox{\hyperlink{classv8_1_1internal_1_1torque_1_1Type}{Type}} $\ast$type, const std\+::string \&\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}})
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1anonymous__namespace_02implementation-visitor_8cc_03_1_1ano2435b09f407933b8a98414370d7d2203_a61dd0dc41a0dea5c5cb597e1f6b7f431}{Generate\+Bounds\+DCheck}} (std\+::ostream \&os, const std\+::string \&\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}, const \mbox{\hyperlink{classv8_1_1internal_1_1torque_1_1ClassType}{Class\+Type}} $\ast$type, const \mbox{\hyperlink{structv8_1_1internal_1_1torque_1_1Field}{Field}} \&f)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1anonymous__namespace_02implementation-visitor_8cc_03_1_1ano2435b09f407933b8a98414370d7d2203_ac0f213f9f9c7a7b369f06919818602e7}{Can\+Generate\+Field\+Accessors}} (const \mbox{\hyperlink{classv8_1_1internal_1_1torque_1_1Type}{Type}} $\ast$field\+\_\+type)
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1torque_1_1anonymous__namespace_02implementation-visitor_8cc_03_1_1ano2435b09f407933b8a98414370d7d2203_ac0f213f9f9c7a7b369f06919818602e7}\label{namespacev8_1_1internal_1_1torque_1_1anonymous__namespace_02implementation-visitor_8cc_03_1_1ano2435b09f407933b8a98414370d7d2203_ac0f213f9f9c7a7b369f06919818602e7}} 
\index{v8::internal::torque::anonymous\_namespace\lcurly{}implementation-\/visitor.cc\rcurly{}::anonymous\_namespace\lcurly{}implementation-\/visitor.cc\rcurly{}@{v8::internal::torque::anonymous\_namespace\lcurly{}implementation-\/visitor.cc\rcurly{}::anonymous\_namespace\lcurly{}implementation-\/visitor.cc\rcurly{}}!CanGenerateFieldAccessors@{CanGenerateFieldAccessors}}
\index{CanGenerateFieldAccessors@{CanGenerateFieldAccessors}!v8::internal::torque::anonymous\_namespace\lcurly{}implementation-\/visitor.cc\rcurly{}::anonymous\_namespace\lcurly{}implementation-\/visitor.cc\rcurly{}@{v8::internal::torque::anonymous\_namespace\lcurly{}implementation-\/visitor.cc\rcurly{}::anonymous\_namespace\lcurly{}implementation-\/visitor.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{CanGenerateFieldAccessors()}{CanGenerateFieldAccessors()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::torque\+::anonymous\+\_\+namespace\{implementation-\/visitor.\+cc\}\+::anonymous\+\_\+namespace\{implementation-\/visitor.\+cc\}\+::Can\+Generate\+Field\+Accessors (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1torque_1_1Type}{Type}} $\ast$}]{field\+\_\+type }\end{DoxyParamCaption})}



Definition at line 4504 of file implementation-\/visitor.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4504                                                        \{}
\DoxyCodeLine{4505   \textcolor{comment}{// float64\_or\_undefined\_or\_hole should be treated like float64. For now, we}}
\DoxyCodeLine{4506   \textcolor{comment}{// don't need it.}}
\DoxyCodeLine{4507   \textcolor{comment}{// TODO(v8:10391) Generate accessors for external pointers.}}
\DoxyCodeLine{4508   \textcolor{keywordflow}{return} field\_type != TypeOracle::GetVoidType() \&\&}
\DoxyCodeLine{4509          field\_type != TypeOracle::GetFloat64OrUndefinedOrHoleType() \&\&}
\DoxyCodeLine{4510          !field\_type-\/>IsSubtypeOf(TypeOracle::GetExternalPointerType()) \&\&}
\DoxyCodeLine{4511          !field\_type-\/>IsSubtypeOf(TypeOracle::GetTrustedPointerType()) \&\&}
\DoxyCodeLine{4512          !field\_type-\/>IsSubtypeOf(TypeOracle::GetProtectedPointerType());}
\DoxyCodeLine{4513 \}}

\end{DoxyCode}


References v8\+::internal\+::torque\+::\+Type\+::\+Is\+Subtype\+Of().



Referenced by v8\+::internal\+::torque\+::anonymous\+\_\+namespace\{implementation-\/visitor.\+cc\}\+::\+Cpp\+Class\+Generator\+::\+Generate\+Field\+Accessors(), and v8\+::internal\+::torque\+::anonymous\+\_\+namespace\{implementation-\/visitor.\+cc\}\+::\+Generate\+Print\+Definitions\+For\+Class().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1torque_1_1anonymous__namespace_02implementation-visitor_8cc_03_1_1ano2435b09f407933b8a98414370d7d2203_ac0f213f9f9c7a7b369f06919818602e7_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1torque_1_1anonymous__namespace_02implementation-visitor_8cc_03_1_1ano2435b09f407933b8a98414370d7d2203_ac0f213f9f9c7a7b369f06919818602e7_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1torque_1_1anonymous__namespace_02implementation-visitor_8cc_03_1_1ano2435b09f407933b8a98414370d7d2203_a61dd0dc41a0dea5c5cb597e1f6b7f431}\label{namespacev8_1_1internal_1_1torque_1_1anonymous__namespace_02implementation-visitor_8cc_03_1_1ano2435b09f407933b8a98414370d7d2203_a61dd0dc41a0dea5c5cb597e1f6b7f431}} 
\index{v8::internal::torque::anonymous\_namespace\lcurly{}implementation-\/visitor.cc\rcurly{}::anonymous\_namespace\lcurly{}implementation-\/visitor.cc\rcurly{}@{v8::internal::torque::anonymous\_namespace\lcurly{}implementation-\/visitor.cc\rcurly{}::anonymous\_namespace\lcurly{}implementation-\/visitor.cc\rcurly{}}!GenerateBoundsDCheck@{GenerateBoundsDCheck}}
\index{GenerateBoundsDCheck@{GenerateBoundsDCheck}!v8::internal::torque::anonymous\_namespace\lcurly{}implementation-\/visitor.cc\rcurly{}::anonymous\_namespace\lcurly{}implementation-\/visitor.cc\rcurly{}@{v8::internal::torque::anonymous\_namespace\lcurly{}implementation-\/visitor.cc\rcurly{}::anonymous\_namespace\lcurly{}implementation-\/visitor.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{GenerateBoundsDCheck()}{GenerateBoundsDCheck()}}
{\footnotesize\ttfamily void v8\+::internal\+::torque\+::anonymous\+\_\+namespace\{implementation-\/visitor.\+cc\}\+::anonymous\+\_\+namespace\{implementation-\/visitor.\+cc\}\+::Generate\+Bounds\+DCheck (\begin{DoxyParamCaption}\item[{std\+::ostream \&}]{os,  }\item[{const std\+::string \&}]{index,  }\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1torque_1_1ClassType}{Class\+Type}} $\ast$}]{type,  }\item[{const \mbox{\hyperlink{structv8_1_1internal_1_1torque_1_1Field}{Field}} \&}]{f }\end{DoxyParamCaption})}



Definition at line 4487 of file implementation-\/visitor.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4488                                                                  \{}
\DoxyCodeLine{4489   os << \textcolor{stringliteral}{"{}  DCHECK\_GE("{}} << \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}} << \textcolor{stringliteral}{"{}, 0);\(\backslash\)n"{}};}
\DoxyCodeLine{4490   \mbox{\hyperlink{namespacev8_1_1internal_af68b330f02476361ab10f531933b3381}{std::string}} length\_expression;}
\DoxyCodeLine{4491   \textcolor{keywordflow}{if} (std::optional<NameAndType> array\_length =}
\DoxyCodeLine{4492           \mbox{\hyperlink{namespacev8_1_1internal_1_1torque_a25f9470f515cd4ca97a009f8122fde87}{ExtractSimpleFieldArraySize}}(*\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}}, f.index-\/>expr)) \{}
\DoxyCodeLine{4493     length\_expression = \textcolor{stringliteral}{"{}this -\/>"{}} + array\_length-\/>name + \textcolor{stringliteral}{"{}()"{}};}
\DoxyCodeLine{4494   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{4495     \textcolor{comment}{// The length is element 2 in the flattened field slice.}}
\DoxyCodeLine{4496     length\_expression =}
\DoxyCodeLine{4497         \textcolor{stringliteral}{"{}static\_cast<int>(std::get<2>("{}} +}
\DoxyCodeLine{4498         Callable::PrefixNameForCCOutput(\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}}-\/>GetSliceMacroName(f)) +}
\DoxyCodeLine{4499         \textcolor{stringliteral}{"{}(*static\_cast<const D*>(this))))"{}};}
\DoxyCodeLine{4500   \}}
\DoxyCodeLine{4501   os << \textcolor{stringliteral}{"{}  DCHECK\_LT("{}} << \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}} << \textcolor{stringliteral}{"{}, "{}} << length\_expression << \textcolor{stringliteral}{"{});\(\backslash\)n"{}};}
\DoxyCodeLine{4502 \}}

\end{DoxyCode}


References v8\+::internal\+::torque\+::\+Extract\+Simple\+Field\+Array\+Size(), v8\+::internal\+::index, v8\+::internal\+::torque\+::\+Field\+::index, v8\+::internal\+::string, and v8\+::internal\+::tracing\+::type.



Referenced by v8\+::internal\+::torque\+::anonymous\+\_\+namespace\{implementation-\/visitor.\+cc\}\+::\+Cpp\+Class\+Generator\+::\+Emit\+Load\+Field\+Statement(), and v8\+::internal\+::torque\+::anonymous\+\_\+namespace\{implementation-\/visitor.\+cc\}\+::\+Cpp\+Class\+Generator\+::\+Emit\+Store\+Field\+Statement().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1torque_1_1anonymous__namespace_02implementation-visitor_8cc_03_1_1ano2435b09f407933b8a98414370d7d2203_a61dd0dc41a0dea5c5cb597e1f6b7f431_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1torque_1_1anonymous__namespace_02implementation-visitor_8cc_03_1_1ano2435b09f407933b8a98414370d7d2203_a61dd0dc41a0dea5c5cb597e1f6b7f431_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1torque_1_1anonymous__namespace_02implementation-visitor_8cc_03_1_1ano2435b09f407933b8a98414370d7d2203_a4db483a802f7a7a11d3d675b99e5143a}\label{namespacev8_1_1internal_1_1torque_1_1anonymous__namespace_02implementation-visitor_8cc_03_1_1ano2435b09f407933b8a98414370d7d2203_a4db483a802f7a7a11d3d675b99e5143a}} 
\index{v8::internal::torque::anonymous\_namespace\lcurly{}implementation-\/visitor.cc\rcurly{}::anonymous\_namespace\lcurly{}implementation-\/visitor.cc\rcurly{}@{v8::internal::torque::anonymous\_namespace\lcurly{}implementation-\/visitor.cc\rcurly{}::anonymous\_namespace\lcurly{}implementation-\/visitor.cc\rcurly{}}!GenerateRuntimeTypeCheck@{GenerateRuntimeTypeCheck}}
\index{GenerateRuntimeTypeCheck@{GenerateRuntimeTypeCheck}!v8::internal::torque::anonymous\_namespace\lcurly{}implementation-\/visitor.cc\rcurly{}::anonymous\_namespace\lcurly{}implementation-\/visitor.cc\rcurly{}@{v8::internal::torque::anonymous\_namespace\lcurly{}implementation-\/visitor.cc\rcurly{}::anonymous\_namespace\lcurly{}implementation-\/visitor.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{GenerateRuntimeTypeCheck()}{GenerateRuntimeTypeCheck()}}
{\footnotesize\ttfamily std\+::string v8\+::internal\+::torque\+::anonymous\+\_\+namespace\{implementation-\/visitor.\+cc\}\+::anonymous\+\_\+namespace\{implementation-\/visitor.\+cc\}\+::Generate\+Runtime\+Type\+Check (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1torque_1_1Type}{Type}} $\ast$}]{type,  }\item[{const std\+::string \&}]{value }\end{DoxyParamCaption})}



Definition at line 4455 of file implementation-\/visitor.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4456                                                              \{}
\DoxyCodeLine{4457   \textcolor{keywordtype}{bool} maybe\_object = !\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}}-\/>IsSubtypeOf(TypeOracle::GetStrongTaggedType());}
\DoxyCodeLine{4458   std::stringstream type\_check;}
\DoxyCodeLine{4459   \textcolor{keywordtype}{bool} at\_start = \textcolor{keyword}{true};}
\DoxyCodeLine{4460   \textcolor{comment}{// If weak pointers are allowed, then start by checking for a cleared value.}}
\DoxyCodeLine{4461   \textcolor{keywordflow}{if} (maybe\_object) \{}
\DoxyCodeLine{4462     type\_check << \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} << \textcolor{stringliteral}{"{}.IsCleared()"{}};}
\DoxyCodeLine{4463     at\_start = \textcolor{keyword}{false};}
\DoxyCodeLine{4464   \}}
\DoxyCodeLine{4465   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a397422cd1c2fa6afef35330e7d1ced26}{TypeChecker}}\& runtime\_type : \mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}}-\/>GetTypeCheckers()) \{}
\DoxyCodeLine{4466     \textcolor{keywordflow}{if} (!at\_start) type\_check << \textcolor{stringliteral}{"{} || "{}};}
\DoxyCodeLine{4467     at\_start = \textcolor{keyword}{false};}
\DoxyCodeLine{4468     \textcolor{keywordflow}{if} (maybe\_object) \{}
\DoxyCodeLine{4469       \textcolor{keywordtype}{bool} strong = runtime\_type.weak\_ref\_to.empty();}
\DoxyCodeLine{4470       \textcolor{keywordflow}{if} (strong \&\& runtime\_type.type == \mbox{\hyperlink{namespacev8_1_1internal_1_1torque_a145d545f1a33a4b5add67f834432bbf2}{WEAK\_HEAP\_OBJECT}}) \{}
\DoxyCodeLine{4471         \textcolor{comment}{// Rather than a generic Weak<T>, this is the basic type WeakHeapObject.}}
\DoxyCodeLine{4472         \textcolor{comment}{// We can't validate anything more about the type of the object pointed}}
\DoxyCodeLine{4473         \textcolor{comment}{// to, so just check that it's weak.}}
\DoxyCodeLine{4474         type\_check << \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} << \textcolor{stringliteral}{"{}.IsWeak()"{}};}
\DoxyCodeLine{4475       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{4476         type\_check << \textcolor{stringliteral}{"{}("{}} << (strong ? \textcolor{stringliteral}{"{}!"{}} : \textcolor{stringliteral}{"{}"{}}) << \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} << \textcolor{stringliteral}{"{}.IsWeak() \&\& Is"{}}}
\DoxyCodeLine{4477                    << (strong ? runtime\_type.type : runtime\_type.weak\_ref\_to)}
\DoxyCodeLine{4478                    << \textcolor{stringliteral}{"{}("{}} << \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} << \textcolor{stringliteral}{"{}.GetHeapObjectOrSmi()))"{}};}
\DoxyCodeLine{4479       \}}
\DoxyCodeLine{4480     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{4481       type\_check << \textcolor{stringliteral}{"{}Is"{}} << runtime\_type.type << \textcolor{stringliteral}{"{}("{}} << \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} << \textcolor{stringliteral}{"{})"{}};}
\DoxyCodeLine{4482     \}}
\DoxyCodeLine{4483   \}}
\DoxyCodeLine{4484   \textcolor{keywordflow}{return} type\_check.str();}
\DoxyCodeLine{4485 \}}

\end{DoxyCode}


References v8\+::internal\+::tracing\+::type, v8\+::internal\+::value, and v8\+::internal\+::torque\+::\+WEAK\+\_\+\+HEAP\+\_\+\+OBJECT.



Referenced by v8\+::internal\+::torque\+::anonymous\+\_\+namespace\{implementation-\/visitor.\+cc\}\+::\+Cpp\+Class\+Generator\+::\+Emit\+Load\+Field\+Statement(), v8\+::internal\+::torque\+::anonymous\+\_\+namespace\{implementation-\/visitor.\+cc\}\+::\+Cpp\+Class\+Generator\+::\+Emit\+Store\+Field\+Statement(), and v8\+::internal\+::torque\+::anonymous\+\_\+namespace\{implementation-\/visitor.\+cc\}\+::\+Generate\+Field\+Value\+Verifier().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1torque_1_1anonymous__namespace_02implementation-visitor_8cc_03_1_1ano2435b09f407933b8a98414370d7d2203_a4db483a802f7a7a11d3d675b99e5143a_icgraph}
\end{center}
\end{figure}
