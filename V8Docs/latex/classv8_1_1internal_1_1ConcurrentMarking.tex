\hypertarget{classv8_1_1internal_1_1ConcurrentMarking}{}\doxysection{v8\+::internal\+::Concurrent\+Marking Class Reference}
\label{classv8_1_1internal_1_1ConcurrentMarking}\index{v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}}


{\ttfamily \#include $<$concurrent-\/marking.\+h$>$}



Collaboration diagram for v8\+::internal\+::Concurrent\+Marking\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ConcurrentMarking__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_1_1JobTaskMajor}{Job\+Task\+Major}}
\item 
class \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_1_1JobTaskMinor}{Job\+Task\+Minor}}
\item 
class \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_1_1MinorMarkingState}{Minor\+Marking\+State}}
\item 
struct \mbox{\hyperlink{structv8_1_1internal_1_1ConcurrentMarking_1_1TaskState}{Task\+State}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_ad82e912eb50e6970f1d3b4ea46fb2153}{Concurrent\+Marking}} (\mbox{\hyperlink{classv8_1_1internal_1_1Heap}{Heap}} $\ast$\mbox{\hyperlink{flag-definitions_8h_a761e4e5929b1553283fd6a532822bb17}{heap}}, \mbox{\hyperlink{classv8_1_1internal_1_1WeakObjects}{Weak\+Objects}} $\ast$weak\+\_\+objects)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a7d2fade675f5dd7de000f2869b2f2bd9}{$\sim$\+Concurrent\+Marking}} ()
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a17b832823a3616716aa7497fada881ff}{Try\+Schedule\+Job}} (\mbox{\hyperlink{namespacev8_1_1internal_ad504e70236bfcc0478d67053d1ed9ac0}{Garbage\+Collector}} \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a884b7ca1bb9c41508d91ca620cdd29a9}{garbage\+\_\+collector}}, \mbox{\hyperlink{namespacev8_a680c1a715d1d5df94b21e8b1ee1bf051}{Task\+Priority}} priority=\mbox{\hyperlink{namespacev8_a680c1a715d1d5df94b21e8b1ee1bf051a602dfdb2b16ea7a1f4392dc3d5761f7d}{Task\+Priority\+::k\+User\+Visible}})
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a43f88ef394ce90569543e44ab0381cf8}{Join}} ()
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_ac043fe6a6fcd24796319496d0e8bd698}{Join\+Job\+For\+Testing}} ()
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_ad4e2d084e35e2c8966c9ca30a0282553}{Pause}} ()
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_aaf8d90cff77b3890a4de513377521ce4}{Reschedule\+Job\+If\+Needed}} (\mbox{\hyperlink{namespacev8_1_1internal_ad504e70236bfcc0478d67053d1ed9ac0}{Garbage\+Collector}} \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a884b7ca1bb9c41508d91ca620cdd29a9}{garbage\+\_\+collector}}, \mbox{\hyperlink{namespacev8_a680c1a715d1d5df94b21e8b1ee1bf051}{Task\+Priority}} priority=\mbox{\hyperlink{namespacev8_a680c1a715d1d5df94b21e8b1ee1bf051a602dfdb2b16ea7a1f4392dc3d5761f7d}{Task\+Priority\+::k\+User\+Visible}})
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a8eaf129f2de29cd9b015ed61b31babc5}{Flush\+Native\+Contexts}} (\mbox{\hyperlink{classv8_1_1internal_1_1NativeContextStats}{Native\+Context\+Stats}} $\ast$main\+\_\+stats)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a3f1743cd46ce9240e4ffbb5098de064b}{Flush\+Memory\+Chunk\+Data}} ()
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_aff2f9cf6f61bbb35b1fdba6507f5b8c7}{Flush\+Pretenuring\+Feedback}} ()
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a06980681d462120291c2047124cd6a3a}{Is\+Stopped}} ()
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a31d998afac0de0ac1d99011985247e9a}{Total\+Marked\+Bytes}} ()
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_adad9b09397a5d864fbfc58c3ac91ccda}{set\+\_\+another\+\_\+ephemeron\+\_\+iteration}} (\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_aece67b16f36fe0fcea37a7bd7de858f6}{another\+\_\+ephemeron\+\_\+iteration}})
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_aece67b16f36fe0fcea37a7bd7de858f6}{another\+\_\+ephemeron\+\_\+iteration}} ()
\item 
\mbox{\hyperlink{namespacev8_1_1internal_ad504e70236bfcc0478d67053d1ed9ac0}{Garbage\+Collector}} \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a884b7ca1bb9c41508d91ca620cdd29a9}{garbage\+\_\+collector}} () const
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a01f4fa15082e5255ab26a9b50ba4652e}{Is\+Work\+Left}} () const
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a1ce345c92bf25bdf12af279186f910d9}{Fetch\+And\+Reset\+Concurrency\+Estimate}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_ad415d72021dfd7bbf36c9ec12f581a7b}{Run\+Minor}} (\mbox{\hyperlink{classv8_1_1JobDelegate}{Job\+Delegate}} $\ast$delegate)
\item 
{\footnotesize template$<$Young\+Generation\+Marking\+Visitation\+Mode marking\+\_\+mode$>$ }\\\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_ad5dc50a491fbb7e171f0c37c911388af}{Run\+Minor\+Impl}} (\mbox{\hyperlink{classv8_1_1JobDelegate}{Job\+Delegate}} $\ast$delegate, \mbox{\hyperlink{structv8_1_1internal_1_1ConcurrentMarking_1_1TaskState}{Task\+State}} $\ast$task\+\_\+state)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a7d0d86a36f332aaaa86ea5e0a47ca2b6}{Run\+Major}} (\mbox{\hyperlink{classv8_1_1JobDelegate}{Job\+Delegate}} $\ast$delegate, \mbox{\hyperlink{classv8_1_1base_1_1EnumSet}{base\+::\+Enum\+Set}}$<$ \mbox{\hyperlink{namespacev8_1_1internal_aa9a47c3d58feefc8747cef370681925b}{Code\+Flush\+Mode}} $>$ code\+\_\+flush\+\_\+mode, unsigned mark\+\_\+compact\+\_\+epoch, \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} should\+\_\+keep\+\_\+ages\+\_\+unchanged)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_aa4afb20bd380c99f5369ff473b119076}{Get\+Major\+Max\+Concurrency}} (\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} worker\+\_\+count)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a4a6854274da8257b2cb314b5c06c05bd}{Get\+Minor\+Max\+Concurrency}} (\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} worker\+\_\+count)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_afbbcbe61c7b306f93be9ddd1b365b18d}{Resume}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1JobHandle}{Job\+Handle}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a395f483b2b8552796f42fa6886447112}{job\+\_\+handle\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1Heap}{Heap}} $\ast$const \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a869e37465c47b5fdfd6def2b8fb14adf}{heap\+\_\+}}
\item 
std\+::optional$<$ \mbox{\hyperlink{namespacev8_1_1internal_ad504e70236bfcc0478d67053d1ed9ac0}{Garbage\+Collector}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a2671a9d910b14f17fad5c303120da739}{garbage\+\_\+collector\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1MarkingWorklists}{Marking\+Worklists}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_ab3fa7ed061a0267d8637831a60530df9}{marking\+\_\+worklists\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1WeakObjects}{Weak\+Objects}} $\ast$const \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_ae4f889dcf389b82407f0e617546b4b3f}{weak\+\_\+objects\+\_\+}}
\item 
std\+::vector$<$ std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{structv8_1_1internal_1_1ConcurrentMarking_1_1TaskState}{Task\+State}} $>$ $>$ \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_ac2293bf5bb359833bddbf2f074b668f1}{task\+\_\+state\+\_\+}}
\item 
std\+::atomic$<$ \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a3ea202ffbd613a6bf2eed6173d735cef}{total\+\_\+marked\+\_\+bytes\+\_\+}} \{0\}
\item 
std\+::atomic$<$ \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_ae273e1eec0e22ac7fffa816b31afc090}{another\+\_\+ephemeron\+\_\+iteration\+\_\+}} \{\mbox{\hyperlink{flag-definitions_8h_a3a9beadc89284d3f78a7d4945b1b4d8c}{false}}\}
\item 
std\+::optional$<$ uint64\+\_\+t $>$ \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a380bbf4ba90b49acc9f72bb471c75ee5}{current\+\_\+job\+\_\+trace\+\_\+id\+\_\+}}
\item 
std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_1_1MinorMarkingState}{Minor\+Marking\+State}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a539e11dfc4798b581b2bd6eba269a94f}{minor\+\_\+marking\+\_\+state\+\_\+}}
\item 
std\+::atomic$<$ \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a297038c829a4c571fd936fd4b75f2524}{estimate\+\_\+concurrency\+\_\+}} \{0\}
\end{DoxyCompactItemize}
\doxysubsection*{Friends}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a3d69975be2e998e7bf2dcd1b1c8b4577}{Heap}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 35 of file concurrent-\/marking.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1ConcurrentMarking_ad82e912eb50e6970f1d3b4ea46fb2153}\label{classv8_1_1internal_1_1ConcurrentMarking_ad82e912eb50e6970f1d3b4ea46fb2153}} 
\index{v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}!ConcurrentMarking@{ConcurrentMarking}}
\index{ConcurrentMarking@{ConcurrentMarking}!v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}}
\doxysubsubsection{\texorpdfstring{ConcurrentMarking()}{ConcurrentMarking()}}
{\footnotesize\ttfamily v8\+::internal\+::\+Concurrent\+Marking\+::\+Concurrent\+Marking (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Heap}{Heap}} $\ast$}]{heap,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1WeakObjects}{Weak\+Objects}} $\ast$}]{weak\+\_\+objects }\end{DoxyParamCaption})}



Definition at line 327 of file concurrent-\/marking.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{328     : \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a869e37465c47b5fdfd6def2b8fb14adf}{heap\_}}(\mbox{\hyperlink{namespaceheap}{heap}}), \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_ae4f889dcf389b82407f0e617546b4b3f}{weak\_objects\_}}(weak\_objects) \{}
\DoxyCodeLine{329 \textcolor{preprocessor}{\#ifndef V8\_ATOMIC\_OBJECT\_FIELD\_WRITES}}
\DoxyCodeLine{330   \textcolor{comment}{// Concurrent marking requires atomic object field writes.}}
\DoxyCodeLine{331   \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(!\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.concurrent\_marking);}
\DoxyCodeLine{332 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{333   \textcolor{keywordtype}{int} max\_tasks;}
\DoxyCodeLine{334   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.concurrent\_marking\_max\_worker\_num == 0) \{}
\DoxyCodeLine{335     max\_tasks = \mbox{\hyperlink{classv8_1_1internal_1_1V8_a5eb1d47c492fa1e85e7d7c31dd5cf2bb}{V8::GetCurrentPlatform}}()-\/>\mbox{\hyperlink{classv8_1_1Platform_a57cdd7eb4c482bfb806c378beeda716d}{NumberOfWorkerThreads}}();}
\DoxyCodeLine{336   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{337     max\_tasks = \mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.concurrent\_marking\_max\_worker\_num;}
\DoxyCodeLine{338   \}}
\DoxyCodeLine{339 }
\DoxyCodeLine{340   \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_ac2293bf5bb359833bddbf2f074b668f1}{task\_state\_}}.reserve(max\_tasks + 1);}
\DoxyCodeLine{341   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} <= max\_tasks; ++\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}) \{}
\DoxyCodeLine{342     \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_ac2293bf5bb359833bddbf2f074b668f1}{task\_state\_}}.emplace\_back(std::make\_unique<TaskState>());}
\DoxyCodeLine{343   \}}
\DoxyCodeLine{344 \}}

\end{DoxyCode}


References CHECK, v8\+::internal\+::\+V8\+::\+Get\+Current\+Platform(), v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::i, v8\+::\+Platform\+::\+Number\+Of\+Worker\+Threads(), task\+\_\+state\+\_\+, and v8\+::internal\+::v8\+\_\+flags.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ConcurrentMarking_ad82e912eb50e6970f1d3b4ea46fb2153_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ConcurrentMarking_a7d2fade675f5dd7de000f2869b2f2bd9}\label{classv8_1_1internal_1_1ConcurrentMarking_a7d2fade675f5dd7de000f2869b2f2bd9}} 
\index{v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}!````~ConcurrentMarking@{$\sim$ConcurrentMarking}}
\index{````~ConcurrentMarking@{$\sim$ConcurrentMarking}!v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}}
\doxysubsubsection{\texorpdfstring{$\sim$ConcurrentMarking()}{~ConcurrentMarking()}}
{\footnotesize\ttfamily v8\+::internal\+::\+Concurrent\+Marking\+::$\sim$\+Concurrent\+Marking (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [default]}}



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1ConcurrentMarking_aece67b16f36fe0fcea37a7bd7de858f6}\label{classv8_1_1internal_1_1ConcurrentMarking_aece67b16f36fe0fcea37a7bd7de858f6}} 
\index{v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}!another\_ephemeron\_iteration@{another\_ephemeron\_iteration}}
\index{another\_ephemeron\_iteration@{another\_ephemeron\_iteration}!v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}}
\doxysubsubsection{\texorpdfstring{another\_ephemeron\_iteration()}{another\_ephemeron\_iteration()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Concurrent\+Marking\+::another\+\_\+ephemeron\+\_\+iteration (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 77 of file concurrent-\/marking.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{77                                      \{}
\DoxyCodeLine{78     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_ae273e1eec0e22ac7fffa816b31afc090}{another\_ephemeron\_iteration\_}}.load();}
\DoxyCodeLine{79   \}}

\end{DoxyCode}


Referenced by Run\+Major().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ConcurrentMarking_aece67b16f36fe0fcea37a7bd7de858f6_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ConcurrentMarking_a1ce345c92bf25bdf12af279186f910d9}\label{classv8_1_1internal_1_1ConcurrentMarking_a1ce345c92bf25bdf12af279186f910d9}} 
\index{v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}!FetchAndResetConcurrencyEstimate@{FetchAndResetConcurrencyEstimate}}
\index{FetchAndResetConcurrencyEstimate@{FetchAndResetConcurrencyEstimate}!v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}}
\doxysubsubsection{\texorpdfstring{FetchAndResetConcurrencyEstimate()}{FetchAndResetConcurrencyEstimate()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::\+Concurrent\+Marking\+::\+Fetch\+And\+Reset\+Concurrency\+Estimate (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 88 of file concurrent-\/marking.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{88                                             \{}
\DoxyCodeLine{89     \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} estimate =}
\DoxyCodeLine{90         \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a297038c829a4c571fd936fd4b75f2524}{estimate\_concurrency\_}}.exchange(0, std::memory\_order\_relaxed);}
\DoxyCodeLine{91     \textcolor{keywordflow}{return} estimate ? estimate : 1;}
\DoxyCodeLine{92   \}}

\end{DoxyCode}


Referenced by v8\+::internal\+::\+Minor\+Mark\+Sweep\+Collector\+::\+Finish\+Concurrent\+Marking().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ConcurrentMarking_a1ce345c92bf25bdf12af279186f910d9_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ConcurrentMarking_a3f1743cd46ce9240e4ffbb5098de064b}\label{classv8_1_1internal_1_1ConcurrentMarking_a3f1743cd46ce9240e4ffbb5098de064b}} 
\index{v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}!FlushMemoryChunkData@{FlushMemoryChunkData}}
\index{FlushMemoryChunkData@{FlushMemoryChunkData}!v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}}
\doxysubsubsection{\texorpdfstring{FlushMemoryChunkData()}{FlushMemoryChunkData()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Concurrent\+Marking\+::\+Flush\+Memory\+Chunk\+Data (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 853 of file concurrent-\/marking.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{853                                              \{}
\DoxyCodeLine{854   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a395f483b2b8552796f42fa6886447112}{job\_handle\_}} || !\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a395f483b2b8552796f42fa6886447112}{job\_handle\_}}-\/>IsValid());}
\DoxyCodeLine{855   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}\& task\_state : \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_ac2293bf5bb359833bddbf2f074b668f1}{task\_state\_}}) \{}
\DoxyCodeLine{856     task\_state-\/>memory\_chunk\_live\_bytes\_map.FlushAndClear();}
\DoxyCodeLine{857     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}\&\& [page, typed\_slots] :}
\DoxyCodeLine{858          task\_state-\/>memory\_chunk\_typed\_slots\_map) \{}
\DoxyCodeLine{859       \mbox{\hyperlink{classv8_1_1internal_1_1RememberedSet_a60ec1433a9a1294e80d3ec2d13ec9173}{RememberedSet<OLD\_TO\_OLD>::MergeTyped}}(page, std::move(typed\_slots));}
\DoxyCodeLine{860     \}}
\DoxyCodeLine{861     task\_state-\/>memory\_chunk\_typed\_slots\_map.clear();}
\DoxyCodeLine{862     task\_state-\/>marked\_bytes = 0;}
\DoxyCodeLine{863   \}}
\DoxyCodeLine{864   \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a3ea202ffbd613a6bf2eed6173d735cef}{total\_marked\_bytes\_}} = 0;}
\DoxyCodeLine{865 \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), job\+\_\+handle\+\_\+, v8\+::internal\+::\+Remembered\+Set$<$ type $>$\+::\+Merge\+Typed(), task\+\_\+state\+\_\+, and total\+\_\+marked\+\_\+bytes\+\_\+.



Referenced by v8\+::internal\+::\+Mark\+Compact\+Collector\+::\+Finish\+Concurrent\+Marking().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ConcurrentMarking_a3f1743cd46ce9240e4ffbb5098de064b_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ConcurrentMarking_a3f1743cd46ce9240e4ffbb5098de064b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ConcurrentMarking_a8eaf129f2de29cd9b015ed61b31babc5}\label{classv8_1_1internal_1_1ConcurrentMarking_a8eaf129f2de29cd9b015ed61b31babc5}} 
\index{v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}!FlushNativeContexts@{FlushNativeContexts}}
\index{FlushNativeContexts@{FlushNativeContexts}!v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}}
\doxysubsubsection{\texorpdfstring{FlushNativeContexts()}{FlushNativeContexts()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Concurrent\+Marking\+::\+Flush\+Native\+Contexts (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1NativeContextStats}{Native\+Context\+Stats}} $\ast$}]{main\+\_\+stats }\end{DoxyParamCaption})}



Definition at line 845 of file concurrent-\/marking.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{845                                                                           \{}
\DoxyCodeLine{846   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a395f483b2b8552796f42fa6886447112}{job\_handle\_}} || !\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a395f483b2b8552796f42fa6886447112}{job\_handle\_}}-\/>IsValid());}
\DoxyCodeLine{847   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 1; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_ac2293bf5bb359833bddbf2f074b668f1}{task\_state\_}}.size(); \mbox{\hyperlink{namespacev8_1_1internal}{i}}++) \{}
\DoxyCodeLine{848     main\_stats-\/>Merge(\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_ac2293bf5bb359833bddbf2f074b668f1}{task\_state\_}}[\mbox{\hyperlink{namespacev8_1_1internal}{i}}]-\/>native\_context\_stats);}
\DoxyCodeLine{849     \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_ac2293bf5bb359833bddbf2f074b668f1}{task\_state\_}}[\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}]-\/>native\_context\_stats.Clear();}
\DoxyCodeLine{850   \}}
\DoxyCodeLine{851 \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::i, job\+\_\+handle\+\_\+, v8\+::internal\+::\+Native\+Context\+Stats\+::\+Merge(), and task\+\_\+state\+\_\+.



Referenced by v8\+::internal\+::\+Mark\+Compact\+Collector\+::\+Finish\+Concurrent\+Marking().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ConcurrentMarking_a8eaf129f2de29cd9b015ed61b31babc5_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ConcurrentMarking_a8eaf129f2de29cd9b015ed61b31babc5_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ConcurrentMarking_aff2f9cf6f61bbb35b1fdba6507f5b8c7}\label{classv8_1_1internal_1_1ConcurrentMarking_aff2f9cf6f61bbb35b1fdba6507f5b8c7}} 
\index{v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}!FlushPretenuringFeedback@{FlushPretenuringFeedback}}
\index{FlushPretenuringFeedback@{FlushPretenuringFeedback}!v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}}
\doxysubsubsection{\texorpdfstring{FlushPretenuringFeedback()}{FlushPretenuringFeedback()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Concurrent\+Marking\+::\+Flush\+Pretenuring\+Feedback (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 787 of file concurrent-\/marking.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{787                                                  \{}
\DoxyCodeLine{788   PretenuringHandler* pretenuring\_handler = \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a869e37465c47b5fdfd6def2b8fb14adf}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a236780da77c26691647400b43784cbb4}{pretenuring\_handler}}();}
\DoxyCodeLine{789   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}\& task\_state : \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_ac2293bf5bb359833bddbf2f074b668f1}{task\_state\_}}) \{}
\DoxyCodeLine{790     pretenuring\_handler-\/>\mbox{\hyperlink{classv8_1_1internal_1_1PretenuringHandler_aca35e5784df91c84d77686aac732635f}{MergeAllocationSitePretenuringFeedback}}(}
\DoxyCodeLine{791         task\_state-\/>local\_pretenuring\_feedback);}
\DoxyCodeLine{792     task\_state-\/>local\_pretenuring\_feedback.clear();}
\DoxyCodeLine{793   \}}
\DoxyCodeLine{794 \}}

\end{DoxyCode}


References heap\+\_\+, v8\+::internal\+::\+Pretenuring\+Handler\+::\+Merge\+Allocation\+Site\+Pretenuring\+Feedback(), v8\+::internal\+::\+Heap\+::pretenuring\+\_\+handler(), and task\+\_\+state\+\_\+.



Referenced by v8\+::internal\+::\+Minor\+Mark\+Sweep\+Collector\+::\+Finish\+Concurrent\+Marking().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ConcurrentMarking_aff2f9cf6f61bbb35b1fdba6507f5b8c7_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ConcurrentMarking_aff2f9cf6f61bbb35b1fdba6507f5b8c7_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ConcurrentMarking_a884b7ca1bb9c41508d91ca620cdd29a9}\label{classv8_1_1internal_1_1ConcurrentMarking_a884b7ca1bb9c41508d91ca620cdd29a9}} 
\index{v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}!garbage\_collector@{garbage\_collector}}
\index{garbage\_collector@{garbage\_collector}!v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}}
\doxysubsubsection{\texorpdfstring{garbage\_collector()}{garbage\_collector()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_ad504e70236bfcc0478d67053d1ed9ac0}{Garbage\+Collector}} v8\+::internal\+::\+Concurrent\+Marking\+::garbage\+\_\+collector (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 81 of file concurrent-\/marking.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{81                                              \{}
\DoxyCodeLine{82     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a2671a9d910b14f17fad5c303120da739}{garbage\_collector\_}}.has\_value());}
\DoxyCodeLine{83     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a2671a9d910b14f17fad5c303120da739}{garbage\_collector\_}}.value();}
\DoxyCodeLine{84   \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK().



Referenced by v8\+::internal\+::\+Mark\+Compact\+Collector\+::\+Finish\+Concurrent\+Marking(), v8\+::internal\+::\+Minor\+Mark\+Sweep\+Collector\+::\+Finish\+Concurrent\+Marking(), Reschedule\+Job\+If\+Needed(), and Try\+Schedule\+Job().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ConcurrentMarking_a884b7ca1bb9c41508d91ca620cdd29a9_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ConcurrentMarking_a884b7ca1bb9c41508d91ca620cdd29a9_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ConcurrentMarking_aa4afb20bd380c99f5369ff473b119076}\label{classv8_1_1internal_1_1ConcurrentMarking_aa4afb20bd380c99f5369ff473b119076}} 
\index{v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}!GetMajorMaxConcurrency@{GetMajorMaxConcurrency}}
\index{GetMajorMaxConcurrency@{GetMajorMaxConcurrency}!v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}}
\doxysubsubsection{\texorpdfstring{GetMajorMaxConcurrency()}{GetMajorMaxConcurrency()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::\+Concurrent\+Marking\+::\+Get\+Major\+Max\+Concurrency (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{worker\+\_\+count }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 616 of file concurrent-\/marking.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{616                                                                     \{}
\DoxyCodeLine{617   \textcolor{keywordtype}{size\_t} marking\_items = \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_ab3fa7ed061a0267d8637831a60530df9}{marking\_worklists\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MarkingWorklists_a0594b1f874f172690b391eb7b7995a82}{shared}}()-\/>\mbox{\hyperlink{classheap_1_1base_1_1Worklist_aa4ee280c8190a5dc8834f565042d585f}{Size}}();}
\DoxyCodeLine{618   marking\_items += \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_ab3fa7ed061a0267d8637831a60530df9}{marking\_worklists\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MarkingWorklists_ac7bc0ee324943a247a3320be7a1be7c4}{other}}()-\/>\mbox{\hyperlink{classheap_1_1base_1_1Worklist_aa4ee280c8190a5dc8834f565042d585f}{Size}}();}
\DoxyCodeLine{619   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}\& worklist : \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_ab3fa7ed061a0267d8637831a60530df9}{marking\_worklists\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MarkingWorklists_a70424449adcb52f317b7203b8512e8ae}{context\_worklists}}()) \{}
\DoxyCodeLine{620     marking\_items += worklist.worklist-\/>Size();}
\DoxyCodeLine{621   \}}
\DoxyCodeLine{622   \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} work = std::max<size\_t>(}
\DoxyCodeLine{623       \{marking\_items, \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_ae4f889dcf389b82407f0e617546b4b3f}{weak\_objects\_}}-\/>current\_ephemerons.Size()\});}
\DoxyCodeLine{624   \textcolor{keywordtype}{size\_t} jobs = worker\_count + work;}
\DoxyCodeLine{625   jobs = std::min<size\_t>(\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_ac2293bf5bb359833bddbf2f074b668f1}{task\_state\_}}.size() -\/ 1, jobs);}
\DoxyCodeLine{626   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a869e37465c47b5fdfd6def2b8fb14adf}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a32498b1092cc2309f298e66611d03723}{ShouldOptimizeForBattery}}()) \{}
\DoxyCodeLine{627     \textcolor{keywordflow}{return} std::min<size\_t>(jobs, 1);}
\DoxyCodeLine{628   \}}
\DoxyCodeLine{629   \textcolor{keywordflow}{return} jobs;}
\DoxyCodeLine{630 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Marking\+Worklists\+::context\+\_\+worklists(), heap\+\_\+, marking\+\_\+worklists\+\_\+, v8\+::internal\+::\+Marking\+Worklists\+::other(), v8\+::internal\+::\+Marking\+Worklists\+::shared(), v8\+::internal\+::\+Heap\+::\+Should\+Optimize\+For\+Battery(), heap\+::base\+::\+Worklist$<$ Entry\+Type, Min\+Segment\+Size $>$\+::\+Size(), task\+\_\+state\+\_\+, and weak\+\_\+objects\+\_\+.



Referenced by v8\+::internal\+::\+Concurrent\+Marking\+::\+Job\+Task\+Major\+::\+Get\+Max\+Concurrency().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ConcurrentMarking_aa4afb20bd380c99f5369ff473b119076_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ConcurrentMarking_aa4afb20bd380c99f5369ff473b119076_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ConcurrentMarking_a4a6854274da8257b2cb314b5c06c05bd}\label{classv8_1_1internal_1_1ConcurrentMarking_a4a6854274da8257b2cb314b5c06c05bd}} 
\index{v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}!GetMinorMaxConcurrency@{GetMinorMaxConcurrency}}
\index{GetMinorMaxConcurrency@{GetMinorMaxConcurrency}!v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}}
\doxysubsubsection{\texorpdfstring{GetMinorMaxConcurrency()}{GetMinorMaxConcurrency()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::\+Concurrent\+Marking\+::\+Get\+Minor\+Max\+Concurrency (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{worker\+\_\+count }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 632 of file concurrent-\/marking.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{632                                                                     \{}
\DoxyCodeLine{633   \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} marking\_items = \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_ab3fa7ed061a0267d8637831a60530df9}{marking\_worklists\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MarkingWorklists_a0594b1f874f172690b391eb7b7995a82}{shared}}()-\/>\mbox{\hyperlink{classheap_1_1base_1_1Worklist_aa4ee280c8190a5dc8834f565042d585f}{Size}}() +}
\DoxyCodeLine{634                                \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a869e37465c47b5fdfd6def2b8fb14adf}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a54f6d0de153be3b373e0375e998f37db}{minor\_mark\_sweep\_collector}}()}
\DoxyCodeLine{635                                    -\/>\mbox{\hyperlink{classv8_1_1internal_1_1MinorMarkSweepCollector_a10ffa80668ee3e4e942ca566b7ad52af}{remembered\_sets\_marking\_handler}}()}
\DoxyCodeLine{636                                    -\/>\mbox{\hyperlink{classv8_1_1internal_1_1YoungGenerationRememberedSetsMarkingWorklist_a137c5e0e979d4e5508b2772d324b861f}{RemainingRememberedSetsMarkingIteams}}();}
\DoxyCodeLine{637   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_ab3fa7ed061a0267d8637831a60530df9}{marking\_worklists\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MarkingWorklists_ac7bc0ee324943a247a3320be7a1be7c4}{other}}()-\/>\mbox{\hyperlink{classheap_1_1base_1_1Worklist_a11633eca330d64bee3d8b411c47ee313}{IsEmpty}}());}
\DoxyCodeLine{638   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_ab3fa7ed061a0267d8637831a60530df9}{marking\_worklists\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MarkingWorklists_aa3570289740ce30ab8cdcd8dca20f13e}{IsUsingContextWorklists}}());}
\DoxyCodeLine{639   \textcolor{keywordtype}{size\_t} jobs = worker\_count + marking\_items;}
\DoxyCodeLine{640   jobs = std::min<size\_t>(\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_ac2293bf5bb359833bddbf2f074b668f1}{task\_state\_}}.size() -\/ 1, jobs);}
\DoxyCodeLine{641   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a869e37465c47b5fdfd6def2b8fb14adf}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a32498b1092cc2309f298e66611d03723}{ShouldOptimizeForBattery}}()) \{}
\DoxyCodeLine{642     \textcolor{keywordflow}{return} std::min<size\_t>(jobs, 1);}
\DoxyCodeLine{643   \}}
\DoxyCodeLine{644   \textcolor{keywordflow}{return} jobs;}
\DoxyCodeLine{645 \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), heap\+\_\+, heap\+::base\+::\+Worklist$<$ Entry\+Type, Min\+Segment\+Size $>$\+::\+Is\+Empty(), v8\+::internal\+::\+Marking\+Worklists\+::\+Is\+Using\+Context\+Worklists(), marking\+\_\+worklists\+\_\+, v8\+::internal\+::\+Heap\+::minor\+\_\+mark\+\_\+sweep\+\_\+collector(), v8\+::internal\+::\+Marking\+Worklists\+::other(), v8\+::internal\+::\+Young\+Generation\+Remembered\+Sets\+Marking\+Worklist\+::\+Remaining\+Remembered\+Sets\+Marking\+Iteams(), v8\+::internal\+::\+Minor\+Mark\+Sweep\+Collector\+::remembered\+\_\+sets\+\_\+marking\+\_\+handler(), v8\+::internal\+::\+Marking\+Worklists\+::shared(), v8\+::internal\+::\+Heap\+::\+Should\+Optimize\+For\+Battery(), heap\+::base\+::\+Worklist$<$ Entry\+Type, Min\+Segment\+Size $>$\+::\+Size(), and task\+\_\+state\+\_\+.



Referenced by v8\+::internal\+::\+Concurrent\+Marking\+::\+Job\+Task\+Minor\+::\+Get\+Max\+Concurrency().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ConcurrentMarking_a4a6854274da8257b2cb314b5c06c05bd_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ConcurrentMarking_a4a6854274da8257b2cb314b5c06c05bd_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ConcurrentMarking_a06980681d462120291c2047124cd6a3a}\label{classv8_1_1internal_1_1ConcurrentMarking_a06980681d462120291c2047124cd6a3a}} 
\index{v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}!IsStopped@{IsStopped}}
\index{IsStopped@{IsStopped}!v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}}
\doxysubsubsection{\texorpdfstring{IsStopped()}{IsStopped()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Concurrent\+Marking\+::\+Is\+Stopped (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 828 of file concurrent-\/marking.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{828                                   \{}
\DoxyCodeLine{829   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.concurrent\_marking \&\& !\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.parallel\_marking) \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{830 }
\DoxyCodeLine{831   \textcolor{keywordflow}{return} !\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a395f483b2b8552796f42fa6886447112}{job\_handle\_}} || !\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a395f483b2b8552796f42fa6886447112}{job\_handle\_}}-\/>IsValid();}
\DoxyCodeLine{832 \}}

\end{DoxyCode}


References job\+\_\+handle\+\_\+, and v8\+::internal\+::v8\+\_\+flags.



Referenced by v8\+::internal\+::\+Minor\+Mark\+Sweep\+Collector\+::\+Finish\+Concurrent\+Marking(), Reschedule\+Job\+If\+Needed(), v8\+::internal\+::\+Minor\+Mark\+Sweep\+Collector\+::\+Tear\+Down(), and Try\+Schedule\+Job().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ConcurrentMarking_a06980681d462120291c2047124cd6a3a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ConcurrentMarking_a01f4fa15082e5255ab26a9b50ba4652e}\label{classv8_1_1internal_1_1ConcurrentMarking_a01f4fa15082e5255ab26a9b50ba4652e}} 
\index{v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}!IsWorkLeft@{IsWorkLeft}}
\index{IsWorkLeft@{IsWorkLeft}!v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}}
\doxysubsubsection{\texorpdfstring{IsWorkLeft()}{IsWorkLeft()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Concurrent\+Marking\+::\+Is\+Work\+Left (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Definition at line 730 of file concurrent-\/marking.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{730                                          \{}
\DoxyCodeLine{731   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a2671a9d910b14f17fad5c303120da739}{garbage\_collector\_}}.has\_value());}
\DoxyCodeLine{732   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a2671a9d910b14f17fad5c303120da739}{garbage\_collector\_}} == \mbox{\hyperlink{namespacev8_1_1internal_ad504e70236bfcc0478d67053d1ed9ac0a0e4ebf97d76f3fcc0a4f23078b1339f5}{GarbageCollector::MARK\_COMPACTOR}}) \{}
\DoxyCodeLine{733     \textcolor{keywordflow}{return} !\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_ab3fa7ed061a0267d8637831a60530df9}{marking\_worklists\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MarkingWorklists_a0594b1f874f172690b391eb7b7995a82}{shared}}()-\/>\mbox{\hyperlink{classheap_1_1base_1_1Worklist_a11633eca330d64bee3d8b411c47ee313}{IsEmpty}}() ||}
\DoxyCodeLine{734            !\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_ae4f889dcf389b82407f0e617546b4b3f}{weak\_objects\_}}-\/>current\_ephemerons.IsEmpty();}
\DoxyCodeLine{735   \}}
\DoxyCodeLine{736   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{namespacev8_1_1internal_ad504e70236bfcc0478d67053d1ed9ac0a650d85b59c887eb439352fdd1dae9345}{GarbageCollector::MINOR\_MARK\_SWEEPER}}, \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a2671a9d910b14f17fad5c303120da739}{garbage\_collector\_}});}
\DoxyCodeLine{737   \textcolor{keywordflow}{return} !\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_ab3fa7ed061a0267d8637831a60530df9}{marking\_worklists\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MarkingWorklists_a0594b1f874f172690b391eb7b7995a82}{shared}}()-\/>\mbox{\hyperlink{classheap_1_1base_1_1Worklist_a11633eca330d64bee3d8b411c47ee313}{IsEmpty}}() ||}
\DoxyCodeLine{738          (\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a869e37465c47b5fdfd6def2b8fb14adf}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a54f6d0de153be3b373e0375e998f37db}{minor\_mark\_sweep\_collector}}()}
\DoxyCodeLine{739               -\/>\mbox{\hyperlink{classv8_1_1internal_1_1MinorMarkSweepCollector_a10ffa80668ee3e4e942ca566b7ad52af}{remembered\_sets\_marking\_handler}}()}
\DoxyCodeLine{740               -\/>\mbox{\hyperlink{classv8_1_1internal_1_1YoungGenerationRememberedSetsMarkingWorklist_a137c5e0e979d4e5508b2772d324b861f}{RemainingRememberedSetsMarkingIteams}}() > 0);}
\DoxyCodeLine{741 \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+EQ, garbage\+\_\+collector\+\_\+, heap\+\_\+, heap\+::base\+::\+Worklist$<$ Entry\+Type, Min\+Segment\+Size $>$\+::\+Is\+Empty(), v8\+::internal\+::\+MARK\+\_\+\+COMPACTOR, marking\+\_\+worklists\+\_\+, v8\+::internal\+::\+Heap\+::minor\+\_\+mark\+\_\+sweep\+\_\+collector(), v8\+::internal\+::\+MINOR\+\_\+\+MARK\+\_\+\+SWEEPER, v8\+::internal\+::\+Young\+Generation\+Remembered\+Sets\+Marking\+Worklist\+::\+Remaining\+Remembered\+Sets\+Marking\+Iteams(), v8\+::internal\+::\+Minor\+Mark\+Sweep\+Collector\+::remembered\+\_\+sets\+\_\+marking\+\_\+handler(), v8\+::internal\+::\+Marking\+Worklists\+::shared(), and weak\+\_\+objects\+\_\+.



Referenced by Reschedule\+Job\+If\+Needed().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ConcurrentMarking_a01f4fa15082e5255ab26a9b50ba4652e_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ConcurrentMarking_a01f4fa15082e5255ab26a9b50ba4652e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ConcurrentMarking_a43f88ef394ce90569543e44ab0381cf8}\label{classv8_1_1internal_1_1ConcurrentMarking_a43f88ef394ce90569543e44ab0381cf8}} 
\index{v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}!Join@{Join}}
\index{Join@{Join}!v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}}
\doxysubsubsection{\texorpdfstring{Join()}{Join()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Concurrent\+Marking\+::\+Join (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 796 of file concurrent-\/marking.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{796                              \{}
\DoxyCodeLine{797   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.parallel\_marking || \mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.concurrent\_marking ||}
\DoxyCodeLine{798          \mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.concurrent\_minor\_ms\_marking);}
\DoxyCodeLine{799   \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(}
\DoxyCodeLine{800       \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a2671a9d910b14f17fad5c303120da739}{garbage\_collector\_}} == \mbox{\hyperlink{namespacev8_1_1internal_ad504e70236bfcc0478d67053d1ed9ac0a0e4ebf97d76f3fcc0a4f23078b1339f5}{GarbageCollector::MARK\_COMPACTOR}},}
\DoxyCodeLine{801       \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a869e37465c47b5fdfd6def2b8fb14adf}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_af562806aafc1f078a8da45674d431c1a}{mark\_compact\_collector}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MarkCompactCollector_aa709baf43b9629ff0df85d2700caa88b}{UseBackgroundThreadsInCycle}}());}
\DoxyCodeLine{802   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a395f483b2b8552796f42fa6886447112}{job\_handle\_}} || !\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a395f483b2b8552796f42fa6886447112}{job\_handle\_}}-\/>IsValid()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{803   \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a395f483b2b8552796f42fa6886447112}{job\_handle\_}}-\/>Join();}
\DoxyCodeLine{804   \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a380bbf4ba90b49acc9f72bb471c75ee5}{current\_job\_trace\_id\_}}.reset();}
\DoxyCodeLine{805   \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a2671a9d910b14f17fad5c303120da739}{garbage\_collector\_}}.reset();}
\DoxyCodeLine{806   \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a539e11dfc4798b581b2bd6eba269a94f}{minor\_marking\_state\_}}.reset();}
\DoxyCodeLine{807 \}}

\end{DoxyCode}


References current\+\_\+job\+\_\+trace\+\_\+id\+\_\+, v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+IMPLIES, garbage\+\_\+collector\+\_\+, heap\+\_\+, job\+\_\+handle\+\_\+, v8\+::internal\+::\+Heap\+::mark\+\_\+compact\+\_\+collector(), v8\+::internal\+::\+MARK\+\_\+\+COMPACTOR, minor\+\_\+marking\+\_\+state\+\_\+, v8\+::internal\+::\+Mark\+Compact\+Collector\+::\+Use\+Background\+Threads\+In\+Cycle(), and v8\+::internal\+::v8\+\_\+flags.



Referenced by v8\+::internal\+::\+Mark\+Compact\+Collector\+::\+Finish\+Concurrent\+Marking(), and v8\+::internal\+::\+Minor\+Mark\+Sweep\+Collector\+::\+Finish\+Concurrent\+Marking().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ConcurrentMarking_a43f88ef394ce90569543e44ab0381cf8_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ConcurrentMarking_a43f88ef394ce90569543e44ab0381cf8_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ConcurrentMarking_ac043fe6a6fcd24796319496d0e8bd698}\label{classv8_1_1internal_1_1ConcurrentMarking_ac043fe6a6fcd24796319496d0e8bd698}} 
\index{v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}!JoinJobForTesting@{JoinJobForTesting}}
\index{JoinJobForTesting@{JoinJobForTesting}!v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}}
\doxysubsubsection{\texorpdfstring{JoinJobForTesting()}{JoinJobForTesting()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Concurrent\+Marking\+::\+Join\+Job\+For\+Testing (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 809 of file concurrent-\/marking.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{809                                           \{}
\DoxyCodeLine{810   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a395f483b2b8552796f42fa6886447112}{job\_handle\_}} || !\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a395f483b2b8552796f42fa6886447112}{job\_handle\_}}-\/>IsValid()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{811   \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a395f483b2b8552796f42fa6886447112}{job\_handle\_}}-\/>Join();}
\DoxyCodeLine{812 \}}

\end{DoxyCode}


References job\+\_\+handle\+\_\+.

\mbox{\Hypertarget{classv8_1_1internal_1_1ConcurrentMarking_ad4e2d084e35e2c8966c9ca30a0282553}\label{classv8_1_1internal_1_1ConcurrentMarking_ad4e2d084e35e2c8966c9ca30a0282553}} 
\index{v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}!Pause@{Pause}}
\index{Pause@{Pause}!v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}}
\doxysubsubsection{\texorpdfstring{Pause()}{Pause()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Concurrent\+Marking\+::\+Pause (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 814 of file concurrent-\/marking.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{814                               \{}
\DoxyCodeLine{815   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.parallel\_marking || \mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.concurrent\_marking);}
\DoxyCodeLine{816   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a395f483b2b8552796f42fa6886447112}{job\_handle\_}} || !\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a395f483b2b8552796f42fa6886447112}{job\_handle\_}}-\/>IsValid()) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{817 }
\DoxyCodeLine{818   \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a395f483b2b8552796f42fa6886447112}{job\_handle\_}}-\/>Cancel();}
\DoxyCodeLine{819   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a380bbf4ba90b49acc9f72bb471c75ee5}{current\_job\_trace\_id\_}}.has\_value());}
\DoxyCodeLine{820   \mbox{\hyperlink{gc-tracer_8h_a17375713518e1833362b491ef9c163cc}{TRACE\_GC\_NOTE\_WITH\_FLOW}}(\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a2671a9d910b14f17fad5c303120da739}{garbage\_collector\_}} == \mbox{\hyperlink{namespacev8_1_1internal_ad504e70236bfcc0478d67053d1ed9ac0a0e4ebf97d76f3fcc0a4f23078b1339f5}{GarbageCollector::MARK\_COMPACTOR}}}
\DoxyCodeLine{821                               ? \textcolor{stringliteral}{"{}Major concurrent marking paused"{}}}
\DoxyCodeLine{822                               : \textcolor{stringliteral}{"{}Minor concurrent marking paused"{}},}
\DoxyCodeLine{823                           \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a380bbf4ba90b49acc9f72bb471c75ee5}{current\_job\_trace\_id\_}}.value(),}
\DoxyCodeLine{824                           \mbox{\hyperlink{trace-event-no-perfetto_8h_afd116bac8e67a7eafb2b21a62f0a383f}{TRACE\_EVENT\_FLAG\_FLOW\_IN}} | \mbox{\hyperlink{trace-event-no-perfetto_8h_af086bb0f8b985835cc9f35cfe856155f}{TRACE\_EVENT\_FLAG\_FLOW\_OUT}});}
\DoxyCodeLine{825   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{826 \}}

\end{DoxyCode}


References current\+\_\+job\+\_\+trace\+\_\+id\+\_\+, v8\+::internal\+::\+DCHECK(), garbage\+\_\+collector\+\_\+, job\+\_\+handle\+\_\+, v8\+::internal\+::\+MARK\+\_\+\+COMPACTOR, TRACE\+\_\+\+EVENT\+\_\+\+FLAG\+\_\+\+FLOW\+\_\+\+IN, TRACE\+\_\+\+EVENT\+\_\+\+FLAG\+\_\+\+FLOW\+\_\+\+OUT, TRACE\+\_\+\+GC\+\_\+\+NOTE\+\_\+\+WITH\+\_\+\+FLOW, and v8\+::internal\+::v8\+\_\+flags.



Referenced by v8\+::internal\+::\+Heap\+::\+Pause\+Concurrent\+Threads\+In\+Clients(), and v8\+::internal\+::\+Heap\+::\+Start\+Tear\+Down().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ConcurrentMarking_ad4e2d084e35e2c8966c9ca30a0282553_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ConcurrentMarking_ad4e2d084e35e2c8966c9ca30a0282553_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ConcurrentMarking_aaf8d90cff77b3890a4de513377521ce4}\label{classv8_1_1internal_1_1ConcurrentMarking_aaf8d90cff77b3890a4de513377521ce4}} 
\index{v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}!RescheduleJobIfNeeded@{RescheduleJobIfNeeded}}
\index{RescheduleJobIfNeeded@{RescheduleJobIfNeeded}!v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}}
\doxysubsubsection{\texorpdfstring{RescheduleJobIfNeeded()}{RescheduleJobIfNeeded()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Concurrent\+Marking\+::\+Reschedule\+Job\+If\+Needed (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_ad504e70236bfcc0478d67053d1ed9ac0}{Garbage\+Collector}}}]{garbage\+\_\+collector,  }\item[{\mbox{\hyperlink{namespacev8_a680c1a715d1d5df94b21e8b1ee1bf051}{Task\+Priority}}}]{priority = {\ttfamily \mbox{\hyperlink{namespacev8_a680c1a715d1d5df94b21e8b1ee1bf051a602dfdb2b16ea7a1f4392dc3d5761f7d}{Task\+Priority\+::k\+User\+Visible}}} }\end{DoxyParamCaption})}



Definition at line 743 of file concurrent-\/marking.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{744                                                                \{}
\DoxyCodeLine{745   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.parallel\_marking || \mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.concurrent\_marking ||}
\DoxyCodeLine{746          \mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.concurrent\_minor\_ms\_marking);}
\DoxyCodeLine{747 }
\DoxyCodeLine{748   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a884b7ca1bb9c41508d91ca620cdd29a9}{garbage\_collector}} == \mbox{\hyperlink{namespacev8_1_1internal_ad504e70236bfcc0478d67053d1ed9ac0a0e4ebf97d76f3fcc0a4f23078b1339f5}{GarbageCollector::MARK\_COMPACTOR}} \&\&}
\DoxyCodeLine{749       !\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a869e37465c47b5fdfd6def2b8fb14adf}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_af562806aafc1f078a8da45674d431c1a}{mark\_compact\_collector}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MarkCompactCollector_aa709baf43b9629ff0df85d2700caa88b}{UseBackgroundThreadsInCycle}}()) \{}
\DoxyCodeLine{750     \textcolor{keywordflow}{return};}
\DoxyCodeLine{751   \}}
\DoxyCodeLine{752 }
\DoxyCodeLine{753   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a884b7ca1bb9c41508d91ca620cdd29a9}{garbage\_collector}} == \mbox{\hyperlink{namespacev8_1_1internal_ad504e70236bfcc0478d67053d1ed9ac0a650d85b59c887eb439352fdd1dae9345}{GarbageCollector::MINOR\_MARK\_SWEEPER}} \&\&}
\DoxyCodeLine{754       !\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a869e37465c47b5fdfd6def2b8fb14adf}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a54f6d0de153be3b373e0375e998f37db}{minor\_mark\_sweep\_collector}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MinorMarkSweepCollector_a858d520b676140b96ede9158adbdad92}{UseBackgroundThreadsInCycle}}()) \{}
\DoxyCodeLine{755     \textcolor{keywordflow}{return};}
\DoxyCodeLine{756   \}}
\DoxyCodeLine{757 }
\DoxyCodeLine{758   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a869e37465c47b5fdfd6def2b8fb14adf}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a22dabf94de324c0eb88a91d74839f4ec}{IsTearingDown}}()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{759 }
\DoxyCodeLine{760   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a06980681d462120291c2047124cd6a3a}{IsStopped}}()) \{}
\DoxyCodeLine{761     \textcolor{comment}{// This DCHECK is for the case that concurrent marking was paused.}}
\DoxyCodeLine{762     \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a2671a9d910b14f17fad5c303120da739}{garbage\_collector\_}}.has\_value(),}
\DoxyCodeLine{763                    \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a884b7ca1bb9c41508d91ca620cdd29a9}{garbage\_collector}} == \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a2671a9d910b14f17fad5c303120da739}{garbage\_collector\_}});}
\DoxyCodeLine{764     \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a17b832823a3616716aa7497fada881ff}{TryScheduleJob}}(\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a884b7ca1bb9c41508d91ca620cdd29a9}{garbage\_collector}}, priority);}
\DoxyCodeLine{765   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{766     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a2671a9d910b14f17fad5c303120da739}{garbage\_collector\_}}.has\_value());}
\DoxyCodeLine{767     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a884b7ca1bb9c41508d91ca620cdd29a9}{garbage\_collector}}, \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a2671a9d910b14f17fad5c303120da739}{garbage\_collector\_}}.value());}
\DoxyCodeLine{768     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a884b7ca1bb9c41508d91ca620cdd29a9}{garbage\_collector}} == \mbox{\hyperlink{namespacev8_1_1internal_ad504e70236bfcc0478d67053d1ed9ac0a0e4ebf97d76f3fcc0a4f23078b1339f5}{GarbageCollector::MARK\_COMPACTOR}}) \{}
\DoxyCodeLine{769       \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a869e37465c47b5fdfd6def2b8fb14adf}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_af562806aafc1f078a8da45674d431c1a}{mark\_compact\_collector}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MarkCompactCollector_a9a770c9f4b80f0ac788fe5e0f1596713}{local\_marking\_worklists}}()-\/>Publish();}
\DoxyCodeLine{770     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{771       \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a869e37465c47b5fdfd6def2b8fb14adf}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a54f6d0de153be3b373e0375e998f37db}{minor\_mark\_sweep\_collector}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MinorMarkSweepCollector_a5fb590b6c510fa4a97e572606eaf6581}{local\_marking\_worklists}}()-\/>Publish();}
\DoxyCodeLine{772     \}}
\DoxyCodeLine{773     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a01f4fa15082e5255ab26a9b50ba4652e}{IsWorkLeft}}()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{774     \textcolor{keywordflow}{if} (priority != \mbox{\hyperlink{namespacev8_a680c1a715d1d5df94b21e8b1ee1bf051a602dfdb2b16ea7a1f4392dc3d5761f7d}{TaskPriority::kUserVisible}})}
\DoxyCodeLine{775       \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a395f483b2b8552796f42fa6886447112}{job\_handle\_}}-\/>UpdatePriority(priority);}
\DoxyCodeLine{776     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a380bbf4ba90b49acc9f72bb471c75ee5}{current\_job\_trace\_id\_}}.has\_value());}
\DoxyCodeLine{777     \mbox{\hyperlink{gc-tracer_8h_a17375713518e1833362b491ef9c163cc}{TRACE\_GC\_NOTE\_WITH\_FLOW}}(}
\DoxyCodeLine{778         \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a2671a9d910b14f17fad5c303120da739}{garbage\_collector\_}} == \mbox{\hyperlink{namespacev8_1_1internal_ad504e70236bfcc0478d67053d1ed9ac0a0e4ebf97d76f3fcc0a4f23078b1339f5}{GarbageCollector::MARK\_COMPACTOR}}}
\DoxyCodeLine{779             ? \textcolor{stringliteral}{"{}Major concurrent marking rescheduled"{}}}
\DoxyCodeLine{780             : \textcolor{stringliteral}{"{}Minor concurrent marking rescheduled"{}},}
\DoxyCodeLine{781         \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a380bbf4ba90b49acc9f72bb471c75ee5}{current\_job\_trace\_id\_}}.value(),}
\DoxyCodeLine{782         \mbox{\hyperlink{trace-event-no-perfetto_8h_afd116bac8e67a7eafb2b21a62f0a383f}{TRACE\_EVENT\_FLAG\_FLOW\_IN}} | \mbox{\hyperlink{trace-event-no-perfetto_8h_af086bb0f8b985835cc9f35cfe856155f}{TRACE\_EVENT\_FLAG\_FLOW\_OUT}});}
\DoxyCodeLine{783     \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a395f483b2b8552796f42fa6886447112}{job\_handle\_}}-\/>NotifyConcurrencyIncrease();}
\DoxyCodeLine{784   \}}
\DoxyCodeLine{785 \}}

\end{DoxyCode}


References current\+\_\+job\+\_\+trace\+\_\+id\+\_\+, v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+EQ, DCHECK\+\_\+\+IMPLIES, garbage\+\_\+collector(), garbage\+\_\+collector\+\_\+, heap\+\_\+, Is\+Stopped(), v8\+::internal\+::\+Heap\+::\+Is\+Tearing\+Down(), Is\+Work\+Left(), job\+\_\+handle\+\_\+, v8\+::k\+User\+Visible, v8\+::internal\+::\+Minor\+Mark\+Sweep\+Collector\+::local\+\_\+marking\+\_\+worklists(), v8\+::internal\+::\+Mark\+Compact\+Collector\+::local\+\_\+marking\+\_\+worklists(), v8\+::internal\+::\+Heap\+::mark\+\_\+compact\+\_\+collector(), v8\+::internal\+::\+MARK\+\_\+\+COMPACTOR, v8\+::internal\+::\+Heap\+::minor\+\_\+mark\+\_\+sweep\+\_\+collector(), v8\+::internal\+::\+MINOR\+\_\+\+MARK\+\_\+\+SWEEPER, TRACE\+\_\+\+EVENT\+\_\+\+FLAG\+\_\+\+FLOW\+\_\+\+IN, TRACE\+\_\+\+EVENT\+\_\+\+FLAG\+\_\+\+FLOW\+\_\+\+OUT, TRACE\+\_\+\+GC\+\_\+\+NOTE\+\_\+\+WITH\+\_\+\+FLOW, Try\+Schedule\+Job(), v8\+::internal\+::\+Mark\+Compact\+Collector\+::\+Use\+Background\+Threads\+In\+Cycle(), v8\+::internal\+::\+Minor\+Mark\+Sweep\+Collector\+::\+Use\+Background\+Threads\+In\+Cycle(), and v8\+::internal\+::v8\+\_\+flags.



Referenced by v8\+::internal\+::\+Paged\+New\+Space\+Allocator\+Policy\+::\+Ensure\+Allocation(), v8\+::internal\+::\+Minor\+Mark\+Sweep\+Collector\+::\+Mark\+Live\+Objects(), v8\+::internal\+::\+Mark\+Compact\+Collector\+::\+Maybe\+Enable\+Background\+Threads\+In\+Cycle(), Resume(), and v8\+::internal\+::\+Incremental\+Marking\+::\+Step().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ConcurrentMarking_aaf8d90cff77b3890a4de513377521ce4_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ConcurrentMarking_aaf8d90cff77b3890a4de513377521ce4_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ConcurrentMarking_afbbcbe61c7b306f93be9ddd1b365b18d}\label{classv8_1_1internal_1_1ConcurrentMarking_afbbcbe61c7b306f93be9ddd1b365b18d}} 
\index{v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}!Resume@{Resume}}
\index{Resume@{Resume}!v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}}
\doxysubsubsection{\texorpdfstring{Resume()}{Resume()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Concurrent\+Marking\+::\+Resume (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 834 of file concurrent-\/marking.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{834                                \{}
\DoxyCodeLine{835   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a2671a9d910b14f17fad5c303120da739}{garbage\_collector\_}}.has\_value());}
\DoxyCodeLine{836   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a380bbf4ba90b49acc9f72bb471c75ee5}{current\_job\_trace\_id\_}}.has\_value());}
\DoxyCodeLine{837   \mbox{\hyperlink{gc-tracer_8h_a17375713518e1833362b491ef9c163cc}{TRACE\_GC\_NOTE\_WITH\_FLOW}}(\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a2671a9d910b14f17fad5c303120da739}{garbage\_collector\_}} == \mbox{\hyperlink{namespacev8_1_1internal_ad504e70236bfcc0478d67053d1ed9ac0a0e4ebf97d76f3fcc0a4f23078b1339f5}{GarbageCollector::MARK\_COMPACTOR}}}
\DoxyCodeLine{838                               ? \textcolor{stringliteral}{"{}Major concurrent marking resumed"{}}}
\DoxyCodeLine{839                               : \textcolor{stringliteral}{"{}Minor concurrent marking resumed"{}},}
\DoxyCodeLine{840                           \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a380bbf4ba90b49acc9f72bb471c75ee5}{current\_job\_trace\_id\_}}.value(),}
\DoxyCodeLine{841                           \mbox{\hyperlink{trace-event-no-perfetto_8h_afd116bac8e67a7eafb2b21a62f0a383f}{TRACE\_EVENT\_FLAG\_FLOW\_IN}} | \mbox{\hyperlink{trace-event-no-perfetto_8h_af086bb0f8b985835cc9f35cfe856155f}{TRACE\_EVENT\_FLAG\_FLOW\_OUT}});}
\DoxyCodeLine{842   \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_aaf8d90cff77b3890a4de513377521ce4}{RescheduleJobIfNeeded}}(\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a2671a9d910b14f17fad5c303120da739}{garbage\_collector\_}}.value());}
\DoxyCodeLine{843 \}}

\end{DoxyCode}


References current\+\_\+job\+\_\+trace\+\_\+id\+\_\+, v8\+::internal\+::\+DCHECK(), garbage\+\_\+collector\+\_\+, v8\+::internal\+::\+MARK\+\_\+\+COMPACTOR, Reschedule\+Job\+If\+Needed(), TRACE\+\_\+\+EVENT\+\_\+\+FLAG\+\_\+\+FLOW\+\_\+\+IN, TRACE\+\_\+\+EVENT\+\_\+\+FLAG\+\_\+\+FLOW\+\_\+\+OUT, and TRACE\+\_\+\+GC\+\_\+\+NOTE\+\_\+\+WITH\+\_\+\+FLOW.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ConcurrentMarking_afbbcbe61c7b306f93be9ddd1b365b18d_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ConcurrentMarking_a7d0d86a36f332aaaa86ea5e0a47ca2b6}\label{classv8_1_1internal_1_1ConcurrentMarking_a7d0d86a36f332aaaa86ea5e0a47ca2b6}} 
\index{v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}!RunMajor@{RunMajor}}
\index{RunMajor@{RunMajor}!v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}}
\doxysubsubsection{\texorpdfstring{RunMajor()}{RunMajor()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Concurrent\+Marking\+::\+Run\+Major (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1JobDelegate}{Job\+Delegate}} $\ast$}]{delegate,  }\item[{\mbox{\hyperlink{classv8_1_1base_1_1EnumSet}{base\+::\+Enum\+Set}}$<$ \mbox{\hyperlink{namespacev8_1_1internal_aa9a47c3d58feefc8747cef370681925b}{Code\+Flush\+Mode}} $>$}]{code\+\_\+flush\+\_\+mode,  }\item[{unsigned}]{mark\+\_\+compact\+\_\+epoch,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}}}]{should\+\_\+keep\+\_\+ages\+\_\+unchanged }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 348 of file concurrent-\/marking.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{351                                                                   \{}
\DoxyCodeLine{352   \textcolor{keywordtype}{size\_t} kBytesUntilInterruptCheck = 64 * \mbox{\hyperlink{namespacev8_1_1internal_a93b2e7c72fa0878021b495b6f3cec820}{KB}};}
\DoxyCodeLine{353   \textcolor{keywordtype}{int} kObjectsUntilInterruptCheck = 1000;}
\DoxyCodeLine{354   uint8\_t task\_id = delegate-\/>GetTaskId() + 1;}
\DoxyCodeLine{355   TaskState* task\_state = \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_ac2293bf5bb359833bddbf2f074b668f1}{task\_state\_}}[task\_id].get();}
\DoxyCodeLine{356   \textcolor{keyword}{auto}* cpp\_heap = \mbox{\hyperlink{classv8_1_1internal_1_1CppHeap_a8298280d36073a63d9787cd1167aaefa}{CppHeap::From}}(\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a869e37465c47b5fdfd6def2b8fb14adf}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a24145cfb85d15c42c670288e26308822}{cpp\_heap}}());}
\DoxyCodeLine{357   \mbox{\hyperlink{classv8_1_1internal_1_1MarkingWorklists_a941d07bdea68cc187975415adc4dac79}{MarkingWorklists::Local}} local\_marking\_worklists(}
\DoxyCodeLine{358       \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_ab3fa7ed061a0267d8637831a60530df9}{marking\_worklists\_}}, cpp\_heap}
\DoxyCodeLine{359                               ? cpp\_heap-\/>CreateCppMarkingState()}
\DoxyCodeLine{360                               : MarkingWorklists::Local::kNoCppMarkingState);}
\DoxyCodeLine{361   WeakObjects::Local local\_weak\_objects(\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_ae4f889dcf389b82407f0e617546b4b3f}{weak\_objects\_}});}
\DoxyCodeLine{362   ConcurrentMarkingVisitor visitor(}
\DoxyCodeLine{363       \&local\_marking\_worklists, \&local\_weak\_objects, \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a869e37465c47b5fdfd6def2b8fb14adf}{heap\_}}, mark\_compact\_epoch,}
\DoxyCodeLine{364       code\_flush\_mode, should\_keep\_ages\_unchanged,}
\DoxyCodeLine{365       \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a869e37465c47b5fdfd6def2b8fb14adf}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_abdd7e3821604a14452281640366cc9bb}{tracer}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1GCTracer_a52bba12f494cafdfa348e34457698eaf}{CodeFlushingIncrease}}(),}
\DoxyCodeLine{366       \&task\_state-\/>memory\_chunk\_live\_bytes\_map,}
\DoxyCodeLine{367       \&task\_state-\/>memory\_chunk\_typed\_slots\_map);}
\DoxyCodeLine{368   NativeContextInferrer native\_context\_inferrer;}
\DoxyCodeLine{369   NativeContextStats\& native\_context\_stats = task\_state-\/>native\_context\_stats;}
\DoxyCodeLine{370   \textcolor{keywordtype}{double} time\_ms;}
\DoxyCodeLine{371   \textcolor{keywordtype}{size\_t} marked\_bytes = 0;}
\DoxyCodeLine{372   Isolate* isolate = \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a869e37465c47b5fdfd6def2b8fb14adf}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_ae5160ad63bc51ff7b36e8f247be48f63}{isolate}}();}
\DoxyCodeLine{373   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_concurrent\_marking) \{}
\DoxyCodeLine{374     isolate-\/>PrintWithTimestamp(\textcolor{stringliteral}{"{}Starting major concurrent marking task \%d\(\backslash\)n"{}},}
\DoxyCodeLine{375                                 task\_id);}
\DoxyCodeLine{376   \}}
\DoxyCodeLine{377   \textcolor{keywordtype}{bool} \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_aece67b16f36fe0fcea37a7bd7de858f6}{another\_ephemeron\_iteration}} = \textcolor{keyword}{false};}
\DoxyCodeLine{378   MainAllocator* \textcolor{keyword}{const} new\_space\_allocator =}
\DoxyCodeLine{379       \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a869e37465c47b5fdfd6def2b8fb14adf}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a3498d35123e49efe70dd0921c5dda802}{use\_new\_space}}() ? \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a869e37465c47b5fdfd6def2b8fb14adf}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a71a5010a2dde4bbad050c4947dc450e2}{allocator}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1HeapAllocator_a021e4a3fc4d7ff340e494fa638d848ef}{new\_space\_allocator}}()}
\DoxyCodeLine{380                              : \textcolor{keyword}{nullptr};}
\DoxyCodeLine{381 }
\DoxyCodeLine{382   \{}
\DoxyCodeLine{383     TimedScope scope(\&time\_ms);}
\DoxyCodeLine{384 }
\DoxyCodeLine{385     \{}
\DoxyCodeLine{386       Ephemeron ephemeron;}
\DoxyCodeLine{387       \textcolor{keywordflow}{while} (local\_weak\_objects.current\_ephemerons\_local.Pop(\&ephemeron)) \{}
\DoxyCodeLine{388         \textcolor{keywordflow}{if} (visitor.ProcessEphemeron(ephemeron.key, ephemeron.value)) \{}
\DoxyCodeLine{389           \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_aece67b16f36fe0fcea37a7bd7de858f6}{another\_ephemeron\_iteration}} = \textcolor{keyword}{true};}
\DoxyCodeLine{390         \}}
\DoxyCodeLine{391       \}}
\DoxyCodeLine{392     \}}
\DoxyCodeLine{393     PtrComprCageBase cage\_base(isolate);}
\DoxyCodeLine{394     \textcolor{keywordtype}{bool} is\_per\_context\_mode = local\_marking\_worklists.IsPerContextMode();}
\DoxyCodeLine{395     \textcolor{keywordtype}{bool} done = \textcolor{keyword}{false};}
\DoxyCodeLine{396     \textcolor{keywordflow}{while} (!done) \{}
\DoxyCodeLine{397       \textcolor{keywordtype}{size\_t} current\_marked\_bytes = 0;}
\DoxyCodeLine{398       \textcolor{keywordtype}{int} objects\_processed = 0;}
\DoxyCodeLine{399       \textcolor{keywordflow}{while} (current\_marked\_bytes < kBytesUntilInterruptCheck \&\&}
\DoxyCodeLine{400              objects\_processed < kObjectsUntilInterruptCheck) \{}
\DoxyCodeLine{401         \mbox{\hyperlink{namespacev8_1_1internal_a57f5ecf71b9a2757b0555b2be4c640b8}{Tagged<HeapObject>}} object;}
\DoxyCodeLine{402         \textcolor{keywordflow}{if} (!local\_marking\_worklists.Pop(\&\textcolor{keywordtype}{object})) \{}
\DoxyCodeLine{403           done = \textcolor{keyword}{true};}
\DoxyCodeLine{404           \textcolor{keywordflow}{break};}
\DoxyCodeLine{405         \}}
\DoxyCodeLine{406         \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!\mbox{\hyperlink{classv8_1_1internal_1_1HeapLayout_a91ac1680dc7f626bd8675e14ac660240}{HeapLayout::InReadOnlySpace}}(\textcolor{keywordtype}{object}));}
\DoxyCodeLine{407         \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1HeapUtils_a0ca292749d64b1e6459e456cedc515b1}{HeapUtils::GetOwnerHeap}}(\textcolor{keywordtype}{object}), \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a869e37465c47b5fdfd6def2b8fb14adf}{heap\_}});}
\DoxyCodeLine{408         objects\_processed++;}
\DoxyCodeLine{409 }
\DoxyCodeLine{410         \mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} new\_space\_top = \mbox{\hyperlink{namespacev8_1_1internal_acf6bafb5b8483a580f375393c413ee02}{kNullAddress}};}
\DoxyCodeLine{411         \mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} new\_space\_limit = \mbox{\hyperlink{namespacev8_1_1internal_acf6bafb5b8483a580f375393c413ee02}{kNullAddress}};}
\DoxyCodeLine{412         \mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} new\_large\_object = \mbox{\hyperlink{namespacev8_1_1internal_acf6bafb5b8483a580f375393c413ee02}{kNullAddress}};}
\DoxyCodeLine{413 }
\DoxyCodeLine{414         \textcolor{keywordflow}{if} (new\_space\_allocator) \{}
\DoxyCodeLine{415           std::tie(new\_space\_top, new\_space\_limit) =}
\DoxyCodeLine{416               new\_space\_allocator-\/>GetOriginalTopAndLimit();}
\DoxyCodeLine{417         \}}
\DoxyCodeLine{418 }
\DoxyCodeLine{419         \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a869e37465c47b5fdfd6def2b8fb14adf}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a2dd38bcac0a916cc4eeedd9d14044882}{new\_lo\_space}}()) \{}
\DoxyCodeLine{420           new\_large\_object = \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a869e37465c47b5fdfd6def2b8fb14adf}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a2dd38bcac0a916cc4eeedd9d14044882}{new\_lo\_space}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1LargeObjectSpace_a595a954c7b11bff8f64d8ca72c502752}{pending\_object}}();}
\DoxyCodeLine{421         \}}
\DoxyCodeLine{422 }
\DoxyCodeLine{423         \mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} addr = \textcolor{keywordtype}{object}.address();}
\DoxyCodeLine{424 }
\DoxyCodeLine{425         \textcolor{keywordflow}{if} ((new\_space\_top <= addr \&\& addr < new\_space\_limit) ||}
\DoxyCodeLine{426             addr == new\_large\_object) \{}
\DoxyCodeLine{427           local\_marking\_worklists.PushOnHold(\textcolor{keywordtype}{object});}
\DoxyCodeLine{428         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{429           Tagged<Map> map = \textcolor{keywordtype}{object}-\/>map(cage\_base, \mbox{\hyperlink{namespacev8_aee4e677b8d8a86416617b3330778b98a}{kAcquireLoad}});}
\DoxyCodeLine{430           \textcolor{comment}{// The marking worklist should never contain filler objects.}}
\DoxyCodeLine{431           \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(!IsFreeSpaceOrFillerMap(map));}
\DoxyCodeLine{432           \textcolor{keywordflow}{if} (is\_per\_context\_mode) \{}
\DoxyCodeLine{433             \mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} context;}
\DoxyCodeLine{434             \textcolor{keywordflow}{if} (native\_context\_inferrer.Infer(cage\_base, map, \textcolor{keywordtype}{object},}
\DoxyCodeLine{435                                               \&context)) \{}
\DoxyCodeLine{436               local\_marking\_worklists.SwitchToContext(context);}
\DoxyCodeLine{437             \}}
\DoxyCodeLine{438           \}}
\DoxyCodeLine{439           \textcolor{keyword}{const} \textcolor{keyword}{auto} visited\_size = visitor.Visit(map, \textcolor{keywordtype}{object});}
\DoxyCodeLine{440           visitor.IncrementLiveBytesCached(}
\DoxyCodeLine{441               \mbox{\hyperlink{classv8_1_1internal_1_1MutablePageMetadata_acaa892e234b2fe3170fa488f5a9a3767}{MutablePageMetadata::cast}}(}
\DoxyCodeLine{442                   \mbox{\hyperlink{classv8_1_1internal_1_1MemoryChunkMetadata_a34b0d9ac55f0ded87015ec95d6a43d46}{MemoryChunkMetadata::FromHeapObject}}(\textcolor{keywordtype}{object})),}
\DoxyCodeLine{443               \mbox{\hyperlink{common_2globals_8h_a76f936b13cc7401de647c23963eda5c1}{ALIGN\_TO\_ALLOCATION\_ALIGNMENT}}(visited\_size));}
\DoxyCodeLine{444           \textcolor{keywordflow}{if} (is\_per\_context\_mode) \{}
\DoxyCodeLine{445             native\_context\_stats.IncrementSize(}
\DoxyCodeLine{446                 local\_marking\_worklists.Context(), map, \textcolor{keywordtype}{object}, visited\_size);}
\DoxyCodeLine{447           \}}
\DoxyCodeLine{448           current\_marked\_bytes += visited\_size;}
\DoxyCodeLine{449         \}}
\DoxyCodeLine{450       \}}
\DoxyCodeLine{451       \textcolor{keywordflow}{if} (objects\_processed > 0) \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_aece67b16f36fe0fcea37a7bd7de858f6}{another\_ephemeron\_iteration}} = \textcolor{keyword}{true};}
\DoxyCodeLine{452       marked\_bytes += current\_marked\_bytes;}
\DoxyCodeLine{453       base::AsAtomicWord::Relaxed\_Store<size\_t>(\&task\_state-\/>marked\_bytes,}
\DoxyCodeLine{454                                                 marked\_bytes);}
\DoxyCodeLine{455       \textcolor{keywordflow}{if} (delegate-\/>ShouldYield()) \{}
\DoxyCodeLine{456         \mbox{\hyperlink{gc-tracer_8h_a778c16110e50ea3b0ebd622fba42f4a5}{TRACE\_GC\_NOTE}}(\textcolor{stringliteral}{"{}ConcurrentMarking::RunMajor Preempted"{}});}
\DoxyCodeLine{457         \textcolor{keywordflow}{break};}
\DoxyCodeLine{458       \}}
\DoxyCodeLine{459     \}}
\DoxyCodeLine{460 }
\DoxyCodeLine{461     \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(local\_weak\_objects.current\_ephemerons\_local.IsLocalEmpty());}
\DoxyCodeLine{462 }
\DoxyCodeLine{463     local\_marking\_worklists.Publish();}
\DoxyCodeLine{464     local\_weak\_objects.Publish();}
\DoxyCodeLine{465     base::AsAtomicWord::Relaxed\_Store<size\_t>(\&task\_state-\/>marked\_bytes, 0);}
\DoxyCodeLine{466     \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a3ea202ffbd613a6bf2eed6173d735cef}{total\_marked\_bytes\_}} += marked\_bytes;}
\DoxyCodeLine{467 }
\DoxyCodeLine{468     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_aece67b16f36fe0fcea37a7bd7de858f6}{another\_ephemeron\_iteration}}) \{}
\DoxyCodeLine{469       \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_adad9b09397a5d864fbfc58c3ac91ccda}{set\_another\_ephemeron\_iteration}}(\textcolor{keyword}{true});}
\DoxyCodeLine{470     \}}
\DoxyCodeLine{471   \}}
\DoxyCodeLine{472   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_concurrent\_marking) \{}
\DoxyCodeLine{473     \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a869e37465c47b5fdfd6def2b8fb14adf}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_ae5160ad63bc51ff7b36e8f247be48f63}{isolate}}()-\/>PrintWithTimestamp(}
\DoxyCodeLine{474         \textcolor{stringliteral}{"{}Major task \%d concurrently marked \%dKB in \%.2fms\(\backslash\)n"{}}, task\_id,}
\DoxyCodeLine{475         \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(marked\_bytes / \mbox{\hyperlink{namespacev8_1_1internal_a93b2e7c72fa0878021b495b6f3cec820}{KB}}), time\_ms);}
\DoxyCodeLine{476   \}}
\DoxyCodeLine{477 }
\DoxyCodeLine{478   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(task\_state-\/>local\_pretenuring\_feedback.empty());}
\DoxyCodeLine{479 \}}

\end{DoxyCode}


References ALIGN\+\_\+\+TO\+\_\+\+ALLOCATION\+\_\+\+ALIGNMENT, v8\+::internal\+::\+Heap\+::allocator(), another\+\_\+ephemeron\+\_\+iteration(), v8\+::internal\+::\+Mutable\+Page\+Metadata\+::cast(), CHECK, v8\+::internal\+::\+GCTracer\+::\+Code\+Flushing\+Increase(), v8\+::internal\+::\+Heap\+::cpp\+\_\+heap(), v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+EQ, v8\+::internal\+::\+Cpp\+Heap\+::\+From(), v8\+::internal\+::\+Memory\+Chunk\+Metadata\+::\+From\+Heap\+Object(), v8\+::internal\+::\+Main\+Allocator\+::\+Get\+Original\+Top\+And\+Limit(), v8\+::internal\+::\+Heap\+Utils\+::\+Get\+Owner\+Heap(), v8\+::\+Job\+Delegate\+::\+Get\+Task\+Id(), heap\+\_\+, v8\+::internal\+::\+Concurrent\+Marking\+Visitor\+::\+Increment\+Live\+Bytes\+Cached(), v8\+::internal\+::\+Native\+Context\+Stats\+::\+Increment\+Size(), v8\+::internal\+::\+Native\+Context\+Inferrer\+::\+Infer(), v8\+::internal\+::\+Heap\+Layout\+::\+In\+Read\+Only\+Space(), v8\+::internal\+::\+Heap\+::isolate(), v8\+::k\+Acquire\+Load, v8\+::internal\+::\+KB, v8\+::internal\+::\+Ephemeron\+::key, v8\+::internal\+::k\+Null\+Address, v8\+::internal\+::\+Marking\+Worklists\+::\+Local(), v8\+::internal\+::\+Concurrent\+Marking\+::\+Task\+State\+::local\+\_\+pretenuring\+\_\+feedback, v8\+::internal\+::\+Concurrent\+Marking\+::\+Task\+State\+::marked\+\_\+bytes, marking\+\_\+worklists\+\_\+, v8\+::internal\+::\+Concurrent\+Marking\+::\+Task\+State\+::memory\+\_\+chunk\+\_\+live\+\_\+bytes\+\_\+map, v8\+::internal\+::\+Concurrent\+Marking\+::\+Task\+State\+::memory\+\_\+chunk\+\_\+typed\+\_\+slots\+\_\+map, v8\+::internal\+::\+Concurrent\+Marking\+::\+Task\+State\+::native\+\_\+context\+\_\+stats, v8\+::internal\+::\+Heap\+::new\+\_\+lo\+\_\+space(), v8\+::internal\+::\+Heap\+Allocator\+::new\+\_\+space\+\_\+allocator(), v8\+::internal\+::\+Large\+Object\+Space\+::pending\+\_\+object(), v8\+::internal\+::\+Concurrent\+Marking\+Visitor\+::\+Process\+Ephemeron(), v8\+::internal\+::\+Weak\+Objects\+::\+Local\+::\+Publish(), set\+\_\+another\+\_\+ephemeron\+\_\+iteration(), v8\+::\+Job\+Delegate\+::\+Should\+Yield(), task\+\_\+state\+\_\+, total\+\_\+marked\+\_\+bytes\+\_\+, TRACE\+\_\+\+GC\+\_\+\+NOTE, v8\+::internal\+::\+Heap\+::tracer(), v8\+::internal\+::\+Heap\+::use\+\_\+new\+\_\+space(), v8\+::internal\+::v8\+\_\+flags, v8\+::internal\+::\+Ephemeron\+::value, v8\+::internal\+::\+Heap\+Visitor$<$ Concrete\+Visitor $>$\+::\+Visit(), and weak\+\_\+objects\+\_\+.



Referenced by v8\+::internal\+::\+Concurrent\+Marking\+::\+Job\+Task\+Major\+::\+Run().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ConcurrentMarking_a7d0d86a36f332aaaa86ea5e0a47ca2b6_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ConcurrentMarking_a7d0d86a36f332aaaa86ea5e0a47ca2b6_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ConcurrentMarking_ad415d72021dfd7bbf36c9ec12f581a7b}\label{classv8_1_1internal_1_1ConcurrentMarking_ad415d72021dfd7bbf36c9ec12f581a7b}} 
\index{v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}!RunMinor@{RunMinor}}
\index{RunMinor@{RunMinor}!v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}}
\doxysubsubsection{\texorpdfstring{RunMinor()}{RunMinor()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Concurrent\+Marking\+::\+Run\+Minor (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1JobDelegate}{Job\+Delegate}} $\ast$}]{delegate }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 578 of file concurrent-\/marking.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{578                                                       \{}
\DoxyCodeLine{579   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a869e37465c47b5fdfd6def2b8fb14adf}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a3498d35123e49efe70dd0921c5dda802}{use\_new\_space}}());}
\DoxyCodeLine{580   \mbox{\hyperlink{src_2base_2logging_8h_a7b9f9517fedacc2a1a56c2bbb9d03688}{DCHECK\_NOT\_NULL}}(\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a869e37465c47b5fdfd6def2b8fb14adf}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a2dd38bcac0a916cc4eeedd9d14044882}{new\_lo\_space}}());}
\DoxyCodeLine{581   uint8\_t task\_id = delegate-\/>GetTaskId() + 1;}
\DoxyCodeLine{582   \mbox{\hyperlink{src_2base_2logging_8h_af1a711c8d5520dff78858ddefd2ad668}{DCHECK\_LT}}(task\_id, \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_ac2293bf5bb359833bddbf2f074b668f1}{task\_state\_}}.size());}
\DoxyCodeLine{583   TaskState* task\_state = \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_ac2293bf5bb359833bddbf2f074b668f1}{task\_state\_}}[task\_id].get();}
\DoxyCodeLine{584   \textcolor{keywordtype}{double} time\_ms;}
\DoxyCodeLine{585   \textcolor{keywordtype}{size\_t} marked\_bytes = 0;}
\DoxyCodeLine{586   Isolate* isolate = \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a869e37465c47b5fdfd6def2b8fb14adf}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_ae5160ad63bc51ff7b36e8f247be48f63}{isolate}}();}
\DoxyCodeLine{587   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_concurrent\_marking) \{}
\DoxyCodeLine{588     isolate-\/>PrintWithTimestamp(\textcolor{stringliteral}{"{}Starting minor concurrent marking task \%d\(\backslash\)n"{}},}
\DoxyCodeLine{589                                 task\_id);}
\DoxyCodeLine{590   \}}
\DoxyCodeLine{591 }
\DoxyCodeLine{592   \{}
\DoxyCodeLine{593     TimedScope scope(\&time\_ms);}
\DoxyCodeLine{594     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a869e37465c47b5fdfd6def2b8fb14adf}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a54f6d0de153be3b373e0375e998f37db}{minor\_mark\_sweep\_collector}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MinorMarkSweepCollector_a6d403dd48201eabbdaf85614241dc5b5}{is\_in\_atomic\_pause}}()) \{}
\DoxyCodeLine{595       \textcolor{comment}{// This gets a lower bound for estimated concurrency as we may have marked}}
\DoxyCodeLine{596       \textcolor{comment}{// most of the graph concurrently already and may not be using parallism}}
\DoxyCodeLine{597       \textcolor{comment}{// as much.}}
\DoxyCodeLine{598       \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a297038c829a4c571fd936fd4b75f2524}{estimate\_concurrency\_}}.fetch\_add(1, std::memory\_order\_relaxed);}
\DoxyCodeLine{599       marked\_bytes =}
\DoxyCodeLine{600           RunMinorImpl<YoungGenerationMarkingVisitationMode::kParallel>(}
\DoxyCodeLine{601               delegate, task\_state);}
\DoxyCodeLine{602     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{603       marked\_bytes =}
\DoxyCodeLine{604           RunMinorImpl<YoungGenerationMarkingVisitationMode::kConcurrent>(}
\DoxyCodeLine{605               delegate, task\_state);}
\DoxyCodeLine{606     \}}
\DoxyCodeLine{607   \}}
\DoxyCodeLine{608 }
\DoxyCodeLine{609   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_concurrent\_marking) \{}
\DoxyCodeLine{610     \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a869e37465c47b5fdfd6def2b8fb14adf}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_ae5160ad63bc51ff7b36e8f247be48f63}{isolate}}()-\/>PrintWithTimestamp(}
\DoxyCodeLine{611         \textcolor{stringliteral}{"{}Minor task \%d concurrently marked \%dKB in \%.2fms\(\backslash\)n"{}}, task\_id,}
\DoxyCodeLine{612         \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(marked\_bytes / \mbox{\hyperlink{namespacev8_1_1internal_a93b2e7c72fa0878021b495b6f3cec820}{KB}}), time\_ms);}
\DoxyCodeLine{613   \}}
\DoxyCodeLine{614 \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+LT, DCHECK\+\_\+\+NOT\+\_\+\+NULL, estimate\+\_\+concurrency\+\_\+, v8\+::\+Job\+Delegate\+::\+Get\+Task\+Id(), heap\+\_\+, v8\+::internal\+::\+Minor\+Mark\+Sweep\+Collector\+::is\+\_\+in\+\_\+atomic\+\_\+pause(), v8\+::internal\+::\+Heap\+::isolate(), v8\+::internal\+::\+KB, v8\+::internal\+::\+Heap\+::minor\+\_\+mark\+\_\+sweep\+\_\+collector(), v8\+::internal\+::\+Heap\+::new\+\_\+lo\+\_\+space(), task\+\_\+state\+\_\+, v8\+::internal\+::\+Heap\+::use\+\_\+new\+\_\+space(), and v8\+::internal\+::v8\+\_\+flags.



Referenced by v8\+::internal\+::\+Concurrent\+Marking\+::\+Job\+Task\+Minor\+::\+Run().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ConcurrentMarking_ad415d72021dfd7bbf36c9ec12f581a7b_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ConcurrentMarking_ad415d72021dfd7bbf36c9ec12f581a7b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ConcurrentMarking_ad5dc50a491fbb7e171f0c37c911388af}\label{classv8_1_1internal_1_1ConcurrentMarking_ad5dc50a491fbb7e171f0c37c911388af}} 
\index{v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}!RunMinorImpl@{RunMinorImpl}}
\index{RunMinorImpl@{RunMinorImpl}!v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}}
\doxysubsubsection{\texorpdfstring{RunMinorImpl()}{RunMinorImpl()}}
{\footnotesize\ttfamily template$<$Young\+Generation\+Marking\+Visitation\+Mode marking\+\_\+mode$>$ \\
\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::\+Concurrent\+Marking\+::\+Run\+Minor\+Impl (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1JobDelegate}{Job\+Delegate}} $\ast$}]{delegate,  }\item[{\mbox{\hyperlink{structv8_1_1internal_1_1ConcurrentMarking_1_1TaskState}{Task\+State}} $\ast$}]{task\+\_\+state }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 517 of file concurrent-\/marking.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{518                                                                         \{}
\DoxyCodeLine{519   \textcolor{keyword}{static} constexpr \textcolor{keywordtype}{size\_t} kBytesUntilInterruptCheck = 64 * \mbox{\hyperlink{namespacev8_1_1internal_a93b2e7c72fa0878021b495b6f3cec820}{KB}};}
\DoxyCodeLine{520   \textcolor{keyword}{static} constexpr \textcolor{keywordtype}{int} kObjectsUntilInterruptCheck = 1000;}
\DoxyCodeLine{521   \textcolor{keywordtype}{size\_t} marked\_bytes = 0;}
\DoxyCodeLine{522   \textcolor{keywordtype}{size\_t} current\_marked\_bytes = 0;}
\DoxyCodeLine{523   \textcolor{keywordtype}{int} objects\_processed = 0;}
\DoxyCodeLine{524   YoungGenerationMarkingVisitor<marking\_mode> visitor(}
\DoxyCodeLine{525       \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a869e37465c47b5fdfd6def2b8fb14adf}{heap\_}}, \&task\_state-\/>local\_pretenuring\_feedback);}
\DoxyCodeLine{526   YoungGenerationRememberedSetsMarkingWorklist::Local remembered\_sets(}
\DoxyCodeLine{527       \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a869e37465c47b5fdfd6def2b8fb14adf}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a54f6d0de153be3b373e0375e998f37db}{minor\_mark\_sweep\_collector}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MinorMarkSweepCollector_a10ffa80668ee3e4e942ca566b7ad52af}{remembered\_sets\_marking\_handler}}());}
\DoxyCodeLine{528   \textcolor{keyword}{auto}\& marking\_worklists\_local = visitor.marking\_worklists\_local();}
\DoxyCodeLine{529   Isolate* isolate = \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a869e37465c47b5fdfd6def2b8fb14adf}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_ae5160ad63bc51ff7b36e8f247be48f63}{isolate}}();}
\DoxyCodeLine{530   \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a539e11dfc4798b581b2bd6eba269a94f}{minor\_marking\_state\_}}-\/>MarkerStarted();}
\DoxyCodeLine{531   MainAllocator* \textcolor{keyword}{const} new\_space\_allocator =}
\DoxyCodeLine{532       \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a869e37465c47b5fdfd6def2b8fb14adf}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a71a5010a2dde4bbad050c4947dc450e2}{allocator}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1HeapAllocator_a021e4a3fc4d7ff340e494fa638d848ef}{new\_space\_allocator}}();}
\DoxyCodeLine{533   NewLargeObjectSpace* \textcolor{keyword}{const} new\_lo\_space = \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a869e37465c47b5fdfd6def2b8fb14adf}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a2dd38bcac0a916cc4eeedd9d14044882}{new\_lo\_space}}();}
\DoxyCodeLine{534 }
\DoxyCodeLine{535   \textcolor{keywordflow}{do} \{}
\DoxyCodeLine{536     \textcolor{keywordflow}{if} (delegate-\/>IsJoiningThread()) \{}
\DoxyCodeLine{537       marking\_worklists\_local.MergeOnHold();}
\DoxyCodeLine{538     \}}
\DoxyCodeLine{539     \mbox{\hyperlink{namespacev8_1_1internal_a57f5ecf71b9a2757b0555b2be4c640b8}{Tagged<HeapObject>}} heap\_object;}
\DoxyCodeLine{540     \mbox{\hyperlink{gc-tracer_8h_a409f76405daacf056488615a86ef44f4}{TRACE\_GC\_EPOCH}}(\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a869e37465c47b5fdfd6def2b8fb14adf}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_abdd7e3821604a14452281640366cc9bb}{tracer}}(),}
\DoxyCodeLine{541                    GCTracer::Scope::MINOR\_MS\_BACKGROUND\_MARKING\_CLOSURE,}
\DoxyCodeLine{542                    \mbox{\hyperlink{namespacev8_1_1internal_a34c412e70714b6b814e60c4b6883e0eea7c58afb43537a264dcd68e698a7b8e3b}{ThreadKind::kBackground}});}
\DoxyCodeLine{543     \textcolor{keywordflow}{while} (marking\_worklists\_local.Pop(\&heap\_object)) \{}
\DoxyCodeLine{544       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02concurrent-marking_8cc_03_ace893b2ded7ddc987511222a33f12292}{IsYoungObjectInLab}}(new\_space\_allocator, new\_lo\_space, heap\_object)) \{}
\DoxyCodeLine{545         visitor.marking\_worklists\_local().PushOnHold(heap\_object);}
\DoxyCodeLine{546       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{547         Tagged<Map> map = heap\_object-\/>map(isolate);}
\DoxyCodeLine{548         \textcolor{keyword}{const} \textcolor{keyword}{auto} visited\_size = visitor.Visit(map, heap\_object);}
\DoxyCodeLine{549         \textcolor{keywordflow}{if} (visited\_size) \{}
\DoxyCodeLine{550           current\_marked\_bytes += visited\_size;}
\DoxyCodeLine{551           visitor.IncrementLiveBytesCached(}
\DoxyCodeLine{552               \mbox{\hyperlink{classv8_1_1internal_1_1MutablePageMetadata_afd76b7261895b2043b1715d180858d29}{MutablePageMetadata::FromHeapObject}}(heap\_object),}
\DoxyCodeLine{553               \mbox{\hyperlink{common_2globals_8h_a76f936b13cc7401de647c23963eda5c1}{ALIGN\_TO\_ALLOCATION\_ALIGNMENT}}(visited\_size));}
\DoxyCodeLine{554         \}}
\DoxyCodeLine{555       \}}
\DoxyCodeLine{556 }
\DoxyCodeLine{557       \textcolor{keywordflow}{if} (current\_marked\_bytes >= kBytesUntilInterruptCheck ||}
\DoxyCodeLine{558           ++objects\_processed >= kObjectsUntilInterruptCheck) \{}
\DoxyCodeLine{559         marked\_bytes += current\_marked\_bytes;}
\DoxyCodeLine{560         \textcolor{keywordflow}{if} (delegate-\/>ShouldYield()) \{}
\DoxyCodeLine{561           \mbox{\hyperlink{gc-tracer_8h_a778c16110e50ea3b0ebd622fba42f4a5}{TRACE\_GC\_NOTE}}(\textcolor{stringliteral}{"{}ConcurrentMarking::RunMinor Preempted"{}});}
\DoxyCodeLine{562           \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a539e11dfc4798b581b2bd6eba269a94f}{minor\_marking\_state\_}}-\/>MarkerDone();}
\DoxyCodeLine{563           \textcolor{keywordflow}{return} marked\_bytes;}
\DoxyCodeLine{564         \}}
\DoxyCodeLine{565         objects\_processed = 0;}
\DoxyCodeLine{566         current\_marked\_bytes = 0;}
\DoxyCodeLine{567       \}}
\DoxyCodeLine{568     \}}
\DoxyCodeLine{569   \} \textcolor{keywordflow}{while} (remembered\_sets.ProcessNextItem(\&visitor));}
\DoxyCodeLine{570   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a539e11dfc4798b581b2bd6eba269a94f}{minor\_marking\_state\_}}-\/>MarkerDone()) \{}
\DoxyCodeLine{571     \textcolor{comment}{// This is the last active marker and it ran out of work. Request GC}}
\DoxyCodeLine{572     \textcolor{comment}{// finalization.}}
\DoxyCodeLine{573     \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a869e37465c47b5fdfd6def2b8fb14adf}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a54f6d0de153be3b373e0375e998f37db}{minor\_mark\_sweep\_collector}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MinorMarkSweepCollector_a6ad975aefe7d84e682aff83f77ff7b94}{RequestGC}}();}
\DoxyCodeLine{574   \}}
\DoxyCodeLine{575   \textcolor{keywordflow}{return} marked\_bytes + current\_marked\_bytes;}
\DoxyCodeLine{576 \}}

\end{DoxyCode}


References ALIGN\+\_\+\+TO\+\_\+\+ALLOCATION\+\_\+\+ALIGNMENT, v8\+::internal\+::\+Heap\+::allocator(), v8\+::internal\+::\+Mutable\+Page\+Metadata\+::\+From\+Heap\+Object(), heap\+\_\+, v8\+::internal\+::\+Young\+Generation\+Marking\+Visitor$<$ marking\+\_\+mode $>$\+::\+Increment\+Live\+Bytes\+Cached(), v8\+::\+Job\+Delegate\+::\+Is\+Joining\+Thread(), v8\+::internal\+::\+Heap\+::isolate(), v8\+::internal\+::anonymous\+\_\+namespace\{concurrent-\/marking.\+cc\}\+::\+Is\+Young\+Object\+In\+Lab(), v8\+::internal\+::\+KB, v8\+::internal\+::k\+Background, v8\+::internal\+::\+Concurrent\+Marking\+::\+Task\+State\+::local\+\_\+pretenuring\+\_\+feedback, v8\+::internal\+::\+Young\+Generation\+Marking\+Visitor$<$ marking\+\_\+mode $>$\+::marking\+\_\+worklists\+\_\+local(), v8\+::internal\+::\+Heap\+::minor\+\_\+mark\+\_\+sweep\+\_\+collector(), minor\+\_\+marking\+\_\+state\+\_\+, v8\+::internal\+::\+Heap\+::new\+\_\+lo\+\_\+space(), v8\+::internal\+::\+Heap\+Allocator\+::new\+\_\+space\+\_\+allocator(), v8\+::internal\+::\+Young\+Generation\+Remembered\+Sets\+Marking\+Worklist\+::\+Local\+::\+Process\+Next\+Item(), v8\+::internal\+::\+Minor\+Mark\+Sweep\+Collector\+::remembered\+\_\+sets\+\_\+marking\+\_\+handler(), v8\+::internal\+::\+Minor\+Mark\+Sweep\+Collector\+::\+Request\+GC(), v8\+::\+Job\+Delegate\+::\+Should\+Yield(), TRACE\+\_\+\+GC\+\_\+\+EPOCH, TRACE\+\_\+\+GC\+\_\+\+NOTE, v8\+::internal\+::\+Heap\+::tracer(), and v8\+::internal\+::\+Heap\+Visitor$<$ Concrete\+Visitor $>$\+::\+Visit().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ConcurrentMarking_ad5dc50a491fbb7e171f0c37c911388af_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ConcurrentMarking_adad9b09397a5d864fbfc58c3ac91ccda}\label{classv8_1_1internal_1_1ConcurrentMarking_adad9b09397a5d864fbfc58c3ac91ccda}} 
\index{v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}!set\_another\_ephemeron\_iteration@{set\_another\_ephemeron\_iteration}}
\index{set\_another\_ephemeron\_iteration@{set\_another\_ephemeron\_iteration}!v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}}
\doxysubsubsection{\texorpdfstring{set\_another\_ephemeron\_iteration()}{set\_another\_ephemeron\_iteration()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Concurrent\+Marking\+::set\+\_\+another\+\_\+ephemeron\+\_\+iteration (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}}}]{another\+\_\+ephemeron\+\_\+iteration }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 74 of file concurrent-\/marking.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{74                                                                          \{}
\DoxyCodeLine{75     \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_ae273e1eec0e22ac7fffa816b31afc090}{another\_ephemeron\_iteration\_}}.store(\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_aece67b16f36fe0fcea37a7bd7de858f6}{another\_ephemeron\_iteration}});}
\DoxyCodeLine{76   \}}

\end{DoxyCode}


Referenced by Run\+Major().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ConcurrentMarking_adad9b09397a5d864fbfc58c3ac91ccda_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ConcurrentMarking_a31d998afac0de0ac1d99011985247e9a}\label{classv8_1_1internal_1_1ConcurrentMarking_a31d998afac0de0ac1d99011985247e9a}} 
\index{v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}!TotalMarkedBytes@{TotalMarkedBytes}}
\index{TotalMarkedBytes@{TotalMarkedBytes}!v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}}
\doxysubsubsection{\texorpdfstring{TotalMarkedBytes()}{TotalMarkedBytes()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::\+Concurrent\+Marking\+::\+Total\+Marked\+Bytes (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 867 of file concurrent-\/marking.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{867                                            \{}
\DoxyCodeLine{868   \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} = 0;}
\DoxyCodeLine{869   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 1; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_ac2293bf5bb359833bddbf2f074b668f1}{task\_state\_}}.size(); \mbox{\hyperlink{namespacev8_1_1internal}{i}}++) \{}
\DoxyCodeLine{870     \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} +=}
\DoxyCodeLine{871         base::AsAtomicWord::Relaxed\_Load<size\_t>(\&\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_ac2293bf5bb359833bddbf2f074b668f1}{task\_state\_}}[\mbox{\hyperlink{namespacev8_1_1internal}{i}}]-\/>marked\_bytes);}
\DoxyCodeLine{872   \}}
\DoxyCodeLine{873   \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} += \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a3ea202ffbd613a6bf2eed6173d735cef}{total\_marked\_bytes\_}};}
\DoxyCodeLine{874   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}};}
\DoxyCodeLine{875 \}}

\end{DoxyCode}


References v8\+::base\+::internal\+::result, task\+\_\+state\+\_\+, and total\+\_\+marked\+\_\+bytes\+\_\+.



Referenced by v8\+::internal\+::\+Incremental\+Marking\+::\+Fetch\+Bytes\+Marked\+Concurrently().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ConcurrentMarking_a31d998afac0de0ac1d99011985247e9a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ConcurrentMarking_a17b832823a3616716aa7497fada881ff}\label{classv8_1_1internal_1_1ConcurrentMarking_a17b832823a3616716aa7497fada881ff}} 
\index{v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}!TryScheduleJob@{TryScheduleJob}}
\index{TryScheduleJob@{TryScheduleJob}!v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}}
\doxysubsubsection{\texorpdfstring{TryScheduleJob()}{TryScheduleJob()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Concurrent\+Marking\+::\+Try\+Schedule\+Job (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_ad504e70236bfcc0478d67053d1ed9ac0}{Garbage\+Collector}}}]{garbage\+\_\+collector,  }\item[{\mbox{\hyperlink{namespacev8_a680c1a715d1d5df94b21e8b1ee1bf051}{Task\+Priority}}}]{priority = {\ttfamily \mbox{\hyperlink{namespacev8_a680c1a715d1d5df94b21e8b1ee1bf051a602dfdb2b16ea7a1f4392dc3d5761f7d}{Task\+Priority\+::k\+User\+Visible}}} }\end{DoxyParamCaption})}



Definition at line 647 of file concurrent-\/marking.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{648                                                               \{}
\DoxyCodeLine{649   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.parallel\_marking || \mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.concurrent\_marking ||}
\DoxyCodeLine{650          \mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.concurrent\_minor\_ms\_marking);}
\DoxyCodeLine{651   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a869e37465c47b5fdfd6def2b8fb14adf}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a22dabf94de324c0eb88a91d74839f4ec}{IsTearingDown}}());}
\DoxyCodeLine{652   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a06980681d462120291c2047124cd6a3a}{IsStopped}}());}
\DoxyCodeLine{653 }
\DoxyCodeLine{654   \mbox{\hyperlink{src_2base_2logging_8h_a986dc8f4ec6dcd0644efe205c13f8eb7}{DCHECK\_NE}}(\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a884b7ca1bb9c41508d91ca620cdd29a9}{garbage\_collector}}, \mbox{\hyperlink{namespacev8_1_1internal_ad504e70236bfcc0478d67053d1ed9ac0a1e5d1e6ad21db4019a437a07117a0aa0}{GarbageCollector::SCAVENGER}});}
\DoxyCodeLine{655   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a884b7ca1bb9c41508d91ca620cdd29a9}{garbage\_collector}} == \mbox{\hyperlink{namespacev8_1_1internal_ad504e70236bfcc0478d67053d1ed9ac0a0e4ebf97d76f3fcc0a4f23078b1339f5}{GarbageCollector::MARK\_COMPACTOR}} \&\&}
\DoxyCodeLine{656       !\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a869e37465c47b5fdfd6def2b8fb14adf}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_af562806aafc1f078a8da45674d431c1a}{mark\_compact\_collector}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MarkCompactCollector_aa709baf43b9629ff0df85d2700caa88b}{UseBackgroundThreadsInCycle}}()) \{}
\DoxyCodeLine{657     \textcolor{keywordflow}{return};}
\DoxyCodeLine{658   \}}
\DoxyCodeLine{659   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a884b7ca1bb9c41508d91ca620cdd29a9}{garbage\_collector}} == \mbox{\hyperlink{namespacev8_1_1internal_ad504e70236bfcc0478d67053d1ed9ac0a650d85b59c887eb439352fdd1dae9345}{GarbageCollector::MINOR\_MARK\_SWEEPER}} \&\&}
\DoxyCodeLine{660       !\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a869e37465c47b5fdfd6def2b8fb14adf}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a54f6d0de153be3b373e0375e998f37db}{minor\_mark\_sweep\_collector}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MinorMarkSweepCollector_a858d520b676140b96ede9158adbdad92}{UseBackgroundThreadsInCycle}}()) \{}
\DoxyCodeLine{661     \textcolor{keywordflow}{return};}
\DoxyCodeLine{662   \}}
\DoxyCodeLine{663 }
\DoxyCodeLine{664   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.concurrent\_marking\_high\_priority\_threads) \{}
\DoxyCodeLine{665     priority = \mbox{\hyperlink{namespacev8_a680c1a715d1d5df94b21e8b1ee1bf051a495bb545d1c5053ead9743a8b7692209}{TaskPriority::kUserBlocking}};}
\DoxyCodeLine{666   \}}
\DoxyCodeLine{667 }
\DoxyCodeLine{668 \textcolor{preprocessor}{\#if DEBUG}}
\DoxyCodeLine{669   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a2671a9d910b14f17fad5c303120da739}{garbage\_collector\_}}.has\_value()) \{}
\DoxyCodeLine{670     \textcolor{comment}{// Concurrent marking resumes. In this case the used collectors need to}}
\DoxyCodeLine{671     \textcolor{comment}{// match.}}
\DoxyCodeLine{672     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(*\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a2671a9d910b14f17fad5c303120da739}{garbage\_collector\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a884b7ca1bb9c41508d91ca620cdd29a9}{garbage\_collector}});}
\DoxyCodeLine{673   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{674     \textcolor{comment}{// If a new concurrent marking cycle starts, TaskState should not contain}}
\DoxyCodeLine{675     \textcolor{comment}{// any data.}}
\DoxyCodeLine{676     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}\& task\_state : \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_ac2293bf5bb359833bddbf2f074b668f1}{task\_state\_}}) \{}
\DoxyCodeLine{677       task\_state-\/>memory\_chunk\_live\_bytes\_map.AssertEmpty();}
\DoxyCodeLine{678       \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(task\_state-\/>memory\_chunk\_typed\_slots\_map.empty());}
\DoxyCodeLine{679       \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(task\_state-\/>native\_context\_stats.Empty());}
\DoxyCodeLine{680       \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(task\_state-\/>local\_pretenuring\_feedback.empty());}
\DoxyCodeLine{681       \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(0, task\_state-\/>marked\_bytes);}
\DoxyCodeLine{682     \}}
\DoxyCodeLine{683     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(0, \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a3ea202ffbd613a6bf2eed6173d735cef}{total\_marked\_bytes\_}}.load());}
\DoxyCodeLine{684   \}}
\DoxyCodeLine{685 }
\DoxyCodeLine{686   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a884b7ca1bb9c41508d91ca620cdd29a9}{garbage\_collector}} == \mbox{\hyperlink{namespacev8_1_1internal_ad504e70236bfcc0478d67053d1ed9ac0a0e4ebf97d76f3fcc0a4f23078b1339f5}{GarbageCollector::MARK\_COMPACTOR}}) \{}
\DoxyCodeLine{687     \textcolor{comment}{// The full GC never makes use of local\_pretenuring\_feedback. It needs to be}}
\DoxyCodeLine{688     \textcolor{comment}{// empty even if resuming concurrent marking.}}
\DoxyCodeLine{689     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}\& task\_state : \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_ac2293bf5bb359833bddbf2f074b668f1}{task\_state\_}}) \{}
\DoxyCodeLine{690       \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(task\_state-\/>local\_pretenuring\_feedback.empty());}
\DoxyCodeLine{691     \}}
\DoxyCodeLine{692   \}}
\DoxyCodeLine{693 }
\DoxyCodeLine{694   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a539e11dfc4798b581b2bd6eba269a94f}{minor\_marking\_state\_}}) \{}
\DoxyCodeLine{695     \textcolor{comment}{// Minor marking state can only be alive if the concurrent marker was}}
\DoxyCodeLine{696     \textcolor{comment}{// previously paused.}}
\DoxyCodeLine{697     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a2671a9d910b14f17fad5c303120da739}{garbage\_collector\_}}.has\_value());}
\DoxyCodeLine{698     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(*\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a2671a9d910b14f17fad5c303120da739}{garbage\_collector\_}}, \mbox{\hyperlink{namespacev8_1_1internal_ad504e70236bfcc0478d67053d1ed9ac0a650d85b59c887eb439352fdd1dae9345}{GarbageCollector::MINOR\_MARK\_SWEEPER}});}
\DoxyCodeLine{699     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a884b7ca1bb9c41508d91ca620cdd29a9}{garbage\_collector}}, \mbox{\hyperlink{namespacev8_1_1internal_ad504e70236bfcc0478d67053d1ed9ac0a650d85b59c887eb439352fdd1dae9345}{GarbageCollector::MINOR\_MARK\_SWEEPER}});}
\DoxyCodeLine{700   \}}
\DoxyCodeLine{701 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// DEBUG}}
\DoxyCodeLine{702 }
\DoxyCodeLine{703   \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a2671a9d910b14f17fad5c303120da739}{garbage\_collector\_}} = \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a884b7ca1bb9c41508d91ca620cdd29a9}{garbage\_collector}};}
\DoxyCodeLine{704   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a884b7ca1bb9c41508d91ca620cdd29a9}{garbage\_collector}} == \mbox{\hyperlink{namespacev8_1_1internal_ad504e70236bfcc0478d67053d1ed9ac0a0e4ebf97d76f3fcc0a4f23078b1339f5}{GarbageCollector::MARK\_COMPACTOR}}) \{}
\DoxyCodeLine{705     \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a869e37465c47b5fdfd6def2b8fb14adf}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_af562806aafc1f078a8da45674d431c1a}{mark\_compact\_collector}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MarkCompactCollector_a9a770c9f4b80f0ac788fe5e0f1596713}{local\_marking\_worklists}}()-\/>Publish();}
\DoxyCodeLine{706     \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_ab3fa7ed061a0267d8637831a60530df9}{marking\_worklists\_}} = \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a869e37465c47b5fdfd6def2b8fb14adf}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_af562806aafc1f078a8da45674d431c1a}{mark\_compact\_collector}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MarkCompactCollector_a1c709cbcdf524f1f21d6780173a377b4}{marking\_worklists}}();}
\DoxyCodeLine{707     \textcolor{keyword}{auto} job = std::make\_unique<JobTaskMajor>(}
\DoxyCodeLine{708         \textcolor{keyword}{this}, \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a869e37465c47b5fdfd6def2b8fb14adf}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_af562806aafc1f078a8da45674d431c1a}{mark\_compact\_collector}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MarkCompactCollector_ab77b1f17c1aaf49a93ba2e394fd11984}{epoch}}(),}
\DoxyCodeLine{709         \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a869e37465c47b5fdfd6def2b8fb14adf}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_af562806aafc1f078a8da45674d431c1a}{mark\_compact\_collector}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MarkCompactCollector_a00b443b2076c56d087e7c0decad77074}{code\_flush\_mode}}(),}
\DoxyCodeLine{710         \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a869e37465c47b5fdfd6def2b8fb14adf}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a4b0a6b7b8b7d6daeff5de689c9008cbf}{ShouldCurrentGCKeepAgesUnchanged}}());}
\DoxyCodeLine{711     \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a380bbf4ba90b49acc9f72bb471c75ee5}{current\_job\_trace\_id\_}}.emplace(job-\/>trace\_id());}
\DoxyCodeLine{712     \mbox{\hyperlink{gc-tracer_8h_a17375713518e1833362b491ef9c163cc}{TRACE\_GC\_NOTE\_WITH\_FLOW}}(\textcolor{stringliteral}{"{}Major concurrent marking started"{}}, job-\/>trace\_id(),}
\DoxyCodeLine{713                             \mbox{\hyperlink{trace-event-no-perfetto_8h_af086bb0f8b985835cc9f35cfe856155f}{TRACE\_EVENT\_FLAG\_FLOW\_OUT}});}
\DoxyCodeLine{714     \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a395f483b2b8552796f42fa6886447112}{job\_handle\_}} = \mbox{\hyperlink{classv8_1_1internal_1_1V8_a5eb1d47c492fa1e85e7d7c31dd5cf2bb}{V8::GetCurrentPlatform}}()-\/>\mbox{\hyperlink{classv8_1_1Platform_adcf8355f078499e5b32541b849a656cf}{PostJob}}(priority, std::move(job));}
\DoxyCodeLine{715   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{716     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a884b7ca1bb9c41508d91ca620cdd29a9}{garbage\_collector}} == \mbox{\hyperlink{namespacev8_1_1internal_ad504e70236bfcc0478d67053d1ed9ac0a650d85b59c887eb439352fdd1dae9345}{GarbageCollector::MINOR\_MARK\_SWEEPER}});}
\DoxyCodeLine{717     \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a539e11dfc4798b581b2bd6eba269a94f}{minor\_marking\_state\_}} = std::make\_unique<MinorMarkingState>();}
\DoxyCodeLine{718     \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a869e37465c47b5fdfd6def2b8fb14adf}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a54f6d0de153be3b373e0375e998f37db}{minor\_mark\_sweep\_collector}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MinorMarkSweepCollector_a5fb590b6c510fa4a97e572606eaf6581}{local\_marking\_worklists}}()-\/>Publish();}
\DoxyCodeLine{719     \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_ab3fa7ed061a0267d8637831a60530df9}{marking\_worklists\_}} =}
\DoxyCodeLine{720         \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a869e37465c47b5fdfd6def2b8fb14adf}{heap\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a54f6d0de153be3b373e0375e998f37db}{minor\_mark\_sweep\_collector}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MinorMarkSweepCollector_afae19cb86b363f2ce7075ec0e309a649}{marking\_worklists}}();}
\DoxyCodeLine{721     \textcolor{keyword}{auto} job = std::make\_unique<JobTaskMinor>(\textcolor{keyword}{this});}
\DoxyCodeLine{722     \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a380bbf4ba90b49acc9f72bb471c75ee5}{current\_job\_trace\_id\_}}.emplace(job-\/>trace\_id());}
\DoxyCodeLine{723     \mbox{\hyperlink{gc-tracer_8h_a17375713518e1833362b491ef9c163cc}{TRACE\_GC\_NOTE\_WITH\_FLOW}}(\textcolor{stringliteral}{"{}Minor concurrent marking started"{}}, job-\/>trace\_id(),}
\DoxyCodeLine{724                             \mbox{\hyperlink{trace-event-no-perfetto_8h_af086bb0f8b985835cc9f35cfe856155f}{TRACE\_EVENT\_FLAG\_FLOW\_OUT}});}
\DoxyCodeLine{725     \mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a395f483b2b8552796f42fa6886447112}{job\_handle\_}} = \mbox{\hyperlink{classv8_1_1internal_1_1V8_a5eb1d47c492fa1e85e7d7c31dd5cf2bb}{V8::GetCurrentPlatform}}()-\/>\mbox{\hyperlink{classv8_1_1Platform_adcf8355f078499e5b32541b849a656cf}{PostJob}}(priority, std::move(job));}
\DoxyCodeLine{726   \}}
\DoxyCodeLine{727   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_a395f483b2b8552796f42fa6886447112}{job\_handle\_}}-\/>IsValid());}
\DoxyCodeLine{728 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Mark\+Compact\+Collector\+::code\+\_\+flush\+\_\+mode(), current\+\_\+job\+\_\+trace\+\_\+id\+\_\+, v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+EQ, DCHECK\+\_\+\+NE, v8\+::internal\+::\+Mark\+Compact\+Collector\+::epoch(), garbage\+\_\+collector(), garbage\+\_\+collector\+\_\+, v8\+::internal\+::\+V8\+::\+Get\+Current\+Platform(), heap\+\_\+, Is\+Stopped(), v8\+::internal\+::\+Heap\+::\+Is\+Tearing\+Down(), job\+\_\+handle\+\_\+, v8\+::k\+User\+Blocking, v8\+::internal\+::\+Minor\+Mark\+Sweep\+Collector\+::local\+\_\+marking\+\_\+worklists(), v8\+::internal\+::\+Mark\+Compact\+Collector\+::local\+\_\+marking\+\_\+worklists(), v8\+::internal\+::\+Heap\+::mark\+\_\+compact\+\_\+collector(), v8\+::internal\+::\+MARK\+\_\+\+COMPACTOR, v8\+::internal\+::\+Mark\+Compact\+Collector\+::marking\+\_\+worklists(), v8\+::internal\+::\+Minor\+Mark\+Sweep\+Collector\+::marking\+\_\+worklists(), marking\+\_\+worklists\+\_\+, v8\+::internal\+::\+Heap\+::minor\+\_\+mark\+\_\+sweep\+\_\+collector(), v8\+::internal\+::\+MINOR\+\_\+\+MARK\+\_\+\+SWEEPER, minor\+\_\+marking\+\_\+state\+\_\+, v8\+::\+Platform\+::\+Post\+Job(), v8\+::internal\+::\+SCAVENGER, v8\+::internal\+::\+Heap\+::\+Should\+Current\+GCKeep\+Ages\+Unchanged(), task\+\_\+state\+\_\+, total\+\_\+marked\+\_\+bytes\+\_\+, TRACE\+\_\+\+EVENT\+\_\+\+FLAG\+\_\+\+FLOW\+\_\+\+OUT, TRACE\+\_\+\+GC\+\_\+\+NOTE\+\_\+\+WITH\+\_\+\+FLOW, v8\+::internal\+::\+Mark\+Compact\+Collector\+::\+Use\+Background\+Threads\+In\+Cycle(), v8\+::internal\+::\+Minor\+Mark\+Sweep\+Collector\+::\+Use\+Background\+Threads\+In\+Cycle(), and v8\+::internal\+::v8\+\_\+flags.



Referenced by Reschedule\+Job\+If\+Needed(), v8\+::internal\+::\+Incremental\+Marking\+::\+Start\+Marking\+Major(), and v8\+::internal\+::\+Incremental\+Marking\+::\+Start\+Marking\+Minor().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ConcurrentMarking_a17b832823a3616716aa7497fada881ff_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ConcurrentMarking_a17b832823a3616716aa7497fada881ff_icgraph}
\end{center}
\end{figure}


\doxysubsection{Friends And Related Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1ConcurrentMarking_a3d69975be2e998e7bf2dcd1b1c8b4577}\label{classv8_1_1internal_1_1ConcurrentMarking_a3d69975be2e998e7bf2dcd1b1c8b4577}} 
\index{v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}!Heap@{Heap}}
\index{Heap@{Heap}!v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}}
\doxysubsubsection{\texorpdfstring{Heap}{Heap}}
{\footnotesize\ttfamily friend class \mbox{\hyperlink{classv8_1_1internal_1_1Heap}{Heap}}\hspace{0.3cm}{\ttfamily [friend]}}



Definition at line 122 of file concurrent-\/marking.\+h.



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1ConcurrentMarking_ae273e1eec0e22ac7fffa816b31afc090}\label{classv8_1_1internal_1_1ConcurrentMarking_ae273e1eec0e22ac7fffa816b31afc090}} 
\index{v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}!another\_ephemeron\_iteration\_@{another\_ephemeron\_iteration\_}}
\index{another\_ephemeron\_iteration\_@{another\_ephemeron\_iteration\_}!v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}}
\doxysubsubsection{\texorpdfstring{another\_ephemeron\_iteration\_}{another\_ephemeron\_iteration\_}}
{\footnotesize\ttfamily std\+::atomic$<$\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}}$>$ v8\+::internal\+::\+Concurrent\+Marking\+::another\+\_\+ephemeron\+\_\+iteration\+\_\+ \{\mbox{\hyperlink{flag-definitions_8h_a3a9beadc89284d3f78a7d4945b1b4d8c}{false}}\}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 117 of file concurrent-\/marking.\+h.

\mbox{\Hypertarget{classv8_1_1internal_1_1ConcurrentMarking_a380bbf4ba90b49acc9f72bb471c75ee5}\label{classv8_1_1internal_1_1ConcurrentMarking_a380bbf4ba90b49acc9f72bb471c75ee5}} 
\index{v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}!current\_job\_trace\_id\_@{current\_job\_trace\_id\_}}
\index{current\_job\_trace\_id\_@{current\_job\_trace\_id\_}!v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}}
\doxysubsubsection{\texorpdfstring{current\_job\_trace\_id\_}{current\_job\_trace\_id\_}}
{\footnotesize\ttfamily std\+::optional$<$uint64\+\_\+t$>$ v8\+::internal\+::\+Concurrent\+Marking\+::current\+\_\+job\+\_\+trace\+\_\+id\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 118 of file concurrent-\/marking.\+h.



Referenced by Join(), Pause(), Reschedule\+Job\+If\+Needed(), Resume(), and Try\+Schedule\+Job().

\mbox{\Hypertarget{classv8_1_1internal_1_1ConcurrentMarking_a297038c829a4c571fd936fd4b75f2524}\label{classv8_1_1internal_1_1ConcurrentMarking_a297038c829a4c571fd936fd4b75f2524}} 
\index{v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}!estimate\_concurrency\_@{estimate\_concurrency\_}}
\index{estimate\_concurrency\_@{estimate\_concurrency\_}!v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}}
\doxysubsubsection{\texorpdfstring{estimate\_concurrency\_}{estimate\_concurrency\_}}
{\footnotesize\ttfamily std\+::atomic$<$\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}$>$ v8\+::internal\+::\+Concurrent\+Marking\+::estimate\+\_\+concurrency\+\_\+ \{0\}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 120 of file concurrent-\/marking.\+h.



Referenced by Run\+Minor().

\mbox{\Hypertarget{classv8_1_1internal_1_1ConcurrentMarking_a2671a9d910b14f17fad5c303120da739}\label{classv8_1_1internal_1_1ConcurrentMarking_a2671a9d910b14f17fad5c303120da739}} 
\index{v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}!garbage\_collector\_@{garbage\_collector\_}}
\index{garbage\_collector\_@{garbage\_collector\_}!v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}}
\doxysubsubsection{\texorpdfstring{garbage\_collector\_}{garbage\_collector\_}}
{\footnotesize\ttfamily std\+::optional$<$\mbox{\hyperlink{namespacev8_1_1internal_ad504e70236bfcc0478d67053d1ed9ac0}{Garbage\+Collector}}$>$ v8\+::internal\+::\+Concurrent\+Marking\+::garbage\+\_\+collector\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 112 of file concurrent-\/marking.\+h.



Referenced by Is\+Work\+Left(), Join(), Pause(), Reschedule\+Job\+If\+Needed(), Resume(), and Try\+Schedule\+Job().

\mbox{\Hypertarget{classv8_1_1internal_1_1ConcurrentMarking_a869e37465c47b5fdfd6def2b8fb14adf}\label{classv8_1_1internal_1_1ConcurrentMarking_a869e37465c47b5fdfd6def2b8fb14adf}} 
\index{v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}!heap\_@{heap\_}}
\index{heap\_@{heap\_}!v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}}
\doxysubsubsection{\texorpdfstring{heap\_}{heap\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1Heap}{Heap}}$\ast$ const v8\+::internal\+::\+Concurrent\+Marking\+::heap\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 111 of file concurrent-\/marking.\+h.



Referenced by Flush\+Pretenuring\+Feedback(), Get\+Major\+Max\+Concurrency(), Get\+Minor\+Max\+Concurrency(), Is\+Work\+Left(), Join(), Reschedule\+Job\+If\+Needed(), v8\+::internal\+::\+Concurrent\+Marking\+::\+Job\+Task\+Major\+::\+Run(), v8\+::internal\+::\+Concurrent\+Marking\+::\+Job\+Task\+Minor\+::\+Run(), Run\+Major(), Run\+Minor(), Run\+Minor\+Impl(), and Try\+Schedule\+Job().

\mbox{\Hypertarget{classv8_1_1internal_1_1ConcurrentMarking_a395f483b2b8552796f42fa6886447112}\label{classv8_1_1internal_1_1ConcurrentMarking_a395f483b2b8552796f42fa6886447112}} 
\index{v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}!job\_handle\_@{job\_handle\_}}
\index{job\_handle\_@{job\_handle\_}!v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}}
\doxysubsubsection{\texorpdfstring{job\_handle\_}{job\_handle\_}}
{\footnotesize\ttfamily std\+::unique\+\_\+ptr$<$\mbox{\hyperlink{classv8_1_1JobHandle}{Job\+Handle}}$>$ v8\+::internal\+::\+Concurrent\+Marking\+::job\+\_\+handle\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 110 of file concurrent-\/marking.\+h.



Referenced by Flush\+Memory\+Chunk\+Data(), Flush\+Native\+Contexts(), Is\+Stopped(), Join(), Join\+Job\+For\+Testing(), Pause(), Reschedule\+Job\+If\+Needed(), and Try\+Schedule\+Job().

\mbox{\Hypertarget{classv8_1_1internal_1_1ConcurrentMarking_ab3fa7ed061a0267d8637831a60530df9}\label{classv8_1_1internal_1_1ConcurrentMarking_ab3fa7ed061a0267d8637831a60530df9}} 
\index{v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}!marking\_worklists\_@{marking\_worklists\_}}
\index{marking\_worklists\_@{marking\_worklists\_}!v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}}
\doxysubsubsection{\texorpdfstring{marking\_worklists\_}{marking\_worklists\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1MarkingWorklists}{Marking\+Worklists}}$\ast$ v8\+::internal\+::\+Concurrent\+Marking\+::marking\+\_\+worklists\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 113 of file concurrent-\/marking.\+h.



Referenced by Get\+Major\+Max\+Concurrency(), Get\+Minor\+Max\+Concurrency(), Is\+Work\+Left(), Run\+Major(), and Try\+Schedule\+Job().

\mbox{\Hypertarget{classv8_1_1internal_1_1ConcurrentMarking_a539e11dfc4798b581b2bd6eba269a94f}\label{classv8_1_1internal_1_1ConcurrentMarking_a539e11dfc4798b581b2bd6eba269a94f}} 
\index{v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}!minor\_marking\_state\_@{minor\_marking\_state\_}}
\index{minor\_marking\_state\_@{minor\_marking\_state\_}!v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}}
\doxysubsubsection{\texorpdfstring{minor\_marking\_state\_}{minor\_marking\_state\_}}
{\footnotesize\ttfamily std\+::unique\+\_\+ptr$<$\mbox{\hyperlink{classv8_1_1internal_1_1ConcurrentMarking_1_1MinorMarkingState}{Minor\+Marking\+State}}$>$ v8\+::internal\+::\+Concurrent\+Marking\+::minor\+\_\+marking\+\_\+state\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 119 of file concurrent-\/marking.\+h.



Referenced by Join(), Run\+Minor\+Impl(), and Try\+Schedule\+Job().

\mbox{\Hypertarget{classv8_1_1internal_1_1ConcurrentMarking_ac2293bf5bb359833bddbf2f074b668f1}\label{classv8_1_1internal_1_1ConcurrentMarking_ac2293bf5bb359833bddbf2f074b668f1}} 
\index{v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}!task\_state\_@{task\_state\_}}
\index{task\_state\_@{task\_state\_}!v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}}
\doxysubsubsection{\texorpdfstring{task\_state\_}{task\_state\_}}
{\footnotesize\ttfamily std\+::vector$<$std\+::unique\+\_\+ptr$<$\mbox{\hyperlink{structv8_1_1internal_1_1ConcurrentMarking_1_1TaskState}{Task\+State}}$>$ $>$ v8\+::internal\+::\+Concurrent\+Marking\+::task\+\_\+state\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 115 of file concurrent-\/marking.\+h.



Referenced by Concurrent\+Marking(), Flush\+Memory\+Chunk\+Data(), Flush\+Native\+Contexts(), Flush\+Pretenuring\+Feedback(), Get\+Major\+Max\+Concurrency(), Get\+Minor\+Max\+Concurrency(), Run\+Major(), Run\+Minor(), Total\+Marked\+Bytes(), and Try\+Schedule\+Job().

\mbox{\Hypertarget{classv8_1_1internal_1_1ConcurrentMarking_a3ea202ffbd613a6bf2eed6173d735cef}\label{classv8_1_1internal_1_1ConcurrentMarking_a3ea202ffbd613a6bf2eed6173d735cef}} 
\index{v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}!total\_marked\_bytes\_@{total\_marked\_bytes\_}}
\index{total\_marked\_bytes\_@{total\_marked\_bytes\_}!v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}}
\doxysubsubsection{\texorpdfstring{total\_marked\_bytes\_}{total\_marked\_bytes\_}}
{\footnotesize\ttfamily std\+::atomic$<$\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}$>$ v8\+::internal\+::\+Concurrent\+Marking\+::total\+\_\+marked\+\_\+bytes\+\_\+ \{0\}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 116 of file concurrent-\/marking.\+h.



Referenced by Flush\+Memory\+Chunk\+Data(), Run\+Major(), Total\+Marked\+Bytes(), and Try\+Schedule\+Job().

\mbox{\Hypertarget{classv8_1_1internal_1_1ConcurrentMarking_ae4f889dcf389b82407f0e617546b4b3f}\label{classv8_1_1internal_1_1ConcurrentMarking_ae4f889dcf389b82407f0e617546b4b3f}} 
\index{v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}!weak\_objects\_@{weak\_objects\_}}
\index{weak\_objects\_@{weak\_objects\_}!v8::internal::ConcurrentMarking@{v8::internal::ConcurrentMarking}}
\doxysubsubsection{\texorpdfstring{weak\_objects\_}{weak\_objects\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1WeakObjects}{Weak\+Objects}}$\ast$ const v8\+::internal\+::\+Concurrent\+Marking\+::weak\+\_\+objects\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 114 of file concurrent-\/marking.\+h.



Referenced by Get\+Major\+Max\+Concurrency(), Is\+Work\+Left(), and Run\+Major().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/heap/\mbox{\hyperlink{concurrent-marking_8h}{concurrent-\/marking.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/heap/\mbox{\hyperlink{concurrent-marking_8cc}{concurrent-\/marking.\+cc}}\end{DoxyCompactItemize}
