\hypertarget{classv8_1_1EmbedderGraph}{}\doxysection{v8\+::Embedder\+Graph Class Reference}
\label{classv8_1_1EmbedderGraph}\index{v8::EmbedderGraph@{v8::EmbedderGraph}}


An object graph consisting of embedder objects and \mbox{\hyperlink{classv8_1_1V8}{V8}} objects.  




{\ttfamily \#include $<$v8-\/profiler.\+h$>$}



Inheritance diagram for v8\+::Embedder\+Graph\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=259pt]{classv8_1_1EmbedderGraph__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for v8\+::Embedder\+Graph\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=202pt]{classv8_1_1EmbedderGraph__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classv8_1_1EmbedderGraph_1_1Node}{Node}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual \mbox{\hyperlink{classv8_1_1EmbedderGraph_1_1Node}{Node}} $\ast$ \mbox{\hyperlink{classv8_1_1EmbedderGraph_a6fdb5451611738dd44c70d195445d0ff}{V8\+Node}} (const \mbox{\hyperlink{classv8_1_1Local}{v8\+::\+Local}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&value)=0
\begin{DoxyCompactList}\small\item\em Returns a node corresponding to the given \mbox{\hyperlink{classv8_1_1V8}{V8}} value. \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{classv8_1_1EmbedderGraph_1_1Node}{Node}} $\ast$ \mbox{\hyperlink{classv8_1_1EmbedderGraph_afb9246d801da14415634b3b6aaf1742a}{V8\+Node}} (const \mbox{\hyperlink{classv8_1_1Local}{v8\+::\+Local}}$<$ \mbox{\hyperlink{classv8_1_1Data}{v8\+::\+Data}} $>$ \&value)
\begin{DoxyCompactList}\small\item\em Returns a node corresponding to the given \mbox{\hyperlink{classv8_1_1V8}{V8}} value. \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{classv8_1_1EmbedderGraph_1_1Node}{Node}} $\ast$ \mbox{\hyperlink{classv8_1_1EmbedderGraph_a57afbce6126e5cd82b66f66b018a18e2}{Add\+Node}} (std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1EmbedderGraph_1_1Node}{Node}} $>$ node)=0
\begin{DoxyCompactList}\small\item\em Adds the given node to the graph and takes ownership of the node. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classv8_1_1EmbedderGraph_a81b1c7dd4d0387ec50037b0778b8af11}{Add\+Edge}} (\mbox{\hyperlink{classv8_1_1EmbedderGraph_1_1Node}{Node}} $\ast$from, \mbox{\hyperlink{classv8_1_1EmbedderGraph_1_1Node}{Node}} $\ast$to, const char $\ast$\mbox{\hyperlink{flag-definitions_8h_a3ced3697c19e78b3fb4994a89f46945e}{name}}=\mbox{\hyperlink{flag-definitions_8h_aca14fbede0905858c819226fce3678cc}{nullptr}})=0
\begin{DoxyCompactList}\small\item\em Adds an edge that represents a strong reference from the given node $\vert$from$\vert$ to the given node $\vert$to$\vert$. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classv8_1_1EmbedderGraph_a1403d472a511f38b13f0d0ce77b9dbe2}{Add\+Native\+Size}} (size\+\_\+t \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}})
\begin{DoxyCompactList}\small\item\em Adds a count of bytes that are not associated with any particular \mbox{\hyperlink{classv8_1_1EmbedderGraph_1_1Node}{Node}}. \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{classv8_1_1EmbedderGraph_a66e72e9da377b2c9d38cc2f2212178c9}{$\sim$\+Embedder\+Graph}} ()=default
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
An object graph consisting of embedder objects and \mbox{\hyperlink{classv8_1_1V8}{V8}} objects. 

Edges of the graph are strong references between the objects. The embedder can build this graph during heap snapshot generation to include the embedder objects in the heap snapshot. Usage\+: 1) Define derived class of \mbox{\hyperlink{classv8_1_1EmbedderGraph_1_1Node}{Embedder\+Graph\+::\+Node}} for embedder objects. 2) \mbox{\hyperlink{classv8_1_1Set}{Set}} the build embedder graph callback on the heap profiler using \mbox{\hyperlink{classv8_1_1HeapProfiler_a4aa69e692d215f7b4599afe2c9dbfbfd}{Heap\+Profiler\+::\+Add\+Build\+Embedder\+Graph\+Callback}}. 3) In the callback use graph-\/$>$Add\+Edge(node1, node2) to add an edge from node1 to node2. 4) To represent references from/to \mbox{\hyperlink{classv8_1_1V8}{V8}} object, construct \mbox{\hyperlink{classv8_1_1V8}{V8}} nodes using graph-\/$>$V8\+Node(value). 

Definition at line 844 of file v8-\/profiler.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1EmbedderGraph_a66e72e9da377b2c9d38cc2f2212178c9}\label{classv8_1_1EmbedderGraph_a66e72e9da377b2c9d38cc2f2212178c9}} 
\index{v8::EmbedderGraph@{v8::EmbedderGraph}!````~EmbedderGraph@{$\sim$EmbedderGraph}}
\index{````~EmbedderGraph@{$\sim$EmbedderGraph}!v8::EmbedderGraph@{v8::EmbedderGraph}}
\doxysubsubsection{\texorpdfstring{$\sim$EmbedderGraph()}{~EmbedderGraph()}}
{\footnotesize\ttfamily virtual v8\+::\+Embedder\+Graph\+::$\sim$\+Embedder\+Graph (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}, {\ttfamily [default]}}



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1EmbedderGraph_a81b1c7dd4d0387ec50037b0778b8af11}\label{classv8_1_1EmbedderGraph_a81b1c7dd4d0387ec50037b0778b8af11}} 
\index{v8::EmbedderGraph@{v8::EmbedderGraph}!AddEdge@{AddEdge}}
\index{AddEdge@{AddEdge}!v8::EmbedderGraph@{v8::EmbedderGraph}}
\doxysubsubsection{\texorpdfstring{AddEdge()}{AddEdge()}}
{\footnotesize\ttfamily virtual void v8\+::\+Embedder\+Graph\+::\+Add\+Edge (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1EmbedderGraph_1_1Node}{Node}} $\ast$}]{from,  }\item[{\mbox{\hyperlink{classv8_1_1EmbedderGraph_1_1Node}{Node}} $\ast$}]{to,  }\item[{const char $\ast$}]{name = {\ttfamily \mbox{\hyperlink{flag-definitions_8h_aca14fbede0905858c819226fce3678cc}{nullptr}}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



Adds an edge that represents a strong reference from the given node $\vert$from$\vert$ to the given node $\vert$to$\vert$. 

The nodes must be added to the graph before calling this function.

If name is nullptr, the edge will have auto-\/increment indexes, otherwise it will be named accordingly. 

Implemented in \mbox{\hyperlink{classv8_1_1internal_1_1EmbedderGraphImpl_ab15bea64bca0bb2185d9cf046f0547d8}{v8\+::internal\+::\+Embedder\+Graph\+Impl}}.

\mbox{\Hypertarget{classv8_1_1EmbedderGraph_a1403d472a511f38b13f0d0ce77b9dbe2}\label{classv8_1_1EmbedderGraph_a1403d472a511f38b13f0d0ce77b9dbe2}} 
\index{v8::EmbedderGraph@{v8::EmbedderGraph}!AddNativeSize@{AddNativeSize}}
\index{AddNativeSize@{AddNativeSize}!v8::EmbedderGraph@{v8::EmbedderGraph}}
\doxysubsubsection{\texorpdfstring{AddNativeSize()}{AddNativeSize()}}
{\footnotesize\ttfamily virtual void v8\+::\+Embedder\+Graph\+::\+Add\+Native\+Size (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



Adds a count of bytes that are not associated with any particular \mbox{\hyperlink{classv8_1_1EmbedderGraph_1_1Node}{Node}}. 

An embedder may use this to represent the size of nodes which were omitted from this \mbox{\hyperlink{classv8_1_1EmbedderGraph}{Embedder\+Graph}} despite being retained by the graph, or other overhead costs. This number will contribute to the total size in a heap snapshot, without being represented in the object graph. 

Reimplemented in \mbox{\hyperlink{classv8_1_1internal_1_1EmbedderGraphImpl_a6f3cff66314359cb3184d433b3932f35}{v8\+::internal\+::\+Embedder\+Graph\+Impl}}.



Definition at line 954 of file v8-\/profiler.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{954 \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{classv8_1_1EmbedderGraph_a57afbce6126e5cd82b66f66b018a18e2}\label{classv8_1_1EmbedderGraph_a57afbce6126e5cd82b66f66b018a18e2}} 
\index{v8::EmbedderGraph@{v8::EmbedderGraph}!AddNode@{AddNode}}
\index{AddNode@{AddNode}!v8::EmbedderGraph@{v8::EmbedderGraph}}
\doxysubsubsection{\texorpdfstring{AddNode()}{AddNode()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{classv8_1_1EmbedderGraph_1_1Node}{Node}}$\ast$ v8\+::\+Embedder\+Graph\+::\+Add\+Node (\begin{DoxyParamCaption}\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1EmbedderGraph_1_1Node}{Node}} $>$}]{node }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



Adds the given node to the graph and takes ownership of the node. 

Returns a raw pointer to the node that is valid while the graph is alive. 

Implemented in \mbox{\hyperlink{classv8_1_1internal_1_1EmbedderGraphImpl_a13ad2b317c1c89b9647af9ec9f006c7f}{v8\+::internal\+::\+Embedder\+Graph\+Impl}}.

\mbox{\Hypertarget{classv8_1_1EmbedderGraph_afb9246d801da14415634b3b6aaf1742a}\label{classv8_1_1EmbedderGraph_afb9246d801da14415634b3b6aaf1742a}} 
\index{v8::EmbedderGraph@{v8::EmbedderGraph}!V8Node@{V8Node}}
\index{V8Node@{V8Node}!v8::EmbedderGraph@{v8::EmbedderGraph}}
\doxysubsubsection{\texorpdfstring{V8Node()}{V8Node()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1EmbedderGraph_1_1Node}{v8\+::\+Embedder\+Graph\+::\+Node}} $\ast$ v8\+::\+Embedder\+Graph\+::\+V8\+Node (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1Local}{v8\+::\+Local}}$<$ \mbox{\hyperlink{classv8_1_1Data}{v8\+::\+Data}} $>$ \&}]{value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Returns a node corresponding to the given \mbox{\hyperlink{classv8_1_1V8}{V8}} value. 

Ownership is not transferred. The result pointer is valid while the graph is alive.

For API compatibility, this default implementation just checks that the data is a \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} and forward it to the variant that takes \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}}, which is currently required to be implemented. In the future we\textquotesingle{}ll remove the \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} variant, and make this variant that takes \mbox{\hyperlink{classv8_1_1Data}{v8\+::\+Data}} abstract instead. If the embedder subclasses \mbox{\hyperlink{classv8_1_1EmbedderGraph}{v8\+::\+Embedder\+Graph}} and also use v8\+::\+Traced\+Reference$<$v8\+::\+Data$>$, they must override this variant. 

Reimplemented in \mbox{\hyperlink{classv8_1_1internal_1_1EmbedderGraphImpl_a4a11435679f18e70ac7ba1ede264c53a}{v8\+::internal\+::\+Embedder\+Graph\+Impl}}.



Definition at line 11819 of file api.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{11820                                  \{}
\DoxyCodeLine{11821   \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(data-\/>IsValue());}
\DoxyCodeLine{11822   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1EmbedderGraph_a6fdb5451611738dd44c70d195445d0ff}{V8Node}}(data.As<\mbox{\hyperlink{classv8_1_1Value}{v8::Value}}>());}
\DoxyCodeLine{11823 \}}

\end{DoxyCode}


References v8\+::\+Local$<$ T $>$\+::\+As(), CHECK, and v8\+::\+Data\+::\+Is\+Value().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1EmbedderGraph_afb9246d801da14415634b3b6aaf1742a_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1EmbedderGraph_a6fdb5451611738dd44c70d195445d0ff}\label{classv8_1_1EmbedderGraph_a6fdb5451611738dd44c70d195445d0ff}} 
\index{v8::EmbedderGraph@{v8::EmbedderGraph}!V8Node@{V8Node}}
\index{V8Node@{V8Node}!v8::EmbedderGraph@{v8::EmbedderGraph}}
\doxysubsubsection{\texorpdfstring{V8Node()}{V8Node()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{classv8_1_1EmbedderGraph_1_1Node}{Node}}$\ast$ v8\+::\+Embedder\+Graph\+::\+V8\+Node (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1Local}{v8\+::\+Local}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&}]{value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



Returns a node corresponding to the given \mbox{\hyperlink{classv8_1_1V8}{V8}} value. 

Ownership is not transferred. The result pointer is valid while the graph is alive.

For now the variant that takes \mbox{\hyperlink{classv8_1_1Data}{v8\+::\+Data}} is not marked as abstract for compatibility, but embedders who subclass \mbox{\hyperlink{classv8_1_1EmbedderGraph}{Embedder\+Graph}} are expected to implement it. Then in the implementation of the variant that takes \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}}, they can simply forward the call to the one that takes v8\+::\+Local$<$v8\+::\+Data$>$. 

Implemented in \mbox{\hyperlink{classv8_1_1internal_1_1EmbedderGraphImpl_aa205df27c645b256ba9f5e8bbbb08497}{v8\+::internal\+::\+Embedder\+Graph\+Impl}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/include/\mbox{\hyperlink{v8-profiler_8h}{v8-\/profiler.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/api/\mbox{\hyperlink{api_8cc}{api.\+cc}}\end{DoxyCompactItemize}
