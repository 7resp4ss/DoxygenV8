\hypertarget{classv8_1_1internal_1_1AsyncFunctionBuiltinsAssembler}{}\doxysection{v8\+::internal\+::Async\+Function\+Builtins\+Assembler Class Reference}
\label{classv8_1_1internal_1_1AsyncFunctionBuiltinsAssembler}\index{v8::internal::AsyncFunctionBuiltinsAssembler@{v8::internal::AsyncFunctionBuiltinsAssembler}}


Inheritance diagram for v8\+::internal\+::Async\+Function\+Builtins\+Assembler\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1AsyncFunctionBuiltinsAssembler__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for v8\+::internal\+::Async\+Function\+Builtins\+Assembler\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1AsyncFunctionBuiltinsAssembler__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1AsyncFunctionBuiltinsAssembler_a9870a60223aac0ee6d71b30f6875a005}{Async\+Function\+Builtins\+Assembler}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1CodeAssemblerState}{compiler\+::\+Code\+Assembler\+State}} $\ast$\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1CodeAssembler_a69e5efc92edbc414a2841fd6d35a5219}{state}})
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$typename Descriptor $>$ }\\void \mbox{\hyperlink{classv8_1_1internal_1_1AsyncFunctionBuiltinsAssembler_ac96cc6b6b3d90f9a585461d15fb83b89}{Async\+Function\+Await}} ()
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1AsyncFunctionBuiltinsAssembler_acede0568247ed892be97e80e12d1952d}{Async\+Function\+Await\+Resume\+Closure}} (const \mbox{\hyperlink{classv8_1_1internal_1_1TNode}{TNode}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Context}{Context}} $>$ context, const \mbox{\hyperlink{classv8_1_1internal_1_1TNode}{TNode}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}} $>$ sent\+\_\+value, \mbox{\hyperlink{classv8_1_1internal_1_1JSGeneratorObject_a8a7b5950a31ccfb7e1919c4758863d75}{JSGenerator\+Object\+::\+Resume\+Mode}} resume\+\_\+mode)
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


Definition at line 18 of file builtins-\/async-\/function-\/gen.\+cc.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1AsyncFunctionBuiltinsAssembler_a9870a60223aac0ee6d71b30f6875a005}\label{classv8_1_1internal_1_1AsyncFunctionBuiltinsAssembler_a9870a60223aac0ee6d71b30f6875a005}} 
\index{v8::internal::AsyncFunctionBuiltinsAssembler@{v8::internal::AsyncFunctionBuiltinsAssembler}!AsyncFunctionBuiltinsAssembler@{AsyncFunctionBuiltinsAssembler}}
\index{AsyncFunctionBuiltinsAssembler@{AsyncFunctionBuiltinsAssembler}!v8::internal::AsyncFunctionBuiltinsAssembler@{v8::internal::AsyncFunctionBuiltinsAssembler}}
\doxysubsubsection{\texorpdfstring{AsyncFunctionBuiltinsAssembler()}{AsyncFunctionBuiltinsAssembler()}}
{\footnotesize\ttfamily v8\+::internal\+::\+Async\+Function\+Builtins\+Assembler\+::\+Async\+Function\+Builtins\+Assembler (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1CodeAssemblerState}{compiler\+::\+Code\+Assembler\+State}} $\ast$}]{state }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}



Definition at line 20 of file builtins-\/async-\/function-\/gen.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{21       : \mbox{\hyperlink{classv8_1_1internal_1_1AsyncBuiltinsAssembler_ab8276574bce55f1182f6980338fdf4ac}{AsyncBuiltinsAssembler}}(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1CodeAssembler_a69e5efc92edbc414a2841fd6d35a5219}{state}}) \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1AsyncFunctionBuiltinsAssembler_ac96cc6b6b3d90f9a585461d15fb83b89}\label{classv8_1_1internal_1_1AsyncFunctionBuiltinsAssembler_ac96cc6b6b3d90f9a585461d15fb83b89}} 
\index{v8::internal::AsyncFunctionBuiltinsAssembler@{v8::internal::AsyncFunctionBuiltinsAssembler}!AsyncFunctionAwait@{AsyncFunctionAwait}}
\index{AsyncFunctionAwait@{AsyncFunctionAwait}!v8::internal::AsyncFunctionBuiltinsAssembler@{v8::internal::AsyncFunctionBuiltinsAssembler}}
\doxysubsubsection{\texorpdfstring{AsyncFunctionAwait()}{AsyncFunctionAwait()}}
{\footnotesize\ttfamily template$<$typename Descriptor $>$ \\
void v8\+::internal\+::\+Async\+Function\+Builtins\+Assembler\+::\+Async\+Function\+Await\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 199 of file builtins-\/async-\/function-\/gen.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{199                                                         \{}
\DoxyCodeLine{200   \textcolor{keyword}{auto} async\_function\_object =}
\DoxyCodeLine{201       Parameter<JSAsyncFunctionObject>(Descriptor::kAsyncFunctionObject);}
\DoxyCodeLine{202   \textcolor{keyword}{auto} \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} = Parameter<JSAny>(Descriptor::kValue);}
\DoxyCodeLine{203   \textcolor{keyword}{auto} context = Parameter<Context>(Descriptor::kContext);}
\DoxyCodeLine{204 }
\DoxyCodeLine{205   TNode<JSPromise> outer\_promise = LoadObjectField<JSPromise>(}
\DoxyCodeLine{206       async\_function\_object, JSAsyncFunctionObject::kPromiseOffset);}
\DoxyCodeLine{207   \mbox{\hyperlink{classv8_1_1internal_1_1AsyncBuiltinsAssembler_aaaa476019a6425a6e502f5ce4589ddd1}{Await}}(context, async\_function\_object, \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}, outer\_promise,}
\DoxyCodeLine{208         RootIndex::kAsyncFunctionAwaitResolveClosureSharedFun,}
\DoxyCodeLine{209         RootIndex::kAsyncFunctionAwaitRejectClosureSharedFun);}
\DoxyCodeLine{210 }
\DoxyCodeLine{211   \textcolor{comment}{// Return outer promise to avoid adding an load of the outer promise before}}
\DoxyCodeLine{212   \textcolor{comment}{// suspending in BytecodeGenerator.}}
\DoxyCodeLine{213   \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1CodeAssembler_a3f3e5b1bd1498ab2dcabc02774c6afc4}{Return}}(outer\_promise);}
\DoxyCodeLine{214 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Async\+Builtins\+Assembler\+::\+Await(), v8\+::internal\+::compiler\+::\+Code\+Assembler\+::\+Return(), and v8\+::internal\+::value.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1AsyncFunctionBuiltinsAssembler_ac96cc6b6b3d90f9a585461d15fb83b89_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1AsyncFunctionBuiltinsAssembler_acede0568247ed892be97e80e12d1952d}\label{classv8_1_1internal_1_1AsyncFunctionBuiltinsAssembler_acede0568247ed892be97e80e12d1952d}} 
\index{v8::internal::AsyncFunctionBuiltinsAssembler@{v8::internal::AsyncFunctionBuiltinsAssembler}!AsyncFunctionAwaitResumeClosure@{AsyncFunctionAwaitResumeClosure}}
\index{AsyncFunctionAwaitResumeClosure@{AsyncFunctionAwaitResumeClosure}!v8::internal::AsyncFunctionBuiltinsAssembler@{v8::internal::AsyncFunctionBuiltinsAssembler}}
\doxysubsubsection{\texorpdfstring{AsyncFunctionAwaitResumeClosure()}{AsyncFunctionAwaitResumeClosure()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Async\+Function\+Builtins\+Assembler\+::\+Async\+Function\+Await\+Resume\+Closure (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1TNode}{TNode}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Context}{Context}} $>$}]{context,  }\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1TNode}{TNode}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}} $>$}]{sent\+\_\+value,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1JSGeneratorObject_a8a7b5950a31ccfb7e1919c4758863d75}{JSGenerator\+Object\+::\+Resume\+Mode}}}]{resume\+\_\+mode }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 32 of file builtins-\/async-\/function-\/gen.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{34                                              \{}
\DoxyCodeLine{35   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(resume\_mode == \mbox{\hyperlink{classv8_1_1internal_1_1JSGeneratorObject_a8a7b5950a31ccfb7e1919c4758863d75ad89c51f581d6698b28de05314c772c44}{JSGeneratorObject::kNext}} ||}
\DoxyCodeLine{36          resume\_mode == \mbox{\hyperlink{classv8_1_1internal_1_1JSGeneratorObject_a8a7b5950a31ccfb7e1919c4758863d75afe27aff460dc98dfc6b784a5b0c7a954}{JSGeneratorObject::kThrow}});}
\DoxyCodeLine{37 }
\DoxyCodeLine{38   TNode<JSAsyncFunctionObject> async\_function\_object =}
\DoxyCodeLine{39       \mbox{\hyperlink{code-assembler_8h_ae136073caafb9c8accbe10a81e4d1c64}{CAST}}(LoadContextElementNoCell(context, \mbox{\hyperlink{classv8_1_1internal_1_1Context_a7a43120c7c95a95be912a46217274266ad123642fdb6a3417dc20f7653b43a42c}{Context::EXTENSION\_INDEX}}));}
\DoxyCodeLine{40 }
\DoxyCodeLine{41   \textcolor{comment}{// Inline version of GeneratorPrototypeNext / GeneratorPrototypeReturn with}}
\DoxyCodeLine{42   \textcolor{comment}{// unnecessary runtime checks removed.}}
\DoxyCodeLine{43 }
\DoxyCodeLine{44   \textcolor{comment}{// Ensure that the \{async\_function\_object\} is neither closed nor running.}}
\DoxyCodeLine{45   CSA\_SLOW\_DCHECK(}
\DoxyCodeLine{46       \textcolor{keyword}{this}, SmiGreaterThan(}
\DoxyCodeLine{47                 LoadObjectField<Smi>(async\_function\_object,}
\DoxyCodeLine{48                                      JSGeneratorObject::kContinuationOffset),}
\DoxyCodeLine{49                 \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1CodeAssembler_a7f20870b92066be2b0aa66a317095ae4}{SmiConstant}}(\mbox{\hyperlink{classv8_1_1internal_1_1JSGeneratorObject_a305bc269946a338f1232f4268392fa05}{JSGeneratorObject::kGeneratorClosed}})));}
\DoxyCodeLine{50 }
\DoxyCodeLine{51   \textcolor{comment}{// Remember the \{resume\_mode\} for the \{async\_function\_object\}.}}
\DoxyCodeLine{52   \mbox{\hyperlink{classv8_1_1internal_1_1CodeStubAssembler_a9ca02c18989b47f23c1a9dd99fb9e4dd}{StoreObjectFieldNoWriteBarrier}}(async\_function\_object,}
\DoxyCodeLine{53                                  JSGeneratorObject::kResumeModeOffset,}
\DoxyCodeLine{54                                  \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1CodeAssembler_a7f20870b92066be2b0aa66a317095ae4}{SmiConstant}}(resume\_mode));}
\DoxyCodeLine{55 }
\DoxyCodeLine{56   \textcolor{comment}{// Resume the \{receiver\} using our trampoline.}}
\DoxyCodeLine{57   \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1CodeAssembler_ace2184f798a5689b1a8e3fc20a1da7a3}{CallBuiltin}}(Builtin::kResumeGeneratorTrampoline, context, sent\_value,}
\DoxyCodeLine{58               async\_function\_object);}
\DoxyCodeLine{59 }
\DoxyCodeLine{60   \textcolor{comment}{// The resulting Promise is a throwaway, so it doesn't matter what it}}
\DoxyCodeLine{61   \textcolor{comment}{// resolves to. What is important is that we don't end up keeping the}}
\DoxyCodeLine{62   \textcolor{comment}{// whole chain of intermediate Promises alive by returning the return value}}
\DoxyCodeLine{63   \textcolor{comment}{// of ResumeGenerator, as that would create a memory leak.}}
\DoxyCodeLine{64 \}}

\end{DoxyCode}


References v8\+::internal\+::compiler\+::\+Code\+Assembler\+::\+Call\+Builtin(), CAST, v8\+::internal\+::\+DCHECK(), v8\+::internal\+::\+Context\+::\+EXTENSION\+\_\+\+INDEX, v8\+::internal\+::\+JSGenerator\+Object\+::k\+Generator\+Closed, v8\+::internal\+::\+JSGenerator\+Object\+::k\+Next, v8\+::internal\+::\+JSGenerator\+Object\+::k\+Throw, v8\+::internal\+::compiler\+::\+Code\+Assembler\+::\+Smi\+Constant(), and v8\+::internal\+::\+Code\+Stub\+Assembler\+::\+Store\+Object\+Field\+No\+Write\+Barrier().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1AsyncFunctionBuiltinsAssembler_acede0568247ed892be97e80e12d1952d_cgraph}
\end{center}
\end{figure}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/builtins/\mbox{\hyperlink{builtins-async-function-gen_8cc}{builtins-\/async-\/function-\/gen.\+cc}}\end{DoxyCompactItemize}
