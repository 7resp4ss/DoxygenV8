\hypertarget{classv8_1_1internal_1_1HeapLayoutTracer}{}\doxysection{v8\+::internal\+::Heap\+Layout\+Tracer Class Reference}
\label{classv8_1_1internal_1_1HeapLayoutTracer}\index{v8::internal::HeapLayoutTracer@{v8::internal::HeapLayoutTracer}}


{\ttfamily \#include $<$heap-\/layout-\/tracer.\+h$>$}



Inheritance diagram for v8\+::internal\+::Heap\+Layout\+Tracer\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=253pt]{classv8_1_1internal_1_1HeapLayoutTracer__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for v8\+::internal\+::Heap\+Layout\+Tracer\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=253pt]{classv8_1_1internal_1_1HeapLayoutTracer__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static void \mbox{\hyperlink{classv8_1_1internal_1_1HeapLayoutTracer_ac3e9e581681cd83b75d7f0659e99b498}{GCPrologue\+Print\+Heap\+Layout}} (\mbox{\hyperlink{classv8_1_1Isolate}{v8\+::\+Isolate}} $\ast$isolate, \mbox{\hyperlink{namespacev8_ac109d6f27e0c0f9ef4e98bcf7a806cf2}{v8\+::\+GCType}} gc\+\_\+type, \mbox{\hyperlink{namespacev8_a247c37a849f4d6c293b9b16e94e1944b}{v8\+::\+GCCallback\+Flags}} \mbox{\hyperlink{namespacev8_1_1internal_a83b0c194e63513f61999805edd71b125}{flags}}, void $\ast$data)
\item 
static void \mbox{\hyperlink{classv8_1_1internal_1_1HeapLayoutTracer_a00aee862d7ec2eee2510a8b033ed45b1}{GCEpilogue\+Print\+Heap\+Layout}} (\mbox{\hyperlink{classv8_1_1Isolate}{v8\+::\+Isolate}} $\ast$isolate, \mbox{\hyperlink{namespacev8_ac109d6f27e0c0f9ef4e98bcf7a806cf2}{v8\+::\+GCType}} gc\+\_\+type, \mbox{\hyperlink{namespacev8_a247c37a849f4d6c293b9b16e94e1944b}{v8\+::\+GCCallback\+Flags}} \mbox{\hyperlink{namespacev8_1_1internal_a83b0c194e63513f61999805edd71b125}{flags}}, void $\ast$data)
\end{DoxyCompactItemize}
\doxysubsection*{Static Private Member Functions}
\begin{DoxyCompactItemize}
\item 
static void \mbox{\hyperlink{classv8_1_1internal_1_1HeapLayoutTracer_ae0857ed53aabe89fcb86f8f6476ce30c}{Print\+Memory\+Chunk}} (std\+::ostream \&os, const \mbox{\hyperlink{classv8_1_1internal_1_1MemoryChunkMetadata}{Memory\+Chunk\+Metadata}} \&chunk, const char $\ast$owner\+\_\+name)
\item 
static void \mbox{\hyperlink{classv8_1_1internal_1_1HeapLayoutTracer_af94744274848d28a4aa06b79530913a1}{Print\+Heap\+Layout}} (std\+::ostream \&os, \mbox{\hyperlink{classv8_1_1internal_1_1Heap}{Heap}} $\ast$\mbox{\hyperlink{flag-definitions_8h_a761e4e5929b1553283fd6a532822bb17}{heap}})
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 17 of file heap-\/layout-\/tracer.\+h.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1HeapLayoutTracer_a00aee862d7ec2eee2510a8b033ed45b1}\label{classv8_1_1internal_1_1HeapLayoutTracer_a00aee862d7ec2eee2510a8b033ed45b1}} 
\index{v8::internal::HeapLayoutTracer@{v8::internal::HeapLayoutTracer}!GCEpiloguePrintHeapLayout@{GCEpiloguePrintHeapLayout}}
\index{GCEpiloguePrintHeapLayout@{GCEpiloguePrintHeapLayout}!v8::internal::HeapLayoutTracer@{v8::internal::HeapLayoutTracer}}
\doxysubsubsection{\texorpdfstring{GCEpiloguePrintHeapLayout()}{GCEpiloguePrintHeapLayout()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Heap\+Layout\+Tracer\+::\+GCEpilogue\+Print\+Heap\+Layout (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1Isolate}{v8\+::\+Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{namespacev8_ac109d6f27e0c0f9ef4e98bcf7a806cf2}{v8\+::\+GCType}}}]{gc\+\_\+type,  }\item[{\mbox{\hyperlink{namespacev8_a247c37a849f4d6c293b9b16e94e1944b}{v8\+::\+GCCallback\+Flags}}}]{flags,  }\item[{void $\ast$}]{data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 48 of file heap-\/layout-\/tracer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{51                                                              \{}
\DoxyCodeLine{52   Heap* \mbox{\hyperlink{namespaceheap}{heap}} = \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{i::Isolate}}*\textcolor{keyword}{>}(isolate)-\/>\mbox{\hyperlink{flag-definitions_8h_a761e4e5929b1553283fd6a532822bb17}{heap}}();}
\DoxyCodeLine{53   \mbox{\hyperlink{namespacev8_1_1internal_a3430752cde9f29d73e97ceed1bce0856}{PrintF}}(\textcolor{stringliteral}{"{}After GC:\%d,"{}}, \mbox{\hyperlink{namespaceheap}{heap}}-\/>gc\_count());}
\DoxyCodeLine{54   \mbox{\hyperlink{namespacev8_1_1internal_a3430752cde9f29d73e97ceed1bce0856}{PrintF}}(\textcolor{stringliteral}{"{}collector\_name:\%s\(\backslash\)n"{}}, \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02heap-layout-tracer_8cc_03_a28a3f1c251c1cdf9f83fbf8a370596ba}{TypeToCollectorName}}(gc\_type));}
\DoxyCodeLine{55   \mbox{\hyperlink{classv8_1_1internal_1_1HeapLayoutTracer_af94744274848d28a4aa06b79530913a1}{PrintHeapLayout}}(std::cout, \mbox{\hyperlink{namespaceheap}{heap}});}
\DoxyCodeLine{56 \}}

\end{DoxyCode}


References heap(), v8\+::internal\+::\+Print\+F(), Print\+Heap\+Layout(), and v8\+::internal\+::anonymous\+\_\+namespace\{heap-\/layout-\/tracer.\+cc\}\+::\+Type\+To\+Collector\+Name().



Referenced by v8\+::internal\+::\+Heap\+::\+Set\+Up().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1HeapLayoutTracer_a00aee862d7ec2eee2510a8b033ed45b1_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1HeapLayoutTracer_a00aee862d7ec2eee2510a8b033ed45b1_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1HeapLayoutTracer_ac3e9e581681cd83b75d7f0659e99b498}\label{classv8_1_1internal_1_1HeapLayoutTracer_ac3e9e581681cd83b75d7f0659e99b498}} 
\index{v8::internal::HeapLayoutTracer@{v8::internal::HeapLayoutTracer}!GCProloguePrintHeapLayout@{GCProloguePrintHeapLayout}}
\index{GCProloguePrintHeapLayout@{GCProloguePrintHeapLayout}!v8::internal::HeapLayoutTracer@{v8::internal::HeapLayoutTracer}}
\doxysubsubsection{\texorpdfstring{GCProloguePrintHeapLayout()}{GCProloguePrintHeapLayout()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Heap\+Layout\+Tracer\+::\+GCPrologue\+Print\+Heap\+Layout (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1Isolate}{v8\+::\+Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{namespacev8_ac109d6f27e0c0f9ef4e98bcf7a806cf2}{v8\+::\+GCType}}}]{gc\+\_\+type,  }\item[{\mbox{\hyperlink{namespacev8_a247c37a849f4d6c293b9b16e94e1944b}{v8\+::\+GCCallback\+Flags}}}]{flags,  }\item[{void $\ast$}]{data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 36 of file heap-\/layout-\/tracer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{39                                                              \{}
\DoxyCodeLine{40   Heap* \mbox{\hyperlink{namespaceheap}{heap}} = \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{i::Isolate}}*\textcolor{keyword}{>}(isolate)-\/>\mbox{\hyperlink{flag-definitions_8h_a761e4e5929b1553283fd6a532822bb17}{heap}}();}
\DoxyCodeLine{41   \textcolor{comment}{// gc\_count\_ will increase after this callback, manually add 1.}}
\DoxyCodeLine{42   \mbox{\hyperlink{namespacev8_1_1internal_a3430752cde9f29d73e97ceed1bce0856}{PrintF}}(\textcolor{stringliteral}{"{}Before GC:\%d,"{}}, \mbox{\hyperlink{namespaceheap}{heap}}-\/>gc\_count() + 1);}
\DoxyCodeLine{43   \mbox{\hyperlink{namespacev8_1_1internal_a3430752cde9f29d73e97ceed1bce0856}{PrintF}}(\textcolor{stringliteral}{"{}collector\_name:\%s\(\backslash\)n"{}}, \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02heap-layout-tracer_8cc_03_a28a3f1c251c1cdf9f83fbf8a370596ba}{TypeToCollectorName}}(gc\_type));}
\DoxyCodeLine{44   \mbox{\hyperlink{classv8_1_1internal_1_1HeapLayoutTracer_af94744274848d28a4aa06b79530913a1}{PrintHeapLayout}}(std::cout, \mbox{\hyperlink{namespaceheap}{heap}});}
\DoxyCodeLine{45 \}}

\end{DoxyCode}


References heap(), v8\+::internal\+::\+Print\+F(), Print\+Heap\+Layout(), and v8\+::internal\+::anonymous\+\_\+namespace\{heap-\/layout-\/tracer.\+cc\}\+::\+Type\+To\+Collector\+Name().



Referenced by v8\+::internal\+::\+Heap\+::\+Set\+Up().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1HeapLayoutTracer_ac3e9e581681cd83b75d7f0659e99b498_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1HeapLayoutTracer_ac3e9e581681cd83b75d7f0659e99b498_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1HeapLayoutTracer_af94744274848d28a4aa06b79530913a1}\label{classv8_1_1internal_1_1HeapLayoutTracer_af94744274848d28a4aa06b79530913a1}} 
\index{v8::internal::HeapLayoutTracer@{v8::internal::HeapLayoutTracer}!PrintHeapLayout@{PrintHeapLayout}}
\index{PrintHeapLayout@{PrintHeapLayout}!v8::internal::HeapLayoutTracer@{v8::internal::HeapLayoutTracer}}
\doxysubsubsection{\texorpdfstring{PrintHeapLayout()}{PrintHeapLayout()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Heap\+Layout\+Tracer\+::\+Print\+Heap\+Layout (\begin{DoxyParamCaption}\item[{std\+::ostream \&}]{os,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Heap}{Heap}} $\ast$}]{heap }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 70 of file heap-\/layout-\/tracer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{70                                                                  \{}
\DoxyCodeLine{71   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.minor\_ms) \{}
\DoxyCodeLine{72     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} PageMetadata* page : *\mbox{\hyperlink{namespaceheap}{heap}}-\/>paged\_new\_space()) \{}
\DoxyCodeLine{73       \mbox{\hyperlink{classv8_1_1internal_1_1HeapLayoutTracer_ae0857ed53aabe89fcb86f8f6476ce30c}{PrintMemoryChunk}}(os, *page, \textcolor{stringliteral}{"{}new\_space"{}});}
\DoxyCodeLine{74     \}}
\DoxyCodeLine{75   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{76     \textcolor{keyword}{const} SemiSpaceNewSpace* semi\_space\_new\_space =}
\DoxyCodeLine{77         \mbox{\hyperlink{classv8_1_1internal_1_1SemiSpaceNewSpace_a6a1e4d7add6a528eb4e3f406327e8ebf}{SemiSpaceNewSpace::From}}(\mbox{\hyperlink{namespaceheap}{heap}}-\/>new\_space());}
\DoxyCodeLine{78     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} PageMetadata* page : semi\_space\_new\_space-\/>to\_space()) \{}
\DoxyCodeLine{79       \mbox{\hyperlink{classv8_1_1internal_1_1HeapLayoutTracer_ae0857ed53aabe89fcb86f8f6476ce30c}{PrintMemoryChunk}}(os, *page, \textcolor{stringliteral}{"{}to\_space"{}});}
\DoxyCodeLine{80     \}}
\DoxyCodeLine{81 }
\DoxyCodeLine{82     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} PageMetadata* page : semi\_space\_new\_space-\/>from\_space()) \{}
\DoxyCodeLine{83       \mbox{\hyperlink{classv8_1_1internal_1_1HeapLayoutTracer_ae0857ed53aabe89fcb86f8f6476ce30c}{PrintMemoryChunk}}(os, *page, \textcolor{stringliteral}{"{}from\_space"{}});}
\DoxyCodeLine{84     \}}
\DoxyCodeLine{85   \}}
\DoxyCodeLine{86 }
\DoxyCodeLine{87   OldGenerationMemoryChunkIterator it(\mbox{\hyperlink{namespaceheap}{heap}});}
\DoxyCodeLine{88   MutablePageMetadata* chunk;}
\DoxyCodeLine{89   \textcolor{keywordflow}{while} ((chunk = it.next()) != \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{90     \mbox{\hyperlink{classv8_1_1internal_1_1HeapLayoutTracer_ae0857ed53aabe89fcb86f8f6476ce30c}{PrintMemoryChunk}}(os, *chunk, \mbox{\hyperlink{namespacev8_1_1internal_a5571bf7a3fbdb542683ee282eefb035c}{ToString}}(chunk-\/>owner()-\/>identity()));}
\DoxyCodeLine{91   \}}
\DoxyCodeLine{92 }
\DoxyCodeLine{93   \textcolor{keywordflow}{for} (ReadOnlyPageMetadata* page : \mbox{\hyperlink{namespaceheap}{heap}}-\/>read\_only\_space()-\/>pages()) \{}
\DoxyCodeLine{94     \mbox{\hyperlink{classv8_1_1internal_1_1HeapLayoutTracer_ae0857ed53aabe89fcb86f8f6476ce30c}{PrintMemoryChunk}}(os, *page, \textcolor{stringliteral}{"{}ro\_space"{}});}
\DoxyCodeLine{95   \}}
\DoxyCodeLine{96 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Semi\+Space\+New\+Space\+::\+From(), v8\+::internal\+::\+Semi\+Space\+New\+Space\+::from\+\_\+space(), v8\+::internal\+::\+Base\+Space\+::identity(), v8\+::internal\+::\+Old\+Generation\+Memory\+Chunk\+Iterator\+::next(), v8\+::internal\+::\+Mutable\+Page\+Metadata\+::owner(), Print\+Memory\+Chunk(), v8\+::internal\+::\+Semi\+Space\+New\+Space\+::to\+\_\+space(), v8\+::internal\+::\+To\+String(), and v8\+::internal\+::v8\+\_\+flags.



Referenced by GCEpilogue\+Print\+Heap\+Layout(), and GCPrologue\+Print\+Heap\+Layout().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1HeapLayoutTracer_af94744274848d28a4aa06b79530913a1_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1HeapLayoutTracer_af94744274848d28a4aa06b79530913a1_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1HeapLayoutTracer_ae0857ed53aabe89fcb86f8f6476ce30c}\label{classv8_1_1internal_1_1HeapLayoutTracer_ae0857ed53aabe89fcb86f8f6476ce30c}} 
\index{v8::internal::HeapLayoutTracer@{v8::internal::HeapLayoutTracer}!PrintMemoryChunk@{PrintMemoryChunk}}
\index{PrintMemoryChunk@{PrintMemoryChunk}!v8::internal::HeapLayoutTracer@{v8::internal::HeapLayoutTracer}}
\doxysubsubsection{\texorpdfstring{PrintMemoryChunk()}{PrintMemoryChunk()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Heap\+Layout\+Tracer\+::\+Print\+Memory\+Chunk (\begin{DoxyParamCaption}\item[{std\+::ostream \&}]{os,  }\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1MemoryChunkMetadata}{Memory\+Chunk\+Metadata}} \&}]{chunk,  }\item[{const char $\ast$}]{owner\+\_\+name }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 59 of file heap-\/layout-\/tracer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{61                                                                 \{}
\DoxyCodeLine{62   os << \textcolor{stringliteral}{"{}\{owner:"{}} << owner\_name << \textcolor{stringliteral}{"{},"{}}}
\DoxyCodeLine{63      << \textcolor{stringliteral}{"{}address:"{}} << \&chunk << \textcolor{stringliteral}{"{},"{}}}
\DoxyCodeLine{64      << \textcolor{stringliteral}{"{}size:"{}} << chunk.size() << \textcolor{stringliteral}{"{},"{}}}
\DoxyCodeLine{65      << \textcolor{stringliteral}{"{}allocated\_bytes:"{}} << chunk.allocated\_bytes() << \textcolor{stringliteral}{"{},"{}}}
\DoxyCodeLine{66      << \textcolor{stringliteral}{"{}wasted\_memory:"{}} << chunk.wasted\_memory() << \textcolor{stringliteral}{"{}\}"{}} << std::endl;}
\DoxyCodeLine{67 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Memory\+Chunk\+Metadata\+::allocated\+\_\+bytes(), v8\+::internal\+::\+Memory\+Chunk\+Metadata\+::size(), and v8\+::internal\+::\+Memory\+Chunk\+Metadata\+::wasted\+\_\+memory().



Referenced by Print\+Heap\+Layout().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1HeapLayoutTracer_ae0857ed53aabe89fcb86f8f6476ce30c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1HeapLayoutTracer_ae0857ed53aabe89fcb86f8f6476ce30c_icgraph}
\end{center}
\end{figure}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/heap/\mbox{\hyperlink{heap-layout-tracer_8h}{heap-\/layout-\/tracer.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/heap/\mbox{\hyperlink{heap-layout-tracer_8cc}{heap-\/layout-\/tracer.\+cc}}\end{DoxyCompactItemize}
