\hypertarget{classv8_1_1internal_1_1compiler_1_1OperandAssigner}{}\doxysection{v8\+::internal\+::compiler\+::Operand\+Assigner Class Reference}
\label{classv8_1_1internal_1_1compiler_1_1OperandAssigner}\index{v8::internal::compiler::OperandAssigner@{v8::internal::compiler::OperandAssigner}}


{\ttfamily \#include $<$register-\/allocator.\+h$>$}



Inheritance diagram for v8\+::internal\+::compiler\+::Operand\+Assigner\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=214pt]{classv8_1_1internal_1_1compiler_1_1OperandAssigner__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for v8\+::internal\+::compiler\+::Operand\+Assigner\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1OperandAssigner__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a7ca2c1a36fcbdc35dcca5d1ef1e4a382}{Operand\+Assigner}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData}{Register\+Allocation\+Data}} $\ast$\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a08eecafc31fe7004207aec962fdd6b1a}{data}})
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a79eff20b689328718544f8bdc68a89b1}{Operand\+Assigner}} (const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OperandAssigner}{Operand\+Assigner}} \&)=delete
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OperandAssigner}{Operand\+Assigner}} \& \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OperandAssigner_ac44bf03fb2c6a1e5eba321623f674567}{operator=}} (const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OperandAssigner}{Operand\+Assigner}} \&)=delete
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a90c75d6453dcdefef9f6b1af926b298c}{Decide\+Spilling\+Mode}} ()
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OperandAssigner_ad6584f898499c7916d684cb5b7752b4b}{Assign\+Spill\+Slots}} ()
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a52c0f0a8cb23f3e0de4b701af4d4b8f0}{Commit\+Assignment}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData}{Register\+Allocation\+Data}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a08eecafc31fe7004207aec962fdd6b1a}{data}} () const
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData}{Register\+Allocation\+Data}} $\ast$const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a0d4dfd13e4aa64d84fe6ee5584e6276a}{data\+\_\+}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 1696 of file register-\/allocator.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a7ca2c1a36fcbdc35dcca5d1ef1e4a382}\label{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a7ca2c1a36fcbdc35dcca5d1ef1e4a382}} 
\index{v8::internal::compiler::OperandAssigner@{v8::internal::compiler::OperandAssigner}!OperandAssigner@{OperandAssigner}}
\index{OperandAssigner@{OperandAssigner}!v8::internal::compiler::OperandAssigner@{v8::internal::compiler::OperandAssigner}}
\doxysubsubsection{\texorpdfstring{OperandAssigner()}{OperandAssigner()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily v8\+::internal\+::compiler\+::\+Operand\+Assigner\+::\+Operand\+Assigner (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData}{Register\+Allocation\+Data}} $\ast$}]{data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}



Definition at line 4606 of file register-\/allocator.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4606 : \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a0d4dfd13e4aa64d84fe6ee5584e6276a}{data\_}}(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a08eecafc31fe7004207aec962fdd6b1a}{data}}) \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a79eff20b689328718544f8bdc68a89b1}\label{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a79eff20b689328718544f8bdc68a89b1}} 
\index{v8::internal::compiler::OperandAssigner@{v8::internal::compiler::OperandAssigner}!OperandAssigner@{OperandAssigner}}
\index{OperandAssigner@{OperandAssigner}!v8::internal::compiler::OperandAssigner@{v8::internal::compiler::OperandAssigner}}
\doxysubsubsection{\texorpdfstring{OperandAssigner()}{OperandAssigner()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily v8\+::internal\+::compiler\+::\+Operand\+Assigner\+::\+Operand\+Assigner (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OperandAssigner}{Operand\+Assigner}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1OperandAssigner_ad6584f898499c7916d684cb5b7752b4b}\label{classv8_1_1internal_1_1compiler_1_1OperandAssigner_ad6584f898499c7916d684cb5b7752b4b}} 
\index{v8::internal::compiler::OperandAssigner@{v8::internal::compiler::OperandAssigner}!AssignSpillSlots@{AssignSpillSlots}}
\index{AssignSpillSlots@{AssignSpillSlots}!v8::internal::compiler::OperandAssigner@{v8::internal::compiler::OperandAssigner}}
\doxysubsubsection{\texorpdfstring{AssignSpillSlots()}{AssignSpillSlots()}}
{\footnotesize\ttfamily void v8\+::internal\+::compiler\+::\+Operand\+Assigner\+::\+Assign\+Spill\+Slots (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 4633 of file register-\/allocator.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4633                                        \{}
\DoxyCodeLine{4634   ZoneVector<SpillRange*> spill\_ranges(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a08eecafc31fe7004207aec962fdd6b1a}{data}}()-\/>allocation\_zone());}
\DoxyCodeLine{4635   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} TopLevelLiveRange* range : \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a08eecafc31fe7004207aec962fdd6b1a}{data}}()-\/>live\_ranges()) \{}
\DoxyCodeLine{4636     \mbox{\hyperlink{src_2base_2logging_8h_a7b9f9517fedacc2a1a56c2bbb9d03688}{DCHECK\_NOT\_NULL}}(range);}
\DoxyCodeLine{4637     \textcolor{keywordflow}{if} (range-\/>HasSpillRange()) \{}
\DoxyCodeLine{4638       \mbox{\hyperlink{src_2base_2logging_8h_a7b9f9517fedacc2a1a56c2bbb9d03688}{DCHECK\_NOT\_NULL}}(range-\/>GetSpillRange());}
\DoxyCodeLine{4639       spill\_ranges.push\_back(range-\/>GetSpillRange());}
\DoxyCodeLine{4640     \}}
\DoxyCodeLine{4641   \}}
\DoxyCodeLine{4642   \textcolor{comment}{// At this point, the `SpillRange`s for all `TopLevelLiveRange`s should be}}
\DoxyCodeLine{4643   \textcolor{comment}{// unique, since none have been merged yet.}}
\DoxyCodeLine{4644   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(spill\_ranges.size(),}
\DoxyCodeLine{4645             std::set(spill\_ranges.begin(), spill\_ranges.end()).size());}
\DoxyCodeLine{4646 }
\DoxyCodeLine{4647   \textcolor{comment}{// Merge all `SpillRange`s that belong to the same `LiveRangeBundle`.}}
\DoxyCodeLine{4648   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} TopLevelLiveRange* range : \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a08eecafc31fe7004207aec962fdd6b1a}{data}}()-\/>live\_ranges()) \{}
\DoxyCodeLine{4649     \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a08eecafc31fe7004207aec962fdd6b1a}{data}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData_a2855322291fd8fb6b75704b0020e9889}{tick\_counter}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1TickCounter_a381d61714a1f0ec47afea6b5f3bacb22}{TickAndMaybeEnterSafepoint}}();}
\DoxyCodeLine{4650     \mbox{\hyperlink{src_2base_2logging_8h_a7b9f9517fedacc2a1a56c2bbb9d03688}{DCHECK\_NOT\_NULL}}(range);}
\DoxyCodeLine{4651     \textcolor{keywordflow}{if} (range-\/>get\_bundle() != \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{4652       range-\/>get\_bundle()-\/>MergeSpillRangesAndClear();}
\DoxyCodeLine{4653     \}}
\DoxyCodeLine{4654   \}}
\DoxyCodeLine{4655 }
\DoxyCodeLine{4656   \textcolor{comment}{// Now merge *all* disjoint, non-\/empty `SpillRange`s.}}
\DoxyCodeLine{4657   \textcolor{comment}{// Formerly, this merging was O(n\string^2) in the number of `SpillRange`s, which}}
\DoxyCodeLine{4658   \textcolor{comment}{// then dominated compile time (>40\%) for some pathological cases,}}
\DoxyCodeLine{4659   \textcolor{comment}{// e.g., https://crbug.com/v8/14133.}}
\DoxyCodeLine{4660   \textcolor{comment}{// Now, we allow only `kMaxRetries` unsuccessful merges with directly}}
\DoxyCodeLine{4661   \textcolor{comment}{// following `SpillRange`s. After each `kMaxRetries`, we exponentially}}
\DoxyCodeLine{4662   \textcolor{comment}{// increase the stride, which limits the inner loop to O(log n) and thus}}
\DoxyCodeLine{4663   \textcolor{comment}{// the overall merging to O(n * log n).}}
\DoxyCodeLine{4664 }
\DoxyCodeLine{4665   \textcolor{comment}{// The merging above may have left some `SpillRange`s empty, remove them.}}
\DoxyCodeLine{4666   SpillRange** end\_nonempty =}
\DoxyCodeLine{4667       std::remove\_if(spill\_ranges.begin(), spill\_ranges.end(),}
\DoxyCodeLine{4668                      [](\textcolor{keyword}{const} SpillRange* range) \{ return range-\/>IsEmpty(); \});}
\DoxyCodeLine{4669   \textcolor{keywordflow}{for} (SpillRange** range\_it = spill\_ranges.begin(); range\_it < end\_nonempty;}
\DoxyCodeLine{4670        ++range\_it) \{}
\DoxyCodeLine{4671     \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a08eecafc31fe7004207aec962fdd6b1a}{data}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData_a2855322291fd8fb6b75704b0020e9889}{tick\_counter}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1TickCounter_a381d61714a1f0ec47afea6b5f3bacb22}{TickAndMaybeEnterSafepoint}}();}
\DoxyCodeLine{4672     SpillRange* range = *range\_it;}
\DoxyCodeLine{4673     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!range-\/>IsEmpty());}
\DoxyCodeLine{4674     constexpr \textcolor{keywordtype}{size\_t} kMaxRetries = 1000;}
\DoxyCodeLine{4675     \textcolor{keywordtype}{size\_t} retries = kMaxRetries;}
\DoxyCodeLine{4676     \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_af96dca68ed86506261925375765a0f1a}{stride}} = 1;}
\DoxyCodeLine{4677     \textcolor{keywordflow}{for} (SpillRange** other\_it = range\_it + 1; other\_it < end\_nonempty;}
\DoxyCodeLine{4678          other\_it += \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_af96dca68ed86506261925375765a0f1a}{stride}}) \{}
\DoxyCodeLine{4679       SpillRange* other = *other\_it;}
\DoxyCodeLine{4680       \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!other-\/>IsEmpty());}
\DoxyCodeLine{4681       \textcolor{keywordflow}{if} (range-\/>TryMerge(other)) \{}
\DoxyCodeLine{4682         \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(other-\/>IsEmpty());}
\DoxyCodeLine{4683         std::iter\_swap(other\_it, -\/-\/end\_nonempty);}
\DoxyCodeLine{4684       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (-\/-\/retries == 0) \{}
\DoxyCodeLine{4685         retries = kMaxRetries;}
\DoxyCodeLine{4686         \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_af96dca68ed86506261925375765a0f1a}{stride}} *= 2;}
\DoxyCodeLine{4687       \}}
\DoxyCodeLine{4688     \}}
\DoxyCodeLine{4689   \}}
\DoxyCodeLine{4690   spill\_ranges.erase(end\_nonempty, spill\_ranges.end());}
\DoxyCodeLine{4691 }
\DoxyCodeLine{4692   \textcolor{comment}{// Allocate slots for the merged spill ranges.}}
\DoxyCodeLine{4693   \textcolor{keywordflow}{for} (SpillRange* range : spill\_ranges) \{}
\DoxyCodeLine{4694     \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a08eecafc31fe7004207aec962fdd6b1a}{data}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData_a2855322291fd8fb6b75704b0020e9889}{tick\_counter}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1TickCounter_a381d61714a1f0ec47afea6b5f3bacb22}{TickAndMaybeEnterSafepoint}}();}
\DoxyCodeLine{4695     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!range-\/>IsEmpty());}
\DoxyCodeLine{4696     \textcolor{keywordflow}{if} (!range-\/>HasSlot()) \{}
\DoxyCodeLine{4697       \textcolor{comment}{// Allocate a new operand referring to the spill slot, aligned to the}}
\DoxyCodeLine{4698       \textcolor{comment}{// operand size.}}
\DoxyCodeLine{4699       \textcolor{keywordtype}{int} width = range-\/>byte\_width();}
\DoxyCodeLine{4700       \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}} = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a08eecafc31fe7004207aec962fdd6b1a}{data}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData_ae054d6f0d9c8b64c0c60b8fb2f265748}{frame}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Frame_a61f38119924f664a9dd34f9b10b667bf}{AllocateSpillSlot}}(width, width);}
\DoxyCodeLine{4701       range-\/>set\_assigned\_slot(\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}});}
\DoxyCodeLine{4702     \}}
\DoxyCodeLine{4703   \}}
\DoxyCodeLine{4704 \}}

\end{DoxyCode}


References v8\+::internal\+::compiler\+::\+Frame\+::\+Allocate\+Spill\+Slot(), v8\+::internal\+::\+Zone\+Vector$<$ T $>$\+::begin(), v8\+::internal\+::compiler\+::\+Spill\+Range\+::byte\+\_\+width(), data(), v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+EQ, DCHECK\+\_\+\+NOT\+\_\+\+NULL, v8\+::internal\+::\+Zone\+Vector$<$ T $>$\+::end(), v8\+::internal\+::\+Zone\+Vector$<$ T $>$\+::erase(), v8\+::internal\+::compiler\+::\+Register\+Allocation\+Data\+::frame(), v8\+::internal\+::compiler\+::\+Spill\+Range\+::\+Has\+Slot(), v8\+::internal\+::index, v8\+::internal\+::compiler\+::\+Spill\+Range\+::\+Is\+Empty(), v8\+::internal\+::\+Zone\+Vector$<$ T $>$\+::push\+\_\+back(), v8\+::internal\+::compiler\+::\+Spill\+Range\+::set\+\_\+assigned\+\_\+slot(), v8\+::internal\+::\+Zone\+Vector$<$ T $>$\+::size(), v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::stride, v8\+::internal\+::compiler\+::\+Register\+Allocation\+Data\+::tick\+\_\+counter(), v8\+::internal\+::\+Tick\+Counter\+::\+Tick\+And\+Maybe\+Enter\+Safepoint(), and v8\+::internal\+::compiler\+::\+Spill\+Range\+::\+Try\+Merge().



Referenced by v8\+::internal\+::compiler\+::turboshaft\+::\+Assign\+Spill\+Slots\+Phase\+::\+Run().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1OperandAssigner_ad6584f898499c7916d684cb5b7752b4b_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1OperandAssigner_ad6584f898499c7916d684cb5b7752b4b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a52c0f0a8cb23f3e0de4b701af4d4b8f0}\label{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a52c0f0a8cb23f3e0de4b701af4d4b8f0}} 
\index{v8::internal::compiler::OperandAssigner@{v8::internal::compiler::OperandAssigner}!CommitAssignment@{CommitAssignment}}
\index{CommitAssignment@{CommitAssignment}!v8::internal::compiler::OperandAssigner@{v8::internal::compiler::OperandAssigner}}
\doxysubsubsection{\texorpdfstring{CommitAssignment()}{CommitAssignment()}}
{\footnotesize\ttfamily void v8\+::internal\+::compiler\+::\+Operand\+Assigner\+::\+Commit\+Assignment (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 4706 of file register-\/allocator.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4706                                        \{}
\DoxyCodeLine{4707   \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} live\_ranges\_size = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a08eecafc31fe7004207aec962fdd6b1a}{data}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData_afc8a4b3c66832eb2ee286f35aa13b963}{live\_ranges}}().size();}
\DoxyCodeLine{4708   \textcolor{keywordflow}{for} (TopLevelLiveRange* top\_range : \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a08eecafc31fe7004207aec962fdd6b1a}{data}}()-\/>live\_ranges()) \{}
\DoxyCodeLine{4709     \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a08eecafc31fe7004207aec962fdd6b1a}{data}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData_a2855322291fd8fb6b75704b0020e9889}{tick\_counter}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1TickCounter_a381d61714a1f0ec47afea6b5f3bacb22}{TickAndMaybeEnterSafepoint}}();}
\DoxyCodeLine{4710     \mbox{\hyperlink{src_2base_2logging_8h_aca32614b4d2aea7dd9abdeb222bf02f3}{CHECK\_EQ}}(live\_ranges\_size,}
\DoxyCodeLine{4711              \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a08eecafc31fe7004207aec962fdd6b1a}{data}}()-\/>live\_ranges().\mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}());  \textcolor{comment}{// TODO(neis): crbug.com/831822}}
\DoxyCodeLine{4712     \mbox{\hyperlink{src_2base_2logging_8h_a7b9f9517fedacc2a1a56c2bbb9d03688}{DCHECK\_NOT\_NULL}}(top\_range);}
\DoxyCodeLine{4713     \textcolor{keywordflow}{if} (top\_range-\/>IsEmpty()) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{4714     InstructionOperand spill\_operand;}
\DoxyCodeLine{4715     \textcolor{keywordflow}{if} (top\_range-\/>HasSpillOperand()) \{}
\DoxyCodeLine{4716       \textcolor{keyword}{auto} it = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a08eecafc31fe7004207aec962fdd6b1a}{data}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData_ab5fce837f79d12b6a6bde476a8d63485}{slot\_for\_const\_range}}().find(top\_range);}
\DoxyCodeLine{4717       \textcolor{keywordflow}{if} (it != \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a08eecafc31fe7004207aec962fdd6b1a}{data}}()-\/>slot\_for\_const\_range().\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}}()) \{}
\DoxyCodeLine{4718         spill\_operand = *it-\/>second;}
\DoxyCodeLine{4719       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{4720         spill\_operand = *top\_range-\/>GetSpillOperand();}
\DoxyCodeLine{4721       \}}
\DoxyCodeLine{4722     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (top\_range-\/>HasSpillRange()) \{}
\DoxyCodeLine{4723       spill\_operand = top\_range-\/>GetSpillRangeOperand();}
\DoxyCodeLine{4724     \}}
\DoxyCodeLine{4725     \textcolor{keywordflow}{if} (top\_range-\/>is\_phi()) \{}
\DoxyCodeLine{4726       \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a08eecafc31fe7004207aec962fdd6b1a}{data}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData_a8708b0753584cdf313aa489dbdb87bc5}{GetPhiMapValueFor}}(top\_range)-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData_1_1PhiMapValue_a777606c6f3af77423c4e981f95a3e636}{CommitAssignment}}(}
\DoxyCodeLine{4727           top\_range-\/>GetAssignedOperand());}
\DoxyCodeLine{4728     \}}
\DoxyCodeLine{4729     \textcolor{keywordflow}{for} (LiveRange* range = top\_range; range != \textcolor{keyword}{nullptr};}
\DoxyCodeLine{4730          range = range-\/>next()) \{}
\DoxyCodeLine{4731       InstructionOperand assigned = range-\/>GetAssignedOperand();}
\DoxyCodeLine{4732       \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!assigned.IsUnallocated());}
\DoxyCodeLine{4733       range-\/>ConvertUsesToOperand(assigned, spill\_operand);}
\DoxyCodeLine{4734     \}}
\DoxyCodeLine{4735 }
\DoxyCodeLine{4736     \textcolor{keywordflow}{if} (!spill\_operand.IsInvalid()) \{}
\DoxyCodeLine{4737       \textcolor{comment}{// If this top level range has a child spilled in a deferred block, we use}}
\DoxyCodeLine{4738       \textcolor{comment}{// the range and control flow connection mechanism instead of spilling at}}
\DoxyCodeLine{4739       \textcolor{comment}{// definition. Refer to the ConnectLiveRanges and ResolveControlFlow}}
\DoxyCodeLine{4740       \textcolor{comment}{// phases. Normally, when we spill at definition, we do not insert a}}
\DoxyCodeLine{4741       \textcolor{comment}{// connecting move when a successor child range is spilled -\/ because the}}
\DoxyCodeLine{4742       \textcolor{comment}{// spilled range picks up its value from the slot which was assigned at}}
\DoxyCodeLine{4743       \textcolor{comment}{// definition. For ranges that are determined to spill only in deferred}}
\DoxyCodeLine{4744       \textcolor{comment}{// blocks, we let ConnectLiveRanges and ResolveControlFlow find the blocks}}
\DoxyCodeLine{4745       \textcolor{comment}{// where a spill operand is expected, and then finalize by inserting the}}
\DoxyCodeLine{4746       \textcolor{comment}{// spills in the deferred blocks dominators.}}
\DoxyCodeLine{4747       \textcolor{keywordflow}{if} (!top\_range-\/>IsSpilledOnlyInDeferredBlocks(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a08eecafc31fe7004207aec962fdd6b1a}{data}}()) \&\&}
\DoxyCodeLine{4748           !top\_range-\/>HasGeneralSpillRange()) \{}
\DoxyCodeLine{4749         \textcolor{comment}{// Spill at definition if the range isn't spilled in a way that will be}}
\DoxyCodeLine{4750         \textcolor{comment}{// handled later.}}
\DoxyCodeLine{4751         top\_range-\/>FilterSpillMoves(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a08eecafc31fe7004207aec962fdd6b1a}{data}}(), spill\_operand);}
\DoxyCodeLine{4752         top\_range-\/>CommitSpillMoves(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a08eecafc31fe7004207aec962fdd6b1a}{data}}(), spill\_operand);}
\DoxyCodeLine{4753       \}}
\DoxyCodeLine{4754     \}}
\DoxyCodeLine{4755   \}}
\DoxyCodeLine{4756 \}}

\end{DoxyCode}


References CHECK\+\_\+\+EQ, v8\+::internal\+::compiler\+::\+Register\+Allocation\+Data\+::\+Phi\+Map\+Value\+::\+Commit\+Assignment(), data(), v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+NOT\+\_\+\+NULL, v8\+::internal\+::compiler\+::end(), v8\+::internal\+::compiler\+::\+Register\+Allocation\+Data\+::\+Get\+Phi\+Map\+Value\+For(), v8\+::internal\+::compiler\+::\+Register\+Allocation\+Data\+::live\+\_\+ranges(), v8\+::internal\+::compiler\+::\+Live\+Range\+::next(), size(), v8\+::internal\+::compiler\+::\+Register\+Allocation\+Data\+::slot\+\_\+for\+\_\+const\+\_\+range(), v8\+::internal\+::compiler\+::\+Register\+Allocation\+Data\+::tick\+\_\+counter(), and v8\+::internal\+::\+Tick\+Counter\+::\+Tick\+And\+Maybe\+Enter\+Safepoint().



Referenced by v8\+::internal\+::compiler\+::turboshaft\+::\+Commit\+Assignment\+Phase\+::\+Run().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a52c0f0a8cb23f3e0de4b701af4d4b8f0_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a52c0f0a8cb23f3e0de4b701af4d4b8f0_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a08eecafc31fe7004207aec962fdd6b1a}\label{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a08eecafc31fe7004207aec962fdd6b1a}} 
\index{v8::internal::compiler::OperandAssigner@{v8::internal::compiler::OperandAssigner}!data@{data}}
\index{data@{data}!v8::internal::compiler::OperandAssigner@{v8::internal::compiler::OperandAssigner}}
\doxysubsubsection{\texorpdfstring{data()}{data()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData}{Register\+Allocation\+Data}}$\ast$ v8\+::internal\+::compiler\+::\+Operand\+Assigner\+::data (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 1712 of file register-\/allocator.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{1712 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a0d4dfd13e4aa64d84fe6ee5584e6276a}{data\_}}; \}}

\end{DoxyCode}


References data\+\_\+.



Referenced by Assign\+Spill\+Slots(), Commit\+Assignment(), and Decide\+Spilling\+Mode().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a08eecafc31fe7004207aec962fdd6b1a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a90c75d6453dcdefef9f6b1af926b298c}\label{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a90c75d6453dcdefef9f6b1af926b298c}} 
\index{v8::internal::compiler::OperandAssigner@{v8::internal::compiler::OperandAssigner}!DecideSpillingMode@{DecideSpillingMode}}
\index{DecideSpillingMode@{DecideSpillingMode}!v8::internal::compiler::OperandAssigner@{v8::internal::compiler::OperandAssigner}}
\doxysubsubsection{\texorpdfstring{DecideSpillingMode()}{DecideSpillingMode()}}
{\footnotesize\ttfamily void v8\+::internal\+::compiler\+::\+Operand\+Assigner\+::\+Decide\+Spilling\+Mode (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 4608 of file register-\/allocator.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4608                                          \{}
\DoxyCodeLine{4609   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} range : \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a08eecafc31fe7004207aec962fdd6b1a}{data}}()-\/>live\_ranges()) \{}
\DoxyCodeLine{4610     \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a08eecafc31fe7004207aec962fdd6b1a}{data}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData_a2855322291fd8fb6b75704b0020e9889}{tick\_counter}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1TickCounter_a381d61714a1f0ec47afea6b5f3bacb22}{TickAndMaybeEnterSafepoint}}();}
\DoxyCodeLine{4611     \mbox{\hyperlink{src_2base_2logging_8h_a7b9f9517fedacc2a1a56c2bbb9d03688}{DCHECK\_NOT\_NULL}}(range);}
\DoxyCodeLine{4612     \textcolor{keywordflow}{if} (range-\/>IsSpilledOnlyInDeferredBlocks(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a08eecafc31fe7004207aec962fdd6b1a}{data}}())) \{}
\DoxyCodeLine{4613       \textcolor{comment}{// If the range is spilled only in deferred blocks and starts in}}
\DoxyCodeLine{4614       \textcolor{comment}{// a non-\/deferred block, we transition its representation here so}}
\DoxyCodeLine{4615       \textcolor{comment}{// that the LiveRangeConnector processes them correctly. If,}}
\DoxyCodeLine{4616       \textcolor{comment}{// however, they start in a deferred block, we uograde them to}}
\DoxyCodeLine{4617       \textcolor{comment}{// spill at definition, as that definition is in a deferred block}}
\DoxyCodeLine{4618       \textcolor{comment}{// anyway. While this is an optimization, the code in LiveRangeConnector}}
\DoxyCodeLine{4619       \textcolor{comment}{// relies on it!}}
\DoxyCodeLine{4620       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02register-allocator_8cc_03_aa42ccf01201b3daa51cd0699352d8991}{GetInstructionBlock}}(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a08eecafc31fe7004207aec962fdd6b1a}{data}}()-\/>\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}(), range-\/>Start())-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionBlock_aa47fce7140816614f9d2882d04791562}{IsDeferred}}()) \{}
\DoxyCodeLine{4621         \mbox{\hyperlink{namespacev8_1_1internal_a3762add7a183a4d1750c04e5fa1a6d17}{TRACE}}(\textcolor{stringliteral}{"{}Live range \%d is spilled and alive in deferred code only\(\backslash\)n"{}},}
\DoxyCodeLine{4622               range-\/>vreg());}
\DoxyCodeLine{4623         range-\/>TransitionRangeToSpillAtDefinition();}
\DoxyCodeLine{4624       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{4625         \mbox{\hyperlink{namespacev8_1_1internal_a3762add7a183a4d1750c04e5fa1a6d17}{TRACE}}(\textcolor{stringliteral}{"{}Live range \%d is spilled deferred code only but alive outside\(\backslash\)n"{}},}
\DoxyCodeLine{4626               range-\/>vreg());}
\DoxyCodeLine{4627         range-\/>TransitionRangeToDeferredSpill(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a08eecafc31fe7004207aec962fdd6b1a}{data}}()-\/>allocation\_zone());}
\DoxyCodeLine{4628       \}}
\DoxyCodeLine{4629     \}}
\DoxyCodeLine{4630   \}}
\DoxyCodeLine{4631 \}}

\end{DoxyCode}


References code, data(), DCHECK\+\_\+\+NOT\+\_\+\+NULL, v8\+::internal\+::compiler\+::anonymous\+\_\+namespace\{register-\/allocator.\+cc\}\+::\+Get\+Instruction\+Block(), v8\+::internal\+::compiler\+::\+Instruction\+Block\+::\+Is\+Deferred(), v8\+::internal\+::compiler\+::\+Register\+Allocation\+Data\+::tick\+\_\+counter(), v8\+::internal\+::\+Tick\+Counter\+::\+Tick\+And\+Maybe\+Enter\+Safepoint(), and v8\+::internal\+::\+TRACE().



Referenced by v8\+::internal\+::compiler\+::turboshaft\+::\+Decide\+Spilling\+Mode\+Phase\+::\+Run().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a90c75d6453dcdefef9f6b1af926b298c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a90c75d6453dcdefef9f6b1af926b298c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1OperandAssigner_ac44bf03fb2c6a1e5eba321623f674567}\label{classv8_1_1internal_1_1compiler_1_1OperandAssigner_ac44bf03fb2c6a1e5eba321623f674567}} 
\index{v8::internal::compiler::OperandAssigner@{v8::internal::compiler::OperandAssigner}!operator=@{operator=}}
\index{operator=@{operator=}!v8::internal::compiler::OperandAssigner@{v8::internal::compiler::OperandAssigner}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OperandAssigner}{Operand\+Assigner}}\& v8\+::internal\+::compiler\+::\+Operand\+Assigner\+::operator= (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OperandAssigner}{Operand\+Assigner}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a0d4dfd13e4aa64d84fe6ee5584e6276a}\label{classv8_1_1internal_1_1compiler_1_1OperandAssigner_a0d4dfd13e4aa64d84fe6ee5584e6276a}} 
\index{v8::internal::compiler::OperandAssigner@{v8::internal::compiler::OperandAssigner}!data\_@{data\_}}
\index{data\_@{data\_}!v8::internal::compiler::OperandAssigner@{v8::internal::compiler::OperandAssigner}}
\doxysubsubsection{\texorpdfstring{data\_}{data\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1RegisterAllocationData}{Register\+Allocation\+Data}}$\ast$ const v8\+::internal\+::compiler\+::\+Operand\+Assigner\+::data\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1714 of file register-\/allocator.\+h.



Referenced by data().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/compiler/backend/\mbox{\hyperlink{register-allocator_8h}{register-\/allocator.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/compiler/backend/\mbox{\hyperlink{register-allocator_8cc}{register-\/allocator.\+cc}}\end{DoxyCompactItemize}
