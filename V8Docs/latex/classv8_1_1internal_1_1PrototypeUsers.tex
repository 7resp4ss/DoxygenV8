\hypertarget{classv8_1_1internal_1_1PrototypeUsers}{}\doxysection{v8\+::internal\+::Prototype\+Users Class Reference}
\label{classv8_1_1internal_1_1PrototypeUsers}\index{v8::internal::PrototypeUsers@{v8::internal::PrototypeUsers}}


{\ttfamily \#include $<$prototype-\/info.\+h$>$}



Inheritance diagram for v8\+::internal\+::Prototype\+Users\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1PrototypeUsers__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for v8\+::internal\+::Prototype\+Users\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1PrototypeUsers__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
using \mbox{\hyperlink{classv8_1_1internal_1_1PrototypeUsers_a5327bdbc3ee7de2e1ea2c6c3eb920e75}{Compaction\+Callback}} = void($\ast$)(\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1HeapObject}{Heap\+Object}} $>$ object, \mbox{\hyperlink{classint}{int}} from\+\_\+index, \mbox{\hyperlink{classint}{int}} to\+\_\+index)
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{classv8_1_1internal_1_1Handle}{Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WeakArrayList}{Weak\+Array\+List}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1PrototypeUsers_a0850da46abb2fad4ba62b1aa4f9a601f}{Add}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{classv8_1_1internal_1_1Handle}{Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WeakArrayList}{Weak\+Array\+List}} $>$ array, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$ \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}, \mbox{\hyperlink{classint}{int}} $\ast$assigned\+\_\+index)
\item 
static void \mbox{\hyperlink{classv8_1_1internal_1_1PrototypeUsers_ac33701d6a4955dedec3e6822c40374c9}{Mark\+Slot\+Empty}} (\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WeakArrayList}{Weak\+Array\+List}} $>$ array, \mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}})
\item 
static \mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WeakArrayList}{Weak\+Array\+List}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1PrototypeUsers_a15edcbd2149a659a94f17c0a53a5a8a1}{Compact}} (\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WeakArrayList}{Weak\+Array\+List}} $>$ array, \mbox{\hyperlink{classv8_1_1internal_1_1Heap}{Heap}} $\ast$\mbox{\hyperlink{flag-definitions_8h_a761e4e5929b1553283fd6a532822bb17}{heap}}, \mbox{\hyperlink{classv8_1_1internal_1_1PrototypeUsers_a5327bdbc3ee7de2e1ea2c6c3eb920e75}{Compaction\+Callback}} callback, \mbox{\hyperlink{namespacev8_1_1internal_a604d5beeb6fc8639670f737ed201e20a}{Allocation\+Type}} allocation=\mbox{\hyperlink{namespacev8_1_1internal_a604d5beeb6fc8639670f737ed201e20aa492ef7cfa083cd677493179d45c9961e}{Allocation\+Type\+::k\+Young}})
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
static const \mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{classv8_1_1internal_1_1PrototypeUsers_ab18a5d183585030ee659baac1207cf93}{k\+Empty\+Slot\+Index}} = 0
\item 
static const \mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{classv8_1_1internal_1_1PrototypeUsers_abdd1fe7556befe7069e126ae36d624df}{k\+First\+Index}} = 1
\item 
static const \mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{classv8_1_1internal_1_1PrototypeUsers_ac11715090a75cb75698f638a884621d5}{k\+No\+Empty\+Slots\+Marker}} = 0
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1PrototypeUsers_a9206a48b28421fd717ce73938a6ea485}{DISALLOW\+\_\+\+IMPLICIT\+\_\+\+CONSTRUCTORS}} (\mbox{\hyperlink{classv8_1_1internal_1_1PrototypeUsers}{Prototype\+Users}})
\end{DoxyCompactItemize}
\doxysubsection*{Static Private Member Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Smi}{Smi}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1PrototypeUsers_ae9b77a3708296efb9ba72ac0d5e043b7}{empty\+\_\+slot\+\_\+index}} (\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WeakArrayList}{Weak\+Array\+List}} $>$ array)
\item 
static void \mbox{\hyperlink{classv8_1_1internal_1_1PrototypeUsers_a37bec7c1ba3ccf78374124b10a09308d}{set\+\_\+empty\+\_\+slot\+\_\+index}} (\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WeakArrayList}{Weak\+Array\+List}} $>$ array, \mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}})
\item 
static void \mbox{\hyperlink{classv8_1_1internal_1_1PrototypeUsers_a557b6307fb3d77fc7fd21cb07baca4a5}{Scan\+For\+Empty\+Slots}} (\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WeakArrayList}{Weak\+Array\+List}} $>$ array)
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


Definition at line 71 of file prototype-\/info.\+h.



\doxysubsection{Member Typedef Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1PrototypeUsers_a5327bdbc3ee7de2e1ea2c6c3eb920e75}\label{classv8_1_1internal_1_1PrototypeUsers_a5327bdbc3ee7de2e1ea2c6c3eb920e75}} 
\index{v8::internal::PrototypeUsers@{v8::internal::PrototypeUsers}!CompactionCallback@{CompactionCallback}}
\index{CompactionCallback@{CompactionCallback}!v8::internal::PrototypeUsers@{v8::internal::PrototypeUsers}}
\doxysubsubsection{\texorpdfstring{CompactionCallback}{CompactionCallback}}
{\footnotesize\ttfamily using \mbox{\hyperlink{classv8_1_1internal_1_1PrototypeUsers_a5327bdbc3ee7de2e1ea2c6c3eb920e75}{v8\+::internal\+::\+Prototype\+Users\+::\+Compaction\+Callback}} =  void ($\ast$)(\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1HeapObject}{Heap\+Object}}$>$ object, \mbox{\hyperlink{classint}{int}} from\+\_\+index, \mbox{\hyperlink{classint}{int}} to\+\_\+index)}



Definition at line 83 of file prototype-\/info.\+h.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1PrototypeUsers_a0850da46abb2fad4ba62b1aa4f9a601f}\label{classv8_1_1internal_1_1PrototypeUsers_a0850da46abb2fad4ba62b1aa4f9a601f}} 
\index{v8::internal::PrototypeUsers@{v8::internal::PrototypeUsers}!Add@{Add}}
\index{Add@{Add}!v8::internal::PrototypeUsers@{v8::internal::PrototypeUsers}}
\doxysubsubsection{\texorpdfstring{Add()}{Add()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1Handle}{Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WeakArrayList}{Weak\+Array\+List}} $>$ v8\+::internal\+::\+Prototype\+Users\+::\+Add (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Handle}{Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WeakArrayList}{Weak\+Array\+List}} $>$}]{array,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$}]{value,  }\item[{\mbox{\hyperlink{classint}{int}} $\ast$}]{assigned\+\_\+index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 3809 of file objects.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3812                                                                \{}
\DoxyCodeLine{3813   \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal_afa9ea55d792121fba92b4cfc8ef8c9d7}{length}} = array-\/>length();}
\DoxyCodeLine{3814   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_afa9ea55d792121fba92b4cfc8ef8c9d7}{length}} == 0) \{}
\DoxyCodeLine{3815     \textcolor{comment}{// Uninitialized WeakArrayList; need to initialize empty\_slot\_index.}}
\DoxyCodeLine{3816     array = \mbox{\hyperlink{classv8_1_1internal_1_1WeakArrayList_a4880ce9b5d9212358735c4afb9cb4054}{WeakArrayList::EnsureSpace}}(isolate, array, \mbox{\hyperlink{classv8_1_1internal_1_1PrototypeUsers_abdd1fe7556befe7069e126ae36d624df}{kFirstIndex}} + 1);}
\DoxyCodeLine{3817     \mbox{\hyperlink{classv8_1_1internal_1_1PrototypeUsers_a37bec7c1ba3ccf78374124b10a09308d}{set\_empty\_slot\_index}}(*array, \mbox{\hyperlink{classv8_1_1internal_1_1PrototypeUsers_ac11715090a75cb75698f638a884621d5}{kNoEmptySlotsMarker}});}
\DoxyCodeLine{3818     array-\/>Set(\mbox{\hyperlink{classv8_1_1internal_1_1PrototypeUsers_abdd1fe7556befe7069e126ae36d624df}{kFirstIndex}}, \mbox{\hyperlink{namespacev8_1_1internal_a96a98d1219c08bac1c5c91ba9dacd1d4}{MakeWeak}}(*\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}));}
\DoxyCodeLine{3819     array-\/>set\_length(\mbox{\hyperlink{classv8_1_1internal_1_1PrototypeUsers_abdd1fe7556befe7069e126ae36d624df}{kFirstIndex}} + 1);}
\DoxyCodeLine{3820     \textcolor{keywordflow}{if} (assigned\_index != \textcolor{keyword}{nullptr}) *assigned\_index = \mbox{\hyperlink{classv8_1_1internal_1_1PrototypeUsers_abdd1fe7556befe7069e126ae36d624df}{kFirstIndex}};}
\DoxyCodeLine{3821     \textcolor{keywordflow}{return} array;}
\DoxyCodeLine{3822   \}}
\DoxyCodeLine{3823 }
\DoxyCodeLine{3824   \textcolor{comment}{// If the array has unfilled space at the end, use it.}}
\DoxyCodeLine{3825   \textcolor{keywordflow}{if} (!array-\/>IsFull()) \{}
\DoxyCodeLine{3826     array-\/>Set(\mbox{\hyperlink{namespacev8_1_1internal_afa9ea55d792121fba92b4cfc8ef8c9d7}{length}}, \mbox{\hyperlink{namespacev8_1_1internal_a96a98d1219c08bac1c5c91ba9dacd1d4}{MakeWeak}}(*\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}));}
\DoxyCodeLine{3827     array-\/>set\_length(\mbox{\hyperlink{namespacev8_1_1internal_afa9ea55d792121fba92b4cfc8ef8c9d7}{length}} + 1);}
\DoxyCodeLine{3828     \textcolor{keywordflow}{if} (assigned\_index != \textcolor{keyword}{nullptr}) *assigned\_index = \mbox{\hyperlink{namespacev8_1_1internal_afa9ea55d792121fba92b4cfc8ef8c9d7}{length}};}
\DoxyCodeLine{3829     \textcolor{keywordflow}{return} array;}
\DoxyCodeLine{3830   \}}
\DoxyCodeLine{3831 }
\DoxyCodeLine{3832   \textcolor{comment}{// If there are empty slots, use one of them.}}
\DoxyCodeLine{3833   \textcolor{keywordtype}{int} empty\_slot = \mbox{\hyperlink{classv8_1_1internal_1_1Smi_a2e32de9e93a2cdfae189371f22782dad}{Smi::ToInt}}(\mbox{\hyperlink{classv8_1_1internal_1_1PrototypeUsers_ae9b77a3708296efb9ba72ac0d5e043b7}{empty\_slot\_index}}(*array));}
\DoxyCodeLine{3834 }
\DoxyCodeLine{3835   \textcolor{keywordflow}{if} (empty\_slot == \mbox{\hyperlink{classv8_1_1internal_1_1PrototypeUsers_ac11715090a75cb75698f638a884621d5}{kNoEmptySlotsMarker}}) \{}
\DoxyCodeLine{3836     \textcolor{comment}{// GCs might have cleared some references, rescan the array for empty slots.}}
\DoxyCodeLine{3837     \mbox{\hyperlink{classv8_1_1internal_1_1PrototypeUsers_a557b6307fb3d77fc7fd21cb07baca4a5}{PrototypeUsers::ScanForEmptySlots}}(*array);}
\DoxyCodeLine{3838     empty\_slot = \mbox{\hyperlink{classv8_1_1internal_1_1Smi_a2e32de9e93a2cdfae189371f22782dad}{Smi::ToInt}}(\mbox{\hyperlink{classv8_1_1internal_1_1PrototypeUsers_ae9b77a3708296efb9ba72ac0d5e043b7}{empty\_slot\_index}}(*array));}
\DoxyCodeLine{3839   \}}
\DoxyCodeLine{3840 }
\DoxyCodeLine{3841   \textcolor{keywordflow}{if} (empty\_slot != \mbox{\hyperlink{classv8_1_1internal_1_1PrototypeUsers_ac11715090a75cb75698f638a884621d5}{kNoEmptySlotsMarker}}) \{}
\DoxyCodeLine{3842     \mbox{\hyperlink{src_2base_2logging_8h_aabec5c3b7a8628298a25f044dcf89c25}{DCHECK\_GE}}(empty\_slot, \mbox{\hyperlink{classv8_1_1internal_1_1PrototypeUsers_abdd1fe7556befe7069e126ae36d624df}{kFirstIndex}});}
\DoxyCodeLine{3843     \mbox{\hyperlink{src_2base_2logging_8h_a45a0717f39b7011dc823c1fe7b83e6fc}{CHECK\_LT}}(empty\_slot, array-\/>length());}
\DoxyCodeLine{3844     \textcolor{keywordtype}{int} next\_empty\_slot = array-\/>Get(empty\_slot).ToSmi().value();}
\DoxyCodeLine{3845 }
\DoxyCodeLine{3846     array-\/>Set(empty\_slot, \mbox{\hyperlink{namespacev8_1_1internal_a96a98d1219c08bac1c5c91ba9dacd1d4}{MakeWeak}}(*\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}));}
\DoxyCodeLine{3847     \textcolor{keywordflow}{if} (assigned\_index != \textcolor{keyword}{nullptr}) *assigned\_index = empty\_slot;}
\DoxyCodeLine{3848 }
\DoxyCodeLine{3849     \mbox{\hyperlink{classv8_1_1internal_1_1PrototypeUsers_a37bec7c1ba3ccf78374124b10a09308d}{set\_empty\_slot\_index}}(*array, next\_empty\_slot);}
\DoxyCodeLine{3850     \textcolor{keywordflow}{return} array;}
\DoxyCodeLine{3851   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{3852     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(empty\_slot, \mbox{\hyperlink{classv8_1_1internal_1_1PrototypeUsers_ac11715090a75cb75698f638a884621d5}{kNoEmptySlotsMarker}});}
\DoxyCodeLine{3853   \}}
\DoxyCodeLine{3854 }
\DoxyCodeLine{3855   \textcolor{comment}{// Array full and no empty slots. Grow the array.}}
\DoxyCodeLine{3856   array = \mbox{\hyperlink{classv8_1_1internal_1_1WeakArrayList_a4880ce9b5d9212358735c4afb9cb4054}{WeakArrayList::EnsureSpace}}(isolate, array, \mbox{\hyperlink{namespacev8_1_1internal_afa9ea55d792121fba92b4cfc8ef8c9d7}{length}} + 1);}
\DoxyCodeLine{3857   array-\/>Set(\mbox{\hyperlink{namespacev8_1_1internal_afa9ea55d792121fba92b4cfc8ef8c9d7}{length}}, \mbox{\hyperlink{namespacev8_1_1internal_a96a98d1219c08bac1c5c91ba9dacd1d4}{MakeWeak}}(*\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}));}
\DoxyCodeLine{3858   array-\/>set\_length(\mbox{\hyperlink{namespacev8_1_1internal_afa9ea55d792121fba92b4cfc8ef8c9d7}{length}} + 1);}
\DoxyCodeLine{3859   \textcolor{keywordflow}{if} (assigned\_index != \textcolor{keyword}{nullptr}) *assigned\_index = \mbox{\hyperlink{namespacev8_1_1internal_afa9ea55d792121fba92b4cfc8ef8c9d7}{length}};}
\DoxyCodeLine{3860   \textcolor{keywordflow}{return} array;}
\DoxyCodeLine{3861 \}}

\end{DoxyCode}


References CHECK\+\_\+\+LT, DCHECK\+\_\+\+EQ, DCHECK\+\_\+\+GE, empty\+\_\+slot\+\_\+index(), v8\+::internal\+::\+Weak\+Array\+List\+::\+Ensure\+Space(), k\+First\+Index, k\+No\+Empty\+Slots\+Marker, v8\+::internal\+::length, v8\+::internal\+::\+Make\+Weak(), Scan\+For\+Empty\+Slots(), set\+\_\+empty\+\_\+slot\+\_\+index(), v8\+::internal\+::\+Smi\+::\+To\+Int(), and v8\+::internal\+::value.



Referenced by v8\+::internal\+::\+JSObject\+::\+Lazy\+Register\+Prototype\+User().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1PrototypeUsers_a0850da46abb2fad4ba62b1aa4f9a601f_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1PrototypeUsers_a0850da46abb2fad4ba62b1aa4f9a601f_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1PrototypeUsers_a15edcbd2149a659a94f17c0a53a5a8a1}\label{classv8_1_1internal_1_1PrototypeUsers_a15edcbd2149a659a94f17c0a53a5a8a1}} 
\index{v8::internal::PrototypeUsers@{v8::internal::PrototypeUsers}!Compact@{Compact}}
\index{Compact@{Compact}!v8::internal::PrototypeUsers@{v8::internal::PrototypeUsers}}
\doxysubsubsection{\texorpdfstring{Compact()}{Compact()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WeakArrayList}{Weak\+Array\+List}} $>$ v8\+::internal\+::\+Prototype\+Users\+::\+Compact (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WeakArrayList}{Weak\+Array\+List}} $>$}]{array,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Heap}{Heap}} $\ast$}]{heap,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1PrototypeUsers_a5327bdbc3ee7de2e1ea2c6c3eb920e75}{Compaction\+Callback}}}]{callback,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a604d5beeb6fc8639670f737ed201e20a}{Allocation\+Type}}}]{allocation = {\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a604d5beeb6fc8639670f737ed201e20aa492ef7cfa083cd677493179d45c9961e}{Allocation\+Type\+::k\+Young}}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 3872 of file objects.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3875                                                                          \{}
\DoxyCodeLine{3876   \textcolor{keywordflow}{if} (array-\/>length() == 0) \{}
\DoxyCodeLine{3877     \textcolor{keywordflow}{return} *array;}
\DoxyCodeLine{3878   \}}
\DoxyCodeLine{3879   \textcolor{keywordtype}{int} new\_length = \mbox{\hyperlink{classv8_1_1internal_1_1PrototypeUsers_abdd1fe7556befe7069e126ae36d624df}{kFirstIndex}} + array-\/>CountLiveWeakReferences();}
\DoxyCodeLine{3880   \textcolor{keywordflow}{if} (new\_length == array-\/>length()) \{}
\DoxyCodeLine{3881     \textcolor{keywordflow}{return} *array;}
\DoxyCodeLine{3882   \}}
\DoxyCodeLine{3883 }
\DoxyCodeLine{3884   DirectHandle<WeakArrayList> new\_array = \mbox{\hyperlink{classv8_1_1internal_1_1WeakArrayList_a4880ce9b5d9212358735c4afb9cb4054}{WeakArrayList::EnsureSpace}}(}
\DoxyCodeLine{3885       \mbox{\hyperlink{namespaceheap}{heap}}-\/>isolate(),}
\DoxyCodeLine{3886       \mbox{\hyperlink{namespacev8_1_1internal_a8c89f00da07e125218128b9fbf0a321c}{handle}}(ReadOnlyRoots(\mbox{\hyperlink{namespaceheap}{heap}}).empty\_weak\_array\_list(), \mbox{\hyperlink{namespaceheap}{heap}}-\/>isolate()),}
\DoxyCodeLine{3887       new\_length, allocation);}
\DoxyCodeLine{3888   \textcolor{comment}{// Allocation might have caused GC and turned some of the elements into}}
\DoxyCodeLine{3889   \textcolor{comment}{// cleared weak heap objects. Count the number of live objects again.}}
\DoxyCodeLine{3890   \textcolor{keywordtype}{int} copy\_to = \mbox{\hyperlink{classv8_1_1internal_1_1PrototypeUsers_abdd1fe7556befe7069e126ae36d624df}{kFirstIndex}};}
\DoxyCodeLine{3891   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = \mbox{\hyperlink{classv8_1_1internal_1_1PrototypeUsers_abdd1fe7556befe7069e126ae36d624df}{kFirstIndex}}; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < array-\/>length(); \mbox{\hyperlink{namespacev8_1_1internal}{i}}++) \{}
\DoxyCodeLine{3892     Tagged<MaybeObject> element = array-\/>Get(\mbox{\hyperlink{namespacev8_1_1internal}{i}});}
\DoxyCodeLine{3893     \mbox{\hyperlink{namespacev8_1_1internal_a57f5ecf71b9a2757b0555b2be4c640b8}{Tagged<HeapObject>}} \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}};}
\DoxyCodeLine{3894     \textcolor{keywordflow}{if} (element.GetHeapObjectIfWeak(\&\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}})) \{}
\DoxyCodeLine{3895       callback(\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}, \mbox{\hyperlink{namespacev8_1_1internal}{i}}, copy\_to);}
\DoxyCodeLine{3896       new\_array-\/>Set(copy\_to++, element);}
\DoxyCodeLine{3897     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{3898       \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(element.IsCleared() || element.IsSmi());}
\DoxyCodeLine{3899     \}}
\DoxyCodeLine{3900   \}}
\DoxyCodeLine{3901   new\_array-\/>set\_length(copy\_to);}
\DoxyCodeLine{3902   \mbox{\hyperlink{classv8_1_1internal_1_1PrototypeUsers_a37bec7c1ba3ccf78374124b10a09308d}{set\_empty\_slot\_index}}(*new\_array, \mbox{\hyperlink{classv8_1_1internal_1_1PrototypeUsers_ac11715090a75cb75698f638a884621d5}{kNoEmptySlotsMarker}});}
\DoxyCodeLine{3903   \textcolor{keywordflow}{return} *new\_array;}
\DoxyCodeLine{3904 \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), v8\+::internal\+::\+Weak\+Array\+List\+::\+Ensure\+Space(), v8\+::internal\+::\+Tagged\+Impl$<$ k\+Ref\+Type, Storage\+Type $>$\+::\+Get\+Heap\+Object\+If\+Weak(), v8\+::internal\+::handle(), v8\+::internal\+::\+Tagged\+Impl$<$ k\+Ref\+Type, Storage\+Type $>$\+::\+Is\+Cleared(), v8\+::internal\+::\+Tagged$<$ Heap\+Object $>$\+::\+Is\+Smi(), k\+First\+Index, k\+No\+Empty\+Slots\+Marker, set\+\_\+empty\+\_\+slot\+\_\+index(), and v8\+::internal\+::value.



Referenced by v8\+::internal\+::\+Heap\+::\+Compact\+Weak\+Array\+Lists().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1PrototypeUsers_a15edcbd2149a659a94f17c0a53a5a8a1_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1PrototypeUsers_a15edcbd2149a659a94f17c0a53a5a8a1_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1PrototypeUsers_a9206a48b28421fd717ce73938a6ea485}\label{classv8_1_1internal_1_1PrototypeUsers_a9206a48b28421fd717ce73938a6ea485}} 
\index{v8::internal::PrototypeUsers@{v8::internal::PrototypeUsers}!DISALLOW\_IMPLICIT\_CONSTRUCTORS@{DISALLOW\_IMPLICIT\_CONSTRUCTORS}}
\index{DISALLOW\_IMPLICIT\_CONSTRUCTORS@{DISALLOW\_IMPLICIT\_CONSTRUCTORS}!v8::internal::PrototypeUsers@{v8::internal::PrototypeUsers}}
\doxysubsubsection{\texorpdfstring{DISALLOW\_IMPLICIT\_CONSTRUCTORS()}{DISALLOW\_IMPLICIT\_CONSTRUCTORS()}}
{\footnotesize\ttfamily v8\+::internal\+::\+Prototype\+Users\+::\+DISALLOW\+\_\+\+IMPLICIT\+\_\+\+CONSTRUCTORS (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1PrototypeUsers}{Prototype\+Users}}}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classv8_1_1internal_1_1PrototypeUsers_ae9b77a3708296efb9ba72ac0d5e043b7}\label{classv8_1_1internal_1_1PrototypeUsers_ae9b77a3708296efb9ba72ac0d5e043b7}} 
\index{v8::internal::PrototypeUsers@{v8::internal::PrototypeUsers}!empty\_slot\_index@{empty\_slot\_index}}
\index{empty\_slot\_index@{empty\_slot\_index}!v8::internal::PrototypeUsers@{v8::internal::PrototypeUsers}}
\doxysubsubsection{\texorpdfstring{empty\_slot\_index()}{empty\_slot\_index()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Smi}{Smi}} $>$ v8\+::internal\+::\+Prototype\+Users\+::empty\+\_\+slot\+\_\+index (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WeakArrayList}{Weak\+Array\+List}} $>$}]{array }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 150 of file prototype-\/info-\/inl.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{150                                                                         \{}
\DoxyCodeLine{151   \textcolor{keywordflow}{return} array-\/>Get(\mbox{\hyperlink{classv8_1_1internal_1_1PrototypeUsers_ab18a5d183585030ee659baac1207cf93}{kEmptySlotIndex}}).ToSmi();}
\DoxyCodeLine{152 \}}

\end{DoxyCode}


References k\+Empty\+Slot\+Index, and v8\+::internal\+::\+Tagged\+Impl$<$ k\+Ref\+Type, Storage\+Type $>$\+::\+To\+Smi().



Referenced by Add(), and v8\+::internal\+::\+BOOL\+\_\+\+ACCESSORS().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1PrototypeUsers_ae9b77a3708296efb9ba72ac0d5e043b7_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1PrototypeUsers_ae9b77a3708296efb9ba72ac0d5e043b7_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1PrototypeUsers_ac33701d6a4955dedec3e6822c40374c9}\label{classv8_1_1internal_1_1PrototypeUsers_ac33701d6a4955dedec3e6822c40374c9}} 
\index{v8::internal::PrototypeUsers@{v8::internal::PrototypeUsers}!MarkSlotEmpty@{MarkSlotEmpty}}
\index{MarkSlotEmpty@{MarkSlotEmpty}!v8::internal::PrototypeUsers@{v8::internal::PrototypeUsers}}
\doxysubsubsection{\texorpdfstring{MarkSlotEmpty()}{MarkSlotEmpty()}}
{\footnotesize\ttfamily static void v8\+::internal\+::\+Prototype\+Users\+::\+Mark\+Slot\+Empty (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WeakArrayList}{Weak\+Array\+List}} $>$}]{array,  }\item[{\mbox{\hyperlink{classint}{int}}}]{index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



Referenced by Scan\+For\+Empty\+Slots(), and v8\+::internal\+::\+JSObject\+::\+Unregister\+Prototype\+User().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1PrototypeUsers_ac33701d6a4955dedec3e6822c40374c9_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1PrototypeUsers_a557b6307fb3d77fc7fd21cb07baca4a5}\label{classv8_1_1internal_1_1PrototypeUsers_a557b6307fb3d77fc7fd21cb07baca4a5}} 
\index{v8::internal::PrototypeUsers@{v8::internal::PrototypeUsers}!ScanForEmptySlots@{ScanForEmptySlots}}
\index{ScanForEmptySlots@{ScanForEmptySlots}!v8::internal::PrototypeUsers@{v8::internal::PrototypeUsers}}
\doxysubsubsection{\texorpdfstring{ScanForEmptySlots()}{ScanForEmptySlots()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Prototype\+Users\+::\+Scan\+For\+Empty\+Slots (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WeakArrayList}{Weak\+Array\+List}} $>$}]{array }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 3864 of file objects.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3864                                                                   \{}
\DoxyCodeLine{3865   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = \mbox{\hyperlink{classv8_1_1internal_1_1PrototypeUsers_abdd1fe7556befe7069e126ae36d624df}{kFirstIndex}}; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < array-\/>length(); \mbox{\hyperlink{namespacev8_1_1internal}{i}}++) \{}
\DoxyCodeLine{3866     \textcolor{keywordflow}{if} (array-\/>Get(\mbox{\hyperlink{namespacev8_1_1internal}{i}}).IsCleared()) \{}
\DoxyCodeLine{3867       \mbox{\hyperlink{classv8_1_1internal_1_1PrototypeUsers_ac33701d6a4955dedec3e6822c40374c9}{PrototypeUsers::MarkSlotEmpty}}(array, \mbox{\hyperlink{namespacev8_1_1internal}{i}});}
\DoxyCodeLine{3868     \}}
\DoxyCodeLine{3869   \}}
\DoxyCodeLine{3870 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Tagged\+Impl$<$ k\+Ref\+Type, Storage\+Type $>$\+::\+Is\+Cleared(), k\+First\+Index, and Mark\+Slot\+Empty().



Referenced by Add().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1PrototypeUsers_a557b6307fb3d77fc7fd21cb07baca4a5_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1PrototypeUsers_a557b6307fb3d77fc7fd21cb07baca4a5_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1PrototypeUsers_a37bec7c1ba3ccf78374124b10a09308d}\label{classv8_1_1internal_1_1PrototypeUsers_a37bec7c1ba3ccf78374124b10a09308d}} 
\index{v8::internal::PrototypeUsers@{v8::internal::PrototypeUsers}!set\_empty\_slot\_index@{set\_empty\_slot\_index}}
\index{set\_empty\_slot\_index@{set\_empty\_slot\_index}!v8::internal::PrototypeUsers@{v8::internal::PrototypeUsers}}
\doxysubsubsection{\texorpdfstring{set\_empty\_slot\_index()}{set\_empty\_slot\_index()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Prototype\+Users\+::set\+\_\+empty\+\_\+slot\+\_\+index (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WeakArrayList}{Weak\+Array\+List}} $>$}]{array,  }\item[{\mbox{\hyperlink{classint}{int}}}]{index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 154 of file prototype-\/info-\/inl.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{155                                                      \{}
\DoxyCodeLine{156   array-\/>Set(\mbox{\hyperlink{classv8_1_1internal_1_1PrototypeUsers_ab18a5d183585030ee659baac1207cf93}{kEmptySlotIndex}}, \mbox{\hyperlink{classv8_1_1internal_1_1Smi_afe7f07102d90ccce48cbe677c88a0645}{Smi::FromInt}}(\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}));}
\DoxyCodeLine{157 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Smi\+::\+From\+Int(), v8\+::internal\+::index, and k\+Empty\+Slot\+Index.



Referenced by Add(), v8\+::internal\+::\+BOOL\+\_\+\+ACCESSORS(), and Compact().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1PrototypeUsers_a37bec7c1ba3ccf78374124b10a09308d_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1PrototypeUsers_a37bec7c1ba3ccf78374124b10a09308d_icgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1PrototypeUsers_ab18a5d183585030ee659baac1207cf93}\label{classv8_1_1internal_1_1PrototypeUsers_ab18a5d183585030ee659baac1207cf93}} 
\index{v8::internal::PrototypeUsers@{v8::internal::PrototypeUsers}!kEmptySlotIndex@{kEmptySlotIndex}}
\index{kEmptySlotIndex@{kEmptySlotIndex}!v8::internal::PrototypeUsers@{v8::internal::PrototypeUsers}}
\doxysubsubsection{\texorpdfstring{kEmptySlotIndex}{kEmptySlotIndex}}
{\footnotesize\ttfamily const \mbox{\hyperlink{classint}{int}} v8\+::internal\+::\+Prototype\+Users\+::k\+Empty\+Slot\+Index = 0\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 94 of file prototype-\/info.\+h.



Referenced by empty\+\_\+slot\+\_\+index(), and set\+\_\+empty\+\_\+slot\+\_\+index().

\mbox{\Hypertarget{classv8_1_1internal_1_1PrototypeUsers_abdd1fe7556befe7069e126ae36d624df}\label{classv8_1_1internal_1_1PrototypeUsers_abdd1fe7556befe7069e126ae36d624df}} 
\index{v8::internal::PrototypeUsers@{v8::internal::PrototypeUsers}!kFirstIndex@{kFirstIndex}}
\index{kFirstIndex@{kFirstIndex}!v8::internal::PrototypeUsers@{v8::internal::PrototypeUsers}}
\doxysubsubsection{\texorpdfstring{kFirstIndex}{kFirstIndex}}
{\footnotesize\ttfamily const \mbox{\hyperlink{classint}{int}} v8\+::internal\+::\+Prototype\+Users\+::k\+First\+Index = 1\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 95 of file prototype-\/info.\+h.



Referenced by Add(), Compact(), v8\+::internal\+::anonymous\+\_\+namespace\{js-\/objects.\+cc\}\+::\+Invalidate\+Prototype\+Chains\+Internal(), and Scan\+For\+Empty\+Slots().

\mbox{\Hypertarget{classv8_1_1internal_1_1PrototypeUsers_ac11715090a75cb75698f638a884621d5}\label{classv8_1_1internal_1_1PrototypeUsers_ac11715090a75cb75698f638a884621d5}} 
\index{v8::internal::PrototypeUsers@{v8::internal::PrototypeUsers}!kNoEmptySlotsMarker@{kNoEmptySlotsMarker}}
\index{kNoEmptySlotsMarker@{kNoEmptySlotsMarker}!v8::internal::PrototypeUsers@{v8::internal::PrototypeUsers}}
\doxysubsubsection{\texorpdfstring{kNoEmptySlotsMarker}{kNoEmptySlotsMarker}}
{\footnotesize\ttfamily const \mbox{\hyperlink{classint}{int}} v8\+::internal\+::\+Prototype\+Users\+::k\+No\+Empty\+Slots\+Marker = 0\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 97 of file prototype-\/info.\+h.



Referenced by Add(), and Compact().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/objects/\mbox{\hyperlink{prototype-info_8h}{prototype-\/info.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/objects/\mbox{\hyperlink{objects_8cc}{objects.\+cc}}\item 
/mnt/\+V8\+Source\+Code/src/objects/\mbox{\hyperlink{prototype-info-inl_8h}{prototype-\/info-\/inl.\+h}}\end{DoxyCompactItemize}
