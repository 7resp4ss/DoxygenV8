\hypertarget{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_1_1DecodeModule}{}\doxysection{v8\+::internal\+::wasm\+::Async\+Compile\+Job\+::Decode\+Module Class Reference}
\label{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_1_1DecodeModule}\index{v8::internal::wasm::AsyncCompileJob::DecodeModule@{v8::internal::wasm::AsyncCompileJob::DecodeModule}}


Inheritance diagram for v8\+::internal\+::wasm\+::Async\+Compile\+Job\+::Decode\+Module\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=266pt]{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_1_1DecodeModule__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for v8\+::internal\+::wasm\+::Async\+Compile\+Job\+::Decode\+Module\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_1_1DecodeModule__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_1_1DecodeModule_a441dd7c72c35e06dfb95c4efc6f19d5f}{Decode\+Module}} (\mbox{\hyperlink{classv8_1_1internal_1_1Counters}{Counters}} $\ast$counters, std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1internal_1_1metrics_1_1Recorder}{metrics\+::\+Recorder}} $>$ metrics\+\_\+recorder)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_1_1DecodeModule_a2bce50c3ea578bc818214bba82cbb656}{Run\+In\+Background}} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob}{Async\+Compile\+Job}} $\ast$job) override
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1Counters}{Counters}} $\ast$const \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_1_1DecodeModule_af5503437c181b102ff658c10bc329816}{counters\+\_\+}}
\item 
std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1internal_1_1metrics_1_1Recorder}{metrics\+::\+Recorder}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_1_1DecodeModule_a9ed32c7c7b2617e667833307d0e0163d}{metrics\+\_\+recorder\+\_\+}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 3038 of file module-\/compiler.\+cc.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_1_1DecodeModule_a441dd7c72c35e06dfb95c4efc6f19d5f}\label{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_1_1DecodeModule_a441dd7c72c35e06dfb95c4efc6f19d5f}} 
\index{v8::internal::wasm::AsyncCompileJob::DecodeModule@{v8::internal::wasm::AsyncCompileJob::DecodeModule}!DecodeModule@{DecodeModule}}
\index{DecodeModule@{DecodeModule}!v8::internal::wasm::AsyncCompileJob::DecodeModule@{v8::internal::wasm::AsyncCompileJob::DecodeModule}}
\doxysubsubsection{\texorpdfstring{DecodeModule()}{DecodeModule()}}
{\footnotesize\ttfamily v8\+::internal\+::wasm\+::\+Async\+Compile\+Job\+::\+Decode\+Module\+::\+Decode\+Module (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Counters}{Counters}} $\ast$}]{counters,  }\item[{std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1internal_1_1metrics_1_1Recorder}{metrics\+::\+Recorder}} $>$}]{metrics\+\_\+recorder }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}



Definition at line 3040 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3042       : \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_1_1DecodeModule_af5503437c181b102ff658c10bc329816}{counters\_}}(counters), \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_1_1DecodeModule_a9ed32c7c7b2617e667833307d0e0163d}{metrics\_recorder\_}}(std::move(metrics\_recorder)) \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_1_1DecodeModule_a2bce50c3ea578bc818214bba82cbb656}\label{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_1_1DecodeModule_a2bce50c3ea578bc818214bba82cbb656}} 
\index{v8::internal::wasm::AsyncCompileJob::DecodeModule@{v8::internal::wasm::AsyncCompileJob::DecodeModule}!RunInBackground@{RunInBackground}}
\index{RunInBackground@{RunInBackground}!v8::internal::wasm::AsyncCompileJob::DecodeModule@{v8::internal::wasm::AsyncCompileJob::DecodeModule}}
\doxysubsubsection{\texorpdfstring{RunInBackground()}{RunInBackground()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Async\+Compile\+Job\+::\+Decode\+Module\+::\+Run\+In\+Background (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob}{Async\+Compile\+Job}} $\ast$}]{job }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_1_1CompileStep_a97ba94766f9dd48e4c3f3685904eff16}{v8\+::internal\+::wasm\+::\+Async\+Compile\+Job\+::\+Compile\+Step}}.



Definition at line 3044 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3044                                                       \{}
\DoxyCodeLine{3045     \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a24a40a897766a19d97d04ef9c02ea315}{ModuleResult}} \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}};}
\DoxyCodeLine{3046     \{}
\DoxyCodeLine{3047       \mbox{\hyperlink{namespacev8_1_1internal_aa2b35804d3978a81aae0428ed5a90650}{DisallowHandleAllocation}} no\_handle;}
\DoxyCodeLine{3048       \mbox{\hyperlink{namespacev8_1_1internal_af2248a427f8ff8f81e68a2a87758e145}{DisallowGarbageCollection}} \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_a63d8eefb47468aa3f816fbe26a59466a}{no\_gc}};}
\DoxyCodeLine{3049       \textcolor{comment}{// Decode the module bytes.}}
\DoxyCodeLine{3050       \mbox{\hyperlink{module-compiler_8cc_a6e978c63340c33bc1dfa95a9fdbad525}{TRACE\_COMPILE}}(\textcolor{stringliteral}{"{}(1) Decoding module...\(\backslash\)n"{}});}
\DoxyCodeLine{3051       \mbox{\hyperlink{trace-event-no-perfetto_8h_a3feabb76c0ac2918798bc11ab55c6a79}{TRACE\_EVENT0}}(\mbox{\hyperlink{trace-event-no-perfetto_8h_a97689377430b094caec680dd7dd230fe}{TRACE\_DISABLED\_BY\_DEFAULT}}(\textcolor{stringliteral}{"{}v8.wasm.detailed"{}}),}
\DoxyCodeLine{3052                    \textcolor{stringliteral}{"{}wasm.DecodeModule"{}});}
\DoxyCodeLine{3053       \textcolor{keyword}{auto} enabled\_features = job-\/>enabled\_features\_;}
\DoxyCodeLine{3054       \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a83ed1297167cba9f8c8971bacab69dbf}{DecodeWasmModule}}(}
\DoxyCodeLine{3055           enabled\_features, job-\/>wire\_bytes\_.module\_bytes(), \textcolor{keyword}{false}, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a3adc957d22d860687fc2579215adeb80ad75c39b2587910e64fbca44ad513c9e0}{kWasmOrigin}},}
\DoxyCodeLine{3056           \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_1_1DecodeModule_af5503437c181b102ff658c10bc329816}{counters\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_1_1DecodeModule_a9ed32c7c7b2617e667833307d0e0163d}{metrics\_recorder\_}}, job-\/>context\_id(),}
\DoxyCodeLine{3057           \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a690faef021ab529c2506ff4cc19f23d3a9f2b960005d2a3a5f35ac32809d84db7}{DecodingMethod::kAsync}}, \&job-\/>detected\_features\_);}
\DoxyCodeLine{3058 }
\DoxyCodeLine{3059       \textcolor{comment}{// Validate lazy functions here if requested.}}
\DoxyCodeLine{3060       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}}.ok() \&\& !\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.wasm\_lazy\_validation) \{}
\DoxyCodeLine{3061         \textcolor{keyword}{const} \mbox{\hyperlink{namespacev8_1_1internal_a09dbf9baefb793fd78912d6ef89f9dde}{WasmModule}}* module = \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}}.value().get();}
\DoxyCodeLine{3062         \textcolor{keywordflow}{if} (WasmError validation\_error = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ab14c5d1b4e1be5a5465678002c82ef10}{ValidateFunctions}}(}
\DoxyCodeLine{3063                 module, job-\/>wire\_bytes\_.module\_bytes(), job-\/>enabled\_features\_,}
\DoxyCodeLine{3064                 \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_ad24095519f429b94dcc97af671c9ce56a6876a5a7a3362814c6427ac82bfe58c2}{kOnlyLazyFunctions}}, \&job-\/>detected\_features\_)) \{}
\DoxyCodeLine{3065           \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a24a40a897766a19d97d04ef9c02ea315}{ModuleResult}}\{std::move(validation\_error)\};}
\DoxyCodeLine{3066         \}}
\DoxyCodeLine{3067       \}}
\DoxyCodeLine{3068       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}}.ok()) \{}
\DoxyCodeLine{3069         \textcolor{keyword}{const} \mbox{\hyperlink{namespacev8_1_1internal_a09dbf9baefb793fd78912d6ef89f9dde}{WasmModule}}* module = \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}}.value().get();}
\DoxyCodeLine{3070         \textcolor{keywordflow}{if} (WasmError error = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a97644489c4ab86ae3156930153cd1b5e}{ValidateAndSetBuiltinImports}}(}
\DoxyCodeLine{3071                 module, job-\/>wire\_bytes\_.module\_bytes(), job-\/>compile\_imports\_,}
\DoxyCodeLine{3072                 \&job-\/>detected\_features\_)) \{}
\DoxyCodeLine{3073           \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a24a40a897766a19d97d04ef9c02ea315}{ModuleResult}}\{std::move(error)\};}
\DoxyCodeLine{3074         \}}
\DoxyCodeLine{3075       \}}
\DoxyCodeLine{3076     \}}
\DoxyCodeLine{3077     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}}.failed()) \{}
\DoxyCodeLine{3078       \textcolor{comment}{// Decoding failure; reject the promise and clean up.}}
\DoxyCodeLine{3079       job-\/>DoSync<Fail>();}
\DoxyCodeLine{3080     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{3081       \textcolor{comment}{// Decode passed.}}
\DoxyCodeLine{3082       std::shared\_ptr<WasmModule> module = std::move(\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}}).value();}
\DoxyCodeLine{3083       \textcolor{keywordtype}{size\_t} code\_size\_estimate =}
\DoxyCodeLine{3084           \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a5b6cfe5d63b1c5f3b54fdb34ed91c863}{wasm::WasmCodeManager::EstimateNativeModuleCodeSize}}(module.get());}
\DoxyCodeLine{3085       job-\/>DoSync<PrepareAndStartCompile>(}
\DoxyCodeLine{3086           std::move(module), \textcolor{keyword}{true} \textcolor{comment}{/* start\_compilation */},}
\DoxyCodeLine{3087           \textcolor{keyword}{true} \textcolor{comment}{/* lazy\_functions\_are\_validated */}, code\_size\_estimate);}
\DoxyCodeLine{3088     \}}
\DoxyCodeLine{3089   \}}

\end{DoxyCode}


References v8\+::internal\+::wasm\+::\+Async\+Compile\+Job\+::compile\+\_\+imports\+\_\+, v8\+::internal\+::wasm\+::\+Async\+Compile\+Job\+::context\+\_\+id(), counters\+\_\+, v8\+::internal\+::wasm\+::\+Decode\+Wasm\+Module(), v8\+::internal\+::wasm\+::\+Async\+Compile\+Job\+::detected\+\_\+features\+\_\+, v8\+::internal\+::wasm\+::\+Async\+Compile\+Job\+::\+Do\+Sync(), v8\+::internal\+::wasm\+::\+Async\+Compile\+Job\+::enabled\+\_\+features\+\_\+, v8\+::internal\+::wasm\+::\+Wasm\+Code\+Manager\+::\+Estimate\+Native\+Module\+Code\+Size(), v8\+::internal\+::wasm\+::k\+Async, v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::k\+Only\+Lazy\+Functions, v8\+::internal\+::wasm\+::k\+Wasm\+Origin, metrics\+\_\+recorder\+\_\+, v8\+::internal\+::wasm\+::\+Module\+Wire\+Bytes\+::module\+\_\+bytes(), v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::no\+\_\+gc, v8\+::base\+::internal\+::result, TRACE\+\_\+\+COMPILE, TRACE\+\_\+\+DISABLED\+\_\+\+BY\+\_\+\+DEFAULT, TRACE\+\_\+\+EVENT0, v8\+::internal\+::v8\+\_\+flags, v8\+::internal\+::wasm\+::\+Validate\+And\+Set\+Builtin\+Imports(), v8\+::internal\+::wasm\+::\+Validate\+Functions(), and v8\+::internal\+::wasm\+::\+Async\+Compile\+Job\+::wire\+\_\+bytes\+\_\+.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_1_1DecodeModule_a2bce50c3ea578bc818214bba82cbb656_cgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_1_1DecodeModule_af5503437c181b102ff658c10bc329816}\label{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_1_1DecodeModule_af5503437c181b102ff658c10bc329816}} 
\index{v8::internal::wasm::AsyncCompileJob::DecodeModule@{v8::internal::wasm::AsyncCompileJob::DecodeModule}!counters\_@{counters\_}}
\index{counters\_@{counters\_}!v8::internal::wasm::AsyncCompileJob::DecodeModule@{v8::internal::wasm::AsyncCompileJob::DecodeModule}}
\doxysubsubsection{\texorpdfstring{counters\_}{counters\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1Counters}{Counters}}$\ast$ const v8\+::internal\+::wasm\+::\+Async\+Compile\+Job\+::\+Decode\+Module\+::counters\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 3092 of file module-\/compiler.\+cc.



Referenced by Run\+In\+Background().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_1_1DecodeModule_a9ed32c7c7b2617e667833307d0e0163d}\label{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_1_1DecodeModule_a9ed32c7c7b2617e667833307d0e0163d}} 
\index{v8::internal::wasm::AsyncCompileJob::DecodeModule@{v8::internal::wasm::AsyncCompileJob::DecodeModule}!metrics\_recorder\_@{metrics\_recorder\_}}
\index{metrics\_recorder\_@{metrics\_recorder\_}!v8::internal::wasm::AsyncCompileJob::DecodeModule@{v8::internal::wasm::AsyncCompileJob::DecodeModule}}
\doxysubsubsection{\texorpdfstring{metrics\_recorder\_}{metrics\_recorder\_}}
{\footnotesize\ttfamily std\+::shared\+\_\+ptr$<$\mbox{\hyperlink{classv8_1_1internal_1_1metrics_1_1Recorder}{metrics\+::\+Recorder}}$>$ v8\+::internal\+::wasm\+::\+Async\+Compile\+Job\+::\+Decode\+Module\+::metrics\+\_\+recorder\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 3093 of file module-\/compiler.\+cc.



Referenced by Run\+In\+Background().



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/wasm/\mbox{\hyperlink{module-compiler_8cc}{module-\/compiler.\+cc}}\end{DoxyCompactItemize}
