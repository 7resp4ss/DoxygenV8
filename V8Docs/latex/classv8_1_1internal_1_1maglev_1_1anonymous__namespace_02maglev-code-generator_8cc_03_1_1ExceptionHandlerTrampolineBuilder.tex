\hypertarget{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder}{}\doxysection{v8\+::internal\+::maglev\+::anonymous\+\_\+namespace\{maglev-\/code-\/generator.cc\}\+::Exception\+Handler\+Trampoline\+Builder Class Reference}
\label{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder}\index{v8::internal::maglev::anonymous\_namespace\lcurly{}maglev-\/code-\/generator.cc\rcurly{}::ExceptionHandlerTrampolineBuilder@{v8::internal::maglev::anonymous\_namespace\lcurly{}maglev-\/code-\/generator.cc\rcurly{}::ExceptionHandlerTrampolineBuilder}}


Collaboration diagram for v8\+::internal\+::maglev\+::anonymous\+\_\+namespace\{maglev-\/code-\/generator.cc\}\+::Exception\+Handler\+Trampoline\+Builder\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1Exceptioe6a1f20837191c107336c2ecb647f3a6}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1Excepti2b93e292d2a5c8f331baf65507f850ce}{Move}}
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_a0ce8a8e6955ed02a4eb544c24a58329c}{Build}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevAssembler}{Maglev\+Assembler}} $\ast$\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_afba2e7df95b33ac04b0dd602df4cf186}{masm}}, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1NodeBase}{Node\+Base}} $\ast$node)
\end{DoxyCompactItemize}
\doxysubsection*{Private Types}
\begin{DoxyCompactItemize}
\item 
using \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_ab5414bc9497c0af778baf7f2207f077e}{Move\+Vector}} = \mbox{\hyperlink{classv8_1_1base_1_1SmallVector}{base\+::\+Small\+Vector}}$<$ \mbox{\hyperlink{structv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1Excepti2b93e292d2a5c8f331baf65507f850ce}{Move}}, 16 $>$
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_a294556126b1c9fd6c1d9adc774549d38}{Exception\+Handler\+Trampoline\+Builder}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevAssembler}{Maglev\+Assembler}} $\ast$\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_afba2e7df95b33ac04b0dd602df4cf186}{masm}})
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_af62f775daa75d8344780f7e8445b7caa}{Emit\+Trampoline\+For}} (\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1NodeBase}{Node\+Base}} $\ast$node)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevAssembler}{Maglev\+Assembler}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_afba2e7df95b33ac04b0dd602df4cf186}{masm}} () const
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_a4c9f897cfa0fc2da36c9ec3e0530838e}{Record\+Moves}} (const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevCompilationUnit}{Maglev\+Compilation\+Unit}} \&unit, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BasicBlock}{Basic\+Block}} $\ast$catch\+\_\+block, const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1CompactInterpreterFrameState}{Compact\+Interpreter\+Frame\+State}} $\ast$register\+\_\+frame, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ParallelMoveResolver}{Parallel\+Move\+Resolver}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}}, \mbox{\hyperlink{common_2globals_8h_a4afce385590f5205d231ec1e9216b2ee}{COMPRESS\+\_\+\+POINTERS\+\_\+\+BOOL}} $>$ $\ast$direct\+\_\+moves, \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_ab5414bc9497c0af778baf7f2207f077e}{Move\+Vector}} $\ast$materialising\+\_\+moves, \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} $\ast$save\+\_\+accumulator)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_a1c963d294ab44473547cdf2efbaf9aec}{Emit\+Materialisations\+And\+Push\+Results}} (const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_ab5414bc9497c0af778baf7f2207f077e}{Move\+Vector}} \&moves, \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} save\+\_\+accumulator) const
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_a880820e6173d5c1fd6fcd9497e09b0b4}{Emit\+Pop\+Materialised\+Results}} (const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_ab5414bc9497c0af778baf7f2207f077e}{Move\+Vector}} \&moves, \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} save\+\_\+accumulator, \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}} scratch) const
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevAssembler}{Maglev\+Assembler}} $\ast$const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_a15ff7aff31b3706d1a727bdefb96c5dd}{masm\+\_\+}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 519 of file maglev-\/code-\/generator.\+cc.



\doxysubsection{Member Typedef Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_ab5414bc9497c0af778baf7f2207f077e}\label{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_ab5414bc9497c0af778baf7f2207f077e}} 
\index{v8::internal::maglev::anonymous\_namespace\lcurly{}maglev-\/code-\/generator.cc\rcurly{}::ExceptionHandlerTrampolineBuilder@{v8::internal::maglev::anonymous\_namespace\lcurly{}maglev-\/code-\/generator.cc\rcurly{}::ExceptionHandlerTrampolineBuilder}!MoveVector@{MoveVector}}
\index{MoveVector@{MoveVector}!v8::internal::maglev::anonymous\_namespace\lcurly{}maglev-\/code-\/generator.cc\rcurly{}::ExceptionHandlerTrampolineBuilder@{v8::internal::maglev::anonymous\_namespace\lcurly{}maglev-\/code-\/generator.cc\rcurly{}::ExceptionHandlerTrampolineBuilder}}
\doxysubsubsection{\texorpdfstring{MoveVector}{MoveVector}}
{\footnotesize\ttfamily using v8\+::internal\+::maglev\+::anonymous\+\_\+namespace\{maglev-\/\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/generator.\+cc\}\+::\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_ab5414bc9497c0af778baf7f2207f077e}{Exception\+Handler\+Trampoline\+Builder\+::\+Move\+Vector}} =  \mbox{\hyperlink{classv8_1_1base_1_1SmallVector}{base\+::\+Small\+Vector}}$<$\mbox{\hyperlink{structv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1Excepti2b93e292d2a5c8f331baf65507f850ce}{Move}}, 16$>$\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 536 of file maglev-\/code-\/generator.\+cc.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_a294556126b1c9fd6c1d9adc774549d38}\label{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_a294556126b1c9fd6c1d9adc774549d38}} 
\index{v8::internal::maglev::anonymous\_namespace\lcurly{}maglev-\/code-\/generator.cc\rcurly{}::ExceptionHandlerTrampolineBuilder@{v8::internal::maglev::anonymous\_namespace\lcurly{}maglev-\/code-\/generator.cc\rcurly{}::ExceptionHandlerTrampolineBuilder}!ExceptionHandlerTrampolineBuilder@{ExceptionHandlerTrampolineBuilder}}
\index{ExceptionHandlerTrampolineBuilder@{ExceptionHandlerTrampolineBuilder}!v8::internal::maglev::anonymous\_namespace\lcurly{}maglev-\/code-\/generator.cc\rcurly{}::ExceptionHandlerTrampolineBuilder@{v8::internal::maglev::anonymous\_namespace\lcurly{}maglev-\/code-\/generator.cc\rcurly{}::ExceptionHandlerTrampolineBuilder}}
\doxysubsubsection{\texorpdfstring{ExceptionHandlerTrampolineBuilder()}{ExceptionHandlerTrampolineBuilder()}}
{\footnotesize\ttfamily v8\+::internal\+::maglev\+::anonymous\+\_\+namespace\{maglev-\/\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/generator.\+cc\}\+::Exception\+Handler\+Trampoline\+Builder\+::\+Exception\+Handler\+Trampoline\+Builder (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevAssembler}{Maglev\+Assembler}} $\ast$}]{masm }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}, {\ttfamily [private]}}



Definition at line 527 of file maglev-\/code-\/generator.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{528       : \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_a15ff7aff31b3706d1a727bdefb96c5dd}{masm\_}}(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_afba2e7df95b33ac04b0dd602df4cf186}{masm}}) \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_a0ce8a8e6955ed02a4eb544c24a58329c}\label{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_a0ce8a8e6955ed02a4eb544c24a58329c}} 
\index{v8::internal::maglev::anonymous\_namespace\lcurly{}maglev-\/code-\/generator.cc\rcurly{}::ExceptionHandlerTrampolineBuilder@{v8::internal::maglev::anonymous\_namespace\lcurly{}maglev-\/code-\/generator.cc\rcurly{}::ExceptionHandlerTrampolineBuilder}!Build@{Build}}
\index{Build@{Build}!v8::internal::maglev::anonymous\_namespace\lcurly{}maglev-\/code-\/generator.cc\rcurly{}::ExceptionHandlerTrampolineBuilder@{v8::internal::maglev::anonymous\_namespace\lcurly{}maglev-\/code-\/generator.cc\rcurly{}::ExceptionHandlerTrampolineBuilder}}
\doxysubsubsection{\texorpdfstring{Build()}{Build()}}
{\footnotesize\ttfamily static void v8\+::internal\+::maglev\+::anonymous\+\_\+namespace\{maglev-\/\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/generator.\+cc\}\+::Exception\+Handler\+Trampoline\+Builder\+::\+Build (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevAssembler}{Maglev\+Assembler}} $\ast$}]{masm,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1NodeBase}{Node\+Base}} $\ast$}]{node }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



Definition at line 521 of file maglev-\/code-\/generator.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{521                                                            \{}
\DoxyCodeLine{522     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_a294556126b1c9fd6c1d9adc774549d38}{ExceptionHandlerTrampolineBuilder}} builder(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_afba2e7df95b33ac04b0dd602df4cf186}{masm}});}
\DoxyCodeLine{523     builder.EmitTrampolineFor(node);}
\DoxyCodeLine{524   \}}

\end{DoxyCode}


References Emit\+Trampoline\+For().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_a0ce8a8e6955ed02a4eb544c24a58329c_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_a1c963d294ab44473547cdf2efbaf9aec}\label{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_a1c963d294ab44473547cdf2efbaf9aec}} 
\index{v8::internal::maglev::anonymous\_namespace\lcurly{}maglev-\/code-\/generator.cc\rcurly{}::ExceptionHandlerTrampolineBuilder@{v8::internal::maglev::anonymous\_namespace\lcurly{}maglev-\/code-\/generator.cc\rcurly{}::ExceptionHandlerTrampolineBuilder}!EmitMaterialisationsAndPushResults@{EmitMaterialisationsAndPushResults}}
\index{EmitMaterialisationsAndPushResults@{EmitMaterialisationsAndPushResults}!v8::internal::maglev::anonymous\_namespace\lcurly{}maglev-\/code-\/generator.cc\rcurly{}::ExceptionHandlerTrampolineBuilder@{v8::internal::maglev::anonymous\_namespace\lcurly{}maglev-\/code-\/generator.cc\rcurly{}::ExceptionHandlerTrampolineBuilder}}
\doxysubsubsection{\texorpdfstring{EmitMaterialisationsAndPushResults()}{EmitMaterialisationsAndPushResults()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::anonymous\+\_\+namespace\{maglev-\/\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/generator.\+cc\}\+::Exception\+Handler\+Trampoline\+Builder\+::\+Emit\+Materialisations\+And\+Push\+Results (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_ab5414bc9497c0af778baf7f2207f077e}{Move\+Vector}} \&}]{moves,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}}}]{save\+\_\+accumulator }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 648 of file maglev-\/code-\/generator.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{649                                                                        \{}
\DoxyCodeLine{650     \textcolor{keywordflow}{if} (moves.empty()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{651 }
\DoxyCodeLine{652     \textcolor{comment}{// It's possible to optimize this further, at the cost of additional}}
\DoxyCodeLine{653     \textcolor{comment}{// complexity:}}
\DoxyCodeLine{654     \textcolor{comment}{//}}
\DoxyCodeLine{655     \textcolor{comment}{// -\/ If the target location is a register, we could theoretically move the}}
\DoxyCodeLine{656     \textcolor{comment}{// materialised result there immediately, with the additional complication}}
\DoxyCodeLine{657     \textcolor{comment}{// that following calls to NewHeapNumber may clobber the register.}}
\DoxyCodeLine{658     \textcolor{comment}{//}}
\DoxyCodeLine{659     \textcolor{comment}{// -\/ If the target location is a stack slot which is neither a source nor}}
\DoxyCodeLine{660     \textcolor{comment}{// target slot for any other moves (direct or materialising), we could move}}
\DoxyCodeLine{661     \textcolor{comment}{// the result there directly instead of pushing and later popping it. This}}
\DoxyCodeLine{662     \textcolor{comment}{// doesn't seem worth the extra code complexity though, given we are}}
\DoxyCodeLine{663     \textcolor{comment}{// talking about a presumably infrequent case for exception handlers.}}
\DoxyCodeLine{664 }
\DoxyCodeLine{665     \mbox{\hyperlink{maglev-code-generator_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} RecordComment(\textcolor{stringliteral}{"{}EmitMaterialisationsAndPushResults"{}});}
\DoxyCodeLine{666 }
\DoxyCodeLine{667     \textcolor{keywordflow}{if} (save\_accumulator) \mbox{\hyperlink{maglev-code-generator_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Push(\mbox{\hyperlink{namespacev8_1_1internal_a8654f2409b96eec341287939ca3cfab0}{kReturnRegister0}});}
\DoxyCodeLine{668 }
\DoxyCodeLine{669 \textcolor{preprocessor}{\#ifdef DEBUG}}
\DoxyCodeLine{670     \textcolor{comment}{// Allow calls in these materialisations.}}
\DoxyCodeLine{671     \mbox{\hyperlink{maglev-code-generator_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} set\_allow\_call(\textcolor{keyword}{true});}
\DoxyCodeLine{672 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{673     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} Move\& move : moves) \{}
\DoxyCodeLine{674       \textcolor{comment}{// We consider constants after all other operations, since constants}}
\DoxyCodeLine{675       \textcolor{comment}{// don't need to call NewHeapNumber.}}
\DoxyCodeLine{676       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a6e60c63e9c4afea01a72683d99a3855e}{IsConstantNode}}(move.source-\/>opcode())) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{677       \mbox{\hyperlink{maglev-code-generator_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} MaterialiseValueNode(\mbox{\hyperlink{namespacev8_1_1internal_a8654f2409b96eec341287939ca3cfab0}{kReturnRegister0}}, move.source);}
\DoxyCodeLine{678       \mbox{\hyperlink{maglev-code-generator_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Push(\mbox{\hyperlink{namespacev8_1_1internal_a8654f2409b96eec341287939ca3cfab0}{kReturnRegister0}});}
\DoxyCodeLine{679     \}}
\DoxyCodeLine{680 \textcolor{preprocessor}{\#ifdef DEBUG}}
\DoxyCodeLine{681     \mbox{\hyperlink{maglev-code-generator_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} set\_allow\_call(\textcolor{keyword}{false});}
\DoxyCodeLine{682 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{683   \}}

\end{DoxyCode}


References \+\_\+\+\_\+, v8\+::base\+::\+Small\+Vector$<$ T, k\+Size, Allocator $>$\+::empty(), v8\+::internal\+::maglev\+::\+Is\+Constant\+Node(), and v8\+::internal\+::k\+Return\+Register0.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_a1c963d294ab44473547cdf2efbaf9aec_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_a880820e6173d5c1fd6fcd9497e09b0b4}\label{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_a880820e6173d5c1fd6fcd9497e09b0b4}} 
\index{v8::internal::maglev::anonymous\_namespace\lcurly{}maglev-\/code-\/generator.cc\rcurly{}::ExceptionHandlerTrampolineBuilder@{v8::internal::maglev::anonymous\_namespace\lcurly{}maglev-\/code-\/generator.cc\rcurly{}::ExceptionHandlerTrampolineBuilder}!EmitPopMaterialisedResults@{EmitPopMaterialisedResults}}
\index{EmitPopMaterialisedResults@{EmitPopMaterialisedResults}!v8::internal::maglev::anonymous\_namespace\lcurly{}maglev-\/code-\/generator.cc\rcurly{}::ExceptionHandlerTrampolineBuilder@{v8::internal::maglev::anonymous\_namespace\lcurly{}maglev-\/code-\/generator.cc\rcurly{}::ExceptionHandlerTrampolineBuilder}}
\doxysubsubsection{\texorpdfstring{EmitPopMaterialisedResults()}{EmitPopMaterialisedResults()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::anonymous\+\_\+namespace\{maglev-\/\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/generator.\+cc\}\+::Exception\+Handler\+Trampoline\+Builder\+::\+Emit\+Pop\+Materialised\+Results (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_ab5414bc9497c0af778baf7f2207f077e}{Move\+Vector}} \&}]{moves,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}}}]{save\+\_\+accumulator,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}}}]{scratch }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 685 of file maglev-\/code-\/generator.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{687                                                           \{}
\DoxyCodeLine{688     \textcolor{keywordflow}{if} (moves.empty()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{689     \mbox{\hyperlink{maglev-code-generator_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} RecordComment(\textcolor{stringliteral}{"{}EmitPopMaterialisedResults"{}});}
\DoxyCodeLine{690     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} Move\& move : \mbox{\hyperlink{namespacev8_1_1base_a7364bf7dcb822d07f7380aeff8d2a77b}{base::Reversed}}(moves)) \{}
\DoxyCodeLine{691       \textcolor{keyword}{const} ValueLocation\& target = move.target;}
\DoxyCodeLine{692       \mbox{\hyperlink{namespacev8_1_1internal_1_1ETWJITInterface_a6782da00e5166055555c65db3a9ec7eb}{Register}} target\_reg = target.operand().IsAnyRegister()}
\DoxyCodeLine{693                                 ? target.AssignedGeneralRegister()}
\DoxyCodeLine{694                                 : scratch;}
\DoxyCodeLine{695       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a6e60c63e9c4afea01a72683d99a3855e}{IsConstantNode}}(move.source-\/>opcode())) \{}
\DoxyCodeLine{696         \mbox{\hyperlink{maglev-code-generator_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} MaterialiseValueNode(target\_reg, move.source);}
\DoxyCodeLine{697       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{698         \mbox{\hyperlink{maglev-code-generator_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Pop(target\_reg);}
\DoxyCodeLine{699       \}}
\DoxyCodeLine{700       \textcolor{keywordflow}{if} (target\_reg == scratch) \{}
\DoxyCodeLine{701         \mbox{\hyperlink{maglev-code-generator_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Move(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_a15ff7aff31b3706d1a727bdefb96c5dd}{masm\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevAssembler_acd7c9ca22b9a94f48c0b5f8bc746637a}{ToMemOperand}}(target.operand()), scratch);}
\DoxyCodeLine{702       \}}
\DoxyCodeLine{703     \}}
\DoxyCodeLine{704     \textcolor{keywordflow}{if} (save\_accumulator) \mbox{\hyperlink{maglev-code-generator_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Pop(\mbox{\hyperlink{namespacev8_1_1internal_a8654f2409b96eec341287939ca3cfab0}{kReturnRegister0}});}
\DoxyCodeLine{705   \}}

\end{DoxyCode}


References \+\_\+\+\_\+, v8\+::internal\+::maglev\+::\+Value\+Location\+::\+Assigned\+General\+Register(), v8\+::base\+::\+Small\+Vector$<$ T, k\+Size, Allocator $>$\+::empty(), v8\+::internal\+::compiler\+::\+Instruction\+Operand\+::\+Is\+Any\+Register(), v8\+::internal\+::maglev\+::\+Is\+Constant\+Node(), v8\+::internal\+::k\+Return\+Register0, v8\+::internal\+::maglev\+::\+Value\+Location\+::operand(), and v8\+::base\+::\+Reversed().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_a880820e6173d5c1fd6fcd9497e09b0b4_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_af62f775daa75d8344780f7e8445b7caa}\label{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_af62f775daa75d8344780f7e8445b7caa}} 
\index{v8::internal::maglev::anonymous\_namespace\lcurly{}maglev-\/code-\/generator.cc\rcurly{}::ExceptionHandlerTrampolineBuilder@{v8::internal::maglev::anonymous\_namespace\lcurly{}maglev-\/code-\/generator.cc\rcurly{}::ExceptionHandlerTrampolineBuilder}!EmitTrampolineFor@{EmitTrampolineFor}}
\index{EmitTrampolineFor@{EmitTrampolineFor}!v8::internal::maglev::anonymous\_namespace\lcurly{}maglev-\/code-\/generator.cc\rcurly{}::ExceptionHandlerTrampolineBuilder@{v8::internal::maglev::anonymous\_namespace\lcurly{}maglev-\/code-\/generator.cc\rcurly{}::ExceptionHandlerTrampolineBuilder}}
\doxysubsubsection{\texorpdfstring{EmitTrampolineFor()}{EmitTrampolineFor()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::anonymous\+\_\+namespace\{maglev-\/\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/generator.\+cc\}\+::Exception\+Handler\+Trampoline\+Builder\+::\+Emit\+Trampoline\+For (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1NodeBase}{Node\+Base}} $\ast$}]{node }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 538 of file maglev-\/code-\/generator.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{538                                          \{}
\DoxyCodeLine{539     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(node-\/>properties().can\_throw());}
\DoxyCodeLine{540 }
\DoxyCodeLine{541     ExceptionHandlerInfo* \textcolor{keyword}{const} handler\_info = node-\/>exception\_handler\_info();}
\DoxyCodeLine{542     \textcolor{keywordflow}{if} (handler\_info-\/>ShouldLazyDeopt()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{543     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(handler\_info-\/>HasExceptionHandler());}
\DoxyCodeLine{544     BasicBlock* \textcolor{keyword}{const} catch\_block = handler\_info-\/>catch\_block();}
\DoxyCodeLine{545     LazyDeoptInfo* \textcolor{keyword}{const} deopt\_info = node-\/>lazy\_deopt\_info();}
\DoxyCodeLine{546 }
\DoxyCodeLine{547     \textcolor{comment}{// The exception handler trampoline resolves moves for exception phis and}}
\DoxyCodeLine{548     \textcolor{comment}{// then jumps to the actual catch block. There are a few points worth}}
\DoxyCodeLine{549     \textcolor{comment}{// noting:}}
\DoxyCodeLine{550     \textcolor{comment}{//}}
\DoxyCodeLine{551     \textcolor{comment}{// -\/ All source locations are assumed to be stack slots, except the}}
\DoxyCodeLine{552     \textcolor{comment}{// accumulator which is stored in kReturnRegister0. We don't emit an}}
\DoxyCodeLine{553     \textcolor{comment}{// explicit move for it, instead it is pushed and popped at the boundaries}}
\DoxyCodeLine{554     \textcolor{comment}{// of the entire move sequence (necessary due to materialisation).}}
\DoxyCodeLine{555     \textcolor{comment}{//}}
\DoxyCodeLine{556     \textcolor{comment}{// -\/ Some values may require materialisation, i.e. heap number construction}}
\DoxyCodeLine{557     \textcolor{comment}{// through calls to the NewHeapNumber builtin. To avoid potential conflicts}}
\DoxyCodeLine{558     \textcolor{comment}{// with other moves (which may happen due to stack slot reuse, i.e. a}}
\DoxyCodeLine{559     \textcolor{comment}{// target location of move A may equal source location of move B), we}}
\DoxyCodeLine{560     \textcolor{comment}{// materialise and push results to new temporary stack slots before the}}
\DoxyCodeLine{561     \textcolor{comment}{// main move sequence, and then pop results into their final target}}
\DoxyCodeLine{562     \textcolor{comment}{// locations afterwards. Note this is only safe because a) materialised}}
\DoxyCodeLine{563     \textcolor{comment}{// values are tagged and b) the stack walk treats unknown stack slots as}}
\DoxyCodeLine{564     \textcolor{comment}{// tagged.}}
\DoxyCodeLine{565 }
\DoxyCodeLine{566     \textcolor{keyword}{const} InterpretedDeoptFrame\& lazy\_frame =}
\DoxyCodeLine{567         deopt\_info-\/>GetFrameForExceptionHandler(handler\_info);}
\DoxyCodeLine{568 }
\DoxyCodeLine{569     \textcolor{comment}{// TODO(v8:7700): Handle inlining.}}
\DoxyCodeLine{570     ParallelMoveResolver<Register, COMPRESS\_POINTERS\_BOOL> direct\_moves(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_a15ff7aff31b3706d1a727bdefb96c5dd}{masm\_}});}
\DoxyCodeLine{571     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_ab5414bc9497c0af778baf7f2207f077e}{MoveVector}} materialising\_moves;}
\DoxyCodeLine{572     \textcolor{keywordtype}{bool} save\_accumulator = \textcolor{keyword}{false};}
\DoxyCodeLine{573     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_a4c9f897cfa0fc2da36c9ec3e0530838e}{RecordMoves}}(lazy\_frame.unit(), catch\_block, lazy\_frame.frame\_state(),}
\DoxyCodeLine{574                 \&direct\_moves, \&materialising\_moves, \&save\_accumulator);}
\DoxyCodeLine{575     \mbox{\hyperlink{maglev-code-generator_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} BindJumpTarget(\&handler\_info-\/>trampoline\_entry());}
\DoxyCodeLine{576     \mbox{\hyperlink{maglev-code-generator_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} RecordComment(\textcolor{stringliteral}{"{}-\/-\/ Exception handler trampoline START"{}});}
\DoxyCodeLine{577     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_a1c963d294ab44473547cdf2efbaf9aec}{EmitMaterialisationsAndPushResults}}(materialising\_moves, save\_accumulator);}
\DoxyCodeLine{578 }
\DoxyCodeLine{579     \mbox{\hyperlink{maglev-code-generator_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} RecordComment(\textcolor{stringliteral}{"{}EmitMoves"{}});}
\DoxyCodeLine{580     MaglevAssembler::TemporaryRegisterScope temps(\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_a15ff7aff31b3706d1a727bdefb96c5dd}{masm\_}});}
\DoxyCodeLine{581     \mbox{\hyperlink{namespacev8_1_1internal_1_1ETWJITInterface_a6782da00e5166055555c65db3a9ec7eb}{Register}} scratch = temps.AcquireScratch();}
\DoxyCodeLine{582     direct\_moves.EmitMoves(scratch);}
\DoxyCodeLine{583     \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_a880820e6173d5c1fd6fcd9497e09b0b4}{EmitPopMaterialisedResults}}(materialising\_moves, save\_accumulator, scratch);}
\DoxyCodeLine{584     \mbox{\hyperlink{maglev-code-generator_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} Jump(catch\_block-\/>label());}
\DoxyCodeLine{585     \mbox{\hyperlink{maglev-code-generator_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} RecordComment(\textcolor{stringliteral}{"{}-\/-\/ Exception handler trampoline END"{}});}
\DoxyCodeLine{586   \}}

\end{DoxyCode}


References \+\_\+\+\_\+, v8\+::internal\+::maglev\+::\+Maglev\+Assembler\+::\+Temporary\+Register\+Scope\+::\+Acquire\+Scratch(), v8\+::internal\+::maglev\+::\+Op\+Properties\+::can\+\_\+throw(), v8\+::internal\+::maglev\+::\+Exception\+Handler\+Info\+::catch\+\_\+block(), v8\+::internal\+::\+DCHECK(), v8\+::internal\+::maglev\+::anonymous\+\_\+namespace\{maglev-\/code-\/generator.\+cc\}\+::\+Parallel\+Move\+Resolver$<$ Register\+T, Decompress\+If\+Needed $>$\+::\+Emit\+Moves(), v8\+::internal\+::maglev\+::\+Node\+Base\+::exception\+\_\+handler\+\_\+info(), v8\+::internal\+::maglev\+::\+Interpreted\+Deopt\+Frame\+::frame\+\_\+state(), v8\+::internal\+::maglev\+::\+Lazy\+Deopt\+Info\+::\+Get\+Frame\+For\+Exception\+Handler(), v8\+::internal\+::maglev\+::\+Exception\+Handler\+Info\+::\+Has\+Exception\+Handler(), v8\+::internal\+::maglev\+::\+Basic\+Block\+::label(), v8\+::internal\+::maglev\+::\+Node\+Base\+::lazy\+\_\+deopt\+\_\+info(), v8\+::internal\+::maglev\+::\+Node\+Base\+::properties(), v8\+::internal\+::maglev\+::\+Exception\+Handler\+Info\+::\+Should\+Lazy\+Deopt(), v8\+::internal\+::maglev\+::\+Exception\+Handler\+Info\+::trampoline\+\_\+entry(), and v8\+::internal\+::maglev\+::\+Interpreted\+Deopt\+Frame\+::unit().



Referenced by Build().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_af62f775daa75d8344780f7e8445b7caa_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_af62f775daa75d8344780f7e8445b7caa_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_afba2e7df95b33ac04b0dd602df4cf186}\label{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_afba2e7df95b33ac04b0dd602df4cf186}} 
\index{v8::internal::maglev::anonymous\_namespace\lcurly{}maglev-\/code-\/generator.cc\rcurly{}::ExceptionHandlerTrampolineBuilder@{v8::internal::maglev::anonymous\_namespace\lcurly{}maglev-\/code-\/generator.cc\rcurly{}::ExceptionHandlerTrampolineBuilder}!masm@{masm}}
\index{masm@{masm}!v8::internal::maglev::anonymous\_namespace\lcurly{}maglev-\/code-\/generator.cc\rcurly{}::ExceptionHandlerTrampolineBuilder@{v8::internal::maglev::anonymous\_namespace\lcurly{}maglev-\/code-\/generator.cc\rcurly{}::ExceptionHandlerTrampolineBuilder}}
\doxysubsubsection{\texorpdfstring{masm()}{masm()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevAssembler}{Maglev\+Assembler}}$\ast$ v8\+::internal\+::maglev\+::anonymous\+\_\+namespace\{maglev-\/\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/generator.\+cc\}\+::Exception\+Handler\+Trampoline\+Builder\+::masm (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 588 of file maglev-\/code-\/generator.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{588 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_a15ff7aff31b3706d1a727bdefb96c5dd}{masm\_}}; \}}

\end{DoxyCode}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_a4c9f897cfa0fc2da36c9ec3e0530838e}\label{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_a4c9f897cfa0fc2da36c9ec3e0530838e}} 
\index{v8::internal::maglev::anonymous\_namespace\lcurly{}maglev-\/code-\/generator.cc\rcurly{}::ExceptionHandlerTrampolineBuilder@{v8::internal::maglev::anonymous\_namespace\lcurly{}maglev-\/code-\/generator.cc\rcurly{}::ExceptionHandlerTrampolineBuilder}!RecordMoves@{RecordMoves}}
\index{RecordMoves@{RecordMoves}!v8::internal::maglev::anonymous\_namespace\lcurly{}maglev-\/code-\/generator.cc\rcurly{}::ExceptionHandlerTrampolineBuilder@{v8::internal::maglev::anonymous\_namespace\lcurly{}maglev-\/code-\/generator.cc\rcurly{}::ExceptionHandlerTrampolineBuilder}}
\doxysubsubsection{\texorpdfstring{RecordMoves()}{RecordMoves()}}
{\footnotesize\ttfamily void v8\+::internal\+::maglev\+::anonymous\+\_\+namespace\{maglev-\/\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/generator.\+cc\}\+::Exception\+Handler\+Trampoline\+Builder\+::\+Record\+Moves (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevCompilationUnit}{Maglev\+Compilation\+Unit}} \&}]{unit,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1BasicBlock}{Basic\+Block}} $\ast$}]{catch\+\_\+block,  }\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1CompactInterpreterFrameState}{Compact\+Interpreter\+Frame\+State}} $\ast$}]{register\+\_\+frame,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ParallelMoveResolver}{Parallel\+Move\+Resolver}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Register}{Register}}, \mbox{\hyperlink{common_2globals_8h_a4afce385590f5205d231ec1e9216b2ee}{COMPRESS\+\_\+\+POINTERS\+\_\+\+BOOL}} $>$ $\ast$}]{direct\+\_\+moves,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_ab5414bc9497c0af778baf7f2207f077e}{Move\+Vector}} $\ast$}]{materialising\+\_\+moves,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} $\ast$}]{save\+\_\+accumulator }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 590 of file maglev-\/code-\/generator.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{594                                                                \{}
\DoxyCodeLine{595     \textcolor{keywordflow}{if} (!catch\_block-\/>has\_phi()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{596     \textcolor{keywordflow}{for} (Phi* phi : *catch\_block-\/>phis()) \{}
\DoxyCodeLine{597       \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(phi-\/>is\_exception\_phi());}
\DoxyCodeLine{598       \textcolor{keywordflow}{if} (!phi-\/>has\_valid\_live\_range()) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{599 }
\DoxyCodeLine{600       \textcolor{keyword}{const} ValueLocation\& target = phi-\/>result();}
\DoxyCodeLine{601       \textcolor{keywordflow}{if} (phi-\/>owner() == \mbox{\hyperlink{classv8_1_1internal_1_1interpreter_1_1Register_a081ae5930cebb8e207f2981e2b8e6876}{interpreter::Register::virtual\_accumulator}}()) \{}
\DoxyCodeLine{602         \textcolor{comment}{// If the accumulator is live, then it is the exception object located}}
\DoxyCodeLine{603         \textcolor{comment}{// at kReturnRegister0.  We don't emit a move for it since the value is}}
\DoxyCodeLine{604         \textcolor{comment}{// already in the right spot, but we do have to ensure it isn't}}
\DoxyCodeLine{605         \textcolor{comment}{// clobbered by calls to the NewHeapNumber builtin during}}
\DoxyCodeLine{606         \textcolor{comment}{// materialisation.}}
\DoxyCodeLine{607         \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(target.AssignedGeneralRegister(), \mbox{\hyperlink{namespacev8_1_1internal_a8654f2409b96eec341287939ca3cfab0}{kReturnRegister0}});}
\DoxyCodeLine{608         *save\_accumulator = \textcolor{keyword}{true};}
\DoxyCodeLine{609         \textcolor{keywordflow}{continue};}
\DoxyCodeLine{610       \}}
\DoxyCodeLine{611 }
\DoxyCodeLine{612       ValueNode* source = register\_frame-\/>GetValueOf(phi-\/>owner(), unit);}
\DoxyCodeLine{613       \mbox{\hyperlink{src_2base_2logging_8h_a7b9f9517fedacc2a1a56c2bbb9d03688}{DCHECK\_NOT\_NULL}}(source);}
\DoxyCodeLine{614       \textcolor{keywordflow}{if} (VirtualObject* vobj = source-\/>TryCast<VirtualObject>()) \{}
\DoxyCodeLine{615         \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(vobj-\/>allocation()-\/>HasEscaped());}
\DoxyCodeLine{616         source = vobj-\/>allocation();}
\DoxyCodeLine{617       \}}
\DoxyCodeLine{618       \textcolor{comment}{// All registers must have been spilled due to the call.}}
\DoxyCodeLine{619       \textcolor{comment}{// TODO(jgruber): Which call? Because any throw requires at least a call}}
\DoxyCodeLine{620       \textcolor{comment}{// to Runtime::kThrowFoo?}}
\DoxyCodeLine{621       \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!source-\/>allocation().IsRegister());}
\DoxyCodeLine{622 }
\DoxyCodeLine{623       \textcolor{comment}{// The DeoptInfoVisitor should unwrap identity nodes in frame states.}}
\DoxyCodeLine{624       \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!source-\/>Is<\mbox{\hyperlink{structIdentity}{Identity}}>());}
\DoxyCodeLine{625 }
\DoxyCodeLine{626       \textcolor{keywordflow}{switch} (source-\/>properties().value\_representation()) \{}
\DoxyCodeLine{627         \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a3eee36fbbe00cfed0ef24d756afd1784}{ValueRepresentation::kTagged}}:}
\DoxyCodeLine{628           direct\_moves-\/>RecordMove(}
\DoxyCodeLine{629               source, source-\/>allocation(),}
\DoxyCodeLine{630               \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1LocationOperand_a14a0a8abb4b6ac796e0fae75948a270e}{compiler::AllocatedOperand::cast}}(target.operand()),}
\DoxyCodeLine{631               phi-\/>decompresses\_tagged\_result() ? \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_a072476a086ceec7ba30f6062058f2dfaa5e2cc1ebe6fda2cda9d8b53953410c63}{kNeedsDecompression}}}
\DoxyCodeLine{632                                                 : \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_a072476a086ceec7ba30f6062058f2dfaa15df86339d0b5a470a3c38bf8976ef7c}{kDoesNotNeedDecompression}});}
\DoxyCodeLine{633           \textcolor{keywordflow}{break};}
\DoxyCodeLine{634         \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a10c09f8bff3c372f21cd8a13e01ae941}{ValueRepresentation::kInt32}}:}
\DoxyCodeLine{635         \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9af5fca11a36e986e3623193c5cccc4f39}{ValueRepresentation::kUint32}}:}
\DoxyCodeLine{636         \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9ab9beefa74bd44b3a0829534370d1194a}{ValueRepresentation::kIntPtr}}:}
\DoxyCodeLine{637           materialising\_moves-\/>emplace\_back(target, source);}
\DoxyCodeLine{638           \textcolor{keywordflow}{break};}
\DoxyCodeLine{639         \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9a78f9bf284cc7269efe0093b7c505feaa}{ValueRepresentation::kFloat64}}:}
\DoxyCodeLine{640         \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1maglev_a3314ac8c3e0bd8b4886122d4288832b9ad244468d79bbe6bb65b6133a5f0f3ee4}{ValueRepresentation::kHoleyFloat64}}:}
\DoxyCodeLine{641           materialising\_moves-\/>emplace\_back(target, source);}
\DoxyCodeLine{642           \textcolor{keywordflow}{break};}
\DoxyCodeLine{643           \mbox{\hyperlink{namespacev8_1_1internal_acdec713c25068019f935e35976f5b666}{UNREACHABLE}}();}
\DoxyCodeLine{644       \}}
\DoxyCodeLine{645     \}}
\DoxyCodeLine{646   \}}

\end{DoxyCode}


References v8\+::internal\+::maglev\+::\+Value\+Node\+::allocation(), v8\+::internal\+::maglev\+::\+Value\+Location\+::\+Assigned\+General\+Register(), v8\+::internal\+::compiler\+::\+Location\+Operand\+::cast(), v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+EQ, DCHECK\+\_\+\+NOT\+\_\+\+NULL, v8\+::base\+::\+Small\+Vector$<$ T, k\+Size, Allocator $>$\+::emplace\+\_\+back(), v8\+::internal\+::maglev\+::\+Compact\+Interpreter\+Frame\+State\+::\+Get\+Value\+Of(), v8\+::internal\+::maglev\+::\+Basic\+Block\+::has\+\_\+phi(), v8\+::internal\+::maglev\+::\+Node\+Base\+::\+Is(), v8\+::internal\+::compiler\+::\+Instruction\+Operand\+::\+Is\+Register(), v8\+::internal\+::maglev\+::anonymous\+\_\+namespace\{maglev-\/code-\/generator.\+cc\}\+::k\+Does\+Not\+Need\+Decompression, v8\+::internal\+::maglev\+::k\+Float64, v8\+::internal\+::maglev\+::k\+Holey\+Float64, v8\+::internal\+::maglev\+::k\+Int32, v8\+::internal\+::maglev\+::k\+Int\+Ptr, v8\+::internal\+::maglev\+::anonymous\+\_\+namespace\{maglev-\/code-\/generator.\+cc\}\+::k\+Needs\+Decompression, v8\+::internal\+::k\+Return\+Register0, v8\+::internal\+::maglev\+::k\+Tagged, v8\+::internal\+::maglev\+::k\+Uint32, v8\+::internal\+::maglev\+::\+Value\+Location\+::operand(), v8\+::internal\+::maglev\+::\+Basic\+Block\+::phis(), v8\+::internal\+::maglev\+::\+Node\+Base\+::properties(), v8\+::internal\+::maglev\+::anonymous\+\_\+namespace\{maglev-\/code-\/generator.\+cc\}\+::\+Parallel\+Move\+Resolver$<$ Register\+T, Decompress\+If\+Needed $>$\+::\+Record\+Move(), v8\+::internal\+::maglev\+::\+Node\+Base\+::\+Try\+Cast(), v8\+::internal\+::\+UNREACHABLE(), v8\+::internal\+::maglev\+::\+Op\+Properties\+::value\+\_\+representation(), and v8\+::internal\+::interpreter\+::\+Register\+::virtual\+\_\+accumulator().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_a4c9f897cfa0fc2da36c9ec3e0530838e_cgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_a15ff7aff31b3706d1a727bdefb96c5dd}\label{classv8_1_1internal_1_1maglev_1_1anonymous__namespace_02maglev-code-generator_8cc_03_1_1ExceptionHandlerTrampolineBuilder_a15ff7aff31b3706d1a727bdefb96c5dd}} 
\index{v8::internal::maglev::anonymous\_namespace\lcurly{}maglev-\/code-\/generator.cc\rcurly{}::ExceptionHandlerTrampolineBuilder@{v8::internal::maglev::anonymous\_namespace\lcurly{}maglev-\/code-\/generator.cc\rcurly{}::ExceptionHandlerTrampolineBuilder}!masm\_@{masm\_}}
\index{masm\_@{masm\_}!v8::internal::maglev::anonymous\_namespace\lcurly{}maglev-\/code-\/generator.cc\rcurly{}::ExceptionHandlerTrampolineBuilder@{v8::internal::maglev::anonymous\_namespace\lcurly{}maglev-\/code-\/generator.cc\rcurly{}::ExceptionHandlerTrampolineBuilder}}
\doxysubsubsection{\texorpdfstring{masm\_}{masm\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1maglev_1_1MaglevAssembler}{Maglev\+Assembler}}$\ast$ const v8\+::internal\+::maglev\+::anonymous\+\_\+namespace\{maglev-\/\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/generator.\+cc\}\+::Exception\+Handler\+Trampoline\+Builder\+::masm\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 707 of file maglev-\/code-\/generator.\+cc.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/maglev/\mbox{\hyperlink{maglev-code-generator_8cc}{maglev-\/code-\/generator.\+cc}}\end{DoxyCompactItemize}
