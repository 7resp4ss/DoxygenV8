\hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl}{}\doxysection{v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.cc\}\+::Compilation\+State\+Impl Class Reference}
\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl}\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}


Collaboration diagram for v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.cc\}\+::Compilation\+State\+Impl\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_1_1PublishState}{Publish\+State}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a4ed36715f9c0623f94e39fdb85d1b8dc}{Cancellation\+Policy}} \{ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a4ed36715f9c0623f94e39fdb85d1b8dca4b9ffae1a69c29d758cabd6015d65c21}{k\+Cancel\+Unconditionally}}
, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a4ed36715f9c0623f94e39fdb85d1b8dca56d6183964d232e8e20d243ae101bae3}{k\+Cancel\+Initial\+Compilation}}
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a4ec958a8992fd6f73195af7749c695ea}{Compilation\+State\+Impl}} (const std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule}{Native\+Module}} $>$ \&native\+\_\+module, std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Counters}{Counters}} $>$ async\+\_\+counters, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmDetectedFeatures}{Wasm\+Detected\+Features}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a46f742b041803cde875c307e3021be18}{detected\+\_\+features}})
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab766f332e04fe1ee004315c298624fb7}{$\sim$\+Compilation\+State\+Impl}} ()
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a027613078d5bd38a4971700e68b6a20d}{Init\+Compile\+Job}} ()
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a8ab550a27ff66014d823f06de54082e8}{Cancel\+Compilation}} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a4ed36715f9c0623f94e39fdb85d1b8dc}{Cancellation\+Policy}})
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a6e8ed1af01ad199828413d1c9f4bacbb}{cancelled}} () const
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a85ad2d14130ce9699d36bd8d9fe02333}{Apply\+Compilation\+Hint\+To\+Initial\+Progress}} (const \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmCompilationHint}{Wasm\+Compilation\+Hint}} \&hint, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} hint\+\_\+idx)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_aabe8418b13e7c57d1415541cb0574eb6}{Apply\+Pgo\+Info\+To\+Initial\+Progress}} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1ProfileInformation}{Profile\+Information}} $\ast$pgo\+\_\+info)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_aec07f03c5728ff18989f7f7714b30ea7}{Apply\+Pgo\+Info\+Late}} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1ProfileInformation}{Profile\+Information}} $\ast$pgo\+\_\+info)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a06926c1b78473627fab3d1409a0916c6}{Initialize\+Compilation\+Progress}} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1ProfileInformation}{Profile\+Information}} $\ast$pgo\+\_\+info)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_afcd9da62d1edbb0e854d525370766659}{Initialize\+Compilation\+Progress\+After\+Deserialization}} (\mbox{\hyperlink{classv8_1_1base_1_1Vector}{base\+::\+Vector}}$<$ const \mbox{\hyperlink{classint}{int}} $>$ lazy\+\_\+functions, \mbox{\hyperlink{classv8_1_1base_1_1Vector}{base\+::\+Vector}}$<$ const \mbox{\hyperlink{classint}{int}} $>$ eager\+\_\+functions)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ac57fa6c76918532a01b6d1028b948fb1}{Initialize\+Compilation\+Units}} (std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitBuilder}{Compilation\+Unit\+Builder}} $>$ builder)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab0af1dcf85378fb072a892b87ed4ac15}{Initialize\+Compilation\+Unit\+For\+Single\+Function}} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitBuilder}{Compilation\+Unit\+Builder}} $\ast$builder, \mbox{\hyperlink{classint}{int}} func\+\_\+index)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ae69af533e833f888b6c141e97058a96d}{Add\+Callback}} (std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1CompilationEventCallback}{Compilation\+Event\+Callback}} $>$ callback)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_af474d59648037e58456a4564d5345fe5}{Commit\+Compilation\+Units}} (\mbox{\hyperlink{classv8_1_1base_1_1Vector}{base\+::\+Vector}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCompilationUnit}{Wasm\+Compilation\+Unit}} $>$ baseline\+\_\+units, \mbox{\hyperlink{classv8_1_1base_1_1Vector}{base\+::\+Vector}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCompilationUnit}{Wasm\+Compilation\+Unit}} $>$ top\+\_\+tier\+\_\+units)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a5c78c0ef4fe93265afd37c1c6efe5792}{Commit\+Top\+Tier\+Compilation\+Unit}} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCompilationUnit}{Wasm\+Compilation\+Unit}})
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a50f1bd3b41156eaf80d7e833a95f5bce}{Add\+Top\+Tier\+Priority\+Compilation\+Unit}} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCompilationUnit}{Wasm\+Compilation\+Unit}}, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}})
\item 
\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitQueues_1_1Queue}{Compilation\+Unit\+Queues\+::\+Queue}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a7bd4a3ad05fde241ad2e33e12ca1275d}{Get\+Queue\+For\+Compile\+Task}} (\mbox{\hyperlink{classint}{int}} task\+\_\+id)
\item 
std\+::optional$<$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCompilationUnit}{Wasm\+Compilation\+Unit}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a4691d2bab412c73443a96c25fa8bc94b}{Get\+Next\+Compilation\+Unit}} (\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitQueues_1_1Queue}{Compilation\+Unit\+Queues\+::\+Queue}} $\ast$, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_aef575f4d4842a6dcdb81b8c172df9eb5}{Compilation\+Tier}} \mbox{\hyperlink{flag-definitions_8h_a878783ad616ead06040f7d4b080f6a02}{tier}})
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a0a03590d60fc6923649c15307fc00dfd}{On\+Finished\+Units}} (\mbox{\hyperlink{classv8_1_1base_1_1Vector}{base\+::\+Vector}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCode}{Wasm\+Code}} $\ast$ $>$)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_adf989d360ca6f9f18f40ba6ed28c76b0}{On\+Compilation\+Stopped}} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmDetectedFeatures}{Wasm\+Detected\+Features}} detected)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a31071aac7bfc7dfb7923f3376d78376b}{Schedule\+Publish\+Compilation\+Results}} (std\+::vector$<$ \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1UnpublishedWasmCode}{Unpublished\+Wasm\+Code}} $>$ unpublished\+\_\+code, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_aef575f4d4842a6dcdb81b8c172df9eb5}{Compilation\+Tier}} \mbox{\hyperlink{flag-definitions_8h_a878783ad616ead06040f7d4b080f6a02}{tier}})
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmDetectedFeatures}{Wasm\+Detected\+Features}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a46f742b041803cde875c307e3021be18}{detected\+\_\+features}} () const
\item 
\mbox{\hyperlink{v8config_8h_a63258e4bf5dc9fb8c78f881c8405d83b}{V8\+\_\+\+WARN\+\_\+\+UNUSED\+\_\+\+RESULT}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmDetectedFeatures}{Wasm\+Detected\+Features}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ae307e43873e6a925477fefac9dcef545}{Update\+Detected\+Features}} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmDetectedFeatures}{Wasm\+Detected\+Features}})
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_acbf680841025a81ae543c133173e87a2}{Num\+Outstanding\+Compilations}} (\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_aef575f4d4842a6dcdb81b8c172df9eb5}{Compilation\+Tier}} \mbox{\hyperlink{flag-definitions_8h_a878783ad616ead06040f7d4b080f6a02}{tier}}) const
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a28b47f0cb3321f0107f1a57b0b7edf0d}{Set\+Error}} ()
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_aaf65fb2f96cb75ae477b7b62b8aecb90}{Wait\+For\+Compilation\+Event}} (\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a020d8fcab0133f11030d7b8ef6259e29}{Compilation\+Event}} event)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a2321adabbd69bbd58643f3fcd00177bd}{Tier\+Up\+All\+Functions}} ()
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a4d6c6ba4a5b1ef655d9a77edb45d44a3}{Allow\+Another\+Top\+Tier\+Job}} (uint32\+\_\+t func\+\_\+index)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_aa518d97e029098e65c98341c966ded5a}{Allow\+Another\+Top\+Tier\+Job\+For\+All\+Functions}} ()
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a8c6110baae5557a7b1bea2a035bf4cf2}{failed}} () const
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a4471b1fe3aff990009d8c703160a9940}{baseline\+\_\+compilation\+\_\+finished}} () const
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1Counters}{Counters}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_aeb68dfdbcf7afb114fbfe377cb9d16d7}{counters}} () const
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a68db7bbe283a6280631da539f03ff3be}{Set\+Wire\+Bytes\+Storage}} (std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WireBytesStorage}{Wire\+Bytes\+Storage}} $>$ wire\+\_\+bytes\+\_\+storage)
\item 
std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WireBytesStorage}{Wire\+Bytes\+Storage}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a928d8dccea38ced17d01c739eadd64e7}{Get\+Wire\+Bytes\+Storage}} () const
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a5691daef0ad1f616287b1bf605e6ed19}{set\+\_\+compilation\+\_\+id}} (\mbox{\hyperlink{classint}{int}} compilation\+\_\+id)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a7ad6d8bbbac037e5f81f23aebaaf884b}{Estimate\+Current\+Memory\+Consumption}} () const
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a2c5396b3ed7bfce2157b37923b77ffee}{Trigger\+Caching\+After\+Timeout}} ()
\item 
std\+::vector$<$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCode}{Wasm\+Code}} $\ast$ $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_afc9ff843b7f51b2e035c286168390f2e}{Publish\+Code}} (\mbox{\hyperlink{classv8_1_1base_1_1Vector}{base\+::\+Vector}}$<$ \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1UnpublishedWasmCode}{Unpublished\+Wasm\+Code}} $>$ codes)
\end{DoxyCompactItemize}
\doxysubsection*{Private Types}
\begin{DoxyCompactItemize}
\item 
using \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a2cd4c74b5bc3faf8968fd7603eff52e7}{Required\+Baseline\+Tier\+Field}} = \mbox{\hyperlink{namespacev8_1_1base_a577e2fdb1738e8cb6ccc0bc7a8eeee57}{base\+::\+Bit\+Field8}}$<$ \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9}{Execution\+Tier}}, 0, 2 $>$
\item 
using \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a9dcfbabd7b07ae422d2f21abb40b548e}{Required\+Top\+Tier\+Field}} = \mbox{\hyperlink{namespacev8_1_1base_a577e2fdb1738e8cb6ccc0bc7a8eeee57}{base\+::\+Bit\+Field8}}$<$ \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9}{Execution\+Tier}}, 2, 2 $>$
\item 
using \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a6829cec0a2c47895e3395b37985d7958}{Reached\+Tier\+Field}} = \mbox{\hyperlink{namespacev8_1_1base_a577e2fdb1738e8cb6ccc0bc7a8eeee57}{base\+::\+Bit\+Field8}}$<$ \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9}{Execution\+Tier}}, 4, 2 $>$
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a875b97140d7a45a4148a0fb1a248e42b}{Trigger\+Outstanding\+Callbacks}} ()
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a9c6ad44bd5a7aaefd4190c42ff0f3ea0}{Trigger\+Callbacks}} (\mbox{\hyperlink{classv8_1_1base_1_1EnumSet}{base\+::\+Enum\+Set}}$<$ \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a020d8fcab0133f11030d7b8ef6259e29}{Compilation\+Event}} $>$)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a811a5626f8ecd18c98ed09241c442de5}{Publish\+Compilation\+Results}} (std\+::vector$<$ \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1UnpublishedWasmCode}{Unpublished\+Wasm\+Code}} $>$ unpublished\+\_\+code)
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule}{Native\+Module}} $\ast$const \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab7f1169e5324c750facf09b9f5fbad94}{native\+\_\+module\+\_\+}}
\item 
std\+::weak\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule}{Native\+Module}} $>$ const \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a01d1dc67992204402a64b064c6aece4d}{native\+\_\+module\+\_\+weak\+\_\+}}
\item 
const std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Counters}{Counters}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ad0de5a795e5ca3ea15b6dc64672f9fdb}{async\+\_\+counters\+\_\+}}
\item 
std\+::atomic$<$ \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a1c2df4934d4b851409d16a00d569d33e}{compile\+\_\+failed\+\_\+}} \{\mbox{\hyperlink{flag-definitions_8h_a3a9beadc89284d3f78a7d4945b1b4d8c}{false}}\}
\item 
std\+::atomic$<$ \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ac7c4f6efcf3aafb8f51b8a77da48410b}{compile\+\_\+cancelled\+\_\+}} \{\mbox{\hyperlink{flag-definitions_8h_a3a9beadc89284d3f78a7d4945b1b4d8c}{false}}\}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitQueues}{Compilation\+Unit\+Queues}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab616d619108985decfe0d7f7ce17fcc6}{compilation\+\_\+unit\+\_\+queues\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1base_1_1Mutex}{base\+::\+Mutex}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a9b824ee2bd19df1806a89e4d74a697da}{mutex\+\_\+}}
\item 
std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1JobHandle}{Job\+Handle}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a40e79d0e08ce2b9ec620f2492d883b2e}{baseline\+\_\+compile\+\_\+job\+\_\+}}
\item 
std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1JobHandle}{Job\+Handle}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a7167a723ca63724303768ed3d1b0736d}{top\+\_\+tier\+\_\+compile\+\_\+job\+\_\+}}
\item 
\mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_abba3d6e3f1705511c75747b22d3f05ec}{compilation\+\_\+id\+\_\+}} = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a32bf0a519ec58a3c7c7444eeef340e5a}{k\+Invalid\+Compilation\+ID}}
\item 
std\+::atomic$<$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmDetectedFeatures}{Wasm\+Detected\+Features}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a9a3e39ad3a707e8d6dfc2feab40f034a}{detected\+\_\+features\+\_\+}}
\item 
std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WireBytesStorage}{Wire\+Bytes\+Storage}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a88bbd14f5345baf9dea935d9f1b6de94}{wire\+\_\+bytes\+\_\+storage\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1base_1_1Mutex}{base\+::\+Mutex}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a765312328515d177ce5825f083c9b759}{callbacks\+\_\+mutex\+\_\+}}
\item 
std\+::vector$<$ std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1CompilationEventCallback}{Compilation\+Event\+Callback}} $>$ $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a3ca161fb12e541db32b60d80eb4b1e90}{callbacks\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1base_1_1EnumSet}{base\+::\+Enum\+Set}}$<$ \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a020d8fcab0133f11030d7b8ef6259e29}{Compilation\+Event}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ada63ef52e4d0b472d4194a3a6aec02e7}{finished\+\_\+events\+\_\+}}
\item 
\mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a8961a8c084b70ecbdb9dfe082929b2bb}{outstanding\+\_\+baseline\+\_\+units\+\_\+}} = 0
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a0f9620bca55b357d90dba566d87043b1}{bytes\+\_\+since\+\_\+last\+\_\+chunk\+\_\+}} = 0
\item 
\mbox{\hyperlink{classv8_1_1base_1_1OwnedVector}{base\+::\+Owned\+Vector}}$<$ uint8\+\_\+t $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a0ff6ff765770fe090dc00572f0e64272}{compilation\+\_\+progress\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1base_1_1TimeTicks}{base\+::\+Time\+Ticks}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a9d575e5064d78171ea8245113351208a}{last\+\_\+top\+\_\+tier\+\_\+compilation\+\_\+timestamp\+\_\+}}
\item 
\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_1_1PublishState}{Publish\+State}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a022eb4137f9bae86d68fe9792fda8042}{publish\+\_\+state\+\_\+}} \mbox{[}Compilation\+Tier\+::k\+Num\+Tiers\mbox{]}
\end{DoxyCompactItemize}
\doxysubsection*{Static Private Attributes}
\begin{DoxyCompactItemize}
\item 
static constexpr \mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a32bf0a519ec58a3c7c7444eeef340e5a}{k\+Invalid\+Compilation\+ID}} = -\/1
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 568 of file module-\/compiler.\+cc.



\doxysubsection{Member Typedef Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a6829cec0a2c47895e3395b37985d7958}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a6829cec0a2c47895e3395b37985d7958}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!ReachedTierField@{ReachedTierField}}
\index{ReachedTierField@{ReachedTierField}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{ReachedTierField}{ReachedTierField}}
{\footnotesize\ttfamily using v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a6829cec0a2c47895e3395b37985d7958}{Compilation\+State\+Impl\+::\+Reached\+Tier\+Field}} =  \mbox{\hyperlink{namespacev8_1_1base_a577e2fdb1738e8cb6ccc0bc7a8eeee57}{base\+::\+Bit\+Field8}}$<$\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9}{Execution\+Tier}}, 4, 2$>$\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 831 of file module-\/compiler.\+cc.

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a2cd4c74b5bc3faf8968fd7603eff52e7}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a2cd4c74b5bc3faf8968fd7603eff52e7}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!RequiredBaselineTierField@{RequiredBaselineTierField}}
\index{RequiredBaselineTierField@{RequiredBaselineTierField}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{RequiredBaselineTierField}{RequiredBaselineTierField}}
{\footnotesize\ttfamily using v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a2cd4c74b5bc3faf8968fd7603eff52e7}{Compilation\+State\+Impl\+::\+Required\+Baseline\+Tier\+Field}} =  \mbox{\hyperlink{namespacev8_1_1base_a577e2fdb1738e8cb6ccc0bc7a8eeee57}{base\+::\+Bit\+Field8}}$<$\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9}{Execution\+Tier}}, 0, 2$>$\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 829 of file module-\/compiler.\+cc.

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a9dcfbabd7b07ae422d2f21abb40b548e}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a9dcfbabd7b07ae422d2f21abb40b548e}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!RequiredTopTierField@{RequiredTopTierField}}
\index{RequiredTopTierField@{RequiredTopTierField}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{RequiredTopTierField}{RequiredTopTierField}}
{\footnotesize\ttfamily using v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a9dcfbabd7b07ae422d2f21abb40b548e}{Compilation\+State\+Impl\+::\+Required\+Top\+Tier\+Field}} =  \mbox{\hyperlink{namespacev8_1_1base_a577e2fdb1738e8cb6ccc0bc7a8eeee57}{base\+::\+Bit\+Field8}}$<$\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9}{Execution\+Tier}}, 2, 2$>$\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 830 of file module-\/compiler.\+cc.



\doxysubsection{Member Enumeration Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a4ed36715f9c0623f94e39fdb85d1b8dc}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a4ed36715f9c0623f94e39fdb85d1b8dc}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!CancellationPolicy@{CancellationPolicy}}
\index{CancellationPolicy@{CancellationPolicy}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{CancellationPolicy}{CancellationPolicy}}
{\footnotesize\ttfamily enum v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a4ed36715f9c0623f94e39fdb85d1b8dc}{Compilation\+State\+Impl\+::\+Cancellation\+Policy}}}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{kCancelUnconditionally@{kCancelUnconditionally}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!kCancelUnconditionally@{kCancelUnconditionally}}}\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a4ed36715f9c0623f94e39fdb85d1b8dca4b9ffae1a69c29d758cabd6015d65c21}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a4ed36715f9c0623f94e39fdb85d1b8dca4b9ffae1a69c29d758cabd6015d65c21}} 
k\+Cancel\+Unconditionally&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{kCancelInitialCompilation@{kCancelInitialCompilation}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!kCancelInitialCompilation@{kCancelInitialCompilation}}}\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a4ed36715f9c0623f94e39fdb85d1b8dca56d6183964d232e8e20d243ae101bae3}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a4ed36715f9c0623f94e39fdb85d1b8dca56d6183964d232e8e20d243ae101bae3}} 
k\+Cancel\+Initial\+Compilation&\\
\hline

\end{DoxyEnumFields}


Definition at line 589 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{589 \{ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a4ed36715f9c0623f94e39fdb85d1b8dca4b9ffae1a69c29d758cabd6015d65c21}{kCancelUnconditionally}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a4ed36715f9c0623f94e39fdb85d1b8dca56d6183964d232e8e20d243ae101bae3}{kCancelInitialCompilation}} \};}

\end{DoxyCode}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a4ec958a8992fd6f73195af7749c695ea}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a4ec958a8992fd6f73195af7749c695ea}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!CompilationStateImpl@{CompilationStateImpl}}
\index{CompilationStateImpl@{CompilationStateImpl}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{CompilationStateImpl()}{CompilationStateImpl()}}
{\footnotesize\ttfamily v8\+::internal\+::wasm\+::\+Compilation\+State\+Impl\+::\+Compilation\+State\+Impl (\begin{DoxyParamCaption}\item[{const std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule}{Native\+Module}} $>$ \&}]{native\+\_\+module,  }\item[{std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Counters}{Counters}} $>$}]{async\+\_\+counters,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmDetectedFeatures}{Wasm\+Detected\+Features}}}]{detected\+\_\+features }\end{DoxyParamCaption})}



Definition at line 3564 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3568     : \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab7f1169e5324c750facf09b9f5fbad94}{native\_module\_}}(native\_module.get()),}
\DoxyCodeLine{3569       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a01d1dc67992204402a64b064c6aece4d}{native\_module\_weak\_}}(std::move(native\_module)),}
\DoxyCodeLine{3570       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ad0de5a795e5ca3ea15b6dc64672f9fdb}{async\_counters\_}}(std::move(async\_counters)),}
\DoxyCodeLine{3571       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab616d619108985decfe0d7f7ce17fcc6}{compilation\_unit\_queues\_}}(native\_module-\/>num\_imported\_functions(),}
\DoxyCodeLine{3572                                native\_module-\/>num\_declared\_functions()),}
\DoxyCodeLine{3573       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a9a3e39ad3a707e8d6dfc2feab40f034a}{detected\_features\_}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a46f742b041803cde875c307e3021be18}{detected\_features}}) \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab766f332e04fe1ee004315c298624fb7}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab766f332e04fe1ee004315c298624fb7}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!````~CompilationStateImpl@{$\sim$CompilationStateImpl}}
\index{````~CompilationStateImpl@{$\sim$CompilationStateImpl}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{$\sim$CompilationStateImpl()}{~CompilationStateImpl()}}
{\footnotesize\ttfamily v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::Compilation\+State\+Impl\+::$\sim$\+Compilation\+State\+Impl (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 573 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{573                           \{}
\DoxyCodeLine{574     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a40e79d0e08ce2b9ec620f2492d883b2e}{baseline\_compile\_job\_}}-\/>IsValid()) \{}
\DoxyCodeLine{575       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a40e79d0e08ce2b9ec620f2492d883b2e}{baseline\_compile\_job\_}}-\/>CancelAndDetach();}
\DoxyCodeLine{576     \}}
\DoxyCodeLine{577     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a7167a723ca63724303768ed3d1b0736d}{top\_tier\_compile\_job\_}}-\/>IsValid()) \{}
\DoxyCodeLine{578       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a7167a723ca63724303768ed3d1b0736d}{top\_tier\_compile\_job\_}}-\/>CancelAndDetach();}
\DoxyCodeLine{579     \}}
\DoxyCodeLine{580   \}}

\end{DoxyCode}


Referenced by v8\+::internal\+::wasm\+::\+Compilation\+State\+::$\sim$\+Compilation\+State().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab766f332e04fe1ee004315c298624fb7_icgraph}
\end{center}
\end{figure}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ae69af533e833f888b6c141e97058a96d}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ae69af533e833f888b6c141e97058a96d}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!AddCallback@{AddCallback}}
\index{AddCallback@{AddCallback}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{AddCallback()}{AddCallback()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Compilation\+State\+Impl\+::\+Add\+Callback (\begin{DoxyParamCaption}\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1CompilationEventCallback}{Compilation\+Event\+Callback}} $>$}]{callback }\end{DoxyParamCaption})}



Definition at line 3937 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3938                                                       \{}
\DoxyCodeLine{3939   \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{base::MutexGuard}} callbacks\_guard(\&\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a765312328515d177ce5825f083c9b759}{callbacks\_mutex\_}});}
\DoxyCodeLine{3940   \textcolor{comment}{// Immediately trigger events that already happened.}}
\DoxyCodeLine{3941   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} event : \{\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a020d8fcab0133f11030d7b8ef6259e29a41b18f40e8022b599bc6360f216daba4}{CompilationEvent::kFinishedBaselineCompilation}},}
\DoxyCodeLine{3942                      \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a020d8fcab0133f11030d7b8ef6259e29af90d51f0b738cedabb652e72ffd7b8ed}{CompilationEvent::kFailedCompilation}}\}) \{}
\DoxyCodeLine{3943     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ada63ef52e4d0b472d4194a3a6aec02e7}{finished\_events\_}}.\mbox{\hyperlink{classv8_1_1base_1_1EnumSet_ae4b456a7bb23f2a76c4526748fcc911a}{contains}}(event)) \{}
\DoxyCodeLine{3944       callback-\/>call(event);}
\DoxyCodeLine{3945     \}}
\DoxyCodeLine{3946   \}}
\DoxyCodeLine{3947   constexpr base::EnumSet<CompilationEvent> kFinalEvents\{}
\DoxyCodeLine{3948       \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a020d8fcab0133f11030d7b8ef6259e29af90d51f0b738cedabb652e72ffd7b8ed}{CompilationEvent::kFailedCompilation}}\};}
\DoxyCodeLine{3949   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ada63ef52e4d0b472d4194a3a6aec02e7}{finished\_events\_}}.\mbox{\hyperlink{classv8_1_1base_1_1EnumSet_acdcea1dcfc64156b624c2f674654fc93}{contains\_any}}(kFinalEvents)) \{}
\DoxyCodeLine{3950     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a3ca161fb12e541db32b60d80eb4b1e90}{callbacks\_}}.emplace\_back(std::move(callback));}
\DoxyCodeLine{3951   \}}
\DoxyCodeLine{3952 \}}

\end{DoxyCode}


References callbacks\+\_\+, callbacks\+\_\+mutex\+\_\+, v8\+::base\+::\+Enum\+Set$<$ E, T $>$\+::contains(), v8\+::base\+::\+Enum\+Set$<$ E, T $>$\+::contains\+\_\+any(), finished\+\_\+events\+\_\+, v8\+::internal\+::wasm\+::k\+Failed\+Compilation, and v8\+::internal\+::wasm\+::k\+Finished\+Baseline\+Compilation.



Referenced by v8\+::internal\+::wasm\+::\+Compilation\+State\+::\+Add\+Callback().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ae69af533e833f888b6c141e97058a96d_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ae69af533e833f888b6c141e97058a96d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a50f1bd3b41156eaf80d7e833a95f5bce}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a50f1bd3b41156eaf80d7e833a95f5bce}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!AddTopTierPriorityCompilationUnit@{AddTopTierPriorityCompilationUnit}}
\index{AddTopTierPriorityCompilationUnit@{AddTopTierPriorityCompilationUnit}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{AddTopTierPriorityCompilationUnit()}{AddTopTierPriorityCompilationUnit()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Compilation\+State\+Impl\+::\+Add\+Top\+Tier\+Priority\+Compilation\+Unit (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCompilationUnit}{Wasm\+Compilation\+Unit}}}]{unit,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{priority }\end{DoxyParamCaption})}



Definition at line 3977 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3978                                                \{}
\DoxyCodeLine{3979   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab616d619108985decfe0d7f7ce17fcc6}{compilation\_unit\_queues\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitQueues_a91aaa8c461c03f44c2d900f81526d1d4}{AddTopTierPriorityUnit}}(unit, priority);}
\DoxyCodeLine{3980   \textcolor{comment}{// We should not have a \{CodeSpaceWriteScope\} open at this point, as}}
\DoxyCodeLine{3981   \textcolor{comment}{// \{NotifyConcurrencyIncrease\} can spawn new threads which could inherit PKU}}
\DoxyCodeLine{3982   \textcolor{comment}{// permissions (which would be a security issue).}}
\DoxyCodeLine{3983   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a7167a723ca63724303768ed3d1b0736d}{top\_tier\_compile\_job\_}}-\/>NotifyConcurrencyIncrease();}
\DoxyCodeLine{3984 \}}

\end{DoxyCode}


References v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::\+Compilation\+Unit\+Queues\+::\+Add\+Top\+Tier\+Priority\+Unit(), compilation\+\_\+unit\+\_\+queues\+\_\+, and top\+\_\+tier\+\_\+compile\+\_\+job\+\_\+.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a50f1bd3b41156eaf80d7e833a95f5bce_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a4d6c6ba4a5b1ef655d9a77edb45d44a3}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a4d6c6ba4a5b1ef655d9a77edb45d44a3}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!AllowAnotherTopTierJob@{AllowAnotherTopTierJob}}
\index{AllowAnotherTopTierJob@{AllowAnotherTopTierJob}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{AllowAnotherTopTierJob()}{AllowAnotherTopTierJob()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::Compilation\+State\+Impl\+::\+Allow\+Another\+Top\+Tier\+Job (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{func\+\_\+index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 666 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{666                                                    \{}
\DoxyCodeLine{667     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab616d619108985decfe0d7f7ce17fcc6}{compilation\_unit\_queues\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitQueues_ac5cf3ece9a08ba65c92468996df796f6}{AllowAnotherTopTierJob}}(func\_index);}
\DoxyCodeLine{668     \textcolor{comment}{// Reset the stored priority; otherwise triggers might be ignored if the}}
\DoxyCodeLine{669     \textcolor{comment}{// priority is not bumped to the next power of two.}}
\DoxyCodeLine{670     TypeFeedbackStorage* feedback = \&\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab7f1169e5324c750facf09b9f5fbad94}{native\_module\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule_a04f2f50aa9d1cbc1dc28e60dbe687f74}{module}}()-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_aceb39daaf893b7024baceccf7571a97d}{type\_feedback}};}
\DoxyCodeLine{671     \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{base::MutexGuard}} mutex\_guard(\&feedback-\/>mutex);}
\DoxyCodeLine{672     feedback-\/>feedback\_for\_function[func\_index].tierup\_priority = 0;}
\DoxyCodeLine{673   \}}

\end{DoxyCode}


References v8\+::internal\+::wasm\+::\+Type\+Feedback\+Storage\+::feedback\+\_\+for\+\_\+function, and v8\+::internal\+::wasm\+::\+Type\+Feedback\+Storage\+::mutex.



Referenced by v8\+::internal\+::wasm\+::\+Compilation\+State\+::\+Allow\+Another\+Top\+Tier\+Job().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a4d6c6ba4a5b1ef655d9a77edb45d44a3_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_aa518d97e029098e65c98341c966ded5a}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_aa518d97e029098e65c98341c966ded5a}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!AllowAnotherTopTierJobForAllFunctions@{AllowAnotherTopTierJobForAllFunctions}}
\index{AllowAnotherTopTierJobForAllFunctions@{AllowAnotherTopTierJobForAllFunctions}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{AllowAnotherTopTierJobForAllFunctions()}{AllowAnotherTopTierJobForAllFunctions()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::Compilation\+State\+Impl\+::\+Allow\+Another\+Top\+Tier\+Job\+For\+All\+Functions (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 675 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{675                                                \{}
\DoxyCodeLine{676     \textcolor{keyword}{const} \mbox{\hyperlink{namespacev8_1_1internal_a09dbf9baefb793fd78912d6ef89f9dde}{WasmModule}}* module = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab7f1169e5324c750facf09b9f5fbad94}{native\_module\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule_a04f2f50aa9d1cbc1dc28e60dbe687f74}{module}}();}
\DoxyCodeLine{677     uint32\_t fn\_start = module-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a81b4b2b056e744758f875acafe4c909a}{num\_imported\_functions}};}
\DoxyCodeLine{678     uint32\_t fn\_end = fn\_start + module-\/>num\_declared\_functions;}
\DoxyCodeLine{679     \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{base::MutexGuard}} mutex\_guard(\&module-\/>type\_feedback.mutex);}
\DoxyCodeLine{680     std::unordered\_map<uint32\_t, FunctionTypeFeedback>\& feedback\_map =}
\DoxyCodeLine{681         module-\/>type\_feedback.feedback\_for\_function;}
\DoxyCodeLine{682     \textcolor{keywordflow}{for} (uint32\_t \mbox{\hyperlink{namespacev8_1_1internal}{i}} = fn\_start; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < fn\_end; \mbox{\hyperlink{namespacev8_1_1internal}{i}}++) \{}
\DoxyCodeLine{683       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab616d619108985decfe0d7f7ce17fcc6}{compilation\_unit\_queues\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitQueues_ac5cf3ece9a08ba65c92468996df796f6}{AllowAnotherTopTierJob}}(\mbox{\hyperlink{namespacev8_1_1internal}{i}});}
\DoxyCodeLine{684       \textcolor{comment}{// Reset the stored priority; otherwise triggers might be ignored if the}}
\DoxyCodeLine{685       \textcolor{comment}{// priority is not bumped to the next power of two.}}
\DoxyCodeLine{686       \textcolor{keywordflow}{if} (\textcolor{keyword}{auto} it = feedback\_map.find(\mbox{\hyperlink{namespacev8_1_1internal}{i}}); it != feedback\_map.end()) \{}
\DoxyCodeLine{687         it-\/>second.tierup\_priority = 0;}
\DoxyCodeLine{688       \}}
\DoxyCodeLine{689     \}}
\DoxyCodeLine{690   \}}

\end{DoxyCode}


References v8\+::internal\+::wasm\+::\+Type\+Feedback\+Storage\+::feedback\+\_\+for\+\_\+function, v8\+::internal\+::wasm\+::\+Type\+Feedback\+Storage\+::mutex, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::num\+\_\+declared\+\_\+functions, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::num\+\_\+imported\+\_\+functions, and v8\+::internal\+::wasm\+::\+Wasm\+Module\+::type\+\_\+feedback.



Referenced by v8\+::internal\+::wasm\+::\+Compilation\+State\+::\+Allow\+Another\+Top\+Tier\+Job\+For\+All\+Functions().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_aa518d97e029098e65c98341c966ded5a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a85ad2d14130ce9699d36bd8d9fe02333}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a85ad2d14130ce9699d36bd8d9fe02333}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!ApplyCompilationHintToInitialProgress@{ApplyCompilationHintToInitialProgress}}
\index{ApplyCompilationHintToInitialProgress@{ApplyCompilationHintToInitialProgress}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{ApplyCompilationHintToInitialProgress()}{ApplyCompilationHintToInitialProgress()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Compilation\+State\+Impl\+::\+Apply\+Compilation\+Hint\+To\+Initial\+Progress (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmCompilationHint}{Wasm\+Compilation\+Hint}} \&}]{hint,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{hint\+\_\+idx }\end{DoxyParamCaption})}



Definition at line 3613 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3614                                                       \{}
\DoxyCodeLine{3615   \textcolor{comment}{// Get old information.}}
\DoxyCodeLine{3616   uint8\_t\& progress = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a0ff6ff765770fe090dc00572f0e64272}{compilation\_progress\_}}[hint\_idx];}
\DoxyCodeLine{3617   \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9}{ExecutionTier}} old\_baseline\_tier = \mbox{\hyperlink{classv8_1_1base_1_1BitField_a554df4b9ae5f0dc36b4d092bfc2e004b}{RequiredBaselineTierField::decode}}(progress);}
\DoxyCodeLine{3618   \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9}{ExecutionTier}} old\_top\_tier = \mbox{\hyperlink{classv8_1_1base_1_1BitField_a554df4b9ae5f0dc36b4d092bfc2e004b}{RequiredTopTierField::decode}}(progress);}
\DoxyCodeLine{3619 }
\DoxyCodeLine{3620   \textcolor{comment}{// Compute new information.}}
\DoxyCodeLine{3621   \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9}{ExecutionTier}} new\_baseline\_tier =}
\DoxyCodeLine{3622       \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_a7b7f5d73feefbda427f05e9297ca8699}{ApplyHintToExecutionTier}}(hint.baseline\_tier, old\_baseline\_tier);}
\DoxyCodeLine{3623   \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9}{ExecutionTier}} new\_top\_tier =}
\DoxyCodeLine{3624       \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_a7b7f5d73feefbda427f05e9297ca8699}{ApplyHintToExecutionTier}}(hint.top\_tier, old\_top\_tier);}
\DoxyCodeLine{3625   \textcolor{keywordflow}{switch} (hint.strategy) \{}
\DoxyCodeLine{3626     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ad2b94e9a247149c2f2a19be54a08f7e1a6867faeaa475fda467e48267db2bb8a8}{WasmCompilationHintStrategy::kDefault}}:}
\DoxyCodeLine{3627       \textcolor{comment}{// Be careful not to switch from lazy to non-\/lazy.}}
\DoxyCodeLine{3628       \textcolor{keywordflow}{if} (old\_baseline\_tier == \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13}{ExecutionTier::kNone}}) \{}
\DoxyCodeLine{3629         new\_baseline\_tier = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13}{ExecutionTier::kNone}};}
\DoxyCodeLine{3630       \}}
\DoxyCodeLine{3631       \textcolor{keywordflow}{if} (old\_top\_tier == \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13}{ExecutionTier::kNone}}) \{}
\DoxyCodeLine{3632         new\_top\_tier = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13}{ExecutionTier::kNone}};}
\DoxyCodeLine{3633       \}}
\DoxyCodeLine{3634       \textcolor{keywordflow}{break};}
\DoxyCodeLine{3635     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ad2b94e9a247149c2f2a19be54a08f7e1ae3c54a7917f0c719b11db86b1dd59b0f}{WasmCompilationHintStrategy::kLazy}}:}
\DoxyCodeLine{3636       new\_baseline\_tier = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13}{ExecutionTier::kNone}};}
\DoxyCodeLine{3637       new\_top\_tier = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13}{ExecutionTier::kNone}};}
\DoxyCodeLine{3638       \textcolor{keywordflow}{break};}
\DoxyCodeLine{3639     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ad2b94e9a247149c2f2a19be54a08f7e1a1f85c8fbccc9bb4fcda482bf840bc3e2}{WasmCompilationHintStrategy::kEager}}:}
\DoxyCodeLine{3640       \textcolor{comment}{// Nothing to do, use the encoded (new) tiers.}}
\DoxyCodeLine{3641       \textcolor{keywordflow}{break};}
\DoxyCodeLine{3642     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ad2b94e9a247149c2f2a19be54a08f7e1a1fede85ba930eef5832cf35bc93cb2cb}{WasmCompilationHintStrategy::kLazyBaselineEagerTopTier}}:}
\DoxyCodeLine{3643       new\_baseline\_tier = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13}{ExecutionTier::kNone}};}
\DoxyCodeLine{3644       \textcolor{keywordflow}{break};}
\DoxyCodeLine{3645   \}}
\DoxyCodeLine{3646 }
\DoxyCodeLine{3647   \textcolor{keywordflow}{if} (new\_top\_tier == \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a3a4891ee13d971db79eeae3a6d61d151}{ExecutionTier::kLiftoff}} \&\&}
\DoxyCodeLine{3648       new\_baseline\_tier == \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31}{ExecutionTier::kTurbofan}}) \{}
\DoxyCodeLine{3649     \textcolor{comment}{// The top tier shouldn't be lower than the baseline tier (or it should be}}
\DoxyCodeLine{3650     \textcolor{comment}{// ::None).}}
\DoxyCodeLine{3651     new\_top\_tier = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31}{ExecutionTier::kTurbofan}};}
\DoxyCodeLine{3652   \}}
\DoxyCodeLine{3653 }
\DoxyCodeLine{3654   progress = \mbox{\hyperlink{classv8_1_1base_1_1BitField_aa8d61fe165b5c0b2c869be69be02b7af}{RequiredBaselineTierField::update}}(progress, new\_baseline\_tier);}
\DoxyCodeLine{3655   progress = \mbox{\hyperlink{classv8_1_1base_1_1BitField_aa8d61fe165b5c0b2c869be69be02b7af}{RequiredTopTierField::update}}(progress, new\_top\_tier);}
\DoxyCodeLine{3656 }
\DoxyCodeLine{3657   \textcolor{comment}{// Update counter for outstanding baseline units.}}
\DoxyCodeLine{3658   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a8961a8c084b70ecbdb9dfe082929b2bb}{outstanding\_baseline\_units\_}} += (new\_baseline\_tier != \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13}{ExecutionTier::kNone}}) -\/}
\DoxyCodeLine{3659                                  (old\_baseline\_tier != \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13}{ExecutionTier::kNone}});}
\DoxyCodeLine{3660 \}}

\end{DoxyCode}


References v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::\+Apply\+Hint\+To\+Execution\+Tier(), v8\+::internal\+::wasm\+::\+Wasm\+Compilation\+Hint\+::baseline\+\_\+tier, compilation\+\_\+progress\+\_\+, v8\+::base\+::\+Bit\+Field$<$ T, shift, size, U $>$\+::decode(), v8\+::internal\+::wasm\+::k\+Default, v8\+::internal\+::wasm\+::k\+Eager, v8\+::internal\+::wasm\+::k\+Lazy, v8\+::internal\+::wasm\+::k\+Lazy\+Baseline\+Eager\+Top\+Tier, v8\+::internal\+::wasm\+::k\+Liftoff, v8\+::internal\+::wasm\+::k\+None, v8\+::internal\+::wasm\+::k\+Turbofan, outstanding\+\_\+baseline\+\_\+units\+\_\+, v8\+::internal\+::wasm\+::\+Wasm\+Compilation\+Hint\+::strategy, v8\+::internal\+::wasm\+::\+Wasm\+Compilation\+Hint\+::top\+\_\+tier, and v8\+::base\+::\+Bit\+Field$<$ T, shift, size, U $>$\+::update().



Referenced by Initialize\+Compilation\+Progress().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a85ad2d14130ce9699d36bd8d9fe02333_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a85ad2d14130ce9699d36bd8d9fe02333_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_aec07f03c5728ff18989f7f7714b30ea7}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_aec07f03c5728ff18989f7f7714b30ea7}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!ApplyPgoInfoLate@{ApplyPgoInfoLate}}
\index{ApplyPgoInfoLate@{ApplyPgoInfoLate}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{ApplyPgoInfoLate()}{ApplyPgoInfoLate()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Compilation\+State\+Impl\+::\+Apply\+Pgo\+Info\+Late (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1ProfileInformation}{Profile\+Information}} $\ast$}]{pgo\+\_\+info }\end{DoxyParamCaption})}



Definition at line 3702 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3702                                                                         \{}
\DoxyCodeLine{3703   \mbox{\hyperlink{trace-event-no-perfetto_8h_a3feabb76c0ac2918798bc11ab55c6a79}{TRACE\_EVENT0}}(\textcolor{stringliteral}{"{}v8.wasm"{}}, \textcolor{stringliteral}{"{}wasm.ApplyPgoInfo"{}});}
\DoxyCodeLine{3704   \textcolor{keyword}{const} \mbox{\hyperlink{namespacev8_1_1internal_a09dbf9baefb793fd78912d6ef89f9dde}{WasmModule}}* module = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab7f1169e5324c750facf09b9f5fbad94}{native\_module\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule_a04f2f50aa9d1cbc1dc28e60dbe687f74}{module}}();}
\DoxyCodeLine{3705   CompilationUnitBuilder builder\{\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab7f1169e5324c750facf09b9f5fbad94}{native\_module\_}}\};}
\DoxyCodeLine{3706 }
\DoxyCodeLine{3707   \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{base::MutexGuard}} guard(\&\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a765312328515d177ce5825f083c9b759}{callbacks\_mutex\_}});}
\DoxyCodeLine{3708   \textcolor{comment}{// Functions that were executed in the profiling run are eagerly compiled to}}
\DoxyCodeLine{3709   \textcolor{comment}{// Liftoff (in the background).}}
\DoxyCodeLine{3710   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} func\_index : pgo\_info-\/>executed\_functions()) \{}
\DoxyCodeLine{3711     uint8\_t\& progress =}
\DoxyCodeLine{3712         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a0ff6ff765770fe090dc00572f0e64272}{compilation\_progress\_}}[\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_abd9cf6cdda997dfabf862a6048202195}{declared\_function\_index}}(module, func\_index)];}
\DoxyCodeLine{3713     \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9}{ExecutionTier}} old\_baseline\_tier =}
\DoxyCodeLine{3714         \mbox{\hyperlink{classv8_1_1base_1_1BitField_a554df4b9ae5f0dc36b4d092bfc2e004b}{RequiredBaselineTierField::decode}}(progress);}
\DoxyCodeLine{3715     \textcolor{comment}{// If the function is already marked for eager compilation, we are good.}}
\DoxyCodeLine{3716     \textcolor{keywordflow}{if} (old\_baseline\_tier != \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13}{ExecutionTier::kNone}}) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{3717 }
\DoxyCodeLine{3718     \textcolor{comment}{// If we already compiled Liftoff or TurboFan code, we are also good.}}
\DoxyCodeLine{3719     \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9}{ExecutionTier}} reached\_tier = \mbox{\hyperlink{classv8_1_1base_1_1BitField_a554df4b9ae5f0dc36b4d092bfc2e004b}{ReachedTierField::decode}}(progress);}
\DoxyCodeLine{3720     \textcolor{keywordflow}{if} (reached\_tier >= \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a3a4891ee13d971db79eeae3a6d61d151}{ExecutionTier::kLiftoff}}) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{3721 }
\DoxyCodeLine{3722     \textcolor{comment}{// Set the baseline tier to Liftoff and schedule a compilation unit.}}
\DoxyCodeLine{3723     progress =}
\DoxyCodeLine{3724         \mbox{\hyperlink{classv8_1_1base_1_1BitField_aa8d61fe165b5c0b2c869be69be02b7af}{RequiredBaselineTierField::update}}(progress, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a3a4891ee13d971db79eeae3a6d61d151}{ExecutionTier::kLiftoff}});}
\DoxyCodeLine{3725     \textcolor{comment}{// Add this as a "{}top tier unit"{} since it does not contribute to initial}}
\DoxyCodeLine{3726     \textcolor{comment}{// compilation ("{}baseline finished"{} might already be triggered).}}
\DoxyCodeLine{3727     \textcolor{comment}{// TODO(clemensb): Rename "{}baseline finished"{} to "{}initial compile finished"{}.}}
\DoxyCodeLine{3728     \textcolor{comment}{// TODO(clemensb): Avoid scheduling both a Liftoff and a TurboFan unit, or}}
\DoxyCodeLine{3729     \textcolor{comment}{// prioritize Liftoff when executing the units.}}
\DoxyCodeLine{3730     builder.AddTopTierUnit(func\_index, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a3a4891ee13d971db79eeae3a6d61d151}{ExecutionTier::kLiftoff}});}
\DoxyCodeLine{3731   \}}
\DoxyCodeLine{3732 }
\DoxyCodeLine{3733   \textcolor{comment}{// Functions that were tiered up during PGO generation are eagerly compiled to}}
\DoxyCodeLine{3734   \textcolor{comment}{// TurboFan in the background.}}
\DoxyCodeLine{3735   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} func\_index : pgo\_info-\/>tiered\_up\_functions()) \{}
\DoxyCodeLine{3736     uint8\_t\& progress =}
\DoxyCodeLine{3737         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a0ff6ff765770fe090dc00572f0e64272}{compilation\_progress\_}}[\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_abd9cf6cdda997dfabf862a6048202195}{declared\_function\_index}}(module, func\_index)];}
\DoxyCodeLine{3738     \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9}{ExecutionTier}} old\_baseline\_tier =}
\DoxyCodeLine{3739         \mbox{\hyperlink{classv8_1_1base_1_1BitField_a554df4b9ae5f0dc36b4d092bfc2e004b}{RequiredBaselineTierField::decode}}(progress);}
\DoxyCodeLine{3740     \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9}{ExecutionTier}} old\_top\_tier = \mbox{\hyperlink{classv8_1_1base_1_1BitField_a554df4b9ae5f0dc36b4d092bfc2e004b}{RequiredTopTierField::decode}}(progress);}
\DoxyCodeLine{3741     \textcolor{comment}{// If the function is already marked for eager or background compilation to}}
\DoxyCodeLine{3742     \textcolor{comment}{// TurboFan, we are good.}}
\DoxyCodeLine{3743     \textcolor{keywordflow}{if} (old\_baseline\_tier == \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31}{ExecutionTier::kTurbofan}}) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{3744     \textcolor{keywordflow}{if} (old\_top\_tier == \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31}{ExecutionTier::kTurbofan}}) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{3745 }
\DoxyCodeLine{3746     \textcolor{comment}{// If we already compiled TurboFan code, we are also good.}}
\DoxyCodeLine{3747     \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9}{ExecutionTier}} reached\_tier = \mbox{\hyperlink{classv8_1_1base_1_1BitField_a554df4b9ae5f0dc36b4d092bfc2e004b}{ReachedTierField::decode}}(progress);}
\DoxyCodeLine{3748     \textcolor{keywordflow}{if} (reached\_tier == \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31}{ExecutionTier::kTurbofan}}) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{3749 }
\DoxyCodeLine{3750     \textcolor{comment}{// Set top tier to TurboFan and schedule a compilation unit.}}
\DoxyCodeLine{3751     progress = \mbox{\hyperlink{classv8_1_1base_1_1BitField_aa8d61fe165b5c0b2c869be69be02b7af}{RequiredTopTierField::update}}(progress, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31}{ExecutionTier::kTurbofan}});}
\DoxyCodeLine{3752     builder.AddTopTierUnit(func\_index, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31}{ExecutionTier::kTurbofan}});}
\DoxyCodeLine{3753   \}}
\DoxyCodeLine{3754   builder.Commit();}
\DoxyCodeLine{3755 \}}

\end{DoxyCode}


References callbacks\+\_\+mutex\+\_\+, compilation\+\_\+progress\+\_\+, v8\+::internal\+::wasm\+::declared\+\_\+function\+\_\+index(), v8\+::base\+::\+Bit\+Field$<$ T, shift, size, U $>$\+::decode(), v8\+::internal\+::wasm\+::\+Profile\+Information\+::executed\+\_\+functions(), v8\+::internal\+::wasm\+::k\+Liftoff, v8\+::internal\+::wasm\+::k\+None, v8\+::internal\+::wasm\+::k\+Turbofan, v8\+::internal\+::wasm\+::\+Native\+Module\+::module(), native\+\_\+module\+\_\+, v8\+::internal\+::wasm\+::\+Profile\+Information\+::tiered\+\_\+up\+\_\+functions(), TRACE\+\_\+\+EVENT0, and v8\+::base\+::\+Bit\+Field$<$ T, shift, size, U $>$\+::update().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_aec07f03c5728ff18989f7f7714b30ea7_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_aabe8418b13e7c57d1415541cb0574eb6}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_aabe8418b13e7c57d1415541cb0574eb6}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!ApplyPgoInfoToInitialProgress@{ApplyPgoInfoToInitialProgress}}
\index{ApplyPgoInfoToInitialProgress@{ApplyPgoInfoToInitialProgress}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{ApplyPgoInfoToInitialProgress()}{ApplyPgoInfoToInitialProgress()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Compilation\+State\+Impl\+::\+Apply\+Pgo\+Info\+To\+Initial\+Progress (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1ProfileInformation}{Profile\+Information}} $\ast$}]{pgo\+\_\+info }\end{DoxyParamCaption})}



Definition at line 3662 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3663                                   \{}
\DoxyCodeLine{3664   \textcolor{comment}{// Functions that were executed in the profiling run are eagerly compiled to}}
\DoxyCodeLine{3665   \textcolor{comment}{// Liftoff.}}
\DoxyCodeLine{3666   \textcolor{keyword}{const} \mbox{\hyperlink{namespacev8_1_1internal_a09dbf9baefb793fd78912d6ef89f9dde}{WasmModule}}* module = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab7f1169e5324c750facf09b9f5fbad94}{native\_module\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule_a04f2f50aa9d1cbc1dc28e60dbe687f74}{module}}();}
\DoxyCodeLine{3667   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} func\_index : pgo\_info-\/>executed\_functions()) \{}
\DoxyCodeLine{3668     uint8\_t\& progress =}
\DoxyCodeLine{3669         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a0ff6ff765770fe090dc00572f0e64272}{compilation\_progress\_}}[\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_abd9cf6cdda997dfabf862a6048202195}{declared\_function\_index}}(module, func\_index)];}
\DoxyCodeLine{3670     \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9}{ExecutionTier}} old\_baseline\_tier =}
\DoxyCodeLine{3671         \mbox{\hyperlink{classv8_1_1base_1_1BitField_a554df4b9ae5f0dc36b4d092bfc2e004b}{RequiredBaselineTierField::decode}}(progress);}
\DoxyCodeLine{3672     \textcolor{comment}{// If the function is already marked for eager compilation, we are good.}}
\DoxyCodeLine{3673     \textcolor{keywordflow}{if} (old\_baseline\_tier != \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13}{ExecutionTier::kNone}}) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{3674 }
\DoxyCodeLine{3675     \textcolor{comment}{// Set the baseline tier to Liftoff, so we eagerly compile to Liftoff.}}
\DoxyCodeLine{3676     \textcolor{comment}{// TODO(13288): Compile Liftoff code in the background, if lazy compilation}}
\DoxyCodeLine{3677     \textcolor{comment}{// is enabled.}}
\DoxyCodeLine{3678     progress =}
\DoxyCodeLine{3679         \mbox{\hyperlink{classv8_1_1base_1_1BitField_aa8d61fe165b5c0b2c869be69be02b7af}{RequiredBaselineTierField::update}}(progress, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a3a4891ee13d971db79eeae3a6d61d151}{ExecutionTier::kLiftoff}});}
\DoxyCodeLine{3680     ++\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a8961a8c084b70ecbdb9dfe082929b2bb}{outstanding\_baseline\_units\_}};}
\DoxyCodeLine{3681   \}}
\DoxyCodeLine{3682 }
\DoxyCodeLine{3683   \textcolor{comment}{// Functions that were tiered up during PGO generation are eagerly compiled to}}
\DoxyCodeLine{3684   \textcolor{comment}{// TurboFan (in the background, not blocking instantiation).}}
\DoxyCodeLine{3685   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} func\_index : pgo\_info-\/>tiered\_up\_functions()) \{}
\DoxyCodeLine{3686     uint8\_t\& progress =}
\DoxyCodeLine{3687         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a0ff6ff765770fe090dc00572f0e64272}{compilation\_progress\_}}[\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_abd9cf6cdda997dfabf862a6048202195}{declared\_function\_index}}(module, func\_index)];}
\DoxyCodeLine{3688     \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9}{ExecutionTier}} old\_baseline\_tier =}
\DoxyCodeLine{3689         \mbox{\hyperlink{classv8_1_1base_1_1BitField_a554df4b9ae5f0dc36b4d092bfc2e004b}{RequiredBaselineTierField::decode}}(progress);}
\DoxyCodeLine{3690     \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9}{ExecutionTier}} old\_top\_tier = \mbox{\hyperlink{classv8_1_1base_1_1BitField_a554df4b9ae5f0dc36b4d092bfc2e004b}{RequiredTopTierField::decode}}(progress);}
\DoxyCodeLine{3691     \textcolor{comment}{// If the function is already marked for eager or background compilation to}}
\DoxyCodeLine{3692     \textcolor{comment}{// TurboFan, we are good.}}
\DoxyCodeLine{3693     \textcolor{keywordflow}{if} (old\_baseline\_tier == \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31}{ExecutionTier::kTurbofan}}) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{3694     \textcolor{keywordflow}{if} (old\_top\_tier == \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31}{ExecutionTier::kTurbofan}}) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{3695 }
\DoxyCodeLine{3696     \textcolor{comment}{// Set top tier to TurboFan, so we eagerly trigger compilation in the}}
\DoxyCodeLine{3697     \textcolor{comment}{// background.}}
\DoxyCodeLine{3698     progress = \mbox{\hyperlink{classv8_1_1base_1_1BitField_aa8d61fe165b5c0b2c869be69be02b7af}{RequiredTopTierField::update}}(progress, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31}{ExecutionTier::kTurbofan}});}
\DoxyCodeLine{3699   \}}
\DoxyCodeLine{3700 \}}

\end{DoxyCode}


References compilation\+\_\+progress\+\_\+, v8\+::internal\+::wasm\+::declared\+\_\+function\+\_\+index(), v8\+::base\+::\+Bit\+Field$<$ T, shift, size, U $>$\+::decode(), v8\+::internal\+::wasm\+::\+Profile\+Information\+::executed\+\_\+functions(), v8\+::internal\+::wasm\+::k\+Liftoff, v8\+::internal\+::wasm\+::k\+None, v8\+::internal\+::wasm\+::k\+Turbofan, v8\+::internal\+::wasm\+::\+Native\+Module\+::module(), native\+\_\+module\+\_\+, outstanding\+\_\+baseline\+\_\+units\+\_\+, v8\+::internal\+::wasm\+::\+Profile\+Information\+::tiered\+\_\+up\+\_\+functions(), and v8\+::base\+::\+Bit\+Field$<$ T, shift, size, U $>$\+::update().



Referenced by Initialize\+Compilation\+Progress().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_aabe8418b13e7c57d1415541cb0574eb6_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_aabe8418b13e7c57d1415541cb0574eb6_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a4471b1fe3aff990009d8c703160a9940}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a4471b1fe3aff990009d8c703160a9940}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!baseline\_compilation\_finished@{baseline\_compilation\_finished}}
\index{baseline\_compilation\_finished@{baseline\_compilation\_finished}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{baseline\_compilation\_finished()}{baseline\_compilation\_finished()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::Compilation\+State\+Impl\+::baseline\+\_\+compilation\+\_\+finished (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 696 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{696                                              \{}
\DoxyCodeLine{697     \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{base::MutexGuard}} guard(\&\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a765312328515d177ce5825f083c9b759}{callbacks\_mutex\_}});}
\DoxyCodeLine{698     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a8961a8c084b70ecbdb9dfe082929b2bb}{outstanding\_baseline\_units\_}} == 0;}
\DoxyCodeLine{699   \}}

\end{DoxyCode}


Referenced by v8\+::internal\+::wasm\+::\+Compilation\+State\+::baseline\+\_\+compilation\+\_\+finished().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a4471b1fe3aff990009d8c703160a9940_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a8ab550a27ff66014d823f06de54082e8}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a8ab550a27ff66014d823f06de54082e8}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!CancelCompilation@{CancelCompilation}}
\index{CancelCompilation@{CancelCompilation}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{CancelCompilation()}{CancelCompilation()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Compilation\+State\+Impl\+::\+Cancel\+Compilation (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a4ed36715f9c0623f94e39fdb85d1b8dc}{Compilation\+State\+Impl\+::\+Cancellation\+Policy}}}]{cancellation\+\_\+policy }\end{DoxyParamCaption})}



Definition at line 3590 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3591                                                                 \{}
\DoxyCodeLine{3592   \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{base::MutexGuard}} callbacks\_guard(\&\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a765312328515d177ce5825f083c9b759}{callbacks\_mutex\_}});}
\DoxyCodeLine{3593 }
\DoxyCodeLine{3594   \textcolor{keywordflow}{if} (cancellation\_policy == \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a4ed36715f9c0623f94e39fdb85d1b8dca56d6183964d232e8e20d243ae101bae3}{kCancelInitialCompilation}} \&\&}
\DoxyCodeLine{3595       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ada63ef52e4d0b472d4194a3a6aec02e7}{finished\_events\_}}.\mbox{\hyperlink{classv8_1_1base_1_1EnumSet_ae4b456a7bb23f2a76c4526748fcc911a}{contains}}(}
\DoxyCodeLine{3596           \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a020d8fcab0133f11030d7b8ef6259e29a41b18f40e8022b599bc6360f216daba4}{CompilationEvent::kFinishedBaselineCompilation}})) \{}
\DoxyCodeLine{3597     \textcolor{comment}{// Initial compilation already finished; cannot be cancelled.}}
\DoxyCodeLine{3598     \textcolor{keywordflow}{return};}
\DoxyCodeLine{3599   \}}
\DoxyCodeLine{3600 }
\DoxyCodeLine{3601   \textcolor{comment}{// std::memory\_order\_relaxed is sufficient because no other state is}}
\DoxyCodeLine{3602   \textcolor{comment}{// synchronized with |compile\_cancelled\_|.}}
\DoxyCodeLine{3603   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ac7c4f6efcf3aafb8f51b8a77da48410b}{compile\_cancelled\_}}.store(\textcolor{keyword}{true}, std::memory\_order\_relaxed);}
\DoxyCodeLine{3604 }
\DoxyCodeLine{3605   \textcolor{comment}{// No more callbacks after abort.}}
\DoxyCodeLine{3606   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a3ca161fb12e541db32b60d80eb4b1e90}{callbacks\_}}.clear();}
\DoxyCodeLine{3607 \}}

\end{DoxyCode}


References callbacks\+\_\+, callbacks\+\_\+mutex\+\_\+, compile\+\_\+cancelled\+\_\+, v8\+::base\+::\+Enum\+Set$<$ E, T $>$\+::contains(), finished\+\_\+events\+\_\+, k\+Cancel\+Initial\+Compilation, and v8\+::internal\+::wasm\+::k\+Finished\+Baseline\+Compilation.



Referenced by v8\+::internal\+::wasm\+::\+Compilation\+State\+::\+Cancel\+Compilation(), v8\+::internal\+::wasm\+::\+Compilation\+State\+::\+Cancel\+Initial\+Compilation(), and v8\+::internal\+::wasm\+::\+Async\+Compile\+Job\+::$\sim$\+Async\+Compile\+Job().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a8ab550a27ff66014d823f06de54082e8_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a8ab550a27ff66014d823f06de54082e8_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a6e8ed1af01ad199828413d1c9f4bacbb}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a6e8ed1af01ad199828413d1c9f4bacbb}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!cancelled@{cancelled}}
\index{cancelled@{cancelled}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{cancelled()}{cancelled()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::wasm\+::\+Compilation\+State\+Impl\+::cancelled (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Definition at line 3609 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3609                                            \{}
\DoxyCodeLine{3610   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ac7c4f6efcf3aafb8f51b8a77da48410b}{compile\_cancelled\_}}.load(std::memory\_order\_relaxed);}
\DoxyCodeLine{3611 \}}

\end{DoxyCode}


References compile\+\_\+cancelled\+\_\+.



Referenced by v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::\+Background\+Compile\+Scope\+::cancelled().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a6e8ed1af01ad199828413d1c9f4bacbb_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_af474d59648037e58456a4564d5345fe5}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_af474d59648037e58456a4564d5345fe5}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!CommitCompilationUnits@{CommitCompilationUnits}}
\index{CommitCompilationUnits@{CommitCompilationUnits}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{CommitCompilationUnits()}{CommitCompilationUnits()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Compilation\+State\+Impl\+::\+Commit\+Compilation\+Units (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1base_1_1Vector}{base\+::\+Vector}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCompilationUnit}{Wasm\+Compilation\+Unit}} $>$}]{baseline\+\_\+units,  }\item[{\mbox{\hyperlink{classv8_1_1base_1_1Vector}{base\+::\+Vector}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCompilationUnit}{Wasm\+Compilation\+Unit}} $>$}]{top\+\_\+tier\+\_\+units }\end{DoxyParamCaption})}



Definition at line 3954 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3956                                                     \{}
\DoxyCodeLine{3957   \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{base::MutexGuard}} guard\{\&\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a9b824ee2bd19df1806a89e4d74a697da}{mutex\_}}\};}
\DoxyCodeLine{3958   \textcolor{keywordflow}{if} (!baseline\_units.empty() || !top\_tier\_units.empty()) \{}
\DoxyCodeLine{3959     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab616d619108985decfe0d7f7ce17fcc6}{compilation\_unit\_queues\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitQueues_a31357ad240d5b25fb61558f17ae39c94}{AddUnits}}(baseline\_units, top\_tier\_units,}
\DoxyCodeLine{3960                                       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab7f1169e5324c750facf09b9f5fbad94}{native\_module\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule_a04f2f50aa9d1cbc1dc28e60dbe687f74}{module}}());}
\DoxyCodeLine{3961   \}}
\DoxyCodeLine{3962   \textcolor{keywordflow}{if} (!baseline\_units.empty()) \{}
\DoxyCodeLine{3963     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a40e79d0e08ce2b9ec620f2492d883b2e}{baseline\_compile\_job\_}}-\/>IsValid());}
\DoxyCodeLine{3964     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a40e79d0e08ce2b9ec620f2492d883b2e}{baseline\_compile\_job\_}}-\/>NotifyConcurrencyIncrease();}
\DoxyCodeLine{3965   \}}
\DoxyCodeLine{3966   \textcolor{keywordflow}{if} (!top\_tier\_units.empty()) \{}
\DoxyCodeLine{3967     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a7167a723ca63724303768ed3d1b0736d}{top\_tier\_compile\_job\_}}-\/>IsValid());}
\DoxyCodeLine{3968     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a7167a723ca63724303768ed3d1b0736d}{top\_tier\_compile\_job\_}}-\/>NotifyConcurrencyIncrease();}
\DoxyCodeLine{3969   \}}
\DoxyCodeLine{3970 \}}

\end{DoxyCode}


References v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::\+Compilation\+Unit\+Queues\+::\+Add\+Units(), baseline\+\_\+compile\+\_\+job\+\_\+, compilation\+\_\+unit\+\_\+queues\+\_\+, v8\+::internal\+::\+DCHECK(), v8\+::base\+::\+Vector$<$ T $>$\+::empty(), v8\+::internal\+::wasm\+::\+Native\+Module\+::module(), mutex\+\_\+, native\+\_\+module\+\_\+, and top\+\_\+tier\+\_\+compile\+\_\+job\+\_\+.



Referenced by Commit\+Top\+Tier\+Compilation\+Unit().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_af474d59648037e58456a4564d5345fe5_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_af474d59648037e58456a4564d5345fe5_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a5c78c0ef4fe93265afd37c1c6efe5792}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a5c78c0ef4fe93265afd37c1c6efe5792}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!CommitTopTierCompilationUnit@{CommitTopTierCompilationUnit}}
\index{CommitTopTierCompilationUnit@{CommitTopTierCompilationUnit}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{CommitTopTierCompilationUnit()}{CommitTopTierCompilationUnit()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Compilation\+State\+Impl\+::\+Commit\+Top\+Tier\+Compilation\+Unit (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCompilationUnit}{Wasm\+Compilation\+Unit}}}]{unit }\end{DoxyParamCaption})}



Definition at line 3972 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3973                               \{}
\DoxyCodeLine{3974   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_af474d59648037e58456a4564d5345fe5}{CommitCompilationUnits}}(\{\}, \{\&unit, 1\});}
\DoxyCodeLine{3975 \}}

\end{DoxyCode}


References Commit\+Compilation\+Units().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a5c78c0ef4fe93265afd37c1c6efe5792_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_aeb68dfdbcf7afb114fbfe377cb9d16d7}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_aeb68dfdbcf7afb114fbfe377cb9d16d7}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!counters@{counters}}
\index{counters@{counters}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{counters()}{counters()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1Counters}{Counters}}$\ast$ v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::Compilation\+State\+Impl\+::counters (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 701 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{701 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ad0de5a795e5ca3ea15b6dc64672f9fdb}{async\_counters\_}}.get(); \}}

\end{DoxyCode}


Referenced by Initialize\+Compilation\+Progress\+After\+Deserialization().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_aeb68dfdbcf7afb114fbfe377cb9d16d7_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a46f742b041803cde875c307e3021be18}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a46f742b041803cde875c307e3021be18}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!detected\_features@{detected\_features}}
\index{detected\_features@{detected\_features}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{detected\_features()}{detected\_features()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmDetectedFeatures}{Wasm\+Detected\+Features}} v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::Compilation\+State\+Impl\+::detected\+\_\+features (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 649 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{649                                                  \{}
\DoxyCodeLine{650     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a9a3e39ad3a707e8d6dfc2feab40f034a}{detected\_features\_}}.load(std::memory\_order\_relaxed);}
\DoxyCodeLine{651   \}}

\end{DoxyCode}


Referenced by v8\+::internal\+::wasm\+::\+Compilation\+State\+::detected\+\_\+features(), and On\+Compilation\+Stopped().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a46f742b041803cde875c307e3021be18_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a7ad6d8bbbac037e5f81f23aebaaf884b}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a7ad6d8bbbac037e5f81f23aebaaf884b}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!EstimateCurrentMemoryConsumption@{EstimateCurrentMemoryConsumption}}
\index{EstimateCurrentMemoryConsumption@{EstimateCurrentMemoryConsumption}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{EstimateCurrentMemoryConsumption()}{EstimateCurrentMemoryConsumption()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::Compilation\+State\+Impl\+::\+Estimate\+Current\+Memory\+Consumption (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Definition at line 846 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{846                                                                     \{}
\DoxyCodeLine{847   \mbox{\hyperlink{std-object-sizes_8h_a56caa02a4280c4f0c82adab429400770}{UPDATE\_WHEN\_CLASS\_CHANGES}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a4ec958a8992fd6f73195af7749c695ea}{CompilationStateImpl}}, 456);}
\DoxyCodeLine{848   \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} = \textcolor{keyword}{sizeof}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a4ec958a8992fd6f73195af7749c695ea}{CompilationStateImpl}});}
\DoxyCodeLine{849 }
\DoxyCodeLine{850   \{}
\DoxyCodeLine{851     \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{base::MutexGuard}} guard\{\&\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a9b824ee2bd19df1806a89e4d74a697da}{mutex\_}}\};}
\DoxyCodeLine{852     \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} += \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab616d619108985decfe0d7f7ce17fcc6}{compilation\_unit\_queues\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitQueues_a5b2dc02f4ff6da74814b0b2def2df264}{EstimateCurrentMemoryConsumption}}();}
\DoxyCodeLine{853   \}}
\DoxyCodeLine{854 }
\DoxyCodeLine{855   \textcolor{comment}{// To read the size of \{callbacks\_\} and \{compilation\_progress\_\}, we'd}}
\DoxyCodeLine{856   \textcolor{comment}{// need to acquire the \{callbacks\_mutex\_\}, which can cause deadlocks}}
\DoxyCodeLine{857   \textcolor{comment}{// when that mutex is already held elsewhere and another thread calls}}
\DoxyCodeLine{858   \textcolor{comment}{// into this function. So we rely on heuristics and informed guesses}}
\DoxyCodeLine{859   \textcolor{comment}{// instead: \{compilation\_progress\_\} contains an entry for every declared}}
\DoxyCodeLine{860   \textcolor{comment}{// function in the module...}}
\DoxyCodeLine{861   \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} += \textcolor{keyword}{sizeof}(uint8\_t) * \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab7f1169e5324c750facf09b9f5fbad94}{native\_module\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule_a04f2f50aa9d1cbc1dc28e60dbe687f74}{module}}()-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a5a60fa14372f7bc06d7d6f51d23b0bee}{num\_declared\_functions}};}
\DoxyCodeLine{862   \textcolor{comment}{// ...and there are typically no more than a handful of \{callbacks\_\}.}}
\DoxyCodeLine{863   constexpr \textcolor{keywordtype}{size\_t} kAssumedNumberOfCallbacks = 4;}
\DoxyCodeLine{864   constexpr \textcolor{keywordtype}{size\_t} size\_of\_vector =}
\DoxyCodeLine{865       kAssumedNumberOfCallbacks *}
\DoxyCodeLine{866       \textcolor{keyword}{sizeof}(std::unique\_ptr<CompilationEventCallback>);}
\DoxyCodeLine{867   \textcolor{comment}{// Concrete subclasses of CompilationEventCallback will be bigger, but we}}
\DoxyCodeLine{868   \textcolor{comment}{// can't know that here.}}
\DoxyCodeLine{869   constexpr \textcolor{keywordtype}{size\_t} size\_of\_payload =}
\DoxyCodeLine{870       kAssumedNumberOfCallbacks * \textcolor{keyword}{sizeof}(CompilationEventCallback);}
\DoxyCodeLine{871   \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} += size\_of\_vector + size\_of\_payload;}
\DoxyCodeLine{872 }
\DoxyCodeLine{873   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_wasm\_offheap\_memory) \{}
\DoxyCodeLine{874     \mbox{\hyperlink{namespacev8_1_1internal_a3430752cde9f29d73e97ceed1bce0856}{PrintF}}(\textcolor{stringliteral}{"{}CompilationStateImpl: \%zu\(\backslash\)n"{}}, \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}});}
\DoxyCodeLine{875   \}}
\DoxyCodeLine{876   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}};}
\DoxyCodeLine{877 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Print\+F(), v8\+::base\+::internal\+::result, UPDATE\+\_\+\+WHEN\+\_\+\+CLASS\+\_\+\+CHANGES, and v8\+::internal\+::v8\+\_\+flags.



Referenced by v8\+::internal\+::wasm\+::\+Compilation\+State\+::\+Estimate\+Current\+Memory\+Consumption().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a7ad6d8bbbac037e5f81f23aebaaf884b_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a7ad6d8bbbac037e5f81f23aebaaf884b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a8c6110baae5557a7b1bea2a035bf4cf2}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a8c6110baae5557a7b1bea2a035bf4cf2}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!failed@{failed}}
\index{failed@{failed}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{failed()}{failed()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::Compilation\+State\+Impl\+::failed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 692 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{692                       \{}
\DoxyCodeLine{693     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a1c2df4934d4b851409d16a00d569d33e}{compile\_failed\_}}.load(std::memory\_order\_relaxed);}
\DoxyCodeLine{694   \}}

\end{DoxyCode}


Referenced by v8\+::internal\+::wasm\+::\+Compilation\+State\+::failed(), and Initialize\+Compilation\+Progress().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a8c6110baae5557a7b1bea2a035bf4cf2_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a4691d2bab412c73443a96c25fa8bc94b}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a4691d2bab412c73443a96c25fa8bc94b}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!GetNextCompilationUnit@{GetNextCompilationUnit}}
\index{GetNextCompilationUnit@{GetNextCompilationUnit}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{GetNextCompilationUnit()}{GetNextCompilationUnit()}}
{\footnotesize\ttfamily std\+::optional$<$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCompilationUnit}{Wasm\+Compilation\+Unit}} $>$ v8\+::internal\+::wasm\+::\+Compilation\+State\+Impl\+::\+Get\+Next\+Compilation\+Unit (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitQueues_1_1Queue}{Compilation\+Unit\+Queues\+::\+Queue}} $\ast$}]{queue,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_aef575f4d4842a6dcdb81b8c172df9eb5}{Compilation\+Tier}}}]{tier }\end{DoxyParamCaption})}



Definition at line 3991 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3992                                                              \{}
\DoxyCodeLine{3993   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab616d619108985decfe0d7f7ce17fcc6}{compilation\_unit\_queues\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitQueues_a3e5e5349a621aac9f3111fe61b580c43}{GetNextUnit}}(queue, \mbox{\hyperlink{flag-definitions_8h_a878783ad616ead06040f7d4b080f6a02}{tier}});}
\DoxyCodeLine{3994 \}}

\end{DoxyCode}


References compilation\+\_\+unit\+\_\+queues\+\_\+, and v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::\+Compilation\+Unit\+Queues\+::\+Get\+Next\+Unit().



Referenced by v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::\+Execute\+Compilation\+Units().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a4691d2bab412c73443a96c25fa8bc94b_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a4691d2bab412c73443a96c25fa8bc94b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a7bd4a3ad05fde241ad2e33e12ca1275d}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a7bd4a3ad05fde241ad2e33e12ca1275d}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!GetQueueForCompileTask@{GetQueueForCompileTask}}
\index{GetQueueForCompileTask@{GetQueueForCompileTask}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{GetQueueForCompileTask()}{GetQueueForCompileTask()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitQueues_1_1Queue}{Compilation\+Unit\+Queues\+::\+Queue}} $\ast$ v8\+::internal\+::wasm\+::\+Compilation\+State\+Impl\+::\+Get\+Queue\+For\+Compile\+Task (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classint}{int}}}]{task\+\_\+id }\end{DoxyParamCaption})}



Definition at line 3986 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3987                  \{}
\DoxyCodeLine{3988   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab616d619108985decfe0d7f7ce17fcc6}{compilation\_unit\_queues\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitQueues_aef9c5e4fddae1550ab5ca318583d4c6d}{GetQueueForTask}}(task\_id);}
\DoxyCodeLine{3989 \}}

\end{DoxyCode}


References compilation\+\_\+unit\+\_\+queues\+\_\+, and v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::\+Compilation\+Unit\+Queues\+::\+Get\+Queue\+For\+Task().



Referenced by v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::\+Execute\+Compilation\+Units().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a7bd4a3ad05fde241ad2e33e12ca1275d_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a7bd4a3ad05fde241ad2e33e12ca1275d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a928d8dccea38ced17d01c739eadd64e7}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a928d8dccea38ced17d01c739eadd64e7}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!GetWireBytesStorage@{GetWireBytesStorage}}
\index{GetWireBytesStorage@{GetWireBytesStorage}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{GetWireBytesStorage()}{GetWireBytesStorage()}}
{\footnotesize\ttfamily std\+::shared\+\_\+ptr$<$\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WireBytesStorage}{Wire\+Bytes\+Storage}}$>$ v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::Compilation\+State\+Impl\+::\+Get\+Wire\+Bytes\+Storage (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 709 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{709                                                               \{}
\DoxyCodeLine{710     \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{base::MutexGuard}} guard(\&\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a9b824ee2bd19df1806a89e4d74a697da}{mutex\_}});}
\DoxyCodeLine{711     \mbox{\hyperlink{src_2base_2logging_8h_a7b9f9517fedacc2a1a56c2bbb9d03688}{DCHECK\_NOT\_NULL}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a88bbd14f5345baf9dea935d9f1b6de94}{wire\_bytes\_storage\_}});}
\DoxyCodeLine{712     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a88bbd14f5345baf9dea935d9f1b6de94}{wire\_bytes\_storage\_}};}
\DoxyCodeLine{713   \}}

\end{DoxyCode}


References DCHECK\+\_\+\+NOT\+\_\+\+NULL.



Referenced by v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::\+Execute\+Compilation\+Units(), and v8\+::internal\+::wasm\+::\+Compilation\+State\+::\+Get\+Wire\+Bytes\+Storage().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a928d8dccea38ced17d01c739eadd64e7_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a027613078d5bd38a4971700e68b6a20d}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a027613078d5bd38a4971700e68b6a20d}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!InitCompileJob@{InitCompileJob}}
\index{InitCompileJob@{InitCompileJob}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{InitCompileJob()}{InitCompileJob()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Compilation\+State\+Impl\+::\+Init\+Compile\+Job (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 3575 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3575                                           \{}
\DoxyCodeLine{3576   \mbox{\hyperlink{src_2base_2logging_8h_a2209830df6b59d1ec1fdf66b9352924f}{DCHECK\_NULL}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a40e79d0e08ce2b9ec620f2492d883b2e}{baseline\_compile\_job\_}});}
\DoxyCodeLine{3577   \mbox{\hyperlink{src_2base_2logging_8h_a2209830df6b59d1ec1fdf66b9352924f}{DCHECK\_NULL}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a7167a723ca63724303768ed3d1b0736d}{top\_tier\_compile\_job\_}});}
\DoxyCodeLine{3578   \textcolor{comment}{// Create the job, but don't spawn workers yet. This will happen on}}
\DoxyCodeLine{3579   \textcolor{comment}{// \{NotifyConcurrencyIncrease\}.}}
\DoxyCodeLine{3580   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a40e79d0e08ce2b9ec620f2492d883b2e}{baseline\_compile\_job\_}} = \mbox{\hyperlink{classv8_1_1internal_1_1V8_a5eb1d47c492fa1e85e7d7c31dd5cf2bb}{V8::GetCurrentPlatform}}()-\/>\mbox{\hyperlink{classv8_1_1Platform_a5a62780772e38f1f00317fce609ec0d4}{CreateJob}}(}
\DoxyCodeLine{3581       \mbox{\hyperlink{namespacev8_a680c1a715d1d5df94b21e8b1ee1bf051a602dfdb2b16ea7a1f4392dc3d5761f7d}{TaskPriority::kUserVisible}},}
\DoxyCodeLine{3582       std::make\_unique<BackgroundCompileJob>(}
\DoxyCodeLine{3583           \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a01d1dc67992204402a64b064c6aece4d}{native\_module\_weak\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ad0de5a795e5ca3ea15b6dc64672f9fdb}{async\_counters\_}}, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_aef575f4d4842a6dcdb81b8c172df9eb5a2a11c6a5dff5cdb0647ee1f3988baf5f}{CompilationTier::kBaseline}}));}
\DoxyCodeLine{3584   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a7167a723ca63724303768ed3d1b0736d}{top\_tier\_compile\_job\_}} = \mbox{\hyperlink{classv8_1_1internal_1_1V8_a5eb1d47c492fa1e85e7d7c31dd5cf2bb}{V8::GetCurrentPlatform}}()-\/>\mbox{\hyperlink{classv8_1_1Platform_a5a62780772e38f1f00317fce609ec0d4}{CreateJob}}(}
\DoxyCodeLine{3585       \mbox{\hyperlink{namespacev8_a680c1a715d1d5df94b21e8b1ee1bf051a602dfdb2b16ea7a1f4392dc3d5761f7d}{TaskPriority::kUserVisible}},}
\DoxyCodeLine{3586       std::make\_unique<BackgroundCompileJob>(}
\DoxyCodeLine{3587           \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a01d1dc67992204402a64b064c6aece4d}{native\_module\_weak\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ad0de5a795e5ca3ea15b6dc64672f9fdb}{async\_counters\_}}, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_aef575f4d4842a6dcdb81b8c172df9eb5a7d4e18577ff3900f63c397998a03e7cf}{CompilationTier::kTopTier}}));}
\DoxyCodeLine{3588 \}}

\end{DoxyCode}


References async\+\_\+counters\+\_\+, baseline\+\_\+compile\+\_\+job\+\_\+, v8\+::\+Platform\+::\+Create\+Job(), DCHECK\+\_\+\+NULL, v8\+::internal\+::\+V8\+::\+Get\+Current\+Platform(), v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::k\+Baseline, v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::k\+Top\+Tier, v8\+::k\+User\+Visible, native\+\_\+module\+\_\+weak\+\_\+, and top\+\_\+tier\+\_\+compile\+\_\+job\+\_\+.



Referenced by v8\+::internal\+::wasm\+::\+Compilation\+State\+::\+Init\+Compile\+Job().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a027613078d5bd38a4971700e68b6a20d_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a027613078d5bd38a4971700e68b6a20d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a06926c1b78473627fab3d1409a0916c6}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a06926c1b78473627fab3d1409a0916c6}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!InitializeCompilationProgress@{InitializeCompilationProgress}}
\index{InitializeCompilationProgress@{InitializeCompilationProgress}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{InitializeCompilationProgress()}{InitializeCompilationProgress()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Compilation\+State\+Impl\+::\+Initialize\+Compilation\+Progress (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1ProfileInformation}{Profile\+Information}} $\ast$}]{pgo\+\_\+info }\end{DoxyParamCaption})}



Definition at line 3757 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3758                                   \{}
\DoxyCodeLine{3759   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a8c6110baae5557a7b1bea2a035bf4cf2}{failed}}());}
\DoxyCodeLine{3760 }
\DoxyCodeLine{3761   \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{base::MutexGuard}} guard(\&\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a765312328515d177ce5825f083c9b759}{callbacks\_mutex\_}});}
\DoxyCodeLine{3762 }
\DoxyCodeLine{3763   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.wasm\_jitless) \{}
\DoxyCodeLine{3764     \textcolor{keyword}{auto}* module = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab7f1169e5324c750facf09b9f5fbad94}{native\_module\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule_a04f2f50aa9d1cbc1dc28e60dbe687f74}{module}}();}
\DoxyCodeLine{3765 }
\DoxyCodeLine{3766     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(0, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a8961a8c084b70ecbdb9dfe082929b2bb}{outstanding\_baseline\_units\_}});}
\DoxyCodeLine{3767 }
\DoxyCodeLine{3768     \textcolor{comment}{// Compute the default compilation progress for all functions, and set it.}}
\DoxyCodeLine{3769     \textcolor{keyword}{const} ExecutionTierPair default\_tiers = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_a389db69d367e7efac0db6727f46fc3f0}{GetDefaultTiersPerModule}}(}
\DoxyCodeLine{3770         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab7f1169e5324c750facf09b9f5fbad94}{native\_module\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab7f1169e5324c750facf09b9f5fbad94}{native\_module\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule_a95dc87711f2fbd647080305bf39e447f}{IsInDebugState}}(), \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_a5c84f9651f5d91a9ec588b0be2866b40}{IsLazyModule}}(module));}
\DoxyCodeLine{3771     \textcolor{keyword}{const} uint8\_t default\_progress =}
\DoxyCodeLine{3772         \mbox{\hyperlink{classv8_1_1base_1_1BitField_a70718344d8a4df6c20b3cf9c9b14d0d4}{RequiredBaselineTierField::encode}}(default\_tiers.baseline\_tier) |}
\DoxyCodeLine{3773         \mbox{\hyperlink{classv8_1_1base_1_1BitField_a70718344d8a4df6c20b3cf9c9b14d0d4}{RequiredTopTierField::encode}}(default\_tiers.top\_tier) |}
\DoxyCodeLine{3774         \mbox{\hyperlink{classv8_1_1base_1_1BitField_a70718344d8a4df6c20b3cf9c9b14d0d4}{ReachedTierField::encode}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13}{ExecutionTier::kNone}});}
\DoxyCodeLine{3775     \mbox{\hyperlink{src_2base_2logging_8h_a2209830df6b59d1ec1fdf66b9352924f}{DCHECK\_NULL}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a0ff6ff765770fe090dc00572f0e64272}{compilation\_progress\_}});}
\DoxyCodeLine{3776     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a0ff6ff765770fe090dc00572f0e64272}{compilation\_progress\_}} = \mbox{\hyperlink{classv8_1_1base_1_1OwnedVector_a2661cfcee856d5f551befac70c31a730}{base::OwnedVector<uint8\_t>::New}}(}
\DoxyCodeLine{3777         module-\/>num\_declared\_functions, default\_progress);}
\DoxyCodeLine{3778     \textcolor{keywordflow}{if} (default\_tiers.baseline\_tier != \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13}{ExecutionTier::kNone}}) \{}
\DoxyCodeLine{3779       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a8961a8c084b70ecbdb9dfe082929b2bb}{outstanding\_baseline\_units\_}} += module-\/>num\_declared\_functions;}
\DoxyCodeLine{3780     \}}
\DoxyCodeLine{3781 }
\DoxyCodeLine{3782     \textcolor{comment}{// Apply compilation hints, if enabled.}}
\DoxyCodeLine{3783     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab7f1169e5324c750facf09b9f5fbad94}{native\_module\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule_ac8900d676fd063b88a6876f464dd8a07}{enabled\_features}}().has\_compilation\_hints()) \{}
\DoxyCodeLine{3784       \textcolor{keywordtype}{size\_t} num\_hints = std::min(module-\/>compilation\_hints.size(),}
\DoxyCodeLine{3785                                   \textcolor{keywordtype}{size\_t}\{module-\/>num\_declared\_functions\});}
\DoxyCodeLine{3786       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} hint\_idx = 0; hint\_idx < num\_hints; ++hint\_idx) \{}
\DoxyCodeLine{3787         \textcolor{keyword}{const} \textcolor{keyword}{auto}\& hint = module-\/>compilation\_hints[hint\_idx];}
\DoxyCodeLine{3788         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a85ad2d14130ce9699d36bd8d9fe02333}{ApplyCompilationHintToInitialProgress}}(hint, hint\_idx);}
\DoxyCodeLine{3789       \}}
\DoxyCodeLine{3790     \}}
\DoxyCodeLine{3791 }
\DoxyCodeLine{3792     \textcolor{comment}{// Transform -\/-\/wasm-\/eager-\/tier-\/up-\/function, if given, into a fake}}
\DoxyCodeLine{3793     \textcolor{comment}{// compilation hint.}}
\DoxyCodeLine{3794     \textcolor{keywordflow}{if} (\mbox{\hyperlink{v8config_8h_a67bd29db07c711b0fb11ff1c324ebb60}{V8\_UNLIKELY}}(}
\DoxyCodeLine{3795             \mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.wasm\_eager\_tier\_up\_function >= 0 \&\&}
\DoxyCodeLine{3796             \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.wasm\_eager\_tier\_up\_function) >=}
\DoxyCodeLine{3797                 module-\/>num\_imported\_functions \&\&}
\DoxyCodeLine{3798             \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.wasm\_eager\_tier\_up\_function) <}
\DoxyCodeLine{3799                 module-\/>functions.size())) \{}
\DoxyCodeLine{3800       uint32\_t func\_idx =}
\DoxyCodeLine{3801           \mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.wasm\_eager\_tier\_up\_function -\/ module-\/>num\_imported\_functions;}
\DoxyCodeLine{3802       WasmCompilationHint hint\{\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ad2b94e9a247149c2f2a19be54a08f7e1a1f85c8fbccc9bb4fcda482bf840bc3e2}{WasmCompilationHintStrategy::kEager}},}
\DoxyCodeLine{3803                                \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a014ea81f0b1504833e290d4a98601282a51014a338329cb5629fd324cf7493bbc}{WasmCompilationHintTier::kOptimized}},}
\DoxyCodeLine{3804                                \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a014ea81f0b1504833e290d4a98601282a51014a338329cb5629fd324cf7493bbc}{WasmCompilationHintTier::kOptimized}}\};}
\DoxyCodeLine{3805       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a85ad2d14130ce9699d36bd8d9fe02333}{ApplyCompilationHintToInitialProgress}}(hint, func\_idx);}
\DoxyCodeLine{3806     \}}
\DoxyCodeLine{3807   \}}
\DoxyCodeLine{3808 }
\DoxyCodeLine{3809   \textcolor{comment}{// Apply PGO information, if available.}}
\DoxyCodeLine{3810   \textcolor{keywordflow}{if} (pgo\_info) \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_aabe8418b13e7c57d1415541cb0574eb6}{ApplyPgoInfoToInitialProgress}}(pgo\_info);}
\DoxyCodeLine{3811 }
\DoxyCodeLine{3812   \textcolor{comment}{// Trigger callbacks if module needs no baseline or top tier compilation. This}}
\DoxyCodeLine{3813   \textcolor{comment}{// can be the case for an empty or fully lazy module.}}
\DoxyCodeLine{3814   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a875b97140d7a45a4148a0fb1a248e42b}{TriggerOutstandingCallbacks}}();}
\DoxyCodeLine{3815 \}}

\end{DoxyCode}


References Apply\+Compilation\+Hint\+To\+Initial\+Progress(), Apply\+Pgo\+Info\+To\+Initial\+Progress(), v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::\+Execution\+Tier\+Pair\+::baseline\+\_\+tier, callbacks\+\_\+mutex\+\_\+, compilation\+\_\+progress\+\_\+, v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+EQ, DCHECK\+\_\+\+NULL, v8\+::internal\+::wasm\+::\+Native\+Module\+::enabled\+\_\+features(), v8\+::base\+::\+Bit\+Field$<$ T, shift, size, U $>$\+::encode(), failed(), v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::\+Get\+Default\+Tiers\+Per\+Module(), v8\+::internal\+::wasm\+::\+Native\+Module\+::\+Is\+In\+Debug\+State(), v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::\+Is\+Lazy\+Module(), v8\+::internal\+::wasm\+::k\+Eager, v8\+::internal\+::wasm\+::k\+None, v8\+::internal\+::wasm\+::k\+Optimized, v8\+::internal\+::wasm\+::\+Native\+Module\+::module(), native\+\_\+module\+\_\+, v8\+::base\+::\+Owned\+Vector$<$ T $>$\+::\+New(), outstanding\+\_\+baseline\+\_\+units\+\_\+, v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::\+Execution\+Tier\+Pair\+::top\+\_\+tier, Trigger\+Outstanding\+Callbacks(), v8\+::internal\+::v8\+\_\+flags, and V8\+\_\+\+UNLIKELY.



Referenced by v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::\+Initialize\+Compilation(), and v8\+::internal\+::wasm\+::\+Initialize\+Compilation\+For\+Testing().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a06926c1b78473627fab3d1409a0916c6_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a06926c1b78473627fab3d1409a0916c6_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_afcd9da62d1edbb0e854d525370766659}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_afcd9da62d1edbb0e854d525370766659}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!InitializeCompilationProgressAfterDeserialization@{InitializeCompilationProgressAfterDeserialization}}
\index{InitializeCompilationProgressAfterDeserialization@{InitializeCompilationProgressAfterDeserialization}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{InitializeCompilationProgressAfterDeserialization()}{InitializeCompilationProgressAfterDeserialization()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Compilation\+State\+Impl\+::\+Initialize\+Compilation\+Progress\+After\+Deserialization (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1base_1_1Vector}{base\+::\+Vector}}$<$ const \mbox{\hyperlink{classint}{int}} $>$}]{lazy\+\_\+functions,  }\item[{\mbox{\hyperlink{classv8_1_1base_1_1Vector}{base\+::\+Vector}}$<$ const \mbox{\hyperlink{classint}{int}} $>$}]{eager\+\_\+functions }\end{DoxyParamCaption})}



Definition at line 3869 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3871                                            \{}
\DoxyCodeLine{3872   \mbox{\hyperlink{trace-event-no-perfetto_8h_a58927f99d797f77024561f336303380c}{TRACE\_EVENT2}}(\textcolor{stringliteral}{"{}v8.wasm"{}}, \textcolor{stringliteral}{"{}wasm.CompilationAfterDeserialization"{}},}
\DoxyCodeLine{3873                \textcolor{stringliteral}{"{}num\_lazy\_functions"{}}, lazy\_functions.size(),}
\DoxyCodeLine{3874                \textcolor{stringliteral}{"{}num\_eager\_functions"{}}, eager\_functions.size());}
\DoxyCodeLine{3875   std::optional<TimedHistogramScope> lazy\_compile\_time\_scope;}
\DoxyCodeLine{3876   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1base_1_1TimeTicks_acdd9f8482c321164c58f46bc65372c9b}{base::TimeTicks::IsHighResolution}}()) \{}
\DoxyCodeLine{3877     lazy\_compile\_time\_scope.emplace(}
\DoxyCodeLine{3878         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_aeb68dfdbcf7afb114fbfe377cb9d16d7}{counters}}()-\/>wasm\_compile\_after\_deserialize());}
\DoxyCodeLine{3879   \}}
\DoxyCodeLine{3880 }
\DoxyCodeLine{3881   \textcolor{keyword}{auto}* module = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab7f1169e5324c750facf09b9f5fbad94}{native\_module\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule_a04f2f50aa9d1cbc1dc28e60dbe687f74}{module}}();}
\DoxyCodeLine{3882   \{}
\DoxyCodeLine{3883     \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{base::MutexGuard}} guard(\&\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a765312328515d177ce5825f083c9b759}{callbacks\_mutex\_}});}
\DoxyCodeLine{3884     \mbox{\hyperlink{src_2base_2logging_8h_a2209830df6b59d1ec1fdf66b9352924f}{DCHECK\_NULL}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a0ff6ff765770fe090dc00572f0e64272}{compilation\_progress\_}});}
\DoxyCodeLine{3885 }
\DoxyCodeLine{3886     \textcolor{comment}{// Initialize the compilation progress as if everything was}}
\DoxyCodeLine{3887     \textcolor{comment}{// TurboFan-\/compiled.}}
\DoxyCodeLine{3888     constexpr uint8\_t kProgressAfterTurbofanDeserialization =}
\DoxyCodeLine{3889         \mbox{\hyperlink{classv8_1_1base_1_1BitField_a70718344d8a4df6c20b3cf9c9b14d0d4}{RequiredBaselineTierField::encode}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a3a4891ee13d971db79eeae3a6d61d151}{ExecutionTier::kLiftoff}}) |}
\DoxyCodeLine{3890         \mbox{\hyperlink{classv8_1_1base_1_1BitField_a70718344d8a4df6c20b3cf9c9b14d0d4}{RequiredTopTierField::encode}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31}{ExecutionTier::kTurbofan}}) |}
\DoxyCodeLine{3891         \mbox{\hyperlink{classv8_1_1base_1_1BitField_a70718344d8a4df6c20b3cf9c9b14d0d4}{ReachedTierField::encode}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31}{ExecutionTier::kTurbofan}});}
\DoxyCodeLine{3892     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a0ff6ff765770fe090dc00572f0e64272}{compilation\_progress\_}} = \mbox{\hyperlink{classv8_1_1base_1_1OwnedVector_a2661cfcee856d5f551befac70c31a730}{base::OwnedVector<uint8\_t>::New}}(}
\DoxyCodeLine{3893         module-\/>num\_declared\_functions, kProgressAfterTurbofanDeserialization);}
\DoxyCodeLine{3894 }
\DoxyCodeLine{3895     \textcolor{comment}{// Update compilation state for lazy functions.}}
\DoxyCodeLine{3896     constexpr uint8\_t kProgressForLazyFunctions =}
\DoxyCodeLine{3897         \mbox{\hyperlink{classv8_1_1base_1_1BitField_a70718344d8a4df6c20b3cf9c9b14d0d4}{RequiredBaselineTierField::encode}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13}{ExecutionTier::kNone}}) |}
\DoxyCodeLine{3898         \mbox{\hyperlink{classv8_1_1base_1_1BitField_a70718344d8a4df6c20b3cf9c9b14d0d4}{RequiredTopTierField::encode}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13}{ExecutionTier::kNone}}) |}
\DoxyCodeLine{3899         \mbox{\hyperlink{classv8_1_1base_1_1BitField_a70718344d8a4df6c20b3cf9c9b14d0d4}{ReachedTierField::encode}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13}{ExecutionTier::kNone}});}
\DoxyCodeLine{3900     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} func\_index : lazy\_functions) \{}
\DoxyCodeLine{3901       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a0ff6ff765770fe090dc00572f0e64272}{compilation\_progress\_}}[\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_abd9cf6cdda997dfabf862a6048202195}{declared\_function\_index}}(module, func\_index)] =}
\DoxyCodeLine{3902           kProgressForLazyFunctions;}
\DoxyCodeLine{3903     \}}
\DoxyCodeLine{3904 }
\DoxyCodeLine{3905     \textcolor{comment}{// Update compilation state for eagerly compiled functions.}}
\DoxyCodeLine{3906     constexpr \textcolor{keywordtype}{bool} kNotLazy = \textcolor{keyword}{false};}
\DoxyCodeLine{3907     ExecutionTierPair default\_tiers = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_a389db69d367e7efac0db6727f46fc3f0}{GetDefaultTiersPerModule}}(}
\DoxyCodeLine{3908         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab7f1169e5324c750facf09b9f5fbad94}{native\_module\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab7f1169e5324c750facf09b9f5fbad94}{native\_module\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule_a95dc87711f2fbd647080305bf39e447f}{IsInDebugState}}(), kNotLazy);}
\DoxyCodeLine{3909     uint8\_t progress\_for\_eager\_functions =}
\DoxyCodeLine{3910         \mbox{\hyperlink{classv8_1_1base_1_1BitField_a70718344d8a4df6c20b3cf9c9b14d0d4}{RequiredBaselineTierField::encode}}(default\_tiers.baseline\_tier) |}
\DoxyCodeLine{3911         \mbox{\hyperlink{classv8_1_1base_1_1BitField_a70718344d8a4df6c20b3cf9c9b14d0d4}{RequiredTopTierField::encode}}(default\_tiers.top\_tier) |}
\DoxyCodeLine{3912         \mbox{\hyperlink{classv8_1_1base_1_1BitField_a70718344d8a4df6c20b3cf9c9b14d0d4}{ReachedTierField::encode}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13}{ExecutionTier::kNone}});}
\DoxyCodeLine{3913     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} func\_index : eager\_functions) \{}
\DoxyCodeLine{3914       \textcolor{comment}{// Check that \{func\_index\} is not contained in \{lazy\_functions\}.}}
\DoxyCodeLine{3915       \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(}
\DoxyCodeLine{3916           \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a0ff6ff765770fe090dc00572f0e64272}{compilation\_progress\_}}[\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_abd9cf6cdda997dfabf862a6048202195}{declared\_function\_index}}(module, func\_index)],}
\DoxyCodeLine{3917           kProgressAfterTurbofanDeserialization);}
\DoxyCodeLine{3918       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a0ff6ff765770fe090dc00572f0e64272}{compilation\_progress\_}}[\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_abd9cf6cdda997dfabf862a6048202195}{declared\_function\_index}}(module, func\_index)] =}
\DoxyCodeLine{3919           progress\_for\_eager\_functions;}
\DoxyCodeLine{3920     \}}
\DoxyCodeLine{3921     \mbox{\hyperlink{src_2base_2logging_8h_a986dc8f4ec6dcd0644efe205c13f8eb7}{DCHECK\_NE}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13}{ExecutionTier::kNone}}, default\_tiers.baseline\_tier);}
\DoxyCodeLine{3922     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a8961a8c084b70ecbdb9dfe082929b2bb}{outstanding\_baseline\_units\_}} += eager\_functions.size();}
\DoxyCodeLine{3923 }
\DoxyCodeLine{3924     \textcolor{comment}{// Baseline compilation is done if we do not have any Liftoff functions to}}
\DoxyCodeLine{3925     \textcolor{comment}{// compile.}}
\DoxyCodeLine{3926     \textcolor{keywordflow}{if} (eager\_functions.empty() || \mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.wasm\_lazy\_compilation) \{}
\DoxyCodeLine{3927       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ada63ef52e4d0b472d4194a3a6aec02e7}{finished\_events\_}}.\mbox{\hyperlink{classv8_1_1base_1_1EnumSet_a284a9564cbcce06b154271c335244102}{Add}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a020d8fcab0133f11030d7b8ef6259e29a41b18f40e8022b599bc6360f216daba4}{CompilationEvent::kFinishedBaselineCompilation}});}
\DoxyCodeLine{3928     \}}
\DoxyCodeLine{3929   \}}
\DoxyCodeLine{3930   \textcolor{keyword}{auto} builder = std::make\_unique<CompilationUnitBuilder>(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab7f1169e5324c750facf09b9f5fbad94}{native\_module\_}});}
\DoxyCodeLine{3931   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ac57fa6c76918532a01b6d1028b948fb1}{InitializeCompilationUnits}}(std::move(builder));}
\DoxyCodeLine{3932   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.wasm\_lazy\_compilation) \{}
\DoxyCodeLine{3933     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_aaf65fb2f96cb75ae477b7b62b8aecb90}{WaitForCompilationEvent}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a020d8fcab0133f11030d7b8ef6259e29a41b18f40e8022b599bc6360f216daba4}{CompilationEvent::kFinishedBaselineCompilation}});}
\DoxyCodeLine{3934   \}}
\DoxyCodeLine{3935 \}}

\end{DoxyCode}


References v8\+::base\+::\+Enum\+Set$<$ E, T $>$\+::\+Add(), v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::\+Execution\+Tier\+Pair\+::baseline\+\_\+tier, callbacks\+\_\+mutex\+\_\+, compilation\+\_\+progress\+\_\+, counters(), DCHECK\+\_\+\+EQ, DCHECK\+\_\+\+NE, DCHECK\+\_\+\+NULL, v8\+::internal\+::wasm\+::declared\+\_\+function\+\_\+index(), v8\+::base\+::\+Bit\+Field$<$ T, shift, size, U $>$\+::encode(), finished\+\_\+events\+\_\+, v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::\+Get\+Default\+Tiers\+Per\+Module(), Initialize\+Compilation\+Units(), v8\+::base\+::\+Time\+Ticks\+::\+Is\+High\+Resolution(), v8\+::internal\+::wasm\+::\+Native\+Module\+::\+Is\+In\+Debug\+State(), v8\+::internal\+::wasm\+::k\+Finished\+Baseline\+Compilation, v8\+::internal\+::wasm\+::k\+Liftoff, v8\+::internal\+::wasm\+::k\+None, v8\+::internal\+::wasm\+::k\+Turbofan, v8\+::internal\+::wasm\+::\+Native\+Module\+::module(), native\+\_\+module\+\_\+, v8\+::base\+::\+Owned\+Vector$<$ T $>$\+::\+New(), outstanding\+\_\+baseline\+\_\+units\+\_\+, v8\+::base\+::\+Vector$<$ T $>$\+::size(), v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::\+Execution\+Tier\+Pair\+::top\+\_\+tier, TRACE\+\_\+\+EVENT2, v8\+::internal\+::v8\+\_\+flags, and Wait\+For\+Compilation\+Event().



Referenced by v8\+::internal\+::wasm\+::\+Compilation\+State\+::\+Initialize\+After\+Deserialization().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_afcd9da62d1edbb0e854d525370766659_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_afcd9da62d1edbb0e854d525370766659_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab0af1dcf85378fb072a892b87ed4ac15}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab0af1dcf85378fb072a892b87ed4ac15}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!InitializeCompilationUnitForSingleFunction@{InitializeCompilationUnitForSingleFunction}}
\index{InitializeCompilationUnitForSingleFunction@{InitializeCompilationUnitForSingleFunction}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{InitializeCompilationUnitForSingleFunction()}{InitializeCompilationUnitForSingleFunction()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Compilation\+State\+Impl\+::\+Initialize\+Compilation\+Unit\+For\+Single\+Function (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitBuilder}{Compilation\+Unit\+Builder}} $\ast$}]{builder,  }\item[{\mbox{\hyperlink{classint}{int}}}]{func\+\_\+index }\end{DoxyParamCaption})}



Definition at line 3817 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3818                                                          \{}
\DoxyCodeLine{3819   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.wasm\_jitless) \textcolor{keywordflow}{return};}
\DoxyCodeLine{3820 }
\DoxyCodeLine{3821   \textcolor{comment}{// Only during streaming compilation, we reach here without holding}}
\DoxyCodeLine{3822   \textcolor{comment}{// `callbacks\_mutex\_`.}}
\DoxyCodeLine{3823   \textcolor{comment}{// This avoids the observed overhead of taking the lock once per function.}}
\DoxyCodeLine{3824   \textcolor{comment}{// This is correct (data-\/race free), because the only mutation of}}
\DoxyCodeLine{3825   \textcolor{comment}{// `compilation\_progress\_` before reading it here without holding the lock is}}
\DoxyCodeLine{3826   \textcolor{comment}{// when initializing the compilation during parsing of the code section}}
\DoxyCodeLine{3827   \textcolor{comment}{// header (see `InitializeCompilationProgress` and}}
\DoxyCodeLine{3828   \textcolor{comment}{// `AsyncStreamingProcessor::ProcessCodeSectionHeader`), which must happen}}
\DoxyCodeLine{3829   \textcolor{comment}{// before processing functions.}}
\DoxyCodeLine{3830   \textcolor{comment}{// Also, this read here happens exactly once per function, only for the}}
\DoxyCodeLine{3831   \textcolor{comment}{// initial compilation, and all accesses to `compilation\_progress\_` thereafter}}
\DoxyCodeLine{3832   \textcolor{comment}{// are synchronized via `callbacks\_mutex\_`.}}
\DoxyCodeLine{3833   uint8\_t function\_progress = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a0ff6ff765770fe090dc00572f0e64272}{compilation\_progress\_}}[\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_abd9cf6cdda997dfabf862a6048202195}{declared\_function\_index}}(}
\DoxyCodeLine{3834       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab7f1169e5324c750facf09b9f5fbad94}{native\_module\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule_a04f2f50aa9d1cbc1dc28e60dbe687f74}{module}}(), function\_index)];}
\DoxyCodeLine{3835   \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9}{ExecutionTier}} required\_baseline\_tier =}
\DoxyCodeLine{3836       \mbox{\hyperlink{classv8_1_1base_1_1BitField_a554df4b9ae5f0dc36b4d092bfc2e004b}{CompilationStateImpl::RequiredBaselineTierField::decode}}(}
\DoxyCodeLine{3837           function\_progress);}
\DoxyCodeLine{3838   \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9}{ExecutionTier}} required\_top\_tier =}
\DoxyCodeLine{3839       \mbox{\hyperlink{classv8_1_1base_1_1BitField_a554df4b9ae5f0dc36b4d092bfc2e004b}{CompilationStateImpl::RequiredTopTierField::decode}}(function\_progress);}
\DoxyCodeLine{3840   \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9}{ExecutionTier}} reached\_tier =}
\DoxyCodeLine{3841       \mbox{\hyperlink{classv8_1_1base_1_1BitField_a554df4b9ae5f0dc36b4d092bfc2e004b}{CompilationStateImpl::ReachedTierField::decode}}(function\_progress);}
\DoxyCodeLine{3842 }
\DoxyCodeLine{3843   \textcolor{keywordflow}{if} (reached\_tier < required\_baseline\_tier) \{}
\DoxyCodeLine{3844     builder-\/>AddBaselineUnit(function\_index, required\_baseline\_tier);}
\DoxyCodeLine{3845   \}}
\DoxyCodeLine{3846   \textcolor{keywordflow}{if} (reached\_tier < required\_top\_tier \&\&}
\DoxyCodeLine{3847       required\_baseline\_tier != required\_top\_tier) \{}
\DoxyCodeLine{3848     builder-\/>AddTopTierUnit(function\_index, required\_top\_tier);}
\DoxyCodeLine{3849   \}}
\DoxyCodeLine{3850 \}}

\end{DoxyCode}


References v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::\+Compilation\+Unit\+Builder\+::\+Add\+Baseline\+Unit(), v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::\+Compilation\+Unit\+Builder\+::\+Add\+Top\+Tier\+Unit(), compilation\+\_\+progress\+\_\+, v8\+::internal\+::wasm\+::declared\+\_\+function\+\_\+index(), v8\+::base\+::\+Bit\+Field$<$ T, shift, size, U $>$\+::decode(), v8\+::internal\+::wasm\+::\+Native\+Module\+::module(), native\+\_\+module\+\_\+, and v8\+::internal\+::v8\+\_\+flags.



Referenced by Initialize\+Compilation\+Units().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab0af1dcf85378fb072a892b87ed4ac15_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab0af1dcf85378fb072a892b87ed4ac15_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ac57fa6c76918532a01b6d1028b948fb1}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ac57fa6c76918532a01b6d1028b948fb1}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!InitializeCompilationUnits@{InitializeCompilationUnits}}
\index{InitializeCompilationUnits@{InitializeCompilationUnits}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{InitializeCompilationUnits()}{InitializeCompilationUnits()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Compilation\+State\+Impl\+::\+Initialize\+Compilation\+Units (\begin{DoxyParamCaption}\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitBuilder}{Compilation\+Unit\+Builder}} $>$}]{builder }\end{DoxyParamCaption})}



Definition at line 3852 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3853                                                    \{}
\DoxyCodeLine{3854   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.wasm\_jitless) \textcolor{keywordflow}{return};}
\DoxyCodeLine{3855 }
\DoxyCodeLine{3856   \{}
\DoxyCodeLine{3857     \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{base::MutexGuard}} guard(\&\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a765312328515d177ce5825f083c9b759}{callbacks\_mutex\_}});}
\DoxyCodeLine{3858     \textcolor{keyword}{const} \mbox{\hyperlink{namespacev8_1_1internal_a09dbf9baefb793fd78912d6ef89f9dde}{WasmModule}}* module = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab7f1169e5324c750facf09b9f5fbad94}{native\_module\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule_a04f2f50aa9d1cbc1dc28e60dbe687f74}{module}}();}
\DoxyCodeLine{3859     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(module-\/>num\_declared\_functions, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a0ff6ff765770fe090dc00572f0e64272}{compilation\_progress\_}}.\mbox{\hyperlink{classv8_1_1base_1_1OwnedVector_a26c158458db822b4e91ca63ec1026131}{size}}());}
\DoxyCodeLine{3860     \textcolor{keywordtype}{int} start = module-\/>num\_imported\_functions;}
\DoxyCodeLine{3861     \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}} = start + module-\/>num\_declared\_functions;}
\DoxyCodeLine{3862     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} func\_index = start; func\_index < \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}}; ++func\_index) \{}
\DoxyCodeLine{3863       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab0af1dcf85378fb072a892b87ed4ac15}{InitializeCompilationUnitForSingleFunction}}(builder.get(), func\_index);}
\DoxyCodeLine{3864     \}}
\DoxyCodeLine{3865   \}}
\DoxyCodeLine{3866   builder-\/>Commit();}
\DoxyCodeLine{3867 \}}

\end{DoxyCode}


References callbacks\+\_\+mutex\+\_\+, compilation\+\_\+progress\+\_\+, DCHECK\+\_\+\+EQ, v8\+::internal\+::compiler\+::end(), Initialize\+Compilation\+Unit\+For\+Single\+Function(), v8\+::internal\+::wasm\+::\+Native\+Module\+::module(), native\+\_\+module\+\_\+, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::num\+\_\+declared\+\_\+functions, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::num\+\_\+imported\+\_\+functions, v8\+::base\+::\+Owned\+Vector$<$ T $>$\+::size(), and v8\+::internal\+::v8\+\_\+flags.



Referenced by Initialize\+Compilation\+Progress\+After\+Deserialization().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ac57fa6c76918532a01b6d1028b948fb1_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ac57fa6c76918532a01b6d1028b948fb1_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_acbf680841025a81ae543c133173e87a2}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_acbf680841025a81ae543c133173e87a2}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!NumOutstandingCompilations@{NumOutstandingCompilations}}
\index{NumOutstandingCompilations@{NumOutstandingCompilations}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{NumOutstandingCompilations()}{NumOutstandingCompilations()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::wasm\+::\+Compilation\+State\+Impl\+::\+Num\+Outstanding\+Compilations (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_aef575f4d4842a6dcdb81b8c172df9eb5}{Compilation\+Tier}}}]{tier }\end{DoxyParamCaption}) const}



Definition at line 4321 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4322                                 \{}
\DoxyCodeLine{4323   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab616d619108985decfe0d7f7ce17fcc6}{compilation\_unit\_queues\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitQueues_acd58ed5c7aa92fd01ef858dd4a885a68}{GetSizeForTier}}(\mbox{\hyperlink{flag-definitions_8h_a878783ad616ead06040f7d4b080f6a02}{tier}});}
\DoxyCodeLine{4324 \}}

\end{DoxyCode}


Referenced by v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::\+Background\+Compile\+Job\+::\+Get\+Max\+Concurrency().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_acbf680841025a81ae543c133173e87a2_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_adf989d360ca6f9f18f40ba6ed28c76b0}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_adf989d360ca6f9f18f40ba6ed28c76b0}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!OnCompilationStopped@{OnCompilationStopped}}
\index{OnCompilationStopped@{OnCompilationStopped}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{OnCompilationStopped()}{OnCompilationStopped()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Compilation\+State\+Impl\+::\+On\+Compilation\+Stopped (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmDetectedFeatures}{Wasm\+Detected\+Features}}}]{detected }\end{DoxyParamCaption})}



Definition at line 4229 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4230                                             \{}
\DoxyCodeLine{4231   WasmDetectedFeatures new\_detected\_features =}
\DoxyCodeLine{4232       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ae307e43873e6a925477fefac9dcef545}{UpdateDetectedFeatures}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a46f742b041803cde875c307e3021be18}{detected\_features}});}
\DoxyCodeLine{4233   \textcolor{keywordflow}{if} (new\_detected\_features.empty()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{4234 }
\DoxyCodeLine{4235   \textcolor{comment}{// New detected features can only happen during eager compilation or if lazy}}
\DoxyCodeLine{4236   \textcolor{comment}{// validation is enabled.}}
\DoxyCodeLine{4237   \textcolor{comment}{// The exceptions are currently stringref and imported strings, which are only}}
\DoxyCodeLine{4238   \textcolor{comment}{// detected on top-\/tier compilation.}}
\DoxyCodeLine{4239   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.wasm\_lazy\_compilation || \mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.wasm\_lazy\_validation ||}
\DoxyCodeLine{4240          (new\_detected\_features -\/}
\DoxyCodeLine{4241           WasmDetectedFeatures\{\{WasmDetectedFeature::stringref,}
\DoxyCodeLine{4242                                 WasmDetectedFeature::imported\_strings\_utf8,}
\DoxyCodeLine{4243                                 WasmDetectedFeature::imported\_strings\}\})}
\DoxyCodeLine{4244              .empty());}
\DoxyCodeLine{4245   \textcolor{comment}{// TODO(clemensb): Fix reporting of late detected features (relevant for lazy}}
\DoxyCodeLine{4246   \textcolor{comment}{// validation and for stringref).}}
\DoxyCodeLine{4247 \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), detected\+\_\+features(), v8\+::base\+::\+Enum\+Set$<$ E, T $>$\+::empty(), Update\+Detected\+Features(), and v8\+::internal\+::v8\+\_\+flags.



Referenced by v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::\+Execute\+Compilation\+Units().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_adf989d360ca6f9f18f40ba6ed28c76b0_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_adf989d360ca6f9f18f40ba6ed28c76b0_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a0a03590d60fc6923649c15307fc00dfd}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a0a03590d60fc6923649c15307fc00dfd}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!OnFinishedUnits@{OnFinishedUnits}}
\index{OnFinishedUnits@{OnFinishedUnits}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{OnFinishedUnits()}{OnFinishedUnits()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Compilation\+State\+Impl\+::\+On\+Finished\+Units (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1base_1_1Vector}{base\+::\+Vector}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCode}{Wasm\+Code}} $\ast$ $>$}]{code\+\_\+vector }\end{DoxyParamCaption})}



Definition at line 3996 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3997                                        \{}
\DoxyCodeLine{3998   \mbox{\hyperlink{trace-event-no-perfetto_8h_ac437f27e15925a9bd53c69692a6c85fe}{TRACE\_EVENT1}}(\mbox{\hyperlink{trace-event-no-perfetto_8h_a97689377430b094caec680dd7dd230fe}{TRACE\_DISABLED\_BY\_DEFAULT}}(\textcolor{stringliteral}{"{}v8.wasm.detailed"{}}),}
\DoxyCodeLine{3999                \textcolor{stringliteral}{"{}wasm.OnFinishedUnits"{}}, \textcolor{stringliteral}{"{}units"{}}, code\_vector.size());}
\DoxyCodeLine{4000 }
\DoxyCodeLine{4001   \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{base::MutexGuard}} guard(\&\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a765312328515d177ce5825f083c9b759}{callbacks\_mutex\_}});}
\DoxyCodeLine{4002 }
\DoxyCodeLine{4003   \textcolor{comment}{// Assume an order of execution tiers that represents the quality of their}}
\DoxyCodeLine{4004   \textcolor{comment}{// generated code.}}
\DoxyCodeLine{4005   static\_assert(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13}{ExecutionTier::kNone}} < \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a3a4891ee13d971db79eeae3a6d61d151}{ExecutionTier::kLiftoff}} \&\&}
\DoxyCodeLine{4006                     \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a3a4891ee13d971db79eeae3a6d61d151}{ExecutionTier::kLiftoff}} < \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31}{ExecutionTier::kTurbofan}},}
\DoxyCodeLine{4007                 \textcolor{stringliteral}{"{}Assume an order on execution tiers"{}});}
\DoxyCodeLine{4008 }
\DoxyCodeLine{4009   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.wasm\_jitless) \{}
\DoxyCodeLine{4010     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a0ff6ff765770fe090dc00572f0e64272}{compilation\_progress\_}}.\mbox{\hyperlink{classv8_1_1base_1_1OwnedVector_a26c158458db822b4e91ca63ec1026131}{size}}(),}
\DoxyCodeLine{4011               \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab7f1169e5324c750facf09b9f5fbad94}{native\_module\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule_a04f2f50aa9d1cbc1dc28e60dbe687f74}{module}}()-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a5a60fa14372f7bc06d7d6f51d23b0bee}{num\_declared\_functions}});}
\DoxyCodeLine{4012   \}}
\DoxyCodeLine{4013 }
\DoxyCodeLine{4014   \textcolor{keywordtype}{bool} has\_top\_tier\_code = \textcolor{keyword}{false};}
\DoxyCodeLine{4015 }
\DoxyCodeLine{4016   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < code\_vector.size(); \mbox{\hyperlink{namespacev8_1_1internal}{i}}++) \{}
\DoxyCodeLine{4017     WasmCode* \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}} = code\_vector[\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}];}
\DoxyCodeLine{4018     \mbox{\hyperlink{src_2base_2logging_8h_a7b9f9517fedacc2a1a56c2bbb9d03688}{DCHECK\_NOT\_NULL}}(\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}});}
\DoxyCodeLine{4019     \mbox{\hyperlink{src_2base_2logging_8h_af1a711c8d5520dff78858ddefd2ad668}{DCHECK\_LT}}(\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>index(), \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab7f1169e5324c750facf09b9f5fbad94}{native\_module\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule_a4210dcf60ee0c22b95de93af93f17f86}{num\_functions}}());}
\DoxyCodeLine{4020 }
\DoxyCodeLine{4021     has\_top\_tier\_code |= \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>tier() == \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31}{ExecutionTier::kTurbofan}};}
\DoxyCodeLine{4022 }
\DoxyCodeLine{4023     \textcolor{keywordflow}{if} (\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>index() <}
\DoxyCodeLine{4024         \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab7f1169e5324c750facf09b9f5fbad94}{native\_module\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule_af886dc3d493824b7a1ae1e1f5ae02e42}{num\_imported\_functions}}())) \{}
\DoxyCodeLine{4025       \textcolor{comment}{// Import wrapper.}}
\DoxyCodeLine{4026       \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>tier(), \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31}{ExecutionTier::kTurbofan}});}
\DoxyCodeLine{4027       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a8961a8c084b70ecbdb9dfe082929b2bb}{outstanding\_baseline\_units\_}}-\/-\/;}
\DoxyCodeLine{4028     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{4029       \textcolor{comment}{// Function.}}
\DoxyCodeLine{4030       \mbox{\hyperlink{src_2base_2logging_8h_a986dc8f4ec6dcd0644efe205c13f8eb7}{DCHECK\_NE}}(\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>tier(), \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13}{ExecutionTier::kNone}});}
\DoxyCodeLine{4031 }
\DoxyCodeLine{4032       \textcolor{comment}{// Read function's compilation progress.}}
\DoxyCodeLine{4033       \textcolor{comment}{// This view on the compilation progress may differ from the actually}}
\DoxyCodeLine{4034       \textcolor{comment}{// compiled code. Any lazily compiled function does not contribute to the}}
\DoxyCodeLine{4035       \textcolor{comment}{// compilation progress but may publish code to the code manager.}}
\DoxyCodeLine{4036       uint8\_t\& function\_progress =}
\DoxyCodeLine{4037           \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a0ff6ff765770fe090dc00572f0e64272}{compilation\_progress\_}}[\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_abd9cf6cdda997dfabf862a6048202195}{declared\_function\_index}}(}
\DoxyCodeLine{4038               \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab7f1169e5324c750facf09b9f5fbad94}{native\_module\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule_a04f2f50aa9d1cbc1dc28e60dbe687f74}{module}}(), \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>index())];}
\DoxyCodeLine{4039       \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9}{ExecutionTier}} required\_baseline\_tier =}
\DoxyCodeLine{4040           \mbox{\hyperlink{classv8_1_1base_1_1BitField_a554df4b9ae5f0dc36b4d092bfc2e004b}{RequiredBaselineTierField::decode}}(function\_progress);}
\DoxyCodeLine{4041       \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9}{ExecutionTier}} reached\_tier = \mbox{\hyperlink{classv8_1_1base_1_1BitField_a554df4b9ae5f0dc36b4d092bfc2e004b}{ReachedTierField::decode}}(function\_progress);}
\DoxyCodeLine{4042 }
\DoxyCodeLine{4043       \textcolor{comment}{// Check whether required baseline or top tier are reached.}}
\DoxyCodeLine{4044       \textcolor{keywordflow}{if} (reached\_tier < required\_baseline\_tier \&\&}
\DoxyCodeLine{4045           required\_baseline\_tier <= code-\/>\mbox{\hyperlink{flag-definitions_8h_a878783ad616ead06040f7d4b080f6a02}{tier}}()) \{}
\DoxyCodeLine{4046         \mbox{\hyperlink{src_2base_2logging_8h_afd957f297df7e9ee36c46185e961485f}{DCHECK\_GT}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a8961a8c084b70ecbdb9dfe082929b2bb}{outstanding\_baseline\_units\_}}, 0);}
\DoxyCodeLine{4047         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a8961a8c084b70ecbdb9dfe082929b2bb}{outstanding\_baseline\_units\_}}-\/-\/;}
\DoxyCodeLine{4048       \}}
\DoxyCodeLine{4049       \textcolor{keywordflow}{if} (\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>tier() == \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31}{ExecutionTier::kTurbofan}}) \{}
\DoxyCodeLine{4050         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a0f9620bca55b357d90dba566d87043b1}{bytes\_since\_last\_chunk\_}} += \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>instructions().size();}
\DoxyCodeLine{4051       \}}
\DoxyCodeLine{4052 }
\DoxyCodeLine{4053       \textcolor{comment}{// Update function's compilation progress.}}
\DoxyCodeLine{4054       \textcolor{keywordflow}{if} (\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>tier() > reached\_tier) \{}
\DoxyCodeLine{4055         function\_progress =}
\DoxyCodeLine{4056             \mbox{\hyperlink{classv8_1_1base_1_1BitField_aa8d61fe165b5c0b2c869be69be02b7af}{ReachedTierField::update}}(function\_progress, \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>tier());}
\DoxyCodeLine{4057       \}}
\DoxyCodeLine{4058       \textcolor{comment}{// Allow another top tier compilation if deopts are enabled and the}}
\DoxyCodeLine{4059       \textcolor{comment}{// currently installed code object is a liftoff object.}}
\DoxyCodeLine{4060       \textcolor{comment}{// Ideally, this would be done only if the code-\/>tier() ==}}
\DoxyCodeLine{4061       \textcolor{comment}{// ExecutionTier::Liftoff as the code object for which we run this}}
\DoxyCodeLine{4062       \textcolor{comment}{// function should be the same as the one installed on the native\_module.}}
\DoxyCodeLine{4063       \textcolor{comment}{// This is unfortunately not the case as installing a code object on the}}
\DoxyCodeLine{4064       \textcolor{comment}{// native module and updating the compilation\_progress\_ and the}}
\DoxyCodeLine{4065       \textcolor{comment}{// CompilationUnitQueues::top\_tier\_compiled\_ are not synchronized.}}
\DoxyCodeLine{4066       \textcolor{comment}{// Note: GetCode() acquires the NativeModule::allocation\_mutex\_, so this}}
\DoxyCodeLine{4067       \textcolor{comment}{// could cause deadlocks if any other place acquires}}
\DoxyCodeLine{4068       \textcolor{comment}{// NativeModule::allocation\_mutex\_ first and then}}
\DoxyCodeLine{4069       \textcolor{comment}{// CompilationStateImpl::callbacks\_mutex\_!}}
\DoxyCodeLine{4070       \textcolor{keyword}{const} \textcolor{keywordtype}{bool} is\_liftoff = \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>tier() == \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a3a4891ee13d971db79eeae3a6d61d151}{ExecutionTier::kLiftoff}};}
\DoxyCodeLine{4071       \textcolor{keyword}{auto} published\_code\_is\_liftoff = [\textcolor{keyword}{this}](\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}) \{}
\DoxyCodeLine{4072         WasmCode* \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}} = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab7f1169e5324c750facf09b9f5fbad94}{native\_module\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule_a37a8384fb8317a24c3d58cf66ff64123}{GetCode}}(\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}});}
\DoxyCodeLine{4073         \textcolor{keywordflow}{if} (\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}} == \textcolor{keyword}{nullptr}) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{4074         \textcolor{keywordflow}{return} \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>is\_liftoff();}
\DoxyCodeLine{4075       \};}
\DoxyCodeLine{4076       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.wasm\_deopt \&\&}
\DoxyCodeLine{4077           (is\_liftoff || published\_code\_is\_liftoff(\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>index()))) \{}
\DoxyCodeLine{4078         \textcolor{comment}{// Setting the reached tier below the baseline tier would create an}}
\DoxyCodeLine{4079         \textcolor{comment}{// inconsistent state and has actually led to crashes before (see}}
\DoxyCodeLine{4080         \textcolor{comment}{// https://crbug.com/379086474).}}
\DoxyCodeLine{4081         \mbox{\hyperlink{src_2base_2logging_8h_a16b382527f19b805fc8f856668f2270b}{DCHECK\_LE}}(required\_baseline\_tier, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a3a4891ee13d971db79eeae3a6d61d151}{ExecutionTier::kLiftoff}});}
\DoxyCodeLine{4082         function\_progress = \mbox{\hyperlink{classv8_1_1base_1_1BitField_aa8d61fe165b5c0b2c869be69be02b7af}{ReachedTierField::update}}(function\_progress,}
\DoxyCodeLine{4083                                                      \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a3a4891ee13d971db79eeae3a6d61d151}{ExecutionTier::kLiftoff}});}
\DoxyCodeLine{4084         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab616d619108985decfe0d7f7ce17fcc6}{compilation\_unit\_queues\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitQueues_ac5cf3ece9a08ba65c92468996df796f6}{AllowAnotherTopTierJob}}(\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>index());}
\DoxyCodeLine{4085       \}}
\DoxyCodeLine{4086       \mbox{\hyperlink{src_2base_2logging_8h_a16b382527f19b805fc8f856668f2270b}{DCHECK\_LE}}(0, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a8961a8c084b70ecbdb9dfe082929b2bb}{outstanding\_baseline\_units\_}});}
\DoxyCodeLine{4087     \}}
\DoxyCodeLine{4088   \}}
\DoxyCodeLine{4089 }
\DoxyCodeLine{4090   \textcolor{comment}{// Update the \{last\_top\_tier\_compilation\_timestamp\_\} if it is set (i.e. a}}
\DoxyCodeLine{4091   \textcolor{comment}{// delayed task has already been spawned).}}
\DoxyCodeLine{4092   \textcolor{keywordflow}{if} (has\_top\_tier\_code \&\& !\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a9d575e5064d78171ea8245113351208a}{last\_top\_tier\_compilation\_timestamp\_}}.\mbox{\hyperlink{classv8_1_1base_1_1time__internal_1_1TimeBase_acf50e8599f7e76ab3cc07a32f8df30a9}{IsNull}}()) \{}
\DoxyCodeLine{4093     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a9d575e5064d78171ea8245113351208a}{last\_top\_tier\_compilation\_timestamp\_}} = \mbox{\hyperlink{classv8_1_1base_1_1TimeTicks_ab0886bf0e84f1e1fcdc101021c2c0775}{base::TimeTicks::Now}}();}
\DoxyCodeLine{4094   \}}
\DoxyCodeLine{4095 }
\DoxyCodeLine{4096   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a875b97140d7a45a4148a0fb1a248e42b}{TriggerOutstandingCallbacks}}();}
\DoxyCodeLine{4097 \}}

\end{DoxyCode}


References v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::\+Compilation\+Unit\+Queues\+::\+Allow\+Another\+Top\+Tier\+Job(), bytes\+\_\+since\+\_\+last\+\_\+chunk\+\_\+, callbacks\+\_\+mutex\+\_\+, code, compilation\+\_\+progress\+\_\+, compilation\+\_\+unit\+\_\+queues\+\_\+, DCHECK\+\_\+\+EQ, DCHECK\+\_\+\+GT, DCHECK\+\_\+\+LE, DCHECK\+\_\+\+LT, DCHECK\+\_\+\+NE, DCHECK\+\_\+\+NOT\+\_\+\+NULL, v8\+::internal\+::wasm\+::declared\+\_\+function\+\_\+index(), v8\+::base\+::\+Bit\+Field$<$ T, shift, size, U $>$\+::decode(), v8\+::internal\+::wasm\+::\+Native\+Module\+::\+Get\+Code(), v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::i, v8\+::internal\+::index, v8\+::base\+::time\+\_\+internal\+::\+Time\+Base$<$ Time\+Class $>$\+::\+Is\+Null(), v8\+::internal\+::wasm\+::k\+Liftoff, v8\+::internal\+::wasm\+::k\+None, v8\+::internal\+::wasm\+::k\+Turbofan, last\+\_\+top\+\_\+tier\+\_\+compilation\+\_\+timestamp\+\_\+, v8\+::internal\+::wasm\+::\+Native\+Module\+::module(), native\+\_\+module\+\_\+, v8\+::base\+::\+Time\+Ticks\+::\+Now(), v8\+::internal\+::wasm\+::\+Wasm\+Module\+::num\+\_\+declared\+\_\+functions, v8\+::internal\+::wasm\+::\+Native\+Module\+::num\+\_\+functions(), v8\+::internal\+::wasm\+::\+Native\+Module\+::num\+\_\+imported\+\_\+functions(), outstanding\+\_\+baseline\+\_\+units\+\_\+, v8\+::base\+::\+Vector$<$ T $>$\+::size(), v8\+::base\+::\+Owned\+Vector$<$ T $>$\+::size(), TRACE\+\_\+\+DISABLED\+\_\+\+BY\+\_\+\+DEFAULT, TRACE\+\_\+\+EVENT1, Trigger\+Outstanding\+Callbacks(), v8\+::base\+::\+Bit\+Field$<$ T, shift, size, U $>$\+::update(), and v8\+::internal\+::v8\+\_\+flags.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a0a03590d60fc6923649c15307fc00dfd_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_afc9ff843b7f51b2e035c286168390f2e}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_afc9ff843b7f51b2e035c286168390f2e}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!PublishCode@{PublishCode}}
\index{PublishCode@{PublishCode}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{PublishCode()}{PublishCode()}}
{\footnotesize\ttfamily std\+::vector$<$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCode}{Wasm\+Code}} $\ast$ $>$ v8\+::internal\+::wasm\+::\+Compilation\+State\+Impl\+::\+Publish\+Code (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1base_1_1Vector}{base\+::\+Vector}}$<$ \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1UnpublishedWasmCode}{Unpublished\+Wasm\+Code}} $>$}]{codes }\end{DoxyParamCaption})}



Definition at line 4276 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4277                                           \{}
\DoxyCodeLine{4278   WasmCodeRefScope code\_ref\_scope;}
\DoxyCodeLine{4279   std::vector<WasmCode*> published\_code =}
\DoxyCodeLine{4280       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab7f1169e5324c750facf09b9f5fbad94}{native\_module\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule_a91db58c0a3ed6efdba8d82e23a659fa7}{PublishCode}}(std::move(\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}));}
\DoxyCodeLine{4281   \textcolor{comment}{// Defer logging code in case wire bytes were not fully received yet.}}
\DoxyCodeLine{4282   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab7f1169e5324c750facf09b9f5fbad94}{native\_module\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule_a7394f35597a2e806ed37a5131279919d}{log\_code}}() \&\& \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab7f1169e5324c750facf09b9f5fbad94}{native\_module\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule_a53bed2d056d03e227cb3fd50df82a114}{HasWireBytes}}()) \{}
\DoxyCodeLine{4283     \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_abc12fc3b25ebfb54c20b8479642acb94}{GetWasmEngine}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmEngine_a2b1c94eee0072e6f73f9262078571a4f}{LogCode}}(\mbox{\hyperlink{namespacev8_1_1base_a5bfc65f27076e49eb7752a4fb4d45acb}{base::VectorOf}}(published\_code));}
\DoxyCodeLine{4284   \}}
\DoxyCodeLine{4285 }
\DoxyCodeLine{4286   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a0a03590d60fc6923649c15307fc00dfd}{OnFinishedUnits}}(\mbox{\hyperlink{namespacev8_1_1base_a5bfc65f27076e49eb7752a4fb4d45acb}{base::VectorOf}}(published\_code));}
\DoxyCodeLine{4287   \textcolor{keywordflow}{return} published\_code;}
\DoxyCodeLine{4288 \}}

\end{DoxyCode}


References code, v8\+::internal\+::wasm\+::\+Get\+Wasm\+Engine(), v8\+::internal\+::wasm\+::\+Wasm\+Engine\+::\+Log\+Code(), and v8\+::base\+::\+Vector\+Of().



Referenced by v8\+::internal\+::wasm\+::\+Compilation\+State\+::\+Publish\+Code().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_afc9ff843b7f51b2e035c286168390f2e_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_afc9ff843b7f51b2e035c286168390f2e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a811a5626f8ecd18c98ed09241c442de5}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a811a5626f8ecd18c98ed09241c442de5}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!PublishCompilationResults@{PublishCompilationResults}}
\index{PublishCompilationResults@{PublishCompilationResults}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{PublishCompilationResults()}{PublishCompilationResults()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Compilation\+State\+Impl\+::\+Publish\+Compilation\+Results (\begin{DoxyParamCaption}\item[{std\+::vector$<$ \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1UnpublishedWasmCode}{Unpublished\+Wasm\+Code}} $>$}]{unpublished\+\_\+code }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 4261 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4262                                                      \{}
\DoxyCodeLine{4263   \textcolor{keywordflow}{if} (unpublished\_code.empty()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{4264 }
\DoxyCodeLine{4265 \textcolor{preprocessor}{\#if DEBUG}}
\DoxyCodeLine{4266   \textcolor{comment}{// We don't compile import wrappers eagerly.}}
\DoxyCodeLine{4267   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& [\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}, assumptions] : unpublished\_code) \{}
\DoxyCodeLine{4268     \textcolor{keywordtype}{int} func\_index = \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>index();}
\DoxyCodeLine{4269     \mbox{\hyperlink{src_2base_2logging_8h_a16b382527f19b805fc8f856668f2270b}{DCHECK\_LE}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab7f1169e5324c750facf09b9f5fbad94}{native\_module\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule_af886dc3d493824b7a1ae1e1f5ae02e42}{num\_imported\_functions}}(), func\_index);}
\DoxyCodeLine{4270     \mbox{\hyperlink{src_2base_2logging_8h_af1a711c8d5520dff78858ddefd2ad668}{DCHECK\_LT}}(func\_index, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab7f1169e5324c750facf09b9f5fbad94}{native\_module\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule_a4210dcf60ee0c22b95de93af93f17f86}{num\_functions}}());}
\DoxyCodeLine{4271   \}}
\DoxyCodeLine{4272 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{4273   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_afc9ff843b7f51b2e035c286168390f2e}{PublishCode}}(\mbox{\hyperlink{namespacev8_1_1base_a5bfc65f27076e49eb7752a4fb4d45acb}{base::VectorOf}}(unpublished\_code));}
\DoxyCodeLine{4274 \}}

\end{DoxyCode}


References code, DCHECK\+\_\+\+LE, DCHECK\+\_\+\+LT, and v8\+::base\+::\+Vector\+Of().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a811a5626f8ecd18c98ed09241c442de5_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a31071aac7bfc7dfb7923f3376d78376b}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a31071aac7bfc7dfb7923f3376d78376b}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!SchedulePublishCompilationResults@{SchedulePublishCompilationResults}}
\index{SchedulePublishCompilationResults@{SchedulePublishCompilationResults}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{SchedulePublishCompilationResults()}{SchedulePublishCompilationResults()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Compilation\+State\+Impl\+::\+Schedule\+Publish\+Compilation\+Results (\begin{DoxyParamCaption}\item[{std\+::vector$<$ \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1UnpublishedWasmCode}{Unpublished\+Wasm\+Code}} $>$}]{unpublished\+\_\+code,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_aef575f4d4842a6dcdb81b8c172df9eb5}{Compilation\+Tier}}}]{tier }\end{DoxyParamCaption})}



Definition at line 4290 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4291                                                                            \{}
\DoxyCodeLine{4292   PublishState\& state = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a022eb4137f9bae86d68fe9792fda8042}{publish\_state\_}}[\mbox{\hyperlink{flag-definitions_8h_a878783ad616ead06040f7d4b080f6a02}{tier}}];}
\DoxyCodeLine{4293   \{}
\DoxyCodeLine{4294     \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{base::MutexGuard}} guard(\&state.mutex\_);}
\DoxyCodeLine{4295     \textcolor{keywordflow}{if} (state.publisher\_running\_) \{}
\DoxyCodeLine{4296       \textcolor{comment}{// Add new code to the queue and return.}}
\DoxyCodeLine{4297       state.publish\_queue\_.reserve(state.publish\_queue\_.size() +}
\DoxyCodeLine{4298                                    unpublished\_code.size());}
\DoxyCodeLine{4299       \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}\& c : unpublished\_code) \{}
\DoxyCodeLine{4300         state.publish\_queue\_.emplace\_back(std::move(c));}
\DoxyCodeLine{4301       \}}
\DoxyCodeLine{4302       \textcolor{keywordflow}{return};}
\DoxyCodeLine{4303     \}}
\DoxyCodeLine{4304     state.publisher\_running\_ = \textcolor{keyword}{true};}
\DoxyCodeLine{4305   \}}
\DoxyCodeLine{4306   \textcolor{keywordflow}{while} (\textcolor{keyword}{true}) \{}
\DoxyCodeLine{4307     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a811a5626f8ecd18c98ed09241c442de5}{PublishCompilationResults}}(std::move(unpublished\_code));}
\DoxyCodeLine{4308     unpublished\_code.clear();}
\DoxyCodeLine{4309 }
\DoxyCodeLine{4310     \textcolor{comment}{// Keep publishing new code that came in.}}
\DoxyCodeLine{4311     \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{base::MutexGuard}} guard(\&state.mutex\_);}
\DoxyCodeLine{4312     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(state.publisher\_running\_);}
\DoxyCodeLine{4313     \textcolor{keywordflow}{if} (state.publish\_queue\_.empty()) \{}
\DoxyCodeLine{4314       state.publisher\_running\_ = \textcolor{keyword}{false};}
\DoxyCodeLine{4315       \textcolor{keywordflow}{return};}
\DoxyCodeLine{4316     \}}
\DoxyCodeLine{4317     unpublished\_code.swap(state.publish\_queue\_);}
\DoxyCodeLine{4318   \}}
\DoxyCodeLine{4319 \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::\+Compilation\+State\+Impl\+::\+Publish\+State\+::mutex\+\_\+, v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::\+Compilation\+State\+Impl\+::\+Publish\+State\+::publish\+\_\+queue\+\_\+, and v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::\+Compilation\+State\+Impl\+::\+Publish\+State\+::publisher\+\_\+running\+\_\+.



Referenced by v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::\+Execute\+Compilation\+Units().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a31071aac7bfc7dfb7923f3376d78376b_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a31071aac7bfc7dfb7923f3376d78376b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a5691daef0ad1f616287b1bf605e6ed19}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a5691daef0ad1f616287b1bf605e6ed19}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!set\_compilation\_id@{set\_compilation\_id}}
\index{set\_compilation\_id@{set\_compilation\_id}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{set\_compilation\_id()}{set\_compilation\_id()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::Compilation\+State\+Impl\+::set\+\_\+compilation\+\_\+id (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classint}{int}}}]{compilation\+\_\+id }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 715 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{715                                               \{}
\DoxyCodeLine{716     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_abba3d6e3f1705511c75747b22d3f05ec}{compilation\_id\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a32bf0a519ec58a3c7c7444eeef340e5a}{kInvalidCompilationID}});}
\DoxyCodeLine{717     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_abba3d6e3f1705511c75747b22d3f05ec}{compilation\_id\_}} = compilation\_id;}
\DoxyCodeLine{718   \}}

\end{DoxyCode}


References DCHECK\+\_\+\+EQ.



Referenced by v8\+::internal\+::wasm\+::\+Compilation\+State\+::set\+\_\+compilation\+\_\+id().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a5691daef0ad1f616287b1bf605e6ed19_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a28b47f0cb3321f0107f1a57b0b7edf0d}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a28b47f0cb3321f0107f1a57b0b7edf0d}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!SetError@{SetError}}
\index{SetError@{SetError}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{SetError()}{SetError()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Compilation\+State\+Impl\+::\+Set\+Error (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 4326 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4326                                     \{}
\DoxyCodeLine{4327   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ac7c4f6efcf3aafb8f51b8a77da48410b}{compile\_cancelled\_}}.store(\textcolor{keyword}{true}, std::memory\_order\_relaxed);}
\DoxyCodeLine{4328   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a1c2df4934d4b851409d16a00d569d33e}{compile\_failed\_}}.exchange(\textcolor{keyword}{true}, std::memory\_order\_relaxed)) \{}
\DoxyCodeLine{4329     \textcolor{keywordflow}{return};  \textcolor{comment}{// Already failed before.}}
\DoxyCodeLine{4330   \}}
\DoxyCodeLine{4331 }
\DoxyCodeLine{4332   \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{base::MutexGuard}} callbacks\_guard(\&\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a765312328515d177ce5825f083c9b759}{callbacks\_mutex\_}});}
\DoxyCodeLine{4333   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a875b97140d7a45a4148a0fb1a248e42b}{TriggerOutstandingCallbacks}}();}
\DoxyCodeLine{4334   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a3ca161fb12e541db32b60d80eb4b1e90}{callbacks\_}}.clear();}
\DoxyCodeLine{4335 \}}

\end{DoxyCode}


Referenced by v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::\+Execute\+Compilation\+Units(), and v8\+::internal\+::wasm\+::\+Compilation\+State\+::\+Set\+Error().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a28b47f0cb3321f0107f1a57b0b7edf0d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a68db7bbe283a6280631da539f03ff3be}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a68db7bbe283a6280631da539f03ff3be}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!SetWireBytesStorage@{SetWireBytesStorage}}
\index{SetWireBytesStorage@{SetWireBytesStorage}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{SetWireBytesStorage()}{SetWireBytesStorage()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::Compilation\+State\+Impl\+::\+Set\+Wire\+Bytes\+Storage (\begin{DoxyParamCaption}\item[{std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WireBytesStorage}{Wire\+Bytes\+Storage}} $>$}]{wire\+\_\+bytes\+\_\+storage }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 703 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{704                                                           \{}
\DoxyCodeLine{705     \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{base::MutexGuard}} guard(\&\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a9b824ee2bd19df1806a89e4d74a697da}{mutex\_}});}
\DoxyCodeLine{706     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a88bbd14f5345baf9dea935d9f1b6de94}{wire\_bytes\_storage\_}} = std::move(wire\_bytes\_storage);}
\DoxyCodeLine{707   \}}

\end{DoxyCode}


Referenced by v8\+::internal\+::wasm\+::\+Compilation\+State\+::\+Set\+Wire\+Bytes\+Storage().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a68db7bbe283a6280631da539f03ff3be_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a2321adabbd69bbd58643f3fcd00177bd}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a2321adabbd69bbd58643f3fcd00177bd}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!TierUpAllFunctions@{TierUpAllFunctions}}
\index{TierUpAllFunctions@{TierUpAllFunctions}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{TierUpAllFunctions()}{TierUpAllFunctions()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Compilation\+State\+Impl\+::\+Tier\+Up\+All\+Functions (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 4355 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4355                                               \{}
\DoxyCodeLine{4356   \textcolor{keyword}{const} \mbox{\hyperlink{namespacev8_1_1internal_a09dbf9baefb793fd78912d6ef89f9dde}{WasmModule}}* module = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab7f1169e5324c750facf09b9f5fbad94}{native\_module\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule_a04f2f50aa9d1cbc1dc28e60dbe687f74}{module}}();}
\DoxyCodeLine{4357   uint32\_t num\_wasm\_functions = module-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a5a60fa14372f7bc06d7d6f51d23b0bee}{num\_declared\_functions}};}
\DoxyCodeLine{4358   WasmCodeRefScope code\_ref\_scope;}
\DoxyCodeLine{4359   CompilationUnitBuilder builder(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab7f1169e5324c750facf09b9f5fbad94}{native\_module\_}});}
\DoxyCodeLine{4360   \textcolor{keywordflow}{for} (uint32\_t \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < num\_wasm\_functions; ++\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}) \{}
\DoxyCodeLine{4361     \textcolor{keywordtype}{int} func\_index = module-\/>num\_imported\_functions + \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}};}
\DoxyCodeLine{4362     WasmCode* \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}} = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab7f1169e5324c750facf09b9f5fbad94}{native\_module\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule_a37a8384fb8317a24c3d58cf66ff64123}{GetCode}}(func\_index);}
\DoxyCodeLine{4363     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}} || !\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>is\_turbofan()) \{}
\DoxyCodeLine{4364       builder.AddTopTierUnit(func\_index, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31}{ExecutionTier::kTurbofan}});}
\DoxyCodeLine{4365     \}}
\DoxyCodeLine{4366   \}}
\DoxyCodeLine{4367   builder.Commit();}
\DoxyCodeLine{4368 }
\DoxyCodeLine{4369   \textcolor{comment}{// Join the compilation, until no compilation units are left anymore.}}
\DoxyCodeLine{4370   \textcolor{keyword}{class }DummyDelegate final : \textcolor{keyword}{public} \mbox{\hyperlink{namespacecppgc_a74aa606ef974ec10b401c6538a239245}{JobDelegate}} \{}
\DoxyCodeLine{4371     \textcolor{keywordtype}{bool} ShouldYield()\textcolor{keyword}{ override }\{ \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \}}
\DoxyCodeLine{4372     \textcolor{keywordtype}{bool} IsJoiningThread()\textcolor{keyword}{ const override }\{ \textcolor{keywordflow}{return} \textcolor{keyword}{true}; \}}
\DoxyCodeLine{4373     \textcolor{keywordtype}{void} NotifyConcurrencyIncrease()\textcolor{keyword}{ override }\{ \mbox{\hyperlink{namespacev8_1_1internal_a538499d2a66bf6e9d3182a57104edec9}{UNIMPLEMENTED}}(); \}}
\DoxyCodeLine{4374     uint8\_t GetTaskId()\textcolor{keyword}{ override }\{ \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_a015ad5b29d5923038933294c57cca557}{kMainTaskId}}; \}}
\DoxyCodeLine{4375   \};}
\DoxyCodeLine{4376 }
\DoxyCodeLine{4377   DummyDelegate delegate;}
\DoxyCodeLine{4378   \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_a168d82deb0d259820bfa9d1edff28451}{ExecuteCompilationUnits}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a01d1dc67992204402a64b064c6aece4d}{native\_module\_weak\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ad0de5a795e5ca3ea15b6dc64672f9fdb}{async\_counters\_}}.get(), \&delegate,}
\DoxyCodeLine{4379                           \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_aef575f4d4842a6dcdb81b8c172df9eb5a7d4e18577ff3900f63c397998a03e7cf}{CompilationTier::kTopTier}});}
\DoxyCodeLine{4380 }
\DoxyCodeLine{4381   \textcolor{comment}{// We cannot wait for other compilation threads to finish, so we explicitly}}
\DoxyCodeLine{4382   \textcolor{comment}{// compile all functions which are not yet available as TurboFan code.}}
\DoxyCodeLine{4383   \textcolor{keywordflow}{for} (uint32\_t \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < num\_wasm\_functions; ++\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}) \{}
\DoxyCodeLine{4384     uint32\_t func\_index = module-\/>num\_imported\_functions + \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}};}
\DoxyCodeLine{4385     WasmCode* \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}} = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab7f1169e5324c750facf09b9f5fbad94}{native\_module\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule_a37a8384fb8317a24c3d58cf66ff64123}{GetCode}}(func\_index);}
\DoxyCodeLine{4386     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}} || !\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>is\_turbofan()) \{}
\DoxyCodeLine{4387       \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_abc12fc3b25ebfb54c20b8479642acb94}{wasm::GetWasmEngine}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmEngine_a91a8d27da954c0e30d403ffa8fcb7bf5}{CompileFunction}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ad0de5a795e5ca3ea15b6dc64672f9fdb}{async\_counters\_}}.get(),}
\DoxyCodeLine{4388                                              \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab7f1169e5324c750facf09b9f5fbad94}{native\_module\_}}, func\_index,}
\DoxyCodeLine{4389                                              \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31}{wasm::ExecutionTier::kTurbofan}});}
\DoxyCodeLine{4390     \}}
\DoxyCodeLine{4391   \}}
\DoxyCodeLine{4392 \}}

\end{DoxyCode}


References v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::\+Compilation\+Unit\+Builder\+::\+Add\+Top\+Tier\+Unit(), code, v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::\+Compilation\+Unit\+Builder\+::\+Commit(), v8\+::internal\+::wasm\+::\+Wasm\+Engine\+::\+Compile\+Function(), v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::\+Execute\+Compilation\+Units(), v8\+::internal\+::wasm\+::\+Get\+Wasm\+Engine(), v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::i, v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::k\+Main\+Task\+Id, v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::k\+Top\+Tier, v8\+::internal\+::wasm\+::k\+Turbofan, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::num\+\_\+declared\+\_\+functions, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::num\+\_\+imported\+\_\+functions, and v8\+::internal\+::\+UNIMPLEMENTED().



Referenced by v8\+::internal\+::wasm\+::\+Compilation\+State\+::\+Tier\+Up\+All\+Functions().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a2321adabbd69bbd58643f3fcd00177bd_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a2321adabbd69bbd58643f3fcd00177bd_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a2c5396b3ed7bfce2157b37923b77ffee}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a2c5396b3ed7bfce2157b37923b77ffee}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!TriggerCachingAfterTimeout@{TriggerCachingAfterTimeout}}
\index{TriggerCachingAfterTimeout@{TriggerCachingAfterTimeout}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{TriggerCachingAfterTimeout()}{TriggerCachingAfterTimeout()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Compilation\+State\+Impl\+::\+Trigger\+Caching\+After\+Timeout (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 4197 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4197                                                       \{}
\DoxyCodeLine{4198   \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{base::MutexGuard}} guard\{\&\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a765312328515d177ce5825f083c9b759}{callbacks\_mutex\_}}\};}
\DoxyCodeLine{4199 }
\DoxyCodeLine{4200   \textcolor{comment}{// It can happen that we reached the hard threshold while waiting for the}}
\DoxyCodeLine{4201   \textcolor{comment}{// timeout to expire. In that case, \{bytes\_since\_last\_chunk\_\} might be zero}}
\DoxyCodeLine{4202   \textcolor{comment}{// and there is nothing new to cache.}}
\DoxyCodeLine{4203   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a0f9620bca55b357d90dba566d87043b1}{bytes\_since\_last\_chunk\_}} == 0) \textcolor{keywordflow}{return};}
\DoxyCodeLine{4204 }
\DoxyCodeLine{4205   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a9d575e5064d78171ea8245113351208a}{last\_top\_tier\_compilation\_timestamp\_}}.\mbox{\hyperlink{classv8_1_1base_1_1time__internal_1_1TimeBase_acf50e8599f7e76ab3cc07a32f8df30a9}{IsNull}}());}
\DoxyCodeLine{4206   base::TimeTicks caching\_time =}
\DoxyCodeLine{4207       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a9d575e5064d78171ea8245113351208a}{last\_top\_tier\_compilation\_timestamp\_}} +}
\DoxyCodeLine{4208       \mbox{\hyperlink{classv8_1_1base_1_1TimeDelta_aedb23f3b7d15531e09b71883aaa96b6d}{base::TimeDelta::FromMilliseconds}}(\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.wasm\_caching\_timeout\_ms);}
\DoxyCodeLine{4209   base::TimeDelta time\_until\_caching = caching\_time -\/ \mbox{\hyperlink{classv8_1_1base_1_1TimeTicks_ab0886bf0e84f1e1fcdc101021c2c0775}{base::TimeTicks::Now}}();}
\DoxyCodeLine{4210   \textcolor{comment}{// If we are still half a millisecond or more away from the timeout,}}
\DoxyCodeLine{4211   \textcolor{comment}{// reschedule the task. Otherwise, call the caching callback.}}
\DoxyCodeLine{4212   \textcolor{keywordflow}{if} (time\_until\_caching >= \mbox{\hyperlink{classv8_1_1base_1_1TimeDelta_a1df269c42efa26b4b6defb9d83f850da}{base::TimeDelta::FromMicroseconds}}(500)) \{}
\DoxyCodeLine{4213     \textcolor{keywordtype}{int} ms\_remaining =}
\DoxyCodeLine{4214         \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(time\_until\_caching.InMillisecondsRoundedUp());}
\DoxyCodeLine{4215     \mbox{\hyperlink{src_2base_2logging_8h_a16b382527f19b805fc8f856668f2270b}{DCHECK\_LE}}(1, ms\_remaining);}
\DoxyCodeLine{4216     \mbox{\hyperlink{classv8_1_1internal_1_1V8_a5eb1d47c492fa1e85e7d7c31dd5cf2bb}{V8::GetCurrentPlatform}}()-\/>\mbox{\hyperlink{classv8_1_1Platform_a2049d7024e1e9613360968867f0f70bd}{PostDelayedTaskOnWorkerThread}}(}
\DoxyCodeLine{4217         \mbox{\hyperlink{namespacev8_a680c1a715d1d5df94b21e8b1ee1bf051a602dfdb2b16ea7a1f4392dc3d5761f7d}{TaskPriority::kUserVisible}},}
\DoxyCodeLine{4218         std::make\_unique<TriggerCodeCachingAfterTimeoutTask>(}
\DoxyCodeLine{4219             \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a01d1dc67992204402a64b064c6aece4d}{native\_module\_weak\_}}),}
\DoxyCodeLine{4220         ms\_remaining);}
\DoxyCodeLine{4221     \textcolor{keywordflow}{return};}
\DoxyCodeLine{4222   \}}
\DoxyCodeLine{4223 }
\DoxyCodeLine{4224   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a9c6ad44bd5a7aaefd4190c42ff0f3ea0}{TriggerCallbacks}}(\{\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a020d8fcab0133f11030d7b8ef6259e29a9ac6b83a7cebbcdae83cb92173c10599}{CompilationEvent::kFinishedCompilationChunk}}\});}
\DoxyCodeLine{4225   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a9d575e5064d78171ea8245113351208a}{last\_top\_tier\_compilation\_timestamp\_}} = \{\};}
\DoxyCodeLine{4226   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a0f9620bca55b357d90dba566d87043b1}{bytes\_since\_last\_chunk\_}} = 0;}
\DoxyCodeLine{4227 \}}

\end{DoxyCode}


References bytes\+\_\+since\+\_\+last\+\_\+chunk\+\_\+, callbacks\+\_\+mutex\+\_\+, v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+LE, v8\+::base\+::\+Time\+Delta\+::\+From\+Microseconds(), v8\+::base\+::\+Time\+Delta\+::\+From\+Milliseconds(), v8\+::internal\+::\+V8\+::\+Get\+Current\+Platform(), v8\+::base\+::\+Time\+Delta\+::\+In\+Milliseconds\+Rounded\+Up(), v8\+::base\+::time\+\_\+internal\+::\+Time\+Base$<$ Time\+Class $>$\+::\+Is\+Null(), v8\+::internal\+::wasm\+::k\+Finished\+Compilation\+Chunk, v8\+::k\+User\+Visible, last\+\_\+top\+\_\+tier\+\_\+compilation\+\_\+timestamp\+\_\+, native\+\_\+module\+\_\+weak\+\_\+, v8\+::base\+::\+Time\+Ticks\+::\+Now(), v8\+::\+Platform\+::\+Post\+Delayed\+Task\+On\+Worker\+Thread(), Trigger\+Callbacks(), and v8\+::internal\+::v8\+\_\+flags.



Referenced by v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::\+Trigger\+Code\+Caching\+After\+Timeout\+Task\+::\+Run().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a2c5396b3ed7bfce2157b37923b77ffee_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a2c5396b3ed7bfce2157b37923b77ffee_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a9c6ad44bd5a7aaefd4190c42ff0f3ea0}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a9c6ad44bd5a7aaefd4190c42ff0f3ea0}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!TriggerCallbacks@{TriggerCallbacks}}
\index{TriggerCallbacks@{TriggerCallbacks}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{TriggerCallbacks()}{TriggerCallbacks()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Compilation\+State\+Impl\+::\+Trigger\+Callbacks (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1base_1_1EnumSet}{base\+::\+Enum\+Set}}$<$ \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a020d8fcab0133f11030d7b8ef6259e29}{Compilation\+Event}} $>$}]{events }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 4164 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4165                                           \{}
\DoxyCodeLine{4166   \textcolor{keywordflow}{if} (events.empty()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{4167 }
\DoxyCodeLine{4168   \textcolor{comment}{// Don't trigger past events again.}}
\DoxyCodeLine{4169   events -\/= \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ada63ef52e4d0b472d4194a3a6aec02e7}{finished\_events\_}};}
\DoxyCodeLine{4170   \textcolor{comment}{// There can be multiple compilation chunks, thus do not store this.}}
\DoxyCodeLine{4171   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ada63ef52e4d0b472d4194a3a6aec02e7}{finished\_events\_}} |= events -\/ \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a020d8fcab0133f11030d7b8ef6259e29a9ac6b83a7cebbcdae83cb92173c10599}{CompilationEvent::kFinishedCompilationChunk}};}
\DoxyCodeLine{4172 }
\DoxyCodeLine{4173   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} event :}
\DoxyCodeLine{4174        \{std::make\_pair(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a020d8fcab0133f11030d7b8ef6259e29af90d51f0b738cedabb652e72ffd7b8ed}{CompilationEvent::kFailedCompilation}},}
\DoxyCodeLine{4175                        \textcolor{stringliteral}{"{}wasm.CompilationFailed"{}}),}
\DoxyCodeLine{4176         std::make\_pair(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a020d8fcab0133f11030d7b8ef6259e29a41b18f40e8022b599bc6360f216daba4}{CompilationEvent::kFinishedBaselineCompilation}},}
\DoxyCodeLine{4177                        \textcolor{stringliteral}{"{}wasm.BaselineFinished"{}}),}
\DoxyCodeLine{4178         std::make\_pair(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a020d8fcab0133f11030d7b8ef6259e29a9ac6b83a7cebbcdae83cb92173c10599}{CompilationEvent::kFinishedCompilationChunk}},}
\DoxyCodeLine{4179                        \textcolor{stringliteral}{"{}wasm.CompilationChunkFinished"{}})\}) \{}
\DoxyCodeLine{4180     \textcolor{keywordflow}{if} (!events.contains(event.first)) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{4181     \mbox{\hyperlink{src_2base_2logging_8h_a986dc8f4ec6dcd0644efe205c13f8eb7}{DCHECK\_NE}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_abba3d6e3f1705511c75747b22d3f05ec}{compilation\_id\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a32bf0a519ec58a3c7c7444eeef340e5a}{kInvalidCompilationID}});}
\DoxyCodeLine{4182     \mbox{\hyperlink{trace-event-no-perfetto_8h_ac437f27e15925a9bd53c69692a6c85fe}{TRACE\_EVENT1}}(\textcolor{stringliteral}{"{}v8.wasm"{}}, event.second, \textcolor{stringliteral}{"{}id"{}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_abba3d6e3f1705511c75747b22d3f05ec}{compilation\_id\_}});}
\DoxyCodeLine{4183     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}\& callback : \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a3ca161fb12e541db32b60d80eb4b1e90}{callbacks\_}}) \{}
\DoxyCodeLine{4184       callback-\/>call(event.first);}
\DoxyCodeLine{4185     \}}
\DoxyCodeLine{4186   \}}
\DoxyCodeLine{4187 }
\DoxyCodeLine{4188   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a8961a8c084b70ecbdb9dfe082929b2bb}{outstanding\_baseline\_units\_}} == 0) \{}
\DoxyCodeLine{4189     \textcolor{keyword}{auto} new\_end = std::remove\_if(}
\DoxyCodeLine{4190         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a3ca161fb12e541db32b60d80eb4b1e90}{callbacks\_}}.begin(), \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a3ca161fb12e541db32b60d80eb4b1e90}{callbacks\_}}.end(), [](\textcolor{keyword}{const} \textcolor{keyword}{auto}\& callback) \{}
\DoxyCodeLine{4191           return callback-\/>release\_after\_final\_event();}
\DoxyCodeLine{4192         \});}
\DoxyCodeLine{4193     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a3ca161fb12e541db32b60d80eb4b1e90}{callbacks\_}}.erase(new\_end, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a3ca161fb12e541db32b60d80eb4b1e90}{callbacks\_}}.end());}
\DoxyCodeLine{4194   \}}
\DoxyCodeLine{4195 \}}

\end{DoxyCode}


References callbacks\+\_\+, compilation\+\_\+id\+\_\+, v8\+::base\+::\+Enum\+Set$<$ E, T $>$\+::contains(), DCHECK\+\_\+\+NE, v8\+::base\+::\+Enum\+Set$<$ E, T $>$\+::empty(), finished\+\_\+events\+\_\+, v8\+::internal\+::wasm\+::k\+Failed\+Compilation, v8\+::internal\+::wasm\+::k\+Finished\+Baseline\+Compilation, v8\+::internal\+::wasm\+::k\+Finished\+Compilation\+Chunk, k\+Invalid\+Compilation\+ID, outstanding\+\_\+baseline\+\_\+units\+\_\+, and TRACE\+\_\+\+EVENT1.



Referenced by Trigger\+Caching\+After\+Timeout(), and Trigger\+Outstanding\+Callbacks().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a9c6ad44bd5a7aaefd4190c42ff0f3ea0_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a9c6ad44bd5a7aaefd4190c42ff0f3ea0_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a875b97140d7a45a4148a0fb1a248e42b}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a875b97140d7a45a4148a0fb1a248e42b}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!TriggerOutstandingCallbacks@{TriggerOutstandingCallbacks}}
\index{TriggerOutstandingCallbacks@{TriggerOutstandingCallbacks}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{TriggerOutstandingCallbacks()}{TriggerOutstandingCallbacks()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Compilation\+State\+Impl\+::\+Trigger\+Outstanding\+Callbacks (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 4117 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4117                                                        \{}
\DoxyCodeLine{4118   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a765312328515d177ce5825f083c9b759}{callbacks\_mutex\_}}.\mbox{\hyperlink{classv8_1_1base_1_1Mutex_a281097589e7088f5af211349cac0ef9d}{AssertHeld}}();}
\DoxyCodeLine{4119 }
\DoxyCodeLine{4120   base::EnumSet<CompilationEvent> triggered\_events;}
\DoxyCodeLine{4121   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a8961a8c084b70ecbdb9dfe082929b2bb}{outstanding\_baseline\_units\_}} == 0) \{}
\DoxyCodeLine{4122     triggered\_events.Add(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a020d8fcab0133f11030d7b8ef6259e29a41b18f40e8022b599bc6360f216daba4}{CompilationEvent::kFinishedBaselineCompilation}});}
\DoxyCodeLine{4123   \}}
\DoxyCodeLine{4124 }
\DoxyCodeLine{4125   \textcolor{comment}{// For dynamic tiering, trigger "{}compilation chunk finished"{} after a new chunk}}
\DoxyCodeLine{4126   \textcolor{comment}{// of size \{v8\_flags.wasm\_caching\_threshold\}.}}
\DoxyCodeLine{4127   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.wasm\_dynamic\_tiering \&\&}
\DoxyCodeLine{4128       \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.wasm\_caching\_threshold) <=}
\DoxyCodeLine{4129           \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a0f9620bca55b357d90dba566d87043b1}{bytes\_since\_last\_chunk\_}}) \{}
\DoxyCodeLine{4130     \textcolor{comment}{// Trigger caching immediately if}}
\DoxyCodeLine{4131     \textcolor{comment}{// -\/ there is no timeout,}}
\DoxyCodeLine{4132     \textcolor{comment}{// -\/ the hard threshold was reached, or}}
\DoxyCodeLine{4133     \textcolor{comment}{// -\/ we are running single-\/threaded.}}
\DoxyCodeLine{4134     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.single\_threaded || \mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.wasm\_caching\_timeout\_ms <= 0 ||}
\DoxyCodeLine{4135         \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.wasm\_caching\_hard\_threshold) <=}
\DoxyCodeLine{4136             \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a0f9620bca55b357d90dba566d87043b1}{bytes\_since\_last\_chunk\_}}) \{}
\DoxyCodeLine{4137       triggered\_events.Add(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a020d8fcab0133f11030d7b8ef6259e29a9ac6b83a7cebbcdae83cb92173c10599}{CompilationEvent::kFinishedCompilationChunk}});}
\DoxyCodeLine{4138       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a0f9620bca55b357d90dba566d87043b1}{bytes\_since\_last\_chunk\_}} = 0;}
\DoxyCodeLine{4139     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a9d575e5064d78171ea8245113351208a}{last\_top\_tier\_compilation\_timestamp\_}}.\mbox{\hyperlink{classv8_1_1base_1_1time__internal_1_1TimeBase_acf50e8599f7e76ab3cc07a32f8df30a9}{IsNull}}()) \{}
\DoxyCodeLine{4140       \textcolor{comment}{// Trigger a task after the given timeout; that task will only trigger}}
\DoxyCodeLine{4141       \textcolor{comment}{// caching if no new code was added until then. Otherwise, it will}}
\DoxyCodeLine{4142       \textcolor{comment}{// re-\/schedule itself.}}
\DoxyCodeLine{4143       \mbox{\hyperlink{classv8_1_1internal_1_1V8_a5eb1d47c492fa1e85e7d7c31dd5cf2bb}{V8::GetCurrentPlatform}}()-\/>\mbox{\hyperlink{classv8_1_1Platform_a2049d7024e1e9613360968867f0f70bd}{PostDelayedTaskOnWorkerThread}}(}
\DoxyCodeLine{4144           \mbox{\hyperlink{namespacev8_a680c1a715d1d5df94b21e8b1ee1bf051a602dfdb2b16ea7a1f4392dc3d5761f7d}{TaskPriority::kUserVisible}},}
\DoxyCodeLine{4145           std::make\_unique<TriggerCodeCachingAfterTimeoutTask>(}
\DoxyCodeLine{4146               \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a01d1dc67992204402a64b064c6aece4d}{native\_module\_weak\_}}),}
\DoxyCodeLine{4147           1e-\/3 * \mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.wasm\_caching\_timeout\_ms);}
\DoxyCodeLine{4148 }
\DoxyCodeLine{4149       \textcolor{comment}{// Set the timestamp (will be updated by \{OnFinishedUnits\} if more}}
\DoxyCodeLine{4150       \textcolor{comment}{// top-\/tier compilation finished before the delayed task is being run).}}
\DoxyCodeLine{4151       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a9d575e5064d78171ea8245113351208a}{last\_top\_tier\_compilation\_timestamp\_}} = \mbox{\hyperlink{classv8_1_1base_1_1TimeTicks_ab0886bf0e84f1e1fcdc101021c2c0775}{base::TimeTicks::Now}}();}
\DoxyCodeLine{4152     \}}
\DoxyCodeLine{4153   \}}
\DoxyCodeLine{4154 }
\DoxyCodeLine{4155   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a1c2df4934d4b851409d16a00d569d33e}{compile\_failed\_}}.load(std::memory\_order\_relaxed)) \{}
\DoxyCodeLine{4156     \textcolor{comment}{// *Only* trigger the "{}failed"{} event.}}
\DoxyCodeLine{4157     triggered\_events =}
\DoxyCodeLine{4158         base::EnumSet<CompilationEvent>(\{\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a020d8fcab0133f11030d7b8ef6259e29af90d51f0b738cedabb652e72ffd7b8ed}{CompilationEvent::kFailedCompilation}}\});}
\DoxyCodeLine{4159   \}}
\DoxyCodeLine{4160 }
\DoxyCodeLine{4161   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a9c6ad44bd5a7aaefd4190c42ff0f3ea0}{TriggerCallbacks}}(triggered\_events);}
\DoxyCodeLine{4162 \}}

\end{DoxyCode}


References v8\+::base\+::\+Enum\+Set$<$ E, T $>$\+::\+Add(), v8\+::base\+::\+Mutex\+::\+Assert\+Held(), bytes\+\_\+since\+\_\+last\+\_\+chunk\+\_\+, callbacks\+\_\+mutex\+\_\+, compile\+\_\+failed\+\_\+, v8\+::internal\+::\+V8\+::\+Get\+Current\+Platform(), v8\+::base\+::time\+\_\+internal\+::\+Time\+Base$<$ Time\+Class $>$\+::\+Is\+Null(), v8\+::internal\+::wasm\+::k\+Failed\+Compilation, v8\+::internal\+::wasm\+::k\+Finished\+Baseline\+Compilation, v8\+::internal\+::wasm\+::k\+Finished\+Compilation\+Chunk, v8\+::k\+User\+Visible, last\+\_\+top\+\_\+tier\+\_\+compilation\+\_\+timestamp\+\_\+, native\+\_\+module\+\_\+weak\+\_\+, v8\+::base\+::\+Time\+Ticks\+::\+Now(), outstanding\+\_\+baseline\+\_\+units\+\_\+, v8\+::\+Platform\+::\+Post\+Delayed\+Task\+On\+Worker\+Thread(), Trigger\+Callbacks(), and v8\+::internal\+::v8\+\_\+flags.



Referenced by Initialize\+Compilation\+Progress(), and On\+Finished\+Units().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a875b97140d7a45a4148a0fb1a248e42b_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a875b97140d7a45a4148a0fb1a248e42b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ae307e43873e6a925477fefac9dcef545}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ae307e43873e6a925477fefac9dcef545}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!UpdateDetectedFeatures@{UpdateDetectedFeatures}}
\index{UpdateDetectedFeatures@{UpdateDetectedFeatures}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{UpdateDetectedFeatures()}{UpdateDetectedFeatures()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmDetectedFeatures}{Wasm\+Detected\+Features}} v8\+::internal\+::wasm\+::\+Compilation\+State\+Impl\+::\+Update\+Detected\+Features (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmDetectedFeatures}{Wasm\+Detected\+Features}}}]{detected\+\_\+features }\end{DoxyParamCaption})}



Definition at line 4249 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4250                                             \{}
\DoxyCodeLine{4251   WasmDetectedFeatures old\_features =}
\DoxyCodeLine{4252       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a9a3e39ad3a707e8d6dfc2feab40f034a}{detected\_features\_}}.load(std::memory\_order\_relaxed);}
\DoxyCodeLine{4253   \textcolor{keywordflow}{while} (!\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a9a3e39ad3a707e8d6dfc2feab40f034a}{detected\_features\_}}.compare\_exchange\_weak(}
\DoxyCodeLine{4254       old\_features, old\_features | \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a46f742b041803cde875c307e3021be18}{detected\_features}},}
\DoxyCodeLine{4255       std::memory\_order\_relaxed)) \{}
\DoxyCodeLine{4256     \textcolor{comment}{// Retry with updated \{old\_features\}.}}
\DoxyCodeLine{4257   \}}
\DoxyCodeLine{4258   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a46f742b041803cde875c307e3021be18}{detected\_features}} -\/ old\_features;}
\DoxyCodeLine{4259 \}}

\end{DoxyCode}


Referenced by On\+Compilation\+Stopped(), and v8\+::internal\+::wasm\+::\+Compilation\+State\+::\+Update\+Detected\+Features().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ae307e43873e6a925477fefac9dcef545_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_aaf65fb2f96cb75ae477b7b62b8aecb90}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_aaf65fb2f96cb75ae477b7b62b8aecb90}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!WaitForCompilationEvent@{WaitForCompilationEvent}}
\index{WaitForCompilationEvent@{WaitForCompilationEvent}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{WaitForCompilationEvent()}{WaitForCompilationEvent()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Compilation\+State\+Impl\+::\+Wait\+For\+Compilation\+Event (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a020d8fcab0133f11030d7b8ef6259e29}{Compilation\+Event}}}]{event }\end{DoxyParamCaption})}



Definition at line 4337 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4338                                    \{}
\DoxyCodeLine{4339   \textcolor{keywordflow}{switch} (expect\_event) \{}
\DoxyCodeLine{4340     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a020d8fcab0133f11030d7b8ef6259e29a41b18f40e8022b599bc6360f216daba4}{CompilationEvent::kFinishedBaselineCompilation}}:}
\DoxyCodeLine{4341       \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a40e79d0e08ce2b9ec620f2492d883b2e}{baseline\_compile\_job\_}}-\/>IsValid()) \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a40e79d0e08ce2b9ec620f2492d883b2e}{baseline\_compile\_job\_}}-\/>Join();}
\DoxyCodeLine{4342       \textcolor{keywordflow}{break};}
\DoxyCodeLine{4343     \textcolor{keywordflow}{default}:}
\DoxyCodeLine{4344       \textcolor{comment}{// Waiting on other CompilationEvent doesn't make sense.}}
\DoxyCodeLine{4345       \mbox{\hyperlink{namespacev8_1_1internal_acdec713c25068019f935e35976f5b666}{UNREACHABLE}}();}
\DoxyCodeLine{4346   \}}
\DoxyCodeLine{4347 \textcolor{preprocessor}{\#ifdef DEBUG}}
\DoxyCodeLine{4348   base::EnumSet<CompilationEvent> events\{expect\_event,}
\DoxyCodeLine{4349                                          \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a020d8fcab0133f11030d7b8ef6259e29af90d51f0b738cedabb652e72ffd7b8ed}{CompilationEvent::kFailedCompilation}}\};}
\DoxyCodeLine{4350   \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{base::MutexGuard}} guard(\&\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a765312328515d177ce5825f083c9b759}{callbacks\_mutex\_}});}
\DoxyCodeLine{4351   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ada63ef52e4d0b472d4194a3a6aec02e7}{finished\_events\_}}.\mbox{\hyperlink{classv8_1_1base_1_1EnumSet_acdcea1dcfc64156b624c2f674654fc93}{contains\_any}}(events));}
\DoxyCodeLine{4352 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{4353 \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), v8\+::internal\+::wasm\+::k\+Failed\+Compilation, v8\+::internal\+::wasm\+::k\+Finished\+Baseline\+Compilation, and v8\+::internal\+::\+UNREACHABLE().



Referenced by Initialize\+Compilation\+Progress\+After\+Deserialization().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_aaf65fb2f96cb75ae477b7b62b8aecb90_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_aaf65fb2f96cb75ae477b7b62b8aecb90_icgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ad0de5a795e5ca3ea15b6dc64672f9fdb}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ad0de5a795e5ca3ea15b6dc64672f9fdb}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!async\_counters\_@{async\_counters\_}}
\index{async\_counters\_@{async\_counters\_}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{async\_counters\_}{async\_counters\_}}
{\footnotesize\ttfamily const std\+::shared\+\_\+ptr$<$\mbox{\hyperlink{classv8_1_1internal_1_1Counters}{Counters}}$>$ v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::Compilation\+State\+Impl\+::async\+\_\+counters\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 744 of file module-\/compiler.\+cc.



Referenced by Init\+Compile\+Job().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a40e79d0e08ce2b9ec620f2492d883b2e}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a40e79d0e08ce2b9ec620f2492d883b2e}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!baseline\_compile\_job\_@{baseline\_compile\_job\_}}
\index{baseline\_compile\_job\_@{baseline\_compile\_job\_}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{baseline\_compile\_job\_}{baseline\_compile\_job\_}}
{\footnotesize\ttfamily std\+::unique\+\_\+ptr$<$\mbox{\hyperlink{classv8_1_1JobHandle}{Job\+Handle}}$>$ v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::Compilation\+State\+Impl\+::baseline\+\_\+compile\+\_\+job\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 762 of file module-\/compiler.\+cc.



Referenced by Commit\+Compilation\+Units(), and Init\+Compile\+Job().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a0f9620bca55b357d90dba566d87043b1}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a0f9620bca55b357d90dba566d87043b1}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!bytes\_since\_last\_chunk\_@{bytes\_since\_last\_chunk\_}}
\index{bytes\_since\_last\_chunk\_@{bytes\_since\_last\_chunk\_}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{bytes\_since\_last\_chunk\_}{bytes\_since\_last\_chunk\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::Compilation\+State\+Impl\+::bytes\+\_\+since\+\_\+last\+\_\+chunk\+\_\+ = 0\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 802 of file module-\/compiler.\+cc.



Referenced by On\+Finished\+Units(), Trigger\+Caching\+After\+Timeout(), and Trigger\+Outstanding\+Callbacks().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a3ca161fb12e541db32b60d80eb4b1e90}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a3ca161fb12e541db32b60d80eb4b1e90}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!callbacks\_@{callbacks\_}}
\index{callbacks\_@{callbacks\_}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{callbacks\_}{callbacks\_}}
{\footnotesize\ttfamily std\+::vector$<$std\+::unique\+\_\+ptr$<$\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1CompilationEventCallback}{Compilation\+Event\+Callback}}$>$ $>$ v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::Compilation\+State\+Impl\+::callbacks\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 793 of file module-\/compiler.\+cc.



Referenced by Add\+Callback(), Cancel\+Compilation(), and Trigger\+Callbacks().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a765312328515d177ce5825f083c9b759}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a765312328515d177ce5825f083c9b759}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!callbacks\_mutex\_@{callbacks\_mutex\_}}
\index{callbacks\_mutex\_@{callbacks\_mutex\_}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{callbacks\_mutex\_}{callbacks\_mutex\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1base_1_1Mutex}{base\+::\+Mutex}} v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::Compilation\+State\+Impl\+::callbacks\+\_\+mutex\+\_\+\hspace{0.3cm}{\ttfamily [mutable]}, {\ttfamily [private]}}



Definition at line 787 of file module-\/compiler.\+cc.



Referenced by Add\+Callback(), Apply\+Pgo\+Info\+Late(), Cancel\+Compilation(), Initialize\+Compilation\+Progress(), Initialize\+Compilation\+Progress\+After\+Deserialization(), Initialize\+Compilation\+Units(), On\+Finished\+Units(), Trigger\+Caching\+After\+Timeout(), and Trigger\+Outstanding\+Callbacks().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_abba3d6e3f1705511c75747b22d3f05ec}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_abba3d6e3f1705511c75747b22d3f05ec}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!compilation\_id\_@{compilation\_id\_}}
\index{compilation\_id\_@{compilation\_id\_}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{compilation\_id\_}{compilation\_id\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classint}{int}} v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::Compilation\+State\+Impl\+::compilation\+\_\+id\+\_\+ = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a32bf0a519ec58a3c7c7444eeef340e5a}{k\+Invalid\+Compilation\+ID}}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 767 of file module-\/compiler.\+cc.



Referenced by Trigger\+Callbacks().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a0ff6ff765770fe090dc00572f0e64272}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a0ff6ff765770fe090dc00572f0e64272}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!compilation\_progress\_@{compilation\_progress\_}}
\index{compilation\_progress\_@{compilation\_progress\_}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{compilation\_progress\_}{compilation\_progress\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1base_1_1OwnedVector}{base\+::\+Owned\+Vector}}$<$uint8\+\_\+t$>$ v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::Compilation\+State\+Impl\+::compilation\+\_\+progress\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 809 of file module-\/compiler.\+cc.



Referenced by Apply\+Compilation\+Hint\+To\+Initial\+Progress(), Apply\+Pgo\+Info\+Late(), Apply\+Pgo\+Info\+To\+Initial\+Progress(), Initialize\+Compilation\+Progress(), Initialize\+Compilation\+Progress\+After\+Deserialization(), Initialize\+Compilation\+Unit\+For\+Single\+Function(), Initialize\+Compilation\+Units(), and On\+Finished\+Units().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab616d619108985decfe0d7f7ce17fcc6}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab616d619108985decfe0d7f7ce17fcc6}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!compilation\_unit\_queues\_@{compilation\_unit\_queues\_}}
\index{compilation\_unit\_queues\_@{compilation\_unit\_queues\_}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{compilation\_unit\_queues\_}{compilation\_unit\_queues\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationUnitQueues}{Compilation\+Unit\+Queues}} v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::Compilation\+State\+Impl\+::compilation\+\_\+unit\+\_\+queues\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 754 of file module-\/compiler.\+cc.



Referenced by Add\+Top\+Tier\+Priority\+Compilation\+Unit(), Commit\+Compilation\+Units(), Get\+Next\+Compilation\+Unit(), Get\+Queue\+For\+Compile\+Task(), and On\+Finished\+Units().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ac7c4f6efcf3aafb8f51b8a77da48410b}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ac7c4f6efcf3aafb8f51b8a77da48410b}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!compile\_cancelled\_@{compile\_cancelled\_}}
\index{compile\_cancelled\_@{compile\_cancelled\_}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{compile\_cancelled\_}{compile\_cancelled\_}}
{\footnotesize\ttfamily std\+::atomic$<$\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}}$>$ v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::Compilation\+State\+Impl\+::compile\+\_\+cancelled\+\_\+ \{\mbox{\hyperlink{flag-definitions_8h_a3a9beadc89284d3f78a7d4945b1b4d8c}{false}}\}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 752 of file module-\/compiler.\+cc.



Referenced by Cancel\+Compilation(), and cancelled().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a1c2df4934d4b851409d16a00d569d33e}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a1c2df4934d4b851409d16a00d569d33e}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!compile\_failed\_@{compile\_failed\_}}
\index{compile\_failed\_@{compile\_failed\_}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{compile\_failed\_}{compile\_failed\_}}
{\footnotesize\ttfamily std\+::atomic$<$\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}}$>$ v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::Compilation\+State\+Impl\+::compile\+\_\+failed\+\_\+ \{\mbox{\hyperlink{flag-definitions_8h_a3a9beadc89284d3f78a7d4945b1b4d8c}{false}}\}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 748 of file module-\/compiler.\+cc.



Referenced by Trigger\+Outstanding\+Callbacks().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a9a3e39ad3a707e8d6dfc2feab40f034a}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a9a3e39ad3a707e8d6dfc2feab40f034a}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!detected\_features\_@{detected\_features\_}}
\index{detected\_features\_@{detected\_features\_}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{detected\_features\_}{detected\_features\_}}
{\footnotesize\ttfamily std\+::atomic$<$\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmDetectedFeatures}{Wasm\+Detected\+Features}}$>$ v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::Compilation\+State\+Impl\+::detected\+\_\+features\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 771 of file module-\/compiler.\+cc.

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ada63ef52e4d0b472d4194a3a6aec02e7}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ada63ef52e4d0b472d4194a3a6aec02e7}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!finished\_events\_@{finished\_events\_}}
\index{finished\_events\_@{finished\_events\_}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{finished\_events\_}{finished\_events\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1base_1_1EnumSet}{base\+::\+Enum\+Set}}$<$\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a020d8fcab0133f11030d7b8ef6259e29}{Compilation\+Event}}$>$ v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::Compilation\+State\+Impl\+::finished\+\_\+events\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 796 of file module-\/compiler.\+cc.



Referenced by Add\+Callback(), Cancel\+Compilation(), Initialize\+Compilation\+Progress\+After\+Deserialization(), and Trigger\+Callbacks().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a32bf0a519ec58a3c7c7444eeef340e5a}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a32bf0a519ec58a3c7c7444eeef340e5a}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!kInvalidCompilationID@{kInvalidCompilationID}}
\index{kInvalidCompilationID@{kInvalidCompilationID}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{kInvalidCompilationID}{kInvalidCompilationID}}
{\footnotesize\ttfamily constexpr \mbox{\hyperlink{classint}{int}} v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::Compilation\+State\+Impl\+::k\+Invalid\+Compilation\+ID = -\/1\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}, {\ttfamily [private]}}



Definition at line 766 of file module-\/compiler.\+cc.



Referenced by Trigger\+Callbacks().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a9d575e5064d78171ea8245113351208a}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a9d575e5064d78171ea8245113351208a}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!last\_top\_tier\_compilation\_timestamp\_@{last\_top\_tier\_compilation\_timestamp\_}}
\index{last\_top\_tier\_compilation\_timestamp\_@{last\_top\_tier\_compilation\_timestamp\_}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{last\_top\_tier\_compilation\_timestamp\_}{last\_top\_tier\_compilation\_timestamp\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1base_1_1TimeTicks}{base\+::\+Time\+Ticks}} v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::Compilation\+State\+Impl\+::last\+\_\+top\+\_\+tier\+\_\+compilation\+\_\+timestamp\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 815 of file module-\/compiler.\+cc.



Referenced by On\+Finished\+Units(), Trigger\+Caching\+After\+Timeout(), and Trigger\+Outstanding\+Callbacks().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a9b824ee2bd19df1806a89e4d74a697da}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a9b824ee2bd19df1806a89e4d74a697da}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!mutex\_@{mutex\_}}
\index{mutex\_@{mutex\_}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{mutex\_}{mutex\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1base_1_1Mutex}{base\+::\+Mutex}} v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::Compilation\+State\+Impl\+::mutex\+\_\+\hspace{0.3cm}{\ttfamily [mutable]}, {\ttfamily [private]}}



Definition at line 758 of file module-\/compiler.\+cc.



Referenced by Commit\+Compilation\+Units().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab7f1169e5324c750facf09b9f5fbad94}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_ab7f1169e5324c750facf09b9f5fbad94}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!native\_module\_@{native\_module\_}}
\index{native\_module\_@{native\_module\_}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{native\_module\_}{native\_module\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule}{Native\+Module}}$\ast$ const v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::Compilation\+State\+Impl\+::native\+\_\+module\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 742 of file module-\/compiler.\+cc.



Referenced by Apply\+Pgo\+Info\+Late(), Apply\+Pgo\+Info\+To\+Initial\+Progress(), Commit\+Compilation\+Units(), Initialize\+Compilation\+Progress(), Initialize\+Compilation\+Progress\+After\+Deserialization(), Initialize\+Compilation\+Unit\+For\+Single\+Function(), Initialize\+Compilation\+Units(), and On\+Finished\+Units().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a01d1dc67992204402a64b064c6aece4d}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a01d1dc67992204402a64b064c6aece4d}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!native\_module\_weak\_@{native\_module\_weak\_}}
\index{native\_module\_weak\_@{native\_module\_weak\_}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{native\_module\_weak\_}{native\_module\_weak\_}}
{\footnotesize\ttfamily std\+::weak\+\_\+ptr$<$\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule}{Native\+Module}}$>$ const v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::Compilation\+State\+Impl\+::native\+\_\+module\+\_\+weak\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 743 of file module-\/compiler.\+cc.



Referenced by Init\+Compile\+Job(), Trigger\+Caching\+After\+Timeout(), and Trigger\+Outstanding\+Callbacks().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a8961a8c084b70ecbdb9dfe082929b2bb}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a8961a8c084b70ecbdb9dfe082929b2bb}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!outstanding\_baseline\_units\_@{outstanding\_baseline\_units\_}}
\index{outstanding\_baseline\_units\_@{outstanding\_baseline\_units\_}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{outstanding\_baseline\_units\_}{outstanding\_baseline\_units\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classint}{int}} v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::Compilation\+State\+Impl\+::outstanding\+\_\+baseline\+\_\+units\+\_\+ = 0\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 798 of file module-\/compiler.\+cc.



Referenced by Apply\+Compilation\+Hint\+To\+Initial\+Progress(), Apply\+Pgo\+Info\+To\+Initial\+Progress(), Initialize\+Compilation\+Progress(), Initialize\+Compilation\+Progress\+After\+Deserialization(), On\+Finished\+Units(), Trigger\+Callbacks(), and Trigger\+Outstanding\+Callbacks().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a022eb4137f9bae86d68fe9792fda8042}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a022eb4137f9bae86d68fe9792fda8042}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!publish\_state\_@{publish\_state\_}}
\index{publish\_state\_@{publish\_state\_}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{publish\_state\_}{publish\_state\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_1_1PublishState}{Publish\+State}} v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::Compilation\+State\+Impl\+::publish\+\_\+state\+\_\+\mbox{[}Compilation\+Tier\+::k\+Num\+Tiers\mbox{]}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 826 of file module-\/compiler.\+cc.

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a7167a723ca63724303768ed3d1b0736d}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a7167a723ca63724303768ed3d1b0736d}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!top\_tier\_compile\_job\_@{top\_tier\_compile\_job\_}}
\index{top\_tier\_compile\_job\_@{top\_tier\_compile\_job\_}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{top\_tier\_compile\_job\_}{top\_tier\_compile\_job\_}}
{\footnotesize\ttfamily std\+::unique\+\_\+ptr$<$\mbox{\hyperlink{classv8_1_1JobHandle}{Job\+Handle}}$>$ v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::Compilation\+State\+Impl\+::top\+\_\+tier\+\_\+compile\+\_\+job\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 763 of file module-\/compiler.\+cc.



Referenced by Add\+Top\+Tier\+Priority\+Compilation\+Unit(), Commit\+Compilation\+Units(), and Init\+Compile\+Job().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a88bbd14f5345baf9dea935d9f1b6de94}\label{classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_1_1CompilationStateImpl_a88bbd14f5345baf9dea935d9f1b6de94}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}!wire\_bytes\_storage\_@{wire\_bytes\_storage\_}}
\index{wire\_bytes\_storage\_@{wire\_bytes\_storage\_}!v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl@{v8::internal::wasm::anonymous\_namespace\lcurly{}module-\/compiler.cc\rcurly{}::CompilationStateImpl}}
\doxysubsubsection{\texorpdfstring{wire\_bytes\_storage\_}{wire\_bytes\_storage\_}}
{\footnotesize\ttfamily std\+::shared\+\_\+ptr$<$\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WireBytesStorage}{Wire\+Bytes\+Storage}}$>$ v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::Compilation\+State\+Impl\+::wire\+\_\+bytes\+\_\+storage\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 779 of file module-\/compiler.\+cc.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/wasm/\mbox{\hyperlink{module-compiler_8cc}{module-\/compiler.\+cc}}\end{DoxyCompactItemize}
