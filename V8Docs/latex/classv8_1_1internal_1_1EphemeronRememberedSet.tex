\hypertarget{classv8_1_1internal_1_1EphemeronRememberedSet}{}\doxysection{v8\+::internal\+::Ephemeron\+Remembered\+Set Class Reference}
\label{classv8_1_1internal_1_1EphemeronRememberedSet}\index{v8::internal::EphemeronRememberedSet@{v8::internal::EphemeronRememberedSet}}


{\ttfamily \#include $<$ephemeron-\/remembered-\/set.\+h$>$}



Collaboration diagram for v8\+::internal\+::Ephemeron\+Remembered\+Set\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1EphemeronRememberedSet__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
using \mbox{\hyperlink{classv8_1_1internal_1_1EphemeronRememberedSet_a19b327dbfd6b9bff99bfe6082b52d919}{Table\+List}} = \+::\mbox{\hyperlink{classheap_1_1base_1_1Worklist}{heap\+::base\+::\+Worklist}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ Ephemeron\+Hash\+Table $>$, \mbox{\hyperlink{classv8_1_1internal_1_1EphemeronRememberedSet_a47d3c4de9062aec89efb6d5967061325}{k\+Ephemeron\+Table\+List\+Segment\+Size}} $>$
\item 
using \mbox{\hyperlink{classv8_1_1internal_1_1EphemeronRememberedSet_a8eaf148df16198cdd2719fddbab26444}{Indices\+Set}} = std\+::unordered\+\_\+set$<$ \mbox{\hyperlink{classint}{int}} $>$
\item 
using \mbox{\hyperlink{classv8_1_1internal_1_1EphemeronRememberedSet_ae5e0afe538eca377852fb4f01678d923}{Table\+Map}} = std\+::unordered\+\_\+map$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ Ephemeron\+Hash\+Table $>$, \mbox{\hyperlink{classv8_1_1internal_1_1EphemeronRememberedSet_a8eaf148df16198cdd2719fddbab26444}{Indices\+Set}}, \mbox{\hyperlink{structv8_1_1internal_1_1Object_1_1Hasher}{Object\+::\+Hasher}} $>$
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1EphemeronRememberedSet_a3ab178b4c13526d0f97d16beab580281}{Record\+Ephemeron\+Key\+Write}} (\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ Ephemeron\+Hash\+Table $>$ table, \mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} key\+\_\+slot)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1EphemeronRememberedSet_af0a88a03382208c33f559543d33a8792}{Record\+Ephemeron\+Key\+Writes}} (\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ Ephemeron\+Hash\+Table $>$ table, \mbox{\hyperlink{classv8_1_1internal_1_1EphemeronRememberedSet_a8eaf148df16198cdd2719fddbab26444}{Indices\+Set}} indices)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1EphemeronRememberedSet_ae5e0afe538eca377852fb4f01678d923}{Table\+Map}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1EphemeronRememberedSet_a8d68560e40252101787ea8c9f9316c89}{tables}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
static constexpr \mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{classv8_1_1internal_1_1EphemeronRememberedSet_a47d3c4de9062aec89efb6d5967061325}{k\+Ephemeron\+Table\+List\+Segment\+Size}} = 128
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1base_1_1Mutex}{base\+::\+Mutex}} \mbox{\hyperlink{classv8_1_1internal_1_1EphemeronRememberedSet_acf154e25fc0909433c78f98de7f6cef4}{insertion\+\_\+mutex\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1EphemeronRememberedSet_ae5e0afe538eca377852fb4f01678d923}{Table\+Map}} \mbox{\hyperlink{classv8_1_1internal_1_1EphemeronRememberedSet_a056023e97eb556ea873558cf5d99adc7}{tables\+\_\+}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 22 of file ephemeron-\/remembered-\/set.\+h.



\doxysubsection{Member Typedef Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1EphemeronRememberedSet_a8eaf148df16198cdd2719fddbab26444}\label{classv8_1_1internal_1_1EphemeronRememberedSet_a8eaf148df16198cdd2719fddbab26444}} 
\index{v8::internal::EphemeronRememberedSet@{v8::internal::EphemeronRememberedSet}!IndicesSet@{IndicesSet}}
\index{IndicesSet@{IndicesSet}!v8::internal::EphemeronRememberedSet@{v8::internal::EphemeronRememberedSet}}
\doxysubsubsection{\texorpdfstring{IndicesSet}{IndicesSet}}
{\footnotesize\ttfamily using \mbox{\hyperlink{classv8_1_1internal_1_1EphemeronRememberedSet_a8eaf148df16198cdd2719fddbab26444}{v8\+::internal\+::\+Ephemeron\+Remembered\+Set\+::\+Indices\+Set}} =  std\+::unordered\+\_\+set$<$\mbox{\hyperlink{classint}{int}}$>$}



Definition at line 28 of file ephemeron-\/remembered-\/set.\+h.

\mbox{\Hypertarget{classv8_1_1internal_1_1EphemeronRememberedSet_a19b327dbfd6b9bff99bfe6082b52d919}\label{classv8_1_1internal_1_1EphemeronRememberedSet_a19b327dbfd6b9bff99bfe6082b52d919}} 
\index{v8::internal::EphemeronRememberedSet@{v8::internal::EphemeronRememberedSet}!TableList@{TableList}}
\index{TableList@{TableList}!v8::internal::EphemeronRememberedSet@{v8::internal::EphemeronRememberedSet}}
\doxysubsubsection{\texorpdfstring{TableList}{TableList}}
{\footnotesize\ttfamily using \mbox{\hyperlink{classv8_1_1internal_1_1EphemeronRememberedSet_a19b327dbfd6b9bff99bfe6082b52d919}{v8\+::internal\+::\+Ephemeron\+Remembered\+Set\+::\+Table\+List}} =  \+::\mbox{\hyperlink{classheap_1_1base_1_1Worklist}{heap\+::base\+::\+Worklist}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$Ephemeron\+Hash\+Table$>$, \mbox{\hyperlink{classv8_1_1internal_1_1EphemeronRememberedSet_a47d3c4de9062aec89efb6d5967061325}{k\+Ephemeron\+Table\+List\+Segment\+Size}}$>$}



Definition at line 25 of file ephemeron-\/remembered-\/set.\+h.

\mbox{\Hypertarget{classv8_1_1internal_1_1EphemeronRememberedSet_ae5e0afe538eca377852fb4f01678d923}\label{classv8_1_1internal_1_1EphemeronRememberedSet_ae5e0afe538eca377852fb4f01678d923}} 
\index{v8::internal::EphemeronRememberedSet@{v8::internal::EphemeronRememberedSet}!TableMap@{TableMap}}
\index{TableMap@{TableMap}!v8::internal::EphemeronRememberedSet@{v8::internal::EphemeronRememberedSet}}
\doxysubsubsection{\texorpdfstring{TableMap}{TableMap}}
{\footnotesize\ttfamily using \mbox{\hyperlink{classv8_1_1internal_1_1EphemeronRememberedSet_ae5e0afe538eca377852fb4f01678d923}{v8\+::internal\+::\+Ephemeron\+Remembered\+Set\+::\+Table\+Map}} =  std\+::unordered\+\_\+map$<$\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$Ephemeron\+Hash\+Table$>$, \mbox{\hyperlink{classv8_1_1internal_1_1EphemeronRememberedSet_a8eaf148df16198cdd2719fddbab26444}{Indices\+Set}}, \mbox{\hyperlink{structv8_1_1internal_1_1Object_1_1Hasher}{Object\+::\+Hasher}}$>$}



Definition at line 29 of file ephemeron-\/remembered-\/set.\+h.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1EphemeronRememberedSet_a3ab178b4c13526d0f97d16beab580281}\label{classv8_1_1internal_1_1EphemeronRememberedSet_a3ab178b4c13526d0f97d16beab580281}} 
\index{v8::internal::EphemeronRememberedSet@{v8::internal::EphemeronRememberedSet}!RecordEphemeronKeyWrite@{RecordEphemeronKeyWrite}}
\index{RecordEphemeronKeyWrite@{RecordEphemeronKeyWrite}!v8::internal::EphemeronRememberedSet@{v8::internal::EphemeronRememberedSet}}
\doxysubsubsection{\texorpdfstring{RecordEphemeronKeyWrite()}{RecordEphemeronKeyWrite()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Ephemeron\+Remembered\+Set\+::\+Record\+Ephemeron\+Key\+Write (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ Ephemeron\+Hash\+Table $>$}]{table,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}}]{key\+\_\+slot }\end{DoxyParamCaption})}



Definition at line 12 of file ephemeron-\/remembered-\/set.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{13                                                     \{}
\DoxyCodeLine{14   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1HeapLayout_a597d0e70459c694743e92d98a9292f92}{HeapLayout::InYoungGeneration}}(\mbox{\hyperlink{namespacev8_1_1internal_a5f8b754678e24836a51be62e3f8c3682}{HeapObjectSlot}}(slot).ToHeapObject()));}
\DoxyCodeLine{15   \textcolor{keywordtype}{int} slot\_index = EphemeronHashTable::SlotToIndex(table.\mbox{\hyperlink{classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4_a07c12d3bf0972861e1c5aefabd00971f}{address}}(), slot);}
\DoxyCodeLine{16   InternalIndex entry = EphemeronHashTable::IndexToEntry(slot\_index);}
\DoxyCodeLine{17   \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{base::MutexGuard}} guard(\&\mbox{\hyperlink{classv8_1_1internal_1_1EphemeronRememberedSet_acf154e25fc0909433c78f98de7f6cef4}{insertion\_mutex\_}});}
\DoxyCodeLine{18   \textcolor{keyword}{auto} it = \mbox{\hyperlink{classv8_1_1internal_1_1EphemeronRememberedSet_a056023e97eb556ea873558cf5d99adc7}{tables\_}}.insert(\{table, \mbox{\hyperlink{classv8_1_1internal_1_1EphemeronRememberedSet_a8eaf148df16198cdd2719fddbab26444}{IndicesSet}}()\});}
\DoxyCodeLine{19   it.first-\/>second.insert(entry.as\_int());}
\DoxyCodeLine{20 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Tagged$<$ Heap\+Object $>$\+::address(), v8\+::internal\+::\+Internal\+Index\+::as\+\_\+int(), v8\+::internal\+::\+DCHECK(), insertion\+\_\+mutex\+\_\+, v8\+::internal\+::\+Heap\+Layout\+::\+In\+Young\+Generation(), and tables\+\_\+.



Referenced by v8\+::internal\+::\+Write\+Barrier\+::\+Combined\+Generational\+And\+Shared\+Ephemeron\+Barrier\+Slow().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1EphemeronRememberedSet_a3ab178b4c13526d0f97d16beab580281_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1EphemeronRememberedSet_a3ab178b4c13526d0f97d16beab580281_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1EphemeronRememberedSet_af0a88a03382208c33f559543d33a8792}\label{classv8_1_1internal_1_1EphemeronRememberedSet_af0a88a03382208c33f559543d33a8792}} 
\index{v8::internal::EphemeronRememberedSet@{v8::internal::EphemeronRememberedSet}!RecordEphemeronKeyWrites@{RecordEphemeronKeyWrites}}
\index{RecordEphemeronKeyWrites@{RecordEphemeronKeyWrites}!v8::internal::EphemeronRememberedSet@{v8::internal::EphemeronRememberedSet}}
\doxysubsubsection{\texorpdfstring{RecordEphemeronKeyWrites()}{RecordEphemeronKeyWrites()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Ephemeron\+Remembered\+Set\+::\+Record\+Ephemeron\+Key\+Writes (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ Ephemeron\+Hash\+Table $>$}]{table,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1EphemeronRememberedSet_a8eaf148df16198cdd2719fddbab26444}{Indices\+Set}}}]{indices }\end{DoxyParamCaption})}



Definition at line 22 of file ephemeron-\/remembered-\/set.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{23                                                           \{}
\DoxyCodeLine{24   \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{base::MutexGuard}} guard(\&\mbox{\hyperlink{classv8_1_1internal_1_1EphemeronRememberedSet_acf154e25fc0909433c78f98de7f6cef4}{insertion\_mutex\_}});}
\DoxyCodeLine{25   \textcolor{keyword}{auto} it = \mbox{\hyperlink{classv8_1_1internal_1_1EphemeronRememberedSet_a056023e97eb556ea873558cf5d99adc7}{tables\_}}.find(table);}
\DoxyCodeLine{26   \textcolor{keywordflow}{if} (it != \mbox{\hyperlink{classv8_1_1internal_1_1EphemeronRememberedSet_a056023e97eb556ea873558cf5d99adc7}{tables\_}}.end()) \{}
\DoxyCodeLine{27     it-\/>second.merge(std::move(indices));}
\DoxyCodeLine{28   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{29     \mbox{\hyperlink{classv8_1_1internal_1_1EphemeronRememberedSet_a056023e97eb556ea873558cf5d99adc7}{tables\_}}.insert(\{table, std::move(indices)\});}
\DoxyCodeLine{30   \}}
\DoxyCodeLine{31 \}}

\end{DoxyCode}


References insertion\+\_\+mutex\+\_\+, and tables\+\_\+.

\mbox{\Hypertarget{classv8_1_1internal_1_1EphemeronRememberedSet_a8d68560e40252101787ea8c9f9316c89}\label{classv8_1_1internal_1_1EphemeronRememberedSet_a8d68560e40252101787ea8c9f9316c89}} 
\index{v8::internal::EphemeronRememberedSet@{v8::internal::EphemeronRememberedSet}!tables@{tables}}
\index{tables@{tables}!v8::internal::EphemeronRememberedSet@{v8::internal::EphemeronRememberedSet}}
\doxysubsubsection{\texorpdfstring{tables()}{tables()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1EphemeronRememberedSet_ae5e0afe538eca377852fb4f01678d923}{Table\+Map}}$\ast$ v8\+::internal\+::\+Ephemeron\+Remembered\+Set\+::tables (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 37 of file ephemeron-\/remembered-\/set.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{37 \{ \textcolor{keywordflow}{return} \&\mbox{\hyperlink{classv8_1_1internal_1_1EphemeronRememberedSet_a056023e97eb556ea873558cf5d99adc7}{tables\_}}; \}}

\end{DoxyCode}


References tables\+\_\+.



Referenced by v8\+::internal\+::\+Minor\+Mark\+Sweep\+Collector\+::\+Clear\+Non\+Live\+References().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1EphemeronRememberedSet_a8d68560e40252101787ea8c9f9316c89_icgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1EphemeronRememberedSet_acf154e25fc0909433c78f98de7f6cef4}\label{classv8_1_1internal_1_1EphemeronRememberedSet_acf154e25fc0909433c78f98de7f6cef4}} 
\index{v8::internal::EphemeronRememberedSet@{v8::internal::EphemeronRememberedSet}!insertion\_mutex\_@{insertion\_mutex\_}}
\index{insertion\_mutex\_@{insertion\_mutex\_}!v8::internal::EphemeronRememberedSet@{v8::internal::EphemeronRememberedSet}}
\doxysubsubsection{\texorpdfstring{insertion\_mutex\_}{insertion\_mutex\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1base_1_1Mutex}{base\+::\+Mutex}} v8\+::internal\+::\+Ephemeron\+Remembered\+Set\+::insertion\+\_\+mutex\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 40 of file ephemeron-\/remembered-\/set.\+h.



Referenced by Record\+Ephemeron\+Key\+Write(), and Record\+Ephemeron\+Key\+Writes().

\mbox{\Hypertarget{classv8_1_1internal_1_1EphemeronRememberedSet_a47d3c4de9062aec89efb6d5967061325}\label{classv8_1_1internal_1_1EphemeronRememberedSet_a47d3c4de9062aec89efb6d5967061325}} 
\index{v8::internal::EphemeronRememberedSet@{v8::internal::EphemeronRememberedSet}!kEphemeronTableListSegmentSize@{kEphemeronTableListSegmentSize}}
\index{kEphemeronTableListSegmentSize@{kEphemeronTableListSegmentSize}!v8::internal::EphemeronRememberedSet@{v8::internal::EphemeronRememberedSet}}
\doxysubsubsection{\texorpdfstring{kEphemeronTableListSegmentSize}{kEphemeronTableListSegmentSize}}
{\footnotesize\ttfamily constexpr \mbox{\hyperlink{classint}{int}} v8\+::internal\+::\+Ephemeron\+Remembered\+Set\+::k\+Ephemeron\+Table\+List\+Segment\+Size = 128\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}}



Definition at line 24 of file ephemeron-\/remembered-\/set.\+h.

\mbox{\Hypertarget{classv8_1_1internal_1_1EphemeronRememberedSet_a056023e97eb556ea873558cf5d99adc7}\label{classv8_1_1internal_1_1EphemeronRememberedSet_a056023e97eb556ea873558cf5d99adc7}} 
\index{v8::internal::EphemeronRememberedSet@{v8::internal::EphemeronRememberedSet}!tables\_@{tables\_}}
\index{tables\_@{tables\_}!v8::internal::EphemeronRememberedSet@{v8::internal::EphemeronRememberedSet}}
\doxysubsubsection{\texorpdfstring{tables\_}{tables\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1EphemeronRememberedSet_ae5e0afe538eca377852fb4f01678d923}{Table\+Map}} v8\+::internal\+::\+Ephemeron\+Remembered\+Set\+::tables\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 41 of file ephemeron-\/remembered-\/set.\+h.



Referenced by Record\+Ephemeron\+Key\+Write(), Record\+Ephemeron\+Key\+Writes(), and tables().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/heap/\mbox{\hyperlink{ephemeron-remembered-set_8h}{ephemeron-\/remembered-\/set.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/heap/\mbox{\hyperlink{ephemeron-remembered-set_8cc}{ephemeron-\/remembered-\/set.\+cc}}\end{DoxyCompactItemize}
