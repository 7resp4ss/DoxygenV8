\hypertarget{classv8_1_1ArrayBuffer_1_1Allocator}{}\doxysection{v8\+::Array\+Buffer\+::Allocator Class Reference}
\label{classv8_1_1ArrayBuffer_1_1Allocator}\index{v8::ArrayBuffer::Allocator@{v8::ArrayBuffer::Allocator}}


{\ttfamily \#include $<$v8-\/array-\/buffer.\+h$>$}

\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum class \mbox{\hyperlink{classv8_1_1ArrayBuffer_1_1Allocator_ab106d1fbad7be9f6fd8b0f5c550ac59e}{Allocation\+Mode}} \{ \mbox{\hyperlink{classv8_1_1ArrayBuffer_1_1Allocator_ab106d1fbad7be9f6fd8b0f5c550ac59ea07fa7a19aa722c635a15e94cb7f50416}{k\+Normal}}
, \mbox{\hyperlink{classv8_1_1ArrayBuffer_1_1Allocator_ab106d1fbad7be9f6fd8b0f5c550ac59ea6f8f300976cbd4227d599276b3206933}{k\+Reservation}}
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual \mbox{\hyperlink{classv8_1_1ArrayBuffer_1_1Allocator_a387043850f644fe14a58b6aff0ba5d57}{$\sim$\+Allocator}} ()=default
\item 
virtual void $\ast$ \mbox{\hyperlink{classv8_1_1ArrayBuffer_1_1Allocator_a106b0d80120ed04fe9b9675e96f0340b}{Allocate}} (size\+\_\+t \mbox{\hyperlink{random-module-generation_8cc_aebb70c2aab3407a9f05334c47131a43b}{length}})=0
\item 
virtual void $\ast$ \mbox{\hyperlink{classv8_1_1ArrayBuffer_1_1Allocator_a92b2d5c0a826d3c435e12f3ee178f37a}{Allocate\+Uninitialized}} (size\+\_\+t \mbox{\hyperlink{random-module-generation_8cc_aebb70c2aab3407a9f05334c47131a43b}{length}})=0
\item 
virtual void \mbox{\hyperlink{classv8_1_1ArrayBuffer_1_1Allocator_a419f59d2a103a5a8863809d7977c9cd8}{Free}} (void $\ast$\mbox{\hyperlink{builtins_8cc_ad2a98ce8e8b889a9843d6839653a11a1}{data}}, size\+\_\+t \mbox{\hyperlink{random-module-generation_8cc_aebb70c2aab3407a9f05334c47131a43b}{length}})=0
\item 
virtual size\+\_\+t \mbox{\hyperlink{classv8_1_1ArrayBuffer_1_1Allocator_a70f912717b359be1fb5abfe0b72afffe}{Max\+Allocation\+Size}} () const
\item 
virtual \mbox{\hyperlink{classv8_1_1PageAllocator}{Page\+Allocator}} $\ast$ \mbox{\hyperlink{classv8_1_1ArrayBuffer_1_1Allocator_ac5200adcc22a4af47ac4589f6510b64a}{Get\+Page\+Allocator}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{classv8_1_1ArrayBuffer_1_1Allocator}{Allocator}} $\ast$ \mbox{\hyperlink{classv8_1_1ArrayBuffer_1_1Allocator_a2c95b1213b0a0a2996e1c63194fc6951}{New\+Default\+Allocator}} ()
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
A thread-\/safe allocator that \mbox{\hyperlink{classv8_1_1V8}{V8}} uses to allocate $\vert$\+Array\+Buffer$\vert$\textquotesingle{}s memory. The allocator is a global \mbox{\hyperlink{classv8_1_1V8}{V8}} setting. It has to be set via \mbox{\hyperlink{structv8_1_1Isolate_1_1CreateParams}{Isolate\+::\+Create\+Params}}.

Memory allocated through this allocator by \mbox{\hyperlink{classv8_1_1V8}{V8}} is accounted for as external memory by \mbox{\hyperlink{classv8_1_1V8}{V8}}. Note that \mbox{\hyperlink{classv8_1_1V8}{V8}} keeps track of the memory for all internalized $\vert$\+Array\+Buffer$\vert$s. Responsibility for tracking external memory (using \mbox{\hyperlink{classv8_1_1Isolate_aaeda5fa60961a3d9d476c46200e30711}{Isolate\+::\+Adjust\+Amount\+Of\+External\+Allocated\+Memory}}) is handed over to the embedder upon externalization and taken over upon internalization (creating an internalized buffer from an existing buffer).

Note that it is unsafe to call back into \mbox{\hyperlink{classv8_1_1V8}{V8}} from any of the allocator functions. 

\doxysubsection{Member Enumeration Documentation}
\mbox{\Hypertarget{classv8_1_1ArrayBuffer_1_1Allocator_ab106d1fbad7be9f6fd8b0f5c550ac59e}\label{classv8_1_1ArrayBuffer_1_1Allocator_ab106d1fbad7be9f6fd8b0f5c550ac59e}} 
\index{v8::ArrayBuffer::Allocator@{v8::ArrayBuffer::Allocator}!AllocationMode@{AllocationMode}}
\index{AllocationMode@{AllocationMode}!v8::ArrayBuffer::Allocator@{v8::ArrayBuffer::Allocator}}
\doxysubsubsection{\texorpdfstring{AllocationMode}{AllocationMode}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{classv8_1_1ArrayBuffer_1_1Allocator_ab106d1fbad7be9f6fd8b0f5c550ac59e}{v8\+::\+Array\+Buffer\+::\+Allocator\+::\+Allocation\+Mode}}\hspace{0.3cm}{\ttfamily [strong]}}

\mbox{\hyperlink{classv8_1_1ArrayBuffer}{Array\+Buffer}} allocation mode. k\+Normal is a malloc/free style allocation, while k\+Reservation is for larger allocations with the ability to set access permissions. \begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{kNormal@{kNormal}!v8::ArrayBuffer::Allocator@{v8::ArrayBuffer::Allocator}}\index{v8::ArrayBuffer::Allocator@{v8::ArrayBuffer::Allocator}!kNormal@{kNormal}}}\mbox{\Hypertarget{classv8_1_1ArrayBuffer_1_1Allocator_ab106d1fbad7be9f6fd8b0f5c550ac59ea07fa7a19aa722c635a15e94cb7f50416}\label{classv8_1_1ArrayBuffer_1_1Allocator_ab106d1fbad7be9f6fd8b0f5c550ac59ea07fa7a19aa722c635a15e94cb7f50416}} 
k\+Normal&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{kReservation@{kReservation}!v8::ArrayBuffer::Allocator@{v8::ArrayBuffer::Allocator}}\index{v8::ArrayBuffer::Allocator@{v8::ArrayBuffer::Allocator}!kReservation@{kReservation}}}\mbox{\Hypertarget{classv8_1_1ArrayBuffer_1_1Allocator_ab106d1fbad7be9f6fd8b0f5c550ac59ea6f8f300976cbd4227d599276b3206933}\label{classv8_1_1ArrayBuffer_1_1Allocator_ab106d1fbad7be9f6fd8b0f5c550ac59ea6f8f300976cbd4227d599276b3206933}} 
k\+Reservation&\\
\hline

\end{DoxyEnumFields}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1ArrayBuffer_1_1Allocator_a387043850f644fe14a58b6aff0ba5d57}\label{classv8_1_1ArrayBuffer_1_1Allocator_a387043850f644fe14a58b6aff0ba5d57}} 
\index{v8::ArrayBuffer::Allocator@{v8::ArrayBuffer::Allocator}!````~Allocator@{$\sim$Allocator}}
\index{````~Allocator@{$\sim$Allocator}!v8::ArrayBuffer::Allocator@{v8::ArrayBuffer::Allocator}}
\doxysubsubsection{\texorpdfstring{$\sim$Allocator()}{~Allocator()}}
{\footnotesize\ttfamily virtual v8\+::\+Array\+Buffer\+::\+Allocator\+::$\sim$\+Allocator (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}, {\ttfamily [default]}}



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1ArrayBuffer_1_1Allocator_a106b0d80120ed04fe9b9675e96f0340b}\label{classv8_1_1ArrayBuffer_1_1Allocator_a106b0d80120ed04fe9b9675e96f0340b}} 
\index{v8::ArrayBuffer::Allocator@{v8::ArrayBuffer::Allocator}!Allocate@{Allocate}}
\index{Allocate@{Allocate}!v8::ArrayBuffer::Allocator@{v8::ArrayBuffer::Allocator}}
\doxysubsubsection{\texorpdfstring{Allocate()}{Allocate()}}
{\footnotesize\ttfamily virtual void$\ast$ v8\+::\+Array\+Buffer\+::\+Allocator\+::\+Allocate (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{length }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}

Allocate $\vert$length$\vert$ bytes. Return nullptr if allocation is not successful. Memory should be initialized to zeroes. \mbox{\Hypertarget{classv8_1_1ArrayBuffer_1_1Allocator_a92b2d5c0a826d3c435e12f3ee178f37a}\label{classv8_1_1ArrayBuffer_1_1Allocator_a92b2d5c0a826d3c435e12f3ee178f37a}} 
\index{v8::ArrayBuffer::Allocator@{v8::ArrayBuffer::Allocator}!AllocateUninitialized@{AllocateUninitialized}}
\index{AllocateUninitialized@{AllocateUninitialized}!v8::ArrayBuffer::Allocator@{v8::ArrayBuffer::Allocator}}
\doxysubsubsection{\texorpdfstring{AllocateUninitialized()}{AllocateUninitialized()}}
{\footnotesize\ttfamily virtual void$\ast$ v8\+::\+Array\+Buffer\+::\+Allocator\+::\+Allocate\+Uninitialized (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{length }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}

Allocate $\vert$length$\vert$ bytes. Return nullptr if allocation is not successful. Memory does not have to be initialized. \mbox{\Hypertarget{classv8_1_1ArrayBuffer_1_1Allocator_a419f59d2a103a5a8863809d7977c9cd8}\label{classv8_1_1ArrayBuffer_1_1Allocator_a419f59d2a103a5a8863809d7977c9cd8}} 
\index{v8::ArrayBuffer::Allocator@{v8::ArrayBuffer::Allocator}!Free@{Free}}
\index{Free@{Free}!v8::ArrayBuffer::Allocator@{v8::ArrayBuffer::Allocator}}
\doxysubsubsection{\texorpdfstring{Free()}{Free()}}
{\footnotesize\ttfamily virtual void v8\+::\+Array\+Buffer\+::\+Allocator\+::\+Free (\begin{DoxyParamCaption}\item[{void $\ast$}]{data,  }\item[{size\+\_\+t}]{length }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}

Free the memory block of size $\vert$length$\vert$, pointed to by $\vert$data$\vert$. That memory is guaranteed to be previously allocated by $\vert$\+Allocate$\vert$. \mbox{\Hypertarget{classv8_1_1ArrayBuffer_1_1Allocator_ac5200adcc22a4af47ac4589f6510b64a}\label{classv8_1_1ArrayBuffer_1_1Allocator_ac5200adcc22a4af47ac4589f6510b64a}} 
\index{v8::ArrayBuffer::Allocator@{v8::ArrayBuffer::Allocator}!GetPageAllocator@{GetPageAllocator}}
\index{GetPageAllocator@{GetPageAllocator}!v8::ArrayBuffer::Allocator@{v8::ArrayBuffer::Allocator}}
\doxysubsubsection{\texorpdfstring{GetPageAllocator()}{GetPageAllocator()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{classv8_1_1PageAllocator}{Page\+Allocator}}$\ast$ v8\+::\+Array\+Buffer\+::\+Allocator\+::\+Get\+Page\+Allocator (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

Returns page allocator used by this \mbox{\hyperlink{classv8_1_1ArrayBuffer_1_1Allocator}{Allocator}} instance.

When the sandbox used by \mbox{\hyperlink{classv8_1_1ArrayBuffer_1_1Allocator}{Allocator}} it is expected that this returns sandbox\textquotesingle{}s page allocator. Otherwise, it should return system page allocator. \mbox{\Hypertarget{classv8_1_1ArrayBuffer_1_1Allocator_a70f912717b359be1fb5abfe0b72afffe}\label{classv8_1_1ArrayBuffer_1_1Allocator_a70f912717b359be1fb5abfe0b72afffe}} 
\index{v8::ArrayBuffer::Allocator@{v8::ArrayBuffer::Allocator}!MaxAllocationSize@{MaxAllocationSize}}
\index{MaxAllocationSize@{MaxAllocationSize}!v8::ArrayBuffer::Allocator@{v8::ArrayBuffer::Allocator}}
\doxysubsubsection{\texorpdfstring{MaxAllocationSize()}{MaxAllocationSize()}}
{\footnotesize\ttfamily virtual size\+\_\+t v8\+::\+Array\+Buffer\+::\+Allocator\+::\+Max\+Allocation\+Size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

Returns a size\+\_\+t that determines the largest \mbox{\hyperlink{classv8_1_1ArrayBuffer}{Array\+Buffer}} that can be allocated. Override if your \mbox{\hyperlink{classv8_1_1ArrayBuffer_1_1Allocator}{Allocator}} is more restrictive than the default. Will only be called once, and the value returned will be cached. Should not return a value that is larger than k\+Max\+Byte\+Length. \mbox{\Hypertarget{classv8_1_1ArrayBuffer_1_1Allocator_a2c95b1213b0a0a2996e1c63194fc6951}\label{classv8_1_1ArrayBuffer_1_1Allocator_a2c95b1213b0a0a2996e1c63194fc6951}} 
\index{v8::ArrayBuffer::Allocator@{v8::ArrayBuffer::Allocator}!NewDefaultAllocator@{NewDefaultAllocator}}
\index{NewDefaultAllocator@{NewDefaultAllocator}!v8::ArrayBuffer::Allocator@{v8::ArrayBuffer::Allocator}}
\doxysubsubsection{\texorpdfstring{NewDefaultAllocator()}{NewDefaultAllocator()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1ArrayBuffer_1_1Allocator}{v8\+::\+Array\+Buffer\+::\+Allocator}} $\ast$ v8\+::\+Array\+Buffer\+::\+Allocator\+::\+New\+Default\+Allocator (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Convenience allocator.

When the sandbox is enabled, this allocator will allocate its backing memory inside the default global sandbox. Otherwise, it will rely on malloc/free.

Caller takes ownership, i.\+e. the returned object needs to be freed using $\vert$delete allocator$\vert$ once it is no longer in use. 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{v8-array-buffer_8h}{v8-\/array-\/buffer.\+h}}\item 
\mbox{\hyperlink{api_8cc}{api.\+cc}}\end{DoxyCompactItemize}
