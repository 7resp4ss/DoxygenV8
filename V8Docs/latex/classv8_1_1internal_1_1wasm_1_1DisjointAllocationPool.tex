\hypertarget{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool}{}\doxysection{v8\+::internal\+::wasm\+::Disjoint\+Allocation\+Pool Class Reference}
\label{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool}\index{v8::internal::wasm::DisjointAllocationPool@{v8::internal::wasm::DisjointAllocationPool}}


{\ttfamily \#include $<$wasm-\/code-\/manager.\+h$>$}



Collaboration diagram for v8\+::internal\+::wasm\+::Disjoint\+Allocation\+Pool\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_a4ecfc9c00198fd717bd2a6a7068d95b8}{MOVE\+\_\+\+ONLY\+\_\+\+WITH\+\_\+\+DEFAULT\+\_\+\+CONSTRUCTORS}} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool}{Disjoint\+Allocation\+Pool}})
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_abe288ab48fa44708c59d3313e745e9bf}{Disjoint\+Allocation\+Pool}} (\mbox{\hyperlink{classv8_1_1base_1_1AddressRegion}{base\+::\+Address\+Region}} region)
\item 
\mbox{\hyperlink{classv8_1_1base_1_1AddressRegion}{base\+::\+Address\+Region}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_afcf7458ff374176005a20707ab0fa556}{Merge}} (\mbox{\hyperlink{classv8_1_1base_1_1AddressRegion}{base\+::\+Address\+Region}})
\item 
\mbox{\hyperlink{classv8_1_1base_1_1AddressRegion}{base\+::\+Address\+Region}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_a5a78c9832c8962fdc94b954e5b0adb65}{Allocate}} (\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}})
\item 
\mbox{\hyperlink{classv8_1_1base_1_1AddressRegion}{base\+::\+Address\+Region}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_aaae1e5e18b6363b94f228abe6521dd3b}{Allocate\+In\+Region}} (\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}, \mbox{\hyperlink{classv8_1_1base_1_1AddressRegion}{base\+::\+Address\+Region}})
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_ae1c8c42c6b46181491ce58c3680e04a3}{Is\+Empty}} () const
\item 
const auto \& \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_a9200d92cb26cb60769e4f5a5b6dbfc7c}{regions}} () const
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::set$<$ \mbox{\hyperlink{classv8_1_1base_1_1AddressRegion}{base\+::\+Address\+Region}}, \mbox{\hyperlink{structv8_1_1base_1_1AddressRegion_1_1StartAddressLess}{base\+::\+Address\+Region\+::\+Start\+Address\+Less}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_ad1a1b8cd58b67bae807fb76d3c1683f3}{regions\+\_\+}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 61 of file wasm-\/code-\/manager.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_abe288ab48fa44708c59d3313e745e9bf}\label{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_abe288ab48fa44708c59d3313e745e9bf}} 
\index{v8::internal::wasm::DisjointAllocationPool@{v8::internal::wasm::DisjointAllocationPool}!DisjointAllocationPool@{DisjointAllocationPool}}
\index{DisjointAllocationPool@{DisjointAllocationPool}!v8::internal::wasm::DisjointAllocationPool@{v8::internal::wasm::DisjointAllocationPool}}
\doxysubsubsection{\texorpdfstring{DisjointAllocationPool()}{DisjointAllocationPool()}}
{\footnotesize\ttfamily v8\+::internal\+::wasm\+::\+Disjoint\+Allocation\+Pool\+::\+Disjoint\+Allocation\+Pool (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1base_1_1AddressRegion}{base\+::\+Address\+Region}}}]{region }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}



Definition at line 64 of file wasm-\/code-\/manager.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{65       : \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_ad1a1b8cd58b67bae807fb76d3c1683f3}{regions\_}}(\{region\}) \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_a5a78c9832c8962fdc94b954e5b0adb65}\label{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_a5a78c9832c8962fdc94b954e5b0adb65}} 
\index{v8::internal::wasm::DisjointAllocationPool@{v8::internal::wasm::DisjointAllocationPool}!Allocate@{Allocate}}
\index{Allocate@{Allocate}!v8::internal::wasm::DisjointAllocationPool@{v8::internal::wasm::DisjointAllocationPool}}
\doxysubsubsection{\texorpdfstring{Allocate()}{Allocate()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1base_1_1AddressRegion}{base\+::\+Address\+Region}} v8\+::internal\+::wasm\+::\+Disjoint\+Allocation\+Pool\+::\+Allocate (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{size }\end{DoxyParamCaption})}



Definition at line 137 of file wasm-\/code-\/manager.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{137                                                               \{}
\DoxyCodeLine{138   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_aaae1e5e18b6363b94f228abe6521dd3b}{AllocateInRegion}}(\mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}},}
\DoxyCodeLine{139                           \{\mbox{\hyperlink{namespacev8_1_1internal_acf6bafb5b8483a580f375393c413ee02}{kNullAddress}}, std::numeric\_limits<size\_t>::max()\});}
\DoxyCodeLine{140 \}}

\end{DoxyCode}


References Allocate\+In\+Region(), v8\+::internal\+::k\+Null\+Address, and size().



Referenced by v8\+::internal\+::wasm\+::\+Wasm\+Code\+Allocator\+::\+Allocate\+For\+Code\+In\+Region().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_a5a78c9832c8962fdc94b954e5b0adb65_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_a5a78c9832c8962fdc94b954e5b0adb65_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_aaae1e5e18b6363b94f228abe6521dd3b}\label{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_aaae1e5e18b6363b94f228abe6521dd3b}} 
\index{v8::internal::wasm::DisjointAllocationPool@{v8::internal::wasm::DisjointAllocationPool}!AllocateInRegion@{AllocateInRegion}}
\index{AllocateInRegion@{AllocateInRegion}!v8::internal::wasm::DisjointAllocationPool@{v8::internal::wasm::DisjointAllocationPool}}
\doxysubsubsection{\texorpdfstring{AllocateInRegion()}{AllocateInRegion()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1base_1_1AddressRegion}{base\+::\+Address\+Region}} v8\+::internal\+::wasm\+::\+Disjoint\+Allocation\+Pool\+::\+Allocate\+In\+Region (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{size,  }\item[{\mbox{\hyperlink{classv8_1_1base_1_1AddressRegion}{base\+::\+Address\+Region}}}]{region }\end{DoxyParamCaption})}



Definition at line 142 of file wasm-\/code-\/manager.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{143                                            \{}
\DoxyCodeLine{144   \textcolor{comment}{// Get an iterator to the first contained region whose start address is not}}
\DoxyCodeLine{145   \textcolor{comment}{// smaller than the start address of \{region\}. Start the search from the}}
\DoxyCodeLine{146   \textcolor{comment}{// region one before that (the last one whose start address is smaller).}}
\DoxyCodeLine{147   \textcolor{keyword}{auto} it = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_ad1a1b8cd58b67bae807fb76d3c1683f3}{regions\_}}.lower\_bound(region);}
\DoxyCodeLine{148   \textcolor{keywordflow}{if} (it != \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_ad1a1b8cd58b67bae807fb76d3c1683f3}{regions\_}}.begin()) -\/-\/it;}
\DoxyCodeLine{149 }
\DoxyCodeLine{150   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}} = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_ad1a1b8cd58b67bae807fb76d3c1683f3}{regions\_}}.end(); it != \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}}; ++it) \{}
\DoxyCodeLine{151     base::AddressRegion overlap = it-\/>GetOverlap(region);}
\DoxyCodeLine{152     \textcolor{keywordflow}{if} (\mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}} > overlap.size()) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{153     base::AddressRegion ret\{overlap.begin(), \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}\};}
\DoxyCodeLine{154     base::AddressRegion old = *it;}
\DoxyCodeLine{155     \textcolor{keyword}{auto} insert\_pos = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_ad1a1b8cd58b67bae807fb76d3c1683f3}{regions\_}}.erase(it);}
\DoxyCodeLine{156     \textcolor{keywordflow}{if} (\mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}} == old.size()) \{}
\DoxyCodeLine{157       \textcolor{comment}{// We use the full region -\/-\/> nothing to add back.}}
\DoxyCodeLine{158     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ret.begin() == old.begin()) \{}
\DoxyCodeLine{159       \textcolor{comment}{// We return a region at the start -\/-\/> shrink old region from front.}}
\DoxyCodeLine{160       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_ad1a1b8cd58b67bae807fb76d3c1683f3}{regions\_}}.insert(insert\_pos, \{old.begin() + \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}, old.size() -\/ \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}\});}
\DoxyCodeLine{161     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ret.end() == old.end()) \{}
\DoxyCodeLine{162       \textcolor{comment}{// We return a region at the end -\/-\/> shrink remaining region.}}
\DoxyCodeLine{163       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_ad1a1b8cd58b67bae807fb76d3c1683f3}{regions\_}}.insert(insert\_pos, \{old.begin(), old.size() -\/ \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}\});}
\DoxyCodeLine{164     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{165       \textcolor{comment}{// We return something in the middle -\/-\/> split the remaining region}}
\DoxyCodeLine{166       \textcolor{comment}{// (insert the region with smaller address first).}}
\DoxyCodeLine{167       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_ad1a1b8cd58b67bae807fb76d3c1683f3}{regions\_}}.insert(insert\_pos, \{old.begin(), ret.begin() -\/ old.begin()\});}
\DoxyCodeLine{168       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_ad1a1b8cd58b67bae807fb76d3c1683f3}{regions\_}}.insert(insert\_pos, \{ret.end(), old.end() -\/ ret.end()\});}
\DoxyCodeLine{169     \}}
\DoxyCodeLine{170     \textcolor{keywordflow}{return} ret;}
\DoxyCodeLine{171   \}}
\DoxyCodeLine{172   \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{173 \}}

\end{DoxyCode}


References v8\+::base\+::\+Address\+Region\+::begin(), v8\+::base\+::\+Address\+Region\+::end(), v8\+::internal\+::compiler\+::end(), v8\+::base\+::\+Address\+Region\+::\+Get\+Overlap(), regions\+\_\+, v8\+::base\+::\+Address\+Region\+::size(), and size().



Referenced by Allocate(), and v8\+::internal\+::wasm\+::\+Wasm\+Code\+Allocator\+::\+Allocate\+For\+Code\+In\+Region().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_aaae1e5e18b6363b94f228abe6521dd3b_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_aaae1e5e18b6363b94f228abe6521dd3b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_ae1c8c42c6b46181491ce58c3680e04a3}\label{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_ae1c8c42c6b46181491ce58c3680e04a3}} 
\index{v8::internal::wasm::DisjointAllocationPool@{v8::internal::wasm::DisjointAllocationPool}!IsEmpty@{IsEmpty}}
\index{IsEmpty@{IsEmpty}!v8::internal::wasm::DisjointAllocationPool@{v8::internal::wasm::DisjointAllocationPool}}
\doxysubsubsection{\texorpdfstring{IsEmpty()}{IsEmpty()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::wasm\+::\+Disjoint\+Allocation\+Pool\+::\+Is\+Empty (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 80 of file wasm-\/code-\/manager.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{80 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_ad1a1b8cd58b67bae807fb76d3c1683f3}{regions\_}}.empty(); \}}

\end{DoxyCode}


Referenced by v8\+::internal\+::wasm\+::\+Wasm\+Code\+Allocator\+::\+Init().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_ae1c8c42c6b46181491ce58c3680e04a3_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_afcf7458ff374176005a20707ab0fa556}\label{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_afcf7458ff374176005a20707ab0fa556}} 
\index{v8::internal::wasm::DisjointAllocationPool@{v8::internal::wasm::DisjointAllocationPool}!Merge@{Merge}}
\index{Merge@{Merge}!v8::internal::wasm::DisjointAllocationPool@{v8::internal::wasm::DisjointAllocationPool}}
\doxysubsubsection{\texorpdfstring{Merge()}{Merge()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1base_1_1AddressRegion}{base\+::\+Address\+Region}} v8\+::internal\+::wasm\+::\+Disjoint\+Allocation\+Pool\+::\+Merge (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1base_1_1AddressRegion}{base\+::\+Address\+Region}}}]{new\+\_\+region }\end{DoxyParamCaption})}



Definition at line 82 of file wasm-\/code-\/manager.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{83                                   \{}
\DoxyCodeLine{84   \textcolor{comment}{// Find the possible insertion position by identifying the first region whose}}
\DoxyCodeLine{85   \textcolor{comment}{// start address is not less than that of \{new\_region\}. Since there cannot be}}
\DoxyCodeLine{86   \textcolor{comment}{// any overlap between regions, this also means that the start of \{above\} is}}
\DoxyCodeLine{87   \textcolor{comment}{// bigger or equal than the *end* of \{new\_region\}.}}
\DoxyCodeLine{88   \textcolor{keyword}{auto} \mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a30661f3a2dec8d729f69a1f576fd0309}{above}} = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_ad1a1b8cd58b67bae807fb76d3c1683f3}{regions\_}}.lower\_bound(new\_region);}
\DoxyCodeLine{89   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a30661f3a2dec8d729f69a1f576fd0309}{above}} == \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_ad1a1b8cd58b67bae807fb76d3c1683f3}{regions\_}}.end() || \mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a30661f3a2dec8d729f69a1f576fd0309}{above}}-\/>begin() >= new\_region.end());}
\DoxyCodeLine{90 }
\DoxyCodeLine{91   \textcolor{comment}{// Check whether to merge with \{above\}.}}
\DoxyCodeLine{92   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a30661f3a2dec8d729f69a1f576fd0309}{above}} != \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_ad1a1b8cd58b67bae807fb76d3c1683f3}{regions\_}}.end() \&\& new\_region.end() == \mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a30661f3a2dec8d729f69a1f576fd0309}{above}}-\/>begin()) \{}
\DoxyCodeLine{93     base::AddressRegion merged\_region\{new\_region.begin(),}
\DoxyCodeLine{94                                       new\_region.size() + \mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a30661f3a2dec8d729f69a1f576fd0309}{above}}-\/>size()\};}
\DoxyCodeLine{95     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(merged\_region.end(), \mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a30661f3a2dec8d729f69a1f576fd0309}{above}}-\/>end());}
\DoxyCodeLine{96     \textcolor{comment}{// Check whether to also merge with the region below.}}
\DoxyCodeLine{97     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a30661f3a2dec8d729f69a1f576fd0309}{above}} != \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_ad1a1b8cd58b67bae807fb76d3c1683f3}{regions\_}}.begin()) \{}
\DoxyCodeLine{98       \textcolor{keyword}{auto} \mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a38474d965f18ce81888bd0d4c904ee6c}{below}} = \mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a30661f3a2dec8d729f69a1f576fd0309}{above}};}
\DoxyCodeLine{99       -\/-\/\mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a38474d965f18ce81888bd0d4c904ee6c}{below}};}
\DoxyCodeLine{100       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a38474d965f18ce81888bd0d4c904ee6c}{below}}-\/>end() == new\_region.begin()) \{}
\DoxyCodeLine{101         merged\_region = \{\mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a38474d965f18ce81888bd0d4c904ee6c}{below}}-\/>begin(), \mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a38474d965f18ce81888bd0d4c904ee6c}{below}}-\/>size() + merged\_region.size()\};}
\DoxyCodeLine{102         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_ad1a1b8cd58b67bae807fb76d3c1683f3}{regions\_}}.erase(\mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a38474d965f18ce81888bd0d4c904ee6c}{below}});}
\DoxyCodeLine{103       \}}
\DoxyCodeLine{104     \}}
\DoxyCodeLine{105     \textcolor{keyword}{auto} insert\_pos = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_ad1a1b8cd58b67bae807fb76d3c1683f3}{regions\_}}.erase(\mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a30661f3a2dec8d729f69a1f576fd0309}{above}});}
\DoxyCodeLine{106     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_ad1a1b8cd58b67bae807fb76d3c1683f3}{regions\_}}.insert(insert\_pos, merged\_region);}
\DoxyCodeLine{107     \textcolor{keywordflow}{return} merged\_region;}
\DoxyCodeLine{108   \}}
\DoxyCodeLine{109 }
\DoxyCodeLine{110   \textcolor{comment}{// No element below, and not adjavent to \{above\}: insert and done.}}
\DoxyCodeLine{111   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a30661f3a2dec8d729f69a1f576fd0309}{above}} == \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_ad1a1b8cd58b67bae807fb76d3c1683f3}{regions\_}}.begin()) \{}
\DoxyCodeLine{112     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_ad1a1b8cd58b67bae807fb76d3c1683f3}{regions\_}}.insert(\mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a30661f3a2dec8d729f69a1f576fd0309}{above}}, new\_region);}
\DoxyCodeLine{113     \textcolor{keywordflow}{return} new\_region;}
\DoxyCodeLine{114   \}}
\DoxyCodeLine{115 }
\DoxyCodeLine{116   \textcolor{keyword}{auto} \mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a38474d965f18ce81888bd0d4c904ee6c}{below}} = \mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a30661f3a2dec8d729f69a1f576fd0309}{above}};}
\DoxyCodeLine{117   -\/-\/\mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a38474d965f18ce81888bd0d4c904ee6c}{below}};}
\DoxyCodeLine{118   \textcolor{comment}{// Consistency check:}}
\DoxyCodeLine{119   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a30661f3a2dec8d729f69a1f576fd0309}{above}} == \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_ad1a1b8cd58b67bae807fb76d3c1683f3}{regions\_}}.end() || \mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a38474d965f18ce81888bd0d4c904ee6c}{below}}-\/>end() < \mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a30661f3a2dec8d729f69a1f576fd0309}{above}}-\/>begin());}
\DoxyCodeLine{120 }
\DoxyCodeLine{121   \textcolor{comment}{// Adjacent to \{below\}: merge and done.}}
\DoxyCodeLine{122   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a38474d965f18ce81888bd0d4c904ee6c}{below}}-\/>end() == new\_region.begin()) \{}
\DoxyCodeLine{123     base::AddressRegion merged\_region\{\mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a38474d965f18ce81888bd0d4c904ee6c}{below}}-\/>begin(),}
\DoxyCodeLine{124                                       \mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a38474d965f18ce81888bd0d4c904ee6c}{below}}-\/>size() + new\_region.size()\};}
\DoxyCodeLine{125     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(merged\_region.end(), new\_region.end());}
\DoxyCodeLine{126     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_ad1a1b8cd58b67bae807fb76d3c1683f3}{regions\_}}.erase(\mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a38474d965f18ce81888bd0d4c904ee6c}{below}});}
\DoxyCodeLine{127     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_ad1a1b8cd58b67bae807fb76d3c1683f3}{regions\_}}.insert(\mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a30661f3a2dec8d729f69a1f576fd0309}{above}}, merged\_region);}
\DoxyCodeLine{128     \textcolor{keywordflow}{return} merged\_region;}
\DoxyCodeLine{129   \}}
\DoxyCodeLine{130 }
\DoxyCodeLine{131   \textcolor{comment}{// Not adjacent to any existing region: insert between \{below\} and \{above\}.}}
\DoxyCodeLine{132   \mbox{\hyperlink{src_2base_2logging_8h_af1a711c8d5520dff78858ddefd2ad668}{DCHECK\_LT}}(\mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a38474d965f18ce81888bd0d4c904ee6c}{below}}-\/>end(), new\_region.begin());}
\DoxyCodeLine{133   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_ad1a1b8cd58b67bae807fb76d3c1683f3}{regions\_}}.insert(\mbox{\hyperlink{namespacev8_1_1internal_a271f8ea99b7c0bbd771df015d4e4cf21a30661f3a2dec8d729f69a1f576fd0309}{above}}, new\_region);}
\DoxyCodeLine{134   \textcolor{keywordflow}{return} new\_region;}
\DoxyCodeLine{135 \}}

\end{DoxyCode}


References v8\+::internal\+::above, v8\+::base\+::\+Address\+Region\+::begin(), v8\+::internal\+::below, v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+EQ, DCHECK\+\_\+\+LT, v8\+::base\+::\+Address\+Region\+::end(), regions\+\_\+, and v8\+::base\+::\+Address\+Region\+::size().



Referenced by v8\+::internal\+::wasm\+::\+Wasm\+Code\+Allocator\+::\+Allocate\+For\+Code\+In\+Region(), v8\+::internal\+::wasm\+::\+Wasm\+Code\+Allocator\+::\+Free\+Code(), and v8\+::internal\+::wasm\+::\+Wasm\+Code\+Allocator\+::\+Init().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_afcf7458ff374176005a20707ab0fa556_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_afcf7458ff374176005a20707ab0fa556_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_a4ecfc9c00198fd717bd2a6a7068d95b8}\label{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_a4ecfc9c00198fd717bd2a6a7068d95b8}} 
\index{v8::internal::wasm::DisjointAllocationPool@{v8::internal::wasm::DisjointAllocationPool}!MOVE\_ONLY\_WITH\_DEFAULT\_CONSTRUCTORS@{MOVE\_ONLY\_WITH\_DEFAULT\_CONSTRUCTORS}}
\index{MOVE\_ONLY\_WITH\_DEFAULT\_CONSTRUCTORS@{MOVE\_ONLY\_WITH\_DEFAULT\_CONSTRUCTORS}!v8::internal::wasm::DisjointAllocationPool@{v8::internal::wasm::DisjointAllocationPool}}
\doxysubsubsection{\texorpdfstring{MOVE\_ONLY\_WITH\_DEFAULT\_CONSTRUCTORS()}{MOVE\_ONLY\_WITH\_DEFAULT\_CONSTRUCTORS()}}
{\footnotesize\ttfamily v8\+::internal\+::wasm\+::\+Disjoint\+Allocation\+Pool\+::\+MOVE\+\_\+\+ONLY\+\_\+\+WITH\+\_\+\+DEFAULT\+\_\+\+CONSTRUCTORS (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool}{Disjoint\+Allocation\+Pool}}}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_a9200d92cb26cb60769e4f5a5b6dbfc7c}\label{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_a9200d92cb26cb60769e4f5a5b6dbfc7c}} 
\index{v8::internal::wasm::DisjointAllocationPool@{v8::internal::wasm::DisjointAllocationPool}!regions@{regions}}
\index{regions@{regions}!v8::internal::wasm::DisjointAllocationPool@{v8::internal::wasm::DisjointAllocationPool}}
\doxysubsubsection{\texorpdfstring{regions()}{regions()}}
{\footnotesize\ttfamily const auto\& v8\+::internal\+::wasm\+::\+Disjoint\+Allocation\+Pool\+::regions (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 82 of file wasm-\/code-\/manager.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{82 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_ad1a1b8cd58b67bae807fb76d3c1683f3}{regions\_}}; \}}

\end{DoxyCode}


Referenced by v8\+::internal\+::wasm\+::\+Wasm\+Code\+Allocator\+::\+Free\+Code().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_a9200d92cb26cb60769e4f5a5b6dbfc7c_icgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_ad1a1b8cd58b67bae807fb76d3c1683f3}\label{classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_ad1a1b8cd58b67bae807fb76d3c1683f3}} 
\index{v8::internal::wasm::DisjointAllocationPool@{v8::internal::wasm::DisjointAllocationPool}!regions\_@{regions\_}}
\index{regions\_@{regions\_}!v8::internal::wasm::DisjointAllocationPool@{v8::internal::wasm::DisjointAllocationPool}}
\doxysubsubsection{\texorpdfstring{regions\_}{regions\_}}
{\footnotesize\ttfamily std\+::set$<$\mbox{\hyperlink{classv8_1_1base_1_1AddressRegion}{base\+::\+Address\+Region}}, \mbox{\hyperlink{structv8_1_1base_1_1AddressRegion_1_1StartAddressLess}{base\+::\+Address\+Region\+::\+Start\+Address\+Less}}$>$ v8\+::internal\+::wasm\+::\+Disjoint\+Allocation\+Pool\+::regions\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 85 of file wasm-\/code-\/manager.\+h.



Referenced by Allocate\+In\+Region(), and Merge().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/wasm/\mbox{\hyperlink{wasm-code-manager_8h}{wasm-\/code-\/manager.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/wasm/\mbox{\hyperlink{wasm-code-manager_8cc}{wasm-\/code-\/manager.\+cc}}\end{DoxyCompactItemize}
