\hypertarget{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-debug_8cc_03}{}\doxysection{v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{wasm-\/debug.cc\} Namespace Reference}
\label{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-debug_8cc_03}\index{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/debug.cc\rcurly{}@{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/debug.cc\rcurly{}}}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
using \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-debug_8cc_03_ae6f661242bd62a1acb8964c15fab98d0}{Import\+Export\+Key}} = std\+::pair$<$ \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb10c8534fdb3edc15e3f45d7ee6d547}{Import\+Export\+Kind\+Code}}, uint32\+\_\+t $>$
\end{DoxyCompactItemize}
\doxysubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-debug_8cc_03_a29eefc5c87ffa9a1afc686f90ba9df46}{Return\+Location}} \{ \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-debug_8cc_03_a29eefc5c87ffa9a1afc686f90ba9df46a81c19870cc6a76e60419906403f040ef}{k\+After\+Breakpoint}}
, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-debug_8cc_03_a29eefc5c87ffa9a1afc686f90ba9df46a825a06d56256f4fe35ce90afc4749201}{k\+After\+Wasm\+Call}}
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_adcd4ca657f5fbce4e3e61f860761470a}{Address}} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-debug_8cc_03_a05367cfa52ed5ff9ad797a13d637e16d}{Find\+New\+PC}} (Wasm\+Frame $\ast$frame, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCode}{Wasm\+Code}} $\ast$wasm\+\_\+code, \mbox{\hyperlink{classint}{int}} byte\+\_\+offset, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-debug_8cc_03_a29eefc5c87ffa9a1afc686f90ba9df46}{Return\+Location}} return\+\_\+location)
\end{DoxyCompactItemize}


\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-debug_8cc_03_ae6f661242bd62a1acb8964c15fab98d0}\label{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-debug_8cc_03_ae6f661242bd62a1acb8964c15fab98d0}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/debug.cc\rcurly{}@{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/debug.cc\rcurly{}}!ImportExportKey@{ImportExportKey}}
\index{ImportExportKey@{ImportExportKey}!v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/debug.cc\rcurly{}@{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/debug.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{ImportExportKey}{ImportExportKey}}
{\footnotesize\ttfamily using v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{wasm-\/debug.\+cc\}\+::\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-debug_8cc_03_ae6f661242bd62a1acb8964c15fab98d0}{Import\+Export\+Key}} = typedef std\+::pair$<$\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acb10c8534fdb3edc15e3f45d7ee6d547}{Import\+Export\+Kind\+Code}}, uint32\+\_\+t$>$}



Definition at line 39 of file wasm-\/debug.\+cc.



\doxysubsection{Enumeration Type Documentation}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-debug_8cc_03_a29eefc5c87ffa9a1afc686f90ba9df46}\label{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-debug_8cc_03_a29eefc5c87ffa9a1afc686f90ba9df46}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/debug.cc\rcurly{}@{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/debug.cc\rcurly{}}!ReturnLocation@{ReturnLocation}}
\index{ReturnLocation@{ReturnLocation}!v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/debug.cc\rcurly{}@{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/debug.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{ReturnLocation}{ReturnLocation}}
{\footnotesize\ttfamily enum v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{wasm-\/debug.\+cc\}\+::\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-debug_8cc_03_a29eefc5c87ffa9a1afc686f90ba9df46}{Return\+Location}}}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{kAfterBreakpoint@{kAfterBreakpoint}!v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/debug.cc\rcurly{}@{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/debug.cc\rcurly{}}}\index{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/debug.cc\rcurly{}@{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/debug.cc\rcurly{}}!kAfterBreakpoint@{kAfterBreakpoint}}}\mbox{\Hypertarget{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-debug_8cc_03_a29eefc5c87ffa9a1afc686f90ba9df46a81c19870cc6a76e60419906403f040ef}\label{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-debug_8cc_03_a29eefc5c87ffa9a1afc686f90ba9df46a81c19870cc6a76e60419906403f040ef}} 
k\+After\+Breakpoint&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{kAfterWasmCall@{kAfterWasmCall}!v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/debug.cc\rcurly{}@{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/debug.cc\rcurly{}}}\index{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/debug.cc\rcurly{}@{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/debug.cc\rcurly{}}!kAfterWasmCall@{kAfterWasmCall}}}\mbox{\Hypertarget{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-debug_8cc_03_a29eefc5c87ffa9a1afc686f90ba9df46a825a06d56256f4fe35ce90afc4749201}\label{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-debug_8cc_03_a29eefc5c87ffa9a1afc686f90ba9df46a825a06d56256f4fe35ce90afc4749201}} 
k\+After\+Wasm\+Call&\\
\hline

\end{DoxyEnumFields}


Definition at line 41 of file wasm-\/debug.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{41 \{ \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-debug_8cc_03_a29eefc5c87ffa9a1afc686f90ba9df46a81c19870cc6a76e60419906403f040ef}{kAfterBreakpoint}}, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-debug_8cc_03_a29eefc5c87ffa9a1afc686f90ba9df46a825a06d56256f4fe35ce90afc4749201}{kAfterWasmCall}} \};}

\end{DoxyCode}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-debug_8cc_03_a05367cfa52ed5ff9ad797a13d637e16d}\label{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-debug_8cc_03_a05367cfa52ed5ff9ad797a13d637e16d}} 
\index{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/debug.cc\rcurly{}@{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/debug.cc\rcurly{}}!FindNewPC@{FindNewPC}}
\index{FindNewPC@{FindNewPC}!v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/debug.cc\rcurly{}@{v8::internal::wasm::anonymous\_namespace\lcurly{}wasm-\/debug.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{FindNewPC()}{FindNewPC()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_adcd4ca657f5fbce4e3e61f860761470a}{Address}} v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{wasm-\/debug.\+cc\}\+::Find\+New\+PC (\begin{DoxyParamCaption}\item[{Wasm\+Frame $\ast$}]{frame,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCode}{Wasm\+Code}} $\ast$}]{wasm\+\_\+code,  }\item[{\mbox{\hyperlink{classint}{int}}}]{byte\+\_\+offset,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-debug_8cc_03_a29eefc5c87ffa9a1afc686f90ba9df46}{Return\+Location}}}]{return\+\_\+location }\end{DoxyParamCaption})}



Definition at line 43 of file wasm-\/debug.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{44                                                   \{}
\DoxyCodeLine{45   base::Vector<const uint8\_t> new\_pos\_table = wasm\_code-\/>source\_positions();}
\DoxyCodeLine{46 }
\DoxyCodeLine{47   \mbox{\hyperlink{src_2base_2logging_8h_a16b382527f19b805fc8f856668f2270b}{DCHECK\_LE}}(0, byte\_offset);}
\DoxyCodeLine{48 }
\DoxyCodeLine{49   \textcolor{comment}{// Find the size of the call instruction by computing the distance from the}}
\DoxyCodeLine{50   \textcolor{comment}{// source position entry to the return address.}}
\DoxyCodeLine{51   WasmCode* old\_code = frame-\/>wasm\_code();}
\DoxyCodeLine{52   \textcolor{keywordtype}{int} pc\_offset = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(frame-\/>pc() -\/ old\_code-\/>instruction\_start());}
\DoxyCodeLine{53   base::Vector<const uint8\_t> old\_pos\_table = old\_code-\/>source\_positions();}
\DoxyCodeLine{54   SourcePositionTableIterator old\_it(old\_pos\_table);}
\DoxyCodeLine{55   \textcolor{keywordtype}{int} call\_offset = -\/1;}
\DoxyCodeLine{56   \textcolor{keywordflow}{while} (!old\_it.done() \&\& old\_it.code\_offset() < pc\_offset) \{}
\DoxyCodeLine{57     call\_offset = old\_it.code\_offset();}
\DoxyCodeLine{58     old\_it.Advance();}
\DoxyCodeLine{59   \}}
\DoxyCodeLine{60   \mbox{\hyperlink{src_2base_2logging_8h_a16b382527f19b805fc8f856668f2270b}{DCHECK\_LE}}(0, call\_offset);}
\DoxyCodeLine{61   \textcolor{keywordtype}{int} call\_instruction\_size = pc\_offset -\/ call\_offset;}
\DoxyCodeLine{62 }
\DoxyCodeLine{63   \textcolor{comment}{// If \{return\_location == kAfterBreakpoint\} we search for the first code}}
\DoxyCodeLine{64   \textcolor{comment}{// offset which is marked as instruction (i.e. not the breakpoint).}}
\DoxyCodeLine{65   \textcolor{comment}{// If \{return\_location == kAfterWasmCall\} we return the last code offset}}
\DoxyCodeLine{66   \textcolor{comment}{// associated with the byte offset.}}
\DoxyCodeLine{67   SourcePositionTableIterator it(new\_pos\_table);}
\DoxyCodeLine{68   \textcolor{keywordflow}{while} (!it.done() \&\& it.source\_position().ScriptOffset() != byte\_offset) \{}
\DoxyCodeLine{69     it.Advance();}
\DoxyCodeLine{70   \}}
\DoxyCodeLine{71   \textcolor{keywordflow}{if} (return\_location == \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-debug_8cc_03_a29eefc5c87ffa9a1afc686f90ba9df46a81c19870cc6a76e60419906403f040ef}{kAfterBreakpoint}}) \{}
\DoxyCodeLine{72     \textcolor{keywordflow}{while} (!it.is\_statement()) it.Advance();}
\DoxyCodeLine{73     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(byte\_offset, it.source\_position().ScriptOffset());}
\DoxyCodeLine{74     \textcolor{keywordflow}{return} wasm\_code-\/>instruction\_start() + it.code\_offset() +}
\DoxyCodeLine{75            call\_instruction\_size;}
\DoxyCodeLine{76   \}}
\DoxyCodeLine{77 }
\DoxyCodeLine{78   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-debug_8cc_03_a29eefc5c87ffa9a1afc686f90ba9df46a825a06d56256f4fe35ce90afc4749201}{kAfterWasmCall}}, return\_location);}
\DoxyCodeLine{79   \textcolor{keywordtype}{int} code\_offset;}
\DoxyCodeLine{80   \textcolor{keywordflow}{do} \{}
\DoxyCodeLine{81     code\_offset = it.code\_offset();}
\DoxyCodeLine{82     it.Advance();}
\DoxyCodeLine{83   \} \textcolor{keywordflow}{while} (!it.done() \&\& it.source\_position().ScriptOffset() == byte\_offset);}
\DoxyCodeLine{84   \textcolor{keywordflow}{return} wasm\_code-\/>instruction\_start() + code\_offset + call\_instruction\_size;}
\DoxyCodeLine{85 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Source\+Position\+Table\+Iterator\+::\+Advance(), v8\+::internal\+::\+Source\+Position\+Table\+Iterator\+::code\+\_\+offset(), DCHECK\+\_\+\+EQ, DCHECK\+\_\+\+LE, v8\+::internal\+::\+Source\+Position\+Table\+Iterator\+::done(), v8\+::internal\+::wasm\+::\+Wasm\+Code\+::instruction\+\_\+start(), v8\+::internal\+::\+Source\+Position\+Table\+Iterator\+::is\+\_\+statement(), k\+After\+Breakpoint, k\+After\+Wasm\+Call, v8\+::internal\+::\+Source\+Position\+::\+Script\+Offset(), v8\+::internal\+::\+Source\+Position\+Table\+Iterator\+::source\+\_\+position(), and v8\+::internal\+::wasm\+::\+Wasm\+Code\+::source\+\_\+positions().



Referenced by v8\+::internal\+::wasm\+::\+Debug\+Info\+Impl\+::\+Update\+Return\+Address().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-debug_8cc_03_a05367cfa52ed5ff9ad797a13d637e16d_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-debug_8cc_03_a05367cfa52ed5ff9ad797a13d637e16d_icgraph}
\end{center}
\end{figure}
