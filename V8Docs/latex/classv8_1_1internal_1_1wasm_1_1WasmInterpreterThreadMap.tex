\hypertarget{classv8_1_1internal_1_1wasm_1_1WasmInterpreterThreadMap}{}\doxysection{v8\+::internal\+::wasm\+::Wasm\+Interpreter\+Thread\+Map Class Reference}
\label{classv8_1_1internal_1_1wasm_1_1WasmInterpreterThreadMap}\index{v8::internal::wasm::WasmInterpreterThreadMap@{v8::internal::wasm::WasmInterpreterThreadMap}}


{\ttfamily \#include $<$wasm-\/interpreter.\+h$>$}



Collaboration diagram for v8\+::internal\+::wasm\+::Wasm\+Interpreter\+Thread\+Map\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1WasmInterpreterThreadMap__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreterThread}{Wasm\+Interpreter\+Thread}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreterThreadMap_ad38ba33e350850c4d30f1c60e74a2330}{Get\+Current\+Interpreter\+Thread}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreterThreadMap_afb6cf1e706a2556ebb943b3a2f77b5a8}{Notify\+Isolate\+Disposal}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate)
\end{DoxyCompactItemize}
\doxysubsection*{Private Types}
\begin{DoxyCompactItemize}
\item 
typedef std\+::unordered\+\_\+map$<$ \mbox{\hyperlink{classint}{int}}, std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreterThread}{Wasm\+Interpreter\+Thread}} $>$ $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreterThreadMap_a570cab29c49bb6ecd5c35126ac42713b}{Thread\+Interpreter\+Map}}
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreterThreadMap_a570cab29c49bb6ecd5c35126ac42713b}{Thread\+Interpreter\+Map}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreterThreadMap_ac5b6de73cb4dd5b97e0a732622c7a0ec}{map\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1base_1_1Mutex}{base\+::\+Mutex}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreterThreadMap_a092d7ce04cd69a5959aba99f72c90115}{mutex\+\_\+}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 187 of file wasm-\/interpreter.\+h.



\doxysubsection{Member Typedef Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmInterpreterThreadMap_a570cab29c49bb6ecd5c35126ac42713b}\label{classv8_1_1internal_1_1wasm_1_1WasmInterpreterThreadMap_a570cab29c49bb6ecd5c35126ac42713b}} 
\index{v8::internal::wasm::WasmInterpreterThreadMap@{v8::internal::wasm::WasmInterpreterThreadMap}!ThreadInterpreterMap@{ThreadInterpreterMap}}
\index{ThreadInterpreterMap@{ThreadInterpreterMap}!v8::internal::wasm::WasmInterpreterThreadMap@{v8::internal::wasm::WasmInterpreterThreadMap}}
\doxysubsubsection{\texorpdfstring{ThreadInterpreterMap}{ThreadInterpreterMap}}
{\footnotesize\ttfamily typedef std\+::unordered\+\_\+map$<$\mbox{\hyperlink{classint}{int}}, std\+::unique\+\_\+ptr$<$\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreterThread}{Wasm\+Interpreter\+Thread}}$>$ $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreterThreadMap_a570cab29c49bb6ecd5c35126ac42713b}{v8\+::internal\+::wasm\+::\+Wasm\+Interpreter\+Thread\+Map\+::\+Thread\+Interpreter\+Map}}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 195 of file wasm-\/interpreter.\+h.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmInterpreterThreadMap_ad38ba33e350850c4d30f1c60e74a2330}\label{classv8_1_1internal_1_1wasm_1_1WasmInterpreterThreadMap_ad38ba33e350850c4d30f1c60e74a2330}} 
\index{v8::internal::wasm::WasmInterpreterThreadMap@{v8::internal::wasm::WasmInterpreterThreadMap}!GetCurrentInterpreterThread@{GetCurrentInterpreterThread}}
\index{GetCurrentInterpreterThread@{GetCurrentInterpreterThread}!v8::internal::wasm::WasmInterpreterThreadMap@{v8::internal::wasm::WasmInterpreterThreadMap}}
\doxysubsubsection{\texorpdfstring{GetCurrentInterpreterThread()}{GetCurrentInterpreterThread()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreterThread}{Wasm\+Interpreter\+Thread}} $\ast$ v8\+::internal\+::wasm\+::\+Wasm\+Interpreter\+Thread\+Map\+::\+Get\+Current\+Interpreter\+Thread (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate }\end{DoxyParamCaption})}



Definition at line 157 of file wasm-\/interpreter.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{158                       \{}
\DoxyCodeLine{159   \textcolor{keyword}{const} \textcolor{keywordtype}{int} current\_thread\_id = \mbox{\hyperlink{classv8_1_1internal_1_1ThreadId_a81c60d3524b03db2f154b7f682e7796f}{ThreadId::Current}}().\mbox{\hyperlink{classv8_1_1internal_1_1ThreadId_a17819bcea6f016c8bb0615d52c8a52aa}{ToInteger}}();}
\DoxyCodeLine{160   \{}
\DoxyCodeLine{161     \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{base::MutexGuard}} guard(\&\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreterThreadMap_a092d7ce04cd69a5959aba99f72c90115}{mutex\_}});}
\DoxyCodeLine{162 }
\DoxyCodeLine{163     \textcolor{keyword}{auto} it = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreterThreadMap_ac5b6de73cb4dd5b97e0a732622c7a0ec}{map\_}}.find(current\_thread\_id);}
\DoxyCodeLine{164     \textcolor{keywordflow}{if} (it == \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreterThreadMap_ac5b6de73cb4dd5b97e0a732622c7a0ec}{map\_}}.end()) \{}
\DoxyCodeLine{165       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreterThreadMap_ac5b6de73cb4dd5b97e0a732622c7a0ec}{map\_}}[current\_thread\_id] =}
\DoxyCodeLine{166           std::make\_unique<WasmInterpreterThread>(isolate);}
\DoxyCodeLine{167       it = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreterThreadMap_ac5b6de73cb4dd5b97e0a732622c7a0ec}{map\_}}.find(current\_thread\_id);}
\DoxyCodeLine{168     \}}
\DoxyCodeLine{169     \textcolor{keywordflow}{return} it-\/>second.get();}
\DoxyCodeLine{170   \}}
\DoxyCodeLine{171 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Thread\+Id\+::\+Current(), and v8\+::internal\+::\+Thread\+Id\+::\+To\+Integer().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1WasmInterpreterThreadMap_ad38ba33e350850c4d30f1c60e74a2330_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmInterpreterThreadMap_afb6cf1e706a2556ebb943b3a2f77b5a8}\label{classv8_1_1internal_1_1wasm_1_1WasmInterpreterThreadMap_afb6cf1e706a2556ebb943b3a2f77b5a8}} 
\index{v8::internal::wasm::WasmInterpreterThreadMap@{v8::internal::wasm::WasmInterpreterThreadMap}!NotifyIsolateDisposal@{NotifyIsolateDisposal}}
\index{NotifyIsolateDisposal@{NotifyIsolateDisposal}!v8::internal::wasm::WasmInterpreterThreadMap@{v8::internal::wasm::WasmInterpreterThreadMap}}
\doxysubsubsection{\texorpdfstring{NotifyIsolateDisposal()}{NotifyIsolateDisposal()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Wasm\+Interpreter\+Thread\+Map\+::\+Notify\+Isolate\+Disposal (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate }\end{DoxyParamCaption})}



Definition at line 173 of file wasm-\/interpreter.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{173                                                                      \{}
\DoxyCodeLine{174   \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{base::MutexGuard}} guard(\&\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreterThreadMap_a092d7ce04cd69a5959aba99f72c90115}{mutex\_}});}
\DoxyCodeLine{175 }
\DoxyCodeLine{176   \textcolor{keyword}{auto} it = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreterThreadMap_ac5b6de73cb4dd5b97e0a732622c7a0ec}{map\_}}.begin();}
\DoxyCodeLine{177   \textcolor{keywordflow}{while} (it != \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreterThreadMap_ac5b6de73cb4dd5b97e0a732622c7a0ec}{map\_}}.end()) \{}
\DoxyCodeLine{178     WasmInterpreterThread* thread = it-\/>second.get();}
\DoxyCodeLine{179     \textcolor{keywordflow}{if} (thread-\/>GetIsolate() == isolate) \{}
\DoxyCodeLine{180       thread-\/>TerminateExecutionTimers();}
\DoxyCodeLine{181       it = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreterThreadMap_ac5b6de73cb4dd5b97e0a732622c7a0ec}{map\_}}.erase(it);}
\DoxyCodeLine{182     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{183       ++it;}
\DoxyCodeLine{184     \}}
\DoxyCodeLine{185   \}}
\DoxyCodeLine{186 \}}

\end{DoxyCode}


References v8\+::internal\+::wasm\+::\+Wasm\+Interpreter\+Thread\+::\+Get\+Isolate(), and v8\+::internal\+::wasm\+::\+Wasm\+Interpreter\+Thread\+::\+Terminate\+Execution\+Timers().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1WasmInterpreterThreadMap_afb6cf1e706a2556ebb943b3a2f77b5a8_cgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmInterpreterThreadMap_ac5b6de73cb4dd5b97e0a732622c7a0ec}\label{classv8_1_1internal_1_1wasm_1_1WasmInterpreterThreadMap_ac5b6de73cb4dd5b97e0a732622c7a0ec}} 
\index{v8::internal::wasm::WasmInterpreterThreadMap@{v8::internal::wasm::WasmInterpreterThreadMap}!map\_@{map\_}}
\index{map\_@{map\_}!v8::internal::wasm::WasmInterpreterThreadMap@{v8::internal::wasm::WasmInterpreterThreadMap}}
\doxysubsubsection{\texorpdfstring{map\_}{map\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmInterpreterThreadMap_a570cab29c49bb6ecd5c35126ac42713b}{Thread\+Interpreter\+Map}} v8\+::internal\+::wasm\+::\+Wasm\+Interpreter\+Thread\+Map\+::map\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 196 of file wasm-\/interpreter.\+h.

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmInterpreterThreadMap_a092d7ce04cd69a5959aba99f72c90115}\label{classv8_1_1internal_1_1wasm_1_1WasmInterpreterThreadMap_a092d7ce04cd69a5959aba99f72c90115}} 
\index{v8::internal::wasm::WasmInterpreterThreadMap@{v8::internal::wasm::WasmInterpreterThreadMap}!mutex\_@{mutex\_}}
\index{mutex\_@{mutex\_}!v8::internal::wasm::WasmInterpreterThreadMap@{v8::internal::wasm::WasmInterpreterThreadMap}}
\doxysubsubsection{\texorpdfstring{mutex\_}{mutex\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1base_1_1Mutex}{base\+::\+Mutex}} v8\+::internal\+::wasm\+::\+Wasm\+Interpreter\+Thread\+Map\+::mutex\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 197 of file wasm-\/interpreter.\+h.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/wasm/interpreter/\mbox{\hyperlink{wasm-interpreter_8h}{wasm-\/interpreter.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/wasm/interpreter/\mbox{\hyperlink{wasm-interpreter_8cc}{wasm-\/interpreter.\+cc}}\end{DoxyCompactItemize}
